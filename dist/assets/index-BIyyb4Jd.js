(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))f(p);new MutationObserver(p=>{for(const y of p)if(y.type==="childList")for(const T of y.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&f(T)}).observe(document,{childList:!0,subtree:!0});function c(p){const y={};return p.integrity&&(y.integrity=p.integrity),p.referrerPolicy&&(y.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?y.credentials="include":p.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function f(p){if(p.ep)return;p.ep=!0;const y=c(p);fetch(p.href,y)}})();const Kl="181",rl={ROTATE:0,DOLLY:1,PAN:2},Qc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Hg=0,rd=1,jg=2,Ise=0,Nd=1,Pse=2,Ps=3,Cs=0,Zn=1,Nr=2,ws=0,Fs=1,pl=2,_l=3,hl=4,sl=5,Or=100,Dd=101,Id=102,qg=103,Xg=104,C1=200,Pd=201,Ld=202,kd=203,rf=204,sf=205,Fd=206,Bd=207,Ud=208,Od=209,Gd=210,Lse=211,kse=212,Fse=213,Bse=214,of=0,af=1,cf=2,fa=3,lf=4,uf=5,ff=6,pf=7,Af=0,$g=1,Yg=2,ns=0,Kg=1,Zg=2,Qg=3,Jg=4,Use=5,ex=6,tx=7,Zm="attached",Ose="detached",Vd=300,$o=301,Yo=302,dl=303,ml=304,ec=306,ks=1e3,Cr=1001,tc=1002,r2=1003,zd=1004,E1=1005,s2=1006,ol=1007,Vr=1008,M2=1009,Ya=1010,Ka=1011,xo=1012,Tr=1013,Kn=1014,P2=1015,Q2=1016,b_=1017,N_=1018,Bs=1020,D_=35902,I_=35899,Wd=1021,Ef=1022,R2=1023,Us=1026,Os=1027,bf=1028,Zl=1029,yo=1030,Ql=1031,Gse=1032,Jl=1033,oa=33776,aa=33777,ca=33778,la=33779,_f=35840,hf=35841,df=35842,mf=35843,gl=36196,xl=37492,yl=37496,vl=37808,Sl=37809,Tl=37810,Cl=37811,wl=37812,Ml=37813,Rl=37814,Al=37815,El=37816,bl=37817,Nl=37818,Dl=37819,Il=37820,Pl=37821,Ll=36492,sd=36494,od=36495,kl=36283,Fl=36284,Bl=36285,Ul=36286,h_=2300,ad=2301,jh=2302,Qm=2400,Jm=2401,e3=2402,Vse=2500,zse=3200,Wse=3201,P1=0,ix=1,vs="",w2="srgb",ic="srgb-linear",Ol="linear",b0="srgb",Hse=0,Ua=7680,jse=7681,qse=7682,Xse=7683,$se=34055,Yse=34056,Kse=5386,Zse=512,Qse=513,Jse=514,eoe=515,toe=516,ioe=517,noe=518,cd=519,Hd=512,P_=513,jd=514,L_=515,qd=516,Xd=517,$d=518,Yd=519,d_=35044,Jc=35048,t3="300 es",rs=2e3,pa=2001,jo={COMPUTE:"compute",RENDER:"render"};function Kd(v){for(let r=v.length-1;r>=0;--r)if(v[r]>=65535)return!0;return!1}function gf(v){return document.createElementNS("http://www.w3.org/1999/xhtml",v)}function nx(){const v=gf("canvas");return v.style.display="block",v}const i3={};function xf(...v){const r="THREE."+v.shift();console.log(r,...v)}function jt(...v){const r="THREE."+v.shift();console.warn(r,...v)}function i0(...v){const r="THREE."+v.shift();console.error(r,...v)}function c2(...v){const r=v.join(" ");r in i3||(i3[r]=!0,jt(...v))}function roe(v,r,c){return new Promise(function(f,p){function y(){switch(v.clientWaitSync(r,v.SYNC_FLUSH_COMMANDS_BIT,0)){case v.WAIT_FAILED:p();break;case v.TIMEOUT_EXPIRED:setTimeout(y,c);break;default:f()}}setTimeout(y,c)})}class Jo{addEventListener(r,c){this._listeners===void 0&&(this._listeners={});const f=this._listeners;f[r]===void 0&&(f[r]=[]),f[r].indexOf(c)===-1&&f[r].push(c)}hasEventListener(r,c){const f=this._listeners;return f===void 0?!1:f[r]!==void 0&&f[r].indexOf(c)!==-1}removeEventListener(r,c){const f=this._listeners;if(f===void 0)return;const p=f[r];if(p!==void 0){const y=p.indexOf(c);y!==-1&&p.splice(y,1)}}dispatchEvent(r){const c=this._listeners;if(c===void 0)return;const f=c[r.type];if(f!==void 0){r.target=this;const p=f.slice(0);for(let y=0,T=p.length;y<T;y++)p[y].call(this,r);r.target=null}}}const Br=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let n3=1234567;const Xu=Math.PI/180,nc=180/Math.PI;function vo(){const v=Math.random()*4294967295|0,r=Math.random()*4294967295|0,c=Math.random()*4294967295|0,f=Math.random()*4294967295|0;return(Br[v&255]+Br[v>>8&255]+Br[v>>16&255]+Br[v>>24&255]+"-"+Br[r&255]+Br[r>>8&255]+"-"+Br[r>>16&15|64]+Br[r>>24&255]+"-"+Br[c&63|128]+Br[c>>8&255]+"-"+Br[c>>16&255]+Br[c>>24&255]+Br[f&255]+Br[f>>8&255]+Br[f>>16&255]+Br[f>>24&255]).toLowerCase()}function Zi(v,r,c){return Math.max(r,Math.min(c,v))}function Zd(v,r){return(v%r+r)%r}function soe(v,r,c,f,p){return f+(v-r)*(p-f)/(c-r)}function ooe(v,r,c){return v!==r?(c-v)/(r-v):0}function $u(v,r,c){return(1-c)*v+c*r}function aoe(v,r,c,f){return $u(v,r,1-Math.exp(-c*f))}function coe(v,r=1){return r-Math.abs(Zd(v,r*2)-r)}function loe(v,r,c){return v<=r?0:v>=c?1:(v=(v-r)/(c-r),v*v*(3-2*v))}function uoe(v,r,c){return v<=r?0:v>=c?1:(v=(v-r)/(c-r),v*v*v*(v*(v*6-15)+10))}function foe(v,r){return v+Math.floor(Math.random()*(r-v+1))}function poe(v,r){return v+Math.random()*(r-v)}function _oe(v){return v*(.5-Math.random())}function hoe(v){v!==void 0&&(n3=v);let r=n3+=1831565813;return r=Math.imul(r^r>>>15,r|1),r^=r+Math.imul(r^r>>>7,r|61),((r^r>>>14)>>>0)/4294967296}function doe(v){return v*Xu}function moe(v){return v*nc}function goe(v){return(v&v-1)===0&&v!==0}function xoe(v){return Math.pow(2,Math.ceil(Math.log(v)/Math.LN2))}function yoe(v){return Math.pow(2,Math.floor(Math.log(v)/Math.LN2))}function voe(v,r,c,f,p){const y=Math.cos,T=Math.sin,R=y(c/2),b=T(c/2),P=y((r+f)/2),G=T((r+f)/2),j=y((r-f)/2),K=T((r-f)/2),Q=y((f-r)/2),ie=T((f-r)/2);switch(p){case"XYX":v.set(R*G,b*j,b*K,R*P);break;case"YZY":v.set(b*K,R*G,b*j,R*P);break;case"ZXZ":v.set(b*j,b*K,R*G,R*P);break;case"XZX":v.set(R*G,b*ie,b*Q,R*P);break;case"YXY":v.set(b*Q,R*G,b*ie,R*P);break;case"ZYZ":v.set(b*ie,b*Q,R*G,R*P);break;default:jt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+p)}}function is(v,r){switch(r.constructor){case Float32Array:return v;case Uint32Array:return v/4294967295;case Uint16Array:return v/65535;case Uint8Array:return v/255;case Int32Array:return Math.max(v/2147483647,-1);case Int16Array:return Math.max(v/32767,-1);case Int8Array:return Math.max(v/127,-1);default:throw new Error("Invalid component type.")}}function ji(v,r){switch(r.constructor){case Float32Array:return v;case Uint32Array:return Math.round(v*4294967295);case Uint16Array:return Math.round(v*65535);case Uint8Array:return Math.round(v*255);case Int32Array:return Math.round(v*2147483647);case Int16Array:return Math.round(v*32767);case Int8Array:return Math.round(v*127);default:throw new Error("Invalid component type.")}}const Ga={DEG2RAD:Xu,RAD2DEG:nc,generateUUID:vo,clamp:Zi,euclideanModulo:Zd,mapLinear:soe,inverseLerp:ooe,lerp:$u,damp:aoe,pingpong:coe,smoothstep:loe,smootherstep:uoe,randInt:foe,randFloat:poe,randFloatSpread:_oe,seededRandom:hoe,degToRad:doe,radToDeg:moe,isPowerOfTwo:goe,ceilPowerOfTwo:xoe,floorPowerOfTwo:yoe,setQuaternionFromProperEuler:voe,normalize:ji,denormalize:is};class O0{constructor(r=0,c=0){O0.prototype.isVector2=!0,this.x=r,this.y=c}get width(){return this.x}set width(r){this.x=r}get height(){return this.y}set height(r){this.y=r}set(r,c){return this.x=r,this.y=c,this}setScalar(r){return this.x=r,this.y=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setComponent(r,c){switch(r){case 0:this.x=c;break;case 1:this.y=c;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y)}copy(r){return this.x=r.x,this.y=r.y,this}add(r){return this.x+=r.x,this.y+=r.y,this}addScalar(r){return this.x+=r,this.y+=r,this}addVectors(r,c){return this.x=r.x+c.x,this.y=r.y+c.y,this}addScaledVector(r,c){return this.x+=r.x*c,this.y+=r.y*c,this}sub(r){return this.x-=r.x,this.y-=r.y,this}subScalar(r){return this.x-=r,this.y-=r,this}subVectors(r,c){return this.x=r.x-c.x,this.y=r.y-c.y,this}multiply(r){return this.x*=r.x,this.y*=r.y,this}multiplyScalar(r){return this.x*=r,this.y*=r,this}divide(r){return this.x/=r.x,this.y/=r.y,this}divideScalar(r){return this.multiplyScalar(1/r)}applyMatrix3(r){const c=this.x,f=this.y,p=r.elements;return this.x=p[0]*c+p[3]*f+p[6],this.y=p[1]*c+p[4]*f+p[7],this}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this}clamp(r,c){return this.x=Zi(this.x,r.x,c.x),this.y=Zi(this.y,r.y,c.y),this}clampScalar(r,c){return this.x=Zi(this.x,r,c),this.y=Zi(this.y,r,c),this}clampLength(r,c){const f=this.length();return this.divideScalar(f||1).multiplyScalar(Zi(f,r,c))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(r){return this.x*r.x+this.y*r.y}cross(r){return this.x*r.y-this.y*r.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(r){const c=Math.sqrt(this.lengthSq()*r.lengthSq());if(c===0)return Math.PI/2;const f=this.dot(r)/c;return Math.acos(Zi(f,-1,1))}distanceTo(r){return Math.sqrt(this.distanceToSquared(r))}distanceToSquared(r){const c=this.x-r.x,f=this.y-r.y;return c*c+f*f}manhattanDistanceTo(r){return Math.abs(this.x-r.x)+Math.abs(this.y-r.y)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,c){return this.x+=(r.x-this.x)*c,this.y+=(r.y-this.y)*c,this}lerpVectors(r,c,f){return this.x=r.x+(c.x-r.x)*f,this.y=r.y+(c.y-r.y)*f,this}equals(r){return r.x===this.x&&r.y===this.y}fromArray(r,c=0){return this.x=r[c],this.y=r[c+1],this}toArray(r=[],c=0){return r[c]=this.x,r[c+1]=this.y,r}fromBufferAttribute(r,c){return this.x=r.getX(c),this.y=r.getY(c),this}rotateAround(r,c){const f=Math.cos(c),p=Math.sin(c),y=this.x-r.x,T=this.y-r.y;return this.x=y*f-T*p+r.x,this.y=y*p+T*f+r.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class eo{constructor(r=0,c=0,f=0,p=1){this.isQuaternion=!0,this._x=r,this._y=c,this._z=f,this._w=p}static slerpFlat(r,c,f,p,y,T,R){let b=f[p+0],P=f[p+1],G=f[p+2],j=f[p+3],K=y[T+0],Q=y[T+1],ie=y[T+2],ce=y[T+3];if(R<=0){r[c+0]=b,r[c+1]=P,r[c+2]=G,r[c+3]=j;return}if(R>=1){r[c+0]=K,r[c+1]=Q,r[c+2]=ie,r[c+3]=ce;return}if(j!==ce||b!==K||P!==Q||G!==ie){let ue=b*K+P*Q+G*ie+j*ce;ue<0&&(K=-K,Q=-Q,ie=-ie,ce=-ce,ue=-ue);let se=1-R;if(ue<.9995){const Ne=Math.acos(ue),De=Math.sin(Ne);se=Math.sin(se*Ne)/De,R=Math.sin(R*Ne)/De,b=b*se+K*R,P=P*se+Q*R,G=G*se+ie*R,j=j*se+ce*R}else{b=b*se+K*R,P=P*se+Q*R,G=G*se+ie*R,j=j*se+ce*R;const Ne=1/Math.sqrt(b*b+P*P+G*G+j*j);b*=Ne,P*=Ne,G*=Ne,j*=Ne}}r[c]=b,r[c+1]=P,r[c+2]=G,r[c+3]=j}static multiplyQuaternionsFlat(r,c,f,p,y,T){const R=f[p],b=f[p+1],P=f[p+2],G=f[p+3],j=y[T],K=y[T+1],Q=y[T+2],ie=y[T+3];return r[c]=R*ie+G*j+b*Q-P*K,r[c+1]=b*ie+G*K+P*j-R*Q,r[c+2]=P*ie+G*Q+R*K-b*j,r[c+3]=G*ie-R*j-b*K-P*Q,r}get x(){return this._x}set x(r){this._x=r,this._onChangeCallback()}get y(){return this._y}set y(r){this._y=r,this._onChangeCallback()}get z(){return this._z}set z(r){this._z=r,this._onChangeCallback()}get w(){return this._w}set w(r){this._w=r,this._onChangeCallback()}set(r,c,f,p){return this._x=r,this._y=c,this._z=f,this._w=p,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(r){return this._x=r.x,this._y=r.y,this._z=r.z,this._w=r.w,this._onChangeCallback(),this}setFromEuler(r,c=!0){const f=r._x,p=r._y,y=r._z,T=r._order,R=Math.cos,b=Math.sin,P=R(f/2),G=R(p/2),j=R(y/2),K=b(f/2),Q=b(p/2),ie=b(y/2);switch(T){case"XYZ":this._x=K*G*j+P*Q*ie,this._y=P*Q*j-K*G*ie,this._z=P*G*ie+K*Q*j,this._w=P*G*j-K*Q*ie;break;case"YXZ":this._x=K*G*j+P*Q*ie,this._y=P*Q*j-K*G*ie,this._z=P*G*ie-K*Q*j,this._w=P*G*j+K*Q*ie;break;case"ZXY":this._x=K*G*j-P*Q*ie,this._y=P*Q*j+K*G*ie,this._z=P*G*ie+K*Q*j,this._w=P*G*j-K*Q*ie;break;case"ZYX":this._x=K*G*j-P*Q*ie,this._y=P*Q*j+K*G*ie,this._z=P*G*ie-K*Q*j,this._w=P*G*j+K*Q*ie;break;case"YZX":this._x=K*G*j+P*Q*ie,this._y=P*Q*j+K*G*ie,this._z=P*G*ie-K*Q*j,this._w=P*G*j-K*Q*ie;break;case"XZY":this._x=K*G*j-P*Q*ie,this._y=P*Q*j-K*G*ie,this._z=P*G*ie+K*Q*j,this._w=P*G*j+K*Q*ie;break;default:jt("Quaternion: .setFromEuler() encountered an unknown order: "+T)}return c===!0&&this._onChangeCallback(),this}setFromAxisAngle(r,c){const f=c/2,p=Math.sin(f);return this._x=r.x*p,this._y=r.y*p,this._z=r.z*p,this._w=Math.cos(f),this._onChangeCallback(),this}setFromRotationMatrix(r){const c=r.elements,f=c[0],p=c[4],y=c[8],T=c[1],R=c[5],b=c[9],P=c[2],G=c[6],j=c[10],K=f+R+j;if(K>0){const Q=.5/Math.sqrt(K+1);this._w=.25/Q,this._x=(G-b)*Q,this._y=(y-P)*Q,this._z=(T-p)*Q}else if(f>R&&f>j){const Q=2*Math.sqrt(1+f-R-j);this._w=(G-b)/Q,this._x=.25*Q,this._y=(p+T)/Q,this._z=(y+P)/Q}else if(R>j){const Q=2*Math.sqrt(1+R-f-j);this._w=(y-P)/Q,this._x=(p+T)/Q,this._y=.25*Q,this._z=(b+G)/Q}else{const Q=2*Math.sqrt(1+j-f-R);this._w=(T-p)/Q,this._x=(y+P)/Q,this._y=(b+G)/Q,this._z=.25*Q}return this._onChangeCallback(),this}setFromUnitVectors(r,c){let f=r.dot(c)+1;return f<1e-8?(f=0,Math.abs(r.x)>Math.abs(r.z)?(this._x=-r.y,this._y=r.x,this._z=0,this._w=f):(this._x=0,this._y=-r.z,this._z=r.y,this._w=f)):(this._x=r.y*c.z-r.z*c.y,this._y=r.z*c.x-r.x*c.z,this._z=r.x*c.y-r.y*c.x,this._w=f),this.normalize()}angleTo(r){return 2*Math.acos(Math.abs(Zi(this.dot(r),-1,1)))}rotateTowards(r,c){const f=this.angleTo(r);if(f===0)return this;const p=Math.min(1,c/f);return this.slerp(r,p),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(r){return this._x*r._x+this._y*r._y+this._z*r._z+this._w*r._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let r=this.length();return r===0?(this._x=0,this._y=0,this._z=0,this._w=1):(r=1/r,this._x=this._x*r,this._y=this._y*r,this._z=this._z*r,this._w=this._w*r),this._onChangeCallback(),this}multiply(r){return this.multiplyQuaternions(this,r)}premultiply(r){return this.multiplyQuaternions(r,this)}multiplyQuaternions(r,c){const f=r._x,p=r._y,y=r._z,T=r._w,R=c._x,b=c._y,P=c._z,G=c._w;return this._x=f*G+T*R+p*P-y*b,this._y=p*G+T*b+y*R-f*P,this._z=y*G+T*P+f*b-p*R,this._w=T*G-f*R-p*b-y*P,this._onChangeCallback(),this}slerp(r,c){if(c<=0)return this;if(c>=1)return this.copy(r);let f=r._x,p=r._y,y=r._z,T=r._w,R=this.dot(r);R<0&&(f=-f,p=-p,y=-y,T=-T,R=-R);let b=1-c;if(R<.9995){const P=Math.acos(R),G=Math.sin(P);b=Math.sin(b*P)/G,c=Math.sin(c*P)/G,this._x=this._x*b+f*c,this._y=this._y*b+p*c,this._z=this._z*b+y*c,this._w=this._w*b+T*c,this._onChangeCallback()}else this._x=this._x*b+f*c,this._y=this._y*b+p*c,this._z=this._z*b+y*c,this._w=this._w*b+T*c,this.normalize();return this}slerpQuaternions(r,c,f){return this.copy(r).slerp(c,f)}random(){const r=2*Math.PI*Math.random(),c=2*Math.PI*Math.random(),f=Math.random(),p=Math.sqrt(1-f),y=Math.sqrt(f);return this.set(p*Math.sin(r),p*Math.cos(r),y*Math.sin(c),y*Math.cos(c))}equals(r){return r._x===this._x&&r._y===this._y&&r._z===this._z&&r._w===this._w}fromArray(r,c=0){return this._x=r[c],this._y=r[c+1],this._z=r[c+2],this._w=r[c+3],this._onChangeCallback(),this}toArray(r=[],c=0){return r[c]=this._x,r[c+1]=this._y,r[c+2]=this._z,r[c+3]=this._w,r}fromBufferAttribute(r,c){return this._x=r.getX(c),this._y=r.getY(c),this._z=r.getZ(c),this._w=r.getW(c),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(r){return this._onChangeCallback=r,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class nt{constructor(r=0,c=0,f=0){nt.prototype.isVector3=!0,this.x=r,this.y=c,this.z=f}set(r,c,f){return f===void 0&&(f=this.z),this.x=r,this.y=c,this.z=f,this}setScalar(r){return this.x=r,this.y=r,this.z=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setZ(r){return this.z=r,this}setComponent(r,c){switch(r){case 0:this.x=c;break;case 1:this.y=c;break;case 2:this.z=c;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(r){return this.x=r.x,this.y=r.y,this.z=r.z,this}add(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z,this}addScalar(r){return this.x+=r,this.y+=r,this.z+=r,this}addVectors(r,c){return this.x=r.x+c.x,this.y=r.y+c.y,this.z=r.z+c.z,this}addScaledVector(r,c){return this.x+=r.x*c,this.y+=r.y*c,this.z+=r.z*c,this}sub(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z,this}subScalar(r){return this.x-=r,this.y-=r,this.z-=r,this}subVectors(r,c){return this.x=r.x-c.x,this.y=r.y-c.y,this.z=r.z-c.z,this}multiply(r){return this.x*=r.x,this.y*=r.y,this.z*=r.z,this}multiplyScalar(r){return this.x*=r,this.y*=r,this.z*=r,this}multiplyVectors(r,c){return this.x=r.x*c.x,this.y=r.y*c.y,this.z=r.z*c.z,this}applyEuler(r){return this.applyQuaternion(r3.setFromEuler(r))}applyAxisAngle(r,c){return this.applyQuaternion(r3.setFromAxisAngle(r,c))}applyMatrix3(r){const c=this.x,f=this.y,p=this.z,y=r.elements;return this.x=y[0]*c+y[3]*f+y[6]*p,this.y=y[1]*c+y[4]*f+y[7]*p,this.z=y[2]*c+y[5]*f+y[8]*p,this}applyNormalMatrix(r){return this.applyMatrix3(r).normalize()}applyMatrix4(r){const c=this.x,f=this.y,p=this.z,y=r.elements,T=1/(y[3]*c+y[7]*f+y[11]*p+y[15]);return this.x=(y[0]*c+y[4]*f+y[8]*p+y[12])*T,this.y=(y[1]*c+y[5]*f+y[9]*p+y[13])*T,this.z=(y[2]*c+y[6]*f+y[10]*p+y[14])*T,this}applyQuaternion(r){const c=this.x,f=this.y,p=this.z,y=r.x,T=r.y,R=r.z,b=r.w,P=2*(T*p-R*f),G=2*(R*c-y*p),j=2*(y*f-T*c);return this.x=c+b*P+T*j-R*G,this.y=f+b*G+R*P-y*j,this.z=p+b*j+y*G-T*P,this}project(r){return this.applyMatrix4(r.matrixWorldInverse).applyMatrix4(r.projectionMatrix)}unproject(r){return this.applyMatrix4(r.projectionMatrixInverse).applyMatrix4(r.matrixWorld)}transformDirection(r){const c=this.x,f=this.y,p=this.z,y=r.elements;return this.x=y[0]*c+y[4]*f+y[8]*p,this.y=y[1]*c+y[5]*f+y[9]*p,this.z=y[2]*c+y[6]*f+y[10]*p,this.normalize()}divide(r){return this.x/=r.x,this.y/=r.y,this.z/=r.z,this}divideScalar(r){return this.multiplyScalar(1/r)}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this.z=Math.min(this.z,r.z),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this.z=Math.max(this.z,r.z),this}clamp(r,c){return this.x=Zi(this.x,r.x,c.x),this.y=Zi(this.y,r.y,c.y),this.z=Zi(this.z,r.z,c.z),this}clampScalar(r,c){return this.x=Zi(this.x,r,c),this.y=Zi(this.y,r,c),this.z=Zi(this.z,r,c),this}clampLength(r,c){const f=this.length();return this.divideScalar(f||1).multiplyScalar(Zi(f,r,c))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(r){return this.x*r.x+this.y*r.y+this.z*r.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,c){return this.x+=(r.x-this.x)*c,this.y+=(r.y-this.y)*c,this.z+=(r.z-this.z)*c,this}lerpVectors(r,c,f){return this.x=r.x+(c.x-r.x)*f,this.y=r.y+(c.y-r.y)*f,this.z=r.z+(c.z-r.z)*f,this}cross(r){return this.crossVectors(this,r)}crossVectors(r,c){const f=r.x,p=r.y,y=r.z,T=c.x,R=c.y,b=c.z;return this.x=p*b-y*R,this.y=y*T-f*b,this.z=f*R-p*T,this}projectOnVector(r){const c=r.lengthSq();if(c===0)return this.set(0,0,0);const f=r.dot(this)/c;return this.copy(r).multiplyScalar(f)}projectOnPlane(r){return qh.copy(this).projectOnVector(r),this.sub(qh)}reflect(r){return this.sub(qh.copy(r).multiplyScalar(2*this.dot(r)))}angleTo(r){const c=Math.sqrt(this.lengthSq()*r.lengthSq());if(c===0)return Math.PI/2;const f=this.dot(r)/c;return Math.acos(Zi(f,-1,1))}distanceTo(r){return Math.sqrt(this.distanceToSquared(r))}distanceToSquared(r){const c=this.x-r.x,f=this.y-r.y,p=this.z-r.z;return c*c+f*f+p*p}manhattanDistanceTo(r){return Math.abs(this.x-r.x)+Math.abs(this.y-r.y)+Math.abs(this.z-r.z)}setFromSpherical(r){return this.setFromSphericalCoords(r.radius,r.phi,r.theta)}setFromSphericalCoords(r,c,f){const p=Math.sin(c)*r;return this.x=p*Math.sin(f),this.y=Math.cos(c)*r,this.z=p*Math.cos(f),this}setFromCylindrical(r){return this.setFromCylindricalCoords(r.radius,r.theta,r.y)}setFromCylindricalCoords(r,c,f){return this.x=r*Math.sin(c),this.y=f,this.z=r*Math.cos(c),this}setFromMatrixPosition(r){const c=r.elements;return this.x=c[12],this.y=c[13],this.z=c[14],this}setFromMatrixScale(r){const c=this.setFromMatrixColumn(r,0).length(),f=this.setFromMatrixColumn(r,1).length(),p=this.setFromMatrixColumn(r,2).length();return this.x=c,this.y=f,this.z=p,this}setFromMatrixColumn(r,c){return this.fromArray(r.elements,c*4)}setFromMatrix3Column(r,c){return this.fromArray(r.elements,c*3)}setFromEuler(r){return this.x=r._x,this.y=r._y,this.z=r._z,this}setFromColor(r){return this.x=r.r,this.y=r.g,this.z=r.b,this}equals(r){return r.x===this.x&&r.y===this.y&&r.z===this.z}fromArray(r,c=0){return this.x=r[c],this.y=r[c+1],this.z=r[c+2],this}toArray(r=[],c=0){return r[c]=this.x,r[c+1]=this.y,r[c+2]=this.z,r}fromBufferAttribute(r,c){return this.x=r.getX(c),this.y=r.getY(c),this.z=r.getZ(c),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const r=Math.random()*Math.PI*2,c=Math.random()*2-1,f=Math.sqrt(1-c*c);return this.x=f*Math.cos(r),this.y=c,this.z=f*Math.sin(r),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const qh=new nt,r3=new eo;class Pi{constructor(r,c,f,p,y,T,R,b,P){Pi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],r!==void 0&&this.set(r,c,f,p,y,T,R,b,P)}set(r,c,f,p,y,T,R,b,P){const G=this.elements;return G[0]=r,G[1]=p,G[2]=R,G[3]=c,G[4]=y,G[5]=b,G[6]=f,G[7]=T,G[8]=P,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(r){const c=this.elements,f=r.elements;return c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=f[6],c[7]=f[7],c[8]=f[8],this}extractBasis(r,c,f){return r.setFromMatrix3Column(this,0),c.setFromMatrix3Column(this,1),f.setFromMatrix3Column(this,2),this}setFromMatrix4(r){const c=r.elements;return this.set(c[0],c[4],c[8],c[1],c[5],c[9],c[2],c[6],c[10]),this}multiply(r){return this.multiplyMatrices(this,r)}premultiply(r){return this.multiplyMatrices(r,this)}multiplyMatrices(r,c){const f=r.elements,p=c.elements,y=this.elements,T=f[0],R=f[3],b=f[6],P=f[1],G=f[4],j=f[7],K=f[2],Q=f[5],ie=f[8],ce=p[0],ue=p[3],se=p[6],Ne=p[1],De=p[4],Oe=p[7],je=p[2],Be=p[5],We=p[8];return y[0]=T*ce+R*Ne+b*je,y[3]=T*ue+R*De+b*Be,y[6]=T*se+R*Oe+b*We,y[1]=P*ce+G*Ne+j*je,y[4]=P*ue+G*De+j*Be,y[7]=P*se+G*Oe+j*We,y[2]=K*ce+Q*Ne+ie*je,y[5]=K*ue+Q*De+ie*Be,y[8]=K*se+Q*Oe+ie*We,this}multiplyScalar(r){const c=this.elements;return c[0]*=r,c[3]*=r,c[6]*=r,c[1]*=r,c[4]*=r,c[7]*=r,c[2]*=r,c[5]*=r,c[8]*=r,this}determinant(){const r=this.elements,c=r[0],f=r[1],p=r[2],y=r[3],T=r[4],R=r[5],b=r[6],P=r[7],G=r[8];return c*T*G-c*R*P-f*y*G+f*R*b+p*y*P-p*T*b}invert(){const r=this.elements,c=r[0],f=r[1],p=r[2],y=r[3],T=r[4],R=r[5],b=r[6],P=r[7],G=r[8],j=G*T-R*P,K=R*b-G*y,Q=P*y-T*b,ie=c*j+f*K+p*Q;if(ie===0)return this.set(0,0,0,0,0,0,0,0,0);const ce=1/ie;return r[0]=j*ce,r[1]=(p*P-G*f)*ce,r[2]=(R*f-p*T)*ce,r[3]=K*ce,r[4]=(G*c-p*b)*ce,r[5]=(p*y-R*c)*ce,r[6]=Q*ce,r[7]=(f*b-P*c)*ce,r[8]=(T*c-f*y)*ce,this}transpose(){let r;const c=this.elements;return r=c[1],c[1]=c[3],c[3]=r,r=c[2],c[2]=c[6],c[6]=r,r=c[5],c[5]=c[7],c[7]=r,this}getNormalMatrix(r){return this.setFromMatrix4(r).invert().transpose()}transposeIntoArray(r){const c=this.elements;return r[0]=c[0],r[1]=c[3],r[2]=c[6],r[3]=c[1],r[4]=c[4],r[5]=c[7],r[6]=c[2],r[7]=c[5],r[8]=c[8],this}setUvTransform(r,c,f,p,y,T,R){const b=Math.cos(y),P=Math.sin(y);return this.set(f*b,f*P,-f*(b*T+P*R)+T+r,-p*P,p*b,-p*(-P*T+b*R)+R+c,0,0,1),this}scale(r,c){return this.premultiply(Xh.makeScale(r,c)),this}rotate(r){return this.premultiply(Xh.makeRotation(-r)),this}translate(r,c){return this.premultiply(Xh.makeTranslation(r,c)),this}makeTranslation(r,c){return r.isVector2?this.set(1,0,r.x,0,1,r.y,0,0,1):this.set(1,0,r,0,1,c,0,0,1),this}makeRotation(r){const c=Math.cos(r),f=Math.sin(r);return this.set(c,-f,0,f,c,0,0,0,1),this}makeScale(r,c){return this.set(r,0,0,0,c,0,0,0,1),this}equals(r){const c=this.elements,f=r.elements;for(let p=0;p<9;p++)if(c[p]!==f[p])return!1;return!0}fromArray(r,c=0){for(let f=0;f<9;f++)this.elements[f]=r[f+c];return this}toArray(r=[],c=0){const f=this.elements;return r[c]=f[0],r[c+1]=f[1],r[c+2]=f[2],r[c+3]=f[3],r[c+4]=f[4],r[c+5]=f[5],r[c+6]=f[6],r[c+7]=f[7],r[c+8]=f[8],r}clone(){return new this.constructor().fromArray(this.elements)}}const Xh=new Pi,s3=new Pi().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),o3=new Pi().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Soe(){const v={enabled:!0,workingColorSpace:ic,spaces:{},convert:function(p,y,T){return this.enabled===!1||y===T||!y||!T||(this.spaces[y].transfer===b0&&(p.r=N1(p.r),p.g=N1(p.g),p.b=N1(p.b)),this.spaces[y].primaries!==this.spaces[T].primaries&&(p.applyMatrix3(this.spaces[y].toXYZ),p.applyMatrix3(this.spaces[T].fromXYZ)),this.spaces[T].transfer===b0&&(p.r=al(p.r),p.g=al(p.g),p.b=al(p.b))),p},workingToColorSpace:function(p,y){return this.convert(p,this.workingColorSpace,y)},colorSpaceToWorking:function(p,y){return this.convert(p,y,this.workingColorSpace)},getPrimaries:function(p){return this.spaces[p].primaries},getTransfer:function(p){return p===vs?Ol:this.spaces[p].transfer},getToneMappingMode:function(p){return this.spaces[p].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(p,y=this.workingColorSpace){return p.fromArray(this.spaces[y].luminanceCoefficients)},define:function(p){Object.assign(this.spaces,p)},_getMatrix:function(p,y,T){return p.copy(this.spaces[y].toXYZ).multiply(this.spaces[T].fromXYZ)},_getDrawingBufferColorSpace:function(p){return this.spaces[p].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(p=this.workingColorSpace){return this.spaces[p].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(p,y){return c2("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),v.workingToColorSpace(p,y)},toWorkingColorSpace:function(p,y){return c2("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),v.colorSpaceToWorking(p,y)}},r=[.64,.33,.3,.6,.15,.06],c=[.2126,.7152,.0722],f=[.3127,.329];return v.define({[ic]:{primaries:r,whitePoint:f,transfer:Ol,toXYZ:s3,fromXYZ:o3,luminanceCoefficients:c,workingColorSpaceConfig:{unpackColorSpace:w2},outputColorSpaceConfig:{drawingBufferColorSpace:w2}},[w2]:{primaries:r,whitePoint:f,transfer:b0,toXYZ:s3,fromXYZ:o3,luminanceCoefficients:c,outputColorSpaceConfig:{drawingBufferColorSpace:w2}}}),v}const pi=Soe();function N1(v){return v<.04045?v*.0773993808:Math.pow(v*.9478672986+.0521327014,2.4)}function al(v){return v<.0031308?v*12.92:1.055*Math.pow(v,.41666)-.055}let Dc;class Toe{static getDataURL(r,c="image/png"){if(/^data:/i.test(r.src)||typeof HTMLCanvasElement>"u")return r.src;let f;if(r instanceof HTMLCanvasElement)f=r;else{Dc===void 0&&(Dc=gf("canvas")),Dc.width=r.width,Dc.height=r.height;const p=Dc.getContext("2d");r instanceof ImageData?p.putImageData(r,0,0):p.drawImage(r,0,0,r.width,r.height),f=Dc}return f.toDataURL(c)}static sRGBToLinear(r){if(typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap){const c=gf("canvas");c.width=r.width,c.height=r.height;const f=c.getContext("2d");f.drawImage(r,0,0,r.width,r.height);const p=f.getImageData(0,0,r.width,r.height),y=p.data;for(let T=0;T<y.length;T++)y[T]=N1(y[T]/255)*255;return f.putImageData(p,0,0),c}else if(r.data){const c=r.data.slice(0);for(let f=0;f<c.length;f++)c instanceof Uint8Array||c instanceof Uint8ClampedArray?c[f]=Math.floor(N1(c[f]/255)*255):c[f]=N1(c[f]);return{data:c,width:r.width,height:r.height}}else return jt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),r}}let Coe=0;class Qd{constructor(r=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Coe++}),this.uuid=vo(),this.data=r,this.dataReady=!0,this.version=0}getSize(r){const c=this.data;return typeof HTMLVideoElement<"u"&&c instanceof HTMLVideoElement?r.set(c.videoWidth,c.videoHeight,0):c instanceof VideoFrame?r.set(c.displayHeight,c.displayWidth,0):c!==null?r.set(c.width,c.height,c.depth||0):r.set(0,0,0),r}set needsUpdate(r){r===!0&&this.version++}toJSON(r){const c=r===void 0||typeof r=="string";if(!c&&r.images[this.uuid]!==void 0)return r.images[this.uuid];const f={uuid:this.uuid,url:""},p=this.data;if(p!==null){let y;if(Array.isArray(p)){y=[];for(let T=0,R=p.length;T<R;T++)p[T].isDataTexture?y.push($h(p[T].image)):y.push($h(p[T]))}else y=$h(p);f.url=y}return c||(r.images[this.uuid]=f),f}}function $h(v){return typeof HTMLImageElement<"u"&&v instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&v instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&v instanceof ImageBitmap?Toe.getDataURL(v):v.data?{data:Array.from(v.data),width:v.width,height:v.height,type:v.data.constructor.name}:(jt("Texture: Unable to serialize Texture."),{})}let woe=0;const Yh=new nt;class J2 extends Jo{constructor(r=J2.DEFAULT_IMAGE,c=J2.DEFAULT_MAPPING,f=Cr,p=Cr,y=s2,T=Vr,R=R2,b=M2,P=J2.DEFAULT_ANISOTROPY,G=vs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:woe++}),this.uuid=vo(),this.name="",this.source=new Qd(r),this.mipmaps=[],this.mapping=c,this.channel=0,this.wrapS=f,this.wrapT=p,this.magFilter=y,this.minFilter=T,this.anisotropy=P,this.format=R,this.internalFormat=null,this.type=b,this.offset=new O0(0,0),this.repeat=new O0(1,1),this.center=new O0(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Pi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=G,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(r&&r.depth&&r.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Yh).x}get height(){return this.source.getSize(Yh).y}get depth(){return this.source.getSize(Yh).z}get image(){return this.source.data}set image(r=null){this.source.data=r}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(r,c){this.updateRanges.push({start:r,count:c})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(r){return this.name=r.name,this.source=r.source,this.mipmaps=r.mipmaps.slice(0),this.mapping=r.mapping,this.channel=r.channel,this.wrapS=r.wrapS,this.wrapT=r.wrapT,this.magFilter=r.magFilter,this.minFilter=r.minFilter,this.anisotropy=r.anisotropy,this.format=r.format,this.internalFormat=r.internalFormat,this.type=r.type,this.offset.copy(r.offset),this.repeat.copy(r.repeat),this.center.copy(r.center),this.rotation=r.rotation,this.matrixAutoUpdate=r.matrixAutoUpdate,this.matrix.copy(r.matrix),this.generateMipmaps=r.generateMipmaps,this.premultiplyAlpha=r.premultiplyAlpha,this.flipY=r.flipY,this.unpackAlignment=r.unpackAlignment,this.colorSpace=r.colorSpace,this.renderTarget=r.renderTarget,this.isRenderTargetTexture=r.isRenderTargetTexture,this.isArrayTexture=r.isArrayTexture,this.userData=JSON.parse(JSON.stringify(r.userData)),this.needsUpdate=!0,this}setValues(r){for(const c in r){const f=r[c];if(f===void 0){jt(`Texture.setValues(): parameter '${c}' has value of undefined.`);continue}const p=this[c];if(p===void 0){jt(`Texture.setValues(): property '${c}' does not exist.`);continue}p&&f&&p.isVector2&&f.isVector2||p&&f&&p.isVector3&&f.isVector3||p&&f&&p.isMatrix3&&f.isMatrix3?p.copy(f):this[c]=f}}toJSON(r){const c=r===void 0||typeof r=="string";if(!c&&r.textures[this.uuid]!==void 0)return r.textures[this.uuid];const f={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(r).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(f.userData=this.userData),c||(r.textures[this.uuid]=f),f}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(r){if(this.mapping!==Vd)return r;if(r.applyMatrix3(this.matrix),r.x<0||r.x>1)switch(this.wrapS){case ks:r.x=r.x-Math.floor(r.x);break;case Cr:r.x=r.x<0?0:1;break;case tc:Math.abs(Math.floor(r.x)%2)===1?r.x=Math.ceil(r.x)-r.x:r.x=r.x-Math.floor(r.x);break}if(r.y<0||r.y>1)switch(this.wrapT){case ks:r.y=r.y-Math.floor(r.y);break;case Cr:r.y=r.y<0?0:1;break;case tc:Math.abs(Math.floor(r.y)%2)===1?r.y=Math.ceil(r.y)-r.y:r.y=r.y-Math.floor(r.y);break}return this.flipY&&(r.y=1-r.y),r}set needsUpdate(r){r===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(r){r===!0&&this.pmremVersion++}}J2.DEFAULT_IMAGE=null;J2.DEFAULT_MAPPING=Vd;J2.DEFAULT_ANISOTROPY=1;class hi{constructor(r=0,c=0,f=0,p=1){hi.prototype.isVector4=!0,this.x=r,this.y=c,this.z=f,this.w=p}get width(){return this.z}set width(r){this.z=r}get height(){return this.w}set height(r){this.w=r}set(r,c,f,p){return this.x=r,this.y=c,this.z=f,this.w=p,this}setScalar(r){return this.x=r,this.y=r,this.z=r,this.w=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setZ(r){return this.z=r,this}setW(r){return this.w=r,this}setComponent(r,c){switch(r){case 0:this.x=c;break;case 1:this.y=c;break;case 2:this.z=c;break;case 3:this.w=c;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(r){return this.x=r.x,this.y=r.y,this.z=r.z,this.w=r.w!==void 0?r.w:1,this}add(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z,this.w+=r.w,this}addScalar(r){return this.x+=r,this.y+=r,this.z+=r,this.w+=r,this}addVectors(r,c){return this.x=r.x+c.x,this.y=r.y+c.y,this.z=r.z+c.z,this.w=r.w+c.w,this}addScaledVector(r,c){return this.x+=r.x*c,this.y+=r.y*c,this.z+=r.z*c,this.w+=r.w*c,this}sub(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z,this.w-=r.w,this}subScalar(r){return this.x-=r,this.y-=r,this.z-=r,this.w-=r,this}subVectors(r,c){return this.x=r.x-c.x,this.y=r.y-c.y,this.z=r.z-c.z,this.w=r.w-c.w,this}multiply(r){return this.x*=r.x,this.y*=r.y,this.z*=r.z,this.w*=r.w,this}multiplyScalar(r){return this.x*=r,this.y*=r,this.z*=r,this.w*=r,this}applyMatrix4(r){const c=this.x,f=this.y,p=this.z,y=this.w,T=r.elements;return this.x=T[0]*c+T[4]*f+T[8]*p+T[12]*y,this.y=T[1]*c+T[5]*f+T[9]*p+T[13]*y,this.z=T[2]*c+T[6]*f+T[10]*p+T[14]*y,this.w=T[3]*c+T[7]*f+T[11]*p+T[15]*y,this}divide(r){return this.x/=r.x,this.y/=r.y,this.z/=r.z,this.w/=r.w,this}divideScalar(r){return this.multiplyScalar(1/r)}setAxisAngleFromQuaternion(r){this.w=2*Math.acos(r.w);const c=Math.sqrt(1-r.w*r.w);return c<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=r.x/c,this.y=r.y/c,this.z=r.z/c),this}setAxisAngleFromRotationMatrix(r){let c,f,p,y;const b=r.elements,P=b[0],G=b[4],j=b[8],K=b[1],Q=b[5],ie=b[9],ce=b[2],ue=b[6],se=b[10];if(Math.abs(G-K)<.01&&Math.abs(j-ce)<.01&&Math.abs(ie-ue)<.01){if(Math.abs(G+K)<.1&&Math.abs(j+ce)<.1&&Math.abs(ie+ue)<.1&&Math.abs(P+Q+se-3)<.1)return this.set(1,0,0,0),this;c=Math.PI;const De=(P+1)/2,Oe=(Q+1)/2,je=(se+1)/2,Be=(G+K)/4,We=(j+ce)/4,$e=(ie+ue)/4;return De>Oe&&De>je?De<.01?(f=0,p=.707106781,y=.707106781):(f=Math.sqrt(De),p=Be/f,y=We/f):Oe>je?Oe<.01?(f=.707106781,p=0,y=.707106781):(p=Math.sqrt(Oe),f=Be/p,y=$e/p):je<.01?(f=.707106781,p=.707106781,y=0):(y=Math.sqrt(je),f=We/y,p=$e/y),this.set(f,p,y,c),this}let Ne=Math.sqrt((ue-ie)*(ue-ie)+(j-ce)*(j-ce)+(K-G)*(K-G));return Math.abs(Ne)<.001&&(Ne=1),this.x=(ue-ie)/Ne,this.y=(j-ce)/Ne,this.z=(K-G)/Ne,this.w=Math.acos((P+Q+se-1)/2),this}setFromMatrixPosition(r){const c=r.elements;return this.x=c[12],this.y=c[13],this.z=c[14],this.w=c[15],this}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this.z=Math.min(this.z,r.z),this.w=Math.min(this.w,r.w),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this.z=Math.max(this.z,r.z),this.w=Math.max(this.w,r.w),this}clamp(r,c){return this.x=Zi(this.x,r.x,c.x),this.y=Zi(this.y,r.y,c.y),this.z=Zi(this.z,r.z,c.z),this.w=Zi(this.w,r.w,c.w),this}clampScalar(r,c){return this.x=Zi(this.x,r,c),this.y=Zi(this.y,r,c),this.z=Zi(this.z,r,c),this.w=Zi(this.w,r,c),this}clampLength(r,c){const f=this.length();return this.divideScalar(f||1).multiplyScalar(Zi(f,r,c))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(r){return this.x*r.x+this.y*r.y+this.z*r.z+this.w*r.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,c){return this.x+=(r.x-this.x)*c,this.y+=(r.y-this.y)*c,this.z+=(r.z-this.z)*c,this.w+=(r.w-this.w)*c,this}lerpVectors(r,c,f){return this.x=r.x+(c.x-r.x)*f,this.y=r.y+(c.y-r.y)*f,this.z=r.z+(c.z-r.z)*f,this.w=r.w+(c.w-r.w)*f,this}equals(r){return r.x===this.x&&r.y===this.y&&r.z===this.z&&r.w===this.w}fromArray(r,c=0){return this.x=r[c],this.y=r[c+1],this.z=r[c+2],this.w=r[c+3],this}toArray(r=[],c=0){return r[c]=this.x,r[c+1]=this.y,r[c+2]=this.z,r[c+3]=this.w,r}fromBufferAttribute(r,c){return this.x=r.getX(c),this.y=r.getY(c),this.z=r.getZ(c),this.w=r.getW(c),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class cc extends Jo{constructor(r=1,c=1,f={}){super(),f=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:s2,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},f),this.isRenderTarget=!0,this.width=r,this.height=c,this.depth=f.depth,this.scissor=new hi(0,0,r,c),this.scissorTest=!1,this.viewport=new hi(0,0,r,c);const p={width:r,height:c,depth:f.depth},y=new J2(p);this.textures=[];const T=f.count;for(let R=0;R<T;R++)this.textures[R]=y.clone(),this.textures[R].isRenderTargetTexture=!0,this.textures[R].renderTarget=this;this._setTextureOptions(f),this.depthBuffer=f.depthBuffer,this.stencilBuffer=f.stencilBuffer,this.resolveDepthBuffer=f.resolveDepthBuffer,this.resolveStencilBuffer=f.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=f.depthTexture,this.samples=f.samples,this.multiview=f.multiview}_setTextureOptions(r={}){const c={minFilter:s2,generateMipmaps:!1,flipY:!1,internalFormat:null};r.mapping!==void 0&&(c.mapping=r.mapping),r.wrapS!==void 0&&(c.wrapS=r.wrapS),r.wrapT!==void 0&&(c.wrapT=r.wrapT),r.wrapR!==void 0&&(c.wrapR=r.wrapR),r.magFilter!==void 0&&(c.magFilter=r.magFilter),r.minFilter!==void 0&&(c.minFilter=r.minFilter),r.format!==void 0&&(c.format=r.format),r.type!==void 0&&(c.type=r.type),r.anisotropy!==void 0&&(c.anisotropy=r.anisotropy),r.colorSpace!==void 0&&(c.colorSpace=r.colorSpace),r.flipY!==void 0&&(c.flipY=r.flipY),r.generateMipmaps!==void 0&&(c.generateMipmaps=r.generateMipmaps),r.internalFormat!==void 0&&(c.internalFormat=r.internalFormat);for(let f=0;f<this.textures.length;f++)this.textures[f].setValues(c)}get texture(){return this.textures[0]}set texture(r){this.textures[0]=r}set depthTexture(r){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),r!==null&&(r.renderTarget=this),this._depthTexture=r}get depthTexture(){return this._depthTexture}setSize(r,c,f=1){if(this.width!==r||this.height!==c||this.depth!==f){this.width=r,this.height=c,this.depth=f;for(let p=0,y=this.textures.length;p<y;p++)this.textures[p].image.width=r,this.textures[p].image.height=c,this.textures[p].image.depth=f,this.textures[p].isData3DTexture!==!0&&(this.textures[p].isArrayTexture=this.textures[p].image.depth>1);this.dispose()}this.viewport.set(0,0,r,c),this.scissor.set(0,0,r,c)}clone(){return new this.constructor().copy(this)}copy(r){this.width=r.width,this.height=r.height,this.depth=r.depth,this.scissor.copy(r.scissor),this.scissorTest=r.scissorTest,this.viewport.copy(r.viewport),this.textures.length=0;for(let c=0,f=r.textures.length;c<f;c++){this.textures[c]=r.textures[c].clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;const p=Object.assign({},r.textures[c].image);this.textures[c].source=new Qd(p)}return this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,r.depthTexture!==null&&(this.depthTexture=r.depthTexture.clone()),this.samples=r.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class rc extends cc{constructor(r=1,c=1,f={}){super(r,c,f),this.isWebGLRenderTarget=!0}}class Jd extends J2{constructor(r=null,c=1,f=1,p=1){super(null),this.isDataArrayTexture=!0,this.image={data:r,width:c,height:f,depth:p},this.magFilter=r2,this.minFilter=r2,this.wrapR=Cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(r){this.layerUpdates.add(r)}clearLayerUpdates(){this.layerUpdates.clear()}}class Moe extends J2{constructor(r=null,c=1,f=1,p=1){super(null),this.isData3DTexture=!0,this.image={data:r,width:c,height:f,depth:p},this.magFilter=r2,this.minFilter=r2,this.wrapR=Cr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class eu{constructor(r=new nt(1/0,1/0,1/0),c=new nt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=r,this.max=c}set(r,c){return this.min.copy(r),this.max.copy(c),this}setFromArray(r){this.makeEmpty();for(let c=0,f=r.length;c<f;c+=3)this.expandByPoint(ao.fromArray(r,c));return this}setFromBufferAttribute(r){this.makeEmpty();for(let c=0,f=r.count;c<f;c++)this.expandByPoint(ao.fromBufferAttribute(r,c));return this}setFromPoints(r){this.makeEmpty();for(let c=0,f=r.length;c<f;c++)this.expandByPoint(r[c]);return this}setFromCenterAndSize(r,c){const f=ao.copy(c).multiplyScalar(.5);return this.min.copy(r).sub(f),this.max.copy(r).add(f),this}setFromObject(r,c=!1){return this.makeEmpty(),this.expandByObject(r,c)}clone(){return new this.constructor().copy(this)}copy(r){return this.min.copy(r.min),this.max.copy(r.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(r){return this.isEmpty()?r.set(0,0,0):r.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(r){return this.isEmpty()?r.set(0,0,0):r.subVectors(this.max,this.min)}expandByPoint(r){return this.min.min(r),this.max.max(r),this}expandByVector(r){return this.min.sub(r),this.max.add(r),this}expandByScalar(r){return this.min.addScalar(-r),this.max.addScalar(r),this}expandByObject(r,c=!1){r.updateWorldMatrix(!1,!1);const f=r.geometry;if(f!==void 0){const y=f.getAttribute("position");if(c===!0&&y!==void 0&&r.isInstancedMesh!==!0)for(let T=0,R=y.count;T<R;T++)r.isMesh===!0?r.getVertexPosition(T,ao):ao.fromBufferAttribute(y,T),ao.applyMatrix4(r.matrixWorld),this.expandByPoint(ao);else r.boundingBox!==void 0?(r.boundingBox===null&&r.computeBoundingBox(),mp.copy(r.boundingBox)):(f.boundingBox===null&&f.computeBoundingBox(),mp.copy(f.boundingBox)),mp.applyMatrix4(r.matrixWorld),this.union(mp)}const p=r.children;for(let y=0,T=p.length;y<T;y++)this.expandByObject(p[y],c);return this}containsPoint(r){return r.x>=this.min.x&&r.x<=this.max.x&&r.y>=this.min.y&&r.y<=this.max.y&&r.z>=this.min.z&&r.z<=this.max.z}containsBox(r){return this.min.x<=r.min.x&&r.max.x<=this.max.x&&this.min.y<=r.min.y&&r.max.y<=this.max.y&&this.min.z<=r.min.z&&r.max.z<=this.max.z}getParameter(r,c){return c.set((r.x-this.min.x)/(this.max.x-this.min.x),(r.y-this.min.y)/(this.max.y-this.min.y),(r.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(r){return r.max.x>=this.min.x&&r.min.x<=this.max.x&&r.max.y>=this.min.y&&r.min.y<=this.max.y&&r.max.z>=this.min.z&&r.min.z<=this.max.z}intersectsSphere(r){return this.clampPoint(r.center,ao),ao.distanceToSquared(r.center)<=r.radius*r.radius}intersectsPlane(r){let c,f;return r.normal.x>0?(c=r.normal.x*this.min.x,f=r.normal.x*this.max.x):(c=r.normal.x*this.max.x,f=r.normal.x*this.min.x),r.normal.y>0?(c+=r.normal.y*this.min.y,f+=r.normal.y*this.max.y):(c+=r.normal.y*this.max.y,f+=r.normal.y*this.min.y),r.normal.z>0?(c+=r.normal.z*this.min.z,f+=r.normal.z*this.max.z):(c+=r.normal.z*this.max.z,f+=r.normal.z*this.min.z),c<=-r.constant&&f>=-r.constant}intersectsTriangle(r){if(this.isEmpty())return!1;this.getCenter(Su),gp.subVectors(this.max,Su),Ic.subVectors(r.a,Su),Pc.subVectors(r.b,Su),Lc.subVectors(r.c,Su),X1.subVectors(Pc,Ic),$1.subVectors(Lc,Pc),ba.subVectors(Ic,Lc);let c=[0,-X1.z,X1.y,0,-$1.z,$1.y,0,-ba.z,ba.y,X1.z,0,-X1.x,$1.z,0,-$1.x,ba.z,0,-ba.x,-X1.y,X1.x,0,-$1.y,$1.x,0,-ba.y,ba.x,0];return!Kh(c,Ic,Pc,Lc,gp)||(c=[1,0,0,0,1,0,0,0,1],!Kh(c,Ic,Pc,Lc,gp))?!1:(xp.crossVectors(X1,$1),c=[xp.x,xp.y,xp.z],Kh(c,Ic,Pc,Lc,gp))}clampPoint(r,c){return c.copy(r).clamp(this.min,this.max)}distanceToPoint(r){return this.clampPoint(r,ao).distanceTo(r)}getBoundingSphere(r){return this.isEmpty()?r.makeEmpty():(this.getCenter(r.center),r.radius=this.getSize(ao).length()*.5),r}intersect(r){return this.min.max(r.min),this.max.min(r.max),this.isEmpty()&&this.makeEmpty(),this}union(r){return this.min.min(r.min),this.max.max(r.max),this}applyMatrix4(r){return this.isEmpty()?this:(h1[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(r),h1[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(r),h1[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(r),h1[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(r),h1[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(r),h1[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(r),h1[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(r),h1[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(r),this.setFromPoints(h1),this)}translate(r){return this.min.add(r),this.max.add(r),this}equals(r){return r.min.equals(this.min)&&r.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(r){return this.min.fromArray(r.min),this.max.fromArray(r.max),this}}const h1=[new nt,new nt,new nt,new nt,new nt,new nt,new nt,new nt],ao=new nt,mp=new eu,Ic=new nt,Pc=new nt,Lc=new nt,X1=new nt,$1=new nt,ba=new nt,Su=new nt,gp=new nt,xp=new nt,Na=new nt;function Kh(v,r,c,f,p){for(let y=0,T=v.length-3;y<=T;y+=3){Na.fromArray(v,y);const R=p.x*Math.abs(Na.x)+p.y*Math.abs(Na.y)+p.z*Math.abs(Na.z),b=r.dot(Na),P=c.dot(Na),G=f.dot(Na);if(Math.max(-Math.max(b,P,G),Math.min(b,P,G))>R)return!1}return!0}const Roe=new eu,Tu=new nt,Zh=new nt;class lc{constructor(r=new nt,c=-1){this.isSphere=!0,this.center=r,this.radius=c}set(r,c){return this.center.copy(r),this.radius=c,this}setFromPoints(r,c){const f=this.center;c!==void 0?f.copy(c):Roe.setFromPoints(r).getCenter(f);let p=0;for(let y=0,T=r.length;y<T;y++)p=Math.max(p,f.distanceToSquared(r[y]));return this.radius=Math.sqrt(p),this}copy(r){return this.center.copy(r.center),this.radius=r.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(r){return r.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(r){return r.distanceTo(this.center)-this.radius}intersectsSphere(r){const c=this.radius+r.radius;return r.center.distanceToSquared(this.center)<=c*c}intersectsBox(r){return r.intersectsSphere(this)}intersectsPlane(r){return Math.abs(r.distanceToPoint(this.center))<=this.radius}clampPoint(r,c){const f=this.center.distanceToSquared(r);return c.copy(r),f>this.radius*this.radius&&(c.sub(this.center).normalize(),c.multiplyScalar(this.radius).add(this.center)),c}getBoundingBox(r){return this.isEmpty()?(r.makeEmpty(),r):(r.set(this.center,this.center),r.expandByScalar(this.radius),r)}applyMatrix4(r){return this.center.applyMatrix4(r),this.radius=this.radius*r.getMaxScaleOnAxis(),this}translate(r){return this.center.add(r),this}expandByPoint(r){if(this.isEmpty())return this.center.copy(r),this.radius=0,this;Tu.subVectors(r,this.center);const c=Tu.lengthSq();if(c>this.radius*this.radius){const f=Math.sqrt(c),p=(f-this.radius)*.5;this.center.addScaledVector(Tu,p/f),this.radius+=p}return this}union(r){return r.isEmpty()?this:this.isEmpty()?(this.copy(r),this):(this.center.equals(r.center)===!0?this.radius=Math.max(this.radius,r.radius):(Zh.subVectors(r.center,this.center).setLength(r.radius),this.expandByPoint(Tu.copy(r.center).add(Zh)),this.expandByPoint(Tu.copy(r.center).sub(Zh))),this)}equals(r){return r.center.equals(this.center)&&r.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(r){return this.radius=r.radius,this.center.fromArray(r.center),this}}const d1=new nt,Qh=new nt,yp=new nt,Y1=new nt,Jh=new nt,vp=new nt,e4=new nt;class Nf{constructor(r=new nt,c=new nt(0,0,-1)){this.origin=r,this.direction=c}set(r,c){return this.origin.copy(r),this.direction.copy(c),this}copy(r){return this.origin.copy(r.origin),this.direction.copy(r.direction),this}at(r,c){return c.copy(this.origin).addScaledVector(this.direction,r)}lookAt(r){return this.direction.copy(r).sub(this.origin).normalize(),this}recast(r){return this.origin.copy(this.at(r,d1)),this}closestPointToPoint(r,c){c.subVectors(r,this.origin);const f=c.dot(this.direction);return f<0?c.copy(this.origin):c.copy(this.origin).addScaledVector(this.direction,f)}distanceToPoint(r){return Math.sqrt(this.distanceSqToPoint(r))}distanceSqToPoint(r){const c=d1.subVectors(r,this.origin).dot(this.direction);return c<0?this.origin.distanceToSquared(r):(d1.copy(this.origin).addScaledVector(this.direction,c),d1.distanceToSquared(r))}distanceSqToSegment(r,c,f,p){Qh.copy(r).add(c).multiplyScalar(.5),yp.copy(c).sub(r).normalize(),Y1.copy(this.origin).sub(Qh);const y=r.distanceTo(c)*.5,T=-this.direction.dot(yp),R=Y1.dot(this.direction),b=-Y1.dot(yp),P=Y1.lengthSq(),G=Math.abs(1-T*T);let j,K,Q,ie;if(G>0)if(j=T*b-R,K=T*R-b,ie=y*G,j>=0)if(K>=-ie)if(K<=ie){const ce=1/G;j*=ce,K*=ce,Q=j*(j+T*K+2*R)+K*(T*j+K+2*b)+P}else K=y,j=Math.max(0,-(T*K+R)),Q=-j*j+K*(K+2*b)+P;else K=-y,j=Math.max(0,-(T*K+R)),Q=-j*j+K*(K+2*b)+P;else K<=-ie?(j=Math.max(0,-(-T*y+R)),K=j>0?-y:Math.min(Math.max(-y,-b),y),Q=-j*j+K*(K+2*b)+P):K<=ie?(j=0,K=Math.min(Math.max(-y,-b),y),Q=K*(K+2*b)+P):(j=Math.max(0,-(T*y+R)),K=j>0?y:Math.min(Math.max(-y,-b),y),Q=-j*j+K*(K+2*b)+P);else K=T>0?-y:y,j=Math.max(0,-(T*K+R)),Q=-j*j+K*(K+2*b)+P;return f&&f.copy(this.origin).addScaledVector(this.direction,j),p&&p.copy(Qh).addScaledVector(yp,K),Q}intersectSphere(r,c){d1.subVectors(r.center,this.origin);const f=d1.dot(this.direction),p=d1.dot(d1)-f*f,y=r.radius*r.radius;if(p>y)return null;const T=Math.sqrt(y-p),R=f-T,b=f+T;return b<0?null:R<0?this.at(b,c):this.at(R,c)}intersectsSphere(r){return r.radius<0?!1:this.distanceSqToPoint(r.center)<=r.radius*r.radius}distanceToPlane(r){const c=r.normal.dot(this.direction);if(c===0)return r.distanceToPoint(this.origin)===0?0:null;const f=-(this.origin.dot(r.normal)+r.constant)/c;return f>=0?f:null}intersectPlane(r,c){const f=this.distanceToPlane(r);return f===null?null:this.at(f,c)}intersectsPlane(r){const c=r.distanceToPoint(this.origin);return c===0||r.normal.dot(this.direction)*c<0}intersectBox(r,c){let f,p,y,T,R,b;const P=1/this.direction.x,G=1/this.direction.y,j=1/this.direction.z,K=this.origin;return P>=0?(f=(r.min.x-K.x)*P,p=(r.max.x-K.x)*P):(f=(r.max.x-K.x)*P,p=(r.min.x-K.x)*P),G>=0?(y=(r.min.y-K.y)*G,T=(r.max.y-K.y)*G):(y=(r.max.y-K.y)*G,T=(r.min.y-K.y)*G),f>T||y>p||((y>f||isNaN(f))&&(f=y),(T<p||isNaN(p))&&(p=T),j>=0?(R=(r.min.z-K.z)*j,b=(r.max.z-K.z)*j):(R=(r.max.z-K.z)*j,b=(r.min.z-K.z)*j),f>b||R>p)||((R>f||f!==f)&&(f=R),(b<p||p!==p)&&(p=b),p<0)?null:this.at(f>=0?f:p,c)}intersectsBox(r){return this.intersectBox(r,d1)!==null}intersectTriangle(r,c,f,p,y){Jh.subVectors(c,r),vp.subVectors(f,r),e4.crossVectors(Jh,vp);let T=this.direction.dot(e4),R;if(T>0){if(p)return null;R=1}else if(T<0)R=-1,T=-T;else return null;Y1.subVectors(this.origin,r);const b=R*this.direction.dot(vp.crossVectors(Y1,vp));if(b<0)return null;const P=R*this.direction.dot(Jh.cross(Y1));if(P<0||b+P>T)return null;const G=-R*Y1.dot(e4);return G<0?null:this.at(G/T,y)}applyMatrix4(r){return this.origin.applyMatrix4(r),this.direction.transformDirection(r),this}equals(r){return r.origin.equals(this.origin)&&r.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class wi{constructor(r,c,f,p,y,T,R,b,P,G,j,K,Q,ie,ce,ue){wi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r!==void 0&&this.set(r,c,f,p,y,T,R,b,P,G,j,K,Q,ie,ce,ue)}set(r,c,f,p,y,T,R,b,P,G,j,K,Q,ie,ce,ue){const se=this.elements;return se[0]=r,se[4]=c,se[8]=f,se[12]=p,se[1]=y,se[5]=T,se[9]=R,se[13]=b,se[2]=P,se[6]=G,se[10]=j,se[14]=K,se[3]=Q,se[7]=ie,se[11]=ce,se[15]=ue,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new wi().fromArray(this.elements)}copy(r){const c=this.elements,f=r.elements;return c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=f[6],c[7]=f[7],c[8]=f[8],c[9]=f[9],c[10]=f[10],c[11]=f[11],c[12]=f[12],c[13]=f[13],c[14]=f[14],c[15]=f[15],this}copyPosition(r){const c=this.elements,f=r.elements;return c[12]=f[12],c[13]=f[13],c[14]=f[14],this}setFromMatrix3(r){const c=r.elements;return this.set(c[0],c[3],c[6],0,c[1],c[4],c[7],0,c[2],c[5],c[8],0,0,0,0,1),this}extractBasis(r,c,f){return r.setFromMatrixColumn(this,0),c.setFromMatrixColumn(this,1),f.setFromMatrixColumn(this,2),this}makeBasis(r,c,f){return this.set(r.x,c.x,f.x,0,r.y,c.y,f.y,0,r.z,c.z,f.z,0,0,0,0,1),this}extractRotation(r){const c=this.elements,f=r.elements,p=1/kc.setFromMatrixColumn(r,0).length(),y=1/kc.setFromMatrixColumn(r,1).length(),T=1/kc.setFromMatrixColumn(r,2).length();return c[0]=f[0]*p,c[1]=f[1]*p,c[2]=f[2]*p,c[3]=0,c[4]=f[4]*y,c[5]=f[5]*y,c[6]=f[6]*y,c[7]=0,c[8]=f[8]*T,c[9]=f[9]*T,c[10]=f[10]*T,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,this}makeRotationFromEuler(r){const c=this.elements,f=r.x,p=r.y,y=r.z,T=Math.cos(f),R=Math.sin(f),b=Math.cos(p),P=Math.sin(p),G=Math.cos(y),j=Math.sin(y);if(r.order==="XYZ"){const K=T*G,Q=T*j,ie=R*G,ce=R*j;c[0]=b*G,c[4]=-b*j,c[8]=P,c[1]=Q+ie*P,c[5]=K-ce*P,c[9]=-R*b,c[2]=ce-K*P,c[6]=ie+Q*P,c[10]=T*b}else if(r.order==="YXZ"){const K=b*G,Q=b*j,ie=P*G,ce=P*j;c[0]=K+ce*R,c[4]=ie*R-Q,c[8]=T*P,c[1]=T*j,c[5]=T*G,c[9]=-R,c[2]=Q*R-ie,c[6]=ce+K*R,c[10]=T*b}else if(r.order==="ZXY"){const K=b*G,Q=b*j,ie=P*G,ce=P*j;c[0]=K-ce*R,c[4]=-T*j,c[8]=ie+Q*R,c[1]=Q+ie*R,c[5]=T*G,c[9]=ce-K*R,c[2]=-T*P,c[6]=R,c[10]=T*b}else if(r.order==="ZYX"){const K=T*G,Q=T*j,ie=R*G,ce=R*j;c[0]=b*G,c[4]=ie*P-Q,c[8]=K*P+ce,c[1]=b*j,c[5]=ce*P+K,c[9]=Q*P-ie,c[2]=-P,c[6]=R*b,c[10]=T*b}else if(r.order==="YZX"){const K=T*b,Q=T*P,ie=R*b,ce=R*P;c[0]=b*G,c[4]=ce-K*j,c[8]=ie*j+Q,c[1]=j,c[5]=T*G,c[9]=-R*G,c[2]=-P*G,c[6]=Q*j+ie,c[10]=K-ce*j}else if(r.order==="XZY"){const K=T*b,Q=T*P,ie=R*b,ce=R*P;c[0]=b*G,c[4]=-j,c[8]=P*G,c[1]=K*j+ce,c[5]=T*G,c[9]=Q*j-ie,c[2]=ie*j-Q,c[6]=R*G,c[10]=ce*j+K}return c[3]=0,c[7]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,this}makeRotationFromQuaternion(r){return this.compose(Aoe,r,Eoe)}lookAt(r,c,f){const p=this.elements;return bs.subVectors(r,c),bs.lengthSq()===0&&(bs.z=1),bs.normalize(),K1.crossVectors(f,bs),K1.lengthSq()===0&&(Math.abs(f.z)===1?bs.x+=1e-4:bs.z+=1e-4,bs.normalize(),K1.crossVectors(f,bs)),K1.normalize(),Sp.crossVectors(bs,K1),p[0]=K1.x,p[4]=Sp.x,p[8]=bs.x,p[1]=K1.y,p[5]=Sp.y,p[9]=bs.y,p[2]=K1.z,p[6]=Sp.z,p[10]=bs.z,this}multiply(r){return this.multiplyMatrices(this,r)}premultiply(r){return this.multiplyMatrices(r,this)}multiplyMatrices(r,c){const f=r.elements,p=c.elements,y=this.elements,T=f[0],R=f[4],b=f[8],P=f[12],G=f[1],j=f[5],K=f[9],Q=f[13],ie=f[2],ce=f[6],ue=f[10],se=f[14],Ne=f[3],De=f[7],Oe=f[11],je=f[15],Be=p[0],We=p[4],$e=p[8],Ee=p[12],Ie=p[1],Je=p[5],ft=p[9],yt=p[13],Et=p[2],Dt=p[6],ct=p[10],Wt=p[14],vt=p[3],Ht=p[7],Qt=p[11],a0=p[15];return y[0]=T*Be+R*Ie+b*Et+P*vt,y[4]=T*We+R*Je+b*Dt+P*Ht,y[8]=T*$e+R*ft+b*ct+P*Qt,y[12]=T*Ee+R*yt+b*Wt+P*a0,y[1]=G*Be+j*Ie+K*Et+Q*vt,y[5]=G*We+j*Je+K*Dt+Q*Ht,y[9]=G*$e+j*ft+K*ct+Q*Qt,y[13]=G*Ee+j*yt+K*Wt+Q*a0,y[2]=ie*Be+ce*Ie+ue*Et+se*vt,y[6]=ie*We+ce*Je+ue*Dt+se*Ht,y[10]=ie*$e+ce*ft+ue*ct+se*Qt,y[14]=ie*Ee+ce*yt+ue*Wt+se*a0,y[3]=Ne*Be+De*Ie+Oe*Et+je*vt,y[7]=Ne*We+De*Je+Oe*Dt+je*Ht,y[11]=Ne*$e+De*ft+Oe*ct+je*Qt,y[15]=Ne*Ee+De*yt+Oe*Wt+je*a0,this}multiplyScalar(r){const c=this.elements;return c[0]*=r,c[4]*=r,c[8]*=r,c[12]*=r,c[1]*=r,c[5]*=r,c[9]*=r,c[13]*=r,c[2]*=r,c[6]*=r,c[10]*=r,c[14]*=r,c[3]*=r,c[7]*=r,c[11]*=r,c[15]*=r,this}determinant(){const r=this.elements,c=r[0],f=r[4],p=r[8],y=r[12],T=r[1],R=r[5],b=r[9],P=r[13],G=r[2],j=r[6],K=r[10],Q=r[14],ie=r[3],ce=r[7],ue=r[11],se=r[15];return ie*(+y*b*j-p*P*j-y*R*K+f*P*K+p*R*Q-f*b*Q)+ce*(+c*b*Q-c*P*K+y*T*K-p*T*Q+p*P*G-y*b*G)+ue*(+c*P*j-c*R*Q-y*T*j+f*T*Q+y*R*G-f*P*G)+se*(-p*R*G-c*b*j+c*R*K+p*T*j-f*T*K+f*b*G)}transpose(){const r=this.elements;let c;return c=r[1],r[1]=r[4],r[4]=c,c=r[2],r[2]=r[8],r[8]=c,c=r[6],r[6]=r[9],r[9]=c,c=r[3],r[3]=r[12],r[12]=c,c=r[7],r[7]=r[13],r[13]=c,c=r[11],r[11]=r[14],r[14]=c,this}setPosition(r,c,f){const p=this.elements;return r.isVector3?(p[12]=r.x,p[13]=r.y,p[14]=r.z):(p[12]=r,p[13]=c,p[14]=f),this}invert(){const r=this.elements,c=r[0],f=r[1],p=r[2],y=r[3],T=r[4],R=r[5],b=r[6],P=r[7],G=r[8],j=r[9],K=r[10],Q=r[11],ie=r[12],ce=r[13],ue=r[14],se=r[15],Ne=j*ue*P-ce*K*P+ce*b*Q-R*ue*Q-j*b*se+R*K*se,De=ie*K*P-G*ue*P-ie*b*Q+T*ue*Q+G*b*se-T*K*se,Oe=G*ce*P-ie*j*P+ie*R*Q-T*ce*Q-G*R*se+T*j*se,je=ie*j*b-G*ce*b-ie*R*K+T*ce*K+G*R*ue-T*j*ue,Be=c*Ne+f*De+p*Oe+y*je;if(Be===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const We=1/Be;return r[0]=Ne*We,r[1]=(ce*K*y-j*ue*y-ce*p*Q+f*ue*Q+j*p*se-f*K*se)*We,r[2]=(R*ue*y-ce*b*y+ce*p*P-f*ue*P-R*p*se+f*b*se)*We,r[3]=(j*b*y-R*K*y-j*p*P+f*K*P+R*p*Q-f*b*Q)*We,r[4]=De*We,r[5]=(G*ue*y-ie*K*y+ie*p*Q-c*ue*Q-G*p*se+c*K*se)*We,r[6]=(ie*b*y-T*ue*y-ie*p*P+c*ue*P+T*p*se-c*b*se)*We,r[7]=(T*K*y-G*b*y+G*p*P-c*K*P-T*p*Q+c*b*Q)*We,r[8]=Oe*We,r[9]=(ie*j*y-G*ce*y-ie*f*Q+c*ce*Q+G*f*se-c*j*se)*We,r[10]=(T*ce*y-ie*R*y+ie*f*P-c*ce*P-T*f*se+c*R*se)*We,r[11]=(G*R*y-T*j*y-G*f*P+c*j*P+T*f*Q-c*R*Q)*We,r[12]=je*We,r[13]=(G*ce*p-ie*j*p+ie*f*K-c*ce*K-G*f*ue+c*j*ue)*We,r[14]=(ie*R*p-T*ce*p-ie*f*b+c*ce*b+T*f*ue-c*R*ue)*We,r[15]=(T*j*p-G*R*p+G*f*b-c*j*b-T*f*K+c*R*K)*We,this}scale(r){const c=this.elements,f=r.x,p=r.y,y=r.z;return c[0]*=f,c[4]*=p,c[8]*=y,c[1]*=f,c[5]*=p,c[9]*=y,c[2]*=f,c[6]*=p,c[10]*=y,c[3]*=f,c[7]*=p,c[11]*=y,this}getMaxScaleOnAxis(){const r=this.elements,c=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],f=r[4]*r[4]+r[5]*r[5]+r[6]*r[6],p=r[8]*r[8]+r[9]*r[9]+r[10]*r[10];return Math.sqrt(Math.max(c,f,p))}makeTranslation(r,c,f){return r.isVector3?this.set(1,0,0,r.x,0,1,0,r.y,0,0,1,r.z,0,0,0,1):this.set(1,0,0,r,0,1,0,c,0,0,1,f,0,0,0,1),this}makeRotationX(r){const c=Math.cos(r),f=Math.sin(r);return this.set(1,0,0,0,0,c,-f,0,0,f,c,0,0,0,0,1),this}makeRotationY(r){const c=Math.cos(r),f=Math.sin(r);return this.set(c,0,f,0,0,1,0,0,-f,0,c,0,0,0,0,1),this}makeRotationZ(r){const c=Math.cos(r),f=Math.sin(r);return this.set(c,-f,0,0,f,c,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(r,c){const f=Math.cos(c),p=Math.sin(c),y=1-f,T=r.x,R=r.y,b=r.z,P=y*T,G=y*R;return this.set(P*T+f,P*R-p*b,P*b+p*R,0,P*R+p*b,G*R+f,G*b-p*T,0,P*b-p*R,G*b+p*T,y*b*b+f,0,0,0,0,1),this}makeScale(r,c,f){return this.set(r,0,0,0,0,c,0,0,0,0,f,0,0,0,0,1),this}makeShear(r,c,f,p,y,T){return this.set(1,f,y,0,r,1,T,0,c,p,1,0,0,0,0,1),this}compose(r,c,f){const p=this.elements,y=c._x,T=c._y,R=c._z,b=c._w,P=y+y,G=T+T,j=R+R,K=y*P,Q=y*G,ie=y*j,ce=T*G,ue=T*j,se=R*j,Ne=b*P,De=b*G,Oe=b*j,je=f.x,Be=f.y,We=f.z;return p[0]=(1-(ce+se))*je,p[1]=(Q+Oe)*je,p[2]=(ie-De)*je,p[3]=0,p[4]=(Q-Oe)*Be,p[5]=(1-(K+se))*Be,p[6]=(ue+Ne)*Be,p[7]=0,p[8]=(ie+De)*We,p[9]=(ue-Ne)*We,p[10]=(1-(K+ce))*We,p[11]=0,p[12]=r.x,p[13]=r.y,p[14]=r.z,p[15]=1,this}decompose(r,c,f){const p=this.elements;let y=kc.set(p[0],p[1],p[2]).length();const T=kc.set(p[4],p[5],p[6]).length(),R=kc.set(p[8],p[9],p[10]).length();this.determinant()<0&&(y=-y),r.x=p[12],r.y=p[13],r.z=p[14],co.copy(this);const P=1/y,G=1/T,j=1/R;return co.elements[0]*=P,co.elements[1]*=P,co.elements[2]*=P,co.elements[4]*=G,co.elements[5]*=G,co.elements[6]*=G,co.elements[8]*=j,co.elements[9]*=j,co.elements[10]*=j,c.setFromRotationMatrix(co),f.x=y,f.y=T,f.z=R,this}makePerspective(r,c,f,p,y,T,R=rs,b=!1){const P=this.elements,G=2*y/(c-r),j=2*y/(f-p),K=(c+r)/(c-r),Q=(f+p)/(f-p);let ie,ce;if(b)ie=y/(T-y),ce=T*y/(T-y);else if(R===rs)ie=-(T+y)/(T-y),ce=-2*T*y/(T-y);else if(R===pa)ie=-T/(T-y),ce=-T*y/(T-y);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+R);return P[0]=G,P[4]=0,P[8]=K,P[12]=0,P[1]=0,P[5]=j,P[9]=Q,P[13]=0,P[2]=0,P[6]=0,P[10]=ie,P[14]=ce,P[3]=0,P[7]=0,P[11]=-1,P[15]=0,this}makeOrthographic(r,c,f,p,y,T,R=rs,b=!1){const P=this.elements,G=2/(c-r),j=2/(f-p),K=-(c+r)/(c-r),Q=-(f+p)/(f-p);let ie,ce;if(b)ie=1/(T-y),ce=T/(T-y);else if(R===rs)ie=-2/(T-y),ce=-(T+y)/(T-y);else if(R===pa)ie=-1/(T-y),ce=-y/(T-y);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+R);return P[0]=G,P[4]=0,P[8]=0,P[12]=K,P[1]=0,P[5]=j,P[9]=0,P[13]=Q,P[2]=0,P[6]=0,P[10]=ie,P[14]=ce,P[3]=0,P[7]=0,P[11]=0,P[15]=1,this}equals(r){const c=this.elements,f=r.elements;for(let p=0;p<16;p++)if(c[p]!==f[p])return!1;return!0}fromArray(r,c=0){for(let f=0;f<16;f++)this.elements[f]=r[f+c];return this}toArray(r=[],c=0){const f=this.elements;return r[c]=f[0],r[c+1]=f[1],r[c+2]=f[2],r[c+3]=f[3],r[c+4]=f[4],r[c+5]=f[5],r[c+6]=f[6],r[c+7]=f[7],r[c+8]=f[8],r[c+9]=f[9],r[c+10]=f[10],r[c+11]=f[11],r[c+12]=f[12],r[c+13]=f[13],r[c+14]=f[14],r[c+15]=f[15],r}}const kc=new nt,co=new wi,Aoe=new nt(0,0,0),Eoe=new nt(1,1,1),K1=new nt,Sp=new nt,bs=new nt,a3=new wi,c3=new eo;class Wr{constructor(r=0,c=0,f=0,p=Wr.DEFAULT_ORDER){this.isEuler=!0,this._x=r,this._y=c,this._z=f,this._order=p}get x(){return this._x}set x(r){this._x=r,this._onChangeCallback()}get y(){return this._y}set y(r){this._y=r,this._onChangeCallback()}get z(){return this._z}set z(r){this._z=r,this._onChangeCallback()}get order(){return this._order}set order(r){this._order=r,this._onChangeCallback()}set(r,c,f,p=this._order){return this._x=r,this._y=c,this._z=f,this._order=p,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(r){return this._x=r._x,this._y=r._y,this._z=r._z,this._order=r._order,this._onChangeCallback(),this}setFromRotationMatrix(r,c=this._order,f=!0){const p=r.elements,y=p[0],T=p[4],R=p[8],b=p[1],P=p[5],G=p[9],j=p[2],K=p[6],Q=p[10];switch(c){case"XYZ":this._y=Math.asin(Zi(R,-1,1)),Math.abs(R)<.9999999?(this._x=Math.atan2(-G,Q),this._z=Math.atan2(-T,y)):(this._x=Math.atan2(K,P),this._z=0);break;case"YXZ":this._x=Math.asin(-Zi(G,-1,1)),Math.abs(G)<.9999999?(this._y=Math.atan2(R,Q),this._z=Math.atan2(b,P)):(this._y=Math.atan2(-j,y),this._z=0);break;case"ZXY":this._x=Math.asin(Zi(K,-1,1)),Math.abs(K)<.9999999?(this._y=Math.atan2(-j,Q),this._z=Math.atan2(-T,P)):(this._y=0,this._z=Math.atan2(b,y));break;case"ZYX":this._y=Math.asin(-Zi(j,-1,1)),Math.abs(j)<.9999999?(this._x=Math.atan2(K,Q),this._z=Math.atan2(b,y)):(this._x=0,this._z=Math.atan2(-T,P));break;case"YZX":this._z=Math.asin(Zi(b,-1,1)),Math.abs(b)<.9999999?(this._x=Math.atan2(-G,P),this._y=Math.atan2(-j,y)):(this._x=0,this._y=Math.atan2(R,Q));break;case"XZY":this._z=Math.asin(-Zi(T,-1,1)),Math.abs(T)<.9999999?(this._x=Math.atan2(K,P),this._y=Math.atan2(R,y)):(this._x=Math.atan2(-G,Q),this._y=0);break;default:jt("Euler: .setFromRotationMatrix() encountered an unknown order: "+c)}return this._order=c,f===!0&&this._onChangeCallback(),this}setFromQuaternion(r,c,f){return a3.makeRotationFromQuaternion(r),this.setFromRotationMatrix(a3,c,f)}setFromVector3(r,c=this._order){return this.set(r.x,r.y,r.z,c)}reorder(r){return c3.setFromEuler(this),this.setFromQuaternion(c3,r)}equals(r){return r._x===this._x&&r._y===this._y&&r._z===this._z&&r._order===this._order}fromArray(r){return this._x=r[0],this._y=r[1],this._z=r[2],r[3]!==void 0&&(this._order=r[3]),this._onChangeCallback(),this}toArray(r=[],c=0){return r[c]=this._x,r[c+1]=this._y,r[c+2]=this._z,r[c+3]=this._order,r}_onChange(r){return this._onChangeCallback=r,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Wr.DEFAULT_ORDER="XYZ";class e8{constructor(){this.mask=1}set(r){this.mask=(1<<r|0)>>>0}enable(r){this.mask|=1<<r|0}enableAll(){this.mask=-1}toggle(r){this.mask^=1<<r|0}disable(r){this.mask&=~(1<<r|0)}disableAll(){this.mask=0}test(r){return(this.mask&r.mask)!==0}isEnabled(r){return(this.mask&(1<<r|0))!==0}}let boe=0;const l3=new nt,Fc=new eo,m1=new wi,Tp=new nt,Cu=new nt,Noe=new nt,Doe=new eo,u3=new nt(1,0,0),f3=new nt(0,1,0),p3=new nt(0,0,1),_3={type:"added"},Ioe={type:"removed"},Bc={type:"childadded",child:null},t4={type:"childremoved",child:null};class O2 extends Jo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:boe++}),this.uuid=vo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=O2.DEFAULT_UP.clone();const r=new nt,c=new Wr,f=new eo,p=new nt(1,1,1);function y(){f.setFromEuler(c,!1)}function T(){c.setFromQuaternion(f,void 0,!1)}c._onChange(y),f._onChange(T),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:c},quaternion:{configurable:!0,enumerable:!0,value:f},scale:{configurable:!0,enumerable:!0,value:p},modelViewMatrix:{value:new wi},normalMatrix:{value:new Pi}}),this.matrix=new wi,this.matrixWorld=new wi,this.matrixAutoUpdate=O2.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=O2.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new e8,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(r){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(r),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(r){return this.quaternion.premultiply(r),this}setRotationFromAxisAngle(r,c){this.quaternion.setFromAxisAngle(r,c)}setRotationFromEuler(r){this.quaternion.setFromEuler(r,!0)}setRotationFromMatrix(r){this.quaternion.setFromRotationMatrix(r)}setRotationFromQuaternion(r){this.quaternion.copy(r)}rotateOnAxis(r,c){return Fc.setFromAxisAngle(r,c),this.quaternion.multiply(Fc),this}rotateOnWorldAxis(r,c){return Fc.setFromAxisAngle(r,c),this.quaternion.premultiply(Fc),this}rotateX(r){return this.rotateOnAxis(u3,r)}rotateY(r){return this.rotateOnAxis(f3,r)}rotateZ(r){return this.rotateOnAxis(p3,r)}translateOnAxis(r,c){return l3.copy(r).applyQuaternion(this.quaternion),this.position.add(l3.multiplyScalar(c)),this}translateX(r){return this.translateOnAxis(u3,r)}translateY(r){return this.translateOnAxis(f3,r)}translateZ(r){return this.translateOnAxis(p3,r)}localToWorld(r){return this.updateWorldMatrix(!0,!1),r.applyMatrix4(this.matrixWorld)}worldToLocal(r){return this.updateWorldMatrix(!0,!1),r.applyMatrix4(m1.copy(this.matrixWorld).invert())}lookAt(r,c,f){r.isVector3?Tp.copy(r):Tp.set(r,c,f);const p=this.parent;this.updateWorldMatrix(!0,!1),Cu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?m1.lookAt(Cu,Tp,this.up):m1.lookAt(Tp,Cu,this.up),this.quaternion.setFromRotationMatrix(m1),p&&(m1.extractRotation(p.matrixWorld),Fc.setFromRotationMatrix(m1),this.quaternion.premultiply(Fc.invert()))}add(r){if(arguments.length>1){for(let c=0;c<arguments.length;c++)this.add(arguments[c]);return this}return r===this?(i0("Object3D.add: object can't be added as a child of itself.",r),this):(r&&r.isObject3D?(r.removeFromParent(),r.parent=this,this.children.push(r),r.dispatchEvent(_3),Bc.child=r,this.dispatchEvent(Bc),Bc.child=null):i0("Object3D.add: object not an instance of THREE.Object3D.",r),this)}remove(r){if(arguments.length>1){for(let f=0;f<arguments.length;f++)this.remove(arguments[f]);return this}const c=this.children.indexOf(r);return c!==-1&&(r.parent=null,this.children.splice(c,1),r.dispatchEvent(Ioe),t4.child=r,this.dispatchEvent(t4),t4.child=null),this}removeFromParent(){const r=this.parent;return r!==null&&r.remove(this),this}clear(){return this.remove(...this.children)}attach(r){return this.updateWorldMatrix(!0,!1),m1.copy(this.matrixWorld).invert(),r.parent!==null&&(r.parent.updateWorldMatrix(!0,!1),m1.multiply(r.parent.matrixWorld)),r.applyMatrix4(m1),r.removeFromParent(),r.parent=this,this.children.push(r),r.updateWorldMatrix(!1,!0),r.dispatchEvent(_3),Bc.child=r,this.dispatchEvent(Bc),Bc.child=null,this}getObjectById(r){return this.getObjectByProperty("id",r)}getObjectByName(r){return this.getObjectByProperty("name",r)}getObjectByProperty(r,c){if(this[r]===c)return this;for(let f=0,p=this.children.length;f<p;f++){const T=this.children[f].getObjectByProperty(r,c);if(T!==void 0)return T}}getObjectsByProperty(r,c,f=[]){this[r]===c&&f.push(this);const p=this.children;for(let y=0,T=p.length;y<T;y++)p[y].getObjectsByProperty(r,c,f);return f}getWorldPosition(r){return this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(r){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Cu,r,Noe),r}getWorldScale(r){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Cu,Doe,r),r}getWorldDirection(r){this.updateWorldMatrix(!0,!1);const c=this.matrixWorld.elements;return r.set(c[8],c[9],c[10]).normalize()}raycast(){}traverse(r){r(this);const c=this.children;for(let f=0,p=c.length;f<p;f++)c[f].traverse(r)}traverseVisible(r){if(this.visible===!1)return;r(this);const c=this.children;for(let f=0,p=c.length;f<p;f++)c[f].traverseVisible(r)}traverseAncestors(r){const c=this.parent;c!==null&&(r(c),c.traverseAncestors(r))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(r){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||r)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,r=!0);const c=this.children;for(let f=0,p=c.length;f<p;f++)c[f].updateMatrixWorld(r)}updateWorldMatrix(r,c){const f=this.parent;if(r===!0&&f!==null&&f.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),c===!0){const p=this.children;for(let y=0,T=p.length;y<T;y++)p[y].updateWorldMatrix(!1,!0)}}toJSON(r){const c=r===void 0||typeof r=="string",f={};c&&(r={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},f.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const p={};p.uuid=this.uuid,p.type=this.type,this.name!==""&&(p.name=this.name),this.castShadow===!0&&(p.castShadow=!0),this.receiveShadow===!0&&(p.receiveShadow=!0),this.visible===!1&&(p.visible=!1),this.frustumCulled===!1&&(p.frustumCulled=!1),this.renderOrder!==0&&(p.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(p.userData=this.userData),p.layers=this.layers.mask,p.matrix=this.matrix.toArray(),p.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(p.matrixAutoUpdate=!1),this.isInstancedMesh&&(p.type="InstancedMesh",p.count=this.count,p.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(p.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(p.type="BatchedMesh",p.perObjectFrustumCulled=this.perObjectFrustumCulled,p.sortObjects=this.sortObjects,p.drawRanges=this._drawRanges,p.reservedRanges=this._reservedRanges,p.geometryInfo=this._geometryInfo.map(R=>({...R,boundingBox:R.boundingBox?R.boundingBox.toJSON():void 0,boundingSphere:R.boundingSphere?R.boundingSphere.toJSON():void 0})),p.instanceInfo=this._instanceInfo.map(R=>({...R})),p.availableInstanceIds=this._availableInstanceIds.slice(),p.availableGeometryIds=this._availableGeometryIds.slice(),p.nextIndexStart=this._nextIndexStart,p.nextVertexStart=this._nextVertexStart,p.geometryCount=this._geometryCount,p.maxInstanceCount=this._maxInstanceCount,p.maxVertexCount=this._maxVertexCount,p.maxIndexCount=this._maxIndexCount,p.geometryInitialized=this._geometryInitialized,p.matricesTexture=this._matricesTexture.toJSON(r),p.indirectTexture=this._indirectTexture.toJSON(r),this._colorsTexture!==null&&(p.colorsTexture=this._colorsTexture.toJSON(r)),this.boundingSphere!==null&&(p.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(p.boundingBox=this.boundingBox.toJSON()));function y(R,b){return R[b.uuid]===void 0&&(R[b.uuid]=b.toJSON(r)),b.uuid}if(this.isScene)this.background&&(this.background.isColor?p.background=this.background.toJSON():this.background.isTexture&&(p.background=this.background.toJSON(r).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(p.environment=this.environment.toJSON(r).uuid);else if(this.isMesh||this.isLine||this.isPoints){p.geometry=y(r.geometries,this.geometry);const R=this.geometry.parameters;if(R!==void 0&&R.shapes!==void 0){const b=R.shapes;if(Array.isArray(b))for(let P=0,G=b.length;P<G;P++){const j=b[P];y(r.shapes,j)}else y(r.shapes,b)}}if(this.isSkinnedMesh&&(p.bindMode=this.bindMode,p.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(y(r.skeletons,this.skeleton),p.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const R=[];for(let b=0,P=this.material.length;b<P;b++)R.push(y(r.materials,this.material[b]));p.material=R}else p.material=y(r.materials,this.material);if(this.children.length>0){p.children=[];for(let R=0;R<this.children.length;R++)p.children.push(this.children[R].toJSON(r).object)}if(this.animations.length>0){p.animations=[];for(let R=0;R<this.animations.length;R++){const b=this.animations[R];p.animations.push(y(r.animations,b))}}if(c){const R=T(r.geometries),b=T(r.materials),P=T(r.textures),G=T(r.images),j=T(r.shapes),K=T(r.skeletons),Q=T(r.animations),ie=T(r.nodes);R.length>0&&(f.geometries=R),b.length>0&&(f.materials=b),P.length>0&&(f.textures=P),G.length>0&&(f.images=G),j.length>0&&(f.shapes=j),K.length>0&&(f.skeletons=K),Q.length>0&&(f.animations=Q),ie.length>0&&(f.nodes=ie)}return f.object=p,f;function T(R){const b=[];for(const P in R){const G=R[P];delete G.metadata,b.push(G)}return b}}clone(r){return new this.constructor().copy(this,r)}copy(r,c=!0){if(this.name=r.name,this.up.copy(r.up),this.position.copy(r.position),this.rotation.order=r.rotation.order,this.quaternion.copy(r.quaternion),this.scale.copy(r.scale),this.matrix.copy(r.matrix),this.matrixWorld.copy(r.matrixWorld),this.matrixAutoUpdate=r.matrixAutoUpdate,this.matrixWorldAutoUpdate=r.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=r.matrixWorldNeedsUpdate,this.layers.mask=r.layers.mask,this.visible=r.visible,this.castShadow=r.castShadow,this.receiveShadow=r.receiveShadow,this.frustumCulled=r.frustumCulled,this.renderOrder=r.renderOrder,this.animations=r.animations.slice(),this.userData=JSON.parse(JSON.stringify(r.userData)),c===!0)for(let f=0;f<r.children.length;f++){const p=r.children[f];this.add(p.clone())}return this}}O2.DEFAULT_UP=new nt(0,1,0);O2.DEFAULT_MATRIX_AUTO_UPDATE=!0;O2.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const lo=new nt,g1=new nt,i4=new nt,x1=new nt,Uc=new nt,Oc=new nt,h3=new nt,n4=new nt,r4=new nt,s4=new nt,o4=new hi,a4=new hi,c4=new hi;class _o{constructor(r=new nt,c=new nt,f=new nt){this.a=r,this.b=c,this.c=f}static getNormal(r,c,f,p){p.subVectors(f,c),lo.subVectors(r,c),p.cross(lo);const y=p.lengthSq();return y>0?p.multiplyScalar(1/Math.sqrt(y)):p.set(0,0,0)}static getBarycoord(r,c,f,p,y){lo.subVectors(p,c),g1.subVectors(f,c),i4.subVectors(r,c);const T=lo.dot(lo),R=lo.dot(g1),b=lo.dot(i4),P=g1.dot(g1),G=g1.dot(i4),j=T*P-R*R;if(j===0)return y.set(0,0,0),null;const K=1/j,Q=(P*b-R*G)*K,ie=(T*G-R*b)*K;return y.set(1-Q-ie,ie,Q)}static containsPoint(r,c,f,p){return this.getBarycoord(r,c,f,p,x1)===null?!1:x1.x>=0&&x1.y>=0&&x1.x+x1.y<=1}static getInterpolation(r,c,f,p,y,T,R,b){return this.getBarycoord(r,c,f,p,x1)===null?(b.x=0,b.y=0,"z"in b&&(b.z=0),"w"in b&&(b.w=0),null):(b.setScalar(0),b.addScaledVector(y,x1.x),b.addScaledVector(T,x1.y),b.addScaledVector(R,x1.z),b)}static getInterpolatedAttribute(r,c,f,p,y,T){return o4.setScalar(0),a4.setScalar(0),c4.setScalar(0),o4.fromBufferAttribute(r,c),a4.fromBufferAttribute(r,f),c4.fromBufferAttribute(r,p),T.setScalar(0),T.addScaledVector(o4,y.x),T.addScaledVector(a4,y.y),T.addScaledVector(c4,y.z),T}static isFrontFacing(r,c,f,p){return lo.subVectors(f,c),g1.subVectors(r,c),lo.cross(g1).dot(p)<0}set(r,c,f){return this.a.copy(r),this.b.copy(c),this.c.copy(f),this}setFromPointsAndIndices(r,c,f,p){return this.a.copy(r[c]),this.b.copy(r[f]),this.c.copy(r[p]),this}setFromAttributeAndIndices(r,c,f,p){return this.a.fromBufferAttribute(r,c),this.b.fromBufferAttribute(r,f),this.c.fromBufferAttribute(r,p),this}clone(){return new this.constructor().copy(this)}copy(r){return this.a.copy(r.a),this.b.copy(r.b),this.c.copy(r.c),this}getArea(){return lo.subVectors(this.c,this.b),g1.subVectors(this.a,this.b),lo.cross(g1).length()*.5}getMidpoint(r){return r.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(r){return _o.getNormal(this.a,this.b,this.c,r)}getPlane(r){return r.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(r,c){return _o.getBarycoord(r,this.a,this.b,this.c,c)}getInterpolation(r,c,f,p,y){return _o.getInterpolation(r,this.a,this.b,this.c,c,f,p,y)}containsPoint(r){return _o.containsPoint(r,this.a,this.b,this.c)}isFrontFacing(r){return _o.isFrontFacing(this.a,this.b,this.c,r)}intersectsBox(r){return r.intersectsTriangle(this)}closestPointToPoint(r,c){const f=this.a,p=this.b,y=this.c;let T,R;Uc.subVectors(p,f),Oc.subVectors(y,f),n4.subVectors(r,f);const b=Uc.dot(n4),P=Oc.dot(n4);if(b<=0&&P<=0)return c.copy(f);r4.subVectors(r,p);const G=Uc.dot(r4),j=Oc.dot(r4);if(G>=0&&j<=G)return c.copy(p);const K=b*j-G*P;if(K<=0&&b>=0&&G<=0)return T=b/(b-G),c.copy(f).addScaledVector(Uc,T);s4.subVectors(r,y);const Q=Uc.dot(s4),ie=Oc.dot(s4);if(ie>=0&&Q<=ie)return c.copy(y);const ce=Q*P-b*ie;if(ce<=0&&P>=0&&ie<=0)return R=P/(P-ie),c.copy(f).addScaledVector(Oc,R);const ue=G*ie-Q*j;if(ue<=0&&j-G>=0&&Q-ie>=0)return h3.subVectors(y,p),R=(j-G)/(j-G+(Q-ie)),c.copy(p).addScaledVector(h3,R);const se=1/(ue+ce+K);return T=ce*se,R=K*se,c.copy(f).addScaledVector(Uc,T).addScaledVector(Oc,R)}equals(r){return r.a.equals(this.a)&&r.b.equals(this.b)&&r.c.equals(this.c)}}const rx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Z1={h:0,s:0,l:0},Cp={h:0,s:0,l:0};function l4(v,r,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?v+(r-v)*6*c:c<1/2?r:c<2/3?v+(r-v)*6*(2/3-c):v}class ri{constructor(r,c,f){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(r,c,f)}set(r,c,f){if(c===void 0&&f===void 0){const p=r;p&&p.isColor?this.copy(p):typeof p=="number"?this.setHex(p):typeof p=="string"&&this.setStyle(p)}else this.setRGB(r,c,f);return this}setScalar(r){return this.r=r,this.g=r,this.b=r,this}setHex(r,c=w2){return r=Math.floor(r),this.r=(r>>16&255)/255,this.g=(r>>8&255)/255,this.b=(r&255)/255,pi.colorSpaceToWorking(this,c),this}setRGB(r,c,f,p=pi.workingColorSpace){return this.r=r,this.g=c,this.b=f,pi.colorSpaceToWorking(this,p),this}setHSL(r,c,f,p=pi.workingColorSpace){if(r=Zd(r,1),c=Zi(c,0,1),f=Zi(f,0,1),c===0)this.r=this.g=this.b=f;else{const y=f<=.5?f*(1+c):f+c-f*c,T=2*f-y;this.r=l4(T,y,r+1/3),this.g=l4(T,y,r),this.b=l4(T,y,r-1/3)}return pi.colorSpaceToWorking(this,p),this}setStyle(r,c=w2){function f(y){y!==void 0&&parseFloat(y)<1&&jt("Color: Alpha component of "+r+" will be ignored.")}let p;if(p=/^(\w+)\(([^\)]*)\)/.exec(r)){let y;const T=p[1],R=p[2];switch(T){case"rgb":case"rgba":if(y=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(R))return f(y[4]),this.setRGB(Math.min(255,parseInt(y[1],10))/255,Math.min(255,parseInt(y[2],10))/255,Math.min(255,parseInt(y[3],10))/255,c);if(y=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(R))return f(y[4]),this.setRGB(Math.min(100,parseInt(y[1],10))/100,Math.min(100,parseInt(y[2],10))/100,Math.min(100,parseInt(y[3],10))/100,c);break;case"hsl":case"hsla":if(y=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(R))return f(y[4]),this.setHSL(parseFloat(y[1])/360,parseFloat(y[2])/100,parseFloat(y[3])/100,c);break;default:jt("Color: Unknown color model "+r)}}else if(p=/^\#([A-Fa-f\d]+)$/.exec(r)){const y=p[1],T=y.length;if(T===3)return this.setRGB(parseInt(y.charAt(0),16)/15,parseInt(y.charAt(1),16)/15,parseInt(y.charAt(2),16)/15,c);if(T===6)return this.setHex(parseInt(y,16),c);jt("Color: Invalid hex color "+r)}else if(r&&r.length>0)return this.setColorName(r,c);return this}setColorName(r,c=w2){const f=rx[r.toLowerCase()];return f!==void 0?this.setHex(f,c):jt("Color: Unknown color "+r),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(r){return this.r=r.r,this.g=r.g,this.b=r.b,this}copySRGBToLinear(r){return this.r=N1(r.r),this.g=N1(r.g),this.b=N1(r.b),this}copyLinearToSRGB(r){return this.r=al(r.r),this.g=al(r.g),this.b=al(r.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(r=w2){return pi.workingToColorSpace(Ur.copy(this),r),Math.round(Zi(Ur.r*255,0,255))*65536+Math.round(Zi(Ur.g*255,0,255))*256+Math.round(Zi(Ur.b*255,0,255))}getHexString(r=w2){return("000000"+this.getHex(r).toString(16)).slice(-6)}getHSL(r,c=pi.workingColorSpace){pi.workingToColorSpace(Ur.copy(this),c);const f=Ur.r,p=Ur.g,y=Ur.b,T=Math.max(f,p,y),R=Math.min(f,p,y);let b,P;const G=(R+T)/2;if(R===T)b=0,P=0;else{const j=T-R;switch(P=G<=.5?j/(T+R):j/(2-T-R),T){case f:b=(p-y)/j+(p<y?6:0);break;case p:b=(y-f)/j+2;break;case y:b=(f-p)/j+4;break}b/=6}return r.h=b,r.s=P,r.l=G,r}getRGB(r,c=pi.workingColorSpace){return pi.workingToColorSpace(Ur.copy(this),c),r.r=Ur.r,r.g=Ur.g,r.b=Ur.b,r}getStyle(r=w2){pi.workingToColorSpace(Ur.copy(this),r);const c=Ur.r,f=Ur.g,p=Ur.b;return r!==w2?`color(${r} ${c.toFixed(3)} ${f.toFixed(3)} ${p.toFixed(3)})`:`rgb(${Math.round(c*255)},${Math.round(f*255)},${Math.round(p*255)})`}offsetHSL(r,c,f){return this.getHSL(Z1),this.setHSL(Z1.h+r,Z1.s+c,Z1.l+f)}add(r){return this.r+=r.r,this.g+=r.g,this.b+=r.b,this}addColors(r,c){return this.r=r.r+c.r,this.g=r.g+c.g,this.b=r.b+c.b,this}addScalar(r){return this.r+=r,this.g+=r,this.b+=r,this}sub(r){return this.r=Math.max(0,this.r-r.r),this.g=Math.max(0,this.g-r.g),this.b=Math.max(0,this.b-r.b),this}multiply(r){return this.r*=r.r,this.g*=r.g,this.b*=r.b,this}multiplyScalar(r){return this.r*=r,this.g*=r,this.b*=r,this}lerp(r,c){return this.r+=(r.r-this.r)*c,this.g+=(r.g-this.g)*c,this.b+=(r.b-this.b)*c,this}lerpColors(r,c,f){return this.r=r.r+(c.r-r.r)*f,this.g=r.g+(c.g-r.g)*f,this.b=r.b+(c.b-r.b)*f,this}lerpHSL(r,c){this.getHSL(Z1),r.getHSL(Cp);const f=$u(Z1.h,Cp.h,c),p=$u(Z1.s,Cp.s,c),y=$u(Z1.l,Cp.l,c);return this.setHSL(f,p,y),this}setFromVector3(r){return this.r=r.x,this.g=r.y,this.b=r.z,this}applyMatrix3(r){const c=this.r,f=this.g,p=this.b,y=r.elements;return this.r=y[0]*c+y[3]*f+y[6]*p,this.g=y[1]*c+y[4]*f+y[7]*p,this.b=y[2]*c+y[5]*f+y[8]*p,this}equals(r){return r.r===this.r&&r.g===this.g&&r.b===this.b}fromArray(r,c=0){return this.r=r[c],this.g=r[c+1],this.b=r[c+2],this}toArray(r=[],c=0){return r[c]=this.r,r[c+1]=this.g,r[c+2]=this.b,r}fromBufferAttribute(r,c){return this.r=r.getX(c),this.g=r.getY(c),this.b=r.getZ(c),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ur=new ri;ri.NAMES=rx;let Poe=0;class Hr extends Jo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Poe++}),this.uuid=vo(),this.name="",this.type="Material",this.blending=Fs,this.side=Cs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=rf,this.blendDst=sf,this.blendEquation=Or,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ri(0,0,0),this.blendAlpha=0,this.depthFunc=fa,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=cd,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ua,this.stencilZFail=Ua,this.stencilZPass=Ua,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(r){this._alphaTest>0!=r>0&&this.version++,this._alphaTest=r}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(r){if(r!==void 0)for(const c in r){const f=r[c];if(f===void 0){jt(`Material: parameter '${c}' has value of undefined.`);continue}const p=this[c];if(p===void 0){jt(`Material: '${c}' is not a property of THREE.${this.type}.`);continue}p&&p.isColor?p.set(f):p&&p.isVector3&&f&&f.isVector3?p.copy(f):this[c]=f}}toJSON(r){const c=r===void 0||typeof r=="string";c&&(r={textures:{},images:{}});const f={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};f.uuid=this.uuid,f.type=this.type,this.name!==""&&(f.name=this.name),this.color&&this.color.isColor&&(f.color=this.color.getHex()),this.roughness!==void 0&&(f.roughness=this.roughness),this.metalness!==void 0&&(f.metalness=this.metalness),this.sheen!==void 0&&(f.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(f.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(f.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(f.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(f.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(f.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(f.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(f.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(f.shininess=this.shininess),this.clearcoat!==void 0&&(f.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(f.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(f.clearcoatMap=this.clearcoatMap.toJSON(r).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(f.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(r).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(f.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(r).uuid,f.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(f.sheenColorMap=this.sheenColorMap.toJSON(r).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(f.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(r).uuid),this.dispersion!==void 0&&(f.dispersion=this.dispersion),this.iridescence!==void 0&&(f.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(f.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(f.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(f.iridescenceMap=this.iridescenceMap.toJSON(r).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(f.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(r).uuid),this.anisotropy!==void 0&&(f.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(f.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(f.anisotropyMap=this.anisotropyMap.toJSON(r).uuid),this.map&&this.map.isTexture&&(f.map=this.map.toJSON(r).uuid),this.matcap&&this.matcap.isTexture&&(f.matcap=this.matcap.toJSON(r).uuid),this.alphaMap&&this.alphaMap.isTexture&&(f.alphaMap=this.alphaMap.toJSON(r).uuid),this.lightMap&&this.lightMap.isTexture&&(f.lightMap=this.lightMap.toJSON(r).uuid,f.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(f.aoMap=this.aoMap.toJSON(r).uuid,f.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(f.bumpMap=this.bumpMap.toJSON(r).uuid,f.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(f.normalMap=this.normalMap.toJSON(r).uuid,f.normalMapType=this.normalMapType,f.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(f.displacementMap=this.displacementMap.toJSON(r).uuid,f.displacementScale=this.displacementScale,f.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(f.roughnessMap=this.roughnessMap.toJSON(r).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(f.metalnessMap=this.metalnessMap.toJSON(r).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(f.emissiveMap=this.emissiveMap.toJSON(r).uuid),this.specularMap&&this.specularMap.isTexture&&(f.specularMap=this.specularMap.toJSON(r).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(f.specularIntensityMap=this.specularIntensityMap.toJSON(r).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(f.specularColorMap=this.specularColorMap.toJSON(r).uuid),this.envMap&&this.envMap.isTexture&&(f.envMap=this.envMap.toJSON(r).uuid,this.combine!==void 0&&(f.combine=this.combine)),this.envMapRotation!==void 0&&(f.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(f.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(f.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(f.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(f.gradientMap=this.gradientMap.toJSON(r).uuid),this.transmission!==void 0&&(f.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(f.transmissionMap=this.transmissionMap.toJSON(r).uuid),this.thickness!==void 0&&(f.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(f.thicknessMap=this.thicknessMap.toJSON(r).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(f.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(f.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(f.size=this.size),this.shadowSide!==null&&(f.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(f.sizeAttenuation=this.sizeAttenuation),this.blending!==Fs&&(f.blending=this.blending),this.side!==Cs&&(f.side=this.side),this.vertexColors===!0&&(f.vertexColors=!0),this.opacity<1&&(f.opacity=this.opacity),this.transparent===!0&&(f.transparent=!0),this.blendSrc!==rf&&(f.blendSrc=this.blendSrc),this.blendDst!==sf&&(f.blendDst=this.blendDst),this.blendEquation!==Or&&(f.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(f.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(f.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(f.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(f.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(f.blendAlpha=this.blendAlpha),this.depthFunc!==fa&&(f.depthFunc=this.depthFunc),this.depthTest===!1&&(f.depthTest=this.depthTest),this.depthWrite===!1&&(f.depthWrite=this.depthWrite),this.colorWrite===!1&&(f.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(f.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==cd&&(f.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(f.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(f.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ua&&(f.stencilFail=this.stencilFail),this.stencilZFail!==Ua&&(f.stencilZFail=this.stencilZFail),this.stencilZPass!==Ua&&(f.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(f.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(f.rotation=this.rotation),this.polygonOffset===!0&&(f.polygonOffset=!0),this.polygonOffsetFactor!==0&&(f.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(f.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(f.linewidth=this.linewidth),this.dashSize!==void 0&&(f.dashSize=this.dashSize),this.gapSize!==void 0&&(f.gapSize=this.gapSize),this.scale!==void 0&&(f.scale=this.scale),this.dithering===!0&&(f.dithering=!0),this.alphaTest>0&&(f.alphaTest=this.alphaTest),this.alphaHash===!0&&(f.alphaHash=!0),this.alphaToCoverage===!0&&(f.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(f.premultipliedAlpha=!0),this.forceSinglePass===!0&&(f.forceSinglePass=!0),this.wireframe===!0&&(f.wireframe=!0),this.wireframeLinewidth>1&&(f.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(f.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(f.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(f.flatShading=!0),this.visible===!1&&(f.visible=!1),this.toneMapped===!1&&(f.toneMapped=!1),this.fog===!1&&(f.fog=!1),Object.keys(this.userData).length>0&&(f.userData=this.userData);function p(y){const T=[];for(const R in y){const b=y[R];delete b.metadata,T.push(b)}return T}if(c){const y=p(r.textures),T=p(r.images);y.length>0&&(f.textures=y),T.length>0&&(f.images=T)}return f}clone(){return new this.constructor().copy(this)}copy(r){this.name=r.name,this.blending=r.blending,this.side=r.side,this.vertexColors=r.vertexColors,this.opacity=r.opacity,this.transparent=r.transparent,this.blendSrc=r.blendSrc,this.blendDst=r.blendDst,this.blendEquation=r.blendEquation,this.blendSrcAlpha=r.blendSrcAlpha,this.blendDstAlpha=r.blendDstAlpha,this.blendEquationAlpha=r.blendEquationAlpha,this.blendColor.copy(r.blendColor),this.blendAlpha=r.blendAlpha,this.depthFunc=r.depthFunc,this.depthTest=r.depthTest,this.depthWrite=r.depthWrite,this.stencilWriteMask=r.stencilWriteMask,this.stencilFunc=r.stencilFunc,this.stencilRef=r.stencilRef,this.stencilFuncMask=r.stencilFuncMask,this.stencilFail=r.stencilFail,this.stencilZFail=r.stencilZFail,this.stencilZPass=r.stencilZPass,this.stencilWrite=r.stencilWrite;const c=r.clippingPlanes;let f=null;if(c!==null){const p=c.length;f=new Array(p);for(let y=0;y!==p;++y)f[y]=c[y].clone()}return this.clippingPlanes=f,this.clipIntersection=r.clipIntersection,this.clipShadows=r.clipShadows,this.shadowSide=r.shadowSide,this.colorWrite=r.colorWrite,this.precision=r.precision,this.polygonOffset=r.polygonOffset,this.polygonOffsetFactor=r.polygonOffsetFactor,this.polygonOffsetUnits=r.polygonOffsetUnits,this.dithering=r.dithering,this.alphaTest=r.alphaTest,this.alphaHash=r.alphaHash,this.alphaToCoverage=r.alphaToCoverage,this.premultipliedAlpha=r.premultipliedAlpha,this.forceSinglePass=r.forceSinglePass,this.visible=r.visible,this.toneMapped=r.toneMapped,this.userData=JSON.parse(JSON.stringify(r.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(r){r===!0&&this.version++}}class ho extends Hr{constructor(r){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ri(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wr,this.combine=Af,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.fog=r.fog,this}}const R1=Loe();function Loe(){const v=new ArrayBuffer(4),r=new Float32Array(v),c=new Uint32Array(v),f=new Uint32Array(512),p=new Uint32Array(512);for(let b=0;b<256;++b){const P=b-127;P<-27?(f[b]=0,f[b|256]=32768,p[b]=24,p[b|256]=24):P<-14?(f[b]=1024>>-P-14,f[b|256]=1024>>-P-14|32768,p[b]=-P-1,p[b|256]=-P-1):P<=15?(f[b]=P+15<<10,f[b|256]=P+15<<10|32768,p[b]=13,p[b|256]=13):P<128?(f[b]=31744,f[b|256]=64512,p[b]=24,p[b|256]=24):(f[b]=31744,f[b|256]=64512,p[b]=13,p[b|256]=13)}const y=new Uint32Array(2048),T=new Uint32Array(64),R=new Uint32Array(64);for(let b=1;b<1024;++b){let P=b<<13,G=0;for(;(P&8388608)===0;)P<<=1,G-=8388608;P&=-8388609,G+=947912704,y[b]=P|G}for(let b=1024;b<2048;++b)y[b]=939524096+(b-1024<<13);for(let b=1;b<31;++b)T[b]=b<<23;T[31]=1199570944,T[32]=2147483648;for(let b=33;b<63;++b)T[b]=2147483648+(b-32<<23);T[63]=3347054592;for(let b=1;b<64;++b)b!==32&&(R[b]=1024);return{floatView:r,uint32View:c,baseTable:f,shiftTable:p,mantissaTable:y,exponentTable:T,offsetTable:R}}function Ns(v){Math.abs(v)>65504&&jt("DataUtils.toHalfFloat(): Value out of range."),v=Zi(v,-65504,65504),R1.floatView[0]=v;const r=R1.uint32View[0],c=r>>23&511;return R1.baseTable[c]+((r&8388607)>>R1.shiftTable[c])}function wp(v){const r=v>>10;return R1.uint32View[0]=R1.mantissaTable[R1.offsetTable[r]+(v&1023)]+R1.exponentTable[r],R1.floatView[0]}const Y2=new nt,Mp=new O0;let koe=0;class zr{constructor(r,c,f=!1){if(Array.isArray(r))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:koe++}),this.name="",this.array=r,this.itemSize=c,this.count=r!==void 0?r.length/c:0,this.normalized=f,this.usage=d_,this.updateRanges=[],this.gpuType=P2,this.version=0}onUploadCallback(){}set needsUpdate(r){r===!0&&this.version++}setUsage(r){return this.usage=r,this}addUpdateRange(r,c){this.updateRanges.push({start:r,count:c})}clearUpdateRanges(){this.updateRanges.length=0}copy(r){return this.name=r.name,this.array=new r.array.constructor(r.array),this.itemSize=r.itemSize,this.count=r.count,this.normalized=r.normalized,this.usage=r.usage,this.gpuType=r.gpuType,this}copyAt(r,c,f){r*=this.itemSize,f*=c.itemSize;for(let p=0,y=this.itemSize;p<y;p++)this.array[r+p]=c.array[f+p];return this}copyArray(r){return this.array.set(r),this}applyMatrix3(r){if(this.itemSize===2)for(let c=0,f=this.count;c<f;c++)Mp.fromBufferAttribute(this,c),Mp.applyMatrix3(r),this.setXY(c,Mp.x,Mp.y);else if(this.itemSize===3)for(let c=0,f=this.count;c<f;c++)Y2.fromBufferAttribute(this,c),Y2.applyMatrix3(r),this.setXYZ(c,Y2.x,Y2.y,Y2.z);return this}applyMatrix4(r){for(let c=0,f=this.count;c<f;c++)Y2.fromBufferAttribute(this,c),Y2.applyMatrix4(r),this.setXYZ(c,Y2.x,Y2.y,Y2.z);return this}applyNormalMatrix(r){for(let c=0,f=this.count;c<f;c++)Y2.fromBufferAttribute(this,c),Y2.applyNormalMatrix(r),this.setXYZ(c,Y2.x,Y2.y,Y2.z);return this}transformDirection(r){for(let c=0,f=this.count;c<f;c++)Y2.fromBufferAttribute(this,c),Y2.transformDirection(r),this.setXYZ(c,Y2.x,Y2.y,Y2.z);return this}set(r,c=0){return this.array.set(r,c),this}getComponent(r,c){let f=this.array[r*this.itemSize+c];return this.normalized&&(f=is(f,this.array)),f}setComponent(r,c,f){return this.normalized&&(f=ji(f,this.array)),this.array[r*this.itemSize+c]=f,this}getX(r){let c=this.array[r*this.itemSize];return this.normalized&&(c=is(c,this.array)),c}setX(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize]=c,this}getY(r){let c=this.array[r*this.itemSize+1];return this.normalized&&(c=is(c,this.array)),c}setY(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize+1]=c,this}getZ(r){let c=this.array[r*this.itemSize+2];return this.normalized&&(c=is(c,this.array)),c}setZ(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize+2]=c,this}getW(r){let c=this.array[r*this.itemSize+3];return this.normalized&&(c=is(c,this.array)),c}setW(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize+3]=c,this}setXY(r,c,f){return r*=this.itemSize,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array)),this.array[r+0]=c,this.array[r+1]=f,this}setXYZ(r,c,f,p){return r*=this.itemSize,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array),p=ji(p,this.array)),this.array[r+0]=c,this.array[r+1]=f,this.array[r+2]=p,this}setXYZW(r,c,f,p,y){return r*=this.itemSize,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array),p=ji(p,this.array),y=ji(y,this.array)),this.array[r+0]=c,this.array[r+1]=f,this.array[r+2]=p,this.array[r+3]=y,this}onUpload(r){return this.onUploadCallback=r,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const r={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(r.name=this.name),this.usage!==d_&&(r.usage=this.usage),r}}class t8 extends zr{constructor(r,c,f){super(new Uint16Array(r),c,f)}}class i8 extends zr{constructor(r,c,f){super(new Uint32Array(r),c,f)}}class sx extends zr{constructor(r,c,f){super(new Uint16Array(r),c,f),this.isFloat16BufferAttribute=!0}getX(r){let c=wp(this.array[r*this.itemSize]);return this.normalized&&(c=is(c,this.array)),c}setX(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize]=Ns(c),this}getY(r){let c=wp(this.array[r*this.itemSize+1]);return this.normalized&&(c=is(c,this.array)),c}setY(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize+1]=Ns(c),this}getZ(r){let c=wp(this.array[r*this.itemSize+2]);return this.normalized&&(c=is(c,this.array)),c}setZ(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize+2]=Ns(c),this}getW(r){let c=wp(this.array[r*this.itemSize+3]);return this.normalized&&(c=is(c,this.array)),c}setW(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize+3]=Ns(c),this}setXY(r,c,f){return r*=this.itemSize,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array)),this.array[r+0]=Ns(c),this.array[r+1]=Ns(f),this}setXYZ(r,c,f,p){return r*=this.itemSize,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array),p=ji(p,this.array)),this.array[r+0]=Ns(c),this.array[r+1]=Ns(f),this.array[r+2]=Ns(p),this}setXYZW(r,c,f,p,y){return r*=this.itemSize,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array),p=ji(p,this.array),y=ji(y,this.array)),this.array[r+0]=Ns(c),this.array[r+1]=Ns(f),this.array[r+2]=Ns(p),this.array[r+3]=Ns(y),this}}class y2 extends zr{constructor(r,c,f){super(new Float32Array(r),c,f)}}let Foe=0;const qs=new wi,u4=new O2,Gc=new nt,Ds=new eu,wu=new eu,Sr=new nt;class os extends Jo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Foe++}),this.uuid=vo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(r){return Array.isArray(r)?this.index=new(Kd(r)?i8:t8)(r,1):this.index=r,this}setIndirect(r){return this.indirect=r,this}getIndirect(){return this.indirect}getAttribute(r){return this.attributes[r]}setAttribute(r,c){return this.attributes[r]=c,this}deleteAttribute(r){return delete this.attributes[r],this}hasAttribute(r){return this.attributes[r]!==void 0}addGroup(r,c,f=0){this.groups.push({start:r,count:c,materialIndex:f})}clearGroups(){this.groups=[]}setDrawRange(r,c){this.drawRange.start=r,this.drawRange.count=c}applyMatrix4(r){const c=this.attributes.position;c!==void 0&&(c.applyMatrix4(r),c.needsUpdate=!0);const f=this.attributes.normal;if(f!==void 0){const y=new Pi().getNormalMatrix(r);f.applyNormalMatrix(y),f.needsUpdate=!0}const p=this.attributes.tangent;return p!==void 0&&(p.transformDirection(r),p.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(r){return qs.makeRotationFromQuaternion(r),this.applyMatrix4(qs),this}rotateX(r){return qs.makeRotationX(r),this.applyMatrix4(qs),this}rotateY(r){return qs.makeRotationY(r),this.applyMatrix4(qs),this}rotateZ(r){return qs.makeRotationZ(r),this.applyMatrix4(qs),this}translate(r,c,f){return qs.makeTranslation(r,c,f),this.applyMatrix4(qs),this}scale(r,c,f){return qs.makeScale(r,c,f),this.applyMatrix4(qs),this}lookAt(r){return u4.lookAt(r),u4.updateMatrix(),this.applyMatrix4(u4.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gc).negate(),this.translate(Gc.x,Gc.y,Gc.z),this}setFromPoints(r){const c=this.getAttribute("position");if(c===void 0){const f=[];for(let p=0,y=r.length;p<y;p++){const T=r[p];f.push(T.x,T.y,T.z||0)}this.setAttribute("position",new y2(f,3))}else{const f=Math.min(r.length,c.count);for(let p=0;p<f;p++){const y=r[p];c.setXYZ(p,y.x,y.y,y.z||0)}r.length>c.count&&jt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),c.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new eu);const r=this.attributes.position,c=this.morphAttributes.position;if(r&&r.isGLBufferAttribute){i0("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new nt(-1/0,-1/0,-1/0),new nt(1/0,1/0,1/0));return}if(r!==void 0){if(this.boundingBox.setFromBufferAttribute(r),c)for(let f=0,p=c.length;f<p;f++){const y=c[f];Ds.setFromBufferAttribute(y),this.morphTargetsRelative?(Sr.addVectors(this.boundingBox.min,Ds.min),this.boundingBox.expandByPoint(Sr),Sr.addVectors(this.boundingBox.max,Ds.max),this.boundingBox.expandByPoint(Sr)):(this.boundingBox.expandByPoint(Ds.min),this.boundingBox.expandByPoint(Ds.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&i0('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new lc);const r=this.attributes.position,c=this.morphAttributes.position;if(r&&r.isGLBufferAttribute){i0("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new nt,1/0);return}if(r){const f=this.boundingSphere.center;if(Ds.setFromBufferAttribute(r),c)for(let y=0,T=c.length;y<T;y++){const R=c[y];wu.setFromBufferAttribute(R),this.morphTargetsRelative?(Sr.addVectors(Ds.min,wu.min),Ds.expandByPoint(Sr),Sr.addVectors(Ds.max,wu.max),Ds.expandByPoint(Sr)):(Ds.expandByPoint(wu.min),Ds.expandByPoint(wu.max))}Ds.getCenter(f);let p=0;for(let y=0,T=r.count;y<T;y++)Sr.fromBufferAttribute(r,y),p=Math.max(p,f.distanceToSquared(Sr));if(c)for(let y=0,T=c.length;y<T;y++){const R=c[y],b=this.morphTargetsRelative;for(let P=0,G=R.count;P<G;P++)Sr.fromBufferAttribute(R,P),b&&(Gc.fromBufferAttribute(r,P),Sr.add(Gc)),p=Math.max(p,f.distanceToSquared(Sr))}this.boundingSphere.radius=Math.sqrt(p),isNaN(this.boundingSphere.radius)&&i0('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const r=this.index,c=this.attributes;if(r===null||c.position===void 0||c.normal===void 0||c.uv===void 0){i0("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const f=c.position,p=c.normal,y=c.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new zr(new Float32Array(4*f.count),4));const T=this.getAttribute("tangent"),R=[],b=[];for(let $e=0;$e<f.count;$e++)R[$e]=new nt,b[$e]=new nt;const P=new nt,G=new nt,j=new nt,K=new O0,Q=new O0,ie=new O0,ce=new nt,ue=new nt;function se($e,Ee,Ie){P.fromBufferAttribute(f,$e),G.fromBufferAttribute(f,Ee),j.fromBufferAttribute(f,Ie),K.fromBufferAttribute(y,$e),Q.fromBufferAttribute(y,Ee),ie.fromBufferAttribute(y,Ie),G.sub(P),j.sub(P),Q.sub(K),ie.sub(K);const Je=1/(Q.x*ie.y-ie.x*Q.y);isFinite(Je)&&(ce.copy(G).multiplyScalar(ie.y).addScaledVector(j,-Q.y).multiplyScalar(Je),ue.copy(j).multiplyScalar(Q.x).addScaledVector(G,-ie.x).multiplyScalar(Je),R[$e].add(ce),R[Ee].add(ce),R[Ie].add(ce),b[$e].add(ue),b[Ee].add(ue),b[Ie].add(ue))}let Ne=this.groups;Ne.length===0&&(Ne=[{start:0,count:r.count}]);for(let $e=0,Ee=Ne.length;$e<Ee;++$e){const Ie=Ne[$e],Je=Ie.start,ft=Ie.count;for(let yt=Je,Et=Je+ft;yt<Et;yt+=3)se(r.getX(yt+0),r.getX(yt+1),r.getX(yt+2))}const De=new nt,Oe=new nt,je=new nt,Be=new nt;function We($e){je.fromBufferAttribute(p,$e),Be.copy(je);const Ee=R[$e];De.copy(Ee),De.sub(je.multiplyScalar(je.dot(Ee))).normalize(),Oe.crossVectors(Be,Ee);const Je=Oe.dot(b[$e])<0?-1:1;T.setXYZW($e,De.x,De.y,De.z,Je)}for(let $e=0,Ee=Ne.length;$e<Ee;++$e){const Ie=Ne[$e],Je=Ie.start,ft=Ie.count;for(let yt=Je,Et=Je+ft;yt<Et;yt+=3)We(r.getX(yt+0)),We(r.getX(yt+1)),We(r.getX(yt+2))}}computeVertexNormals(){const r=this.index,c=this.getAttribute("position");if(c!==void 0){let f=this.getAttribute("normal");if(f===void 0)f=new zr(new Float32Array(c.count*3),3),this.setAttribute("normal",f);else for(let K=0,Q=f.count;K<Q;K++)f.setXYZ(K,0,0,0);const p=new nt,y=new nt,T=new nt,R=new nt,b=new nt,P=new nt,G=new nt,j=new nt;if(r)for(let K=0,Q=r.count;K<Q;K+=3){const ie=r.getX(K+0),ce=r.getX(K+1),ue=r.getX(K+2);p.fromBufferAttribute(c,ie),y.fromBufferAttribute(c,ce),T.fromBufferAttribute(c,ue),G.subVectors(T,y),j.subVectors(p,y),G.cross(j),R.fromBufferAttribute(f,ie),b.fromBufferAttribute(f,ce),P.fromBufferAttribute(f,ue),R.add(G),b.add(G),P.add(G),f.setXYZ(ie,R.x,R.y,R.z),f.setXYZ(ce,b.x,b.y,b.z),f.setXYZ(ue,P.x,P.y,P.z)}else for(let K=0,Q=c.count;K<Q;K+=3)p.fromBufferAttribute(c,K+0),y.fromBufferAttribute(c,K+1),T.fromBufferAttribute(c,K+2),G.subVectors(T,y),j.subVectors(p,y),G.cross(j),f.setXYZ(K+0,G.x,G.y,G.z),f.setXYZ(K+1,G.x,G.y,G.z),f.setXYZ(K+2,G.x,G.y,G.z);this.normalizeNormals(),f.needsUpdate=!0}}normalizeNormals(){const r=this.attributes.normal;for(let c=0,f=r.count;c<f;c++)Sr.fromBufferAttribute(r,c),Sr.normalize(),r.setXYZ(c,Sr.x,Sr.y,Sr.z)}toNonIndexed(){function r(R,b){const P=R.array,G=R.itemSize,j=R.normalized,K=new P.constructor(b.length*G);let Q=0,ie=0;for(let ce=0,ue=b.length;ce<ue;ce++){R.isInterleavedBufferAttribute?Q=b[ce]*R.data.stride+R.offset:Q=b[ce]*G;for(let se=0;se<G;se++)K[ie++]=P[Q++]}return new zr(K,G,j)}if(this.index===null)return jt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const c=new os,f=this.index.array,p=this.attributes;for(const R in p){const b=p[R],P=r(b,f);c.setAttribute(R,P)}const y=this.morphAttributes;for(const R in y){const b=[],P=y[R];for(let G=0,j=P.length;G<j;G++){const K=P[G],Q=r(K,f);b.push(Q)}c.morphAttributes[R]=b}c.morphTargetsRelative=this.morphTargetsRelative;const T=this.groups;for(let R=0,b=T.length;R<b;R++){const P=T[R];c.addGroup(P.start,P.count,P.materialIndex)}return c}toJSON(){const r={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),Object.keys(this.userData).length>0&&(r.userData=this.userData),this.parameters!==void 0){const b=this.parameters;for(const P in b)b[P]!==void 0&&(r[P]=b[P]);return r}r.data={attributes:{}};const c=this.index;c!==null&&(r.data.index={type:c.array.constructor.name,array:Array.prototype.slice.call(c.array)});const f=this.attributes;for(const b in f){const P=f[b];r.data.attributes[b]=P.toJSON(r.data)}const p={};let y=!1;for(const b in this.morphAttributes){const P=this.morphAttributes[b],G=[];for(let j=0,K=P.length;j<K;j++){const Q=P[j];G.push(Q.toJSON(r.data))}G.length>0&&(p[b]=G,y=!0)}y&&(r.data.morphAttributes=p,r.data.morphTargetsRelative=this.morphTargetsRelative);const T=this.groups;T.length>0&&(r.data.groups=JSON.parse(JSON.stringify(T)));const R=this.boundingSphere;return R!==null&&(r.data.boundingSphere=R.toJSON()),r}clone(){return new this.constructor().copy(this)}copy(r){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const c={};this.name=r.name;const f=r.index;f!==null&&this.setIndex(f.clone());const p=r.attributes;for(const P in p){const G=p[P];this.setAttribute(P,G.clone(c))}const y=r.morphAttributes;for(const P in y){const G=[],j=y[P];for(let K=0,Q=j.length;K<Q;K++)G.push(j[K].clone(c));this.morphAttributes[P]=G}this.morphTargetsRelative=r.morphTargetsRelative;const T=r.groups;for(let P=0,G=T.length;P<G;P++){const j=T[P];this.addGroup(j.start,j.count,j.materialIndex)}const R=r.boundingBox;R!==null&&(this.boundingBox=R.clone());const b=r.boundingSphere;return b!==null&&(this.boundingSphere=b.clone()),this.drawRange.start=r.drawRange.start,this.drawRange.count=r.drawRange.count,this.userData=r.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const d3=new wi,Da=new Nf,Rp=new lc,m3=new nt,Ap=new nt,Ep=new nt,bp=new nt,f4=new nt,Np=new nt,g3=new nt,Dp=new nt;class G2 extends O2{constructor(r=new os,c=new ho){super(),this.isMesh=!0,this.type="Mesh",this.geometry=r,this.material=c,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(r,c){return super.copy(r,c),r.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=r.morphTargetInfluences.slice()),r.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},r.morphTargetDictionary)),this.material=Array.isArray(r.material)?r.material.slice():r.material,this.geometry=r.geometry,this}updateMorphTargets(){const c=this.geometry.morphAttributes,f=Object.keys(c);if(f.length>0){const p=c[f[0]];if(p!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let y=0,T=p.length;y<T;y++){const R=p[y].name||String(y);this.morphTargetInfluences.push(0),this.morphTargetDictionary[R]=y}}}}getVertexPosition(r,c){const f=this.geometry,p=f.attributes.position,y=f.morphAttributes.position,T=f.morphTargetsRelative;c.fromBufferAttribute(p,r);const R=this.morphTargetInfluences;if(y&&R){Np.set(0,0,0);for(let b=0,P=y.length;b<P;b++){const G=R[b],j=y[b];G!==0&&(f4.fromBufferAttribute(j,r),T?Np.addScaledVector(f4,G):Np.addScaledVector(f4.sub(c),G))}c.add(Np)}return c}raycast(r,c){const f=this.geometry,p=this.material,y=this.matrixWorld;p!==void 0&&(f.boundingSphere===null&&f.computeBoundingSphere(),Rp.copy(f.boundingSphere),Rp.applyMatrix4(y),Da.copy(r.ray).recast(r.near),!(Rp.containsPoint(Da.origin)===!1&&(Da.intersectSphere(Rp,m3)===null||Da.origin.distanceToSquared(m3)>(r.far-r.near)**2))&&(d3.copy(y).invert(),Da.copy(r.ray).applyMatrix4(d3),!(f.boundingBox!==null&&Da.intersectsBox(f.boundingBox)===!1)&&this._computeIntersections(r,c,Da)))}_computeIntersections(r,c,f){let p;const y=this.geometry,T=this.material,R=y.index,b=y.attributes.position,P=y.attributes.uv,G=y.attributes.uv1,j=y.attributes.normal,K=y.groups,Q=y.drawRange;if(R!==null)if(Array.isArray(T))for(let ie=0,ce=K.length;ie<ce;ie++){const ue=K[ie],se=T[ue.materialIndex],Ne=Math.max(ue.start,Q.start),De=Math.min(R.count,Math.min(ue.start+ue.count,Q.start+Q.count));for(let Oe=Ne,je=De;Oe<je;Oe+=3){const Be=R.getX(Oe),We=R.getX(Oe+1),$e=R.getX(Oe+2);p=Ip(this,se,r,f,P,G,j,Be,We,$e),p&&(p.faceIndex=Math.floor(Oe/3),p.face.materialIndex=ue.materialIndex,c.push(p))}}else{const ie=Math.max(0,Q.start),ce=Math.min(R.count,Q.start+Q.count);for(let ue=ie,se=ce;ue<se;ue+=3){const Ne=R.getX(ue),De=R.getX(ue+1),Oe=R.getX(ue+2);p=Ip(this,T,r,f,P,G,j,Ne,De,Oe),p&&(p.faceIndex=Math.floor(ue/3),c.push(p))}}else if(b!==void 0)if(Array.isArray(T))for(let ie=0,ce=K.length;ie<ce;ie++){const ue=K[ie],se=T[ue.materialIndex],Ne=Math.max(ue.start,Q.start),De=Math.min(b.count,Math.min(ue.start+ue.count,Q.start+Q.count));for(let Oe=Ne,je=De;Oe<je;Oe+=3){const Be=Oe,We=Oe+1,$e=Oe+2;p=Ip(this,se,r,f,P,G,j,Be,We,$e),p&&(p.faceIndex=Math.floor(Oe/3),p.face.materialIndex=ue.materialIndex,c.push(p))}}else{const ie=Math.max(0,Q.start),ce=Math.min(b.count,Q.start+Q.count);for(let ue=ie,se=ce;ue<se;ue+=3){const Ne=ue,De=ue+1,Oe=ue+2;p=Ip(this,T,r,f,P,G,j,Ne,De,Oe),p&&(p.faceIndex=Math.floor(ue/3),c.push(p))}}}}function Boe(v,r,c,f,p,y,T,R){let b;if(r.side===Zn?b=f.intersectTriangle(T,y,p,!0,R):b=f.intersectTriangle(p,y,T,r.side===Cs,R),b===null)return null;Dp.copy(R),Dp.applyMatrix4(v.matrixWorld);const P=c.ray.origin.distanceTo(Dp);return P<c.near||P>c.far?null:{distance:P,point:Dp.clone(),object:v}}function Ip(v,r,c,f,p,y,T,R,b,P){v.getVertexPosition(R,Ap),v.getVertexPosition(b,Ep),v.getVertexPosition(P,bp);const G=Boe(v,r,c,f,Ap,Ep,bp,g3);if(G){const j=new nt;_o.getBarycoord(g3,Ap,Ep,bp,j),p&&(G.uv=_o.getInterpolatedAttribute(p,R,b,P,j,new O0)),y&&(G.uv1=_o.getInterpolatedAttribute(y,R,b,P,j,new O0)),T&&(G.normal=_o.getInterpolatedAttribute(T,R,b,P,j,new nt),G.normal.dot(f.direction)>0&&G.normal.multiplyScalar(-1));const K={a:R,b,c:P,normal:new nt,materialIndex:0};_o.getNormal(Ap,Ep,bp,K.normal),G.face=K,G.barycoord=j}return G}class B1 extends os{constructor(r=1,c=1,f=1,p=1,y=1,T=1){super(),this.type="BoxGeometry",this.parameters={width:r,height:c,depth:f,widthSegments:p,heightSegments:y,depthSegments:T};const R=this;p=Math.floor(p),y=Math.floor(y),T=Math.floor(T);const b=[],P=[],G=[],j=[];let K=0,Q=0;ie("z","y","x",-1,-1,f,c,r,T,y,0),ie("z","y","x",1,-1,f,c,-r,T,y,1),ie("x","z","y",1,1,r,f,c,p,T,2),ie("x","z","y",1,-1,r,f,-c,p,T,3),ie("x","y","z",1,-1,r,c,f,p,y,4),ie("x","y","z",-1,-1,r,c,-f,p,y,5),this.setIndex(b),this.setAttribute("position",new y2(P,3)),this.setAttribute("normal",new y2(G,3)),this.setAttribute("uv",new y2(j,2));function ie(ce,ue,se,Ne,De,Oe,je,Be,We,$e,Ee){const Ie=Oe/We,Je=je/$e,ft=Oe/2,yt=je/2,Et=Be/2,Dt=We+1,ct=$e+1;let Wt=0,vt=0;const Ht=new nt;for(let Qt=0;Qt<ct;Qt++){const a0=Qt*Je-yt;for(let G0=0;G0<Dt;G0++){const C0=G0*Ie-ft;Ht[ce]=C0*Ne,Ht[ue]=a0*De,Ht[se]=Et,P.push(Ht.x,Ht.y,Ht.z),Ht[ce]=0,Ht[ue]=0,Ht[se]=Be>0?1:-1,G.push(Ht.x,Ht.y,Ht.z),j.push(G0/We),j.push(1-Qt/$e),Wt+=1}}for(let Qt=0;Qt<$e;Qt++)for(let a0=0;a0<We;a0++){const G0=K+a0+Dt*Qt,C0=K+a0+Dt*(Qt+1),w0=K+(a0+1)+Dt*(Qt+1),y0=K+(a0+1)+Dt*Qt;b.push(G0,C0,y0),b.push(C0,w0,y0),vt+=6}R.addGroup(Q,vt,Ee),Q+=vt,K+=Wt}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new B1(r.width,r.height,r.depth,r.widthSegments,r.heightSegments,r.depthSegments)}}function Gl(v){const r={};for(const c in v){r[c]={};for(const f in v[c]){const p=v[c][f];p&&(p.isColor||p.isMatrix3||p.isMatrix4||p.isVector2||p.isVector3||p.isVector4||p.isTexture||p.isQuaternion)?p.isRenderTargetTexture?(jt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),r[c][f]=null):r[c][f]=p.clone():Array.isArray(p)?r[c][f]=p.slice():r[c][f]=p}}return r}function Jr(v){const r={};for(let c=0;c<v.length;c++){const f=Gl(v[c]);for(const p in f)r[p]=f[p]}return r}function Uoe(v){const r=[];for(let c=0;c<v.length;c++)r.push(v[c].clone());return r}function ox(v){const r=v.getRenderTarget();return r===null?v.outputColorSpace:r.isXRRenderTarget===!0?r.texture.colorSpace:pi.workingColorSpace}const Ooe={clone:Gl,merge:Jr};var Goe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Voe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class L1 extends Hr{constructor(r){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Goe,this.fragmentShader=Voe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,r!==void 0&&this.setValues(r)}copy(r){return super.copy(r),this.fragmentShader=r.fragmentShader,this.vertexShader=r.vertexShader,this.uniforms=Gl(r.uniforms),this.uniformsGroups=Uoe(r.uniformsGroups),this.defines=Object.assign({},r.defines),this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.fog=r.fog,this.lights=r.lights,this.clipping=r.clipping,this.extensions=Object.assign({},r.extensions),this.glslVersion=r.glslVersion,this}toJSON(r){const c=super.toJSON(r);c.glslVersion=this.glslVersion,c.uniforms={};for(const p in this.uniforms){const T=this.uniforms[p].value;T&&T.isTexture?c.uniforms[p]={type:"t",value:T.toJSON(r).uuid}:T&&T.isColor?c.uniforms[p]={type:"c",value:T.getHex()}:T&&T.isVector2?c.uniforms[p]={type:"v2",value:T.toArray()}:T&&T.isVector3?c.uniforms[p]={type:"v3",value:T.toArray()}:T&&T.isVector4?c.uniforms[p]={type:"v4",value:T.toArray()}:T&&T.isMatrix3?c.uniforms[p]={type:"m3",value:T.toArray()}:T&&T.isMatrix4?c.uniforms[p]={type:"m4",value:T.toArray()}:c.uniforms[p]={value:T}}Object.keys(this.defines).length>0&&(c.defines=this.defines),c.vertexShader=this.vertexShader,c.fragmentShader=this.fragmentShader,c.lights=this.lights,c.clipping=this.clipping;const f={};for(const p in this.extensions)this.extensions[p]===!0&&(f[p]=!0);return Object.keys(f).length>0&&(c.extensions=f),c}}class n8 extends O2{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new wi,this.projectionMatrix=new wi,this.projectionMatrixInverse=new wi,this.coordinateSystem=rs,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(r,c){return super.copy(r,c),this.matrixWorldInverse.copy(r.matrixWorldInverse),this.projectionMatrix.copy(r.projectionMatrix),this.projectionMatrixInverse.copy(r.projectionMatrixInverse),this.coordinateSystem=r.coordinateSystem,this}getWorldDirection(r){return super.getWorldDirection(r).negate()}updateMatrixWorld(r){super.updateMatrixWorld(r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(r,c){super.updateWorldMatrix(r,c),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Q1=new nt,x3=new O0,y3=new O0;class Z2 extends n8{constructor(r=50,c=1,f=.1,p=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=r,this.zoom=1,this.near=f,this.far=p,this.focus=10,this.aspect=c,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(r,c){return super.copy(r,c),this.fov=r.fov,this.zoom=r.zoom,this.near=r.near,this.far=r.far,this.focus=r.focus,this.aspect=r.aspect,this.view=r.view===null?null:Object.assign({},r.view),this.filmGauge=r.filmGauge,this.filmOffset=r.filmOffset,this}setFocalLength(r){const c=.5*this.getFilmHeight()/r;this.fov=nc*2*Math.atan(c),this.updateProjectionMatrix()}getFocalLength(){const r=Math.tan(Xu*.5*this.fov);return .5*this.getFilmHeight()/r}getEffectiveFOV(){return nc*2*Math.atan(Math.tan(Xu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(r,c,f){Q1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),c.set(Q1.x,Q1.y).multiplyScalar(-r/Q1.z),Q1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),f.set(Q1.x,Q1.y).multiplyScalar(-r/Q1.z)}getViewSize(r,c){return this.getViewBounds(r,x3,y3),c.subVectors(y3,x3)}setViewOffset(r,c,f,p,y,T){this.aspect=r/c,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=c,this.view.offsetX=f,this.view.offsetY=p,this.view.width=y,this.view.height=T,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const r=this.near;let c=r*Math.tan(Xu*.5*this.fov)/this.zoom,f=2*c,p=this.aspect*f,y=-.5*p;const T=this.view;if(this.view!==null&&this.view.enabled){const b=T.fullWidth,P=T.fullHeight;y+=T.offsetX*p/b,c-=T.offsetY*f/P,p*=T.width/b,f*=T.height/P}const R=this.filmOffset;R!==0&&(y+=r*R/this.getFilmWidth()),this.projectionMatrix.makePerspective(y,y+p,c,c-f,r,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(r){const c=super.toJSON(r);return c.object.fov=this.fov,c.object.zoom=this.zoom,c.object.near=this.near,c.object.far=this.far,c.object.focus=this.focus,c.object.aspect=this.aspect,this.view!==null&&(c.object.view=Object.assign({},this.view)),c.object.filmGauge=this.filmGauge,c.object.filmOffset=this.filmOffset,c}}const Vc=-90,zc=1;class ax extends O2{constructor(r,c,f){super(),this.type="CubeCamera",this.renderTarget=f,this.coordinateSystem=null,this.activeMipmapLevel=0;const p=new Z2(Vc,zc,r,c);p.layers=this.layers,this.add(p);const y=new Z2(Vc,zc,r,c);y.layers=this.layers,this.add(y);const T=new Z2(Vc,zc,r,c);T.layers=this.layers,this.add(T);const R=new Z2(Vc,zc,r,c);R.layers=this.layers,this.add(R);const b=new Z2(Vc,zc,r,c);b.layers=this.layers,this.add(b);const P=new Z2(Vc,zc,r,c);P.layers=this.layers,this.add(P)}updateCoordinateSystem(){const r=this.coordinateSystem,c=this.children.concat(),[f,p,y,T,R,b]=c;for(const P of c)this.remove(P);if(r===rs)f.up.set(0,1,0),f.lookAt(1,0,0),p.up.set(0,1,0),p.lookAt(-1,0,0),y.up.set(0,0,-1),y.lookAt(0,1,0),T.up.set(0,0,1),T.lookAt(0,-1,0),R.up.set(0,1,0),R.lookAt(0,0,1),b.up.set(0,1,0),b.lookAt(0,0,-1);else if(r===pa)f.up.set(0,-1,0),f.lookAt(-1,0,0),p.up.set(0,-1,0),p.lookAt(1,0,0),y.up.set(0,0,1),y.lookAt(0,1,0),T.up.set(0,0,-1),T.lookAt(0,-1,0),R.up.set(0,-1,0),R.lookAt(0,0,1),b.up.set(0,-1,0),b.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+r);for(const P of c)this.add(P),P.updateMatrixWorld()}update(r,c){this.parent===null&&this.updateMatrixWorld();const{renderTarget:f,activeMipmapLevel:p}=this;this.coordinateSystem!==r.coordinateSystem&&(this.coordinateSystem=r.coordinateSystem,this.updateCoordinateSystem());const[y,T,R,b,P,G]=this.children,j=r.getRenderTarget(),K=r.getActiveCubeFace(),Q=r.getActiveMipmapLevel(),ie=r.xr.enabled;r.xr.enabled=!1;const ce=f.texture.generateMipmaps;f.texture.generateMipmaps=!1,r.setRenderTarget(f,0,p),r.render(c,y),r.setRenderTarget(f,1,p),r.render(c,T),r.setRenderTarget(f,2,p),r.render(c,R),r.setRenderTarget(f,3,p),r.render(c,b),r.setRenderTarget(f,4,p),r.render(c,P),f.texture.generateMipmaps=ce,r.setRenderTarget(f,5,p),r.render(c,G),r.setRenderTarget(j,K,Q),r.xr.enabled=ie,f.texture.needsPMREMUpdate=!0}}class Df extends J2{constructor(r=[],c=$o,f,p,y,T,R,b,P,G){super(r,c,f,p,y,T,R,b,P,G),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(r){this.image=r}}class cx extends rc{constructor(r=1,c={}){super(r,r,c),this.isWebGLCubeRenderTarget=!0;const f={width:r,height:r,depth:1},p=[f,f,f,f,f,f];this.texture=new Df(p),this._setTextureOptions(c),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(r,c){this.texture.type=c.type,this.texture.colorSpace=c.colorSpace,this.texture.generateMipmaps=c.generateMipmaps,this.texture.minFilter=c.minFilter,this.texture.magFilter=c.magFilter;const f={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},p=new B1(5,5,5),y=new L1({name:"CubemapFromEquirect",uniforms:Gl(f.uniforms),vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,side:Zn,blending:ws});y.uniforms.tEquirect.value=c;const T=new G2(p,y),R=c.minFilter;return c.minFilter===Vr&&(c.minFilter=s2),new ax(1,10,this).update(r,T),c.minFilter=R,T.geometry.dispose(),T.material.dispose(),this}clear(r,c=!0,f=!0,p=!0){const y=r.getRenderTarget();for(let T=0;T<6;T++)r.setRenderTarget(this,T),r.clear(c,f,p);r.setRenderTarget(y)}}class el extends O2{constructor(){super(),this.isGroup=!0,this.type="Group"}}const zoe={type:"move"};class o_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new el,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new el,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new nt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new nt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new el,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new nt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new nt),this._grip}dispatchEvent(r){return this._targetRay!==null&&this._targetRay.dispatchEvent(r),this._grip!==null&&this._grip.dispatchEvent(r),this._hand!==null&&this._hand.dispatchEvent(r),this}connect(r){if(r&&r.hand){const c=this._hand;if(c)for(const f of r.hand.values())this._getHandJoint(c,f)}return this.dispatchEvent({type:"connected",data:r}),this}disconnect(r){return this.dispatchEvent({type:"disconnected",data:r}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(r,c,f){let p=null,y=null,T=null;const R=this._targetRay,b=this._grip,P=this._hand;if(r&&c.session.visibilityState!=="visible-blurred"){if(P&&r.hand){T=!0;for(const ce of r.hand.values()){const ue=c.getJointPose(ce,f),se=this._getHandJoint(P,ce);ue!==null&&(se.matrix.fromArray(ue.transform.matrix),se.matrix.decompose(se.position,se.rotation,se.scale),se.matrixWorldNeedsUpdate=!0,se.jointRadius=ue.radius),se.visible=ue!==null}const G=P.joints["index-finger-tip"],j=P.joints["thumb-tip"],K=G.position.distanceTo(j.position),Q=.02,ie=.005;P.inputState.pinching&&K>Q+ie?(P.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:r.handedness,target:this})):!P.inputState.pinching&&K<=Q-ie&&(P.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:r.handedness,target:this}))}else b!==null&&r.gripSpace&&(y=c.getPose(r.gripSpace,f),y!==null&&(b.matrix.fromArray(y.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,y.linearVelocity?(b.hasLinearVelocity=!0,b.linearVelocity.copy(y.linearVelocity)):b.hasLinearVelocity=!1,y.angularVelocity?(b.hasAngularVelocity=!0,b.angularVelocity.copy(y.angularVelocity)):b.hasAngularVelocity=!1));R!==null&&(p=c.getPose(r.targetRaySpace,f),p===null&&y!==null&&(p=y),p!==null&&(R.matrix.fromArray(p.transform.matrix),R.matrix.decompose(R.position,R.rotation,R.scale),R.matrixWorldNeedsUpdate=!0,p.linearVelocity?(R.hasLinearVelocity=!0,R.linearVelocity.copy(p.linearVelocity)):R.hasLinearVelocity=!1,p.angularVelocity?(R.hasAngularVelocity=!0,R.angularVelocity.copy(p.angularVelocity)):R.hasAngularVelocity=!1,this.dispatchEvent(zoe)))}return R!==null&&(R.visible=p!==null),b!==null&&(b.visible=y!==null),P!==null&&(P.visible=T!==null),this}_getHandJoint(r,c){if(r.joints[c.jointName]===void 0){const f=new el;f.matrixAutoUpdate=!1,f.visible=!1,r.joints[c.jointName]=f,r.add(f)}return r.joints[c.jointName]}}class If extends O2{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Wr,this.environmentIntensity=1,this.environmentRotation=new Wr,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(r,c){return super.copy(r,c),r.background!==null&&(this.background=r.background.clone()),r.environment!==null&&(this.environment=r.environment.clone()),r.fog!==null&&(this.fog=r.fog.clone()),this.backgroundBlurriness=r.backgroundBlurriness,this.backgroundIntensity=r.backgroundIntensity,this.backgroundRotation.copy(r.backgroundRotation),this.environmentIntensity=r.environmentIntensity,this.environmentRotation.copy(r.environmentRotation),r.overrideMaterial!==null&&(this.overrideMaterial=r.overrideMaterial.clone()),this.matrixAutoUpdate=r.matrixAutoUpdate,this}toJSON(r){const c=super.toJSON(r);return this.fog!==null&&(c.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(c.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(c.object.backgroundIntensity=this.backgroundIntensity),c.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(c.object.environmentIntensity=this.environmentIntensity),c.object.environmentRotation=this.environmentRotation.toArray(),c}}class lx{constructor(r,c){this.isInterleavedBuffer=!0,this.array=r,this.stride=c,this.count=r!==void 0?r.length/c:0,this.usage=d_,this.updateRanges=[],this.version=0,this.uuid=vo()}onUploadCallback(){}set needsUpdate(r){r===!0&&this.version++}setUsage(r){return this.usage=r,this}addUpdateRange(r,c){this.updateRanges.push({start:r,count:c})}clearUpdateRanges(){this.updateRanges.length=0}copy(r){return this.array=new r.array.constructor(r.array),this.count=r.count,this.stride=r.stride,this.usage=r.usage,this}copyAt(r,c,f){r*=this.stride,f*=c.stride;for(let p=0,y=this.stride;p<y;p++)this.array[r+p]=c.array[f+p];return this}set(r,c=0){return this.array.set(r,c),this}clone(r){r.arrayBuffers===void 0&&(r.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=vo()),r.arrayBuffers[this.array.buffer._uuid]===void 0&&(r.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const c=new this.array.constructor(r.arrayBuffers[this.array.buffer._uuid]),f=new this.constructor(c,this.stride);return f.setUsage(this.usage),f}onUpload(r){return this.onUploadCallback=r,this}toJSON(r){return r.arrayBuffers===void 0&&(r.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=vo()),r.arrayBuffers[this.array.buffer._uuid]===void 0&&(r.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Qr=new nt;class r8{constructor(r,c,f,p=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=r,this.itemSize=c,this.offset=f,this.normalized=p}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(r){this.data.needsUpdate=r}applyMatrix4(r){for(let c=0,f=this.data.count;c<f;c++)Qr.fromBufferAttribute(this,c),Qr.applyMatrix4(r),this.setXYZ(c,Qr.x,Qr.y,Qr.z);return this}applyNormalMatrix(r){for(let c=0,f=this.count;c<f;c++)Qr.fromBufferAttribute(this,c),Qr.applyNormalMatrix(r),this.setXYZ(c,Qr.x,Qr.y,Qr.z);return this}transformDirection(r){for(let c=0,f=this.count;c<f;c++)Qr.fromBufferAttribute(this,c),Qr.transformDirection(r),this.setXYZ(c,Qr.x,Qr.y,Qr.z);return this}getComponent(r,c){let f=this.array[r*this.data.stride+this.offset+c];return this.normalized&&(f=is(f,this.array)),f}setComponent(r,c,f){return this.normalized&&(f=ji(f,this.array)),this.data.array[r*this.data.stride+this.offset+c]=f,this}setX(r,c){return this.normalized&&(c=ji(c,this.array)),this.data.array[r*this.data.stride+this.offset]=c,this}setY(r,c){return this.normalized&&(c=ji(c,this.array)),this.data.array[r*this.data.stride+this.offset+1]=c,this}setZ(r,c){return this.normalized&&(c=ji(c,this.array)),this.data.array[r*this.data.stride+this.offset+2]=c,this}setW(r,c){return this.normalized&&(c=ji(c,this.array)),this.data.array[r*this.data.stride+this.offset+3]=c,this}getX(r){let c=this.data.array[r*this.data.stride+this.offset];return this.normalized&&(c=is(c,this.array)),c}getY(r){let c=this.data.array[r*this.data.stride+this.offset+1];return this.normalized&&(c=is(c,this.array)),c}getZ(r){let c=this.data.array[r*this.data.stride+this.offset+2];return this.normalized&&(c=is(c,this.array)),c}getW(r){let c=this.data.array[r*this.data.stride+this.offset+3];return this.normalized&&(c=is(c,this.array)),c}setXY(r,c,f){return r=r*this.data.stride+this.offset,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array)),this.data.array[r+0]=c,this.data.array[r+1]=f,this}setXYZ(r,c,f,p){return r=r*this.data.stride+this.offset,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array),p=ji(p,this.array)),this.data.array[r+0]=c,this.data.array[r+1]=f,this.data.array[r+2]=p,this}setXYZW(r,c,f,p,y){return r=r*this.data.stride+this.offset,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array),p=ji(p,this.array),y=ji(y,this.array)),this.data.array[r+0]=c,this.data.array[r+1]=f,this.data.array[r+2]=p,this.data.array[r+3]=y,this}clone(r){if(r===void 0){xf("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const c=[];for(let f=0;f<this.count;f++){const p=f*this.data.stride+this.offset;for(let y=0;y<this.itemSize;y++)c.push(this.data.array[p+y])}return new zr(new this.array.constructor(c),this.itemSize,this.normalized)}else return r.interleavedBuffers===void 0&&(r.interleavedBuffers={}),r.interleavedBuffers[this.data.uuid]===void 0&&(r.interleavedBuffers[this.data.uuid]=this.data.clone(r)),new r8(r.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(r){if(r===void 0){xf("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const c=[];for(let f=0;f<this.count;f++){const p=f*this.data.stride+this.offset;for(let y=0;y<this.itemSize;y++)c.push(this.data.array[p+y])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:c,normalized:this.normalized}}else return r.interleavedBuffers===void 0&&(r.interleavedBuffers={}),r.interleavedBuffers[this.data.uuid]===void 0&&(r.interleavedBuffers[this.data.uuid]=this.data.toJSON(r)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Woe extends Hr{constructor(r){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ri(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.alphaMap=r.alphaMap,this.rotation=r.rotation,this.sizeAttenuation=r.sizeAttenuation,this.fog=r.fog,this}}const v3=new nt,S3=new hi,T3=new hi,Hoe=new nt,C3=new wi,Pp=new nt,p4=new lc,w3=new wi,_4=new Nf;class joe extends G2{constructor(r,c){super(r,c),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Zm,this.bindMatrix=new wi,this.bindMatrixInverse=new wi,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const r=this.geometry;this.boundingBox===null&&(this.boundingBox=new eu),this.boundingBox.makeEmpty();const c=r.getAttribute("position");for(let f=0;f<c.count;f++)this.getVertexPosition(f,Pp),this.boundingBox.expandByPoint(Pp)}computeBoundingSphere(){const r=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new lc),this.boundingSphere.makeEmpty();const c=r.getAttribute("position");for(let f=0;f<c.count;f++)this.getVertexPosition(f,Pp),this.boundingSphere.expandByPoint(Pp)}copy(r,c){return super.copy(r,c),this.bindMode=r.bindMode,this.bindMatrix.copy(r.bindMatrix),this.bindMatrixInverse.copy(r.bindMatrixInverse),this.skeleton=r.skeleton,r.boundingBox!==null&&(this.boundingBox=r.boundingBox.clone()),r.boundingSphere!==null&&(this.boundingSphere=r.boundingSphere.clone()),this}raycast(r,c){const f=this.material,p=this.matrixWorld;f!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),p4.copy(this.boundingSphere),p4.applyMatrix4(p),r.ray.intersectsSphere(p4)!==!1&&(w3.copy(p).invert(),_4.copy(r.ray).applyMatrix4(w3),!(this.boundingBox!==null&&_4.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(r,c,_4)))}getVertexPosition(r,c){return super.getVertexPosition(r,c),this.applyBoneTransform(r,c),c}bind(r,c){this.skeleton=r,c===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),c=this.matrixWorld),this.bindMatrix.copy(c),this.bindMatrixInverse.copy(c).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const r=new hi,c=this.geometry.attributes.skinWeight;for(let f=0,p=c.count;f<p;f++){r.fromBufferAttribute(c,f);const y=1/r.manhattanLength();y!==1/0?r.multiplyScalar(y):r.set(1,0,0,0),c.setXYZW(f,r.x,r.y,r.z,r.w)}}updateMatrixWorld(r){super.updateMatrixWorld(r),this.bindMode===Zm?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Ose?this.bindMatrixInverse.copy(this.bindMatrix).invert():jt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(r,c){const f=this.skeleton,p=this.geometry;S3.fromBufferAttribute(p.attributes.skinIndex,r),T3.fromBufferAttribute(p.attributes.skinWeight,r),v3.copy(c).applyMatrix4(this.bindMatrix),c.set(0,0,0);for(let y=0;y<4;y++){const T=T3.getComponent(y);if(T!==0){const R=S3.getComponent(y);C3.multiplyMatrices(f.bones[R].matrixWorld,f.boneInverses[R]),c.addScaledVector(Hoe.copy(v3).applyMatrix4(C3),T)}}return c.applyMatrix4(this.bindMatrixInverse)}}class ux extends O2{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Pf extends J2{constructor(r=null,c=1,f=1,p,y,T,R,b,P=r2,G=r2,j,K){super(null,T,R,b,P,G,p,y,j,K),this.isDataTexture=!0,this.image={data:r,width:c,height:f},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const M3=new wi,qoe=new wi;class s8{constructor(r=[],c=[]){this.uuid=vo(),this.bones=r.slice(0),this.boneInverses=c,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const r=this.bones,c=this.boneInverses;if(this.boneMatrices=new Float32Array(r.length*16),c.length===0)this.calculateInverses();else if(r.length!==c.length){jt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let f=0,p=this.bones.length;f<p;f++)this.boneInverses.push(new wi)}}calculateInverses(){this.boneInverses.length=0;for(let r=0,c=this.bones.length;r<c;r++){const f=new wi;this.bones[r]&&f.copy(this.bones[r].matrixWorld).invert(),this.boneInverses.push(f)}}pose(){for(let r=0,c=this.bones.length;r<c;r++){const f=this.bones[r];f&&f.matrixWorld.copy(this.boneInverses[r]).invert()}for(let r=0,c=this.bones.length;r<c;r++){const f=this.bones[r];f&&(f.parent&&f.parent.isBone?(f.matrix.copy(f.parent.matrixWorld).invert(),f.matrix.multiply(f.matrixWorld)):f.matrix.copy(f.matrixWorld),f.matrix.decompose(f.position,f.quaternion,f.scale))}}update(){const r=this.bones,c=this.boneInverses,f=this.boneMatrices,p=this.boneTexture;for(let y=0,T=r.length;y<T;y++){const R=r[y]?r[y].matrixWorld:qoe;M3.multiplyMatrices(R,c[y]),M3.toArray(f,y*16)}p!==null&&(p.needsUpdate=!0)}clone(){return new s8(this.bones,this.boneInverses)}computeBoneTexture(){let r=Math.sqrt(this.bones.length*4);r=Math.ceil(r/4)*4,r=Math.max(r,4);const c=new Float32Array(r*r*4);c.set(this.boneMatrices);const f=new Pf(c,r,r,R2,P2);return f.needsUpdate=!0,this.boneMatrices=c,this.boneTexture=f,this}getBoneByName(r){for(let c=0,f=this.bones.length;c<f;c++){const p=this.bones[c];if(p.name===r)return p}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(r,c){this.uuid=r.uuid;for(let f=0,p=r.bones.length;f<p;f++){const y=r.bones[f];let T=c[y];T===void 0&&(jt("Skeleton: No bone found with UUID:",y),T=new ux),this.bones.push(T),this.boneInverses.push(new wi().fromArray(r.boneInverses[f]))}return this.init(),this}toJSON(){const r={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};r.uuid=this.uuid;const c=this.bones,f=this.boneInverses;for(let p=0,y=c.length;p<y;p++){const T=c[p];r.bones.push(T.uuid);const R=f[p];r.boneInverses.push(R.toArray())}return r}}class Xoe extends zr{constructor(r,c,f,p=1){super(r,c,f),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=p}copy(r){return super.copy(r),this.meshPerAttribute=r.meshPerAttribute,this}toJSON(){const r=super.toJSON();return r.meshPerAttribute=this.meshPerAttribute,r.isInstancedBufferAttribute=!0,r}}const h4=new nt,$oe=new nt,Yoe=new Pi;class po{constructor(r=new nt(1,0,0),c=0){this.isPlane=!0,this.normal=r,this.constant=c}set(r,c){return this.normal.copy(r),this.constant=c,this}setComponents(r,c,f,p){return this.normal.set(r,c,f),this.constant=p,this}setFromNormalAndCoplanarPoint(r,c){return this.normal.copy(r),this.constant=-c.dot(this.normal),this}setFromCoplanarPoints(r,c,f){const p=h4.subVectors(f,c).cross($oe.subVectors(r,c)).normalize();return this.setFromNormalAndCoplanarPoint(p,r),this}copy(r){return this.normal.copy(r.normal),this.constant=r.constant,this}normalize(){const r=1/this.normal.length();return this.normal.multiplyScalar(r),this.constant*=r,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(r){return this.normal.dot(r)+this.constant}distanceToSphere(r){return this.distanceToPoint(r.center)-r.radius}projectPoint(r,c){return c.copy(r).addScaledVector(this.normal,-this.distanceToPoint(r))}intersectLine(r,c){const f=r.delta(h4),p=this.normal.dot(f);if(p===0)return this.distanceToPoint(r.start)===0?c.copy(r.start):null;const y=-(r.start.dot(this.normal)+this.constant)/p;return y<0||y>1?null:c.copy(r.start).addScaledVector(f,y)}intersectsLine(r){const c=this.distanceToPoint(r.start),f=this.distanceToPoint(r.end);return c<0&&f>0||f<0&&c>0}intersectsBox(r){return r.intersectsPlane(this)}intersectsSphere(r){return r.intersectsPlane(this)}coplanarPoint(r){return r.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(r,c){const f=c||Yoe.getNormalMatrix(r),p=this.coplanarPoint(h4).applyMatrix4(r),y=this.normal.applyMatrix3(f).normalize();return this.constant=-p.dot(y),this}translate(r){return this.constant-=r.dot(this.normal),this}equals(r){return r.normal.equals(this.normal)&&r.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ia=new lc,Koe=new O0(.5,.5),Lp=new nt;class Lf{constructor(r=new po,c=new po,f=new po,p=new po,y=new po,T=new po){this.planes=[r,c,f,p,y,T]}set(r,c,f,p,y,T){const R=this.planes;return R[0].copy(r),R[1].copy(c),R[2].copy(f),R[3].copy(p),R[4].copy(y),R[5].copy(T),this}copy(r){const c=this.planes;for(let f=0;f<6;f++)c[f].copy(r.planes[f]);return this}setFromProjectionMatrix(r,c=rs,f=!1){const p=this.planes,y=r.elements,T=y[0],R=y[1],b=y[2],P=y[3],G=y[4],j=y[5],K=y[6],Q=y[7],ie=y[8],ce=y[9],ue=y[10],se=y[11],Ne=y[12],De=y[13],Oe=y[14],je=y[15];if(p[0].setComponents(P-T,Q-G,se-ie,je-Ne).normalize(),p[1].setComponents(P+T,Q+G,se+ie,je+Ne).normalize(),p[2].setComponents(P+R,Q+j,se+ce,je+De).normalize(),p[3].setComponents(P-R,Q-j,se-ce,je-De).normalize(),f)p[4].setComponents(b,K,ue,Oe).normalize(),p[5].setComponents(P-b,Q-K,se-ue,je-Oe).normalize();else if(p[4].setComponents(P-b,Q-K,se-ue,je-Oe).normalize(),c===rs)p[5].setComponents(P+b,Q+K,se+ue,je+Oe).normalize();else if(c===pa)p[5].setComponents(b,K,ue,Oe).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+c);return this}intersectsObject(r){if(r.boundingSphere!==void 0)r.boundingSphere===null&&r.computeBoundingSphere(),Ia.copy(r.boundingSphere).applyMatrix4(r.matrixWorld);else{const c=r.geometry;c.boundingSphere===null&&c.computeBoundingSphere(),Ia.copy(c.boundingSphere).applyMatrix4(r.matrixWorld)}return this.intersectsSphere(Ia)}intersectsSprite(r){Ia.center.set(0,0,0);const c=Koe.distanceTo(r.center);return Ia.radius=.7071067811865476+c,Ia.applyMatrix4(r.matrixWorld),this.intersectsSphere(Ia)}intersectsSphere(r){const c=this.planes,f=r.center,p=-r.radius;for(let y=0;y<6;y++)if(c[y].distanceToPoint(f)<p)return!1;return!0}intersectsBox(r){const c=this.planes;for(let f=0;f<6;f++){const p=c[f];if(Lp.x=p.normal.x>0?r.max.x:r.min.x,Lp.y=p.normal.y>0?r.max.y:r.min.y,Lp.z=p.normal.z>0?r.max.z:r.min.z,p.distanceToPoint(Lp)<0)return!1}return!0}containsPoint(r){const c=this.planes;for(let f=0;f<6;f++)if(c[f].distanceToPoint(r)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Fo=new wi,Bo=new Lf;class o8{constructor(){this.coordinateSystem=rs}intersectsObject(r,c){if(!c.isArrayCamera||c.cameras.length===0)return!1;for(let f=0;f<c.cameras.length;f++){const p=c.cameras[f];if(Fo.multiplyMatrices(p.projectionMatrix,p.matrixWorldInverse),Bo.setFromProjectionMatrix(Fo,p.coordinateSystem,p.reversedDepth),Bo.intersectsObject(r))return!0}return!1}intersectsSprite(r,c){if(!c||!c.cameras||c.cameras.length===0)return!1;for(let f=0;f<c.cameras.length;f++){const p=c.cameras[f];if(Fo.multiplyMatrices(p.projectionMatrix,p.matrixWorldInverse),Bo.setFromProjectionMatrix(Fo,p.coordinateSystem,p.reversedDepth),Bo.intersectsSprite(r))return!0}return!1}intersectsSphere(r,c){if(!c||!c.cameras||c.cameras.length===0)return!1;for(let f=0;f<c.cameras.length;f++){const p=c.cameras[f];if(Fo.multiplyMatrices(p.projectionMatrix,p.matrixWorldInverse),Bo.setFromProjectionMatrix(Fo,p.coordinateSystem,p.reversedDepth),Bo.intersectsSphere(r))return!0}return!1}intersectsBox(r,c){if(!c||!c.cameras||c.cameras.length===0)return!1;for(let f=0;f<c.cameras.length;f++){const p=c.cameras[f];if(Fo.multiplyMatrices(p.projectionMatrix,p.matrixWorldInverse),Bo.setFromProjectionMatrix(Fo,p.coordinateSystem,p.reversedDepth),Bo.intersectsBox(r))return!0}return!1}containsPoint(r,c){if(!c||!c.cameras||c.cameras.length===0)return!1;for(let f=0;f<c.cameras.length;f++){const p=c.cameras[f];if(Fo.multiplyMatrices(p.projectionMatrix,p.matrixWorldInverse),Bo.setFromProjectionMatrix(Fo,p.coordinateSystem,p.reversedDepth),Bo.containsPoint(r))return!0}return!1}clone(){return new o8}}class yf extends Hr{constructor(r){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ri(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.linewidth=r.linewidth,this.linecap=r.linecap,this.linejoin=r.linejoin,this.fog=r.fog,this}}const m_=new nt,g_=new nt,R3=new wi,Mu=new Nf,kp=new lc,d4=new nt,A3=new nt;class fx extends O2{constructor(r=new os,c=new yf){super(),this.isLine=!0,this.type="Line",this.geometry=r,this.material=c,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(r,c){return super.copy(r,c),this.material=Array.isArray(r.material)?r.material.slice():r.material,this.geometry=r.geometry,this}computeLineDistances(){const r=this.geometry;if(r.index===null){const c=r.attributes.position,f=[0];for(let p=1,y=c.count;p<y;p++)m_.fromBufferAttribute(c,p-1),g_.fromBufferAttribute(c,p),f[p]=f[p-1],f[p]+=m_.distanceTo(g_);r.setAttribute("lineDistance",new y2(f,1))}else jt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(r,c){const f=this.geometry,p=this.matrixWorld,y=r.params.Line.threshold,T=f.drawRange;if(f.boundingSphere===null&&f.computeBoundingSphere(),kp.copy(f.boundingSphere),kp.applyMatrix4(p),kp.radius+=y,r.ray.intersectsSphere(kp)===!1)return;R3.copy(p).invert(),Mu.copy(r.ray).applyMatrix4(R3);const R=y/((this.scale.x+this.scale.y+this.scale.z)/3),b=R*R,P=this.isLineSegments?2:1,G=f.index,K=f.attributes.position;if(G!==null){const Q=Math.max(0,T.start),ie=Math.min(G.count,T.start+T.count);for(let ce=Q,ue=ie-1;ce<ue;ce+=P){const se=G.getX(ce),Ne=G.getX(ce+1),De=Fp(this,r,Mu,b,se,Ne,ce);De&&c.push(De)}if(this.isLineLoop){const ce=G.getX(ie-1),ue=G.getX(Q),se=Fp(this,r,Mu,b,ce,ue,ie-1);se&&c.push(se)}}else{const Q=Math.max(0,T.start),ie=Math.min(K.count,T.start+T.count);for(let ce=Q,ue=ie-1;ce<ue;ce+=P){const se=Fp(this,r,Mu,b,ce,ce+1,ce);se&&c.push(se)}if(this.isLineLoop){const ce=Fp(this,r,Mu,b,ie-1,Q,ie-1);ce&&c.push(ce)}}}updateMorphTargets(){const c=this.geometry.morphAttributes,f=Object.keys(c);if(f.length>0){const p=c[f[0]];if(p!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let y=0,T=p.length;y<T;y++){const R=p[y].name||String(y);this.morphTargetInfluences.push(0),this.morphTargetDictionary[R]=y}}}}}function Fp(v,r,c,f,p,y,T){const R=v.geometry.attributes.position;if(m_.fromBufferAttribute(R,p),g_.fromBufferAttribute(R,y),c.distanceSqToSegment(m_,g_,d4,A3)>f)return;d4.applyMatrix4(v.matrixWorld);const P=r.ray.origin.distanceTo(d4);if(!(P<r.near||P>r.far))return{distance:P,point:A3.clone().applyMatrix4(v.matrixWorld),index:T,face:null,faceIndex:null,barycoord:null,object:v}}const E3=new nt,b3=new nt;class Zoe extends fx{constructor(r,c){super(r,c),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const r=this.geometry;if(r.index===null){const c=r.attributes.position,f=[];for(let p=0,y=c.count;p<y;p+=2)E3.fromBufferAttribute(c,p),b3.fromBufferAttribute(c,p+1),f[p]=p===0?0:f[p-1],f[p+1]=f[p]+E3.distanceTo(b3);r.setAttribute("lineDistance",new y2(f,1))}else jt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Qoe extends Hr{constructor(r){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ri(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.alphaMap=r.alphaMap,this.size=r.size,this.sizeAttenuation=r.sizeAttenuation,this.fog=r.fog,this}}class px extends J2{constructor(r,c){super({width:r,height:c}),this.isFramebufferTexture=!0,this.magFilter=r2,this.minFilter=r2,this.generateMipmaps=!1,this.needsUpdate=!0}}class Qs extends J2{constructor(r,c,f=Kn,p,y,T,R=r2,b=r2,P,G=Us,j=1){if(G!==Us&&G!==Os)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const K={width:r,height:c,depth:j};super(K,p,y,T,R,b,G,f,P),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(r){return super.copy(r),this.source=new Qd(Object.assign({},r.image)),this.compareFunction=r.compareFunction,this}toJSON(r){const c=super.toJSON(r);return this.compareFunction!==null&&(c.compareFunction=this.compareFunction),c}}class _x extends J2{constructor(r=null){super(),this.sourceTexture=r,this.isExternalTexture=!0}copy(r){return super.copy(r),this.sourceTexture=r.sourceTexture,this}}class a8 extends os{constructor(r=1,c=1,f=1,p=32,y=1,T=!1,R=0,b=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:r,radiusBottom:c,height:f,radialSegments:p,heightSegments:y,openEnded:T,thetaStart:R,thetaLength:b};const P=this;p=Math.floor(p),y=Math.floor(y);const G=[],j=[],K=[],Q=[];let ie=0;const ce=[],ue=f/2;let se=0;Ne(),T===!1&&(r>0&&De(!0),c>0&&De(!1)),this.setIndex(G),this.setAttribute("position",new y2(j,3)),this.setAttribute("normal",new y2(K,3)),this.setAttribute("uv",new y2(Q,2));function Ne(){const Oe=new nt,je=new nt;let Be=0;const We=(c-r)/f;for(let $e=0;$e<=y;$e++){const Ee=[],Ie=$e/y,Je=Ie*(c-r)+r;for(let ft=0;ft<=p;ft++){const yt=ft/p,Et=yt*b+R,Dt=Math.sin(Et),ct=Math.cos(Et);je.x=Je*Dt,je.y=-Ie*f+ue,je.z=Je*ct,j.push(je.x,je.y,je.z),Oe.set(Dt,We,ct).normalize(),K.push(Oe.x,Oe.y,Oe.z),Q.push(yt,1-Ie),Ee.push(ie++)}ce.push(Ee)}for(let $e=0;$e<p;$e++)for(let Ee=0;Ee<y;Ee++){const Ie=ce[Ee][$e],Je=ce[Ee+1][$e],ft=ce[Ee+1][$e+1],yt=ce[Ee][$e+1];(r>0||Ee!==0)&&(G.push(Ie,Je,yt),Be+=3),(c>0||Ee!==y-1)&&(G.push(Je,ft,yt),Be+=3)}P.addGroup(se,Be,0),se+=Be}function De(Oe){const je=ie,Be=new O0,We=new nt;let $e=0;const Ee=Oe===!0?r:c,Ie=Oe===!0?1:-1;for(let ft=1;ft<=p;ft++)j.push(0,ue*Ie,0),K.push(0,Ie,0),Q.push(.5,.5),ie++;const Je=ie;for(let ft=0;ft<=p;ft++){const Et=ft/p*b+R,Dt=Math.cos(Et),ct=Math.sin(Et);We.x=Ee*ct,We.y=ue*Ie,We.z=Ee*Dt,j.push(We.x,We.y,We.z),K.push(0,Ie,0),Be.x=Dt*.5+.5,Be.y=ct*.5*Ie+.5,Q.push(Be.x,Be.y),ie++}for(let ft=0;ft<p;ft++){const yt=je+ft,Et=Je+ft;Oe===!0?G.push(Et,Et+1,yt):G.push(Et+1,Et,yt),$e+=3}P.addGroup(se,$e,Oe===!0?1:2),se+=$e}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new a8(r.radiusTop,r.radiusBottom,r.height,r.radialSegments,r.heightSegments,r.openEnded,r.thetaStart,r.thetaLength)}}class kf extends os{constructor(r=1,c=1,f=1,p=1){super(),this.type="PlaneGeometry",this.parameters={width:r,height:c,widthSegments:f,heightSegments:p};const y=r/2,T=c/2,R=Math.floor(f),b=Math.floor(p),P=R+1,G=b+1,j=r/R,K=c/b,Q=[],ie=[],ce=[],ue=[];for(let se=0;se<G;se++){const Ne=se*K-T;for(let De=0;De<P;De++){const Oe=De*j-y;ie.push(Oe,-Ne,0),ce.push(0,0,1),ue.push(De/R),ue.push(1-se/b)}}for(let se=0;se<b;se++)for(let Ne=0;Ne<R;Ne++){const De=Ne+P*se,Oe=Ne+P*(se+1),je=Ne+1+P*(se+1),Be=Ne+1+P*se;Q.push(De,Oe,Be),Q.push(Oe,je,Be)}this.setIndex(Q),this.setAttribute("position",new y2(ie,3)),this.setAttribute("normal",new y2(ce,3)),this.setAttribute("uv",new y2(ue,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new kf(r.width,r.height,r.widthSegments,r.heightSegments)}}class c8 extends os{constructor(r=1,c=32,f=16,p=0,y=Math.PI*2,T=0,R=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:r,widthSegments:c,heightSegments:f,phiStart:p,phiLength:y,thetaStart:T,thetaLength:R},c=Math.max(3,Math.floor(c)),f=Math.max(2,Math.floor(f));const b=Math.min(T+R,Math.PI);let P=0;const G=[],j=new nt,K=new nt,Q=[],ie=[],ce=[],ue=[];for(let se=0;se<=f;se++){const Ne=[],De=se/f;let Oe=0;se===0&&T===0?Oe=.5/c:se===f&&b===Math.PI&&(Oe=-.5/c);for(let je=0;je<=c;je++){const Be=je/c;j.x=-r*Math.cos(p+Be*y)*Math.sin(T+De*R),j.y=r*Math.cos(T+De*R),j.z=r*Math.sin(p+Be*y)*Math.sin(T+De*R),ie.push(j.x,j.y,j.z),K.copy(j).normalize(),ce.push(K.x,K.y,K.z),ue.push(Be+Oe,1-De),Ne.push(P++)}G.push(Ne)}for(let se=0;se<f;se++)for(let Ne=0;Ne<c;Ne++){const De=G[se][Ne+1],Oe=G[se][Ne],je=G[se+1][Ne],Be=G[se+1][Ne+1];(se!==0||T>0)&&Q.push(De,Oe,Be),(se!==f-1||b<Math.PI)&&Q.push(Oe,je,Be)}this.setIndex(Q),this.setAttribute("position",new y2(ie,3)),this.setAttribute("normal",new y2(ce,3)),this.setAttribute("uv",new y2(ue,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new c8(r.radius,r.widthSegments,r.heightSegments,r.phiStart,r.phiLength,r.thetaStart,r.thetaLength)}}class Joe extends Hr{constructor(r){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ri(0),this.transparent=!0,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.fog=r.fog,this}}class Vl extends Hr{constructor(r){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ri(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ri(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=P1,this.normalScale=new O0(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.defines={STANDARD:""},this.color.copy(r.color),this.roughness=r.roughness,this.metalness=r.metalness,this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.roughnessMap=r.roughnessMap,this.metalnessMap=r.metalnessMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.envMapIntensity=r.envMapIntensity,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.flatShading=r.flatShading,this.fog=r.fog,this}}class e1e extends Vl{constructor(r){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new O0(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Zi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(c){this.ior=(1+.4*c)/(1-.4*c)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ri(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ri(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ri(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(r)}get anisotropy(){return this._anisotropy}set anisotropy(r){this._anisotropy>0!=r>0&&this.version++,this._anisotropy=r}get clearcoat(){return this._clearcoat}set clearcoat(r){this._clearcoat>0!=r>0&&this.version++,this._clearcoat=r}get iridescence(){return this._iridescence}set iridescence(r){this._iridescence>0!=r>0&&this.version++,this._iridescence=r}get dispersion(){return this._dispersion}set dispersion(r){this._dispersion>0!=r>0&&this.version++,this._dispersion=r}get sheen(){return this._sheen}set sheen(r){this._sheen>0!=r>0&&this.version++,this._sheen=r}get transmission(){return this._transmission}set transmission(r){this._transmission>0!=r>0&&this.version++,this._transmission=r}copy(r){return super.copy(r),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=r.anisotropy,this.anisotropyRotation=r.anisotropyRotation,this.anisotropyMap=r.anisotropyMap,this.clearcoat=r.clearcoat,this.clearcoatMap=r.clearcoatMap,this.clearcoatRoughness=r.clearcoatRoughness,this.clearcoatRoughnessMap=r.clearcoatRoughnessMap,this.clearcoatNormalMap=r.clearcoatNormalMap,this.clearcoatNormalScale.copy(r.clearcoatNormalScale),this.dispersion=r.dispersion,this.ior=r.ior,this.iridescence=r.iridescence,this.iridescenceMap=r.iridescenceMap,this.iridescenceIOR=r.iridescenceIOR,this.iridescenceThicknessRange=[...r.iridescenceThicknessRange],this.iridescenceThicknessMap=r.iridescenceThicknessMap,this.sheen=r.sheen,this.sheenColor.copy(r.sheenColor),this.sheenColorMap=r.sheenColorMap,this.sheenRoughness=r.sheenRoughness,this.sheenRoughnessMap=r.sheenRoughnessMap,this.transmission=r.transmission,this.transmissionMap=r.transmissionMap,this.thickness=r.thickness,this.thicknessMap=r.thicknessMap,this.attenuationDistance=r.attenuationDistance,this.attenuationColor.copy(r.attenuationColor),this.specularIntensity=r.specularIntensity,this.specularIntensityMap=r.specularIntensityMap,this.specularColor.copy(r.specularColor),this.specularColorMap=r.specularColorMap,this}}class ld extends Hr{constructor(r){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ri(16777215),this.specular=new ri(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ri(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=P1,this.normalScale=new O0(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wr,this.combine=Af,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.specular.copy(r.specular),this.shininess=r.shininess,this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.flatShading=r.flatShading,this.fog=r.fog,this}}class t1e extends Hr{constructor(r){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ri(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ri(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=P1,this.normalScale=new O0(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.gradientMap=r.gradientMap,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.alphaMap=r.alphaMap,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.fog=r.fog,this}}class i1e extends Hr{constructor(r){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=P1,this.normalScale=new O0(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(r)}copy(r){return super.copy(r),this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.flatShading=r.flatShading,this}}class hx extends Hr{constructor(r){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ri(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ri(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=P1,this.normalScale=new O0(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wr,this.combine=Af,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.flatShading=r.flatShading,this.fog=r.fog,this}}class n1e extends Hr{constructor(r){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=zse,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(r)}copy(r){return super.copy(r),this.depthPacking=r.depthPacking,this.map=r.map,this.alphaMap=r.alphaMap,this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this}}class r1e extends Hr{constructor(r){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(r)}copy(r){return super.copy(r),this.map=r.map,this.alphaMap=r.alphaMap,this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this}}class s1e extends Hr{constructor(r){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ri(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=P1,this.normalScale=new O0(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.defines={MATCAP:""},this.color.copy(r.color),this.matcap=r.matcap,this.map=r.map,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.alphaMap=r.alphaMap,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.flatShading=r.flatShading,this.fog=r.fog,this}}class o1e extends yf{constructor(r){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(r)}copy(r){return super.copy(r),this.scale=r.scale,this.dashSize=r.dashSize,this.gapSize=r.gapSize,this}}function Bp(v,r){return!v||v.constructor===r?v:typeof r.BYTES_PER_ELEMENT=="number"?new r(v):Array.prototype.slice.call(v)}function a1e(v){return ArrayBuffer.isView(v)&&!(v instanceof DataView)}function c1e(v){function r(p,y){return v[p]-v[y]}const c=v.length,f=new Array(c);for(let p=0;p!==c;++p)f[p]=p;return f.sort(r),f}function N3(v,r,c){const f=v.length,p=new v.constructor(f);for(let y=0,T=0;T!==f;++y){const R=c[y]*r;for(let b=0;b!==r;++b)p[T++]=v[R+b]}return p}function dx(v,r,c,f){let p=1,y=v[0];for(;y!==void 0&&y[f]===void 0;)y=v[p++];if(y===void 0)return;let T=y[f];if(T!==void 0)if(Array.isArray(T))do T=y[f],T!==void 0&&(r.push(y.time),c.push(...T)),y=v[p++];while(y!==void 0);else if(T.toArray!==void 0)do T=y[f],T!==void 0&&(r.push(y.time),T.toArray(c,c.length)),y=v[p++];while(y!==void 0);else do T=y[f],T!==void 0&&(r.push(y.time),c.push(T)),y=v[p++];while(y!==void 0)}class k_{constructor(r,c,f,p){this.parameterPositions=r,this._cachedIndex=0,this.resultBuffer=p!==void 0?p:new c.constructor(f),this.sampleValues=c,this.valueSize=f,this.settings=null,this.DefaultSettings_={}}evaluate(r){const c=this.parameterPositions;let f=this._cachedIndex,p=c[f],y=c[f-1];e:{t:{let T;i:{n:if(!(r<p)){for(let R=f+2;;){if(p===void 0){if(r<y)break n;return f=c.length,this._cachedIndex=f,this.copySampleValue_(f-1)}if(f===R)break;if(y=p,p=c[++f],r<p)break t}T=c.length;break i}if(!(r>=y)){const R=c[1];r<R&&(f=2,y=R);for(let b=f-2;;){if(y===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(f===b)break;if(p=y,y=c[--f-1],r>=y)break t}T=f,f=0;break i}break e}for(;f<T;){const R=f+T>>>1;r<c[R]?T=R:f=R+1}if(p=c[f],y=c[f-1],y===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(p===void 0)return f=c.length,this._cachedIndex=f,this.copySampleValue_(f-1)}this._cachedIndex=f,this.intervalChanged_(f,y,p)}return this.interpolate_(f,y,r,p)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(r){const c=this.resultBuffer,f=this.sampleValues,p=this.valueSize,y=r*p;for(let T=0;T!==p;++T)c[T]=f[y+T];return c}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class l1e extends k_{constructor(r,c,f,p){super(r,c,f,p),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Qm,endingEnd:Qm}}intervalChanged_(r,c,f){const p=this.parameterPositions;let y=r-2,T=r+1,R=p[y],b=p[T];if(R===void 0)switch(this.getSettings_().endingStart){case Jm:y=r,R=2*c-f;break;case e3:y=p.length-2,R=c+p[y]-p[y+1];break;default:y=r,R=f}if(b===void 0)switch(this.getSettings_().endingEnd){case Jm:T=r,b=2*f-c;break;case e3:T=1,b=f+p[1]-p[0];break;default:T=r-1,b=c}const P=(f-c)*.5,G=this.valueSize;this._weightPrev=P/(c-R),this._weightNext=P/(b-f),this._offsetPrev=y*G,this._offsetNext=T*G}interpolate_(r,c,f,p){const y=this.resultBuffer,T=this.sampleValues,R=this.valueSize,b=r*R,P=b-R,G=this._offsetPrev,j=this._offsetNext,K=this._weightPrev,Q=this._weightNext,ie=(f-c)/(p-c),ce=ie*ie,ue=ce*ie,se=-K*ue+2*K*ce-K*ie,Ne=(1+K)*ue+(-1.5-2*K)*ce+(-.5+K)*ie+1,De=(-1-Q)*ue+(1.5+Q)*ce+.5*ie,Oe=Q*ue-Q*ce;for(let je=0;je!==R;++je)y[je]=se*T[G+je]+Ne*T[P+je]+De*T[b+je]+Oe*T[j+je];return y}}class u1e extends k_{constructor(r,c,f,p){super(r,c,f,p)}interpolate_(r,c,f,p){const y=this.resultBuffer,T=this.sampleValues,R=this.valueSize,b=r*R,P=b-R,G=(f-c)/(p-c),j=1-G;for(let K=0;K!==R;++K)y[K]=T[P+K]*j+T[b+K]*G;return y}}class f1e extends k_{constructor(r,c,f,p){super(r,c,f,p)}interpolate_(r){return this.copySampleValue_(r-1)}}class To{constructor(r,c,f,p){if(r===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(c===void 0||c.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+r);this.name=r,this.times=Bp(c,this.TimeBufferType),this.values=Bp(f,this.ValueBufferType),this.setInterpolation(p||this.DefaultInterpolation)}static toJSON(r){const c=r.constructor;let f;if(c.toJSON!==this.toJSON)f=c.toJSON(r);else{f={name:r.name,times:Bp(r.times,Array),values:Bp(r.values,Array)};const p=r.getInterpolation();p!==r.DefaultInterpolation&&(f.interpolation=p)}return f.type=r.ValueTypeName,f}InterpolantFactoryMethodDiscrete(r){return new f1e(this.times,this.values,this.getValueSize(),r)}InterpolantFactoryMethodLinear(r){return new u1e(this.times,this.values,this.getValueSize(),r)}InterpolantFactoryMethodSmooth(r){return new l1e(this.times,this.values,this.getValueSize(),r)}setInterpolation(r){let c;switch(r){case h_:c=this.InterpolantFactoryMethodDiscrete;break;case ad:c=this.InterpolantFactoryMethodLinear;break;case jh:c=this.InterpolantFactoryMethodSmooth;break}if(c===void 0){const f="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(r!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(f);return jt("KeyframeTrack:",f),this}return this.createInterpolant=c,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return h_;case this.InterpolantFactoryMethodLinear:return ad;case this.InterpolantFactoryMethodSmooth:return jh}}getValueSize(){return this.values.length/this.times.length}shift(r){if(r!==0){const c=this.times;for(let f=0,p=c.length;f!==p;++f)c[f]+=r}return this}scale(r){if(r!==1){const c=this.times;for(let f=0,p=c.length;f!==p;++f)c[f]*=r}return this}trim(r,c){const f=this.times,p=f.length;let y=0,T=p-1;for(;y!==p&&f[y]<r;)++y;for(;T!==-1&&f[T]>c;)--T;if(++T,y!==0||T!==p){y>=T&&(T=Math.max(T,1),y=T-1);const R=this.getValueSize();this.times=f.slice(y,T),this.values=this.values.slice(y*R,T*R)}return this}validate(){let r=!0;const c=this.getValueSize();c-Math.floor(c)!==0&&(i0("KeyframeTrack: Invalid value size in track.",this),r=!1);const f=this.times,p=this.values,y=f.length;y===0&&(i0("KeyframeTrack: Track is empty.",this),r=!1);let T=null;for(let R=0;R!==y;R++){const b=f[R];if(typeof b=="number"&&isNaN(b)){i0("KeyframeTrack: Time is not a valid number.",this,R,b),r=!1;break}if(T!==null&&T>b){i0("KeyframeTrack: Out of order keys.",this,R,b,T),r=!1;break}T=b}if(p!==void 0&&a1e(p))for(let R=0,b=p.length;R!==b;++R){const P=p[R];if(isNaN(P)){i0("KeyframeTrack: Value is not a valid number.",this,R,P),r=!1;break}}return r}optimize(){const r=this.times.slice(),c=this.values.slice(),f=this.getValueSize(),p=this.getInterpolation()===jh,y=r.length-1;let T=1;for(let R=1;R<y;++R){let b=!1;const P=r[R],G=r[R+1];if(P!==G&&(R!==1||P!==r[0]))if(p)b=!0;else{const j=R*f,K=j-f,Q=j+f;for(let ie=0;ie!==f;++ie){const ce=c[j+ie];if(ce!==c[K+ie]||ce!==c[Q+ie]){b=!0;break}}}if(b){if(R!==T){r[T]=r[R];const j=R*f,K=T*f;for(let Q=0;Q!==f;++Q)c[K+Q]=c[j+Q]}++T}}if(y>0){r[T]=r[y];for(let R=y*f,b=T*f,P=0;P!==f;++P)c[b+P]=c[R+P];++T}return T!==r.length?(this.times=r.slice(0,T),this.values=c.slice(0,T*f)):(this.times=r,this.values=c),this}clone(){const r=this.times.slice(),c=this.values.slice(),f=this.constructor,p=new f(this.name,r,c);return p.createInterpolant=this.createInterpolant,p}}To.prototype.ValueTypeName="";To.prototype.TimeBufferType=Float32Array;To.prototype.ValueBufferType=Float32Array;To.prototype.DefaultInterpolation=ad;class tu extends To{constructor(r,c,f){super(r,c,f)}}tu.prototype.ValueTypeName="bool";tu.prototype.ValueBufferType=Array;tu.prototype.DefaultInterpolation=h_;tu.prototype.InterpolantFactoryMethodLinear=void 0;tu.prototype.InterpolantFactoryMethodSmooth=void 0;class mx extends To{constructor(r,c,f,p){super(r,c,f,p)}}mx.prototype.ValueTypeName="color";class x_ extends To{constructor(r,c,f,p){super(r,c,f,p)}}x_.prototype.ValueTypeName="number";class p1e extends k_{constructor(r,c,f,p){super(r,c,f,p)}interpolate_(r,c,f,p){const y=this.resultBuffer,T=this.sampleValues,R=this.valueSize,b=(f-c)/(p-c);let P=r*R;for(let G=P+R;P!==G;P+=4)eo.slerpFlat(y,0,T,P-R,T,P,b);return y}}class Ff extends To{constructor(r,c,f,p){super(r,c,f,p)}InterpolantFactoryMethodLinear(r){return new p1e(this.times,this.values,this.getValueSize(),r)}}Ff.prototype.ValueTypeName="quaternion";Ff.prototype.InterpolantFactoryMethodSmooth=void 0;class iu extends To{constructor(r,c,f){super(r,c,f)}}iu.prototype.ValueTypeName="string";iu.prototype.ValueBufferType=Array;iu.prototype.DefaultInterpolation=h_;iu.prototype.InterpolantFactoryMethodLinear=void 0;iu.prototype.InterpolantFactoryMethodSmooth=void 0;class zl extends To{constructor(r,c,f,p){super(r,c,f,p)}}zl.prototype.ValueTypeName="vector";class D3{constructor(r="",c=-1,f=[],p=Vse){this.name=r,this.tracks=f,this.duration=c,this.blendMode=p,this.uuid=vo(),this.userData={},this.duration<0&&this.resetDuration()}static parse(r){const c=[],f=r.tracks,p=1/(r.fps||1);for(let T=0,R=f.length;T!==R;++T)c.push(h1e(f[T]).scale(p));const y=new this(r.name,r.duration,c,r.blendMode);return y.uuid=r.uuid,y.userData=JSON.parse(r.userData||"{}"),y}static toJSON(r){const c=[],f=r.tracks,p={name:r.name,duration:r.duration,tracks:c,uuid:r.uuid,blendMode:r.blendMode,userData:JSON.stringify(r.userData)};for(let y=0,T=f.length;y!==T;++y)c.push(To.toJSON(f[y]));return p}static CreateFromMorphTargetSequence(r,c,f,p){const y=c.length,T=[];for(let R=0;R<y;R++){let b=[],P=[];b.push((R+y-1)%y,R,(R+1)%y),P.push(0,1,0);const G=c1e(b);b=N3(b,1,G),P=N3(P,1,G),!p&&b[0]===0&&(b.push(y),P.push(P[0])),T.push(new x_(".morphTargetInfluences["+c[R].name+"]",b,P).scale(1/f))}return new this(r,-1,T)}static findByName(r,c){let f=r;if(!Array.isArray(r)){const p=r;f=p.geometry&&p.geometry.animations||p.animations}for(let p=0;p<f.length;p++)if(f[p].name===c)return f[p];return null}static CreateClipsFromMorphTargetSequences(r,c,f){const p={},y=/^([\w-]*?)([\d]+)$/;for(let R=0,b=r.length;R<b;R++){const P=r[R],G=P.name.match(y);if(G&&G.length>1){const j=G[1];let K=p[j];K||(p[j]=K=[]),K.push(P)}}const T=[];for(const R in p)T.push(this.CreateFromMorphTargetSequence(R,p[R],c,f));return T}static parseAnimation(r,c){if(jt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!r)return i0("AnimationClip: No animation in JSONLoader data."),null;const f=function(j,K,Q,ie,ce){if(Q.length!==0){const ue=[],se=[];dx(Q,ue,se,ie),ue.length!==0&&ce.push(new j(K,ue,se))}},p=[],y=r.name||"default",T=r.fps||30,R=r.blendMode;let b=r.length||-1;const P=r.hierarchy||[];for(let j=0;j<P.length;j++){const K=P[j].keys;if(!(!K||K.length===0))if(K[0].morphTargets){const Q={};let ie;for(ie=0;ie<K.length;ie++)if(K[ie].morphTargets)for(let ce=0;ce<K[ie].morphTargets.length;ce++)Q[K[ie].morphTargets[ce]]=-1;for(const ce in Q){const ue=[],se=[];for(let Ne=0;Ne!==K[ie].morphTargets.length;++Ne){const De=K[ie];ue.push(De.time),se.push(De.morphTarget===ce?1:0)}p.push(new x_(".morphTargetInfluence["+ce+"]",ue,se))}b=Q.length*T}else{const Q=".bones["+c[j].name+"]";f(zl,Q+".position",K,"pos",p),f(Ff,Q+".quaternion",K,"rot",p),f(zl,Q+".scale",K,"scl",p)}}return p.length===0?null:new this(y,b,p,R)}resetDuration(){const r=this.tracks;let c=0;for(let f=0,p=r.length;f!==p;++f){const y=this.tracks[f];c=Math.max(c,y.times[y.times.length-1])}return this.duration=c,this}trim(){for(let r=0;r<this.tracks.length;r++)this.tracks[r].trim(0,this.duration);return this}validate(){let r=!0;for(let c=0;c<this.tracks.length;c++)r=r&&this.tracks[c].validate();return r}optimize(){for(let r=0;r<this.tracks.length;r++)this.tracks[r].optimize();return this}clone(){const r=[];for(let f=0;f<this.tracks.length;f++)r.push(this.tracks[f].clone());const c=new this.constructor(this.name,this.duration,r,this.blendMode);return c.userData=JSON.parse(JSON.stringify(this.userData)),c}toJSON(){return this.constructor.toJSON(this)}}function _1e(v){switch(v.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return x_;case"vector":case"vector2":case"vector3":case"vector4":return zl;case"color":return mx;case"quaternion":return Ff;case"bool":case"boolean":return tu;case"string":return iu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+v)}function h1e(v){if(v.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const r=_1e(v.type);if(v.times===void 0){const c=[],f=[];dx(v.keys,c,f,"value"),v.times=c,v.values=f}return r.parse!==void 0?r.parse(v):new r(v.name,v.times,v.values,v.interpolation)}const Yu={enabled:!1,files:{},add:function(v,r){this.enabled!==!1&&(this.files[v]=r)},get:function(v){if(this.enabled!==!1)return this.files[v]},remove:function(v){delete this.files[v]},clear:function(){this.files={}}};class d1e{constructor(r,c,f){const p=this;let y=!1,T=0,R=0,b;const P=[];this.onStart=void 0,this.onLoad=r,this.onProgress=c,this.onError=f,this._abortController=null,this.itemStart=function(G){R++,y===!1&&p.onStart!==void 0&&p.onStart(G,T,R),y=!0},this.itemEnd=function(G){T++,p.onProgress!==void 0&&p.onProgress(G,T,R),T===R&&(y=!1,p.onLoad!==void 0&&p.onLoad())},this.itemError=function(G){p.onError!==void 0&&p.onError(G)},this.resolveURL=function(G){return b?b(G):G},this.setURLModifier=function(G){return b=G,this},this.addHandler=function(G,j){return P.push(G,j),this},this.removeHandler=function(G){const j=P.indexOf(G);return j!==-1&&P.splice(j,2),this},this.getHandler=function(G){for(let j=0,K=P.length;j<K;j+=2){const Q=P[j],ie=P[j+1];if(Q.global&&(Q.lastIndex=0),Q.test(G))return ie}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const m1e=new d1e;class sc{constructor(r){this.manager=r!==void 0?r:m1e,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(r,c){const f=this;return new Promise(function(p,y){f.load(r,p,c,y)})}parse(){}setCrossOrigin(r){return this.crossOrigin=r,this}setWithCredentials(r){return this.withCredentials=r,this}setPath(r){return this.path=r,this}setResourcePath(r){return this.resourcePath=r,this}setRequestHeader(r){return this.requestHeader=r,this}abort(){return this}}sc.DEFAULT_MATERIAL_NAME="__DEFAULT";const y1={};class g1e extends Error{constructor(r,c){super(r),this.response=c}}class gx extends sc{constructor(r){super(r),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(r,c,f,p){r===void 0&&(r=""),this.path!==void 0&&(r=this.path+r),r=this.manager.resolveURL(r);const y=Yu.get(`file:${r}`);if(y!==void 0)return this.manager.itemStart(r),setTimeout(()=>{c&&c(y),this.manager.itemEnd(r)},0),y;if(y1[r]!==void 0){y1[r].push({onLoad:c,onProgress:f,onError:p});return}y1[r]=[],y1[r].push({onLoad:c,onProgress:f,onError:p});const T=new Request(r,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),R=this.mimeType,b=this.responseType;fetch(T).then(P=>{if(P.status===200||P.status===0){if(P.status===0&&jt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||P.body===void 0||P.body.getReader===void 0)return P;const G=y1[r],j=P.body.getReader(),K=P.headers.get("X-File-Size")||P.headers.get("Content-Length"),Q=K?parseInt(K):0,ie=Q!==0;let ce=0;const ue=new ReadableStream({start(se){Ne();function Ne(){j.read().then(({done:De,value:Oe})=>{if(De)se.close();else{ce+=Oe.byteLength;const je=new ProgressEvent("progress",{lengthComputable:ie,loaded:ce,total:Q});for(let Be=0,We=G.length;Be<We;Be++){const $e=G[Be];$e.onProgress&&$e.onProgress(je)}se.enqueue(Oe),Ne()}},De=>{se.error(De)})}}});return new Response(ue)}else throw new g1e(`fetch for "${P.url}" responded with ${P.status}: ${P.statusText}`,P)}).then(P=>{switch(b){case"arraybuffer":return P.arrayBuffer();case"blob":return P.blob();case"document":return P.text().then(G=>new DOMParser().parseFromString(G,R));case"json":return P.json();default:if(R==="")return P.text();{const j=/charset="?([^;"\s]*)"?/i.exec(R),K=j&&j[1]?j[1].toLowerCase():void 0,Q=new TextDecoder(K);return P.arrayBuffer().then(ie=>Q.decode(ie))}}}).then(P=>{Yu.add(`file:${r}`,P);const G=y1[r];delete y1[r];for(let j=0,K=G.length;j<K;j++){const Q=G[j];Q.onLoad&&Q.onLoad(P)}}).catch(P=>{const G=y1[r];if(G===void 0)throw this.manager.itemError(r),P;delete y1[r];for(let j=0,K=G.length;j<K;j++){const Q=G[j];Q.onError&&Q.onError(P)}this.manager.itemError(r)}).finally(()=>{this.manager.itemEnd(r)}),this.manager.itemStart(r)}setResponseType(r){return this.responseType=r,this}setMimeType(r){return this.mimeType=r,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}const Wc=new WeakMap;class x1e extends sc{constructor(r){super(r)}load(r,c,f,p){this.path!==void 0&&(r=this.path+r),r=this.manager.resolveURL(r);const y=this,T=Yu.get(`image:${r}`);if(T!==void 0){if(T.complete===!0)y.manager.itemStart(r),setTimeout(function(){c&&c(T),y.manager.itemEnd(r)},0);else{let j=Wc.get(T);j===void 0&&(j=[],Wc.set(T,j)),j.push({onLoad:c,onError:p})}return T}const R=gf("img");function b(){G(),c&&c(this);const j=Wc.get(this)||[];for(let K=0;K<j.length;K++){const Q=j[K];Q.onLoad&&Q.onLoad(this)}Wc.delete(this),y.manager.itemEnd(r)}function P(j){G(),p&&p(j),Yu.remove(`image:${r}`);const K=Wc.get(this)||[];for(let Q=0;Q<K.length;Q++){const ie=K[Q];ie.onError&&ie.onError(j)}Wc.delete(this),y.manager.itemError(r),y.manager.itemEnd(r)}function G(){R.removeEventListener("load",b,!1),R.removeEventListener("error",P,!1)}return R.addEventListener("load",b,!1),R.addEventListener("error",P,!1),r.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(R.crossOrigin=this.crossOrigin),Yu.add(`image:${r}`,R),y.manager.itemStart(r),R.src=r,R}}class y1e extends sc{constructor(r){super(r)}load(r,c,f,p){const y=this,T=new Pf,R=new gx(this.manager);return R.setResponseType("arraybuffer"),R.setRequestHeader(this.requestHeader),R.setPath(this.path),R.setWithCredentials(y.withCredentials),R.load(r,function(b){let P;try{P=y.parse(b)}catch(G){if(p!==void 0)p(G);else{G(G);return}}P.image!==void 0?T.image=P.image:P.data!==void 0&&(T.image.width=P.width,T.image.height=P.height,T.image.data=P.data),T.wrapS=P.wrapS!==void 0?P.wrapS:Cr,T.wrapT=P.wrapT!==void 0?P.wrapT:Cr,T.magFilter=P.magFilter!==void 0?P.magFilter:s2,T.minFilter=P.minFilter!==void 0?P.minFilter:s2,T.anisotropy=P.anisotropy!==void 0?P.anisotropy:1,P.colorSpace!==void 0&&(T.colorSpace=P.colorSpace),P.flipY!==void 0&&(T.flipY=P.flipY),P.format!==void 0&&(T.format=P.format),P.type!==void 0&&(T.type=P.type),P.mipmaps!==void 0&&(T.mipmaps=P.mipmaps,T.minFilter=Vr),P.mipmapCount===1&&(T.minFilter=s2),P.generateMipmaps!==void 0&&(T.generateMipmaps=P.generateMipmaps),T.needsUpdate=!0,c&&c(T,P)},f,p),T}}class l8 extends sc{constructor(r){super(r)}load(r,c,f,p){const y=new J2,T=new x1e(this.manager);return T.setCrossOrigin(this.crossOrigin),T.setPath(this.path),T.load(r,function(R){y.image=R,y.needsUpdate=!0,c!==void 0&&c(y)},f,p),y}}class uc extends O2{constructor(r,c=1){super(),this.isLight=!0,this.type="Light",this.color=new ri(r),this.intensity=c}dispose(){}copy(r,c){return super.copy(r,c),this.color.copy(r.color),this.intensity=r.intensity,this}toJSON(r){const c=super.toJSON(r);return c.object.color=this.color.getHex(),c.object.intensity=this.intensity,this.groundColor!==void 0&&(c.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(c.object.distance=this.distance),this.angle!==void 0&&(c.object.angle=this.angle),this.decay!==void 0&&(c.object.decay=this.decay),this.penumbra!==void 0&&(c.object.penumbra=this.penumbra),this.shadow!==void 0&&(c.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(c.object.target=this.target.uuid),c}}class xx extends uc{constructor(r,c,f){super(r,f),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(O2.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ri(c)}copy(r,c){return super.copy(r,c),this.groundColor.copy(r.groundColor),this}}const m4=new wi,I3=new nt,P3=new nt;class u8{constructor(r){this.camera=r,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new O0(512,512),this.mapType=M2,this.map=null,this.mapPass=null,this.matrix=new wi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Lf,this._frameExtents=new O0(1,1),this._viewportCount=1,this._viewports=[new hi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(r){const c=this.camera,f=this.matrix;I3.setFromMatrixPosition(r.matrixWorld),c.position.copy(I3),P3.setFromMatrixPosition(r.target.matrixWorld),c.lookAt(P3),c.updateMatrixWorld(),m4.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse),this._frustum.setFromProjectionMatrix(m4,c.coordinateSystem,c.reversedDepth),c.reversedDepth?f.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):f.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),f.multiply(m4)}getViewport(r){return this._viewports[r]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(r){return this.camera=r.camera.clone(),this.intensity=r.intensity,this.bias=r.bias,this.radius=r.radius,this.autoUpdate=r.autoUpdate,this.needsUpdate=r.needsUpdate,this.normalBias=r.normalBias,this.blurSamples=r.blurSamples,this.mapSize.copy(r.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const r={};return this.intensity!==1&&(r.intensity=this.intensity),this.bias!==0&&(r.bias=this.bias),this.normalBias!==0&&(r.normalBias=this.normalBias),this.radius!==1&&(r.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(r.mapSize=this.mapSize.toArray()),r.camera=this.camera.toJSON(!1).object,delete r.camera.matrix,r}}class v1e extends u8{constructor(){super(new Z2(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(r){const c=this.camera,f=nc*2*r.angle*this.focus,p=this.mapSize.width/this.mapSize.height*this.aspect,y=r.distance||c.far;(f!==c.fov||p!==c.aspect||y!==c.far)&&(c.fov=f,c.aspect=p,c.far=y,c.updateProjectionMatrix()),super.updateMatrices(r)}copy(r){return super.copy(r),this.focus=r.focus,this}}class F_ extends uc{constructor(r,c,f=0,p=Math.PI/3,y=0,T=2){super(r,c),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(O2.DEFAULT_UP),this.updateMatrix(),this.target=new O2,this.distance=f,this.angle=p,this.penumbra=y,this.decay=T,this.map=null,this.shadow=new v1e}get power(){return this.intensity*Math.PI}set power(r){this.intensity=r/Math.PI}dispose(){this.shadow.dispose()}copy(r,c){return super.copy(r,c),this.distance=r.distance,this.angle=r.angle,this.penumbra=r.penumbra,this.decay=r.decay,this.target=r.target.clone(),this.shadow=r.shadow.clone(),this}}const L3=new wi,Ru=new nt,g4=new nt;class S1e extends u8{constructor(){super(new Z2(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new O0(4,2),this._viewportCount=6,this._viewports=[new hi(2,1,1,1),new hi(0,1,1,1),new hi(3,1,1,1),new hi(1,1,1,1),new hi(3,0,1,1),new hi(1,0,1,1)],this._cubeDirections=[new nt(1,0,0),new nt(-1,0,0),new nt(0,0,1),new nt(0,0,-1),new nt(0,1,0),new nt(0,-1,0)],this._cubeUps=[new nt(0,1,0),new nt(0,1,0),new nt(0,1,0),new nt(0,1,0),new nt(0,0,1),new nt(0,0,-1)]}updateMatrices(r,c=0){const f=this.camera,p=this.matrix,y=r.distance||f.far;y!==f.far&&(f.far=y,f.updateProjectionMatrix()),Ru.setFromMatrixPosition(r.matrixWorld),f.position.copy(Ru),g4.copy(f.position),g4.add(this._cubeDirections[c]),f.up.copy(this._cubeUps[c]),f.lookAt(g4),f.updateMatrixWorld(),p.makeTranslation(-Ru.x,-Ru.y,-Ru.z),L3.multiplyMatrices(f.projectionMatrix,f.matrixWorldInverse),this._frustum.setFromProjectionMatrix(L3,f.coordinateSystem,f.reversedDepth)}}class yx extends uc{constructor(r,c,f=0,p=2){super(r,c),this.isPointLight=!0,this.type="PointLight",this.distance=f,this.decay=p,this.shadow=new S1e}get power(){return this.intensity*4*Math.PI}set power(r){this.intensity=r/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(r,c){return super.copy(r,c),this.distance=r.distance,this.decay=r.decay,this.shadow=r.shadow.clone(),this}}class Bf extends n8{constructor(r=-1,c=1,f=1,p=-1,y=.1,T=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=r,this.right=c,this.top=f,this.bottom=p,this.near=y,this.far=T,this.updateProjectionMatrix()}copy(r,c){return super.copy(r,c),this.left=r.left,this.right=r.right,this.top=r.top,this.bottom=r.bottom,this.near=r.near,this.far=r.far,this.zoom=r.zoom,this.view=r.view===null?null:Object.assign({},r.view),this}setViewOffset(r,c,f,p,y,T){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=c,this.view.offsetX=f,this.view.offsetY=p,this.view.width=y,this.view.height=T,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const r=(this.right-this.left)/(2*this.zoom),c=(this.top-this.bottom)/(2*this.zoom),f=(this.right+this.left)/2,p=(this.top+this.bottom)/2;let y=f-r,T=f+r,R=p+c,b=p-c;if(this.view!==null&&this.view.enabled){const P=(this.right-this.left)/this.view.fullWidth/this.zoom,G=(this.top-this.bottom)/this.view.fullHeight/this.zoom;y+=P*this.view.offsetX,T=y+P*this.view.width,R-=G*this.view.offsetY,b=R-G*this.view.height}this.projectionMatrix.makeOrthographic(y,T,R,b,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(r){const c=super.toJSON(r);return c.object.zoom=this.zoom,c.object.left=this.left,c.object.right=this.right,c.object.top=this.top,c.object.bottom=this.bottom,c.object.near=this.near,c.object.far=this.far,this.view!==null&&(c.object.view=Object.assign({},this.view)),c}}class T1e extends u8{constructor(){super(new Bf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class f8 extends uc{constructor(r,c){super(r,c),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(O2.DEFAULT_UP),this.updateMatrix(),this.target=new O2,this.shadow=new T1e}dispose(){this.shadow.dispose()}copy(r){return super.copy(r),this.target=r.target.clone(),this.shadow=r.shadow.clone(),this}}class vx extends uc{constructor(r,c){super(r,c),this.isAmbientLight=!0,this.type="AmbientLight"}}class C1e extends uc{constructor(r,c,f=10,p=10){super(r,c),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=f,this.height=p}get power(){return this.intensity*this.width*this.height*Math.PI}set power(r){this.intensity=r/(this.width*this.height*Math.PI)}copy(r){return super.copy(r),this.width=r.width,this.height=r.height,this}toJSON(r){const c=super.toJSON(r);return c.object.width=this.width,c.object.height=this.height,c}}class w1e{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let r=0;r<9;r++)this.coefficients.push(new nt)}set(r){for(let c=0;c<9;c++)this.coefficients[c].copy(r[c]);return this}zero(){for(let r=0;r<9;r++)this.coefficients[r].set(0,0,0);return this}getAt(r,c){const f=r.x,p=r.y,y=r.z,T=this.coefficients;return c.copy(T[0]).multiplyScalar(.282095),c.addScaledVector(T[1],.488603*p),c.addScaledVector(T[2],.488603*y),c.addScaledVector(T[3],.488603*f),c.addScaledVector(T[4],1.092548*(f*p)),c.addScaledVector(T[5],1.092548*(p*y)),c.addScaledVector(T[6],.315392*(3*y*y-1)),c.addScaledVector(T[7],1.092548*(f*y)),c.addScaledVector(T[8],.546274*(f*f-p*p)),c}getIrradianceAt(r,c){const f=r.x,p=r.y,y=r.z,T=this.coefficients;return c.copy(T[0]).multiplyScalar(.886227),c.addScaledVector(T[1],2*.511664*p),c.addScaledVector(T[2],2*.511664*y),c.addScaledVector(T[3],2*.511664*f),c.addScaledVector(T[4],2*.429043*f*p),c.addScaledVector(T[5],2*.429043*p*y),c.addScaledVector(T[6],.743125*y*y-.247708),c.addScaledVector(T[7],2*.429043*f*y),c.addScaledVector(T[8],.429043*(f*f-p*p)),c}add(r){for(let c=0;c<9;c++)this.coefficients[c].add(r.coefficients[c]);return this}addScaledSH(r,c){for(let f=0;f<9;f++)this.coefficients[f].addScaledVector(r.coefficients[f],c);return this}scale(r){for(let c=0;c<9;c++)this.coefficients[c].multiplyScalar(r);return this}lerp(r,c){for(let f=0;f<9;f++)this.coefficients[f].lerp(r.coefficients[f],c);return this}equals(r){for(let c=0;c<9;c++)if(!this.coefficients[c].equals(r.coefficients[c]))return!1;return!0}copy(r){return this.set(r.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(r,c=0){const f=this.coefficients;for(let p=0;p<9;p++)f[p].fromArray(r,c+p*3);return this}toArray(r=[],c=0){const f=this.coefficients;for(let p=0;p<9;p++)f[p].toArray(r,c+p*3);return r}static getBasisAt(r,c){const f=r.x,p=r.y,y=r.z;c[0]=.282095,c[1]=.488603*p,c[2]=.488603*y,c[3]=.488603*f,c[4]=1.092548*f*p,c[5]=1.092548*p*y,c[6]=.315392*(3*y*y-1),c[7]=1.092548*f*y,c[8]=.546274*(f*f-p*p)}}class M1e extends uc{constructor(r=new w1e,c=1){super(void 0,c),this.isLightProbe=!0,this.sh=r}copy(r){return super.copy(r),this.sh.copy(r.sh),this}fromJSON(r){return this.intensity=r.intensity,this.sh.fromArray(r.sh),this}toJSON(r){const c=super.toJSON(r);return c.object.sh=this.sh.toArray(),c}}class R1e{static extractUrlBase(r){const c=r.lastIndexOf("/");return c===-1?"./":r.slice(0,c+1)}static resolveURL(r,c){return typeof r!="string"||r===""?"":(/^https?:\/\//i.test(c)&&/^\//.test(r)&&(c=c.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(r)||/^data:.*,.*$/i.test(r)||/^blob:.*$/i.test(r)?r:c+r)}}class Sx extends Z2{constructor(r=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=r}}class A1e{constructor(r=!0){this.autoStart=r,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let r=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const c=performance.now();r=(c-this.oldTime)/1e3,this.oldTime=c,this.elapsedTime+=r}return r}}class E1e extends lx{constructor(r,c,f=1){super(r,c),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=f}copy(r){return super.copy(r),this.meshPerAttribute=r.meshPerAttribute,this}clone(r){const c=super.clone(r);return c.meshPerAttribute=this.meshPerAttribute,c}toJSON(r){const c=super.toJSON(r);return c.isInstancedInterleavedBuffer=!0,c.meshPerAttribute=this.meshPerAttribute,c}}const k3=new wi;class b1e{constructor(r,c,f=0,p=1/0){this.ray=new Nf(r,c),this.near=f,this.far=p,this.camera=null,this.layers=new e8,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(r,c){this.ray.set(r,c)}setFromCamera(r,c){c.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(c.matrixWorld),this.ray.direction.set(r.x,r.y,.5).unproject(c).sub(this.ray.origin).normalize(),this.camera=c):c.isOrthographicCamera?(this.ray.origin.set(r.x,r.y,(c.near+c.far)/(c.near-c.far)).unproject(c),this.ray.direction.set(0,0,-1).transformDirection(c.matrixWorld),this.camera=c):i0("Raycaster: Unsupported camera type: "+c.type)}setFromXRController(r){return k3.identity().extractRotation(r.matrixWorld),this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(k3),this}intersectObject(r,c=!0,f=[]){return ud(r,this,f,c),f.sort(F3),f}intersectObjects(r,c=!0,f=[]){for(let p=0,y=r.length;p<y;p++)ud(r[p],this,f,c);return f.sort(F3),f}}function F3(v,r){return v.distance-r.distance}function ud(v,r,c,f){let p=!0;if(v.layers.test(r.layers)&&v.raycast(r,c)===!1&&(p=!1),p===!0&&f===!0){const y=v.children;for(let T=0,R=y.length;T<R;T++)ud(y[T],r,c,!0)}}class B3{constructor(r=1,c=0,f=0){this.radius=r,this.phi=c,this.theta=f}set(r,c,f){return this.radius=r,this.phi=c,this.theta=f,this}copy(r){return this.radius=r.radius,this.phi=r.phi,this.theta=r.theta,this}makeSafe(){return this.phi=Zi(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(r){return this.setFromCartesianCoords(r.x,r.y,r.z)}setFromCartesianCoords(r,c,f){return this.radius=Math.sqrt(r*r+c*c+f*f),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(r,f),this.phi=Math.acos(Zi(c/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class B_{constructor(r,c,f,p){B_.prototype.isMatrix2=!0,this.elements=[1,0,0,1],r!==void 0&&this.set(r,c,f,p)}identity(){return this.set(1,0,0,1),this}fromArray(r,c=0){for(let f=0;f<4;f++)this.elements[f]=r[f+c];return this}set(r,c,f,p){const y=this.elements;return y[0]=r,y[2]=c,y[1]=f,y[3]=p,this}}class N1e extends Jo{constructor(r,c=null){super(),this.object=r,this.domElement=c,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(r){if(r===void 0){jt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=r}disconnect(){}dispose(){}update(){}}function fd(v,r,c,f){const p=D1e(f);switch(c){case Wd:return v*r;case bf:return v*r/p.components*p.byteLength;case Zl:return v*r/p.components*p.byteLength;case yo:return v*r*2/p.components*p.byteLength;case Ql:return v*r*2/p.components*p.byteLength;case Ef:return v*r*3/p.components*p.byteLength;case R2:return v*r*4/p.components*p.byteLength;case Jl:return v*r*4/p.components*p.byteLength;case oa:case aa:return Math.floor((v+3)/4)*Math.floor((r+3)/4)*8;case ca:case la:return Math.floor((v+3)/4)*Math.floor((r+3)/4)*16;case hf:case mf:return Math.max(v,16)*Math.max(r,8)/4;case _f:case df:return Math.max(v,8)*Math.max(r,8)/2;case gl:case xl:return Math.floor((v+3)/4)*Math.floor((r+3)/4)*8;case yl:return Math.floor((v+3)/4)*Math.floor((r+3)/4)*16;case vl:return Math.floor((v+3)/4)*Math.floor((r+3)/4)*16;case Sl:return Math.floor((v+4)/5)*Math.floor((r+3)/4)*16;case Tl:return Math.floor((v+4)/5)*Math.floor((r+4)/5)*16;case Cl:return Math.floor((v+5)/6)*Math.floor((r+4)/5)*16;case wl:return Math.floor((v+5)/6)*Math.floor((r+5)/6)*16;case Ml:return Math.floor((v+7)/8)*Math.floor((r+4)/5)*16;case Rl:return Math.floor((v+7)/8)*Math.floor((r+5)/6)*16;case Al:return Math.floor((v+7)/8)*Math.floor((r+7)/8)*16;case El:return Math.floor((v+9)/10)*Math.floor((r+4)/5)*16;case bl:return Math.floor((v+9)/10)*Math.floor((r+5)/6)*16;case Nl:return Math.floor((v+9)/10)*Math.floor((r+7)/8)*16;case Dl:return Math.floor((v+9)/10)*Math.floor((r+9)/10)*16;case Il:return Math.floor((v+11)/12)*Math.floor((r+9)/10)*16;case Pl:return Math.floor((v+11)/12)*Math.floor((r+11)/12)*16;case Ll:case sd:case od:return Math.ceil(v/4)*Math.ceil(r/4)*16;case kl:case Fl:return Math.ceil(v/4)*Math.ceil(r/4)*8;case Bl:case Ul:return Math.ceil(v/4)*Math.ceil(r/4)*16}throw new Error(`Unable to determine texture byte length for ${c} format.`)}function D1e(v){switch(v){case M2:case Ya:return{byteLength:1,components:1};case xo:case Ka:case Q2:return{byteLength:2,components:1};case b_:case N_:return{byteLength:2,components:4};case Kn:case Tr:case P2:return{byteLength:4,components:1};case D_:case I_:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${v}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Kl}}));typeof window<"u"&&(window.__THREE__?jt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Kl);function Tx(){let v=null,r=!1,c=null,f=null;function p(y,T){c(y,T),f=v.requestAnimationFrame(p)}return{start:function(){r!==!0&&c!==null&&(f=v.requestAnimationFrame(p),r=!0)},stop:function(){v.cancelAnimationFrame(f),r=!1},setAnimationLoop:function(y){c=y},setContext:function(y){v=y}}}function I1e(v){const r=new WeakMap;function c(R,b){const P=R.array,G=R.usage,j=P.byteLength,K=v.createBuffer();v.bindBuffer(b,K),v.bufferData(b,P,G),R.onUploadCallback();let Q;if(P instanceof Float32Array)Q=v.FLOAT;else if(typeof Float16Array<"u"&&P instanceof Float16Array)Q=v.HALF_FLOAT;else if(P instanceof Uint16Array)R.isFloat16BufferAttribute?Q=v.HALF_FLOAT:Q=v.UNSIGNED_SHORT;else if(P instanceof Int16Array)Q=v.SHORT;else if(P instanceof Uint32Array)Q=v.UNSIGNED_INT;else if(P instanceof Int32Array)Q=v.INT;else if(P instanceof Int8Array)Q=v.BYTE;else if(P instanceof Uint8Array)Q=v.UNSIGNED_BYTE;else if(P instanceof Uint8ClampedArray)Q=v.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+P);return{buffer:K,type:Q,bytesPerElement:P.BYTES_PER_ELEMENT,version:R.version,size:j}}function f(R,b,P){const G=b.array,j=b.updateRanges;if(v.bindBuffer(P,R),j.length===0)v.bufferSubData(P,0,G);else{j.sort((Q,ie)=>Q.start-ie.start);let K=0;for(let Q=1;Q<j.length;Q++){const ie=j[K],ce=j[Q];ce.start<=ie.start+ie.count+1?ie.count=Math.max(ie.count,ce.start+ce.count-ie.start):(++K,j[K]=ce)}j.length=K+1;for(let Q=0,ie=j.length;Q<ie;Q++){const ce=j[Q];v.bufferSubData(P,ce.start*G.BYTES_PER_ELEMENT,G,ce.start,ce.count)}b.clearUpdateRanges()}b.onUploadCallback()}function p(R){return R.isInterleavedBufferAttribute&&(R=R.data),r.get(R)}function y(R){R.isInterleavedBufferAttribute&&(R=R.data);const b=r.get(R);b&&(v.deleteBuffer(b.buffer),r.delete(R))}function T(R,b){if(R.isInterleavedBufferAttribute&&(R=R.data),R.isGLBufferAttribute){const G=r.get(R);(!G||G.version<R.version)&&r.set(R,{buffer:R.buffer,type:R.type,bytesPerElement:R.elementSize,version:R.version});return}const P=r.get(R);if(P===void 0)r.set(R,c(R,b));else if(P.version<R.version){if(P.size!==R.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");f(P.buffer,R,b),P.version=R.version}}return{get:p,remove:y,update:T}}var P1e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,L1e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,k1e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,F1e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,B1e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,U1e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,O1e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,G1e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,V1e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,z1e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,W1e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,H1e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,j1e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,q1e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,X1e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,$1e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Y1e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,K1e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Z1e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Q1e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,J1e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,eae=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,tae=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,iae=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,nae=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,rae=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,sae=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,oae=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,aae=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,cae=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,lae="gl_FragColor = linearToOutputTexel( gl_FragColor );",uae=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,fae=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,pae=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,_ae=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,hae=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,dae=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,mae=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,gae=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,xae=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,yae=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,vae=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Sae=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Tae=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Cae=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,wae=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Mae=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Rae=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Aae=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Eae=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,bae=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Nae=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Dae=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Iae=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Pae=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Lae=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,kae=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Fae=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Bae=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Uae=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Oae=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Gae=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Vae=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,zae=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Wae=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Hae=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,jae=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,qae=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Xae=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,$ae=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Yae=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Kae=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Zae=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Qae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Jae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ece=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,tce=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,ice=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,nce=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,rce=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,sce=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,oce=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,ace=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,cce=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,lce=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,uce=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,fce=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,pce=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_ce=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,hce=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,dce=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,mce=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,gce=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,xce=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,yce=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,vce=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Sce=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Tce=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Cce=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,wce=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Mce=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Rce=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Ace=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Ece=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,bce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Nce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Dce=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Ice=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Pce=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Lce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,kce=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Fce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Bce=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Uce=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Oce=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Gce=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Vce=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,zce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Wce=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Hce=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,jce=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qce=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Xce=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$ce=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Yce=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kce=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Zce=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Qce=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Jce=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,ele=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tle=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ile=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,nle=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rle=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sle=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ole=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ale=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cle=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lle=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ule=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fle=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ki={alphahash_fragment:P1e,alphahash_pars_fragment:L1e,alphamap_fragment:k1e,alphamap_pars_fragment:F1e,alphatest_fragment:B1e,alphatest_pars_fragment:U1e,aomap_fragment:O1e,aomap_pars_fragment:G1e,batching_pars_vertex:V1e,batching_vertex:z1e,begin_vertex:W1e,beginnormal_vertex:H1e,bsdfs:j1e,iridescence_fragment:q1e,bumpmap_pars_fragment:X1e,clipping_planes_fragment:$1e,clipping_planes_pars_fragment:Y1e,clipping_planes_pars_vertex:K1e,clipping_planes_vertex:Z1e,color_fragment:Q1e,color_pars_fragment:J1e,color_pars_vertex:eae,color_vertex:tae,common:iae,cube_uv_reflection_fragment:nae,defaultnormal_vertex:rae,displacementmap_pars_vertex:sae,displacementmap_vertex:oae,emissivemap_fragment:aae,emissivemap_pars_fragment:cae,colorspace_fragment:lae,colorspace_pars_fragment:uae,envmap_fragment:fae,envmap_common_pars_fragment:pae,envmap_pars_fragment:_ae,envmap_pars_vertex:hae,envmap_physical_pars_fragment:Mae,envmap_vertex:dae,fog_vertex:mae,fog_pars_vertex:gae,fog_fragment:xae,fog_pars_fragment:yae,gradientmap_pars_fragment:vae,lightmap_pars_fragment:Sae,lights_lambert_fragment:Tae,lights_lambert_pars_fragment:Cae,lights_pars_begin:wae,lights_toon_fragment:Rae,lights_toon_pars_fragment:Aae,lights_phong_fragment:Eae,lights_phong_pars_fragment:bae,lights_physical_fragment:Nae,lights_physical_pars_fragment:Dae,lights_fragment_begin:Iae,lights_fragment_maps:Pae,lights_fragment_end:Lae,logdepthbuf_fragment:kae,logdepthbuf_pars_fragment:Fae,logdepthbuf_pars_vertex:Bae,logdepthbuf_vertex:Uae,map_fragment:Oae,map_pars_fragment:Gae,map_particle_fragment:Vae,map_particle_pars_fragment:zae,metalnessmap_fragment:Wae,metalnessmap_pars_fragment:Hae,morphinstance_vertex:jae,morphcolor_vertex:qae,morphnormal_vertex:Xae,morphtarget_pars_vertex:$ae,morphtarget_vertex:Yae,normal_fragment_begin:Kae,normal_fragment_maps:Zae,normal_pars_fragment:Qae,normal_pars_vertex:Jae,normal_vertex:ece,normalmap_pars_fragment:tce,clearcoat_normal_fragment_begin:ice,clearcoat_normal_fragment_maps:nce,clearcoat_pars_fragment:rce,iridescence_pars_fragment:sce,opaque_fragment:oce,packing:ace,premultiplied_alpha_fragment:cce,project_vertex:lce,dithering_fragment:uce,dithering_pars_fragment:fce,roughnessmap_fragment:pce,roughnessmap_pars_fragment:_ce,shadowmap_pars_fragment:hce,shadowmap_pars_vertex:dce,shadowmap_vertex:mce,shadowmask_pars_fragment:gce,skinbase_vertex:xce,skinning_pars_vertex:yce,skinning_vertex:vce,skinnormal_vertex:Sce,specularmap_fragment:Tce,specularmap_pars_fragment:Cce,tonemapping_fragment:wce,tonemapping_pars_fragment:Mce,transmission_fragment:Rce,transmission_pars_fragment:Ace,uv_pars_fragment:Ece,uv_pars_vertex:bce,uv_vertex:Nce,worldpos_vertex:Dce,background_vert:Ice,background_frag:Pce,backgroundCube_vert:Lce,backgroundCube_frag:kce,cube_vert:Fce,cube_frag:Bce,depth_vert:Uce,depth_frag:Oce,distanceRGBA_vert:Gce,distanceRGBA_frag:Vce,equirect_vert:zce,equirect_frag:Wce,linedashed_vert:Hce,linedashed_frag:jce,meshbasic_vert:qce,meshbasic_frag:Xce,meshlambert_vert:$ce,meshlambert_frag:Yce,meshmatcap_vert:Kce,meshmatcap_frag:Zce,meshnormal_vert:Qce,meshnormal_frag:Jce,meshphong_vert:ele,meshphong_frag:tle,meshphysical_vert:ile,meshphysical_frag:nle,meshtoon_vert:rle,meshtoon_frag:sle,points_vert:ole,points_frag:ale,shadow_vert:cle,shadow_frag:lle,sprite_vert:ule,sprite_frag:fle},R0={common:{diffuse:{value:new ri(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Pi},alphaMap:{value:null},alphaMapTransform:{value:new Pi},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Pi}},envmap:{envMap:{value:null},envMapRotation:{value:new Pi},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Pi}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Pi}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Pi},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Pi},normalScale:{value:new O0(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Pi},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Pi}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Pi}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Pi}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ri(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ri(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Pi},alphaTest:{value:0},uvTransform:{value:new Pi}},sprite:{diffuse:{value:new ri(16777215)},opacity:{value:1},center:{value:new O0(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Pi},alphaMap:{value:null},alphaMapTransform:{value:new Pi},alphaTest:{value:0}}},Ho={basic:{uniforms:Jr([R0.common,R0.specularmap,R0.envmap,R0.aomap,R0.lightmap,R0.fog]),vertexShader:Ki.meshbasic_vert,fragmentShader:Ki.meshbasic_frag},lambert:{uniforms:Jr([R0.common,R0.specularmap,R0.envmap,R0.aomap,R0.lightmap,R0.emissivemap,R0.bumpmap,R0.normalmap,R0.displacementmap,R0.fog,R0.lights,{emissive:{value:new ri(0)}}]),vertexShader:Ki.meshlambert_vert,fragmentShader:Ki.meshlambert_frag},phong:{uniforms:Jr([R0.common,R0.specularmap,R0.envmap,R0.aomap,R0.lightmap,R0.emissivemap,R0.bumpmap,R0.normalmap,R0.displacementmap,R0.fog,R0.lights,{emissive:{value:new ri(0)},specular:{value:new ri(1118481)},shininess:{value:30}}]),vertexShader:Ki.meshphong_vert,fragmentShader:Ki.meshphong_frag},standard:{uniforms:Jr([R0.common,R0.envmap,R0.aomap,R0.lightmap,R0.emissivemap,R0.bumpmap,R0.normalmap,R0.displacementmap,R0.roughnessmap,R0.metalnessmap,R0.fog,R0.lights,{emissive:{value:new ri(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ki.meshphysical_vert,fragmentShader:Ki.meshphysical_frag},toon:{uniforms:Jr([R0.common,R0.aomap,R0.lightmap,R0.emissivemap,R0.bumpmap,R0.normalmap,R0.displacementmap,R0.gradientmap,R0.fog,R0.lights,{emissive:{value:new ri(0)}}]),vertexShader:Ki.meshtoon_vert,fragmentShader:Ki.meshtoon_frag},matcap:{uniforms:Jr([R0.common,R0.bumpmap,R0.normalmap,R0.displacementmap,R0.fog,{matcap:{value:null}}]),vertexShader:Ki.meshmatcap_vert,fragmentShader:Ki.meshmatcap_frag},points:{uniforms:Jr([R0.points,R0.fog]),vertexShader:Ki.points_vert,fragmentShader:Ki.points_frag},dashed:{uniforms:Jr([R0.common,R0.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ki.linedashed_vert,fragmentShader:Ki.linedashed_frag},depth:{uniforms:Jr([R0.common,R0.displacementmap]),vertexShader:Ki.depth_vert,fragmentShader:Ki.depth_frag},normal:{uniforms:Jr([R0.common,R0.bumpmap,R0.normalmap,R0.displacementmap,{opacity:{value:1}}]),vertexShader:Ki.meshnormal_vert,fragmentShader:Ki.meshnormal_frag},sprite:{uniforms:Jr([R0.sprite,R0.fog]),vertexShader:Ki.sprite_vert,fragmentShader:Ki.sprite_frag},background:{uniforms:{uvTransform:{value:new Pi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ki.background_vert,fragmentShader:Ki.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Pi}},vertexShader:Ki.backgroundCube_vert,fragmentShader:Ki.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ki.cube_vert,fragmentShader:Ki.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ki.equirect_vert,fragmentShader:Ki.equirect_frag},distanceRGBA:{uniforms:Jr([R0.common,R0.displacementmap,{referencePosition:{value:new nt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ki.distanceRGBA_vert,fragmentShader:Ki.distanceRGBA_frag},shadow:{uniforms:Jr([R0.lights,R0.fog,{color:{value:new ri(0)},opacity:{value:1}}]),vertexShader:Ki.shadow_vert,fragmentShader:Ki.shadow_frag}};Ho.physical={uniforms:Jr([Ho.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Pi},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Pi},clearcoatNormalScale:{value:new O0(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Pi},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Pi},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Pi},sheen:{value:0},sheenColor:{value:new ri(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Pi},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Pi},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Pi},transmissionSamplerSize:{value:new O0},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Pi},attenuationDistance:{value:0},attenuationColor:{value:new ri(0)},specularColor:{value:new ri(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Pi},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Pi},anisotropyVector:{value:new O0},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Pi}}]),vertexShader:Ki.meshphysical_vert,fragmentShader:Ki.meshphysical_frag};const Up={r:0,b:0,g:0},Pa=new Wr,ple=new wi;function _le(v,r,c,f,p,y,T){const R=new ri(0);let b=y===!0?0:1,P,G,j=null,K=0,Q=null;function ie(De){let Oe=De.isScene===!0?De.background:null;return Oe&&Oe.isTexture&&(Oe=(De.backgroundBlurriness>0?c:r).get(Oe)),Oe}function ce(De){let Oe=!1;const je=ie(De);je===null?se(R,b):je&&je.isColor&&(se(je,1),Oe=!0);const Be=v.xr.getEnvironmentBlendMode();Be==="additive"?f.buffers.color.setClear(0,0,0,1,T):Be==="alpha-blend"&&f.buffers.color.setClear(0,0,0,0,T),(v.autoClear||Oe)&&(f.buffers.depth.setTest(!0),f.buffers.depth.setMask(!0),f.buffers.color.setMask(!0),v.clear(v.autoClearColor,v.autoClearDepth,v.autoClearStencil))}function ue(De,Oe){const je=ie(Oe);je&&(je.isCubeTexture||je.mapping===ec)?(G===void 0&&(G=new G2(new B1(1,1,1),new L1({name:"BackgroundCubeMaterial",uniforms:Gl(Ho.backgroundCube.uniforms),vertexShader:Ho.backgroundCube.vertexShader,fragmentShader:Ho.backgroundCube.fragmentShader,side:Zn,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),G.geometry.deleteAttribute("normal"),G.geometry.deleteAttribute("uv"),G.onBeforeRender=function(Be,We,$e){this.matrixWorld.copyPosition($e.matrixWorld)},Object.defineProperty(G.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),p.update(G)),Pa.copy(Oe.backgroundRotation),Pa.x*=-1,Pa.y*=-1,Pa.z*=-1,je.isCubeTexture&&je.isRenderTargetTexture===!1&&(Pa.y*=-1,Pa.z*=-1),G.material.uniforms.envMap.value=je,G.material.uniforms.flipEnvMap.value=je.isCubeTexture&&je.isRenderTargetTexture===!1?-1:1,G.material.uniforms.backgroundBlurriness.value=Oe.backgroundBlurriness,G.material.uniforms.backgroundIntensity.value=Oe.backgroundIntensity,G.material.uniforms.backgroundRotation.value.setFromMatrix4(ple.makeRotationFromEuler(Pa)),G.material.toneMapped=pi.getTransfer(je.colorSpace)!==b0,(j!==je||K!==je.version||Q!==v.toneMapping)&&(G.material.needsUpdate=!0,j=je,K=je.version,Q=v.toneMapping),G.layers.enableAll(),De.unshift(G,G.geometry,G.material,0,0,null)):je&&je.isTexture&&(P===void 0&&(P=new G2(new kf(2,2),new L1({name:"BackgroundMaterial",uniforms:Gl(Ho.background.uniforms),vertexShader:Ho.background.vertexShader,fragmentShader:Ho.background.fragmentShader,side:Cs,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),P.geometry.deleteAttribute("normal"),Object.defineProperty(P.material,"map",{get:function(){return this.uniforms.t2D.value}}),p.update(P)),P.material.uniforms.t2D.value=je,P.material.uniforms.backgroundIntensity.value=Oe.backgroundIntensity,P.material.toneMapped=pi.getTransfer(je.colorSpace)!==b0,je.matrixAutoUpdate===!0&&je.updateMatrix(),P.material.uniforms.uvTransform.value.copy(je.matrix),(j!==je||K!==je.version||Q!==v.toneMapping)&&(P.material.needsUpdate=!0,j=je,K=je.version,Q=v.toneMapping),P.layers.enableAll(),De.unshift(P,P.geometry,P.material,0,0,null))}function se(De,Oe){De.getRGB(Up,ox(v)),f.buffers.color.setClear(Up.r,Up.g,Up.b,Oe,T)}function Ne(){G!==void 0&&(G.geometry.dispose(),G.material.dispose(),G=void 0),P!==void 0&&(P.geometry.dispose(),P.material.dispose(),P=void 0)}return{getClearColor:function(){return R},setClearColor:function(De,Oe=1){R.set(De),b=Oe,se(R,b)},getClearAlpha:function(){return b},setClearAlpha:function(De){b=De,se(R,b)},render:ce,addToRenderList:ue,dispose:Ne}}function hle(v,r){const c=v.getParameter(v.MAX_VERTEX_ATTRIBS),f={},p=K(null);let y=p,T=!1;function R(Ie,Je,ft,yt,Et){let Dt=!1;const ct=j(yt,ft,Je);y!==ct&&(y=ct,P(y.object)),Dt=Q(Ie,yt,ft,Et),Dt&&ie(Ie,yt,ft,Et),Et!==null&&r.update(Et,v.ELEMENT_ARRAY_BUFFER),(Dt||T)&&(T=!1,Oe(Ie,Je,ft,yt),Et!==null&&v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,r.get(Et).buffer))}function b(){return v.createVertexArray()}function P(Ie){return v.bindVertexArray(Ie)}function G(Ie){return v.deleteVertexArray(Ie)}function j(Ie,Je,ft){const yt=ft.wireframe===!0;let Et=f[Ie.id];Et===void 0&&(Et={},f[Ie.id]=Et);let Dt=Et[Je.id];Dt===void 0&&(Dt={},Et[Je.id]=Dt);let ct=Dt[yt];return ct===void 0&&(ct=K(b()),Dt[yt]=ct),ct}function K(Ie){const Je=[],ft=[],yt=[];for(let Et=0;Et<c;Et++)Je[Et]=0,ft[Et]=0,yt[Et]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Je,enabledAttributes:ft,attributeDivisors:yt,object:Ie,attributes:{},index:null}}function Q(Ie,Je,ft,yt){const Et=y.attributes,Dt=Je.attributes;let ct=0;const Wt=ft.getAttributes();for(const vt in Wt)if(Wt[vt].location>=0){const Qt=Et[vt];let a0=Dt[vt];if(a0===void 0&&(vt==="instanceMatrix"&&Ie.instanceMatrix&&(a0=Ie.instanceMatrix),vt==="instanceColor"&&Ie.instanceColor&&(a0=Ie.instanceColor)),Qt===void 0||Qt.attribute!==a0||a0&&Qt.data!==a0.data)return!0;ct++}return y.attributesNum!==ct||y.index!==yt}function ie(Ie,Je,ft,yt){const Et={},Dt=Je.attributes;let ct=0;const Wt=ft.getAttributes();for(const vt in Wt)if(Wt[vt].location>=0){let Qt=Dt[vt];Qt===void 0&&(vt==="instanceMatrix"&&Ie.instanceMatrix&&(Qt=Ie.instanceMatrix),vt==="instanceColor"&&Ie.instanceColor&&(Qt=Ie.instanceColor));const a0={};a0.attribute=Qt,Qt&&Qt.data&&(a0.data=Qt.data),Et[vt]=a0,ct++}y.attributes=Et,y.attributesNum=ct,y.index=yt}function ce(){const Ie=y.newAttributes;for(let Je=0,ft=Ie.length;Je<ft;Je++)Ie[Je]=0}function ue(Ie){se(Ie,0)}function se(Ie,Je){const ft=y.newAttributes,yt=y.enabledAttributes,Et=y.attributeDivisors;ft[Ie]=1,yt[Ie]===0&&(v.enableVertexAttribArray(Ie),yt[Ie]=1),Et[Ie]!==Je&&(v.vertexAttribDivisor(Ie,Je),Et[Ie]=Je)}function Ne(){const Ie=y.newAttributes,Je=y.enabledAttributes;for(let ft=0,yt=Je.length;ft<yt;ft++)Je[ft]!==Ie[ft]&&(v.disableVertexAttribArray(ft),Je[ft]=0)}function De(Ie,Je,ft,yt,Et,Dt,ct){ct===!0?v.vertexAttribIPointer(Ie,Je,ft,Et,Dt):v.vertexAttribPointer(Ie,Je,ft,yt,Et,Dt)}function Oe(Ie,Je,ft,yt){ce();const Et=yt.attributes,Dt=ft.getAttributes(),ct=Je.defaultAttributeValues;for(const Wt in Dt){const vt=Dt[Wt];if(vt.location>=0){let Ht=Et[Wt];if(Ht===void 0&&(Wt==="instanceMatrix"&&Ie.instanceMatrix&&(Ht=Ie.instanceMatrix),Wt==="instanceColor"&&Ie.instanceColor&&(Ht=Ie.instanceColor)),Ht!==void 0){const Qt=Ht.normalized,a0=Ht.itemSize,G0=r.get(Ht);if(G0===void 0)continue;const C0=G0.buffer,w0=G0.type,y0=G0.bytesPerElement,dt=w0===v.INT||w0===v.UNSIGNED_INT||Ht.gpuType===Tr;if(Ht.isInterleavedBufferAttribute){const wt=Ht.data,e0=wt.stride,B0=Ht.offset;if(wt.isInstancedInterleavedBuffer){for(let A0=0;A0<vt.locationSize;A0++)se(vt.location+A0,wt.meshPerAttribute);Ie.isInstancedMesh!==!0&&yt._maxInstanceCount===void 0&&(yt._maxInstanceCount=wt.meshPerAttribute*wt.count)}else for(let A0=0;A0<vt.locationSize;A0++)ue(vt.location+A0);v.bindBuffer(v.ARRAY_BUFFER,C0);for(let A0=0;A0<vt.locationSize;A0++)De(vt.location+A0,a0/vt.locationSize,w0,Qt,e0*y0,(B0+a0/vt.locationSize*A0)*y0,dt)}else{if(Ht.isInstancedBufferAttribute){for(let wt=0;wt<vt.locationSize;wt++)se(vt.location+wt,Ht.meshPerAttribute);Ie.isInstancedMesh!==!0&&yt._maxInstanceCount===void 0&&(yt._maxInstanceCount=Ht.meshPerAttribute*Ht.count)}else for(let wt=0;wt<vt.locationSize;wt++)ue(vt.location+wt);v.bindBuffer(v.ARRAY_BUFFER,C0);for(let wt=0;wt<vt.locationSize;wt++)De(vt.location+wt,a0/vt.locationSize,w0,Qt,a0*y0,a0/vt.locationSize*wt*y0,dt)}}else if(ct!==void 0){const Qt=ct[Wt];if(Qt!==void 0)switch(Qt.length){case 2:v.vertexAttrib2fv(vt.location,Qt);break;case 3:v.vertexAttrib3fv(vt.location,Qt);break;case 4:v.vertexAttrib4fv(vt.location,Qt);break;default:v.vertexAttrib1fv(vt.location,Qt)}}}}Ne()}function je(){$e();for(const Ie in f){const Je=f[Ie];for(const ft in Je){const yt=Je[ft];for(const Et in yt)G(yt[Et].object),delete yt[Et];delete Je[ft]}delete f[Ie]}}function Be(Ie){if(f[Ie.id]===void 0)return;const Je=f[Ie.id];for(const ft in Je){const yt=Je[ft];for(const Et in yt)G(yt[Et].object),delete yt[Et];delete Je[ft]}delete f[Ie.id]}function We(Ie){for(const Je in f){const ft=f[Je];if(ft[Ie.id]===void 0)continue;const yt=ft[Ie.id];for(const Et in yt)G(yt[Et].object),delete yt[Et];delete ft[Ie.id]}}function $e(){Ee(),T=!0,y!==p&&(y=p,P(y.object))}function Ee(){p.geometry=null,p.program=null,p.wireframe=!1}return{setup:R,reset:$e,resetDefaultState:Ee,dispose:je,releaseStatesOfGeometry:Be,releaseStatesOfProgram:We,initAttributes:ce,enableAttribute:ue,disableUnusedAttributes:Ne}}function dle(v,r,c){let f;function p(P){f=P}function y(P,G){v.drawArrays(f,P,G),c.update(G,f,1)}function T(P,G,j){j!==0&&(v.drawArraysInstanced(f,P,G,j),c.update(G,f,j))}function R(P,G,j){if(j===0)return;r.get("WEBGL_multi_draw").multiDrawArraysWEBGL(f,P,0,G,0,j);let Q=0;for(let ie=0;ie<j;ie++)Q+=G[ie];c.update(Q,f,1)}function b(P,G,j,K){if(j===0)return;const Q=r.get("WEBGL_multi_draw");if(Q===null)for(let ie=0;ie<P.length;ie++)T(P[ie],G[ie],K[ie]);else{Q.multiDrawArraysInstancedWEBGL(f,P,0,G,0,K,0,j);let ie=0;for(let ce=0;ce<j;ce++)ie+=G[ce]*K[ce];c.update(ie,f,1)}}this.setMode=p,this.render=y,this.renderInstances=T,this.renderMultiDraw=R,this.renderMultiDrawInstances=b}function mle(v,r,c,f){let p;function y(){if(p!==void 0)return p;if(r.has("EXT_texture_filter_anisotropic")===!0){const We=r.get("EXT_texture_filter_anisotropic");p=v.getParameter(We.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else p=0;return p}function T(We){return!(We!==R2&&f.convert(We)!==v.getParameter(v.IMPLEMENTATION_COLOR_READ_FORMAT))}function R(We){const $e=We===Q2&&(r.has("EXT_color_buffer_half_float")||r.has("EXT_color_buffer_float"));return!(We!==M2&&f.convert(We)!==v.getParameter(v.IMPLEMENTATION_COLOR_READ_TYPE)&&We!==P2&&!$e)}function b(We){if(We==="highp"){if(v.getShaderPrecisionFormat(v.VERTEX_SHADER,v.HIGH_FLOAT).precision>0&&v.getShaderPrecisionFormat(v.FRAGMENT_SHADER,v.HIGH_FLOAT).precision>0)return"highp";We="mediump"}return We==="mediump"&&v.getShaderPrecisionFormat(v.VERTEX_SHADER,v.MEDIUM_FLOAT).precision>0&&v.getShaderPrecisionFormat(v.FRAGMENT_SHADER,v.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let P=c.precision!==void 0?c.precision:"highp";const G=b(P);G!==P&&(jt("WebGLRenderer:",P,"not supported, using",G,"instead."),P=G);const j=c.logarithmicDepthBuffer===!0,K=c.reversedDepthBuffer===!0&&r.has("EXT_clip_control"),Q=v.getParameter(v.MAX_TEXTURE_IMAGE_UNITS),ie=v.getParameter(v.MAX_VERTEX_TEXTURE_IMAGE_UNITS),ce=v.getParameter(v.MAX_TEXTURE_SIZE),ue=v.getParameter(v.MAX_CUBE_MAP_TEXTURE_SIZE),se=v.getParameter(v.MAX_VERTEX_ATTRIBS),Ne=v.getParameter(v.MAX_VERTEX_UNIFORM_VECTORS),De=v.getParameter(v.MAX_VARYING_VECTORS),Oe=v.getParameter(v.MAX_FRAGMENT_UNIFORM_VECTORS),je=ie>0,Be=v.getParameter(v.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:y,getMaxPrecision:b,textureFormatReadable:T,textureTypeReadable:R,precision:P,logarithmicDepthBuffer:j,reversedDepthBuffer:K,maxTextures:Q,maxVertexTextures:ie,maxTextureSize:ce,maxCubemapSize:ue,maxAttributes:se,maxVertexUniforms:Ne,maxVaryings:De,maxFragmentUniforms:Oe,vertexTextures:je,maxSamples:Be}}function gle(v){const r=this;let c=null,f=0,p=!1,y=!1;const T=new po,R=new Pi,b={value:null,needsUpdate:!1};this.uniform=b,this.numPlanes=0,this.numIntersection=0,this.init=function(j,K){const Q=j.length!==0||K||f!==0||p;return p=K,f=j.length,Q},this.beginShadows=function(){y=!0,G(null)},this.endShadows=function(){y=!1},this.setGlobalState=function(j,K){c=G(j,K,0)},this.setState=function(j,K,Q){const ie=j.clippingPlanes,ce=j.clipIntersection,ue=j.clipShadows,se=v.get(j);if(!p||ie===null||ie.length===0||y&&!ue)y?G(null):P();else{const Ne=y?0:f,De=Ne*4;let Oe=se.clippingState||null;b.value=Oe,Oe=G(ie,K,De,Q);for(let je=0;je!==De;++je)Oe[je]=c[je];se.clippingState=Oe,this.numIntersection=ce?this.numPlanes:0,this.numPlanes+=Ne}};function P(){b.value!==c&&(b.value=c,b.needsUpdate=f>0),r.numPlanes=f,r.numIntersection=0}function G(j,K,Q,ie){const ce=j!==null?j.length:0;let ue=null;if(ce!==0){if(ue=b.value,ie!==!0||ue===null){const se=Q+ce*4,Ne=K.matrixWorldInverse;R.getNormalMatrix(Ne),(ue===null||ue.length<se)&&(ue=new Float32Array(se));for(let De=0,Oe=Q;De!==ce;++De,Oe+=4)T.copy(j[De]).applyMatrix4(Ne,R),T.normal.toArray(ue,Oe),ue[Oe+3]=T.constant}b.value=ue,b.needsUpdate=!0}return r.numPlanes=ce,r.numIntersection=0,ue}}function xle(v){let r=new WeakMap;function c(T,R){return R===dl?T.mapping=$o:R===ml&&(T.mapping=Yo),T}function f(T){if(T&&T.isTexture){const R=T.mapping;if(R===dl||R===ml)if(r.has(T)){const b=r.get(T).texture;return c(b,T.mapping)}else{const b=T.image;if(b&&b.height>0){const P=new cx(b.height);return P.fromEquirectangularTexture(v,T),r.set(T,P),T.addEventListener("dispose",p),c(P.texture,T.mapping)}else return null}}return T}function p(T){const R=T.target;R.removeEventListener("dispose",p);const b=r.get(R);b!==void 0&&(r.delete(R),b.dispose())}function y(){r=new WeakMap}return{get:f,dispose:y}}const ra=4,U3=[.125,.215,.35,.446,.526,.582],Va=20,yle=256,Au=new Bf,O3=new ri;let x4=null,y4=0,v4=0,S4=!1;const vle=new nt;let G3=class{constructor(r){this._renderer=r,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(r,c=0,f=.1,p=100,y={}){const{size:T=256,position:R=vle}=y;x4=this._renderer.getRenderTarget(),y4=this._renderer.getActiveCubeFace(),v4=this._renderer.getActiveMipmapLevel(),S4=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(T);const b=this._allocateTargets();return b.depthBuffer=!0,this._sceneToCubeUV(r,f,p,b,R),c>0&&this._blur(b,0,0,c),this._applyPMREM(b),this._cleanup(b),b}fromEquirectangular(r,c=null){return this._fromTexture(r,c)}fromCubemap(r,c=null){return this._fromTexture(r,c)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=W3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=z3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(r){this._lodMax=Math.floor(Math.log2(r)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let r=0;r<this._lodMeshes.length;r++)this._lodMeshes[r].geometry.dispose()}_cleanup(r){this._renderer.setRenderTarget(x4,y4,v4),this._renderer.xr.enabled=S4,r.scissorTest=!1,Hc(r,0,0,r.width,r.height)}_fromTexture(r,c){r.mapping===$o||r.mapping===Yo?this._setSize(r.image.length===0?16:r.image[0].width||r.image[0].image.width):this._setSize(r.image.width/4),x4=this._renderer.getRenderTarget(),y4=this._renderer.getActiveCubeFace(),v4=this._renderer.getActiveMipmapLevel(),S4=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const f=c||this._allocateTargets();return this._textureToCubeUV(r,f),this._applyPMREM(f),this._cleanup(f),f}_allocateTargets(){const r=3*Math.max(this._cubeSize,112),c=4*this._cubeSize,f={magFilter:s2,minFilter:s2,generateMipmaps:!1,type:Q2,format:R2,colorSpace:ic,depthBuffer:!1},p=V3(r,c,f);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==r||this._pingPongRenderTarget.height!==c){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=V3(r,c,f);const{_lodMax:y}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=Sle(y)),this._blurMaterial=Cle(y,r,c),this._ggxMaterial=Tle(y,r,c)}return p}_compileMaterial(r){const c=new G2(new os,r);this._renderer.compile(c,Au)}_sceneToCubeUV(r,c,f,p,y){const b=new Z2(90,1,c,f),P=[1,-1,1,1,1,1],G=[1,1,1,-1,-1,-1],j=this._renderer,K=j.autoClear,Q=j.toneMapping;j.getClearColor(O3),j.toneMapping=ns,j.autoClear=!1,j.state.buffers.depth.getReversed()&&(j.setRenderTarget(p),j.clearDepth(),j.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new G2(new B1,new ho({name:"PMREM.Background",side:Zn,depthWrite:!1,depthTest:!1})));const ce=this._backgroundBox,ue=ce.material;let se=!1;const Ne=r.background;Ne?Ne.isColor&&(ue.color.copy(Ne),r.background=null,se=!0):(ue.color.copy(O3),se=!0);for(let De=0;De<6;De++){const Oe=De%3;Oe===0?(b.up.set(0,P[De],0),b.position.set(y.x,y.y,y.z),b.lookAt(y.x+G[De],y.y,y.z)):Oe===1?(b.up.set(0,0,P[De]),b.position.set(y.x,y.y,y.z),b.lookAt(y.x,y.y+G[De],y.z)):(b.up.set(0,P[De],0),b.position.set(y.x,y.y,y.z),b.lookAt(y.x,y.y,y.z+G[De]));const je=this._cubeSize;Hc(p,Oe*je,De>2?je:0,je,je),j.setRenderTarget(p),se&&j.render(ce,b),j.render(r,b)}j.toneMapping=Q,j.autoClear=K,r.background=Ne}_textureToCubeUV(r,c){const f=this._renderer,p=r.mapping===$o||r.mapping===Yo;p?(this._cubemapMaterial===null&&(this._cubemapMaterial=W3()),this._cubemapMaterial.uniforms.flipEnvMap.value=r.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=z3());const y=p?this._cubemapMaterial:this._equirectMaterial,T=this._lodMeshes[0];T.material=y;const R=y.uniforms;R.envMap.value=r;const b=this._cubeSize;Hc(c,0,0,3*b,2*b),f.setRenderTarget(c),f.render(T,Au)}_applyPMREM(r){const c=this._renderer,f=c.autoClear;c.autoClear=!1;const p=this._lodMeshes.length;for(let y=1;y<p;y++)this._applyGGXFilter(r,y-1,y);c.autoClear=f}_applyGGXFilter(r,c,f){const p=this._renderer,y=this._pingPongRenderTarget,T=this._ggxMaterial,R=this._lodMeshes[f];R.material=T;const b=T.uniforms,P=f/(this._lodMeshes.length-1),G=c/(this._lodMeshes.length-1),j=Math.sqrt(P*P-G*G),K=.05+P*.95,Q=j*K,{_lodMax:ie}=this,ce=this._sizeLods[f],ue=3*ce*(f>ie-ra?f-ie+ra:0),se=4*(this._cubeSize-ce);b.envMap.value=r.texture,b.roughness.value=Q,b.mipInt.value=ie-c,Hc(y,ue,se,3*ce,2*ce),p.setRenderTarget(y),p.render(R,Au),b.envMap.value=y.texture,b.roughness.value=0,b.mipInt.value=ie-f,Hc(r,ue,se,3*ce,2*ce),p.setRenderTarget(r),p.render(R,Au)}_blur(r,c,f,p,y){const T=this._pingPongRenderTarget;this._halfBlur(r,T,c,f,p,"latitudinal",y),this._halfBlur(T,r,f,f,p,"longitudinal",y)}_halfBlur(r,c,f,p,y,T,R){const b=this._renderer,P=this._blurMaterial;T!=="latitudinal"&&T!=="longitudinal"&&i0("blur direction must be either latitudinal or longitudinal!");const G=3,j=this._lodMeshes[p];j.material=P;const K=P.uniforms,Q=this._sizeLods[f]-1,ie=isFinite(y)?Math.PI/(2*Q):2*Math.PI/(2*Va-1),ce=y/ie,ue=isFinite(y)?1+Math.floor(G*ce):Va;ue>Va&&jt(`sigmaRadians, ${y}, is too large and will clip, as it requested ${ue} samples when the maximum is set to ${Va}`);const se=[];let Ne=0;for(let We=0;We<Va;++We){const $e=We/ce,Ee=Math.exp(-$e*$e/2);se.push(Ee),We===0?Ne+=Ee:We<ue&&(Ne+=2*Ee)}for(let We=0;We<se.length;We++)se[We]=se[We]/Ne;K.envMap.value=r.texture,K.samples.value=ue,K.weights.value=se,K.latitudinal.value=T==="latitudinal",R&&(K.poleAxis.value=R);const{_lodMax:De}=this;K.dTheta.value=ie,K.mipInt.value=De-f;const Oe=this._sizeLods[p],je=3*Oe*(p>De-ra?p-De+ra:0),Be=4*(this._cubeSize-Oe);Hc(c,je,Be,3*Oe,2*Oe),b.setRenderTarget(c),b.render(j,Au)}};function Sle(v){const r=[],c=[],f=[];let p=v;const y=v-ra+1+U3.length;for(let T=0;T<y;T++){const R=Math.pow(2,p);r.push(R);let b=1/R;T>v-ra?b=U3[T-v+ra-1]:T===0&&(b=0),c.push(b);const P=1/(R-2),G=-P,j=1+P,K=[G,G,j,G,j,j,G,G,j,j,G,j],Q=6,ie=6,ce=3,ue=2,se=1,Ne=new Float32Array(ce*ie*Q),De=new Float32Array(ue*ie*Q),Oe=new Float32Array(se*ie*Q);for(let Be=0;Be<Q;Be++){const We=Be%3*2/3-1,$e=Be>2?0:-1,Ee=[We,$e,0,We+2/3,$e,0,We+2/3,$e+1,0,We,$e,0,We+2/3,$e+1,0,We,$e+1,0];Ne.set(Ee,ce*ie*Be),De.set(K,ue*ie*Be);const Ie=[Be,Be,Be,Be,Be,Be];Oe.set(Ie,se*ie*Be)}const je=new os;je.setAttribute("position",new zr(Ne,ce)),je.setAttribute("uv",new zr(De,ue)),je.setAttribute("faceIndex",new zr(Oe,se)),f.push(new G2(je,null)),p>ra&&p--}return{lodMeshes:f,sizeLods:r,sigmas:c}}function V3(v,r,c){const f=new rc(v,r,c);return f.texture.mapping=ec,f.texture.name="PMREM.cubeUv",f.scissorTest=!0,f}function Hc(v,r,c,f,p){v.viewport.set(r,c,f,p),v.scissor.set(r,c,f,p)}function Tle(v,r,c){return new L1({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:yle,CUBEUV_TEXEL_WIDTH:1/r,CUBEUV_TEXEL_HEIGHT:1/c,CUBEUV_MAX_MIP:`${v}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:U_(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:ws,depthTest:!1,depthWrite:!1})}function Cle(v,r,c){const f=new Float32Array(Va),p=new nt(0,1,0);return new L1({name:"SphericalGaussianBlur",defines:{n:Va,CUBEUV_TEXEL_WIDTH:1/r,CUBEUV_TEXEL_HEIGHT:1/c,CUBEUV_MAX_MIP:`${v}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:f},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:p}},vertexShader:U_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ws,depthTest:!1,depthWrite:!1})}function z3(){return new L1({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:U_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ws,depthTest:!1,depthWrite:!1})}function W3(){return new L1({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:U_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ws,depthTest:!1,depthWrite:!1})}function U_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function wle(v){let r=new WeakMap,c=null;function f(R){if(R&&R.isTexture){const b=R.mapping,P=b===dl||b===ml,G=b===$o||b===Yo;if(P||G){let j=r.get(R);const K=j!==void 0?j.texture.pmremVersion:0;if(R.isRenderTargetTexture&&R.pmremVersion!==K)return c===null&&(c=new G3(v)),j=P?c.fromEquirectangular(R,j):c.fromCubemap(R,j),j.texture.pmremVersion=R.pmremVersion,r.set(R,j),j.texture;if(j!==void 0)return j.texture;{const Q=R.image;return P&&Q&&Q.height>0||G&&Q&&p(Q)?(c===null&&(c=new G3(v)),j=P?c.fromEquirectangular(R):c.fromCubemap(R),j.texture.pmremVersion=R.pmremVersion,r.set(R,j),R.addEventListener("dispose",y),j.texture):null}}}return R}function p(R){let b=0;const P=6;for(let G=0;G<P;G++)R[G]!==void 0&&b++;return b===P}function y(R){const b=R.target;b.removeEventListener("dispose",y);const P=r.get(b);P!==void 0&&(r.delete(b),P.dispose())}function T(){r=new WeakMap,c!==null&&(c.dispose(),c=null)}return{get:f,dispose:T}}function Mle(v){const r={};function c(f){if(r[f]!==void 0)return r[f];const p=v.getExtension(f);return r[f]=p,p}return{has:function(f){return c(f)!==null},init:function(){c("EXT_color_buffer_float"),c("WEBGL_clip_cull_distance"),c("OES_texture_float_linear"),c("EXT_color_buffer_half_float"),c("WEBGL_multisampled_render_to_texture"),c("WEBGL_render_shared_exponent")},get:function(f){const p=c(f);return p===null&&c2("WebGLRenderer: "+f+" extension not supported."),p}}}function Rle(v,r,c,f){const p={},y=new WeakMap;function T(j){const K=j.target;K.index!==null&&r.remove(K.index);for(const ie in K.attributes)r.remove(K.attributes[ie]);K.removeEventListener("dispose",T),delete p[K.id];const Q=y.get(K);Q&&(r.remove(Q),y.delete(K)),f.releaseStatesOfGeometry(K),K.isInstancedBufferGeometry===!0&&delete K._maxInstanceCount,c.memory.geometries--}function R(j,K){return p[K.id]===!0||(K.addEventListener("dispose",T),p[K.id]=!0,c.memory.geometries++),K}function b(j){const K=j.attributes;for(const Q in K)r.update(K[Q],v.ARRAY_BUFFER)}function P(j){const K=[],Q=j.index,ie=j.attributes.position;let ce=0;if(Q!==null){const Ne=Q.array;ce=Q.version;for(let De=0,Oe=Ne.length;De<Oe;De+=3){const je=Ne[De+0],Be=Ne[De+1],We=Ne[De+2];K.push(je,Be,Be,We,We,je)}}else if(ie!==void 0){const Ne=ie.array;ce=ie.version;for(let De=0,Oe=Ne.length/3-1;De<Oe;De+=3){const je=De+0,Be=De+1,We=De+2;K.push(je,Be,Be,We,We,je)}}else return;const ue=new(Kd(K)?i8:t8)(K,1);ue.version=ce;const se=y.get(j);se&&r.remove(se),y.set(j,ue)}function G(j){const K=y.get(j);if(K){const Q=j.index;Q!==null&&K.version<Q.version&&P(j)}else P(j);return y.get(j)}return{get:R,update:b,getWireframeAttribute:G}}function Ale(v,r,c){let f;function p(K){f=K}let y,T;function R(K){y=K.type,T=K.bytesPerElement}function b(K,Q){v.drawElements(f,Q,y,K*T),c.update(Q,f,1)}function P(K,Q,ie){ie!==0&&(v.drawElementsInstanced(f,Q,y,K*T,ie),c.update(Q,f,ie))}function G(K,Q,ie){if(ie===0)return;r.get("WEBGL_multi_draw").multiDrawElementsWEBGL(f,Q,0,y,K,0,ie);let ue=0;for(let se=0;se<ie;se++)ue+=Q[se];c.update(ue,f,1)}function j(K,Q,ie,ce){if(ie===0)return;const ue=r.get("WEBGL_multi_draw");if(ue===null)for(let se=0;se<K.length;se++)P(K[se]/T,Q[se],ce[se]);else{ue.multiDrawElementsInstancedWEBGL(f,Q,0,y,K,0,ce,0,ie);let se=0;for(let Ne=0;Ne<ie;Ne++)se+=Q[Ne]*ce[Ne];c.update(se,f,1)}}this.setMode=p,this.setIndex=R,this.render=b,this.renderInstances=P,this.renderMultiDraw=G,this.renderMultiDrawInstances=j}function Ele(v){const r={geometries:0,textures:0},c={frame:0,calls:0,triangles:0,points:0,lines:0};function f(y,T,R){switch(c.calls++,T){case v.TRIANGLES:c.triangles+=R*(y/3);break;case v.LINES:c.lines+=R*(y/2);break;case v.LINE_STRIP:c.lines+=R*(y-1);break;case v.LINE_LOOP:c.lines+=R*y;break;case v.POINTS:c.points+=R*y;break;default:i0("WebGLInfo: Unknown draw mode:",T);break}}function p(){c.calls=0,c.triangles=0,c.points=0,c.lines=0}return{memory:r,render:c,programs:null,autoReset:!0,reset:p,update:f}}function ble(v,r,c){const f=new WeakMap,p=new hi;function y(T,R,b){const P=T.morphTargetInfluences,G=R.morphAttributes.position||R.morphAttributes.normal||R.morphAttributes.color,j=G!==void 0?G.length:0;let K=f.get(R);if(K===void 0||K.count!==j){let Ie=function(){$e.dispose(),f.delete(R),R.removeEventListener("dispose",Ie)};var Q=Ie;K!==void 0&&K.texture.dispose();const ie=R.morphAttributes.position!==void 0,ce=R.morphAttributes.normal!==void 0,ue=R.morphAttributes.color!==void 0,se=R.morphAttributes.position||[],Ne=R.morphAttributes.normal||[],De=R.morphAttributes.color||[];let Oe=0;ie===!0&&(Oe=1),ce===!0&&(Oe=2),ue===!0&&(Oe=3);let je=R.attributes.position.count*Oe,Be=1;je>r.maxTextureSize&&(Be=Math.ceil(je/r.maxTextureSize),je=r.maxTextureSize);const We=new Float32Array(je*Be*4*j),$e=new Jd(We,je,Be,j);$e.type=P2,$e.needsUpdate=!0;const Ee=Oe*4;for(let Je=0;Je<j;Je++){const ft=se[Je],yt=Ne[Je],Et=De[Je],Dt=je*Be*4*Je;for(let ct=0;ct<ft.count;ct++){const Wt=ct*Ee;ie===!0&&(p.fromBufferAttribute(ft,ct),We[Dt+Wt+0]=p.x,We[Dt+Wt+1]=p.y,We[Dt+Wt+2]=p.z,We[Dt+Wt+3]=0),ce===!0&&(p.fromBufferAttribute(yt,ct),We[Dt+Wt+4]=p.x,We[Dt+Wt+5]=p.y,We[Dt+Wt+6]=p.z,We[Dt+Wt+7]=0),ue===!0&&(p.fromBufferAttribute(Et,ct),We[Dt+Wt+8]=p.x,We[Dt+Wt+9]=p.y,We[Dt+Wt+10]=p.z,We[Dt+Wt+11]=Et.itemSize===4?p.w:1)}}K={count:j,texture:$e,size:new O0(je,Be)},f.set(R,K),R.addEventListener("dispose",Ie)}if(T.isInstancedMesh===!0&&T.morphTexture!==null)b.getUniforms().setValue(v,"morphTexture",T.morphTexture,c);else{let ie=0;for(let ue=0;ue<P.length;ue++)ie+=P[ue];const ce=R.morphTargetsRelative?1:1-ie;b.getUniforms().setValue(v,"morphTargetBaseInfluence",ce),b.getUniforms().setValue(v,"morphTargetInfluences",P)}b.getUniforms().setValue(v,"morphTargetsTexture",K.texture,c),b.getUniforms().setValue(v,"morphTargetsTextureSize",K.size)}return{update:y}}function Nle(v,r,c,f){let p=new WeakMap;function y(b){const P=f.render.frame,G=b.geometry,j=r.get(b,G);if(p.get(j)!==P&&(r.update(j),p.set(j,P)),b.isInstancedMesh&&(b.hasEventListener("dispose",R)===!1&&b.addEventListener("dispose",R),p.get(b)!==P&&(c.update(b.instanceMatrix,v.ARRAY_BUFFER),b.instanceColor!==null&&c.update(b.instanceColor,v.ARRAY_BUFFER),p.set(b,P))),b.isSkinnedMesh){const K=b.skeleton;p.get(K)!==P&&(K.update(),p.set(K,P))}return j}function T(){p=new WeakMap}function R(b){const P=b.target;P.removeEventListener("dispose",R),c.remove(P.instanceMatrix),P.instanceColor!==null&&c.remove(P.instanceColor)}return{update:y,dispose:T}}const Cx=new J2,H3=new Qs(1,1),wx=new Jd,Mx=new Moe,Rx=new Df,j3=[],q3=[],X3=new Float32Array(16),$3=new Float32Array(9),Y3=new Float32Array(4);function nu(v,r,c){const f=v[0];if(f<=0||f>0)return v;const p=r*c;let y=j3[p];if(y===void 0&&(y=new Float32Array(p),j3[p]=y),r!==0){f.toArray(y,0);for(let T=1,R=0;T!==r;++T)R+=c,v[T].toArray(y,R)}return y}function ar(v,r){if(v.length!==r.length)return!1;for(let c=0,f=v.length;c<f;c++)if(v[c]!==r[c])return!1;return!0}function cr(v,r){for(let c=0,f=r.length;c<f;c++)v[c]=r[c]}function O_(v,r){let c=q3[r];c===void 0&&(c=new Int32Array(r),q3[r]=c);for(let f=0;f!==r;++f)c[f]=v.allocateTextureUnit();return c}function Dle(v,r){const c=this.cache;c[0]!==r&&(v.uniform1f(this.addr,r),c[0]=r)}function Ile(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y)&&(v.uniform2f(this.addr,r.x,r.y),c[0]=r.x,c[1]=r.y);else{if(ar(c,r))return;v.uniform2fv(this.addr,r),cr(c,r)}}function Ple(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y||c[2]!==r.z)&&(v.uniform3f(this.addr,r.x,r.y,r.z),c[0]=r.x,c[1]=r.y,c[2]=r.z);else if(r.r!==void 0)(c[0]!==r.r||c[1]!==r.g||c[2]!==r.b)&&(v.uniform3f(this.addr,r.r,r.g,r.b),c[0]=r.r,c[1]=r.g,c[2]=r.b);else{if(ar(c,r))return;v.uniform3fv(this.addr,r),cr(c,r)}}function Lle(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y||c[2]!==r.z||c[3]!==r.w)&&(v.uniform4f(this.addr,r.x,r.y,r.z,r.w),c[0]=r.x,c[1]=r.y,c[2]=r.z,c[3]=r.w);else{if(ar(c,r))return;v.uniform4fv(this.addr,r),cr(c,r)}}function kle(v,r){const c=this.cache,f=r.elements;if(f===void 0){if(ar(c,r))return;v.uniformMatrix2fv(this.addr,!1,r),cr(c,r)}else{if(ar(c,f))return;Y3.set(f),v.uniformMatrix2fv(this.addr,!1,Y3),cr(c,f)}}function Fle(v,r){const c=this.cache,f=r.elements;if(f===void 0){if(ar(c,r))return;v.uniformMatrix3fv(this.addr,!1,r),cr(c,r)}else{if(ar(c,f))return;$3.set(f),v.uniformMatrix3fv(this.addr,!1,$3),cr(c,f)}}function Ble(v,r){const c=this.cache,f=r.elements;if(f===void 0){if(ar(c,r))return;v.uniformMatrix4fv(this.addr,!1,r),cr(c,r)}else{if(ar(c,f))return;X3.set(f),v.uniformMatrix4fv(this.addr,!1,X3),cr(c,f)}}function Ule(v,r){const c=this.cache;c[0]!==r&&(v.uniform1i(this.addr,r),c[0]=r)}function Ole(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y)&&(v.uniform2i(this.addr,r.x,r.y),c[0]=r.x,c[1]=r.y);else{if(ar(c,r))return;v.uniform2iv(this.addr,r),cr(c,r)}}function Gle(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y||c[2]!==r.z)&&(v.uniform3i(this.addr,r.x,r.y,r.z),c[0]=r.x,c[1]=r.y,c[2]=r.z);else{if(ar(c,r))return;v.uniform3iv(this.addr,r),cr(c,r)}}function Vle(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y||c[2]!==r.z||c[3]!==r.w)&&(v.uniform4i(this.addr,r.x,r.y,r.z,r.w),c[0]=r.x,c[1]=r.y,c[2]=r.z,c[3]=r.w);else{if(ar(c,r))return;v.uniform4iv(this.addr,r),cr(c,r)}}function zle(v,r){const c=this.cache;c[0]!==r&&(v.uniform1ui(this.addr,r),c[0]=r)}function Wle(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y)&&(v.uniform2ui(this.addr,r.x,r.y),c[0]=r.x,c[1]=r.y);else{if(ar(c,r))return;v.uniform2uiv(this.addr,r),cr(c,r)}}function Hle(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y||c[2]!==r.z)&&(v.uniform3ui(this.addr,r.x,r.y,r.z),c[0]=r.x,c[1]=r.y,c[2]=r.z);else{if(ar(c,r))return;v.uniform3uiv(this.addr,r),cr(c,r)}}function jle(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y||c[2]!==r.z||c[3]!==r.w)&&(v.uniform4ui(this.addr,r.x,r.y,r.z,r.w),c[0]=r.x,c[1]=r.y,c[2]=r.z,c[3]=r.w);else{if(ar(c,r))return;v.uniform4uiv(this.addr,r),cr(c,r)}}function qle(v,r,c){const f=this.cache,p=c.allocateTextureUnit();f[0]!==p&&(v.uniform1i(this.addr,p),f[0]=p);let y;this.type===v.SAMPLER_2D_SHADOW?(H3.compareFunction=L_,y=H3):y=Cx,c.setTexture2D(r||y,p)}function Xle(v,r,c){const f=this.cache,p=c.allocateTextureUnit();f[0]!==p&&(v.uniform1i(this.addr,p),f[0]=p),c.setTexture3D(r||Mx,p)}function $le(v,r,c){const f=this.cache,p=c.allocateTextureUnit();f[0]!==p&&(v.uniform1i(this.addr,p),f[0]=p),c.setTextureCube(r||Rx,p)}function Yle(v,r,c){const f=this.cache,p=c.allocateTextureUnit();f[0]!==p&&(v.uniform1i(this.addr,p),f[0]=p),c.setTexture2DArray(r||wx,p)}function Kle(v){switch(v){case 5126:return Dle;case 35664:return Ile;case 35665:return Ple;case 35666:return Lle;case 35674:return kle;case 35675:return Fle;case 35676:return Ble;case 5124:case 35670:return Ule;case 35667:case 35671:return Ole;case 35668:case 35672:return Gle;case 35669:case 35673:return Vle;case 5125:return zle;case 36294:return Wle;case 36295:return Hle;case 36296:return jle;case 35678:case 36198:case 36298:case 36306:case 35682:return qle;case 35679:case 36299:case 36307:return Xle;case 35680:case 36300:case 36308:case 36293:return $le;case 36289:case 36303:case 36311:case 36292:return Yle}}function Zle(v,r){v.uniform1fv(this.addr,r)}function Qle(v,r){const c=nu(r,this.size,2);v.uniform2fv(this.addr,c)}function Jle(v,r){const c=nu(r,this.size,3);v.uniform3fv(this.addr,c)}function eue(v,r){const c=nu(r,this.size,4);v.uniform4fv(this.addr,c)}function tue(v,r){const c=nu(r,this.size,4);v.uniformMatrix2fv(this.addr,!1,c)}function iue(v,r){const c=nu(r,this.size,9);v.uniformMatrix3fv(this.addr,!1,c)}function nue(v,r){const c=nu(r,this.size,16);v.uniformMatrix4fv(this.addr,!1,c)}function rue(v,r){v.uniform1iv(this.addr,r)}function sue(v,r){v.uniform2iv(this.addr,r)}function oue(v,r){v.uniform3iv(this.addr,r)}function aue(v,r){v.uniform4iv(this.addr,r)}function cue(v,r){v.uniform1uiv(this.addr,r)}function lue(v,r){v.uniform2uiv(this.addr,r)}function uue(v,r){v.uniform3uiv(this.addr,r)}function fue(v,r){v.uniform4uiv(this.addr,r)}function pue(v,r,c){const f=this.cache,p=r.length,y=O_(c,p);ar(f,y)||(v.uniform1iv(this.addr,y),cr(f,y));for(let T=0;T!==p;++T)c.setTexture2D(r[T]||Cx,y[T])}function _ue(v,r,c){const f=this.cache,p=r.length,y=O_(c,p);ar(f,y)||(v.uniform1iv(this.addr,y),cr(f,y));for(let T=0;T!==p;++T)c.setTexture3D(r[T]||Mx,y[T])}function hue(v,r,c){const f=this.cache,p=r.length,y=O_(c,p);ar(f,y)||(v.uniform1iv(this.addr,y),cr(f,y));for(let T=0;T!==p;++T)c.setTextureCube(r[T]||Rx,y[T])}function due(v,r,c){const f=this.cache,p=r.length,y=O_(c,p);ar(f,y)||(v.uniform1iv(this.addr,y),cr(f,y));for(let T=0;T!==p;++T)c.setTexture2DArray(r[T]||wx,y[T])}function mue(v){switch(v){case 5126:return Zle;case 35664:return Qle;case 35665:return Jle;case 35666:return eue;case 35674:return tue;case 35675:return iue;case 35676:return nue;case 5124:case 35670:return rue;case 35667:case 35671:return sue;case 35668:case 35672:return oue;case 35669:case 35673:return aue;case 5125:return cue;case 36294:return lue;case 36295:return uue;case 36296:return fue;case 35678:case 36198:case 36298:case 36306:case 35682:return pue;case 35679:case 36299:case 36307:return _ue;case 35680:case 36300:case 36308:case 36293:return hue;case 36289:case 36303:case 36311:case 36292:return due}}class gue{constructor(r,c,f){this.id=r,this.addr=f,this.cache=[],this.type=c.type,this.setValue=Kle(c.type)}}class xue{constructor(r,c,f){this.id=r,this.addr=f,this.cache=[],this.type=c.type,this.size=c.size,this.setValue=mue(c.type)}}class yue{constructor(r){this.id=r,this.seq=[],this.map={}}setValue(r,c,f){const p=this.seq;for(let y=0,T=p.length;y!==T;++y){const R=p[y];R.setValue(r,c[R.id],f)}}}const T4=/(\w+)(\])?(\[|\.)?/g;function K3(v,r){v.seq.push(r),v.map[r.id]=r}function vue(v,r,c){const f=v.name,p=f.length;for(T4.lastIndex=0;;){const y=T4.exec(f),T=T4.lastIndex;let R=y[1];const b=y[2]==="]",P=y[3];if(b&&(R=R|0),P===void 0||P==="["&&T+2===p){K3(c,P===void 0?new gue(R,v,r):new xue(R,v,r));break}else{let j=c.map[R];j===void 0&&(j=new yue(R),K3(c,j)),c=j}}}class a_{constructor(r,c){this.seq=[],this.map={};const f=r.getProgramParameter(c,r.ACTIVE_UNIFORMS);for(let p=0;p<f;++p){const y=r.getActiveUniform(c,p),T=r.getUniformLocation(c,y.name);vue(y,T,this)}}setValue(r,c,f,p){const y=this.map[c];y!==void 0&&y.setValue(r,f,p)}setOptional(r,c,f){const p=c[f];p!==void 0&&this.setValue(r,f,p)}static upload(r,c,f,p){for(let y=0,T=c.length;y!==T;++y){const R=c[y],b=f[R.id];b.needsUpdate!==!1&&R.setValue(r,b.value,p)}}static seqWithValue(r,c){const f=[];for(let p=0,y=r.length;p!==y;++p){const T=r[p];T.id in c&&f.push(T)}return f}}function Z3(v,r,c){const f=v.createShader(r);return v.shaderSource(f,c),v.compileShader(f),f}const Sue=37297;let Tue=0;function Cue(v,r){const c=v.split(`
`),f=[],p=Math.max(r-6,0),y=Math.min(r+6,c.length);for(let T=p;T<y;T++){const R=T+1;f.push(`${R===r?">":" "} ${R}: ${c[T]}`)}return f.join(`
`)}const Q3=new Pi;function wue(v){pi._getMatrix(Q3,pi.workingColorSpace,v);const r=`mat3( ${Q3.elements.map(c=>c.toFixed(4))} )`;switch(pi.getTransfer(v)){case Ol:return[r,"LinearTransferOETF"];case b0:return[r,"sRGBTransferOETF"];default:return jt("WebGLProgram: Unsupported color space: ",v),[r,"LinearTransferOETF"]}}function J3(v,r,c){const f=v.getShaderParameter(r,v.COMPILE_STATUS),y=(v.getShaderInfoLog(r)||"").trim();if(f&&y==="")return"";const T=/ERROR: 0:(\d+)/.exec(y);if(T){const R=parseInt(T[1]);return c.toUpperCase()+`

`+y+`

`+Cue(v.getShaderSource(r),R)}else return y}function Mue(v,r){const c=wue(r);return[`vec4 ${v}( vec4 value ) {`,`	return ${c[1]}( vec4( value.rgb * ${c[0]}, value.a ) );`,"}"].join(`
`)}function Rue(v,r){let c;switch(r){case Kg:c="Linear";break;case Zg:c="Reinhard";break;case Qg:c="Cineon";break;case Jg:c="ACESFilmic";break;case ex:c="AgX";break;case tx:c="Neutral";break;case Use:c="Custom";break;default:jt("WebGLProgram: Unsupported toneMapping:",r),c="Linear"}return"vec3 "+v+"( vec3 color ) { return "+c+"ToneMapping( color ); }"}const Op=new nt;function Aue(){pi.getLuminanceCoefficients(Op);const v=Op.x.toFixed(4),r=Op.y.toFixed(4),c=Op.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${v}, ${r}, ${c} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Eue(v){return[v.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",v.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Wu).join(`
`)}function bue(v){const r=[];for(const c in v){const f=v[c];f!==!1&&r.push("#define "+c+" "+f)}return r.join(`
`)}function Nue(v,r){const c={},f=v.getProgramParameter(r,v.ACTIVE_ATTRIBUTES);for(let p=0;p<f;p++){const y=v.getActiveAttrib(r,p),T=y.name;let R=1;y.type===v.FLOAT_MAT2&&(R=2),y.type===v.FLOAT_MAT3&&(R=3),y.type===v.FLOAT_MAT4&&(R=4),c[T]={type:y.type,location:v.getAttribLocation(r,T),locationSize:R}}return c}function Wu(v){return v!==""}function e5(v,r){const c=r.numSpotLightShadows+r.numSpotLightMaps-r.numSpotLightShadowsWithMaps;return v.replace(/NUM_DIR_LIGHTS/g,r.numDirLights).replace(/NUM_SPOT_LIGHTS/g,r.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,r.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,c).replace(/NUM_RECT_AREA_LIGHTS/g,r.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,r.numPointLights).replace(/NUM_HEMI_LIGHTS/g,r.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,r.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,r.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,r.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,r.numPointLightShadows)}function t5(v,r){return v.replace(/NUM_CLIPPING_PLANES/g,r.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,r.numClippingPlanes-r.numClipIntersection)}const Due=/^[ \t]*#include +<([\w\d./]+)>/gm;function pd(v){return v.replace(Due,Pue)}const Iue=new Map;function Pue(v,r){let c=Ki[r];if(c===void 0){const f=Iue.get(r);if(f!==void 0)c=Ki[f],jt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',r,f);else throw new Error("Can not resolve #include <"+r+">")}return pd(c)}const Lue=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function i5(v){return v.replace(Lue,kue)}function kue(v,r,c,f){let p="";for(let y=parseInt(r);y<parseInt(c);y++)p+=f.replace(/\[\s*i\s*\]/g,"[ "+y+" ]").replace(/UNROLLED_LOOP_INDEX/g,y);return p}function n5(v){let r=`precision ${v.precision} float;
	precision ${v.precision} int;
	precision ${v.precision} sampler2D;
	precision ${v.precision} samplerCube;
	precision ${v.precision} sampler3D;
	precision ${v.precision} sampler2DArray;
	precision ${v.precision} sampler2DShadow;
	precision ${v.precision} samplerCubeShadow;
	precision ${v.precision} sampler2DArrayShadow;
	precision ${v.precision} isampler2D;
	precision ${v.precision} isampler3D;
	precision ${v.precision} isamplerCube;
	precision ${v.precision} isampler2DArray;
	precision ${v.precision} usampler2D;
	precision ${v.precision} usampler3D;
	precision ${v.precision} usamplerCube;
	precision ${v.precision} usampler2DArray;
	`;return v.precision==="highp"?r+=`
#define HIGH_PRECISION`:v.precision==="mediump"?r+=`
#define MEDIUM_PRECISION`:v.precision==="lowp"&&(r+=`
#define LOW_PRECISION`),r}function Fue(v){let r="SHADOWMAP_TYPE_BASIC";return v.shadowMapType===Nd?r="SHADOWMAP_TYPE_PCF":v.shadowMapType===Pse?r="SHADOWMAP_TYPE_PCF_SOFT":v.shadowMapType===Ps&&(r="SHADOWMAP_TYPE_VSM"),r}function Bue(v){let r="ENVMAP_TYPE_CUBE";if(v.envMap)switch(v.envMapMode){case $o:case Yo:r="ENVMAP_TYPE_CUBE";break;case ec:r="ENVMAP_TYPE_CUBE_UV";break}return r}function Uue(v){let r="ENVMAP_MODE_REFLECTION";if(v.envMap)switch(v.envMapMode){case Yo:r="ENVMAP_MODE_REFRACTION";break}return r}function Oue(v){let r="ENVMAP_BLENDING_NONE";if(v.envMap)switch(v.combine){case Af:r="ENVMAP_BLENDING_MULTIPLY";break;case $g:r="ENVMAP_BLENDING_MIX";break;case Yg:r="ENVMAP_BLENDING_ADD";break}return r}function Gue(v){const r=v.envMapCubeUVHeight;if(r===null)return null;const c=Math.log2(r)-2,f=1/r;return{texelWidth:1/(3*Math.max(Math.pow(2,c),112)),texelHeight:f,maxMip:c}}function Vue(v,r,c,f){const p=v.getContext(),y=c.defines;let T=c.vertexShader,R=c.fragmentShader;const b=Fue(c),P=Bue(c),G=Uue(c),j=Oue(c),K=Gue(c),Q=Eue(c),ie=bue(y),ce=p.createProgram();let ue,se,Ne=c.glslVersion?"#version "+c.glslVersion+`
`:"";c.isRawShaderMaterial?(ue=["#define SHADER_TYPE "+c.shaderType,"#define SHADER_NAME "+c.shaderName,ie].filter(Wu).join(`
`),ue.length>0&&(ue+=`
`),se=["#define SHADER_TYPE "+c.shaderType,"#define SHADER_NAME "+c.shaderName,ie].filter(Wu).join(`
`),se.length>0&&(se+=`
`)):(ue=[n5(c),"#define SHADER_TYPE "+c.shaderType,"#define SHADER_NAME "+c.shaderName,ie,c.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",c.batching?"#define USE_BATCHING":"",c.batchingColor?"#define USE_BATCHING_COLOR":"",c.instancing?"#define USE_INSTANCING":"",c.instancingColor?"#define USE_INSTANCING_COLOR":"",c.instancingMorph?"#define USE_INSTANCING_MORPH":"",c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+G:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",c.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",c.displacementMap?"#define USE_DISPLACEMENTMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.anisotropy?"#define USE_ANISOTROPY":"",c.anisotropyMap?"#define USE_ANISOTROPYMAP":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",c.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",c.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.alphaHash?"#define USE_ALPHAHASH":"",c.transmission?"#define USE_TRANSMISSION":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.thicknessMap?"#define USE_THICKNESSMAP":"",c.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",c.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",c.mapUv?"#define MAP_UV "+c.mapUv:"",c.alphaMapUv?"#define ALPHAMAP_UV "+c.alphaMapUv:"",c.lightMapUv?"#define LIGHTMAP_UV "+c.lightMapUv:"",c.aoMapUv?"#define AOMAP_UV "+c.aoMapUv:"",c.emissiveMapUv?"#define EMISSIVEMAP_UV "+c.emissiveMapUv:"",c.bumpMapUv?"#define BUMPMAP_UV "+c.bumpMapUv:"",c.normalMapUv?"#define NORMALMAP_UV "+c.normalMapUv:"",c.displacementMapUv?"#define DISPLACEMENTMAP_UV "+c.displacementMapUv:"",c.metalnessMapUv?"#define METALNESSMAP_UV "+c.metalnessMapUv:"",c.roughnessMapUv?"#define ROUGHNESSMAP_UV "+c.roughnessMapUv:"",c.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+c.anisotropyMapUv:"",c.clearcoatMapUv?"#define CLEARCOATMAP_UV "+c.clearcoatMapUv:"",c.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+c.clearcoatNormalMapUv:"",c.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+c.clearcoatRoughnessMapUv:"",c.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+c.iridescenceMapUv:"",c.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+c.iridescenceThicknessMapUv:"",c.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+c.sheenColorMapUv:"",c.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+c.sheenRoughnessMapUv:"",c.specularMapUv?"#define SPECULARMAP_UV "+c.specularMapUv:"",c.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+c.specularColorMapUv:"",c.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+c.specularIntensityMapUv:"",c.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+c.transmissionMapUv:"",c.thicknessMapUv?"#define THICKNESSMAP_UV "+c.thicknessMapUv:"",c.vertexTangents&&c.flatShading===!1?"#define USE_TANGENT":"",c.vertexColors?"#define USE_COLOR":"",c.vertexAlphas?"#define USE_COLOR_ALPHA":"",c.vertexUv1s?"#define USE_UV1":"",c.vertexUv2s?"#define USE_UV2":"",c.vertexUv3s?"#define USE_UV3":"",c.pointsUvs?"#define USE_POINTS_UV":"",c.flatShading?"#define FLAT_SHADED":"",c.skinning?"#define USE_SKINNING":"",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals&&c.flatShading===!1?"#define USE_MORPHNORMALS":"",c.morphColors?"#define USE_MORPHCOLORS":"",c.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+c.morphTextureStride:"",c.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+c.morphTargetsCount:"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+b:"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",c.numLightProbes>0?"#define USE_LIGHT_PROBES":"",c.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",c.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Wu).join(`
`),se=[n5(c),"#define SHADER_TYPE "+c.shaderType,"#define SHADER_NAME "+c.shaderName,ie,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",c.map?"#define USE_MAP":"",c.matcap?"#define USE_MATCAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+P:"",c.envMap?"#define "+G:"",c.envMap?"#define "+j:"",K?"#define CUBEUV_TEXEL_WIDTH "+K.texelWidth:"",K?"#define CUBEUV_TEXEL_HEIGHT "+K.texelHeight:"",K?"#define CUBEUV_MAX_MIP "+K.maxMip+".0":"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",c.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.anisotropy?"#define USE_ANISOTROPY":"",c.anisotropyMap?"#define USE_ANISOTROPYMAP":"",c.clearcoat?"#define USE_CLEARCOAT":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.dispersion?"#define USE_DISPERSION":"",c.iridescence?"#define USE_IRIDESCENCE":"",c.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",c.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",c.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.alphaTest?"#define USE_ALPHATEST":"",c.alphaHash?"#define USE_ALPHAHASH":"",c.sheen?"#define USE_SHEEN":"",c.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",c.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",c.transmission?"#define USE_TRANSMISSION":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.thicknessMap?"#define USE_THICKNESSMAP":"",c.vertexTangents&&c.flatShading===!1?"#define USE_TANGENT":"",c.vertexColors||c.instancingColor||c.batchingColor?"#define USE_COLOR":"",c.vertexAlphas?"#define USE_COLOR_ALPHA":"",c.vertexUv1s?"#define USE_UV1":"",c.vertexUv2s?"#define USE_UV2":"",c.vertexUv3s?"#define USE_UV3":"",c.pointsUvs?"#define USE_POINTS_UV":"",c.gradientMap?"#define USE_GRADIENTMAP":"",c.flatShading?"#define FLAT_SHADED":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+b:"",c.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",c.numLightProbes>0?"#define USE_LIGHT_PROBES":"",c.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",c.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",c.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",c.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",c.toneMapping!==ns?"#define TONE_MAPPING":"",c.toneMapping!==ns?Ki.tonemapping_pars_fragment:"",c.toneMapping!==ns?Rue("toneMapping",c.toneMapping):"",c.dithering?"#define DITHERING":"",c.opaque?"#define OPAQUE":"",Ki.colorspace_pars_fragment,Mue("linearToOutputTexel",c.outputColorSpace),Aue(),c.useDepthPacking?"#define DEPTH_PACKING "+c.depthPacking:"",`
`].filter(Wu).join(`
`)),T=pd(T),T=e5(T,c),T=t5(T,c),R=pd(R),R=e5(R,c),R=t5(R,c),T=i5(T),R=i5(R),c.isRawShaderMaterial!==!0&&(Ne=`#version 300 es
`,ue=[Q,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+ue,se=["#define varying in",c.glslVersion===t3?"":"layout(location = 0) out highp vec4 pc_fragColor;",c.glslVersion===t3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+se);const De=Ne+ue+T,Oe=Ne+se+R,je=Z3(p,p.VERTEX_SHADER,De),Be=Z3(p,p.FRAGMENT_SHADER,Oe);p.attachShader(ce,je),p.attachShader(ce,Be),c.index0AttributeName!==void 0?p.bindAttribLocation(ce,0,c.index0AttributeName):c.morphTargets===!0&&p.bindAttribLocation(ce,0,"position"),p.linkProgram(ce);function We(Je){if(v.debug.checkShaderErrors){const ft=p.getProgramInfoLog(ce)||"",yt=p.getShaderInfoLog(je)||"",Et=p.getShaderInfoLog(Be)||"",Dt=ft.trim(),ct=yt.trim(),Wt=Et.trim();let vt=!0,Ht=!0;if(p.getProgramParameter(ce,p.LINK_STATUS)===!1)if(vt=!1,typeof v.debug.onShaderError=="function")v.debug.onShaderError(p,ce,je,Be);else{const Qt=J3(p,je,"vertex"),a0=J3(p,Be,"fragment");i0("THREE.WebGLProgram: Shader Error "+p.getError()+" - VALIDATE_STATUS "+p.getProgramParameter(ce,p.VALIDATE_STATUS)+`

Material Name: `+Je.name+`
Material Type: `+Je.type+`

Program Info Log: `+Dt+`
`+Qt+`
`+a0)}else Dt!==""?jt("WebGLProgram: Program Info Log:",Dt):(ct===""||Wt==="")&&(Ht=!1);Ht&&(Je.diagnostics={runnable:vt,programLog:Dt,vertexShader:{log:ct,prefix:ue},fragmentShader:{log:Wt,prefix:se}})}p.deleteShader(je),p.deleteShader(Be),$e=new a_(p,ce),Ee=Nue(p,ce)}let $e;this.getUniforms=function(){return $e===void 0&&We(this),$e};let Ee;this.getAttributes=function(){return Ee===void 0&&We(this),Ee};let Ie=c.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return Ie===!1&&(Ie=p.getProgramParameter(ce,Sue)),Ie},this.destroy=function(){f.releaseStatesOfProgram(this),p.deleteProgram(ce),this.program=void 0},this.type=c.shaderType,this.name=c.shaderName,this.id=Tue++,this.cacheKey=r,this.usedTimes=1,this.program=ce,this.vertexShader=je,this.fragmentShader=Be,this}let zue=0;class Wue{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(r){const c=r.vertexShader,f=r.fragmentShader,p=this._getShaderStage(c),y=this._getShaderStage(f),T=this._getShaderCacheForMaterial(r);return T.has(p)===!1&&(T.add(p),p.usedTimes++),T.has(y)===!1&&(T.add(y),y.usedTimes++),this}remove(r){const c=this.materialCache.get(r);for(const f of c)f.usedTimes--,f.usedTimes===0&&this.shaderCache.delete(f.code);return this.materialCache.delete(r),this}getVertexShaderID(r){return this._getShaderStage(r.vertexShader).id}getFragmentShaderID(r){return this._getShaderStage(r.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(r){const c=this.materialCache;let f=c.get(r);return f===void 0&&(f=new Set,c.set(r,f)),f}_getShaderStage(r){const c=this.shaderCache;let f=c.get(r);return f===void 0&&(f=new Hue(r),c.set(r,f)),f}}class Hue{constructor(r){this.id=zue++,this.code=r,this.usedTimes=0}}function jue(v,r,c,f,p,y,T){const R=new e8,b=new Wue,P=new Set,G=[],j=p.logarithmicDepthBuffer,K=p.vertexTextures;let Q=p.precision;const ie={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function ce(Ee){return P.add(Ee),Ee===0?"uv":`uv${Ee}`}function ue(Ee,Ie,Je,ft,yt){const Et=ft.fog,Dt=yt.geometry,ct=Ee.isMeshStandardMaterial?ft.environment:null,Wt=(Ee.isMeshStandardMaterial?c:r).get(Ee.envMap||ct),vt=Wt&&Wt.mapping===ec?Wt.image.height:null,Ht=ie[Ee.type];Ee.precision!==null&&(Q=p.getMaxPrecision(Ee.precision),Q!==Ee.precision&&jt("WebGLProgram.getParameters:",Ee.precision,"not supported, using",Q,"instead."));const Qt=Dt.morphAttributes.position||Dt.morphAttributes.normal||Dt.morphAttributes.color,a0=Qt!==void 0?Qt.length:0;let G0=0;Dt.morphAttributes.position!==void 0&&(G0=1),Dt.morphAttributes.normal!==void 0&&(G0=2),Dt.morphAttributes.color!==void 0&&(G0=3);let C0,w0,y0,dt;if(Ht){const Gi=Ho[Ht];C0=Gi.vertexShader,w0=Gi.fragmentShader}else C0=Ee.vertexShader,w0=Ee.fragmentShader,b.update(Ee),y0=b.getVertexShaderID(Ee),dt=b.getFragmentShaderID(Ee);const wt=v.getRenderTarget(),e0=v.state.buffers.depth.getReversed(),B0=yt.isInstancedMesh===!0,A0=yt.isBatchedMesh===!0,Bi=!!Ee.map,A2=!!Ee.matcap,ei=!!Wt,Fn=!!Ee.aoMap,tt=!!Ee.lightMap,ki=!!Ee.bumpMap,qi=!!Ee.normalMap,wn=!!Ee.displacementMap,N0=!!Ee.emissiveMap,Bn=!!Ee.metalnessMap,si=!!Ee.roughnessMap,oi=Ee.anisotropy>0,Ye=Ee.clearcoat>0,Pe=Ee.dispersion>0,St=Ee.iridescence>0,Yt=Ee.sheen>0,Jt=Ee.transmission>0,Ut=oi&&!!Ee.anisotropyMap,z0=Ye&&!!Ee.clearcoatMap,g0=Ye&&!!Ee.clearcoatNormalMap,ci=Ye&&!!Ee.clearcoatRoughnessMap,$0=St&&!!Ee.iridescenceMap,t0=St&&!!Ee.iridescenceThicknessMap,c0=Yt&&!!Ee.sheenColorMap,yi=Yt&&!!Ee.sheenRoughnessMap,li=!!Ee.specularMap,D0=!!Ee.specularColorMap,Si=!!Ee.specularIntensityMap,rt=Jt&&!!Ee.transmissionMap,S0=Jt&&!!Ee.thicknessMap,d0=!!Ee.gradientMap,m0=!!Ee.alphaMap,s0=Ee.alphaTest>0,Zt=!!Ee.alphaHash,W0=!!Ee.extensions;let Ai=ns;Ee.toneMapped&&(wt===null||wt.isXRRenderTarget===!0)&&(Ai=v.toneMapping);const yn={shaderID:Ht,shaderType:Ee.type,shaderName:Ee.name,vertexShader:C0,fragmentShader:w0,defines:Ee.defines,customVertexShaderID:y0,customFragmentShaderID:dt,isRawShaderMaterial:Ee.isRawShaderMaterial===!0,glslVersion:Ee.glslVersion,precision:Q,batching:A0,batchingColor:A0&&yt._colorsTexture!==null,instancing:B0,instancingColor:B0&&yt.instanceColor!==null,instancingMorph:B0&&yt.morphTexture!==null,supportsVertexTextures:K,outputColorSpace:wt===null?v.outputColorSpace:wt.isXRRenderTarget===!0?wt.texture.colorSpace:ic,alphaToCoverage:!!Ee.alphaToCoverage,map:Bi,matcap:A2,envMap:ei,envMapMode:ei&&Wt.mapping,envMapCubeUVHeight:vt,aoMap:Fn,lightMap:tt,bumpMap:ki,normalMap:qi,displacementMap:K&&wn,emissiveMap:N0,normalMapObjectSpace:qi&&Ee.normalMapType===ix,normalMapTangentSpace:qi&&Ee.normalMapType===P1,metalnessMap:Bn,roughnessMap:si,anisotropy:oi,anisotropyMap:Ut,clearcoat:Ye,clearcoatMap:z0,clearcoatNormalMap:g0,clearcoatRoughnessMap:ci,dispersion:Pe,iridescence:St,iridescenceMap:$0,iridescenceThicknessMap:t0,sheen:Yt,sheenColorMap:c0,sheenRoughnessMap:yi,specularMap:li,specularColorMap:D0,specularIntensityMap:Si,transmission:Jt,transmissionMap:rt,thicknessMap:S0,gradientMap:d0,opaque:Ee.transparent===!1&&Ee.blending===Fs&&Ee.alphaToCoverage===!1,alphaMap:m0,alphaTest:s0,alphaHash:Zt,combine:Ee.combine,mapUv:Bi&&ce(Ee.map.channel),aoMapUv:Fn&&ce(Ee.aoMap.channel),lightMapUv:tt&&ce(Ee.lightMap.channel),bumpMapUv:ki&&ce(Ee.bumpMap.channel),normalMapUv:qi&&ce(Ee.normalMap.channel),displacementMapUv:wn&&ce(Ee.displacementMap.channel),emissiveMapUv:N0&&ce(Ee.emissiveMap.channel),metalnessMapUv:Bn&&ce(Ee.metalnessMap.channel),roughnessMapUv:si&&ce(Ee.roughnessMap.channel),anisotropyMapUv:Ut&&ce(Ee.anisotropyMap.channel),clearcoatMapUv:z0&&ce(Ee.clearcoatMap.channel),clearcoatNormalMapUv:g0&&ce(Ee.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ci&&ce(Ee.clearcoatRoughnessMap.channel),iridescenceMapUv:$0&&ce(Ee.iridescenceMap.channel),iridescenceThicknessMapUv:t0&&ce(Ee.iridescenceThicknessMap.channel),sheenColorMapUv:c0&&ce(Ee.sheenColorMap.channel),sheenRoughnessMapUv:yi&&ce(Ee.sheenRoughnessMap.channel),specularMapUv:li&&ce(Ee.specularMap.channel),specularColorMapUv:D0&&ce(Ee.specularColorMap.channel),specularIntensityMapUv:Si&&ce(Ee.specularIntensityMap.channel),transmissionMapUv:rt&&ce(Ee.transmissionMap.channel),thicknessMapUv:S0&&ce(Ee.thicknessMap.channel),alphaMapUv:m0&&ce(Ee.alphaMap.channel),vertexTangents:!!Dt.attributes.tangent&&(qi||oi),vertexColors:Ee.vertexColors,vertexAlphas:Ee.vertexColors===!0&&!!Dt.attributes.color&&Dt.attributes.color.itemSize===4,pointsUvs:yt.isPoints===!0&&!!Dt.attributes.uv&&(Bi||m0),fog:!!Et,useFog:Ee.fog===!0,fogExp2:!!Et&&Et.isFogExp2,flatShading:Ee.flatShading===!0&&Ee.wireframe===!1,sizeAttenuation:Ee.sizeAttenuation===!0,logarithmicDepthBuffer:j,reversedDepthBuffer:e0,skinning:yt.isSkinnedMesh===!0,morphTargets:Dt.morphAttributes.position!==void 0,morphNormals:Dt.morphAttributes.normal!==void 0,morphColors:Dt.morphAttributes.color!==void 0,morphTargetsCount:a0,morphTextureStride:G0,numDirLights:Ie.directional.length,numPointLights:Ie.point.length,numSpotLights:Ie.spot.length,numSpotLightMaps:Ie.spotLightMap.length,numRectAreaLights:Ie.rectArea.length,numHemiLights:Ie.hemi.length,numDirLightShadows:Ie.directionalShadowMap.length,numPointLightShadows:Ie.pointShadowMap.length,numSpotLightShadows:Ie.spotShadowMap.length,numSpotLightShadowsWithMaps:Ie.numSpotLightShadowsWithMaps,numLightProbes:Ie.numLightProbes,numClippingPlanes:T.numPlanes,numClipIntersection:T.numIntersection,dithering:Ee.dithering,shadowMapEnabled:v.shadowMap.enabled&&Je.length>0,shadowMapType:v.shadowMap.type,toneMapping:Ai,decodeVideoTexture:Bi&&Ee.map.isVideoTexture===!0&&pi.getTransfer(Ee.map.colorSpace)===b0,decodeVideoTextureEmissive:N0&&Ee.emissiveMap.isVideoTexture===!0&&pi.getTransfer(Ee.emissiveMap.colorSpace)===b0,premultipliedAlpha:Ee.premultipliedAlpha,doubleSided:Ee.side===Nr,flipSided:Ee.side===Zn,useDepthPacking:Ee.depthPacking>=0,depthPacking:Ee.depthPacking||0,index0AttributeName:Ee.index0AttributeName,extensionClipCullDistance:W0&&Ee.extensions.clipCullDistance===!0&&f.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(W0&&Ee.extensions.multiDraw===!0||A0)&&f.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:f.has("KHR_parallel_shader_compile"),customProgramCacheKey:Ee.customProgramCacheKey()};return yn.vertexUv1s=P.has(1),yn.vertexUv2s=P.has(2),yn.vertexUv3s=P.has(3),P.clear(),yn}function se(Ee){const Ie=[];if(Ee.shaderID?Ie.push(Ee.shaderID):(Ie.push(Ee.customVertexShaderID),Ie.push(Ee.customFragmentShaderID)),Ee.defines!==void 0)for(const Je in Ee.defines)Ie.push(Je),Ie.push(Ee.defines[Je]);return Ee.isRawShaderMaterial===!1&&(Ne(Ie,Ee),De(Ie,Ee),Ie.push(v.outputColorSpace)),Ie.push(Ee.customProgramCacheKey),Ie.join()}function Ne(Ee,Ie){Ee.push(Ie.precision),Ee.push(Ie.outputColorSpace),Ee.push(Ie.envMapMode),Ee.push(Ie.envMapCubeUVHeight),Ee.push(Ie.mapUv),Ee.push(Ie.alphaMapUv),Ee.push(Ie.lightMapUv),Ee.push(Ie.aoMapUv),Ee.push(Ie.bumpMapUv),Ee.push(Ie.normalMapUv),Ee.push(Ie.displacementMapUv),Ee.push(Ie.emissiveMapUv),Ee.push(Ie.metalnessMapUv),Ee.push(Ie.roughnessMapUv),Ee.push(Ie.anisotropyMapUv),Ee.push(Ie.clearcoatMapUv),Ee.push(Ie.clearcoatNormalMapUv),Ee.push(Ie.clearcoatRoughnessMapUv),Ee.push(Ie.iridescenceMapUv),Ee.push(Ie.iridescenceThicknessMapUv),Ee.push(Ie.sheenColorMapUv),Ee.push(Ie.sheenRoughnessMapUv),Ee.push(Ie.specularMapUv),Ee.push(Ie.specularColorMapUv),Ee.push(Ie.specularIntensityMapUv),Ee.push(Ie.transmissionMapUv),Ee.push(Ie.thicknessMapUv),Ee.push(Ie.combine),Ee.push(Ie.fogExp2),Ee.push(Ie.sizeAttenuation),Ee.push(Ie.morphTargetsCount),Ee.push(Ie.morphAttributeCount),Ee.push(Ie.numDirLights),Ee.push(Ie.numPointLights),Ee.push(Ie.numSpotLights),Ee.push(Ie.numSpotLightMaps),Ee.push(Ie.numHemiLights),Ee.push(Ie.numRectAreaLights),Ee.push(Ie.numDirLightShadows),Ee.push(Ie.numPointLightShadows),Ee.push(Ie.numSpotLightShadows),Ee.push(Ie.numSpotLightShadowsWithMaps),Ee.push(Ie.numLightProbes),Ee.push(Ie.shadowMapType),Ee.push(Ie.toneMapping),Ee.push(Ie.numClippingPlanes),Ee.push(Ie.numClipIntersection),Ee.push(Ie.depthPacking)}function De(Ee,Ie){R.disableAll(),Ie.supportsVertexTextures&&R.enable(0),Ie.instancing&&R.enable(1),Ie.instancingColor&&R.enable(2),Ie.instancingMorph&&R.enable(3),Ie.matcap&&R.enable(4),Ie.envMap&&R.enable(5),Ie.normalMapObjectSpace&&R.enable(6),Ie.normalMapTangentSpace&&R.enable(7),Ie.clearcoat&&R.enable(8),Ie.iridescence&&R.enable(9),Ie.alphaTest&&R.enable(10),Ie.vertexColors&&R.enable(11),Ie.vertexAlphas&&R.enable(12),Ie.vertexUv1s&&R.enable(13),Ie.vertexUv2s&&R.enable(14),Ie.vertexUv3s&&R.enable(15),Ie.vertexTangents&&R.enable(16),Ie.anisotropy&&R.enable(17),Ie.alphaHash&&R.enable(18),Ie.batching&&R.enable(19),Ie.dispersion&&R.enable(20),Ie.batchingColor&&R.enable(21),Ie.gradientMap&&R.enable(22),Ee.push(R.mask),R.disableAll(),Ie.fog&&R.enable(0),Ie.useFog&&R.enable(1),Ie.flatShading&&R.enable(2),Ie.logarithmicDepthBuffer&&R.enable(3),Ie.reversedDepthBuffer&&R.enable(4),Ie.skinning&&R.enable(5),Ie.morphTargets&&R.enable(6),Ie.morphNormals&&R.enable(7),Ie.morphColors&&R.enable(8),Ie.premultipliedAlpha&&R.enable(9),Ie.shadowMapEnabled&&R.enable(10),Ie.doubleSided&&R.enable(11),Ie.flipSided&&R.enable(12),Ie.useDepthPacking&&R.enable(13),Ie.dithering&&R.enable(14),Ie.transmission&&R.enable(15),Ie.sheen&&R.enable(16),Ie.opaque&&R.enable(17),Ie.pointsUvs&&R.enable(18),Ie.decodeVideoTexture&&R.enable(19),Ie.decodeVideoTextureEmissive&&R.enable(20),Ie.alphaToCoverage&&R.enable(21),Ee.push(R.mask)}function Oe(Ee){const Ie=ie[Ee.type];let Je;if(Ie){const ft=Ho[Ie];Je=Ooe.clone(ft.uniforms)}else Je=Ee.uniforms;return Je}function je(Ee,Ie){let Je;for(let ft=0,yt=G.length;ft<yt;ft++){const Et=G[ft];if(Et.cacheKey===Ie){Je=Et,++Je.usedTimes;break}}return Je===void 0&&(Je=new Vue(v,Ie,Ee,y),G.push(Je)),Je}function Be(Ee){if(--Ee.usedTimes===0){const Ie=G.indexOf(Ee);G[Ie]=G[G.length-1],G.pop(),Ee.destroy()}}function We(Ee){b.remove(Ee)}function $e(){b.dispose()}return{getParameters:ue,getProgramCacheKey:se,getUniforms:Oe,acquireProgram:je,releaseProgram:Be,releaseShaderCache:We,programs:G,dispose:$e}}function que(){let v=new WeakMap;function r(T){return v.has(T)}function c(T){let R=v.get(T);return R===void 0&&(R={},v.set(T,R)),R}function f(T){v.delete(T)}function p(T,R,b){v.get(T)[R]=b}function y(){v=new WeakMap}return{has:r,get:c,remove:f,update:p,dispose:y}}function Xue(v,r){return v.groupOrder!==r.groupOrder?v.groupOrder-r.groupOrder:v.renderOrder!==r.renderOrder?v.renderOrder-r.renderOrder:v.material.id!==r.material.id?v.material.id-r.material.id:v.z!==r.z?v.z-r.z:v.id-r.id}function r5(v,r){return v.groupOrder!==r.groupOrder?v.groupOrder-r.groupOrder:v.renderOrder!==r.renderOrder?v.renderOrder-r.renderOrder:v.z!==r.z?r.z-v.z:v.id-r.id}function s5(){const v=[];let r=0;const c=[],f=[],p=[];function y(){r=0,c.length=0,f.length=0,p.length=0}function T(j,K,Q,ie,ce,ue){let se=v[r];return se===void 0?(se={id:j.id,object:j,geometry:K,material:Q,groupOrder:ie,renderOrder:j.renderOrder,z:ce,group:ue},v[r]=se):(se.id=j.id,se.object=j,se.geometry=K,se.material=Q,se.groupOrder=ie,se.renderOrder=j.renderOrder,se.z=ce,se.group=ue),r++,se}function R(j,K,Q,ie,ce,ue){const se=T(j,K,Q,ie,ce,ue);Q.transmission>0?f.push(se):Q.transparent===!0?p.push(se):c.push(se)}function b(j,K,Q,ie,ce,ue){const se=T(j,K,Q,ie,ce,ue);Q.transmission>0?f.unshift(se):Q.transparent===!0?p.unshift(se):c.unshift(se)}function P(j,K){c.length>1&&c.sort(j||Xue),f.length>1&&f.sort(K||r5),p.length>1&&p.sort(K||r5)}function G(){for(let j=r,K=v.length;j<K;j++){const Q=v[j];if(Q.id===null)break;Q.id=null,Q.object=null,Q.geometry=null,Q.material=null,Q.group=null}}return{opaque:c,transmissive:f,transparent:p,init:y,push:R,unshift:b,finish:G,sort:P}}function $ue(){let v=new WeakMap;function r(f,p){const y=v.get(f);let T;return y===void 0?(T=new s5,v.set(f,[T])):p>=y.length?(T=new s5,y.push(T)):T=y[p],T}function c(){v=new WeakMap}return{get:r,dispose:c}}function Yue(){const v={};return{get:function(r){if(v[r.id]!==void 0)return v[r.id];let c;switch(r.type){case"DirectionalLight":c={direction:new nt,color:new ri};break;case"SpotLight":c={position:new nt,direction:new nt,color:new ri,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":c={position:new nt,color:new ri,distance:0,decay:0};break;case"HemisphereLight":c={direction:new nt,skyColor:new ri,groundColor:new ri};break;case"RectAreaLight":c={color:new ri,position:new nt,halfWidth:new nt,halfHeight:new nt};break}return v[r.id]=c,c}}}function Kue(){const v={};return{get:function(r){if(v[r.id]!==void 0)return v[r.id];let c;switch(r.type){case"DirectionalLight":c={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new O0};break;case"SpotLight":c={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new O0};break;case"PointLight":c={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new O0,shadowCameraNear:1,shadowCameraFar:1e3};break}return v[r.id]=c,c}}}let Zue=0;function Que(v,r){return(r.castShadow?2:0)-(v.castShadow?2:0)+(r.map?1:0)-(v.map?1:0)}function Jue(v){const r=new Yue,c=Kue(),f={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let P=0;P<9;P++)f.probe.push(new nt);const p=new nt,y=new wi,T=new wi;function R(P){let G=0,j=0,K=0;for(let Ee=0;Ee<9;Ee++)f.probe[Ee].set(0,0,0);let Q=0,ie=0,ce=0,ue=0,se=0,Ne=0,De=0,Oe=0,je=0,Be=0,We=0;P.sort(Que);for(let Ee=0,Ie=P.length;Ee<Ie;Ee++){const Je=P[Ee],ft=Je.color,yt=Je.intensity,Et=Je.distance,Dt=Je.shadow&&Je.shadow.map?Je.shadow.map.texture:null;if(Je.isAmbientLight)G+=ft.r*yt,j+=ft.g*yt,K+=ft.b*yt;else if(Je.isLightProbe){for(let ct=0;ct<9;ct++)f.probe[ct].addScaledVector(Je.sh.coefficients[ct],yt);We++}else if(Je.isDirectionalLight){const ct=r.get(Je);if(ct.color.copy(Je.color).multiplyScalar(Je.intensity),Je.castShadow){const Wt=Je.shadow,vt=c.get(Je);vt.shadowIntensity=Wt.intensity,vt.shadowBias=Wt.bias,vt.shadowNormalBias=Wt.normalBias,vt.shadowRadius=Wt.radius,vt.shadowMapSize=Wt.mapSize,f.directionalShadow[Q]=vt,f.directionalShadowMap[Q]=Dt,f.directionalShadowMatrix[Q]=Je.shadow.matrix,Ne++}f.directional[Q]=ct,Q++}else if(Je.isSpotLight){const ct=r.get(Je);ct.position.setFromMatrixPosition(Je.matrixWorld),ct.color.copy(ft).multiplyScalar(yt),ct.distance=Et,ct.coneCos=Math.cos(Je.angle),ct.penumbraCos=Math.cos(Je.angle*(1-Je.penumbra)),ct.decay=Je.decay,f.spot[ce]=ct;const Wt=Je.shadow;if(Je.map&&(f.spotLightMap[je]=Je.map,je++,Wt.updateMatrices(Je),Je.castShadow&&Be++),f.spotLightMatrix[ce]=Wt.matrix,Je.castShadow){const vt=c.get(Je);vt.shadowIntensity=Wt.intensity,vt.shadowBias=Wt.bias,vt.shadowNormalBias=Wt.normalBias,vt.shadowRadius=Wt.radius,vt.shadowMapSize=Wt.mapSize,f.spotShadow[ce]=vt,f.spotShadowMap[ce]=Dt,Oe++}ce++}else if(Je.isRectAreaLight){const ct=r.get(Je);ct.color.copy(ft).multiplyScalar(yt),ct.halfWidth.set(Je.width*.5,0,0),ct.halfHeight.set(0,Je.height*.5,0),f.rectArea[ue]=ct,ue++}else if(Je.isPointLight){const ct=r.get(Je);if(ct.color.copy(Je.color).multiplyScalar(Je.intensity),ct.distance=Je.distance,ct.decay=Je.decay,Je.castShadow){const Wt=Je.shadow,vt=c.get(Je);vt.shadowIntensity=Wt.intensity,vt.shadowBias=Wt.bias,vt.shadowNormalBias=Wt.normalBias,vt.shadowRadius=Wt.radius,vt.shadowMapSize=Wt.mapSize,vt.shadowCameraNear=Wt.camera.near,vt.shadowCameraFar=Wt.camera.far,f.pointShadow[ie]=vt,f.pointShadowMap[ie]=Dt,f.pointShadowMatrix[ie]=Je.shadow.matrix,De++}f.point[ie]=ct,ie++}else if(Je.isHemisphereLight){const ct=r.get(Je);ct.skyColor.copy(Je.color).multiplyScalar(yt),ct.groundColor.copy(Je.groundColor).multiplyScalar(yt),f.hemi[se]=ct,se++}}ue>0&&(v.has("OES_texture_float_linear")===!0?(f.rectAreaLTC1=R0.LTC_FLOAT_1,f.rectAreaLTC2=R0.LTC_FLOAT_2):(f.rectAreaLTC1=R0.LTC_HALF_1,f.rectAreaLTC2=R0.LTC_HALF_2)),f.ambient[0]=G,f.ambient[1]=j,f.ambient[2]=K;const $e=f.hash;($e.directionalLength!==Q||$e.pointLength!==ie||$e.spotLength!==ce||$e.rectAreaLength!==ue||$e.hemiLength!==se||$e.numDirectionalShadows!==Ne||$e.numPointShadows!==De||$e.numSpotShadows!==Oe||$e.numSpotMaps!==je||$e.numLightProbes!==We)&&(f.directional.length=Q,f.spot.length=ce,f.rectArea.length=ue,f.point.length=ie,f.hemi.length=se,f.directionalShadow.length=Ne,f.directionalShadowMap.length=Ne,f.pointShadow.length=De,f.pointShadowMap.length=De,f.spotShadow.length=Oe,f.spotShadowMap.length=Oe,f.directionalShadowMatrix.length=Ne,f.pointShadowMatrix.length=De,f.spotLightMatrix.length=Oe+je-Be,f.spotLightMap.length=je,f.numSpotLightShadowsWithMaps=Be,f.numLightProbes=We,$e.directionalLength=Q,$e.pointLength=ie,$e.spotLength=ce,$e.rectAreaLength=ue,$e.hemiLength=se,$e.numDirectionalShadows=Ne,$e.numPointShadows=De,$e.numSpotShadows=Oe,$e.numSpotMaps=je,$e.numLightProbes=We,f.version=Zue++)}function b(P,G){let j=0,K=0,Q=0,ie=0,ce=0;const ue=G.matrixWorldInverse;for(let se=0,Ne=P.length;se<Ne;se++){const De=P[se];if(De.isDirectionalLight){const Oe=f.directional[j];Oe.direction.setFromMatrixPosition(De.matrixWorld),p.setFromMatrixPosition(De.target.matrixWorld),Oe.direction.sub(p),Oe.direction.transformDirection(ue),j++}else if(De.isSpotLight){const Oe=f.spot[Q];Oe.position.setFromMatrixPosition(De.matrixWorld),Oe.position.applyMatrix4(ue),Oe.direction.setFromMatrixPosition(De.matrixWorld),p.setFromMatrixPosition(De.target.matrixWorld),Oe.direction.sub(p),Oe.direction.transformDirection(ue),Q++}else if(De.isRectAreaLight){const Oe=f.rectArea[ie];Oe.position.setFromMatrixPosition(De.matrixWorld),Oe.position.applyMatrix4(ue),T.identity(),y.copy(De.matrixWorld),y.premultiply(ue),T.extractRotation(y),Oe.halfWidth.set(De.width*.5,0,0),Oe.halfHeight.set(0,De.height*.5,0),Oe.halfWidth.applyMatrix4(T),Oe.halfHeight.applyMatrix4(T),ie++}else if(De.isPointLight){const Oe=f.point[K];Oe.position.setFromMatrixPosition(De.matrixWorld),Oe.position.applyMatrix4(ue),K++}else if(De.isHemisphereLight){const Oe=f.hemi[ce];Oe.direction.setFromMatrixPosition(De.matrixWorld),Oe.direction.transformDirection(ue),ce++}}}return{setup:R,setupView:b,state:f}}function o5(v){const r=new Jue(v),c=[],f=[];function p(G){P.camera=G,c.length=0,f.length=0}function y(G){c.push(G)}function T(G){f.push(G)}function R(){r.setup(c)}function b(G){r.setupView(c,G)}const P={lightsArray:c,shadowsArray:f,camera:null,lights:r,transmissionRenderTarget:{}};return{init:p,state:P,setupLights:R,setupLightsView:b,pushLight:y,pushShadow:T}}function efe(v){let r=new WeakMap;function c(p,y=0){const T=r.get(p);let R;return T===void 0?(R=new o5(v),r.set(p,[R])):y>=T.length?(R=new o5(v),T.push(R)):R=T[y],R}function f(){r=new WeakMap}return{get:c,dispose:f}}const tfe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,ife=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function nfe(v,r,c){let f=new Lf;const p=new O0,y=new O0,T=new hi,R=new n1e({depthPacking:Wse}),b=new r1e,P={},G=c.maxTextureSize,j={[Cs]:Zn,[Zn]:Cs,[Nr]:Nr},K=new L1({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new O0},radius:{value:4}},vertexShader:tfe,fragmentShader:ife}),Q=K.clone();Q.defines.HORIZONTAL_PASS=1;const ie=new os;ie.setAttribute("position",new zr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ce=new G2(ie,K),ue=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Nd;let se=this.type;this.render=function(Be,We,$e){if(ue.enabled===!1||ue.autoUpdate===!1&&ue.needsUpdate===!1||Be.length===0)return;const Ee=v.getRenderTarget(),Ie=v.getActiveCubeFace(),Je=v.getActiveMipmapLevel(),ft=v.state;ft.setBlending(ws),ft.buffers.depth.getReversed()===!0?ft.buffers.color.setClear(0,0,0,0):ft.buffers.color.setClear(1,1,1,1),ft.buffers.depth.setTest(!0),ft.setScissorTest(!1);const yt=se!==Ps&&this.type===Ps,Et=se===Ps&&this.type!==Ps;for(let Dt=0,ct=Be.length;Dt<ct;Dt++){const Wt=Be[Dt],vt=Wt.shadow;if(vt===void 0){jt("WebGLShadowMap:",Wt,"has no shadow.");continue}if(vt.autoUpdate===!1&&vt.needsUpdate===!1)continue;p.copy(vt.mapSize);const Ht=vt.getFrameExtents();if(p.multiply(Ht),y.copy(vt.mapSize),(p.x>G||p.y>G)&&(p.x>G&&(y.x=Math.floor(G/Ht.x),p.x=y.x*Ht.x,vt.mapSize.x=y.x),p.y>G&&(y.y=Math.floor(G/Ht.y),p.y=y.y*Ht.y,vt.mapSize.y=y.y)),vt.map===null||yt===!0||Et===!0){const a0=this.type!==Ps?{minFilter:r2,magFilter:r2}:{};vt.map!==null&&vt.map.dispose(),vt.map=new rc(p.x,p.y,a0),vt.map.texture.name=Wt.name+".shadowMap",vt.camera.updateProjectionMatrix()}v.setRenderTarget(vt.map),v.clear();const Qt=vt.getViewportCount();for(let a0=0;a0<Qt;a0++){const G0=vt.getViewport(a0);T.set(y.x*G0.x,y.y*G0.y,y.x*G0.z,y.y*G0.w),ft.viewport(T),vt.updateMatrices(Wt,a0),f=vt.getFrustum(),Oe(We,$e,vt.camera,Wt,this.type)}vt.isPointLightShadow!==!0&&this.type===Ps&&Ne(vt,$e),vt.needsUpdate=!1}se=this.type,ue.needsUpdate=!1,v.setRenderTarget(Ee,Ie,Je)};function Ne(Be,We){const $e=r.update(ce);K.defines.VSM_SAMPLES!==Be.blurSamples&&(K.defines.VSM_SAMPLES=Be.blurSamples,Q.defines.VSM_SAMPLES=Be.blurSamples,K.needsUpdate=!0,Q.needsUpdate=!0),Be.mapPass===null&&(Be.mapPass=new rc(p.x,p.y)),K.uniforms.shadow_pass.value=Be.map.texture,K.uniforms.resolution.value=Be.mapSize,K.uniforms.radius.value=Be.radius,v.setRenderTarget(Be.mapPass),v.clear(),v.renderBufferDirect(We,null,$e,K,ce,null),Q.uniforms.shadow_pass.value=Be.mapPass.texture,Q.uniforms.resolution.value=Be.mapSize,Q.uniforms.radius.value=Be.radius,v.setRenderTarget(Be.map),v.clear(),v.renderBufferDirect(We,null,$e,Q,ce,null)}function De(Be,We,$e,Ee){let Ie=null;const Je=$e.isPointLight===!0?Be.customDistanceMaterial:Be.customDepthMaterial;if(Je!==void 0)Ie=Je;else if(Ie=$e.isPointLight===!0?b:R,v.localClippingEnabled&&We.clipShadows===!0&&Array.isArray(We.clippingPlanes)&&We.clippingPlanes.length!==0||We.displacementMap&&We.displacementScale!==0||We.alphaMap&&We.alphaTest>0||We.map&&We.alphaTest>0||We.alphaToCoverage===!0){const ft=Ie.uuid,yt=We.uuid;let Et=P[ft];Et===void 0&&(Et={},P[ft]=Et);let Dt=Et[yt];Dt===void 0&&(Dt=Ie.clone(),Et[yt]=Dt,We.addEventListener("dispose",je)),Ie=Dt}if(Ie.visible=We.visible,Ie.wireframe=We.wireframe,Ee===Ps?Ie.side=We.shadowSide!==null?We.shadowSide:We.side:Ie.side=We.shadowSide!==null?We.shadowSide:j[We.side],Ie.alphaMap=We.alphaMap,Ie.alphaTest=We.alphaToCoverage===!0?.5:We.alphaTest,Ie.map=We.map,Ie.clipShadows=We.clipShadows,Ie.clippingPlanes=We.clippingPlanes,Ie.clipIntersection=We.clipIntersection,Ie.displacementMap=We.displacementMap,Ie.displacementScale=We.displacementScale,Ie.displacementBias=We.displacementBias,Ie.wireframeLinewidth=We.wireframeLinewidth,Ie.linewidth=We.linewidth,$e.isPointLight===!0&&Ie.isMeshDistanceMaterial===!0){const ft=v.properties.get(Ie);ft.light=$e}return Ie}function Oe(Be,We,$e,Ee,Ie){if(Be.visible===!1)return;if(Be.layers.test(We.layers)&&(Be.isMesh||Be.isLine||Be.isPoints)&&(Be.castShadow||Be.receiveShadow&&Ie===Ps)&&(!Be.frustumCulled||f.intersectsObject(Be))){Be.modelViewMatrix.multiplyMatrices($e.matrixWorldInverse,Be.matrixWorld);const yt=r.update(Be),Et=Be.material;if(Array.isArray(Et)){const Dt=yt.groups;for(let ct=0,Wt=Dt.length;ct<Wt;ct++){const vt=Dt[ct],Ht=Et[vt.materialIndex];if(Ht&&Ht.visible){const Qt=De(Be,Ht,Ee,Ie);Be.onBeforeShadow(v,Be,We,$e,yt,Qt,vt),v.renderBufferDirect($e,null,yt,Qt,Be,vt),Be.onAfterShadow(v,Be,We,$e,yt,Qt,vt)}}}else if(Et.visible){const Dt=De(Be,Et,Ee,Ie);Be.onBeforeShadow(v,Be,We,$e,yt,Dt,null),v.renderBufferDirect($e,null,yt,Dt,Be,null),Be.onAfterShadow(v,Be,We,$e,yt,Dt,null)}}const ft=Be.children;for(let yt=0,Et=ft.length;yt<Et;yt++)Oe(ft[yt],We,$e,Ee,Ie)}function je(Be){Be.target.removeEventListener("dispose",je);for(const $e in P){const Ee=P[$e],Ie=Be.target.uuid;Ie in Ee&&(Ee[Ie].dispose(),delete Ee[Ie])}}}const rfe={[of]:af,[cf]:ff,[lf]:pf,[fa]:uf,[af]:of,[ff]:cf,[pf]:lf,[uf]:fa};function sfe(v,r){function c(){let rt=!1;const S0=new hi;let d0=null;const m0=new hi(0,0,0,0);return{setMask:function(s0){d0!==s0&&!rt&&(v.colorMask(s0,s0,s0,s0),d0=s0)},setLocked:function(s0){rt=s0},setClear:function(s0,Zt,W0,Ai,yn){yn===!0&&(s0*=Ai,Zt*=Ai,W0*=Ai),S0.set(s0,Zt,W0,Ai),m0.equals(S0)===!1&&(v.clearColor(s0,Zt,W0,Ai),m0.copy(S0))},reset:function(){rt=!1,d0=null,m0.set(-1,0,0,0)}}}function f(){let rt=!1,S0=!1,d0=null,m0=null,s0=null;return{setReversed:function(Zt){if(S0!==Zt){const W0=r.get("EXT_clip_control");Zt?W0.clipControlEXT(W0.LOWER_LEFT_EXT,W0.ZERO_TO_ONE_EXT):W0.clipControlEXT(W0.LOWER_LEFT_EXT,W0.NEGATIVE_ONE_TO_ONE_EXT),S0=Zt;const Ai=s0;s0=null,this.setClear(Ai)}},getReversed:function(){return S0},setTest:function(Zt){Zt?wt(v.DEPTH_TEST):e0(v.DEPTH_TEST)},setMask:function(Zt){d0!==Zt&&!rt&&(v.depthMask(Zt),d0=Zt)},setFunc:function(Zt){if(S0&&(Zt=rfe[Zt]),m0!==Zt){switch(Zt){case of:v.depthFunc(v.NEVER);break;case af:v.depthFunc(v.ALWAYS);break;case cf:v.depthFunc(v.LESS);break;case fa:v.depthFunc(v.LEQUAL);break;case lf:v.depthFunc(v.EQUAL);break;case uf:v.depthFunc(v.GEQUAL);break;case ff:v.depthFunc(v.GREATER);break;case pf:v.depthFunc(v.NOTEQUAL);break;default:v.depthFunc(v.LEQUAL)}m0=Zt}},setLocked:function(Zt){rt=Zt},setClear:function(Zt){s0!==Zt&&(S0&&(Zt=1-Zt),v.clearDepth(Zt),s0=Zt)},reset:function(){rt=!1,d0=null,m0=null,s0=null,S0=!1}}}function p(){let rt=!1,S0=null,d0=null,m0=null,s0=null,Zt=null,W0=null,Ai=null,yn=null;return{setTest:function(Gi){rt||(Gi?wt(v.STENCIL_TEST):e0(v.STENCIL_TEST))},setMask:function(Gi){S0!==Gi&&!rt&&(v.stencilMask(Gi),S0=Gi)},setFunc:function(Gi,wr,Ir){(d0!==Gi||m0!==wr||s0!==Ir)&&(v.stencilFunc(Gi,wr,Ir),d0=Gi,m0=wr,s0=Ir)},setOp:function(Gi,wr,Ir){(Zt!==Gi||W0!==wr||Ai!==Ir)&&(v.stencilOp(Gi,wr,Ir),Zt=Gi,W0=wr,Ai=Ir)},setLocked:function(Gi){rt=Gi},setClear:function(Gi){yn!==Gi&&(v.clearStencil(Gi),yn=Gi)},reset:function(){rt=!1,S0=null,d0=null,m0=null,s0=null,Zt=null,W0=null,Ai=null,yn=null}}}const y=new c,T=new f,R=new p,b=new WeakMap,P=new WeakMap;let G={},j={},K=new WeakMap,Q=[],ie=null,ce=!1,ue=null,se=null,Ne=null,De=null,Oe=null,je=null,Be=null,We=new ri(0,0,0),$e=0,Ee=!1,Ie=null,Je=null,ft=null,yt=null,Et=null;const Dt=v.getParameter(v.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ct=!1,Wt=0;const vt=v.getParameter(v.VERSION);vt.indexOf("WebGL")!==-1?(Wt=parseFloat(/^WebGL (\d)/.exec(vt)[1]),ct=Wt>=1):vt.indexOf("OpenGL ES")!==-1&&(Wt=parseFloat(/^OpenGL ES (\d)/.exec(vt)[1]),ct=Wt>=2);let Ht=null,Qt={};const a0=v.getParameter(v.SCISSOR_BOX),G0=v.getParameter(v.VIEWPORT),C0=new hi().fromArray(a0),w0=new hi().fromArray(G0);function y0(rt,S0,d0,m0){const s0=new Uint8Array(4),Zt=v.createTexture();v.bindTexture(rt,Zt),v.texParameteri(rt,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(rt,v.TEXTURE_MAG_FILTER,v.NEAREST);for(let W0=0;W0<d0;W0++)rt===v.TEXTURE_3D||rt===v.TEXTURE_2D_ARRAY?v.texImage3D(S0,0,v.RGBA,1,1,m0,0,v.RGBA,v.UNSIGNED_BYTE,s0):v.texImage2D(S0+W0,0,v.RGBA,1,1,0,v.RGBA,v.UNSIGNED_BYTE,s0);return Zt}const dt={};dt[v.TEXTURE_2D]=y0(v.TEXTURE_2D,v.TEXTURE_2D,1),dt[v.TEXTURE_CUBE_MAP]=y0(v.TEXTURE_CUBE_MAP,v.TEXTURE_CUBE_MAP_POSITIVE_X,6),dt[v.TEXTURE_2D_ARRAY]=y0(v.TEXTURE_2D_ARRAY,v.TEXTURE_2D_ARRAY,1,1),dt[v.TEXTURE_3D]=y0(v.TEXTURE_3D,v.TEXTURE_3D,1,1),y.setClear(0,0,0,1),T.setClear(1),R.setClear(0),wt(v.DEPTH_TEST),T.setFunc(fa),ki(!1),qi(rd),wt(v.CULL_FACE),Fn(ws);function wt(rt){G[rt]!==!0&&(v.enable(rt),G[rt]=!0)}function e0(rt){G[rt]!==!1&&(v.disable(rt),G[rt]=!1)}function B0(rt,S0){return j[rt]!==S0?(v.bindFramebuffer(rt,S0),j[rt]=S0,rt===v.DRAW_FRAMEBUFFER&&(j[v.FRAMEBUFFER]=S0),rt===v.FRAMEBUFFER&&(j[v.DRAW_FRAMEBUFFER]=S0),!0):!1}function A0(rt,S0){let d0=Q,m0=!1;if(rt){d0=K.get(S0),d0===void 0&&(d0=[],K.set(S0,d0));const s0=rt.textures;if(d0.length!==s0.length||d0[0]!==v.COLOR_ATTACHMENT0){for(let Zt=0,W0=s0.length;Zt<W0;Zt++)d0[Zt]=v.COLOR_ATTACHMENT0+Zt;d0.length=s0.length,m0=!0}}else d0[0]!==v.BACK&&(d0[0]=v.BACK,m0=!0);m0&&v.drawBuffers(d0)}function Bi(rt){return ie!==rt?(v.useProgram(rt),ie=rt,!0):!1}const A2={[Or]:v.FUNC_ADD,[Dd]:v.FUNC_SUBTRACT,[Id]:v.FUNC_REVERSE_SUBTRACT};A2[qg]=v.MIN,A2[Xg]=v.MAX;const ei={[C1]:v.ZERO,[Pd]:v.ONE,[Ld]:v.SRC_COLOR,[rf]:v.SRC_ALPHA,[Gd]:v.SRC_ALPHA_SATURATE,[Ud]:v.DST_COLOR,[Fd]:v.DST_ALPHA,[kd]:v.ONE_MINUS_SRC_COLOR,[sf]:v.ONE_MINUS_SRC_ALPHA,[Od]:v.ONE_MINUS_DST_COLOR,[Bd]:v.ONE_MINUS_DST_ALPHA,[Lse]:v.CONSTANT_COLOR,[kse]:v.ONE_MINUS_CONSTANT_COLOR,[Fse]:v.CONSTANT_ALPHA,[Bse]:v.ONE_MINUS_CONSTANT_ALPHA};function Fn(rt,S0,d0,m0,s0,Zt,W0,Ai,yn,Gi){if(rt===ws){ce===!0&&(e0(v.BLEND),ce=!1);return}if(ce===!1&&(wt(v.BLEND),ce=!0),rt!==sl){if(rt!==ue||Gi!==Ee){if((se!==Or||Oe!==Or)&&(v.blendEquation(v.FUNC_ADD),se=Or,Oe=Or),Gi)switch(rt){case Fs:v.blendFuncSeparate(v.ONE,v.ONE_MINUS_SRC_ALPHA,v.ONE,v.ONE_MINUS_SRC_ALPHA);break;case pl:v.blendFunc(v.ONE,v.ONE);break;case _l:v.blendFuncSeparate(v.ZERO,v.ONE_MINUS_SRC_COLOR,v.ZERO,v.ONE);break;case hl:v.blendFuncSeparate(v.DST_COLOR,v.ONE_MINUS_SRC_ALPHA,v.ZERO,v.ONE);break;default:i0("WebGLState: Invalid blending: ",rt);break}else switch(rt){case Fs:v.blendFuncSeparate(v.SRC_ALPHA,v.ONE_MINUS_SRC_ALPHA,v.ONE,v.ONE_MINUS_SRC_ALPHA);break;case pl:v.blendFuncSeparate(v.SRC_ALPHA,v.ONE,v.ONE,v.ONE);break;case _l:i0("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case hl:i0("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:i0("WebGLState: Invalid blending: ",rt);break}Ne=null,De=null,je=null,Be=null,We.set(0,0,0),$e=0,ue=rt,Ee=Gi}return}s0=s0||S0,Zt=Zt||d0,W0=W0||m0,(S0!==se||s0!==Oe)&&(v.blendEquationSeparate(A2[S0],A2[s0]),se=S0,Oe=s0),(d0!==Ne||m0!==De||Zt!==je||W0!==Be)&&(v.blendFuncSeparate(ei[d0],ei[m0],ei[Zt],ei[W0]),Ne=d0,De=m0,je=Zt,Be=W0),(Ai.equals(We)===!1||yn!==$e)&&(v.blendColor(Ai.r,Ai.g,Ai.b,yn),We.copy(Ai),$e=yn),ue=rt,Ee=!1}function tt(rt,S0){rt.side===Nr?e0(v.CULL_FACE):wt(v.CULL_FACE);let d0=rt.side===Zn;S0&&(d0=!d0),ki(d0),rt.blending===Fs&&rt.transparent===!1?Fn(ws):Fn(rt.blending,rt.blendEquation,rt.blendSrc,rt.blendDst,rt.blendEquationAlpha,rt.blendSrcAlpha,rt.blendDstAlpha,rt.blendColor,rt.blendAlpha,rt.premultipliedAlpha),T.setFunc(rt.depthFunc),T.setTest(rt.depthTest),T.setMask(rt.depthWrite),y.setMask(rt.colorWrite);const m0=rt.stencilWrite;R.setTest(m0),m0&&(R.setMask(rt.stencilWriteMask),R.setFunc(rt.stencilFunc,rt.stencilRef,rt.stencilFuncMask),R.setOp(rt.stencilFail,rt.stencilZFail,rt.stencilZPass)),N0(rt.polygonOffset,rt.polygonOffsetFactor,rt.polygonOffsetUnits),rt.alphaToCoverage===!0?wt(v.SAMPLE_ALPHA_TO_COVERAGE):e0(v.SAMPLE_ALPHA_TO_COVERAGE)}function ki(rt){Ie!==rt&&(rt?v.frontFace(v.CW):v.frontFace(v.CCW),Ie=rt)}function qi(rt){rt!==Hg?(wt(v.CULL_FACE),rt!==Je&&(rt===rd?v.cullFace(v.BACK):rt===jg?v.cullFace(v.FRONT):v.cullFace(v.FRONT_AND_BACK))):e0(v.CULL_FACE),Je=rt}function wn(rt){rt!==ft&&(ct&&v.lineWidth(rt),ft=rt)}function N0(rt,S0,d0){rt?(wt(v.POLYGON_OFFSET_FILL),(yt!==S0||Et!==d0)&&(v.polygonOffset(S0,d0),yt=S0,Et=d0)):e0(v.POLYGON_OFFSET_FILL)}function Bn(rt){rt?wt(v.SCISSOR_TEST):e0(v.SCISSOR_TEST)}function si(rt){rt===void 0&&(rt=v.TEXTURE0+Dt-1),Ht!==rt&&(v.activeTexture(rt),Ht=rt)}function oi(rt,S0,d0){d0===void 0&&(Ht===null?d0=v.TEXTURE0+Dt-1:d0=Ht);let m0=Qt[d0];m0===void 0&&(m0={type:void 0,texture:void 0},Qt[d0]=m0),(m0.type!==rt||m0.texture!==S0)&&(Ht!==d0&&(v.activeTexture(d0),Ht=d0),v.bindTexture(rt,S0||dt[rt]),m0.type=rt,m0.texture=S0)}function Ye(){const rt=Qt[Ht];rt!==void 0&&rt.type!==void 0&&(v.bindTexture(rt.type,null),rt.type=void 0,rt.texture=void 0)}function Pe(){try{v.compressedTexImage2D(...arguments)}catch(rt){rt("WebGLState:",rt)}}function St(){try{v.compressedTexImage3D(...arguments)}catch(rt){rt("WebGLState:",rt)}}function Yt(){try{v.texSubImage2D(...arguments)}catch(rt){rt("WebGLState:",rt)}}function Jt(){try{v.texSubImage3D(...arguments)}catch(rt){rt("WebGLState:",rt)}}function Ut(){try{v.compressedTexSubImage2D(...arguments)}catch(rt){rt("WebGLState:",rt)}}function z0(){try{v.compressedTexSubImage3D(...arguments)}catch(rt){rt("WebGLState:",rt)}}function g0(){try{v.texStorage2D(...arguments)}catch(rt){rt("WebGLState:",rt)}}function ci(){try{v.texStorage3D(...arguments)}catch(rt){rt("WebGLState:",rt)}}function $0(){try{v.texImage2D(...arguments)}catch(rt){rt("WebGLState:",rt)}}function t0(){try{v.texImage3D(...arguments)}catch(rt){rt("WebGLState:",rt)}}function c0(rt){C0.equals(rt)===!1&&(v.scissor(rt.x,rt.y,rt.z,rt.w),C0.copy(rt))}function yi(rt){w0.equals(rt)===!1&&(v.viewport(rt.x,rt.y,rt.z,rt.w),w0.copy(rt))}function li(rt,S0){let d0=P.get(S0);d0===void 0&&(d0=new WeakMap,P.set(S0,d0));let m0=d0.get(rt);m0===void 0&&(m0=v.getUniformBlockIndex(S0,rt.name),d0.set(rt,m0))}function D0(rt,S0){const m0=P.get(S0).get(rt);b.get(S0)!==m0&&(v.uniformBlockBinding(S0,m0,rt.__bindingPointIndex),b.set(S0,m0))}function Si(){v.disable(v.BLEND),v.disable(v.CULL_FACE),v.disable(v.DEPTH_TEST),v.disable(v.POLYGON_OFFSET_FILL),v.disable(v.SCISSOR_TEST),v.disable(v.STENCIL_TEST),v.disable(v.SAMPLE_ALPHA_TO_COVERAGE),v.blendEquation(v.FUNC_ADD),v.blendFunc(v.ONE,v.ZERO),v.blendFuncSeparate(v.ONE,v.ZERO,v.ONE,v.ZERO),v.blendColor(0,0,0,0),v.colorMask(!0,!0,!0,!0),v.clearColor(0,0,0,0),v.depthMask(!0),v.depthFunc(v.LESS),T.setReversed(!1),v.clearDepth(1),v.stencilMask(4294967295),v.stencilFunc(v.ALWAYS,0,4294967295),v.stencilOp(v.KEEP,v.KEEP,v.KEEP),v.clearStencil(0),v.cullFace(v.BACK),v.frontFace(v.CCW),v.polygonOffset(0,0),v.activeTexture(v.TEXTURE0),v.bindFramebuffer(v.FRAMEBUFFER,null),v.bindFramebuffer(v.DRAW_FRAMEBUFFER,null),v.bindFramebuffer(v.READ_FRAMEBUFFER,null),v.useProgram(null),v.lineWidth(1),v.scissor(0,0,v.canvas.width,v.canvas.height),v.viewport(0,0,v.canvas.width,v.canvas.height),G={},Ht=null,Qt={},j={},K=new WeakMap,Q=[],ie=null,ce=!1,ue=null,se=null,Ne=null,De=null,Oe=null,je=null,Be=null,We=new ri(0,0,0),$e=0,Ee=!1,Ie=null,Je=null,ft=null,yt=null,Et=null,C0.set(0,0,v.canvas.width,v.canvas.height),w0.set(0,0,v.canvas.width,v.canvas.height),y.reset(),T.reset(),R.reset()}return{buffers:{color:y,depth:T,stencil:R},enable:wt,disable:e0,bindFramebuffer:B0,drawBuffers:A0,useProgram:Bi,setBlending:Fn,setMaterial:tt,setFlipSided:ki,setCullFace:qi,setLineWidth:wn,setPolygonOffset:N0,setScissorTest:Bn,activeTexture:si,bindTexture:oi,unbindTexture:Ye,compressedTexImage2D:Pe,compressedTexImage3D:St,texImage2D:$0,texImage3D:t0,updateUBOMapping:li,uniformBlockBinding:D0,texStorage2D:g0,texStorage3D:ci,texSubImage2D:Yt,texSubImage3D:Jt,compressedTexSubImage2D:Ut,compressedTexSubImage3D:z0,scissor:c0,viewport:yi,reset:Si}}function ofe(v,r,c,f,p,y,T){const R=r.has("WEBGL_multisampled_render_to_texture")?r.get("WEBGL_multisampled_render_to_texture"):null,b=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),P=new O0,G=new WeakMap;let j;const K=new WeakMap;let Q=!1;try{Q=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ie(Ye,Pe){return Q?new OffscreenCanvas(Ye,Pe):gf("canvas")}function ce(Ye,Pe,St){let Yt=1;const Jt=oi(Ye);if((Jt.width>St||Jt.height>St)&&(Yt=St/Math.max(Jt.width,Jt.height)),Yt<1)if(typeof HTMLImageElement<"u"&&Ye instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Ye instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Ye instanceof ImageBitmap||typeof VideoFrame<"u"&&Ye instanceof VideoFrame){const Ut=Math.floor(Yt*Jt.width),z0=Math.floor(Yt*Jt.height);j===void 0&&(j=ie(Ut,z0));const g0=Pe?ie(Ut,z0):j;return g0.width=Ut,g0.height=z0,g0.getContext("2d").drawImage(Ye,0,0,Ut,z0),jt("WebGLRenderer: Texture has been resized from ("+Jt.width+"x"+Jt.height+") to ("+Ut+"x"+z0+")."),g0}else return"data"in Ye&&jt("WebGLRenderer: Image in DataTexture is too big ("+Jt.width+"x"+Jt.height+")."),Ye;return Ye}function ue(Ye){return Ye.generateMipmaps}function se(Ye){v.generateMipmap(Ye)}function Ne(Ye){return Ye.isWebGLCubeRenderTarget?v.TEXTURE_CUBE_MAP:Ye.isWebGL3DRenderTarget?v.TEXTURE_3D:Ye.isWebGLArrayRenderTarget||Ye.isCompressedArrayTexture?v.TEXTURE_2D_ARRAY:v.TEXTURE_2D}function De(Ye,Pe,St,Yt,Jt=!1){if(Ye!==null){if(v[Ye]!==void 0)return v[Ye];jt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ye+"'")}let Ut=Pe;if(Pe===v.RED&&(St===v.FLOAT&&(Ut=v.R32F),St===v.HALF_FLOAT&&(Ut=v.R16F),St===v.UNSIGNED_BYTE&&(Ut=v.R8)),Pe===v.RED_INTEGER&&(St===v.UNSIGNED_BYTE&&(Ut=v.R8UI),St===v.UNSIGNED_SHORT&&(Ut=v.R16UI),St===v.UNSIGNED_INT&&(Ut=v.R32UI),St===v.BYTE&&(Ut=v.R8I),St===v.SHORT&&(Ut=v.R16I),St===v.INT&&(Ut=v.R32I)),Pe===v.RG&&(St===v.FLOAT&&(Ut=v.RG32F),St===v.HALF_FLOAT&&(Ut=v.RG16F),St===v.UNSIGNED_BYTE&&(Ut=v.RG8)),Pe===v.RG_INTEGER&&(St===v.UNSIGNED_BYTE&&(Ut=v.RG8UI),St===v.UNSIGNED_SHORT&&(Ut=v.RG16UI),St===v.UNSIGNED_INT&&(Ut=v.RG32UI),St===v.BYTE&&(Ut=v.RG8I),St===v.SHORT&&(Ut=v.RG16I),St===v.INT&&(Ut=v.RG32I)),Pe===v.RGB_INTEGER&&(St===v.UNSIGNED_BYTE&&(Ut=v.RGB8UI),St===v.UNSIGNED_SHORT&&(Ut=v.RGB16UI),St===v.UNSIGNED_INT&&(Ut=v.RGB32UI),St===v.BYTE&&(Ut=v.RGB8I),St===v.SHORT&&(Ut=v.RGB16I),St===v.INT&&(Ut=v.RGB32I)),Pe===v.RGBA_INTEGER&&(St===v.UNSIGNED_BYTE&&(Ut=v.RGBA8UI),St===v.UNSIGNED_SHORT&&(Ut=v.RGBA16UI),St===v.UNSIGNED_INT&&(Ut=v.RGBA32UI),St===v.BYTE&&(Ut=v.RGBA8I),St===v.SHORT&&(Ut=v.RGBA16I),St===v.INT&&(Ut=v.RGBA32I)),Pe===v.RGB&&(St===v.UNSIGNED_INT_5_9_9_9_REV&&(Ut=v.RGB9_E5),St===v.UNSIGNED_INT_10F_11F_11F_REV&&(Ut=v.R11F_G11F_B10F)),Pe===v.RGBA){const z0=Jt?Ol:pi.getTransfer(Yt);St===v.FLOAT&&(Ut=v.RGBA32F),St===v.HALF_FLOAT&&(Ut=v.RGBA16F),St===v.UNSIGNED_BYTE&&(Ut=z0===b0?v.SRGB8_ALPHA8:v.RGBA8),St===v.UNSIGNED_SHORT_4_4_4_4&&(Ut=v.RGBA4),St===v.UNSIGNED_SHORT_5_5_5_1&&(Ut=v.RGB5_A1)}return(Ut===v.R16F||Ut===v.R32F||Ut===v.RG16F||Ut===v.RG32F||Ut===v.RGBA16F||Ut===v.RGBA32F)&&r.get("EXT_color_buffer_float"),Ut}function Oe(Ye,Pe){let St;return Ye?Pe===null||Pe===Kn||Pe===Bs?St=v.DEPTH24_STENCIL8:Pe===P2?St=v.DEPTH32F_STENCIL8:Pe===xo&&(St=v.DEPTH24_STENCIL8,jt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Pe===null||Pe===Kn||Pe===Bs?St=v.DEPTH_COMPONENT24:Pe===P2?St=v.DEPTH_COMPONENT32F:Pe===xo&&(St=v.DEPTH_COMPONENT16),St}function je(Ye,Pe){return ue(Ye)===!0||Ye.isFramebufferTexture&&Ye.minFilter!==r2&&Ye.minFilter!==s2?Math.log2(Math.max(Pe.width,Pe.height))+1:Ye.mipmaps!==void 0&&Ye.mipmaps.length>0?Ye.mipmaps.length:Ye.isCompressedTexture&&Array.isArray(Ye.image)?Pe.mipmaps.length:1}function Be(Ye){const Pe=Ye.target;Pe.removeEventListener("dispose",Be),$e(Pe),Pe.isVideoTexture&&G.delete(Pe)}function We(Ye){const Pe=Ye.target;Pe.removeEventListener("dispose",We),Ie(Pe)}function $e(Ye){const Pe=f.get(Ye);if(Pe.__webglInit===void 0)return;const St=Ye.source,Yt=K.get(St);if(Yt){const Jt=Yt[Pe.__cacheKey];Jt.usedTimes--,Jt.usedTimes===0&&Ee(Ye),Object.keys(Yt).length===0&&K.delete(St)}f.remove(Ye)}function Ee(Ye){const Pe=f.get(Ye);v.deleteTexture(Pe.__webglTexture);const St=Ye.source,Yt=K.get(St);delete Yt[Pe.__cacheKey],T.memory.textures--}function Ie(Ye){const Pe=f.get(Ye);if(Ye.depthTexture&&(Ye.depthTexture.dispose(),f.remove(Ye.depthTexture)),Ye.isWebGLCubeRenderTarget)for(let Yt=0;Yt<6;Yt++){if(Array.isArray(Pe.__webglFramebuffer[Yt]))for(let Jt=0;Jt<Pe.__webglFramebuffer[Yt].length;Jt++)v.deleteFramebuffer(Pe.__webglFramebuffer[Yt][Jt]);else v.deleteFramebuffer(Pe.__webglFramebuffer[Yt]);Pe.__webglDepthbuffer&&v.deleteRenderbuffer(Pe.__webglDepthbuffer[Yt])}else{if(Array.isArray(Pe.__webglFramebuffer))for(let Yt=0;Yt<Pe.__webglFramebuffer.length;Yt++)v.deleteFramebuffer(Pe.__webglFramebuffer[Yt]);else v.deleteFramebuffer(Pe.__webglFramebuffer);if(Pe.__webglDepthbuffer&&v.deleteRenderbuffer(Pe.__webglDepthbuffer),Pe.__webglMultisampledFramebuffer&&v.deleteFramebuffer(Pe.__webglMultisampledFramebuffer),Pe.__webglColorRenderbuffer)for(let Yt=0;Yt<Pe.__webglColorRenderbuffer.length;Yt++)Pe.__webglColorRenderbuffer[Yt]&&v.deleteRenderbuffer(Pe.__webglColorRenderbuffer[Yt]);Pe.__webglDepthRenderbuffer&&v.deleteRenderbuffer(Pe.__webglDepthRenderbuffer)}const St=Ye.textures;for(let Yt=0,Jt=St.length;Yt<Jt;Yt++){const Ut=f.get(St[Yt]);Ut.__webglTexture&&(v.deleteTexture(Ut.__webglTexture),T.memory.textures--),f.remove(St[Yt])}f.remove(Ye)}let Je=0;function ft(){Je=0}function yt(){const Ye=Je;return Ye>=p.maxTextures&&jt("WebGLTextures: Trying to use "+Ye+" texture units while this GPU supports only "+p.maxTextures),Je+=1,Ye}function Et(Ye){const Pe=[];return Pe.push(Ye.wrapS),Pe.push(Ye.wrapT),Pe.push(Ye.wrapR||0),Pe.push(Ye.magFilter),Pe.push(Ye.minFilter),Pe.push(Ye.anisotropy),Pe.push(Ye.internalFormat),Pe.push(Ye.format),Pe.push(Ye.type),Pe.push(Ye.generateMipmaps),Pe.push(Ye.premultiplyAlpha),Pe.push(Ye.flipY),Pe.push(Ye.unpackAlignment),Pe.push(Ye.colorSpace),Pe.join()}function Dt(Ye,Pe){const St=f.get(Ye);if(Ye.isVideoTexture&&Bn(Ye),Ye.isRenderTargetTexture===!1&&Ye.isExternalTexture!==!0&&Ye.version>0&&St.__version!==Ye.version){const Yt=Ye.image;if(Yt===null)jt("WebGLRenderer: Texture marked for update but no image data found.");else if(Yt.complete===!1)jt("WebGLRenderer: Texture marked for update but image is incomplete");else{dt(St,Ye,Pe);return}}else Ye.isExternalTexture&&(St.__webglTexture=Ye.sourceTexture?Ye.sourceTexture:null);c.bindTexture(v.TEXTURE_2D,St.__webglTexture,v.TEXTURE0+Pe)}function ct(Ye,Pe){const St=f.get(Ye);if(Ye.isRenderTargetTexture===!1&&Ye.version>0&&St.__version!==Ye.version){dt(St,Ye,Pe);return}else Ye.isExternalTexture&&(St.__webglTexture=Ye.sourceTexture?Ye.sourceTexture:null);c.bindTexture(v.TEXTURE_2D_ARRAY,St.__webglTexture,v.TEXTURE0+Pe)}function Wt(Ye,Pe){const St=f.get(Ye);if(Ye.isRenderTargetTexture===!1&&Ye.version>0&&St.__version!==Ye.version){dt(St,Ye,Pe);return}c.bindTexture(v.TEXTURE_3D,St.__webglTexture,v.TEXTURE0+Pe)}function vt(Ye,Pe){const St=f.get(Ye);if(Ye.version>0&&St.__version!==Ye.version){wt(St,Ye,Pe);return}c.bindTexture(v.TEXTURE_CUBE_MAP,St.__webglTexture,v.TEXTURE0+Pe)}const Ht={[ks]:v.REPEAT,[Cr]:v.CLAMP_TO_EDGE,[tc]:v.MIRRORED_REPEAT},Qt={[r2]:v.NEAREST,[zd]:v.NEAREST_MIPMAP_NEAREST,[E1]:v.NEAREST_MIPMAP_LINEAR,[s2]:v.LINEAR,[ol]:v.LINEAR_MIPMAP_NEAREST,[Vr]:v.LINEAR_MIPMAP_LINEAR},a0={[Hd]:v.NEVER,[Yd]:v.ALWAYS,[P_]:v.LESS,[L_]:v.LEQUAL,[jd]:v.EQUAL,[$d]:v.GEQUAL,[qd]:v.GREATER,[Xd]:v.NOTEQUAL};function G0(Ye,Pe){if(Pe.type===P2&&r.has("OES_texture_float_linear")===!1&&(Pe.magFilter===s2||Pe.magFilter===ol||Pe.magFilter===E1||Pe.magFilter===Vr||Pe.minFilter===s2||Pe.minFilter===ol||Pe.minFilter===E1||Pe.minFilter===Vr)&&jt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),v.texParameteri(Ye,v.TEXTURE_WRAP_S,Ht[Pe.wrapS]),v.texParameteri(Ye,v.TEXTURE_WRAP_T,Ht[Pe.wrapT]),(Ye===v.TEXTURE_3D||Ye===v.TEXTURE_2D_ARRAY)&&v.texParameteri(Ye,v.TEXTURE_WRAP_R,Ht[Pe.wrapR]),v.texParameteri(Ye,v.TEXTURE_MAG_FILTER,Qt[Pe.magFilter]),v.texParameteri(Ye,v.TEXTURE_MIN_FILTER,Qt[Pe.minFilter]),Pe.compareFunction&&(v.texParameteri(Ye,v.TEXTURE_COMPARE_MODE,v.COMPARE_REF_TO_TEXTURE),v.texParameteri(Ye,v.TEXTURE_COMPARE_FUNC,a0[Pe.compareFunction])),r.has("EXT_texture_filter_anisotropic")===!0){if(Pe.magFilter===r2||Pe.minFilter!==E1&&Pe.minFilter!==Vr||Pe.type===P2&&r.has("OES_texture_float_linear")===!1)return;if(Pe.anisotropy>1||f.get(Pe).__currentAnisotropy){const St=r.get("EXT_texture_filter_anisotropic");v.texParameterf(Ye,St.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Pe.anisotropy,p.getMaxAnisotropy())),f.get(Pe).__currentAnisotropy=Pe.anisotropy}}}function C0(Ye,Pe){let St=!1;Ye.__webglInit===void 0&&(Ye.__webglInit=!0,Pe.addEventListener("dispose",Be));const Yt=Pe.source;let Jt=K.get(Yt);Jt===void 0&&(Jt={},K.set(Yt,Jt));const Ut=Et(Pe);if(Ut!==Ye.__cacheKey){Jt[Ut]===void 0&&(Jt[Ut]={texture:v.createTexture(),usedTimes:0},T.memory.textures++,St=!0),Jt[Ut].usedTimes++;const z0=Jt[Ye.__cacheKey];z0!==void 0&&(Jt[Ye.__cacheKey].usedTimes--,z0.usedTimes===0&&Ee(Pe)),Ye.__cacheKey=Ut,Ye.__webglTexture=Jt[Ut].texture}return St}function w0(Ye,Pe,St){return Math.floor(Math.floor(Ye/St)/Pe)}function y0(Ye,Pe,St,Yt){const Ut=Ye.updateRanges;if(Ut.length===0)c.texSubImage2D(v.TEXTURE_2D,0,0,0,Pe.width,Pe.height,St,Yt,Pe.data);else{Ut.sort((t0,c0)=>t0.start-c0.start);let z0=0;for(let t0=1;t0<Ut.length;t0++){const c0=Ut[z0],yi=Ut[t0],li=c0.start+c0.count,D0=w0(yi.start,Pe.width,4),Si=w0(c0.start,Pe.width,4);yi.start<=li+1&&D0===Si&&w0(yi.start+yi.count-1,Pe.width,4)===D0?c0.count=Math.max(c0.count,yi.start+yi.count-c0.start):(++z0,Ut[z0]=yi)}Ut.length=z0+1;const g0=v.getParameter(v.UNPACK_ROW_LENGTH),ci=v.getParameter(v.UNPACK_SKIP_PIXELS),$0=v.getParameter(v.UNPACK_SKIP_ROWS);v.pixelStorei(v.UNPACK_ROW_LENGTH,Pe.width);for(let t0=0,c0=Ut.length;t0<c0;t0++){const yi=Ut[t0],li=Math.floor(yi.start/4),D0=Math.ceil(yi.count/4),Si=li%Pe.width,rt=Math.floor(li/Pe.width),S0=D0,d0=1;v.pixelStorei(v.UNPACK_SKIP_PIXELS,Si),v.pixelStorei(v.UNPACK_SKIP_ROWS,rt),c.texSubImage2D(v.TEXTURE_2D,0,Si,rt,S0,d0,St,Yt,Pe.data)}Ye.clearUpdateRanges(),v.pixelStorei(v.UNPACK_ROW_LENGTH,g0),v.pixelStorei(v.UNPACK_SKIP_PIXELS,ci),v.pixelStorei(v.UNPACK_SKIP_ROWS,$0)}}function dt(Ye,Pe,St){let Yt=v.TEXTURE_2D;(Pe.isDataArrayTexture||Pe.isCompressedArrayTexture)&&(Yt=v.TEXTURE_2D_ARRAY),Pe.isData3DTexture&&(Yt=v.TEXTURE_3D);const Jt=C0(Ye,Pe),Ut=Pe.source;c.bindTexture(Yt,Ye.__webglTexture,v.TEXTURE0+St);const z0=f.get(Ut);if(Ut.version!==z0.__version||Jt===!0){c.activeTexture(v.TEXTURE0+St);const g0=pi.getPrimaries(pi.workingColorSpace),ci=Pe.colorSpace===vs?null:pi.getPrimaries(Pe.colorSpace),$0=Pe.colorSpace===vs||g0===ci?v.NONE:v.BROWSER_DEFAULT_WEBGL;v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,Pe.flipY),v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Pe.premultiplyAlpha),v.pixelStorei(v.UNPACK_ALIGNMENT,Pe.unpackAlignment),v.pixelStorei(v.UNPACK_COLORSPACE_CONVERSION_WEBGL,$0);let t0=ce(Pe.image,!1,p.maxTextureSize);t0=si(Pe,t0);const c0=y.convert(Pe.format,Pe.colorSpace),yi=y.convert(Pe.type);let li=De(Pe.internalFormat,c0,yi,Pe.colorSpace,Pe.isVideoTexture);G0(Yt,Pe);let D0;const Si=Pe.mipmaps,rt=Pe.isVideoTexture!==!0,S0=z0.__version===void 0||Jt===!0,d0=Ut.dataReady,m0=je(Pe,t0);if(Pe.isDepthTexture)li=Oe(Pe.format===Os,Pe.type),S0&&(rt?c.texStorage2D(v.TEXTURE_2D,1,li,t0.width,t0.height):c.texImage2D(v.TEXTURE_2D,0,li,t0.width,t0.height,0,c0,yi,null));else if(Pe.isDataTexture)if(Si.length>0){rt&&S0&&c.texStorage2D(v.TEXTURE_2D,m0,li,Si[0].width,Si[0].height);for(let s0=0,Zt=Si.length;s0<Zt;s0++)D0=Si[s0],rt?d0&&c.texSubImage2D(v.TEXTURE_2D,s0,0,0,D0.width,D0.height,c0,yi,D0.data):c.texImage2D(v.TEXTURE_2D,s0,li,D0.width,D0.height,0,c0,yi,D0.data);Pe.generateMipmaps=!1}else rt?(S0&&c.texStorage2D(v.TEXTURE_2D,m0,li,t0.width,t0.height),d0&&y0(Pe,t0,c0,yi)):c.texImage2D(v.TEXTURE_2D,0,li,t0.width,t0.height,0,c0,yi,t0.data);else if(Pe.isCompressedTexture)if(Pe.isCompressedArrayTexture){rt&&S0&&c.texStorage3D(v.TEXTURE_2D_ARRAY,m0,li,Si[0].width,Si[0].height,t0.depth);for(let s0=0,Zt=Si.length;s0<Zt;s0++)if(D0=Si[s0],Pe.format!==R2)if(c0!==null)if(rt){if(d0)if(Pe.layerUpdates.size>0){const W0=fd(D0.width,D0.height,Pe.format,Pe.type);for(const Ai of Pe.layerUpdates){const yn=D0.data.subarray(Ai*W0/D0.data.BYTES_PER_ELEMENT,(Ai+1)*W0/D0.data.BYTES_PER_ELEMENT);c.compressedTexSubImage3D(v.TEXTURE_2D_ARRAY,s0,0,0,Ai,D0.width,D0.height,1,c0,yn)}Pe.clearLayerUpdates()}else c.compressedTexSubImage3D(v.TEXTURE_2D_ARRAY,s0,0,0,0,D0.width,D0.height,t0.depth,c0,D0.data)}else c.compressedTexImage3D(v.TEXTURE_2D_ARRAY,s0,li,D0.width,D0.height,t0.depth,0,D0.data,0,0);else jt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else rt?d0&&c.texSubImage3D(v.TEXTURE_2D_ARRAY,s0,0,0,0,D0.width,D0.height,t0.depth,c0,yi,D0.data):c.texImage3D(v.TEXTURE_2D_ARRAY,s0,li,D0.width,D0.height,t0.depth,0,c0,yi,D0.data)}else{rt&&S0&&c.texStorage2D(v.TEXTURE_2D,m0,li,Si[0].width,Si[0].height);for(let s0=0,Zt=Si.length;s0<Zt;s0++)D0=Si[s0],Pe.format!==R2?c0!==null?rt?d0&&c.compressedTexSubImage2D(v.TEXTURE_2D,s0,0,0,D0.width,D0.height,c0,D0.data):c.compressedTexImage2D(v.TEXTURE_2D,s0,li,D0.width,D0.height,0,D0.data):jt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):rt?d0&&c.texSubImage2D(v.TEXTURE_2D,s0,0,0,D0.width,D0.height,c0,yi,D0.data):c.texImage2D(v.TEXTURE_2D,s0,li,D0.width,D0.height,0,c0,yi,D0.data)}else if(Pe.isDataArrayTexture)if(rt){if(S0&&c.texStorage3D(v.TEXTURE_2D_ARRAY,m0,li,t0.width,t0.height,t0.depth),d0)if(Pe.layerUpdates.size>0){const s0=fd(t0.width,t0.height,Pe.format,Pe.type);for(const Zt of Pe.layerUpdates){const W0=t0.data.subarray(Zt*s0/t0.data.BYTES_PER_ELEMENT,(Zt+1)*s0/t0.data.BYTES_PER_ELEMENT);c.texSubImage3D(v.TEXTURE_2D_ARRAY,0,0,0,Zt,t0.width,t0.height,1,c0,yi,W0)}Pe.clearLayerUpdates()}else c.texSubImage3D(v.TEXTURE_2D_ARRAY,0,0,0,0,t0.width,t0.height,t0.depth,c0,yi,t0.data)}else c.texImage3D(v.TEXTURE_2D_ARRAY,0,li,t0.width,t0.height,t0.depth,0,c0,yi,t0.data);else if(Pe.isData3DTexture)rt?(S0&&c.texStorage3D(v.TEXTURE_3D,m0,li,t0.width,t0.height,t0.depth),d0&&c.texSubImage3D(v.TEXTURE_3D,0,0,0,0,t0.width,t0.height,t0.depth,c0,yi,t0.data)):c.texImage3D(v.TEXTURE_3D,0,li,t0.width,t0.height,t0.depth,0,c0,yi,t0.data);else if(Pe.isFramebufferTexture){if(S0)if(rt)c.texStorage2D(v.TEXTURE_2D,m0,li,t0.width,t0.height);else{let s0=t0.width,Zt=t0.height;for(let W0=0;W0<m0;W0++)c.texImage2D(v.TEXTURE_2D,W0,li,s0,Zt,0,c0,yi,null),s0>>=1,Zt>>=1}}else if(Si.length>0){if(rt&&S0){const s0=oi(Si[0]);c.texStorage2D(v.TEXTURE_2D,m0,li,s0.width,s0.height)}for(let s0=0,Zt=Si.length;s0<Zt;s0++)D0=Si[s0],rt?d0&&c.texSubImage2D(v.TEXTURE_2D,s0,0,0,c0,yi,D0):c.texImage2D(v.TEXTURE_2D,s0,li,c0,yi,D0);Pe.generateMipmaps=!1}else if(rt){if(S0){const s0=oi(t0);c.texStorage2D(v.TEXTURE_2D,m0,li,s0.width,s0.height)}d0&&c.texSubImage2D(v.TEXTURE_2D,0,0,0,c0,yi,t0)}else c.texImage2D(v.TEXTURE_2D,0,li,c0,yi,t0);ue(Pe)&&se(Yt),z0.__version=Ut.version,Pe.onUpdate&&Pe.onUpdate(Pe)}Ye.__version=Pe.version}function wt(Ye,Pe,St){if(Pe.image.length!==6)return;const Yt=C0(Ye,Pe),Jt=Pe.source;c.bindTexture(v.TEXTURE_CUBE_MAP,Ye.__webglTexture,v.TEXTURE0+St);const Ut=f.get(Jt);if(Jt.version!==Ut.__version||Yt===!0){c.activeTexture(v.TEXTURE0+St);const z0=pi.getPrimaries(pi.workingColorSpace),g0=Pe.colorSpace===vs?null:pi.getPrimaries(Pe.colorSpace),ci=Pe.colorSpace===vs||z0===g0?v.NONE:v.BROWSER_DEFAULT_WEBGL;v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,Pe.flipY),v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Pe.premultiplyAlpha),v.pixelStorei(v.UNPACK_ALIGNMENT,Pe.unpackAlignment),v.pixelStorei(v.UNPACK_COLORSPACE_CONVERSION_WEBGL,ci);const $0=Pe.isCompressedTexture||Pe.image[0].isCompressedTexture,t0=Pe.image[0]&&Pe.image[0].isDataTexture,c0=[];for(let Zt=0;Zt<6;Zt++)!$0&&!t0?c0[Zt]=ce(Pe.image[Zt],!0,p.maxCubemapSize):c0[Zt]=t0?Pe.image[Zt].image:Pe.image[Zt],c0[Zt]=si(Pe,c0[Zt]);const yi=c0[0],li=y.convert(Pe.format,Pe.colorSpace),D0=y.convert(Pe.type),Si=De(Pe.internalFormat,li,D0,Pe.colorSpace),rt=Pe.isVideoTexture!==!0,S0=Ut.__version===void 0||Yt===!0,d0=Jt.dataReady;let m0=je(Pe,yi);G0(v.TEXTURE_CUBE_MAP,Pe);let s0;if($0){rt&&S0&&c.texStorage2D(v.TEXTURE_CUBE_MAP,m0,Si,yi.width,yi.height);for(let Zt=0;Zt<6;Zt++){s0=c0[Zt].mipmaps;for(let W0=0;W0<s0.length;W0++){const Ai=s0[W0];Pe.format!==R2?li!==null?rt?d0&&c.compressedTexSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,W0,0,0,Ai.width,Ai.height,li,Ai.data):c.compressedTexImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,W0,Si,Ai.width,Ai.height,0,Ai.data):jt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):rt?d0&&c.texSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,W0,0,0,Ai.width,Ai.height,li,D0,Ai.data):c.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,W0,Si,Ai.width,Ai.height,0,li,D0,Ai.data)}}}else{if(s0=Pe.mipmaps,rt&&S0){s0.length>0&&m0++;const Zt=oi(c0[0]);c.texStorage2D(v.TEXTURE_CUBE_MAP,m0,Si,Zt.width,Zt.height)}for(let Zt=0;Zt<6;Zt++)if(t0){rt?d0&&c.texSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,0,0,0,c0[Zt].width,c0[Zt].height,li,D0,c0[Zt].data):c.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,0,Si,c0[Zt].width,c0[Zt].height,0,li,D0,c0[Zt].data);for(let W0=0;W0<s0.length;W0++){const yn=s0[W0].image[Zt].image;rt?d0&&c.texSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,W0+1,0,0,yn.width,yn.height,li,D0,yn.data):c.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,W0+1,Si,yn.width,yn.height,0,li,D0,yn.data)}}else{rt?d0&&c.texSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,0,0,0,li,D0,c0[Zt]):c.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,0,Si,li,D0,c0[Zt]);for(let W0=0;W0<s0.length;W0++){const Ai=s0[W0];rt?d0&&c.texSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,W0+1,0,0,li,D0,Ai.image[Zt]):c.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,W0+1,Si,li,D0,Ai.image[Zt])}}}ue(Pe)&&se(v.TEXTURE_CUBE_MAP),Ut.__version=Jt.version,Pe.onUpdate&&Pe.onUpdate(Pe)}Ye.__version=Pe.version}function e0(Ye,Pe,St,Yt,Jt,Ut){const z0=y.convert(St.format,St.colorSpace),g0=y.convert(St.type),ci=De(St.internalFormat,z0,g0,St.colorSpace),$0=f.get(Pe),t0=f.get(St);if(t0.__renderTarget=Pe,!$0.__hasExternalTextures){const c0=Math.max(1,Pe.width>>Ut),yi=Math.max(1,Pe.height>>Ut);Jt===v.TEXTURE_3D||Jt===v.TEXTURE_2D_ARRAY?c.texImage3D(Jt,Ut,ci,c0,yi,Pe.depth,0,z0,g0,null):c.texImage2D(Jt,Ut,ci,c0,yi,0,z0,g0,null)}c.bindFramebuffer(v.FRAMEBUFFER,Ye),N0(Pe)?R.framebufferTexture2DMultisampleEXT(v.FRAMEBUFFER,Yt,Jt,t0.__webglTexture,0,wn(Pe)):(Jt===v.TEXTURE_2D||Jt>=v.TEXTURE_CUBE_MAP_POSITIVE_X&&Jt<=v.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&v.framebufferTexture2D(v.FRAMEBUFFER,Yt,Jt,t0.__webglTexture,Ut),c.bindFramebuffer(v.FRAMEBUFFER,null)}function B0(Ye,Pe,St){if(v.bindRenderbuffer(v.RENDERBUFFER,Ye),Pe.depthBuffer){const Yt=Pe.depthTexture,Jt=Yt&&Yt.isDepthTexture?Yt.type:null,Ut=Oe(Pe.stencilBuffer,Jt),z0=Pe.stencilBuffer?v.DEPTH_STENCIL_ATTACHMENT:v.DEPTH_ATTACHMENT,g0=wn(Pe);N0(Pe)?R.renderbufferStorageMultisampleEXT(v.RENDERBUFFER,g0,Ut,Pe.width,Pe.height):St?v.renderbufferStorageMultisample(v.RENDERBUFFER,g0,Ut,Pe.width,Pe.height):v.renderbufferStorage(v.RENDERBUFFER,Ut,Pe.width,Pe.height),v.framebufferRenderbuffer(v.FRAMEBUFFER,z0,v.RENDERBUFFER,Ye)}else{const Yt=Pe.textures;for(let Jt=0;Jt<Yt.length;Jt++){const Ut=Yt[Jt],z0=y.convert(Ut.format,Ut.colorSpace),g0=y.convert(Ut.type),ci=De(Ut.internalFormat,z0,g0,Ut.colorSpace),$0=wn(Pe);St&&N0(Pe)===!1?v.renderbufferStorageMultisample(v.RENDERBUFFER,$0,ci,Pe.width,Pe.height):N0(Pe)?R.renderbufferStorageMultisampleEXT(v.RENDERBUFFER,$0,ci,Pe.width,Pe.height):v.renderbufferStorage(v.RENDERBUFFER,ci,Pe.width,Pe.height)}}v.bindRenderbuffer(v.RENDERBUFFER,null)}function A0(Ye,Pe){if(Pe&&Pe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(c.bindFramebuffer(v.FRAMEBUFFER,Ye),!(Pe.depthTexture&&Pe.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Yt=f.get(Pe.depthTexture);Yt.__renderTarget=Pe,(!Yt.__webglTexture||Pe.depthTexture.image.width!==Pe.width||Pe.depthTexture.image.height!==Pe.height)&&(Pe.depthTexture.image.width=Pe.width,Pe.depthTexture.image.height=Pe.height,Pe.depthTexture.needsUpdate=!0),Dt(Pe.depthTexture,0);const Jt=Yt.__webglTexture,Ut=wn(Pe);if(Pe.depthTexture.format===Us)N0(Pe)?R.framebufferTexture2DMultisampleEXT(v.FRAMEBUFFER,v.DEPTH_ATTACHMENT,v.TEXTURE_2D,Jt,0,Ut):v.framebufferTexture2D(v.FRAMEBUFFER,v.DEPTH_ATTACHMENT,v.TEXTURE_2D,Jt,0);else if(Pe.depthTexture.format===Os)N0(Pe)?R.framebufferTexture2DMultisampleEXT(v.FRAMEBUFFER,v.DEPTH_STENCIL_ATTACHMENT,v.TEXTURE_2D,Jt,0,Ut):v.framebufferTexture2D(v.FRAMEBUFFER,v.DEPTH_STENCIL_ATTACHMENT,v.TEXTURE_2D,Jt,0);else throw new Error("Unknown depthTexture format")}function Bi(Ye){const Pe=f.get(Ye),St=Ye.isWebGLCubeRenderTarget===!0;if(Pe.__boundDepthTexture!==Ye.depthTexture){const Yt=Ye.depthTexture;if(Pe.__depthDisposeCallback&&Pe.__depthDisposeCallback(),Yt){const Jt=()=>{delete Pe.__boundDepthTexture,delete Pe.__depthDisposeCallback,Yt.removeEventListener("dispose",Jt)};Yt.addEventListener("dispose",Jt),Pe.__depthDisposeCallback=Jt}Pe.__boundDepthTexture=Yt}if(Ye.depthTexture&&!Pe.__autoAllocateDepthBuffer){if(St)throw new Error("target.depthTexture not supported in Cube render targets");const Yt=Ye.texture.mipmaps;Yt&&Yt.length>0?A0(Pe.__webglFramebuffer[0],Ye):A0(Pe.__webglFramebuffer,Ye)}else if(St){Pe.__webglDepthbuffer=[];for(let Yt=0;Yt<6;Yt++)if(c.bindFramebuffer(v.FRAMEBUFFER,Pe.__webglFramebuffer[Yt]),Pe.__webglDepthbuffer[Yt]===void 0)Pe.__webglDepthbuffer[Yt]=v.createRenderbuffer(),B0(Pe.__webglDepthbuffer[Yt],Ye,!1);else{const Jt=Ye.stencilBuffer?v.DEPTH_STENCIL_ATTACHMENT:v.DEPTH_ATTACHMENT,Ut=Pe.__webglDepthbuffer[Yt];v.bindRenderbuffer(v.RENDERBUFFER,Ut),v.framebufferRenderbuffer(v.FRAMEBUFFER,Jt,v.RENDERBUFFER,Ut)}}else{const Yt=Ye.texture.mipmaps;if(Yt&&Yt.length>0?c.bindFramebuffer(v.FRAMEBUFFER,Pe.__webglFramebuffer[0]):c.bindFramebuffer(v.FRAMEBUFFER,Pe.__webglFramebuffer),Pe.__webglDepthbuffer===void 0)Pe.__webglDepthbuffer=v.createRenderbuffer(),B0(Pe.__webglDepthbuffer,Ye,!1);else{const Jt=Ye.stencilBuffer?v.DEPTH_STENCIL_ATTACHMENT:v.DEPTH_ATTACHMENT,Ut=Pe.__webglDepthbuffer;v.bindRenderbuffer(v.RENDERBUFFER,Ut),v.framebufferRenderbuffer(v.FRAMEBUFFER,Jt,v.RENDERBUFFER,Ut)}}c.bindFramebuffer(v.FRAMEBUFFER,null)}function A2(Ye,Pe,St){const Yt=f.get(Ye);Pe!==void 0&&e0(Yt.__webglFramebuffer,Ye,Ye.texture,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,0),St!==void 0&&Bi(Ye)}function ei(Ye){const Pe=Ye.texture,St=f.get(Ye),Yt=f.get(Pe);Ye.addEventListener("dispose",We);const Jt=Ye.textures,Ut=Ye.isWebGLCubeRenderTarget===!0,z0=Jt.length>1;if(z0||(Yt.__webglTexture===void 0&&(Yt.__webglTexture=v.createTexture()),Yt.__version=Pe.version,T.memory.textures++),Ut){St.__webglFramebuffer=[];for(let g0=0;g0<6;g0++)if(Pe.mipmaps&&Pe.mipmaps.length>0){St.__webglFramebuffer[g0]=[];for(let ci=0;ci<Pe.mipmaps.length;ci++)St.__webglFramebuffer[g0][ci]=v.createFramebuffer()}else St.__webglFramebuffer[g0]=v.createFramebuffer()}else{if(Pe.mipmaps&&Pe.mipmaps.length>0){St.__webglFramebuffer=[];for(let g0=0;g0<Pe.mipmaps.length;g0++)St.__webglFramebuffer[g0]=v.createFramebuffer()}else St.__webglFramebuffer=v.createFramebuffer();if(z0)for(let g0=0,ci=Jt.length;g0<ci;g0++){const $0=f.get(Jt[g0]);$0.__webglTexture===void 0&&($0.__webglTexture=v.createTexture(),T.memory.textures++)}if(Ye.samples>0&&N0(Ye)===!1){St.__webglMultisampledFramebuffer=v.createFramebuffer(),St.__webglColorRenderbuffer=[],c.bindFramebuffer(v.FRAMEBUFFER,St.__webglMultisampledFramebuffer);for(let g0=0;g0<Jt.length;g0++){const ci=Jt[g0];St.__webglColorRenderbuffer[g0]=v.createRenderbuffer(),v.bindRenderbuffer(v.RENDERBUFFER,St.__webglColorRenderbuffer[g0]);const $0=y.convert(ci.format,ci.colorSpace),t0=y.convert(ci.type),c0=De(ci.internalFormat,$0,t0,ci.colorSpace,Ye.isXRRenderTarget===!0),yi=wn(Ye);v.renderbufferStorageMultisample(v.RENDERBUFFER,yi,c0,Ye.width,Ye.height),v.framebufferRenderbuffer(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0+g0,v.RENDERBUFFER,St.__webglColorRenderbuffer[g0])}v.bindRenderbuffer(v.RENDERBUFFER,null),Ye.depthBuffer&&(St.__webglDepthRenderbuffer=v.createRenderbuffer(),B0(St.__webglDepthRenderbuffer,Ye,!0)),c.bindFramebuffer(v.FRAMEBUFFER,null)}}if(Ut){c.bindTexture(v.TEXTURE_CUBE_MAP,Yt.__webglTexture),G0(v.TEXTURE_CUBE_MAP,Pe);for(let g0=0;g0<6;g0++)if(Pe.mipmaps&&Pe.mipmaps.length>0)for(let ci=0;ci<Pe.mipmaps.length;ci++)e0(St.__webglFramebuffer[g0][ci],Ye,Pe,v.COLOR_ATTACHMENT0,v.TEXTURE_CUBE_MAP_POSITIVE_X+g0,ci);else e0(St.__webglFramebuffer[g0],Ye,Pe,v.COLOR_ATTACHMENT0,v.TEXTURE_CUBE_MAP_POSITIVE_X+g0,0);ue(Pe)&&se(v.TEXTURE_CUBE_MAP),c.unbindTexture()}else if(z0){for(let g0=0,ci=Jt.length;g0<ci;g0++){const $0=Jt[g0],t0=f.get($0);let c0=v.TEXTURE_2D;(Ye.isWebGL3DRenderTarget||Ye.isWebGLArrayRenderTarget)&&(c0=Ye.isWebGL3DRenderTarget?v.TEXTURE_3D:v.TEXTURE_2D_ARRAY),c.bindTexture(c0,t0.__webglTexture),G0(c0,$0),e0(St.__webglFramebuffer,Ye,$0,v.COLOR_ATTACHMENT0+g0,c0,0),ue($0)&&se(c0)}c.unbindTexture()}else{let g0=v.TEXTURE_2D;if((Ye.isWebGL3DRenderTarget||Ye.isWebGLArrayRenderTarget)&&(g0=Ye.isWebGL3DRenderTarget?v.TEXTURE_3D:v.TEXTURE_2D_ARRAY),c.bindTexture(g0,Yt.__webglTexture),G0(g0,Pe),Pe.mipmaps&&Pe.mipmaps.length>0)for(let ci=0;ci<Pe.mipmaps.length;ci++)e0(St.__webglFramebuffer[ci],Ye,Pe,v.COLOR_ATTACHMENT0,g0,ci);else e0(St.__webglFramebuffer,Ye,Pe,v.COLOR_ATTACHMENT0,g0,0);ue(Pe)&&se(g0),c.unbindTexture()}Ye.depthBuffer&&Bi(Ye)}function Fn(Ye){const Pe=Ye.textures;for(let St=0,Yt=Pe.length;St<Yt;St++){const Jt=Pe[St];if(ue(Jt)){const Ut=Ne(Ye),z0=f.get(Jt).__webglTexture;c.bindTexture(Ut,z0),se(Ut),c.unbindTexture()}}}const tt=[],ki=[];function qi(Ye){if(Ye.samples>0){if(N0(Ye)===!1){const Pe=Ye.textures,St=Ye.width,Yt=Ye.height;let Jt=v.COLOR_BUFFER_BIT;const Ut=Ye.stencilBuffer?v.DEPTH_STENCIL_ATTACHMENT:v.DEPTH_ATTACHMENT,z0=f.get(Ye),g0=Pe.length>1;if(g0)for(let $0=0;$0<Pe.length;$0++)c.bindFramebuffer(v.FRAMEBUFFER,z0.__webglMultisampledFramebuffer),v.framebufferRenderbuffer(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0+$0,v.RENDERBUFFER,null),c.bindFramebuffer(v.FRAMEBUFFER,z0.__webglFramebuffer),v.framebufferTexture2D(v.DRAW_FRAMEBUFFER,v.COLOR_ATTACHMENT0+$0,v.TEXTURE_2D,null,0);c.bindFramebuffer(v.READ_FRAMEBUFFER,z0.__webglMultisampledFramebuffer);const ci=Ye.texture.mipmaps;ci&&ci.length>0?c.bindFramebuffer(v.DRAW_FRAMEBUFFER,z0.__webglFramebuffer[0]):c.bindFramebuffer(v.DRAW_FRAMEBUFFER,z0.__webglFramebuffer);for(let $0=0;$0<Pe.length;$0++){if(Ye.resolveDepthBuffer&&(Ye.depthBuffer&&(Jt|=v.DEPTH_BUFFER_BIT),Ye.stencilBuffer&&Ye.resolveStencilBuffer&&(Jt|=v.STENCIL_BUFFER_BIT)),g0){v.framebufferRenderbuffer(v.READ_FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.RENDERBUFFER,z0.__webglColorRenderbuffer[$0]);const t0=f.get(Pe[$0]).__webglTexture;v.framebufferTexture2D(v.DRAW_FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,t0,0)}v.blitFramebuffer(0,0,St,Yt,0,0,St,Yt,Jt,v.NEAREST),b===!0&&(tt.length=0,ki.length=0,tt.push(v.COLOR_ATTACHMENT0+$0),Ye.depthBuffer&&Ye.resolveDepthBuffer===!1&&(tt.push(Ut),ki.push(Ut),v.invalidateFramebuffer(v.DRAW_FRAMEBUFFER,ki)),v.invalidateFramebuffer(v.READ_FRAMEBUFFER,tt))}if(c.bindFramebuffer(v.READ_FRAMEBUFFER,null),c.bindFramebuffer(v.DRAW_FRAMEBUFFER,null),g0)for(let $0=0;$0<Pe.length;$0++){c.bindFramebuffer(v.FRAMEBUFFER,z0.__webglMultisampledFramebuffer),v.framebufferRenderbuffer(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0+$0,v.RENDERBUFFER,z0.__webglColorRenderbuffer[$0]);const t0=f.get(Pe[$0]).__webglTexture;c.bindFramebuffer(v.FRAMEBUFFER,z0.__webglFramebuffer),v.framebufferTexture2D(v.DRAW_FRAMEBUFFER,v.COLOR_ATTACHMENT0+$0,v.TEXTURE_2D,t0,0)}c.bindFramebuffer(v.DRAW_FRAMEBUFFER,z0.__webglMultisampledFramebuffer)}else if(Ye.depthBuffer&&Ye.resolveDepthBuffer===!1&&b){const Pe=Ye.stencilBuffer?v.DEPTH_STENCIL_ATTACHMENT:v.DEPTH_ATTACHMENT;v.invalidateFramebuffer(v.DRAW_FRAMEBUFFER,[Pe])}}}function wn(Ye){return Math.min(p.maxSamples,Ye.samples)}function N0(Ye){const Pe=f.get(Ye);return Ye.samples>0&&r.has("WEBGL_multisampled_render_to_texture")===!0&&Pe.__useRenderToTexture!==!1}function Bn(Ye){const Pe=T.render.frame;G.get(Ye)!==Pe&&(G.set(Ye,Pe),Ye.update())}function si(Ye,Pe){const St=Ye.colorSpace,Yt=Ye.format,Jt=Ye.type;return Ye.isCompressedTexture===!0||Ye.isVideoTexture===!0||St!==ic&&St!==vs&&(pi.getTransfer(St)===b0?(Yt!==R2||Jt!==M2)&&jt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):i0("WebGLTextures: Unsupported texture color space:",St)),Pe}function oi(Ye){return typeof HTMLImageElement<"u"&&Ye instanceof HTMLImageElement?(P.width=Ye.naturalWidth||Ye.width,P.height=Ye.naturalHeight||Ye.height):typeof VideoFrame<"u"&&Ye instanceof VideoFrame?(P.width=Ye.displayWidth,P.height=Ye.displayHeight):(P.width=Ye.width,P.height=Ye.height),P}this.allocateTextureUnit=yt,this.resetTextureUnits=ft,this.setTexture2D=Dt,this.setTexture2DArray=ct,this.setTexture3D=Wt,this.setTextureCube=vt,this.rebindTextures=A2,this.setupRenderTarget=ei,this.updateRenderTargetMipmap=Fn,this.updateMultisampleRenderTarget=qi,this.setupDepthRenderbuffer=Bi,this.setupFrameBufferTexture=e0,this.useMultisampledRTT=N0}function afe(v,r){function c(f,p=vs){let y;const T=pi.getTransfer(p);if(f===M2)return v.UNSIGNED_BYTE;if(f===b_)return v.UNSIGNED_SHORT_4_4_4_4;if(f===N_)return v.UNSIGNED_SHORT_5_5_5_1;if(f===D_)return v.UNSIGNED_INT_5_9_9_9_REV;if(f===I_)return v.UNSIGNED_INT_10F_11F_11F_REV;if(f===Ya)return v.BYTE;if(f===Ka)return v.SHORT;if(f===xo)return v.UNSIGNED_SHORT;if(f===Tr)return v.INT;if(f===Kn)return v.UNSIGNED_INT;if(f===P2)return v.FLOAT;if(f===Q2)return v.HALF_FLOAT;if(f===Wd)return v.ALPHA;if(f===Ef)return v.RGB;if(f===R2)return v.RGBA;if(f===Us)return v.DEPTH_COMPONENT;if(f===Os)return v.DEPTH_STENCIL;if(f===bf)return v.RED;if(f===Zl)return v.RED_INTEGER;if(f===yo)return v.RG;if(f===Ql)return v.RG_INTEGER;if(f===Jl)return v.RGBA_INTEGER;if(f===oa||f===aa||f===ca||f===la)if(T===b0)if(y=r.get("WEBGL_compressed_texture_s3tc_srgb"),y!==null){if(f===oa)return y.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(f===aa)return y.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(f===ca)return y.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(f===la)return y.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(y=r.get("WEBGL_compressed_texture_s3tc"),y!==null){if(f===oa)return y.COMPRESSED_RGB_S3TC_DXT1_EXT;if(f===aa)return y.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(f===ca)return y.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(f===la)return y.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(f===_f||f===hf||f===df||f===mf)if(y=r.get("WEBGL_compressed_texture_pvrtc"),y!==null){if(f===_f)return y.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(f===hf)return y.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(f===df)return y.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(f===mf)return y.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(f===gl||f===xl||f===yl)if(y=r.get("WEBGL_compressed_texture_etc"),y!==null){if(f===gl||f===xl)return T===b0?y.COMPRESSED_SRGB8_ETC2:y.COMPRESSED_RGB8_ETC2;if(f===yl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:y.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(f===vl||f===Sl||f===Tl||f===Cl||f===wl||f===Ml||f===Rl||f===Al||f===El||f===bl||f===Nl||f===Dl||f===Il||f===Pl)if(y=r.get("WEBGL_compressed_texture_astc"),y!==null){if(f===vl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:y.COMPRESSED_RGBA_ASTC_4x4_KHR;if(f===Sl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:y.COMPRESSED_RGBA_ASTC_5x4_KHR;if(f===Tl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:y.COMPRESSED_RGBA_ASTC_5x5_KHR;if(f===Cl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:y.COMPRESSED_RGBA_ASTC_6x5_KHR;if(f===wl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:y.COMPRESSED_RGBA_ASTC_6x6_KHR;if(f===Ml)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:y.COMPRESSED_RGBA_ASTC_8x5_KHR;if(f===Rl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:y.COMPRESSED_RGBA_ASTC_8x6_KHR;if(f===Al)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:y.COMPRESSED_RGBA_ASTC_8x8_KHR;if(f===El)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:y.COMPRESSED_RGBA_ASTC_10x5_KHR;if(f===bl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:y.COMPRESSED_RGBA_ASTC_10x6_KHR;if(f===Nl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:y.COMPRESSED_RGBA_ASTC_10x8_KHR;if(f===Dl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:y.COMPRESSED_RGBA_ASTC_10x10_KHR;if(f===Il)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:y.COMPRESSED_RGBA_ASTC_12x10_KHR;if(f===Pl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:y.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(f===Ll||f===sd||f===od)if(y=r.get("EXT_texture_compression_bptc"),y!==null){if(f===Ll)return T===b0?y.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:y.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(f===sd)return y.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(f===od)return y.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(f===kl||f===Fl||f===Bl||f===Ul)if(y=r.get("EXT_texture_compression_rgtc"),y!==null){if(f===kl)return y.COMPRESSED_RED_RGTC1_EXT;if(f===Fl)return y.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(f===Bl)return y.COMPRESSED_RED_GREEN_RGTC2_EXT;if(f===Ul)return y.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return f===Bs?v.UNSIGNED_INT_24_8:v[f]!==void 0?v[f]:null}return{convert:c}}const cfe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,lfe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class ufe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(r,c){if(this.texture===null){const f=new _x(r.texture);(r.depthNear!==c.depthNear||r.depthFar!==c.depthFar)&&(this.depthNear=r.depthNear,this.depthFar=r.depthFar),this.texture=f}}getMesh(r){if(this.texture!==null&&this.mesh===null){const c=r.cameras[0].viewport,f=new L1({vertexShader:cfe,fragmentShader:lfe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:c.z},depthHeight:{value:c.w}}});this.mesh=new G2(new kf(20,20),f)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class ffe extends Jo{constructor(r,c){super();const f=this;let p=null,y=1,T=null,R="local-floor",b=1,P=null,G=null,j=null,K=null,Q=null,ie=null;const ce=typeof XRWebGLBinding<"u",ue=new ufe,se={},Ne=c.getContextAttributes();let De=null,Oe=null;const je=[],Be=[],We=new O0;let $e=null;const Ee=new Z2;Ee.viewport=new hi;const Ie=new Z2;Ie.viewport=new hi;const Je=[Ee,Ie],ft=new Sx;let yt=null,Et=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(dt){let wt=je[dt];return wt===void 0&&(wt=new o_,je[dt]=wt),wt.getTargetRaySpace()},this.getControllerGrip=function(dt){let wt=je[dt];return wt===void 0&&(wt=new o_,je[dt]=wt),wt.getGripSpace()},this.getHand=function(dt){let wt=je[dt];return wt===void 0&&(wt=new o_,je[dt]=wt),wt.getHandSpace()};function Dt(dt){const wt=Be.indexOf(dt.inputSource);if(wt===-1)return;const e0=je[wt];e0!==void 0&&(e0.update(dt.inputSource,dt.frame,P||T),e0.dispatchEvent({type:dt.type,data:dt.inputSource}))}function ct(){p.removeEventListener("select",Dt),p.removeEventListener("selectstart",Dt),p.removeEventListener("selectend",Dt),p.removeEventListener("squeeze",Dt),p.removeEventListener("squeezestart",Dt),p.removeEventListener("squeezeend",Dt),p.removeEventListener("end",ct),p.removeEventListener("inputsourceschange",Wt);for(let dt=0;dt<je.length;dt++){const wt=Be[dt];wt!==null&&(Be[dt]=null,je[dt].disconnect(wt))}yt=null,Et=null,ue.reset();for(const dt in se)delete se[dt];r.setRenderTarget(De),Q=null,K=null,j=null,p=null,Oe=null,y0.stop(),f.isPresenting=!1,r.setPixelRatio($e),r.setSize(We.width,We.height,!1),f.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(dt){y=dt,f.isPresenting===!0&&jt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(dt){R=dt,f.isPresenting===!0&&jt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return P||T},this.setReferenceSpace=function(dt){P=dt},this.getBaseLayer=function(){return K!==null?K:Q},this.getBinding=function(){return j===null&&ce&&(j=new XRWebGLBinding(p,c)),j},this.getFrame=function(){return ie},this.getSession=function(){return p},this.setSession=async function(dt){if(p=dt,p!==null){if(De=r.getRenderTarget(),p.addEventListener("select",Dt),p.addEventListener("selectstart",Dt),p.addEventListener("selectend",Dt),p.addEventListener("squeeze",Dt),p.addEventListener("squeezestart",Dt),p.addEventListener("squeezeend",Dt),p.addEventListener("end",ct),p.addEventListener("inputsourceschange",Wt),Ne.xrCompatible!==!0&&await c.makeXRCompatible(),$e=r.getPixelRatio(),r.getSize(We),ce&&"createProjectionLayer"in XRWebGLBinding.prototype){let e0=null,B0=null,A0=null;Ne.depth&&(A0=Ne.stencil?c.DEPTH24_STENCIL8:c.DEPTH_COMPONENT24,e0=Ne.stencil?Os:Us,B0=Ne.stencil?Bs:Kn);const Bi={colorFormat:c.RGBA8,depthFormat:A0,scaleFactor:y};j=this.getBinding(),K=j.createProjectionLayer(Bi),p.updateRenderState({layers:[K]}),r.setPixelRatio(1),r.setSize(K.textureWidth,K.textureHeight,!1),Oe=new rc(K.textureWidth,K.textureHeight,{format:R2,type:M2,depthTexture:new Qs(K.textureWidth,K.textureHeight,B0,void 0,void 0,void 0,void 0,void 0,void 0,e0),stencilBuffer:Ne.stencil,colorSpace:r.outputColorSpace,samples:Ne.antialias?4:0,resolveDepthBuffer:K.ignoreDepthValues===!1,resolveStencilBuffer:K.ignoreDepthValues===!1})}else{const e0={antialias:Ne.antialias,alpha:!0,depth:Ne.depth,stencil:Ne.stencil,framebufferScaleFactor:y};Q=new XRWebGLLayer(p,c,e0),p.updateRenderState({baseLayer:Q}),r.setPixelRatio(1),r.setSize(Q.framebufferWidth,Q.framebufferHeight,!1),Oe=new rc(Q.framebufferWidth,Q.framebufferHeight,{format:R2,type:M2,colorSpace:r.outputColorSpace,stencilBuffer:Ne.stencil,resolveDepthBuffer:Q.ignoreDepthValues===!1,resolveStencilBuffer:Q.ignoreDepthValues===!1})}Oe.isXRRenderTarget=!0,this.setFoveation(b),P=null,T=await p.requestReferenceSpace(R),y0.setContext(p),y0.start(),f.isPresenting=!0,f.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(p!==null)return p.environmentBlendMode},this.getDepthTexture=function(){return ue.getDepthTexture()};function Wt(dt){for(let wt=0;wt<dt.removed.length;wt++){const e0=dt.removed[wt],B0=Be.indexOf(e0);B0>=0&&(Be[B0]=null,je[B0].disconnect(e0))}for(let wt=0;wt<dt.added.length;wt++){const e0=dt.added[wt];let B0=Be.indexOf(e0);if(B0===-1){for(let Bi=0;Bi<je.length;Bi++)if(Bi>=Be.length){Be.push(e0),B0=Bi;break}else if(Be[Bi]===null){Be[Bi]=e0,B0=Bi;break}if(B0===-1)break}const A0=je[B0];A0&&A0.connect(e0)}}const vt=new nt,Ht=new nt;function Qt(dt,wt,e0){vt.setFromMatrixPosition(wt.matrixWorld),Ht.setFromMatrixPosition(e0.matrixWorld);const B0=vt.distanceTo(Ht),A0=wt.projectionMatrix.elements,Bi=e0.projectionMatrix.elements,A2=A0[14]/(A0[10]-1),ei=A0[14]/(A0[10]+1),Fn=(A0[9]+1)/A0[5],tt=(A0[9]-1)/A0[5],ki=(A0[8]-1)/A0[0],qi=(Bi[8]+1)/Bi[0],wn=A2*ki,N0=A2*qi,Bn=B0/(-ki+qi),si=Bn*-ki;if(wt.matrixWorld.decompose(dt.position,dt.quaternion,dt.scale),dt.translateX(si),dt.translateZ(Bn),dt.matrixWorld.compose(dt.position,dt.quaternion,dt.scale),dt.matrixWorldInverse.copy(dt.matrixWorld).invert(),A0[10]===-1)dt.projectionMatrix.copy(wt.projectionMatrix),dt.projectionMatrixInverse.copy(wt.projectionMatrixInverse);else{const oi=A2+Bn,Ye=ei+Bn,Pe=wn-si,St=N0+(B0-si),Yt=Fn*ei/Ye*oi,Jt=tt*ei/Ye*oi;dt.projectionMatrix.makePerspective(Pe,St,Yt,Jt,oi,Ye),dt.projectionMatrixInverse.copy(dt.projectionMatrix).invert()}}function a0(dt,wt){wt===null?dt.matrixWorld.copy(dt.matrix):dt.matrixWorld.multiplyMatrices(wt.matrixWorld,dt.matrix),dt.matrixWorldInverse.copy(dt.matrixWorld).invert()}this.updateCamera=function(dt){if(p===null)return;let wt=dt.near,e0=dt.far;ue.texture!==null&&(ue.depthNear>0&&(wt=ue.depthNear),ue.depthFar>0&&(e0=ue.depthFar)),ft.near=Ie.near=Ee.near=wt,ft.far=Ie.far=Ee.far=e0,(yt!==ft.near||Et!==ft.far)&&(p.updateRenderState({depthNear:ft.near,depthFar:ft.far}),yt=ft.near,Et=ft.far),ft.layers.mask=dt.layers.mask|6,Ee.layers.mask=ft.layers.mask&3,Ie.layers.mask=ft.layers.mask&5;const B0=dt.parent,A0=ft.cameras;a0(ft,B0);for(let Bi=0;Bi<A0.length;Bi++)a0(A0[Bi],B0);A0.length===2?Qt(ft,Ee,Ie):ft.projectionMatrix.copy(Ee.projectionMatrix),G0(dt,ft,B0)};function G0(dt,wt,e0){e0===null?dt.matrix.copy(wt.matrixWorld):(dt.matrix.copy(e0.matrixWorld),dt.matrix.invert(),dt.matrix.multiply(wt.matrixWorld)),dt.matrix.decompose(dt.position,dt.quaternion,dt.scale),dt.updateMatrixWorld(!0),dt.projectionMatrix.copy(wt.projectionMatrix),dt.projectionMatrixInverse.copy(wt.projectionMatrixInverse),dt.isPerspectiveCamera&&(dt.fov=nc*2*Math.atan(1/dt.projectionMatrix.elements[5]),dt.zoom=1)}this.getCamera=function(){return ft},this.getFoveation=function(){if(!(K===null&&Q===null))return b},this.setFoveation=function(dt){b=dt,K!==null&&(K.fixedFoveation=dt),Q!==null&&Q.fixedFoveation!==void 0&&(Q.fixedFoveation=dt)},this.hasDepthSensing=function(){return ue.texture!==null},this.getDepthSensingMesh=function(){return ue.getMesh(ft)},this.getCameraTexture=function(dt){return se[dt]};let C0=null;function w0(dt,wt){if(G=wt.getViewerPose(P||T),ie=wt,G!==null){const e0=G.views;Q!==null&&(r.setRenderTargetFramebuffer(Oe,Q.framebuffer),r.setRenderTarget(Oe));let B0=!1;e0.length!==ft.cameras.length&&(ft.cameras.length=0,B0=!0);for(let ei=0;ei<e0.length;ei++){const Fn=e0[ei];let tt=null;if(Q!==null)tt=Q.getViewport(Fn);else{const qi=j.getViewSubImage(K,Fn);tt=qi.viewport,ei===0&&(r.setRenderTargetTextures(Oe,qi.colorTexture,qi.depthStencilTexture),r.setRenderTarget(Oe))}let ki=Je[ei];ki===void 0&&(ki=new Z2,ki.layers.enable(ei),ki.viewport=new hi,Je[ei]=ki),ki.matrix.fromArray(Fn.transform.matrix),ki.matrix.decompose(ki.position,ki.quaternion,ki.scale),ki.projectionMatrix.fromArray(Fn.projectionMatrix),ki.projectionMatrixInverse.copy(ki.projectionMatrix).invert(),ki.viewport.set(tt.x,tt.y,tt.width,tt.height),ei===0&&(ft.matrix.copy(ki.matrix),ft.matrix.decompose(ft.position,ft.quaternion,ft.scale)),B0===!0&&ft.cameras.push(ki)}const A0=p.enabledFeatures;if(A0&&A0.includes("depth-sensing")&&p.depthUsage=="gpu-optimized"&&ce){j=f.getBinding();const ei=j.getDepthInformation(e0[0]);ei&&ei.isValid&&ei.texture&&ue.init(ei,p.renderState)}if(A0&&A0.includes("camera-access")&&ce){r.state.unbindTexture(),j=f.getBinding();for(let ei=0;ei<e0.length;ei++){const Fn=e0[ei].camera;if(Fn){let tt=se[Fn];tt||(tt=new _x,se[Fn]=tt);const ki=j.getCameraImage(Fn);tt.sourceTexture=ki}}}}for(let e0=0;e0<je.length;e0++){const B0=Be[e0],A0=je[e0];B0!==null&&A0!==void 0&&A0.update(B0,wt,P||T)}C0&&C0(dt,wt),wt.detectedPlanes&&f.dispatchEvent({type:"planesdetected",data:wt}),ie=null}const y0=new Tx;y0.setAnimationLoop(w0),this.setAnimationLoop=function(dt){C0=dt},this.dispose=function(){}}}const La=new Wr,pfe=new wi;function _fe(v,r){function c(ue,se){ue.matrixAutoUpdate===!0&&ue.updateMatrix(),se.value.copy(ue.matrix)}function f(ue,se){se.color.getRGB(ue.fogColor.value,ox(v)),se.isFog?(ue.fogNear.value=se.near,ue.fogFar.value=se.far):se.isFogExp2&&(ue.fogDensity.value=se.density)}function p(ue,se,Ne,De,Oe){se.isMeshBasicMaterial||se.isMeshLambertMaterial?y(ue,se):se.isMeshToonMaterial?(y(ue,se),j(ue,se)):se.isMeshPhongMaterial?(y(ue,se),G(ue,se)):se.isMeshStandardMaterial?(y(ue,se),K(ue,se),se.isMeshPhysicalMaterial&&Q(ue,se,Oe)):se.isMeshMatcapMaterial?(y(ue,se),ie(ue,se)):se.isMeshDepthMaterial?y(ue,se):se.isMeshDistanceMaterial?(y(ue,se),ce(ue,se)):se.isMeshNormalMaterial?y(ue,se):se.isLineBasicMaterial?(T(ue,se),se.isLineDashedMaterial&&R(ue,se)):se.isPointsMaterial?b(ue,se,Ne,De):se.isSpriteMaterial?P(ue,se):se.isShadowMaterial?(ue.color.value.copy(se.color),ue.opacity.value=se.opacity):se.isShaderMaterial&&(se.uniformsNeedUpdate=!1)}function y(ue,se){ue.opacity.value=se.opacity,se.color&&ue.diffuse.value.copy(se.color),se.emissive&&ue.emissive.value.copy(se.emissive).multiplyScalar(se.emissiveIntensity),se.map&&(ue.map.value=se.map,c(se.map,ue.mapTransform)),se.alphaMap&&(ue.alphaMap.value=se.alphaMap,c(se.alphaMap,ue.alphaMapTransform)),se.bumpMap&&(ue.bumpMap.value=se.bumpMap,c(se.bumpMap,ue.bumpMapTransform),ue.bumpScale.value=se.bumpScale,se.side===Zn&&(ue.bumpScale.value*=-1)),se.normalMap&&(ue.normalMap.value=se.normalMap,c(se.normalMap,ue.normalMapTransform),ue.normalScale.value.copy(se.normalScale),se.side===Zn&&ue.normalScale.value.negate()),se.displacementMap&&(ue.displacementMap.value=se.displacementMap,c(se.displacementMap,ue.displacementMapTransform),ue.displacementScale.value=se.displacementScale,ue.displacementBias.value=se.displacementBias),se.emissiveMap&&(ue.emissiveMap.value=se.emissiveMap,c(se.emissiveMap,ue.emissiveMapTransform)),se.specularMap&&(ue.specularMap.value=se.specularMap,c(se.specularMap,ue.specularMapTransform)),se.alphaTest>0&&(ue.alphaTest.value=se.alphaTest);const Ne=r.get(se),De=Ne.envMap,Oe=Ne.envMapRotation;De&&(ue.envMap.value=De,La.copy(Oe),La.x*=-1,La.y*=-1,La.z*=-1,De.isCubeTexture&&De.isRenderTargetTexture===!1&&(La.y*=-1,La.z*=-1),ue.envMapRotation.value.setFromMatrix4(pfe.makeRotationFromEuler(La)),ue.flipEnvMap.value=De.isCubeTexture&&De.isRenderTargetTexture===!1?-1:1,ue.reflectivity.value=se.reflectivity,ue.ior.value=se.ior,ue.refractionRatio.value=se.refractionRatio),se.lightMap&&(ue.lightMap.value=se.lightMap,ue.lightMapIntensity.value=se.lightMapIntensity,c(se.lightMap,ue.lightMapTransform)),se.aoMap&&(ue.aoMap.value=se.aoMap,ue.aoMapIntensity.value=se.aoMapIntensity,c(se.aoMap,ue.aoMapTransform))}function T(ue,se){ue.diffuse.value.copy(se.color),ue.opacity.value=se.opacity,se.map&&(ue.map.value=se.map,c(se.map,ue.mapTransform))}function R(ue,se){ue.dashSize.value=se.dashSize,ue.totalSize.value=se.dashSize+se.gapSize,ue.scale.value=se.scale}function b(ue,se,Ne,De){ue.diffuse.value.copy(se.color),ue.opacity.value=se.opacity,ue.size.value=se.size*Ne,ue.scale.value=De*.5,se.map&&(ue.map.value=se.map,c(se.map,ue.uvTransform)),se.alphaMap&&(ue.alphaMap.value=se.alphaMap,c(se.alphaMap,ue.alphaMapTransform)),se.alphaTest>0&&(ue.alphaTest.value=se.alphaTest)}function P(ue,se){ue.diffuse.value.copy(se.color),ue.opacity.value=se.opacity,ue.rotation.value=se.rotation,se.map&&(ue.map.value=se.map,c(se.map,ue.mapTransform)),se.alphaMap&&(ue.alphaMap.value=se.alphaMap,c(se.alphaMap,ue.alphaMapTransform)),se.alphaTest>0&&(ue.alphaTest.value=se.alphaTest)}function G(ue,se){ue.specular.value.copy(se.specular),ue.shininess.value=Math.max(se.shininess,1e-4)}function j(ue,se){se.gradientMap&&(ue.gradientMap.value=se.gradientMap)}function K(ue,se){ue.metalness.value=se.metalness,se.metalnessMap&&(ue.metalnessMap.value=se.metalnessMap,c(se.metalnessMap,ue.metalnessMapTransform)),ue.roughness.value=se.roughness,se.roughnessMap&&(ue.roughnessMap.value=se.roughnessMap,c(se.roughnessMap,ue.roughnessMapTransform)),se.envMap&&(ue.envMapIntensity.value=se.envMapIntensity)}function Q(ue,se,Ne){ue.ior.value=se.ior,se.sheen>0&&(ue.sheenColor.value.copy(se.sheenColor).multiplyScalar(se.sheen),ue.sheenRoughness.value=se.sheenRoughness,se.sheenColorMap&&(ue.sheenColorMap.value=se.sheenColorMap,c(se.sheenColorMap,ue.sheenColorMapTransform)),se.sheenRoughnessMap&&(ue.sheenRoughnessMap.value=se.sheenRoughnessMap,c(se.sheenRoughnessMap,ue.sheenRoughnessMapTransform))),se.clearcoat>0&&(ue.clearcoat.value=se.clearcoat,ue.clearcoatRoughness.value=se.clearcoatRoughness,se.clearcoatMap&&(ue.clearcoatMap.value=se.clearcoatMap,c(se.clearcoatMap,ue.clearcoatMapTransform)),se.clearcoatRoughnessMap&&(ue.clearcoatRoughnessMap.value=se.clearcoatRoughnessMap,c(se.clearcoatRoughnessMap,ue.clearcoatRoughnessMapTransform)),se.clearcoatNormalMap&&(ue.clearcoatNormalMap.value=se.clearcoatNormalMap,c(se.clearcoatNormalMap,ue.clearcoatNormalMapTransform),ue.clearcoatNormalScale.value.copy(se.clearcoatNormalScale),se.side===Zn&&ue.clearcoatNormalScale.value.negate())),se.dispersion>0&&(ue.dispersion.value=se.dispersion),se.iridescence>0&&(ue.iridescence.value=se.iridescence,ue.iridescenceIOR.value=se.iridescenceIOR,ue.iridescenceThicknessMinimum.value=se.iridescenceThicknessRange[0],ue.iridescenceThicknessMaximum.value=se.iridescenceThicknessRange[1],se.iridescenceMap&&(ue.iridescenceMap.value=se.iridescenceMap,c(se.iridescenceMap,ue.iridescenceMapTransform)),se.iridescenceThicknessMap&&(ue.iridescenceThicknessMap.value=se.iridescenceThicknessMap,c(se.iridescenceThicknessMap,ue.iridescenceThicknessMapTransform))),se.transmission>0&&(ue.transmission.value=se.transmission,ue.transmissionSamplerMap.value=Ne.texture,ue.transmissionSamplerSize.value.set(Ne.width,Ne.height),se.transmissionMap&&(ue.transmissionMap.value=se.transmissionMap,c(se.transmissionMap,ue.transmissionMapTransform)),ue.thickness.value=se.thickness,se.thicknessMap&&(ue.thicknessMap.value=se.thicknessMap,c(se.thicknessMap,ue.thicknessMapTransform)),ue.attenuationDistance.value=se.attenuationDistance,ue.attenuationColor.value.copy(se.attenuationColor)),se.anisotropy>0&&(ue.anisotropyVector.value.set(se.anisotropy*Math.cos(se.anisotropyRotation),se.anisotropy*Math.sin(se.anisotropyRotation)),se.anisotropyMap&&(ue.anisotropyMap.value=se.anisotropyMap,c(se.anisotropyMap,ue.anisotropyMapTransform))),ue.specularIntensity.value=se.specularIntensity,ue.specularColor.value.copy(se.specularColor),se.specularColorMap&&(ue.specularColorMap.value=se.specularColorMap,c(se.specularColorMap,ue.specularColorMapTransform)),se.specularIntensityMap&&(ue.specularIntensityMap.value=se.specularIntensityMap,c(se.specularIntensityMap,ue.specularIntensityMapTransform))}function ie(ue,se){se.matcap&&(ue.matcap.value=se.matcap)}function ce(ue,se){const Ne=r.get(se).light;ue.referencePosition.value.setFromMatrixPosition(Ne.matrixWorld),ue.nearDistance.value=Ne.shadow.camera.near,ue.farDistance.value=Ne.shadow.camera.far}return{refreshFogUniforms:f,refreshMaterialUniforms:p}}function hfe(v,r,c,f){let p={},y={},T=[];const R=v.getParameter(v.MAX_UNIFORM_BUFFER_BINDINGS);function b(Ne,De){const Oe=De.program;f.uniformBlockBinding(Ne,Oe)}function P(Ne,De){let Oe=p[Ne.id];Oe===void 0&&(ie(Ne),Oe=G(Ne),p[Ne.id]=Oe,Ne.addEventListener("dispose",ue));const je=De.program;f.updateUBOMapping(Ne,je);const Be=r.render.frame;y[Ne.id]!==Be&&(K(Ne),y[Ne.id]=Be)}function G(Ne){const De=j();Ne.__bindingPointIndex=De;const Oe=v.createBuffer(),je=Ne.__size,Be=Ne.usage;return v.bindBuffer(v.UNIFORM_BUFFER,Oe),v.bufferData(v.UNIFORM_BUFFER,je,Be),v.bindBuffer(v.UNIFORM_BUFFER,null),v.bindBufferBase(v.UNIFORM_BUFFER,De,Oe),Oe}function j(){for(let Ne=0;Ne<R;Ne++)if(T.indexOf(Ne)===-1)return T.push(Ne),Ne;return i0("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function K(Ne){const De=p[Ne.id],Oe=Ne.uniforms,je=Ne.__cache;v.bindBuffer(v.UNIFORM_BUFFER,De);for(let Be=0,We=Oe.length;Be<We;Be++){const $e=Array.isArray(Oe[Be])?Oe[Be]:[Oe[Be]];for(let Ee=0,Ie=$e.length;Ee<Ie;Ee++){const Je=$e[Ee];if(Q(Je,Be,Ee,je)===!0){const ft=Je.__offset,yt=Array.isArray(Je.value)?Je.value:[Je.value];let Et=0;for(let Dt=0;Dt<yt.length;Dt++){const ct=yt[Dt],Wt=ce(ct);typeof ct=="number"||typeof ct=="boolean"?(Je.__data[0]=ct,v.bufferSubData(v.UNIFORM_BUFFER,ft+Et,Je.__data)):ct.isMatrix3?(Je.__data[0]=ct.elements[0],Je.__data[1]=ct.elements[1],Je.__data[2]=ct.elements[2],Je.__data[3]=0,Je.__data[4]=ct.elements[3],Je.__data[5]=ct.elements[4],Je.__data[6]=ct.elements[5],Je.__data[7]=0,Je.__data[8]=ct.elements[6],Je.__data[9]=ct.elements[7],Je.__data[10]=ct.elements[8],Je.__data[11]=0):(ct.toArray(Je.__data,Et),Et+=Wt.storage/Float32Array.BYTES_PER_ELEMENT)}v.bufferSubData(v.UNIFORM_BUFFER,ft,Je.__data)}}}v.bindBuffer(v.UNIFORM_BUFFER,null)}function Q(Ne,De,Oe,je){const Be=Ne.value,We=De+"_"+Oe;if(je[We]===void 0)return typeof Be=="number"||typeof Be=="boolean"?je[We]=Be:je[We]=Be.clone(),!0;{const $e=je[We];if(typeof Be=="number"||typeof Be=="boolean"){if($e!==Be)return je[We]=Be,!0}else if($e.equals(Be)===!1)return $e.copy(Be),!0}return!1}function ie(Ne){const De=Ne.uniforms;let Oe=0;const je=16;for(let We=0,$e=De.length;We<$e;We++){const Ee=Array.isArray(De[We])?De[We]:[De[We]];for(let Ie=0,Je=Ee.length;Ie<Je;Ie++){const ft=Ee[Ie],yt=Array.isArray(ft.value)?ft.value:[ft.value];for(let Et=0,Dt=yt.length;Et<Dt;Et++){const ct=yt[Et],Wt=ce(ct),vt=Oe%je,Ht=vt%Wt.boundary,Qt=vt+Ht;Oe+=Ht,Qt!==0&&je-Qt<Wt.storage&&(Oe+=je-Qt),ft.__data=new Float32Array(Wt.storage/Float32Array.BYTES_PER_ELEMENT),ft.__offset=Oe,Oe+=Wt.storage}}}const Be=Oe%je;return Be>0&&(Oe+=je-Be),Ne.__size=Oe,Ne.__cache={},this}function ce(Ne){const De={boundary:0,storage:0};return typeof Ne=="number"||typeof Ne=="boolean"?(De.boundary=4,De.storage=4):Ne.isVector2?(De.boundary=8,De.storage=8):Ne.isVector3||Ne.isColor?(De.boundary=16,De.storage=12):Ne.isVector4?(De.boundary=16,De.storage=16):Ne.isMatrix3?(De.boundary=48,De.storage=48):Ne.isMatrix4?(De.boundary=64,De.storage=64):Ne.isTexture?jt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):jt("WebGLRenderer: Unsupported uniform value type.",Ne),De}function ue(Ne){const De=Ne.target;De.removeEventListener("dispose",ue);const Oe=T.indexOf(De.__bindingPointIndex);T.splice(Oe,1),v.deleteBuffer(p[De.id]),delete p[De.id],delete y[De.id]}function se(){for(const Ne in p)v.deleteBuffer(p[Ne]);T=[],p={},y={}}return{bind:b,update:P,dispose:se}}const dfe=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let v1=null;function mfe(){return v1===null&&(v1=new Pf(dfe,32,32,yo,Q2),v1.minFilter=s2,v1.magFilter=s2,v1.wrapS=Cr,v1.wrapT=Cr,v1.generateMipmaps=!1,v1.needsUpdate=!0),v1}class gfe{constructor(r={}){const{canvas:c=nx(),context:f=null,depth:p=!0,stencil:y=!1,alpha:T=!1,antialias:R=!1,premultipliedAlpha:b=!0,preserveDrawingBuffer:P=!1,powerPreference:G="default",failIfMajorPerformanceCaveat:j=!1,reversedDepthBuffer:K=!1}=r;this.isWebGLRenderer=!0;let Q;if(f!==null){if(typeof WebGLRenderingContext<"u"&&f instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");Q=f.getContextAttributes().alpha}else Q=T;const ie=new Set([Jl,Ql,Zl]),ce=new Set([M2,Kn,xo,Bs,b_,N_]),ue=new Uint32Array(4),se=new Int32Array(4);let Ne=null,De=null;const Oe=[],je=[];this.domElement=c,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=ns,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const Be=this;let We=!1;this._outputColorSpace=w2;let $e=0,Ee=0,Ie=null,Je=-1,ft=null;const yt=new hi,Et=new hi;let Dt=null;const ct=new ri(0);let Wt=0,vt=c.width,Ht=c.height,Qt=1,a0=null,G0=null;const C0=new hi(0,0,vt,Ht),w0=new hi(0,0,vt,Ht);let y0=!1;const dt=new Lf;let wt=!1,e0=!1;const B0=new wi,A0=new nt,Bi=new hi,A2={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ei=!1;function Fn(){return Ie===null?Qt:1}let tt=f;function ki(Ue,_t){return c.getContext(Ue,_t)}try{const Ue={alpha:!0,depth:p,stencil:y,antialias:R,premultipliedAlpha:b,preserveDrawingBuffer:P,powerPreference:G,failIfMajorPerformanceCaveat:j};if("setAttribute"in c&&c.setAttribute("data-engine",`three.js r${Kl}`),c.addEventListener("webglcontextlost",s0,!1),c.addEventListener("webglcontextrestored",Zt,!1),c.addEventListener("webglcontextcreationerror",W0,!1),tt===null){const _t="webgl2";if(tt=ki(_t,Ue),tt===null)throw ki(_t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Ue){throw Ue("WebGLRenderer: "+Ue.message),Ue}let qi,wn,N0,Bn,si,oi,Ye,Pe,St,Yt,Jt,Ut,z0,g0,ci,$0,t0,c0,yi,li,D0,Si,rt,S0;function d0(){qi=new Mle(tt),qi.init(),Si=new afe(tt,qi),wn=new mle(tt,qi,r,Si),N0=new sfe(tt,qi),wn.reversedDepthBuffer&&K&&N0.buffers.depth.setReversed(!0),Bn=new Ele(tt),si=new que,oi=new ofe(tt,qi,N0,si,wn,Si,Bn),Ye=new xle(Be),Pe=new wle(Be),St=new I1e(tt),rt=new hle(tt,St),Yt=new Rle(tt,St,Bn,rt),Jt=new Nle(tt,Yt,St,Bn),yi=new ble(tt,wn,oi),$0=new gle(si),Ut=new jue(Be,Ye,Pe,qi,wn,rt,$0),z0=new _fe(Be,si),g0=new $ue,ci=new efe(qi),c0=new _le(Be,Ye,Pe,N0,Jt,Q,b),t0=new nfe(Be,Jt,wn),S0=new hfe(tt,Bn,wn,N0),li=new dle(tt,qi,Bn),D0=new Ale(tt,qi,Bn),Bn.programs=Ut.programs,Be.capabilities=wn,Be.extensions=qi,Be.properties=si,Be.renderLists=g0,Be.shadowMap=t0,Be.state=N0,Be.info=Bn}d0();const m0=new ffe(Be,tt);this.xr=m0,this.getContext=function(){return tt},this.getContextAttributes=function(){return tt.getContextAttributes()},this.forceContextLoss=function(){const Ue=qi.get("WEBGL_lose_context");Ue&&Ue.loseContext()},this.forceContextRestore=function(){const Ue=qi.get("WEBGL_lose_context");Ue&&Ue.restoreContext()},this.getPixelRatio=function(){return Qt},this.setPixelRatio=function(Ue){Ue!==void 0&&(Qt=Ue,this.setSize(vt,Ht,!1))},this.getSize=function(Ue){return Ue.set(vt,Ht)},this.setSize=function(Ue,_t,At=!0){if(m0.isPresenting){jt("WebGLRenderer: Can't change size while VR device is presenting.");return}vt=Ue,Ht=_t,c.width=Math.floor(Ue*Qt),c.height=Math.floor(_t*Qt),At===!0&&(c.style.width=Ue+"px",c.style.height=_t+"px"),this.setViewport(0,0,Ue,_t)},this.getDrawingBufferSize=function(Ue){return Ue.set(vt*Qt,Ht*Qt).floor()},this.setDrawingBufferSize=function(Ue,_t,At){vt=Ue,Ht=_t,Qt=At,c.width=Math.floor(Ue*At),c.height=Math.floor(_t*At),this.setViewport(0,0,Ue,_t)},this.getCurrentViewport=function(Ue){return Ue.copy(yt)},this.getViewport=function(Ue){return Ue.copy(C0)},this.setViewport=function(Ue,_t,At,bt){Ue.isVector4?C0.set(Ue.x,Ue.y,Ue.z,Ue.w):C0.set(Ue,_t,At,bt),N0.viewport(yt.copy(C0).multiplyScalar(Qt).round())},this.getScissor=function(Ue){return Ue.copy(w0)},this.setScissor=function(Ue,_t,At,bt){Ue.isVector4?w0.set(Ue.x,Ue.y,Ue.z,Ue.w):w0.set(Ue,_t,At,bt),N0.scissor(Et.copy(w0).multiplyScalar(Qt).round())},this.getScissorTest=function(){return y0},this.setScissorTest=function(Ue){N0.setScissorTest(y0=Ue)},this.setOpaqueSort=function(Ue){a0=Ue},this.setTransparentSort=function(Ue){G0=Ue},this.getClearColor=function(Ue){return Ue.copy(c0.getClearColor())},this.setClearColor=function(){c0.setClearColor(...arguments)},this.getClearAlpha=function(){return c0.getClearAlpha()},this.setClearAlpha=function(){c0.setClearAlpha(...arguments)},this.clear=function(Ue=!0,_t=!0,At=!0){let bt=0;if(Ue){let xt=!1;if(Ie!==null){const l0=Ie.texture.format;xt=ie.has(l0)}if(xt){const l0=Ie.texture.type,M0=ce.has(l0),H0=c0.getClearColor(),L0=c0.getClearAlpha(),di=H0.r,Ti=H0.g,Y0=H0.b;M0?(ue[0]=di,ue[1]=Ti,ue[2]=Y0,ue[3]=L0,tt.clearBufferuiv(tt.COLOR,0,ue)):(se[0]=di,se[1]=Ti,se[2]=Y0,se[3]=L0,tt.clearBufferiv(tt.COLOR,0,se))}else bt|=tt.COLOR_BUFFER_BIT}_t&&(bt|=tt.DEPTH_BUFFER_BIT),At&&(bt|=tt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),tt.clear(bt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){c.removeEventListener("webglcontextlost",s0,!1),c.removeEventListener("webglcontextrestored",Zt,!1),c.removeEventListener("webglcontextcreationerror",W0,!1),c0.dispose(),g0.dispose(),ci.dispose(),si.dispose(),Ye.dispose(),Pe.dispose(),Jt.dispose(),rt.dispose(),S0.dispose(),Ut.dispose(),m0.dispose(),m0.removeEventListener("sessionstart",_c),m0.removeEventListener("sessionend",hc),io.stop()};function s0(Ue){Ue.preventDefault(),xf("WebGLRenderer: Context Lost."),We=!0}function Zt(){xf("WebGLRenderer: Context Restored."),We=!1;const Ue=Bn.autoReset,_t=t0.enabled,At=t0.autoUpdate,bt=t0.needsUpdate,xt=t0.type;d0(),Bn.autoReset=Ue,t0.enabled=_t,t0.autoUpdate=At,t0.needsUpdate=bt,t0.type=xt}function W0(Ue){i0("WebGLRenderer: A WebGL context could not be created. Reason: ",Ue.statusMessage)}function Ai(Ue){const _t=Ue.target;_t.removeEventListener("dispose",Ai),yn(_t)}function yn(Ue){Gi(Ue),si.remove(Ue)}function Gi(Ue){const _t=si.get(Ue).programs;_t!==void 0&&(_t.forEach(function(At){Ut.releaseProgram(At)}),Ue.isShaderMaterial&&Ut.releaseShaderCache(Ue))}this.renderBufferDirect=function(Ue,_t,At,bt,xt,l0){_t===null&&(_t=A2);const M0=xt.isMesh&&xt.matrixWorld.determinant()<0,H0=lu(Ue,_t,At,bt,xt);N0.setMaterial(bt,M0);let L0=At.index,di=1;if(bt.wireframe===!0){if(L0=Yt.getWireframeAttribute(At),L0===void 0)return;di=2}const Ti=At.drawRange,Y0=At.attributes.position;let Ui=Ti.start*di,mn=(Ti.start+Ti.count)*di;l0!==null&&(Ui=Math.max(Ui,l0.start*di),mn=Math.min(mn,(l0.start+l0.count)*di)),L0!==null?(Ui=Math.max(Ui,0),mn=Math.min(mn,L0.count)):Y0!=null&&(Ui=Math.max(Ui,0),mn=Math.min(mn,Y0.count));const Qn=mn-Ui;if(Qn<0||Qn===1/0)return;rt.setup(xt,bt,H0,At,L0);let Hn,bi=li;if(L0!==null&&(Hn=St.get(L0),bi=D0,bi.setIndex(Hn)),xt.isMesh)bt.wireframe===!0?(N0.setLineWidth(bt.wireframeLinewidth*Fn()),bi.setMode(tt.LINES)):bi.setMode(tt.TRIANGLES);else if(xt.isLine){let _i=bt.linewidth;_i===void 0&&(_i=1),N0.setLineWidth(_i*Fn()),xt.isLineSegments?bi.setMode(tt.LINES):xt.isLineLoop?bi.setMode(tt.LINE_LOOP):bi.setMode(tt.LINE_STRIP)}else xt.isPoints?bi.setMode(tt.POINTS):xt.isSprite&&bi.setMode(tt.TRIANGLES);if(xt.isBatchedMesh)if(xt._multiDrawInstances!==null)c2("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),bi.renderMultiDrawInstances(xt._multiDrawStarts,xt._multiDrawCounts,xt._multiDrawCount,xt._multiDrawInstances);else if(qi.get("WEBGL_multi_draw"))bi.renderMultiDraw(xt._multiDrawStarts,xt._multiDrawCounts,xt._multiDrawCount);else{const _i=xt._multiDrawStarts,Nn=xt._multiDrawCounts,en=xt._multiDrawCount,cn=L0?St.get(L0).bytesPerElement:1,Vs=si.get(bt).currentProgram.getUniforms();for(let p2=0;p2<en;p2++)Vs.setValue(tt,"_gl_DrawID",p2),bi.render(_i[p2]/cn,Nn[p2])}else if(xt.isInstancedMesh)bi.renderInstances(Ui,Qn,xt.count);else if(At.isInstancedBufferGeometry){const _i=At._maxInstanceCount!==void 0?At._maxInstanceCount:1/0,Nn=Math.min(At.instanceCount,_i);bi.renderInstances(Ui,Qn,Nn)}else bi.render(Ui,Qn)};function wr(Ue,_t,At){Ue.transparent===!0&&Ue.side===Nr&&Ue.forceSinglePass===!1?(Ue.side=Zn,Ue.needsUpdate=!0,O1(Ue,_t,At),Ue.side=Cs,Ue.needsUpdate=!0,O1(Ue,_t,At),Ue.side=Nr):O1(Ue,_t,At)}this.compile=function(Ue,_t,At=null){At===null&&(At=Ue),De=ci.get(At),De.init(_t),je.push(De),At.traverseVisible(function(xt){xt.isLight&&xt.layers.test(_t.layers)&&(De.pushLight(xt),xt.castShadow&&De.pushShadow(xt))}),Ue!==At&&Ue.traverseVisible(function(xt){xt.isLight&&xt.layers.test(_t.layers)&&(De.pushLight(xt),xt.castShadow&&De.pushShadow(xt))}),De.setupLights();const bt=new Set;return Ue.traverse(function(xt){if(!(xt.isMesh||xt.isPoints||xt.isLine||xt.isSprite))return;const l0=xt.material;if(l0)if(Array.isArray(l0))for(let M0=0;M0<l0.length;M0++){const H0=l0[M0];wr(H0,At,xt),bt.add(H0)}else wr(l0,At,xt),bt.add(l0)}),De=je.pop(),bt},this.compileAsync=function(Ue,_t,At=null){const bt=this.compile(Ue,_t,At);return new Promise(xt=>{function l0(){if(bt.forEach(function(M0){si.get(M0).currentProgram.isReady()&&bt.delete(M0)}),bt.size===0){xt(Ue);return}setTimeout(l0,10)}qi.get("KHR_parallel_shader_compile")!==null?l0():setTimeout(l0,10)})};let Ir=null;function pc(Ue){Ir&&Ir(Ue)}function _c(){io.stop()}function hc(){io.start()}const io=new Tx;io.setAnimationLoop(pc),typeof self<"u"&&io.setContext(self),this.setAnimationLoop=function(Ue){Ir=Ue,m0.setAnimationLoop(Ue),Ue===null?io.stop():io.start()},m0.addEventListener("sessionstart",_c),m0.addEventListener("sessionend",hc),this.render=function(Ue,_t){if(_t!==void 0&&_t.isCamera!==!0){i0("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(We===!0)return;if(Ue.matrixWorldAutoUpdate===!0&&Ue.updateMatrixWorld(),_t.parent===null&&_t.matrixWorldAutoUpdate===!0&&_t.updateMatrixWorld(),m0.enabled===!0&&m0.isPresenting===!0&&(m0.cameraAutoUpdate===!0&&m0.updateCamera(_t),_t=m0.getCamera()),Ue.isScene===!0&&Ue.onBeforeRender(Be,Ue,_t,Ie),De=ci.get(Ue,je.length),De.init(_t),je.push(De),B0.multiplyMatrices(_t.projectionMatrix,_t.matrixWorldInverse),dt.setFromProjectionMatrix(B0,rs,_t.reversedDepth),e0=this.localClippingEnabled,wt=$0.init(this.clippingPlanes,e0),Ne=g0.get(Ue,Oe.length),Ne.init(),Oe.push(Ne),m0.enabled===!0&&m0.isPresenting===!0){const l0=Be.xr.getDepthSensingMesh();l0!==null&&ga(l0,_t,-1/0,Be.sortObjects)}ga(Ue,_t,0,Be.sortObjects),Ne.finish(),Be.sortObjects===!0&&Ne.sort(a0,G0),ei=m0.enabled===!1||m0.isPresenting===!1||m0.hasDepthSensing()===!1,ei&&c0.addToRenderList(Ne,Ue),this.info.render.frame++,wt===!0&&$0.beginShadows();const At=De.state.shadowsArray;t0.render(At,Ue,_t),wt===!0&&$0.endShadows(),this.info.autoReset===!0&&this.info.reset();const bt=Ne.opaque,xt=Ne.transmissive;if(De.setupLights(),_t.isArrayCamera){const l0=_t.cameras;if(xt.length>0)for(let M0=0,H0=l0.length;M0<H0;M0++){const L0=l0[M0];Gs(bt,xt,Ue,L0)}ei&&c0.render(Ue);for(let M0=0,H0=l0.length;M0<H0;M0++){const L0=l0[M0];xa(Ne,Ue,L0,L0.viewport)}}else xt.length>0&&Gs(bt,xt,Ue,_t),ei&&c0.render(Ue),xa(Ne,Ue,_t);Ie!==null&&Ee===0&&(oi.updateMultisampleRenderTarget(Ie),oi.updateRenderTargetMipmap(Ie)),Ue.isScene===!0&&Ue.onAfterRender(Be,Ue,_t),rt.resetDefaultState(),Je=-1,ft=null,je.pop(),je.length>0?(De=je[je.length-1],wt===!0&&$0.setGlobalState(Be.clippingPlanes,De.state.camera)):De=null,Oe.pop(),Oe.length>0?Ne=Oe[Oe.length-1]:Ne=null};function ga(Ue,_t,At,bt){if(Ue.visible===!1)return;if(Ue.layers.test(_t.layers)){if(Ue.isGroup)At=Ue.renderOrder;else if(Ue.isLOD)Ue.autoUpdate===!0&&Ue.update(_t);else if(Ue.isLight)De.pushLight(Ue),Ue.castShadow&&De.pushShadow(Ue);else if(Ue.isSprite){if(!Ue.frustumCulled||dt.intersectsSprite(Ue)){bt&&Bi.setFromMatrixPosition(Ue.matrixWorld).applyMatrix4(B0);const M0=Jt.update(Ue),H0=Ue.material;H0.visible&&Ne.push(Ue,M0,H0,At,Bi.z,null)}}else if((Ue.isMesh||Ue.isLine||Ue.isPoints)&&(!Ue.frustumCulled||dt.intersectsObject(Ue))){const M0=Jt.update(Ue),H0=Ue.material;if(bt&&(Ue.boundingSphere!==void 0?(Ue.boundingSphere===null&&Ue.computeBoundingSphere(),Bi.copy(Ue.boundingSphere.center)):(M0.boundingSphere===null&&M0.computeBoundingSphere(),Bi.copy(M0.boundingSphere.center)),Bi.applyMatrix4(Ue.matrixWorld).applyMatrix4(B0)),Array.isArray(H0)){const L0=M0.groups;for(let di=0,Ti=L0.length;di<Ti;di++){const Y0=L0[di],Ui=H0[Y0.materialIndex];Ui&&Ui.visible&&Ne.push(Ue,M0,Ui,At,Bi.z,Y0)}}else H0.visible&&Ne.push(Ue,M0,H0,At,Bi.z,null)}}const l0=Ue.children;for(let M0=0,H0=l0.length;M0<H0;M0++)ga(l0[M0],_t,At,bt)}function xa(Ue,_t,At,bt){const{opaque:xt,transmissive:l0,transparent:M0}=Ue;De.setupLightsView(At),wt===!0&&$0.setGlobalState(Be.clippingPlanes,At),bt&&N0.viewport(yt.copy(bt)),xt.length>0&&Rs(xt,_t,At),l0.length>0&&Rs(l0,_t,At),M0.length>0&&Rs(M0,_t,At),N0.buffers.depth.setTest(!0),N0.buffers.depth.setMask(!0),N0.buffers.color.setMask(!0),N0.setPolygonOffset(!1)}function Gs(Ue,_t,At,bt){if((At.isScene===!0?At.overrideMaterial:null)!==null)return;De.state.transmissionRenderTarget[bt.id]===void 0&&(De.state.transmissionRenderTarget[bt.id]=new rc(1,1,{generateMipmaps:!0,type:qi.has("EXT_color_buffer_half_float")||qi.has("EXT_color_buffer_float")?Q2:M2,minFilter:Vr,samples:4,stencilBuffer:y,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:pi.workingColorSpace}));const l0=De.state.transmissionRenderTarget[bt.id],M0=bt.viewport||yt;l0.setSize(M0.z*Be.transmissionResolutionScale,M0.w*Be.transmissionResolutionScale);const H0=Be.getRenderTarget(),L0=Be.getActiveCubeFace(),di=Be.getActiveMipmapLevel();Be.setRenderTarget(l0),Be.getClearColor(ct),Wt=Be.getClearAlpha(),Wt<1&&Be.setClearColor(16777215,.5),Be.clear(),ei&&c0.render(At);const Ti=Be.toneMapping;Be.toneMapping=ns;const Y0=bt.viewport;if(bt.viewport!==void 0&&(bt.viewport=void 0),De.setupLightsView(bt),wt===!0&&$0.setGlobalState(Be.clippingPlanes,bt),Rs(Ue,At,bt),oi.updateMultisampleRenderTarget(l0),oi.updateRenderTargetMipmap(l0),qi.has("WEBGL_multisampled_render_to_texture")===!1){let Ui=!1;for(let mn=0,Qn=_t.length;mn<Qn;mn++){const Hn=_t[mn],{object:bi,geometry:_i,material:Nn,group:en}=Hn;if(Nn.side===Nr&&bi.layers.test(bt.layers)){const cn=Nn.side;Nn.side=Zn,Nn.needsUpdate=!0,dc(bi,At,bt,_i,Nn,en),Nn.side=cn,Nn.needsUpdate=!0,Ui=!0}}Ui===!0&&(oi.updateMultisampleRenderTarget(l0),oi.updateRenderTargetMipmap(l0))}Be.setRenderTarget(H0,L0,di),Be.setClearColor(ct,Wt),Y0!==void 0&&(bt.viewport=Y0),Be.toneMapping=Ti}function Rs(Ue,_t,At){const bt=_t.isScene===!0?_t.overrideMaterial:null;for(let xt=0,l0=Ue.length;xt<l0;xt++){const M0=Ue[xt],{object:H0,geometry:L0,group:di}=M0;let Ti=M0.material;Ti.allowOverride===!0&&bt!==null&&(Ti=bt),H0.layers.test(At.layers)&&dc(H0,_t,At,L0,Ti,di)}}function dc(Ue,_t,At,bt,xt,l0){Ue.onBeforeRender(Be,_t,At,bt,xt,l0),Ue.modelViewMatrix.multiplyMatrices(At.matrixWorldInverse,Ue.matrixWorld),Ue.normalMatrix.getNormalMatrix(Ue.modelViewMatrix),xt.onBeforeRender(Be,_t,At,bt,Ue,l0),xt.transparent===!0&&xt.side===Nr&&xt.forceSinglePass===!1?(xt.side=Zn,xt.needsUpdate=!0,Be.renderBufferDirect(At,_t,bt,xt,Ue,l0),xt.side=Cs,xt.needsUpdate=!0,Be.renderBufferDirect(At,_t,bt,xt,Ue,l0),xt.side=Nr):Be.renderBufferDirect(At,_t,bt,xt,Ue,l0),Ue.onAfterRender(Be,_t,At,bt,xt,l0)}function O1(Ue,_t,At){_t.isScene!==!0&&(_t=A2);const bt=si.get(Ue),xt=De.state.lights,l0=De.state.shadowsArray,M0=xt.state.version,H0=Ut.getParameters(Ue,xt.state,l0,_t,At),L0=Ut.getProgramCacheKey(H0);let di=bt.programs;bt.environment=Ue.isMeshStandardMaterial?_t.environment:null,bt.fog=_t.fog,bt.envMap=(Ue.isMeshStandardMaterial?Pe:Ye).get(Ue.envMap||bt.environment),bt.envMapRotation=bt.environment!==null&&Ue.envMap===null?_t.environmentRotation:Ue.envMapRotation,di===void 0&&(Ue.addEventListener("dispose",Ai),di=new Map,bt.programs=di);let Ti=di.get(L0);if(Ti!==void 0){if(bt.currentProgram===Ti&&bt.lightsStateVersion===M0)return gc(Ue,H0),Ti}else H0.uniforms=Ut.getUniforms(Ue),Ue.onBeforeCompile(H0,Be),Ti=Ut.acquireProgram(H0,L0),di.set(L0,Ti),bt.uniforms=H0.uniforms;const Y0=bt.uniforms;return(!Ue.isShaderMaterial&&!Ue.isRawShaderMaterial||Ue.clipping===!0)&&(Y0.clippingPlanes=$0.uniform),gc(Ue,H0),bt.needsLights=E2(Ue),bt.lightsStateVersion=M0,bt.needsLights&&(Y0.ambientLightColor.value=xt.state.ambient,Y0.lightProbe.value=xt.state.probe,Y0.directionalLights.value=xt.state.directional,Y0.directionalLightShadows.value=xt.state.directionalShadow,Y0.spotLights.value=xt.state.spot,Y0.spotLightShadows.value=xt.state.spotShadow,Y0.rectAreaLights.value=xt.state.rectArea,Y0.ltc_1.value=xt.state.rectAreaLTC1,Y0.ltc_2.value=xt.state.rectAreaLTC2,Y0.pointLights.value=xt.state.point,Y0.pointLightShadows.value=xt.state.pointShadow,Y0.hemisphereLights.value=xt.state.hemi,Y0.directionalShadowMap.value=xt.state.directionalShadowMap,Y0.directionalShadowMatrix.value=xt.state.directionalShadowMatrix,Y0.spotShadowMap.value=xt.state.spotShadowMap,Y0.spotLightMatrix.value=xt.state.spotLightMatrix,Y0.spotLightMap.value=xt.state.spotLightMap,Y0.pointShadowMap.value=xt.state.pointShadowMap,Y0.pointShadowMatrix.value=xt.state.pointShadowMatrix),bt.currentProgram=Ti,bt.uniformsList=null,Ti}function mc(Ue){if(Ue.uniformsList===null){const _t=Ue.currentProgram.getUniforms();Ue.uniformsList=a_.seqWithValue(_t.seq,Ue.uniforms)}return Ue.uniformsList}function gc(Ue,_t){const At=si.get(Ue);At.outputColorSpace=_t.outputColorSpace,At.batching=_t.batching,At.batchingColor=_t.batchingColor,At.instancing=_t.instancing,At.instancingColor=_t.instancingColor,At.instancingMorph=_t.instancingMorph,At.skinning=_t.skinning,At.morphTargets=_t.morphTargets,At.morphNormals=_t.morphNormals,At.morphColors=_t.morphColors,At.morphTargetsCount=_t.morphTargetsCount,At.numClippingPlanes=_t.numClippingPlanes,At.numIntersection=_t.numClipIntersection,At.vertexAlphas=_t.vertexAlphas,At.vertexTangents=_t.vertexTangents,At.toneMapping=_t.toneMapping}function lu(Ue,_t,At,bt,xt){_t.isScene!==!0&&(_t=A2),oi.resetTextureUnits();const l0=_t.fog,M0=bt.isMeshStandardMaterial?_t.environment:null,H0=Ie===null?Be.outputColorSpace:Ie.isXRRenderTarget===!0?Ie.texture.colorSpace:ic,L0=(bt.isMeshStandardMaterial?Pe:Ye).get(bt.envMap||M0),di=bt.vertexColors===!0&&!!At.attributes.color&&At.attributes.color.itemSize===4,Ti=!!At.attributes.tangent&&(!!bt.normalMap||bt.anisotropy>0),Y0=!!At.morphAttributes.position,Ui=!!At.morphAttributes.normal,mn=!!At.morphAttributes.color;let Qn=ns;bt.toneMapped&&(Ie===null||Ie.isXRRenderTarget===!0)&&(Qn=Be.toneMapping);const Hn=At.morphAttributes.position||At.morphAttributes.normal||At.morphAttributes.color,bi=Hn!==void 0?Hn.length:0,_i=si.get(bt),Nn=De.state.lights;if(wt===!0&&(e0===!0||Ue!==ft)){const b2=Ue===ft&&bt.id===Je;$0.setState(bt,Ue,b2)}let en=!1;bt.version===_i.__version?(_i.needsLights&&_i.lightsStateVersion!==Nn.state.version||_i.outputColorSpace!==H0||xt.isBatchedMesh&&_i.batching===!1||!xt.isBatchedMesh&&_i.batching===!0||xt.isBatchedMesh&&_i.batchingColor===!0&&xt.colorTexture===null||xt.isBatchedMesh&&_i.batchingColor===!1&&xt.colorTexture!==null||xt.isInstancedMesh&&_i.instancing===!1||!xt.isInstancedMesh&&_i.instancing===!0||xt.isSkinnedMesh&&_i.skinning===!1||!xt.isSkinnedMesh&&_i.skinning===!0||xt.isInstancedMesh&&_i.instancingColor===!0&&xt.instanceColor===null||xt.isInstancedMesh&&_i.instancingColor===!1&&xt.instanceColor!==null||xt.isInstancedMesh&&_i.instancingMorph===!0&&xt.morphTexture===null||xt.isInstancedMesh&&_i.instancingMorph===!1&&xt.morphTexture!==null||_i.envMap!==L0||bt.fog===!0&&_i.fog!==l0||_i.numClippingPlanes!==void 0&&(_i.numClippingPlanes!==$0.numPlanes||_i.numIntersection!==$0.numIntersection)||_i.vertexAlphas!==di||_i.vertexTangents!==Ti||_i.morphTargets!==Y0||_i.morphNormals!==Ui||_i.morphColors!==mn||_i.toneMapping!==Qn||_i.morphTargetsCount!==bi)&&(en=!0):(en=!0,_i.__version=bt.version);let cn=_i.currentProgram;en===!0&&(cn=O1(bt,_t,xt));let Vs=!1,p2=!1,wo=!1;const On=cn.getUniforms(),z2=_i.uniforms;if(N0.useProgram(cn.program)&&(Vs=!0,p2=!0,wo=!0),bt.id!==Je&&(Je=bt.id,p2=!0),Vs||ft!==Ue){N0.buffers.depth.getReversed()&&Ue.reversedDepth!==!0&&(Ue._reversedDepth=!0,Ue.updateProjectionMatrix()),On.setValue(tt,"projectionMatrix",Ue.projectionMatrix),On.setValue(tt,"viewMatrix",Ue.matrixWorldInverse);const ir=On.map.cameraPosition;ir!==void 0&&ir.setValue(tt,A0.setFromMatrixPosition(Ue.matrixWorld)),wn.logarithmicDepthBuffer&&On.setValue(tt,"logDepthBufFC",2/(Math.log(Ue.far+1)/Math.LN2)),(bt.isMeshPhongMaterial||bt.isMeshToonMaterial||bt.isMeshLambertMaterial||bt.isMeshBasicMaterial||bt.isMeshStandardMaterial||bt.isShaderMaterial)&&On.setValue(tt,"isOrthographic",Ue.isOrthographicCamera===!0),ft!==Ue&&(ft=Ue,p2=!0,wo=!0)}if(xt.isSkinnedMesh){On.setOptional(tt,xt,"bindMatrix"),On.setOptional(tt,xt,"bindMatrixInverse");const b2=xt.skeleton;b2&&(b2.boneTexture===null&&b2.computeBoneTexture(),On.setValue(tt,"boneTexture",b2.boneTexture,oi))}xt.isBatchedMesh&&(On.setOptional(tt,xt,"batchingTexture"),On.setValue(tt,"batchingTexture",xt._matricesTexture,oi),On.setOptional(tt,xt,"batchingIdTexture"),On.setValue(tt,"batchingIdTexture",xt._indirectTexture,oi),On.setOptional(tt,xt,"batchingColorTexture"),xt._colorsTexture!==null&&On.setValue(tt,"batchingColorTexture",xt._colorsTexture,oi));const tr=At.morphAttributes;if((tr.position!==void 0||tr.normal!==void 0||tr.color!==void 0)&&yi.update(xt,At,cn),(p2||_i.receiveShadow!==xt.receiveShadow)&&(_i.receiveShadow=xt.receiveShadow,On.setValue(tt,"receiveShadow",xt.receiveShadow)),bt.isMeshGouraudMaterial&&bt.envMap!==null&&(z2.envMap.value=L0,z2.flipEnvMap.value=L0.isCubeTexture&&L0.isRenderTargetTexture===!1?-1:1),bt.isMeshStandardMaterial&&bt.envMap===null&&_t.environment!==null&&(z2.envMapIntensity.value=_t.environmentIntensity),z2.dfgLUT!==void 0&&(z2.dfgLUT.value=mfe()),p2&&(On.setValue(tt,"toneMappingExposure",Be.toneMappingExposure),_i.needsLights&&Co(z2,wo),l0&&bt.fog===!0&&z0.refreshFogUniforms(z2,l0),z0.refreshMaterialUniforms(z2,bt,Qt,Ht,De.state.transmissionRenderTarget[Ue.id]),a_.upload(tt,mc(_i),z2,oi)),bt.isShaderMaterial&&bt.uniformsNeedUpdate===!0&&(a_.upload(tt,mc(_i),z2,oi),bt.uniformsNeedUpdate=!1),bt.isSpriteMaterial&&On.setValue(tt,"center",xt.center),On.setValue(tt,"modelViewMatrix",xt.modelViewMatrix),On.setValue(tt,"normalMatrix",xt.normalMatrix),On.setValue(tt,"modelMatrix",xt.matrixWorld),bt.isShaderMaterial||bt.isRawShaderMaterial){const b2=bt.uniformsGroups;for(let ir=0,ya=b2.length;ir<ya;ir++){const ti=b2[ir];S0.update(ti,cn),S0.bind(ti,cn)}}return cn}function Co(Ue,_t){Ue.ambientLightColor.needsUpdate=_t,Ue.lightProbe.needsUpdate=_t,Ue.directionalLights.needsUpdate=_t,Ue.directionalLightShadows.needsUpdate=_t,Ue.pointLights.needsUpdate=_t,Ue.pointLightShadows.needsUpdate=_t,Ue.spotLights.needsUpdate=_t,Ue.spotLightShadows.needsUpdate=_t,Ue.rectAreaLights.needsUpdate=_t,Ue.hemisphereLights.needsUpdate=_t}function E2(Ue){return Ue.isMeshLambertMaterial||Ue.isMeshToonMaterial||Ue.isMeshPhongMaterial||Ue.isMeshStandardMaterial||Ue.isShadowMaterial||Ue.isShaderMaterial&&Ue.lights===!0}this.getActiveCubeFace=function(){return $e},this.getActiveMipmapLevel=function(){return Ee},this.getRenderTarget=function(){return Ie},this.setRenderTargetTextures=function(Ue,_t,At){const bt=si.get(Ue);bt.__autoAllocateDepthBuffer=Ue.resolveDepthBuffer===!1,bt.__autoAllocateDepthBuffer===!1&&(bt.__useRenderToTexture=!1),si.get(Ue.texture).__webglTexture=_t,si.get(Ue.depthTexture).__webglTexture=bt.__autoAllocateDepthBuffer?void 0:At,bt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Ue,_t){const At=si.get(Ue);At.__webglFramebuffer=_t,At.__useDefaultFramebuffer=_t===void 0};const uu=tt.createFramebuffer();this.setRenderTarget=function(Ue,_t=0,At=0){Ie=Ue,$e=_t,Ee=At;let bt=!0,xt=null,l0=!1,M0=!1;if(Ue){const L0=si.get(Ue);if(L0.__useDefaultFramebuffer!==void 0)N0.bindFramebuffer(tt.FRAMEBUFFER,null),bt=!1;else if(L0.__webglFramebuffer===void 0)oi.setupRenderTarget(Ue);else if(L0.__hasExternalTextures)oi.rebindTextures(Ue,si.get(Ue.texture).__webglTexture,si.get(Ue.depthTexture).__webglTexture);else if(Ue.depthBuffer){const Y0=Ue.depthTexture;if(L0.__boundDepthTexture!==Y0){if(Y0!==null&&si.has(Y0)&&(Ue.width!==Y0.image.width||Ue.height!==Y0.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");oi.setupDepthRenderbuffer(Ue)}}const di=Ue.texture;(di.isData3DTexture||di.isDataArrayTexture||di.isCompressedArrayTexture)&&(M0=!0);const Ti=si.get(Ue).__webglFramebuffer;Ue.isWebGLCubeRenderTarget?(Array.isArray(Ti[_t])?xt=Ti[_t][At]:xt=Ti[_t],l0=!0):Ue.samples>0&&oi.useMultisampledRTT(Ue)===!1?xt=si.get(Ue).__webglMultisampledFramebuffer:Array.isArray(Ti)?xt=Ti[At]:xt=Ti,yt.copy(Ue.viewport),Et.copy(Ue.scissor),Dt=Ue.scissorTest}else yt.copy(C0).multiplyScalar(Qt).floor(),Et.copy(w0).multiplyScalar(Qt).floor(),Dt=y0;if(At!==0&&(xt=uu),N0.bindFramebuffer(tt.FRAMEBUFFER,xt)&&bt&&N0.drawBuffers(Ue,xt),N0.viewport(yt),N0.scissor(Et),N0.setScissorTest(Dt),l0){const L0=si.get(Ue.texture);tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_CUBE_MAP_POSITIVE_X+_t,L0.__webglTexture,At)}else if(M0){const L0=_t;for(let di=0;di<Ue.textures.length;di++){const Ti=si.get(Ue.textures[di]);tt.framebufferTextureLayer(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0+di,Ti.__webglTexture,At,L0)}}else if(Ue!==null&&At!==0){const L0=si.get(Ue.texture);tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,L0.__webglTexture,At)}Je=-1},this.readRenderTargetPixels=function(Ue,_t,At,bt,xt,l0,M0,H0=0){if(!(Ue&&Ue.isWebGLRenderTarget)){i0("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let L0=si.get(Ue).__webglFramebuffer;if(Ue.isWebGLCubeRenderTarget&&M0!==void 0&&(L0=L0[M0]),L0){N0.bindFramebuffer(tt.FRAMEBUFFER,L0);try{const di=Ue.textures[H0],Ti=di.format,Y0=di.type;if(!wn.textureFormatReadable(Ti)){i0("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!wn.textureTypeReadable(Y0)){i0("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_t>=0&&_t<=Ue.width-bt&&At>=0&&At<=Ue.height-xt&&(Ue.textures.length>1&&tt.readBuffer(tt.COLOR_ATTACHMENT0+H0),tt.readPixels(_t,At,bt,xt,Si.convert(Ti),Si.convert(Y0),l0))}finally{const di=Ie!==null?si.get(Ie).__webglFramebuffer:null;N0.bindFramebuffer(tt.FRAMEBUFFER,di)}}},this.readRenderTargetPixelsAsync=async function(Ue,_t,At,bt,xt,l0,M0,H0=0){if(!(Ue&&Ue.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let L0=si.get(Ue).__webglFramebuffer;if(Ue.isWebGLCubeRenderTarget&&M0!==void 0&&(L0=L0[M0]),L0)if(_t>=0&&_t<=Ue.width-bt&&At>=0&&At<=Ue.height-xt){N0.bindFramebuffer(tt.FRAMEBUFFER,L0);const di=Ue.textures[H0],Ti=di.format,Y0=di.type;if(!wn.textureFormatReadable(Ti))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!wn.textureTypeReadable(Y0))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ui=tt.createBuffer();tt.bindBuffer(tt.PIXEL_PACK_BUFFER,Ui),tt.bufferData(tt.PIXEL_PACK_BUFFER,l0.byteLength,tt.STREAM_READ),Ue.textures.length>1&&tt.readBuffer(tt.COLOR_ATTACHMENT0+H0),tt.readPixels(_t,At,bt,xt,Si.convert(Ti),Si.convert(Y0),0);const mn=Ie!==null?si.get(Ie).__webglFramebuffer:null;N0.bindFramebuffer(tt.FRAMEBUFFER,mn);const Qn=tt.fenceSync(tt.SYNC_GPU_COMMANDS_COMPLETE,0);return tt.flush(),await roe(tt,Qn,4),tt.bindBuffer(tt.PIXEL_PACK_BUFFER,Ui),tt.getBufferSubData(tt.PIXEL_PACK_BUFFER,0,l0),tt.deleteBuffer(Ui),tt.deleteSync(Qn),l0}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Ue,_t=null,At=0){const bt=Math.pow(2,-At),xt=Math.floor(Ue.image.width*bt),l0=Math.floor(Ue.image.height*bt),M0=_t!==null?_t.x:0,H0=_t!==null?_t.y:0;oi.setTexture2D(Ue,0),tt.copyTexSubImage2D(tt.TEXTURE_2D,At,0,0,M0,H0,xt,l0),N0.unbindTexture()};const i1=tt.createFramebuffer(),fu=tt.createFramebuffer();this.copyTextureToTexture=function(Ue,_t,At=null,bt=null,xt=0,l0=null){l0===null&&(xt!==0?(c2("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),l0=xt,xt=0):l0=0);let M0,H0,L0,di,Ti,Y0,Ui,mn,Qn;const Hn=Ue.isCompressedTexture?Ue.mipmaps[l0]:Ue.image;if(At!==null)M0=At.max.x-At.min.x,H0=At.max.y-At.min.y,L0=At.isBox3?At.max.z-At.min.z:1,di=At.min.x,Ti=At.min.y,Y0=At.isBox3?At.min.z:0;else{const tr=Math.pow(2,-xt);M0=Math.floor(Hn.width*tr),H0=Math.floor(Hn.height*tr),Ue.isDataArrayTexture?L0=Hn.depth:Ue.isData3DTexture?L0=Math.floor(Hn.depth*tr):L0=1,di=0,Ti=0,Y0=0}bt!==null?(Ui=bt.x,mn=bt.y,Qn=bt.z):(Ui=0,mn=0,Qn=0);const bi=Si.convert(_t.format),_i=Si.convert(_t.type);let Nn;_t.isData3DTexture?(oi.setTexture3D(_t,0),Nn=tt.TEXTURE_3D):_t.isDataArrayTexture||_t.isCompressedArrayTexture?(oi.setTexture2DArray(_t,0),Nn=tt.TEXTURE_2D_ARRAY):(oi.setTexture2D(_t,0),Nn=tt.TEXTURE_2D),tt.pixelStorei(tt.UNPACK_FLIP_Y_WEBGL,_t.flipY),tt.pixelStorei(tt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_t.premultiplyAlpha),tt.pixelStorei(tt.UNPACK_ALIGNMENT,_t.unpackAlignment);const en=tt.getParameter(tt.UNPACK_ROW_LENGTH),cn=tt.getParameter(tt.UNPACK_IMAGE_HEIGHT),Vs=tt.getParameter(tt.UNPACK_SKIP_PIXELS),p2=tt.getParameter(tt.UNPACK_SKIP_ROWS),wo=tt.getParameter(tt.UNPACK_SKIP_IMAGES);tt.pixelStorei(tt.UNPACK_ROW_LENGTH,Hn.width),tt.pixelStorei(tt.UNPACK_IMAGE_HEIGHT,Hn.height),tt.pixelStorei(tt.UNPACK_SKIP_PIXELS,di),tt.pixelStorei(tt.UNPACK_SKIP_ROWS,Ti),tt.pixelStorei(tt.UNPACK_SKIP_IMAGES,Y0);const On=Ue.isDataArrayTexture||Ue.isData3DTexture,z2=_t.isDataArrayTexture||_t.isData3DTexture;if(Ue.isDepthTexture){const tr=si.get(Ue),b2=si.get(_t),ir=si.get(tr.__renderTarget),ya=si.get(b2.__renderTarget);N0.bindFramebuffer(tt.READ_FRAMEBUFFER,ir.__webglFramebuffer),N0.bindFramebuffer(tt.DRAW_FRAMEBUFFER,ya.__webglFramebuffer);for(let ti=0;ti<L0;ti++)On&&(tt.framebufferTextureLayer(tt.READ_FRAMEBUFFER,tt.COLOR_ATTACHMENT0,si.get(Ue).__webglTexture,xt,Y0+ti),tt.framebufferTextureLayer(tt.DRAW_FRAMEBUFFER,tt.COLOR_ATTACHMENT0,si.get(_t).__webglTexture,l0,Qn+ti)),tt.blitFramebuffer(di,Ti,M0,H0,Ui,mn,M0,H0,tt.DEPTH_BUFFER_BIT,tt.NEAREST);N0.bindFramebuffer(tt.READ_FRAMEBUFFER,null),N0.bindFramebuffer(tt.DRAW_FRAMEBUFFER,null)}else if(xt!==0||Ue.isRenderTargetTexture||si.has(Ue)){const tr=si.get(Ue),b2=si.get(_t);N0.bindFramebuffer(tt.READ_FRAMEBUFFER,i1),N0.bindFramebuffer(tt.DRAW_FRAMEBUFFER,fu);for(let ir=0;ir<L0;ir++)On?tt.framebufferTextureLayer(tt.READ_FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tr.__webglTexture,xt,Y0+ir):tt.framebufferTexture2D(tt.READ_FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,tr.__webglTexture,xt),z2?tt.framebufferTextureLayer(tt.DRAW_FRAMEBUFFER,tt.COLOR_ATTACHMENT0,b2.__webglTexture,l0,Qn+ir):tt.framebufferTexture2D(tt.DRAW_FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,b2.__webglTexture,l0),xt!==0?tt.blitFramebuffer(di,Ti,M0,H0,Ui,mn,M0,H0,tt.COLOR_BUFFER_BIT,tt.NEAREST):z2?tt.copyTexSubImage3D(Nn,l0,Ui,mn,Qn+ir,di,Ti,M0,H0):tt.copyTexSubImage2D(Nn,l0,Ui,mn,di,Ti,M0,H0);N0.bindFramebuffer(tt.READ_FRAMEBUFFER,null),N0.bindFramebuffer(tt.DRAW_FRAMEBUFFER,null)}else z2?Ue.isDataTexture||Ue.isData3DTexture?tt.texSubImage3D(Nn,l0,Ui,mn,Qn,M0,H0,L0,bi,_i,Hn.data):_t.isCompressedArrayTexture?tt.compressedTexSubImage3D(Nn,l0,Ui,mn,Qn,M0,H0,L0,bi,Hn.data):tt.texSubImage3D(Nn,l0,Ui,mn,Qn,M0,H0,L0,bi,_i,Hn):Ue.isDataTexture?tt.texSubImage2D(tt.TEXTURE_2D,l0,Ui,mn,M0,H0,bi,_i,Hn.data):Ue.isCompressedTexture?tt.compressedTexSubImage2D(tt.TEXTURE_2D,l0,Ui,mn,Hn.width,Hn.height,bi,Hn.data):tt.texSubImage2D(tt.TEXTURE_2D,l0,Ui,mn,M0,H0,bi,_i,Hn);tt.pixelStorei(tt.UNPACK_ROW_LENGTH,en),tt.pixelStorei(tt.UNPACK_IMAGE_HEIGHT,cn),tt.pixelStorei(tt.UNPACK_SKIP_PIXELS,Vs),tt.pixelStorei(tt.UNPACK_SKIP_ROWS,p2),tt.pixelStorei(tt.UNPACK_SKIP_IMAGES,wo),l0===0&&_t.generateMipmaps&&tt.generateMipmap(Nn),N0.unbindTexture()},this.initRenderTarget=function(Ue){si.get(Ue).__webglFramebuffer===void 0&&oi.setupRenderTarget(Ue)},this.initTexture=function(Ue){Ue.isCubeTexture?oi.setTextureCube(Ue,0):Ue.isData3DTexture?oi.setTexture3D(Ue,0):Ue.isDataArrayTexture||Ue.isCompressedArrayTexture?oi.setTexture2DArray(Ue,0):oi.setTexture2D(Ue,0),N0.unbindTexture()},this.resetState=function(){$e=0,Ee=0,Ie=null,N0.reset(),rt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return rs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(r){this._outputColorSpace=r;const c=this.getContext();c.drawingBufferColorSpace=pi._getDrawingBufferColorSpace(r),c.unpackColorSpace=pi._getUnpackColorSpace()}}const xfe=["alphaMap","alphaTest","anisotropy","anisotropyMap","anisotropyRotation","aoMap","aoMapIntensity","attenuationColor","attenuationDistance","bumpMap","clearcoat","clearcoatMap","clearcoatNormalMap","clearcoatNormalScale","clearcoatRoughness","color","dispersion","displacementMap","emissive","emissiveIntensity","emissiveMap","envMap","envMapIntensity","gradientMap","ior","iridescence","iridescenceIOR","iridescenceMap","iridescenceThicknessMap","lightMap","lightMapIntensity","map","matcap","metalness","metalnessMap","normalMap","normalScale","opacity","roughness","roughnessMap","sheen","sheenColor","sheenColorMap","sheenRoughnessMap","shininess","specular","specularColor","specularColorMap","specularIntensity","specularIntensityMap","specularMap","thickness","transmission","transmissionMap"],C4=new WeakMap;class yfe{constructor(r){this.renderObjects=new WeakMap,this.hasNode=this.containsNode(r),this.hasAnimation=r.object.isSkinnedMesh===!0,this.refreshUniforms=xfe,this.renderId=0}firstInitialization(r){return this.renderObjects.has(r)===!1?(this.getRenderObjectData(r),!0):!1}needsVelocity(r){const c=r.getMRT();return c!==null&&c.has("velocity")}getRenderObjectData(r){let c=this.renderObjects.get(r);if(c===void 0){const{geometry:f,material:p,object:y}=r;if(c={material:this.getMaterialData(p),geometry:{id:f.id,attributes:this.getAttributesData(f.attributes),indexVersion:f.index?f.index.version:null,drawRange:{start:f.drawRange.start,count:f.drawRange.count}},worldMatrix:y.matrixWorld.clone()},y.center&&(c.center=y.center.clone()),y.morphTargetInfluences&&(c.morphTargetInfluences=y.morphTargetInfluences.slice()),r.bundle!==null&&(c.version=r.bundle.version),c.material.transmission>0){const{width:T,height:R}=r.context;c.bufferWidth=T,c.bufferHeight=R}c.lights=this.getLightsData(r.lightsNode.getLights()),this.renderObjects.set(r,c)}return c}getAttributesData(r){const c={};for(const f in r){const p=r[f];c[f]={version:p.version}}return c}containsNode(r){const c=r.material;for(const f in c)if(c[f]&&c[f].isNode)return!0;return r.renderer.overrideNodes.modelViewMatrix!==null||r.renderer.overrideNodes.modelNormalViewMatrix!==null}getMaterialData(r){const c={};for(const f of this.refreshUniforms){const p=r[f];p!=null&&(typeof p=="object"&&p.clone!==void 0?p.isTexture===!0?c[f]={id:p.id,version:p.version}:c[f]=p.clone():c[f]=p)}return c}equals(r,c){const{object:f,material:p,geometry:y}=r,T=this.getRenderObjectData(r);if(T.worldMatrix.equals(f.matrixWorld)!==!0)return T.worldMatrix.copy(f.matrixWorld),!1;const R=T.material;for(const ue in R){const se=R[ue],Ne=p[ue];if(se.equals!==void 0){if(se.equals(Ne)===!1)return se.copy(Ne),!1}else if(Ne.isTexture===!0){if(se.id!==Ne.id||se.version!==Ne.version)return se.id=Ne.id,se.version=Ne.version,!1}else if(se!==Ne)return R[ue]=Ne,!1}if(R.transmission>0){const{width:ue,height:se}=r.context;if(T.bufferWidth!==ue||T.bufferHeight!==se)return T.bufferWidth=ue,T.bufferHeight=se,!1}const b=T.geometry,P=y.attributes,G=b.attributes,j=Object.keys(G),K=Object.keys(P);if(b.id!==y.id)return b.id=y.id,!1;if(j.length!==K.length)return T.geometry.attributes=this.getAttributesData(P),!1;for(const ue of j){const se=G[ue],Ne=P[ue];if(Ne===void 0)return delete G[ue],!1;if(se.version!==Ne.version)return se.version=Ne.version,!1}const Q=y.index,ie=b.indexVersion,ce=Q?Q.version:null;if(ie!==ce)return b.indexVersion=ce,!1;if(b.drawRange.start!==y.drawRange.start||b.drawRange.count!==y.drawRange.count)return b.drawRange.start=y.drawRange.start,b.drawRange.count=y.drawRange.count,!1;if(T.morphTargetInfluences){let ue=!1;for(let se=0;se<T.morphTargetInfluences.length;se++)T.morphTargetInfluences[se]!==f.morphTargetInfluences[se]&&(T.morphTargetInfluences[se]=f.morphTargetInfluences[se],ue=!0);if(ue)return!1}if(T.lights){for(let ue=0;ue<c.length;ue++)if(T.lights[ue].map!==c[ue].map)return!1}return T.center&&T.center.equals(f.center)===!1?(T.center.copy(f.center),!0):(r.bundle!==null&&(T.version=r.bundle.version),!0)}getLightsData(r){const c=[];for(const f of r)f.isSpotLight===!0&&f.map!==null&&c.push({map:f.map.version});return c}getLights(r,c){if(C4.has(r)){const p=C4.get(r);if(p.renderId===c)return p.lightsData}const f=this.getLightsData(r.getLights());return C4.set(r,{renderId:c,lightsData:f}),f}needsRefresh(r,c){if(this.hasNode||this.hasAnimation||this.firstInitialization(r)||this.needsVelocity(c.renderer))return!0;const{renderId:f}=c;if(this.renderId!==f)return this.renderId=f,!0;const p=r.object.static===!0,y=r.bundle!==null&&r.bundle.static===!0&&this.getRenderObjectData(r).version===r.bundle.version;if(p||y)return!1;const T=this.getLights(r.lightsNode,f);return this.equals(r,T)!==!0}}function p8(v,r=0){let c=3735928559^r,f=1103547991^r;if(v instanceof Array)for(let p=0,y;p<v.length;p++)y=v[p],c=Math.imul(c^y,2654435761),f=Math.imul(f^y,1597334677);else for(let p=0,y;p<v.length;p++)y=v.charCodeAt(p),c=Math.imul(c^y,2654435761),f=Math.imul(f^y,1597334677);return c=Math.imul(c^c>>>16,2246822507),c^=Math.imul(f^f>>>13,3266489909),f=Math.imul(f^f>>>16,2246822507),f^=Math.imul(c^c>>>13,3266489909),4294967296*(2097151&f)+(c>>>0)}const G_=v=>p8(v),Uf=v=>p8(v),Ku=(...v)=>p8(v),vfe=new Map([[1,"float"],[2,"vec2"],[3,"vec3"],[4,"vec4"],[9,"mat3"],[16,"mat4"]]),a5=new WeakMap;function Sfe(v){return vfe.get(v)}function y_(v){if(v==null)return null;const r=typeof v;return v.isNode===!0?"node":r==="number"?"float":r==="boolean"?"bool":r==="string"?"string":r==="function"?"shader":v.isVector2===!0?"vec2":v.isVector3===!0?"vec3":v.isVector4===!0?"vec4":v.isMatrix2===!0?"mat2":v.isMatrix3===!0?"mat3":v.isMatrix4===!0?"mat4":v.isColor===!0?"color":v instanceof ArrayBuffer?"ArrayBuffer":null}function _8(v,...r){const c=v?v.slice(-4):void 0;return r.length===1&&(c==="vec2"?r=[r[0],r[0]]:c==="vec3"?r=[r[0],r[0],r[0]]:c==="vec4"&&(r=[r[0],r[0],r[0],r[0]])),v==="color"?new ri(...r):c==="vec2"?new O0(...r):c==="vec3"?new nt(...r):c==="vec4"?new hi(...r):c==="mat2"?new B_(...r):c==="mat3"?new Pi(...r):c==="mat4"?new wi(...r):v==="bool"?r[0]||!1:v==="float"||v==="int"||v==="uint"?r[0]||0:v==="string"?r[0]||"":v==="ArrayBuffer"?Cfe(r[0]):null}function Ax(v){let r=a5.get(v);return r===void 0&&(r={},a5.set(v,r)),r}function Tfe(v){let r="";const c=new Uint8Array(v);for(let f=0;f<c.length;f++)r+=String.fromCharCode(c[f]);return btoa(r)}function Cfe(v){return Uint8Array.from(atob(v),r=>r.charCodeAt(0)).buffer}const Gp={VERTEX:"vertex"},Fi={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},qo={READ_ONLY:"readOnly",WRITE_ONLY:"writeOnly",READ_WRITE:"readWrite"},wfe=["fragment","vertex"],c5=["setup","analyze","generate"],l5=[...wfe,"compute"],ru=["x","y","z","w"],Mfe={analyze:"setup",generate:"analyze"};let Rfe=0,Q0=class extends Jo{static get type(){return"Node"}constructor(r=null){super(),this.nodeType=r,this.updateType=Fi.NONE,this.updateBeforeType=Fi.NONE,this.updateAfterType=Fi.NONE,this.uuid=Ga.generateUUID(),this.version=0,this.name="",this.global=!1,this.parents=!1,this.isNode=!0,this._beforeNodes=null,this._cacheKey=null,this._cacheKeyVersion=0,Object.defineProperty(this,"id",{value:Rfe++})}set needsUpdate(r){r===!0&&this.version++}get type(){return this.constructor.type}onUpdate(r,c){return this.updateType=c,this.update=r.bind(this),this}onFrameUpdate(r){return this.onUpdate(r,Fi.FRAME)}onRenderUpdate(r){return this.onUpdate(r,Fi.RENDER)}onObjectUpdate(r){return this.onUpdate(r,Fi.OBJECT)}onReference(r){return this.updateReference=r.bind(this),this}updateReference(){return this}isGlobal(){return this.global}*getChildren(){for(const{childNode:r}of this._getChildren())yield r}dispose(){this.dispatchEvent({type:"dispose"})}traverse(r){r(this);for(const c of this.getChildren())c.traverse(r)}_getChildren(r=new Set){const c=[];r.add(this);for(const f of Object.getOwnPropertyNames(this)){const p=this[f];if(!(f.startsWith("_")===!0||r.has(p))){if(Array.isArray(p)===!0)for(let y=0;y<p.length;y++){const T=p[y];T&&T.isNode===!0&&c.push({property:f,index:y,childNode:T})}else if(p&&p.isNode===!0)c.push({property:f,childNode:p});else if(p&&Object.getPrototypeOf(p)===Object.prototype)for(const y in p){if(y.startsWith("_")===!0)continue;const T=p[y];T&&T.isNode===!0&&c.push({property:f,index:y,childNode:T})}}}return c}getCacheKey(r=!1,c=null){if(r=r||this.version!==this._cacheKeyVersion,r===!0||this._cacheKey===null){c===null&&(c=new Set);const f=[];for(const{property:p,childNode:y}of this._getChildren(c))f.push(G_(p.slice(0,-4)),y.getCacheKey(r,c));this._cacheKey=Ku(Uf(f),this.customCacheKey()),this._cacheKeyVersion=this.version}return this._cacheKey}customCacheKey(){return this.id}getScope(){return this}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getUpdateAfterType(){return this.updateAfterType}getElementType(r){const c=this.getNodeType(r);return r.getElementType(c)}getMemberType(){return"void"}getNodeType(r){const c=r.getNodeProperties(this);return c.outputNode?c.outputNode.getNodeType(r):this.nodeType}getShared(r){const c=this.getHash(r);return r.getNodeFromHash(c)||this}getArrayCount(){return null}setup(r){const c=r.getNodeProperties(this);let f=0;for(const p of this.getChildren())c["node"+f++]=p;return c.outputNode||null}analyze(r,c=null){const f=r.increaseUsage(this);if(this.parents===!0){const p=r.getDataFromNode(this,"any");p.stages=p.stages||{},p.stages[r.shaderStage]=p.stages[r.shaderStage]||[],p.stages[r.shaderStage].push(c)}if(f===1){const p=r.getNodeProperties(this);for(const y of Object.values(p))y&&y.isNode===!0&&y.build(r,this)}}generate(r,c){const{outputNode:f}=r.getNodeProperties(this);if(f&&f.isNode===!0)return f.build(r,c)}updateBefore(){jt("Abstract function.")}updateAfter(){jt("Abstract function.")}update(){jt("Abstract function.")}before(r){return this._beforeNodes===null&&(this._beforeNodes=[]),this._beforeNodes.push(r),this}build(r,c=null){const f=this.getShared(r);if(this!==f)return f.build(r,c);if(this._beforeNodes!==null){const b=this._beforeNodes;this._beforeNodes=null;for(const P of b)P.build(r,c);this._beforeNodes=b}const p=r.getDataFromNode(this);p.buildStages=p.buildStages||{},p.buildStages[r.buildStage]=!0;const y=Mfe[r.buildStage];if(y&&p.buildStages[y]!==!0){const b=r.getBuildStage();r.setBuildStage(y),this.build(r),r.setBuildStage(b)}r.addNode(this),r.addChain(this);let T=null;const R=r.getBuildStage();if(R==="setup"){this.updateReference(r);const b=r.getNodeProperties(this);if(b.initialized!==!0){b.initialized=!0,b.outputNode=this.setup(r)||b.outputNode||null;for(const P of Object.values(b))if(P&&P.isNode===!0){if(P.parents===!0){const G=r.getNodeProperties(P);G.parents=G.parents||[],G.parents.push(this)}P.build(r)}}T=b.outputNode}else if(R==="analyze")this.analyze(r,c);else if(R==="generate"){if(this.generate.length<2){const P=this.getNodeType(r),G=r.getDataFromNode(this);T=G.snippet,T===void 0?G.generated===void 0?(G.generated=!0,T=this.generate(r)||"",G.snippet=T):(jt("Node: Recursion detected.",this),T="/* Recursion detected. */"):G.flowCodes!==void 0&&r.context.nodeBlock!==void 0&&r.addFlowCodeHierarchy(this,r.context.nodeBlock),T=r.format(T,P,c)}else T=this.generate(r,c)||"";T===""&&c!==null&&c!=="void"&&c!=="OutputType"&&(i0(`TSL: Invalid generated code, expected a "${c}".`),T=r.generateConst(c))}return r.removeChain(this),r.addSequentialNode(this),T}getSerializeChildren(){return this._getChildren()}serialize(r){const c=this.getSerializeChildren(),f={};for(const{property:p,index:y,childNode:T}of c)y!==void 0?(f[p]===void 0&&(f[p]=Number.isInteger(y)?[]:{}),f[p][y]=T.toJSON(r.meta).uuid):f[p]=T.toJSON(r.meta).uuid;Object.keys(f).length>0&&(r.inputNodes=f)}deserialize(r){if(r.inputNodes!==void 0){const c=r.meta.nodes;for(const f in r.inputNodes)if(Array.isArray(r.inputNodes[f])){const p=[];for(const y of r.inputNodes[f])p.push(c[y]);this[f]=p}else if(typeof r.inputNodes[f]=="object"){const p={};for(const y in r.inputNodes[f]){const T=r.inputNodes[f][y];p[y]=c[T]}this[f]=p}else{const p=r.inputNodes[f];this[f]=c[p]}}}toJSON(r){const{uuid:c,type:f}=this,p=r===void 0||typeof r=="string";p&&(r={textures:{},images:{},nodes:{}});let y=r.nodes[c];y===void 0&&(y={uuid:c,type:f,meta:r,metadata:{version:4.7,type:"Node",generator:"Node.toJSON"}},p!==!0&&(r.nodes[y.uuid]=y),this.serialize(y),delete y.meta);function T(R){const b=[];for(const P in R){const G=R[P];delete G.metadata,b.push(G)}return b}if(p){const R=T(r.textures),b=T(r.images),P=T(r.nodes);R.length>0&&(y.textures=R),b.length>0&&(y.images=b),P.length>0&&(y.nodes=P)}return y}};class Of extends Q0{static get type(){return"ArrayElementNode"}constructor(r,c){super(),this.node=r,this.indexNode=c,this.isArrayElementNode=!0}getNodeType(r){return this.node.getElementType(r)}generate(r){const c=this.indexNode.getNodeType(r),f=this.node.build(r),p=this.indexNode.build(r,!r.isVector(c)&&r.isInteger(c)?c:"uint");return`${f}[ ${p} ]`}}class Ex extends Q0{static get type(){return"ConvertNode"}constructor(r,c){super(),this.node=r,this.convertTo=c}getNodeType(r){const c=this.node.getNodeType(r);let f=null;for(const p of this.convertTo.split("|"))(f===null||r.getTypeLength(c)===r.getTypeLength(p))&&(f=p);return f}serialize(r){super.serialize(r),r.convertTo=this.convertTo}deserialize(r){super.deserialize(r),this.convertTo=r.convertTo}generate(r,c){const f=this.node,p=this.getNodeType(r),y=f.build(r,p);return r.format(y,p,c)}}class ur extends Q0{static get type(){return"TempNode"}constructor(r=null){super(r),this.isTempNode=!0}hasDependencies(r){return r.getDataFromNode(this).usageCount>1}build(r,c){if(r.getBuildStage()==="generate"){const p=r.getVectorType(this.getNodeType(r,c)),y=r.getDataFromNode(this);if(y.propertyName!==void 0)return r.format(y.propertyName,p,c);if(p!=="void"&&c!=="void"&&this.hasDependencies(r)){const T=super.build(r,p),R=r.getVarFromNode(this,null,p),b=r.getPropertyName(R);return r.addLineFlowCode(`${b} = ${T}`,this),y.snippet=T,y.propertyName=b,r.format(y.propertyName,p,c)}}return super.build(r,c)}}class Afe extends ur{static get type(){return"JoinNode"}constructor(r=[],c=null){super(c),this.nodes=r}getNodeType(r){return this.nodeType!==null?r.getVectorType(this.nodeType):r.getTypeFromLength(this.nodes.reduce((c,f)=>c+r.getTypeLength(f.getNodeType(r)),0))}generate(r,c){const f=this.getNodeType(r),p=r.getTypeLength(f),y=this.nodes,T=r.getComponentType(f),R=[];let b=0;for(const G of y){if(b>=p){i0(`TSL: Length of parameters exceeds maximum length of function '${f}()' type.`);break}let j=G.getNodeType(r),K=r.getTypeLength(j),Q;if(b+K>p&&(i0(`TSL: Length of '${f}()' data exceeds maximum length of output type.`),K=p-b,j=r.getTypeFromLength(K)),b+=K,Q=G.build(r,j),r.getComponentType(j)!==T){const ce=r.getTypeFromLength(K,T);Q=r.format(Q,j,ce)}R.push(Q)}const P=`${r.getType(f)}( ${R.join(", ")} )`;return r.format(P,f,c)}}const Efe=ru.join("");class bfe extends Q0{static get type(){return"SplitNode"}constructor(r,c="x"){super(),this.node=r,this.components=c,this.isSplitNode=!0}getVectorLength(){let r=this.components.length;for(const c of this.components)r=Math.max(ru.indexOf(c)+1,r);return r}getComponentType(r){return r.getComponentType(this.node.getNodeType(r))}getNodeType(r){return r.getTypeFromLength(this.components.length,this.getComponentType(r))}getScope(){return this.node.getScope()}generate(r,c){const f=this.node,p=r.getTypeLength(f.getNodeType(r));let y=null;if(p>1){let T=null;this.getVectorLength()>=p&&(T=r.getTypeFromLength(this.getVectorLength(),this.getComponentType(r)));const b=f.build(r,T);this.components.length===p&&this.components===Efe.slice(0,this.components.length)?y=r.format(b,T,c):y=r.format(`${b}.${this.components}`,this.getNodeType(r),c)}else y=f.build(r,c);return y}serialize(r){super.serialize(r),r.components=this.components}deserialize(r){super.deserialize(r),this.components=r.components}}class Nfe extends ur{static get type(){return"SetNode"}constructor(r,c,f){super(),this.sourceNode=r,this.components=c,this.targetNode=f}getNodeType(r){return this.sourceNode.getNodeType(r)}generate(r){const{sourceNode:c,components:f,targetNode:p}=this,y=this.getNodeType(r),T=r.getComponentType(p.getNodeType(r)),R=r.getTypeFromLength(f.length,T),b=p.build(r,R),P=c.build(r,y),G=r.getTypeLength(y),j=[];for(let K=0;K<G;K++){const Q=ru[K];Q===f[0]?(j.push(b),K+=f.length-1):j.push(P+"."+Q)}return`${r.getType(y)}( ${j.join(", ")} )`}}class Dfe extends ur{static get type(){return"FlipNode"}constructor(r,c){super(),this.sourceNode=r,this.components=c}getNodeType(r){return this.sourceNode.getNodeType(r)}generate(r){const{components:c,sourceNode:f}=this,p=this.getNodeType(r),y=f.build(r),T=r.getVarFromNode(this),R=r.getPropertyName(T);r.addLineFlowCode(R+" = "+y,this);const b=r.getTypeLength(p),P=[];let G=0;for(let j=0;j<b;j++){const K=ru[j];K===c[G]?(P.push("1.0 - "+(R+"."+K)),G++):P.push(R+"."+K)}return`${r.getType(p)}( ${P.join(", ")} )`}}class h8 extends Q0{static get type(){return"InputNode"}constructor(r,c=null){super(c),this.isInputNode=!0,this.value=r,this.precision=null}getNodeType(){return this.nodeType===null?y_(this.value):this.nodeType}getInputType(r){return this.getNodeType(r)}setPrecision(r){return this.precision=r,this}serialize(r){super.serialize(r),r.value=this.value,this.value&&this.value.toArray&&(r.value=this.value.toArray()),r.valueType=y_(this.value),r.nodeType=this.nodeType,r.valueType==="ArrayBuffer"&&(r.value=Tfe(r.value)),r.precision=this.precision}deserialize(r){super.deserialize(r),this.nodeType=r.nodeType,this.value=Array.isArray(r.value)?_8(r.valueType,...r.value):r.value,this.precision=r.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(r.value))}generate(){jt("Abstract function.")}}const u5=/float|u?int/;class e1 extends h8{static get type(){return"ConstNode"}constructor(r,c=null){super(r,c),this.isConstNode=!0}generateConst(r){return r.generateConst(this.getNodeType(r),this.value)}generate(r,c){const f=this.getNodeType(r);return u5.test(f)&&u5.test(c)?r.generateConst(c,this.value):r.format(this.generateConst(r),f,c)}}class Ife extends Q0{static get type(){return"MemberNode"}constructor(r,c){super(),this.structNode=r,this.property=c,this.isMemberNode=!0}hasMember(r){return this.structNode.isMemberNode&&this.structNode.hasMember(r)===!1?!1:this.structNode.getMemberType(r,this.property)!=="void"}getNodeType(r){return this.hasMember(r)===!1?"float":this.structNode.getMemberType(r,this.property)}getMemberType(r,c){if(this.hasMember(r)===!1)return"float";const f=this.getNodeType(r);return r.getStructTypeNode(f).getMemberType(r,c)}generate(r){if(this.hasMember(r)===!1){jt(`TSL: Member "${this.property}" does not exist in struct.`);const f=this.getNodeType(r);return r.generateConst(f)}return this.structNode.build(r)+"."+this.property}}let oc=null;const _d=new Map;function Bt(v,r){if(_d.has(v)){jt(`TSL: Redefinition of method chaining '${v}'.`);return}if(typeof r!="function")throw new Error(`THREE.TSL: Node element ${v} is not a function`);_d.set(v,r),v!=="assign"&&(Q0.prototype[v]=function(...c){return this.isStackNode?this.addToStack(r(...c)):r(this,...c)},Q0.prototype[v+"Assign"]=function(...c){return this.isStackNode?this.assign(c[0],r(...c)):this.assign(r(this,...c))})}const Pfe=v=>v.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),f5=v=>Pfe(v).split("").sort().join("");Q0.prototype.assign=function(...v){if(this.isStackNode!==!0)return oc!==null?oc.assign(this,...v):i0("TSL: No stack defined for assign operation. Make sure the assign is inside a Fn()."),this;{const r=_d.get("assign");return this.addToStack(r(...v))}};Q0.prototype.toVarIntent=function(){return this};Q0.prototype.get=function(v){return new Ife(this,v)};const Zu={};function Vp(v,r,c){Zu[v]=Zu[r]=Zu[c]={get(){this._cache=this._cache||{};let T=this._cache[v];return T===void 0&&(T=new bfe(this,v),this._cache[v]=T),T},set(T){this[v].assign(r0(T))}};const f=v.toUpperCase(),p=r.toUpperCase(),y=c.toUpperCase();Q0.prototype["set"+f]=Q0.prototype["set"+p]=Q0.prototype["set"+y]=function(T){const R=f5(v);return new Nfe(this,R,r0(T))},Q0.prototype["flip"+f]=Q0.prototype["flip"+p]=Q0.prototype["flip"+y]=function(){const T=f5(v);return new Dfe(this,T)}}const Uo=["x","y","z","w"],Oo=["r","g","b","a"],Go=["s","t","p","q"];for(let v=0;v<4;v++){let r=Uo[v],c=Oo[v],f=Go[v];Vp(r,c,f);for(let p=0;p<4;p++){r=Uo[v]+Uo[p],c=Oo[v]+Oo[p],f=Go[v]+Go[p],Vp(r,c,f);for(let y=0;y<4;y++){r=Uo[v]+Uo[p]+Uo[y],c=Oo[v]+Oo[p]+Oo[y],f=Go[v]+Go[p]+Go[y],Vp(r,c,f);for(let T=0;T<4;T++)r=Uo[v]+Uo[p]+Uo[y]+Uo[T],c=Oo[v]+Oo[p]+Oo[y]+Oo[T],f=Go[v]+Go[p]+Go[y]+Go[T],Vp(r,c,f)}}}for(let v=0;v<32;v++)Zu[v]={get(){this._cache=this._cache||{};let r=this._cache[v];return r===void 0&&(r=new Of(this,new e1(v,"uint")),this._cache[v]=r),r},set(r){this[v].assign(r0(r))}};Object.defineProperties(Q0.prototype,Zu);const p5=new WeakMap,Lfe=function(v,r=null){const c=y_(v);return c==="node"?v:r===null&&(c==="float"||c==="boolean")||c&&c!=="shader"&&c!=="string"?r0(hd(v,r)):c==="shader"?v.isFn?v:Xt(v):v},kfe=function(v,r=null){for(const c in v)v[c]=r0(v[c],r);return v},Ffe=function(v,r=null){const c=v.length;for(let f=0;f<c;f++)v[f]=r0(v[f],r);return v},bx=function(v,r=null,c=null,f=null){function p(G){return f!==null?(G=r0(Object.assign(G,f)),f.intent===!0&&(G=G.toVarIntent())):G=r0(G),G}let y,T=r,R,b;function P(G){let j;return T?j=/[a-z]/i.test(T)?T+"()":T:j=v.type,R!==void 0&&G.length<R?(i0(`TSL: "${j}" parameter length is less than minimum required.`),G.concat(new Array(R-G.length).fill(0))):b!==void 0&&G.length>b?(i0(`TSL: "${j}" parameter length exceeds limit.`),G.slice(0,b)):G}return r===null?y=(...G)=>p(new v(...cl(P(G)))):c!==null?(c=r0(c),y=(...G)=>p(new v(r,...cl(P(G)),c))):y=(...G)=>p(new v(r,...cl(P(G)))),y.setParameterLength=(...G)=>(G.length===1?R=b=G[0]:G.length===2&&([R,b]=G),y),y.setName=G=>(T=G,y),y},Bfe=function(v,...r){return r0(new v(...cl(r)))};class Ufe extends Q0{constructor(r,c){super(),this.shaderNode=r,this.rawInputs=c,this.isShaderCallNodeInternal=!0}getNodeType(r){return this.shaderNode.nodeType||this.getOutputNode(r).getNodeType(r)}getElementType(r){return this.getOutputNode(r).getElementType(r)}getMemberType(r,c){return this.getOutputNode(r).getMemberType(r,c)}call(r){const{shaderNode:c,rawInputs:f}=this,p=r.getNodeProperties(c),y=r.getClosestSubBuild(c.subBuilds)||"",T=y||"default";if(p[T])return p[T];const R=r.subBuildFn,b=r.fnCall;r.subBuildFn=y,r.fnCall=this;let P=null;if(c.layout){let G=p5.get(r.constructor);G===void 0&&(G=new WeakMap,p5.set(r.constructor,G));let j=G.get(c);j===void 0&&(j=r0(r.buildFunctionNode(c)),G.set(c,j)),r.addInclude(j);const K=f?Ofe(f):null;P=r0(j.call(K))}else{const G=new Proxy(r,{get:(ce,ue,se)=>{let Ne;return Symbol.iterator===ue?Ne=function*(){yield void 0}:Ne=Reflect.get(ce,ue,se),Ne}}),j=f?Gfe(f):null,K=Array.isArray(f)?f.length>0:f!==null,Q=c.jsFunc,ie=K||Q.length>1?Q(j,G):Q(G);P=r0(ie)}return r.subBuildFn=R,r.fnCall=b,c.once&&(p[T]=P),P}setupOutput(r){return r.addStack(),r.stack.outputNode=this.call(r),r.removeStack()}getOutputNode(r){const c=r.getNodeProperties(this),f=r.getSubBuildOutput(this);return c[f]=c[f]||this.setupOutput(r),c[f].subBuild=r.getClosestSubBuild(this),c[f]}build(r,c=null){let f=null;const p=r.getBuildStage(),y=r.getNodeProperties(this),T=r.getSubBuildOutput(this),R=this.getOutputNode(r),b=r.fnCall;if(r.fnCall=this,p==="setup"){const P=r.getSubBuildProperty("initialized",this);if(y[P]!==!0&&(y[P]=!0,y[T]=this.getOutputNode(r),y[T].build(r),this.shaderNode.subBuilds))for(const G of r.chaining){const j=r.getDataFromNode(G,"any");j.subBuilds=j.subBuilds||new Set;for(const K of this.shaderNode.subBuilds)j.subBuilds.add(K)}f=y[T]}else p==="analyze"?R.build(r,c):p==="generate"&&(f=R.build(r,c)||"");return r.fnCall=b,f}}function Ofe(v){let r;return x8(v),v[0]&&(v[0].isNode||Object.getPrototypeOf(v[0])!==Object.prototype)?r=[...v]:r=v[0],r}function Gfe(v){let r=0;return x8(v),new Proxy(v,{get:(c,f,p)=>{let y;if(f==="length")return y=v.length,y;if(Symbol.iterator===f)y=function*(){for(const T of v)yield r0(T)};else{if(v.length>0)if(Object.getPrototypeOf(v[0])===Object.prototype){const T=v[0];T[f]===void 0?y=T[r++]:y=Reflect.get(T,f,p)}else v[0]instanceof Q0&&(v[f]===void 0?y=v[r++]:y=Reflect.get(v,f,p));else y=Reflect.get(c,f,p);y=r0(y)}return y}})}class Vfe extends Q0{constructor(r,c){super(c),this.jsFunc=r,this.layout=null,this.global=!0,this.once=!1}setLayout(r){return this.layout=r,this}getLayout(){return this.layout}call(r=null){return new Ufe(this,r)}setup(){return this.call()}}const zfe=[!1,!0],Wfe=[0,1,2,3],Hfe=[-1,-2],Nx=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],d8=new Map;for(const v of zfe)d8.set(v,new e1(v));const m8=new Map;for(const v of Wfe)m8.set(v,new e1(v,"uint"));const g8=new Map([...m8].map(v=>new e1(v.value,"int")));for(const v of Hfe)g8.set(v,new e1(v,"int"));const V_=new Map([...g8].map(v=>new e1(v.value)));for(const v of Nx)V_.set(v,new e1(v));for(const v of Nx)V_.set(-v,new e1(-v));const z_={bool:d8,uint:m8,ints:g8,float:V_},_5=new Map([...d8,...V_]),hd=(v,r)=>_5.has(v)?_5.get(v):v.isNode===!0?v:new e1(v,r),er=function(v,r=null){return(...c)=>{for(const p of c)if(p===void 0)return i0(`TSL: Invalid parameter for the type "${v}".`),r0(new e1(0,v));if((c.length===0||!["bool","float","int","uint"].includes(v)&&c.every(p=>{const y=typeof p;return y!=="object"&&y!=="function"}))&&(c=[_8(v,...c)]),c.length===1&&r!==null&&r.has(c[0]))return zp(r.get(c[0]));if(c.length===1){const p=hd(c[0],v);return p.nodeType===v?zp(p):zp(new Ex(p,v))}const f=c.map(p=>hd(p));return zp(new Afe(f,v))}},h5=v=>typeof v=="object"&&v!==null?v.value:v,jfe=v=>v!=null?v.nodeType||v.convertTo||(typeof v=="string"?v:null):null;function Hu(v,r){return new Vfe(v,r)}const r0=(v,r=null)=>Lfe(v,r),zp=(v,r=null)=>r0(v,r).toVarIntent(),x8=(v,r=null)=>new kfe(v,r),cl=(v,r=null)=>new Ffe(v,r),xn=(v,r=null,c=null,f=null)=>new bx(v,r,c,f),h0=(v,...r)=>new Bfe(v,...r),F0=(v,r=null,c=null,f={})=>new bx(v,r,c,{...f,intent:!0});let qfe=0;class Xfe extends Q0{constructor(r,c=null){super();let f=null;c!==null&&(typeof c=="object"?f=c.return:(typeof c=="string"?f=c:i0("TSL: Invalid layout type."),c=null)),this.shaderNode=new Hu(r,f),c!==null&&this.setLayout(c),this.isFn=!0}setLayout(r){const c=this.shaderNode.nodeType;if(typeof r.inputs!="object"){const f={name:"fn"+qfe++,type:c,inputs:[]};for(const p in r)p!=="return"&&f.inputs.push({name:p,type:r[p]});r=f}return this.shaderNode.setLayout(r),this}getNodeType(r){return this.shaderNode.getNodeType(r)||"float"}call(...r){const c=this.shaderNode.call(r);return this.shaderNode.nodeType==="void"&&c.toStack(),c.toVarIntent()}once(r=null){return this.shaderNode.once=!0,this.shaderNode.subBuilds=r,this}generate(r){const c=this.getNodeType(r);return i0('TSL: "Fn()" was declared but not invoked. Try calling it like "Fn()( ...params )".'),r.generateConst(c)}}function Xt(v,r=null){const c=new Xfe(v,r);return new Proxy(()=>{},{apply(f,p,y){return c.call(...y)},get(f,p,y){return Reflect.get(c,p,y)},set(f,p,y,T){return Reflect.set(c,p,y,T)}})}const v_=v=>{oc=v},Dx=()=>oc,f2=(...v)=>oc.If(...v);function Ix(v){return oc&&oc.addToStack(v),v}Bt("toStack",Ix);const $fe=new er("color"),Lt=new er("float",z_.float),n2=new er("int",z_.ints),I2=new er("uint",z_.uint),y8=new er("bool",z_.bool),_0=new er("vec2"),w1=new er("ivec2"),Yfe=new er("uvec2"),Kfe=new er("bvec2"),Gt=new er("vec3"),Zfe=new er("ivec3"),Qfe=new er("uvec3"),Jfe=new er("bvec3"),Li=new er("vec4"),epe=new er("ivec4"),tpe=new er("uvec4"),ipe=new er("bvec4"),v8=new er("mat2"),ss=new er("mat3"),ll=new er("mat4");Bt("toColor",$fe);Bt("toFloat",Lt);Bt("toInt",n2);Bt("toUint",I2);Bt("toBool",y8);Bt("toVec2",_0);Bt("toIVec2",w1);Bt("toUVec2",Yfe);Bt("toBVec2",Kfe);Bt("toVec3",Gt);Bt("toIVec3",Zfe);Bt("toUVec3",Qfe);Bt("toBVec3",Jfe);Bt("toVec4",Li);Bt("toIVec4",epe);Bt("toUVec4",tpe);Bt("toBVec4",ipe);Bt("toMat2",v8);Bt("toMat3",ss);Bt("toMat4",ll);const npe=xn(Of).setParameterLength(2),rpe=(v,r)=>r0(new Ex(r0(v),r));Bt("element",npe);Bt("convert",rpe);Bt("append",v=>(jt("TSL: .append() has been renamed to .toStack()."),Ix(v)));class kn extends Q0{static get type(){return"PropertyNode"}constructor(r,c=null,f=!1){super(r),this.name=c,this.varying=f,this.isPropertyNode=!0,this.global=!0}customCacheKey(){return G_(this.type+":"+(this.name||"")+":"+(this.varying?"1":"0"))}getHash(r){return this.name||super.getHash(r)}generate(r){let c;return this.varying===!0?(c=r.getVaryingFromNode(this,this.name),c.needsInterpolation=!0):c=r.getVarFromNode(this,this.name),r.getPropertyName(c)}}const ua=(v,r)=>r0(new kn(v,r)),S_=(v,r)=>r0(new kn(v,r,!0)),un=h0(kn,"vec4","DiffuseColor"),d5=h0(kn,"vec3","EmissiveColor"),A1=h0(kn,"float","Roughness"),T_=h0(kn,"float","Metalness"),dd=h0(kn,"float","Clearcoat"),C_=h0(kn,"float","ClearcoatRoughness"),tl=h0(kn,"vec3","Sheen"),S8=h0(kn,"float","SheenRoughness"),T8=h0(kn,"float","Iridescence"),Px=h0(kn,"float","IridescenceIOR"),Lx=h0(kn,"float","IridescenceThickness"),md=h0(kn,"float","AlphaT"),Oa=h0(kn,"float","Anisotropy"),c_=h0(kn,"vec3","AnisotropyT"),ul=h0(kn,"vec3","AnisotropyB"),fo=h0(kn,"color","SpecularColor"),w_=h0(kn,"float","SpecularF90"),gd=h0(kn,"float","Shininess"),Qu=h0(kn,"vec4","Output"),w4=h0(kn,"float","dashSize"),m5=h0(kn,"float","gapSize"),l_=h0(kn,"float","IOR"),xd=h0(kn,"float","Transmission"),kx=h0(kn,"float","Thickness"),Fx=h0(kn,"float","AttenuationDistance"),Bx=h0(kn,"color","AttenuationColor"),Ux=h0(kn,"float","Dispersion");class Ox extends Q0{static get type(){return"UniformGroupNode"}constructor(r,c=!1,f=1){super("string"),this.name=r,this.shared=c,this.order=f,this.isUniformGroup=!0}serialize(r){super.serialize(r),r.name=this.name,r.version=this.version,r.shared=this.shared}deserialize(r){super.deserialize(r),this.name=r.name,this.version=r.version,this.shared=r.shared}}const spe=v=>new Ox(v),C8=(v,r=0)=>new Ox(v,!0,r),ope=C8("frame"),xi=C8("render"),Gx=spe("object");class Gf extends h8{static get type(){return"UniformNode"}constructor(r,c=null){super(r,c),this.isUniformNode=!0,this.name="",this.groupNode=Gx}setName(r){return this.name=r,this}label(r){return jt('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(r)}setGroup(r){return this.groupNode=r,this}getGroup(){return this.groupNode}getUniformHash(r){return this.getHash(r)}onUpdate(r,c){return r=r.bind(this),super.onUpdate(f=>{const p=r(f,this);p!==void 0&&(this.value=p)},c)}getInputType(r){let c=super.getInputType(r);return c==="bool"&&(c="uint"),c}generate(r,c){const f=this.getNodeType(r),p=this.getUniformHash(r);let y=r.getNodeFromHash(p);y===void 0&&(r.setHashNode(this,p),y=this);const T=y.getInputType(r),R=r.getUniformFromNode(y,T,r.shaderStage,this.name||r.context.nodeName),b=r.getPropertyName(R);r.context.nodeName!==void 0&&delete r.context.nodeName;let P=b;if(f==="bool"){const G=r.getDataFromNode(this);let j=G.propertyName;if(j===void 0){const K=r.getVarFromNode(this,null,"bool");j=r.getPropertyName(K),G.propertyName=j,P=r.format(b,T,f),r.addLineFlowCode(`${j} = ${P}`,this)}P=j}return r.format(P,f,c)}}const vi=(v,r)=>{const c=jfe(r||v);return c===v&&(v=_8(c)),v=v&&v.isNode===!0?v.node&&v.node.value||v.value:v,r0(new Gf(v,c))};class g5 extends ur{static get type(){return"ArrayNode"}constructor(r,c,f=null){super(r),this.count=c,this.values=f,this.isArrayNode=!0}getArrayCount(){return this.count}getNodeType(r){return this.nodeType===null&&(this.nodeType=this.values[0].getNodeType(r)),this.nodeType}getElementType(r){return this.getNodeType(r)}generate(r){const c=this.getNodeType(r);return r.generateArray(c,this.count,this.values)}}const ape=(...v)=>{let r;if(v.length===1){const c=v[0];r=new g5(null,c.length,c)}else{const c=v[0],f=v[1];r=new g5(c,f)}return r0(r)};Bt("toArray",(v,r)=>ape(Array(r).fill(v)));class cpe extends ur{static get type(){return"AssignNode"}constructor(r,c){super(),this.targetNode=r,this.sourceNode=c,this.isAssignNode=!0}hasDependencies(){return!1}getNodeType(r,c){return c!=="void"?this.targetNode.getNodeType(r):"void"}needsSplitAssign(r){const{targetNode:c}=this;if(r.isAvailable("swizzleAssign")===!1&&c.isSplitNode&&c.components.length>1){const f=r.getTypeLength(c.node.getNodeType(r));return ru.join("").slice(0,f)!==c.components}return!1}setup(r){const{targetNode:c,sourceNode:f}=this,p=c.getScope(),y=r.getNodeProperties(p);y.assign=!0;const T=r.getNodeProperties(this);T.sourceNode=f,T.targetNode=c.context({assign:!0})}generate(r,c){const{targetNode:f,sourceNode:p}=r.getNodeProperties(this),y=this.needsSplitAssign(r),T=f.build(r),R=f.getNodeType(r),b=p.build(r,R),P=p.getNodeType(r),G=r.getDataFromNode(this);let j;if(G.initialized===!0)c!=="void"&&(j=T);else if(y){const K=r.getVarFromNode(this,null,R),Q=r.getPropertyName(K);r.addLineFlowCode(`${Q} = ${b}`,this);const ie=f.node,ue=ie.node.context({assign:!0}).build(r);for(let se=0;se<ie.components.length;se++){const Ne=ie.components[se];r.addLineFlowCode(`${ue}.${Ne} = ${Q}[ ${se} ]`,this)}c!=="void"&&(j=T)}else j=`${T} = ${b}`,(c==="void"||P==="void")&&(r.addLineFlowCode(j,this),c!=="void"&&(j=T));return G.initialized=!0,r.format(j,R,c)}}const lpe=xn(cpe).setParameterLength(2);Bt("assign",lpe);class upe extends ur{static get type(){return"FunctionCallNode"}constructor(r=null,c={}){super(),this.functionNode=r,this.parameters=c}setParameters(r){return this.parameters=r,this}getParameters(){return this.parameters}getNodeType(r){return this.functionNode.getNodeType(r)}getMemberType(r,c){return this.functionNode.getMemberType(r,c)}generate(r){const c=[],f=this.functionNode,p=f.getInputs(r),y=this.parameters,T=(b,P)=>{const G=P.type,j=G==="pointer";let K;return j?K="&"+b.build(r):K=b.build(r,G),K};if(Array.isArray(y)){if(y.length>p.length)i0("TSL: The number of provided parameters exceeds the expected number of inputs in 'Fn()'."),y.length=p.length;else if(y.length<p.length)for(i0("TSL: The number of provided parameters is less than the expected number of inputs in 'Fn()'.");y.length<p.length;)y.push(Lt(0));for(let b=0;b<y.length;b++)c.push(T(y[b],p[b]))}else for(const b of p){const P=y[b.name];P!==void 0?c.push(T(P,b)):(i0(`TSL: Input '${b.name}' not found in 'Fn()'.`),c.push(T(Lt(0),b)))}return`${f.build(r,"property")}( ${c.join(", ")} )`}}const fpe=(v,...r)=>(r=r.length>1||r[0]&&r[0].isNode===!0?cl(r):x8(r[0]),new upe(r0(v),r));Bt("call",fpe);const ppe={"==":"equal","!=":"notEqual","<":"lessThan",">":"greaterThan","<=":"lessThanEqual",">=":"greaterThanEqual","%":"mod"};class S2 extends ur{static get type(){return"OperatorNode"}constructor(r,c,f,...p){if(super(),p.length>0){let y=new S2(r,c,f);for(let T=0;T<p.length-1;T++)y=new S2(r,y,p[T]);c=y,f=p[p.length-1]}this.op=r,this.aNode=c,this.bNode=f,this.isOperatorNode=!0}getOperatorMethod(r,c){return r.getMethod(ppe[this.op],c)}getNodeType(r,c=null){const f=this.op,p=this.aNode,y=this.bNode,T=p.getNodeType(r),R=y?y.getNodeType(r):null;if(T==="void"||R==="void")return c||"void";if(f==="%")return T;if(f==="~"||f==="&"||f==="|"||f==="^"||f===">>"||f==="<<")return r.getIntegerType(T);if(f==="!"||f==="&&"||f==="||"||f==="^^")return"bool";if(f==="=="||f==="!="||f==="<"||f===">"||f==="<="||f===">="){const b=Math.max(r.getTypeLength(T),r.getTypeLength(R));return b>1?`bvec${b}`:"bool"}else{if(r.isMatrix(T)){if(R==="float")return T;if(r.isVector(R))return r.getVectorFromMatrix(T);if(r.isMatrix(R))return T}else if(r.isMatrix(R)){if(T==="float")return R;if(r.isVector(T))return r.getVectorFromMatrix(R)}return r.getTypeLength(R)>r.getTypeLength(T)?R:T}}generate(r,c){const f=this.op,{aNode:p,bNode:y}=this,T=this.getNodeType(r,c);let R=null,b=null;T!=="void"?(R=p.getNodeType(r),b=y?y.getNodeType(r):null,f==="<"||f===">"||f==="<="||f===">="||f==="=="||f==="!="?r.isVector(R)?b=R:r.isVector(b)?R=b:R!==b&&(R=b="float"):f===">>"||f==="<<"?(R=T,b=r.changeComponentType(b,"uint")):f==="%"?(R=T,b=r.isInteger(R)&&r.isInteger(b)?b:R):r.isMatrix(R)?b==="float"?b="float":r.isVector(b)?b=r.getVectorFromMatrix(R):r.isMatrix(b)||(R=b=T):r.isMatrix(b)?R==="float"?R="float":r.isVector(R)?R=r.getVectorFromMatrix(b):R=b=T:R=b=T):R=b=T;const P=p.build(r,R),G=y?y.build(r,b):null,j=r.getFunctionOperator(f);if(c!=="void"){const K=r.renderer.coordinateSystem===rs;if(f==="=="||f==="!="||f==="<"||f===">"||f==="<="||f===">=")return K?r.isVector(R)?r.format(`${this.getOperatorMethod(r,c)}( ${P}, ${G} )`,T,c):r.format(`( ${P} ${f} ${G} )`,T,c):r.format(`( ${P} ${f} ${G} )`,T,c);if(f==="%")return r.isInteger(b)?r.format(`( ${P} % ${G} )`,T,c):r.format(`${this.getOperatorMethod(r,T)}( ${P}, ${G} )`,T,c);if(f==="!"||f==="~")return r.format(`(${f}${P})`,R,c);if(j)return r.format(`${j}( ${P}, ${G} )`,T,c);if(r.isMatrix(R)&&b==="float")return r.format(`( ${G} ${f} ${P} )`,T,c);if(R==="float"&&r.isMatrix(b))return r.format(`${P} ${f} ${G}`,T,c);{let Q=`( ${P} ${f} ${G} )`;return!K&&T==="bool"&&r.isVector(R)&&r.isVector(b)&&(Q=`all${Q}`),r.format(Q,T,c)}}else if(R!=="void")return j?r.format(`${j}( ${P}, ${G} )`,T,c):r.isMatrix(R)&&b==="float"?r.format(`${G} ${f} ${P}`,T,c):r.format(`${P} ${f} ${G}`,T,c)}serialize(r){super.serialize(r),r.op=this.op}deserialize(r){super.deserialize(r),this.op=r.op}}const Ms=F0(S2,"+").setParameterLength(2,1/0).setName("add"),ts=F0(S2,"-").setParameterLength(2,1/0).setName("sub"),Oi=F0(S2,"*").setParameterLength(2,1/0).setName("mul"),Ko=F0(S2,"/").setParameterLength(2,1/0).setName("div"),w8=F0(S2,"%").setParameterLength(2).setName("mod"),Vx=F0(S2,"==").setParameterLength(2).setName("equal"),_pe=F0(S2,"!=").setParameterLength(2).setName("notEqual"),hpe=F0(S2,"<").setParameterLength(2).setName("lessThan"),dpe=F0(S2,">").setParameterLength(2).setName("greaterThan"),mpe=F0(S2,"<=").setParameterLength(2).setName("lessThanEqual"),gpe=F0(S2,">=").setParameterLength(2).setName("greaterThanEqual"),xpe=F0(S2,"&&").setParameterLength(2,1/0).setName("and"),ype=F0(S2,"||").setParameterLength(2,1/0).setName("or"),vpe=F0(S2,"!").setParameterLength(1).setName("not"),Spe=F0(S2,"^^").setParameterLength(2).setName("xor"),Tpe=F0(S2,"&").setParameterLength(2).setName("bitAnd"),Cpe=F0(S2,"~").setParameterLength(1).setName("bitNot"),wpe=F0(S2,"|").setParameterLength(2).setName("bitOr"),Mpe=F0(S2,"^").setParameterLength(2).setName("bitXor"),Rpe=F0(S2,"<<").setParameterLength(2).setName("shiftLeft"),Ape=F0(S2,">>").setParameterLength(2).setName("shiftRight"),Epe=Xt(([v])=>(v.addAssign(1),v)),bpe=Xt(([v])=>(v.subAssign(1),v)),Npe=Xt(([v])=>{const r=n2(v).toConst();return v.addAssign(1),r}),Dpe=Xt(([v])=>{const r=n2(v).toConst();return v.subAssign(1),r});Bt("add",Ms);Bt("sub",ts);Bt("mul",Oi);Bt("div",Ko);Bt("mod",w8);Bt("equal",Vx);Bt("notEqual",_pe);Bt("lessThan",hpe);Bt("greaterThan",dpe);Bt("lessThanEqual",mpe);Bt("greaterThanEqual",gpe);Bt("and",xpe);Bt("or",ype);Bt("not",vpe);Bt("xor",Spe);Bt("bitAnd",Tpe);Bt("bitNot",Cpe);Bt("bitOr",wpe);Bt("bitXor",Mpe);Bt("shiftLeft",Rpe);Bt("shiftRight",Ape);Bt("incrementBefore",Epe);Bt("decrementBefore",bpe);Bt("increment",Npe);Bt("decrement",Dpe);const Ipe=(v,r)=>(jt('TSL: "modInt()" is deprecated. Use "mod( int( ... ) )" instead.'),w8(n2(v),n2(r)));Bt("modInt",Ipe);class gt extends ur{static get type(){return"MathNode"}constructor(r,c,f=null,p=null){if(super(),(r===gt.MAX||r===gt.MIN)&&arguments.length>3){let y=new gt(r,c,f);for(let T=2;T<arguments.length-1;T++)y=new gt(r,y,arguments[T]);c=y,f=arguments[arguments.length-1],p=null}this.method=r,this.aNode=c,this.bNode=f,this.cNode=p,this.isMathNode=!0}getInputType(r){const c=this.aNode.getNodeType(r),f=this.bNode?this.bNode.getNodeType(r):null,p=this.cNode?this.cNode.getNodeType(r):null,y=r.isMatrix(c)?0:r.getTypeLength(c),T=r.isMatrix(f)?0:r.getTypeLength(f),R=r.isMatrix(p)?0:r.getTypeLength(p);return y>T&&y>R?c:T>R?f:R>y?p:c}getNodeType(r){const c=this.method;return c===gt.LENGTH||c===gt.DISTANCE||c===gt.DOT?"float":c===gt.CROSS?"vec3":c===gt.ALL||c===gt.ANY?"bool":c===gt.EQUALS?r.changeComponentType(this.aNode.getNodeType(r),"bool"):this.getInputType(r)}setup(r){const{aNode:c,bNode:f,method:p}=this;let y=null;if(p===gt.ONE_MINUS)y=ts(1,c);else if(p===gt.RECIPROCAL)y=Ko(1,c);else if(p===gt.DIFFERENCE)y=Ls(ts(c,f));else if(p===gt.TRANSFORM_DIRECTION){let T=c,R=f;r.isMatrix(T.getNodeType(r))?R=Li(Gt(R),0):T=Li(Gt(T),0);const b=Oi(T,R).xyz;y=Xo(b)}return y!==null?y:super.setup(r)}generate(r,c){if(r.getNodeProperties(this).outputNode)return super.generate(r,c);let p=this.method;const y=this.getNodeType(r),T=this.getInputType(r),R=this.aNode,b=this.bNode,P=this.cNode,G=r.renderer.coordinateSystem;if(p===gt.NEGATE)return r.format("( - "+R.build(r,T)+" )",y,c);{const j=[];return p===gt.CROSS?j.push(R.build(r,y),b.build(r,y)):G===rs&&p===gt.STEP?j.push(R.build(r,r.getTypeLength(R.getNodeType(r))===1?"float":T),b.build(r,T)):G===rs&&(p===gt.MIN||p===gt.MAX)?j.push(R.build(r,T),b.build(r,r.getTypeLength(b.getNodeType(r))===1?"float":T)):p===gt.REFRACT?j.push(R.build(r,T),b.build(r,T),P.build(r,"float")):p===gt.MIX?j.push(R.build(r,T),b.build(r,T),P.build(r,r.getTypeLength(P.getNodeType(r))===1?"float":T)):(G===pa&&p===gt.ATAN&&b!==null&&(p="atan2"),r.shaderStage!=="fragment"&&(p===gt.DFDX||p===gt.DFDY)&&(jt(`TSL: '${p}' is not supported in the ${r.shaderStage} stage.`),p="/*"+p+"*/"),j.push(R.build(r,T)),b!==null&&j.push(b.build(r,T)),P!==null&&j.push(P.build(r,T))),r.format(`${r.getMethod(p,y)}( ${j.join(", ")} )`,y,c)}}serialize(r){super.serialize(r),r.method=this.method}deserialize(r){super.deserialize(r),this.method=r.method}}gt.ALL="all";gt.ANY="any";gt.RADIANS="radians";gt.DEGREES="degrees";gt.EXP="exp";gt.EXP2="exp2";gt.LOG="log";gt.LOG2="log2";gt.SQRT="sqrt";gt.INVERSE_SQRT="inversesqrt";gt.FLOOR="floor";gt.CEIL="ceil";gt.NORMALIZE="normalize";gt.FRACT="fract";gt.SIN="sin";gt.COS="cos";gt.TAN="tan";gt.ASIN="asin";gt.ACOS="acos";gt.ATAN="atan";gt.ABS="abs";gt.SIGN="sign";gt.LENGTH="length";gt.NEGATE="negate";gt.ONE_MINUS="oneMinus";gt.DFDX="dFdx";gt.DFDY="dFdy";gt.ROUND="round";gt.RECIPROCAL="reciprocal";gt.TRUNC="trunc";gt.FWIDTH="fwidth";gt.TRANSPOSE="transpose";gt.DETERMINANT="determinant";gt.INVERSE="inverse";gt.EQUALS="equals";gt.MIN="min";gt.MAX="max";gt.STEP="step";gt.REFLECT="reflect";gt.DISTANCE="distance";gt.DIFFERENCE="difference";gt.DOT="dot";gt.CROSS="cross";gt.POW="pow";gt.TRANSFORM_DIRECTION="transformDirection";gt.MIX="mix";gt.CLAMP="clamp";gt.REFRACT="refract";gt.SMOOTHSTEP="smoothstep";gt.FACEFORWARD="faceforward";const zx=Lt(1e-6),Ppe=Lt(Math.PI),Lpe=F0(gt,gt.ALL).setParameterLength(1),kpe=F0(gt,gt.ANY).setParameterLength(1),Fpe=F0(gt,gt.RADIANS).setParameterLength(1),Bpe=F0(gt,gt.DEGREES).setParameterLength(1),Wx=F0(gt,gt.EXP).setParameterLength(1),vf=F0(gt,gt.EXP2).setParameterLength(1),Hx=F0(gt,gt.LOG).setParameterLength(1),D1=F0(gt,gt.LOG2).setParameterLength(1),Xa=F0(gt,gt.SQRT).setParameterLength(1),Upe=F0(gt,gt.INVERSE_SQRT).setParameterLength(1),Za=F0(gt,gt.FLOOR).setParameterLength(1),M8=F0(gt,gt.CEIL).setParameterLength(1),Xo=F0(gt,gt.NORMALIZE).setParameterLength(1),Zo=F0(gt,gt.FRACT).setParameterLength(1),Ys=F0(gt,gt.SIN).setParameterLength(1),M1=F0(gt,gt.COS).setParameterLength(1),Ope=F0(gt,gt.TAN).setParameterLength(1),Gpe=F0(gt,gt.ASIN).setParameterLength(1),jx=F0(gt,gt.ACOS).setParameterLength(1),qx=F0(gt,gt.ATAN).setParameterLength(1,2),Ls=F0(gt,gt.ABS).setParameterLength(1),M_=F0(gt,gt.SIGN).setParameterLength(1),I1=F0(gt,gt.LENGTH).setParameterLength(1),Vpe=F0(gt,gt.NEGATE).setParameterLength(1),zpe=F0(gt,gt.ONE_MINUS).setParameterLength(1),Xx=F0(gt,gt.DFDX).setParameterLength(1),$x=F0(gt,gt.DFDY).setParameterLength(1),Wpe=F0(gt,gt.ROUND).setParameterLength(1),Hpe=F0(gt,gt.RECIPROCAL).setParameterLength(1),jpe=F0(gt,gt.TRUNC).setParameterLength(1),Yx=F0(gt,gt.FWIDTH).setParameterLength(1),qpe=F0(gt,gt.TRANSPOSE).setParameterLength(1),Xpe=F0(gt,gt.DETERMINANT).setParameterLength(1),$pe=F0(gt,gt.INVERSE).setParameterLength(1),Ype=(v,r)=>(jt('TSL: "equals" is deprecated. Use "equal" inside a vector instead, like: "bvec*( equal( ... ) )"'),Vx(v,r)),Wl=F0(gt,gt.MIN).setParameterLength(2,1/0),lr=F0(gt,gt.MAX).setParameterLength(2,1/0),Kx=F0(gt,gt.STEP).setParameterLength(2),Kpe=F0(gt,gt.REFLECT).setParameterLength(2),Zpe=F0(gt,gt.DISTANCE).setParameterLength(2),Qpe=F0(gt,gt.DIFFERENCE).setParameterLength(2),Hl=F0(gt,gt.DOT).setParameterLength(2),Sf=F0(gt,gt.CROSS).setParameterLength(2),W_=F0(gt,gt.POW).setParameterLength(2),Zx=v=>Oi(v,v),Jpe=v=>Oi(v,v,v),Qx=v=>Oi(v,v,v,v),e_e=F0(gt,gt.TRANSFORM_DIRECTION).setParameterLength(2),t_e=v=>Oi(M_(v),W_(Ls(v),1/3)),Jx=v=>Hl(v,v),l2=F0(gt,gt.MIX).setParameterLength(3),k1=(v,r=0,c=1)=>r0(new gt(gt.CLAMP,r0(v),r0(r),r0(c))),ey=v=>k1(v),ty=F0(gt,gt.REFRACT).setParameterLength(3),F1=F0(gt,gt.SMOOTHSTEP).setParameterLength(3),i_e=F0(gt,gt.FACEFORWARD).setParameterLength(3),n_e=Xt(([v])=>{const f=43758.5453,p=Hl(v.xy,_0(12.9898,78.233)),y=w8(p,Ppe);return Zo(Ys(y).mul(f))}),r_e=(v,r,c)=>l2(r,c,v),s_e=(v,r,c)=>F1(r,c,v),o_e=(v,r)=>Kx(r,v),a_e=(v,r)=>(jt('TSL: "atan2" is overloaded. Use "atan" instead.'),qx(v,r));Bt("all",Lpe);Bt("any",kpe);Bt("equals",Ype);Bt("radians",Fpe);Bt("degrees",Bpe);Bt("exp",Wx);Bt("exp2",vf);Bt("log",Hx);Bt("log2",D1);Bt("sqrt",Xa);Bt("inverseSqrt",Upe);Bt("floor",Za);Bt("ceil",M8);Bt("normalize",Xo);Bt("fract",Zo);Bt("sin",Ys);Bt("cos",M1);Bt("tan",Ope);Bt("asin",Gpe);Bt("acos",jx);Bt("atan",qx);Bt("abs",Ls);Bt("sign",M_);Bt("length",I1);Bt("lengthSq",Jx);Bt("negate",Vpe);Bt("oneMinus",zpe);Bt("dFdx",Xx);Bt("dFdy",$x);Bt("round",Wpe);Bt("reciprocal",Hpe);Bt("trunc",jpe);Bt("fwidth",Yx);Bt("atan2",a_e);Bt("min",Wl);Bt("max",lr);Bt("step",o_e);Bt("reflect",Kpe);Bt("distance",Zpe);Bt("dot",Hl);Bt("cross",Sf);Bt("pow",W_);Bt("pow2",Zx);Bt("pow3",Jpe);Bt("pow4",Qx);Bt("transformDirection",e_e);Bt("mix",r_e);Bt("clamp",k1);Bt("refract",ty);Bt("smoothstep",s_e);Bt("faceForward",i_e);Bt("difference",Qpe);Bt("saturate",ey);Bt("cbrt",t_e);Bt("transpose",qpe);Bt("determinant",Xpe);Bt("inverse",$pe);Bt("rand",n_e);class c_e extends Q0{static get type(){return"ConditionalNode"}constructor(r,c,f=null){super(),this.condNode=r,this.ifNode=c,this.elseNode=f}getNodeType(r){const{ifNode:c,elseNode:f}=r.getNodeProperties(this);if(c===void 0)return r.flowBuildStage(this,"setup"),this.getNodeType(r);const p=c.getNodeType(r);if(f!==null){const y=f.getNodeType(r);if(r.getTypeLength(y)>r.getTypeLength(p))return y}return p}setup(r){const c=this.condNode,f=this.ifNode.isolate(),p=this.elseNode?this.elseNode.isolate():null,y=r.context.nodeBlock;r.getDataFromNode(f).parentNodeBlock=y,p!==null&&(r.getDataFromNode(p).parentNodeBlock=y);const T=r.context.uniformFlow,R=r.getNodeProperties(this);R.condNode=c,R.ifNode=T?f:f.context({nodeBlock:f}),R.elseNode=p?T?p:p.context({nodeBlock:p}):null}generate(r,c){const f=this.getNodeType(r),p=r.getDataFromNode(this);if(p.nodeProperty!==void 0)return p.nodeProperty;const{condNode:y,ifNode:T,elseNode:R}=r.getNodeProperties(this),b=r.currentFunctionNode,P=c!=="void",G=P?ua(f).build(r):"";p.nodeProperty=G;const j=y.build(r,"bool");if(r.context.uniformFlow&&R!==null){const ie=T.build(r,f),ce=R.build(r,f),ue=r.getTernary(j,ie,ce);return r.format(ue,f,c)}r.addFlowCode(`
${r.tab}if ( ${j} ) {

`).addFlowTab();let Q=T.build(r,f);if(Q&&(P?Q=G+" = "+Q+";":(Q="return "+Q+";",b===null&&(jt("TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),Q="// "+Q))),r.removeFlowTab().addFlowCode(r.tab+"	"+Q+`

`+r.tab+"}"),R!==null){r.addFlowCode(` else {

`).addFlowTab();let ie=R.build(r,f);ie&&(P?ie=G+" = "+ie+";":(ie="return "+ie+";",b===null&&(jt("TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),ie="// "+ie))),r.removeFlowTab().addFlowCode(r.tab+"	"+ie+`

`+r.tab+`}

`)}else r.addFlowCode(`

`);return r.format(G,f,c)}}const Dr=xn(c_e).setParameterLength(2,3);Bt("select",Dr);class iy extends Q0{static get type(){return"ContextNode"}constructor(r,c={}){super(),this.isContextNode=!0,this.node=r,this.value=c}getScope(){return this.node.getScope()}getNodeType(r){return this.node.getNodeType(r)}getMemberType(r,c){return this.node.getMemberType(r,c)}analyze(r){const c=r.addContext(this.value);this.node.build(r),r.setContext(c)}setup(r){const c=r.addContext(this.value);this.node.build(r),r.setContext(c)}generate(r,c){const f=r.addContext(this.value),p=this.node.build(r,c);return r.setContext(f),p}}const H_=xn(iy).setParameterLength(1,2),l_e=v=>H_(v,{uniformFlow:!0}),ny=(v,r)=>H_(v,{nodeName:r});function u_e(v,r){return jt('TSL: "label()" has been deprecated. Use "setName()" instead.'),ny(v,r)}Bt("context",H_);Bt("label",u_e);Bt("uniformFlow",l_e);Bt("setName",ny);class u_ extends Q0{static get type(){return"VarNode"}constructor(r,c=null,f=!1){super(),this.node=r,this.name=c,this.global=!0,this.isVarNode=!0,this.readOnly=f,this.parents=!0,this.intent=!1}setIntent(r){return this.intent=r,this}getIntent(){return this.intent}getMemberType(r,c){return this.node.getMemberType(r,c)}getElementType(r){return this.node.getElementType(r)}getNodeType(r){return this.node.getNodeType(r)}getArrayCount(r){return this.node.getArrayCount(r)}isAssign(r){let f=r.getNodeProperties(this).assign;return f!==!0&&this.node.isShaderCallNodeInternal&&this.node.shaderNode.getLayout()===null&&r.fnCall&&r.fnCall.shaderNode&&r.getDataFromNode(this.node.shaderNode).hasLoop&&(f=!0),f}build(...r){const c=r[0];return this._hasStack(c)===!1&&c.buildStage==="setup"&&(c.context.nodeLoop||c.context.nodeBlock)&&c.getBaseStack().addToStack(this),this.intent===!0&&this.isAssign(c)!==!0?this.node.build(...r):super.build(...r)}generate(r){const{node:c,name:f,readOnly:p}=this,{renderer:y}=r,T=y.backend.isWebGPUBackend===!0;let R=!1,b=!1;p&&(R=r.isDeterministic(c),b=T?p:R);const P=this.getNodeType(r);if(P=="void")return this.intent!==!0&&i0('TSL: ".toVar()" can not be used with void type.'),c.build(r);const G=r.getVectorType(P),j=c.build(r,G),K=r.getVarFromNode(this,f,G,void 0,b),Q=r.getPropertyName(K);let ie=Q;if(b)if(T)ie=R?`const ${Q}`:`let ${Q}`;else{const ce=c.getArrayCount(r);ie=`const ${r.getVar(K.type,Q,ce)}`}return r.addLineFlowCode(`${ie} = ${j}`,this),Q}_hasStack(r){return r.getDataFromNode(this).stack!==void 0}}const R8=xn(u_),f_e=(v,r=null)=>R8(v,r).toStack(),p_e=(v,r=null)=>R8(v,r,!0).toStack(),__e=v=>R8(v).setIntent(!0).toStack();Bt("toVar",f_e);Bt("toConst",p_e);Bt("toVarIntent",__e);class h_e extends Q0{static get type(){return"SubBuild"}constructor(r,c,f=null){super(f),this.node=r,this.name=c,this.isSubBuildNode=!0}getNodeType(r){if(this.nodeType!==null)return this.nodeType;r.addSubBuild(this.name);const c=this.node.getNodeType(r);return r.removeSubBuild(),c}build(r,...c){r.addSubBuild(this.name);const f=this.node.build(r,...c);return r.removeSubBuild(),f}}const Ju=(v,r,c=null)=>r0(new h_e(r0(v),r,c));class d_e extends Q0{static get type(){return"VaryingNode"}constructor(r,c=null){super(),this.node=r,this.name=c,this.isVaryingNode=!0,this.interpolationType=null,this.interpolationSampling=null,this.global=!0}setInterpolation(r,c=null){return this.interpolationType=r,this.interpolationSampling=c,this}getHash(r){return this.name||super.getHash(r)}getNodeType(r){return this.node.getNodeType(r)}setupVarying(r){const c=r.getNodeProperties(this);let f=c.varying;if(f===void 0){const p=this.name,y=this.getNodeType(r),T=this.interpolationType,R=this.interpolationSampling;c.varying=f=r.getVaryingFromNode(this,p,y,T,R),c.node=Ju(this.node,"VERTEX")}return f.needsInterpolation||(f.needsInterpolation=r.shaderStage==="fragment"),f}setup(r){this.setupVarying(r),r.flowNodeFromShaderStage(Gp.VERTEX,this.node)}analyze(r){this.setupVarying(r),r.flowNodeFromShaderStage(Gp.VERTEX,this.node)}generate(r){const c=r.getSubBuildProperty("property",r.currentStack),f=r.getNodeProperties(this),p=this.setupVarying(r);if(f[c]===void 0){const y=this.getNodeType(r),T=r.getPropertyName(p,Gp.VERTEX);r.flowNodeFromShaderStage(Gp.VERTEX,f.node,y,T),f[c]=T}return r.getPropertyName(p)}}const ha=xn(d_e).setParameterLength(1,2),m_e=v=>ha(v);Bt("toVarying",ha);Bt("toVertexStage",m_e);Bt("varying",(...v)=>(jt("TSL: .varying() has been renamed to .toVarying()."),ha(...v)));Bt("vertexStage",(...v)=>(jt("TSL: .vertexStage() has been renamed to .toVertexStage()."),ha(...v)));const g_e=Xt(([v])=>{const r=v.mul(.9478672986).add(.0521327014).pow(2.4),c=v.mul(.0773993808),f=v.lessThanEqual(.04045);return l2(r,c,f)}).setLayout({name:"sRGBTransferEOTF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),x_e=Xt(([v])=>{const r=v.pow(.41666).mul(1.055).sub(.055),c=v.mul(12.92),f=v.lessThanEqual(.0031308);return l2(r,c,f)}).setLayout({name:"sRGBTransferOETF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),A8="WorkingColorSpace",y_e="OutputColorSpace";class ry extends ur{static get type(){return"ColorSpaceNode"}constructor(r,c,f){super("vec4"),this.colorNode=r,this.source=c,this.target=f}resolveColorSpace(r,c){return c===A8?pi.workingColorSpace:c===y_e?r.context.outputColorSpace||r.renderer.outputColorSpace:c}setup(r){const{colorNode:c}=this,f=this.resolveColorSpace(r,this.source),p=this.resolveColorSpace(r,this.target);let y=c;return pi.enabled===!1||f===p||!f||!p||(pi.getTransfer(f)===b0&&(y=Li(g_e(y.rgb),y.a)),pi.getPrimaries(f)!==pi.getPrimaries(p)&&(y=Li(ss(pi._getMatrix(new Pi,f,p)).mul(y.rgb),y.a)),pi.getTransfer(p)===b0&&(y=Li(x_e(y.rgb),y.a))),y}}const v_e=(v,r)=>r0(new ry(r0(v),A8,r)),E8=(v,r)=>r0(new ry(r0(v),r,A8));Bt("workingToColorSpace",v_e);Bt("colorSpaceToWorking",E8);let S_e=class extends Of{static get type(){return"ReferenceElementNode"}constructor(r,c){super(r,c),this.referenceNode=r,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(r){const c=super.generate(r),f=this.referenceNode.getNodeType(),p=this.getNodeType();return r.format(c,f,p)}};class sy extends Q0{static get type(){return"ReferenceBaseNode"}constructor(r,c,f=null,p=null){super(),this.property=r,this.uniformType=c,this.object=f,this.count=p,this.properties=r.split("."),this.reference=f,this.node=null,this.group=null,this.updateType=Fi.OBJECT}setGroup(r){return this.group=r,this}element(r){return r0(new S_e(this,r0(r)))}setNodeType(r){const c=vi(null,r);this.group!==null&&c.setGroup(this.group),this.node=c}getNodeType(r){return this.node===null&&(this.updateReference(r),this.updateValue()),this.node.getNodeType(r)}getValueFromReference(r=this.reference){const{properties:c}=this;let f=r[c[0]];for(let p=1;p<c.length;p++)f=f[c[p]];return f}updateReference(r){return this.reference=this.object!==null?this.object:r.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const r=this.getValueFromReference();Array.isArray(r)?this.node.array=r:this.node.value=r}}const T_e=(v,r,c)=>r0(new sy(v,r,c));class C_e extends sy{static get type(){return"RendererReferenceNode"}constructor(r,c,f=null){super(r,c,f),this.renderer=f,this.setGroup(xi)}updateReference(r){return this.reference=this.renderer!==null?this.renderer:r.renderer,this.reference}}const w_e=(v,r,c=null)=>r0(new C_e(v,r,c));class M_e extends ur{static get type(){return"ToneMappingNode"}constructor(r,c=A_e,f=null){super("vec3"),this._toneMapping=r,this.exposureNode=c,this.colorNode=f}customCacheKey(){return Ku(this._toneMapping)}setToneMapping(r){return this._toneMapping=r,this}getToneMapping(){return this._toneMapping}setup(r){const c=this.colorNode||r.context.color,f=this._toneMapping;if(f===ns)return c;let p=null;const y=r.renderer.library.getToneMappingFunction(f);return y!==null?p=Li(y(c.rgb,this.exposureNode),c.a):(i0("ToneMappingNode: Unsupported Tone Mapping configuration.",f),p=c),p}}const R_e=(v,r,c)=>r0(new M_e(v,r0(r),r0(c))),A_e=w_e("toneMappingExposure","float");Bt("toneMapping",(v,r,c)=>R_e(r,c,v));class E_e extends h8{static get type(){return"BufferAttributeNode"}constructor(r,c=null,f=0,p=0){super(r,c),this.isBufferNode=!0,this.bufferType=c,this.bufferStride=f,this.bufferOffset=p,this.usage=d_,this.instanced=!1,this.attribute=null,this.global=!0,r&&r.isBufferAttribute===!0&&(this.attribute=r,this.usage=r.usage,this.instanced=r.isInstancedBufferAttribute)}getHash(r){if(this.bufferStride===0&&this.bufferOffset===0){let c=r.globalCache.getData(this.value);return c===void 0&&(c={node:this},r.globalCache.setData(this.value,c)),c.node.uuid}return this.uuid}getNodeType(r){return this.bufferType===null&&(this.bufferType=r.getTypeFromAttribute(this.attribute)),this.bufferType}setup(r){if(this.attribute!==null)return;const c=this.getNodeType(r),f=this.value,p=r.getTypeLength(c),y=this.bufferStride||p,T=this.bufferOffset,R=f.isInterleavedBuffer===!0?f:new lx(f,y),b=new r8(R,p,T);R.setUsage(this.usage),this.attribute=b,this.attribute.isInstancedBufferAttribute=this.instanced}generate(r){const c=this.getNodeType(r),f=r.getBufferAttributeFromNode(this,c),p=r.getPropertyName(f);let y=null;return r.shaderStage==="vertex"||r.shaderStage==="compute"?(this.name=p,y=p):y=ha(this).build(r,c),y}getInputType(){return"bufferAttribute"}setUsage(r){return this.usage=r,this.attribute&&this.attribute.isBufferAttribute===!0&&(this.attribute.usage=r),this}setInstanced(r){return this.instanced=r,this}}const b8=(v,r=null,c=0,f=0)=>r0(new E_e(v,r,c,f)),b_e=(v,r=null,c=0,f=0)=>b8(v,r,c,f).setUsage(Jc),x5=(v,r=null,c=0,f=0)=>b8(v,r,c,f).setInstanced(!0),y5=(v,r=null,c=0,f=0)=>b_e(v,r,c,f).setInstanced(!0);Bt("toAttribute",v=>b8(v.value));class N_e extends Q0{static get type(){return"ComputeNode"}constructor(r,c){super("void"),this.isComputeNode=!0,this.computeNode=r,this.workgroupSize=c,this.count=null,this.version=1,this.name="",this.updateBeforeType=Fi.OBJECT,this.onInitFunction=null}setCount(r){return this.count=r,this}getCount(){return this.count}dispose(){this.dispatchEvent({type:"dispose"})}setName(r){return this.name=r,this}label(r){return jt('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(r)}onInit(r){return this.onInitFunction=r,this}updateBefore({renderer:r}){r.compute(this)}setup(r){const c=this.computeNode.build(r);if(c){const f=r.getNodeProperties(this);f.outputComputeNode=c.outputNode,c.outputNode=null}return c}generate(r,c){const{shaderStage:f}=r;if(f==="compute"){const p=this.computeNode.build(r,"void");p!==""&&r.addLineFlowCode(p,this)}else{const y=r.getNodeProperties(this).outputComputeNode;if(y)return y.build(r,c)}}}const oy=(v,r=[64])=>{(r.length===0||r.length>3)&&i0("TSL: compute() workgroupSize must have 1, 2, or 3 elements");for(let c=0;c<r.length;c++){const f=r[c];(typeof f!="number"||f<=0||!Number.isInteger(f))&&i0(`TSL: compute() workgroupSize element at index [ ${c} ] must be a positive integer`)}for(;r.length<3;)r.push(1);return r0(new N_e(r0(v),r))},D_e=(v,r,c)=>oy(v,c).setCount(r);Bt("compute",D_e);Bt("computeKernel",oy);class I_e extends Q0{static get type(){return"IsolateNode"}constructor(r,c=!0){super(),this.node=r,this.parent=c,this.isIsolateNode=!0}getNodeType(r){const c=r.getCache(),f=r.getCacheFromNode(this,this.parent);r.setCache(f);const p=this.node.getNodeType(r);return r.setCache(c),p}build(r,...c){const f=r.getCache(),p=r.getCacheFromNode(this,this.parent);r.setCache(p);const y=this.node.build(r,...c);return r.setCache(f),y}setParent(r){return this.parent=r,this}getParent(){return this.parent}}const ef=v=>new I_e(r0(v));function P_e(v,r=!0){return jt('TSL: "cache()" has been deprecated. Use "isolate()" instead.'),ef(v).setParent(r)}Bt("cache",P_e);Bt("isolate",ef);class L_e extends Q0{static get type(){return"BypassNode"}constructor(r,c){super(),this.isBypassNode=!0,this.outputNode=r,this.callNode=c}getNodeType(r){return this.outputNode.getNodeType(r)}generate(r){const c=this.callNode.build(r,"void");return c!==""&&r.addLineFlowCode(c,this),this.outputNode.build(r)}}const k_e=xn(L_e).setParameterLength(2);Bt("bypass",k_e);class ay extends Q0{static get type(){return"RemapNode"}constructor(r,c,f,p=Lt(0),y=Lt(1)){super(),this.node=r,this.inLowNode=c,this.inHighNode=f,this.outLowNode=p,this.outHighNode=y,this.doClamp=!0}setup(){const{node:r,inLowNode:c,inHighNode:f,outLowNode:p,outHighNode:y,doClamp:T}=this;let R=r.sub(c).div(f.sub(c));return T===!0&&(R=R.clamp()),R.mul(y.sub(p)).add(p)}}const F_e=xn(ay,null,null,{doClamp:!1}).setParameterLength(3,5),B_e=xn(ay).setParameterLength(3,5);Bt("remap",F_e);Bt("remapClamp",B_e);class f_ extends Q0{static get type(){return"ExpressionNode"}constructor(r="",c="void"){super(c),this.snippet=r}generate(r,c){const f=this.getNodeType(r),p=this.snippet;if(f==="void")r.addLineFlowCode(p,this);else return r.format(p,f,c)}}const jl=xn(f_).setParameterLength(1,2),U_e=v=>(v?Dr(v,jl("discard")):jl("discard")).toStack();Bt("discard",U_e);class O_e extends ur{static get type(){return"RenderOutputNode"}constructor(r,c,f){super("vec4"),this.colorNode=r,this._toneMapping=c,this.outputColorSpace=f,this.isRenderOutputNode=!0}setToneMapping(r){return this._toneMapping=r,this}getToneMapping(){return this._toneMapping}setup({context:r}){let c=this.colorNode||r.color;const f=(this._toneMapping!==null?this._toneMapping:r.toneMapping)||ns,p=(this.outputColorSpace!==null?this.outputColorSpace:r.outputColorSpace)||vs;return f!==ns&&(c=c.toneMapping(f)),p!==vs&&p!==pi.workingColorSpace&&(c=c.workingToColorSpace(p)),c}}const G_e=(v,r=null,c=null)=>r0(new O_e(r0(v),r,c));Bt("renderOutput",G_e);class V_e extends ur{static get type(){return"DebugNode"}constructor(r,c=null){super(),this.node=r,this.callback=c}getNodeType(r){return this.node.getNodeType(r)}setup(r){return this.node.build(r)}analyze(r){return this.node.build(r)}generate(r){const c=this.callback,f=this.node.build(r),p="--- TSL debug - "+r.shaderStage+" shader ---",y="-".repeat(p.length);let T="";return T+="// #"+p+`#
`,T+=r.flow.code.replace(/^\t/mg,"")+`
`,T+="/* ... */ "+f+` /* ... */
`,T+="// #"+y+`#
`,c!==null?c(r,T):xf(T),f}}const z_e=(v,r=null)=>r0(new V_e(r0(v),r)).toStack();Bt("debug",z_e);class cy{constructor(){this._renderer=null,this.currentFrame=null}get nodeFrame(){return this._renderer._nodes.nodeFrame}setRenderer(r){return this._renderer=r,this}getRenderer(){return this._renderer}init(){}begin(){}finish(){}inspect(){}computeAsync(){}beginCompute(){}finishCompute(){}beginRender(){}finishRender(){}copyTextureToTexture(){}copyFramebufferToTexture(){}}class W_e extends Q0{static get type(){return"InspectorNode"}constructor(r,c="",f=null){super(),this.node=r,this.name=c,this.callback=f,this.updateType=Fi.FRAME,this.isInspectorNode=!0}getName(){return this.name||this.node.name}update(r){r.renderer.inspector.inspect(this)}getNodeType(r){return this.node.getNodeType(r)}setup(r){let c=this.node;return r.context.inspector===!0&&this.callback!==null&&(c=this.callback(c)),r.renderer.backend.isWebGPUBackend!==!0&&r.renderer.inspector.constructor!==cy&&c2('TSL: ".toInspector()" is only available with WebGPU.'),c}}function H_e(v,r="",c=null){return v=r0(v),v.before(new W_e(v,r,c))}Bt("toInspector",H_e);class ly extends Q0{static get type(){return"AttributeNode"}constructor(r,c=null){super(c),this.global=!0,this._attributeName=r}getHash(r){return this.getAttributeName(r)}getNodeType(r){let c=this.nodeType;if(c===null){const f=this.getAttributeName(r);if(r.hasGeometryAttribute(f)){const p=r.geometry.getAttribute(f);c=r.getTypeFromAttribute(p)}else c="float"}return c}setAttributeName(r){return this._attributeName=r,this}getAttributeName(){return this._attributeName}generate(r){const c=this.getAttributeName(r),f=this.getNodeType(r);if(r.hasGeometryAttribute(c)===!0){const y=r.geometry.getAttribute(c),T=r.getTypeFromAttribute(y),R=r.getAttribute(c,T);return r.shaderStage==="vertex"?r.format(R.name,T,f):ha(this).build(r,f)}else return jt(`AttributeNode: Vertex attribute "${c}" not found on geometry.`),r.generateConst(f)}serialize(r){super.serialize(r),r.global=this.global,r._attributeName=this._attributeName}deserialize(r){super.deserialize(r),this.global=r.global,this._attributeName=r._attributeName}}const _a=(v,r=null)=>r0(new ly(v,r)),su=(v=0)=>_a("uv"+(v>0?v:""),"vec2");class j_e extends Q0{static get type(){return"TextureSizeNode"}constructor(r,c=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=r,this.levelNode=c}generate(r,c){const f=this.textureNode.build(r,"property"),p=this.levelNode===null?"0":this.levelNode.build(r,"int");return r.format(`${r.getMethod("textureDimensions")}( ${f}, ${p} )`,this.getNodeType(r),c)}}const Qa=xn(j_e).setParameterLength(1,2);class q_e extends Gf{static get type(){return"MaxMipLevelNode"}constructor(r){super(0),this._textureNode=r,this.updateType=Fi.FRAME}get textureNode(){return this._textureNode}get texture(){return this._textureNode.value}update(){const r=this.texture,c=r.images,f=c&&c.length>0?c[0]&&c[0].image||c[0]:r.image;if(f&&f.width!==void 0){const{width:p,height:y}=f;this.value=Math.log2(Math.max(p,y))}}}const X_e=xn(q_e).setParameterLength(1),uy=new J2;class ou extends Gf{static get type(){return"TextureNode"}constructor(r=uy,c=null,f=null,p=null){super(r),this.isTextureNode=!0,this.uvNode=c,this.levelNode=f,this.biasNode=p,this.compareNode=null,this.depthNode=null,this.gradNode=null,this.offsetNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=Fi.NONE,this.referenceNode=null,this._value=r,this._matrixUniform=null,this._flipYUniform=null,this.setUpdateMatrix(c===null)}set value(r){this.referenceNode?this.referenceNode.value=r:this._value=r}get value(){return this.referenceNode?this.referenceNode.value:this._value}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":this.value.type===Kn?"uvec4":this.value.type===Tr?"ivec4":"vec4"}getInputType(){return"texture"}getDefaultUV(){return su(this.value.channel)}updateReference(){return this.value}getTransformedUV(r){return this._matrixUniform===null&&(this._matrixUniform=vi(this.value.matrix)),this._matrixUniform.mul(Gt(r,1)).xy}setUpdateMatrix(r){return this.updateMatrix=r,this}setupUV(r,c){return r.isFlipY()&&(this._flipYUniform===null&&(this._flipYUniform=vi(!1)),c=c.toVar(),this.sampler?c=this._flipYUniform.select(c.flipY(),c):c=this._flipYUniform.select(c.setY(n2(Qa(this,this.levelNode).y).sub(c.y).sub(1)),c)),c}setup(r){const c=r.getNodeProperties(this);c.referenceNode=this.referenceNode;const f=this.value;if(!f||f.isTexture!==!0)throw new Error("THREE.TSL: `texture( value )` function expects a valid instance of THREE.Texture().");const p=Xt(()=>{let T=this.uvNode;return(T===null||r.context.forceUVContext===!0)&&r.context.getUV&&(T=r.context.getUV(this,r)),T||(T=this.getDefaultUV()),this.updateMatrix===!0&&(T=this.getTransformedUV(T)),T=this.setupUV(r,T),this.updateType=this._matrixUniform!==null||this._flipYUniform!==null?Fi.OBJECT:Fi.NONE,T})();let y=this.levelNode;y===null&&r.context.getTextureLevel&&(y=r.context.getTextureLevel(this)),c.uvNode=p,c.levelNode=y,c.biasNode=this.biasNode,c.compareNode=this.compareNode,c.gradNode=this.gradNode,c.depthNode=this.depthNode,c.offsetNode=this.offsetNode}generateUV(r,c){return c.build(r,this.sampler===!0?"vec2":"ivec2")}generateOffset(r,c){return c.build(r,"ivec2")}generateSnippet(r,c,f,p,y,T,R,b,P){const G=this.value;let j;return y?j=r.generateTextureBias(G,c,f,y,T,P):b?j=r.generateTextureGrad(G,c,f,b,T,P):R?j=r.generateTextureCompare(G,c,f,R,T,P):this.sampler===!1?j=r.generateTextureLoad(G,c,f,p,T,P):p?j=r.generateTextureLevel(G,c,f,p,T,P):j=r.generateTexture(G,c,f,T,P),j}generate(r,c){const f=this.value,p=r.getNodeProperties(this),y=super.generate(r,"property");if(/^sampler/.test(c))return y+"_sampler";if(r.isReference(c))return y;{const T=r.getDataFromNode(this);let R=T.propertyName;if(R===void 0){const{uvNode:G,levelNode:j,biasNode:K,compareNode:Q,depthNode:ie,gradNode:ce,offsetNode:ue}=p,se=this.generateUV(r,G),Ne=j?j.build(r,"float"):null,De=K?K.build(r,"float"):null,Oe=ie?ie.build(r,"int"):null,je=Q?Q.build(r,"float"):null,Be=ce?[ce[0].build(r,"vec2"),ce[1].build(r,"vec2")]:null,We=ue?this.generateOffset(r,ue):null,$e=r.getVarFromNode(this);R=r.getPropertyName($e);const Ee=this.generateSnippet(r,y,se,Ne,De,Oe,je,Be,We);r.addLineFlowCode(`${R} = ${Ee}`,this),T.snippet=Ee,T.propertyName=R}let b=R;const P=this.getNodeType(r);return r.needsToWorkingColorSpace(f)&&(b=E8(jl(b,P),f.colorSpace).setup(r).build(r,P)),r.format(b,P,c)}}setSampler(r){return this.sampler=r,this}getSampler(){return this.sampler}uv(r){return jt("TextureNode: .uv() has been renamed. Use .sample() instead."),this.sample(r)}sample(r){const c=this.clone();return c.uvNode=r0(r),c.referenceNode=this.getBase(),r0(c)}load(r){return this.sample(r).setSampler(!1)}blur(r){const c=this.clone();c.biasNode=r0(r).mul(X_e(c)),c.referenceNode=this.getBase();const f=c.value;return c.generateMipmaps===!1&&(f&&f.generateMipmaps===!1||f.minFilter===r2||f.magFilter===r2)&&(jt("TSL: texture().blur() requires mipmaps and sampling. Use .generateMipmaps=true and .minFilter/.magFilter=THREE.LinearFilter in the Texture."),c.biasNode=null),r0(c)}level(r){const c=this.clone();return c.levelNode=r0(r),c.referenceNode=this.getBase(),r0(c)}size(r){return Qa(this,r)}bias(r){const c=this.clone();return c.biasNode=r0(r),c.referenceNode=this.getBase(),r0(c)}getBase(){return this.referenceNode?this.referenceNode.getBase():this}compare(r){const c=this.clone();return c.compareNode=r0(r),c.referenceNode=this.getBase(),r0(c)}grad(r,c){const f=this.clone();return f.gradNode=[r0(r),r0(c)],f.referenceNode=this.getBase(),r0(f)}depth(r){const c=this.clone();return c.depthNode=r0(r),c.referenceNode=this.getBase(),r0(c)}offset(r){const c=this.clone();return c.offsetNode=r0(r),c.referenceNode=this.getBase(),r0(c)}serialize(r){super.serialize(r),r.value=this.value.toJSON(r.meta).uuid,r.sampler=this.sampler,r.updateMatrix=this.updateMatrix,r.updateType=this.updateType}deserialize(r){super.deserialize(r),this.value=r.meta.textures[r.value],this.sampler=r.sampler,this.updateMatrix=r.updateMatrix,this.updateType=r.updateType}update(){const r=this.value,c=this._matrixUniform;c!==null&&(c.value=r.matrix),r.matrixAutoUpdate===!0&&r.updateMatrix();const f=this._flipYUniform;f!==null&&(f.value=r.image instanceof ImageBitmap&&r.flipY===!0||r.isRenderTargetTexture===!0||r.isFramebufferTexture===!0||r.isDepthTexture===!0)}clone(){const r=new this.constructor(this.value,this.uvNode,this.levelNode,this.biasNode);return r.sampler=this.sampler,r.depthNode=this.depthNode,r.compareNode=this.compareNode,r.gradNode=this.gradNode,r.offsetNode=this.offsetNode,r}}const $_e=xn(ou).setParameterLength(1,4).setName("texture"),rn=(v=uy,r=null,c=null,f=null)=>{let p;return v&&v.isTextureNode===!0?(p=r0(v.clone()),p.referenceNode=v.getBase(),r!==null&&(p.uvNode=r0(r)),c!==null&&(p.levelNode=r0(c)),f!==null&&(p.biasNode=r0(f))):p=$_e(v,r,c,f),p},$s=(...v)=>rn(...v).setSampler(!1);class fy extends Gf{static get type(){return"BufferNode"}constructor(r,c,f=0){super(r,c),this.isBufferNode=!0,this.bufferType=c,this.bufferCount=f}getElementType(r){return this.getNodeType(r)}getInputType(){return"buffer"}}const py=(v,r,c)=>r0(new fy(v,r,c));class Y_e extends Of{static get type(){return"UniformArrayElementNode"}constructor(r,c){super(r,c),this.isArrayBufferElementNode=!0}generate(r){const c=super.generate(r),f=this.getNodeType(),p=this.node.getPaddedType();return r.format(c,p,f)}}class K_e extends fy{static get type(){return"UniformArrayNode"}constructor(r,c=null){super(null),this.array=r,this.elementType=c===null?y_(r[0]):c,this.paddedType=this.getPaddedType(),this.updateType=Fi.RENDER,this.isArrayBufferNode=!0}getNodeType(){return this.paddedType}getElementType(){return this.elementType}getPaddedType(){const r=this.elementType;let c="vec4";return r==="mat2"?c="mat2":/mat/.test(r)===!0?c="mat4":r.charAt(0)==="i"?c="ivec4":r.charAt(0)==="u"&&(c="uvec4"),c}update(){const{array:r,value:c}=this,f=this.elementType;if(f==="float"||f==="int"||f==="uint")for(let p=0;p<r.length;p++){const y=p*4;c[y]=r[p]}else if(f==="color")for(let p=0;p<r.length;p++){const y=p*4,T=r[p];c[y]=T.r,c[y+1]=T.g,c[y+2]=T.b||0}else if(f==="mat2")for(let p=0;p<r.length;p++){const y=p*4,T=r[p];c[y]=T.elements[0],c[y+1]=T.elements[1],c[y+2]=T.elements[2],c[y+3]=T.elements[3]}else if(f==="mat3")for(let p=0;p<r.length;p++){const y=p*16,T=r[p];c[y]=T.elements[0],c[y+1]=T.elements[1],c[y+2]=T.elements[2],c[y+4]=T.elements[3],c[y+5]=T.elements[4],c[y+6]=T.elements[5],c[y+8]=T.elements[6],c[y+9]=T.elements[7],c[y+10]=T.elements[8],c[y+15]=1}else if(f==="mat4")for(let p=0;p<r.length;p++){const y=p*16,T=r[p];for(let R=0;R<T.elements.length;R++)c[y+R]=T.elements[R]}else for(let p=0;p<r.length;p++){const y=p*4,T=r[p];c[y]=T.x,c[y+1]=T.y,c[y+2]=T.z||0,c[y+3]=T.w||0}}setup(r){const c=this.array.length,f=this.elementType;let p=Float32Array;const y=this.paddedType,T=r.getTypeLength(y);return f.charAt(0)==="i"&&(p=Int32Array),f.charAt(0)==="u"&&(p=Uint32Array),this.value=new p(c*T),this.bufferCount=c,this.bufferType=y,super.setup(r)}element(r){return r0(new Y_e(this,r0(r)))}}const mo=(v,r)=>r0(new K_e(v,r));class Z_e extends Q0{constructor(r){super("float"),this.name=r,this.isBuiltinNode=!0}generate(){return this.name}}const Vf=xn(Z_e).setParameterLength(1);let Eu,bu;class Yn extends Q0{static get type(){return"ScreenNode"}constructor(r){super(),this.scope=r,this._output=null,this.isViewportNode=!0}getNodeType(){return this.scope===Yn.DPR?"float":this.scope===Yn.VIEWPORT?"vec4":"vec2"}getUpdateType(){let r=Fi.NONE;return(this.scope===Yn.SIZE||this.scope===Yn.VIEWPORT||this.scope===Yn.DPR)&&(r=Fi.RENDER),this.updateType=r,r}update({renderer:r}){const c=r.getRenderTarget();this.scope===Yn.VIEWPORT?c!==null?bu.copy(c.viewport):(r.getViewport(bu),bu.multiplyScalar(r.getPixelRatio())):this.scope===Yn.DPR?this._output.value=r.getPixelRatio():c!==null?(Eu.width=c.width,Eu.height=c.height):r.getDrawingBufferSize(Eu)}setup(){const r=this.scope;let c=null;return r===Yn.SIZE?c=vi(Eu||(Eu=new O0)):r===Yn.VIEWPORT?c=vi(bu||(bu=new hi)):r===Yn.DPR?c=vi(1):c=_0(j_.div(yd)),this._output=c,c}generate(r){if(this.scope===Yn.COORDINATE){let c=r.getFragCoord();if(r.isFlipY()){const f=r.getNodeProperties(yd).outputNode.build(r);c=`${r.getType("vec2")}( ${c}.x, ${f}.y - ${c}.y )`}return c}return super.generate(r)}}Yn.COORDINATE="coordinate";Yn.VIEWPORT="viewport";Yn.SIZE="size";Yn.UV="uv";Yn.DPR="dpr";const Q_e=h0(Yn,Yn.DPR),fl=h0(Yn,Yn.UV),yd=h0(Yn,Yn.SIZE),j_=h0(Yn,Yn.COORDINATE),_y=h0(Yn,Yn.VIEWPORT),J_e=_y.zw;_y.xy;const N8=vi(0,"uint").setName("u_cameraIndex").setGroup(C8("cameraIndex")).toVarying("v_cameraIndex"),za=vi("float").setName("cameraNear").setGroup(xi).onRenderUpdate(({camera:v})=>v.near),Wa=vi("float").setName("cameraFar").setGroup(xi).onRenderUpdate(({camera:v})=>v.far),hy=Xt(({camera:v})=>{let r;if(v.isArrayCamera&&v.cameras.length>0){const c=[];for(const p of v.cameras)c.push(p.projectionMatrix);r=mo(c).setGroup(xi).setName("cameraProjectionMatrices").element(v.isMultiViewCamera?Vf("gl_ViewID_OVR"):N8).toConst("cameraProjectionMatrix")}else r=vi("mat4").setName("cameraProjectionMatrix").setGroup(xi).onRenderUpdate(({camera:c})=>c.projectionMatrix);return r}).once()(),U1=Xt(({camera:v})=>{let r;if(v.isArrayCamera&&v.cameras.length>0){const c=[];for(const p of v.cameras)c.push(p.matrixWorldInverse);r=mo(c).setGroup(xi).setName("cameraViewMatrices").element(v.isMultiViewCamera?Vf("gl_ViewID_OVR"):N8).toConst("cameraViewMatrix")}else r=vi("mat4").setName("cameraViewMatrix").setGroup(xi).onRenderUpdate(({camera:c})=>c.matrixWorldInverse);return r}).once()(),ehe=Xt(({camera:v})=>{let r;if(v.isArrayCamera&&v.cameras.length>0){const c=[];for(let p=0,y=v.cameras.length;p<y;p++)c.push(new nt);r=mo(c).setGroup(xi).setName("cameraPositions").onRenderUpdate(({camera:p},y)=>{const T=p.cameras,R=y.array;for(let b=0,P=T.length;b<P;b++)R[b].setFromMatrixPosition(T[b].matrixWorld)}).element(v.isMultiViewCamera?Vf("gl_ViewID_OVR"):N8).toConst("cameraPosition")}else r=vi(new nt).setName("cameraPosition").setGroup(xi).onRenderUpdate(({camera:c},f)=>f.value.setFromMatrixPosition(c.matrixWorld));return r}).once()(),v5=new lc;class Vn extends Q0{static get type(){return"Object3DNode"}constructor(r,c=null){super(),this.scope=r,this.object3d=c,this.updateType=Fi.OBJECT,this.uniformNode=new Gf(null)}getNodeType(){const r=this.scope;if(r===Vn.WORLD_MATRIX)return"mat4";if(r===Vn.POSITION||r===Vn.VIEW_POSITION||r===Vn.DIRECTION||r===Vn.SCALE)return"vec3";if(r===Vn.RADIUS)return"float"}update(r){const c=this.object3d,f=this.uniformNode,p=this.scope;if(p===Vn.WORLD_MATRIX)f.value=c.matrixWorld;else if(p===Vn.POSITION)f.value=f.value||new nt,f.value.setFromMatrixPosition(c.matrixWorld);else if(p===Vn.SCALE)f.value=f.value||new nt,f.value.setFromMatrixScale(c.matrixWorld);else if(p===Vn.DIRECTION)f.value=f.value||new nt,c.getWorldDirection(f.value);else if(p===Vn.VIEW_POSITION){const y=r.camera;f.value=f.value||new nt,f.value.setFromMatrixPosition(c.matrixWorld),f.value.applyMatrix4(y.matrixWorldInverse)}else if(p===Vn.RADIUS){const y=r.object.geometry;y.boundingSphere===null&&y.computeBoundingSphere(),v5.copy(y.boundingSphere).applyMatrix4(c.matrixWorld),f.value=v5.radius}}generate(r){const c=this.scope;return c===Vn.WORLD_MATRIX?this.uniformNode.nodeType="mat4":c===Vn.POSITION||c===Vn.VIEW_POSITION||c===Vn.DIRECTION||c===Vn.SCALE?this.uniformNode.nodeType="vec3":c===Vn.RADIUS&&(this.uniformNode.nodeType="float"),this.uniformNode.build(r)}serialize(r){super.serialize(r),r.scope=this.scope}deserialize(r){super.deserialize(r),this.scope=r.scope}}Vn.WORLD_MATRIX="worldMatrix";Vn.POSITION="position";Vn.SCALE="scale";Vn.VIEW_POSITION="viewPosition";Vn.DIRECTION="direction";Vn.RADIUS="radius";const the=xn(Vn,Vn.POSITION).setParameterLength(1);class to extends Vn{static get type(){return"ModelNode"}constructor(r){super(r)}update(r){this.object3d=r.object,super.update(r)}}to.DIRECTION;const ac=h0(to,to.WORLD_MATRIX);to.POSITION;to.SCALE;to.VIEW_POSITION;to.RADIUS;const ihe=vi(new Pi).onObjectUpdate(({object:v},r)=>r.value.getNormalMatrix(v.matrixWorld)),q_=Xt(v=>v.renderer.overrideNodes.modelViewMatrix||nhe).once()().toVar("modelViewMatrix"),nhe=U1.mul(ac),S5=Xt(v=>(v.context.isHighPrecisionModelViewMatrix=!0,vi("mat4").onObjectUpdate(({object:r,camera:c})=>r.modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,r.matrixWorld)))).once()().toVar("highpModelViewMatrix"),T5=Xt(v=>{const r=v.context.isHighPrecisionModelViewMatrix;return vi("mat3").onObjectUpdate(({object:c,camera:f})=>(r!==!0&&c.modelViewMatrix.multiplyMatrices(f.matrixWorldInverse,c.matrixWorld),c.normalMatrix.getNormalMatrix(c.modelViewMatrix)))}).once()().toVar("highpModelNormalViewMatrix"),X_=_a("position","vec3"),Gr=X_.toVarying("positionLocal"),C5=X_.toVarying("positionPrevious"),ql=Xt(v=>ac.mul(Gr).xyz.toVarying(v.getSubBuildProperty("v_positionWorld")),"vec3").once(["POSITION"])(),dy=Xt(()=>Gr.transformDirection(ac).toVarying("v_positionWorldDirection").normalize().toVar("positionWorldDirection"),"vec3").once(["POSITION"])(),U2=Xt(v=>v.context.setupPositionView().toVarying("v_positionView"),"vec3").once(["POSITION"])(),v2=Xt(v=>{let r;return v.camera.isOrthographicCamera?r=Gt(0,0,1):r=U2.negate().toVarying("v_positionViewDirection").normalize(),r.toVar("positionViewDirection")},"vec3").once(["POSITION"])();class rhe extends Q0{static get type(){return"FrontFacingNode"}constructor(){super("bool"),this.isFrontFacingNode=!0}generate(r){if(r.shaderStage!=="fragment")return"true";const{material:c}=r;return c.side===Zn?"false":r.getFrontFacing()}}const she=h0(rhe),my=Lt(she).mul(2).sub(1),zf=Xt(([v],{material:r})=>{const c=r.side;return c===Zn?v=v.mul(-1):c===Nr&&(v=v.mul(my)),v}),gy=_a("normal","vec3"),Qo=Xt(v=>v.geometry.hasAttribute("normal")===!1?(jt('TSL: Vertex attribute "normal" not found on geometry.'),Gt(0,1,0)):gy,"vec3").once()().toVar("normalLocal"),ohe=U2.dFdx().cross(U2.dFdy()).normalize().toVar("normalFlat"),Tf=Xt(v=>{let r;return v.material.flatShading===!0?r=ohe:r=xy(Qo).toVarying("v_normalViewGeometry").normalize(),r},"vec3").once()().toVar("normalViewGeometry"),ahe=Xt(v=>{let r=Tf.transformDirection(U1);return v.material.flatShading!==!0&&(r=r.toVarying("v_normalWorldGeometry")),r.normalize().toVar("normalWorldGeometry")},"vec3").once()(),bn=Xt(({subBuildFn:v,material:r,context:c})=>{let f;return v==="NORMAL"||v==="VERTEX"?(f=Tf,r.flatShading!==!0&&(f=zf(f))):f=c.setupNormal().context({getUV:null}),f},"vec3").once(["NORMAL","VERTEX"])().toVar("normalView"),au=bn.transformDirection(U1).toVar("normalWorld"),il=Xt(({subBuildFn:v,context:r})=>{let c;return v==="NORMAL"||v==="VERTEX"?c=bn:c=r.setupClearcoatNormal().context({getUV:null}),c},"vec3").once(["NORMAL","VERTEX"])().toVar("clearcoatNormalView"),che=Xt(([v,r=ac])=>{const c=ss(r),f=v.div(Gt(c[0].dot(c[0]),c[1].dot(c[1]),c[2].dot(c[2])));return c.mul(f).xyz}),xy=Xt(([v],r)=>{const c=r.renderer.overrideNodes.modelNormalViewMatrix;if(c!==null)return c.transformDirection(v);const f=ihe.mul(v);return U1.transformDirection(f)});Xt(()=>(jt('TSL: "transformedNormalView" is deprecated. Use "normalView" instead.'),bn)).once(["NORMAL","VERTEX"])();Xt(()=>(jt('TSL: "transformedNormalWorld" is deprecated. Use "normalWorld" instead.'),au)).once(["NORMAL","VERTEX"])();Xt(()=>(jt('TSL: "transformedClearcoatNormalView" is deprecated. Use "clearcoatNormalView" instead.'),il)).once(["NORMAL","VERTEX"])();const w5=new Wr,M4=new wi,lhe=vi(0).onReference(({material:v})=>v).onObjectUpdate(({material:v})=>v.refractionRatio),R4=vi(1).onReference(({material:v})=>v).onObjectUpdate(function({material:v,scene:r}){return v.envMap?v.envMapIntensity:r.environmentIntensity}),yy=vi(new wi).onReference(function(v){return v.material}).onObjectUpdate(function({material:v,scene:r}){const c=r.environment!==null&&v.envMap===null?r.environmentRotation:v.envMapRotation;return c?(w5.copy(c),M4.makeRotationFromEuler(w5)):M4.identity(),M4}),uhe=v2.negate().reflect(bn),fhe=v2.negate().refract(bn,lhe),phe=uhe.transformDirection(U1).toVar("reflectVector"),_he=fhe.transformDirection(U1).toVar("reflectVector"),hhe=new Df;class dhe extends ou{static get type(){return"CubeTextureNode"}constructor(r,c=null,f=null,p=null){super(r,c,f,p),this.isCubeTextureNode=!0}getInputType(){return"cubeTexture"}getDefaultUV(){const r=this.value;return r.mapping===$o?phe:r.mapping===Yo?_he:(i0('CubeTextureNode: Mapping "%s" not supported.',r.mapping),Gt(0,0,0))}setUpdateMatrix(){}setupUV(r,c){const f=this.value;return(r.renderer.coordinateSystem===pa||!f.isRenderTargetTexture)&&(c=Gt(c.x.negate(),c.yz)),yy.mul(c)}generateUV(r,c){return c.build(r,this.sampler===!0?"vec3":"ivec3")}}const mhe=xn(dhe).setParameterLength(1,4).setName("cubeTexture"),Cf=(v=hhe,r=null,c=null,f=null)=>{let p;return v&&v.isCubeTextureNode===!0?(p=r0(v.clone()),p.referenceNode=v,r!==null&&(p.uvNode=r0(r)),c!==null&&(p.levelNode=r0(c)),f!==null&&(p.biasNode=r0(f))):p=mhe(v,r,c,f),p};class ghe extends Of{static get type(){return"ReferenceElementNode"}constructor(r,c){super(r,c),this.referenceNode=r,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(r){const c=super.generate(r),f=this.referenceNode.getNodeType(),p=this.getNodeType();return r.format(c,f,p)}}class D8 extends Q0{static get type(){return"ReferenceNode"}constructor(r,c,f=null,p=null){super(),this.property=r,this.uniformType=c,this.object=f,this.count=p,this.properties=r.split("."),this.reference=f,this.node=null,this.group=null,this.name=null,this.updateType=Fi.OBJECT}element(r){return r0(new ghe(this,r0(r)))}setGroup(r){return this.group=r,this}setName(r){return this.name=r,this}label(r){return jt('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(r)}setNodeType(r){let c=null;this.count!==null?c=py(null,r,this.count):Array.isArray(this.getValueFromReference())?c=mo(null,r):r==="texture"?c=rn(null):r==="cubeTexture"?c=Cf(null):c=vi(null,r),this.group!==null&&c.setGroup(this.group),this.name!==null&&c.setName(this.name),this.node=c}getNodeType(r){return this.node===null&&(this.updateReference(r),this.updateValue()),this.node.getNodeType(r)}getValueFromReference(r=this.reference){const{properties:c}=this;let f=r[c[0]];for(let p=1;p<c.length;p++)f=f[c[p]];return f}updateReference(r){return this.reference=this.object!==null?this.object:r.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const r=this.getValueFromReference();Array.isArray(r)?this.node.array=r:this.node.value=r}}const zn=(v,r,c)=>r0(new D8(v,r,c)),M5=(v,r,c,f)=>r0(new D8(v,r,f,c));class xhe extends D8{static get type(){return"MaterialReferenceNode"}constructor(r,c,f=null){super(r,c,f),this.material=f,this.isMaterialReferenceNode=!0}updateReference(r){return this.reference=this.material!==null?this.material:r.material,this.reference}}const ta=(v,r,c=null)=>r0(new xhe(v,r,c)),vy=su(),yhe=U2.dFdx(),vhe=U2.dFdy(),Sy=vy.dFdx(),Ty=vy.dFdy(),Cy=bn,wy=vhe.cross(Cy),My=Cy.cross(yhe),vd=wy.mul(Sy.x).add(My.mul(Ty.x)),Sd=wy.mul(Sy.y).add(My.mul(Ty.y)),R5=vd.dot(vd).max(Sd.dot(Sd)),Ry=R5.equal(0).select(0,R5.inverseSqrt()),She=vd.mul(Ry).toVar("tangentViewFrame"),The=Sd.mul(Ry).toVar("bitangentViewFrame"),Ay=Xt(v=>(v.geometry.hasAttribute("tangent")===!1&&v.geometry.computeTangents(),_a("tangent","vec4")))(),I8=Ay.xyz.toVar("tangentLocal"),Ey=Xt(({subBuildFn:v,geometry:r,material:c})=>{let f;return v==="VERTEX"||r.hasAttribute("tangent")?f=q_.mul(Li(I8,0)).xyz.toVarying("v_tangentView").normalize():f=She,c.flatShading!==!0&&(f=zf(f)),f},"vec3").once(["NORMAL","VERTEX"])().toVar("tangentView"),Che=Xt(([v,r],{subBuildFn:c,material:f})=>{let p=v.mul(Ay.w).xyz;return c==="NORMAL"&&f.flatShading!==!0&&(p=p.toVarying(r)),p}).once(["NORMAL"]),whe=Xt(({subBuildFn:v,geometry:r,material:c})=>{let f;return v==="VERTEX"||r.hasAttribute("tangent")?f=Che(bn.cross(Ey),"v_bitangentView").normalize():f=The,c.flatShading!==!0&&(f=zf(f)),f},"vec3").once(["NORMAL","VERTEX"])().toVar("bitangentView"),ju=ss(Ey,whe,bn).toVar("TBNViewMatrix"),Mhe=Xt(()=>{let v=ul.cross(v2);return v=v.cross(ul).normalize(),v=l2(v,bn,Oa.mul(A1.oneMinus()).oneMinus().pow2().pow2()).normalize(),v}).once()();class Rhe extends ur{static get type(){return"NormalMapNode"}constructor(r,c=null){super("vec3"),this.node=r,this.scaleNode=c,this.normalMapType=P1}setup({material:r}){const{normalMapType:c,scaleNode:f}=this;let p=this.node.mul(2).sub(1);if(f!==null){let T=f;r.flatShading===!0&&(T=zf(T)),p=Gt(p.xy.mul(T),p.z)}let y=null;return c===ix?y=xy(p):c===P1?y=ju.mul(p).normalize():(i0(`NodeMaterial: Unsupported normal map type: ${c}`),y=bn),y}}const A5=xn(Rhe).setParameterLength(1,2),Ahe=Xt(({textureNode:v,bumpScale:r})=>{const c=p=>v.isolate().context({getUV:y=>p(y.uvNode||su()),forceUVContext:!0}),f=Lt(c(p=>p));return _0(Lt(c(p=>p.add(p.dFdx()))).sub(f),Lt(c(p=>p.add(p.dFdy()))).sub(f)).mul(r)}),Ehe=Xt(v=>{const{surf_pos:r,surf_norm:c,dHdxy:f}=v,p=r.dFdx().normalize(),y=r.dFdy().normalize(),T=c,R=y.cross(T),b=T.cross(p),P=p.dot(R).mul(my),G=P.sign().mul(f.x.mul(R).add(f.y.mul(b)));return P.abs().mul(c).sub(G).normalize()});class bhe extends ur{static get type(){return"BumpMapNode"}constructor(r,c=null){super("vec3"),this.textureNode=r,this.scaleNode=c}setup(){const r=this.scaleNode!==null?this.scaleNode:1,c=Ahe({textureNode:this.textureNode,bumpScale:r});return Ehe({surf_pos:U2,surf_norm:bn,dHdxy:c})}}const Nhe=xn(bhe).setParameterLength(1,2),E5=new Map;class Ot extends Q0{static get type(){return"MaterialNode"}constructor(r){super(),this.scope=r}getCache(r,c){let f=E5.get(r);return f===void 0&&(f=ta(r,c),E5.set(r,f)),f}getFloat(r){return this.getCache(r,"float")}getColor(r){return this.getCache(r,"color")}getTexture(r){return this.getCache(r==="map"?"map":r+"Map","texture")}setup(r){const c=r.context.material,f=this.scope;let p=null;if(f===Ot.COLOR){const y=c.color!==void 0?this.getColor(f):Gt();c.map&&c.map.isTexture===!0?p=y.mul(this.getTexture("map")):p=y}else if(f===Ot.OPACITY){const y=this.getFloat(f);c.alphaMap&&c.alphaMap.isTexture===!0?p=y.mul(this.getTexture("alpha")):p=y}else if(f===Ot.SPECULAR_STRENGTH)c.specularMap&&c.specularMap.isTexture===!0?p=this.getTexture("specular").r:p=Lt(1);else if(f===Ot.SPECULAR_INTENSITY){const y=this.getFloat(f);c.specularIntensityMap&&c.specularIntensityMap.isTexture===!0?p=y.mul(this.getTexture(f).a):p=y}else if(f===Ot.SPECULAR_COLOR){const y=this.getColor(f);c.specularColorMap&&c.specularColorMap.isTexture===!0?p=y.mul(this.getTexture(f).rgb):p=y}else if(f===Ot.ROUGHNESS){const y=this.getFloat(f);c.roughnessMap&&c.roughnessMap.isTexture===!0?p=y.mul(this.getTexture(f).g):p=y}else if(f===Ot.METALNESS){const y=this.getFloat(f);c.metalnessMap&&c.metalnessMap.isTexture===!0?p=y.mul(this.getTexture(f).b):p=y}else if(f===Ot.EMISSIVE){const y=this.getFloat("emissiveIntensity"),T=this.getColor(f).mul(y);c.emissiveMap&&c.emissiveMap.isTexture===!0?p=T.mul(this.getTexture(f)):p=T}else if(f===Ot.NORMAL)c.normalMap?(p=A5(this.getTexture("normal"),this.getCache("normalScale","vec2")),p.normalMapType=c.normalMapType):c.bumpMap?p=Nhe(this.getTexture("bump").r,this.getFloat("bumpScale")):p=bn;else if(f===Ot.CLEARCOAT){const y=this.getFloat(f);c.clearcoatMap&&c.clearcoatMap.isTexture===!0?p=y.mul(this.getTexture(f).r):p=y}else if(f===Ot.CLEARCOAT_ROUGHNESS){const y=this.getFloat(f);c.clearcoatRoughnessMap&&c.clearcoatRoughnessMap.isTexture===!0?p=y.mul(this.getTexture(f).r):p=y}else if(f===Ot.CLEARCOAT_NORMAL)c.clearcoatNormalMap?p=A5(this.getTexture(f),this.getCache(f+"Scale","vec2")):p=bn;else if(f===Ot.SHEEN){const y=this.getColor("sheenColor").mul(this.getFloat("sheen"));c.sheenColorMap&&c.sheenColorMap.isTexture===!0?p=y.mul(this.getTexture("sheenColor").rgb):p=y}else if(f===Ot.SHEEN_ROUGHNESS){const y=this.getFloat(f);c.sheenRoughnessMap&&c.sheenRoughnessMap.isTexture===!0?p=y.mul(this.getTexture(f).a):p=y,p=p.clamp(.07,1)}else if(f===Ot.ANISOTROPY)if(c.anisotropyMap&&c.anisotropyMap.isTexture===!0){const y=this.getTexture(f);p=v8(Nu.x,Nu.y,Nu.y.negate(),Nu.x).mul(y.rg.mul(2).sub(_0(1)).normalize().mul(y.b))}else p=Nu;else if(f===Ot.IRIDESCENCE_THICKNESS){const y=zn("1","float",c.iridescenceThicknessRange);if(c.iridescenceThicknessMap){const T=zn("0","float",c.iridescenceThicknessRange);p=y.sub(T).mul(this.getTexture(f).g).add(T)}else p=y}else if(f===Ot.TRANSMISSION){const y=this.getFloat(f);c.transmissionMap?p=y.mul(this.getTexture(f).r):p=y}else if(f===Ot.THICKNESS){const y=this.getFloat(f);c.thicknessMap?p=y.mul(this.getTexture(f).g):p=y}else if(f===Ot.IOR)p=this.getFloat(f);else if(f===Ot.LIGHT_MAP)p=this.getTexture(f).rgb.mul(this.getFloat("lightMapIntensity"));else if(f===Ot.AO)p=this.getTexture(f).r.sub(1).mul(this.getFloat("aoMapIntensity")).add(1);else if(f===Ot.LINE_DASH_OFFSET)p=c.dashOffset?this.getFloat(f):Lt(0);else{const y=this.getNodeType(r);p=this.getCache(f,y)}return p}}Ot.ALPHA_TEST="alphaTest";Ot.COLOR="color";Ot.OPACITY="opacity";Ot.SHININESS="shininess";Ot.SPECULAR="specular";Ot.SPECULAR_STRENGTH="specularStrength";Ot.SPECULAR_INTENSITY="specularIntensity";Ot.SPECULAR_COLOR="specularColor";Ot.REFLECTIVITY="reflectivity";Ot.ROUGHNESS="roughness";Ot.METALNESS="metalness";Ot.NORMAL="normal";Ot.CLEARCOAT="clearcoat";Ot.CLEARCOAT_ROUGHNESS="clearcoatRoughness";Ot.CLEARCOAT_NORMAL="clearcoatNormal";Ot.EMISSIVE="emissive";Ot.ROTATION="rotation";Ot.SHEEN="sheen";Ot.SHEEN_ROUGHNESS="sheenRoughness";Ot.ANISOTROPY="anisotropy";Ot.IRIDESCENCE="iridescence";Ot.IRIDESCENCE_IOR="iridescenceIOR";Ot.IRIDESCENCE_THICKNESS="iridescenceThickness";Ot.IOR="ior";Ot.TRANSMISSION="transmission";Ot.THICKNESS="thickness";Ot.ATTENUATION_DISTANCE="attenuationDistance";Ot.ATTENUATION_COLOR="attenuationColor";Ot.LINE_SCALE="scale";Ot.LINE_DASH_SIZE="dashSize";Ot.LINE_GAP_SIZE="gapSize";Ot.LINE_WIDTH="linewidth";Ot.LINE_DASH_OFFSET="dashOffset";Ot.POINT_SIZE="size";Ot.DISPERSION="dispersion";Ot.LIGHT_MAP="light";Ot.AO="ao";const Dhe=h0(Ot,Ot.ALPHA_TEST),Ihe=h0(Ot,Ot.COLOR),Phe=h0(Ot,Ot.SHININESS),Lhe=h0(Ot,Ot.EMISSIVE),by=h0(Ot,Ot.OPACITY),khe=h0(Ot,Ot.SPECULAR),b5=h0(Ot,Ot.SPECULAR_INTENSITY),Fhe=h0(Ot,Ot.SPECULAR_COLOR),p_=h0(Ot,Ot.SPECULAR_STRENGTH),A4=h0(Ot,Ot.REFLECTIVITY),Bhe=h0(Ot,Ot.ROUGHNESS),Uhe=h0(Ot,Ot.METALNESS),Ohe=h0(Ot,Ot.NORMAL),Ghe=h0(Ot,Ot.CLEARCOAT),Vhe=h0(Ot,Ot.CLEARCOAT_ROUGHNESS),zhe=h0(Ot,Ot.CLEARCOAT_NORMAL),Whe=h0(Ot,Ot.ROTATION),Hhe=h0(Ot,Ot.SHEEN),jhe=h0(Ot,Ot.SHEEN_ROUGHNESS),qhe=h0(Ot,Ot.ANISOTROPY),Xhe=h0(Ot,Ot.IRIDESCENCE),$he=h0(Ot,Ot.IRIDESCENCE_IOR),Yhe=h0(Ot,Ot.IRIDESCENCE_THICKNESS),Khe=h0(Ot,Ot.TRANSMISSION),Zhe=h0(Ot,Ot.THICKNESS),Qhe=h0(Ot,Ot.IOR),Jhe=h0(Ot,Ot.ATTENUATION_DISTANCE),e4e=h0(Ot,Ot.ATTENUATION_COLOR),t4e=h0(Ot,Ot.LINE_SCALE),i4e=h0(Ot,Ot.LINE_DASH_SIZE),n4e=h0(Ot,Ot.LINE_GAP_SIZE);Ot.LINE_WIDTH;const r4e=h0(Ot,Ot.LINE_DASH_OFFSET),s4e=h0(Ot,Ot.POINT_SIZE),o4e=h0(Ot,Ot.DISPERSION),Ny=h0(Ot,Ot.LIGHT_MAP),a4e=h0(Ot,Ot.AO),Nu=vi(new O0).onReference(function(v){return v.material}).onRenderUpdate(function({material:v}){this.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation))}),Dy=Xt(v=>v.context.setupModelViewProjection(),"vec4").once()().toVarying("v_modelViewProjection");class u2 extends Q0{static get type(){return"IndexNode"}constructor(r){super("uint"),this.scope=r,this.isIndexNode=!0}generate(r){const c=this.getNodeType(r),f=this.scope;let p;if(f===u2.VERTEX)p=r.getVertexIndex();else if(f===u2.INSTANCE)p=r.getInstanceIndex();else if(f===u2.DRAW)p=r.getDrawIndex();else if(f===u2.INVOCATION_LOCAL)p=r.getInvocationLocalIndex();else if(f===u2.INVOCATION_SUBGROUP)p=r.getInvocationSubgroupIndex();else if(f===u2.SUBGROUP)p=r.getSubgroupIndex();else throw new Error("THREE.IndexNode: Unknown scope: "+f);let y;return r.shaderStage==="vertex"||r.shaderStage==="compute"?y=p:y=ha(this).build(r,c),y}}u2.VERTEX="vertex";u2.INSTANCE="instance";u2.SUBGROUP="subgroup";u2.INVOCATION_LOCAL="invocationLocal";u2.INVOCATION_SUBGROUP="invocationSubgroup";u2.DRAW="draw";const c4e=h0(u2,u2.VERTEX),P8=h0(u2,u2.INSTANCE);u2.SUBGROUP;u2.INVOCATION_SUBGROUP;u2.INVOCATION_LOCAL;const l4e=h0(u2,u2.DRAW);class u4e extends Q0{static get type(){return"InstanceNode"}constructor(r,c,f=null){super("void"),this.count=r,this.instanceMatrix=c,this.instanceColor=f,this.instanceMatrixNode=null,this.instanceColorNode=null,this.updateType=Fi.FRAME,this.buffer=null,this.bufferColor=null}setup(r){const{instanceMatrix:c,instanceColor:f}=this,{count:p}=c;let{instanceMatrixNode:y,instanceColorNode:T}=this;if(y===null){if(p<=1e3)y=py(c.array,"mat4",Math.max(p,1)).element(P8);else{const b=new E1e(c.array,16,1);this.buffer=b;const P=c.usage===Jc?y5:x5,G=[P(b,"vec4",16,0),P(b,"vec4",16,4),P(b,"vec4",16,8),P(b,"vec4",16,12)];y=ll(...G)}this.instanceMatrixNode=y}if(f&&T===null){const b=new Xoe(f.array,3),P=f.usage===Jc?y5:x5;this.bufferColor=b,T=Gt(P(b,"vec3",3,0)),this.instanceColorNode=T}const R=y.mul(Gr).xyz;if(Gr.assign(R),r.hasGeometryAttribute("normal")){const b=che(Qo,y);Qo.assign(b)}this.instanceColorNode!==null&&S_("vec3","vInstanceColor").assign(this.instanceColorNode)}update(){this.buffer!==null&&(this.buffer.clearUpdateRanges(),this.buffer.updateRanges.push(...this.instanceMatrix.updateRanges),this.instanceMatrix.usage!==Jc&&this.instanceMatrix.version!==this.buffer.version&&(this.buffer.version=this.instanceMatrix.version)),this.instanceColor&&this.bufferColor!==null&&(this.bufferColor.clearUpdateRanges(),this.bufferColor.updateRanges.push(...this.instanceColor.updateRanges),this.instanceColor.usage!==Jc&&this.instanceColor.version!==this.bufferColor.version&&(this.bufferColor.version=this.instanceColor.version))}}class f4e extends u4e{static get type(){return"InstancedMeshNode"}constructor(r){const{count:c,instanceMatrix:f,instanceColor:p}=r;super(c,f,p),this.instancedMesh=r}}const p4e=xn(f4e).setParameterLength(1);class _4e extends Q0{static get type(){return"BatchNode"}constructor(r){super("void"),this.batchMesh=r,this.batchingIdNode=null}setup(r){this.batchingIdNode===null&&(r.getDrawIndex()===null?this.batchingIdNode=P8:this.batchingIdNode=l4e);const f=Xt(([ie])=>{const ce=n2(Qa($s(this.batchMesh._indirectTexture),0).x),ue=n2(ie).mod(ce),se=n2(ie).div(ce);return $s(this.batchMesh._indirectTexture,w1(ue,se)).x}).setLayout({name:"getIndirectIndex",type:"uint",inputs:[{name:"id",type:"int"}]})(n2(this.batchingIdNode)),p=this.batchMesh._matricesTexture,y=n2(Qa($s(p),0).x),T=Lt(f).mul(4).toInt().toVar(),R=T.mod(y),b=T.div(y),P=ll($s(p,w1(R,b)),$s(p,w1(R.add(1),b)),$s(p,w1(R.add(2),b)),$s(p,w1(R.add(3),b))),G=this.batchMesh._colorsTexture;if(G!==null){const ce=Xt(([ue])=>{const se=n2(Qa($s(G),0).x),Ne=ue,De=Ne.mod(se),Oe=Ne.div(se);return $s(G,w1(De,Oe)).rgb}).setLayout({name:"getBatchingColor",type:"vec3",inputs:[{name:"id",type:"int"}]})(f);S_("vec3","vBatchColor").assign(ce)}const j=ss(P);Gr.assign(P.mul(Gr));const K=Qo.div(Gt(j[0].dot(j[0]),j[1].dot(j[1]),j[2].dot(j[2]))),Q=j.mul(K).xyz;Qo.assign(Q),r.hasGeometryAttribute("tangent")&&I8.mulAssign(j)}}const h4e=xn(_4e).setParameterLength(1),N5=new WeakMap;class d4e extends Q0{static get type(){return"SkinningNode"}constructor(r){super("void"),this.skinnedMesh=r,this.updateType=Fi.OBJECT,this.skinIndexNode=_a("skinIndex","uvec4"),this.skinWeightNode=_a("skinWeight","vec4"),this.bindMatrixNode=zn("bindMatrix","mat4"),this.bindMatrixInverseNode=zn("bindMatrixInverse","mat4"),this.boneMatricesNode=M5("skeleton.boneMatrices","mat4",r.skeleton.bones.length),this.positionNode=Gr,this.toPositionNode=Gr,this.previousBoneMatricesNode=null}getSkinnedPosition(r=this.boneMatricesNode,c=this.positionNode){const{skinIndexNode:f,skinWeightNode:p,bindMatrixNode:y,bindMatrixInverseNode:T}=this,R=r.element(f.x),b=r.element(f.y),P=r.element(f.z),G=r.element(f.w),j=y.mul(c),K=Ms(R.mul(p.x).mul(j),b.mul(p.y).mul(j),P.mul(p.z).mul(j),G.mul(p.w).mul(j));return T.mul(K).xyz}getSkinnedNormal(r=this.boneMatricesNode,c=Qo){const{skinIndexNode:f,skinWeightNode:p,bindMatrixNode:y,bindMatrixInverseNode:T}=this,R=r.element(f.x),b=r.element(f.y),P=r.element(f.z),G=r.element(f.w);let j=Ms(p.x.mul(R),p.y.mul(b),p.z.mul(P),p.w.mul(G));return j=T.mul(j).mul(y),j.transformDirection(c).xyz}getPreviousSkinnedPosition(r){const c=r.object;return this.previousBoneMatricesNode===null&&(c.skeleton.previousBoneMatrices=new Float32Array(c.skeleton.boneMatrices),this.previousBoneMatricesNode=M5("skeleton.previousBoneMatrices","mat4",c.skeleton.bones.length)),this.getSkinnedPosition(this.previousBoneMatricesNode,C5)}needsPreviousBoneMatrices(r){const c=r.renderer.getMRT();return c&&c.has("velocity")||Ax(r.object).useVelocity===!0}setup(r){this.needsPreviousBoneMatrices(r)&&C5.assign(this.getPreviousSkinnedPosition(r));const c=this.getSkinnedPosition();if(this.toPositionNode&&this.toPositionNode.assign(c),r.hasGeometryAttribute("normal")){const f=this.getSkinnedNormal();Qo.assign(f),r.hasGeometryAttribute("tangent")&&I8.assign(f)}return c}generate(r,c){if(c!=="void")return super.generate(r,c)}update(r){const c=r.object&&r.object.skeleton?r.object.skeleton:this.skinnedMesh.skeleton;N5.get(c)!==r.frameId&&(N5.set(c,r.frameId),this.previousBoneMatricesNode!==null&&c.previousBoneMatrices.set(c.boneMatrices),c.update())}}const m4e=v=>r0(new d4e(v));class g4e extends Q0{static get type(){return"LoopNode"}constructor(r=[]){super("void"),this.params=r}getVarName(r){return String.fromCharCode(105+r)}getProperties(r){const c=r.getNodeProperties(this);if(c.stackNode!==void 0)return c;const f={};for(let R=0,b=this.params.length-1;R<b;R++){const P=this.params[R],G=P.isNode!==!0&&P.name||this.getVarName(R),j=P.isNode!==!0&&P.type||"int";f[G]=jl(G,j)}const p=r.addStack(),y=this.params[this.params.length-1](f);c.returnsNode=y.context({nodeLoop:y}),c.stackNode=p;const T=this.params[0];if(T.isNode!==!0&&typeof T.update=="function"){const R=Xt(this.params[0].update)(f);c.updateNode=R.context({nodeLoop:R})}return r.removeStack(),c}setup(r){if(this.getProperties(r),r.fnCall){const c=r.getDataFromNode(r.fnCall.shaderNode);c.hasLoop=!0}}generate(r){const c=this.getProperties(r),f=this.params,p=c.stackNode;for(let T=0,R=f.length-1;T<R;T++){const b=f[T];let P=!1,G=null,j=null,K=null,Q=null,ie=null,ce=null;b.isNode?b.getNodeType(r)==="bool"?(P=!0,Q="bool",j=b.build(r,Q)):(Q="int",K=this.getVarName(T),G="0",j=b.build(r,Q),ie="<"):(Q=b.type||"int",K=b.name||this.getVarName(T),G=b.start,j=b.end,ie=b.condition,ce=b.update,typeof G=="number"?G=r.generateConst(Q,G):G&&G.isNode&&(G=G.build(r,Q)),typeof j=="number"?j=r.generateConst(Q,j):j&&j.isNode&&(j=j.build(r,Q)),G!==void 0&&j===void 0?(G=G+" - 1",j="0",ie=">="):j!==void 0&&G===void 0&&(G="0",ie="<"),ie===void 0&&(Number(G)>Number(j)?ie=">=":ie="<"));let ue;if(P)ue=`while ( ${j} )`;else{const se={start:G,end:j},Ne=se.start,De=se.end;let Oe;const je=()=>ie.includes("<")?"+=":"-=";if(ce!=null)switch(typeof ce){case"function":Oe=r.flowStagesNode(c.updateNode,"void").code.replace(/\t|;/g,"");break;case"number":Oe=K+" "+je()+" "+r.generateConst(Q,ce);break;case"string":Oe=K+" "+ce;break;default:ce.isNode?Oe=K+" "+je()+" "+ce.build(r):(i0("TSL: 'Loop( { update: ... } )' is not a function, string or number."),Oe="break /* invalid update */")}else Q==="int"||Q==="uint"?ce=ie.includes("<")?"++":"--":ce=je()+" 1.",Oe=K+" "+ce;const Be=r.getVar(Q,K)+" = "+Ne,We=K+" "+ie+" "+De;ue=`for ( ${Be}; ${We}; ${Oe} )`}r.addFlowCode((T===0?`
`:"")+r.tab+ue+` {

`).addFlowTab()}const y=p.build(r,"void");c.returnsNode.build(r,"void"),r.removeFlowTab().addFlowCode(`
`+r.tab+y);for(let T=0,R=this.params.length-1;T<R;T++)r.addFlowCode((T===0?"":r.tab)+`}

`).removeFlowTab();r.addFlowTab()}}const Ks=(...v)=>new g4e(cl(v,"int")).toStack(),x4e=()=>jl("break").toStack(),E4=new WeakMap,Is=new hi,D5=Xt(({bufferMap:v,influence:r,stride:c,width:f,depth:p,offset:y})=>{const T=n2(c4e).mul(c).add(y),R=T.div(f),b=T.sub(R.mul(f));return $s(v,w1(b,R)).depth(p).xyz.mul(r)});function y4e(v){const r=v.morphAttributes.position!==void 0,c=v.morphAttributes.normal!==void 0,f=v.morphAttributes.color!==void 0,p=v.morphAttributes.position||v.morphAttributes.normal||v.morphAttributes.color,y=p!==void 0?p.length:0;let T=E4.get(v);if(T===void 0||T.count!==y){let Ne=function(){ue.dispose(),E4.delete(v),v.removeEventListener("dispose",Ne)};var R=Ne;T!==void 0&&T.texture.dispose();const b=v.morphAttributes.position||[],P=v.morphAttributes.normal||[],G=v.morphAttributes.color||[];let j=0;r===!0&&(j=1),c===!0&&(j=2),f===!0&&(j=3);let K=v.attributes.position.count*j,Q=1;const ie=4096;K>ie&&(Q=Math.ceil(K/ie),K=ie);const ce=new Float32Array(K*Q*4*y),ue=new Jd(ce,K,Q,y);ue.type=P2,ue.needsUpdate=!0;const se=j*4;for(let De=0;De<y;De++){const Oe=b[De],je=P[De],Be=G[De],We=K*Q*4*De;for(let $e=0;$e<Oe.count;$e++){const Ee=$e*se;r===!0&&(Is.fromBufferAttribute(Oe,$e),ce[We+Ee+0]=Is.x,ce[We+Ee+1]=Is.y,ce[We+Ee+2]=Is.z,ce[We+Ee+3]=0),c===!0&&(Is.fromBufferAttribute(je,$e),ce[We+Ee+4]=Is.x,ce[We+Ee+5]=Is.y,ce[We+Ee+6]=Is.z,ce[We+Ee+7]=0),f===!0&&(Is.fromBufferAttribute(Be,$e),ce[We+Ee+8]=Is.x,ce[We+Ee+9]=Is.y,ce[We+Ee+10]=Is.z,ce[We+Ee+11]=Be.itemSize===4?Is.w:1)}}T={count:y,texture:ue,stride:j,size:new O0(K,Q)},E4.set(v,T),v.addEventListener("dispose",Ne)}return T}class v4e extends Q0{static get type(){return"MorphNode"}constructor(r){super("void"),this.mesh=r,this.morphBaseInfluence=vi(1),this.updateType=Fi.OBJECT}setup(r){const{geometry:c}=r,f=c.morphAttributes.position!==void 0,p=c.hasAttribute("normal")&&c.morphAttributes.normal!==void 0,y=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,T=y!==void 0?y.length:0,{texture:R,stride:b,size:P}=y4e(c);f===!0&&Gr.mulAssign(this.morphBaseInfluence),p===!0&&Qo.mulAssign(this.morphBaseInfluence);const G=n2(P.width);Ks(T,({i:j})=>{const K=Lt(0).toVar();this.mesh.count>1&&this.mesh.morphTexture!==null&&this.mesh.morphTexture!==void 0?K.assign($s(this.mesh.morphTexture,w1(n2(j).add(1),n2(P8))).r):K.assign(zn("morphTargetInfluences","float").element(j).toVar()),f2(K.notEqual(0),()=>{f===!0&&Gr.addAssign(D5({bufferMap:R,influence:K,stride:b,width:G,depth:j,offset:n2(0)})),p===!0&&Qo.addAssign(D5({bufferMap:R,influence:K,stride:b,width:G,depth:j,offset:n2(1)}))})})}update(){const r=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?r.value=1:r.value=1-this.mesh.morphTargetInfluences.reduce((c,f)=>c+f,0)}}const S4e=xn(v4e).setParameterLength(1);class cu extends Q0{static get type(){return"LightingNode"}constructor(){super("vec3"),this.isLightingNode=!0}}class T4e extends cu{static get type(){return"AONode"}constructor(r=null){super(),this.aoNode=r}setup(r){r.context.ambientOcclusion.mulAssign(this.aoNode)}}class C4e extends iy{static get type(){return"LightingContextNode"}constructor(r,c=null,f=null,p=null){super(r),this.lightingModel=c,this.backdropNode=f,this.backdropAlphaNode=p,this._value=null}getContext(){const{backdropNode:r,backdropAlphaNode:c}=this,f=Gt().toVar("directDiffuse"),p=Gt().toVar("directSpecular"),y=Gt().toVar("indirectDiffuse"),T=Gt().toVar("indirectSpecular"),R={directDiffuse:f,directSpecular:p,indirectDiffuse:y,indirectSpecular:T};return{radiance:Gt().toVar("radiance"),irradiance:Gt().toVar("irradiance"),iblIrradiance:Gt().toVar("iblIrradiance"),ambientOcclusion:Lt(1).toVar("ambientOcclusion"),reflectedLight:R,backdrop:r,backdropAlpha:c}}setup(r){return this.value=this._value||(this._value=this.getContext()),this.value.lightingModel=this.lightingModel||r.context.lightingModel,super.setup(r)}}const w4e=xn(C4e);class M4e extends cu{static get type(){return"IrradianceNode"}constructor(r){super(),this.node=r}setup(r){r.context.irradiance.addAssign(this.node)}}const jc=new O0;class Iy extends ou{static get type(){return"ViewportTextureNode"}constructor(r=fl,c=null,f=null){let p=null;f===null?(p=new px,p.minFilter=Vr,f=p):p=f,super(f,r,c),this.generateMipmaps=!1,this.defaultFramebuffer=p,this.isOutputTextureNode=!0,this.updateBeforeType=Fi.FRAME,this._cacheTextures=new WeakMap}getTextureForReference(r=null){let c,f;if(this.referenceNode?(c=this.referenceNode.defaultFramebuffer,f=this.referenceNode._cacheTextures):(c=this.defaultFramebuffer,f=this._cacheTextures),r===null)return c;if(f.has(r)===!1){const p=c.clone();f.set(r,p)}return f.get(r)}updateReference(r){const c=r.renderer.getRenderTarget();return this.value=this.getTextureForReference(c),this.value}updateBefore(r){const c=r.renderer,f=c.getRenderTarget();f===null?c.getDrawingBufferSize(jc):jc.set(f.width,f.height);const p=this.getTextureForReference(f);(p.image.width!==jc.width||p.image.height!==jc.height)&&(p.image.width=jc.width,p.image.height=jc.height,p.needsUpdate=!0);const y=p.generateMipmaps;p.generateMipmaps=this.generateMipmaps,c.copyFramebufferToTexture(p),p.generateMipmaps=y}clone(){const r=new this.constructor(this.uvNode,this.levelNode,this.value);return r.generateMipmaps=this.generateMipmaps,r}}const Py=xn(Iy,null,null,{generateMipmaps:!0}).setParameterLength(0,3);let Wp=null;class R4e extends Iy{static get type(){return"ViewportDepthTextureNode"}constructor(r=fl,c=null){Wp===null&&(Wp=new Qs),super(r,c,Wp)}getTextureForReference(){return Wp}}const A4e=xn(R4e).setParameterLength(0,2);class Ss extends Q0{static get type(){return"ViewportDepthNode"}constructor(r,c=null){super("float"),this.scope=r,this.valueNode=c,this.isViewportDepthNode=!0}generate(r){const{scope:c}=this;return c===Ss.DEPTH_BASE?r.getFragDepth():super.generate(r)}setup({camera:r}){const{scope:c}=this,f=this.valueNode;let p=null;if(c===Ss.DEPTH_BASE)f!==null&&(p=Fy().assign(f));else if(c===Ss.DEPTH)r.isPerspectiveCamera?p=E4e(U2.z,za,Wa):p=tf(U2.z,za,Wa);else if(c===Ss.LINEAR_DEPTH)if(f!==null)if(r.isPerspectiveCamera){const y=Ly(f,za,Wa);p=tf(y,za,Wa)}else p=f;else p=tf(U2.z,za,Wa);return p}}Ss.DEPTH_BASE="depthBase";Ss.DEPTH="depth";Ss.LINEAR_DEPTH="linearDepth";const tf=(v,r,c)=>v.add(r).div(r.sub(c)),E4e=(v,r,c)=>r.add(v).mul(c).div(c.sub(r).mul(v)),Ly=(v,r,c)=>r.mul(c).div(c.sub(r).mul(v).sub(c)),ky=(v,r,c)=>{r=r.max(1e-6).toVar();const f=D1(v.negate().div(r)),p=D1(c.div(r));return f.div(p)},Fy=xn(Ss,Ss.DEPTH_BASE),By=h0(Ss,Ss.DEPTH),b4e=xn(Ss,Ss.LINEAR_DEPTH).setParameterLength(0,1);A4e();By.assign=v=>Fy(v);class Js extends Q0{static get type(){return"ClippingNode"}constructor(r=Js.DEFAULT){super(),this.scope=r}setup(r){super.setup(r);const c=r.clippingContext,{intersectionPlanes:f,unionPlanes:p}=c;return this.hardwareClipping=r.material.hardwareClipping,this.scope===Js.ALPHA_TO_COVERAGE?this.setupAlphaToCoverage(f,p):this.scope===Js.HARDWARE?this.setupHardwareClipping(p,r):this.setupDefault(f,p)}setupAlphaToCoverage(r,c){return Xt(()=>{const f=Lt().toVar("distanceToPlane"),p=Lt().toVar("distanceToGradient"),y=Lt(1).toVar("clipOpacity"),T=c.length;if(this.hardwareClipping===!1&&T>0){const b=mo(c).setGroup(xi);Ks(T,({i:P})=>{const G=b.element(P);f.assign(U2.dot(G.xyz).negate().add(G.w)),p.assign(f.fwidth().div(2)),y.mulAssign(F1(p.negate(),p,f))})}const R=r.length;if(R>0){const b=mo(r).setGroup(xi),P=Lt(1).toVar("intersectionClipOpacity");Ks(R,({i:G})=>{const j=b.element(G);f.assign(U2.dot(j.xyz).negate().add(j.w)),p.assign(f.fwidth().div(2)),P.mulAssign(F1(p.negate(),p,f).oneMinus())}),y.mulAssign(P.oneMinus())}un.a.mulAssign(y),un.a.equal(0).discard()})()}setupDefault(r,c){return Xt(()=>{const f=c.length;if(this.hardwareClipping===!1&&f>0){const y=mo(c).setGroup(xi);Ks(f,({i:T})=>{const R=y.element(T);U2.dot(R.xyz).greaterThan(R.w).discard()})}const p=r.length;if(p>0){const y=mo(r).setGroup(xi),T=y8(!0).toVar("clipped");Ks(p,({i:R})=>{const b=y.element(R);T.assign(U2.dot(b.xyz).greaterThan(b.w).and(T))}),T.discard()}})()}setupHardwareClipping(r,c){const f=r.length;return c.enableHardwareClipping(f),Xt(()=>{const p=mo(r).setGroup(xi),y=Vf(c.getClipDistance());Ks(f,({i:T})=>{const R=p.element(T),b=U2.dot(R.xyz).sub(R.w).negate();y.element(T).assign(b)})})()}}Js.ALPHA_TO_COVERAGE="alphaToCoverage";Js.DEFAULT="default";Js.HARDWARE="hardware";const N4e=()=>r0(new Js),D4e=()=>r0(new Js(Js.ALPHA_TO_COVERAGE)),I4e=()=>r0(new Js(Js.HARDWARE)),P4e=.05,I5=Xt(([v])=>Zo(Oi(1e4,Ys(Oi(17,v.x).add(Oi(.1,v.y)))).mul(Ms(.1,Ls(Ys(Oi(13,v.y).add(v.x))))))),P5=Xt(([v])=>I5(_0(I5(v.xy),v.z))),L4e=Xt(([v])=>{const r=lr(I1(Xx(v.xyz)),I1($x(v.xyz))),c=Lt(1).div(Lt(P4e).mul(r)).toVar("pixScale"),f=_0(vf(Za(D1(c))),vf(M8(D1(c)))),p=_0(P5(Za(f.x.mul(v.xyz))),P5(Za(f.y.mul(v.xyz)))),y=Zo(D1(c)),T=Ms(Oi(y.oneMinus(),p.x),Oi(y,p.y)),R=Wl(y,y.oneMinus()),b=Gt(T.mul(T).div(Oi(2,R).mul(ts(1,R))),T.sub(Oi(.5,R)).div(ts(1,R)),ts(1,ts(1,T).mul(ts(1,T)).div(Oi(2,R).mul(ts(1,R))))),P=T.lessThan(R.oneMinus()).select(T.lessThan(R).select(b.x,b.y),b.z);return k1(P,1e-6,1)}).setLayout({name:"getAlphaHashThreshold",type:"float",inputs:[{name:"position",type:"vec3"}]});class k4e extends ly{static get type(){return"VertexColorNode"}constructor(r){super(null,"vec4"),this.isVertexColorNode=!0,this.index=r}getAttributeName(){const r=this.index;return"color"+(r>0?r:"")}generate(r){const c=this.getAttributeName(r),f=r.hasGeometryAttribute(c);let p;return f===!0?p=super.generate(r):p=r.generateConst(this.nodeType,new hi(1,1,1,1)),p}serialize(r){super.serialize(r),r.index=this.index}deserialize(r){super.deserialize(r),this.index=r.index}}const F4e=(v=0)=>r0(new k4e(v)),B4e=Xt(([v])=>Li(v.rgb.mul(v.a),v.a),{color:"vec4",return:"vec4"});class V2 extends Hr{static get type(){return"NodeMaterial"}get type(){return this.constructor.type}set type(r){}constructor(){super(),this.isNodeMaterial=!0,this.fog=!0,this.lights=!1,this.hardwareClipping=!1,this.lightsNode=null,this.envNode=null,this.aoNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.maskNode=null,this.positionNode=null,this.geometryNode=null,this.depthNode=null,this.receivedShadowPositionNode=null,this.castShadowPositionNode=null,this.receivedShadowNode=null,this.castShadowNode=null,this.outputNode=null,this.mrtNode=null,this.fragmentNode=null,this.vertexNode=null,Object.defineProperty(this,"shadowPositionNode",{get:()=>this.receivedShadowPositionNode,set:r=>{jt('NodeMaterial: ".shadowPositionNode" was renamed to ".receivedShadowPositionNode".'),this.receivedShadowPositionNode=r}})}_getNodeChildren(){const r=[];for(const c of Object.getOwnPropertyNames(this)){if(c.startsWith("_")===!0)continue;const f=this[c];f&&f.isNode===!0&&r.push({property:c,childNode:f})}return r}customProgramCacheKey(){const r=[];for(const{property:c,childNode:f}of this._getNodeChildren())r.push(G_(c.slice(0,-4)),f.getCacheKey());return this.type+Uf(r)}build(r){this.setup(r)}setupObserver(r){return new yfe(r)}setup(r){r.context.setupNormal=()=>Ju(this.setupNormal(r),"NORMAL","vec3"),r.context.setupPositionView=()=>this.setupPositionView(r),r.context.setupModelViewProjection=()=>this.setupModelViewProjection(r);const c=r.renderer,f=c.getRenderTarget();r.addStack();const p=Ju(this.setupVertex(r),"VERTEX"),y=this.vertexNode||p;r.stack.outputNode=y,this.setupHardwareClipping(r),this.geometryNode!==null&&(r.stack.outputNode=r.stack.outputNode.bypass(this.geometryNode)),r.addFlow("vertex",r.removeStack()),r.addStack();let T;const R=this.setupClipping(r);if((this.depthWrite===!0||this.depthTest===!0)&&(f!==null?f.depthBuffer===!0&&this.setupDepth(r):c.depth===!0&&this.setupDepth(r)),this.fragmentNode===null){this.setupDiffuseColor(r),this.setupVariants(r);const b=this.setupLighting(r);R!==null&&r.stack.addToStack(R);const P=Li(b,un.a).max(0);T=this.setupOutput(r,P),Qu.assign(T);const G=this.outputNode!==null;if(G&&(T=this.outputNode),f!==null){const j=c.getMRT(),K=this.mrtNode;j!==null?(G&&Qu.assign(T),T=j,K!==null&&(T=j.merge(K))):K!==null&&(T=K)}}else{let b=this.fragmentNode;b.isOutputStructNode!==!0&&(b=Li(b)),T=this.setupOutput(r,b)}r.stack.outputNode=T,r.addFlow("fragment",r.removeStack()),r.observer=this.setupObserver(r)}setupClipping(r){if(r.clippingContext===null)return null;const{unionPlanes:c,intersectionPlanes:f}=r.clippingContext;let p=null;if(c.length>0||f.length>0){const y=r.renderer.currentSamples;this.alphaToCoverage&&y>1?p=D4e():r.stack.addToStack(N4e())}return p}setupHardwareClipping(r){if(this.hardwareClipping=!1,r.clippingContext===null)return;const c=r.clippingContext.unionPlanes.length;c>0&&c<=8&&r.isAvailable("clipDistance")&&(r.stack.addToStack(I4e()),this.hardwareClipping=!0)}setupDepth(r){const{renderer:c,camera:f}=r;let p=this.depthNode;if(p===null){const y=c.getMRT();y&&y.has("depth")?p=y.get("depth"):c.logarithmicDepthBuffer===!0&&(f.isPerspectiveCamera?p=ky(U2.z,za,Wa):p=tf(U2.z,za,Wa))}p!==null&&By.assign(p).toStack()}setupPositionView(){return q_.mul(Gr).xyz}setupModelViewProjection(){return hy.mul(U2)}setupVertex(r){return r.addStack(),this.setupPosition(r),r.context.vertex=r.removeStack(),Dy}setupPosition(r){const{object:c,geometry:f}=r;if((f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color)&&S4e(c).toStack(),c.isSkinnedMesh===!0&&m4e(c).toStack(),this.displacementMap){const p=ta("displacementMap","texture"),y=ta("displacementScale","float"),T=ta("displacementBias","float");Gr.addAssign(Qo.normalize().mul(p.x.mul(y).add(T)))}return c.isBatchedMesh&&h4e(c).toStack(),c.isInstancedMesh&&c.instanceMatrix&&c.instanceMatrix.isInstancedBufferAttribute===!0&&p4e(c).toStack(),this.positionNode!==null&&Gr.assign(Ju(this.positionNode,"POSITION","vec3")),Gr}setupDiffuseColor(r){const{object:c,geometry:f}=r;this.maskNode!==null&&y8(this.maskNode).not().discard();let p=this.colorNode?Li(this.colorNode):Ihe;this.vertexColors===!0&&f.hasAttribute("color")&&(p=p.mul(F4e())),c.instanceColor&&(p=S_("vec3","vInstanceColor").mul(p)),c.isBatchedMesh&&c._colorsTexture&&(p=S_("vec3","vBatchColor").mul(p)),un.assign(p);const y=this.opacityNode?Lt(this.opacityNode):by;un.a.assign(un.a.mul(y));let T=null;(this.alphaTestNode!==null||this.alphaTest>0)&&(T=this.alphaTestNode!==null?Lt(this.alphaTestNode):Dhe,this.alphaToCoverage===!0?(un.a=F1(T,T.add(Yx(un.a)),un.a),un.a.lessThanEqual(0).discard()):un.a.lessThanEqual(T).discard()),this.alphaHash===!0&&un.a.lessThan(L4e(Gr)).discard(),r.isOpaque()&&un.a.assign(1)}setupVariants(){}setupOutgoingLight(){return this.lights===!0?Gt(0):un.rgb}setupNormal(){return this.normalNode?Gt(this.normalNode):Ohe}setupEnvironment(){let r=null;return this.envNode?r=this.envNode:this.envMap&&(r=this.envMap.isCubeTexture?ta("envMap","cubeTexture"):ta("envMap","texture")),r}setupLightMap(r){let c=null;return r.material.lightMap&&(c=new M4e(Ny)),c}setupLights(r){const c=[],f=this.setupEnvironment(r);f&&f.isLightingNode&&c.push(f);const p=this.setupLightMap(r);if(p&&p.isLightingNode&&c.push(p),this.aoNode!==null||r.material.aoMap){const T=this.aoNode!==null?this.aoNode:a4e;c.push(new T4e(T))}let y=this.lightsNode||r.lightsNode;return c.length>0&&(y=r.renderer.lighting.createNode([...y.getLights(),...c])),y}setupLightingModel(){}setupLighting(r){const{material:c}=r,{backdropNode:f,backdropAlphaNode:p,emissiveNode:y}=this,R=this.lights===!0||this.lightsNode!==null?this.setupLights(r):null;let b=this.setupOutgoingLight(r);if(R&&R.getScope().hasLights){const P=this.setupLightingModel(r)||null;b=w4e(R,P,f,p)}else f!==null&&(b=Gt(p!==null?l2(b,f,p):f));return(y&&y.isNode===!0||c.emissive&&c.emissive.isColor===!0)&&(d5.assign(Gt(y||Lhe)),b=b.add(d5)),b}setupFog(r,c){const f=r.fogNode;return f&&(Qu.assign(c),c=Li(f.toVar())),c}setupPremultipliedAlpha(r,c){return B4e(c)}setupOutput(r,c){return this.fog===!0&&(c=this.setupFog(r,c)),this.premultipliedAlpha===!0&&(c=this.setupPremultipliedAlpha(r,c)),c}setDefaultValues(r){for(const f in r){const p=r[f];this[f]===void 0&&(this[f]=p,p&&p.clone&&(this[f]=p.clone()))}const c=Object.getOwnPropertyDescriptors(r.constructor.prototype);for(const f in c)Object.getOwnPropertyDescriptor(this.constructor.prototype,f)===void 0&&c[f].get!==void 0&&Object.defineProperty(this.constructor.prototype,f,c[f])}toJSON(r){const c=r===void 0||typeof r=="string";c&&(r={textures:{},images:{},nodes:{}});const f=Hr.prototype.toJSON.call(this,r);f.inputNodes={};for(const{property:y,childNode:T}of this._getNodeChildren())f.inputNodes[y]=T.toJSON(r).uuid;function p(y){const T=[];for(const R in y){const b=y[R];delete b.metadata,T.push(b)}return T}if(c){const y=p(r.textures),T=p(r.images),R=p(r.nodes);y.length>0&&(f.textures=y),T.length>0&&(f.images=T),R.length>0&&(f.nodes=R)}return f}copy(r){return this.lightsNode=r.lightsNode,this.envNode=r.envNode,this.aoNode=r.aoNode,this.colorNode=r.colorNode,this.normalNode=r.normalNode,this.opacityNode=r.opacityNode,this.backdropNode=r.backdropNode,this.backdropAlphaNode=r.backdropAlphaNode,this.alphaTestNode=r.alphaTestNode,this.maskNode=r.maskNode,this.positionNode=r.positionNode,this.geometryNode=r.geometryNode,this.depthNode=r.depthNode,this.receivedShadowPositionNode=r.receivedShadowPositionNode,this.castShadowPositionNode=r.castShadowPositionNode,this.receivedShadowNode=r.receivedShadowNode,this.castShadowNode=r.castShadowNode,this.outputNode=r.outputNode,this.mrtNode=r.mrtNode,this.fragmentNode=r.fragmentNode,this.vertexNode=r.vertexNode,super.copy(r)}}const U4e=new yf;class O4e extends V2{static get type(){return"LineBasicNodeMaterial"}constructor(r){super(),this.isLineBasicNodeMaterial=!0,this.setDefaultValues(U4e),this.setValues(r)}}const G4e=new o1e;class V4e extends V2{static get type(){return"LineDashedNodeMaterial"}constructor(r){super(),this.isLineDashedNodeMaterial=!0,this.setDefaultValues(G4e),this.dashOffset=0,this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(r)}setupVariants(){const r=this.offsetNode?Lt(this.offsetNode):r4e,c=this.dashScaleNode?Lt(this.dashScaleNode):t4e,f=this.dashSizeNode?Lt(this.dashSizeNode):i4e,p=this.gapSizeNode?Lt(this.gapSizeNode):n4e;w4.assign(f),m5.assign(p);const y=ha(_a("lineDistance").mul(c));(r?y.add(r):y).mod(w4.add(m5)).greaterThan(w4).discard()}}const z4e=v=>r0(v).mul(.5).add(.5),W4e=new i1e;class H4e extends V2{static get type(){return"MeshNormalNodeMaterial"}constructor(r){super(),this.isMeshNormalNodeMaterial=!0,this.setDefaultValues(W4e),this.setValues(r)}setupDiffuseColor(){const r=this.opacityNode?Lt(this.opacityNode):by;un.assign(E8(Li(z4e(bn),r),w2))}}const Uy=Xt(([v=dy])=>{const r=v.z.atan(v.x).mul(1/(Math.PI*2)).add(.5),c=v.y.clamp(-1,1).asin().mul(1/Math.PI).add(.5);return _0(r,c)});class Oy extends cx{constructor(r=1,c={}){super(r,c),this.isCubeRenderTarget=!0}fromEquirectangularTexture(r,c){const f=c.minFilter,p=c.generateMipmaps;c.generateMipmaps=!0,this.texture.type=c.type,this.texture.colorSpace=c.colorSpace,this.texture.generateMipmaps=c.generateMipmaps,this.texture.minFilter=c.minFilter,this.texture.magFilter=c.magFilter;const y=new B1(5,5,5),T=Uy(dy),R=new V2;R.colorNode=rn(c,T,0),R.side=Zn,R.blending=ws;const b=new G2(y,R),P=new If;P.add(b),c.minFilter===Vr&&(c.minFilter=s2);const G=new ax(1,10,this),j=r.getMRT();return r.setMRT(null),G.update(r,P),r.setMRT(j),c.minFilter=f,c.currentGenerateMipmaps=p,b.geometry.dispose(),b.material.dispose(),this}}const nf=new WeakMap;class j4e extends ur{static get type(){return"CubeMapNode"}constructor(r){super("vec3"),this.envNode=r,this._cubeTexture=null,this._cubeTextureNode=Cf(null);const c=new Df;c.isRenderTargetTexture=!0,this._defaultTexture=c,this.updateBeforeType=Fi.RENDER}updateBefore(r){const{renderer:c,material:f}=r,p=this.envNode;if(p.isTextureNode||p.isMaterialReferenceNode){const y=p.isTextureNode?p.value:f[p.property];if(y&&y.isTexture){const T=y.mapping;if(T===dl||T===ml){if(nf.has(y)){const R=nf.get(y);L5(R,y.mapping),this._cubeTexture=R}else{const R=y.image;if(q4e(R)){const b=new Oy(R.height);b.fromEquirectangularTexture(c,y),L5(b.texture,y.mapping),this._cubeTexture=b.texture,nf.set(y,b.texture),y.addEventListener("dispose",Gy)}else this._cubeTexture=this._defaultTexture}this._cubeTextureNode.value=this._cubeTexture}else this._cubeTextureNode=this.envNode}}}setup(r){return this.updateBefore(r),this._cubeTextureNode}}function q4e(v){return v==null?!1:v.height>0}function Gy(v){const r=v.target;r.removeEventListener("dispose",Gy);const c=nf.get(r);c!==void 0&&(nf.delete(r),c.dispose())}function L5(v,r){r===dl?v.mapping=$o:r===ml&&(v.mapping=Yo)}const Vy=xn(j4e).setParameterLength(1);class L8 extends cu{static get type(){return"BasicEnvironmentNode"}constructor(r=null){super(),this.envNode=r}setup(r){r.context.environment=Vy(this.envNode)}}class X4e extends cu{static get type(){return"BasicLightMapNode"}constructor(r=null){super(),this.lightMapNode=r}setup(r){const c=Lt(1/Math.PI);r.context.irradianceLightMap=this.lightMapNode.mul(c)}}class $_{start(r){r.lightsNode.setupLights(r,r.lightsNode.getLightNodes(r)),this.indirect(r)}finish(){}direct(){}directRectArea(){}indirect(){}ambientOcclusion(){}}class zy extends $_{constructor(){super()}indirect({context:r}){const c=r.ambientOcclusion,f=r.reflectedLight,p=r.irradianceLightMap;f.indirectDiffuse.assign(Li(0)),p?f.indirectDiffuse.addAssign(p):f.indirectDiffuse.addAssign(Li(1,1,1,0)),f.indirectDiffuse.mulAssign(c),f.indirectDiffuse.mulAssign(un.rgb)}finish(r){const{material:c,context:f}=r,p=f.outgoingLight,y=r.context.environment;if(y)switch(c.combine){case Af:p.rgb.assign(l2(p.rgb,p.rgb.mul(y.rgb),p_.mul(A4)));break;case $g:p.rgb.assign(l2(p.rgb,y.rgb,p_.mul(A4)));break;case Yg:p.rgb.addAssign(y.rgb.mul(p_.mul(A4)));break;default:jt("BasicLightingModel: Unsupported .combine value:",c.combine);break}}}const $4e=new ho;class Y4e extends V2{static get type(){return"MeshBasicNodeMaterial"}constructor(r){super(),this.isMeshBasicNodeMaterial=!0,this.lights=!0,this.setDefaultValues($4e),this.setValues(r)}setupNormal(){return zf(Tf)}setupEnvironment(r){const c=super.setupEnvironment(r);return c?new L8(c):null}setupLightMap(r){let c=null;return r.material.lightMap&&(c=new X4e(Ny)),c}setupOutgoingLight(){return un.rgb}setupLightingModel(){return new zy}}const wf=Xt(({f0:v,f90:r,dotVH:c})=>{const f=c.mul(-5.55473).sub(6.98316).mul(c).exp2();return v.mul(f.oneMinus()).add(r.mul(f))}),Xl=Xt(v=>v.diffuseColor.mul(1/Math.PI)),K4e=()=>Lt(.25),Z4e=Xt(({dotNH:v})=>gd.mul(Lt(.5)).add(1).mul(Lt(1/Math.PI)).mul(v.pow(gd))),Q4e=Xt(({lightDirection:v})=>{const r=v.add(v2).normalize(),c=bn.dot(r).clamp(),f=v2.dot(r).clamp(),p=wf({f0:fo,f90:1,dotVH:f}),y=K4e(),T=Z4e({dotNH:c});return p.mul(y).mul(T)});class Wy extends zy{constructor(r=!0){super(),this.specular=r}direct({lightDirection:r,lightColor:c,reflectedLight:f}){const y=bn.dot(r).clamp().mul(c);f.directDiffuse.addAssign(y.mul(Xl({diffuseColor:un.rgb}))),this.specular===!0&&f.directSpecular.addAssign(y.mul(Q4e({lightDirection:r})).mul(p_))}indirect(r){const{ambientOcclusion:c,irradiance:f,reflectedLight:p}=r.context;p.indirectDiffuse.addAssign(f.mul(Xl({diffuseColor:un}))),p.indirectDiffuse.mulAssign(c)}}const J4e=new hx;class ede extends V2{static get type(){return"MeshLambertNodeMaterial"}constructor(r){super(),this.isMeshLambertNodeMaterial=!0,this.lights=!0,this.setDefaultValues(J4e),this.setValues(r)}setupEnvironment(r){const c=super.setupEnvironment(r);return c?new L8(c):null}setupLightingModel(){return new Wy(!1)}}const tde=new ld;class ide extends V2{static get type(){return"MeshPhongNodeMaterial"}constructor(r){super(),this.isMeshPhongNodeMaterial=!0,this.lights=!0,this.shininessNode=null,this.specularNode=null,this.setDefaultValues(tde),this.setValues(r)}setupEnvironment(r){const c=super.setupEnvironment(r);return c?new L8(c):null}setupLightingModel(){return new Wy}setupVariants(){const r=(this.shininessNode?Lt(this.shininessNode):Phe).max(1e-4);gd.assign(r);const c=this.specularNode||khe;fo.assign(c)}copy(r){return this.shininessNode=r.shininessNode,this.specularNode=r.specularNode,super.copy(r)}}const nde=Xt(v=>{if(v.geometry.hasAttribute("normal")===!1)return Lt(0);const r=Tf.dFdx().abs().max(Tf.dFdy().abs());return r.x.max(r.y).max(r.z)}),Hy=Xt(v=>{const{roughness:r}=v,c=nde();let f=r.max(.0525);return f=f.add(c),f=f.min(1),f}),rde=Xt(({alpha:v,dotNL:r,dotNV:c})=>{const f=v.pow2(),p=r.mul(f.add(f.oneMinus().mul(c.pow2())).sqrt()),y=c.mul(f.add(f.oneMinus().mul(r.pow2())).sqrt());return Ko(.5,p.add(y).max(zx))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),sde=Xt(({alphaT:v,alphaB:r,dotTV:c,dotBV:f,dotTL:p,dotBL:y,dotNV:T,dotNL:R})=>{const b=R.mul(Gt(v.mul(c),r.mul(f),T).length()),P=T.mul(Gt(v.mul(p),r.mul(y),R).length());return Ko(.5,b.add(P)).saturate()}).setLayout({name:"V_GGX_SmithCorrelated_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotTV",type:"float",qualifier:"in"},{name:"dotBV",type:"float",qualifier:"in"},{name:"dotTL",type:"float",qualifier:"in"},{name:"dotBL",type:"float",qualifier:"in"},{name:"dotNV",type:"float",qualifier:"in"},{name:"dotNL",type:"float",qualifier:"in"}]}),ode=Xt(({alpha:v,dotNH:r})=>{const c=v.pow2(),f=r.pow2().mul(c.oneMinus()).oneMinus();return c.div(f.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),ade=Lt(1/Math.PI),cde=Xt(({alphaT:v,alphaB:r,dotNH:c,dotTH:f,dotBH:p})=>{const y=v.mul(r),T=Gt(r.mul(f),v.mul(p),y.mul(c)),R=T.dot(T),b=y.div(R);return ade.mul(y.mul(b.pow2()))}).setLayout({name:"D_GGX_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotNH",type:"float",qualifier:"in"},{name:"dotTH",type:"float",qualifier:"in"},{name:"dotBH",type:"float",qualifier:"in"}]}),jy=Xt(({lightDirection:v,f0:r,f90:c,roughness:f,f:p,normalView:y=bn,USE_IRIDESCENCE:T,USE_ANISOTROPY:R})=>{const b=f.pow2(),P=v.add(v2).normalize(),G=y.dot(v).clamp(),j=y.dot(v2).clamp(),K=y.dot(P).clamp(),Q=v2.dot(P).clamp();let ie=wf({f0:r,f90:c,dotVH:Q}),ce,ue;if(h5(T)&&(ie=T8.mix(ie,p)),h5(R)){const se=c_.dot(v),Ne=c_.dot(v2),De=c_.dot(P),Oe=ul.dot(v),je=ul.dot(v2),Be=ul.dot(P);ce=sde({alphaT:md,alphaB:b,dotTV:Ne,dotBV:je,dotTL:se,dotBL:Oe,dotNV:j,dotNL:G}),ue=cde({alphaT:md,alphaB:b,dotNH:K,dotTH:De,dotBH:Be})}else ce=rde({alpha:b,dotNL:G,dotNV:j}),ue=ode({alpha:b,dotNH:K});return ie.mul(ce).mul(ue)}),lde=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let S1=null;const R_=Xt(({roughness:v,dotNV:r})=>{S1===null&&(S1=new Pf(lde,32,32,yo,Q2),S1.minFilter=s2,S1.magFilter=s2,S1.wrapS=Cr,S1.wrapT=Cr,S1.generateMipmaps=!1,S1.needsUpdate=!0);const c=_0(v,r);return rn(S1,c).rg}),ude=Xt(({lightDirection:v,f0:r,f90:c,roughness:f,f:p,USE_IRIDESCENCE:y,USE_ANISOTROPY:T})=>{const R=jy({lightDirection:v,f0:r,f90:c,roughness:f,f:p,USE_IRIDESCENCE:y,USE_ANISOTROPY:T}),b=bn.dot(v).clamp(),P=bn.dot(v2).clamp(),G=R_({roughness:f,dotNV:P}),j=R_({roughness:f,dotNV:b}),K=r.mul(G.x).add(c.mul(G.y)),Q=r.mul(j.x).add(c.mul(j.y)),ie=G.x.add(G.y),ce=j.x.add(j.y),ue=Lt(1).sub(ie),se=Lt(1).sub(ce),Ne=r.add(r.oneMinus().mul(.047619)),De=K.mul(Q).mul(Ne).div(Lt(1).sub(ue.mul(se).mul(Ne).mul(Ne)).add(zx)),Oe=ue.mul(se),je=De.mul(Oe);return R.add(je)}),qy=Xt(v=>{const{dotNV:r,specularColor:c,specularF90:f,roughness:p}=v,y=R_({dotNV:r,roughness:p});return c.mul(y.x).add(f.mul(y.y))}),fde=Xt(({f:v,f90:r,dotVH:c})=>{const f=c.oneMinus().saturate(),p=f.mul(f),y=f.mul(p,p).clamp(0,.9999);return v.sub(Gt(r).mul(y)).div(y.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),pde=Xt(({roughness:v,dotNH:r})=>{const c=v.pow2(),f=Lt(1).div(c),y=r.pow2().oneMinus().max(.0078125);return Lt(2).add(f).mul(y.pow(f.mul(.5))).div(2*Math.PI)}).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),_de=Xt(({dotNV:v,dotNL:r})=>Lt(1).div(Lt(4).mul(r.add(v).sub(r.mul(v))))).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),hde=Xt(({lightDirection:v})=>{const r=v.add(v2).normalize(),c=bn.dot(v).clamp(),f=bn.dot(v2).clamp(),p=bn.dot(r).clamp(),y=pde({roughness:S8,dotNH:p}),T=_de({dotNV:f,dotNL:c});return tl.mul(y).mul(T)}),dde=Xt(({N:v,V:r,roughness:c})=>{const y=.0078125,T=v.dot(r).saturate(),R=_0(c,T.oneMinus().sqrt());return R.assign(R.mul(.984375).add(y)),R}).setLayout({name:"LTC_Uv",type:"vec2",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"roughness",type:"float"}]}),mde=Xt(({f:v})=>{const r=v.length();return lr(r.mul(r).add(v.z).div(r.add(1)),0)}).setLayout({name:"LTC_ClippedSphereFormFactor",type:"float",inputs:[{name:"f",type:"vec3"}]}),Hp=Xt(({v1:v,v2:r})=>{const c=v.dot(r),f=c.abs().toVar(),p=f.mul(.0145206).add(.4965155).mul(f).add(.8543985).toVar(),y=f.add(4.1616724).mul(f).add(3.417594).toVar(),T=p.div(y),R=c.greaterThan(0).select(T,lr(c.mul(c).oneMinus(),1e-7).inverseSqrt().mul(.5).sub(T));return v.cross(r).mul(R)}).setLayout({name:"LTC_EdgeVectorFormFactor",type:"vec3",inputs:[{name:"v1",type:"vec3"},{name:"v2",type:"vec3"}]}),k5=Xt(({N:v,V:r,P:c,mInv:f,p0:p,p1:y,p2:T,p3:R})=>{const b=y.sub(p).toVar(),P=R.sub(p).toVar(),G=b.cross(P),j=Gt().toVar();return f2(G.dot(c.sub(p)).greaterThanEqual(0),()=>{const K=r.sub(v.mul(r.dot(v))).normalize(),Q=v.cross(K).negate(),ie=f.mul(ss(K,Q,v).transpose()).toVar(),ce=ie.mul(p.sub(c)).normalize().toVar(),ue=ie.mul(y.sub(c)).normalize().toVar(),se=ie.mul(T.sub(c)).normalize().toVar(),Ne=ie.mul(R.sub(c)).normalize().toVar(),De=Gt(0).toVar();De.addAssign(Hp({v1:ce,v2:ue})),De.addAssign(Hp({v1:ue,v2:se})),De.addAssign(Hp({v1:se,v2:Ne})),De.addAssign(Hp({v1:Ne,v2:ce})),j.assign(Gt(mde({f:De})))}),j}).setLayout({name:"LTC_Evaluate",type:"vec3",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"P",type:"vec3"},{name:"mInv",type:"mat3"},{name:"p0",type:"vec3"},{name:"p1",type:"vec3"},{name:"p2",type:"vec3"},{name:"p3",type:"vec3"}]}),Y_=1/6,Xy=v=>Oi(Y_,Oi(v,Oi(v,v.negate().add(3)).sub(3)).add(1)),Td=v=>Oi(Y_,Oi(v,Oi(v,Oi(3,v).sub(6))).add(4)),$y=v=>Oi(Y_,Oi(v,Oi(v,Oi(-3,v).add(3)).add(3)).add(1)),Cd=v=>Oi(Y_,W_(v,3)),F5=v=>Xy(v).add(Td(v)),B5=v=>$y(v).add(Cd(v)),U5=v=>Ms(-1,Td(v).div(Xy(v).add(Td(v)))),O5=v=>Ms(1,Cd(v).div($y(v).add(Cd(v)))),G5=(v,r,c)=>{const f=v.uvNode,p=Oi(f,r.zw).add(.5),y=Za(p),T=Zo(p),R=F5(T.x),b=B5(T.x),P=U5(T.x),G=O5(T.x),j=U5(T.y),K=O5(T.y),Q=_0(y.x.add(P),y.y.add(j)).sub(.5).mul(r.xy),ie=_0(y.x.add(G),y.y.add(j)).sub(.5).mul(r.xy),ce=_0(y.x.add(P),y.y.add(K)).sub(.5).mul(r.xy),ue=_0(y.x.add(G),y.y.add(K)).sub(.5).mul(r.xy),se=F5(T.y).mul(Ms(R.mul(v.sample(Q).level(c)),b.mul(v.sample(ie).level(c)))),Ne=B5(T.y).mul(Ms(R.mul(v.sample(ce).level(c)),b.mul(v.sample(ue).level(c))));return se.add(Ne)},gde=Xt(([v,r])=>{const c=_0(v.size(n2(r))),f=_0(v.size(n2(r.add(1)))),p=Ko(1,c),y=Ko(1,f),T=G5(v,Li(p,c),Za(r)),R=G5(v,Li(y,f),M8(r));return Zo(r).mix(T,R)}),V5=Xt(([v,r,c,f,p])=>{const y=Gt(ty(r.negate(),Xo(v),Ko(1,f))),T=Gt(I1(p[0].xyz),I1(p[1].xyz),I1(p[2].xyz));return Xo(y).mul(c.mul(T))}).setLayout({name:"getVolumeTransmissionRay",type:"vec3",inputs:[{name:"n",type:"vec3"},{name:"v",type:"vec3"},{name:"thickness",type:"float"},{name:"ior",type:"float"},{name:"modelMatrix",type:"mat4"}]}),xde=Xt(([v,r])=>v.mul(k1(r.mul(2).sub(2),0,1))).setLayout({name:"applyIorToRoughness",type:"float",inputs:[{name:"roughness",type:"float"},{name:"ior",type:"float"}]}),yde=Py(),vde=Py(),z5=Xt(([v,r,c],{material:f})=>{const y=(f.side===Zn?yde:vde).sample(v),T=D1(yd.x).mul(xde(r,c));return gde(y,T)}),W5=Xt(([v,r,c])=>(f2(c.notEqual(0),()=>{const f=Hx(r).negate().div(c);return Wx(f.negate().mul(v))}),Gt(1))).setLayout({name:"volumeAttenuation",type:"vec3",inputs:[{name:"transmissionDistance",type:"float"},{name:"attenuationColor",type:"vec3"},{name:"attenuationDistance",type:"float"}]}),Sde=Xt(([v,r,c,f,p,y,T,R,b,P,G,j,K,Q,ie])=>{let ce,ue;if(ie){ce=Li().toVar(),ue=Gt().toVar();const je=G.sub(1).mul(ie.mul(.025)),Be=Gt(G.sub(je),G,G.add(je));Ks({start:0,end:3},({i:We})=>{const $e=Be.element(We),Ee=V5(v,r,j,$e,R),Ie=T.add(Ee),Je=P.mul(b.mul(Li(Ie,1))),ft=_0(Je.xy.div(Je.w)).toVar();ft.addAssign(1),ft.divAssign(2),ft.assign(_0(ft.x,ft.y.oneMinus()));const yt=z5(ft,c,$e);ce.element(We).assign(yt.element(We)),ce.a.addAssign(yt.a),ue.element(We).assign(f.element(We).mul(W5(I1(Ee),K,Q).element(We)))}),ce.a.divAssign(3)}else{const je=V5(v,r,j,G,R),Be=T.add(je),We=P.mul(b.mul(Li(Be,1))),$e=_0(We.xy.div(We.w)).toVar();$e.addAssign(1),$e.divAssign(2),$e.assign(_0($e.x,$e.y.oneMinus())),ce=z5($e,c,G),ue=f.mul(W5(I1(je),K,Q))}const se=ue.rgb.mul(ce.rgb),Ne=v.dot(r).clamp(),De=Gt(qy({dotNV:Ne,specularColor:p,specularF90:y,roughness:c})),Oe=ue.r.add(ue.g,ue.b).div(3);return Li(De.oneMinus().mul(se),ce.a.oneMinus().mul(Oe).oneMinus())}),Tde=ss(3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252),Cde=v=>{const r=v.sqrt();return Gt(1).add(r).div(Gt(1).sub(r))},H5=(v,r)=>v.sub(r).div(v.add(r)).pow2(),wde=(v,r)=>{const c=v.mul(2*Math.PI*1e-9),f=Gt(54856e-17,44201e-17,52481e-17),p=Gt(1681e3,1795300,2208400),y=Gt(43278e5,93046e5,66121e5),T=Lt(9747e-17*Math.sqrt(2*Math.PI*45282e5)).mul(c.mul(2239900).add(r.x).cos()).mul(c.pow2().mul(-45282e5).exp());let R=f.mul(y.mul(2*Math.PI).sqrt()).mul(p.mul(c).add(r).cos()).mul(c.pow2().negate().mul(y).exp());return R=Gt(R.x.add(T),R.y,R.z).div(10685e-11),Tde.mul(R)},Mde=Xt(({outsideIOR:v,eta2:r,cosTheta1:c,thinFilmThickness:f,baseF0:p})=>{const y=l2(v,r,F1(0,.03,f)),R=v.div(y).pow2().mul(c.pow2().oneMinus()).oneMinus();f2(R.lessThan(0),()=>Gt(1));const b=R.sqrt(),P=H5(y,v),G=wf({f0:P,f90:1,dotVH:c}),j=G.oneMinus(),K=y.lessThan(v).select(Math.PI,0),Q=Lt(Math.PI).sub(K),ie=Cde(p.clamp(0,.9999)),ce=H5(ie,y.toVec3()),ue=wf({f0:ce,f90:1,dotVH:b}),se=Gt(ie.x.lessThan(y).select(Math.PI,0),ie.y.lessThan(y).select(Math.PI,0),ie.z.lessThan(y).select(Math.PI,0)),Ne=y.mul(f,b,2),De=Gt(Q).add(se),Oe=G.mul(ue).clamp(1e-5,.9999),je=Oe.sqrt(),Be=j.pow2().mul(ue).div(Gt(1).sub(Oe)),$e=G.add(Be).toVar(),Ee=Be.sub(j).toVar();return Ks({start:1,end:2,condition:"<=",name:"m"},({m:Ie})=>{Ee.mulAssign(je);const Je=wde(Lt(Ie).mul(Ne),Lt(Ie).mul(De)).mul(2);$e.addAssign(Ee.mul(Je))}),$e.max(Gt(0))}).setLayout({name:"evalIridescence",type:"vec3",inputs:[{name:"outsideIOR",type:"float"},{name:"eta2",type:"float"},{name:"cosTheta1",type:"float"},{name:"thinFilmThickness",type:"float"},{name:"baseF0",type:"vec3"}]}),Rde=Xt(({normal:v,viewDir:r,roughness:c})=>{const f=v.dot(r).saturate(),p=c.pow2(),y=Dr(c.lessThan(.25),Lt(-339.2).mul(p).add(Lt(161.4).mul(c)).sub(25.9),Lt(-8.48).mul(p).add(Lt(14.3).mul(c)).sub(9.95)),T=Dr(c.lessThan(.25),Lt(44).mul(p).sub(Lt(23.7).mul(c)).add(3.26),Lt(1.97).mul(p).sub(Lt(3.27).mul(c)).add(.72));return Dr(c.lessThan(.25),0,Lt(.1).mul(c).sub(.025)).add(y.mul(f).add(T).exp()).mul(1/Math.PI).saturate()}),b4=Gt(.04),N4=Lt(1);class Yy extends $_{constructor(r=!1,c=!1,f=!1,p=!1,y=!1,T=!1){super(),this.clearcoat=r,this.sheen=c,this.iridescence=f,this.anisotropy=p,this.transmission=y,this.dispersion=T,this.clearcoatRadiance=null,this.clearcoatSpecularDirect=null,this.clearcoatSpecularIndirect=null,this.sheenSpecularDirect=null,this.sheenSpecularIndirect=null,this.iridescenceFresnel=null,this.iridescenceF0=null}start(r){if(this.clearcoat===!0&&(this.clearcoatRadiance=Gt().toVar("clearcoatRadiance"),this.clearcoatSpecularDirect=Gt().toVar("clearcoatSpecularDirect"),this.clearcoatSpecularIndirect=Gt().toVar("clearcoatSpecularIndirect")),this.sheen===!0&&(this.sheenSpecularDirect=Gt().toVar("sheenSpecularDirect"),this.sheenSpecularIndirect=Gt().toVar("sheenSpecularIndirect")),this.iridescence===!0){const c=bn.dot(v2).clamp();this.iridescenceFresnel=Mde({outsideIOR:Lt(1),eta2:Px,cosTheta1:c,thinFilmThickness:Lx,baseF0:fo}),this.iridescenceF0=fde({f:this.iridescenceFresnel,f90:1,dotVH:c})}if(this.transmission===!0){const c=ql,f=ehe.sub(ql).normalize(),p=au,y=r.context;y.backdrop=Sde(p,f,A1,un,fo,w_,c,ac,U1,hy,l_,kx,Bx,Fx,this.dispersion?Ux:null),y.backdropAlpha=xd,un.a.mulAssign(l2(1,y.backdrop.a,xd))}super.start(r)}computeMultiscattering(r,c,f){const p=bn.dot(v2).clamp(),y=R_({roughness:A1,dotNV:p}),T=this.iridescenceF0?T8.mix(fo,this.iridescenceF0):fo,R=T.mul(y.x).add(f.mul(y.y)),P=y.x.add(y.y).oneMinus(),G=T.add(T.oneMinus().mul(.047619)),j=R.mul(G).div(P.mul(G).oneMinus());r.addAssign(R),c.addAssign(j.mul(P))}direct({lightDirection:r,lightColor:c,reflectedLight:f}){const y=bn.dot(r).clamp().mul(c);if(this.sheen===!0&&this.sheenSpecularDirect.addAssign(y.mul(hde({lightDirection:r}))),this.clearcoat===!0){const R=il.dot(r).clamp().mul(c);this.clearcoatSpecularDirect.addAssign(R.mul(jy({lightDirection:r,f0:b4,f90:N4,roughness:C_,normalView:il})))}f.directDiffuse.addAssign(y.mul(Xl({diffuseColor:un.rgb}))),f.directSpecular.addAssign(y.mul(ude({lightDirection:r,f0:fo,f90:1,roughness:A1,f:this.iridescenceFresnel,USE_IRIDESCENCE:this.iridescence,USE_ANISOTROPY:this.anisotropy})))}directRectArea({lightColor:r,lightPosition:c,halfWidth:f,halfHeight:p,reflectedLight:y,ltc_1:T,ltc_2:R}){const b=c.add(f).sub(p),P=c.sub(f).sub(p),G=c.sub(f).add(p),j=c.add(f).add(p),K=bn,Q=v2,ie=U2.toVar(),ce=dde({N:K,V:Q,roughness:A1}),ue=T.sample(ce).toVar(),se=R.sample(ce).toVar(),Ne=ss(Gt(ue.x,0,ue.y),Gt(0,1,0),Gt(ue.z,0,ue.w)).toVar(),De=fo.mul(se.x).add(fo.oneMinus().mul(se.y)).toVar();y.directSpecular.addAssign(r.mul(De).mul(k5({N:K,V:Q,P:ie,mInv:Ne,p0:b,p1:P,p2:G,p3:j}))),y.directDiffuse.addAssign(r.mul(un).mul(k5({N:K,V:Q,P:ie,mInv:ss(1,0,0,0,1,0,0,0,1),p0:b,p1:P,p2:G,p3:j})))}indirect(r){this.indirectDiffuse(r),this.indirectSpecular(r),this.ambientOcclusion(r)}indirectDiffuse(r){const{irradiance:c,reflectedLight:f}=r.context;f.indirectDiffuse.addAssign(c.mul(Xl({diffuseColor:un})))}indirectSpecular(r){const{radiance:c,iblIrradiance:f,reflectedLight:p}=r.context;if(this.sheen===!0&&this.sheenSpecularIndirect.addAssign(f.mul(tl,Rde({normal:bn,viewDir:v2,roughness:S8}))),this.clearcoat===!0){const G=il.dot(v2).clamp(),j=qy({dotNV:G,specularColor:b4,specularF90:N4,roughness:C_});this.clearcoatSpecularIndirect.addAssign(this.clearcoatRadiance.mul(j))}const y=Gt().toVar("singleScattering"),T=Gt().toVar("multiScattering"),R=f.mul(1/Math.PI);this.computeMultiscattering(y,T,w_);const b=y.add(T),P=un.mul(b.r.max(b.g).max(b.b).oneMinus());p.indirectSpecular.addAssign(c.mul(y)),p.indirectSpecular.addAssign(T.mul(R)),p.indirectDiffuse.addAssign(P.mul(R))}ambientOcclusion(r){const{ambientOcclusion:c,reflectedLight:f}=r.context,y=bn.dot(v2).clamp().add(c),T=A1.mul(-16).oneMinus().negate().exp2(),R=c.sub(y.pow(T).oneMinus()).clamp();this.clearcoat===!0&&this.clearcoatSpecularIndirect.mulAssign(c),this.sheen===!0&&this.sheenSpecularIndirect.mulAssign(c),f.indirectDiffuse.mulAssign(c),f.indirectSpecular.mulAssign(R)}finish({context:r}){const{outgoingLight:c}=r;if(this.clearcoat===!0){const f=il.dot(v2).clamp(),p=wf({dotVH:f,f0:b4,f90:N4}),y=c.mul(dd.mul(p).oneMinus()).add(this.clearcoatSpecularDirect.add(this.clearcoatSpecularIndirect).mul(dd));c.assign(y)}if(this.sheen===!0){const f=tl.r.max(tl.g).max(tl.b).mul(.157).oneMinus(),p=c.mul(f).add(this.sheenSpecularDirect,this.sheenSpecularIndirect);c.assign(p)}}}const j5=Lt(1),wd=Lt(-2),jp=Lt(.8),D4=Lt(-1),qp=Lt(.4),I4=Lt(2),Xp=Lt(.305),P4=Lt(3),q5=Lt(.21),Ade=Lt(4),X5=Lt(4),Ede=Lt(16),bde=Xt(([v])=>{const r=Gt(Ls(v)).toVar(),c=Lt(-1).toVar();return f2(r.x.greaterThan(r.z),()=>{f2(r.x.greaterThan(r.y),()=>{c.assign(Dr(v.x.greaterThan(0),0,3))}).Else(()=>{c.assign(Dr(v.y.greaterThan(0),1,4))})}).Else(()=>{f2(r.z.greaterThan(r.y),()=>{c.assign(Dr(v.z.greaterThan(0),2,5))}).Else(()=>{c.assign(Dr(v.y.greaterThan(0),1,4))})}),c}).setLayout({name:"getFace",type:"float",inputs:[{name:"direction",type:"vec3"}]}),Nde=Xt(([v,r])=>{const c=_0().toVar();return f2(r.equal(0),()=>{c.assign(_0(v.z,v.y).div(Ls(v.x)))}).ElseIf(r.equal(1),()=>{c.assign(_0(v.x.negate(),v.z.negate()).div(Ls(v.y)))}).ElseIf(r.equal(2),()=>{c.assign(_0(v.x.negate(),v.y).div(Ls(v.z)))}).ElseIf(r.equal(3),()=>{c.assign(_0(v.z.negate(),v.y).div(Ls(v.x)))}).ElseIf(r.equal(4),()=>{c.assign(_0(v.x.negate(),v.z).div(Ls(v.y)))}).Else(()=>{c.assign(_0(v.x,v.y).div(Ls(v.z)))}),Oi(.5,c.add(1))}).setLayout({name:"getUV",type:"vec2",inputs:[{name:"direction",type:"vec3"},{name:"face",type:"float"}]}),Dde=Xt(([v])=>{const r=Lt(0).toVar();return f2(v.greaterThanEqual(jp),()=>{r.assign(j5.sub(v).mul(D4.sub(wd)).div(j5.sub(jp)).add(wd))}).ElseIf(v.greaterThanEqual(qp),()=>{r.assign(jp.sub(v).mul(I4.sub(D4)).div(jp.sub(qp)).add(D4))}).ElseIf(v.greaterThanEqual(Xp),()=>{r.assign(qp.sub(v).mul(P4.sub(I4)).div(qp.sub(Xp)).add(I4))}).ElseIf(v.greaterThanEqual(q5),()=>{r.assign(Xp.sub(v).mul(Ade.sub(P4)).div(Xp.sub(q5)).add(P4))}).Else(()=>{r.assign(Lt(-2).mul(D1(Oi(1.16,v))))}),r}).setLayout({name:"roughnessToMip",type:"float",inputs:[{name:"roughness",type:"float"}]}),Ide=Xt(([v,r])=>{const c=v.toVar();c.assign(Oi(2,c).sub(1));const f=Gt(c,1).toVar();return f2(r.equal(0),()=>{f.assign(f.zyx)}).ElseIf(r.equal(1),()=>{f.assign(f.xzy),f.xz.mulAssign(-1)}).ElseIf(r.equal(2),()=>{f.x.mulAssign(-1)}).ElseIf(r.equal(3),()=>{f.assign(f.zyx),f.xz.mulAssign(-1)}).ElseIf(r.equal(4),()=>{f.assign(f.xzy),f.xy.mulAssign(-1)}).ElseIf(r.equal(5),()=>{f.z.mulAssign(-1)}),f}).setLayout({name:"getDirection",type:"vec3",inputs:[{name:"uv",type:"vec2"},{name:"face",type:"float"}]}),Pde=Xt(([v,r,c,f,p,y])=>{const T=Lt(c),R=Gt(r),b=k1(Dde(T),wd,y),P=Zo(b),G=Za(b),j=Gt(Mf(v,R,G,f,p,y)).toVar();return f2(P.notEqual(0),()=>{const K=Gt(Mf(v,R,G.add(1),f,p,y)).toVar();j.assign(l2(j,K,P))}),j}),Mf=Xt(([v,r,c,f,p,y])=>{const T=Lt(c).toVar(),R=Gt(r),b=Lt(bde(R)).toVar(),P=Lt(lr(X5.sub(T),0)).toVar();T.assign(lr(T,X5));const G=Lt(vf(T)).toVar(),j=_0(Nde(R,b).mul(G.sub(2)).add(1)).toVar();return f2(b.greaterThan(2),()=>{j.y.addAssign(G),b.subAssign(3)}),j.x.addAssign(b.mul(G)),j.x.addAssign(P.mul(Oi(3,Ede))),j.y.addAssign(Oi(4,vf(y).sub(G))),j.x.mulAssign(f),j.y.mulAssign(p),v.sample(j).grad(_0(),_0())}),L4=Xt(({envMap:v,mipInt:r,outputDirection:c,theta:f,axis:p,CUBEUV_TEXEL_WIDTH:y,CUBEUV_TEXEL_HEIGHT:T,CUBEUV_MAX_MIP:R})=>{const b=M1(f),P=c.mul(b).add(p.cross(c).mul(Ys(f))).add(p.mul(p.dot(c).mul(b.oneMinus())));return Mf(v,P,r,y,T,R)}),Lde=Xt(({n:v,latitudinal:r,poleAxis:c,outputDirection:f,weights:p,samples:y,dTheta:T,mipInt:R,envMap:b,CUBEUV_TEXEL_WIDTH:P,CUBEUV_TEXEL_HEIGHT:G,CUBEUV_MAX_MIP:j})=>{const K=Gt(Dr(r,c,Sf(c,f))).toVar();f2(K.equal(Gt(0)),()=>{K.assign(Gt(f.z,0,f.x.negate()))}),K.assign(Xo(K));const Q=Gt().toVar();return Q.addAssign(p.element(0).mul(L4({theta:0,axis:K,outputDirection:f,mipInt:R,envMap:b,CUBEUV_TEXEL_WIDTH:P,CUBEUV_TEXEL_HEIGHT:G,CUBEUV_MAX_MIP:j}))),Ks({start:n2(1),end:v},({i:ie})=>{f2(ie.greaterThanEqual(y),()=>{x4e()});const ce=Lt(T.mul(Lt(ie))).toVar();Q.addAssign(p.element(ie).mul(L4({theta:ce.mul(-1),axis:K,outputDirection:f,mipInt:R,envMap:b,CUBEUV_TEXEL_WIDTH:P,CUBEUV_TEXEL_HEIGHT:G,CUBEUV_MAX_MIP:j}))),Q.addAssign(p.element(ie).mul(L4({theta:ce,axis:K,outputDirection:f,mipInt:R,envMap:b,CUBEUV_TEXEL_WIDTH:P,CUBEUV_TEXEL_HEIGHT:G,CUBEUV_MAX_MIP:j})))}),Li(Q,1)}),kde=Xt(([v])=>{const r=I2(v).toVar();return r.assign(r.shiftLeft(I2(16)).bitOr(r.shiftRight(I2(16)))),r.assign(r.bitAnd(I2(1431655765)).shiftLeft(I2(1)).bitOr(r.bitAnd(I2(2863311530)).shiftRight(I2(1)))),r.assign(r.bitAnd(I2(858993459)).shiftLeft(I2(2)).bitOr(r.bitAnd(I2(3435973836)).shiftRight(I2(2)))),r.assign(r.bitAnd(I2(252645135)).shiftLeft(I2(4)).bitOr(r.bitAnd(I2(4042322160)).shiftRight(I2(4)))),r.assign(r.bitAnd(I2(16711935)).shiftLeft(I2(8)).bitOr(r.bitAnd(I2(4278255360)).shiftRight(I2(8)))),Lt(r).mul(23283064365386963e-26)}),Fde=Xt(([v,r])=>_0(Lt(v).div(Lt(r)),kde(v))),Bde=Xt(([v,r,c])=>{const f=Gt(r).toVar(),p=Lt(c),y=p.mul(p).toVar(),T=Xo(Gt(y.mul(f.x),y.mul(f.y),f.z)).toVar(),R=T.x.mul(T.x).add(T.y.mul(T.y)),b=Dr(R.greaterThan(0),Gt(T.y.negate(),T.x,0).div(Xa(R)),Gt(1,0,0)).toVar(),P=Sf(T,b).toVar(),G=Xa(v.x),j=Oi(2,3.14159265359).mul(v.y),K=G.mul(M1(j)).toVar(),Q=G.mul(Ys(j)).toVar(),ie=Oi(.5,T.z.add(1));Q.assign(ie.oneMinus().mul(Xa(K.mul(K).oneMinus())).add(ie.mul(Q)));const ce=b.mul(K).add(P.mul(Q)).add(T.mul(Xa(lr(0,K.mul(K).add(Q.mul(Q)).oneMinus()))));return Xo(Gt(y.mul(ce.x),y.mul(ce.y),lr(0,ce.z)))}),Ude=Xt(({roughness:v,mipInt:r,envMap:c,N_immutable:f,GGX_SAMPLES:p,CUBEUV_TEXEL_WIDTH:y,CUBEUV_TEXEL_HEIGHT:T,CUBEUV_MAX_MIP:R})=>{const b=Gt(f).toVar(),P=Gt(0).toVar(),G=Lt(0).toVar();return f2(v.lessThan(.001),()=>{P.assign(Mf(c,b,r,y,T,R))}).Else(()=>{const j=Dr(Ls(b.z).lessThan(.999),Gt(0,0,1),Gt(1,0,0)),K=Xo(Sf(j,b)).toVar(),Q=Sf(b,K).toVar();Ks({start:I2(0),end:p},({i:ie})=>{const ce=Fde(ie,p),ue=Bde(ce,Gt(0,0,1),v),se=Xo(K.mul(ue.x).add(Q.mul(ue.y)).add(b.mul(ue.z))),Ne=Xo(se.mul(Hl(b,se).mul(2)).sub(b)),De=lr(Hl(b,Ne),0);f2(De.greaterThan(0),()=>{const Oe=Mf(c,Ne,r,y,T,R);P.addAssign(Oe.mul(De)),G.addAssign(De)})}),f2(G.greaterThan(0),()=>{P.assign(P.div(G))})}),Li(P,1)}),sa=4,$5=[.125,.215,.35,.446,.526,.582],Ha=20,Ode=512,Du=new Bf(-1,1,1,-1,0,1),Gde=new Z2(90,1),Y5=new ri;let k4=null,F4=0,B4=0;const Vde=new nt,A_=new WeakMap,zde=[3,1,5,0,4,2],U4=Ide(su(),_a("faceIndex")).normalize(),K_=Gt(U4.x,U4.y,U4.z);class Wde{constructor(r){this._renderer=r,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._blurMaterial=null,this._ggxMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._backgroundBox=null}get _hasInitialized(){return this._renderer.hasInitialized()}fromScene(r,c=0,f=.1,p=100,y={}){const{size:T=256,position:R=Vde,renderTarget:b=null}=y;if(this._setSize(T),this._hasInitialized===!1){jt('PMREMGenerator: ".fromScene()" called before the backend is initialized. Try using "await renderer.init()" instead.');const G=b||this._allocateTarget();return y.renderTarget=G,this.fromSceneAsync(r,c,f,p,y),G}k4=this._renderer.getRenderTarget(),F4=this._renderer.getActiveCubeFace(),B4=this._renderer.getActiveMipmapLevel();const P=b||this._allocateTarget();return P.depthBuffer=!0,this._init(P),this._sceneToCubeUV(r,f,p,P,R),c>0&&this._blur(P,0,0,c),this._applyPMREM(P),this._cleanup(P),P}async fromSceneAsync(r,c=0,f=.1,p=100,y={}){return c2('PMREMGenerator: ".fromSceneAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this.fromScene(r,c,f,p,y)}fromEquirectangular(r,c=null){if(this._hasInitialized===!1){jt('PMREMGenerator: .fromEquirectangular() called before the backend is initialized. Try using "await renderer.init()" instead.'),this._setSizeFromTexture(r);const f=c||this._allocateTarget();return this.fromEquirectangularAsync(r,f),f}return this._fromTexture(r,c)}async fromEquirectangularAsync(r,c=null){return c2('PMREMGenerator: ".fromEquirectangularAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this._fromTexture(r,c)}fromCubemap(r,c=null){if(this._hasInitialized===!1){jt("PMREMGenerator: .fromCubemap() called before the backend is initialized. Try using .fromCubemapAsync() instead."),this._setSizeFromTexture(r);const f=c||this._allocateTarget();return this.fromCubemapAsync(r,c),f}return this._fromTexture(r,c)}async fromCubemapAsync(r,c=null){return c2('PMREMGenerator: ".fromCubemapAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this._fromTexture(r,c)}async compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Z5(),await this._compileMaterial(this._cubemapMaterial))}async compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Q5(),await this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSizeFromTexture(r){r.mapping===$o||r.mapping===Yo?this._setSize(r.image.length===0?16:r.image[0].width||r.image[0].image.width):this._setSize(r.image.width/4)}_setSize(r){this._lodMax=Math.floor(Math.log2(r)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let r=0;r<this._lodMeshes.length;r++)this._lodMeshes[r].geometry.dispose()}_cleanup(r){this._renderer.setRenderTarget(k4,F4,B4),r.scissorTest=!1,qc(r,0,0,r.width,r.height)}_fromTexture(r,c){this._setSizeFromTexture(r),k4=this._renderer.getRenderTarget(),F4=this._renderer.getActiveCubeFace(),B4=this._renderer.getActiveMipmapLevel();const f=c||this._allocateTarget();return this._init(f),this._textureToCubeUV(r,f),this._applyPMREM(f),this._cleanup(f),f}_allocateTarget(){const r=3*Math.max(this._cubeSize,112),c=4*this._cubeSize;return K5(r,c)}_init(r){if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==r.width||this._pingPongRenderTarget.height!==r.height){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=K5(r.width,r.height);const{_lodMax:c}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=Hde(c)),this._blurMaterial=jde(c,r.width,r.height),this._ggxMaterial=qde(c,r.width,r.height)}}async _compileMaterial(r){const c=new G2(new os,r);await this._renderer.compile(c,Du)}_sceneToCubeUV(r,c,f,p,y){const T=Gde;T.near=c,T.far=f;const R=[1,1,1,1,-1,1],b=[1,-1,1,-1,1,-1],P=this._renderer,G=P.autoClear;P.getClearColor(Y5),P.autoClear=!1,this._backgroundBox===null&&(this._backgroundBox=new G2(new B1,new ho({name:"PMREM.Background",side:Zn,depthWrite:!1,depthTest:!1})));const j=this._backgroundBox,K=j.material;let Q=!1;const ie=r.background;ie?ie.isColor&&(K.color.copy(ie),r.background=null,Q=!0):(K.color.copy(Y5),Q=!0),P.setRenderTarget(p),P.clear(),Q&&P.render(j,T);for(let ce=0;ce<6;ce++){const ue=ce%3;ue===0?(T.up.set(0,R[ce],0),T.position.set(y.x,y.y,y.z),T.lookAt(y.x+b[ce],y.y,y.z)):ue===1?(T.up.set(0,0,R[ce]),T.position.set(y.x,y.y,y.z),T.lookAt(y.x,y.y+b[ce],y.z)):(T.up.set(0,R[ce],0),T.position.set(y.x,y.y,y.z),T.lookAt(y.x,y.y,y.z+b[ce]));const se=this._cubeSize;qc(p,ue*se,ce>2?se:0,se,se),P.render(r,T)}P.autoClear=G,r.background=ie}_textureToCubeUV(r,c){const f=this._renderer,p=r.mapping===$o||r.mapping===Yo;p?this._cubemapMaterial===null&&(this._cubemapMaterial=Z5(r)):this._equirectMaterial===null&&(this._equirectMaterial=Q5(r));const y=p?this._cubemapMaterial:this._equirectMaterial;y.fragmentNode.value=r;const T=this._lodMeshes[0];T.material=y;const R=this._cubeSize;qc(c,0,0,3*R,2*R),f.setRenderTarget(c),f.render(T,Du)}_applyPMREM(r){const c=this._renderer,f=c.autoClear;c.autoClear=!1;const p=this._lodMeshes.length;for(let y=1;y<p;y++)this._applyGGXFilter(r,y-1,y);c.autoClear=f}_applyGGXFilter(r,c,f){const p=this._renderer,y=this._pingPongRenderTarget,T=this._ggxMaterial,R=this._lodMeshes[f];R.material=T;const b=A_.get(T),P=f/(this._lodMeshes.length-1),G=c/(this._lodMeshes.length-1),j=Math.sqrt(P*P-G*G),K=.05+P*.95,Q=j*K,{_lodMax:ie}=this,ce=this._sizeLods[f],ue=3*ce*(f>ie-sa?f-ie+sa:0),se=4*(this._cubeSize-ce);r.texture.frame=(r.texture.frame||0)+1,b.envMap.value=r.texture,b.roughness.value=Q,b.mipInt.value=ie-c,qc(y,ue,se,3*ce,2*ce),p.setRenderTarget(y),p.render(R,Du),y.texture.frame=(y.texture.frame||0)+1,b.envMap.value=y.texture,b.roughness.value=0,b.mipInt.value=ie-f,qc(r,ue,se,3*ce,2*ce),p.setRenderTarget(r),p.render(R,Du)}_blur(r,c,f,p,y){const T=this._pingPongRenderTarget;this._halfBlur(r,T,c,f,p,"latitudinal",y),this._halfBlur(T,r,f,f,p,"longitudinal",y)}_halfBlur(r,c,f,p,y,T,R){const b=this._renderer,P=this._blurMaterial;T!=="latitudinal"&&T!=="longitudinal"&&i0("blur direction must be either latitudinal or longitudinal!");const G=3,j=this._lodMeshes[p];j.material=P;const K=A_.get(P),Q=this._sizeLods[f]-1,ie=isFinite(y)?Math.PI/(2*Q):2*Math.PI/(2*Ha-1),ce=y/ie,ue=isFinite(y)?1+Math.floor(G*ce):Ha;ue>Ha&&jt(`sigmaRadians, ${y}, is too large and will clip, as it requested ${ue} samples when the maximum is set to ${Ha}`);const se=[];let Ne=0;for(let We=0;We<Ha;++We){const $e=We/ce,Ee=Math.exp(-$e*$e/2);se.push(Ee),We===0?Ne+=Ee:We<ue&&(Ne+=2*Ee)}for(let We=0;We<se.length;We++)se[We]=se[We]/Ne;r.texture.frame=(r.texture.frame||0)+1,K.envMap.value=r.texture,K.samples.value=ue,K.weights.array=se,K.latitudinal.value=T==="latitudinal"?1:0,R&&(K.poleAxis.value=R);const{_lodMax:De}=this;K.dTheta.value=ie,K.mipInt.value=De-f;const Oe=this._sizeLods[p],je=3*Oe*(p>De-sa?p-De+sa:0),Be=4*(this._cubeSize-Oe);qc(c,je,Be,3*Oe,2*Oe),b.setRenderTarget(c),b.render(j,Du)}}function Hde(v){const r=[],c=[],f=[];let p=v;const y=v-sa+1+$5.length;for(let T=0;T<y;T++){const R=Math.pow(2,p);r.push(R);let b=1/R;T>v-sa?b=$5[T-v+sa-1]:T===0&&(b=0),c.push(b);const P=1/(R-2),G=-P,j=1+P,K=[G,G,j,G,j,j,G,G,j,j,G,j],Q=6,ie=6,ce=3,ue=2,se=1,Ne=new Float32Array(ce*ie*Q),De=new Float32Array(ue*ie*Q),Oe=new Float32Array(se*ie*Q);for(let Be=0;Be<Q;Be++){const We=Be%3*2/3-1,$e=Be>2?0:-1,Ee=[We,$e,0,We+2/3,$e,0,We+2/3,$e+1,0,We,$e,0,We+2/3,$e+1,0,We,$e+1,0],Ie=zde[Be];Ne.set(Ee,ce*ie*Ie),De.set(K,ue*ie*Ie);const Je=[Ie,Ie,Ie,Ie,Ie,Ie];Oe.set(Je,se*ie*Ie)}const je=new os;je.setAttribute("position",new zr(Ne,ce)),je.setAttribute("uv",new zr(De,ue)),je.setAttribute("faceIndex",new zr(Oe,se)),f.push(new G2(je,null)),p>sa&&p--}return{lodMeshes:f,sizeLods:r,sigmas:c}}function K5(v,r){const c={magFilter:s2,minFilter:s2,generateMipmaps:!1,type:Q2,format:R2,colorSpace:ic},f=new cc(v,r,c);return f.texture.mapping=ec,f.texture.name="PMREM.cubeUv",f.texture.isPMREMTexture=!0,f.scissorTest=!0,f}function qc(v,r,c,f,p){v.viewport.set(r,c,f,p),v.scissor.set(r,c,f,p)}function Z_(v){const r=new V2;return r.depthTest=!1,r.depthWrite=!1,r.blending=ws,r.name=`PMREM_${v}`,r}function jde(v,r,c){const f=mo(new Array(Ha).fill(0)),p=vi(new nt(0,1,0)),y=vi(0),T=Lt(Ha),R=vi(0),b=vi(1),P=rn(),G=vi(0),j=Lt(1/r),K=Lt(1/c),Q=Lt(v),ie={n:T,latitudinal:R,weights:f,poleAxis:p,outputDirection:K_,dTheta:y,samples:b,envMap:P,mipInt:G,CUBEUV_TEXEL_WIDTH:j,CUBEUV_TEXEL_HEIGHT:K,CUBEUV_MAX_MIP:Q},ce=Z_("blur");return ce.fragmentNode=Lde({...ie,latitudinal:R.equal(1)}),A_.set(ce,ie),ce}function qde(v,r,c){const f=rn(),p=vi(0),y=vi(0),T=Lt(1/r),R=Lt(1/c),b=Lt(v),P={envMap:f,roughness:p,mipInt:y,CUBEUV_TEXEL_WIDTH:T,CUBEUV_TEXEL_HEIGHT:R,CUBEUV_MAX_MIP:b},G=Z_("ggx");return G.fragmentNode=Ude({...P,N_immutable:K_,GGX_SAMPLES:I2(Ode)}),A_.set(G,P),G}function Z5(v){const r=Z_("cubemap");return r.fragmentNode=Cf(v,K_),r}function Q5(v){const r=Z_("equirect");return r.fragmentNode=rn(v,Uy(K_),0),r}const J5=new WeakMap;function Xde(v){const r=Math.log2(v)-2,c=1/v;return{texelWidth:1/(3*Math.max(Math.pow(2,r),112)),texelHeight:c,maxMip:r}}function $de(v,r,c){const f=Yde(r);let p=f.get(v);if((p!==void 0?p.pmremVersion:-1)!==v.pmremVersion){const T=v.image;if(v.isCubeTexture)if(Zde(T))p=c.fromCubemap(v,p);else return null;else if(Qde(T))p=c.fromEquirectangular(v,p);else return null;p.pmremVersion=v.pmremVersion,f.set(v,p)}return p.texture}function Yde(v){let r=J5.get(v);return r===void 0&&(r=new WeakMap,J5.set(v,r)),r}class Kde extends ur{static get type(){return"PMREMNode"}constructor(r,c=null,f=null){super("vec3"),this._value=r,this._pmrem=null,this.uvNode=c,this.levelNode=f,this._generator=null;const p=new J2;p.isRenderTargetTexture=!0,this._texture=rn(p),this._width=vi(0),this._height=vi(0),this._maxMip=vi(0),this.updateBeforeType=Fi.RENDER}set value(r){this._value=r,this._pmrem=null}get value(){return this._value}updateFromTexture(r){const c=Xde(r.image.height);this._texture.value=r,this._width.value=c.texelWidth,this._height.value=c.texelHeight,this._maxMip.value=c.maxMip}updateBefore(r){let c=this._pmrem;const f=c?c.pmremVersion:-1,p=this._value;f!==p.pmremVersion&&(p.isPMREMTexture===!0?c=p:c=$de(p,r.renderer,this._generator),c!==null&&(this._pmrem=c,this.updateFromTexture(c)))}setup(r){this._generator===null&&(this._generator=new Wde(r.renderer)),this.updateBefore(r);let c=this.uvNode;c===null&&r.context.getUV&&(c=r.context.getUV(this)),c=yy.mul(Gt(c.x,c.y.negate(),c.z));let f=this.levelNode;return f===null&&r.context.getTextureLevel&&(f=r.context.getTextureLevel(this)),Pde(this._texture,c,f,this._width,this._height,this._maxMip)}dispose(){super.dispose(),this._generator!==null&&this._generator.dispose()}}function Zde(v){if(v==null)return!1;let r=0;const c=6;for(let f=0;f<c;f++)v[f]!==void 0&&r++;return r===c}function Qde(v){return v==null?!1:v.height>0}const Ky=xn(Kde).setParameterLength(1,3),eg=new WeakMap;class Jde extends cu{static get type(){return"EnvironmentNode"}constructor(r=null){super(),this.envNode=r}setup(r){const{material:c}=r;let f=this.envNode;if(f.isTextureNode||f.isMaterialReferenceNode){const j=f.isTextureNode?f.value:c[f.property];let K=eg.get(j);K===void 0&&(K=Ky(j),eg.set(j,K)),f=K}const y=c.useAnisotropy===!0||c.anisotropy>0?Mhe:bn,T=f.context(tg(A1,y)).mul(R4),R=f.context(e8e(au)).mul(Math.PI).mul(R4),b=ef(T),P=ef(R);r.context.radiance.addAssign(b),r.context.iblIrradiance.addAssign(P);const G=r.context.lightingModel.clearcoatRadiance;if(G){const j=f.context(tg(C_,il)).mul(R4),K=ef(j);G.addAssign(K)}}}const tg=(v,r)=>{let c=null;return{getUV:()=>(c===null&&(c=v2.negate().reflect(r),c=Qx(v).mix(c,r).normalize(),c=c.transformDirection(U1)),c),getTextureLevel:()=>v}},e8e=v=>({getUV:()=>v,getTextureLevel:()=>Lt(1)}),t8e=new Vl;class Zy extends V2{static get type(){return"MeshStandardNodeMaterial"}constructor(r){super(),this.isMeshStandardNodeMaterial=!0,this.lights=!0,this.emissiveNode=null,this.metalnessNode=null,this.roughnessNode=null,this.setDefaultValues(t8e),this.setValues(r)}setupEnvironment(r){let c=super.setupEnvironment(r);return c===null&&r.environmentNode&&(c=r.environmentNode),c?new Jde(c):null}setupLightingModel(){return new Yy}setupSpecular(){const r=l2(Gt(.04),un.rgb,T_);fo.assign(r),w_.assign(1)}setupVariants(){const r=this.metalnessNode?Lt(this.metalnessNode):Uhe;T_.assign(r);let c=this.roughnessNode?Lt(this.roughnessNode):Bhe;c=Hy({roughness:c}),A1.assign(c),this.setupSpecular(),un.assign(Li(un.rgb.mul(r.oneMinus()),un.a))}copy(r){return this.emissiveNode=r.emissiveNode,this.metalnessNode=r.metalnessNode,this.roughnessNode=r.roughnessNode,super.copy(r)}}const i8e=new e1e;class n8e extends Zy{static get type(){return"MeshPhysicalNodeMaterial"}constructor(r){super(),this.isMeshPhysicalNodeMaterial=!0,this.clearcoatNode=null,this.clearcoatRoughnessNode=null,this.clearcoatNormalNode=null,this.sheenNode=null,this.sheenRoughnessNode=null,this.iridescenceNode=null,this.iridescenceIORNode=null,this.iridescenceThicknessNode=null,this.specularIntensityNode=null,this.specularColorNode=null,this.iorNode=null,this.transmissionNode=null,this.thicknessNode=null,this.attenuationDistanceNode=null,this.attenuationColorNode=null,this.dispersionNode=null,this.anisotropyNode=null,this.setDefaultValues(i8e),this.setValues(r)}get useClearcoat(){return this.clearcoat>0||this.clearcoatNode!==null}get useIridescence(){return this.iridescence>0||this.iridescenceNode!==null}get useSheen(){return this.sheen>0||this.sheenNode!==null}get useAnisotropy(){return this.anisotropy>0||this.anisotropyNode!==null}get useTransmission(){return this.transmission>0||this.transmissionNode!==null}get useDispersion(){return this.dispersion>0||this.dispersionNode!==null}setupSpecular(){const r=this.iorNode?Lt(this.iorNode):Qhe;l_.assign(r),fo.assign(l2(Wl(Zx(l_.sub(1).div(l_.add(1))).mul(Fhe),Gt(1)).mul(b5),un.rgb,T_)),w_.assign(l2(b5,1,T_))}setupLightingModel(){return new Yy(this.useClearcoat,this.useSheen,this.useIridescence,this.useAnisotropy,this.useTransmission,this.useDispersion)}setupVariants(r){if(super.setupVariants(r),this.useClearcoat){const c=this.clearcoatNode?Lt(this.clearcoatNode):Ghe,f=this.clearcoatRoughnessNode?Lt(this.clearcoatRoughnessNode):Vhe;dd.assign(c),C_.assign(Hy({roughness:f}))}if(this.useSheen){const c=this.sheenNode?Gt(this.sheenNode):Hhe,f=this.sheenRoughnessNode?Lt(this.sheenRoughnessNode):jhe;tl.assign(c),S8.assign(f)}if(this.useIridescence){const c=this.iridescenceNode?Lt(this.iridescenceNode):Xhe,f=this.iridescenceIORNode?Lt(this.iridescenceIORNode):$he,p=this.iridescenceThicknessNode?Lt(this.iridescenceThicknessNode):Yhe;T8.assign(c),Px.assign(f),Lx.assign(p)}if(this.useAnisotropy){const c=(this.anisotropyNode?_0(this.anisotropyNode):qhe).toVar();Oa.assign(c.length()),f2(Oa.equal(0),()=>{c.assign(_0(1,0))}).Else(()=>{c.divAssign(_0(Oa)),Oa.assign(Oa.saturate())}),md.assign(Oa.pow2().mix(A1.pow2(),1)),c_.assign(ju[0].mul(c.x).add(ju[1].mul(c.y))),ul.assign(ju[1].mul(c.x).sub(ju[0].mul(c.y)))}if(this.useTransmission){const c=this.transmissionNode?Lt(this.transmissionNode):Khe,f=this.thicknessNode?Lt(this.thicknessNode):Zhe,p=this.attenuationDistanceNode?Lt(this.attenuationDistanceNode):Jhe,y=this.attenuationColorNode?Gt(this.attenuationColorNode):e4e;if(xd.assign(c),kx.assign(f),Fx.assign(p),Bx.assign(y),this.useDispersion){const T=this.dispersionNode?Lt(this.dispersionNode):o4e;Ux.assign(T)}}}setupClearcoatNormal(){return this.clearcoatNormalNode?Gt(this.clearcoatNormalNode):zhe}setup(r){r.context.setupClearcoatNormal=()=>Ju(this.setupClearcoatNormal(r),"NORMAL","vec3"),super.setup(r)}copy(r){return this.clearcoatNode=r.clearcoatNode,this.clearcoatRoughnessNode=r.clearcoatRoughnessNode,this.clearcoatNormalNode=r.clearcoatNormalNode,this.sheenNode=r.sheenNode,this.sheenRoughnessNode=r.sheenRoughnessNode,this.iridescenceNode=r.iridescenceNode,this.iridescenceIORNode=r.iridescenceIORNode,this.iridescenceThicknessNode=r.iridescenceThicknessNode,this.specularIntensityNode=r.specularIntensityNode,this.specularColorNode=r.specularColorNode,this.transmissionNode=r.transmissionNode,this.thicknessNode=r.thicknessNode,this.attenuationDistanceNode=r.attenuationDistanceNode,this.attenuationColorNode=r.attenuationColorNode,this.dispersionNode=r.dispersionNode,this.anisotropyNode=r.anisotropyNode,super.copy(r)}}const r8e=Xt(({normal:v,lightDirection:r,builder:c})=>{const f=v.dot(r),p=_0(f.mul(.5).add(.5),0);if(c.material.gradientMap){const y=ta("gradientMap","texture").context({getUV:()=>p});return Gt(y.r)}else{const y=p.fwidth().mul(.5);return l2(Gt(.7),Gt(1),F1(Lt(.7).sub(y.x),Lt(.7).add(y.x),p.x))}});class s8e extends $_{direct({lightDirection:r,lightColor:c,reflectedLight:f},p){const y=r8e({normal:gy,lightDirection:r,builder:p}).mul(c);f.directDiffuse.addAssign(y.mul(Xl({diffuseColor:un.rgb})))}indirect(r){const{ambientOcclusion:c,irradiance:f,reflectedLight:p}=r.context;p.indirectDiffuse.addAssign(f.mul(Xl({diffuseColor:un}))),p.indirectDiffuse.mulAssign(c)}}const o8e=new t1e;class a8e extends V2{static get type(){return"MeshToonNodeMaterial"}constructor(r){super(),this.isMeshToonNodeMaterial=!0,this.lights=!0,this.setDefaultValues(o8e),this.setValues(r)}setupLightingModel(){return new s8e}}const c8e=Xt(()=>{const v=Gt(v2.z,0,v2.x.negate()).normalize(),r=v2.cross(v);return _0(v.dot(bn),r.dot(bn)).mul(.495).add(.5)}).once(["NORMAL","VERTEX"])().toVar("matcapUV"),l8e=new s1e;class u8e extends V2{static get type(){return"MeshMatcapNodeMaterial"}constructor(r){super(),this.isMeshMatcapNodeMaterial=!0,this.setDefaultValues(l8e),this.setValues(r)}setupVariants(r){const c=c8e;let f;r.material.matcap?f=ta("matcap","texture").context({getUV:()=>c}):f=Gt(l2(.2,.8,c.y)),un.rgb.mulAssign(f.rgb)}}class f8e extends ur{static get type(){return"RotateNode"}constructor(r,c){super(),this.positionNode=r,this.rotationNode=c}getNodeType(r){return this.positionNode.getNodeType(r)}setup(r){const{rotationNode:c,positionNode:f}=this;if(this.getNodeType(r)==="vec2"){const y=c.cos(),T=c.sin();return v8(y,T,T.negate(),y).mul(f)}else{const y=c,T=ll(Li(1,0,0,0),Li(0,M1(y.x),Ys(y.x).negate(),0),Li(0,Ys(y.x),M1(y.x),0),Li(0,0,0,1)),R=ll(Li(M1(y.y),0,Ys(y.y),0),Li(0,1,0,0),Li(Ys(y.y).negate(),0,M1(y.y),0),Li(0,0,0,1)),b=ll(Li(M1(y.z),Ys(y.z).negate(),0,0),Li(Ys(y.z),M1(y.z),0,0),Li(0,0,1,0),Li(0,0,0,1));return T.mul(R).mul(b).mul(Li(f,1)).xyz}}}const Qy=xn(f8e).setParameterLength(2),p8e=new Woe;class Jy extends V2{static get type(){return"SpriteNodeMaterial"}constructor(r){super(),this.isSpriteNodeMaterial=!0,this._useSizeAttenuation=!0,this.positionNode=null,this.rotationNode=null,this.scaleNode=null,this.transparent=!0,this.setDefaultValues(p8e),this.setValues(r)}setupPositionView(r){const{object:c,camera:f}=r,{positionNode:p,rotationNode:y,scaleNode:T,sizeAttenuation:R}=this,b=q_.mul(Gt(p||0));let P=_0(ac[0].xyz.length(),ac[1].xyz.length());T!==null&&(P=P.mul(_0(T))),f.isPerspectiveCamera&&R===!1&&(P=P.mul(b.z.negate()));let G=X_.xy;if(c.center&&c.center.isVector2===!0){const Q=T_e("center","vec2",c);G=G.sub(Q.sub(.5))}G=G.mul(P);const j=Lt(y||Whe),K=Qy(G,j);return Li(b.xy.add(K),b.zw)}copy(r){return this.positionNode=r.positionNode,this.rotationNode=r.rotationNode,this.scaleNode=r.scaleNode,super.copy(r)}get sizeAttenuation(){return this._useSizeAttenuation}set sizeAttenuation(r){this._useSizeAttenuation!==r&&(this._useSizeAttenuation=r,this.needsUpdate=!0)}}const _8e=new Qoe,h8e=new O0;class d8e extends Jy{static get type(){return"PointsNodeMaterial"}constructor(r){super(),this.sizeNode=null,this.isPointsNodeMaterial=!0,this.setDefaultValues(_8e),this.setValues(r)}setupPositionView(){const{positionNode:r}=this;return q_.mul(Gt(r||Gr)).xyz}setupVertexSprite(r){const{material:c,camera:f}=r,{rotationNode:p,scaleNode:y,sizeNode:T,sizeAttenuation:R}=this;let b=super.setupVertex(r);if(c.isNodeMaterial!==!0)return b;let P=T!==null?_0(T):s4e;P=P.mul(Q_e),f.isPerspectiveCamera&&R===!0&&(P=P.mul(m8e.div(U2.z.negate()))),y&&y.isNode&&(P=P.mul(_0(y)));let G=X_.xy;if(p&&p.isNode){const j=Lt(p);G=Qy(G,j)}return G=G.mul(P),G=G.div(J_e.div(2)),G=G.mul(b.w),b=b.add(Li(G,0,0)),b}setupVertex(r){return r.object.isPoints?super.setupVertex(r):this.setupVertexSprite(r)}get alphaToCoverage(){return this._useAlphaToCoverage}set alphaToCoverage(r){this._useAlphaToCoverage!==r&&(this._useAlphaToCoverage=r,this.needsUpdate=!0)}}const m8e=vi(1).onFrameUpdate(function({renderer:v}){const r=v.getSize(h8e);this.value=.5*r.y});class g8e extends $_{constructor(){super(),this.shadowNode=Lt(1).toVar("shadowMask")}direct({lightNode:r}){r.shadowNode!==null&&this.shadowNode.mulAssign(r.shadowNode)}finish({context:r}){un.a.mulAssign(this.shadowNode.oneMinus()),r.outgoingLight.rgb.assign(un.rgb)}}const x8e=new Joe;class y8e extends V2{static get type(){return"ShadowNodeMaterial"}constructor(r){super(),this.isShadowNodeMaterial=!0,this.lights=!0,this.transparent=!0,this.setDefaultValues(x8e),this.setValues(r)}setupLightingModel(){return new g8e}}ua("vec3");ua("vec3");ua("vec3");class v8e{constructor(r,c,f){this.renderer=r,this.nodes=c,this.info=f,this._context=typeof self<"u"?self:null,this._animationLoop=null,this._requestId=null}start(){const r=(c,f)=>{this._requestId=this._context.requestAnimationFrame(r),this.info.autoReset===!0&&this.info.reset(),this.nodes.nodeFrame.update(),this.info.frame=this.nodes.nodeFrame.frameId,this.renderer._inspector.begin(),this._animationLoop!==null&&this._animationLoop(c,f),this.renderer._inspector.finish()};r()}stop(){this._context.cancelAnimationFrame(this._requestId),this._requestId=null}getAnimationLoop(){return this._animationLoop}setAnimationLoop(r){this._animationLoop=r}getContext(){return this._context}setContext(r){this._context=r}dispose(){this.stop()}}class So{constructor(){this.weakMap=new WeakMap}get(r){let c=this.weakMap;for(let f=0;f<r.length-1;f++)if(c=c.get(r[f]),c===void 0)return;return c.get(r[r.length-1])}set(r,c){let f=this.weakMap;for(let p=0;p<r.length-1;p++){const y=r[p];f.has(y)===!1&&f.set(y,new WeakMap),f=f.get(y)}return f.set(r[r.length-1],c),this}delete(r){let c=this.weakMap;for(let f=0;f<r.length-1;f++)if(c=c.get(r[f]),c===void 0)return!1;return c.delete(r[r.length-1])}}let S8e=0;function T8e(v){const r=Object.keys(v);let c=Object.getPrototypeOf(v);for(;c;){const f=Object.getOwnPropertyDescriptors(c);for(const p in f)if(f[p]!==void 0){const y=f[p];y&&typeof y.get=="function"&&r.push(p)}c=Object.getPrototypeOf(c)}return r}class C8e{constructor(r,c,f,p,y,T,R,b,P,G){this.id=S8e++,this._nodes=r,this._geometries=c,this.renderer=f,this.object=p,this.material=y,this.scene=T,this.camera=R,this.lightsNode=b,this.context=P,this.geometry=p.geometry,this.version=y.version,this.drawRange=null,this.attributes=null,this.attributesId=null,this.pipeline=null,this.group=null,this.vertexBuffers=null,this.drawParams=null,this.bundle=null,this.clippingContext=G,this.clippingContextCacheKey=G!==null?G.cacheKey:"",this.initialNodesCacheKey=this.getDynamicCacheKey(),this.initialCacheKey=this.getCacheKey(),this._nodeBuilderState=null,this._bindings=null,this._monitor=null,this.onDispose=null,this.isRenderObject=!0,this.onMaterialDispose=()=>{this.dispose()},this.onGeometryDispose=()=>{this.attributes=null,this.attributesId=null},this.material.addEventListener("dispose",this.onMaterialDispose),this.geometry.addEventListener("dispose",this.onGeometryDispose)}updateClipping(r){this.clippingContext=r}get clippingNeedsUpdate(){return this.clippingContext===null||this.clippingContext.cacheKey===this.clippingContextCacheKey?!1:(this.clippingContextCacheKey=this.clippingContext.cacheKey,!0)}get hardwareClippingPlanes(){return this.material.hardwareClipping===!0?this.clippingContext.unionClippingCount:0}getNodeBuilderState(){return this._nodeBuilderState||(this._nodeBuilderState=this._nodes.getForRender(this))}getMonitor(){return this._monitor||(this._monitor=this.getNodeBuilderState().observer)}getBindings(){return this._bindings||(this._bindings=this.getNodeBuilderState().createBindings())}getBindingGroup(r){for(const c of this.getBindings())if(c.name===r)return c}getIndex(){return this._geometries.getIndex(this)}getIndirect(){return this._geometries.getIndirect(this)}getChainArray(){return[this.object,this.material,this.context,this.lightsNode]}setGeometry(r){this.geometry=r,this.attributes=null,this.attributesId=null}getAttributes(){if(this.attributes!==null)return this.attributes;const r=this.getNodeBuilderState().nodeAttributes,c=this.geometry,f=[],p=new Set,y={};for(const T of r){let R;if(T.node&&T.node.attribute?R=T.node.attribute:(R=c.getAttribute(T.name),y[T.name]=R.version),R===void 0)continue;f.push(R);const b=R.isInterleavedBufferAttribute?R.data:R;p.add(b)}return this.attributes=f,this.attributesId=y,this.vertexBuffers=Array.from(p.values()),f}getVertexBuffers(){return this.vertexBuffers===null&&this.getAttributes(),this.vertexBuffers}getDrawParameters(){const{object:r,material:c,geometry:f,group:p,drawRange:y}=this,T=this.drawParams||(this.drawParams={vertexCount:0,firstVertex:0,instanceCount:0,firstInstance:0}),R=this.getIndex(),b=R!==null;let P=1;if(f.isInstancedBufferGeometry===!0?P=f.instanceCount:r.count!==void 0&&(P=Math.max(0,r.count)),P===0)return null;if(T.instanceCount=P,r.isBatchedMesh===!0)return T;let G=1;c.wireframe===!0&&!r.isPoints&&!r.isLineSegments&&!r.isLine&&!r.isLineLoop&&(G=2);let j=y.start*G,K=(y.start+y.count)*G;p!==null&&(j=Math.max(j,p.start*G),K=Math.min(K,(p.start+p.count)*G));const Q=f.attributes.position;let ie=1/0;b?ie=R.count:Q!=null&&(ie=Q.count),j=Math.max(j,0),K=Math.min(K,ie);const ce=K-j;return ce<0||ce===1/0?null:(T.vertexCount=ce,T.firstVertex=j,T)}getGeometryCacheKey(){const{geometry:r}=this;let c="";for(const f of Object.keys(r.attributes).sort()){const p=r.attributes[f];c+=f+",",p.data&&(c+=p.data.stride+","),p.offset&&(c+=p.offset+","),p.itemSize&&(c+=p.itemSize+","),p.normalized&&(c+="n,")}for(const f of Object.keys(r.morphAttributes).sort()){const p=r.morphAttributes[f];c+="morph-"+f+",";for(let y=0,T=p.length;y<T;y++){const R=p[y];c+=R.id+","}}return r.index&&(c+="index,"),c}getMaterialCacheKey(){const{object:r,material:c,renderer:f}=this;let p=c.customProgramCacheKey();for(const y of T8e(c)){if(/^(is[A-Z]|_)|^(visible|version|uuid|name|opacity|userData)$/.test(y))continue;const T=c[y];let R;if(T!==null){const b=typeof T;b==="number"?R=T!==0?"1":"0":b==="object"?(R="{",T.isTexture&&(R+=T.mapping,f.backend.isWebGPUBackend===!0&&(R+=T.magFilter,R+=T.minFilter,R+=T.wrapS,R+=T.wrapT,R+=T.wrapR)),R+="}"):R=String(T)}else R=String(T);p+=R+","}return p+=this.clippingContextCacheKey+",",r.geometry&&(p+=this.getGeometryCacheKey()),r.skeleton&&(p+=r.skeleton.bones.length+","),r.isBatchedMesh&&(p+=r._matricesTexture.uuid+",",r._colorsTexture!==null&&(p+=r._colorsTexture.uuid+",")),(r.isInstancedMesh||r.count>1||Array.isArray(r.morphTargetInfluences))&&(p+=r.uuid+","),p+=r.receiveShadow+",",G_(p)}get needsGeometryUpdate(){if(this.geometry.id!==this.object.geometry.id)return!0;if(this.attributes!==null){const r=this.attributesId;for(const c in r){const f=this.geometry.getAttribute(c);if(f===void 0||r[c]!==f.id)return!0}}return!1}get needsUpdate(){return this.initialNodesCacheKey!==this.getDynamicCacheKey()||this.clippingNeedsUpdate}getDynamicCacheKey(){let r=0;return this.material.isShadowPassMaterial!==!0&&(r=this._nodes.getCacheKey(this.scene,this.lightsNode)),this.camera.isArrayCamera&&(r=Ku(r,this.camera.cameras.length)),this.object.receiveShadow&&(r=Ku(r,1)),r=Ku(r,this.camera.id),r}getCacheKey(){return this.getMaterialCacheKey()+this.getDynamicCacheKey()}dispose(){this.material.removeEventListener("dispose",this.onMaterialDispose),this.geometry.removeEventListener("dispose",this.onGeometryDispose),this.onDispose()}}const ka=[];class w8e{constructor(r,c,f,p,y,T){this.renderer=r,this.nodes=c,this.geometries=f,this.pipelines=p,this.bindings=y,this.info=T,this.chainMaps={}}get(r,c,f,p,y,T,R,b){const P=this.getChainMap(b);ka[0]=r,ka[1]=c,ka[2]=T,ka[3]=y;let G=P.get(ka);return G===void 0?(G=this.createRenderObject(this.nodes,this.geometries,this.renderer,r,c,f,p,y,T,R,b),P.set(ka,G)):(G.updateClipping(R),G.needsGeometryUpdate&&G.setGeometry(r.geometry),(G.version!==c.version||G.needsUpdate)&&(G.initialCacheKey!==G.getCacheKey()?(G.dispose(),G=this.get(r,c,f,p,y,T,R,b)):G.version=c.version)),ka.length=0,G}getChainMap(r="default"){return this.chainMaps[r]||(this.chainMaps[r]=new So)}dispose(){this.chainMaps={}}createRenderObject(r,c,f,p,y,T,R,b,P,G,j){const K=this.getChainMap(j),Q=new C8e(r,c,f,p,y,T,R,b,P,G);return Q.onDispose=()=>{this.pipelines.delete(Q),this.bindings.deleteForRender(Q),this.nodes.delete(Q),K.delete(Q.getChainArray())},Q}}class da{constructor(){this.data=new WeakMap}get(r){let c=this.data.get(r);return c===void 0&&(c={},this.data.set(r,c)),c}delete(r){let c=null;return this.data.has(r)&&(c=this.data.get(r),this.data.delete(r)),c}has(r){return this.data.has(r)}dispose(){this.data=new WeakMap}}const Zs={VERTEX:1,INDEX:2,STORAGE:3,INDIRECT:4},ia=16,M8e=211,R8e=212;class A8e extends da{constructor(r){super(),this.backend=r}delete(r){const c=super.delete(r);return c!==null&&this.backend.destroyAttribute(r),c}update(r,c){const f=this.get(r);if(f.version===void 0)c===Zs.VERTEX?this.backend.createAttribute(r):c===Zs.INDEX?this.backend.createIndexAttribute(r):c===Zs.STORAGE?this.backend.createStorageAttribute(r):c===Zs.INDIRECT&&this.backend.createIndirectStorageAttribute(r),f.version=this._getBufferAttribute(r).version;else{const p=this._getBufferAttribute(r);(f.version<p.version||p.usage===Jc)&&(this.backend.updateAttribute(r),f.version=p.version)}}_getBufferAttribute(r){return r.isInterleavedBufferAttribute&&(r=r.data),r}}function ev(v){return v.index!==null?v.index.version:v.attributes.position.version}function ig(v){const r=[],c=v.index,f=v.attributes.position;if(c!==null){const y=c.array;for(let T=0,R=y.length;T<R;T+=3){const b=y[T+0],P=y[T+1],G=y[T+2];r.push(b,P,P,G,G,b)}}else{const y=f.array;for(let T=0,R=y.length/3-1;T<R;T+=3){const b=T+0,P=T+1,G=T+2;r.push(b,P,P,G,G,b)}}const p=new(Kd(r)?i8:t8)(r,1);return p.version=ev(v),p}class E8e extends da{constructor(r,c){super(),this.attributes=r,this.info=c,this.wireframes=new WeakMap,this.attributeCall=new WeakMap,this._geometryDisposeListeners=new Map}has(r){const c=r.geometry;return super.has(c)&&this.get(c).initialized===!0}updateForRender(r){this.has(r)===!1&&this.initGeometry(r),this.updateAttributes(r)}initGeometry(r){const c=r.geometry,f=this.get(c);f.initialized=!0,this.info.memory.geometries++;const p=()=>{this.info.memory.geometries--;const y=c.index,T=r.getAttributes();y!==null&&this.attributes.delete(y);for(const b of T)this.attributes.delete(b);const R=this.wireframes.get(c);R!==void 0&&this.attributes.delete(R),c.removeEventListener("dispose",p),this._geometryDisposeListeners.delete(c)};c.addEventListener("dispose",p),this._geometryDisposeListeners.set(c,p)}updateAttributes(r){const c=r.getAttributes();for(const y of c)y.isStorageBufferAttribute||y.isStorageInstancedBufferAttribute?this.updateAttribute(y,Zs.STORAGE):this.updateAttribute(y,Zs.VERTEX);const f=this.getIndex(r);f!==null&&this.updateAttribute(f,Zs.INDEX);const p=r.geometry.indirect;p!==null&&this.updateAttribute(p,Zs.INDIRECT)}updateAttribute(r,c){const f=this.info.render.calls;r.isInterleavedBufferAttribute?this.attributeCall.get(r)===void 0?(this.attributes.update(r,c),this.attributeCall.set(r,f)):this.attributeCall.get(r.data)!==f&&(this.attributes.update(r,c),this.attributeCall.set(r.data,f),this.attributeCall.set(r,f)):this.attributeCall.get(r)!==f&&(this.attributes.update(r,c),this.attributeCall.set(r,f))}getIndirect(r){return r.geometry.indirect}getIndex(r){const{geometry:c,material:f}=r;let p=c.index;if(f.wireframe===!0){const y=this.wireframes;let T=y.get(c);T===void 0?(T=ig(c),y.set(c,T)):T.version!==ev(c)&&(this.attributes.delete(T),T=ig(c),y.set(c,T)),p=T}return p}dispose(){for(const[r,c]of this._geometryDisposeListeners.entries())r.removeEventListener("dispose",c);this._geometryDisposeListeners.clear()}}class b8e{constructor(){this.autoReset=!0,this.frame=0,this.calls=0,this.render={calls:0,frameCalls:0,drawCalls:0,triangles:0,points:0,lines:0,timestamp:0},this.compute={calls:0,frameCalls:0,timestamp:0},this.memory={geometries:0,textures:0}}update(r,c,f){this.render.drawCalls++,r.isMesh||r.isSprite?this.render.triangles+=f*(c/3):r.isPoints?this.render.points+=f*c:r.isLineSegments?this.render.lines+=f*(c/2):r.isLine?this.render.lines+=f*(c-1):i0("WebGPUInfo: Unknown object type.")}reset(){this.render.drawCalls=0,this.render.frameCalls=0,this.compute.frameCalls=0,this.render.triangles=0,this.render.points=0,this.render.lines=0}dispose(){this.reset(),this.calls=0,this.render.calls=0,this.compute.calls=0,this.render.timestamp=0,this.compute.timestamp=0,this.memory.geometries=0,this.memory.textures=0}}class tv{constructor(r){this.cacheKey=r,this.usedTimes=0}}class N8e extends tv{constructor(r,c,f){super(r),this.vertexProgram=c,this.fragmentProgram=f}}class D8e extends tv{constructor(r,c){super(r),this.computeProgram=c,this.isComputePipeline=!0}}let I8e=0;class O4{constructor(r,c,f,p=null,y=null){this.id=I8e++,this.code=r,this.stage=c,this.name=f,this.transforms=p,this.attributes=y,this.usedTimes=0}}class P8e extends da{constructor(r,c){super(),this.backend=r,this.nodes=c,this.bindings=null,this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}getForCompute(r,c){const{backend:f}=this,p=this.get(r);if(this._needsComputeUpdate(r)){const y=p.pipeline;y&&(y.usedTimes--,y.computeProgram.usedTimes--);const T=this.nodes.getForCompute(r);let R=this.programs.compute.get(T.computeShader);R===void 0&&(y&&y.computeProgram.usedTimes===0&&this._releaseProgram(y.computeProgram),R=new O4(T.computeShader,"compute",r.name,T.transforms,T.nodeAttributes),this.programs.compute.set(T.computeShader,R),f.createProgram(R));const b=this._getComputeCacheKey(r,R);let P=this.caches.get(b);P===void 0&&(y&&y.usedTimes===0&&this._releasePipeline(y),P=this._getComputePipeline(r,R,b,c)),P.usedTimes++,R.usedTimes++,p.version=r.version,p.pipeline=P}return p.pipeline}getForRender(r,c=null){const{backend:f}=this,p=this.get(r);if(this._needsRenderUpdate(r)){const y=p.pipeline;y&&(y.usedTimes--,y.vertexProgram.usedTimes--,y.fragmentProgram.usedTimes--);const T=r.getNodeBuilderState(),R=r.material?r.material.name:"";let b=this.programs.vertex.get(T.vertexShader);b===void 0&&(y&&y.vertexProgram.usedTimes===0&&this._releaseProgram(y.vertexProgram),b=new O4(T.vertexShader,"vertex",R),this.programs.vertex.set(T.vertexShader,b),f.createProgram(b));let P=this.programs.fragment.get(T.fragmentShader);P===void 0&&(y&&y.fragmentProgram.usedTimes===0&&this._releaseProgram(y.fragmentProgram),P=new O4(T.fragmentShader,"fragment",R),this.programs.fragment.set(T.fragmentShader,P),f.createProgram(P));const G=this._getRenderCacheKey(r,b,P);let j=this.caches.get(G);j===void 0?(y&&y.usedTimes===0&&this._releasePipeline(y),j=this._getRenderPipeline(r,b,P,G,c)):r.pipeline=j,j.usedTimes++,b.usedTimes++,P.usedTimes++,p.pipeline=j}return p.pipeline}delete(r){const c=this.get(r).pipeline;return c&&(c.usedTimes--,c.usedTimes===0&&this._releasePipeline(c),c.isComputePipeline?(c.computeProgram.usedTimes--,c.computeProgram.usedTimes===0&&this._releaseProgram(c.computeProgram)):(c.fragmentProgram.usedTimes--,c.vertexProgram.usedTimes--,c.vertexProgram.usedTimes===0&&this._releaseProgram(c.vertexProgram),c.fragmentProgram.usedTimes===0&&this._releaseProgram(c.fragmentProgram))),super.delete(r)}dispose(){super.dispose(),this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}updateForRender(r){this.getForRender(r)}_getComputePipeline(r,c,f,p){f=f||this._getComputeCacheKey(r,c);let y=this.caches.get(f);return y===void 0&&(y=new D8e(f,c),this.caches.set(f,y),this.backend.createComputePipeline(y,p)),y}_getRenderPipeline(r,c,f,p,y){p=p||this._getRenderCacheKey(r,c,f);let T=this.caches.get(p);return T===void 0&&(T=new N8e(p,c,f),this.caches.set(p,T),r.pipeline=T,this.backend.createRenderPipeline(r,y)),T}_getComputeCacheKey(r,c){return r.id+","+c.id}_getRenderCacheKey(r,c,f){return c.id+","+f.id+","+this.backend.getRenderCacheKey(r)}_releasePipeline(r){this.caches.delete(r.cacheKey)}_releaseProgram(r){const c=r.code,f=r.stage;this.programs[f].delete(c)}_needsComputeUpdate(r){const c=this.get(r);return c.pipeline===void 0||c.version!==r.version}_needsRenderUpdate(r){return this.get(r).pipeline===void 0||this.backend.needsRenderUpdate(r)}}class L8e extends da{constructor(r,c,f,p,y,T){super(),this.backend=r,this.textures=f,this.pipelines=y,this.attributes=p,this.nodes=c,this.info=T,this.pipelines.bindings=this}getForRender(r){const c=r.getBindings();for(const f of c){const p=this.get(f);p.bindGroup===void 0&&(this._init(f),this.backend.createBindings(f,c,0),p.bindGroup=f)}return c}getForCompute(r){const c=this.nodes.getForCompute(r).bindings;for(const f of c){const p=this.get(f);p.bindGroup===void 0&&(this._init(f),this.backend.createBindings(f,c,0),p.bindGroup=f)}return c}updateForCompute(r){this._updateBindings(this.getForCompute(r))}updateForRender(r){this._updateBindings(this.getForRender(r))}deleteForCompute(r){const c=this.nodes.getForCompute(r).bindings;for(const f of c)this.delete(f)}deleteForRender(r){const c=r.getBindings();for(const f of c)this.delete(f)}_updateBindings(r){for(const c of r)this._update(c,r)}_init(r){for(const c of r.bindings)if(c.isSampledTexture)this.textures.updateTexture(c.texture);else if(c.isSampler)this.textures.updateSampler(c.texture);else if(c.isStorageBuffer){const f=c.attribute,p=f.isIndirectStorageBufferAttribute?Zs.INDIRECT:Zs.STORAGE;this.attributes.update(f,p)}}_update(r,c){const{backend:f}=this;let p=!1,y=!0,T=0,R=0;for(const b of r.bindings)if(!(b.isNodeUniformsGroup&&this.nodes.updateGroup(b)===!1)){if(b.isStorageBuffer){const P=b.attribute,G=P.isIndirectStorageBufferAttribute?Zs.INDIRECT:Zs.STORAGE;this.attributes.update(P,G)}if(b.isUniformBuffer)b.update()&&f.updateBinding(b);else if(b.isSampledTexture){const P=b.update(),G=b.texture,j=this.textures.get(G);if(P&&(this.textures.updateTexture(G),b.generation!==j.generation&&(b.generation=j.generation,p=!0,y=!1)),f.get(G).externalTexture!==void 0||j.isDefaultTexture?y=!1:(T=T*10+G.id,R+=G.version),G.isStorageTexture===!0&&G.mipmapsAutoUpdate===!0){const Q=this.get(G);b.store===!0?Q.needsMipmap=!0:this.textures.needsMipmaps(G)&&Q.needsMipmap===!0&&(this.backend.generateMipmaps(G),Q.needsMipmap=!1)}}else if(b.isSampler&&b.update()){const G=this.textures.updateSampler(b.texture);b.samplerKey!==G&&(b.samplerKey=G,p=!0,y=!1)}}p===!0&&this.backend.updateBindings(r,c,y?T:0,R)}}function k8e(v,r){return v.groupOrder!==r.groupOrder?v.groupOrder-r.groupOrder:v.renderOrder!==r.renderOrder?v.renderOrder-r.renderOrder:v.z!==r.z?v.z-r.z:v.id-r.id}function ng(v,r){return v.groupOrder!==r.groupOrder?v.groupOrder-r.groupOrder:v.renderOrder!==r.renderOrder?v.renderOrder-r.renderOrder:v.z!==r.z?r.z-v.z:v.id-r.id}function rg(v){return(v.transmission>0||v.transmissionNode&&v.transmissionNode.isNode)&&v.side===Nr&&v.forceSinglePass===!1}class F8e{constructor(r,c,f){this.renderItems=[],this.renderItemsIndex=0,this.opaque=[],this.transparentDoublePass=[],this.transparent=[],this.bundles=[],this.lightsNode=r.getNode(c,f),this.lightsArray=[],this.scene=c,this.camera=f,this.occlusionQueryCount=0}begin(){return this.renderItemsIndex=0,this.opaque.length=0,this.transparentDoublePass.length=0,this.transparent.length=0,this.bundles.length=0,this.lightsArray.length=0,this.occlusionQueryCount=0,this}getNextRenderItem(r,c,f,p,y,T,R){let b=this.renderItems[this.renderItemsIndex];return b===void 0?(b={id:r.id,object:r,geometry:c,material:f,groupOrder:p,renderOrder:r.renderOrder,z:y,group:T,clippingContext:R},this.renderItems[this.renderItemsIndex]=b):(b.id=r.id,b.object=r,b.geometry=c,b.material=f,b.groupOrder=p,b.renderOrder=r.renderOrder,b.z=y,b.group=T,b.clippingContext=R),this.renderItemsIndex++,b}push(r,c,f,p,y,T,R){const b=this.getNextRenderItem(r,c,f,p,y,T,R);r.occlusionTest===!0&&this.occlusionQueryCount++,f.transparent===!0||f.transmission>0||f.transmissionNode&&f.transmissionNode.isNode||f.backdropNode&&f.backdropNode.isNode?(rg(f)&&this.transparentDoublePass.push(b),this.transparent.push(b)):this.opaque.push(b)}unshift(r,c,f,p,y,T,R){const b=this.getNextRenderItem(r,c,f,p,y,T,R);f.transparent===!0||f.transmission>0||f.transmissionNode&&f.transmissionNode.isNode||f.backdropNode&&f.backdropNode.isNode?(rg(f)&&this.transparentDoublePass.unshift(b),this.transparent.unshift(b)):this.opaque.unshift(b)}pushBundle(r){this.bundles.push(r)}pushLight(r){this.lightsArray.push(r)}sort(r,c){this.opaque.length>1&&this.opaque.sort(r||k8e),this.transparentDoublePass.length>1&&this.transparentDoublePass.sort(c||ng),this.transparent.length>1&&this.transparent.sort(c||ng)}finish(){this.lightsNode.setLights(this.lightsArray);for(let r=this.renderItemsIndex,c=this.renderItems.length;r<c;r++){const f=this.renderItems[r];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.groupOrder=null,f.renderOrder=null,f.z=null,f.group=null,f.clippingContext=null}}}const Iu=[];class B8e{constructor(r){this.lighting=r,this.lists=new So}get(r,c){const f=this.lists;Iu[0]=r,Iu[1]=c;let p=f.get(Iu);return p===void 0&&(p=new F8e(this.lighting,r,c),f.set(Iu,p)),Iu.length=0,p}dispose(){this.lists=new So}}let U8e=0;class O8e{constructor(){this.id=U8e++,this.color=!0,this.clearColor=!0,this.clearColorValue={r:0,g:0,b:0,a:1},this.depth=!0,this.clearDepth=!0,this.clearDepthValue=1,this.stencil=!1,this.clearStencil=!0,this.clearStencilValue=1,this.viewport=!1,this.viewportValue=new hi,this.scissor=!1,this.scissorValue=new hi,this.renderTarget=null,this.textures=null,this.depthTexture=null,this.activeCubeFace=0,this.activeMipmapLevel=0,this.sampleCount=1,this.width=0,this.height=0,this.occlusionQueryCount=0,this.clippingContext=null,this.isRenderContext=!0}getCacheKey(){return iv(this)}}function iv(v){const{textures:r,activeCubeFace:c,activeMipmapLevel:f}=v,p=[c,f];for(const y of r)p.push(y.id);return Uf(p)}const Pu=[],G8e=new If,V8e=new n8;class z8e{constructor(){this.chainMaps={}}get(r,c,f=null){Pu[0]=r,Pu[1]=c;let p;if(f===null)p="default";else{const R=f.texture.format;p=`${f.textures.length}:${R}:${f.samples}:${f.depthBuffer}:${f.stencilBuffer}`}const y=this._getChainMap(p);let T=y.get(Pu);return T===void 0&&(T=new O8e,y.set(Pu,T)),Pu.length=0,f!==null&&(T.sampleCount=f.samples===0?1:f.samples),T}getForClear(r=null){return this.get(G8e,V8e,r)}_getChainMap(r){return this.chainMaps[r]||(this.chainMaps[r]=new So)}dispose(){this.chainMaps={}}}const W8e=new nt;class H8e extends da{constructor(r,c,f){super(),this.renderer=r,this.backend=c,this.info=f}updateRenderTarget(r,c=0){const f=this.get(r),p=r.samples===0?1:r.samples,y=f.depthTextureMips||(f.depthTextureMips={}),T=r.textures,R=this.getSize(T[0]),b=R.width>>c,P=R.height>>c;let G=r.depthTexture||y[c];const j=r.depthBuffer===!0||r.stencilBuffer===!0;let K=!1;G===void 0&&j&&(G=new Qs,G.format=r.stencilBuffer?Os:Us,G.type=r.stencilBuffer?Bs:Kn,G.image.width=b,G.image.height=P,G.image.depth=R.depth,G.renderTarget=r,G.isArrayTexture=r.multiview===!0&&R.depth>1,y[c]=G),(f.width!==R.width||R.height!==f.height)&&(K=!0,G&&(G.needsUpdate=!0,G.image.width=b,G.image.height=P,G.image.depth=G.isArrayTexture?G.image.depth:1)),f.width=R.width,f.height=R.height,f.textures=T,f.depthTexture=G||null,f.depth=r.depthBuffer,f.stencil=r.stencilBuffer,f.renderTarget=r,f.sampleCount!==p&&(K=!0,G&&(G.needsUpdate=!0),f.sampleCount=p);const Q={sampleCount:p};if(r.isXRRenderTarget!==!0){for(let ie=0;ie<T.length;ie++){const ce=T[ie];K&&(ce.needsUpdate=!0),this.updateTexture(ce,Q)}G&&this.updateTexture(G,Q)}f.initialized!==!0&&(f.initialized=!0,f.onDispose=()=>{this._destroyRenderTarget(r)},r.addEventListener("dispose",f.onDispose))}updateTexture(r,c={}){const f=this.get(r);if(f.initialized===!0&&f.version===r.version)return;const p=r.isRenderTargetTexture||r.isDepthTexture||r.isFramebufferTexture,y=this.backend;if(p&&f.initialized===!0&&y.destroyTexture(r),r.isFramebufferTexture){const P=this.renderer.getRenderTarget();P?r.type=P.texture.type:r.type=M2}const{width:T,height:R,depth:b}=this.getSize(r);if(c.width=T,c.height=R,c.depth=b,c.needsMipmaps=this.needsMipmaps(r),c.levels=c.needsMipmaps?this.getMipLevels(r,T,R):1,r.isCubeTexture&&r.mipmaps.length>0&&c.levels++,p||r.isStorageTexture===!0||r.isExternalTexture===!0)y.createTexture(r,c),f.generation=r.version;else if(r.version>0){const P=r.image;if(P===void 0)jt("Renderer: Texture marked for update but image is undefined.");else if(P.complete===!1)jt("Renderer: Texture marked for update but image is incomplete.");else{if(r.images){const j=[];for(const K of r.images)j.push(K);c.images=j}else c.image=P;(f.isDefaultTexture===void 0||f.isDefaultTexture===!0)&&(y.createTexture(r,c),f.isDefaultTexture=!1,f.generation=r.version),r.source.dataReady===!0&&y.updateTexture(r,c);const G=r.isStorageTexture===!0&&r.mipmapsAutoUpdate===!1;c.needsMipmaps&&r.mipmaps.length===0&&!G&&y.generateMipmaps(r),r.onUpdate&&r.onUpdate(r)}}else y.createDefaultTexture(r),f.isDefaultTexture=!0,f.generation=r.version;f.initialized!==!0&&(f.initialized=!0,f.generation=r.version,this.info.memory.textures++,r.isVideoTexture&&pi.getTransfer(r.colorSpace)!==b0&&jt("WebGPURenderer: Video textures must use a color space with a sRGB transfer function, e.g. SRGBColorSpace."),f.onDispose=()=>{this._destroyTexture(r)},r.addEventListener("dispose",f.onDispose)),f.version=r.version}updateSampler(r){return this.backend.updateSampler(r)}getSize(r,c=W8e){let f=r.images?r.images[0]:r.image;return f?(f.image!==void 0&&(f=f.image),typeof HTMLVideoElement<"u"&&f instanceof HTMLVideoElement?(c.width=f.videoWidth||1,c.height=f.videoHeight||1,c.depth=1):typeof VideoFrame<"u"&&f instanceof VideoFrame?(c.width=f.displayWidth||1,c.height=f.displayHeight||1,c.depth=1):(c.width=f.width||1,c.height=f.height||1,c.depth=r.isCubeTexture?6:f.depth||1)):c.width=c.height=c.depth=1,c}getMipLevels(r,c,f){let p;return r.mipmaps.length>0?p=r.mipmaps.length:r.isCompressedTexture===!0?p=1:p=Math.floor(Math.log2(Math.max(c,f)))+1,p}needsMipmaps(r){return r.generateMipmaps===!0||r.mipmaps.length>0}_destroyRenderTarget(r){if(this.has(r)===!0){const c=this.get(r),f=c.textures,p=c.depthTexture;r.removeEventListener("dispose",c.onDispose);for(let y=0;y<f.length;y++)this._destroyTexture(f[y]);p&&this._destroyTexture(p),this.delete(r),this.backend.delete(r)}}_destroyTexture(r){if(this.has(r)===!0){const c=this.get(r);r.removeEventListener("dispose",c.onDispose);const f=c.isDefaultTexture;this.backend.destroyTexture(r,f),this.delete(r),this.info.memory.textures--}}}class k8 extends ri{constructor(r,c,f,p=1){super(r,c,f),this.a=p}set(r,c,f,p=1){return this.a=p,super.set(r,c,f)}copy(r){return r.a!==void 0&&(this.a=r.a),super.copy(r)}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}}class j8e extends kn{static get type(){return"ParameterNode"}constructor(r,c=null){super(r,c),this.isParameterNode=!0}getMemberType(r,c){const f=this.getNodeType(r),p=r.getStructTypeNode(f);let y;return p!==null?y=p.getMemberType(r,c):(i0(`TSL: Member "${c}" not found in struct "${f}".`),y="float"),y}getHash(){return this.uuid}generate(){return this.name}}class q8e extends Q0{static get type(){return"StackNode"}constructor(r=null){super(),this.nodes=[],this.outputNode=null,this.parent=r,this._currentCond=null,this._expressionNode=null,this.isStackNode=!0}getElementType(r){return this.hasOutput?this.outputNode.getElementType(r):"void"}getNodeType(r){return this.hasOutput?this.outputNode.getNodeType(r):"void"}getMemberType(r,c){return this.hasOutput?this.outputNode.getMemberType(r,c):"void"}addToStack(r){return r.isNode!==!0?(i0("TSL: Invalid node added to stack."),this):(this.nodes.push(r),this)}If(r,c){const f=new Hu(c);return this._currentCond=Dr(r,f),this.addToStack(this._currentCond)}ElseIf(r,c){const f=new Hu(c),p=Dr(r,f);return this._currentCond.elseNode=p,this._currentCond=p,this}Else(r){return this._currentCond.elseNode=new Hu(r),this}Switch(r){return this._expressionNode=r0(r),this}Case(...r){const c=[];if(r.length>=2)for(let R=0;R<r.length-1;R++)c.push(this._expressionNode.equal(r0(r[R])));else i0("TSL: Invalid parameter length. Case() requires at least two parameters.");const f=r[r.length-1],p=new Hu(f);let y=c[0];for(let R=1;R<c.length;R++)y=y.or(c[R]);const T=Dr(y,p);return this._currentCond===null?(this._currentCond=T,this.addToStack(this._currentCond)):(this._currentCond.elseNode=T,this._currentCond=T,this)}Default(r){return this.Else(r),this}setup(r){const c=r.getNodeProperties(this);let f=0;for(const p of this.getChildren())p.isVarNode&&p.intent===!0&&p.isAssign(r)!==!0||(c["node"+f++]=p);return c.outputNode||null}get hasOutput(){return this.outputNode&&this.outputNode.isNode}build(r,...c){const f=Dx();v_(this),r.setActiveStack(this);const p=r.buildStage;for(const T of this.nodes)if(!(T.isVarNode&&T.intent===!0&&T.isAssign(r)!==!0)){if(p==="setup")T.build(r);else if(p==="analyze")T.build(r,this);else if(p==="generate"){const R=r.getDataFromNode(T,"any").stages,b=R&&R[r.shaderStage];if(T.isVarNode&&b&&b.length===1&&b[0]&&b[0].isStackNode)continue;T.build(r,"void")}}let y;return this.hasOutput?y=this.outputNode.build(r,...c):y=super.build(r,...c),v_(f),r.removeActiveStack(this),y}}const G4=xn(q8e).setParameterLength(0,1);new po;new nt;new nt;new nt;new wi;new nt(0,0,-1);new hi;new nt;new nt;new hi;new O0;const X8e=new cc;fl.flipX();X8e.depthTexture=new Qs(1,1);const V4=new Bf(-1,1,1,-1,0,1);class $8e extends os{constructor(r=!1){super();const c=r===!1?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new y2([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new y2(c,2))}}const Y8e=new $8e;class F8 extends G2{constructor(r=null){super(Y8e,r),this.camera=V4,this.isQuadMesh=!0}async renderAsync(r){c2('QuadMesh: "renderAsync()" has been deprecated. Use "render()" and "await renderer.init();" when creating the renderer.'),await r.init(),r.render(this,V4)}render(r){r.render(this,V4)}}Xt(([v])=>Zo(Lt(52.9829189).mul(Zo(Hl(v,_0(.06711056,.00583715)))))).setLayout({name:"interleavedGradientNoise",type:"float",inputs:[{name:"position",type:"vec2"}]});class b1 extends Q0{static get type(){return"EventNode"}constructor(r,c){super("void"),this.eventType=r,this.callback=c,r===b1.OBJECT?this.updateType=Fi.OBJECT:r===b1.MATERIAL?this.updateType=Fi.RENDER:r===b1.BEFORE_OBJECT?this.updateBeforeType=Fi.OBJECT:r===b1.BEFORE_MATERIAL&&(this.updateBeforeType=Fi.RENDER)}update(r){this.callback(r)}updateBefore(r){this.callback(r)}}b1.OBJECT="object";b1.MATERIAL="material";b1.BEFORE_OBJECT="beforeObject";b1.BEFORE_MATERIAL="beforeMaterial";const Lu=new Wr,z4=new wi;class Ts extends Q0{static get type(){return"SceneNode"}constructor(r=Ts.BACKGROUND_BLURRINESS,c=null){super(),this.scope=r,this.scene=c}setup(r){const c=this.scope,f=this.scene!==null?this.scene:r.scene;let p;return c===Ts.BACKGROUND_BLURRINESS?p=zn("backgroundBlurriness","float",f):c===Ts.BACKGROUND_INTENSITY?p=zn("backgroundIntensity","float",f):c===Ts.BACKGROUND_ROTATION?p=vi("mat4").setName("backgroundRotation").setGroup(xi).onRenderUpdate(()=>{const y=f.background;return y!==null&&y.isTexture&&y.mapping!==Vd?(Lu.copy(f.backgroundRotation),Lu.x*=-1,Lu.y*=-1,Lu.z*=-1,z4.makeRotationFromEuler(Lu)):z4.identity(),z4}):i0("SceneNode: Unknown scope:",c),p}}Ts.BACKGROUND_BLURRINESS="backgroundBlurriness";Ts.BACKGROUND_INTENSITY="backgroundIntensity";Ts.BACKGROUND_ROTATION="backgroundRotation";const K8e=h0(Ts,Ts.BACKGROUND_BLURRINESS),sg=h0(Ts,Ts.BACKGROUND_INTENSITY),Z8e=h0(Ts,Ts.BACKGROUND_ROTATION),Q8e=Xt(({texture:v,uv:r})=>{const f=Gt().toVar();return f2(r.x.lessThan(1e-4),()=>{f.assign(Gt(1,0,0))}).ElseIf(r.y.lessThan(1e-4),()=>{f.assign(Gt(0,1,0))}).ElseIf(r.z.lessThan(1e-4),()=>{f.assign(Gt(0,0,1))}).ElseIf(r.x.greaterThan(1-1e-4),()=>{f.assign(Gt(-1,0,0))}).ElseIf(r.y.greaterThan(1-1e-4),()=>{f.assign(Gt(0,-1,0))}).ElseIf(r.z.greaterThan(1-1e-4),()=>{f.assign(Gt(0,0,-1))}).Else(()=>{const y=v.sample(r.add(Gt(-.01,0,0))).r.sub(v.sample(r.add(Gt(.01,0,0))).r),T=v.sample(r.add(Gt(0,-.01,0))).r.sub(v.sample(r.add(Gt(0,.01,0))).r),R=v.sample(r.add(Gt(0,0,-.01))).r.sub(v.sample(r.add(Gt(0,0,.01))).r);f.assign(Gt(y,T,R))}),f.normalize()});class J8e extends ou{static get type(){return"Texture3DNode"}constructor(r,c=null,f=null){super(r,c,f),this.isTexture3DNode=!0}getInputType(){return"texture3D"}getDefaultUV(){return Gt(.5,.5,.5)}setUpdateMatrix(){}setupUV(r,c){const f=this.value;return r.isFlipY()&&(f.isRenderTargetTexture===!0||f.isFramebufferTexture===!0)&&(this.sampler?c=c.flipY():c=c.setY(n2(Qa(this,this.levelNode).y).sub(c.y).sub(1))),c}generateUV(r,c){return c.build(r,this.sampler===!0?"vec3":"ivec3")}generateOffset(r,c){return c.build(r,"ivec3")}normal(r){return Q8e({texture:this,uv:r})}}const e6e=xn(J8e).setParameterLength(1,3),$p=new O0;class t6e extends ou{static get type(){return"PassTextureNode"}constructor(r,c){super(c),this.passNode=r,this.setUpdateMatrix(!1)}setup(r){return this.passNode.build(r),super.setup(r)}clone(){return new this.constructor(this.passNode,this.value)}}class og extends t6e{static get type(){return"PassMultipleTextureNode"}constructor(r,c,f=!1){super(r,null),this.textureName=c,this.previousTexture=f}updateTexture(){this.value=this.previousTexture?this.passNode.getPreviousTexture(this.textureName):this.passNode.getTexture(this.textureName)}setup(r){return this.updateTexture(),super.setup(r)}clone(){const r=new this.constructor(this.passNode,this.textureName,this.previousTexture);return r.uvNode=this.uvNode,r.levelNode=this.levelNode,r.biasNode=this.biasNode,r.sampler=this.sampler,r.depthNode=this.depthNode,r.compareNode=this.compareNode,r.gradNode=this.gradNode,r.offsetNode=this.offsetNode,r}}class Q_ extends ur{static get type(){return"PassNode"}constructor(r,c,f,p={}){super("vec4"),this.scope=r,this.scene=c,this.camera=f,this.options=p,this._pixelRatio=1,this._width=1,this._height=1;const y=new Qs;y.isRenderTargetTexture=!0,y.name="depth";const T=new cc(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Q2,...p});T.texture.name="output",T.depthTexture=y,this.renderTarget=T,this._textures={output:T.texture,depth:y},this._textureNodes={},this._linearDepthNodes={},this._viewZNodes={},this._previousTextures={},this._previousTextureNodes={},this._cameraNear=vi(0),this._cameraFar=vi(0),this._mrt=null,this._layers=null,this._resolutionScale=1,this._viewport=null,this._scissor=null,this.isPassNode=!0,this.updateBeforeType=Fi.FRAME,this.global=!0}setResolutionScale(r){return this._resolutionScale=r,this}getResolutionScale(){return this._resolutionScale}setResolution(r){return jt("PassNode: .setResolution() is deprecated. Use .setResolutionScale() instead."),this.setResolutionScale(r)}getResolution(){return jt("PassNode: .getResolution() is deprecated. Use .getResolutionScale() instead."),this.getResolutionScale()}setLayers(r){return this._layers=r,this}getLayers(){return this._layers}setMRT(r){return this._mrt=r,this}getMRT(){return this._mrt}getTexture(r){let c=this._textures[r];return c===void 0&&(c=this.renderTarget.texture.clone(),c.name=r,this._textures[r]=c,this.renderTarget.textures.push(c)),c}getPreviousTexture(r){let c=this._previousTextures[r];return c===void 0&&(c=this.getTexture(r).clone(),this._previousTextures[r]=c),c}toggleTexture(r){const c=this._previousTextures[r];if(c!==void 0){const f=this._textures[r],p=this.renderTarget.textures.indexOf(f);this.renderTarget.textures[p]=c,this._textures[r]=c,this._previousTextures[r]=f,this._textureNodes[r].updateTexture(),this._previousTextureNodes[r].updateTexture()}}getTextureNode(r="output"){let c=this._textureNodes[r];return c===void 0&&(c=r0(new og(this,r)),c.updateTexture(),this._textureNodes[r]=c),c}getPreviousTextureNode(r="output"){let c=this._previousTextureNodes[r];return c===void 0&&(this._textureNodes[r]===void 0&&this.getTextureNode(r),c=r0(new og(this,r,!0)),c.updateTexture(),this._previousTextureNodes[r]=c),c}getViewZNode(r="depth"){let c=this._viewZNodes[r];if(c===void 0){const f=this._cameraNear,p=this._cameraFar;this._viewZNodes[r]=c=Ly(this.getTextureNode(r),f,p)}return c}getLinearDepthNode(r="depth"){let c=this._linearDepthNodes[r];if(c===void 0){const f=this._cameraNear,p=this._cameraFar,y=this.getViewZNode(r);this._linearDepthNodes[r]=c=tf(y,f,p)}return c}async compileAsync(r){const c=r.getRenderTarget(),f=r.getMRT();r.setRenderTarget(this.renderTarget),r.setMRT(this._mrt),await r.compileAsync(this.scene,this.camera),r.setRenderTarget(c),r.setMRT(f)}setup({renderer:r}){return this.renderTarget.samples=this.options.samples===void 0?r.samples:this.options.samples,this.renderTarget.texture.type=r.getColorBufferType(),this.scope===Q_.COLOR?this.getTextureNode():this.getLinearDepthNode()}updateBefore(r){const{renderer:c}=r,{scene:f}=this;let p,y;const T=c.getOutputRenderTarget();T&&T.isXRRenderTarget===!0?(y=1,p=c.xr.getCamera(),c.xr.updateCamera(p),$p.set(T.width,T.height)):(p=this.camera,y=c.getPixelRatio(),c.getSize($p)),this._pixelRatio=y,this.setSize($p.width,$p.height);const R=c.getRenderTarget(),b=c.getMRT(),P=c.autoClear,G=p.layers.mask;this._cameraNear.value=p.near,this._cameraFar.value=p.far,this._layers!==null&&(p.layers.mask=this._layers.mask);for(const K in this._previousTextures)this.toggleTexture(K);c.setRenderTarget(this.renderTarget),c.setMRT(this._mrt),c.autoClear=!0;const j=f.name;f.name=this.name?this.name:f.name,c.render(f,p),f.name=j,c.setRenderTarget(R),c.setMRT(b),c.autoClear=P,p.layers.mask=G}setSize(r,c){this._width=r,this._height=c;const f=Math.floor(this._width*this._pixelRatio*this._resolutionScale),p=Math.floor(this._height*this._pixelRatio*this._resolutionScale);this.renderTarget.setSize(f,p),this._scissor!==null&&this.renderTarget.scissor.copy(this._scissor),this._viewport!==null&&this.renderTarget.viewport.copy(this._viewport)}setScissor(r,c,f,p){r===null?this._scissor=null:(this._scissor===null&&(this._scissor=new hi),r.isVector4?this._scissor.copy(r):this._scissor.set(r,c,f,p),this._scissor.multiplyScalar(this._pixelRatio*this._resolutionScale).floor())}setViewport(r,c,f,p){r===null?this._viewport=null:(this._viewport===null&&(this._viewport=new hi),r.isVector4?this._viewport.copy(r):this._viewport.set(r,c,f,p),this._viewport.multiplyScalar(this._pixelRatio*this._resolutionScale).floor())}setPixelRatio(r){this._pixelRatio=r,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}Q_.COLOR="color";Q_.DEPTH="depth";const i6e=Xt(([v,r])=>v.mul(r).clamp()).setLayout({name:"linearToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),n6e=Xt(([v,r])=>(v=v.mul(r),v.div(v.add(1)).clamp())).setLayout({name:"reinhardToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),r6e=Xt(([v,r])=>{v=v.mul(r),v=v.sub(.004).max(0);const c=v.mul(v.mul(6.2).add(.5)),f=v.mul(v.mul(6.2).add(1.7)).add(.06);return c.div(f).pow(2.2)}).setLayout({name:"cineonToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),s6e=Xt(([v])=>{const r=v.mul(v.add(.0245786)).sub(90537e-9),c=v.mul(v.add(.432951).mul(.983729)).add(.238081);return r.div(c)}),o6e=Xt(([v,r])=>{const c=ss(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),f=ss(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return v=v.mul(r).div(.6),v=c.mul(v),v=s6e(v),v=f.mul(v),v.clamp()}).setLayout({name:"acesFilmicToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),a6e=ss(Gt(1.6605,-.1246,-.0182),Gt(-.5876,1.1329,-.1006),Gt(-.0728,-.0083,1.1187)),c6e=ss(Gt(.6274,.0691,.0164),Gt(.3293,.9195,.088),Gt(.0433,.0113,.8956)),l6e=Xt(([v])=>{const r=Gt(v).toVar(),c=Gt(r.mul(r)).toVar(),f=Gt(c.mul(c)).toVar();return Lt(15.5).mul(f.mul(c)).sub(Oi(40.14,f.mul(r))).add(Oi(31.96,f).sub(Oi(6.868,c.mul(r))).add(Oi(.4298,c).add(Oi(.1191,r).sub(.00232))))}),u6e=Xt(([v,r])=>{const c=Gt(v).toVar(),f=ss(Gt(.856627153315983,.137318972929847,.11189821299995),Gt(.0951212405381588,.761241990602591,.0767994186031903),Gt(.0482516061458583,.101439036467562,.811302368396859)),p=ss(Gt(1.1271005818144368,-.1413297634984383,-.14132976349843826),Gt(-.11060664309660323,1.157823702216272,-.11060664309660294),Gt(-.016493938717834573,-.016493938717834257,1.2519364065950405)),y=Lt(-12.47393),T=Lt(4.026069);return c.mulAssign(r),c.assign(c6e.mul(c)),c.assign(f.mul(c)),c.assign(lr(c,1e-10)),c.assign(D1(c)),c.assign(c.sub(y).div(T.sub(y))),c.assign(k1(c,0,1)),c.assign(l6e(c)),c.assign(p.mul(c)),c.assign(W_(lr(Gt(0),c),Gt(2.2))),c.assign(a6e.mul(c)),c.assign(k1(c,0,1)),c}).setLayout({name:"agxToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),f6e=Xt(([v,r])=>{const c=Lt(.76),f=Lt(.15);v=v.mul(r);const p=Wl(v.r,Wl(v.g,v.b)),y=Dr(p.lessThan(.08),p.sub(Oi(6.25,p.mul(p))),.04);v.subAssign(y);const T=lr(v.r,lr(v.g,v.b));f2(T.lessThan(c),()=>v);const R=ts(1,c),b=ts(1,R.mul(R).div(T.add(R.sub(c))));v.mulAssign(b.div(T));const P=ts(1,Ko(1,f.mul(T.sub(b)).add(1)));return l2(v,Gt(b),P)}).setLayout({name:"neutralToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]});class Er extends Q0{static get type(){return"CodeNode"}constructor(r="",c=[],f=""){super("code"),this.isCodeNode=!0,this.global=!0,this.code=r,this.includes=c,this.language=f}setIncludes(r){return this.includes=r,this}getIncludes(){return this.includes}generate(r){const c=this.getIncludes(r);for(const p of c)p.build(r);const f=r.getCodeFromNode(this,this.getNodeType(r));return f.code=this.code,f.code}serialize(r){super.serialize(r),r.code=this.code,r.language=this.language}deserialize(r){super.deserialize(r),this.code=r.code,this.language=r.language}}class p6e extends Er{static get type(){return"FunctionNode"}constructor(r="",c=[],f=""){super(r,c,f)}getNodeType(r){return this.getNodeFunction(r).type}getMemberType(r,c){const f=this.getNodeType(r);return r.getStructTypeNode(f).getMemberType(r,c)}getInputs(r){return this.getNodeFunction(r).inputs}getNodeFunction(r){const c=r.getDataFromNode(this);let f=c.nodeFunction;return f===void 0&&(f=r.parser.parseFunction(this.code),c.nodeFunction=f),f}generate(r,c){super.generate(r);const f=this.getNodeFunction(r),p=f.name,y=f.type,T=r.getCodeFromNode(this,y);p!==""&&(T.name=p);const R=r.getPropertyName(T),b=this.getNodeFunction(r).getCode(R);return T.code=b+`
`,c==="property"?R:r.format(`${R}()`,y,c)}}function nv(v){let r;const c=v.context.getViewZ;return c!==void 0&&(r=c(this)),(r||U2.z).negate()}const _6e=Xt(([v,r],c)=>{const f=nv(c);return F1(v,r,f)}),h6e=Xt(([v],r)=>{const c=nv(r);return v.mul(v,c,c).negate().exp().oneMinus()}),ag=Xt(([v,r])=>Li(r.toFloat().mix(Qu.rgb,v.toVec3()),Qu.a));class d6e extends Q0{constructor(r){super(),this.scope=r}generate(r){const{scope:c}=this,{renderer:f}=r;f.backend.isWebGLBackend===!0?r.addFlowCode(`	// ${c}Barrier 
`):r.addLineFlowCode(`${c}Barrier()`,this)}}xn(d6e);class t1 extends Q0{static get type(){return"AtomicFunctionNode"}constructor(r,c,f){super("uint"),this.method=r,this.pointerNode=c,this.valueNode=f,this.parents=!0}getInputType(r){return this.pointerNode.getNodeType(r)}getNodeType(r){return this.getInputType(r)}generate(r){const c=r.getNodeProperties(this),f=c.parents,p=this.method,y=this.getNodeType(r),T=this.getInputType(r),R=this.pointerNode,b=this.valueNode,P=[];P.push(`&${R.build(r,T)}`),b!==null&&P.push(b.build(r,T));const G=`${r.getMethod(p,y)}( ${P.join(", ")} )`;if(f?f.length===1&&f[0].isStackNode===!0:!1)r.addLineFlowCode(G,this);else return c.constNode===void 0&&(c.constNode=jl(G,y).toConst()),c.constNode.build(r)}}t1.ATOMIC_LOAD="atomicLoad";t1.ATOMIC_STORE="atomicStore";t1.ATOMIC_ADD="atomicAdd";t1.ATOMIC_SUB="atomicSub";t1.ATOMIC_MAX="atomicMax";t1.ATOMIC_MIN="atomicMin";t1.ATOMIC_AND="atomicAnd";t1.ATOMIC_OR="atomicOr";t1.ATOMIC_XOR="atomicXor";xn(t1);class dn extends ur{static get type(){return"SubgroupFunctionNode"}constructor(r,c=null,f=null){super(),this.method=r,this.aNode=c,this.bNode=f}getInputType(r){const c=this.aNode?this.aNode.getNodeType(r):null,f=this.bNode?this.bNode.getNodeType(r):null,p=r.isMatrix(c)?0:r.getTypeLength(c),y=r.isMatrix(f)?0:r.getTypeLength(f);return p>y?c:f}getNodeType(r){const c=this.method;return c===dn.SUBGROUP_ELECT?"bool":c===dn.SUBGROUP_BALLOT?"uvec4":this.getInputType(r)}generate(r,c){const f=this.method,p=this.getNodeType(r),y=this.getInputType(r),T=this.aNode,R=this.bNode,b=[];if(f===dn.SUBGROUP_BROADCAST||f===dn.SUBGROUP_SHUFFLE||f===dn.QUAD_BROADCAST){const G=R.getNodeType(r);b.push(T.build(r,p),R.build(r,G==="float"?"int":p))}else f===dn.SUBGROUP_SHUFFLE_XOR||f===dn.SUBGROUP_SHUFFLE_DOWN||f===dn.SUBGROUP_SHUFFLE_UP?b.push(T.build(r,p),R.build(r,"uint")):(T!==null&&b.push(T.build(r,y)),R!==null&&b.push(R.build(r,y)));const P=b.length===0?"()":`( ${b.join(", ")} )`;return r.format(`${r.getMethod(f,p)}${P}`,p,c)}serialize(r){super.serialize(r),r.method=this.method}deserialize(r){super.deserialize(r),this.method=r.method}}dn.SUBGROUP_ELECT="subgroupElect";dn.SUBGROUP_BALLOT="subgroupBallot";dn.SUBGROUP_ADD="subgroupAdd";dn.SUBGROUP_INCLUSIVE_ADD="subgroupInclusiveAdd";dn.SUBGROUP_EXCLUSIVE_AND="subgroupExclusiveAdd";dn.SUBGROUP_MUL="subgroupMul";dn.SUBGROUP_INCLUSIVE_MUL="subgroupInclusiveMul";dn.SUBGROUP_EXCLUSIVE_MUL="subgroupExclusiveMul";dn.SUBGROUP_AND="subgroupAnd";dn.SUBGROUP_OR="subgroupOr";dn.SUBGROUP_XOR="subgroupXor";dn.SUBGROUP_MIN="subgroupMin";dn.SUBGROUP_MAX="subgroupMax";dn.SUBGROUP_ALL="subgroupAll";dn.SUBGROUP_ANY="subgroupAny";dn.SUBGROUP_BROADCAST_FIRST="subgroupBroadcastFirst";dn.QUAD_SWAP_X="quadSwapX";dn.QUAD_SWAP_Y="quadSwapY";dn.QUAD_SWAP_DIAGONAL="quadSwapDiagonal";dn.SUBGROUP_BROADCAST="subgroupBroadcast";dn.SUBGROUP_SHUFFLE="subgroupShuffle";dn.SUBGROUP_SHUFFLE_XOR="subgroupShuffleXor";dn.SUBGROUP_SHUFFLE_UP="subgroupShuffleUp";dn.SUBGROUP_SHUFFLE_DOWN="subgroupShuffleDown";dn.QUAD_BROADCAST="quadBroadcast";let Yp;function J_(v){Yp=Yp||new WeakMap;let r=Yp.get(v);return r===void 0&&Yp.set(v,r={}),r}function B8(v){const r=J_(v);return r.shadowMatrix||(r.shadowMatrix=vi("mat4").setGroup(xi).onRenderUpdate(c=>((v.castShadow!==!0||c.renderer.shadowMap.enabled===!1)&&(v.shadow.camera.coordinateSystem!==c.camera.coordinateSystem&&(v.shadow.camera.coordinateSystem=c.camera.coordinateSystem,v.shadow.camera.updateProjectionMatrix()),v.shadow.updateMatrices(v)),v.shadow.matrix)))}function m6e(v,r=ql){const c=B8(v).mul(r);return c.xyz.div(c.w)}function rv(v){const r=J_(v);return r.position||(r.position=vi(new nt).setGroup(xi).onRenderUpdate((c,f)=>f.value.setFromMatrixPosition(v.matrixWorld)))}function g6e(v){const r=J_(v);return r.targetPosition||(r.targetPosition=vi(new nt).setGroup(xi).onRenderUpdate((c,f)=>f.value.setFromMatrixPosition(v.target.matrixWorld)))}function sv(v){const r=J_(v);return r.viewPosition||(r.viewPosition=vi(new nt).setGroup(xi).onRenderUpdate(({camera:c},f)=>{f.value=f.value||new nt,f.value.setFromMatrixPosition(v.matrixWorld),f.value.applyMatrix4(c.matrixWorldInverse)}))}const ov=v=>U1.transformDirection(rv(v).sub(g6e(v))),x6e=v=>v.sort((r,c)=>r.id-c.id),y6e=(v,r)=>{for(const c of r)if(c.isAnalyticLightNode&&c.light.id===v)return c;return null},W4=new WeakMap,ku=[];class av extends Q0{static get type(){return"LightsNode"}constructor(){super("vec3"),this.totalDiffuseNode=ua("vec3","totalDiffuse"),this.totalSpecularNode=ua("vec3","totalSpecular"),this.outgoingLightNode=ua("vec3","outgoingLight"),this._lights=[],this._lightNodes=null,this._lightNodesHash=null,this.global=!0}customCacheKey(){const r=this._lights;for(let f=0;f<r.length;f++){const p=r[f];if(ku.push(p.id),ku.push(p.castShadow?1:0),p.isSpotLight===!0){const y=p.map!==null?p.map.id:-1,T=p.colorNode?p.colorNode.getCacheKey():-1;ku.push(y,T)}}const c=Uf(ku);return ku.length=0,c}getHash(r){if(this._lightNodesHash===null){this._lightNodes===null&&this.setupLightsNode(r);const c=[];for(const f of this._lightNodes)c.push(f.getHash());this._lightNodesHash="lights-"+c.join(",")}return this._lightNodesHash}analyze(r){const c=r.getNodeProperties(this);for(const f of c.nodes)f.build(r);c.outputNode.build(r)}setupLightsNode(r){const c=[],f=this._lightNodes,p=x6e(this._lights),y=r.renderer.library;for(const T of p)if(T.isNode)c.push(r0(T));else{let R=null;if(f!==null&&(R=y6e(T.id,f)),R===null){const b=y.getLightNodeClass(T.constructor);if(b===null){jt(`LightsNode.setupNodeLights: Light node not found for ${T.constructor.name}`);continue}let P=null;W4.has(T)?P=W4.get(T):(P=r0(new b(T)),W4.set(T,P)),c.push(P)}}this._lightNodes=c}setupDirectLight(r,c,f){const{lightingModel:p,reflectedLight:y}=r.context;p.direct({...f,lightNode:c,reflectedLight:y},r)}setupDirectRectAreaLight(r,c,f){const{lightingModel:p,reflectedLight:y}=r.context;p.directRectArea({...f,lightNode:c,reflectedLight:y},r)}setupLights(r,c){for(const f of c)f.build(r)}getLightNodes(r){return this._lightNodes===null&&this.setupLightsNode(r),this._lightNodes}setup(r){const c=r.lightsNode;r.lightsNode=this;let f=this.outgoingLightNode;const p=r.context,y=p.lightingModel,T=r.getNodeProperties(this);if(y){const{totalDiffuseNode:R,totalSpecularNode:b}=this;p.outgoingLight=f;const P=r.addStack();T.nodes=P.nodes,y.start(r);const{backdrop:G,backdropAlpha:j}=p,{directDiffuse:K,directSpecular:Q,indirectDiffuse:ie,indirectSpecular:ce}=p.reflectedLight;let ue=K.add(ie);G!==null&&(j!==null?ue=Gt(j.mix(ue,G)):ue=Gt(G)),R.assign(ue),b.assign(Q.add(ce)),f.assign(R.add(b)),y.finish(r),f=f.bypass(r.removeStack())}else T.nodes=[];return r.lightsNode=c,f}setLights(r){return this._lights=r,this._lightNodes=null,this._lightNodesHash=null,this}getLights(){return this._lights}get hasLights(){return this._lights.length>0}}class v6e extends Q0{static get type(){return"ShadowBaseNode"}constructor(r){super(),this.light=r,this.updateBeforeType=Fi.RENDER,this.isShadowBaseNode=!0}setupShadowPosition({context:r,material:c}){cv.assign(c.receivedShadowPositionNode||r.shadowPositionWorld||ql)}}const cv=ua("vec3","shadowPositionWorld");function S6e(v,r={}){return r.toneMapping=v.toneMapping,r.toneMappingExposure=v.toneMappingExposure,r.outputColorSpace=v.outputColorSpace,r.renderTarget=v.getRenderTarget(),r.activeCubeFace=v.getActiveCubeFace(),r.activeMipmapLevel=v.getActiveMipmapLevel(),r.renderObjectFunction=v.getRenderObjectFunction(),r.pixelRatio=v.getPixelRatio(),r.mrt=v.getMRT(),r.clearColor=v.getClearColor(r.clearColor||new ri),r.clearAlpha=v.getClearAlpha(),r.autoClear=v.autoClear,r.scissorTest=v.getScissorTest(),r}function T6e(v,r){return r=S6e(v,r),v.setMRT(null),v.setRenderObjectFunction(null),v.setClearColor(0,1),v.autoClear=!0,r}function C6e(v,r){v.toneMapping=r.toneMapping,v.toneMappingExposure=r.toneMappingExposure,v.outputColorSpace=r.outputColorSpace,v.setRenderTarget(r.renderTarget,r.activeCubeFace,r.activeMipmapLevel),v.setRenderObjectFunction(r.renderObjectFunction),v.setPixelRatio(r.pixelRatio),v.setMRT(r.mrt),v.setClearColor(r.clearColor,r.clearAlpha),v.autoClear=r.autoClear,v.setScissorTest(r.scissorTest)}function w6e(v,r={}){return r.background=v.background,r.backgroundNode=v.backgroundNode,r.overrideMaterial=v.overrideMaterial,r}function M6e(v,r){return r=w6e(v,r),v.background=null,v.backgroundNode=null,v.overrideMaterial=null,r}function R6e(v,r){v.background=r.background,v.backgroundNode=r.backgroundNode,v.overrideMaterial=r.overrideMaterial}function A6e(v,r,c){return c=T6e(v,c),c=M6e(r,c),c}function E6e(v,r,c){C6e(v,c),R6e(r,c)}const cg=new WeakMap,b6e=Xt(({depthTexture:v,shadowCoord:r,depthLayer:c})=>{let f=rn(v,r.xy).setName("t_basic");return v.isArrayTexture&&(f=f.depth(c)),f.compare(r.z)}),N6e=Xt(({depthTexture:v,shadowCoord:r,shadow:c,depthLayer:f})=>{const p=(ue,se)=>{let Ne=rn(v,ue);return v.isArrayTexture&&(Ne=Ne.depth(f)),Ne.compare(se)},y=zn("mapSize","vec2",c).setGroup(xi),T=zn("radius","float",c).setGroup(xi),R=_0(1).div(y),b=R.x.negate().mul(T),P=R.y.negate().mul(T),G=R.x.mul(T),j=R.y.mul(T),K=b.div(2),Q=P.div(2),ie=G.div(2),ce=j.div(2);return Ms(p(r.xy.add(_0(b,P)),r.z),p(r.xy.add(_0(0,P)),r.z),p(r.xy.add(_0(G,P)),r.z),p(r.xy.add(_0(K,Q)),r.z),p(r.xy.add(_0(0,Q)),r.z),p(r.xy.add(_0(ie,Q)),r.z),p(r.xy.add(_0(b,0)),r.z),p(r.xy.add(_0(K,0)),r.z),p(r.xy,r.z),p(r.xy.add(_0(ie,0)),r.z),p(r.xy.add(_0(G,0)),r.z),p(r.xy.add(_0(K,ce)),r.z),p(r.xy.add(_0(0,ce)),r.z),p(r.xy.add(_0(ie,ce)),r.z),p(r.xy.add(_0(b,j)),r.z),p(r.xy.add(_0(0,j)),r.z),p(r.xy.add(_0(G,j)),r.z)).mul(1/17)}),D6e=Xt(({depthTexture:v,shadowCoord:r,shadow:c,depthLayer:f})=>{const p=(j,K)=>{let Q=rn(v,j);return v.isArrayTexture&&(Q=Q.depth(f)),Q.compare(K)},y=zn("mapSize","vec2",c).setGroup(xi),T=_0(1).div(y),R=T.x,b=T.y,P=r.xy,G=Zo(P.mul(y).add(.5));return P.subAssign(G.mul(T)),Ms(p(P,r.z),p(P.add(_0(R,0)),r.z),p(P.add(_0(0,b)),r.z),p(P.add(T),r.z),l2(p(P.add(_0(R.negate(),0)),r.z),p(P.add(_0(R.mul(2),0)),r.z),G.x),l2(p(P.add(_0(R.negate(),b)),r.z),p(P.add(_0(R.mul(2),b)),r.z),G.x),l2(p(P.add(_0(0,b.negate())),r.z),p(P.add(_0(0,b.mul(2))),r.z),G.y),l2(p(P.add(_0(R,b.negate())),r.z),p(P.add(_0(R,b.mul(2))),r.z),G.y),l2(l2(p(P.add(_0(R.negate(),b.negate())),r.z),p(P.add(_0(R.mul(2),b.negate())),r.z),G.x),l2(p(P.add(_0(R.negate(),b.mul(2))),r.z),p(P.add(_0(R.mul(2),b.mul(2))),r.z),G.x),G.y)).mul(1/9)}),I6e=Xt(({depthTexture:v,shadowCoord:r,depthLayer:c})=>{const f=Lt(1).toVar();let p=rn(v).sample(r.xy);v.isArrayTexture&&(p=p.depth(c)),p=p.rg;const y=Kx(r.z,p.x);return f2(y.notEqual(Lt(1)),()=>{const T=r.z.sub(p.x),R=lr(0,p.y.mul(p.y));let b=R.div(R.add(T.mul(T)));b=k1(ts(b,.3).div(.95-.3)),f.assign(k1(lr(y,b)))}),f}),P6e=Xt(([v,r,c])=>{let f=ql.sub(v).length();return f=f.sub(r).div(c.sub(r)),f=f.saturate(),f}),L6e=v=>{const r=v.shadow.camera,c=zn("near","float",r).setGroup(xi),f=zn("far","float",r).setGroup(xi),p=the(v);return P6e(p,c,f)},k6e=v=>{let r=cg.get(v);if(r===void 0){const c=v.isPointLight?L6e(v):null;r=new V2,r.colorNode=Li(0,0,0,1),r.depthNode=c,r.isShadowPassMaterial=!0,r.name="ShadowMaterial",r.fog=!1,cg.set(v,r)}return r},lg=new So,Xc=[],F6e=(v,r,c,f)=>{Xc[0]=v,Xc[1]=r;let p=lg.get(Xc);return(p===void 0||p.shadowType!==c||p.useVelocity!==f)&&(p=(y,T,R,b,P,G,...j)=>{(y.castShadow===!0||y.receiveShadow&&c===Ps)&&(f&&(Ax(y).useVelocity=!0),y.onBeforeShadow(v,y,R,r.camera,b,T.overrideMaterial,G),v.renderObject(y,T,R,b,P,G,...j),y.onAfterShadow(v,y,R,r.camera,b,T.overrideMaterial,G))},p.shadowType=c,p.useVelocity=f,lg.set(Xc,p)),Xc[0]=null,Xc[1]=null,p},B6e=Xt(({samples:v,radius:r,size:c,shadowPass:f,depthLayer:p})=>{const y=Lt(0).toVar("meanVertical"),T=Lt(0).toVar("squareMeanVertical"),R=v.lessThanEqual(Lt(1)).select(Lt(0),Lt(2).div(v.sub(1))),b=v.lessThanEqual(Lt(1)).select(Lt(0),Lt(-1));Ks({start:n2(0),end:n2(v),type:"int",condition:"<"},({i:G})=>{const j=b.add(Lt(G).mul(R));let K=f.sample(Ms(j_.xy,_0(0,j).mul(r)).div(c));f.value.isArrayTexture&&(K=K.depth(p)),K=K.x,y.addAssign(K),T.addAssign(K.mul(K))}),y.divAssign(v),T.divAssign(v);const P=Xa(T.sub(y.mul(y)));return _0(y,P)}),U6e=Xt(({samples:v,radius:r,size:c,shadowPass:f,depthLayer:p})=>{const y=Lt(0).toVar("meanHorizontal"),T=Lt(0).toVar("squareMeanHorizontal"),R=v.lessThanEqual(Lt(1)).select(Lt(0),Lt(2).div(v.sub(1))),b=v.lessThanEqual(Lt(1)).select(Lt(0),Lt(-1));Ks({start:n2(0),end:n2(v),type:"int",condition:"<"},({i:G})=>{const j=b.add(Lt(G).mul(R));let K=f.sample(Ms(j_.xy,_0(j,0).mul(r)).div(c));f.value.isArrayTexture&&(K=K.depth(p)),y.addAssign(K.x),T.addAssign(Ms(K.y.mul(K.y),K.x.mul(K.x)))}),y.divAssign(v),T.divAssign(v);const P=Xa(T.sub(y.mul(y)));return _0(y,P)}),O6e=[b6e,N6e,D6e,I6e];let H4;const Kp=new F8;class lv extends v6e{static get type(){return"ShadowNode"}constructor(r,c=null){super(r),this.shadow=c||r.shadow,this.shadowMap=null,this.vsmShadowMapVertical=null,this.vsmShadowMapHorizontal=null,this.vsmMaterialVertical=null,this.vsmMaterialHorizontal=null,this._node=null,this._currentShadowType=null,this._cameraFrameId=new WeakMap,this.isShadowNode=!0,this.depthLayer=0}setupShadowFilter(r,{filterFn:c,depthTexture:f,shadowCoord:p,shadow:y,depthLayer:T}){const R=p.x.greaterThanEqual(0).and(p.x.lessThanEqual(1)).and(p.y.greaterThanEqual(0)).and(p.y.lessThanEqual(1)).and(p.z.lessThanEqual(1)),b=c({depthTexture:f,shadowCoord:p,shadow:y,depthLayer:T});return R.select(b,Lt(1))}setupShadowCoord(r,c){const{shadow:f}=this,{renderer:p}=r,y=zn("bias","float",f).setGroup(xi);let T=c,R;if(f.camera.isOrthographicCamera||p.logarithmicDepthBuffer!==!0)T=T.xyz.div(T.w),R=T.z,p.coordinateSystem===pa&&(R=R.mul(2).sub(1));else{const b=T.w;T=T.xy.div(b);const P=zn("near","float",f.camera).setGroup(xi),G=zn("far","float",f.camera).setGroup(xi);R=ky(b.negate(),P,G)}return T=Gt(T.x,T.y.oneMinus(),R.add(y)),T}getShadowFilterFn(r){return O6e[r]}setupRenderTarget(r,c){const f=new Qs(r.mapSize.width,r.mapSize.height);f.name="ShadowDepthTexture",f.compareFunction=P_;const p=c.createRenderTarget(r.mapSize.width,r.mapSize.height);return p.texture.name="ShadowMap",p.texture.type=r.mapType,p.depthTexture=f,{shadowMap:p,depthTexture:f}}setupShadow(r){const{renderer:c,camera:f}=r,{light:p,shadow:y}=this,T=c.shadowMap.type,{depthTexture:R,shadowMap:b}=this.setupRenderTarget(y,r);if(y.camera.coordinateSystem=f.coordinateSystem,y.camera.updateProjectionMatrix(),T===Ps&&y.isPointLightShadow!==!0){R.compareFunction=null,b.depth>1?(b._vsmShadowMapVertical||(b._vsmShadowMapVertical=r.createRenderTarget(y.mapSize.width,y.mapSize.height,{format:yo,type:Q2,depth:b.depth,depthBuffer:!1}),b._vsmShadowMapVertical.texture.name="VSMVertical"),this.vsmShadowMapVertical=b._vsmShadowMapVertical,b._vsmShadowMapHorizontal||(b._vsmShadowMapHorizontal=r.createRenderTarget(y.mapSize.width,y.mapSize.height,{format:yo,type:Q2,depth:b.depth,depthBuffer:!1}),b._vsmShadowMapHorizontal.texture.name="VSMHorizontal"),this.vsmShadowMapHorizontal=b._vsmShadowMapHorizontal):(this.vsmShadowMapVertical=r.createRenderTarget(y.mapSize.width,y.mapSize.height,{format:yo,type:Q2,depthBuffer:!1}),this.vsmShadowMapHorizontal=r.createRenderTarget(y.mapSize.width,y.mapSize.height,{format:yo,type:Q2,depthBuffer:!1}));let De=rn(R);R.isArrayTexture&&(De=De.depth(this.depthLayer));let Oe=rn(this.vsmShadowMapVertical.texture);R.isArrayTexture&&(Oe=Oe.depth(this.depthLayer));const je=zn("blurSamples","float",y).setGroup(xi),Be=zn("radius","float",y).setGroup(xi),We=zn("mapSize","vec2",y).setGroup(xi);let $e=this.vsmMaterialVertical||(this.vsmMaterialVertical=new V2);$e.fragmentNode=B6e({samples:je,radius:Be,size:We,shadowPass:De,depthLayer:this.depthLayer}).context(r.getSharedContext()),$e.name="VSMVertical",$e=this.vsmMaterialHorizontal||(this.vsmMaterialHorizontal=new V2),$e.fragmentNode=U6e({samples:je,radius:Be,size:We,shadowPass:Oe,depthLayer:this.depthLayer}).context(r.getSharedContext()),$e.name="VSMHorizontal"}const P=zn("intensity","float",y).setGroup(xi),G=zn("normalBias","float",y).setGroup(xi),j=B8(p).mul(cv.add(au.mul(G))),K=this.setupShadowCoord(r,j),Q=y.filterNode||this.getShadowFilterFn(c.shadowMap.type)||null;if(Q===null)throw new Error("THREE.WebGPURenderer: Shadow map type not supported yet.");const ie=T===Ps&&y.isPointLightShadow!==!0?this.vsmShadowMapHorizontal.texture:R,ce=this.setupShadowFilter(r,{filterFn:Q,shadowTexture:b.texture,depthTexture:ie,shadowCoord:K,shadow:y,depthLayer:this.depthLayer});let ue=rn(b.texture,K);R.isArrayTexture&&(ue=ue.depth(this.depthLayer));const se=l2(1,ce.rgb.mix(ue,1),P.mul(ue.a)).toVar();this.shadowMap=b,this.shadow.map=b;const Ne=`${this.light.type} Shadow [ ${this.light.name||"ID: "+this.light.id} ]`;return se.toInspector(`${Ne} / Color`,()=>rn(this.shadowMap.texture)).toInspector(`${Ne} / Depth`,()=>$s(this.shadowMap.depthTexture,su().mul(Qa(rn(this.shadowMap.depthTexture)))).x.oneMinus())}setup(r){if(r.renderer.shadowMap.enabled!==!1)return Xt(()=>{const c=r.renderer.shadowMap.type;this._currentShadowType!==c&&(this._reset(),this._node=null);let f=this._node;return this.setupShadowPosition(r),f===null&&(this._node=f=this.setupShadow(r),this._currentShadowType=c),r.material.shadowNode&&jt('NodeMaterial: ".shadowNode" is deprecated. Use ".castShadowNode" instead.'),r.material.receivedShadowNode&&(f=r.material.receivedShadowNode(f)),f})()}renderShadow(r){const{shadow:c,shadowMap:f,light:p}=this,{renderer:y,scene:T}=r;c.updateMatrices(p),f.setSize(c.mapSize.width,c.mapSize.height,f.depth);const R=T.name;T.name=`Shadow Map [ ${p.name||"ID: "+p.id} ]`,y.render(T,c.camera),T.name=R}updateShadow(r){const{shadowMap:c,light:f,shadow:p}=this,{renderer:y,scene:T,camera:R}=r,b=y.shadowMap.type,P=c.depthTexture.version;this._depthVersionCached=P;const G=p.camera.layers.mask;(p.camera.layers.mask&4294967294)===0&&(p.camera.layers.mask=R.layers.mask);const j=y.getRenderObjectFunction(),K=y.getMRT(),Q=K?K.has("velocity"):!1;H4=A6e(y,T,H4),T.overrideMaterial=k6e(f),y.setRenderObjectFunction(F6e(y,p,b,Q)),y.setClearColor(0,0),y.setRenderTarget(c),this.renderShadow(r),y.setRenderObjectFunction(j),b===Ps&&p.isPointLightShadow!==!0&&this.vsmPass(y),p.camera.layers.mask=G,E6e(y,T,H4)}vsmPass(r){const{shadow:c}=this,f=this.shadowMap.depth;this.vsmShadowMapVertical.setSize(c.mapSize.width,c.mapSize.height,f),this.vsmShadowMapHorizontal.setSize(c.mapSize.width,c.mapSize.height,f),r.setRenderTarget(this.vsmShadowMapVertical),Kp.material=this.vsmMaterialVertical,Kp.render(r),r.setRenderTarget(this.vsmShadowMapHorizontal),Kp.material=this.vsmMaterialHorizontal,Kp.render(r)}dispose(){this._reset(),super.dispose()}_reset(){this._currentShadowType=null,this.shadowMap&&(this.shadowMap.dispose(),this.shadowMap=null),this.vsmShadowMapVertical!==null&&(this.vsmShadowMapVertical.dispose(),this.vsmShadowMapVertical=null,this.vsmMaterialVertical.dispose(),this.vsmMaterialVertical=null),this.vsmShadowMapHorizontal!==null&&(this.vsmShadowMapHorizontal.dispose(),this.vsmShadowMapHorizontal=null,this.vsmMaterialHorizontal.dispose(),this.vsmMaterialHorizontal=null)}updateBefore(r){const{shadow:c}=this;let f=c.needsUpdate||c.autoUpdate;f&&(this._cameraFrameId[r.camera]===r.frameId&&(f=!1),this._cameraFrameId[r.camera]=r.frameId),f&&(this.updateShadow(r),this.shadowMap.depthTexture.version===this._depthVersionCached&&(c.needsUpdate=!1))}}const G6e=(v,r)=>r0(new lv(v,r)),V6e=new ri,zo=Xt(([v,r])=>{const c=v.toVar(),f=Ls(c),p=Ko(1,lr(f.x,lr(f.y,f.z)));f.mulAssign(p),c.mulAssign(p.mul(r.mul(2).oneMinus()));const y=_0(c.xy).toVar(),R=r.mul(1.5).oneMinus();return f2(f.z.greaterThanEqual(R),()=>{f2(c.z.greaterThan(0),()=>{y.x.assign(ts(4,c.x))})}).ElseIf(f.x.greaterThanEqual(R),()=>{const b=M_(c.x);y.x.assign(c.z.mul(b).add(b.mul(2)))}).ElseIf(f.y.greaterThanEqual(R),()=>{const b=M_(c.y);y.x.assign(c.x.add(b.mul(2)).add(2)),y.y.assign(c.z.mul(b).sub(2))}),_0(.125,.25).mul(y).add(_0(.375,.75)).flipY()}).setLayout({name:"cubeToUV",type:"vec2",inputs:[{name:"pos",type:"vec3"},{name:"texelSizeY",type:"float"}]}),z6e=Xt(({depthTexture:v,bd3D:r,dp:c,texelSize:f})=>rn(v,zo(r,f.y)).compare(c)),W6e=Xt(({depthTexture:v,bd3D:r,dp:c,texelSize:f,shadow:p})=>{const y=zn("radius","float",p).setGroup(xi),T=_0(-1,1).mul(y).mul(f.y);return rn(v,zo(r.add(T.xyy),f.y)).compare(c).add(rn(v,zo(r.add(T.yyy),f.y)).compare(c)).add(rn(v,zo(r.add(T.xyx),f.y)).compare(c)).add(rn(v,zo(r.add(T.yyx),f.y)).compare(c)).add(rn(v,zo(r,f.y)).compare(c)).add(rn(v,zo(r.add(T.xxy),f.y)).compare(c)).add(rn(v,zo(r.add(T.yxy),f.y)).compare(c)).add(rn(v,zo(r.add(T.xxx),f.y)).compare(c)).add(rn(v,zo(r.add(T.yxx),f.y)).compare(c)).mul(1/9)}),H6e=Xt(({filterFn:v,depthTexture:r,shadowCoord:c,shadow:f})=>{const p=c.xyz.toVar(),y=p.length(),T=vi("float").setGroup(xi).onRenderUpdate(()=>f.camera.near),R=vi("float").setGroup(xi).onRenderUpdate(()=>f.camera.far),b=zn("bias","float",f).setGroup(xi),P=vi(f.mapSize).setGroup(xi),G=Lt(1).toVar();return f2(y.sub(R).lessThanEqual(0).and(y.sub(T).greaterThanEqual(0)),()=>{const j=y.sub(T).div(R.sub(T)).toVar();j.addAssign(b);const K=p.normalize(),Q=_0(1).div(P.mul(_0(4,2)));G.assign(v({depthTexture:r,bd3D:K,dp:j,texelSize:Q,shadow:f}))}),G}),ug=new hi,$c=new O0,Fu=new O0;class j6e extends lv{static get type(){return"PointShadowNode"}constructor(r,c=null){super(r,c)}getShadowFilterFn(r){return r===Ise?z6e:W6e}setupShadowCoord(r,c){return c}setupShadowFilter(r,{filterFn:c,shadowTexture:f,depthTexture:p,shadowCoord:y,shadow:T}){return H6e({filterFn:c,shadowTexture:f,depthTexture:p,shadowCoord:y,shadow:T})}renderShadow(r){const{shadow:c,shadowMap:f,light:p}=this,{renderer:y,scene:T}=r,R=c.getFrameExtents();Fu.copy(c.mapSize),Fu.multiply(R),f.setSize(Fu.width,Fu.height),$c.copy(c.mapSize);const b=y.autoClear,P=y.getClearColor(V6e),G=y.getClearAlpha();y.autoClear=!1,y.setClearColor(c.clearColor,c.clearAlpha),y.clear();const j=c.getViewportCount();for(let K=0;K<j;K++){const Q=c.getViewport(K),ie=$c.x*Q.x,ce=Fu.y-$c.y-$c.y*Q.y;ug.set(ie,ce,$c.x*Q.z,$c.y*Q.w),f.viewport.copy(ug),c.updateMatrices(p,K);const ue=T.name;T.name=`Point Light Shadow [ ${p.name||"ID: "+p.id} ] - Face ${K+1}`,y.render(T,c.camera),T.name=ue}y.autoClear=b,y.setClearColor(P,G)}}const q6e=(v,r)=>r0(new j6e(v,r));class fc extends cu{static get type(){return"AnalyticLightNode"}constructor(r=null){super(),this.light=r,this.color=new ri,this.colorNode=r&&r.colorNode||vi(this.color).setGroup(xi),this.baseColorNode=null,this.shadowNode=null,this.shadowColorNode=null,this.isAnalyticLightNode=!0,this.updateType=Fi.FRAME}getHash(){return this.light.uuid}getLightVector(r){return sv(this.light).sub(r.context.positionView||U2)}setupDirect(){}setupDirectRectArea(){}setupShadowNode(){return G6e(this.light)}setupShadow(r){const{renderer:c}=r;if(c.shadowMap.enabled===!1)return;let f=this.shadowColorNode;if(f===null){const p=this.light.shadow.shadowNode;let y;p!==void 0?y=r0(p):y=this.setupShadowNode(),this.shadowNode=y,this.shadowColorNode=f=this.colorNode.mul(y),this.baseColorNode=this.colorNode}this.colorNode=f}setup(r){this.colorNode=this.baseColorNode||this.colorNode,this.light.castShadow?r.object.receiveShadow&&this.setupShadow(r):this.shadowNode!==null&&(this.shadowNode.dispose(),this.shadowNode=null,this.shadowColorNode=null);const c=this.setupDirect(r),f=this.setupDirectRectArea(r);c&&r.lightsNode.setupDirectLight(r,this,c),f&&r.lightsNode.setupDirectRectAreaLight(r,this,f)}update(){const{light:r}=this;this.color.copy(r.color).multiplyScalar(r.intensity)}}const uv=Xt(({lightDistance:v,cutoffDistance:r,decayExponent:c})=>{const f=v.pow(c).max(.01).reciprocal();return r.greaterThan(0).select(f.mul(v.div(r).pow4().oneMinus().clamp().pow2()),f)}),X6e=({color:v,lightVector:r,cutoffDistance:c,decayExponent:f})=>{const p=r.normalize(),y=r.length(),T=uv({lightDistance:y,cutoffDistance:c,decayExponent:f}),R=v.mul(T);return{lightDirection:p,lightColor:R}};class $6e extends fc{static get type(){return"PointLightNode"}constructor(r=null){super(r),this.cutoffDistanceNode=vi(0).setGroup(xi),this.decayExponentNode=vi(2).setGroup(xi)}update(r){const{light:c}=this;super.update(r),this.cutoffDistanceNode.value=c.distance,this.decayExponentNode.value=c.decay}setupShadowNode(){return q6e(this.light)}setupDirect(r){return X6e({color:this.colorNode,lightVector:this.getLightVector(r),cutoffDistance:this.cutoffDistanceNode,decayExponent:this.decayExponentNode})}}Xt(([v=su()],{renderer:r,material:c})=>{const f=Jx(v.mul(2).sub(1));let p;if(c.alphaToCoverage&&r.currentSamples>0){const y=Lt(f.fwidth()).toVar();p=F1(y.oneMinus(),y.add(1),f).oneMinus()}else p=Dr(f.greaterThan(1),0,1);return p});const Y6e=Xt(([v,r])=>{const c=v.x,f=v.y,p=v.z;let y=r.element(0).mul(.886227);return y=y.add(r.element(1).mul(2*.511664).mul(f)),y=y.add(r.element(2).mul(2*.511664).mul(p)),y=y.add(r.element(3).mul(2*.511664).mul(c)),y=y.add(r.element(4).mul(2*.429043).mul(c).mul(f)),y=y.add(r.element(5).mul(2*.429043).mul(f).mul(p)),y=y.add(r.element(6).mul(p.mul(p).mul(.743125).sub(.247708))),y=y.add(r.element(7).mul(2*.429043).mul(c).mul(p)),y=y.add(r.element(8).mul(.429043).mul(Oi(c,c).sub(Oi(f,f)))),y}),uo=new k8;class K6e extends da{constructor(r,c){super(),this.renderer=r,this.nodes=c}update(r,c,f){const p=this.renderer,y=this.nodes.getBackgroundNode(r)||r.background;let T=!1;if(y===null)p._clearColor.getRGB(uo),uo.a=p._clearColor.a;else if(y.isColor===!0)y.getRGB(uo),uo.a=1,T=!0;else if(y.isNode===!0){const P=this.get(r),G=y;uo.copy(p._clearColor);let j=P.backgroundMesh;if(j===void 0){let ue=function(){y.removeEventListener("dispose",ue),j.material.dispose(),j.geometry.dispose()};var b=ue;const Q=H_(Li(G).mul(sg),{getUV:()=>Z8e.mul(ahe),getTextureLevel:()=>K8e});let ie=Dy;ie=ie.setZ(ie.w);const ce=new V2;ce.name="Background.material",ce.side=Zn,ce.depthTest=!1,ce.depthWrite=!1,ce.allowOverride=!1,ce.fog=!1,ce.lights=!1,ce.vertexNode=ie,ce.colorNode=Q,P.backgroundMeshNode=Q,P.backgroundMesh=j=new G2(new c8(1,32,32),ce),j.frustumCulled=!1,j.name="Background.mesh",j.onBeforeRender=function(se,Ne,De){this.matrixWorld.copyPosition(De.matrixWorld)},y.addEventListener("dispose",ue)}const K=G.getCacheKey();P.backgroundCacheKey!==K&&(P.backgroundMeshNode.node=Li(G).mul(sg),P.backgroundMeshNode.needsUpdate=!0,j.material.needsUpdate=!0,P.backgroundCacheKey=K),c.unshift(j,j.geometry,j.material,0,0,null,null)}else i0("Renderer: Unsupported background configuration.",y);const R=p.xr.getEnvironmentBlendMode();if(R==="additive"?uo.set(0,0,0,1):R==="alpha-blend"&&uo.set(0,0,0,0),p.autoClear===!0||T===!0){const P=f.clearColorValue;P.r=uo.r,P.g=uo.g,P.b=uo.b,P.a=uo.a,(p.backend.isWebGLBackend===!0||p.alpha===!0)&&(P.r*=P.a,P.g*=P.a,P.b*=P.a),f.depthClearValue=p._clearDepth,f.stencilClearValue=p._clearStencil,f.clearColor=p.autoClearColor===!0,f.clearDepth=p.autoClearDepth===!0,f.clearStencil=p.autoClearStencil===!0}else f.clearColor=!1,f.clearDepth=!1,f.clearStencil=!1}}let Z6e=0;class Md{constructor(r="",c=[],f=0,p=[]){this.name=r,this.bindings=c,this.index=f,this.bindingsReference=p,this.id=Z6e++}}class Q6e{constructor(r,c,f,p,y,T,R,b,P,G=[]){this.vertexShader=r,this.fragmentShader=c,this.computeShader=f,this.transforms=G,this.nodeAttributes=p,this.bindings=y,this.updateNodes=T,this.updateBeforeNodes=R,this.updateAfterNodes=b,this.observer=P,this.usedTimes=0}createBindings(){const r=[];for(const c of this.bindings)if(c.bindings[0].groupNode.shared!==!0){const p=new Md(c.name,[],c.index,c.bindingsReference);r.push(p);for(const y of c.bindings)p.bindings.push(y.clone())}else r.push(c);return r}}class fg{constructor(r,c,f=null){this.isNodeAttribute=!0,this.name=r,this.type=c,this.node=f}}class J6e{constructor(r,c,f){this.isNodeUniform=!0,this.name=r,this.type=c,this.node=f}get value(){return this.node.value}set value(r){this.node.value=r}get id(){return this.node.id}get groupNode(){return this.node.groupNode}}class fv{constructor(r,c,f=!1,p=null){this.isNodeVar=!0,this.name=r,this.type=c,this.readOnly=f,this.count=p}}class eme extends fv{constructor(r,c,f=null,p=null){super(r,c),this.needsInterpolation=!1,this.isNodeVarying=!0,this.interpolationType=f,this.interpolationSampling=p}}class tme{constructor(r,c,f=""){this.name=r,this.type=c,this.code=f,Object.defineProperty(this,"isNodeCode",{value:!0})}}let ime=0;class j4{constructor(r=null){this.id=ime++,this.nodesData=new WeakMap,this.parent=r}getData(r){let c=this.nodesData.get(r);return c===void 0&&this.parent!==null&&(c=this.parent.getData(r)),c}setData(r,c){this.nodesData.set(r,c)}}class nme{constructor(r,c){this.name=r,this.members=c,this.output=!1}}class ma{constructor(r,c){this.name=r,this.value=c,this.boundary=0,this.itemSize=0,this.offset=0}setValue(r){this.value=r}getValue(){return this.value}}class rme extends ma{constructor(r,c=0){super(r,c),this.isNumberUniform=!0,this.boundary=4,this.itemSize=1}}class sme extends ma{constructor(r,c=new O0){super(r,c),this.isVector2Uniform=!0,this.boundary=8,this.itemSize=2}}class ome extends ma{constructor(r,c=new nt){super(r,c),this.isVector3Uniform=!0,this.boundary=16,this.itemSize=3}}class ame extends ma{constructor(r,c=new hi){super(r,c),this.isVector4Uniform=!0,this.boundary=16,this.itemSize=4}}class cme extends ma{constructor(r,c=new ri){super(r,c),this.isColorUniform=!0,this.boundary=16,this.itemSize=3}}class lme extends ma{constructor(r,c=new B_){super(r,c),this.isMatrix2Uniform=!0,this.boundary=8,this.itemSize=4}}class ume extends ma{constructor(r,c=new Pi){super(r,c),this.isMatrix3Uniform=!0,this.boundary=48,this.itemSize=12}}class fme extends ma{constructor(r,c=new wi){super(r,c),this.isMatrix4Uniform=!0,this.boundary=64,this.itemSize=16}}class pme extends rme{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class _me extends sme{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class hme extends ome{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class dme extends ame{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class mme extends cme{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class gme extends lme{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class xme extends ume{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class yme extends fme{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}let vme=0;const pg=new WeakMap,Sme=new Map([[Int8Array,"int"],[Int16Array,"int"],[Int32Array,"int"],[Uint8Array,"uint"],[Uint16Array,"uint"],[Uint32Array,"uint"],[Float32Array,"float"]]),Zp=v=>/e/g.test(v)?String(v).replace(/\+/g,""):(v=Number(v),v+(v%1?"":".0"));class pv{constructor(r,c,f){this.object=r,this.material=r&&r.material||null,this.geometry=r&&r.geometry||null,this.renderer=c,this.parser=f,this.scene=null,this.camera=null,this.nodes=[],this.sequentialNodes=[],this.updateNodes=[],this.updateBeforeNodes=[],this.updateAfterNodes=[],this.hashNodes={},this.observer=null,this.lightsNode=null,this.environmentNode=null,this.fogNode=null,this.clippingContext=null,this.vertexShader=null,this.fragmentShader=null,this.computeShader=null,this.flowNodes={vertex:[],fragment:[],compute:[]},this.flowCode={vertex:"",fragment:"",compute:""},this.uniforms={vertex:[],fragment:[],compute:[],index:0},this.structs={vertex:[],fragment:[],compute:[],index:0},this.types={vertex:[],fragment:[],compute:[],index:0},this.bindings={vertex:{},fragment:{},compute:{}},this.bindingsIndexes={},this.bindGroups=null,this.attributes=[],this.bufferAttributes=[],this.varyings=[],this.codes={},this.vars={},this.declarations={},this.flow={code:""},this.chaining=[],this.stack=G4(),this.stacks=[],this.tab="	",this.currentFunctionNode=null,this.context={material:this.material},this.cache=new j4,this.globalCache=this.cache,this.flowsData=new WeakMap,this.shaderStage=null,this.buildStage=null,this.subBuildLayers=[],this.activeStacks=[],this.subBuildFn=null,this.fnCall=null,Object.defineProperty(this,"id",{value:vme++})}isOpaque(){const r=this.material;return r.transparent===!1&&r.blending===Fs&&r.alphaToCoverage===!1}getBindGroupsCache(){let r=pg.get(this.renderer);return r===void 0&&(r=new So,pg.set(this.renderer,r)),r}createRenderTarget(r,c,f){return new cc(r,c,f)}createCubeRenderTarget(r,c){return new Oy(r,c)}includes(r){return this.nodes.includes(r)}getOutputStructName(){}_getBindGroup(r,c){const f=this.getBindGroupsCache(),p=[];let y=!0;for(const R of c)p.push(R),y=y&&R.groupNode.shared!==!0;let T;return y?(T=f.get(p),T===void 0&&(T=new Md(r,p,this.bindingsIndexes[r].group,p),f.set(p,T))):T=new Md(r,p,this.bindingsIndexes[r].group,p),T}getBindGroupArray(r,c){const f=this.bindings[c];let p=f[r];return p===void 0&&(this.bindingsIndexes[r]===void 0&&(this.bindingsIndexes[r]={binding:0,group:Object.keys(this.bindingsIndexes).length}),f[r]=p=[]),p}getBindings(){let r=this.bindGroups;if(r===null){const c={},f=this.bindings;for(const p of l5)for(const y in f[p]){const T=f[p][y];(c[y]||(c[y]=[])).push(...T)}r=[];for(const p in c){const y=c[p],T=this._getBindGroup(p,y);r.push(T)}this.bindGroups=r}return r}sortBindingGroups(){const r=this.getBindings();r.sort((c,f)=>c.bindings[0].groupNode.order-f.bindings[0].groupNode.order);for(let c=0;c<r.length;c++){const f=r[c];this.bindingsIndexes[f.name].group=c,f.index=c}}setHashNode(r,c){this.hashNodes[c]=r}addNode(r){this.nodes.includes(r)===!1&&(this.nodes.push(r),this.setHashNode(r,r.getHash(this)))}addSequentialNode(r){this.sequentialNodes.includes(r)===!1&&this.sequentialNodes.push(r)}buildUpdateNodes(){for(const r of this.nodes)r.getUpdateType()!==Fi.NONE&&this.updateNodes.push(r);for(const r of this.sequentialNodes){const c=r.getUpdateBeforeType(),f=r.getUpdateAfterType();c!==Fi.NONE&&this.updateBeforeNodes.push(r),f!==Fi.NONE&&this.updateAfterNodes.push(r)}}get currentNode(){return this.chaining[this.chaining.length-1]}isFilteredTexture(r){return r.magFilter===s2||r.magFilter===ol||r.magFilter===E1||r.magFilter===Vr||r.minFilter===s2||r.minFilter===ol||r.minFilter===E1||r.minFilter===Vr}addChain(r){this.chaining.push(r)}removeChain(r){if(this.chaining.pop()!==r)throw new Error("NodeBuilder: Invalid node chaining!")}getMethod(r){return r}getTernary(){return null}getNodeFromHash(r){return this.hashNodes[r]}addFlow(r,c){return this.flowNodes[r].push(c),c}setContext(r){this.context=r}getContext(){return this.context}addContext(r){const c=this.getContext();return this.setContext({...this.context,...r}),c}getSharedContext(){return{...this.context},this.context}setCache(r){this.cache=r}getCache(){return this.cache}getCacheFromNode(r,c=!0){const f=this.getDataFromNode(r);return f.cache===void 0&&(f.cache=new j4(c?this.getCache():null)),f.cache}isAvailable(){return!1}getVertexIndex(){jt("Abstract function.")}getInstanceIndex(){jt("Abstract function.")}getDrawIndex(){jt("Abstract function.")}getFrontFacing(){jt("Abstract function.")}getFragCoord(){jt("Abstract function.")}isFlipY(){return!1}increaseUsage(r){const c=this.getDataFromNode(r);return c.usageCount=c.usageCount===void 0?1:c.usageCount+1,c.usageCount}generateTexture(){jt("Abstract function.")}generateTextureLod(){jt("Abstract function.")}generateArrayDeclaration(r,c){return this.getType(r)+"[ "+c+" ]"}generateArray(r,c,f=null){let p=this.generateArrayDeclaration(r,c)+"( ";for(let y=0;y<c;y++){const T=f?f[y]:null;T!==null?p+=T.build(this,r):p+=this.generateConst(r),y<c-1&&(p+=", ")}return p+=" )",p}generateStruct(r,c,f=null){const p=[];for(const y of c){const{name:T,type:R}=y;f&&f[T]&&f[T].isNode?p.push(f[T].build(this,R)):p.push(this.generateConst(R))}return r+"( "+p.join(", ")+" )"}generateConst(r,c=null){if(c===null&&(r==="float"||r==="int"||r==="uint"?c=0:r==="bool"?c=!1:r==="color"?c=new ri:r==="vec2"?c=new O0:r==="vec3"?c=new nt:r==="vec4"&&(c=new hi)),r==="float")return Zp(c);if(r==="int")return`${Math.round(c)}`;if(r==="uint")return c>=0?`${Math.round(c)}u`:"0u";if(r==="bool")return c?"true":"false";if(r==="color")return`${this.getType("vec3")}( ${Zp(c.r)}, ${Zp(c.g)}, ${Zp(c.b)} )`;const f=this.getTypeLength(r),p=this.getComponentType(r),y=T=>this.generateConst(p,T);if(f===2)return`${this.getType(r)}( ${y(c.x)}, ${y(c.y)} )`;if(f===3)return`${this.getType(r)}( ${y(c.x)}, ${y(c.y)}, ${y(c.z)} )`;if(f===4&&r!=="mat2")return`${this.getType(r)}( ${y(c.x)}, ${y(c.y)}, ${y(c.z)}, ${y(c.w)} )`;if(f>=4&&c&&(c.isMatrix2||c.isMatrix3||c.isMatrix4))return`${this.getType(r)}( ${c.elements.map(y).join(", ")} )`;if(f>4)return`${this.getType(r)}()`;throw new Error(`NodeBuilder: Type '${r}' not found in generate constant attempt.`)}getType(r){return r==="color"?"vec3":r}hasGeometryAttribute(r){return this.geometry&&this.geometry.getAttribute(r)!==void 0}getAttribute(r,c){const f=this.attributes;for(const y of f)if(y.name===r)return y;const p=new fg(r,c);return this.registerDeclaration(p),f.push(p),p}getPropertyName(r){return r.name}isVector(r){return/vec\d/.test(r)}isMatrix(r){return/mat\d/.test(r)}isReference(r){return r==="void"||r==="property"||r==="sampler"||r==="samplerComparison"||r==="texture"||r==="cubeTexture"||r==="storageTexture"||r==="depthTexture"||r==="texture3D"}needsToWorkingColorSpace(){return!1}getComponentTypeFromTexture(r){const c=r.type;if(r.isDataTexture){if(c===Tr)return"int";if(c===Kn)return"uint"}return"float"}getElementType(r){return r==="mat2"?"vec2":r==="mat3"?"vec3":r==="mat4"?"vec4":this.getComponentType(r)}getComponentType(r){if(r=this.getVectorType(r),r==="float"||r==="bool"||r==="int"||r==="uint")return r;const c=/(b|i|u|)(vec|mat)([2-4])/.exec(r);return c===null?null:c[1]==="b"?"bool":c[1]==="i"?"int":c[1]==="u"?"uint":"float"}getVectorType(r){return r==="color"?"vec3":r==="texture"||r==="cubeTexture"||r==="storageTexture"||r==="texture3D"?"vec4":r}getTypeFromLength(r,c="float"){if(r===1)return c;let f=Sfe(r);const p=c==="float"?"":c[0];return/mat2/.test(c)===!0&&(f=f.replace("vec","mat")),p+f}getTypeFromArray(r){return Sme.get(r.constructor)}isInteger(r){return/int|uint|(i|u)vec/.test(r)}getTypeFromAttribute(r){let c=r;r.isInterleavedBufferAttribute&&(c=r.data);const f=c.array,p=r.itemSize,y=r.normalized;let T;return!(r instanceof sx)&&y!==!0&&(T=this.getTypeFromArray(f)),this.getTypeFromLength(p,T)}getTypeLength(r){const c=this.getVectorType(r),f=/vec([2-4])/.exec(c);return f!==null?Number(f[1]):c==="float"||c==="bool"||c==="int"||c==="uint"?1:/mat2/.test(r)===!0?4:/mat3/.test(r)===!0?9:/mat4/.test(r)===!0?16:0}getVectorFromMatrix(r){return r.replace("mat","vec")}changeComponentType(r,c){return this.getTypeFromLength(this.getTypeLength(r),c)}getIntegerType(r){const c=this.getComponentType(r);return c==="int"||c==="uint"?r:this.changeComponentType(r,"int")}setActiveStack(r){this.activeStacks.push(r)}removeActiveStack(r){if(this.activeStacks[this.activeStacks.length-1]===r)this.activeStacks.pop();else throw new Error("NodeBuilder: Invalid active stack removal.")}getActiveStack(){return this.activeStacks[this.activeStacks.length-1]}getBaseStack(){return this.activeStacks[0]}addStack(){this.stack=G4(this.stack);const r=Dx();return this.stacks.push(r),v_(this.stack),this.stack}removeStack(){const r=this.stack;for(const c of r.nodes){const f=this.getDataFromNode(c);f.stack=r}return this.stack=r.parent,v_(this.stacks.pop()),r}getDataFromNode(r,c=this.shaderStage,f=null){f=f===null?r.isGlobal(this)?this.globalCache:this.cache:f;let p=f.getData(r);p===void 0&&(p={},f.setData(r,p)),p[c]===void 0&&(p[c]={});let y=p[c];const T=p.any?p.any.subBuilds:null,R=this.getClosestSubBuild(T);return R&&(y.subBuildsCache===void 0&&(y.subBuildsCache={}),y=y.subBuildsCache[R]||(y.subBuildsCache[R]={}),y.subBuilds=T),y}getNodeProperties(r,c="any"){const f=this.getDataFromNode(r,c);return f.properties||(f.properties={outputNode:null})}getBufferAttributeFromNode(r,c){const f=this.getDataFromNode(r);let p=f.bufferAttribute;if(p===void 0){const y=this.uniforms.index++;p=new fg("nodeAttribute"+y,c,r),this.bufferAttributes.push(p),f.bufferAttribute=p}return p}getStructTypeNode(r,c=this.shaderStage){return this.types[c][r]||null}getStructTypeFromNode(r,c,f=null,p=this.shaderStage){const y=this.getDataFromNode(r,p,this.globalCache);let T=y.structType;if(T===void 0){const R=this.structs.index++;f===null&&(f="StructType"+R),T=new nme(f,c),this.structs[p].push(T),this.types[p][f]=r,y.structType=T}return T}getOutputStructTypeFromNode(r,c){const f=this.getStructTypeFromNode(r,c,"OutputType","fragment");return f.output=!0,f}getUniformFromNode(r,c,f=this.shaderStage,p=null){const y=this.getDataFromNode(r,f,this.globalCache);let T=y.uniform;if(T===void 0){const R=this.uniforms.index++;T=new J6e(p||"nodeUniform"+R,c,r),this.uniforms[f].push(T),this.registerDeclaration(T),y.uniform=T}return T}getVarFromNode(r,c=null,f=r.getNodeType(this),p=this.shaderStage,y=!1){const T=this.getDataFromNode(r,p),R=this.getSubBuildProperty("variable",T.subBuilds);let b=T[R];if(b===void 0){const P=y?"_const":"_var",G=this.vars[p]||(this.vars[p]=[]),j=this.vars[P]||(this.vars[P]=0);c===null&&(c=(y?"nodeConst":"nodeVar")+j,this.vars[P]++),R!=="variable"&&(c=this.getSubBuildProperty(c,T.subBuilds));const K=r.getArrayCount(this);b=new fv(c,f,y,K),y||G.push(b),this.registerDeclaration(b),T[R]=b}return b}isDeterministic(r){if(r.isMathNode)return this.isDeterministic(r.aNode)&&(r.bNode?this.isDeterministic(r.bNode):!0)&&(r.cNode?this.isDeterministic(r.cNode):!0);if(r.isOperatorNode)return this.isDeterministic(r.aNode)&&(r.bNode?this.isDeterministic(r.bNode):!0);if(r.isArrayNode){if(r.values!==null){for(const c of r.values)if(!this.isDeterministic(c))return!1}return!0}else if(r.isConstNode)return!0;return!1}getVaryingFromNode(r,c=null,f=r.getNodeType(this),p=null,y=null){const T=this.getDataFromNode(r,"any"),R=this.getSubBuildProperty("varying",T.subBuilds);let b=T[R];if(b===void 0){const P=this.varyings,G=P.length;c===null&&(c="nodeVarying"+G),R!=="varying"&&(c=this.getSubBuildProperty(c,T.subBuilds)),b=new eme(c,f,p,y),P.push(b),this.registerDeclaration(b),T[R]=b}return b}registerDeclaration(r){const c=this.shaderStage,f=this.declarations[c]||(this.declarations[c]={}),p=this.getPropertyName(r);let y=1,T=p;for(;f[T]!==void 0;)T=p+"_"+y++;y>1&&(r.name=T,jt(`TSL: Declaration name '${p}' of '${r.type}' already in use. Renamed to '${T}'.`)),f[T]=r}getCodeFromNode(r,c,f=this.shaderStage){const p=this.getDataFromNode(r);let y=p.code;if(y===void 0){const T=this.codes[f]||(this.codes[f]=[]),R=T.length;y=new tme("nodeCode"+R,c),T.push(y),p.code=y}return y}addFlowCodeHierarchy(r,c){const{flowCodes:f,flowCodeBlock:p}=this.getDataFromNode(r);let y=!0,T=c;for(;T;){if(p.get(T)===!0){y=!1;break}T=this.getDataFromNode(T).parentNodeBlock}if(y)for(const R of f)this.addLineFlowCode(R)}addLineFlowCodeBlock(r,c,f){const p=this.getDataFromNode(r),y=p.flowCodes||(p.flowCodes=[]),T=p.flowCodeBlock||(p.flowCodeBlock=new WeakMap);y.push(c),T.set(f,!0)}addLineFlowCode(r,c=null){return r===""?this:(c!==null&&this.context.nodeBlock&&this.addLineFlowCodeBlock(c,r,this.context.nodeBlock),r=this.tab+r,/;\s*$/.test(r)||(r=r+`;
`),this.flow.code+=r,this)}addFlowCode(r){return this.flow.code+=r,this}addFlowTab(){return this.tab+="	",this}removeFlowTab(){return this.tab=this.tab.slice(0,-1),this}getFlowData(r){return this.flowsData.get(r)}flowNode(r){const c=r.getNodeType(this),f=this.flowChildNode(r,c);return this.flowsData.set(r,f),f}addInclude(r){this.currentFunctionNode!==null&&this.currentFunctionNode.includes.push(r)}buildFunctionNode(r){const c=new p6e,f=this.currentFunctionNode;return this.currentFunctionNode=c,c.code=this.buildFunctionCode(r),this.currentFunctionNode=f,c}flowShaderNode(r){const c=r.layout,f={[Symbol.iterator](){let T=0;const R=Object.values(this);return{next:()=>({value:R[T],done:T++>=R.length})}}};for(const T of c.inputs)f[T.name]=new j8e(T.type,T.name);r.layout=null;const p=r.call(f),y=this.flowStagesNode(p,c.type);return r.layout=c,y}flowBuildStage(r,c,f=null){const p=this.getBuildStage();this.setBuildStage(c);const y=r.build(this,f);return this.setBuildStage(p),y}flowStagesNode(r,c=null){const f=this.flow,p=this.vars,y=this.declarations,T=this.cache,R=this.buildStage,b=this.stack,P={code:""};this.flow=P,this.vars={},this.declarations={},this.cache=new j4,this.stack=G4();for(const G of c5)this.setBuildStage(G),P.result=r.build(this,c);return P.vars=this.getVars(this.shaderStage),this.flow=f,this.vars=p,this.declarations=y,this.cache=T,this.stack=b,this.setBuildStage(R),P}getFunctionOperator(){return null}buildFunctionCode(){jt("Abstract function.")}flowChildNode(r,c=null){const f=this.flow,p={code:""};return this.flow=p,p.result=r.build(this,c),this.flow=f,p}flowNodeFromShaderStage(r,c,f=null,p=null){const y=this.tab,T=this.cache,R=this.shaderStage,b=this.context;this.setShaderStage(r);const P={...this.context};delete P.nodeBlock,this.cache=this.globalCache,this.tab="	",this.context=P;let G=null;if(this.buildStage==="generate"){const j=this.flowChildNode(c,f);p!==null&&(j.code+=`${this.tab+p} = ${j.result};
`),this.flowCode[r]=this.flowCode[r]+j.code,G=j}else G=c.build(this);return this.setShaderStage(R),this.cache=T,this.tab=y,this.context=b,G}getAttributesArray(){return this.attributes.concat(this.bufferAttributes)}getAttributes(){jt("Abstract function.")}getVaryings(){jt("Abstract function.")}getVar(r,c,f=null){return`${f!==null?this.generateArrayDeclaration(r,f):this.getType(r)} ${c}`}getVars(r){let c="";const f=this.vars[r];if(f!==void 0)for(const p of f)c+=`${this.getVar(p.type,p.name)}; `;return c}getUniforms(){jt("Abstract function.")}getCodes(r){const c=this.codes[r];let f="";if(c!==void 0)for(const p of c)f+=p.code+`
`;return f}getHash(){return this.vertexShader+this.fragmentShader+this.computeShader}setShaderStage(r){this.shaderStage=r}getShaderStage(){return this.shaderStage}setBuildStage(r){this.buildStage=r}getBuildStage(){return this.buildStage}buildCode(){jt("Abstract function.")}get subBuild(){return this.subBuildLayers[this.subBuildLayers.length-1]||null}addSubBuild(r){this.subBuildLayers.push(r)}removeSubBuild(){return this.subBuildLayers.pop()}getClosestSubBuild(r){let c;if(r&&r.isNode?r.isShaderCallNodeInternal?c=r.shaderNode.subBuilds:r.isStackNode?c=[r.subBuild]:c=this.getDataFromNode(r,"any").subBuilds:r instanceof Set?c=[...r]:c=r,!c)return null;const f=this.subBuildLayers;for(let p=c.length-1;p>=0;p--){const y=c[p];if(f.includes(y))return y}return null}getSubBuildOutput(r){return this.getSubBuildProperty("outputNode",r)}getSubBuildProperty(r="",c=null){let f;c!==null?f=this.getClosestSubBuild(c):f=this.subBuildFn;let p;return f?p=r?f+"_"+r:f:p=r,p}build(){const{object:r,material:c,renderer:f}=this;if(c!==null){let p=f.library.fromMaterial(c);p===null&&(i0(`NodeMaterial: Material "${c.type}" is not compatible.`),p=new V2),p.build(this)}else this.addFlow("compute",r);for(const p of c5){this.setBuildStage(p),this.context.vertex&&this.context.vertex.isNode&&this.flowNodeFromShaderStage("vertex",this.context.vertex);for(const y of l5){this.setShaderStage(y);const T=this.flowNodes[y];for(const R of T)p==="generate"?this.flowNode(R):R.build(this)}}return this.setBuildStage(null),this.setShaderStage(null),this.buildCode(),this.buildUpdateNodes(),this}getNodeUniform(r,c){if(c==="float"||c==="int"||c==="uint")return new pme(r);if(c==="vec2"||c==="ivec2"||c==="uvec2")return new _me(r);if(c==="vec3"||c==="ivec3"||c==="uvec3")return new hme(r);if(c==="vec4"||c==="ivec4"||c==="uvec4")return new dme(r);if(c==="color")return new mme(r);if(c==="mat2")return new gme(r);if(c==="mat3")return new xme(r);if(c==="mat4")return new yme(r);throw new Error(`Uniform "${c}" not declared.`)}format(r,c,f){if(c=this.getVectorType(c),f=this.getVectorType(f),c===f||f===null||this.isReference(f))return r;const p=this.getTypeLength(c),y=this.getTypeLength(f);return p===16&&y===9?`${this.getType(f)}( ${r}[ 0 ].xyz, ${r}[ 1 ].xyz, ${r}[ 2 ].xyz )`:p===9&&y===4?`${this.getType(f)}( ${r}[ 0 ].xy, ${r}[ 1 ].xy )`:p>4||y>4||y===0?r:p===y?`${this.getType(f)}( ${r} )`:p>y?(r=f==="bool"?`all( ${r} )`:`${r}.${"xyz".slice(0,y)}`,this.format(r,this.getTypeFromLength(y,this.getComponentType(c)),f)):y===4&&p>1?`${this.getType(f)}( ${this.format(r,c,"vec3")}, 1.0 )`:p===2?`${this.getType(f)}( ${this.format(r,c,"vec2")}, 0.0 )`:(p===1&&y>1&&c!==this.getComponentType(f)&&(r=`${this.getType(this.getComponentType(f))}( ${r} )`),`${this.getType(f)}( ${r} )`)}getSignature(){return`// Three.js r${Kl} - Node System
`}}class _g{constructor(){this.time=0,this.deltaTime=0,this.frameId=0,this.renderId=0,this.updateMap=new WeakMap,this.updateBeforeMap=new WeakMap,this.updateAfterMap=new WeakMap,this.renderer=null,this.material=null,this.camera=null,this.object=null,this.scene=null}_getMaps(r,c){let f=r.get(c);return f===void 0&&(f={renderId:0,frameId:0},r.set(c,f)),f}updateBeforeNode(r){const c=r.getUpdateBeforeType(),f=r.updateReference(this);if(c===Fi.FRAME){const p=this._getMaps(this.updateBeforeMap,f);p.frameId!==this.frameId&&r.updateBefore(this)!==!1&&(p.frameId=this.frameId)}else if(c===Fi.RENDER){const p=this._getMaps(this.updateBeforeMap,f);p.renderId!==this.renderId&&r.updateBefore(this)!==!1&&(p.renderId=this.renderId)}else c===Fi.OBJECT&&r.updateBefore(this)}updateAfterNode(r){const c=r.getUpdateAfterType(),f=r.updateReference(this);if(c===Fi.FRAME){const p=this._getMaps(this.updateAfterMap,f);p.frameId!==this.frameId&&r.updateAfter(this)!==!1&&(p.frameId=this.frameId)}else if(c===Fi.RENDER){const p=this._getMaps(this.updateAfterMap,f);p.renderId!==this.renderId&&r.updateAfter(this)!==!1&&(p.renderId=this.renderId)}else c===Fi.OBJECT&&r.updateAfter(this)}updateNode(r){const c=r.getUpdateType(),f=r.updateReference(this);if(c===Fi.FRAME){const p=this._getMaps(this.updateMap,f);p.frameId!==this.frameId&&r.update(this)!==!1&&(p.frameId=this.frameId)}else if(c===Fi.RENDER){const p=this._getMaps(this.updateMap,f);p.renderId!==this.renderId&&r.update(this)!==!1&&(p.renderId=this.renderId)}else c===Fi.OBJECT&&r.update(this)}update(){this.frameId++,this.lastTime===void 0&&(this.lastTime=performance.now()),this.deltaTime=(performance.now()-this.lastTime)/1e3,this.lastTime=performance.now(),this.time+=this.deltaTime}}class U8{constructor(r,c,f=null,p="",y=!1){this.type=r,this.name=c,this.count=f,this.qualifier=p,this.isConst=y}}U8.isNodeFunctionInput=!0;class Tme extends fc{static get type(){return"DirectionalLightNode"}constructor(r=null){super(r)}setupDirect(){const r=this.colorNode;return{lightDirection:ov(this.light),lightColor:r}}}const q4=new wi,Qp=new wi;let Bu=null;class Cme extends fc{static get type(){return"RectAreaLightNode"}constructor(r=null){super(r),this.halfHeight=vi(new nt).setGroup(xi),this.halfWidth=vi(new nt).setGroup(xi),this.updateType=Fi.RENDER}update(r){super.update(r);const{light:c}=this,f=r.camera.matrixWorldInverse;Qp.identity(),q4.copy(c.matrixWorld),q4.premultiply(f),Qp.extractRotation(q4),this.halfWidth.value.set(c.width*.5,0,0),this.halfHeight.value.set(0,c.height*.5,0),this.halfWidth.value.applyMatrix4(Qp),this.halfHeight.value.applyMatrix4(Qp)}setupDirectRectArea(r){let c,f;r.isAvailable("float32Filterable")?(c=rn(Bu.LTC_FLOAT_1),f=rn(Bu.LTC_FLOAT_2)):(c=rn(Bu.LTC_HALF_1),f=rn(Bu.LTC_HALF_2));const{colorNode:p,light:y}=this,T=sv(y);return{lightColor:p,lightPosition:T,halfWidth:this.halfWidth,halfHeight:this.halfHeight,ltc_1:c,ltc_2:f}}static setLTC(r){Bu=r}}class O8 extends fc{static get type(){return"SpotLightNode"}constructor(r=null){super(r),this.coneCosNode=vi(0).setGroup(xi),this.penumbraCosNode=vi(0).setGroup(xi),this.cutoffDistanceNode=vi(0).setGroup(xi),this.decayExponentNode=vi(0).setGroup(xi),this.colorNode=vi(this.color).setGroup(xi)}update(r){super.update(r);const{light:c}=this;this.coneCosNode.value=Math.cos(c.angle),this.penumbraCosNode.value=Math.cos(c.angle*(1-c.penumbra)),this.cutoffDistanceNode.value=c.distance,this.decayExponentNode.value=c.decay}getSpotAttenuation(r,c){const{coneCosNode:f,penumbraCosNode:p}=this;return F1(f,p,c)}getLightCoord(r){const c=r.getNodeProperties(this);let f=c.projectionUV;return f===void 0&&(f=m6e(this.light,r.context.positionWorld),c.projectionUV=f),f}setupDirect(r){const{colorNode:c,cutoffDistanceNode:f,decayExponentNode:p,light:y}=this,T=this.getLightVector(r),R=T.normalize(),b=R.dot(ov(y)),P=this.getSpotAttenuation(r,b),G=T.length(),j=uv({lightDistance:G,cutoffDistance:f,decayExponent:p});let K=c.mul(P).mul(j),Q,ie;return y.colorNode?(ie=this.getLightCoord(r),Q=y.colorNode(ie)):y.map&&(ie=this.getLightCoord(r),Q=rn(y.map,ie.xy).onRenderUpdate(()=>y.map)),Q&&(K=ie.mul(2).sub(1).abs().lessThan(1).all().select(K.mul(Q),K)),{lightColor:K,lightDirection:R}}}class wme extends O8{static get type(){return"IESSpotLightNode"}getSpotAttenuation(r,c){const f=this.light.iesMap;let p=null;if(f&&f.isTexture===!0){const y=c.acos().mul(1/Math.PI);p=rn(f,_0(y,0),0).r}else p=super.getSpotAttenuation(c);return p}}const Mme=Xt(([v,r])=>{const c=v.abs().sub(r);return I1(lr(c,0)).add(Wl(lr(c.x,c.y),0))});class Rme extends O8{static get type(){return"ProjectorLightNode"}update(r){super.update(r);const c=this.light;if(this.penumbraCosNode.value=Math.min(Math.cos(c.angle*(1-c.penumbra)),.99999),c.aspect===null){let f=1;c.map!==null&&(f=c.map.width/c.map.height),c.shadow.aspect=f}else c.shadow.aspect=c.aspect}getSpotAttenuation(r){const c=Lt(0),f=this.penumbraCosNode,p=B8(this.light).mul(r.context.positionWorld||ql);return f2(p.w.greaterThan(0),()=>{const y=p.xyz.div(p.w),T=Mme(y.xy.sub(_0(.5)),_0(.5)),R=Ko(-1,ts(1,jx(f)).sub(1));c.assign(ey(T.mul(-2).mul(R)))}),c}}class Ame extends fc{static get type(){return"AmbientLightNode"}constructor(r=null){super(r)}setup({context:r}){r.irradiance.addAssign(this.colorNode)}}class Eme extends fc{static get type(){return"HemisphereLightNode"}constructor(r=null){super(r),this.lightPositionNode=rv(r),this.lightDirectionNode=this.lightPositionNode.normalize(),this.groundColorNode=vi(new ri).setGroup(xi)}update(r){const{light:c}=this;super.update(r),this.lightPositionNode.object3d=c,this.groundColorNode.value.copy(c.groundColor).multiplyScalar(c.intensity)}setup(r){const{colorNode:c,groundColorNode:f,lightDirectionNode:p}=this,T=au.dot(p).mul(.5).add(.5),R=l2(f,c,T);r.context.irradiance.addAssign(R)}}class bme extends fc{static get type(){return"LightProbeNode"}constructor(r=null){super(r);const c=[];for(let f=0;f<9;f++)c.push(new nt);this.lightProbe=mo(c)}update(r){const{light:c}=this;super.update(r);for(let f=0;f<9;f++)this.lightProbe.array[f].copy(c.sh.coefficients[f]).multiplyScalar(c.intensity)}setup(r){const c=Y6e(au,this.lightProbe);r.context.irradiance.addAssign(c)}}class _v{parseFunction(){jt("Abstract function.")}}class G8{constructor(r,c,f="",p=""){this.type=r,this.inputs=c,this.name=f,this.precision=p}getCode(){jt("Abstract function.")}}G8.isNodeFunction=!0;const Nme=/^\s*(highp|mediump|lowp)?\s*([a-z_0-9]+)\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)/i,Dme=/[a-z_0-9]+/ig,hg="#pragma main",Ime=v=>{v=v.trim();const r=v.indexOf(hg),c=r!==-1?v.slice(r+hg.length):v,f=c.match(Nme);if(f!==null&&f.length===5){const p=f[4],y=[];let T=null;for(;(T=Dme.exec(p))!==null;)y.push(T);const R=[];let b=0;for(;b<y.length;){const ie=y[b][0]==="const";ie===!0&&b++;let ce=y[b][0];ce==="in"||ce==="out"||ce==="inout"?b++:ce="";const ue=y[b++][0];let se=Number.parseInt(y[b][0]);Number.isNaN(se)===!1?b++:se=null;const Ne=y[b++][0];R.push(new U8(ue,Ne,se,ce,ie))}const P=c.substring(f[0].length),G=f[3]!==void 0?f[3]:"",j=f[2],K=f[1]!==void 0?f[1]:"",Q=r!==-1?v.slice(0,r):"";return{type:j,inputs:R,name:G,precision:K,inputsCode:p,blockCode:P,headerCode:Q}}else throw new Error("FunctionNode: Function is not a GLSL code.")};class Pme extends G8{constructor(r){const{type:c,inputs:f,name:p,precision:y,inputsCode:T,blockCode:R,headerCode:b}=Ime(r);super(c,f,p,y),this.inputsCode=T,this.blockCode=R,this.headerCode=b}getCode(r=this.name){let c;const f=this.blockCode;if(f!==""){const{type:p,inputsCode:y,headerCode:T,precision:R}=this;let b=`${p} ${r} ( ${y.trim()} )`;R!==""&&(b=`${R} ${b}`),c=T+b+f}else c="";return c}}class Lme extends _v{parseFunction(r){return new Pme(r)}}const dg=new WeakMap,Vo=[],J1=[];class kme extends da{constructor(r,c){super(),this.renderer=r,this.backend=c,this.nodeFrame=new _g,this.nodeBuilderCache=new Map,this.callHashCache=new So,this.groupsData=new So,this.cacheLib={}}updateGroup(r){const c=r.groupNode,f=c.name;if(f===Gx.name)return!0;if(f===xi.name){const y=this.get(r),T=this.nodeFrame.renderId;return y.renderId!==T?(y.renderId=T,!0):!1}if(f===ope.name){const y=this.get(r),T=this.nodeFrame.frameId;return y.frameId!==T?(y.frameId=T,!0):!1}Vo[0]=c,Vo[1]=r;let p=this.groupsData.get(Vo);return p===void 0&&this.groupsData.set(Vo,p={}),Vo.length=0,p.version!==c.version?(p.version=c.version,!0):!1}getForRenderCacheKey(r){return r.initialCacheKey}getForRender(r){const c=this.get(r);let f=c.nodeBuilderState;if(f===void 0){const{nodeBuilderCache:p}=this,y=this.getForRenderCacheKey(r);if(f=p.get(y),f===void 0){const T=b=>{const P=this.backend.createNodeBuilder(r.object,this.renderer);return P.scene=r.scene,P.material=b,P.camera=r.camera,P.context.material=b,P.lightsNode=r.lightsNode,P.environmentNode=this.getEnvironmentNode(r.scene),P.fogNode=this.getFogNode(r.scene),P.clippingContext=r.clippingContext,this.renderer.getOutputRenderTarget()&&this.renderer.getOutputRenderTarget().multiview&&P.enableMultiview(),P};let R=T(r.material);try{R.build()}catch(b){R=T(new V2),R.build(),i0("TSL: "+b)}f=this._createNodeBuilderState(R),p.set(y,f)}f.usedTimes++,c.nodeBuilderState=f}return f}delete(r){if(r.isRenderObject){const c=this.get(r).nodeBuilderState;c.usedTimes--,c.usedTimes===0&&this.nodeBuilderCache.delete(this.getForRenderCacheKey(r))}return super.delete(r)}getForCompute(r){const c=this.get(r);let f=c.nodeBuilderState;if(f===void 0){const p=this.backend.createNodeBuilder(r,this.renderer);p.build(),f=this._createNodeBuilderState(p),c.nodeBuilderState=f}return f}_createNodeBuilderState(r){return new Q6e(r.vertexShader,r.fragmentShader,r.computeShader,r.getAttributesArray(),r.getBindings(),r.updateNodes,r.updateBeforeNodes,r.updateAfterNodes,r.observer,r.transforms)}getEnvironmentNode(r){this.updateEnvironment(r);let c=null;if(r.environmentNode&&r.environmentNode.isNode)c=r.environmentNode;else{const f=this.get(r);f.environmentNode&&(c=f.environmentNode)}return c}getBackgroundNode(r){this.updateBackground(r);let c=null;if(r.backgroundNode&&r.backgroundNode.isNode)c=r.backgroundNode;else{const f=this.get(r);f.backgroundNode&&(c=f.backgroundNode)}return c}getFogNode(r){return this.updateFog(r),r.fogNode||this.get(r).fogNode||null}getCacheKey(r,c){Vo[0]=r,Vo[1]=c;const f=this.renderer.info.calls,p=this.callHashCache.get(Vo)||{};if(p.callId!==f){const y=this.getEnvironmentNode(r),T=this.getFogNode(r);c&&J1.push(c.getCacheKey(!0)),y&&J1.push(y.getCacheKey()),T&&J1.push(T.getCacheKey()),J1.push(this.renderer.getOutputRenderTarget()&&this.renderer.getOutputRenderTarget().multiview?1:0),J1.push(this.renderer.shadowMap.enabled?1:0),J1.push(this.renderer.shadowMap.type),p.callId=f,p.cacheKey=Uf(J1),this.callHashCache.set(Vo,p),J1.length=0}return Vo.length=0,p.cacheKey}get isToneMappingState(){return!this.renderer.getRenderTarget()}updateBackground(r){const c=this.get(r),f=r.background;if(f){const p=r.backgroundBlurriness===0&&c.backgroundBlurriness>0||r.backgroundBlurriness>0&&c.backgroundBlurriness===0;if(c.background!==f||p){const y=this.getCacheNode("background",f,()=>{if(f.isCubeTexture===!0||f.mapping===dl||f.mapping===ml||f.mapping===ec){if(r.backgroundBlurriness>0||f.mapping===ec)return Ky(f);{let T;return f.isCubeTexture===!0?T=Cf(f):T=rn(f),Vy(T)}}else{if(f.isTexture===!0)return rn(f,fl.flipY()).setUpdateMatrix(!0);f.isColor!==!0&&i0("WebGPUNodes: Unsupported background configuration.",f)}},p);c.backgroundNode=y,c.background=f,c.backgroundBlurriness=r.backgroundBlurriness}}else c.backgroundNode&&(delete c.backgroundNode,delete c.background)}getCacheNode(r,c,f,p=!1){const y=this.cacheLib[r]||(this.cacheLib[r]=new WeakMap);let T=y.get(c);return(T===void 0||p)&&(T=f(),y.set(c,T)),T}updateFog(r){const c=this.get(r),f=r.fog;if(f){if(c.fog!==f){const p=this.getCacheNode("fog",f,()=>{if(f.isFogExp2){const y=zn("color","color",f).setGroup(xi),T=zn("density","float",f).setGroup(xi);return ag(y,h6e(T))}else if(f.isFog){const y=zn("color","color",f).setGroup(xi),T=zn("near","float",f).setGroup(xi),R=zn("far","float",f).setGroup(xi);return ag(y,_6e(T,R))}else i0("Renderer: Unsupported fog configuration.",f)});c.fogNode=p,c.fog=f}}else delete c.fogNode,delete c.fog}updateEnvironment(r){const c=this.get(r),f=r.environment;if(f){if(c.environment!==f){const p=this.getCacheNode("environment",f,()=>{if(f.isCubeTexture===!0)return Cf(f);if(f.isTexture===!0)return rn(f);i0("Nodes: Unsupported environment configuration.",f)});c.environmentNode=p,c.environment=f}}else c.environmentNode&&(delete c.environmentNode,delete c.environment)}getNodeFrame(r=this.renderer,c=null,f=null,p=null,y=null){const T=this.nodeFrame;return T.renderer=r,T.scene=c,T.object=f,T.camera=p,T.material=y,T}getNodeFrameForRender(r){return this.getNodeFrame(r.renderer,r.scene,r.object,r.camera,r.material)}getOutputCacheKey(){const r=this.renderer;return r.toneMapping+","+r.currentColorSpace+","+r.xr.isPresenting}hasOutputChange(r){return dg.get(r)!==this.getOutputCacheKey()}getOutputNode(r){const c=this.renderer,f=this.getOutputCacheKey(),p=r.isArrayTexture?e6e(r,Gt(fl,Vf("gl_ViewID_OVR"))).renderOutput(c.toneMapping,c.currentColorSpace):rn(r,fl).renderOutput(c.toneMapping,c.currentColorSpace);return dg.set(r,f),p}updateBefore(r){const c=r.getNodeBuilderState();for(const f of c.updateBeforeNodes)this.getNodeFrameForRender(r).updateBeforeNode(f)}updateAfter(r){const c=r.getNodeBuilderState();for(const f of c.updateAfterNodes)this.getNodeFrameForRender(r).updateAfterNode(f)}updateForCompute(r){const c=this.getNodeFrame(),f=this.getForCompute(r);for(const p of f.updateNodes)c.updateNode(p)}updateForRender(r){const c=this.getNodeFrameForRender(r),f=r.getNodeBuilderState();for(const p of f.updateNodes)c.updateNode(p)}needsRefresh(r){const c=this.getNodeFrameForRender(r);return r.getMonitor().needsRefresh(r,c)}dispose(){super.dispose(),this.nodeFrame=new _g,this.nodeBuilderCache=new Map,this.cacheLib={}}}const X4=new po;class E_{constructor(r=null){this.version=0,this.clipIntersection=null,this.cacheKey="",this.shadowPass=!1,this.viewNormalMatrix=new Pi,this.clippingGroupContexts=new WeakMap,this.intersectionPlanes=[],this.unionPlanes=[],this.parentVersion=null,r!==null&&(this.viewNormalMatrix=r.viewNormalMatrix,this.clippingGroupContexts=r.clippingGroupContexts,this.shadowPass=r.shadowPass,this.viewMatrix=r.viewMatrix)}projectPlanes(r,c,f){const p=r.length;for(let y=0;y<p;y++){X4.copy(r[y]).applyMatrix4(this.viewMatrix,this.viewNormalMatrix);const T=c[f+y],R=X4.normal;T.x=-R.x,T.y=-R.y,T.z=-R.z,T.w=X4.constant}}updateGlobal(r,c){this.shadowPass=r.overrideMaterial!==null&&r.overrideMaterial.isShadowPassMaterial,this.viewMatrix=c.matrixWorldInverse,this.viewNormalMatrix.getNormalMatrix(this.viewMatrix)}update(r,c){let f=!1;r.version!==this.parentVersion&&(this.intersectionPlanes=Array.from(r.intersectionPlanes),this.unionPlanes=Array.from(r.unionPlanes),this.parentVersion=r.version),this.clipIntersection!==c.clipIntersection&&(this.clipIntersection=c.clipIntersection,this.clipIntersection?this.unionPlanes.length=r.unionPlanes.length:this.intersectionPlanes.length=r.intersectionPlanes.length);const p=c.clippingPlanes,y=p.length;let T,R;if(this.clipIntersection?(T=this.intersectionPlanes,R=r.intersectionPlanes.length):(T=this.unionPlanes,R=r.unionPlanes.length),T.length!==R+y){T.length=R+y;for(let b=0;b<y;b++)T[R+b]=new hi;f=!0}this.projectPlanes(p,T,R),f&&(this.version++,this.cacheKey=`${this.intersectionPlanes.length}:${this.unionPlanes.length}`)}getGroupContext(r){if(this.shadowPass&&!r.clipShadows)return this;let c=this.clippingGroupContexts.get(r);return c===void 0&&(c=new E_(this),this.clippingGroupContexts.set(r,c)),c.update(this,r),c}get unionClippingCount(){return this.unionPlanes.length}}class Fme{constructor(r,c){this.bundleGroup=r,this.camera=c}}const Uu=[];class Bme{constructor(){this.bundles=new So}get(r,c){const f=this.bundles;Uu[0]=r,Uu[1]=c;let p=f.get(Uu);return p===void 0&&(p=new Fme(r,c),f.set(Uu,p)),Uu.length=0,p}dispose(){this.bundles=new So}}class hv{constructor(){this.lightNodes=new WeakMap,this.materialNodes=new Map,this.toneMappingNodes=new Map}fromMaterial(r){if(r.isNodeMaterial)return r;let c=null;const f=this.getMaterialNodeClass(r.type);if(f!==null){c=new f;for(const p in r)c[p]=r[p]}return c}addToneMapping(r,c){this.addType(r,c,this.toneMappingNodes)}getToneMappingFunction(r){return this.toneMappingNodes.get(r)||null}getMaterialNodeClass(r){return this.materialNodes.get(r)||null}addMaterial(r,c){this.addType(r,c,this.materialNodes)}getLightNodeClass(r){return this.lightNodes.get(r)||null}addLight(r,c){this.addClass(r,c,this.lightNodes)}addType(r,c,f){if(f.has(c)){jt(`Redefinition of node ${c}`);return}if(typeof r!="function")throw new Error(`Node class ${r.name} is not a class.`);if(typeof c=="function"||typeof c=="object")throw new Error(`Base class ${c} is not a class.`);f.set(c,r)}addClass(r,c,f){if(f.has(c)){jt(`Redefinition of node ${c.name}`);return}if(typeof r!="function")throw new Error(`Node class ${r.name} is not a class.`);if(typeof c!="function")throw new Error(`Base class ${c.name} is not a class.`);f.set(c,r)}}const Ume=new av,Ou=[];class Ome extends So{constructor(){super()}createNode(r=[]){return new av().setLights(r)}getNode(r,c){if(r.isQuadMesh)return Ume;Ou[0]=r,Ou[1]=c;let f=this.get(Ou);return f===void 0&&(f=this.createNode(),this.set(Ou,f)),Ou.length=0,f}}class qu extends cc{constructor(r=1,c=1,f={}){super(r,c,f),this.isXRRenderTarget=!0,this._hasExternalTextures=!1,this._autoAllocateDepthBuffer=!0,this._isOpaqueFramebuffer=!1}copy(r){return super.copy(r),this._hasExternalTextures=r._hasExternalTextures,this._autoAllocateDepthBuffer=r._autoAllocateDepthBuffer,this._isOpaqueFramebuffer=r._isOpaqueFramebuffer,this}}const mg=new nt,gg=new nt;class Gme extends Jo{constructor(r,c=!1){super(),this.enabled=!1,this.isPresenting=!1,this.cameraAutoUpdate=!0,this._renderer=r,this._cameraL=new Z2,this._cameraL.viewport=new hi,this._cameraR=new Z2,this._cameraR.viewport=new hi,this._cameras=[this._cameraL,this._cameraR],this._cameraXR=new Sx,this._currentDepthNear=null,this._currentDepthFar=null,this._controllers=[],this._controllerInputSources=[],this._xrRenderTarget=null,this._layers=[],this._sessionUsesLayers=!1,this._supportsGlBinding=typeof XRWebGLBinding<"u",this._frameBufferTargets=null,this._createXRLayer=qme.bind(this),this._gl=null,this._currentAnimationContext=null,this._currentAnimationLoop=null,this._currentPixelRatio=null,this._currentSize=new O0,this._onSessionEvent=Wme.bind(this),this._onSessionEnd=Hme.bind(this),this._onInputSourcesChange=jme.bind(this),this._onAnimationFrame=Xme.bind(this),this._referenceSpace=null,this._referenceSpaceType="local-floor",this._customReferenceSpace=null,this._framebufferScaleFactor=1,this._foveation=1,this._session=null,this._glBaseLayer=null,this._glBinding=null,this._glProjLayer=null,this._xrFrame=null,this._supportsLayers=this._supportsGlBinding&&"createProjectionLayer"in XRWebGLBinding.prototype,this._useMultiviewIfPossible=c,this._useMultiview=!1}getController(r){return this._getController(r).getTargetRaySpace()}getControllerGrip(r){return this._getController(r).getGripSpace()}getHand(r){return this._getController(r).getHandSpace()}getFoveation(){if(!(this._glProjLayer===null&&this._glBaseLayer===null))return this._foveation}setFoveation(r){this._foveation=r,this._glProjLayer!==null&&(this._glProjLayer.fixedFoveation=r),this._glBaseLayer!==null&&this._glBaseLayer.fixedFoveation!==void 0&&(this._glBaseLayer.fixedFoveation=r)}getFramebufferScaleFactor(){return this._framebufferScaleFactor}setFramebufferScaleFactor(r){this._framebufferScaleFactor=r,this.isPresenting===!0&&jt("XRManager: Cannot change framebuffer scale while presenting.")}getReferenceSpaceType(){return this._referenceSpaceType}setReferenceSpaceType(r){this._referenceSpaceType=r,this.isPresenting===!0&&jt("XRManager: Cannot change reference space type while presenting.")}getReferenceSpace(){return this._customReferenceSpace||this._referenceSpace}setReferenceSpace(r){this._customReferenceSpace=r}getCamera(){return this._cameraXR}getEnvironmentBlendMode(){if(this._session!==null)return this._session.environmentBlendMode}getBinding(){return this._glBinding===null&&this._supportsGlBinding&&(this._glBinding=new XRWebGLBinding(this._session,this._gl)),this._glBinding}getFrame(){return this._xrFrame}useMultiview(){return this._useMultiview}createQuadLayer(r,c,f,p,y,T,R,b={}){const P=new kf(r,c),G=new qu(y,T,{format:R2,type:M2,depthTexture:new Qs(y,T,b.stencil?Bs:Kn,void 0,void 0,void 0,void 0,void 0,void 0,b.stencil?Os:Us),stencilBuffer:b.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1});G._autoAllocateDepthBuffer=!0;const j=new ho({color:16777215,side:Cs});j.map=G.texture,j.map.offset.y=1,j.map.repeat.y=-1;const K=new G2(P,j);K.position.copy(f),K.quaternion.copy(p);const Q={type:"quad",width:r,height:c,translation:f,quaternion:p,pixelwidth:y,pixelheight:T,plane:K,material:j,rendercall:R,renderTarget:G};if(this._layers.push(Q),this._session!==null){Q.plane.material=new ho({color:16777215,side:Cs}),Q.plane.material.blending=sl,Q.plane.material.blendEquation=Or,Q.plane.material.blendSrc=C1,Q.plane.material.blendDst=C1,Q.xrlayer=this._createXRLayer(Q);const ie=this._session.renderState.layers;ie.unshift(Q.xrlayer),this._session.updateRenderState({layers:ie})}else G.isXRRenderTarget=!1;return K}createCylinderLayer(r,c,f,p,y,T,R,b,P={}){const G=new a8(r,r,r*c/f,64,64,!0,Math.PI-c/2,c),j=new qu(T,R,{format:R2,type:M2,depthTexture:new Qs(T,R,P.stencil?Bs:Kn,void 0,void 0,void 0,void 0,void 0,void 0,P.stencil?Os:Us),stencilBuffer:P.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1});j._autoAllocateDepthBuffer=!0;const K=new ho({color:16777215,side:Zn});K.map=j.texture,K.map.offset.y=1,K.map.repeat.y=-1;const Q=new G2(G,K);Q.position.copy(p),Q.quaternion.copy(y);const ie={type:"cylinder",radius:r,centralAngle:c,aspectratio:f,translation:p,quaternion:y,pixelwidth:T,pixelheight:R,plane:Q,material:K,rendercall:b,renderTarget:j};if(this._layers.push(ie),this._session!==null){ie.plane.material=new ho({color:16777215,side:Zn}),ie.plane.material.blending=sl,ie.plane.material.blendEquation=Or,ie.plane.material.blendSrc=C1,ie.plane.material.blendDst=C1,ie.xrlayer=this._createXRLayer(ie);const ce=this._session.renderState.layers;ce.unshift(ie.xrlayer),this._session.updateRenderState({layers:ce})}else j.isXRRenderTarget=!1;return Q}renderLayers(){const r=new nt,c=new eo,f=this._renderer,p=this.isPresenting,y=f.getOutputRenderTarget(),T=f._frameBufferTarget;this.isPresenting=!1;const R=new O0;f.getSize(R);const b=f._quad;for(const P of this._layers)if(P.renderTarget.isXRRenderTarget=this._session!==null,P.renderTarget._hasExternalTextures=P.renderTarget.isXRRenderTarget,P.renderTarget.isXRRenderTarget&&this._sessionUsesLayers){P.xrlayer.transform=new XRRigidTransform(P.plane.getWorldPosition(r),P.plane.getWorldQuaternion(c));const G=this._glBinding.getSubImage(P.xrlayer,this._xrFrame);f.backend.setXRRenderTargetTextures(P.renderTarget,G.colorTexture,void 0),f._setXRLayerSize(P.renderTarget.width,P.renderTarget.height),f.setOutputRenderTarget(P.renderTarget),f.setRenderTarget(null),f._frameBufferTarget=null,this._frameBufferTargets||(this._frameBufferTargets=new WeakMap);const{frameBufferTarget:j,quad:K}=this._frameBufferTargets.get(P.renderTarget)||{frameBufferTarget:null,quad:null};j?(f._frameBufferTarget=j,f._quad=K):(f._quad=new F8(new V2),this._frameBufferTargets.set(P.renderTarget,{frameBufferTarget:f._getFrameBufferTarget(),quad:f._quad})),P.rendercall(),f._frameBufferTarget=null}else f.setRenderTarget(P.renderTarget),P.rendercall();f.setRenderTarget(null),f.setOutputRenderTarget(y),f._frameBufferTarget=T,f._setXRLayerSize(R.x,R.y),f._quad=b,this.isPresenting=p}getSession(){return this._session}async setSession(r){const c=this._renderer,f=c.backend;this._gl=c.getContext();const p=this._gl,y=p.getContextAttributes();if(this._session=r,r!==null){if(f.isWebGPUBackend===!0)throw new Error('THREE.XRManager: XR is currently not supported with a WebGPU backend. Use WebGL by passing "{ forceWebGL: true }" to the constructor of the renderer.');if(r.addEventListener("select",this._onSessionEvent),r.addEventListener("selectstart",this._onSessionEvent),r.addEventListener("selectend",this._onSessionEvent),r.addEventListener("squeeze",this._onSessionEvent),r.addEventListener("squeezestart",this._onSessionEvent),r.addEventListener("squeezeend",this._onSessionEvent),r.addEventListener("end",this._onSessionEnd),r.addEventListener("inputsourceschange",this._onInputSourcesChange),await f.makeXRCompatible(),this._currentPixelRatio=c.getPixelRatio(),c.getSize(this._currentSize),this._currentAnimationContext=c._animation.getContext(),this._currentAnimationLoop=c._animation.getAnimationLoop(),c._animation.stop(),this._supportsLayers===!0){let T=null,R=null,b=null;c.depth&&(b=c.stencil?p.DEPTH24_STENCIL8:p.DEPTH_COMPONENT24,T=c.stencil?Os:Us,R=c.stencil?Bs:Kn);const P={colorFormat:p.RGBA8,depthFormat:b,scaleFactor:this._framebufferScaleFactor,clearOnAccess:!1};this._useMultiviewIfPossible&&c.hasFeature("OVR_multiview2")&&(P.textureType="texture-array",this._useMultiview=!0),this._glBinding=this.getBinding();const G=this._glBinding.createProjectionLayer(P),j=[G];this._glProjLayer=G,c.setPixelRatio(1),c._setXRLayerSize(G.textureWidth,G.textureHeight);const K=this._useMultiview?2:1,Q=new Qs(G.textureWidth,G.textureHeight,R,void 0,void 0,void 0,void 0,void 0,void 0,T,K);if(this._xrRenderTarget=new qu(G.textureWidth,G.textureHeight,{format:R2,type:M2,colorSpace:c.outputColorSpace,depthTexture:Q,stencilBuffer:c.stencil,samples:y.antialias?4:0,resolveDepthBuffer:G.ignoreDepthValues===!1,resolveStencilBuffer:G.ignoreDepthValues===!1,depth:this._useMultiview?2:1,multiview:this._useMultiview}),this._xrRenderTarget._hasExternalTextures=!0,this._xrRenderTarget.depth=this._useMultiview?2:1,this._sessionUsesLayers=r.enabledFeatures.includes("layers"),this._referenceSpace=await r.requestReferenceSpace(this.getReferenceSpaceType()),this._sessionUsesLayers)for(const ie of this._layers)ie.plane.material=new ho({color:16777215,side:ie.type==="cylinder"?Zn:Cs}),ie.plane.material.blending=sl,ie.plane.material.blendEquation=Or,ie.plane.material.blendSrc=C1,ie.plane.material.blendDst=C1,ie.xrlayer=this._createXRLayer(ie),j.unshift(ie.xrlayer);r.updateRenderState({layers:j})}else{const T={antialias:c.currentSamples>0,alpha:!0,depth:c.depth,stencil:c.stencil,framebufferScaleFactor:this.getFramebufferScaleFactor()},R=new XRWebGLLayer(r,p,T);this._glBaseLayer=R,r.updateRenderState({baseLayer:R}),c.setPixelRatio(1),c._setXRLayerSize(R.framebufferWidth,R.framebufferHeight),this._xrRenderTarget=new qu(R.framebufferWidth,R.framebufferHeight,{format:R2,type:M2,colorSpace:c.outputColorSpace,stencilBuffer:c.stencil,resolveDepthBuffer:R.ignoreDepthValues===!1,resolveStencilBuffer:R.ignoreDepthValues===!1}),this._xrRenderTarget._isOpaqueFramebuffer=!0,this._referenceSpace=await r.requestReferenceSpace(this.getReferenceSpaceType())}this.setFoveation(this.getFoveation()),c._animation.setAnimationLoop(this._onAnimationFrame),c._animation.setContext(r),c._animation.start(),this.isPresenting=!0,this.dispatchEvent({type:"sessionstart"})}}updateCamera(r){const c=this._session;if(c===null)return;const f=r.near,p=r.far,y=this._cameraXR,T=this._cameraL,R=this._cameraR;y.near=R.near=T.near=f,y.far=R.far=T.far=p,y.isMultiViewCamera=this._useMultiview,(this._currentDepthNear!==y.near||this._currentDepthFar!==y.far)&&(c.updateRenderState({depthNear:y.near,depthFar:y.far}),this._currentDepthNear=y.near,this._currentDepthFar=y.far),y.layers.mask=r.layers.mask|6,T.layers.mask=y.layers.mask&3,R.layers.mask=y.layers.mask&5;const b=r.parent,P=y.cameras;xg(y,b);for(let G=0;G<P.length;G++)xg(P[G],b);P.length===2?Vme(y,T,R):y.projectionMatrix.copy(T.projectionMatrix),zme(r,y,b)}_getController(r){let c=this._controllers[r];return c===void 0&&(c=new o_,this._controllers[r]=c),c}}function Vme(v,r,c){mg.setFromMatrixPosition(r.matrixWorld),gg.setFromMatrixPosition(c.matrixWorld);const f=mg.distanceTo(gg),p=r.projectionMatrix.elements,y=c.projectionMatrix.elements,T=p[14]/(p[10]-1),R=p[14]/(p[10]+1),b=(p[9]+1)/p[5],P=(p[9]-1)/p[5],G=(p[8]-1)/p[0],j=(y[8]+1)/y[0],K=T*G,Q=T*j,ie=f/(-G+j),ce=ie*-G;if(r.matrixWorld.decompose(v.position,v.quaternion,v.scale),v.translateX(ce),v.translateZ(ie),v.matrixWorld.compose(v.position,v.quaternion,v.scale),v.matrixWorldInverse.copy(v.matrixWorld).invert(),p[10]===-1)v.projectionMatrix.copy(r.projectionMatrix),v.projectionMatrixInverse.copy(r.projectionMatrixInverse);else{const ue=T+ie,se=R+ie,Ne=K-ce,De=Q+(f-ce),Oe=b*R/se*ue,je=P*R/se*ue;v.projectionMatrix.makePerspective(Ne,De,Oe,je,ue,se),v.projectionMatrixInverse.copy(v.projectionMatrix).invert()}}function xg(v,r){r===null?v.matrixWorld.copy(v.matrix):v.matrixWorld.multiplyMatrices(r.matrixWorld,v.matrix),v.matrixWorldInverse.copy(v.matrixWorld).invert()}function zme(v,r,c){c===null?v.matrix.copy(r.matrixWorld):(v.matrix.copy(c.matrixWorld),v.matrix.invert(),v.matrix.multiply(r.matrixWorld)),v.matrix.decompose(v.position,v.quaternion,v.scale),v.updateMatrixWorld(!0),v.projectionMatrix.copy(r.projectionMatrix),v.projectionMatrixInverse.copy(r.projectionMatrixInverse),v.isPerspectiveCamera&&(v.fov=nc*2*Math.atan(1/v.projectionMatrix.elements[5]),v.zoom=1)}function Wme(v){const r=this._controllerInputSources.indexOf(v.inputSource);if(r===-1)return;const c=this._controllers[r];if(c!==void 0){const f=this.getReferenceSpace();c.update(v.inputSource,v.frame,f),c.dispatchEvent({type:v.type,data:v.inputSource})}}function Hme(){const v=this._session,r=this._renderer;v.removeEventListener("select",this._onSessionEvent),v.removeEventListener("selectstart",this._onSessionEvent),v.removeEventListener("selectend",this._onSessionEvent),v.removeEventListener("squeeze",this._onSessionEvent),v.removeEventListener("squeezestart",this._onSessionEvent),v.removeEventListener("squeezeend",this._onSessionEvent),v.removeEventListener("end",this._onSessionEnd),v.removeEventListener("inputsourceschange",this._onInputSourcesChange);for(let c=0;c<this._controllers.length;c++){const f=this._controllerInputSources[c];f!==null&&(this._controllerInputSources[c]=null,this._controllers[c].disconnect(f))}if(this._currentDepthNear=null,this._currentDepthFar=null,r._resetXRState(),this._session=null,this._xrRenderTarget=null,this._glBinding=null,this._glBaseLayer=null,this._glProjLayer=null,this._sessionUsesLayers===!0)for(const c of this._layers)c.renderTarget=new qu(c.pixelwidth,c.pixelheight,{format:R2,type:M2,depthTexture:new Qs(c.pixelwidth,c.pixelheight,c.stencilBuffer?Bs:Kn,void 0,void 0,void 0,void 0,void 0,void 0,c.stencilBuffer?Os:Us),stencilBuffer:c.stencilBuffer,resolveDepthBuffer:!1,resolveStencilBuffer:!1}),c.renderTarget.isXRRenderTarget=!1,c.plane.material=c.material,c.material.map=c.renderTarget.texture,c.material.map.offset.y=1,c.material.map.repeat.y=-1,delete c.xrlayer;this.isPresenting=!1,this._useMultiview=!1,r._animation.stop(),r._animation.setAnimationLoop(this._currentAnimationLoop),r._animation.setContext(this._currentAnimationContext),r._animation.start(),r.setPixelRatio(this._currentPixelRatio),r.setSize(this._currentSize.width,this._currentSize.height,!1),this.dispatchEvent({type:"sessionend"})}function jme(v){const r=this._controllers,c=this._controllerInputSources;for(let f=0;f<v.removed.length;f++){const p=v.removed[f],y=c.indexOf(p);y>=0&&(c[y]=null,r[y].disconnect(p))}for(let f=0;f<v.added.length;f++){const p=v.added[f];let y=c.indexOf(p);if(y===-1){for(let R=0;R<r.length;R++)if(R>=c.length){c.push(p),y=R;break}else if(c[R]===null){c[R]=p,y=R;break}if(y===-1)break}const T=r[y];T&&T.connect(p)}}function qme(v){return v.type==="quad"?this._glBinding.createQuadLayer({transform:new XRRigidTransform(v.translation,v.quaternion),width:v.width/2,height:v.height/2,space:this._referenceSpace,viewPixelWidth:v.pixelwidth,viewPixelHeight:v.pixelheight,clearOnAccess:!1}):this._glBinding.createCylinderLayer({transform:new XRRigidTransform(v.translation,v.quaternion),radius:v.radius,centralAngle:v.centralAngle,aspectRatio:v.aspectRatio,space:this._referenceSpace,viewPixelWidth:v.pixelwidth,viewPixelHeight:v.pixelheight,clearOnAccess:!1})}function Xme(v,r){if(r===void 0)return;const c=this._cameraXR,f=this._renderer,p=f.backend,y=this._glBaseLayer,T=this.getReferenceSpace(),R=r.getViewerPose(T);if(this._xrFrame=r,R!==null){const b=R.views;this._glBaseLayer!==null&&p.setXRTarget(y.framebuffer);let P=!1;b.length!==c.cameras.length&&(c.cameras.length=0,P=!0);for(let G=0;G<b.length;G++){const j=b[G];let K;if(this._supportsLayers===!0){const ie=this._glBinding.getViewSubImage(this._glProjLayer,j);K=ie.viewport,G===0&&p.setXRRenderTargetTextures(this._xrRenderTarget,ie.colorTexture,this._glProjLayer.ignoreDepthValues&&!this._useMultiview?void 0:ie.depthStencilTexture)}else K=y.getViewport(j);let Q=this._cameras[G];Q===void 0&&(Q=new Z2,Q.layers.enable(G),Q.viewport=new hi,this._cameras[G]=Q),Q.matrix.fromArray(j.transform.matrix),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale),Q.projectionMatrix.fromArray(j.projectionMatrix),Q.projectionMatrixInverse.copy(Q.projectionMatrix).invert(),Q.viewport.set(K.x,K.y,K.width,K.height),G===0&&(c.matrix.copy(Q.matrix),c.matrix.decompose(c.position,c.quaternion,c.scale)),P===!0&&c.cameras.push(Q)}f.setOutputRenderTarget(this._xrRenderTarget)}for(let b=0;b<this._controllers.length;b++){const P=this._controllerInputSources[b],G=this._controllers[b];P!==null&&G!==void 0&&G.update(P,r,T)}this._currentAnimationLoop&&this._currentAnimationLoop(v,r),r.detectedPlanes&&this.dispatchEvent({type:"planesdetected",data:r}),this._xrFrame=null}class $me extends Jo{constructor(r){super(),this.domElement=r,this._pixelRatio=1,this._width=this.domElement.width,this._height=this.domElement.height,this._viewport=new hi(0,0,this._width,this._height),this._scissor=new hi(0,0,this._width,this._height),this._scissorTest=!1,this.colorTexture=new px,this.depthTexture=new Qs}getPixelRatio(){return this._pixelRatio}getDrawingBufferSize(r){return r.set(this._width*this._pixelRatio,this._height*this._pixelRatio).floor()}getSize(r){return r.set(this._width,this._height)}setPixelRatio(r=1){this._pixelRatio!==r&&(this._pixelRatio=r,this.setSize(this._width,this._height,!1))}setDrawingBufferSize(r,c,f){this.xr&&this.xr.isPresenting||(this._width=r,this._height=c,this._pixelRatio=f,this.domElement.width=Math.floor(r*f),this.domElement.height=Math.floor(c*f),this.setViewport(0,0,r,c),this._dispatchResize())}setSize(r,c,f=!0){this.xr&&this.xr.isPresenting||(this._width=r,this._height=c,this.domElement.width=Math.floor(r*this._pixelRatio),this.domElement.height=Math.floor(c*this._pixelRatio),f===!0&&(this.domElement.style.width=r+"px",this.domElement.style.height=c+"px"),this.setViewport(0,0,r,c),this._dispatchResize())}getScissor(r){const c=this._scissor;return r.x=c.x,r.y=c.y,r.width=c.width,r.height=c.height,r}setScissor(r,c,f,p){const y=this._scissor;r.isVector4?y.copy(r):y.set(r,c,f,p)}getScissorTest(){return this._scissorTest}setScissorTest(r){this._scissorTest=r}getViewport(r){return r.copy(this._viewport)}setViewport(r,c,f,p,y=0,T=1){const R=this._viewport;r.isVector4?R.copy(r):R.set(r,c,f,p),R.minDepth=y,R.maxDepth=T}_dispatchResize(){this.dispatchEvent({type:"resize"})}dispose(){this.dispatchEvent({type:"dispose"})}}const yg=new If,Yc=new O0,$4=new hi,Y4=new Lf,K4=new o8,Jp=new wi,T1=new hi;class Yme{constructor(r,c={}){this.isRenderer=!0;const{logarithmicDepthBuffer:f=!1,alpha:p=!0,depth:y=!0,stencil:T=!1,antialias:R=!1,samples:b=0,getFallback:P=null,colorBufferType:G=Q2,multiview:j=!1}=c;this.backend=r,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.alpha=p,this.logarithmicDepthBuffer=f,this.outputColorSpace=w2,this.toneMapping=ns,this.toneMappingExposure=1,this.sortObjects=!0,this.depth=y,this.stencil=T,this.info=new b8e,this.overrideNodes={modelViewMatrix:null,modelNormalViewMatrix:null},this.library=new hv,this.lighting=new Ome,this._samples=b||R===!0?4:0,this._onCanvasTargetResize=this._onCanvasTargetResize.bind(this),this._canvasTarget=new $me(r.getDomElement()),this._canvasTarget.addEventListener("resize",this._onCanvasTargetResize),this._canvasTarget.isDefaultCanvasTarget=!0,this._inspector=new cy,this._inspector.setRenderer(this),this._getFallback=P,this._attributes=null,this._geometries=null,this._nodes=null,this._animation=null,this._bindings=null,this._objects=null,this._pipelines=null,this._bundles=null,this._renderLists=null,this._renderContexts=null,this._textures=null,this._background=null,this._quad=new F8(new V2),this._quad.name="Output Color Transform",this._quad.material.name="outputColorTransform",this._currentRenderContext=null,this._opaqueSort=null,this._transparentSort=null,this._frameBufferTarget=null;const K=this.alpha===!0?0:1;this._clearColor=new k8(0,0,0,K),this._clearDepth=1,this._clearStencil=0,this._renderTarget=null,this._activeCubeFace=0,this._activeMipmapLevel=0,this._outputRenderTarget=null,this._mrt=null,this._renderObjectFunction=null,this._currentRenderObjectFunction=null,this._currentRenderBundle=null,this._handleObjectFunction=this._renderObjectDirect,this._isDeviceLost=!1,this.onDeviceLost=this._onDeviceLost,this._colorBufferType=G,this._cacheShadowNodes=new WeakMap,this._initialized=!1,this._initPromise=null,this._compilationPromises=null,this.transparent=!0,this.opaque=!0,this.shadowMap={enabled:!1,type:Nd},this.xr=new Gme(this,j),this.debug={checkShaderErrors:!0,onShaderError:null,getShaderAsync:async(Q,ie,ce)=>{await this.compileAsync(Q,ie);const ue=this._renderLists.get(Q,ie),se=this._renderContexts.get(Q,ie,this._renderTarget),Ne=Q.overrideMaterial||ce.material,De=this._objects.get(ce,Ne,Q,ie,ue.lightsNode,se,se.clippingContext),{fragmentShader:Oe,vertexShader:je}=De.getNodeBuilderState();return{fragmentShader:Oe,vertexShader:je}}}}async init(){return this._initPromise!==null?this._initPromise:(this._initPromise=new Promise(async(r,c)=>{let f=this.backend;try{await f.init(this)}catch(p){if(this._getFallback!==null)try{this.backend=f=this._getFallback(p),await f.init(this)}catch(y){c(y);return}else{c(p);return}}this._nodes=new kme(this,f),this._animation=new v8e(this,this._nodes,this.info),this._attributes=new A8e(f),this._background=new K6e(this,this._nodes),this._geometries=new E8e(this._attributes,this.info),this._textures=new H8e(this,f,this.info),this._pipelines=new P8e(f,this._nodes),this._bindings=new L8e(f,this._nodes,this._textures,this._attributes,this._pipelines,this.info),this._objects=new w8e(this,this._nodes,this._geometries,this._pipelines,this._bindings,this.info),this._renderLists=new B8e(this.lighting),this._bundles=new Bme,this._renderContexts=new z8e,this._animation.start(),this._initialized=!0,this._inspector.init(),r(this)}),this._initPromise)}get domElement(){return this._canvasTarget.domElement}get coordinateSystem(){return this.backend.coordinateSystem}async compileAsync(r,c,f=null){if(this._isDeviceLost===!0)return;this._initialized===!1&&await this.init();const p=this._nodes.nodeFrame,y=p.renderId,T=this._currentRenderContext,R=this._currentRenderObjectFunction,b=this._compilationPromises,P=r.isScene===!0?r:yg;f===null&&(f=r);const G=this._renderTarget,j=this._renderContexts.get(f,c,G),K=this._activeMipmapLevel,Q=[];this._currentRenderContext=j,this._currentRenderObjectFunction=this.renderObject,this._handleObjectFunction=this._createObjectPipeline,this._compilationPromises=Q,p.renderId++,p.update(),j.depth=this.depth,j.stencil=this.stencil,j.clippingContext||(j.clippingContext=new E_),j.clippingContext.updateGlobal(P,c),P.onBeforeRender(this,r,c,G);const ie=this._renderLists.get(r,c);if(ie.begin(),this._projectObject(r,c,0,ie,j.clippingContext),f!==r&&f.traverseVisible(function(De){De.isLight&&De.layers.test(c.layers)&&ie.pushLight(De)}),ie.finish(),G!==null){this._textures.updateRenderTarget(G,K);const De=this._textures.get(G);j.textures=De.textures,j.depthTexture=De.depthTexture}else j.textures=null,j.depthTexture=null;this._background.update(P,ie,j);const ce=ie.opaque,ue=ie.transparent,se=ie.transparentDoublePass,Ne=ie.lightsNode;this.opaque===!0&&ce.length>0&&this._renderObjects(ce,c,P,Ne),this.transparent===!0&&ue.length>0&&this._renderTransparents(ue,se,c,P,Ne),p.renderId=y,this._currentRenderContext=T,this._currentRenderObjectFunction=R,this._compilationPromises=b,this._handleObjectFunction=this._renderObjectDirect,await Promise.all(Q)}async renderAsync(r,c){c2('Renderer: "renderAsync()" has been deprecated. Use "render()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.render(r,c)}async waitForGPU(){i0("Renderer: waitForGPU() has been removed. Read https://github.com/mrdoob/three.js/issues/32012 for more information.")}set inspector(r){this._inspector!==null&&this._inspector.setRenderer(null),this._inspector=r,this._inspector.setRenderer(this)}get inspector(){return this._inspector}set highPrecision(r){r===!0?(this.overrideNodes.modelViewMatrix=S5,this.overrideNodes.modelNormalViewMatrix=T5):this.highPrecision&&(this.overrideNodes.modelViewMatrix=null,this.overrideNodes.modelNormalViewMatrix=null)}get highPrecision(){return this.overrideNodes.modelViewMatrix===S5&&this.overrideNodes.modelNormalViewMatrix===T5}setMRT(r){return this._mrt=r,this}getMRT(){return this._mrt}getColorBufferType(){return this._colorBufferType}_onDeviceLost(r){let c=`THREE.WebGPURenderer: ${r.api} Device Lost:

Message: ${r.message}`;r.reason&&(c+=`
Reason: ${r.reason}`),i0(c),this._isDeviceLost=!0}_renderBundle(r,c,f){const{bundleGroup:p,camera:y,renderList:T}=r,R=this._currentRenderContext,b=this._bundles.get(p,y),P=this.backend.get(b);P.renderContexts===void 0&&(P.renderContexts=new Set);const G=p.version!==P.version,j=P.renderContexts.has(R)===!1||G;if(P.renderContexts.add(R),j){this.backend.beginBundle(R),(P.renderObjects===void 0||G)&&(P.renderObjects=[]),this._currentRenderBundle=b;const{transparentDoublePass:K,transparent:Q,opaque:ie}=T;this.opaque===!0&&ie.length>0&&this._renderObjects(ie,y,c,f),this.transparent===!0&&Q.length>0&&this._renderTransparents(Q,K,y,c,f),this._currentRenderBundle=null,this.backend.finishBundle(R,b),P.version=p.version}else{const{renderObjects:K}=P;for(let Q=0,ie=K.length;Q<ie;Q++){const ce=K[Q];this._nodes.needsRefresh(ce)&&(this._nodes.updateBefore(ce),this._nodes.updateForRender(ce),this._bindings.updateForRender(ce),this._nodes.updateAfter(ce))}}this.backend.addBundle(R,b)}render(r,c){if(this._initialized===!1)throw new Error('Renderer: .render() called before the backend is initialized. Use "await renderer.init();" before rendering.');this._renderScene(r,c)}get initialized(){return this._initialized}_getFrameBufferTarget(){const{currentToneMapping:r,currentColorSpace:c}=this,f=r!==ns,p=c!==pi.workingColorSpace;if(f===!1&&p===!1)return null;const{width:y,height:T}=this.getDrawingBufferSize(Yc),{depth:R,stencil:b}=this;let P=this._frameBufferTarget;P===null&&(P=new cc(y,T,{depthBuffer:R,stencilBuffer:b,type:this._colorBufferType,format:R2,colorSpace:pi.workingColorSpace,generateMipmaps:!1,minFilter:s2,magFilter:s2,samples:this.samples}),P.isPostProcessingRenderTarget=!0,this._frameBufferTarget=P);const G=this.getOutputRenderTarget();P.depthBuffer=R,P.stencilBuffer=b,G!==null?P.setSize(G.width,G.height,G.depth):P.setSize(y,T,1);const j=this._canvasTarget;return P.viewport.copy(j._viewport),P.scissor.copy(j._scissor),P.viewport.multiplyScalar(j._pixelRatio),P.scissor.multiplyScalar(j._pixelRatio),P.scissorTest=j._scissorTest,P.multiview=G!==null?G.multiview:!1,P.resolveDepthBuffer=G!==null?G.resolveDepthBuffer:!0,P._autoAllocateDepthBuffer=G!==null?G._autoAllocateDepthBuffer:!1,P}_renderScene(r,c,f=!0){if(this._isDeviceLost===!0)return;const p=f?this._getFrameBufferTarget():null,y=this._nodes.nodeFrame,T=y.renderId,R=this._currentRenderContext,b=this._currentRenderObjectFunction,P=r.isScene===!0?r:yg,G=this._renderTarget||this._outputRenderTarget,j=this._activeCubeFace,K=this._activeMipmapLevel;let Q;p!==null?(Q=p,this.setRenderTarget(Q)):Q=G;const ie=this._renderContexts.get(r,c,Q);this._currentRenderContext=ie,this._currentRenderObjectFunction=this._renderObjectFunction||this.renderObject,this.info.calls++,this.info.render.calls++,this.info.render.frameCalls++,y.renderId=this.info.calls,this.backend.updateTimeStampUID(ie),this.inspector.beginRender(this.backend.getTimestampUID(ie),r,c,Q);const ce=this.coordinateSystem,ue=this.xr;if(c.coordinateSystem!==ce&&ue.isPresenting===!1&&(c.coordinateSystem=ce,c.updateProjectionMatrix(),c.isArrayCamera))for(const Et of c.cameras)Et.coordinateSystem=ce,Et.updateProjectionMatrix();r.matrixWorldAutoUpdate===!0&&r.updateMatrixWorld(),c.parent===null&&c.matrixWorldAutoUpdate===!0&&c.updateMatrixWorld(),ue.enabled===!0&&ue.isPresenting===!0&&(ue.cameraAutoUpdate===!0&&ue.updateCamera(c),c=ue.getCamera());const se=this._canvasTarget;let Ne=se._viewport,De=se._scissor,Oe=se._pixelRatio;Q!==null&&(Ne=Q.viewport,De=Q.scissor,Oe=1),this.getDrawingBufferSize(Yc),$4.set(0,0,Yc.width,Yc.height);const je=Ne.minDepth===void 0?0:Ne.minDepth,Be=Ne.maxDepth===void 0?1:Ne.maxDepth;ie.viewportValue.copy(Ne).multiplyScalar(Oe).floor(),ie.viewportValue.width>>=K,ie.viewportValue.height>>=K,ie.viewportValue.minDepth=je,ie.viewportValue.maxDepth=Be,ie.viewport=ie.viewportValue.equals($4)===!1,ie.scissorValue.copy(De).multiplyScalar(Oe).floor(),ie.scissor=se._scissorTest&&ie.scissorValue.equals($4)===!1,ie.scissorValue.width>>=K,ie.scissorValue.height>>=K,ie.clippingContext||(ie.clippingContext=new E_),ie.clippingContext.updateGlobal(P,c),P.onBeforeRender(this,r,c,Q);const We=c.isArrayCamera?K4:Y4;c.isArrayCamera||(Jp.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse),We.setFromProjectionMatrix(Jp,c.coordinateSystem,c.reversedDepth));const $e=this._renderLists.get(r,c);if($e.begin(),this._projectObject(r,c,0,$e,ie.clippingContext),$e.finish(),this.sortObjects===!0&&$e.sort(this._opaqueSort,this._transparentSort),Q!==null){this._textures.updateRenderTarget(Q,K);const Et=this._textures.get(Q);ie.textures=Et.textures,ie.depthTexture=Et.depthTexture,ie.width=Et.width,ie.height=Et.height,ie.renderTarget=Q,ie.depth=Q.depthBuffer,ie.stencil=Q.stencilBuffer}else ie.textures=null,ie.depthTexture=null,ie.width=Yc.width,ie.height=Yc.height,ie.depth=this.depth,ie.stencil=this.stencil;ie.width>>=K,ie.height>>=K,ie.activeCubeFace=j,ie.activeMipmapLevel=K,ie.occlusionQueryCount=$e.occlusionQueryCount,ie.scissorValue.max(T1.set(0,0,0,0)),ie.scissorValue.x+ie.scissorValue.width>ie.width&&(ie.scissorValue.width=Math.max(ie.width-ie.scissorValue.x,0)),ie.scissorValue.y+ie.scissorValue.height>ie.height&&(ie.scissorValue.height=Math.max(ie.height-ie.scissorValue.y,0)),this._background.update(P,$e,ie),ie.camera=c,this.backend.beginRender(ie);const{bundles:Ee,lightsNode:Ie,transparentDoublePass:Je,transparent:ft,opaque:yt}=$e;return Ee.length>0&&this._renderBundles(Ee,P,Ie),this.opaque===!0&&yt.length>0&&this._renderObjects(yt,c,P,Ie),this.transparent===!0&&ft.length>0&&this._renderTransparents(ft,Je,c,P,Ie),this.backend.finishRender(ie),y.renderId=T,this._currentRenderContext=R,this._currentRenderObjectFunction=b,p!==null&&(this.setRenderTarget(G,j,K),this._renderOutput(Q)),P.onAfterRender(this,r,c,Q),this.inspector.finishRender(this.backend.getTimestampUID(ie)),ie}_setXRLayerSize(r,c){this._canvasTarget._width=r,this._canvasTarget._height=c,this.setViewport(0,0,r,c)}_renderOutput(r){const c=this._quad;this._nodes.hasOutputChange(r.texture)&&(c.material.fragmentNode=this._nodes.getOutputNode(r.texture),c.material.needsUpdate=!0);const f=this.autoClear,p=this.xr.enabled;this.autoClear=!1,this.xr.enabled=!1,this._renderScene(c,c.camera,!1),this.autoClear=f,this.xr.enabled=p}getMaxAnisotropy(){return this.backend.getMaxAnisotropy()}getActiveCubeFace(){return this._activeCubeFace}getActiveMipmapLevel(){return this._activeMipmapLevel}async setAnimationLoop(r){this._initialized===!1&&await this.init(),this._animation.setAnimationLoop(r)}getAnimationLoop(){return this._animation.getAnimationLoop()}async getArrayBufferAsync(r){return await this.backend.getArrayBufferAsync(r)}getContext(){return this.backend.getContext()}getPixelRatio(){return this._canvasTarget.getPixelRatio()}getDrawingBufferSize(r){return this._canvasTarget.getDrawingBufferSize(r)}getSize(r){return this._canvasTarget.getSize(r)}setPixelRatio(r=1){this._canvasTarget.setPixelRatio(r)}setDrawingBufferSize(r,c,f){this.xr&&this.xr.isPresenting||this._canvasTarget.setDrawingBufferSize(r,c,f)}setSize(r,c,f=!0){this.xr&&this.xr.isPresenting||this._canvasTarget.setSize(r,c,f)}setOpaqueSort(r){this._opaqueSort=r}setTransparentSort(r){this._transparentSort=r}getScissor(r){return this._canvasTarget.getScissor(r)}setScissor(r,c,f,p){this._canvasTarget.setScissor(r,c,f,p)}getScissorTest(){return this._canvasTarget.getScissorTest()}setScissorTest(r){this._canvasTarget.setScissorTest(r),this.backend.setScissorTest(r)}getViewport(r){return this._canvasTarget.getViewport(r)}setViewport(r,c,f,p,y=0,T=1){this._canvasTarget.setViewport(r,c,f,p,y,T)}getClearColor(r){return r.copy(this._clearColor)}setClearColor(r,c=1){this._clearColor.set(r),this._clearColor.a=c}getClearAlpha(){return this._clearColor.a}setClearAlpha(r){this._clearColor.a=r}getClearDepth(){return this._clearDepth}setClearDepth(r){this._clearDepth=r}getClearStencil(){return this._clearStencil}setClearStencil(r){this._clearStencil=r}isOccluded(r){const c=this._currentRenderContext;return c&&this.backend.isOccluded(c,r)}clear(r=!0,c=!0,f=!0){if(this._initialized===!1)throw new Error('Renderer: .clear() called before the backend is initialized. Use "await renderer.init();" before before using this method.');const p=this._renderTarget||this._getFrameBufferTarget();let y=null;if(p!==null){this._textures.updateRenderTarget(p);const T=this._textures.get(p);y=this._renderContexts.getForClear(p),y.textures=T.textures,y.depthTexture=T.depthTexture,y.width=T.width,y.height=T.height,y.renderTarget=p,y.depth=p.depthBuffer,y.stencil=p.stencilBuffer,y.clearColorValue=this.backend.getClearColor(),y.activeCubeFace=this.getActiveCubeFace(),y.activeMipmapLevel=this.getActiveMipmapLevel()}this.backend.clear(r,c,f,y),p!==null&&this._renderTarget===null&&this._renderOutput(p)}clearColor(){this.clear(!0,!1,!1)}clearDepth(){this.clear(!1,!0,!1)}clearStencil(){this.clear(!1,!1,!0)}async clearAsync(r=!0,c=!0,f=!0){c2('Renderer: "clearAsync()" has been deprecated. Use "clear()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.clear(r,c,f)}async clearColorAsync(){c2('Renderer: "clearColorAsync()" has been deprecated. Use "clearColor()" and "await renderer.init();" when creating the renderer.'),this.clear(!0,!1,!1)}async clearDepthAsync(){c2('Renderer: "clearDepthAsync()" has been deprecated. Use "clearDepth()" and "await renderer.init();" when creating the renderer.'),this.clear(!1,!0,!1)}async clearStencilAsync(){c2('Renderer: "clearStencilAsync()" has been deprecated. Use "clearStencil()" and "await renderer.init();" when creating the renderer.'),this.clear(!1,!1,!0)}get needsFrameBufferTarget(){const r=this.currentToneMapping!==ns,c=this.currentColorSpace!==pi.workingColorSpace;return r||c}get samples(){return this._samples}get currentSamples(){let r=this._samples;return this._renderTarget!==null?r=this._renderTarget.samples:this.needsFrameBufferTarget&&(r=0),r}get currentToneMapping(){return this.isOutputTarget?this.toneMapping:ns}get currentColorSpace(){return this.isOutputTarget?this.outputColorSpace:pi.workingColorSpace}get isOutputTarget(){return this._renderTarget===this._outputRenderTarget||this._renderTarget===null}dispose(){this._initialized===!0&&(this.info.dispose(),this.backend.dispose(),this._animation.dispose(),this._objects.dispose(),this._geometries.dispose(),this._pipelines.dispose(),this._nodes.dispose(),this._bindings.dispose(),this._renderLists.dispose(),this._renderContexts.dispose(),this._textures.dispose(),this._frameBufferTarget!==null&&this._frameBufferTarget.dispose(),Object.values(this.backend.timestampQueryPool).forEach(r=>{r!==null&&r.dispose()})),this.setRenderTarget(null),this.setAnimationLoop(null)}setRenderTarget(r,c=0,f=0){this._renderTarget=r,this._activeCubeFace=c,this._activeMipmapLevel=f}getRenderTarget(){return this._renderTarget}setOutputRenderTarget(r){this._outputRenderTarget=r}getOutputRenderTarget(){return this._outputRenderTarget}setCanvasTarget(r){this._canvasTarget.removeEventListener("resize",this._onCanvasTargetResize),this._canvasTarget=r,this._canvasTarget.addEventListener("resize",this._onCanvasTargetResize)}getCanvasTarget(){return this._canvasTarget}_resetXRState(){this.backend.setXRTarget(null),this.setOutputRenderTarget(null),this.setRenderTarget(null),this._frameBufferTarget.dispose(),this._frameBufferTarget=null}setRenderObjectFunction(r){this._renderObjectFunction=r}getRenderObjectFunction(){return this._renderObjectFunction}compute(r,c=null){if(this._isDeviceLost===!0)return;if(this._initialized===!1)return jt("Renderer: .compute() called before the backend is initialized. Try using .computeAsync() instead."),this.computeAsync(r,c);const f=this._nodes.nodeFrame,p=f.renderId;this.info.calls++,this.info.compute.calls++,this.info.compute.frameCalls++,f.renderId=this.info.calls,this.backend.updateTimeStampUID(r),this.inspector.beginCompute(this.backend.getTimestampUID(r),r);const y=this.backend,T=this._pipelines,R=this._bindings,b=this._nodes,P=Array.isArray(r)?r:[r];if(P[0]===void 0||P[0].isComputeNode!==!0)throw new Error("THREE.Renderer: .compute() expects a ComputeNode.");y.beginCompute(r);for(const G of P){if(T.has(G)===!1){const Q=()=>{G.removeEventListener("dispose",Q),T.delete(G),R.deleteForCompute(G),b.delete(G)};G.addEventListener("dispose",Q);const ie=G.onInitFunction;ie!==null&&ie.call(G,{renderer:this})}b.updateForCompute(G),R.updateForCompute(G);const j=R.getForCompute(G),K=T.getForCompute(G,j);y.compute(r,G,j,K,c)}y.finishCompute(r),f.renderId=p,this.inspector.finishCompute(this.backend.getTimestampUID(r))}async computeAsync(r,c=null){this._initialized===!1&&await this.init(),this.compute(r,c)}async hasFeatureAsync(r){return c2('Renderer: "hasFeatureAsync()" has been deprecated. Use "hasFeature()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.hasFeature(r)}async resolveTimestampsAsync(r="render"){return this._initialized===!1&&await this.init(),this.backend.resolveTimestampsAsync(r)}hasFeature(r){if(this._initialized===!1)throw new Error('Renderer: .hasFeature() called before the backend is initialized. Use "await renderer.init();" before before using this method.');return this.backend.hasFeature(r)}hasInitialized(){return this._initialized}async initTextureAsync(r){c2('Renderer: "initTextureAsync()" has been deprecated. Use "initTexture()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.initTexture(r)}initTexture(r){if(this._initialized===!1)throw new Error('Renderer: .initTexture() called before the backend is initialized. Use "await renderer.init();" before before using this method.');this._textures.updateTexture(r)}copyFramebufferToTexture(r,c=null){if(c!==null)if(c.isVector2)c=T1.set(c.x,c.y,r.image.width,r.image.height).floor();else if(c.isVector4)c=T1.copy(c).floor();else{i0("Renderer.copyFramebufferToTexture: Invalid rectangle.");return}else c=T1.set(0,0,r.image.width,r.image.height);let f=this._currentRenderContext,p;f!==null?p=f.renderTarget:(p=this._renderTarget||this._getFrameBufferTarget(),p!==null&&(this._textures.updateRenderTarget(p),f=this._textures.get(p))),this._textures.updateTexture(r,{renderTarget:p}),this.backend.copyFramebufferToTexture(r,f,c),this._inspector.copyFramebufferToTexture(r)}copyTextureToTexture(r,c,f=null,p=null,y=0,T=0){this._textures.updateTexture(r),this._textures.updateTexture(c),this.backend.copyTextureToTexture(r,c,f,p,y,T),this._inspector.copyTextureToTexture(r,c)}async readRenderTargetPixelsAsync(r,c,f,p,y,T=0,R=0){return this.backend.copyTextureToBuffer(r.textures[T],c,f,p,y,R)}_projectObject(r,c,f,p,y){if(r.visible===!1)return;if(r.layers.test(c.layers)){if(r.isGroup)f=r.renderOrder,r.isClippingGroup&&r.enabled&&(y=y.getGroupContext(r));else if(r.isLOD)r.autoUpdate===!0&&r.update(c);else if(r.isLight)p.pushLight(r);else if(r.isSprite){const b=c.isArrayCamera?K4:Y4;if(!r.frustumCulled||b.intersectsSprite(r,c)){this.sortObjects===!0&&T1.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Jp);const{geometry:P,material:G}=r;G.visible&&p.push(r,P,G,f,T1.z,null,y)}}else if(r.isLineLoop)i0("Renderer: Objects of type THREE.LineLoop are not supported. Please use THREE.Line or THREE.LineSegments.");else if(r.isMesh||r.isLine||r.isPoints){const b=c.isArrayCamera?K4:Y4;if(!r.frustumCulled||b.intersectsObject(r,c)){const{geometry:P,material:G}=r;if(this.sortObjects===!0&&(P.boundingSphere===null&&P.computeBoundingSphere(),T1.copy(P.boundingSphere.center).applyMatrix4(r.matrixWorld).applyMatrix4(Jp)),Array.isArray(G)){const j=P.groups;for(let K=0,Q=j.length;K<Q;K++){const ie=j[K],ce=G[ie.materialIndex];ce&&ce.visible&&p.push(r,P,ce,f,T1.z,ie,y)}}else G.visible&&p.push(r,P,G,f,T1.z,null,y)}}}if(r.isBundleGroup===!0&&this.backend.beginBundle!==void 0){const b=p;p=this._renderLists.get(r,c),p.begin(),b.pushBundle({bundleGroup:r,camera:c,renderList:p}),p.finish()}const R=r.children;for(let b=0,P=R.length;b<P;b++)this._projectObject(R[b],c,f,p,y)}_renderBundles(r,c,f){for(const p of r)this._renderBundle(p,c,f)}_renderTransparents(r,c,f,p,y){if(c.length>0){for(const{material:T}of c)T.side=Zn;this._renderObjects(c,f,p,y,"backSide");for(const{material:T}of c)T.side=Cs;this._renderObjects(r,f,p,y);for(const{material:T}of c)T.side=Nr}else this._renderObjects(r,f,p,y)}_renderObjects(r,c,f,p,y=null){for(let T=0,R=r.length;T<R;T++){const{object:b,geometry:P,material:G,group:j,clippingContext:K}=r[T];this._currentRenderObjectFunction(b,f,c,P,G,j,p,K,y)}}_getShadowNodes(r){const c=r.version;let f=this._cacheShadowNodes.get(r);if(f===void 0||f.version!==c){const p=r.map!==null,y=r.colorNode&&r.colorNode.isNode,T=r.castShadowNode&&r.castShadowNode.isNode;let R=null,b=null,P=null;if(p||y||T){let G,j;T?(G=r.castShadowNode.rgb,j=r.castShadowNode.a):(G=Gt(0),j=Lt(1)),p&&(j=j.mul(zn("map","texture",r).a)),y&&(j=j.mul(r.colorNode.a)),b=Li(G,j)}r.depthNode&&r.depthNode.isNode&&(P=r.depthNode),r.castShadowPositionNode&&r.castShadowPositionNode.isNode?R=r.castShadowPositionNode:r.positionNode&&r.positionNode.isNode&&(R=r.positionNode),f={version:c,colorNode:b,depthNode:P,positionNode:R},this._cacheShadowNodes.set(r,f)}return f}renderObject(r,c,f,p,y,T,R,b=null,P=null){let G=!1,j,K,Q,ie;if(r.onBeforeRender(this,c,f,p,y,T),y.allowOverride===!0&&c.overrideMaterial!==null){const ce=c.overrideMaterial;if(G=!0,j=c.overrideMaterial.colorNode,K=c.overrideMaterial.depthNode,Q=c.overrideMaterial.positionNode,ie=c.overrideMaterial.side,y.positionNode&&y.positionNode.isNode&&(ce.positionNode=y.positionNode),ce.alphaTest=y.alphaTest,ce.alphaMap=y.alphaMap,ce.transparent=y.transparent||y.transmission>0||y.transmissionNode&&y.transmissionNode.isNode||y.backdropNode&&y.backdropNode.isNode,ce.isShadowPassMaterial){const{colorNode:ue,depthNode:se,positionNode:Ne}=this._getShadowNodes(y);ce.side=y.shadowSide===null?y.side:y.shadowSide,ue!==null&&(ce.colorNode=ue),se!==null&&(ce.depthNode=se),Ne!==null&&(ce.positionNode=Ne)}y=ce}y.transparent===!0&&y.side===Nr&&y.forceSinglePass===!1?(y.side=Zn,this._handleObjectFunction(r,y,c,f,R,T,b,"backSide"),y.side=Cs,this._handleObjectFunction(r,y,c,f,R,T,b,P),y.side=Nr):this._handleObjectFunction(r,y,c,f,R,T,b,P),G&&(c.overrideMaterial.colorNode=j,c.overrideMaterial.depthNode=K,c.overrideMaterial.positionNode=Q,c.overrideMaterial.side=ie),r.onAfterRender(this,c,f,p,y,T)}_renderObjectDirect(r,c,f,p,y,T,R,b){const P=this._objects.get(r,c,f,p,y,this._currentRenderContext,R,b);P.drawRange=r.geometry.drawRange,P.group=T;const G=this._nodes.needsRefresh(P);G&&(this._nodes.updateBefore(P),this._geometries.updateForRender(P),this._nodes.updateForRender(P),this._bindings.updateForRender(P)),this._pipelines.updateForRender(P),this._currentRenderBundle!==null&&(this.backend.get(this._currentRenderBundle).renderObjects.push(P),P.bundle=this._currentRenderBundle.bundleGroup),this.backend.draw(P,this.info),G&&this._nodes.updateAfter(P)}_createObjectPipeline(r,c,f,p,y,T,R,b){const P=this._objects.get(r,c,f,p,y,this._currentRenderContext,R,b);P.drawRange=r.geometry.drawRange,P.group=T,this._nodes.updateBefore(P),this._geometries.updateForRender(P),this._nodes.updateForRender(P),this._bindings.updateForRender(P),this._pipelines.getForRender(P,this._compilationPromises),this._nodes.updateAfter(P)}_onCanvasTargetResize(){this._initialized&&this.backend.updateSize()}get compile(){return this.compileAsync}}class dv{constructor(r=""){this.name=r,this.visibility=0}setVisibility(r){this.visibility|=r}clone(){return Object.assign(new this.constructor,this)}}function Kme(v){return v+(ia-v%ia)%ia}class mv extends dv{constructor(r,c=null){super(r),this.isBuffer=!0,this.bytesPerElement=Float32Array.BYTES_PER_ELEMENT,this._buffer=c}get byteLength(){return Kme(this._buffer.byteLength)}get buffer(){return this._buffer}update(){return!0}}class gv extends mv{constructor(r,c=null){super(r,c),this.isUniformBuffer=!0}}let Zme=0;class xv extends gv{constructor(r,c){super("UniformBuffer_"+Zme++,r?r.value:null),this.nodeUniform=r,this.groupNode=c}get buffer(){return this.nodeUniform.value}}class Qme extends gv{constructor(r){super(r),this.isUniformsGroup=!0,this._values=null,this.uniforms=[]}addUniform(r){return this.uniforms.push(r),this}removeUniform(r){const c=this.uniforms.indexOf(r);return c!==-1&&this.uniforms.splice(c,1),this}get values(){return this._values===null&&(this._values=Array.from(this.buffer)),this._values}get buffer(){let r=this._buffer;if(r===null){const c=this.byteLength;r=new Float32Array(new ArrayBuffer(c)),this._buffer=r}return r}get byteLength(){const r=this.bytesPerElement;let c=0;for(let f=0,p=this.uniforms.length;f<p;f++){const y=this.uniforms[f],T=y.boundary,R=y.itemSize*r,b=c%ia,P=b%T,G=b+P;c+=P,G!==0&&ia-G<R&&(c+=ia-G),y.offset=c/r,c+=R}return Math.ceil(c/ia)*ia}update(){let r=!1;for(const c of this.uniforms)this.updateByType(c)===!0&&(r=!0);return r}updateByType(r){if(r.isNumberUniform)return this.updateNumber(r);if(r.isVector2Uniform)return this.updateVector2(r);if(r.isVector3Uniform)return this.updateVector3(r);if(r.isVector4Uniform)return this.updateVector4(r);if(r.isColorUniform)return this.updateColor(r);if(r.isMatrix3Uniform)return this.updateMatrix3(r);if(r.isMatrix4Uniform)return this.updateMatrix4(r);i0("WebGPUUniformsGroup: Unsupported uniform type.",r)}updateNumber(r){let c=!1;const f=this.values,p=r.getValue(),y=r.offset,T=r.getType();if(f[y]!==p){const R=this._getBufferForType(T);R[y]=f[y]=p,c=!0}return c}updateVector2(r){let c=!1;const f=this.values,p=r.getValue(),y=r.offset,T=r.getType();if(f[y+0]!==p.x||f[y+1]!==p.y){const R=this._getBufferForType(T);R[y+0]=f[y+0]=p.x,R[y+1]=f[y+1]=p.y,c=!0}return c}updateVector3(r){let c=!1;const f=this.values,p=r.getValue(),y=r.offset,T=r.getType();if(f[y+0]!==p.x||f[y+1]!==p.y||f[y+2]!==p.z){const R=this._getBufferForType(T);R[y+0]=f[y+0]=p.x,R[y+1]=f[y+1]=p.y,R[y+2]=f[y+2]=p.z,c=!0}return c}updateVector4(r){let c=!1;const f=this.values,p=r.getValue(),y=r.offset,T=r.getType();if(f[y+0]!==p.x||f[y+1]!==p.y||f[y+2]!==p.z||f[y+4]!==p.w){const R=this._getBufferForType(T);R[y+0]=f[y+0]=p.x,R[y+1]=f[y+1]=p.y,R[y+2]=f[y+2]=p.z,R[y+3]=f[y+3]=p.w,c=!0}return c}updateColor(r){let c=!1;const f=this.values,p=r.getValue(),y=r.offset;if(f[y+0]!==p.r||f[y+1]!==p.g||f[y+2]!==p.b){const T=this.buffer;T[y+0]=f[y+0]=p.r,T[y+1]=f[y+1]=p.g,T[y+2]=f[y+2]=p.b,c=!0}return c}updateMatrix3(r){let c=!1;const f=this.values,p=r.getValue().elements,y=r.offset;if(f[y+0]!==p[0]||f[y+1]!==p[1]||f[y+2]!==p[2]||f[y+4]!==p[3]||f[y+5]!==p[4]||f[y+6]!==p[5]||f[y+8]!==p[6]||f[y+9]!==p[7]||f[y+10]!==p[8]){const T=this.buffer;T[y+0]=f[y+0]=p[0],T[y+1]=f[y+1]=p[1],T[y+2]=f[y+2]=p[2],T[y+4]=f[y+4]=p[3],T[y+5]=f[y+5]=p[4],T[y+6]=f[y+6]=p[5],T[y+8]=f[y+8]=p[6],T[y+9]=f[y+9]=p[7],T[y+10]=f[y+10]=p[8],c=!0}return c}updateMatrix4(r){let c=!1;const f=this.values,p=r.getValue().elements,y=r.offset;return e3e(f,p,y)===!1&&(this.buffer.set(p,y),Jme(f,p,y),c=!0),c}_getBufferForType(r){return r==="int"||r==="ivec2"||r==="ivec3"||r==="ivec4"?new Int32Array(this.buffer.buffer):r==="uint"||r==="uvec2"||r==="uvec3"||r==="uvec4"?new Uint32Array(this.buffer.buffer):this.buffer}}function Jme(v,r,c){for(let f=0,p=r.length;f<p;f++)v[c+f]=r[f]}function e3e(v,r,c){for(let f=0,p=r.length;f<p;f++)if(v[c+f]!==r[f])return!1;return!0}let t3e=0;class yv extends Qme{constructor(r,c){super(r),this.id=t3e++,this.groupNode=c,this.isNodeUniformsGroup=!0}}class vv extends dv{constructor(r,c){super(r),this._texture=null,this._onTextureDispose=()=>{this.generation=null,this.version=0},this.texture=c,this.version=c?c.version:0,this.generation=null,this.samplerKey="",this.isSampler=!0}set texture(r){this._texture!==r&&(this._texture&&this._texture.removeEventListener("dispose",this._onTextureDispose),this._texture=r,this.generation=null,this.version=0,this._texture&&this._texture.addEventListener("dispose",this._onTextureDispose))}get texture(){return this._texture}update(){const{texture:r,version:c}=this;return c!==r.version?(this.version=r.version,!0):!1}clone(){const r=super.clone();return r._texture=null,r._onTextureDispose=()=>{r.generation=null,r.version=0},r.texture=this.texture,r}}let i3e=0;class n3e extends vv{constructor(r,c){super(r,c),this.id=i3e++,this.store=!1,this.mipLevel=0,this.isSampledTexture=!0}}class eh extends n3e{constructor(r,c,f,p=null){super(r,c?c.value:null),this.textureNode=c,this.groupNode=f,this.access=p}update(){const{textureNode:r}=this;return this.texture!==r.value?(this.texture=r.value,!0):super.update()}}class Sv extends eh{constructor(r,c,f,p=null){super(r,c,f,p),this.isSampledCubeTexture=!0}}class Rd extends eh{constructor(r,c,f,p=null){super(r,c,f,p),this.isSampledTexture3D=!0}}const vg={bitcast_int_uint:new Er("uint tsl_bitcast_uint_to_int ( int x ) { return floatBitsToInt( uintBitsToFloat( x ) ); }"),bitcast_uint_int:new Er("uint tsl_bitcast_int_to_uint ( int x ) { return floatBitsToUint( intBitsToFloat ( x ) ); }")},r3e={textureDimensions:"textureSize",equals:"equal",bitcast_float_int:"floatBitsToInt",bitcast_int_float:"intBitsToFloat",bitcast_uint_float:"uintBitsToFloat",bitcast_float_uint:"floatBitsToUint",bitcast_uint_int:"tsl_bitcast_uint_to_int",bitcast_int_uint:"tsl_bitcast_int_to_uint"},s3e={low:"lowp",medium:"mediump",high:"highp"},Sg={swizzleAssign:!0,storageBuffer:!1},Tg={perspective:"smooth",linear:"noperspective"},Cg={centroid:"centroid"},wg=`
precision highp float;
precision highp int;
precision highp sampler2D;
precision highp sampler3D;
precision highp samplerCube;
precision highp sampler2DArray;

precision highp usampler2D;
precision highp usampler3D;
precision highp usamplerCube;
precision highp usampler2DArray;

precision highp isampler2D;
precision highp isampler3D;
precision highp isamplerCube;
precision highp isampler2DArray;

precision lowp sampler2DShadow;
precision lowp sampler2DArrayShadow;
precision lowp samplerCubeShadow;
`;class o3e extends pv{constructor(r,c){super(r,c,new Lme),this.uniformGroups={},this.transforms=[],this.extensions={},this.builtins={vertex:[],fragment:[],compute:[]}}needsToWorkingColorSpace(r){return r.isVideoTexture===!0&&r.colorSpace!==vs}_include(r){const c=vg[r];return c.build(this),this.addInclude(c),c}getMethod(r){return vg[r]!==void 0&&this._include(r),r3e[r]||r}getBitcastMethod(r,c){return this.getMethod(`bitcast_${c}_${r}`)}getTernary(r,c,f){return`${r} ? ${c} : ${f}`}getOutputStructName(){return""}buildFunctionCode(r){const c=r.layout,f=this.flowShaderNode(r),p=[];for(const T of c.inputs)p.push(this.getType(T.type)+" "+T.name);return`${this.getType(c.type)} ${c.name}( ${p.join(", ")} ) {

	${f.vars}

${f.code}
	return ${f.result};

}`}setupPBO(r){const c=r.value;if(c.pbo===void 0){const f=c.array,p=c.count*c.itemSize,{itemSize:y}=c,T=c.array.constructor.name.toLowerCase().includes("int");let R=T?Zl:bf;y===2?R=T?Ql:yo:y===3?R=T?Gse:Ef:y===4&&(R=T?Jl:R2);const b={Float32Array:P2,Uint8Array:M2,Uint16Array:xo,Uint32Array:Kn,Int8Array:Ya,Int16Array:Ka,Int32Array:Tr,Uint8ClampedArray:M2},P=Math.pow(2,Math.ceil(Math.log2(Math.sqrt(p/y))));let G=Math.ceil(p/y/P);P*G*y<p&&G++;const j=P*G*y,K=new f.constructor(j);K.set(f,0),c.array=K;const Q=new Pf(c.array,P,G,R,b[c.array.constructor.name]||P2);Q.needsUpdate=!0,Q.isPBOTexture=!0;const ie=new ou(Q,null,null);ie.setPrecision("high"),c.pboNode=ie,c.pbo=ie.value,this.getUniformFromNode(c.pboNode,"texture",this.shaderStage,this.context.nodeName)}}getPropertyName(r,c=this.shaderStage){return r.isNodeUniform&&r.node.isTextureNode!==!0&&r.node.isBufferNode!==!0?c.charAt(0)+"_"+r.name:super.getPropertyName(r,c)}generatePBO(r){const{node:c,indexNode:f}=r,p=c.value;if(this.renderer.backend.has(p)){const G=this.renderer.backend.get(p);G.pbo=p.pbo}const y=this.getUniformFromNode(p.pboNode,"texture",this.shaderStage,this.context.nodeName),T=this.getPropertyName(y);this.increaseUsage(f);const R=f.build(this,"uint"),b=this.getDataFromNode(r);let P=b.propertyName;if(P===void 0){const G=this.getVarFromNode(r);P=this.getPropertyName(G);const j=this.getDataFromNode(c);let K=j.propertySizeName;K===void 0&&(K=P+"Size",this.getVarFromNode(c,K,"uint"),this.addLineFlowCode(`${K} = uint( textureSize( ${T}, 0 ).x )`,r),j.propertySizeName=K);const{itemSize:Q}=p,ie="."+ru.join("").slice(0,Q),ce=`ivec2(${R} % ${K}, ${R} / ${K})`,ue=this.generateTextureLoad(null,T,ce,"0",null,null);let se="vec4";p.pbo.type===Kn?se="uvec4":p.pbo.type===Tr&&(se="ivec4"),this.addLineFlowCode(`${P} = ${se}(${ue})${ie}`,r),b.propertyName=P}return P}generateTextureLoad(r,c,f,p,y,T){p===null&&(p="0");let R;return y?T?R=`texelFetchOffset( ${c}, ivec3( ${f}, ${y} ), ${p}, ${T} )`:R=`texelFetch( ${c}, ivec3( ${f}, ${y} ), ${p} )`:T?R=`texelFetchOffset( ${c}, ${f}, ${p}, ${T} )`:R=`texelFetch( ${c}, ${f}, ${p} )`,r!==null&&r.isDepthTexture&&(R+=".x"),R}generateTexture(r,c,f,p,y){return p&&(f=`vec3( ${f}, ${p} )`),r.isDepthTexture?y?`textureOffset( ${c}, ${f}, ${y} ).x`:`texture( ${c}, ${f} ).x`:y?`textureOffset( ${c}, ${f}, ${y} )`:`texture( ${c}, ${f} )`}generateTextureLevel(r,c,f,p,y){return y?`textureLodOffset( ${c}, ${f}, ${p}, ${y} )`:`textureLod( ${c}, ${f}, ${p} )`}generateTextureBias(r,c,f,p,y){return y?`textureOffset( ${c}, ${f}, ${y}, ${p} )`:`texture( ${c}, ${f}, ${p} )`}generateTextureGrad(r,c,f,p,y){return y?`textureGradOffset( ${c}, ${f}, ${p[0]}, ${p[1]}, ${y} )`:`textureGrad( ${c}, ${f}, ${p[0]}, ${p[1]} )`}generateTextureCompare(r,c,f,p,y,T,R=this.shaderStage){if(R==="fragment")return y?T?`textureOffset( ${c}, vec4( ${f}, ${y}, ${p} ), ${T} )`:`texture( ${c}, vec4( ${f}, ${y}, ${p} ) )`:T?`textureOffset( ${c}, vec3( ${f}, ${p} ), ${T} )`:`texture( ${c}, vec3( ${f}, ${p} ) )`;i0(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${R} shader.`)}getVars(r){const c=[],f=this.vars[r];if(f!==void 0)for(const p of f)c.push(`${this.getVar(p.type,p.name,p.count)};`);return c.join(`
	`)}getUniforms(r){const c=this.uniforms[r],f=[],p={};for(const T of c){let R=null,b=!1;if(T.type==="texture"||T.type==="texture3D"){const G=T.node.value;let j="";(G.isDataTexture===!0||G.isData3DTexture===!0)&&(G.type===Kn?j="u":G.type===Tr&&(j="i")),T.type==="texture3D"&&G.isArrayTexture===!1?R=`${j}sampler3D ${T.name};`:G.compareFunction?G.isArrayTexture===!0?R=`sampler2DArrayShadow ${T.name};`:R=`sampler2DShadow ${T.name};`:G.isArrayTexture===!0||G.isDataArrayTexture===!0||G.isCompressedArrayTexture===!0?R=`${j}sampler2DArray ${T.name};`:R=`${j}sampler2D ${T.name};`}else if(T.type==="cubeTexture")R=`samplerCube ${T.name};`;else if(T.type==="buffer"){const G=T.node,j=this.getType(G.bufferType),K=G.bufferCount,Q=K>0?K:"";R=`${G.name} {
	${j} ${T.name}[${Q}];
};
`}else R=`${this.getVectorType(T.type)} ${this.getPropertyName(T,r)};`,b=!0;const P=T.node.precision;if(P!==null&&(R=s3e[P]+" "+R),b){R="	"+R;const G=T.groupNode.name;(p[G]||(p[G]=[])).push(R)}else R="uniform "+R,f.push(R)}let y="";for(const T in p){const R=p[T];y+=this._getGLSLUniformStruct(r+"_"+T,R.join(`
`))+`
`}return y+=f.join(`
`),y}getTypeFromAttribute(r){let c=super.getTypeFromAttribute(r);if(/^[iu]/.test(c)&&r.gpuType!==Tr){let f=r;r.isInterleavedBufferAttribute&&(f=r.data);const p=f.array;p instanceof Uint32Array||p instanceof Int32Array||(c=c.slice(1))}return c}getAttributes(r){let c="";if(r==="vertex"||r==="compute"){const f=this.getAttributesArray();let p=0;for(const y of f)c+=`layout( location = ${p++} ) in ${y.type} ${y.name};
`}return c}getStructMembers(r){const c=[];for(const f of r.members)c.push(`	${f.type} ${f.name};`);return c.join(`
`)}getStructs(r){const c=[],f=this.structs[r],p=[];for(const y of f)if(y.output)for(const T of y.members)p.push(`layout( location = ${T.index} ) out ${T.type} ${T.name};`);else{let T="struct "+y.name+` {
`;T+=this.getStructMembers(y),T+=`
};
`,c.push(T)}return p.length===0&&p.push("layout( location = 0 ) out vec4 fragColor;"),`
`+p.join(`
`)+`

`+c.join(`
`)}getVaryings(r){let c="";const f=this.varyings;if(r==="vertex"||r==="compute")for(const p of f){r==="compute"&&(p.needsInterpolation=!0);const y=this.getType(p.type);if(p.needsInterpolation)if(p.interpolationType){const T=Tg[p.interpolationType]||p.interpolationType,R=Cg[p.interpolationSampling]||"";c+=`${T} ${R} out ${y} ${p.name};
`}else{const T=y.includes("int")||y.includes("uv")||y.includes("iv")?"flat ":"";c+=`${T}out ${y} ${p.name};
`}else c+=`${y} ${p.name};
`}else if(r==="fragment"){for(const p of f)if(p.needsInterpolation){const y=this.getType(p.type);if(p.interpolationType){const T=Tg[p.interpolationType]||p.interpolationType,R=Cg[p.interpolationSampling]||"";c+=`${T} ${R} in ${y} ${p.name};
`}else{const T=y.includes("int")||y.includes("uv")||y.includes("iv")?"flat ":"";c+=`${T}in ${y} ${p.name};
`}}}for(const p of this.builtins[r])c+=`${p};
`;return c}getVertexIndex(){return"uint( gl_VertexID )"}getInstanceIndex(){return"uint( gl_InstanceID )"}getInvocationLocalIndex(){return`uint( gl_InstanceID ) % ${this.object.workgroupSize.reduce((f,p)=>f*p,1)}u`}getSubgroupSize(){i0("GLSLNodeBuilder: WebGLBackend does not support the subgroupSize node")}getInvocationSubgroupIndex(){i0("GLSLNodeBuilder: WebGLBackend does not support the invocationSubgroupIndex node")}getSubgroupIndex(){i0("GLSLNodeBuilder: WebGLBackend does not support the subgroupIndex node")}getDrawIndex(){return this.renderer.backend.extensions.has("WEBGL_multi_draw")?"uint( gl_DrawID )":null}getFrontFacing(){return"gl_FrontFacing"}getFragCoord(){return"gl_FragCoord.xy"}getFragDepth(){return"gl_FragDepth"}enableExtension(r,c,f=this.shaderStage){const p=this.extensions[f]||(this.extensions[f]=new Map);p.has(r)===!1&&p.set(r,{name:r,behavior:c})}getExtensions(r){const c=[];if(r==="vertex"){const p=this.renderer.backend.extensions;this.object.isBatchedMesh&&p.has("WEBGL_multi_draw")&&this.enableExtension("GL_ANGLE_multi_draw","require",r)}const f=this.extensions[r];if(f!==void 0)for(const{name:p,behavior:y}of f.values())c.push(`#extension ${p} : ${y}`);return c.join(`
`)}getClipDistance(){return"gl_ClipDistance"}isAvailable(r){let c=Sg[r];if(c===void 0){let f;switch(c=!1,r){case"float32Filterable":f="OES_texture_float_linear";break;case"clipDistance":f="WEBGL_clip_cull_distance";break}if(f!==void 0){const p=this.renderer.backend.extensions;p.has(f)&&(p.get(f),c=!0)}Sg[r]=c}return c}isFlipY(){return!0}enableHardwareClipping(r){this.enableExtension("GL_ANGLE_clip_cull_distance","require"),this.builtins.vertex.push(`out float gl_ClipDistance[ ${r} ]`)}enableMultiview(){this.enableExtension("GL_OVR_multiview2","require","fragment"),this.enableExtension("GL_OVR_multiview2","require","vertex"),this.builtins.vertex.push("layout(num_views = 2) in")}registerTransform(r,c){this.transforms.push({varyingName:r,attributeNode:c})}getTransforms(){const r=this.transforms;let c="";for(let f=0;f<r.length;f++){const p=r[f],y=this.getPropertyName(p.attributeNode);y&&(c+=`${p.varyingName} = ${y};
	`)}return c}_getGLSLUniformStruct(r,c){return`
layout( std140 ) uniform ${r} {
${c}
};`}_getGLSLVertexCode(r){return`#version 300 es

${this.getSignature()}

// extensions
${r.extensions}

// precision
${wg}

// uniforms
${r.uniforms}

// varyings
${r.varyings}

// attributes
${r.attributes}

// codes
${r.codes}

void main() {

	// vars
	${r.vars}

	// transforms
	${r.transforms}

	// flow
	${r.flow}

	gl_PointSize = 1.0;

}
`}_getGLSLFragmentCode(r){return`#version 300 es

${this.getSignature()}

// extensions
${r.extensions}

// precision
${wg}

// structs
${r.structs}

// uniforms
${r.uniforms}

// varyings
${r.varyings}

// codes
${r.codes}

void main() {

	// vars
	${r.vars}

	// flow
	${r.flow}

}
`}buildCode(){const r=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const c in r){let f=`// code

`;f+=this.flowCode[c];const p=this.flowNodes[c],y=p[p.length-1];for(const R of p){const b=this.getFlowData(R),P=R.name;P&&(f.length>0&&(f+=`
`),f+=`	// flow -> ${P}
	`),f+=`${b.code}
	`,R===y&&c!=="compute"&&(f+=`// result
	`,c==="vertex"?(f+="gl_Position = ",f+=`${b.result};`):c==="fragment"&&(R.outputNode.isOutputStructNode||(f+="fragColor = ",f+=`${b.result};`)))}const T=r[c];T.extensions=this.getExtensions(c),T.uniforms=this.getUniforms(c),T.attributes=this.getAttributes(c),T.varyings=this.getVaryings(c),T.vars=this.getVars(c),T.structs=this.getStructs(c),T.codes=this.getCodes(c),T.transforms=this.getTransforms(c),T.flow=f}this.material!==null?(this.vertexShader=this._getGLSLVertexCode(r.vertex),this.fragmentShader=this._getGLSLFragmentCode(r.fragment)):this.computeShader=this._getGLSLVertexCode(r.compute)}getUniformFromNode(r,c,f,p=null){const y=super.getUniformFromNode(r,c,f,p),T=this.getDataFromNode(r,f,this.globalCache);let R=T.uniformGPU;if(R===void 0){const b=r.groupNode,P=b.name,G=this.getBindGroupArray(P,f);if(c==="texture")R=new eh(y.name,y.node,b),G.push(R);else if(c==="cubeTexture")R=new Sv(y.name,y.node,b),G.push(R);else if(c==="texture3D")R=new Rd(y.name,y.node,b),G.push(R);else if(c==="buffer"){r.name=`NodeBuffer_${r.id}`,y.name=`buffer${r.id}`;const j=new xv(r,b);j.name=r.name,G.push(j),R=j}else{const j=this.uniformGroups[f]||(this.uniformGroups[f]={});let K=j[P];K===void 0&&(K=new yv(f+"_"+P,b),j[P]=K,G.push(K)),R=this.getNodeUniform(y,c),K.addUniform(R)}T.uniformGPU=R}return y}}let Z4=null,Kc=null;class Tv{constructor(r={}){this.parameters=Object.assign({},r),this.data=new WeakMap,this.renderer=null,this.domElement=null,this.timestampQueryPool={[jo.RENDER]:null,[jo.COMPUTE]:null},this.trackTimestamp=r.trackTimestamp===!0}async init(r){this.renderer=r}get coordinateSystem(){}beginRender(){}finishRender(){}beginCompute(){}finishCompute(){}draw(){}compute(){}createProgram(){}destroyProgram(){}createBindings(){}updateBindings(){}updateBinding(){}createRenderPipeline(){}createComputePipeline(){}needsRenderUpdate(){}getRenderCacheKey(){}createNodeBuilder(){}updateSampler(){}createDefaultTexture(){}createTexture(){}updateTexture(){}generateMipmaps(){}destroyTexture(){}async copyTextureToBuffer(){}copyTextureToTexture(){}copyFramebufferToTexture(){}createAttribute(){}createIndexAttribute(){}createStorageAttribute(){}updateAttribute(){}destroyAttribute(){}getContext(){}updateSize(){}updateViewport(){}updateTimeStampUID(r){const c=this.get(r),f=this.renderer.info.frame;let p;r.isComputeNode===!0?p="c:"+this.renderer.info.compute.frameCalls:p="r:"+this.renderer.info.render.frameCalls,c.timestampUID=p+":"+r.id+":f"+f}getTimestampUID(r){return this.get(r).timestampUID}getTimestampFrames(r){const c=this.timestampQueryPool[r];return c?c.getTimestampFrames():[]}_getQueryPool(r){const c=r.startsWith("c:")?jo.COMPUTE:jo.RENDER;return this.timestampQueryPool[c]}getTimestamp(r){return this._getQueryPool(r).getTimestamp(r)}hasTimestamp(r){return this._getQueryPool(r).hasTimestamp(r)}isOccluded(){}async resolveTimestampsAsync(r="render"){if(!this.trackTimestamp){c2("WebGPURenderer: Timestamp tracking is disabled.");return}const c=this.timestampQueryPool[r];if(!c)return;const f=await c.resolveQueriesAsync();return this.renderer.info[r].timestamp=f,f}async getArrayBufferAsync(){}async hasFeatureAsync(){}hasFeature(){}getMaxAnisotropy(){}getDrawingBufferSize(){return Z4=Z4||new O0,this.renderer.getDrawingBufferSize(Z4)}setScissorTest(){}getClearColor(){const r=this.renderer;return Kc=Kc||new k8,r.getClearColor(Kc),Kc.getRGB(Kc),Kc}getDomElement(){let r=this.domElement;return r===null&&(r=this.parameters.canvas!==void 0?this.parameters.canvas:nx(),"setAttribute"in r&&r.setAttribute("data-engine",`three.js r${Kl} webgpu`),this.domElement=r),r}set(r,c){this.data.set(r,c)}get(r){let c=this.data.get(r);return c===void 0&&(c={},this.data.set(r,c)),c}has(r){return this.data.has(r)}delete(r){this.data.delete(r)}dispose(){}}let a3e=0;class c3e{constructor(r,c){this.buffers=[r.bufferGPU,c],this.type=r.type,this.bufferType=r.bufferType,this.pbo=r.pbo,this.byteLength=r.byteLength,this.bytesPerElement=r.BYTES_PER_ELEMENT,this.version=r.version,this.isInteger=r.isInteger,this.activeBufferIndex=0,this.baseId=r.id}get id(){return`${this.baseId}|${this.activeBufferIndex}`}get bufferGPU(){return this.buffers[this.activeBufferIndex]}get transformBuffer(){return this.buffers[this.activeBufferIndex^1]}switchBuffers(){this.activeBufferIndex^=1}}class l3e{constructor(r){this.backend=r}createAttribute(r,c){const f=this.backend,{gl:p}=f,y=r.array,T=r.usage||p.STATIC_DRAW,R=r.isInterleavedBufferAttribute?r.data:r,b=f.get(R);let P=b.bufferGPU;P===void 0&&(P=this._createBuffer(p,c,y,T),b.bufferGPU=P,b.bufferType=c,b.version=R.version);let G;if(y instanceof Float32Array)G=p.FLOAT;else if(typeof Float16Array<"u"&&y instanceof Float16Array)G=p.HALF_FLOAT;else if(y instanceof Uint16Array)r.isFloat16BufferAttribute?G=p.HALF_FLOAT:G=p.UNSIGNED_SHORT;else if(y instanceof Int16Array)G=p.SHORT;else if(y instanceof Uint32Array)G=p.UNSIGNED_INT;else if(y instanceof Int32Array)G=p.INT;else if(y instanceof Int8Array)G=p.BYTE;else if(y instanceof Uint8Array)G=p.UNSIGNED_BYTE;else if(y instanceof Uint8ClampedArray)G=p.UNSIGNED_BYTE;else throw new Error("THREE.WebGLBackend: Unsupported buffer data format: "+y);let j={bufferGPU:P,bufferType:c,type:G,byteLength:y.byteLength,bytesPerElement:y.BYTES_PER_ELEMENT,version:r.version,pbo:r.pbo,isInteger:G===p.INT||G===p.UNSIGNED_INT||r.gpuType===Tr,id:a3e++};if(r.isStorageBufferAttribute||r.isStorageInstancedBufferAttribute){const K=this._createBuffer(p,c,y,T);j=new c3e(j,K)}f.set(r,j)}updateAttribute(r){const c=this.backend,{gl:f}=c,p=r.array,y=r.isInterleavedBufferAttribute?r.data:r,T=c.get(y),R=T.bufferType,b=r.isInterleavedBufferAttribute?r.data.updateRanges:r.updateRanges;if(f.bindBuffer(R,T.bufferGPU),b.length===0)f.bufferSubData(R,0,p);else{for(let P=0,G=b.length;P<G;P++){const j=b[P];f.bufferSubData(R,j.start*p.BYTES_PER_ELEMENT,p,j.start,j.count)}y.clearUpdateRanges()}f.bindBuffer(R,null),T.version=y.version}destroyAttribute(r){const c=this.backend,{gl:f}=c;r.isInterleavedBufferAttribute&&c.delete(r.data);const p=c.get(r);f.deleteBuffer(p.bufferGPU),c.delete(r)}async getArrayBufferAsync(r){const c=this.backend,{gl:f}=c,p=r.isInterleavedBufferAttribute?r.data:r,{bufferGPU:y}=c.get(p),T=r.array,R=T.byteLength;f.bindBuffer(f.COPY_READ_BUFFER,y);const b=f.createBuffer();f.bindBuffer(f.COPY_WRITE_BUFFER,b),f.bufferData(f.COPY_WRITE_BUFFER,R,f.STREAM_READ),f.copyBufferSubData(f.COPY_READ_BUFFER,f.COPY_WRITE_BUFFER,0,0,R),await c.utils._clientWaitAsync();const P=new r.array.constructor(T.length);return f.bindBuffer(f.COPY_WRITE_BUFFER,b),f.getBufferSubData(f.COPY_WRITE_BUFFER,0,P),f.deleteBuffer(b),f.bindBuffer(f.COPY_READ_BUFFER,null),f.bindBuffer(f.COPY_WRITE_BUFFER,null),P.buffer}_createBuffer(r,c,f,p){const y=r.createBuffer();return r.bindBuffer(c,y),r.bufferData(c,f,p),r.bindBuffer(c,null),y}}let Q4,Gu;class u3e{constructor(r){this.backend=r,this.gl=this.backend.gl,this.enabled={},this.currentFlipSided=null,this.currentCullFace=null,this.currentProgram=null,this.currentBlendingEnabled=!1,this.currentBlending=null,this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentPremultipledAlpha=null,this.currentPolygonOffsetFactor=null,this.currentPolygonOffsetUnits=null,this.currentColorMask=null,this.currentDepthFunc=null,this.currentDepthMask=null,this.currentStencilFunc=null,this.currentStencilRef=null,this.currentStencilFuncMask=null,this.currentStencilFail=null,this.currentStencilZFail=null,this.currentStencilZPass=null,this.currentStencilMask=null,this.currentLineWidth=null,this.currentClippingPlanes=0,this.currentVAO=null,this.currentIndex=null,this.currentBoundFramebuffers={},this.currentDrawbuffers=new WeakMap,this.maxTextures=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),this.currentTextureSlot=null,this.currentBoundTextures={},this.currentBoundBufferBases={},this._init()}_init(){const r=this.gl;Q4={[Or]:r.FUNC_ADD,[Dd]:r.FUNC_SUBTRACT,[Id]:r.FUNC_REVERSE_SUBTRACT},Gu={[C1]:r.ZERO,[Pd]:r.ONE,[Ld]:r.SRC_COLOR,[rf]:r.SRC_ALPHA,[Gd]:r.SRC_ALPHA_SATURATE,[Ud]:r.DST_COLOR,[Fd]:r.DST_ALPHA,[kd]:r.ONE_MINUS_SRC_COLOR,[sf]:r.ONE_MINUS_SRC_ALPHA,[Od]:r.ONE_MINUS_DST_COLOR,[Bd]:r.ONE_MINUS_DST_ALPHA};const c=r.getParameter(r.SCISSOR_BOX),f=r.getParameter(r.VIEWPORT);this.currentScissor=new hi().fromArray(c),this.currentViewport=new hi().fromArray(f),this._tempVec4=new hi}enable(r){const{enabled:c}=this;c[r]!==!0&&(this.gl.enable(r),c[r]=!0)}disable(r){const{enabled:c}=this;c[r]!==!1&&(this.gl.disable(r),c[r]=!1)}setFlipSided(r){if(this.currentFlipSided!==r){const{gl:c}=this;r?c.frontFace(c.CW):c.frontFace(c.CCW),this.currentFlipSided=r}}setCullFace(r){const{gl:c}=this;r!==Hg?(this.enable(c.CULL_FACE),r!==this.currentCullFace&&(r===rd?c.cullFace(c.BACK):r===jg?c.cullFace(c.FRONT):c.cullFace(c.FRONT_AND_BACK))):this.disable(c.CULL_FACE),this.currentCullFace=r}setLineWidth(r){const{currentLineWidth:c,gl:f}=this;r!==c&&(f.lineWidth(r),this.currentLineWidth=r)}setBlending(r,c,f,p,y,T,R,b){const{gl:P}=this;if(r===ws){this.currentBlendingEnabled===!0&&(this.disable(P.BLEND),this.currentBlendingEnabled=!1);return}if(this.currentBlendingEnabled===!1&&(this.enable(P.BLEND),this.currentBlendingEnabled=!0),r!==sl){if(r!==this.currentBlending||b!==this.currentPremultipledAlpha){if((this.currentBlendEquation!==Or||this.currentBlendEquationAlpha!==Or)&&(P.blendEquation(P.FUNC_ADD),this.currentBlendEquation=Or,this.currentBlendEquationAlpha=Or),b)switch(r){case Fs:P.blendFuncSeparate(P.ONE,P.ONE_MINUS_SRC_ALPHA,P.ONE,P.ONE_MINUS_SRC_ALPHA);break;case pl:P.blendFunc(P.ONE,P.ONE);break;case _l:P.blendFuncSeparate(P.ZERO,P.ONE_MINUS_SRC_COLOR,P.ZERO,P.ONE);break;case hl:P.blendFuncSeparate(P.DST_COLOR,P.ONE_MINUS_SRC_ALPHA,P.ZERO,P.ONE);break;default:i0("WebGLState: Invalid blending: ",r);break}else switch(r){case Fs:P.blendFuncSeparate(P.SRC_ALPHA,P.ONE_MINUS_SRC_ALPHA,P.ONE,P.ONE_MINUS_SRC_ALPHA);break;case pl:P.blendFuncSeparate(P.SRC_ALPHA,P.ONE,P.ONE,P.ONE);break;case _l:i0("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case hl:i0("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:i0("WebGLState: Invalid blending: ",r);break}this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentBlending=r,this.currentPremultipledAlpha=b}return}y=y||c,T=T||f,R=R||p,(c!==this.currentBlendEquation||y!==this.currentBlendEquationAlpha)&&(P.blendEquationSeparate(Q4[c],Q4[y]),this.currentBlendEquation=c,this.currentBlendEquationAlpha=y),(f!==this.currentBlendSrc||p!==this.currentBlendDst||T!==this.currentBlendSrcAlpha||R!==this.currentBlendDstAlpha)&&(P.blendFuncSeparate(Gu[f],Gu[p],Gu[T],Gu[R]),this.currentBlendSrc=f,this.currentBlendDst=p,this.currentBlendSrcAlpha=T,this.currentBlendDstAlpha=R),this.currentBlending=r,this.currentPremultipledAlpha=!1}setColorMask(r){this.currentColorMask!==r&&(this.gl.colorMask(r,r,r,r),this.currentColorMask=r)}setDepthTest(r){const{gl:c}=this;r?this.enable(c.DEPTH_TEST):this.disable(c.DEPTH_TEST)}setDepthMask(r){this.currentDepthMask!==r&&(this.gl.depthMask(r),this.currentDepthMask=r)}setDepthFunc(r){if(this.currentDepthFunc!==r){const{gl:c}=this;switch(r){case of:c.depthFunc(c.NEVER);break;case af:c.depthFunc(c.ALWAYS);break;case cf:c.depthFunc(c.LESS);break;case fa:c.depthFunc(c.LEQUAL);break;case lf:c.depthFunc(c.EQUAL);break;case uf:c.depthFunc(c.GEQUAL);break;case ff:c.depthFunc(c.GREATER);break;case pf:c.depthFunc(c.NOTEQUAL);break;default:c.depthFunc(c.LEQUAL)}this.currentDepthFunc=r}}scissor(r,c,f,p){const y=this._tempVec4.set(r,c,f,p);if(this.currentScissor.equals(y)===!1){const{gl:T}=this;T.scissor(y.x,y.y,y.z,y.w),this.currentScissor.copy(y)}}viewport(r,c,f,p){const y=this._tempVec4.set(r,c,f,p);if(this.currentViewport.equals(y)===!1){const{gl:T}=this;T.viewport(y.x,y.y,y.z,y.w),this.currentViewport.copy(y)}}setScissorTest(r){const c=this.gl;r?c.enable(c.SCISSOR_TEST):c.disable(c.SCISSOR_TEST)}setStencilTest(r){const{gl:c}=this;r?this.enable(c.STENCIL_TEST):this.disable(c.STENCIL_TEST)}setStencilMask(r){this.currentStencilMask!==r&&(this.gl.stencilMask(r),this.currentStencilMask=r)}setStencilFunc(r,c,f){(this.currentStencilFunc!==r||this.currentStencilRef!==c||this.currentStencilFuncMask!==f)&&(this.gl.stencilFunc(r,c,f),this.currentStencilFunc=r,this.currentStencilRef=c,this.currentStencilFuncMask=f)}setStencilOp(r,c,f){(this.currentStencilFail!==r||this.currentStencilZFail!==c||this.currentStencilZPass!==f)&&(this.gl.stencilOp(r,c,f),this.currentStencilFail=r,this.currentStencilZFail=c,this.currentStencilZPass=f)}setMaterial(r,c,f){const{gl:p}=this;r.side===Nr?this.disable(p.CULL_FACE):this.enable(p.CULL_FACE);let y=r.side===Zn;c&&(y=!y),this.setFlipSided(y),r.blending===Fs&&r.transparent===!1?this.setBlending(ws):this.setBlending(r.blending,r.blendEquation,r.blendSrc,r.blendDst,r.blendEquationAlpha,r.blendSrcAlpha,r.blendDstAlpha,r.premultipliedAlpha),this.setDepthFunc(r.depthFunc),this.setDepthTest(r.depthTest),this.setDepthMask(r.depthWrite),this.setColorMask(r.colorWrite);const T=r.stencilWrite;if(this.setStencilTest(T),T&&(this.setStencilMask(r.stencilWriteMask),this.setStencilFunc(r.stencilFunc,r.stencilRef,r.stencilFuncMask),this.setStencilOp(r.stencilFail,r.stencilZFail,r.stencilZPass)),this.setPolygonOffset(r.polygonOffset,r.polygonOffsetFactor,r.polygonOffsetUnits),r.alphaToCoverage===!0&&this.backend.renderer.currentSamples>0?this.enable(p.SAMPLE_ALPHA_TO_COVERAGE):this.disable(p.SAMPLE_ALPHA_TO_COVERAGE),f>0&&this.currentClippingPlanes!==f)for(let b=0;b<8;b++)b<f?this.enable(12288+b):this.disable(12288+b)}setPolygonOffset(r,c,f){const{gl:p}=this;r?(this.enable(p.POLYGON_OFFSET_FILL),(this.currentPolygonOffsetFactor!==c||this.currentPolygonOffsetUnits!==f)&&(p.polygonOffset(c,f),this.currentPolygonOffsetFactor=c,this.currentPolygonOffsetUnits=f)):this.disable(p.POLYGON_OFFSET_FILL)}useProgram(r){return this.currentProgram!==r?(this.gl.useProgram(r),this.currentProgram=r,!0):!1}setVertexState(r,c=null){const f=this.gl;return this.currentVAO!==r||this.currentIndex!==c?(f.bindVertexArray(r),c!==null&&f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,c),this.currentVAO=r,this.currentIndex=c,!0):!1}resetVertexState(){const r=this.gl;r.bindVertexArray(null),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null),this.currentVAO=null,this.currentIndex=null}bindFramebuffer(r,c){const{gl:f,currentBoundFramebuffers:p}=this;return p[r]!==c?(f.bindFramebuffer(r,c),p[r]=c,r===f.DRAW_FRAMEBUFFER&&(p[f.FRAMEBUFFER]=c),r===f.FRAMEBUFFER&&(p[f.DRAW_FRAMEBUFFER]=c),!0):!1}drawBuffers(r,c){const{gl:f}=this;let p=[],y=!1;if(r.textures!==null){p=this.currentDrawbuffers.get(c),p===void 0&&(p=[],this.currentDrawbuffers.set(c,p));const T=r.textures;if(p.length!==T.length||p[0]!==f.COLOR_ATTACHMENT0){for(let R=0,b=T.length;R<b;R++)p[R]=f.COLOR_ATTACHMENT0+R;p.length=T.length,y=!0}}else p[0]!==f.BACK&&(p[0]=f.BACK,y=!0);y&&f.drawBuffers(p)}activeTexture(r){const{gl:c,currentTextureSlot:f,maxTextures:p}=this;r===void 0&&(r=c.TEXTURE0+p-1),f!==r&&(c.activeTexture(r),this.currentTextureSlot=r)}bindTexture(r,c,f){const{gl:p,currentTextureSlot:y,currentBoundTextures:T,maxTextures:R}=this;f===void 0&&(y===null?f=p.TEXTURE0+R-1:f=y);let b=T[f];b===void 0&&(b={type:void 0,texture:void 0},T[f]=b),(b.type!==r||b.texture!==c)&&(y!==f&&(p.activeTexture(f),this.currentTextureSlot=f),p.bindTexture(r,c),b.type=r,b.texture=c)}bindBufferBase(r,c,f){const{gl:p}=this,y=`${r}-${c}`;return this.currentBoundBufferBases[y]!==f?(p.bindBufferBase(r,c,f),this.currentBoundBufferBases[y]=f,!0):!1}unbindTexture(){const{gl:r,currentTextureSlot:c,currentBoundTextures:f}=this,p=f[c];p!==void 0&&p.type!==void 0&&(r.bindTexture(p.type,null),p.type=void 0,p.texture=void 0)}}class f3e{constructor(r){this.backend=r,this.gl=this.backend.gl,this.extensions=r.extensions}convert(r,c=vs){const{gl:f,extensions:p}=this;let y;const T=pi.getTransfer(c);if(r===M2)return f.UNSIGNED_BYTE;if(r===b_)return f.UNSIGNED_SHORT_4_4_4_4;if(r===N_)return f.UNSIGNED_SHORT_5_5_5_1;if(r===D_)return f.UNSIGNED_INT_5_9_9_9_REV;if(r===I_)return f.UNSIGNED_INT_10F_11F_11F_REV;if(r===Ya)return f.BYTE;if(r===Ka)return f.SHORT;if(r===xo)return f.UNSIGNED_SHORT;if(r===Tr)return f.INT;if(r===Kn)return f.UNSIGNED_INT;if(r===P2)return f.FLOAT;if(r===Q2)return f.HALF_FLOAT;if(r===Wd)return f.ALPHA;if(r===Ef)return f.RGB;if(r===R2)return f.RGBA;if(r===Us)return f.DEPTH_COMPONENT;if(r===Os)return f.DEPTH_STENCIL;if(r===bf)return f.RED;if(r===Zl)return f.RED_INTEGER;if(r===yo)return f.RG;if(r===Ql)return f.RG_INTEGER;if(r===Jl)return f.RGBA_INTEGER;if(r===oa||r===aa||r===ca||r===la)if(T===b0)if(y=p.get("WEBGL_compressed_texture_s3tc_srgb"),y!==null){if(r===oa)return y.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===aa)return y.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===ca)return y.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===la)return y.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(y=p.get("WEBGL_compressed_texture_s3tc"),y!==null){if(r===oa)return y.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===aa)return y.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===ca)return y.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===la)return y.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===_f||r===hf||r===df||r===mf)if(y=p.get("WEBGL_compressed_texture_pvrtc"),y!==null){if(r===_f)return y.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===hf)return y.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===df)return y.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===mf)return y.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===gl||r===xl||r===yl)if(y=p.get("WEBGL_compressed_texture_etc"),y!==null){if(r===gl||r===xl)return T===b0?y.COMPRESSED_SRGB8_ETC2:y.COMPRESSED_RGB8_ETC2;if(r===yl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:y.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===vl||r===Sl||r===Tl||r===Cl||r===wl||r===Ml||r===Rl||r===Al||r===El||r===bl||r===Nl||r===Dl||r===Il||r===Pl)if(y=p.get("WEBGL_compressed_texture_astc"),y!==null){if(r===vl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:y.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Sl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:y.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===Tl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:y.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Cl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:y.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===wl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:y.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Ml)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:y.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Rl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:y.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Al)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:y.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===El)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:y.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===bl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:y.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Nl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:y.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Dl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:y.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Il)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:y.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Pl)return T===b0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:y.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Ll)if(y=p.get("EXT_texture_compression_bptc"),y!==null){if(r===Ll)return T===b0?y.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:y.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(r===kl||r===Fl||r===Bl||r===Ul)if(y=p.get("EXT_texture_compression_rgtc"),y!==null){if(r===kl)return y.COMPRESSED_RED_RGTC1_EXT;if(r===Fl)return y.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Bl)return y.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Ul)return y.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Bs?f.UNSIGNED_INT_24_8:f[r]!==void 0?f[r]:null}_clientWaitAsync(){const{gl:r}=this,c=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);return r.flush(),new Promise((f,p)=>{function y(){const T=r.clientWaitSync(c,r.SYNC_FLUSH_COMMANDS_BIT,0);if(T===r.WAIT_FAILED){r.deleteSync(c),p();return}if(T===r.TIMEOUT_EXPIRED){requestAnimationFrame(y);return}r.deleteSync(c),f()}y()})}}let Mg=!1,e_,J4,Rg;class p3e{constructor(r){this.backend=r,this.gl=r.gl,this.extensions=r.extensions,this.defaultTextures={},this._srcFramebuffer=null,this._dstFramebuffer=null,Mg===!1&&(this._init(),Mg=!0)}_init(){const r=this.gl;e_={[ks]:r.REPEAT,[Cr]:r.CLAMP_TO_EDGE,[tc]:r.MIRRORED_REPEAT},J4={[r2]:r.NEAREST,[zd]:r.NEAREST_MIPMAP_NEAREST,[E1]:r.NEAREST_MIPMAP_LINEAR,[s2]:r.LINEAR,[ol]:r.LINEAR_MIPMAP_NEAREST,[Vr]:r.LINEAR_MIPMAP_LINEAR},Rg={[Hd]:r.NEVER,[Yd]:r.ALWAYS,[P_]:r.LESS,[L_]:r.LEQUAL,[jd]:r.EQUAL,[$d]:r.GEQUAL,[qd]:r.GREATER,[Xd]:r.NOTEQUAL}}getGLTextureType(r){const{gl:c}=this;let f;return r.isCubeTexture===!0?f=c.TEXTURE_CUBE_MAP:r.isArrayTexture===!0||r.isDataArrayTexture===!0||r.isCompressedArrayTexture===!0?f=c.TEXTURE_2D_ARRAY:r.isData3DTexture===!0?f=c.TEXTURE_3D:f=c.TEXTURE_2D,f}getInternalFormat(r,c,f,p,y=!1){const{gl:T,extensions:R}=this;if(r!==null){if(T[r]!==void 0)return T[r];jt("WebGLBackend: Attempt to use non-existing WebGL internal format '"+r+"'")}let b=c;if(c===T.RED&&(f===T.FLOAT&&(b=T.R32F),f===T.HALF_FLOAT&&(b=T.R16F),f===T.UNSIGNED_BYTE&&(b=T.R8),f===T.UNSIGNED_SHORT&&(b=T.R16),f===T.UNSIGNED_INT&&(b=T.R32UI),f===T.BYTE&&(b=T.R8I),f===T.SHORT&&(b=T.R16I),f===T.INT&&(b=T.R32I)),c===T.RED_INTEGER&&(f===T.UNSIGNED_BYTE&&(b=T.R8UI),f===T.UNSIGNED_SHORT&&(b=T.R16UI),f===T.UNSIGNED_INT&&(b=T.R32UI),f===T.BYTE&&(b=T.R8I),f===T.SHORT&&(b=T.R16I),f===T.INT&&(b=T.R32I)),c===T.RG&&(f===T.FLOAT&&(b=T.RG32F),f===T.HALF_FLOAT&&(b=T.RG16F),f===T.UNSIGNED_BYTE&&(b=T.RG8),f===T.UNSIGNED_SHORT&&(b=T.RG16),f===T.UNSIGNED_INT&&(b=T.RG32UI),f===T.BYTE&&(b=T.RG8I),f===T.SHORT&&(b=T.RG16I),f===T.INT&&(b=T.RG32I)),c===T.RG_INTEGER&&(f===T.UNSIGNED_BYTE&&(b=T.RG8UI),f===T.UNSIGNED_SHORT&&(b=T.RG16UI),f===T.UNSIGNED_INT&&(b=T.RG32UI),f===T.BYTE&&(b=T.RG8I),f===T.SHORT&&(b=T.RG16I),f===T.INT&&(b=T.RG32I)),c===T.RGB){const P=y?Ol:pi.getTransfer(p);f===T.FLOAT&&(b=T.RGB32F),f===T.HALF_FLOAT&&(b=T.RGB16F),f===T.UNSIGNED_BYTE&&(b=T.RGB8),f===T.UNSIGNED_SHORT&&(b=T.RGB16),f===T.UNSIGNED_INT&&(b=T.RGB32UI),f===T.BYTE&&(b=T.RGB8I),f===T.SHORT&&(b=T.RGB16I),f===T.INT&&(b=T.RGB32I),f===T.UNSIGNED_BYTE&&(b=P===b0?T.SRGB8:T.RGB8),f===T.UNSIGNED_SHORT_5_6_5&&(b=T.RGB565),f===T.UNSIGNED_SHORT_5_5_5_1&&(b=T.RGB5_A1),f===T.UNSIGNED_SHORT_4_4_4_4&&(b=T.RGB4),f===T.UNSIGNED_INT_5_9_9_9_REV&&(b=T.RGB9_E5),f===T.UNSIGNED_INT_10F_11F_11F_REV&&(b=T.R11F_G11F_B10F)}if(c===T.RGB_INTEGER&&(f===T.UNSIGNED_BYTE&&(b=T.RGB8UI),f===T.UNSIGNED_SHORT&&(b=T.RGB16UI),f===T.UNSIGNED_INT&&(b=T.RGB32UI),f===T.BYTE&&(b=T.RGB8I),f===T.SHORT&&(b=T.RGB16I),f===T.INT&&(b=T.RGB32I)),c===T.RGBA){const P=y?Ol:pi.getTransfer(p);f===T.FLOAT&&(b=T.RGBA32F),f===T.HALF_FLOAT&&(b=T.RGBA16F),f===T.UNSIGNED_BYTE&&(b=T.RGBA8),f===T.UNSIGNED_SHORT&&(b=T.RGBA16),f===T.UNSIGNED_INT&&(b=T.RGBA32UI),f===T.BYTE&&(b=T.RGBA8I),f===T.SHORT&&(b=T.RGBA16I),f===T.INT&&(b=T.RGBA32I),f===T.UNSIGNED_BYTE&&(b=P===b0?T.SRGB8_ALPHA8:T.RGBA8),f===T.UNSIGNED_SHORT_4_4_4_4&&(b=T.RGBA4),f===T.UNSIGNED_SHORT_5_5_5_1&&(b=T.RGB5_A1)}return c===T.RGBA_INTEGER&&(f===T.UNSIGNED_BYTE&&(b=T.RGBA8UI),f===T.UNSIGNED_SHORT&&(b=T.RGBA16UI),f===T.UNSIGNED_INT&&(b=T.RGBA32UI),f===T.BYTE&&(b=T.RGBA8I),f===T.SHORT&&(b=T.RGBA16I),f===T.INT&&(b=T.RGBA32I)),c===T.DEPTH_COMPONENT&&(f===T.UNSIGNED_SHORT&&(b=T.DEPTH_COMPONENT16),f===T.UNSIGNED_INT&&(b=T.DEPTH_COMPONENT24),f===T.FLOAT&&(b=T.DEPTH_COMPONENT32F)),c===T.DEPTH_STENCIL&&f===T.UNSIGNED_INT_24_8&&(b=T.DEPTH24_STENCIL8),(b===T.R16F||b===T.R32F||b===T.RG16F||b===T.RG32F||b===T.RGBA16F||b===T.RGBA32F)&&R.get("EXT_color_buffer_float"),b}setTextureParameters(r,c){const{gl:f,extensions:p,backend:y}=this,T=pi.getPrimaries(pi.workingColorSpace),R=c.colorSpace===vs?null:pi.getPrimaries(c.colorSpace),b=c.colorSpace===vs||T===R?f.NONE:f.BROWSER_DEFAULT_WEBGL;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,c.flipY),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultiplyAlpha),f.pixelStorei(f.UNPACK_ALIGNMENT,c.unpackAlignment),f.pixelStorei(f.UNPACK_COLORSPACE_CONVERSION_WEBGL,b),f.texParameteri(r,f.TEXTURE_WRAP_S,e_[c.wrapS]),f.texParameteri(r,f.TEXTURE_WRAP_T,e_[c.wrapT]),(r===f.TEXTURE_3D||r===f.TEXTURE_2D_ARRAY)&&(c.isArrayTexture||f.texParameteri(r,f.TEXTURE_WRAP_R,e_[c.wrapR])),f.texParameteri(r,f.TEXTURE_MAG_FILTER,J4[c.magFilter]);const P=c.mipmaps!==void 0&&c.mipmaps.length>0,G=c.minFilter===s2&&P?Vr:c.minFilter;if(f.texParameteri(r,f.TEXTURE_MIN_FILTER,J4[G]),c.compareFunction&&(f.texParameteri(r,f.TEXTURE_COMPARE_MODE,f.COMPARE_REF_TO_TEXTURE),f.texParameteri(r,f.TEXTURE_COMPARE_FUNC,Rg[c.compareFunction])),p.has("EXT_texture_filter_anisotropic")===!0){if(c.magFilter===r2||c.minFilter!==E1&&c.minFilter!==Vr||c.type===P2&&p.has("OES_texture_float_linear")===!1)return;if(c.anisotropy>1){const j=p.get("EXT_texture_filter_anisotropic");f.texParameterf(r,j.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(c.anisotropy,y.getMaxAnisotropy()))}}}createDefaultTexture(r){const{gl:c,backend:f,defaultTextures:p}=this,y=this.getGLTextureType(r);let T=p[y];T===void 0&&(T=c.createTexture(),f.state.bindTexture(y,T),c.texParameteri(y,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(y,c.TEXTURE_MAG_FILTER,c.NEAREST),p[y]=T),f.set(r,{textureGPU:T,glTextureType:y})}createTexture(r,c){const{gl:f,backend:p}=this,{levels:y,width:T,height:R,depth:b}=c,P=p.utils.convert(r.format,r.colorSpace),G=p.utils.convert(r.type),j=this.getInternalFormat(r.internalFormat,P,G,r.colorSpace,r.isVideoTexture),K=f.createTexture(),Q=this.getGLTextureType(r);p.state.bindTexture(Q,K),this.setTextureParameters(Q,r),r.isArrayTexture||r.isDataArrayTexture||r.isCompressedArrayTexture?f.texStorage3D(f.TEXTURE_2D_ARRAY,y,j,T,R,b):r.isData3DTexture?f.texStorage3D(f.TEXTURE_3D,y,j,T,R,b):r.isVideoTexture||f.texStorage2D(Q,y,j,T,R),p.set(r,{textureGPU:K,glTextureType:Q,glFormat:P,glType:G,glInternalFormat:j})}copyBufferToTexture(r,c){const{gl:f,backend:p}=this,{textureGPU:y,glTextureType:T,glFormat:R,glType:b}=p.get(c),{width:P,height:G}=c.source.data;f.bindBuffer(f.PIXEL_UNPACK_BUFFER,r),p.state.bindTexture(T,y),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!1),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),f.texSubImage2D(T,0,0,0,P,G,R,b,0),f.bindBuffer(f.PIXEL_UNPACK_BUFFER,null),p.state.unbindTexture()}updateTexture(r,c){const{gl:f}=this,{width:p,height:y}=c,{textureGPU:T,glTextureType:R,glFormat:b,glType:P,glInternalFormat:G}=this.backend.get(r);if(!(r.isRenderTargetTexture||T===void 0))if(this.backend.state.bindTexture(R,T),this.setTextureParameters(R,r),r.isCompressedTexture){const j=r.mipmaps,K=c.image;for(let Q=0;Q<j.length;Q++){const ie=j[Q];r.isCompressedArrayTexture?r.format!==f.RGBA?b!==null?f.compressedTexSubImage3D(f.TEXTURE_2D_ARRAY,Q,0,0,0,ie.width,ie.height,K.depth,b,ie.data):jt("WebGLBackend: Attempt to load unsupported compressed texture format in .uploadTexture()"):f.texSubImage3D(f.TEXTURE_2D_ARRAY,Q,0,0,0,ie.width,ie.height,K.depth,b,P,ie.data):b!==null?f.compressedTexSubImage2D(f.TEXTURE_2D,Q,0,0,ie.width,ie.height,b,ie.data):jt("WebGLBackend: Unsupported compressed texture format")}}else if(r.isCubeTexture){const j=c.images,K=r.mipmaps;for(let Q=0;Q<6;Q++){const ie=t_(j[Q]);f.texSubImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0,0,0,p,y,b,P,ie);for(let ce=0;ce<K.length;ce++){const ue=K[ce],se=t_(ue.images[Q]);f.texSubImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X+Q,ce+1,0,0,se.width,se.height,b,P,se)}}}else if(r.isDataArrayTexture||r.isArrayTexture){const j=c.image;if(r.layerUpdates.size>0){const K=fd(j.width,j.height,r.format,r.type);for(const Q of r.layerUpdates){const ie=j.data.subarray(Q*K/j.data.BYTES_PER_ELEMENT,(Q+1)*K/j.data.BYTES_PER_ELEMENT);f.texSubImage3D(f.TEXTURE_2D_ARRAY,0,0,0,Q,j.width,j.height,1,b,P,ie)}r.clearLayerUpdates()}else f.texSubImage3D(f.TEXTURE_2D_ARRAY,0,0,0,0,j.width,j.height,j.depth,b,P,j.data)}else if(r.isData3DTexture){const j=c.image;f.texSubImage3D(f.TEXTURE_3D,0,0,0,0,j.width,j.height,j.depth,b,P,j.data)}else if(r.isVideoTexture)r.update(),f.texImage2D(R,0,G,b,P,c.image);else{const j=r.mipmaps;if(j.length>0)for(let K=0,Q=j.length;K<Q;K++){const ie=j[K],ce=t_(ie);f.texSubImage2D(R,K,0,0,ie.width,ie.height,b,P,ce)}else{const K=t_(c.image);f.texSubImage2D(R,0,0,0,p,y,b,P,K)}}}generateMipmaps(r){const{gl:c,backend:f}=this,{textureGPU:p,glTextureType:y}=f.get(r);f.state.bindTexture(y,p),c.generateMipmap(y)}deallocateRenderBuffers(r){const{gl:c,backend:f}=this;if(r){const p=f.get(r);if(p.renderBufferStorageSetup=void 0,p.framebuffers){for(const y in p.framebuffers)c.deleteFramebuffer(p.framebuffers[y]);delete p.framebuffers}if(p.depthRenderbuffer&&(c.deleteRenderbuffer(p.depthRenderbuffer),delete p.depthRenderbuffer),p.stencilRenderbuffer&&(c.deleteRenderbuffer(p.stencilRenderbuffer),delete p.stencilRenderbuffer),p.msaaFrameBuffer&&(c.deleteFramebuffer(p.msaaFrameBuffer),delete p.msaaFrameBuffer),p.msaaRenderbuffers){for(let y=0;y<p.msaaRenderbuffers.length;y++)c.deleteRenderbuffer(p.msaaRenderbuffers[y]);delete p.msaaRenderbuffers}}}destroyTexture(r,c=!1){const{gl:f,backend:p}=this,{textureGPU:y,renderTarget:T}=p.get(r);this.deallocateRenderBuffers(T),c===!1&&f.deleteTexture(y),p.delete(r)}copyTextureToTexture(r,c,f=null,p=null,y=0,T=0){const{gl:R,backend:b}=this,{state:P}=this.backend,{textureGPU:G,glTextureType:j,glType:K,glFormat:Q}=b.get(c);P.bindTexture(j,G);let ie,ce,ue,se,Ne,De,Oe,je,Be;const We=r.isCompressedTexture?r.mipmaps[T]:r.image;if(f!==null)ie=f.max.x-f.min.x,ce=f.max.y-f.min.y,ue=f.isBox3?f.max.z-f.min.z:1,se=f.min.x,Ne=f.min.y,De=f.isBox3?f.min.z:0;else{const Dt=Math.pow(2,-y);ie=Math.floor(We.width*Dt),ce=Math.floor(We.height*Dt),r.isDataArrayTexture||r.isArrayTexture?ue=We.depth:r.isData3DTexture?ue=Math.floor(We.depth*Dt):ue=1,se=0,Ne=0,De=0}p!==null?(Oe=p.x,je=p.y,Be=p.z):(Oe=0,je=0,Be=0),R.pixelStorei(R.UNPACK_FLIP_Y_WEBGL,c.flipY),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultiplyAlpha),R.pixelStorei(R.UNPACK_ALIGNMENT,c.unpackAlignment);const $e=R.getParameter(R.UNPACK_ROW_LENGTH),Ee=R.getParameter(R.UNPACK_IMAGE_HEIGHT),Ie=R.getParameter(R.UNPACK_SKIP_PIXELS),Je=R.getParameter(R.UNPACK_SKIP_ROWS),ft=R.getParameter(R.UNPACK_SKIP_IMAGES);R.pixelStorei(R.UNPACK_ROW_LENGTH,We.width),R.pixelStorei(R.UNPACK_IMAGE_HEIGHT,We.height),R.pixelStorei(R.UNPACK_SKIP_PIXELS,se),R.pixelStorei(R.UNPACK_SKIP_ROWS,Ne),R.pixelStorei(R.UNPACK_SKIP_IMAGES,De);const yt=r.isDataArrayTexture||r.isData3DTexture||c.isArrayTexture,Et=c.isDataArrayTexture||c.isData3DTexture||c.isArrayTexture;if(r.isDepthTexture){const Dt=b.get(r),ct=b.get(c),Wt=b.get(Dt.renderTarget),vt=b.get(ct.renderTarget),Ht=Wt.framebuffers[Dt.cacheKey],Qt=vt.framebuffers[ct.cacheKey];P.bindFramebuffer(R.READ_FRAMEBUFFER,Ht),P.bindFramebuffer(R.DRAW_FRAMEBUFFER,Qt);for(let a0=0;a0<ue;a0++)yt&&(R.framebufferTextureLayer(R.READ_FRAMEBUFFER,R.COLOR_ATTACHMENT0,Dt.textureGPU,y,De+a0),R.framebufferTextureLayer(R.DRAW_FRAMEBUFFER,R.COLOR_ATTACHMENT0,G,T,Be+a0)),R.blitFramebuffer(se,Ne,ie,ce,Oe,je,ie,ce,R.DEPTH_BUFFER_BIT,R.NEAREST);P.bindFramebuffer(R.READ_FRAMEBUFFER,null),P.bindFramebuffer(R.DRAW_FRAMEBUFFER,null)}else if(y!==0||r.isRenderTargetTexture||b.has(r)){const Dt=b.get(r);this._srcFramebuffer===null&&(this._srcFramebuffer=R.createFramebuffer()),this._dstFramebuffer===null&&(this._dstFramebuffer=R.createFramebuffer()),P.bindFramebuffer(R.READ_FRAMEBUFFER,this._srcFramebuffer),P.bindFramebuffer(R.DRAW_FRAMEBUFFER,this._dstFramebuffer);for(let ct=0;ct<ue;ct++)yt?R.framebufferTextureLayer(R.READ_FRAMEBUFFER,R.COLOR_ATTACHMENT0,Dt.textureGPU,y,De+ct):R.framebufferTexture2D(R.READ_FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,Dt.textureGPU,y),Et?R.framebufferTextureLayer(R.DRAW_FRAMEBUFFER,R.COLOR_ATTACHMENT0,G,T,Be+ct):R.framebufferTexture2D(R.DRAW_FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,G,T),y!==0?R.blitFramebuffer(se,Ne,ie,ce,Oe,je,ie,ce,R.COLOR_BUFFER_BIT,R.NEAREST):Et?R.copyTexSubImage3D(j,T,Oe,je,Be+ct,se,Ne,ie,ce):R.copyTexSubImage2D(j,T,Oe,je,se,Ne,ie,ce);P.bindFramebuffer(R.READ_FRAMEBUFFER,null),P.bindFramebuffer(R.DRAW_FRAMEBUFFER,null)}else Et?r.isDataTexture||r.isData3DTexture?R.texSubImage3D(j,T,Oe,je,Be,ie,ce,ue,Q,K,We.data):c.isCompressedArrayTexture?R.compressedTexSubImage3D(j,T,Oe,je,Be,ie,ce,ue,Q,We.data):R.texSubImage3D(j,T,Oe,je,Be,ie,ce,ue,Q,K,We):r.isDataTexture?R.texSubImage2D(R.TEXTURE_2D,T,Oe,je,ie,ce,Q,K,We.data):r.isCompressedTexture?R.compressedTexSubImage2D(R.TEXTURE_2D,T,Oe,je,We.width,We.height,Q,We.data):R.texSubImage2D(R.TEXTURE_2D,T,Oe,je,ie,ce,Q,K,We);R.pixelStorei(R.UNPACK_ROW_LENGTH,$e),R.pixelStorei(R.UNPACK_IMAGE_HEIGHT,Ee),R.pixelStorei(R.UNPACK_SKIP_PIXELS,Ie),R.pixelStorei(R.UNPACK_SKIP_ROWS,Je),R.pixelStorei(R.UNPACK_SKIP_IMAGES,ft),T===0&&c.generateMipmaps&&R.generateMipmap(j),P.unbindTexture()}copyFramebufferToTexture(r,c,f){const{gl:p}=this,{state:y}=this.backend,{textureGPU:T}=this.backend.get(r),{x:R,y:b,z:P,w:G}=f,j=r.isDepthTexture===!0||c.renderTarget&&c.renderTarget.samples>0,K=c.renderTarget?c.renderTarget.height:this.backend.getDrawingBufferSize().y;if(j){const Q=R!==0||b!==0;let ie,ce;if(r.isDepthTexture===!0?(ie=p.DEPTH_BUFFER_BIT,ce=p.DEPTH_ATTACHMENT,c.stencil&&(ie|=p.STENCIL_BUFFER_BIT)):(ie=p.COLOR_BUFFER_BIT,ce=p.COLOR_ATTACHMENT0),Q){const ue=this.backend.get(c.renderTarget),se=ue.framebuffers[c.getCacheKey()],Ne=ue.msaaFrameBuffer;y.bindFramebuffer(p.DRAW_FRAMEBUFFER,se),y.bindFramebuffer(p.READ_FRAMEBUFFER,Ne);const De=K-b-G;p.blitFramebuffer(R,De,R+P,De+G,R,De,R+P,De+G,ie,p.NEAREST),y.bindFramebuffer(p.READ_FRAMEBUFFER,se),y.bindTexture(p.TEXTURE_2D,T),p.copyTexSubImage2D(p.TEXTURE_2D,0,0,0,R,De,P,G),y.unbindTexture()}else{const ue=p.createFramebuffer();y.bindFramebuffer(p.DRAW_FRAMEBUFFER,ue),p.framebufferTexture2D(p.DRAW_FRAMEBUFFER,ce,p.TEXTURE_2D,T,0),p.blitFramebuffer(0,0,P,G,0,0,P,G,ie,p.NEAREST),p.deleteFramebuffer(ue)}}else y.bindTexture(p.TEXTURE_2D,T),p.copyTexSubImage2D(p.TEXTURE_2D,0,0,0,R,K-G-b,P,G),y.unbindTexture();r.generateMipmaps&&this.generateMipmaps(r),this.backend._setFramebuffer(c)}setupRenderBufferStorage(r,c,f,p=!1){const{gl:y}=this,T=c.renderTarget,{depthTexture:R,depthBuffer:b,stencilBuffer:P,width:G,height:j}=T;if(y.bindRenderbuffer(y.RENDERBUFFER,r),b&&!P){let K=y.DEPTH_COMPONENT24;p===!0?this.extensions.get("WEBGL_multisampled_render_to_texture").renderbufferStorageMultisampleEXT(y.RENDERBUFFER,T.samples,K,G,j):f>0?(R&&R.isDepthTexture&&R.type===y.FLOAT&&(K=y.DEPTH_COMPONENT32F),y.renderbufferStorageMultisample(y.RENDERBUFFER,f,K,G,j)):y.renderbufferStorage(y.RENDERBUFFER,K,G,j),y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,r)}else b&&P&&(f>0?y.renderbufferStorageMultisample(y.RENDERBUFFER,f,y.DEPTH24_STENCIL8,G,j):y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_STENCIL,G,j),y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_STENCIL_ATTACHMENT,y.RENDERBUFFER,r));y.bindRenderbuffer(y.RENDERBUFFER,null)}async copyTextureToBuffer(r,c,f,p,y,T){const{backend:R,gl:b}=this,{textureGPU:P,glFormat:G,glType:j}=this.backend.get(r),K=b.createFramebuffer();b.bindFramebuffer(b.READ_FRAMEBUFFER,K);const Q=r.isCubeTexture?b.TEXTURE_CUBE_MAP_POSITIVE_X+T:b.TEXTURE_2D;b.framebufferTexture2D(b.READ_FRAMEBUFFER,b.COLOR_ATTACHMENT0,Q,P,0);const ie=this._getTypedArrayType(j),ce=this._getBytesPerTexel(j,G),se=p*y*ce,Ne=b.createBuffer();b.bindBuffer(b.PIXEL_PACK_BUFFER,Ne),b.bufferData(b.PIXEL_PACK_BUFFER,se,b.STREAM_READ),b.readPixels(c,f,p,y,G,j,0),b.bindBuffer(b.PIXEL_PACK_BUFFER,null),await R.utils._clientWaitAsync();const De=new ie(se/ie.BYTES_PER_ELEMENT);return b.bindBuffer(b.PIXEL_PACK_BUFFER,Ne),b.getBufferSubData(b.PIXEL_PACK_BUFFER,0,De),b.bindBuffer(b.PIXEL_PACK_BUFFER,null),b.deleteFramebuffer(K),De}_getTypedArrayType(r){const{gl:c}=this;if(r===c.UNSIGNED_BYTE)return Uint8Array;if(r===c.UNSIGNED_SHORT_4_4_4_4||r===c.UNSIGNED_SHORT_5_5_5_1||r===c.UNSIGNED_SHORT_5_6_5||r===c.UNSIGNED_SHORT)return Uint16Array;if(r===c.UNSIGNED_INT)return Uint32Array;if(r===c.HALF_FLOAT)return Uint16Array;if(r===c.FLOAT)return Float32Array;throw new Error(`Unsupported WebGL type: ${r}`)}_getBytesPerTexel(r,c){const{gl:f}=this;let p=0;if(r===f.UNSIGNED_BYTE&&(p=1),(r===f.UNSIGNED_SHORT_4_4_4_4||r===f.UNSIGNED_SHORT_5_5_5_1||r===f.UNSIGNED_SHORT_5_6_5||r===f.UNSIGNED_SHORT||r===f.HALF_FLOAT)&&(p=2),(r===f.UNSIGNED_INT||r===f.FLOAT)&&(p=4),c===f.RGBA)return p*4;if(c===f.RGB)return p*3;if(c===f.ALPHA)return p}dispose(){const{gl:r}=this;this._srcFramebuffer!==null&&r.deleteFramebuffer(this._srcFramebuffer),this._dstFramebuffer!==null&&r.deleteFramebuffer(this._dstFramebuffer)}}function t_(v){return v.isDataTexture?v.image.data:typeof HTMLImageElement<"u"&&v instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&v instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&v instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&v instanceof OffscreenCanvas?v:v.data}class _3e{constructor(r){this.backend=r,this.gl=this.backend.gl,this.availableExtensions=this.gl.getSupportedExtensions(),this.extensions={}}get(r){let c=this.extensions[r];return c===void 0&&(c=this.gl.getExtension(r),this.extensions[r]=c),c}has(r){return this.availableExtensions.includes(r)}}class h3e{constructor(r){this.backend=r,this.maxAnisotropy=null}getMaxAnisotropy(){if(this.maxAnisotropy!==null)return this.maxAnisotropy;const r=this.backend.gl,c=this.backend.extensions;if(c.has("EXT_texture_filter_anisotropic")===!0){const f=c.get("EXT_texture_filter_anisotropic");this.maxAnisotropy=r.getParameter(f.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else this.maxAnisotropy=0;return this.maxAnisotropy}}const Ag={WEBGL_multi_draw:"WEBGL_multi_draw",WEBGL_compressed_texture_astc:"texture-compression-astc",WEBGL_compressed_texture_etc:"texture-compression-etc2",WEBGL_compressed_texture_etc1:"texture-compression-etc1",WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBGL_compressed_texture_s3tc:"texture-compression-s3tc",EXT_texture_compression_bptc:"texture-compression-bc",EXT_disjoint_timer_query_webgl2:"timestamp-query",OVR_multiview2:"OVR_multiview2"};class d3e{constructor(r){this.gl=r.gl,this.extensions=r.extensions,this.info=r.renderer.info,this.mode=null,this.index=0,this.type=null,this.object=null}render(r,c){const{gl:f,mode:p,object:y,type:T,info:R,index:b}=this;b!==0?f.drawElements(p,c,T,r):f.drawArrays(p,r,c),R.update(y,c,1)}renderInstances(r,c,f){const{gl:p,mode:y,type:T,index:R,object:b,info:P}=this;f!==0&&(R!==0?p.drawElementsInstanced(y,c,T,r,f):p.drawArraysInstanced(y,r,c,f),P.update(b,c,f))}renderMultiDraw(r,c,f){const{extensions:p,mode:y,object:T,info:R}=this;if(f===0)return;const b=p.get("WEBGL_multi_draw");if(b===null)for(let P=0;P<f;P++)this.render(r[P],c[P]);else{this.index!==0?b.multiDrawElementsWEBGL(y,c,0,this.type,r,0,f):b.multiDrawArraysWEBGL(y,r,0,c,0,f);let P=0;for(let G=0;G<f;G++)P+=c[G];R.update(T,P,1)}}renderMultiDrawInstances(r,c,f,p){const{extensions:y,mode:T,object:R,info:b}=this;if(f===0)return;const P=y.get("WEBGL_multi_draw");if(P===null)for(let G=0;G<f;G++)this.renderInstances(r[G],c[G],p[G]);else{this.index!==0?P.multiDrawElementsInstancedWEBGL(T,c,0,this.type,r,0,p,0,f):P.multiDrawArraysInstancedWEBGL(T,r,0,c,0,p,0,f);let G=0;for(let j=0;j<f;j++)G+=c[j]*p[j];b.update(R,G,1)}}}class Cv{constructor(r=256){this.trackTimestamp=!0,this.maxQueries=r,this.currentQueryIndex=0,this.queryOffsets=new Map,this.isDisposed=!1,this.lastValue=0,this.frames=[],this.pendingResolve=!1,this.timestamps=new Map}getTimestampFrames(){return this.frames}getTimestamp(r){let c=this.timestamps.get(r);return c===void 0&&(jt(`TimestampQueryPool: No timestamp available for uid ${r}.`),c=0),c}hasTimestamp(r){return this.timestamps.has(r)}allocateQueriesForContext(){}async resolveQueriesAsync(){}dispose(){}}class m3e extends Cv{constructor(r,c,f=2048){if(super(f),this.gl=r,this.type=c,this.ext=r.getExtension("EXT_disjoint_timer_query_webgl2")||r.getExtension("EXT_disjoint_timer_query"),!this.ext){jt("EXT_disjoint_timer_query not supported; timestamps will be disabled."),this.trackTimestamp=!1;return}this.queries=[];for(let p=0;p<this.maxQueries;p++)this.queries.push(r.createQuery());this.activeQuery=null,this.queryStates=new Map}allocateQueriesForContext(r){if(!this.trackTimestamp)return null;if(this.currentQueryIndex+2>this.maxQueries)return c2(`WebGPUTimestampQueryPool [${this.type}]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.${this.type.toUpperCase()} ).`),null;const c=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryStates.set(c,"inactive"),this.queryOffsets.set(r,c),c}beginQuery(r){if(!this.trackTimestamp||this.isDisposed)return;const c=this.queryOffsets.get(r);if(c==null||this.activeQuery!==null)return;const f=this.queries[c];if(f)try{this.queryStates.get(c)==="inactive"&&(this.gl.beginQuery(this.ext.TIME_ELAPSED_EXT,f),this.activeQuery=c,this.queryStates.set(c,"started"))}catch(p){p("Error in beginQuery:",p),this.activeQuery=null,this.queryStates.set(c,"inactive")}}endQuery(r){if(!this.trackTimestamp||this.isDisposed)return;const c=this.queryOffsets.get(r);if(c!=null&&this.activeQuery===c)try{this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.queryStates.set(c,"ended"),this.activeQuery=null}catch(f){f("Error in endQuery:",f),this.queryStates.set(c,"inactive"),this.activeQuery=null}}async resolveQueriesAsync(){if(!this.trackTimestamp||this.pendingResolve)return this.lastValue;this.pendingResolve=!0;try{const r=new Map;for(const[y,T]of this.queryOffsets)if(this.queryStates.get(T)==="ended"){const b=this.queries[T];r.set(y,this.resolveQuery(b))}if(r.size===0)return this.lastValue;const c={},f=[];for(const[y,T]of r){const R=y.match(/^(.*):f(\d+)$/),b=parseInt(R[2]);f.includes(b)===!1&&f.push(b),c[b]===void 0&&(c[b]=0);const P=await T;this.timestamps.set(y,P),c[b]+=P}const p=c[f[f.length-1]];return this.lastValue=p,this.frames=f,this.currentQueryIndex=0,this.queryOffsets.clear(),this.queryStates.clear(),this.activeQuery=null,p}catch(r){return r("Error resolving queries:",r),this.lastValue}finally{this.pendingResolve=!1}}async resolveQuery(r){return new Promise(c=>{if(this.isDisposed){c(this.lastValue);return}let f,p=!1;const y=()=>{f&&(clearTimeout(f),f=null)},T=b=>{p||(p=!0,y(),c(b))},R=()=>{if(this.isDisposed){T(this.lastValue);return}try{if(this.gl.getParameter(this.ext.GPU_DISJOINT_EXT)){T(this.lastValue);return}if(!this.gl.getQueryParameter(r,this.gl.QUERY_RESULT_AVAILABLE)){f=setTimeout(R,1);return}const G=this.gl.getQueryParameter(r,this.gl.QUERY_RESULT);c(Number(G)/1e6)}catch(b){b("Error checking query:",b),c(this.lastValue)}};R()})}dispose(){if(!this.isDisposed&&(this.isDisposed=!0,!!this.trackTimestamp)){for(const r of this.queries)this.gl.deleteQuery(r);this.queries=[],this.queryStates.clear(),this.queryOffsets.clear(),this.lastValue=0,this.activeQuery=null}}}class Eg extends Tv{constructor(r={}){super(r),this.isWebGLBackend=!0,this.attributeUtils=null,this.extensions=null,this.capabilities=null,this.textureUtils=null,this.bufferRenderer=null,this.gl=null,this.state=null,this.utils=null,this.vaoCache={},this.transformFeedbackCache={},this.discard=!1,this.disjoint=null,this.parallel=null,this._currentContext=null,this._knownBindings=new WeakSet,this._supportsInvalidateFramebuffer=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),this._xrFramebuffer=null}init(r){super.init(r);const c=this.parameters,f={antialias:r.currentSamples>0,alpha:!0,depth:r.depth,stencil:r.stencil},p=c.context!==void 0?c.context:r.domElement.getContext("webgl2",f);function y(T){T.preventDefault();const R={api:"WebGL",message:T.statusMessage||"Unknown reason",reason:null,originalEvent:T};r.onDeviceLost(R)}this._onContextLost=y,r.domElement.addEventListener("webglcontextlost",y,!1),this.gl=p,this.extensions=new _3e(this),this.capabilities=new h3e(this),this.attributeUtils=new l3e(this),this.textureUtils=new p3e(this),this.bufferRenderer=new d3e(this),this.state=new u3e(this),this.utils=new f3e(this),this.extensions.get("EXT_color_buffer_float"),this.extensions.get("WEBGL_clip_cull_distance"),this.extensions.get("OES_texture_float_linear"),this.extensions.get("EXT_color_buffer_half_float"),this.extensions.get("WEBGL_multisampled_render_to_texture"),this.extensions.get("WEBGL_render_shared_exponent"),this.extensions.get("WEBGL_multi_draw"),this.extensions.get("OVR_multiview2"),this.disjoint=this.extensions.get("EXT_disjoint_timer_query_webgl2"),this.parallel=this.extensions.get("KHR_parallel_shader_compile")}get coordinateSystem(){return rs}async getArrayBufferAsync(r){return await this.attributeUtils.getArrayBufferAsync(r)}async makeXRCompatible(){this.gl.getContextAttributes().xrCompatible!==!0&&await this.gl.makeXRCompatible()}setXRTarget(r){this._xrFramebuffer=r}setXRRenderTargetTextures(r,c,f=null){const p=this.gl;if(this.set(r.texture,{textureGPU:c,glInternalFormat:p.RGBA8}),f!==null){const y=r.stencilBuffer?p.DEPTH24_STENCIL8:p.DEPTH_COMPONENT24;this.set(r.depthTexture,{textureGPU:f,glInternalFormat:y}),this.extensions.has("WEBGL_multisampled_render_to_texture")===!0&&r._autoAllocateDepthBuffer===!0&&r.multiview===!1&&jt("WebGLBackend: Render-to-texture extension was disabled because an external texture was provided"),r._autoAllocateDepthBuffer=!1}}initTimestampQuery(r,c){if(!this.disjoint||!this.trackTimestamp)return;this.timestampQueryPool[r]||(this.timestampQueryPool[r]=new m3e(this.gl,r,2048));const f=this.timestampQueryPool[r];f.allocateQueriesForContext(c)!==null&&f.beginQuery(c)}prepareTimestampBuffer(r,c){if(!this.disjoint||!this.trackTimestamp)return;this.timestampQueryPool[r].endQuery(c)}getContext(){return this.gl}beginRender(r){const{state:c}=this,f=this.get(r);if(r.viewport)this.updateViewport(r);else{const{width:y,height:T}=this.getDrawingBufferSize();c.viewport(0,0,y,T)}if(r.scissor){const{x:y,y:T,width:R,height:b}=r.scissorValue;c.scissor(y,r.height-b-T,R,b)}this.initTimestampQuery(jo.RENDER,this.getTimestampUID(r)),f.previousContext=this._currentContext,this._currentContext=r,this._setFramebuffer(r),this.clear(r.clearColor,r.clearDepth,r.clearStencil,r,!1);const p=r.occlusionQueryCount;p>0&&(f.currentOcclusionQueries=f.occlusionQueries,f.currentOcclusionQueryObjects=f.occlusionQueryObjects,f.lastOcclusionObject=null,f.occlusionQueries=new Array(p),f.occlusionQueryObjects=new Array(p),f.occlusionQueryIndex=0)}finishRender(r){const{gl:c,state:f}=this,p=this.get(r),y=p.previousContext;f.resetVertexState();const T=r.occlusionQueryCount;T>0&&(T>p.occlusionQueryIndex&&c.endQuery(c.ANY_SAMPLES_PASSED),this.resolveOccludedAsync(r));const R=r.textures;if(R!==null)for(let b=0;b<R.length;b++){const P=R[b];P.generateMipmaps&&this.generateMipmaps(P)}if(this._currentContext=y,this._resolveRenderTarget(r),y!==null)if(this._setFramebuffer(y),y.viewport)this.updateViewport(y);else{const{width:b,height:P}=this.getDrawingBufferSize();f.viewport(0,0,b,P)}this.prepareTimestampBuffer(jo.RENDER,this.getTimestampUID(r))}resolveOccludedAsync(r){const c=this.get(r),{currentOcclusionQueries:f,currentOcclusionQueryObjects:p}=c;if(f&&p){const y=new WeakSet,{gl:T}=this;c.currentOcclusionQueryObjects=null,c.currentOcclusionQueries=null;const R=()=>{let b=0;for(let P=0;P<f.length;P++){const G=f[P];G!==null&&T.getQueryParameter(G,T.QUERY_RESULT_AVAILABLE)&&(T.getQueryParameter(G,T.QUERY_RESULT)===0&&y.add(p[P]),f[P]=null,T.deleteQuery(G),b++)}b<f.length?requestAnimationFrame(R):c.occluded=y};R()}}isOccluded(r,c){const f=this.get(r);return f.occluded&&f.occluded.has(c)}updateViewport(r){const{state:c}=this,{x:f,y:p,width:y,height:T}=r.viewportValue;c.viewport(f,r.height-T-p,y,T)}setScissorTest(r){this.state.setScissorTest(r)}getClearColor(){const r=super.getClearColor();return r.r*=r.a,r.g*=r.a,r.b*=r.a,r}clear(r,c,f,p=null,y=!0,T=!0){const{gl:R,renderer:b}=this;p===null&&(p={textures:null,clearColorValue:this.getClearColor()});let P=0;if(r&&(P|=R.COLOR_BUFFER_BIT),c&&(P|=R.DEPTH_BUFFER_BIT),f&&(P|=R.STENCIL_BUFFER_BIT),P!==0){let G;p.clearColorValue?G=p.clearColorValue:G=this.getClearColor();const j=b.getClearDepth(),K=b.getClearStencil();if(c&&this.state.setDepthMask(!0),p.textures===null)R.clearColor(G.r,G.g,G.b,G.a),R.clear(P);else{if(y&&this._setFramebuffer(p),r)for(let Q=0;Q<p.textures.length;Q++)Q===0?R.clearBufferfv(R.COLOR,Q,[G.r,G.g,G.b,G.a]):R.clearBufferfv(R.COLOR,Q,[0,0,0,1]);c&&f?R.clearBufferfi(R.DEPTH_STENCIL,0,j,K):c?R.clearBufferfv(R.DEPTH,0,[j]):f&&R.clearBufferiv(R.STENCIL,0,[K]),y&&T&&this._resolveRenderTarget(p)}}}beginCompute(r){const{state:c,gl:f}=this;c.bindFramebuffer(f.FRAMEBUFFER,null),this.initTimestampQuery(jo.COMPUTE,this.getTimestampUID(r))}compute(r,c,f,p,y=null){const{state:T,gl:R}=this;this.discard===!1&&(R.enable(R.RASTERIZER_DISCARD),this.discard=!0);const{programGPU:b,transformBuffers:P,attributes:G}=this.get(p),j=this._getVaoKey(G),K=this.vaoCache[j];K===void 0?this.vaoCache[j]=this._createVao(G):T.setVertexState(K),T.useProgram(b),this._bindUniforms(f);const Q=this._getTransformFeedback(P);R.bindTransformFeedback(R.TRANSFORM_FEEDBACK,Q),R.beginTransformFeedback(R.POINTS),y=y!==null?y:c.count,Array.isArray(y)?(c2("WebGLBackend.compute(): The count parameter must be a single number, not an array."),y=y[0]):y&&typeof y=="object"&&y.isIndirectStorageBufferAttribute&&(c2("WebGLBackend.compute(): The count parameter must be a single number, not IndirectStorageBufferAttribute"),y=c.count),G[0].isStorageInstancedBufferAttribute?R.drawArraysInstanced(R.POINTS,0,1,y):R.drawArrays(R.POINTS,0,y),R.endTransformFeedback(),R.bindTransformFeedback(R.TRANSFORM_FEEDBACK,null);for(let ie=0;ie<P.length;ie++){const ce=P[ie];ce.pbo&&this.has(ce.pbo)&&this.textureUtils.copyBufferToTexture(ce.transformBuffer,ce.pbo),ce.switchBuffers()}}finishCompute(r){const c=this.gl;this.discard=!1,c.disable(c.RASTERIZER_DISCARD),this.prepareTimestampBuffer(jo.COMPUTE,this.getTimestampUID(r)),this._currentContext&&this._setFramebuffer(this._currentContext)}_isRenderCameraDepthArray(r){return r.depthTexture&&r.depthTexture.isArrayTexture&&r.camera.isArrayCamera}draw(r){const{object:c,pipeline:f,material:p,context:y,hardwareClippingPlanes:T}=r,{programGPU:R}=this.get(f),{gl:b,state:P}=this,G=this.get(y),j=r.getDrawParameters();if(j===null)return;this._bindUniforms(r.getBindings());const K=c.isMesh&&c.matrixWorld.determinant()<0;P.setMaterial(p,K,T),P.useProgram(R);const Q=r.getAttributes(),ie=this.get(Q);let ce=ie.vaoGPU;if(ce===void 0){const $e=this._getVaoKey(Q);ce=this.vaoCache[$e],ce===void 0&&(ce=this._createVao(Q),this.vaoCache[$e]=ce,ie.vaoGPU=ce)}const ue=r.getIndex(),se=ue!==null?this.get(ue).bufferGPU:null;P.setVertexState(ce,se);const Ne=G.lastOcclusionObject;if(Ne!==c&&Ne!==void 0){if(Ne!==null&&Ne.occlusionTest===!0&&(b.endQuery(b.ANY_SAMPLES_PASSED),G.occlusionQueryIndex++),c.occlusionTest===!0){const $e=b.createQuery();b.beginQuery(b.ANY_SAMPLES_PASSED,$e),G.occlusionQueries[G.occlusionQueryIndex]=$e,G.occlusionQueryObjects[G.occlusionQueryIndex]=c}G.lastOcclusionObject=c}const De=this.bufferRenderer;c.isPoints?De.mode=b.POINTS:c.isLineSegments?De.mode=b.LINES:c.isLine?De.mode=b.LINE_STRIP:c.isLineLoop?De.mode=b.LINE_LOOP:p.wireframe===!0?(P.setLineWidth(p.wireframeLinewidth*this.renderer.getPixelRatio()),De.mode=b.LINES):De.mode=b.TRIANGLES;const{vertexCount:Oe,instanceCount:je}=j;let{firstVertex:Be}=j;if(De.object=c,ue!==null){Be*=ue.array.BYTES_PER_ELEMENT;const $e=this.get(ue);De.index=ue.count,De.type=$e.type}else De.index=0;const We=()=>{c.isBatchedMesh?c._multiDrawInstances!==null?(c2("WebGLBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),De.renderMultiDrawInstances(c._multiDrawStarts,c._multiDrawCounts,c._multiDrawCount,c._multiDrawInstances)):this.hasFeature("WEBGL_multi_draw")?De.renderMultiDraw(c._multiDrawStarts,c._multiDrawCounts,c._multiDrawCount):c2("WebGLBackend: WEBGL_multi_draw not supported."):je>1?De.renderInstances(Be,Oe,je):De.render(Be,Oe)};if(r.camera.isArrayCamera===!0&&r.camera.cameras.length>0&&r.camera.isMultiViewCamera===!1){const $e=this.get(r.camera),Ee=r.camera.cameras,Ie=r.getBindingGroup("cameraIndex").bindings[0];if($e.indexesGPU===void 0||$e.indexesGPU.length!==Ee.length){const ct=new Uint32Array([0,0,0,0]),Wt=[];for(let vt=0,Ht=Ee.length;vt<Ht;vt++){const Qt=b.createBuffer();ct[0]=vt,b.bindBuffer(b.UNIFORM_BUFFER,Qt),b.bufferData(b.UNIFORM_BUFFER,ct,b.STATIC_DRAW),Wt.push(Qt)}$e.indexesGPU=Wt}const Je=this.get(Ie),ft=this.renderer.getPixelRatio(),yt=this._currentContext.renderTarget,Et=this._isRenderCameraDepthArray(this._currentContext),Dt=this._currentContext.activeCubeFace;if(Et){const ct=this.get(yt.depthTexture);if(ct.clearedRenderId!==this.renderer._nodes.nodeFrame.renderId){ct.clearedRenderId=this.renderer._nodes.nodeFrame.renderId;const{stencilBuffer:Wt}=yt;for(let vt=0,Ht=Ee.length;vt<Ht;vt++)this.renderer._activeCubeFace=vt,this._currentContext.activeCubeFace=vt,this._setFramebuffer(this._currentContext),this.clear(!1,!0,Wt,this._currentContext,!1,!1);this.renderer._activeCubeFace=Dt,this._currentContext.activeCubeFace=Dt}}for(let ct=0,Wt=Ee.length;ct<Wt;ct++){const vt=Ee[ct];if(c.layers.test(vt.layers)){Et&&(this.renderer._activeCubeFace=ct,this._currentContext.activeCubeFace=ct,this._setFramebuffer(this._currentContext));const Ht=vt.viewport;if(Ht!==void 0){const Qt=Ht.x*ft,a0=Ht.y*ft,G0=Ht.width*ft,C0=Ht.height*ft;P.viewport(Math.floor(Qt),Math.floor(r.context.height-C0-a0),Math.floor(G0),Math.floor(C0))}P.bindBufferBase(b.UNIFORM_BUFFER,Je.index,$e.indexesGPU[ct]),We()}this._currentContext.activeCubeFace=Dt,this.renderer._activeCubeFace=Dt}}else We()}needsRenderUpdate(){return!1}getRenderCacheKey(){return""}createDefaultTexture(r){this.textureUtils.createDefaultTexture(r)}createTexture(r,c){this.textureUtils.createTexture(r,c)}updateTexture(r,c){this.textureUtils.updateTexture(r,c)}generateMipmaps(r){this.textureUtils.generateMipmaps(r)}destroyTexture(r,c=!1){this.textureUtils.destroyTexture(r,c)}async copyTextureToBuffer(r,c,f,p,y,T){return this.textureUtils.copyTextureToBuffer(r,c,f,p,y,T)}updateSampler(){return""}createNodeBuilder(r,c){return new o3e(r,c)}createProgram(r){const c=this.gl,{stage:f,code:p}=r,y=f==="fragment"?c.createShader(c.FRAGMENT_SHADER):c.createShader(c.VERTEX_SHADER);c.shaderSource(y,p),c.compileShader(y),this.set(r,{shaderGPU:y})}destroyProgram(r){this.delete(r)}createRenderPipeline(r,c){const f=this.gl,p=r.pipeline,{fragmentProgram:y,vertexProgram:T}=p,R=f.createProgram(),b=this.get(y).shaderGPU,P=this.get(T).shaderGPU;if(f.attachShader(R,b),f.attachShader(R,P),f.linkProgram(R),this.set(p,{programGPU:R,fragmentShader:b,vertexShader:P}),c!==null&&this.parallel){const G=new Promise(j=>{const K=this.parallel,Q=()=>{f.getProgramParameter(R,K.COMPLETION_STATUS_KHR)?(this._completeCompile(r,p),j()):requestAnimationFrame(Q)};Q()});c.push(G);return}this._completeCompile(r,p)}_handleSource(r,c){const f=r.split(`
`),p=[],y=Math.max(c-6,0),T=Math.min(c+6,f.length);for(let R=y;R<T;R++){const b=R+1;p.push(`${b===c?">":" "} ${b}: ${f[R]}`)}return p.join(`
`)}_getShaderErrors(r,c,f){const p=r.getShaderParameter(c,r.COMPILE_STATUS),T=(r.getShaderInfoLog(c)||"").trim();if(p&&T==="")return"";const R=/ERROR: 0:(\d+)/.exec(T);if(R){const b=parseInt(R[1]);return f.toUpperCase()+`

`+T+`

`+this._handleSource(r.getShaderSource(c),b)}else return T}_logProgramError(r,c,f){if(this.renderer.debug.checkShaderErrors){const p=this.gl,T=(p.getProgramInfoLog(r)||"").trim();if(p.getProgramParameter(r,p.LINK_STATUS)===!1)if(typeof this.renderer.debug.onShaderError=="function")this.renderer.debug.onShaderError(p,r,f,c);else{const R=this._getShaderErrors(p,f,"vertex"),b=this._getShaderErrors(p,c,"fragment");i0("THREE.WebGLProgram: Shader Error "+p.getError()+" - VALIDATE_STATUS "+p.getProgramParameter(r,p.VALIDATE_STATUS)+`

Program Info Log: `+T+`
`+R+`
`+b)}else T!==""&&jt("WebGLProgram: Program Info Log:",T)}}_completeCompile(r,c){const{state:f,gl:p}=this,y=this.get(c),{programGPU:T,fragmentShader:R,vertexShader:b}=y;p.getProgramParameter(T,p.LINK_STATUS)===!1&&this._logProgramError(T,R,b),f.useProgram(T);const P=r.getBindings();this._setupBindings(P,T),this.set(c,{programGPU:T})}createComputePipeline(r,c){const{state:f,gl:p}=this,y={stage:"fragment",code:`#version 300 es
precision highp float;
void main() {}`};this.createProgram(y);const{computeProgram:T}=r,R=p.createProgram(),b=this.get(y).shaderGPU,P=this.get(T).shaderGPU,G=T.transforms,j=[],K=[];for(let ue=0;ue<G.length;ue++){const se=G[ue];j.push(se.varyingName),K.push(se.attributeNode)}p.attachShader(R,b),p.attachShader(R,P),p.transformFeedbackVaryings(R,j,p.SEPARATE_ATTRIBS),p.linkProgram(R),p.getProgramParameter(R,p.LINK_STATUS)===!1&&this._logProgramError(R,b,P),f.useProgram(R),this._setupBindings(c,R);const Q=T.attributes,ie=[],ce=[];for(let ue=0;ue<Q.length;ue++){const se=Q[ue].node.attribute;ie.push(se),this.has(se)||this.attributeUtils.createAttribute(se,p.ARRAY_BUFFER)}for(let ue=0;ue<K.length;ue++){const se=K[ue].attribute;this.has(se)||this.attributeUtils.createAttribute(se,p.ARRAY_BUFFER);const Ne=this.get(se);ce.push(Ne)}this.set(r,{programGPU:R,transformBuffers:ce,attributes:ie})}createBindings(r,c){if(this._knownBindings.has(c)===!1){this._knownBindings.add(c);let f=0,p=0;for(const y of c){this.set(y,{textures:p,uniformBuffers:f});for(const T of y.bindings)T.isUniformBuffer&&f++,T.isSampledTexture&&p++}}this.updateBindings(r,c)}updateBindings(r){const{gl:c}=this,f=this.get(r);let p=f.uniformBuffers,y=f.textures;for(const T of r.bindings){const R=this.get(T);if(T.isUniformsGroup||T.isUniformBuffer){const b=T.buffer;let{bufferGPU:P}=this.get(b);P===void 0?(P=c.createBuffer(),c.bindBuffer(c.UNIFORM_BUFFER,P),c.bufferData(c.UNIFORM_BUFFER,b,c.DYNAMIC_DRAW),this.set(b,{bufferGPU:P})):(c.bindBuffer(c.UNIFORM_BUFFER,P),c.bufferSubData(c.UNIFORM_BUFFER,0,b)),R.index=p++,R.bufferGPU=P,this.set(T,R)}else if(T.isSampledTexture){const{textureGPU:b,glTextureType:P}=this.get(T.texture);R.index=y++,R.textureGPU=b,R.glTextureType=P,this.set(T,R)}}}updateBinding(r){const c=this.gl;if(r.isUniformsGroup||r.isUniformBuffer){const p=this.get(r).bufferGPU,y=r.buffer;c.bindBuffer(c.UNIFORM_BUFFER,p),c.bufferData(c.UNIFORM_BUFFER,y,c.DYNAMIC_DRAW)}}createIndexAttribute(r){const c=this.gl;this.attributeUtils.createAttribute(r,c.ELEMENT_ARRAY_BUFFER)}createAttribute(r){if(this.has(r))return;const c=this.gl;this.attributeUtils.createAttribute(r,c.ARRAY_BUFFER)}createStorageAttribute(r){if(this.has(r))return;const c=this.gl;this.attributeUtils.createAttribute(r,c.ARRAY_BUFFER)}updateAttribute(r){this.attributeUtils.updateAttribute(r)}destroyAttribute(r){this.attributeUtils.destroyAttribute(r)}hasFeature(r){const c=Object.keys(Ag).filter(p=>Ag[p]===r),f=this.extensions;for(let p=0;p<c.length;p++)if(f.has(c[p]))return!0;return!1}getMaxAnisotropy(){return this.capabilities.getMaxAnisotropy()}copyTextureToTexture(r,c,f=null,p=null,y=0,T=0){this.textureUtils.copyTextureToTexture(r,c,f,p,y,T)}copyFramebufferToTexture(r,c,f){this.textureUtils.copyFramebufferToTexture(r,c,f)}_setFramebuffer(r){const{gl:c,state:f}=this;let p=null;if(r.textures!==null){const y=r.renderTarget,T=this.get(y),{samples:R,depthBuffer:b,stencilBuffer:P}=y,G=y.isWebGLCubeRenderTarget===!0,j=y.isRenderTarget3D===!0,K=y.depth>1,Q=y.isXRRenderTarget===!0,ie=Q===!0&&y._hasExternalTextures===!0;let ce=T.msaaFrameBuffer,ue=T.depthRenderbuffer;const se=this.extensions.get("WEBGL_multisampled_render_to_texture"),Ne=this.extensions.get("OVR_multiview2"),De=this._useMultisampledExtension(y),Oe=iv(r);let je;if(G?(T.cubeFramebuffers||(T.cubeFramebuffers={}),je=T.cubeFramebuffers[Oe]):Q&&ie===!1?je=this._xrFramebuffer:(T.framebuffers||(T.framebuffers={}),je=T.framebuffers[Oe]),je===void 0){je=c.createFramebuffer(),f.bindFramebuffer(c.FRAMEBUFFER,je);const Be=r.textures,We=[];if(G){T.cubeFramebuffers[Oe]=je;const{textureGPU:Ee}=this.get(Be[0]),Ie=this.renderer._activeCubeFace,Je=this.renderer._activeMipmapLevel;c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Ee,Je)}else{T.framebuffers[Oe]=je;for(let Ee=0;Ee<Be.length;Ee++){const Ie=Be[Ee],Je=this.get(Ie);Je.renderTarget=r.renderTarget,Je.cacheKey=Oe;const ft=c.COLOR_ATTACHMENT0+Ee;if(y.multiview)Ne.framebufferTextureMultisampleMultiviewOVR(c.FRAMEBUFFER,ft,Je.textureGPU,0,R,0,2);else if(j||K){const yt=this.renderer._activeCubeFace,Et=this.renderer._activeMipmapLevel;c.framebufferTextureLayer(c.FRAMEBUFFER,ft,Je.textureGPU,Et,yt)}else if(De)se.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,ft,c.TEXTURE_2D,Je.textureGPU,0,R);else{const yt=this.renderer._activeMipmapLevel;c.framebufferTexture2D(c.FRAMEBUFFER,ft,c.TEXTURE_2D,Je.textureGPU,yt)}}}const $e=P?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT;if(y._autoAllocateDepthBuffer===!0){const Ee=c.createRenderbuffer();this.textureUtils.setupRenderBufferStorage(Ee,r,0,De),T.xrDepthRenderbuffer=Ee,We.push(P?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT),c.bindRenderbuffer(c.RENDERBUFFER,Ee),c.framebufferRenderbuffer(c.FRAMEBUFFER,$e,c.RENDERBUFFER,Ee)}else if(r.depthTexture!==null){We.push(P?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT);const Ee=this.get(r.depthTexture);if(Ee.renderTarget=r.renderTarget,Ee.cacheKey=Oe,y.multiview)Ne.framebufferTextureMultisampleMultiviewOVR(c.FRAMEBUFFER,$e,Ee.textureGPU,0,R,0,2);else if(ie&&De)se.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,$e,c.TEXTURE_2D,Ee.textureGPU,0,R);else if(r.depthTexture.isArrayTexture){const Ie=this.renderer._activeCubeFace;c.framebufferTextureLayer(c.FRAMEBUFFER,$e,Ee.textureGPU,0,Ie)}else c.framebufferTexture2D(c.FRAMEBUFFER,$e,c.TEXTURE_2D,Ee.textureGPU,0)}T.depthInvalidationArray=We}else{if(this._isRenderCameraDepthArray(r)){f.bindFramebuffer(c.FRAMEBUFFER,je);const We=this.renderer._activeCubeFace,$e=this.get(r.depthTexture),Ee=P?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT;c.framebufferTextureLayer(c.FRAMEBUFFER,Ee,$e.textureGPU,0,We)}if((Q||De||y.multiview)&&y._isOpaqueFramebuffer!==!0){f.bindFramebuffer(c.FRAMEBUFFER,je);const We=this.get(r.textures[0]);y.multiview?Ne.framebufferTextureMultisampleMultiviewOVR(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,We.textureGPU,0,R,0,2):De?se.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,We.textureGPU,0,R):c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,We.textureGPU,0);const $e=P?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT;if(y._autoAllocateDepthBuffer===!0){const Ee=T.xrDepthRenderbuffer;c.bindRenderbuffer(c.RENDERBUFFER,Ee),c.framebufferRenderbuffer(c.FRAMEBUFFER,$e,c.RENDERBUFFER,Ee)}else{const Ee=this.get(r.depthTexture);y.multiview?Ne.framebufferTextureMultisampleMultiviewOVR(c.FRAMEBUFFER,$e,Ee.textureGPU,0,R,0,2):De?se.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,$e,c.TEXTURE_2D,Ee.textureGPU,0,R):c.framebufferTexture2D(c.FRAMEBUFFER,$e,c.TEXTURE_2D,Ee.textureGPU,0)}}}if(R>0&&De===!1&&!y.multiview){if(ce===void 0){const Be=[];ce=c.createFramebuffer(),f.bindFramebuffer(c.FRAMEBUFFER,ce);const We=[],$e=r.textures;for(let Ee=0;Ee<$e.length;Ee++){We[Ee]=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,We[Ee]),Be.push(c.COLOR_ATTACHMENT0+Ee);const Ie=r.textures[Ee],Je=this.get(Ie);c.renderbufferStorageMultisample(c.RENDERBUFFER,R,Je.glInternalFormat,r.width,r.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+Ee,c.RENDERBUFFER,We[Ee])}if(c.bindRenderbuffer(c.RENDERBUFFER,null),T.msaaFrameBuffer=ce,T.msaaRenderbuffers=We,b&&ue===void 0){ue=c.createRenderbuffer(),this.textureUtils.setupRenderBufferStorage(ue,r,R),T.depthRenderbuffer=ue;const Ee=P?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT;Be.push(Ee)}T.invalidationArray=Be}p=T.msaaFrameBuffer}else p=je;f.drawBuffers(r,je)}f.bindFramebuffer(c.FRAMEBUFFER,p)}_getVaoKey(r){let c="";for(let f=0;f<r.length;f++){const p=this.get(r[f]);c+=":"+p.id}return c}_createVao(r){const{gl:c}=this,f=c.createVertexArray();c.bindVertexArray(f);for(let p=0;p<r.length;p++){const y=r[p],T=this.get(y);c.bindBuffer(c.ARRAY_BUFFER,T.bufferGPU),c.enableVertexAttribArray(p);let R,b;y.isInterleavedBufferAttribute===!0?(R=y.data.stride*T.bytesPerElement,b=y.offset*T.bytesPerElement):(R=0,b=0),T.isInteger?c.vertexAttribIPointer(p,y.itemSize,T.type,R,b):c.vertexAttribPointer(p,y.itemSize,T.type,y.normalized,R,b),y.isInstancedBufferAttribute&&!y.isInterleavedBufferAttribute?c.vertexAttribDivisor(p,y.meshPerAttribute):y.isInterleavedBufferAttribute&&y.data.isInstancedInterleavedBuffer&&c.vertexAttribDivisor(p,y.data.meshPerAttribute)}return c.bindBuffer(c.ARRAY_BUFFER,null),f}_getTransformFeedback(r){let c="";for(let y=0;y<r.length;y++)c+=":"+r[y].id;let f=this.transformFeedbackCache[c];if(f!==void 0)return f;const{gl:p}=this;f=p.createTransformFeedback(),p.bindTransformFeedback(p.TRANSFORM_FEEDBACK,f);for(let y=0;y<r.length;y++){const T=r[y];p.bindBufferBase(p.TRANSFORM_FEEDBACK_BUFFER,y,T.transformBuffer)}return p.bindTransformFeedback(p.TRANSFORM_FEEDBACK,null),this.transformFeedbackCache[c]=f,f}_setupBindings(r,c){const f=this.gl;for(const p of r)for(const y of p.bindings){const R=this.get(y).index;if(y.isUniformsGroup||y.isUniformBuffer){const b=f.getUniformBlockIndex(c,y.name);f.uniformBlockBinding(c,b,R)}else if(y.isSampledTexture){const b=f.getUniformLocation(c,y.name);f.uniform1i(b,R)}}}_bindUniforms(r){const{gl:c,state:f}=this;for(const p of r)for(const y of p.bindings){const T=this.get(y),R=T.index;y.isUniformsGroup||y.isUniformBuffer?f.bindBufferBase(c.UNIFORM_BUFFER,R,T.bufferGPU):y.isSampledTexture&&f.bindTexture(T.glTextureType,T.textureGPU,c.TEXTURE0+R)}}_resolveRenderTarget(r){const{gl:c,state:f}=this,p=r.renderTarget;if(r.textures!==null&&p){const y=this.get(p);if(p.samples>0&&this._useMultisampledExtension(p)===!1){const T=y.framebuffers[r.getCacheKey()];let R=c.COLOR_BUFFER_BIT;p.resolveDepthBuffer&&(p.depthBuffer&&(R|=c.DEPTH_BUFFER_BIT),p.stencilBuffer&&p.resolveStencilBuffer&&(R|=c.STENCIL_BUFFER_BIT));const b=y.msaaFrameBuffer,P=y.msaaRenderbuffers,G=r.textures,j=G.length>1;if(f.bindFramebuffer(c.READ_FRAMEBUFFER,b),f.bindFramebuffer(c.DRAW_FRAMEBUFFER,T),j)for(let K=0;K<G.length;K++)c.framebufferRenderbuffer(c.READ_FRAMEBUFFER,c.COLOR_ATTACHMENT0+K,c.RENDERBUFFER,null),c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0+K,c.TEXTURE_2D,null,0);for(let K=0;K<G.length;K++){if(j){const{textureGPU:Q}=this.get(G[K]);c.framebufferRenderbuffer(c.READ_FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,P[K]),c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Q,0)}if(r.scissor){const{x:Q,y:ie,width:ce,height:ue}=r.scissorValue,se=r.height-ue-ie;c.blitFramebuffer(Q,se,Q+ce,se+ue,Q,se,Q+ce,se+ue,R,c.NEAREST)}else c.blitFramebuffer(0,0,r.width,r.height,0,0,r.width,r.height,R,c.NEAREST)}if(j)for(let K=0;K<G.length;K++){const{textureGPU:Q}=this.get(G[K]);c.framebufferRenderbuffer(c.READ_FRAMEBUFFER,c.COLOR_ATTACHMENT0+K,c.RENDERBUFFER,P[K]),c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0+K,c.TEXTURE_2D,Q,0)}this._supportsInvalidateFramebuffer===!0&&c.invalidateFramebuffer(c.READ_FRAMEBUFFER,y.invalidationArray)}else if(p.resolveDepthBuffer===!1&&y.framebuffers){const T=y.framebuffers[r.getCacheKey()];f.bindFramebuffer(c.DRAW_FRAMEBUFFER,T),c.invalidateFramebuffer(c.DRAW_FRAMEBUFFER,y.depthInvalidationArray)}}}_useMultisampledExtension(r){return r.multiview===!0?!0:r.samples>0&&this.extensions.has("WEBGL_multisampled_render_to_texture")===!0&&r._autoAllocateDepthBuffer!==!1}dispose(){this.textureUtils!==null&&this.textureUtils.dispose();const r=this.extensions.get("WEBGL_lose_context");r&&r.loseContext(),this.renderer.domElement.removeEventListener("webglcontextlost",this._onContextLost)}}const nl={PointList:"point-list",LineList:"line-list",LineStrip:"line-strip",TriangleList:"triangle-list",TriangleStrip:"triangle-strip"},Ar={Never:"never",Less:"less",Equal:"equal",LessEqual:"less-equal",Greater:"greater",NotEqual:"not-equal",GreaterEqual:"greater-equal",Always:"always"},es={Store:"store"},En={Load:"load",Clear:"clear"},bg={CCW:"ccw",CW:"cw"},Ng={None:"none",Back:"back"},$l={Uint16:"uint16",Uint32:"uint32"},et={R8Unorm:"r8unorm",R8Snorm:"r8snorm",R8Uint:"r8uint",R8Sint:"r8sint",R16Uint:"r16uint",R16Sint:"r16sint",R16Float:"r16float",RG8Unorm:"rg8unorm",RG8Snorm:"rg8snorm",RG8Uint:"rg8uint",RG8Sint:"rg8sint",R32Uint:"r32uint",R32Sint:"r32sint",R32Float:"r32float",RG16Uint:"rg16uint",RG16Sint:"rg16sint",RG16Float:"rg16float",RGBA8Unorm:"rgba8unorm",RGBA8UnormSRGB:"rgba8unorm-srgb",RGBA8Snorm:"rgba8snorm",RGBA8Uint:"rgba8uint",RGBA8Sint:"rgba8sint",BGRA8Unorm:"bgra8unorm",BGRA8UnormSRGB:"bgra8unorm-srgb",RGB9E5UFloat:"rgb9e5ufloat",RGB10A2Unorm:"rgb10a2unorm",RG11B10UFloat:"rg11b10ufloat",RG32Uint:"rg32uint",RG32Sint:"rg32sint",RG32Float:"rg32float",RGBA16Uint:"rgba16uint",RGBA16Sint:"rgba16sint",RGBA16Float:"rgba16float",RGBA32Uint:"rgba32uint",RGBA32Sint:"rgba32sint",RGBA32Float:"rgba32float",Depth16Unorm:"depth16unorm",Depth24Plus:"depth24plus",Depth24PlusStencil8:"depth24plus-stencil8",Depth32Float:"depth32float",Depth32FloatStencil8:"depth32float-stencil8",BC1RGBAUnorm:"bc1-rgba-unorm",BC1RGBAUnormSRGB:"bc1-rgba-unorm-srgb",BC2RGBAUnorm:"bc2-rgba-unorm",BC2RGBAUnormSRGB:"bc2-rgba-unorm-srgb",BC3RGBAUnorm:"bc3-rgba-unorm",BC3RGBAUnormSRGB:"bc3-rgba-unorm-srgb",BC4RUnorm:"bc4-r-unorm",BC4RSnorm:"bc4-r-snorm",BC5RGUnorm:"bc5-rg-unorm",BC5RGSnorm:"bc5-rg-snorm",BC6HRGBUFloat:"bc6h-rgb-ufloat",BC6HRGBFloat:"bc6h-rgb-float",BC7RGBAUnorm:"bc7-rgba-unorm",BC7RGBAUnormSRGB:"bc7-rgba-unorm-srgb",ETC2RGB8Unorm:"etc2-rgb8unorm",ETC2RGB8UnormSRGB:"etc2-rgb8unorm-srgb",ETC2RGB8A1Unorm:"etc2-rgb8a1unorm",ETC2RGB8A1UnormSRGB:"etc2-rgb8a1unorm-srgb",ETC2RGBA8Unorm:"etc2-rgba8unorm",ETC2RGBA8UnormSRGB:"etc2-rgba8unorm-srgb",EACR11Unorm:"eac-r11unorm",EACR11Snorm:"eac-r11snorm",EACRG11Unorm:"eac-rg11unorm",EACRG11Snorm:"eac-rg11snorm",ASTC4x4Unorm:"astc-4x4-unorm",ASTC4x4UnormSRGB:"astc-4x4-unorm-srgb",ASTC5x4Unorm:"astc-5x4-unorm",ASTC5x4UnormSRGB:"astc-5x4-unorm-srgb",ASTC5x5Unorm:"astc-5x5-unorm",ASTC5x5UnormSRGB:"astc-5x5-unorm-srgb",ASTC6x5Unorm:"astc-6x5-unorm",ASTC6x5UnormSRGB:"astc-6x5-unorm-srgb",ASTC6x6Unorm:"astc-6x6-unorm",ASTC6x6UnormSRGB:"astc-6x6-unorm-srgb",ASTC8x5Unorm:"astc-8x5-unorm",ASTC8x5UnormSRGB:"astc-8x5-unorm-srgb",ASTC8x6Unorm:"astc-8x6-unorm",ASTC8x6UnormSRGB:"astc-8x6-unorm-srgb",ASTC8x8Unorm:"astc-8x8-unorm",ASTC8x8UnormSRGB:"astc-8x8-unorm-srgb",ASTC10x5Unorm:"astc-10x5-unorm",ASTC10x5UnormSRGB:"astc-10x5-unorm-srgb",ASTC10x6Unorm:"astc-10x6-unorm",ASTC10x6UnormSRGB:"astc-10x6-unorm-srgb",ASTC10x8Unorm:"astc-10x8-unorm",ASTC10x8UnormSRGB:"astc-10x8-unorm-srgb",ASTC10x10Unorm:"astc-10x10-unorm",ASTC10x10UnormSRGB:"astc-10x10-unorm-srgb",ASTC12x10Unorm:"astc-12x10-unorm",ASTC12x10UnormSRGB:"astc-12x10-unorm-srgb",ASTC12x12Unorm:"astc-12x12-unorm",ASTC12x12UnormSRGB:"astc-12x12-unorm-srgb"},ed={ClampToEdge:"clamp-to-edge",Repeat:"repeat",MirrorRepeat:"mirror-repeat"},ja={Linear:"linear",Nearest:"nearest"},nn={Zero:"zero",One:"one",Src:"src",OneMinusSrc:"one-minus-src",SrcAlpha:"src-alpha",OneMinusSrcAlpha:"one-minus-src-alpha",Dst:"dst",OneMinusDst:"one-minus-dst",DstAlpha:"dst-alpha",OneMinusDstAlpha:"one-minus-dst-alpha",SrcAlphaSaturated:"src-alpha-saturated",Constant:"constant",OneMinusConstant:"one-minus-constant"},Fa={Add:"add",Subtract:"subtract",ReverseSubtract:"reverse-subtract",Min:"min",Max:"max"},Dg={None:0,All:15},ea={Keep:"keep",Zero:"zero",Replace:"replace",Invert:"invert",IncrementClamp:"increment-clamp",DecrementClamp:"decrement-clamp",IncrementWrap:"increment-wrap",DecrementWrap:"decrement-wrap"},td={Storage:"storage",ReadOnlyStorage:"read-only-storage"},id={WriteOnly:"write-only",ReadOnly:"read-only",ReadWrite:"read-write"},Ig={NonFiltering:"non-filtering",Comparison:"comparison"},Ba={Float:"float",UnfilterableFloat:"unfilterable-float",Depth:"depth",SInt:"sint",UInt:"uint"},Pg={TwoD:"2d",ThreeD:"3d"},K2={TwoD:"2d",TwoDArray:"2d-array",Cube:"cube",ThreeD:"3d"},g3e={All:"all"},i_={Vertex:"vertex",Instance:"instance"},Ad={CoreFeaturesAndLimits:"core-features-and-limits",DepthClipControl:"depth-clip-control",Depth32FloatStencil8:"depth32float-stencil8",TextureCompressionBC:"texture-compression-bc",TextureCompressionBCSliced3D:"texture-compression-bc-sliced-3d",TextureCompressionETC2:"texture-compression-etc2",TextureCompressionASTC:"texture-compression-astc",TextureCompressionASTCSliced3D:"texture-compression-astc-sliced-3d",TimestampQuery:"timestamp-query",IndirectFirstInstance:"indirect-first-instance",ShaderF16:"shader-f16",RG11B10UFloat:"rg11b10ufloat-renderable",BGRA8UNormStorage:"bgra8unorm-storage",Float32Filterable:"float32-filterable",Float32Blendable:"float32-blendable",ClipDistances:"clip-distances",DualSourceBlending:"dual-source-blending",Subgroups:"subgroups",TextureFormatsTier1:"texture-formats-tier1",TextureFormatsTier2:"texture-formats-tier2"},Lg={"texture-compression-s3tc":"texture-compression-bc","texture-compression-etc1":"texture-compression-etc2"};class x3e extends vv{constructor(r,c,f){super(r,c?c.value:null),this.textureNode=c,this.groupNode=f}update(){const{textureNode:r}=this;return this.texture!==r.value?(this.texture=r.value,!0):super.update()}}class y3e extends mv{constructor(r,c){super(r,c?c.array:null),this.attribute=c,this.isStorageBuffer=!0}}let v3e=0;class S3e extends y3e{constructor(r,c){super("StorageBuffer_"+v3e++,r?r.value:null),this.nodeUniform=r,this.access=r?r.access:qo.READ_WRITE,this.groupNode=c}get buffer(){return this.nodeUniform.value}}class T3e extends da{constructor(r){super(),this.device=r;const c=`
struct VarysStruct {
	@builtin( position ) Position: vec4<f32>,
	@location( 0 ) vTex : vec2<f32>
};

@vertex
fn main( @builtin( vertex_index ) vertexIndex : u32 ) -> VarysStruct {

	var Varys : VarysStruct;

	var pos = array< vec2<f32>, 4 >(
		vec2<f32>( -1.0,  1.0 ),
		vec2<f32>(  1.0,  1.0 ),
		vec2<f32>( -1.0, -1.0 ),
		vec2<f32>(  1.0, -1.0 )
	);

	var tex = array< vec2<f32>, 4 >(
		vec2<f32>( 0.0, 0.0 ),
		vec2<f32>( 1.0, 0.0 ),
		vec2<f32>( 0.0, 1.0 ),
		vec2<f32>( 1.0, 1.0 )
	);

	Varys.vTex = tex[ vertexIndex ];
	Varys.Position = vec4<f32>( pos[ vertexIndex ], 0.0, 1.0 );

	return Varys;

}
`,f=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vTex );

}
`,p=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vec2( vTex.x, 1.0 - vTex.y ) );

}
`;this.mipmapSampler=r.createSampler({minFilter:ja.Linear}),this.flipYSampler=r.createSampler({minFilter:ja.Nearest}),this.transferPipelines={},this.flipYPipelines={},this.mipmapVertexShaderModule=r.createShaderModule({label:"mipmapVertex",code:c}),this.mipmapFragmentShaderModule=r.createShaderModule({label:"mipmapFragment",code:f}),this.flipYFragmentShaderModule=r.createShaderModule({label:"flipYFragment",code:p})}getTransferPipeline(r){let c=this.transferPipelines[r];return c===void 0&&(c=this.device.createRenderPipeline({label:`mipmap-${r}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.mipmapFragmentShaderModule,entryPoint:"main",targets:[{format:r}]},primitive:{topology:nl.TriangleStrip,stripIndexFormat:$l.Uint32},layout:"auto"}),this.transferPipelines[r]=c),c}getFlipYPipeline(r){let c=this.flipYPipelines[r];return c===void 0&&(c=this.device.createRenderPipeline({label:`flipY-${r}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.flipYFragmentShaderModule,entryPoint:"main",targets:[{format:r}]},primitive:{topology:nl.TriangleStrip,stripIndexFormat:$l.Uint32},layout:"auto"}),this.flipYPipelines[r]=c),c}flipY(r,c,f=0){const p=c.format,{width:y,height:T}=c.size,R=this.getTransferPipeline(p),b=this.getFlipYPipeline(p),P=this.device.createTexture({size:{width:y,height:T,depthOrArrayLayers:1},format:p,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),G=r.createView({baseMipLevel:0,mipLevelCount:1,dimension:K2.TwoD,baseArrayLayer:f}),j=P.createView({baseMipLevel:0,mipLevelCount:1,dimension:K2.TwoD,baseArrayLayer:0}),K=this.device.createCommandEncoder({}),Q=(ie,ce,ue)=>{const se=ie.getBindGroupLayout(0),Ne=this.device.createBindGroup({layout:se,entries:[{binding:0,resource:this.flipYSampler},{binding:1,resource:ce}]}),De=K.beginRenderPass({colorAttachments:[{view:ue,loadOp:En.Clear,storeOp:es.Store,clearValue:[0,0,0,0]}]});De.setPipeline(ie),De.setBindGroup(0,Ne),De.draw(4,1,0,0),De.end()};Q(R,G,j),Q(b,j,G),this.device.queue.submit([K.finish()]),P.destroy()}generateMipmaps(r,c,f=0,p=null){const y=this.get(r);y.layers===void 0&&(y.layers=[]);const T=y.layers[f]||this._mipmapCreateBundles(r,c,f),R=p||this.device.createCommandEncoder({label:"mipmapEncoder"});this._mipmapRunBundles(R,T),p===null&&this.device.queue.submit([R.finish()]),y.layers[f]=T}_mipmapCreateBundles(r,c,f){const p=this.getTransferPipeline(c.format),y=p.getBindGroupLayout(0);let T=r.createView({baseMipLevel:0,mipLevelCount:1,dimension:K2.TwoD,baseArrayLayer:f});const R=[];for(let b=1;b<c.mipLevelCount;b++){const P=this.device.createBindGroup({layout:y,entries:[{binding:0,resource:this.mipmapSampler},{binding:1,resource:T}]}),G=r.createView({baseMipLevel:b,mipLevelCount:1,dimension:K2.TwoD,baseArrayLayer:f}),j={colorAttachments:[{view:G,loadOp:En.Clear,storeOp:es.Store,clearValue:[0,0,0,0]}]},K=this.device.createRenderBundleEncoder({colorFormats:[c.format]});K.setPipeline(p),K.setBindGroup(0,P),K.draw(4,1,0,0),R.push({renderBundles:[K.finish()],passDescriptor:j}),T=G}return R}_mipmapRunBundles(r,c){const f=c.length;for(let p=0;p<f;p++){const y=c[p],T=r.beginRenderPass(y.passDescriptor);T.executeBundles(y.renderBundles),T.end()}}}const C3e={[Hd]:"never",[P_]:"less",[jd]:"equal",[L_]:"less-equal",[qd]:"greater",[$d]:"greater-equal",[Yd]:"always",[Xd]:"not-equal"},w3e=[0,1,3,2,4,5];class M3e{constructor(r){this.backend=r,this._passUtils=null,this.defaultTexture={},this.defaultCubeTexture={},this.defaultVideoFrame=null,this._samplerCache=new Map}updateSampler(r){const c=this.backend,f=r.minFilter+"-"+r.magFilter+"-"+r.wrapS+"-"+r.wrapT+"-"+(r.wrapR||"0")+"-"+r.anisotropy+"-"+(r.compareFunction||0);let p=this._samplerCache.get(f);if(p===void 0){const T={addressModeU:this._convertAddressMode(r.wrapS),addressModeV:this._convertAddressMode(r.wrapT),addressModeW:this._convertAddressMode(r.wrapR),magFilter:this._convertFilterMode(r.magFilter),minFilter:this._convertFilterMode(r.minFilter),mipmapFilter:this._convertFilterMode(r.minFilter),maxAnisotropy:1};T.magFilter===ja.Linear&&T.minFilter===ja.Linear&&T.mipmapFilter===ja.Linear&&(T.maxAnisotropy=r.anisotropy),r.isDepthTexture&&r.compareFunction!==null&&(T.compare=C3e[r.compareFunction]),p={sampler:c.device.createSampler(T),usedTimes:0},this._samplerCache.set(f,p)}const y=c.get(r);if(y.sampler!==p.sampler){if(y.sampler!==void 0){const T=this._samplerCache.get(y.samplerKey);T.usedTimes--,T.usedTimes===0&&this._samplerCache.delete(y.samplerKey)}y.samplerKey=f,y.sampler=p.sampler,p.usedTimes++}return f}createDefaultTexture(r){let c;const f=Ed(r);r.isCubeTexture?c=this._getDefaultCubeTextureGPU(f):c=this._getDefaultTextureGPU(f),this.backend.get(r).texture=c}createTexture(r,c={}){const f=this.backend,p=f.get(r);if(p.initialized)throw new Error("WebGPUTextureUtils: Texture already initialized.");if(r.isExternalTexture){p.texture=r.sourceTexture,p.initialized=!0;return}c.needsMipmaps===void 0&&(c.needsMipmaps=!1),c.levels===void 0&&(c.levels=1),c.depth===void 0&&(c.depth=1);const{width:y,height:T,depth:R,levels:b}=c;r.isFramebufferTexture&&(c.renderTarget?c.format=this.backend.utils.getCurrentColorFormat(c.renderTarget):c.format=this.backend.utils.getPreferredCanvasFormat());const P=this._getDimension(r),G=r.internalFormat||c.format||Ed(r,f.device);p.format=G;const{samples:j,primarySamples:K,isMSAA:Q}=f.utils.getTextureSampleData(r);let ie=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;r.isStorageTexture===!0&&(ie|=GPUTextureUsage.STORAGE_BINDING),r.isCompressedTexture!==!0&&r.isCompressedArrayTexture!==!0&&G!==et.RGB9E5UFloat&&(ie|=GPUTextureUsage.RENDER_ATTACHMENT);const ce={label:r.name,size:{width:y,height:T,depthOrArrayLayers:R},mipLevelCount:b,sampleCount:K,dimension:P,format:G,usage:ie};if(G===void 0){jt("WebGPURenderer: Texture format not supported."),this.createDefaultTexture(r);return}if(r.isCubeTexture&&(ce.textureBindingViewDimension=K2.Cube),p.texture=f.device.createTexture(ce),Q){const ue=Object.assign({},ce);ue.label=ue.label+"-msaa",ue.sampleCount=j,ue.mipLevelCount=1,p.msaaTexture=f.device.createTexture(ue)}p.initialized=!0,p.textureDescriptorGPU=ce}destroyTexture(r,c=!1){const f=this.backend,p=f.get(r);p.texture!==void 0&&c===!1&&p.texture.destroy(),p.msaaTexture!==void 0&&p.msaaTexture.destroy(),f.delete(r)}generateMipmaps(r,c=null){const f=this.backend.get(r);if(r.isCubeTexture)for(let p=0;p<6;p++)this._generateMipmaps(f.texture,f.textureDescriptorGPU,p,c);else{const p=r.image.depth||1;for(let y=0;y<p;y++)this._generateMipmaps(f.texture,f.textureDescriptorGPU,y,c)}}getColorBuffer(){const r=this.backend,c=r.renderer.getCanvasTarget(),{width:f,height:p}=r.getDrawingBufferSize(),y=r.renderer.currentSamples,T=c.colorTexture,R=r.get(T);if(T.width===f&&T.height===p&&T.samples===y)return R.texture;let b=R.texture;return b&&b.destroy(),b=r.device.createTexture({label:"colorBuffer",size:{width:f,height:p,depthOrArrayLayers:1},sampleCount:r.utils.getSampleCount(r.renderer.currentSamples),format:r.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC}),T.source.width=f,T.source.height=p,T.samples=y,R.texture=b,b}getDepthBuffer(r=!0,c=!1){const f=this.backend,p=f.renderer.getCanvasTarget(),{width:y,height:T}=f.getDrawingBufferSize(),R=f.renderer.currentSamples,b=p.depthTexture;if(b.width===y&&b.height===T&&b.samples===R&&b.depth===r&&b.stencil===c)return f.get(b).texture;const P=f.get(b).texture;let G,j;if(c?(G=Os,j=Bs):r&&(G=Us,j=Kn),P!==void 0){if(b.image.width===y&&b.image.height===T&&b.format===G&&b.type===j&&b.samples===R)return P;this.destroyTexture(b)}return b.name="depthBuffer",b.format=G,b.type=j,b.image.width=y,b.image.height=T,b.samples=R,this.createTexture(b,{width:y,height:T}),f.get(b).texture}updateTexture(r,c){const f=this.backend.get(r),p=r.mipmaps,{textureDescriptorGPU:y}=f;if(!(r.isRenderTargetTexture||y===void 0)){if(r.isDataTexture)if(p.length>0)for(let T=0,R=p.length;T<R;T++){const b=p[T];this._copyBufferToTexture(b,f.texture,y,0,r.flipY,0,T)}else this._copyBufferToTexture(c.image,f.texture,y,0,r.flipY);else if(r.isArrayTexture||r.isDataArrayTexture||r.isData3DTexture)for(let T=0;T<c.image.depth;T++)this._copyBufferToTexture(c.image,f.texture,y,T,r.flipY,T);else if(r.isCompressedTexture||r.isCompressedArrayTexture)this._copyCompressedBufferToTexture(r.mipmaps,f.texture,y);else if(r.isCubeTexture)this._copyCubeMapToTexture(r,f.texture,y);else if(p.length>0)for(let T=0,R=p.length;T<R;T++){const b=p[T];this._copyImageToTexture(b,f.texture,y,0,r.flipY,r.premultiplyAlpha,T)}else this._copyImageToTexture(c.image,f.texture,y,0,r.flipY,r.premultiplyAlpha);f.version=r.version}}async copyTextureToBuffer(r,c,f,p,y,T){const R=this.backend.device,b=this.backend.get(r),P=b.texture,G=b.textureDescriptorGPU.format,j=this._getBytesPerTexel(G);let K=p*j;K=Math.ceil(K/256)*256;const Q=R.createBuffer({size:(y-1)*K+p*j,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),ie=R.createCommandEncoder();ie.copyTextureToBuffer({texture:P,origin:{x:c,y:f,z:T}},{buffer:Q,bytesPerRow:K},{width:p,height:y});const ce=this._getTypedArrayType(G);R.queue.submit([ie.finish()]),await Q.mapAsync(GPUMapMode.READ);const ue=Q.getMappedRange();return new ce(ue)}dispose(){this._samplerCache.clear()}_getDefaultTextureGPU(r){let c=this.defaultTexture[r];if(c===void 0){const f=new J2;f.minFilter=r2,f.magFilter=r2,this.createTexture(f,{width:1,height:1,format:r}),this.defaultTexture[r]=c=f}return this.backend.get(c).texture}_getDefaultCubeTextureGPU(r){let c=this.defaultTexture[r];if(c===void 0){const f=new Df;f.minFilter=r2,f.magFilter=r2,this.createTexture(f,{width:1,height:1,depth:6}),this.defaultCubeTexture[r]=c=f}return this.backend.get(c).texture}_copyCubeMapToTexture(r,c,f){const p=r.images,y=r.mipmaps;for(let T=0;T<6;T++){const R=p[T],b=r.flipY===!0?w3e[T]:T;R.isDataTexture?this._copyBufferToTexture(R.image,c,f,b,r.flipY):this._copyImageToTexture(R,c,f,b,r.flipY,r.premultiplyAlpha);for(let P=0;P<y.length;P++){const j=y[P].images[T];j.isDataTexture?this._copyBufferToTexture(j.image,c,f,b,r.flipY,0,P+1):this._copyImageToTexture(j,c,f,b,r.flipY,r.premultiplyAlpha,P+1)}}}_copyImageToTexture(r,c,f,p,y,T,R=0){const b=this.backend.device,P=R>0?r.width:f.size.width,G=R>0?r.height:f.size.height;b.queue.copyExternalImageToTexture({source:r,flipY:y},{texture:c,mipLevel:R,origin:{x:0,y:0,z:p},premultipliedAlpha:T},{width:P,height:G,depthOrArrayLayers:1})}_getPassUtils(){let r=this._passUtils;return r===null&&(this._passUtils=r=new T3e(this.backend.device)),r}_generateMipmaps(r,c,f=0,p=null){this._getPassUtils().generateMipmaps(r,c,f,p)}_flipY(r,c,f=0){this._getPassUtils().flipY(r,c,f)}_copyBufferToTexture(r,c,f,p,y,T=0,R=0){const b=this.backend.device,P=r.data,G=this._getBytesPerTexel(f.format),j=r.width*G;b.queue.writeTexture({texture:c,mipLevel:R,origin:{x:0,y:0,z:p}},P,{offset:r.width*r.height*G*T,bytesPerRow:j},{width:r.width,height:r.height,depthOrArrayLayers:1}),y===!0&&this._flipY(c,f,p)}_copyCompressedBufferToTexture(r,c,f){const p=this.backend.device,y=this._getBlockData(f.format),T=f.size.depthOrArrayLayers>1;for(let R=0;R<r.length;R++){const b=r[R],P=b.width,G=b.height,j=T?f.size.depthOrArrayLayers:1,K=Math.ceil(P/y.width)*y.byteLength,Q=K*Math.ceil(G/y.height);for(let ie=0;ie<j;ie++)p.queue.writeTexture({texture:c,mipLevel:R,origin:{x:0,y:0,z:ie}},b.data,{offset:ie*Q,bytesPerRow:K,rowsPerImage:Math.ceil(G/y.height)},{width:Math.ceil(P/y.width)*y.width,height:Math.ceil(G/y.height)*y.height,depthOrArrayLayers:1})}}_getBlockData(r){if(r===et.BC1RGBAUnorm||r===et.BC1RGBAUnormSRGB)return{byteLength:8,width:4,height:4};if(r===et.BC2RGBAUnorm||r===et.BC2RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(r===et.BC3RGBAUnorm||r===et.BC3RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(r===et.BC4RUnorm||r===et.BC4RSnorm)return{byteLength:8,width:4,height:4};if(r===et.BC5RGUnorm||r===et.BC5RGSnorm)return{byteLength:16,width:4,height:4};if(r===et.BC6HRGBUFloat||r===et.BC6HRGBFloat)return{byteLength:16,width:4,height:4};if(r===et.BC7RGBAUnorm||r===et.BC7RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(r===et.ETC2RGB8Unorm||r===et.ETC2RGB8UnormSRGB)return{byteLength:8,width:4,height:4};if(r===et.ETC2RGB8A1Unorm||r===et.ETC2RGB8A1UnormSRGB)return{byteLength:8,width:4,height:4};if(r===et.ETC2RGBA8Unorm||r===et.ETC2RGBA8UnormSRGB)return{byteLength:16,width:4,height:4};if(r===et.EACR11Unorm)return{byteLength:8,width:4,height:4};if(r===et.EACR11Snorm)return{byteLength:8,width:4,height:4};if(r===et.EACRG11Unorm)return{byteLength:16,width:4,height:4};if(r===et.EACRG11Snorm)return{byteLength:16,width:4,height:4};if(r===et.ASTC4x4Unorm||r===et.ASTC4x4UnormSRGB)return{byteLength:16,width:4,height:4};if(r===et.ASTC5x4Unorm||r===et.ASTC5x4UnormSRGB)return{byteLength:16,width:5,height:4};if(r===et.ASTC5x5Unorm||r===et.ASTC5x5UnormSRGB)return{byteLength:16,width:5,height:5};if(r===et.ASTC6x5Unorm||r===et.ASTC6x5UnormSRGB)return{byteLength:16,width:6,height:5};if(r===et.ASTC6x6Unorm||r===et.ASTC6x6UnormSRGB)return{byteLength:16,width:6,height:6};if(r===et.ASTC8x5Unorm||r===et.ASTC8x5UnormSRGB)return{byteLength:16,width:8,height:5};if(r===et.ASTC8x6Unorm||r===et.ASTC8x6UnormSRGB)return{byteLength:16,width:8,height:6};if(r===et.ASTC8x8Unorm||r===et.ASTC8x8UnormSRGB)return{byteLength:16,width:8,height:8};if(r===et.ASTC10x5Unorm||r===et.ASTC10x5UnormSRGB)return{byteLength:16,width:10,height:5};if(r===et.ASTC10x6Unorm||r===et.ASTC10x6UnormSRGB)return{byteLength:16,width:10,height:6};if(r===et.ASTC10x8Unorm||r===et.ASTC10x8UnormSRGB)return{byteLength:16,width:10,height:8};if(r===et.ASTC10x10Unorm||r===et.ASTC10x10UnormSRGB)return{byteLength:16,width:10,height:10};if(r===et.ASTC12x10Unorm||r===et.ASTC12x10UnormSRGB)return{byteLength:16,width:12,height:10};if(r===et.ASTC12x12Unorm||r===et.ASTC12x12UnormSRGB)return{byteLength:16,width:12,height:12}}_convertAddressMode(r){let c=ed.ClampToEdge;return r===ks?c=ed.Repeat:r===tc&&(c=ed.MirrorRepeat),c}_convertFilterMode(r){let c=ja.Linear;return(r===r2||r===zd||r===E1)&&(c=ja.Nearest),c}_getBytesPerTexel(r){if(r===et.R8Unorm||r===et.R8Snorm||r===et.R8Uint||r===et.R8Sint)return 1;if(r===et.R16Uint||r===et.R16Sint||r===et.R16Float||r===et.RG8Unorm||r===et.RG8Snorm||r===et.RG8Uint||r===et.RG8Sint)return 2;if(r===et.R32Uint||r===et.R32Sint||r===et.R32Float||r===et.RG16Uint||r===et.RG16Sint||r===et.RG16Float||r===et.RGBA8Unorm||r===et.RGBA8UnormSRGB||r===et.RGBA8Snorm||r===et.RGBA8Uint||r===et.RGBA8Sint||r===et.BGRA8Unorm||r===et.BGRA8UnormSRGB||r===et.RGB9E5UFloat||r===et.RGB10A2Unorm||r===et.RG11B10UFloat||r===et.Depth32Float||r===et.Depth24Plus||r===et.Depth24PlusStencil8||r===et.Depth32FloatStencil8)return 4;if(r===et.RG32Uint||r===et.RG32Sint||r===et.RG32Float||r===et.RGBA16Uint||r===et.RGBA16Sint||r===et.RGBA16Float)return 8;if(r===et.RGBA32Uint||r===et.RGBA32Sint||r===et.RGBA32Float)return 16}_getTypedArrayType(r){if(r===et.R8Uint)return Uint8Array;if(r===et.R8Sint)return Int8Array;if(r===et.R8Unorm)return Uint8Array;if(r===et.R8Snorm)return Int8Array;if(r===et.RG8Uint)return Uint8Array;if(r===et.RG8Sint)return Int8Array;if(r===et.RG8Unorm)return Uint8Array;if(r===et.RG8Snorm)return Int8Array;if(r===et.RGBA8Uint)return Uint8Array;if(r===et.RGBA8Sint)return Int8Array;if(r===et.RGBA8Unorm||r===et.RGBA8UnormSRGB)return Uint8Array;if(r===et.RGBA8Snorm)return Int8Array;if(r===et.R16Uint)return Uint16Array;if(r===et.R16Sint)return Int16Array;if(r===et.RG16Uint)return Uint16Array;if(r===et.RG16Sint)return Int16Array;if(r===et.RGBA16Uint)return Uint16Array;if(r===et.RGBA16Sint)return Int16Array;if(r===et.R16Float||r===et.RG16Float||r===et.RGBA16Float)return Uint16Array;if(r===et.R32Uint)return Uint32Array;if(r===et.R32Sint)return Int32Array;if(r===et.R32Float)return Float32Array;if(r===et.RG32Uint)return Uint32Array;if(r===et.RG32Sint)return Int32Array;if(r===et.RG32Float)return Float32Array;if(r===et.RGBA32Uint)return Uint32Array;if(r===et.RGBA32Sint)return Int32Array;if(r===et.RGBA32Float)return Float32Array;if(r===et.BGRA8Unorm||r===et.BGRA8UnormSRGB)return Uint8Array;if(r===et.RGB10A2Unorm||r===et.RGB9E5UFloat||r===et.RG11B10UFloat)return Uint32Array;if(r===et.Depth32Float)return Float32Array;if(r===et.Depth24Plus||r===et.Depth24PlusStencil8)return Uint32Array;if(r===et.Depth32FloatStencil8)return Float32Array}_getDimension(r){let c;return r.is3DTexture||r.isData3DTexture?c=Pg.ThreeD:c=Pg.TwoD,c}}function Ed(v,r=null){const c=v.format,f=v.type,p=v.colorSpace,y=pi.getTransfer(p);let T;if(v.isCompressedTexture===!0||v.isCompressedArrayTexture===!0)switch(c){case oa:case aa:T=y===b0?et.BC1RGBAUnormSRGB:et.BC1RGBAUnorm;break;case ca:T=y===b0?et.BC2RGBAUnormSRGB:et.BC2RGBAUnorm;break;case la:T=y===b0?et.BC3RGBAUnormSRGB:et.BC3RGBAUnorm;break;case kl:T=et.BC4RUnorm;break;case Fl:T=et.BC4RSnorm;break;case Bl:T=et.BC5RGUnorm;break;case Ul:T=et.BC5RGSnorm;break;case Ll:T=y===b0?et.BC7RGBAUnormSRGB:et.BC7RGBAUnorm;break;case xl:case gl:T=y===b0?et.ETC2RGB8UnormSRGB:et.ETC2RGB8Unorm;break;case yl:T=y===b0?et.ETC2RGBA8UnormSRGB:et.ETC2RGBA8Unorm;break;case vl:T=y===b0?et.ASTC4x4UnormSRGB:et.ASTC4x4Unorm;break;case Sl:T=y===b0?et.ASTC5x4UnormSRGB:et.ASTC5x4Unorm;break;case Tl:T=y===b0?et.ASTC5x5UnormSRGB:et.ASTC5x5Unorm;break;case Cl:T=y===b0?et.ASTC6x5UnormSRGB:et.ASTC6x5Unorm;break;case wl:T=y===b0?et.ASTC6x6UnormSRGB:et.ASTC6x6Unorm;break;case Ml:T=y===b0?et.ASTC8x5UnormSRGB:et.ASTC8x5Unorm;break;case Rl:T=y===b0?et.ASTC8x6UnormSRGB:et.ASTC8x6Unorm;break;case Al:T=y===b0?et.ASTC8x8UnormSRGB:et.ASTC8x8Unorm;break;case El:T=y===b0?et.ASTC10x5UnormSRGB:et.ASTC10x5Unorm;break;case bl:T=y===b0?et.ASTC10x6UnormSRGB:et.ASTC10x6Unorm;break;case Nl:T=y===b0?et.ASTC10x8UnormSRGB:et.ASTC10x8Unorm;break;case Dl:T=y===b0?et.ASTC10x10UnormSRGB:et.ASTC10x10Unorm;break;case Il:T=y===b0?et.ASTC12x10UnormSRGB:et.ASTC12x10Unorm;break;case Pl:T=y===b0?et.ASTC12x12UnormSRGB:et.ASTC12x12Unorm;break;case R2:T=y===b0?et.RGBA8UnormSRGB:et.RGBA8Unorm;break;default:i0("WebGPURenderer: Unsupported texture format.",c)}else switch(c){case R2:switch(f){case Ya:T=et.RGBA8Snorm;break;case Ka:T=et.RGBA16Sint;break;case xo:T=et.RGBA16Uint;break;case Kn:T=et.RGBA32Uint;break;case Tr:T=et.RGBA32Sint;break;case M2:T=y===b0?et.RGBA8UnormSRGB:et.RGBA8Unorm;break;case Q2:T=et.RGBA16Float;break;case P2:T=et.RGBA32Float;break;default:i0("WebGPURenderer: Unsupported texture type with RGBAFormat.",f)}break;case Ef:switch(f){case D_:T=et.RGB9E5UFloat;break;case I_:T=et.RG11B10UFloat;break;default:i0("WebGPURenderer: Unsupported texture type with RGBFormat.",f)}break;case bf:switch(f){case Ya:T=et.R8Snorm;break;case Ka:T=et.R16Sint;break;case xo:T=et.R16Uint;break;case Kn:T=et.R32Uint;break;case Tr:T=et.R32Sint;break;case M2:T=et.R8Unorm;break;case Q2:T=et.R16Float;break;case P2:T=et.R32Float;break;default:i0("WebGPURenderer: Unsupported texture type with RedFormat.",f)}break;case yo:switch(f){case Ya:T=et.RG8Snorm;break;case Ka:T=et.RG16Sint;break;case xo:T=et.RG16Uint;break;case Kn:T=et.RG32Uint;break;case Tr:T=et.RG32Sint;break;case M2:T=et.RG8Unorm;break;case Q2:T=et.RG16Float;break;case P2:T=et.RG32Float;break;default:i0("WebGPURenderer: Unsupported texture type with RGFormat.",f)}break;case Us:switch(f){case xo:T=et.Depth16Unorm;break;case Kn:T=et.Depth24Plus;break;case P2:T=et.Depth32Float;break;default:i0("WebGPURenderer: Unsupported texture type with DepthFormat.",f)}break;case Os:switch(f){case Bs:T=et.Depth24PlusStencil8;break;case P2:r&&r.features.has(Ad.Depth32FloatStencil8)===!1&&i0('WebGPURenderer: Depth textures with DepthStencilFormat + FloatType can only be used with the "depth32float-stencil8" GPU feature.'),T=et.Depth32FloatStencil8;break;default:i0("WebGPURenderer: Unsupported texture type with DepthStencilFormat.",f)}break;case Zl:switch(f){case Tr:T=et.R32Sint;break;case Kn:T=et.R32Uint;break;default:i0("WebGPURenderer: Unsupported texture type with RedIntegerFormat.",f)}break;case Ql:switch(f){case Tr:T=et.RG32Sint;break;case Kn:T=et.RG32Uint;break;default:i0("WebGPURenderer: Unsupported texture type with RGIntegerFormat.",f)}break;case Jl:switch(f){case Tr:T=et.RGBA32Sint;break;case Kn:T=et.RGBA32Uint;break;default:i0("WebGPURenderer: Unsupported texture type with RGBAIntegerFormat.",f)}break;default:i0("WebGPURenderer: Unsupported texture format.",c)}return T}const R3e=/^[fn]*\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)\s*[\-\>]*\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/i,A3e=/([a-z_0-9]+)\s*:\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/ig,kg={f32:"float",i32:"int",u32:"uint",bool:"bool","vec2<f32>":"vec2","vec2<i32>":"ivec2","vec2<u32>":"uvec2","vec2<bool>":"bvec2",vec2f:"vec2",vec2i:"ivec2",vec2u:"uvec2",vec2b:"bvec2","vec3<f32>":"vec3","vec3<i32>":"ivec3","vec3<u32>":"uvec3","vec3<bool>":"bvec3",vec3f:"vec3",vec3i:"ivec3",vec3u:"uvec3",vec3b:"bvec3","vec4<f32>":"vec4","vec4<i32>":"ivec4","vec4<u32>":"uvec4","vec4<bool>":"bvec4",vec4f:"vec4",vec4i:"ivec4",vec4u:"uvec4",vec4b:"bvec4","mat2x2<f32>":"mat2",mat2x2f:"mat2","mat3x3<f32>":"mat3",mat3x3f:"mat3","mat4x4<f32>":"mat4",mat4x4f:"mat4",sampler:"sampler",texture_1d:"texture",texture_2d:"texture",texture_2d_array:"texture",texture_multisampled_2d:"cubeTexture",texture_depth_2d:"depthTexture",texture_depth_2d_array:"depthTexture",texture_depth_multisampled_2d:"depthTexture",texture_depth_cube:"depthTexture",texture_depth_cube_array:"depthTexture",texture_3d:"texture3D",texture_cube:"cubeTexture",texture_cube_array:"cubeTexture",texture_storage_1d:"storageTexture",texture_storage_2d:"storageTexture",texture_storage_2d_array:"storageTexture",texture_storage_3d:"storageTexture"},E3e=v=>{v=v.trim();const r=v.match(R3e);if(r!==null&&r.length===4){const c=r[2],f=[];let p=null;for(;(p=A3e.exec(c))!==null;)f.push({name:p[1],type:p[2]});const y=[];for(let G=0;G<f.length;G++){const{name:j,type:K}=f[G];let Q=K;Q.startsWith("ptr")?Q="pointer":(Q.startsWith("texture")&&(Q=K.split("<")[0]),Q=kg[Q]),y.push(new U8(Q,j))}const T=v.substring(r[0].length),R=r[3]||"void",b=r[1]!==void 0?r[1]:"";return{type:kg[R]||R,inputs:y,name:b,inputsCode:c,blockCode:T,outputType:R}}else throw new Error("FunctionNode: Function is not a WGSL code.")};class b3e extends G8{constructor(r){const{type:c,inputs:f,name:p,inputsCode:y,blockCode:T,outputType:R}=E3e(r);super(c,f,p),this.inputsCode=y,this.blockCode=T,this.outputType=R}getCode(r=this.name){const c=this.outputType!=="void"?"-> "+this.outputType:"";return`fn ${r} ( ${this.inputsCode.trim()} ) ${c}`+this.blockCode}}class N3e extends _v{parseFunction(r){return new b3e(r)}}const Zc=typeof self<"u"?self.GPUShaderStage:{VERTEX:1,FRAGMENT:2,COMPUTE:4},D3e={[qo.READ_ONLY]:"read",[qo.WRITE_ONLY]:"write",[qo.READ_WRITE]:"read_write"},Fg={[ks]:"repeat",[Cr]:"clamp",[tc]:"mirror"},n_={vertex:Zc?Zc.VERTEX:1,fragment:Zc?Zc.FRAGMENT:2,compute:Zc?Zc.COMPUTE:4},Bg={instance:!0,swizzleAssign:!1,storageBuffer:!0},I3e={"^^":"tsl_xor"},P3e={float:"f32",int:"i32",uint:"u32",bool:"bool",color:"vec3<f32>",vec2:"vec2<f32>",ivec2:"vec2<i32>",uvec2:"vec2<u32>",bvec2:"vec2<bool>",vec3:"vec3<f32>",ivec3:"vec3<i32>",uvec3:"vec3<u32>",bvec3:"vec3<bool>",vec4:"vec4<f32>",ivec4:"vec4<i32>",uvec4:"vec4<u32>",bvec4:"vec4<bool>",mat2:"mat2x2<f32>",mat3:"mat3x3<f32>",mat4:"mat4x4<f32>"},Ug={},Vu={tsl_xor:new Er("fn tsl_xor( a : bool, b : bool ) -> bool { return ( a || b ) && !( a && b ); }"),mod_float:new Er("fn tsl_mod_float( x : f32, y : f32 ) -> f32 { return x - y * floor( x / y ); }"),mod_vec2:new Er("fn tsl_mod_vec2( x : vec2f, y : vec2f ) -> vec2f { return x - y * floor( x / y ); }"),mod_vec3:new Er("fn tsl_mod_vec3( x : vec3f, y : vec3f ) -> vec3f { return x - y * floor( x / y ); }"),mod_vec4:new Er("fn tsl_mod_vec4( x : vec4f, y : vec4f ) -> vec4f { return x - y * floor( x / y ); }"),equals_bool:new Er("fn tsl_equals_bool( a : bool, b : bool ) -> bool { return a == b; }"),equals_bvec2:new Er("fn tsl_equals_bvec2( a : vec2f, b : vec2f ) -> vec2<bool> { return vec2<bool>( a.x == b.x, a.y == b.y ); }"),equals_bvec3:new Er("fn tsl_equals_bvec3( a : vec3f, b : vec3f ) -> vec3<bool> { return vec3<bool>( a.x == b.x, a.y == b.y, a.z == b.z ); }"),equals_bvec4:new Er("fn tsl_equals_bvec4( a : vec4f, b : vec4f ) -> vec4<bool> { return vec4<bool>( a.x == b.x, a.y == b.y, a.z == b.z, a.w == b.w ); }"),repeatWrapping_float:new Er("fn tsl_repeatWrapping_float( coord: f32 ) -> f32 { return fract( coord ); }"),mirrorWrapping_float:new Er("fn tsl_mirrorWrapping_float( coord: f32 ) -> f32 { let mirrored = fract( coord * 0.5 ) * 2.0; return 1.0 - abs( 1.0 - mirrored ); }"),clampWrapping_float:new Er("fn tsl_clampWrapping_float( coord: f32 ) -> f32 { return clamp( coord, 0.0, 1.0 ); }"),biquadraticTexture:new Er(`
fn tsl_biquadraticTexture( map : texture_2d<f32>, coord : vec2f, iRes : vec2u, level : u32 ) -> vec4f {

	let res = vec2f( iRes );

	let uvScaled = coord * res;
	let uvWrapping = ( ( uvScaled % res ) + res ) % res;

	// https://www.shadertoy.com/view/WtyXRy

	let uv = uvWrapping - 0.5;
	let iuv = floor( uv );
	let f = fract( uv );

	let rg1 = textureLoad( map, vec2u( iuv + vec2( 0.5, 0.5 ) ) % iRes, level );
	let rg2 = textureLoad( map, vec2u( iuv + vec2( 1.5, 0.5 ) ) % iRes, level );
	let rg3 = textureLoad( map, vec2u( iuv + vec2( 0.5, 1.5 ) ) % iRes, level );
	let rg4 = textureLoad( map, vec2u( iuv + vec2( 1.5, 1.5 ) ) % iRes, level );

	return mix( mix( rg1, rg2, f.x ), mix( rg3, rg4, f.x ), f.y );

}
`)},L3e={dFdx:"dpdx",dFdy:"- dpdy",mod_float:"tsl_mod_float",mod_vec2:"tsl_mod_vec2",mod_vec3:"tsl_mod_vec3",mod_vec4:"tsl_mod_vec4",equals_bool:"tsl_equals_bool",equals_bvec2:"tsl_equals_bvec2",equals_bvec3:"tsl_equals_bvec3",equals_bvec4:"tsl_equals_bvec4",inversesqrt:"inverseSqrt",bitcast:"bitcast<f32>"};let wv="";(typeof navigator<"u"&&/Firefox|Deno/g.test(navigator.userAgent))!==!0&&(wv+=`diagnostic( off, derivative_uniformity );
`);class k3e extends pv{constructor(r,c){super(r,c,new N3e),this.uniformGroups={},this.builtins={},this.directives={},this.scopedArrays=new Map}_generateTextureSample(r,c,f,p,y,T=this.shaderStage){return T==="fragment"?p?y?`textureSample( ${c}, ${c}_sampler, ${f}, ${p}, ${y} )`:`textureSample( ${c}, ${c}_sampler, ${f}, ${p} )`:y?`textureSample( ${c}, ${c}_sampler, ${f}, ${y} )`:`textureSample( ${c}, ${c}_sampler, ${f} )`:this.generateTextureSampleLevel(r,c,f,"0",p)}generateTextureSampleLevel(r,c,f,p,y,T){return this.isUnfilterable(r)===!1?T?`textureSampleLevel( ${c}, ${c}_sampler, ${f}, ${p}, ${T} )`:`textureSampleLevel( ${c}, ${c}_sampler, ${f}, ${p} )`:this.isFilteredTexture(r)?this.generateFilteredTexture(r,c,f,T,p):this.generateTextureLod(r,c,f,y,T,p)}generateWrapFunction(r){const c=`tsl_coord_${Fg[r.wrapS]}S_${Fg[r.wrapT]}_${r.isData3DTexture?"3d":"2d"}T`;let f=Ug[c];if(f===void 0){const p=[],y=r.isData3DTexture?"vec3f":"vec2f";let T=`fn ${c}( coord : ${y} ) -> ${y} {

	return ${y}(
`;const R=(b,P)=>{b===ks?(p.push(Vu.repeatWrapping_float),T+=`		tsl_repeatWrapping_float( coord.${P} )`):b===Cr?(p.push(Vu.clampWrapping_float),T+=`		tsl_clampWrapping_float( coord.${P} )`):b===tc?(p.push(Vu.mirrorWrapping_float),T+=`		tsl_mirrorWrapping_float( coord.${P} )`):(T+=`		coord.${P}`,jt(`WebGPURenderer: Unsupported texture wrap type "${b}" for vertex shader.`))};R(r.wrapS,"x"),T+=`,
`,R(r.wrapT,"y"),r.isData3DTexture&&(T+=`,
`,R(r.wrapR,"z")),T+=`
	);

}
`,Ug[c]=f=new Er(T,p)}return f.build(this),c}generateArrayDeclaration(r,c){return`array< ${this.getType(r)}, ${c} >`}generateTextureDimension(r,c,f){const p=this.getDataFromNode(r,this.shaderStage,this.globalCache);p.dimensionsSnippet===void 0&&(p.dimensionsSnippet={});let y=p.dimensionsSnippet[f];if(p.dimensionsSnippet[f]===void 0){let T,R;const{primarySamples:b}=this.renderer.backend.utils.getTextureSampleData(r),P=b>1;r.isData3DTexture?R="vec3<u32>":R="vec2<u32>",P||r.isStorageTexture?T=c:T=`${c}${f?`, u32( ${f} )`:""}`,y=new u_(new f_(`textureDimensions( ${T} )`,R)),p.dimensionsSnippet[f]=y,(r.isArrayTexture||r.isDataArrayTexture||r.isData3DTexture)&&(p.arrayLayerCount=new u_(new f_(`textureNumLayers(${c})`,"u32"))),r.isTextureCube&&(p.cubeFaceCount=new u_(new f_("6u","u32")))}return y.build(this)}generateFilteredTexture(r,c,f,p,y="0u"){this._include("biquadraticTexture");const T=this.generateWrapFunction(r),R=this.generateTextureDimension(r,c,y);return p&&(f=`${f} + vec2<f32>(${p}) / ${R}`),`tsl_biquadraticTexture( ${c}, ${T}( ${f} ), ${R}, u32( ${y} ) )`}generateTextureLod(r,c,f,p,y,T="0u"){const R=this.generateWrapFunction(r),b=this.generateTextureDimension(r,c,T),P=r.isData3DTexture?"vec3":"vec2";y&&(f=`${f} + ${P}<f32>(${y}) / ${P}<f32>( ${b} )`);const G=`${P}<u32>( ${R}( ${f} ) * ${P}<f32>( ${b} ) )`;return this.generateTextureLoad(r,c,G,T,p,null)}generateTextureLoad(r,c,f,p,y,T){p===null&&(p="0u"),T&&(f=`${f} + ${T}`);let R;return y?R=`textureLoad( ${c}, ${f}, ${y}, u32( ${p} ) )`:(R=`textureLoad( ${c}, ${f}, u32( ${p} ) )`,this.renderer.backend.compatibilityMode&&r.isDepthTexture&&(R+=".x")),R}generateTextureStore(r,c,f,p,y){let T;return p?T=`textureStore( ${c}, ${f}, ${p}, ${y} )`:T=`textureStore( ${c}, ${f}, ${y} )`,T}isSampleCompare(r){return r.isDepthTexture===!0&&r.compareFunction!==null}isUnfilterable(r){return this.getComponentTypeFromTexture(r)!=="float"||!this.isAvailable("float32Filterable")&&r.isDataTexture===!0&&r.type===P2||this.isSampleCompare(r)===!1&&r.minFilter===r2&&r.magFilter===r2||this.renderer.backend.utils.getTextureSampleData(r).primarySamples>1}generateTexture(r,c,f,p,y,T=this.shaderStage){let R=null;return this.isUnfilterable(r)?R=this.generateTextureLod(r,c,f,p,y,"0",T):R=this._generateTextureSample(r,c,f,p,y,T),R}generateTextureGrad(r,c,f,p,y,T,R=this.shaderStage){if(R==="fragment")return T?`textureSampleGrad( ${c}, ${c}_sampler, ${f},  ${p[0]}, ${p[1]}, ${T} )`:`textureSampleGrad( ${c}, ${c}_sampler, ${f},  ${p[0]}, ${p[1]} )`;i0(`WebGPURenderer: THREE.TextureNode.gradient() does not support ${R} shader.`)}generateTextureCompare(r,c,f,p,y,T,R=this.shaderStage){if(R==="fragment")return r.isDepthTexture===!0&&r.isArrayTexture===!0?T?`textureSampleCompare( ${c}, ${c}_sampler, ${f}, ${y}, ${p}, ${T} )`:`textureSampleCompare( ${c}, ${c}_sampler, ${f}, ${y}, ${p} )`:T?`textureSampleCompare( ${c}, ${c}_sampler, ${f}, ${p}, ${T} )`:`textureSampleCompare( ${c}, ${c}_sampler, ${f}, ${p} )`;i0(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${R} shader.`)}generateTextureLevel(r,c,f,p,y,T){return this.isUnfilterable(r)===!1?T?`textureSampleLevel( ${c}, ${c}_sampler, ${f}, ${p}, ${T} )`:`textureSampleLevel( ${c}, ${c}_sampler, ${f}, ${p} )`:this.isFilteredTexture(r)?this.generateFilteredTexture(r,c,f,T,p):this.generateTextureLod(r,c,f,y,T,p)}generateTextureBias(r,c,f,p,y,T,R=this.shaderStage){if(R==="fragment")return T?`textureSampleBias( ${c}, ${c}_sampler, ${f}, ${p}, ${T} )`:`textureSampleBias( ${c}, ${c}_sampler, ${f}, ${p} )`;i0(`WebGPURenderer: THREE.TextureNode.biasNode does not support ${R} shader.`)}getPropertyName(r,c=this.shaderStage){if(r.isNodeVarying===!0&&r.needsInterpolation===!0){if(c==="vertex")return`varyings.${r.name}`}else if(r.isNodeUniform===!0){const f=r.name,p=r.type;return p==="texture"||p==="cubeTexture"||p==="storageTexture"||p==="texture3D"?f:p==="buffer"||p==="storageBuffer"||p==="indirectStorageBuffer"?this.isCustomStruct(r)?f:f+".value":r.groupNode.name+"."+f}return super.getPropertyName(r)}getOutputStructName(){return"output"}getFunctionOperator(r){const c=I3e[r];return c!==void 0?(this._include(c),c):null}getNodeAccess(r,c){return c!=="compute"?r.isAtomic===!0?(jt("WebGPURenderer: Atomic operations are only supported in compute shaders."),qo.READ_WRITE):qo.READ_ONLY:r.access}getStorageAccess(r,c){return D3e[this.getNodeAccess(r,c)]}getUniformFromNode(r,c,f,p=null){const y=super.getUniformFromNode(r,c,f,p),T=this.getDataFromNode(r,f,this.globalCache);if(T.uniformGPU===void 0){let R;const b=r.groupNode,P=b.name,G=this.getBindGroupArray(P,f);if(c==="texture"||c==="cubeTexture"||c==="storageTexture"||c==="texture3D"){let j=null;const K=this.getNodeAccess(r,f);if(c==="texture"||c==="storageTexture"?r.value.is3DTexture===!0?j=new Rd(y.name,y.node,b,K):j=new eh(y.name,y.node,b,K):c==="cubeTexture"?j=new Sv(y.name,y.node,b,K):c==="texture3D"&&(j=new Rd(y.name,y.node,b,K)),j.store=r.isStorageTextureNode===!0,j.mipLevel=j.store?r.mipLevel:0,j.setVisibility(n_[f]),this.isUnfilterable(r.value)===!1&&j.store===!1){const Q=new x3e(`${y.name}_sampler`,y.node,b);Q.setVisibility(n_[f]),G.push(Q,j),R=[Q,j]}else G.push(j),R=[j]}else if(c==="buffer"||c==="storageBuffer"||c==="indirectStorageBuffer"){const j=c==="buffer"?xv:S3e,K=new j(r,b);K.setVisibility(n_[f]),G.push(K),R=K,y.name=p||"NodeBuffer_"+y.id}else{const j=this.uniformGroups[f]||(this.uniformGroups[f]={});let K=j[P];K===void 0&&(K=new yv(P,b),K.setVisibility(n_[f]),j[P]=K,G.push(K)),R=this.getNodeUniform(y,c),K.addUniform(R)}T.uniformGPU=R}return y}getBuiltin(r,c,f,p=this.shaderStage){const y=this.builtins[p]||(this.builtins[p]=new Map);return y.has(r)===!1&&y.set(r,{name:r,property:c,type:f}),c}hasBuiltin(r,c=this.shaderStage){return this.builtins[c]!==void 0&&this.builtins[c].has(r)}getVertexIndex(){return this.shaderStage==="vertex"?this.getBuiltin("vertex_index","vertexIndex","u32","attribute"):"vertexIndex"}buildFunctionCode(r){const c=r.layout,f=this.flowShaderNode(r),p=[];for(const T of c.inputs)p.push(T.name+" : "+this.getType(T.type));let y=`fn ${c.name}( ${p.join(", ")} ) -> ${this.getType(c.type)} {
${f.vars}
${f.code}
`;return f.result&&(y+=`	return ${f.result};
`),y+=`
}
`,y}getInstanceIndex(){return this.shaderStage==="vertex"?this.getBuiltin("instance_index","instanceIndex","u32","attribute"):"instanceIndex"}getInvocationLocalIndex(){return this.getBuiltin("local_invocation_index","invocationLocalIndex","u32","attribute")}getSubgroupSize(){return this.enableSubGroups(),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute")}getInvocationSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_invocation_id","invocationSubgroupIndex","u32","attribute")}getSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_id","subgroupIndex","u32","attribute")}getDrawIndex(){return null}getFrontFacing(){return this.getBuiltin("front_facing","isFront","bool")}getFragCoord(){return this.getBuiltin("position","fragCoord","vec4<f32>")+".xy"}getFragDepth(){return"output."+this.getBuiltin("frag_depth","depth","f32","output")}getClipDistance(){return"varyings.hw_clip_distances"}isFlipY(){return!1}enableDirective(r,c=this.shaderStage){(this.directives[c]||(this.directives[c]=new Set)).add(r)}getDirectives(r){const c=[],f=this.directives[r];if(f!==void 0)for(const p of f)c.push(`enable ${p};`);return c.join(`
`)}enableSubGroups(){this.enableDirective("subgroups")}enableSubgroupsF16(){this.enableDirective("subgroups-f16")}enableClipDistances(){this.enableDirective("clip_distances")}enableShaderF16(){this.enableDirective("f16")}enableDualSourceBlending(){this.enableDirective("dual_source_blending")}enableHardwareClipping(r){this.enableClipDistances(),this.getBuiltin("clip_distances","hw_clip_distances",`array<f32, ${r} >`,"vertex")}getBuiltins(r){const c=[],f=this.builtins[r];if(f!==void 0)for(const{name:p,property:y,type:T}of f.values())c.push(`@builtin( ${p} ) ${y} : ${T}`);return c.join(`,
	`)}getScopedArray(r,c,f,p){return this.scopedArrays.has(r)===!1&&this.scopedArrays.set(r,{name:r,scope:c,bufferType:f,bufferCount:p}),r}getScopedArrays(r){if(r!=="compute")return;const c=[];for(const{name:f,scope:p,bufferType:y,bufferCount:T}of this.scopedArrays.values()){const R=this.getType(y);c.push(`var<${p}> ${f}: array< ${R}, ${T} >;`)}return c.join(`
`)}getAttributes(r){const c=[];if(r==="compute"&&(this.getBuiltin("global_invocation_id","globalId","vec3<u32>","attribute"),this.getBuiltin("workgroup_id","workgroupId","vec3<u32>","attribute"),this.getBuiltin("local_invocation_id","localId","vec3<u32>","attribute"),this.getBuiltin("num_workgroups","numWorkgroups","vec3<u32>","attribute"),this.renderer.hasFeature("subgroups")&&(this.enableDirective("subgroups",r),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute"))),r==="vertex"||r==="compute"){const f=this.getBuiltins("attribute");f&&c.push(f);const p=this.getAttributesArray();for(let y=0,T=p.length;y<T;y++){const R=p[y],b=R.name,P=this.getType(R.type);c.push(`@location( ${y} ) ${b} : ${P}`)}}return c.join(`,
	`)}getStructMembers(r){const c=[];for(const f of r.members){const p=r.output?"@location( "+f.index+" ) ":"";let y=this.getType(f.type);f.atomic&&(y="atomic< "+y+" >"),c.push(`	${p+f.name} : ${y}`)}return r.output&&c.push(`	${this.getBuiltins("output")}`),c.join(`,
`)}getStructs(r){let c="";const f=this.structs[r];if(f.length>0){const p=[];for(const y of f){let T=`struct ${y.name} {
`;T+=this.getStructMembers(y),T+=`
};`,p.push(T)}c=`
`+p.join(`

`)+`
`}return c}getVar(r,c,f=null){let p=`var ${c} : `;return f!==null?p+=this.generateArrayDeclaration(r,f):p+=this.getType(r),p}getVars(r){const c=[],f=this.vars[r];if(f!==void 0)for(const p of f)c.push(`	${this.getVar(p.type,p.name,p.count)};`);return`
${c.join(`
`)}
`}getVaryings(r){const c=[];if(r==="vertex"&&this.getBuiltin("position","Vertex","vec4<f32>","vertex"),r==="vertex"||r==="fragment"){const y=this.varyings,T=this.vars[r];for(let R=0;R<y.length;R++){const b=y[R];if(b.needsInterpolation){let P=`@location( ${R} )`;if(b.interpolationType){const G=b.interpolationSampling!==null?`, ${b.interpolationSampling} )`:" )";P+=` @interpolate( ${b.interpolationType}${G}`}else/^(int|uint|ivec|uvec)/.test(b.type)&&(P+=` @interpolate( ${this.renderer.backend.compatibilityMode?"flat, either":"flat"} )`);c.push(`${P} ${b.name} : ${this.getType(b.type)}`)}else r==="vertex"&&T.includes(b)===!1&&T.push(b)}}const f=this.getBuiltins(r);f&&c.push(f);const p=c.join(`,
	`);return r==="vertex"?this._getWGSLStruct("VaryingsStruct","	"+p):p}isCustomStruct(r){const c=r.value,f=r.node,p=(c.isBufferAttribute||c.isInstancedBufferAttribute)&&f.structTypeNode!==null,y=f.value&&f.value.array&&typeof f.value.itemSize=="number"&&f.value.array.length>f.value.itemSize;return p&&!y}getUniforms(r){const c=this.uniforms[r],f=[],p=[],y=[],T={};for(const b of c){const P=b.groupNode.name,G=this.bindingsIndexes[P];if(b.type==="texture"||b.type==="cubeTexture"||b.type==="storageTexture"||b.type==="texture3D"){const j=b.node.value;this.isUnfilterable(j)===!1&&b.node.isStorageTextureNode!==!0&&(this.isSampleCompare(j)?f.push(`@binding( ${G.binding++} ) @group( ${G.group} ) var ${b.name}_sampler : sampler_comparison;`):f.push(`@binding( ${G.binding++} ) @group( ${G.group} ) var ${b.name}_sampler : sampler;`));let K,Q="";const{primarySamples:ie}=this.renderer.backend.utils.getTextureSampleData(j);if(ie>1&&(Q="_multisampled"),j.isCubeTexture===!0)K="texture_cube<f32>";else if(j.isDepthTexture===!0)this.renderer.backend.compatibilityMode&&j.compareFunction===null?K=`texture${Q}_2d<f32>`:K=`texture_depth${Q}_2d${j.isArrayTexture===!0?"_array":""}`;else if(b.node.isStorageTextureNode===!0){const ce=Ed(j),ue=this.getStorageAccess(b.node,r),se=b.node.value.is3DTexture,Ne=b.node.value.isArrayTexture;K=`texture_storage_${se?"3d":`2d${Ne?"_array":""}`}<${ce}, ${ue}>`}else if(j.isArrayTexture===!0||j.isDataArrayTexture===!0||j.isCompressedArrayTexture===!0)K="texture_2d_array<f32>";else if(j.is3DTexture===!0||j.isData3DTexture===!0)K="texture_3d<f32>";else{const ce=this.getComponentTypeFromTexture(j).charAt(0);K=`texture${Q}_2d<${ce}32>`}f.push(`@binding( ${G.binding++} ) @group( ${G.group} ) var ${b.name} : ${K};`)}else if(b.type==="buffer"||b.type==="storageBuffer"||b.type==="indirectStorageBuffer"){const j=b.node,K=this.getType(j.getNodeType(this)),Q=j.bufferCount,ie=Q>0&&b.type==="buffer"?", "+Q:"",ce=j.isStorageBufferNode?`storage, ${this.getStorageAccess(j,r)}`:"uniform";if(this.isCustomStruct(b))p.push(`@binding( ${G.binding++} ) @group( ${G.group} ) var<${ce}> ${b.name} : ${K};`);else{const se=`	value : array< ${j.isAtomic?`atomic<${K}>`:`${K}`}${ie} >`;p.push(this._getWGSLStructBinding(b.name,se,ce,G.binding++,G.group))}}else{const j=this.getType(this.getVectorType(b.type)),K=b.groupNode.name;(T[K]||(T[K]={index:G.binding++,id:G.group,snippets:[]})).snippets.push(`	${b.name} : ${j}`)}}for(const b in T){const P=T[b];y.push(this._getWGSLStructBinding(b,P.snippets.join(`,
`),"uniform",P.index,P.id))}let R=f.join(`
`);return R+=p.join(`
`),R+=y.join(`
`),R}buildCode(){const r=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const c in r){this.shaderStage=c;const f=r[c];f.uniforms=this.getUniforms(c),f.attributes=this.getAttributes(c),f.varyings=this.getVaryings(c),f.structs=this.getStructs(c),f.vars=this.getVars(c),f.codes=this.getCodes(c),f.directives=this.getDirectives(c),f.scopedArrays=this.getScopedArrays(c);let p=`// code

`;p+=this.flowCode[c];const y=this.flowNodes[c],T=y[y.length-1],R=T.outputNode,b=R!==void 0&&R.isOutputStructNode===!0;for(const P of y){const G=this.getFlowData(P),j=P.name;if(j&&(p.length>0&&(p+=`
`),p+=`	// flow -> ${j}
`),p+=`${G.code}
	`,P===T&&c!=="compute"){if(p+=`// result

	`,c==="vertex")p+=`varyings.Vertex = ${G.result};`;else if(c==="fragment")if(b)f.returnType=R.getNodeType(this),f.structs+="var<private> output : "+f.returnType+";",p+=`return ${G.result};`;else{let K="	@location(0) color: vec4<f32>";const Q=this.getBuiltins("output");Q&&(K+=`,
	`+Q),f.returnType="OutputStruct",f.structs+=this._getWGSLStruct("OutputStruct",K),f.structs+=`
var<private> output : OutputStruct;`,p+=`output.color = ${G.result};

	return output;`}}}f.flow=p}if(this.shaderStage=null,this.material!==null)this.vertexShader=this._getWGSLVertexCode(r.vertex),this.fragmentShader=this._getWGSLFragmentCode(r.fragment);else{const c=this.object.workgroupSize;this.computeShader=this._getWGSLComputeCode(r.compute,c)}}getMethod(r,c=null){let f;return c!==null&&(f=this._getWGSLMethod(r+"_"+c)),f===void 0&&(f=this._getWGSLMethod(r)),f||r}getBitcastMethod(r){return`bitcast<${this.getType(r)}>`}getTernary(r,c,f){return`select( ${f}, ${c}, ${r} )`}getType(r){return P3e[r]||r}isAvailable(r){let c=Bg[r];return c===void 0&&(r==="float32Filterable"?c=this.renderer.hasFeature("float32-filterable"):r==="clipDistance"&&(c=this.renderer.hasFeature("clip-distances")),Bg[r]=c),c}_getWGSLMethod(r){return Vu[r]!==void 0&&this._include(r),L3e[r]}_include(r){const c=Vu[r];return c.build(this),this.addInclude(c),c}_getWGSLVertexCode(r){return`${this.getSignature()}
// directives
${r.directives}

// structs
${r.structs}

// uniforms
${r.uniforms}

// varyings
${r.varyings}
var<private> varyings : VaryingsStruct;

// codes
${r.codes}

@vertex
fn main( ${r.attributes} ) -> VaryingsStruct {

	// vars
	${r.vars}

	// flow
	${r.flow}

	return varyings;

}
`}_getWGSLFragmentCode(r){return`${this.getSignature()}
// global
${wv}

// structs
${r.structs}

// uniforms
${r.uniforms}

// codes
${r.codes}

@fragment
fn main( ${r.varyings} ) -> ${r.returnType} {

	// vars
	${r.vars}

	// flow
	${r.flow}

}
`}_getWGSLComputeCode(r,c){const[f,p,y]=c;return`${this.getSignature()}
// directives
${r.directives}

// system
var<private> instanceIndex : u32;

// locals
${r.scopedArrays}

// structs
${r.structs}

// uniforms
${r.uniforms}

// codes
${r.codes}

@compute @workgroup_size( ${f}, ${p}, ${y} )
fn main( ${r.attributes} ) {

	// system
	instanceIndex = globalId.x
		+ globalId.y * ( ${f} * numWorkgroups.x )
		+ globalId.z * ( ${f} * numWorkgroups.x ) * ( ${p} * numWorkgroups.y );

	// vars
	${r.vars}

	// flow
	${r.flow}

}
`}_getWGSLStruct(r,c){return`
struct ${r} {
${c}
};`}_getWGSLStructBinding(r,c,f,p=0,y=0){const T=r+"Struct";return`${this._getWGSLStruct(T,c)}
@binding( ${p} ) @group( ${y} )
var<${f}> ${r} : ${T};`}}class F3e{constructor(r){this.backend=r}getCurrentDepthStencilFormat(r){let c;return r.depthTexture!==null?c=this.getTextureFormatGPU(r.depthTexture):r.depth&&r.stencil?c=et.Depth24PlusStencil8:r.depth&&(c=et.Depth24Plus),c}getTextureFormatGPU(r){return this.backend.get(r).format}getTextureSampleData(r){let c;if(r.isFramebufferTexture)c=1;else if(r.isDepthTexture&&!r.renderTarget){const y=this.backend.renderer,T=y.getRenderTarget();c=T?T.samples:y.currentSamples}else r.renderTarget&&(c=r.renderTarget.samples);c=c||1;const f=c>1&&r.renderTarget!==null&&r.isDepthTexture!==!0&&r.isFramebufferTexture!==!0;return{samples:c,primarySamples:f?1:c,isMSAA:f}}getCurrentColorFormat(r){let c;return r.textures!==null?c=this.getTextureFormatGPU(r.textures[0]):c=this.getPreferredCanvasFormat(),c}getCurrentColorFormats(r){return r.textures!==null?r.textures.map(c=>this.getTextureFormatGPU(c)):[this.getPreferredCanvasFormat()]}getCurrentColorSpace(r){return r.textures!==null?r.textures[0].colorSpace:this.backend.renderer.outputColorSpace}getPrimitiveTopology(r,c){if(r.isPoints)return nl.PointList;if(r.isLineSegments||r.isMesh&&c.wireframe===!0)return nl.LineList;if(r.isLine)return nl.LineStrip;if(r.isMesh)return nl.TriangleList}getSampleCount(r){return r>=4?4:1}getSampleCountRenderContext(r){return r.textures!==null?this.getSampleCount(r.sampleCount):this.getSampleCount(this.backend.renderer.currentSamples)}getPreferredCanvasFormat(){const r=this.backend.parameters.outputType;if(r===void 0)return navigator.gpu.getPreferredCanvasFormat();if(r===M2)return et.BGRA8Unorm;if(r===Q2)return et.RGBA16Float;throw new Error("Unsupported outputType")}}const Mv=new Map([[Int8Array,["sint8","snorm8"]],[Uint8Array,["uint8","unorm8"]],[Int16Array,["sint16","snorm16"]],[Uint16Array,["uint16","unorm16"]],[Int32Array,["sint32","snorm32"]],[Uint32Array,["uint32","unorm32"]],[Float32Array,["float32"]]]);typeof Float16Array<"u"&&Mv.set(Float16Array,["float16"]);const B3e=new Map([[sx,["float16"]]]),U3e=new Map([[Int32Array,"sint32"],[Int16Array,"sint32"],[Uint32Array,"uint32"],[Uint16Array,"uint32"],[Float32Array,"float32"]]);class O3e{constructor(r){this.backend=r}createAttribute(r,c){const f=this._getBufferAttribute(r),p=this.backend,y=p.get(f);let T=y.buffer;if(T===void 0){const R=p.device;let b=f.array;if(r.normalized===!1){if(b.constructor===Int16Array||b.constructor===Int8Array)b=new Int32Array(b);else if((b.constructor===Uint16Array||b.constructor===Uint8Array)&&(b=new Uint32Array(b),c&GPUBufferUsage.INDEX))for(let j=0;j<b.length;j++)b[j]===65535&&(b[j]=4294967295)}if(f.array=b,(f.isStorageBufferAttribute||f.isStorageInstancedBufferAttribute)&&f.itemSize===3){b=new b.constructor(f.count*4);for(let j=0;j<f.count;j++)b.set(f.array.subarray(j*3,j*3+3),j*4);f.itemSize=4,f.array=b,y._force3to4BytesAlignment=!0}const P=b.byteLength,G=P+(4-P%4)%4;T=R.createBuffer({label:f.name,size:G,usage:c,mappedAtCreation:!0}),new b.constructor(T.getMappedRange()).set(b),T.unmap(),y.buffer=T}}updateAttribute(r){const c=this._getBufferAttribute(r),f=this.backend,p=f.device,y=f.get(c),T=f.get(c).buffer;let R=c.array;if(y._force3to4BytesAlignment===!0){R=new R.constructor(c.count*4);for(let G=0;G<c.count;G++)R.set(c.array.subarray(G*3,G*3+3),G*4);c.array=R}const b=this._isTypedArray(R),P=c.updateRanges;if(P.length===0)p.queue.writeBuffer(T,0,R,0);else{const G=b?1:R.BYTES_PER_ELEMENT;for(let j=0,K=P.length;j<K;j++){const Q=P[j];let ie,ce;if(y._force3to4BytesAlignment===!0){const se=Math.floor(Q.start/3),Ne=Math.ceil(Q.count/3);ie=se*4*G,ce=Ne*4*G}else ie=Q.start*G,ce=Q.count*G;const ue=ie*(b?R.BYTES_PER_ELEMENT:1);p.queue.writeBuffer(T,ue,R,ie,ce)}c.clearUpdateRanges()}}createShaderVertexBuffers(r){const c=r.getAttributes(),f=new Map;for(let p=0;p<c.length;p++){const y=c[p],T=y.array.BYTES_PER_ELEMENT,R=this._getBufferAttribute(y);let b=f.get(R);if(b===void 0){let j,K;y.isInterleavedBufferAttribute===!0?(j=y.data.stride*T,K=y.data.isInstancedInterleavedBuffer?i_.Instance:i_.Vertex):(j=y.itemSize*T,K=y.isInstancedBufferAttribute?i_.Instance:i_.Vertex),y.normalized===!1&&(y.array.constructor===Int16Array||y.array.constructor===Uint16Array)&&(j=4),b={arrayStride:j,attributes:[],stepMode:K},f.set(R,b)}const P=this._getVertexFormat(y),G=y.isInterleavedBufferAttribute===!0?y.offset*T:0;b.attributes.push({shaderLocation:p,offset:G,format:P})}return Array.from(f.values())}destroyAttribute(r){const c=this.backend;c.get(this._getBufferAttribute(r)).buffer.destroy(),c.delete(r)}async getArrayBufferAsync(r){const c=this.backend,f=c.device,y=c.get(this._getBufferAttribute(r)).buffer,T=y.size,R=f.createBuffer({label:`${r.name}_readback`,size:T,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),b=f.createCommandEncoder({label:`readback_encoder_${r.name}`});b.copyBufferToBuffer(y,0,R,0,T);const P=b.finish();f.queue.submit([P]),await R.mapAsync(GPUMapMode.READ);const G=R.getMappedRange(),j=new r.array.constructor(G.slice(0));return R.unmap(),j.buffer}_getVertexFormat(r){const{itemSize:c,normalized:f}=r,p=r.array.constructor,y=r.constructor;let T;if(c===1)T=U3e.get(p);else{const b=(B3e.get(y)||Mv.get(p))[f?1:0];if(b){const P=p.BYTES_PER_ELEMENT*c,j=Math.floor((P+3)/4)*4/p.BYTES_PER_ELEMENT;if(j%1)throw new Error("THREE.WebGPUAttributeUtils: Bad vertex format item size.");T=`${b}x${j}`}}return T||i0("WebGPUAttributeUtils: Vertex format not supported yet."),T}_isTypedArray(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}_getBufferAttribute(r){return r.isInterleavedBufferAttribute&&(r=r.data),r}}class G3e{constructor(r){this.backend=r,this.bindGroupLayoutCache=new WeakMap}createBindingsLayout(r){const c=this.backend,f=c.device,p=[];let y=0;for(const T of r.bindings){const R={binding:y++,visibility:T.visibility};if(T.isUniformBuffer||T.isStorageBuffer){const b={};T.isStorageBuffer&&(T.visibility&4&&(T.access===qo.READ_WRITE||T.access===qo.WRITE_ONLY)?b.type=td.Storage:b.type=td.ReadOnlyStorage),R.buffer=b}else if(T.isSampledTexture&&T.store){const b={};b.format=this.backend.get(T.texture).texture.format;const P=T.access;P===qo.READ_WRITE?b.access=id.ReadWrite:P===qo.WRITE_ONLY?b.access=id.WriteOnly:b.access=id.ReadOnly,T.texture.isArrayTexture?b.viewDimension=K2.TwoDArray:T.texture.is3DTexture&&(b.viewDimension=K2.ThreeD),R.storageTexture=b}else if(T.isSampledTexture){const b={},{primarySamples:P}=c.utils.getTextureSampleData(T.texture);if(P>1&&(b.multisampled=!0,T.texture.isDepthTexture||(b.sampleType=Ba.UnfilterableFloat)),T.texture.isDepthTexture)c.compatibilityMode&&T.texture.compareFunction===null?b.sampleType=Ba.UnfilterableFloat:b.sampleType=Ba.Depth;else if(T.texture.isDataTexture||T.texture.isDataArrayTexture||T.texture.isData3DTexture){const G=T.texture.type;G===Tr?b.sampleType=Ba.SInt:G===Kn?b.sampleType=Ba.UInt:G===P2&&(this.backend.hasFeature("float32-filterable")?b.sampleType=Ba.Float:b.sampleType=Ba.UnfilterableFloat)}T.isSampledCubeTexture?b.viewDimension=K2.Cube:T.texture.isArrayTexture||T.texture.isDataArrayTexture||T.texture.isCompressedArrayTexture?b.viewDimension=K2.TwoDArray:T.isSampledTexture3D&&(b.viewDimension=K2.ThreeD),R.texture=b}else if(T.isSampler){const b={};T.texture.isDepthTexture&&(T.texture.compareFunction!==null?b.type=Ig.Comparison:c.compatibilityMode&&(b.type=Ig.NonFiltering)),R.sampler=b}else i0(`WebGPUBindingUtils: Unsupported binding "${T}".`);p.push(R)}return f.createBindGroupLayout({entries:p})}createBindings(r,c,f,p=0){const{backend:y,bindGroupLayoutCache:T}=this,R=y.get(r);let b=T.get(r.bindingsReference);b===void 0&&(b=this.createBindingsLayout(r),T.set(r.bindingsReference,b));let P;f>0&&(R.groups===void 0&&(R.groups=[],R.versions=[]),R.versions[f]===p&&(P=R.groups[f])),P===void 0&&(P=this.createBindGroup(r,b),f>0&&(R.groups[f]=P,R.versions[f]=p)),R.group=P,R.layout=b}updateBinding(r){const c=this.backend,f=c.device,p=r.buffer,y=c.get(r).buffer;f.queue.writeBuffer(y,0,p,0)}createBindGroupIndex(r,c){const p=this.backend.device,y=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,T=r[0],R=p.createBuffer({label:"bindingCameraIndex_"+T,size:16,usage:y});p.queue.writeBuffer(R,0,r,0);const b=[{binding:0,resource:{buffer:R}}];return p.createBindGroup({label:"bindGroupCameraIndex_"+T,layout:c,entries:b})}createBindGroup(r,c){const f=this.backend,p=f.device;let y=0;const T=[];for(const R of r.bindings){if(R.isUniformBuffer){const b=f.get(R);if(b.buffer===void 0){const P=R.byteLength,G=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,j=p.createBuffer({label:"bindingBuffer_"+R.name,size:P,usage:G});b.buffer=j}T.push({binding:y,resource:{buffer:b.buffer}})}else if(R.isStorageBuffer){const b=f.get(R);if(b.buffer===void 0){const P=R.attribute;b.buffer=f.get(P).buffer}T.push({binding:y,resource:{buffer:b.buffer}})}else if(R.isSampledTexture){const b=f.get(R.texture);let P;if(b.externalTexture!==void 0)P=p.importExternalTexture({source:b.externalTexture});else{const G=R.store?1:b.texture.mipLevelCount,j=R.store?R.mipLevel:0;let K=`view-${b.texture.width}-${b.texture.height}`;if(b.texture.depthOrArrayLayers>1&&(K+=`-${b.texture.depthOrArrayLayers}`),K+=`-${G}-${j}`,P=b[K],P===void 0){const Q=g3e.All;let ie;R.isSampledCubeTexture?ie=K2.Cube:R.isSampledTexture3D?ie=K2.ThreeD:R.texture.isArrayTexture||R.texture.isDataArrayTexture||R.texture.isCompressedArrayTexture?ie=K2.TwoDArray:ie=K2.TwoD,P=b[K]=b.texture.createView({aspect:Q,dimension:ie,mipLevelCount:G,baseMipLevel:j})}}T.push({binding:y,resource:P})}else if(R.isSampler){const b=f.get(R.texture);T.push({binding:y,resource:b.sampler})}y++}return p.createBindGroup({label:"bindGroup_"+r.name,layout:c,entries:T})}}class V3e{constructor(r){this.backend=r,this._activePipelines=new WeakMap}setPipeline(r,c){this._activePipelines.get(r)!==c&&(r.setPipeline(c),this._activePipelines.set(r,c))}_getSampleCount(r){return this.backend.utils.getSampleCountRenderContext(r)}createRenderPipeline(r,c){const{object:f,material:p,geometry:y,pipeline:T}=r,{vertexProgram:R,fragmentProgram:b}=T,P=this.backend,G=P.device,j=P.utils,K=P.get(T),Q=[];for(const yt of r.getBindings()){const Et=P.get(yt);Q.push(Et.layout)}const ie=P.attributeUtils.createShaderVertexBuffers(r);let ce;p.blending!==ws&&(p.blending!==Fs||p.transparent!==!1)&&(ce=this._getBlending(p));let ue={};p.stencilWrite===!0&&(ue={compare:this._getStencilCompare(p),failOp:this._getStencilOperation(p.stencilFail),depthFailOp:this._getStencilOperation(p.stencilZFail),passOp:this._getStencilOperation(p.stencilZPass)});const se=this._getColorWriteMask(p),Ne=[];if(r.context.textures!==null){const yt=r.context.textures;for(let Et=0;Et<yt.length;Et++){const Dt=j.getTextureFormatGPU(yt[Et]);Ne.push({format:Dt,blend:ce,writeMask:se})}}else{const yt=j.getCurrentColorFormat(r.context);Ne.push({format:yt,blend:ce,writeMask:se})}const De=P.get(R).module,Oe=P.get(b).module,je=this._getPrimitiveState(f,y,p),Be=this._getDepthCompare(p),We=j.getCurrentDepthStencilFormat(r.context),$e=this._getSampleCount(r.context),Ee={label:`renderPipeline_${p.name||p.type}_${p.id}`,vertex:Object.assign({},De,{buffers:ie}),fragment:Object.assign({},Oe,{targets:Ne}),primitive:je,multisample:{count:$e,alphaToCoverageEnabled:p.alphaToCoverage&&$e>1},layout:G.createPipelineLayout({bindGroupLayouts:Q})},Ie={},Je=r.context.depth,ft=r.context.stencil;if((Je===!0||ft===!0)&&(Je===!0&&(Ie.format=We,Ie.depthWriteEnabled=p.depthWrite,Ie.depthCompare=Be),ft===!0&&(Ie.stencilFront=ue,Ie.stencilBack={},Ie.stencilReadMask=p.stencilFuncMask,Ie.stencilWriteMask=p.stencilWriteMask),p.polygonOffset===!0&&(Ie.depthBias=p.polygonOffsetUnits,Ie.depthBiasSlopeScale=p.polygonOffsetFactor,Ie.depthBiasClamp=0),Ee.depthStencil=Ie),G.pushErrorScope("validation"),c===null)K.pipeline=G.createRenderPipeline(Ee),G.popErrorScope().then(yt=>{yt!==null&&(K.error=!0,i0(yt.message))});else{const yt=new Promise(async Et=>{try{K.pipeline=await G.createRenderPipelineAsync(Ee)}catch{}const Dt=await G.popErrorScope();Dt!==null&&(K.error=!0,i0(Dt.message)),Et()});c.push(yt)}}createBundleEncoder(r,c="renderBundleEncoder"){const f=this.backend,{utils:p,device:y}=f,T=p.getCurrentDepthStencilFormat(r),R=p.getCurrentColorFormats(r),b=this._getSampleCount(r),P={label:c,colorFormats:R,depthStencilFormat:T,sampleCount:b};return y.createRenderBundleEncoder(P)}createComputePipeline(r,c){const f=this.backend,p=f.device,y=f.get(r.computeProgram).module,T=f.get(r),R=[];for(const b of c){const P=f.get(b);R.push(P.layout)}T.pipeline=p.createComputePipeline({compute:y,layout:p.createPipelineLayout({bindGroupLayouts:R})})}_getBlending(r){let c,f;const p=r.blending,y=r.blendSrc,T=r.blendDst,R=r.blendEquation;if(p===sl){const b=r.blendSrcAlpha!==null?r.blendSrcAlpha:y,P=r.blendDstAlpha!==null?r.blendDstAlpha:T,G=r.blendEquationAlpha!==null?r.blendEquationAlpha:R;c={srcFactor:this._getBlendFactor(y),dstFactor:this._getBlendFactor(T),operation:this._getBlendOperation(R)},f={srcFactor:this._getBlendFactor(b),dstFactor:this._getBlendFactor(P),operation:this._getBlendOperation(G)}}else{const b=r.premultipliedAlpha,P=(G,j,K,Q)=>{c={srcFactor:G,dstFactor:j,operation:Fa.Add},f={srcFactor:K,dstFactor:Q,operation:Fa.Add}};if(b)switch(p){case Fs:P(nn.One,nn.OneMinusSrcAlpha,nn.One,nn.OneMinusSrcAlpha);break;case pl:P(nn.One,nn.One,nn.One,nn.One);break;case _l:P(nn.Zero,nn.OneMinusSrc,nn.Zero,nn.One);break;case hl:P(nn.Dst,nn.OneMinusSrcAlpha,nn.Zero,nn.One);break}else switch(p){case Fs:P(nn.SrcAlpha,nn.OneMinusSrcAlpha,nn.One,nn.OneMinusSrcAlpha);break;case pl:P(nn.SrcAlpha,nn.One,nn.One,nn.One);break;case _l:i0("WebGPURenderer: SubtractiveBlending requires material.premultipliedAlpha = true");break;case hl:i0("WebGPURenderer: MultiplyBlending requires material.premultipliedAlpha = true");break}}if(c!==void 0&&f!==void 0)return{color:c,alpha:f};i0("WebGPURenderer: Invalid blending: ",p)}_getBlendFactor(r){let c;switch(r){case C1:c=nn.Zero;break;case Pd:c=nn.One;break;case Ld:c=nn.Src;break;case kd:c=nn.OneMinusSrc;break;case rf:c=nn.SrcAlpha;break;case sf:c=nn.OneMinusSrcAlpha;break;case Ud:c=nn.Dst;break;case Od:c=nn.OneMinusDst;break;case Fd:c=nn.DstAlpha;break;case Bd:c=nn.OneMinusDstAlpha;break;case Gd:c=nn.SrcAlphaSaturated;break;case M8e:c=nn.Constant;break;case R8e:c=nn.OneMinusConstant;break;default:i0("WebGPURenderer: Blend factor not supported.",r)}return c}_getStencilCompare(r){let c;const f=r.stencilFunc;switch(f){case Zse:c=Ar.Never;break;case cd:c=Ar.Always;break;case Qse:c=Ar.Less;break;case eoe:c=Ar.LessEqual;break;case Jse:c=Ar.Equal;break;case noe:c=Ar.GreaterEqual;break;case toe:c=Ar.Greater;break;case ioe:c=Ar.NotEqual;break;default:i0("WebGPURenderer: Invalid stencil function.",f)}return c}_getStencilOperation(r){let c;switch(r){case Ua:c=ea.Keep;break;case Hse:c=ea.Zero;break;case jse:c=ea.Replace;break;case Kse:c=ea.Invert;break;case qse:c=ea.IncrementClamp;break;case Xse:c=ea.DecrementClamp;break;case $se:c=ea.IncrementWrap;break;case Yse:c=ea.DecrementWrap;break;default:i0("WebGPURenderer: Invalid stencil operation.",c)}return c}_getBlendOperation(r){let c;switch(r){case Or:c=Fa.Add;break;case Dd:c=Fa.Subtract;break;case Id:c=Fa.ReverseSubtract;break;case qg:c=Fa.Min;break;case Xg:c=Fa.Max;break;default:i0("WebGPUPipelineUtils: Blend equation not supported.",r)}return c}_getPrimitiveState(r,c,f){const p={},y=this.backend.utils;p.topology=y.getPrimitiveTopology(r,f),c.index!==null&&r.isLine===!0&&r.isLineSegments!==!0&&(p.stripIndexFormat=c.index.array instanceof Uint16Array?$l.Uint16:$l.Uint32);let T=f.side===Zn;return r.isMesh&&r.matrixWorld.determinant()<0&&(T=!T),p.frontFace=T===!0?bg.CW:bg.CCW,p.cullMode=f.side===Nr?Ng.None:Ng.Back,p}_getColorWriteMask(r){return r.colorWrite===!0?Dg.All:Dg.None}_getDepthCompare(r){let c;if(r.depthTest===!1)c=Ar.Always;else{const f=r.depthFunc;switch(f){case of:c=Ar.Never;break;case af:c=Ar.Always;break;case cf:c=Ar.Less;break;case fa:c=Ar.LessEqual;break;case lf:c=Ar.Equal;break;case uf:c=Ar.GreaterEqual;break;case ff:c=Ar.Greater;break;case pf:c=Ar.NotEqual;break;default:i0("WebGPUPipelineUtils: Invalid depth function.",f)}}return c}}class z3e extends Cv{constructor(r,c,f=2048){super(f),this.device=r,this.type=c,this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxQueries,label:`queryset_global_timestamp_${c}`});const p=this.maxQueries*8;this.resolveBuffer=this.device.createBuffer({label:`buffer_timestamp_resolve_${c}`,size:p,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.resultBuffer=this.device.createBuffer({label:`buffer_timestamp_result_${c}`,size:p,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ})}allocateQueriesForContext(r){if(!this.trackTimestamp||this.isDisposed)return null;if(this.currentQueryIndex+2>this.maxQueries)return c2(`WebGPUTimestampQueryPool [${this.type}]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.${this.type.toUpperCase()} ).`),null;const c=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryOffsets.set(r,c),c}async resolveQueriesAsync(){if(!this.trackTimestamp||this.currentQueryIndex===0||this.isDisposed)return this.lastValue;if(this.pendingResolve)return this.pendingResolve;this.pendingResolve=this._resolveQueries();try{return await this.pendingResolve}finally{this.pendingResolve=null}}async _resolveQueries(){if(this.isDisposed)return this.lastValue;try{if(this.resultBuffer.mapState!=="unmapped")return this.lastValue;const r=new Map(this.queryOffsets),c=this.currentQueryIndex,f=c*8;this.currentQueryIndex=0,this.queryOffsets.clear();const p=this.device.createCommandEncoder();p.resolveQuerySet(this.querySet,0,c,this.resolveBuffer,0),p.copyBufferToBuffer(this.resolveBuffer,0,this.resultBuffer,0,f);const y=p.finish();if(this.device.queue.submit([y]),this.resultBuffer.mapState!=="unmapped")return this.lastValue;if(await this.resultBuffer.mapAsync(GPUMapMode.READ,0,f),this.isDisposed)return this.resultBuffer.mapState==="mapped"&&this.resultBuffer.unmap(),this.lastValue;const T=new BigUint64Array(this.resultBuffer.getMappedRange(0,f)),R={},b=[];for(const[G,j]of r){const K=G.match(/^(.*):f(\d+)$/),Q=parseInt(K[2]);b.includes(Q)===!1&&b.push(Q),R[Q]===void 0&&(R[Q]=0);const ie=T[j],ce=T[j+1],ue=Number(ce-ie)/1e6;this.timestamps.set(G,ue),R[Q]+=ue}const P=R[b[b.length-1]];return this.resultBuffer.unmap(),this.lastValue=P,this.frames=b,P}catch(r){return r("Error resolving queries:",r),this.resultBuffer.mapState==="mapped"&&this.resultBuffer.unmap(),this.lastValue}}async dispose(){if(!this.isDisposed){if(this.isDisposed=!0,this.pendingResolve)try{await this.pendingResolve}catch(r){r("Error waiting for pending resolve:",r)}if(this.resultBuffer&&this.resultBuffer.mapState==="mapped")try{this.resultBuffer.unmap()}catch(r){r("Error unmapping buffer:",r)}this.querySet&&(this.querySet.destroy(),this.querySet=null),this.resolveBuffer&&(this.resolveBuffer.destroy(),this.resolveBuffer=null),this.resultBuffer&&(this.resultBuffer.destroy(),this.resultBuffer=null),this.queryOffsets.clear(),this.pendingResolve=null}}}class W3e extends Tv{constructor(r={}){super(r),this.isWebGPUBackend=!0,this.parameters.alpha=r.alpha===void 0?!0:r.alpha,this.parameters.compatibilityMode=r.compatibilityMode===void 0?!1:r.compatibilityMode,this.parameters.requiredLimits=r.requiredLimits===void 0?{}:r.requiredLimits,this.compatibilityMode=this.parameters.compatibilityMode,this.device=null,this.defaultRenderPassdescriptor=null,this.utils=new F3e(this),this.attributeUtils=new O3e(this),this.bindingUtils=new G3e(this),this.pipelineUtils=new V3e(this),this.textureUtils=new M3e(this),this.occludedResolveCache=new Map}async init(r){await super.init(r);const c=this.parameters;let f;if(c.device===void 0){const p={powerPreference:c.powerPreference,featureLevel:c.compatibilityMode?"compatibility":void 0},y=typeof navigator<"u"?await navigator.gpu.requestAdapter(p):null;if(y===null)throw new Error("WebGPUBackend: Unable to create WebGPU adapter.");const T=Object.values(Ad),R=[];for(const P of T)y.features.has(P)&&R.push(P);const b={requiredFeatures:R,requiredLimits:c.requiredLimits};f=await y.requestDevice(b)}else f=c.device;f.lost.then(p=>{const y={api:"WebGPU",message:p.message||"Unknown reason",reason:p.reason||null,originalEvent:p};r.onDeviceLost(y)}),this.device=f,this.trackTimestamp=this.trackTimestamp&&this.hasFeature(Ad.TimestampQuery),this.updateSize()}get context(){const r=this.renderer.getCanvasTarget(),c=this.get(r);let f=c.context;if(f===void 0){const p=this.parameters;r.isDefaultCanvasTarget===!0&&p.context!==void 0?f=p.context:f=r.domElement.getContext("webgpu"),"setAttribute"in r.domElement&&r.domElement.setAttribute("data-engine",`three.js r${Kl} webgpu`);const y=p.alpha?"premultiplied":"opaque",T=p.outputType===Q2?"extended":"standard";f.configure({device:this.device,format:this.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,alphaMode:y,toneMapping:{mode:T}}),c.context=f}return f}get coordinateSystem(){return pa}async getArrayBufferAsync(r){return await this.attributeUtils.getArrayBufferAsync(r)}getContext(){return this.context}_getDefaultRenderPassDescriptor(){const r=this.renderer,c=r.getCanvasTarget(),f=this.get(c),p=r.currentSamples;let y=f.descriptor;if(y===void 0||f.samples!==p){y={colorAttachments:[{view:null}]},(r.depth===!0||r.stencil===!0)&&(y.depthStencilAttachment={view:this.textureUtils.getDepthBuffer(r.depth,r.stencil).createView()});const R=y.colorAttachments[0];p>0?R.view=this.textureUtils.getColorBuffer().createView():R.resolveTarget=void 0,f.descriptor=y,f.samples=p}const T=y.colorAttachments[0];return p>0?T.resolveTarget=this.context.getCurrentTexture().createView():T.view=this.context.getCurrentTexture().createView(),y}_isRenderCameraDepthArray(r){return r.depthTexture&&r.depthTexture.image.depth>1&&r.camera.isArrayCamera}_getRenderPassDescriptor(r,c={}){const f=r.renderTarget,p=this.get(f);let y=p.descriptors;(y===void 0||p.width!==f.width||p.height!==f.height||p.samples!==f.samples)&&(y={},p.descriptors=y);const T=r.getCacheKey();let R=y[T];if(R===void 0){const P=r.textures,G=[];let j;const K=this._isRenderCameraDepthArray(r);for(let Q=0;Q<P.length;Q++){const ie=this.get(P[Q]),ce={label:`colorAttachment_${Q}`,baseMipLevel:r.activeMipmapLevel,mipLevelCount:1,baseArrayLayer:r.activeCubeFace,arrayLayerCount:1,dimension:K2.TwoD};if(f.isRenderTarget3D)j=r.activeCubeFace,ce.baseArrayLayer=0,ce.dimension=K2.ThreeD,ce.depthOrArrayLayers=P[Q].image.depth;else if(f.isRenderTarget&&P[Q].image.depth>1)if(K===!0){const ue=r.camera.cameras;for(let se=0;se<ue.length;se++){const Ne={...ce,baseArrayLayer:se,arrayLayerCount:1,dimension:K2.TwoD},De=ie.texture.createView(Ne);G.push({view:De,resolveTarget:void 0,depthSlice:void 0})}}else ce.dimension=K2.TwoDArray,ce.depthOrArrayLayers=P[Q].image.depth;if(K!==!0){const ue=ie.texture.createView(ce);let se,Ne;ie.msaaTexture!==void 0?(se=ie.msaaTexture.createView(),Ne=ue):(se=ue,Ne=void 0),G.push({view:se,resolveTarget:Ne,depthSlice:j})}}if(R={textureViews:G},r.depth){const Q=this.get(r.depthTexture),ie={};r.depthTexture.isArrayTexture&&(ie.dimension=K2.TwoD,ie.arrayLayerCount=1,ie.baseArrayLayer=r.activeCubeFace),R.depthStencilView=Q.texture.createView(ie)}y[T]=R,p.width=f.width,p.height=f.height,p.samples=f.samples,p.activeMipmapLevel=r.activeMipmapLevel,p.activeCubeFace=r.activeCubeFace}const b={colorAttachments:[]};for(let P=0;P<R.textureViews.length;P++){const G=R.textureViews[P];let j={r:0,g:0,b:0,a:1};P===0&&c.clearValue&&(j=c.clearValue),b.colorAttachments.push({view:G.view,depthSlice:G.depthSlice,resolveTarget:G.resolveTarget,loadOp:c.loadOp||En.Load,storeOp:c.storeOp||es.Store,clearValue:j})}return R.depthStencilView&&(b.depthStencilAttachment={view:R.depthStencilView}),b}beginRender(r){const c=this.get(r),f=this.device,p=r.occlusionQueryCount;let y;p>0&&(c.currentOcclusionQuerySet&&c.currentOcclusionQuerySet.destroy(),c.currentOcclusionQueryBuffer&&c.currentOcclusionQueryBuffer.destroy(),c.currentOcclusionQuerySet=c.occlusionQuerySet,c.currentOcclusionQueryBuffer=c.occlusionQueryBuffer,c.currentOcclusionQueryObjects=c.occlusionQueryObjects,y=f.createQuerySet({type:"occlusion",count:p,label:`occlusionQuerySet_${r.id}`}),c.occlusionQuerySet=y,c.occlusionQueryIndex=0,c.occlusionQueryObjects=new Array(p),c.lastOcclusionObject=null);let T;r.textures===null?T=this._getDefaultRenderPassDescriptor():T=this._getRenderPassDescriptor(r,{loadOp:En.Load}),this.initTimestampQuery(jo.RENDER,this.getTimestampUID(r),T),T.occlusionQuerySet=y;const R=T.depthStencilAttachment;if(r.textures!==null){const P=T.colorAttachments;for(let G=0;G<P.length;G++){const j=P[G];r.clearColor?(j.clearValue=G===0?r.clearColorValue:{r:0,g:0,b:0,a:1},j.loadOp=En.Clear):j.loadOp=En.Load,j.storeOp=es.Store}}else{const P=T.colorAttachments[0];r.clearColor?(P.clearValue=r.clearColorValue,P.loadOp=En.Clear):P.loadOp=En.Load,P.storeOp=es.Store}r.depth&&(r.clearDepth?(R.depthClearValue=r.clearDepthValue,R.depthLoadOp=En.Clear):R.depthLoadOp=En.Load,R.depthStoreOp=es.Store),r.stencil&&(r.clearStencil?(R.stencilClearValue=r.clearStencilValue,R.stencilLoadOp=En.Clear):R.stencilLoadOp=En.Load,R.stencilStoreOp=es.Store);const b=f.createCommandEncoder({label:"renderContext_"+r.id});if(this._isRenderCameraDepthArray(r)===!0){const P=r.camera.cameras;!c.layerDescriptors||c.layerDescriptors.length!==P.length?this._createDepthLayerDescriptors(r,c,T,P):this._updateDepthLayerDescriptors(r,c,P),c.bundleEncoders=[],c.bundleSets=[];for(let G=0;G<P.length;G++){const j=this.pipelineUtils.createBundleEncoder(r,"renderBundleArrayCamera_"+G),K={attributes:{},bindingGroups:[],pipeline:null,index:null};c.bundleEncoders.push(j),c.bundleSets.push(K)}c.currentPass=null}else{const P=b.beginRenderPass(T);c.currentPass=P,r.viewport&&this.updateViewport(r),r.scissor&&this.updateScissor(r)}c.descriptor=T,c.encoder=b,c.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},c.renderBundles=[]}_createDepthLayerDescriptors(r,c,f,p){const y=f.depthStencilAttachment;c.layerDescriptors=[];const T=this.get(r.depthTexture);T.viewCache||(T.viewCache=[]);for(let R=0;R<p.length;R++){const b={...f,colorAttachments:[{...f.colorAttachments[0],view:f.colorAttachments[R].view}]};if(f.depthStencilAttachment){const P=R;T.viewCache[P]||(T.viewCache[P]=T.texture.createView({dimension:K2.TwoD,baseArrayLayer:R,arrayLayerCount:1})),b.depthStencilAttachment={view:T.viewCache[P],depthLoadOp:y.depthLoadOp||En.Clear,depthStoreOp:y.depthStoreOp||es.Store,depthClearValue:y.depthClearValue||1},r.stencil&&(b.depthStencilAttachment.stencilLoadOp=y.stencilLoadOp,b.depthStencilAttachment.stencilStoreOp=y.stencilStoreOp,b.depthStencilAttachment.stencilClearValue=y.stencilClearValue)}else b.depthStencilAttachment={...y};c.layerDescriptors.push(b)}}_updateDepthLayerDescriptors(r,c,f){for(let p=0;p<f.length;p++){const y=c.layerDescriptors[p];if(y.depthStencilAttachment){const T=y.depthStencilAttachment;r.depth&&(r.clearDepth?(T.depthClearValue=r.clearDepthValue,T.depthLoadOp=En.Clear):T.depthLoadOp=En.Load),r.stencil&&(r.clearStencil?(T.stencilClearValue=r.clearStencilValue,T.stencilLoadOp=En.Clear):T.stencilLoadOp=En.Load)}}}finishRender(r){const c=this.get(r),f=r.occlusionQueryCount;c.renderBundles.length>0&&c.currentPass.executeBundles(c.renderBundles),f>c.occlusionQueryIndex&&c.currentPass.endOcclusionQuery();const p=c.encoder;if(this._isRenderCameraDepthArray(r)===!0){const y=[];for(let T=0;T<c.bundleEncoders.length;T++){const R=c.bundleEncoders[T];y.push(R.finish())}for(let T=0;T<c.layerDescriptors.length;T++)if(T<y.length){const R=c.layerDescriptors[T],b=p.beginRenderPass(R);if(r.viewport){const{x:P,y:G,width:j,height:K,minDepth:Q,maxDepth:ie}=r.viewportValue;b.setViewport(P,G,j,K,Q,ie)}if(r.scissor){const{x:P,y:G,width:j,height:K}=r.scissorValue;b.setScissorRect(P,G,j,K)}b.executeBundles([y[T]]),b.end()}}else c.currentPass&&c.currentPass.end();if(f>0){const y=f*8;let T=this.occludedResolveCache.get(y);T===void 0&&(T=this.device.createBuffer({size:y,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.occludedResolveCache.set(y,T));const R=this.device.createBuffer({size:y,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});c.encoder.resolveQuerySet(c.occlusionQuerySet,0,f,T,0),c.encoder.copyBufferToBuffer(T,0,R,0,y),c.occlusionQueryBuffer=R,this.resolveOccludedAsync(r)}if(this.device.queue.submit([c.encoder.finish()]),r.textures!==null){const y=r.textures;for(let T=0;T<y.length;T++){const R=y[T];R.generateMipmaps===!0&&this.textureUtils.generateMipmaps(R)}}}isOccluded(r,c){const f=this.get(r);return f.occluded&&f.occluded.has(c)}async resolveOccludedAsync(r){const c=this.get(r),{currentOcclusionQueryBuffer:f,currentOcclusionQueryObjects:p}=c;if(f&&p){const y=new WeakSet;c.currentOcclusionQueryObjects=null,c.currentOcclusionQueryBuffer=null,await f.mapAsync(GPUMapMode.READ);const T=f.getMappedRange(),R=new BigUint64Array(T);for(let b=0;b<p.length;b++)R[b]===BigInt(0)&&y.add(p[b]);f.destroy(),c.occluded=y}}updateViewport(r){const{currentPass:c}=this.get(r),{x:f,y:p,width:y,height:T,minDepth:R,maxDepth:b}=r.viewportValue;c.setViewport(f,p,y,T,R,b)}updateScissor(r){const{currentPass:c}=this.get(r),{x:f,y:p,width:y,height:T}=r.scissorValue;c.setScissorRect(f,p,y,T)}getClearColor(){const r=super.getClearColor();return this.renderer.alpha===!0&&(r.r*=r.a,r.g*=r.a,r.b*=r.a),r}clear(r,c,f,p=null){const y=this.device,T=this.renderer;let R=[],b,P,G,j;if(r){const ie=this.getClearColor();P={r:ie.r,g:ie.g,b:ie.b,a:ie.a}}if(p===null){G=T.depth,j=T.stencil;const ie=this._getDefaultRenderPassDescriptor();if(r){R=ie.colorAttachments;const ce=R[0];ce.clearValue=P,ce.loadOp=En.Clear,ce.storeOp=es.Store}(G||j)&&(b=ie.depthStencilAttachment)}else{G=p.depth,j=p.stencil;const ie={loadOp:r?En.Clear:En.Load,clearValue:r?P:void 0};G&&(ie.depthLoadOp=c?En.Clear:En.Load,ie.depthClearValue=c?T.getClearDepth():void 0,ie.depthStoreOp=es.Store),j&&(ie.stencilLoadOp=f?En.Clear:En.Load,ie.stencilClearValue=f?T.getClearStencil():void 0,ie.stencilStoreOp=es.Store);const ce=this._getRenderPassDescriptor(p,ie);R=ce.colorAttachments,b=ce.depthStencilAttachment}G&&b&&(c?(b.depthLoadOp=En.Clear,b.depthClearValue=T.getClearDepth(),b.depthStoreOp=es.Store):(b.depthLoadOp=En.Load,b.depthStoreOp=es.Store)),j&&b&&(f?(b.stencilLoadOp=En.Clear,b.stencilClearValue=T.getClearStencil(),b.stencilStoreOp=es.Store):(b.stencilLoadOp=En.Load,b.stencilStoreOp=es.Store));const K=y.createCommandEncoder({label:"clear"});K.beginRenderPass({colorAttachments:R,depthStencilAttachment:b}).end(),y.queue.submit([K.finish()])}beginCompute(r){const c=this.get(r),f={label:"computeGroup_"+r.id};this.initTimestampQuery(jo.COMPUTE,this.getTimestampUID(r),f),c.cmdEncoderGPU=this.device.createCommandEncoder({label:"computeGroup_"+r.id}),c.passEncoderGPU=c.cmdEncoderGPU.beginComputePass(f)}compute(r,c,f,p,y=null){const T=this.get(c),{passEncoderGPU:R}=this.get(r),b=this.get(p).pipeline;this.pipelineUtils.setPipeline(R,b);for(let P=0,G=f.length;P<G;P++){const j=f[P],K=this.get(j);R.setBindGroup(P,K.group)}if(y===null&&(y=c.count),y&&typeof y=="object"&&y.isIndirectStorageBufferAttribute){const P=this.get(y).buffer;R.dispatchWorkgroupsIndirect(P,0);return}if(typeof y=="number"){const P=y;if(T.dispatchSize===void 0||T.count!==P){T.dispatchSize=[0,1,1],T.count=P;const G=c.workgroupSize;let j=G[0];for(let ie=1;ie<G.length;ie++)j*=G[ie];const K=Math.ceil(P/j),Q=this.device.limits.maxComputeWorkgroupsPerDimension;y=[K,1,1],K>Q&&(y[0]=Math.min(K,Q),y[1]=Math.ceil(K/Q)),T.dispatchSize=y}y=T.dispatchSize}R.dispatchWorkgroups(y[0],y[1]||1,y[2]||1)}finishCompute(r){const c=this.get(r);c.passEncoderGPU.end(),this.device.queue.submit([c.cmdEncoderGPU.finish()])}draw(r,c){const{object:f,material:p,context:y,pipeline:T}=r,R=r.getBindings(),b=this.get(y),P=this.get(T),G=P.pipeline;if(P.error===!0)return;const j=r.getIndex(),K=j!==null,Q=r.getDrawParameters();if(Q===null)return;const ie=(ue,se)=>{this.pipelineUtils.setPipeline(ue,G),se.pipeline=G;const Ne=se.bindingGroups;for(let Oe=0,je=R.length;Oe<je;Oe++){const Be=R[Oe],We=this.get(Be);Ne[Be.index]!==Be.id&&(ue.setBindGroup(Be.index,We.group),Ne[Be.index]=Be.id)}if(K===!0&&se.index!==j){const Oe=this.get(j).buffer,je=j.array instanceof Uint16Array?$l.Uint16:$l.Uint32;ue.setIndexBuffer(Oe,je),se.index=j}const De=r.getVertexBuffers();for(let Oe=0,je=De.length;Oe<je;Oe++){const Be=De[Oe];if(se.attributes[Oe]!==Be){const We=this.get(Be).buffer;ue.setVertexBuffer(Oe,We),se.attributes[Oe]=Be}}y.stencil===!0&&p.stencilWrite===!0&&b.currentStencilRef!==p.stencilRef&&(ue.setStencilReference(p.stencilRef),b.currentStencilRef=p.stencilRef)},ce=(ue,se)=>{if(ie(ue,se),f.isBatchedMesh===!0){const Ne=f._multiDrawStarts,De=f._multiDrawCounts,Oe=f._multiDrawCount,je=f._multiDrawInstances;je!==null&&c2("WebGPUBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection.");for(let Be=0;Be<Oe;Be++){const We=je?je[Be]:1,$e=We>1?0:Be;K===!0?ue.drawIndexed(De[Be],We,Ne[Be]/j.array.BYTES_PER_ELEMENT,0,$e):ue.draw(De[Be],We,Ne[Be],$e),c.update(f,De[Be],We)}}else if(K===!0){const{vertexCount:Ne,instanceCount:De,firstVertex:Oe}=Q,je=r.getIndirect();if(je!==null){const Be=this.get(je).buffer;ue.drawIndexedIndirect(Be,0)}else ue.drawIndexed(Ne,De,Oe,0,0);c.update(f,Ne,De)}else{const{vertexCount:Ne,instanceCount:De,firstVertex:Oe}=Q,je=r.getIndirect();if(je!==null){const Be=this.get(je).buffer;ue.drawIndirect(Be,0)}else ue.draw(Ne,De,Oe,0);c.update(f,Ne,De)}};if(r.camera.isArrayCamera&&r.camera.cameras.length>0){const ue=this.get(r.camera),se=r.camera.cameras,Ne=r.getBindingGroup("cameraIndex");if(ue.indexesGPU===void 0||ue.indexesGPU.length!==se.length){const Oe=this.get(Ne),je=[],Be=new Uint32Array([0,0,0,0]);for(let We=0,$e=se.length;We<$e;We++){Be[0]=We;const Ee=this.bindingUtils.createBindGroupIndex(Be,Oe.layout);je.push(Ee)}ue.indexesGPU=je}const De=this.renderer.getPixelRatio();for(let Oe=0,je=se.length;Oe<je;Oe++){const Be=se[Oe];if(f.layers.test(Be.layers)){const We=Be.viewport;let $e=b.currentPass,Ee=b.currentSets;if(b.bundleEncoders){const Ie=b.bundleEncoders[Oe],Je=b.bundleSets[Oe];$e=Ie,Ee=Je}We&&$e.setViewport(Math.floor(We.x*De),Math.floor(We.y*De),Math.floor(We.width*De),Math.floor(We.height*De),y.viewportValue.minDepth,y.viewportValue.maxDepth),Ne&&ue.indexesGPU&&($e.setBindGroup(Ne.index,ue.indexesGPU[Oe]),Ee.bindingGroups[Ne.index]=Ne.id),ce($e,Ee)}}}else if(b.currentPass){if(b.occlusionQuerySet!==void 0){const ue=b.lastOcclusionObject;ue!==f&&(ue!==null&&ue.occlusionTest===!0&&(b.currentPass.endOcclusionQuery(),b.occlusionQueryIndex++),f.occlusionTest===!0&&(b.currentPass.beginOcclusionQuery(b.occlusionQueryIndex),b.occlusionQueryObjects[b.occlusionQueryIndex]=f),b.lastOcclusionObject=f)}ce(b.currentPass,b.currentSets)}}needsRenderUpdate(r){const c=this.get(r),{object:f,material:p}=r,y=this.utils,T=y.getSampleCountRenderContext(r.context),R=y.getCurrentColorSpace(r.context),b=y.getCurrentColorFormat(r.context),P=y.getCurrentDepthStencilFormat(r.context),G=y.getPrimitiveTopology(f,p);let j=!1;return(c.material!==p||c.materialVersion!==p.version||c.transparent!==p.transparent||c.blending!==p.blending||c.premultipliedAlpha!==p.premultipliedAlpha||c.blendSrc!==p.blendSrc||c.blendDst!==p.blendDst||c.blendEquation!==p.blendEquation||c.blendSrcAlpha!==p.blendSrcAlpha||c.blendDstAlpha!==p.blendDstAlpha||c.blendEquationAlpha!==p.blendEquationAlpha||c.colorWrite!==p.colorWrite||c.depthWrite!==p.depthWrite||c.depthTest!==p.depthTest||c.depthFunc!==p.depthFunc||c.stencilWrite!==p.stencilWrite||c.stencilFunc!==p.stencilFunc||c.stencilFail!==p.stencilFail||c.stencilZFail!==p.stencilZFail||c.stencilZPass!==p.stencilZPass||c.stencilFuncMask!==p.stencilFuncMask||c.stencilWriteMask!==p.stencilWriteMask||c.side!==p.side||c.alphaToCoverage!==p.alphaToCoverage||c.sampleCount!==T||c.colorSpace!==R||c.colorFormat!==b||c.depthStencilFormat!==P||c.primitiveTopology!==G||c.clippingContextCacheKey!==r.clippingContextCacheKey)&&(c.material=p,c.materialVersion=p.version,c.transparent=p.transparent,c.blending=p.blending,c.premultipliedAlpha=p.premultipliedAlpha,c.blendSrc=p.blendSrc,c.blendDst=p.blendDst,c.blendEquation=p.blendEquation,c.blendSrcAlpha=p.blendSrcAlpha,c.blendDstAlpha=p.blendDstAlpha,c.blendEquationAlpha=p.blendEquationAlpha,c.colorWrite=p.colorWrite,c.depthWrite=p.depthWrite,c.depthTest=p.depthTest,c.depthFunc=p.depthFunc,c.stencilWrite=p.stencilWrite,c.stencilFunc=p.stencilFunc,c.stencilFail=p.stencilFail,c.stencilZFail=p.stencilZFail,c.stencilZPass=p.stencilZPass,c.stencilFuncMask=p.stencilFuncMask,c.stencilWriteMask=p.stencilWriteMask,c.side=p.side,c.alphaToCoverage=p.alphaToCoverage,c.sampleCount=T,c.colorSpace=R,c.colorFormat=b,c.depthStencilFormat=P,c.primitiveTopology=G,c.clippingContextCacheKey=r.clippingContextCacheKey,j=!0),j}getRenderCacheKey(r){const{object:c,material:f}=r,p=this.utils,y=r.context,T=c.isMesh&&c.matrixWorld.determinant()<0;return[f.transparent,f.blending,f.premultipliedAlpha,f.blendSrc,f.blendDst,f.blendEquation,f.blendSrcAlpha,f.blendDstAlpha,f.blendEquationAlpha,f.colorWrite,f.depthWrite,f.depthTest,f.depthFunc,f.stencilWrite,f.stencilFunc,f.stencilFail,f.stencilZFail,f.stencilZPass,f.stencilFuncMask,f.stencilWriteMask,f.side,T,p.getSampleCountRenderContext(y),p.getCurrentColorSpace(y),p.getCurrentColorFormat(y),p.getCurrentDepthStencilFormat(y),p.getPrimitiveTopology(c,f),r.getGeometryCacheKey(),r.clippingContextCacheKey].join()}updateSampler(r){return this.textureUtils.updateSampler(r)}createDefaultTexture(r){return this.textureUtils.createDefaultTexture(r)}createTexture(r,c){this.textureUtils.createTexture(r,c)}updateTexture(r,c){this.textureUtils.updateTexture(r,c)}generateMipmaps(r){this.textureUtils.generateMipmaps(r)}destroyTexture(r,c=!1){this.textureUtils.destroyTexture(r,c)}async copyTextureToBuffer(r,c,f,p,y,T){return this.textureUtils.copyTextureToBuffer(r,c,f,p,y,T)}initTimestampQuery(r,c,f){if(!this.trackTimestamp)return;this.timestampQueryPool[r]||(this.timestampQueryPool[r]=new z3e(this.device,r,2048));const p=this.timestampQueryPool[r],y=p.allocateQueriesForContext(c);f.timestampWrites={querySet:p.querySet,beginningOfPassWriteIndex:y,endOfPassWriteIndex:y+1}}createNodeBuilder(r,c){return new k3e(r,c)}createProgram(r){const c=this.get(r);c.module={module:this.device.createShaderModule({code:r.code,label:r.stage+(r.name!==""?`_${r.name}`:"")}),entryPoint:"main"}}destroyProgram(r){this.delete(r)}createRenderPipeline(r,c){this.pipelineUtils.createRenderPipeline(r,c)}createComputePipeline(r,c){this.pipelineUtils.createComputePipeline(r,c)}beginBundle(r){const c=this.get(r);c._currentPass=c.currentPass,c._currentSets=c.currentSets,c.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},c.currentPass=this.pipelineUtils.createBundleEncoder(r)}finishBundle(r,c){const f=this.get(r),y=f.currentPass.finish();this.get(c).bundleGPU=y,f.currentSets=f._currentSets,f.currentPass=f._currentPass}addBundle(r,c){this.get(r).renderBundles.push(this.get(c).bundleGPU)}createBindings(r,c,f,p){this.bindingUtils.createBindings(r,c,f,p)}updateBindings(r,c,f,p){this.bindingUtils.createBindings(r,c,f,p)}updateBinding(r){this.bindingUtils.updateBinding(r)}createIndexAttribute(r){let c=GPUBufferUsage.INDEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST;(r.isStorageBufferAttribute||r.isStorageInstancedBufferAttribute)&&(c|=GPUBufferUsage.STORAGE),this.attributeUtils.createAttribute(r,c)}createAttribute(r){this.attributeUtils.createAttribute(r,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createStorageAttribute(r){this.attributeUtils.createAttribute(r,GPUBufferUsage.STORAGE|GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createIndirectStorageAttribute(r){this.attributeUtils.createAttribute(r,GPUBufferUsage.STORAGE|GPUBufferUsage.INDIRECT|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}updateAttribute(r){this.attributeUtils.updateAttribute(r)}destroyAttribute(r){this.attributeUtils.destroyAttribute(r)}updateSize(){this.delete(this.renderer.getCanvasTarget())}getMaxAnisotropy(){return 16}hasFeature(r){return Lg[r]!==void 0&&(r=Lg[r]),this.device.features.has(r)}copyTextureToTexture(r,c,f=null,p=null,y=0,T=0){let R=0,b=0,P=0,G=0,j=0,K=0,Q=r.image.width,ie=r.image.height,ce=1;f!==null&&(f.isBox3===!0?(G=f.min.x,j=f.min.y,K=f.min.z,Q=f.max.x-f.min.x,ie=f.max.y-f.min.y,ce=f.max.z-f.min.z):(G=f.min.x,j=f.min.y,Q=f.max.x-f.min.x,ie=f.max.y-f.min.y,ce=1)),p!==null&&(R=p.x,b=p.y,P=p.z||0);const ue=this.device.createCommandEncoder({label:"copyTextureToTexture_"+r.id+"_"+c.id}),se=this.get(r).texture,Ne=this.get(c).texture;ue.copyTextureToTexture({texture:se,mipLevel:y,origin:{x:G,y:j,z:K}},{texture:Ne,mipLevel:T,origin:{x:R,y:b,z:P}},[Q,ie,ce]),this.device.queue.submit([ue.finish()]),T===0&&c.generateMipmaps&&this.textureUtils.generateMipmaps(c)}copyFramebufferToTexture(r,c,f){const p=this.get(c);let y=null;c.renderTarget?r.isDepthTexture?y=this.get(c.depthTexture).texture:y=this.get(c.textures[0]).texture:r.isDepthTexture?y=this.textureUtils.getDepthBuffer(c.depth,c.stencil):y=this.context.getCurrentTexture();const T=this.get(r).texture;if(y.format!==T.format){i0("WebGPUBackend: copyFramebufferToTexture: Source and destination formats do not match.",y.format,T.format);return}let R;if(p.currentPass?(p.currentPass.end(),R=p.encoder):R=this.device.createCommandEncoder({label:"copyFramebufferToTexture_"+r.id}),R.copyTextureToTexture({texture:y,origin:[f.x,f.y,0]},{texture:T},[f.z,f.w]),r.generateMipmaps&&this.textureUtils.generateMipmaps(r,R),p.currentPass){const{descriptor:b}=p;for(let P=0;P<b.colorAttachments.length;P++)b.colorAttachments[P].loadOp=En.Load;c.depth&&(b.depthStencilAttachment.depthLoadOp=En.Load),c.stencil&&(b.depthStencilAttachment.stencilLoadOp=En.Load),p.currentPass=R.beginRenderPass(b),p.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},c.viewport&&this.updateViewport(c),c.scissor&&this.updateScissor(c)}else this.device.queue.submit([R.finish()])}dispose(){this.textureUtils.dispose()}}class H3e extends F_{constructor(r,c,f,p,y,T){super(r,c,f,p,y,T),this.iesMap=null}copy(r,c){return super.copy(r,c),this.iesMap=r.iesMap,this}}class j3e extends F_{constructor(r,c,f,p,y,T){super(r,c,f,p,y,T),this.aspect=null}copy(r,c){return super.copy(r,c),this.aspect=r.aspect,this}}class q3e extends hv{constructor(){super(),this.addMaterial(ide,"MeshPhongMaterial"),this.addMaterial(Zy,"MeshStandardMaterial"),this.addMaterial(n8e,"MeshPhysicalMaterial"),this.addMaterial(a8e,"MeshToonMaterial"),this.addMaterial(Y4e,"MeshBasicMaterial"),this.addMaterial(ede,"MeshLambertMaterial"),this.addMaterial(H4e,"MeshNormalMaterial"),this.addMaterial(u8e,"MeshMatcapMaterial"),this.addMaterial(O4e,"LineBasicMaterial"),this.addMaterial(V4e,"LineDashedMaterial"),this.addMaterial(d8e,"PointsMaterial"),this.addMaterial(Jy,"SpriteMaterial"),this.addMaterial(y8e,"ShadowMaterial"),this.addLight($6e,yx),this.addLight(Tme,f8),this.addLight(Cme,C1e),this.addLight(O8,F_),this.addLight(Ame,vx),this.addLight(Eme,xx),this.addLight(bme,M1e),this.addLight(wme,H3e),this.addLight(Rme,j3e),this.addToneMapping(i6e,Kg),this.addToneMapping(n6e,Zg),this.addToneMapping(r6e,Qg),this.addToneMapping(o6e,Jg),this.addToneMapping(u6e,ex),this.addToneMapping(f6e,tx)}}class X3e extends Yme{constructor(r={}){let c;r.forceWebGL?c=Eg:(c=W3e,r.getFallback=()=>(jt("WebGPURenderer: WebGPU is not available, running under WebGL2 backend."),new Eg(r)));const f=new c(r);super(f,r),this.library=new q3e,this.isWebGPURenderer=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}}const Og={type:"change"},V8={type:"start"},Rv={type:"end"},r_=new Nf,Gg=new po,$3e=Math.cos(70*Ga.DEG2RAD),or=new nt,ys=2*Math.PI,Wn={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},nd=1e-6;class Y3e extends N1e{constructor(r,c=null){super(r,c),this.state=Wn.NONE,this.target=new nt,this.cursor=new nt,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:rl.ROTATE,MIDDLE:rl.DOLLY,RIGHT:rl.PAN},this.touches={ONE:Qc.ROTATE,TWO:Qc.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new nt,this._lastQuaternion=new eo,this._lastTargetPosition=new nt,this._quat=new eo().setFromUnitVectors(r.up,new nt(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new B3,this._sphericalDelta=new B3,this._scale=1,this._panOffset=new nt,this._rotateStart=new O0,this._rotateEnd=new O0,this._rotateDelta=new O0,this._panStart=new O0,this._panEnd=new O0,this._panDelta=new O0,this._dollyStart=new O0,this._dollyEnd=new O0,this._dollyDelta=new O0,this._dollyDirection=new nt,this._mouse=new O0,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=Z3e.bind(this),this._onPointerDown=K3e.bind(this),this._onPointerUp=Q3e.bind(this),this._onContextMenu=s5e.bind(this),this._onMouseWheel=t5e.bind(this),this._onKeyDown=i5e.bind(this),this._onTouchStart=n5e.bind(this),this._onTouchMove=r5e.bind(this),this._onMouseDown=J3e.bind(this),this._onMouseMove=e5e.bind(this),this._interceptControlDown=o5e.bind(this),this._interceptControlUp=a5e.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(r){super.connect(r),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(r){r.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=r}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(Og),this.update(),this.state=Wn.NONE}update(r=null){const c=this.object.position;or.copy(c).sub(this.target),or.applyQuaternion(this._quat),this._spherical.setFromVector3(or),this.autoRotate&&this.state===Wn.NONE&&this._rotateLeft(this._getAutoRotationAngle(r)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let f=this.minAzimuthAngle,p=this.maxAzimuthAngle;isFinite(f)&&isFinite(p)&&(f<-Math.PI?f+=ys:f>Math.PI&&(f-=ys),p<-Math.PI?p+=ys:p>Math.PI&&(p-=ys),f<=p?this._spherical.theta=Math.max(f,Math.min(p,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(f+p)/2?Math.max(f,this._spherical.theta):Math.min(p,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let y=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const T=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),y=T!=this._spherical.radius}if(or.setFromSpherical(this._spherical),or.applyQuaternion(this._quatInverse),c.copy(this.target).add(or),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let T=null;if(this.object.isPerspectiveCamera){const R=or.length();T=this._clampDistance(R*this._scale);const b=R-T;this.object.position.addScaledVector(this._dollyDirection,b),this.object.updateMatrixWorld(),y=!!b}else if(this.object.isOrthographicCamera){const R=new nt(this._mouse.x,this._mouse.y,0);R.unproject(this.object);const b=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),y=b!==this.object.zoom;const P=new nt(this._mouse.x,this._mouse.y,0);P.unproject(this.object),this.object.position.sub(P).add(R),this.object.updateMatrixWorld(),T=or.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;T!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(T).add(this.object.position):(r_.origin.copy(this.object.position),r_.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(r_.direction))<$3e?this.object.lookAt(this.target):(Gg.setFromNormalAndCoplanarPoint(this.object.up,this.target),r_.intersectPlane(Gg,this.target))))}else if(this.object.isOrthographicCamera){const T=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),T!==this.object.zoom&&(this.object.updateProjectionMatrix(),y=!0)}return this._scale=1,this._performCursorZoom=!1,y||this._lastPosition.distanceToSquared(this.object.position)>nd||8*(1-this._lastQuaternion.dot(this.object.quaternion))>nd||this._lastTargetPosition.distanceToSquared(this.target)>nd?(this.dispatchEvent(Og),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(r){return r!==null?ys/60*this.autoRotateSpeed*r:ys/60/60*this.autoRotateSpeed}_getZoomScale(r){const c=Math.abs(r*.01);return Math.pow(.95,this.zoomSpeed*c)}_rotateLeft(r){this._sphericalDelta.theta-=r}_rotateUp(r){this._sphericalDelta.phi-=r}_panLeft(r,c){or.setFromMatrixColumn(c,0),or.multiplyScalar(-r),this._panOffset.add(or)}_panUp(r,c){this.screenSpacePanning===!0?or.setFromMatrixColumn(c,1):(or.setFromMatrixColumn(c,0),or.crossVectors(this.object.up,or)),or.multiplyScalar(r),this._panOffset.add(or)}_pan(r,c){const f=this.domElement;if(this.object.isPerspectiveCamera){const p=this.object.position;or.copy(p).sub(this.target);let y=or.length();y*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*r*y/f.clientHeight,this.object.matrix),this._panUp(2*c*y/f.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(r*(this.object.right-this.object.left)/this.object.zoom/f.clientWidth,this.object.matrix),this._panUp(c*(this.object.top-this.object.bottom)/this.object.zoom/f.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(r){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=r:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(r){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=r:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(r,c){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const f=this.domElement.getBoundingClientRect(),p=r-f.left,y=c-f.top,T=f.width,R=f.height;this._mouse.x=p/T*2-1,this._mouse.y=-(y/R)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(r){return Math.max(this.minDistance,Math.min(this.maxDistance,r))}_handleMouseDownRotate(r){this._rotateStart.set(r.clientX,r.clientY)}_handleMouseDownDolly(r){this._updateZoomParameters(r.clientX,r.clientX),this._dollyStart.set(r.clientX,r.clientY)}_handleMouseDownPan(r){this._panStart.set(r.clientX,r.clientY)}_handleMouseMoveRotate(r){this._rotateEnd.set(r.clientX,r.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const c=this.domElement;this._rotateLeft(ys*this._rotateDelta.x/c.clientHeight),this._rotateUp(ys*this._rotateDelta.y/c.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(r){this._dollyEnd.set(r.clientX,r.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(r){this._panEnd.set(r.clientX,r.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(r){this._updateZoomParameters(r.clientX,r.clientY),r.deltaY<0?this._dollyIn(this._getZoomScale(r.deltaY)):r.deltaY>0&&this._dollyOut(this._getZoomScale(r.deltaY)),this.update()}_handleKeyDown(r){let c=!1;switch(r.code){case this.keys.UP:r.ctrlKey||r.metaKey||r.shiftKey?this.enableRotate&&this._rotateUp(ys*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),c=!0;break;case this.keys.BOTTOM:r.ctrlKey||r.metaKey||r.shiftKey?this.enableRotate&&this._rotateUp(-ys*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),c=!0;break;case this.keys.LEFT:r.ctrlKey||r.metaKey||r.shiftKey?this.enableRotate&&this._rotateLeft(ys*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),c=!0;break;case this.keys.RIGHT:r.ctrlKey||r.metaKey||r.shiftKey?this.enableRotate&&this._rotateLeft(-ys*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),c=!0;break}c&&(r.preventDefault(),this.update())}_handleTouchStartRotate(r){if(this._pointers.length===1)this._rotateStart.set(r.pageX,r.pageY);else{const c=this._getSecondPointerPosition(r),f=.5*(r.pageX+c.x),p=.5*(r.pageY+c.y);this._rotateStart.set(f,p)}}_handleTouchStartPan(r){if(this._pointers.length===1)this._panStart.set(r.pageX,r.pageY);else{const c=this._getSecondPointerPosition(r),f=.5*(r.pageX+c.x),p=.5*(r.pageY+c.y);this._panStart.set(f,p)}}_handleTouchStartDolly(r){const c=this._getSecondPointerPosition(r),f=r.pageX-c.x,p=r.pageY-c.y,y=Math.sqrt(f*f+p*p);this._dollyStart.set(0,y)}_handleTouchStartDollyPan(r){this.enableZoom&&this._handleTouchStartDolly(r),this.enablePan&&this._handleTouchStartPan(r)}_handleTouchStartDollyRotate(r){this.enableZoom&&this._handleTouchStartDolly(r),this.enableRotate&&this._handleTouchStartRotate(r)}_handleTouchMoveRotate(r){if(this._pointers.length==1)this._rotateEnd.set(r.pageX,r.pageY);else{const f=this._getSecondPointerPosition(r),p=.5*(r.pageX+f.x),y=.5*(r.pageY+f.y);this._rotateEnd.set(p,y)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const c=this.domElement;this._rotateLeft(ys*this._rotateDelta.x/c.clientHeight),this._rotateUp(ys*this._rotateDelta.y/c.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(r){if(this._pointers.length===1)this._panEnd.set(r.pageX,r.pageY);else{const c=this._getSecondPointerPosition(r),f=.5*(r.pageX+c.x),p=.5*(r.pageY+c.y);this._panEnd.set(f,p)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(r){const c=this._getSecondPointerPosition(r),f=r.pageX-c.x,p=r.pageY-c.y,y=Math.sqrt(f*f+p*p);this._dollyEnd.set(0,y),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const T=(r.pageX+c.x)*.5,R=(r.pageY+c.y)*.5;this._updateZoomParameters(T,R)}_handleTouchMoveDollyPan(r){this.enableZoom&&this._handleTouchMoveDolly(r),this.enablePan&&this._handleTouchMovePan(r)}_handleTouchMoveDollyRotate(r){this.enableZoom&&this._handleTouchMoveDolly(r),this.enableRotate&&this._handleTouchMoveRotate(r)}_addPointer(r){this._pointers.push(r.pointerId)}_removePointer(r){delete this._pointerPositions[r.pointerId];for(let c=0;c<this._pointers.length;c++)if(this._pointers[c]==r.pointerId){this._pointers.splice(c,1);return}}_isTrackingPointer(r){for(let c=0;c<this._pointers.length;c++)if(this._pointers[c]==r.pointerId)return!0;return!1}_trackPointer(r){let c=this._pointerPositions[r.pointerId];c===void 0&&(c=new O0,this._pointerPositions[r.pointerId]=c),c.set(r.pageX,r.pageY)}_getSecondPointerPosition(r){const c=r.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[c]}_customWheelEvent(r){const c=r.deltaMode,f={clientX:r.clientX,clientY:r.clientY,deltaY:r.deltaY};switch(c){case 1:f.deltaY*=16;break;case 2:f.deltaY*=100;break}return r.ctrlKey&&!this._controlActive&&(f.deltaY*=10),f}}function K3e(v){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(v.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(v)&&(this._addPointer(v),v.pointerType==="touch"?this._onTouchStart(v):this._onMouseDown(v)))}function Z3e(v){this.enabled!==!1&&(v.pointerType==="touch"?this._onTouchMove(v):this._onMouseMove(v))}function Q3e(v){switch(this._removePointer(v),this._pointers.length){case 0:this.domElement.releasePointerCapture(v.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(Rv),this.state=Wn.NONE;break;case 1:const r=this._pointers[0],c=this._pointerPositions[r];this._onTouchStart({pointerId:r,pageX:c.x,pageY:c.y});break}}function J3e(v){let r;switch(v.button){case 0:r=this.mouseButtons.LEFT;break;case 1:r=this.mouseButtons.MIDDLE;break;case 2:r=this.mouseButtons.RIGHT;break;default:r=-1}switch(r){case rl.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(v),this.state=Wn.DOLLY;break;case rl.ROTATE:if(v.ctrlKey||v.metaKey||v.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(v),this.state=Wn.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(v),this.state=Wn.ROTATE}break;case rl.PAN:if(v.ctrlKey||v.metaKey||v.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(v),this.state=Wn.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(v),this.state=Wn.PAN}break;default:this.state=Wn.NONE}this.state!==Wn.NONE&&this.dispatchEvent(V8)}function e5e(v){switch(this.state){case Wn.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(v);break;case Wn.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(v);break;case Wn.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(v);break}}function t5e(v){this.enabled===!1||this.enableZoom===!1||this.state!==Wn.NONE||(v.preventDefault(),this.dispatchEvent(V8),this._handleMouseWheel(this._customWheelEvent(v)),this.dispatchEvent(Rv))}function i5e(v){this.enabled!==!1&&this._handleKeyDown(v)}function n5e(v){switch(this._trackPointer(v),this._pointers.length){case 1:switch(this.touches.ONE){case Qc.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(v),this.state=Wn.TOUCH_ROTATE;break;case Qc.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(v),this.state=Wn.TOUCH_PAN;break;default:this.state=Wn.NONE}break;case 2:switch(this.touches.TWO){case Qc.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(v),this.state=Wn.TOUCH_DOLLY_PAN;break;case Qc.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(v),this.state=Wn.TOUCH_DOLLY_ROTATE;break;default:this.state=Wn.NONE}break;default:this.state=Wn.NONE}this.state!==Wn.NONE&&this.dispatchEvent(V8)}function r5e(v){switch(this._trackPointer(v),this.state){case Wn.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(v),this.update();break;case Wn.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(v),this.update();break;case Wn.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(v),this.update();break;case Wn.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(v),this.update();break;default:this.state=Wn.NONE}}function s5e(v){this.enabled!==!1&&v.preventDefault()}function o5e(v){v.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function a5e(v){v.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function c5e(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}function l5e(v){if(Object.prototype.hasOwnProperty.call(v,"__esModule"))return v;var r=v.default;if(typeof r=="function"){var c=function f(){var p=!1;try{p=this instanceof f}catch{}return p?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};c.prototype=r.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(v).forEach(function(f){var p=Object.getOwnPropertyDescriptor(v,f);Object.defineProperty(c,f,p.get?p:{enumerable:!0,get:function(){return v[f]}})}),c}function u5e(v){throw new Error('Could not dynamically require "'+v+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var __={exports:{}};const f5e={},p5e=Object.freeze(Object.defineProperty({__proto__:null,default:f5e},Symbol.toStringTag,{value:"Module"})),Vg=l5e(p5e);var _5e=__.exports,zg;function h5e(){return zg||(zg=1,(function(v,r){(function(c,f){v.exports=f()})(_5e,function(){var c=function(p){p=p||{};var p;p||(p=(typeof c<"u"?c:null)||{});var y={};for(var T in p)p.hasOwnProperty(T)&&(y[T]=p[T]);var R=!1,b=!1,P=!1,G=!1;if(p.ENVIRONMENT)if(p.ENVIRONMENT==="WEB")R=!0;else if(p.ENVIRONMENT==="WORKER")b=!0;else if(p.ENVIRONMENT==="NODE")P=!0;else if(p.ENVIRONMENT==="SHELL")G=!0;else throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");else R=typeof window=="object",b=typeof importScripts=="function",P=typeof process=="object"&&typeof u5e=="function"&&!R&&!b,G=!R&&!P&&!b;if(P){p.print||(p.print=console.log),p.printErr||(p.printErr=console.warn);var j,K;p.read=function(I,le){j||(j=Vg),K||(K=Vg),I=K.normalize(I);var A=j.readFileSync(I);return!A&&I!=K.resolve(I)&&(I=path.join(__dirname,"..","src",I),A=j.readFileSync(I)),A&&!le&&(A=A.toString()),A},p.readBinary=function(I){var le=p.read(I,!0);return le.buffer||(le=new Uint8Array(le)),se(le.buffer),le},p.load=function(I){ie(read(I))},p.thisProgram||(process.argv.length>1?p.thisProgram=process.argv[1].replace(/\\/g,"/"):p.thisProgram="unknown-program"),p.arguments=process.argv.slice(2),v.exports=p,process.on("uncaughtException",(function(x){if(!(x instanceof yc))throw x})),p.inspect=(function(){return"[Emscripten Module object]"})}else if(G)p.print||(p.print=print),typeof printErr<"u"&&(p.printErr=printErr),typeof read<"u"?p.read=read:p.read=function(){throw"no read() available (jsc?)"},p.readBinary=function(I){if(typeof readbuffer=="function")return new Uint8Array(readbuffer(I));var le=read(I,"binary");return se(typeof le=="object"),le},typeof scriptArgs<"u"?p.arguments=scriptArgs:typeof arguments<"u"&&(p.arguments=arguments);else if(R||b){if(p.read=function(I){var le=new XMLHttpRequest;return le.open("GET",I,!1),le.send(null),le.responseText},p.readAsync=function(I,le,A){var ee=new XMLHttpRequest;ee.open("GET",I,!0),ee.responseType="arraybuffer",ee.onload=function(){ee.status==200||ee.status==0&&ee.response?le(ee.response):A()},ee.onerror=A,ee.send(null)},typeof arguments<"u"&&(p.arguments=arguments),typeof console<"u")p.print||(p.print=function(I){console.log(I)}),p.printErr||(p.printErr=function(I){console.warn(I)});else{var Q=!1;p.print||(p.print=Q&&typeof dump<"u"?(function(x){dump(x)}):(function(x){}))}b&&(p.load=importScripts),typeof p.setWindowTitle>"u"&&(p.setWindowTitle=(function(x){document.title=x}))}else throw"Unknown runtime environment. Where are we?";function ie(x){As("NO_DYNAMIC_EXECUTION=1 was set, cannot eval")}!p.load&&p.read&&(p.load=function(I){ie(p.read(I))}),p.print||(p.print=(function(){})),p.printErr||(p.printErr=p.print),p.arguments||(p.arguments=[]),p.thisProgram||(p.thisProgram="./this.program"),p.print=p.print,p.printErr=p.printErr,p.preRun=[],p.postRun=[];for(var T in y)y.hasOwnProperty(T)&&(p[T]=y[T]);y=void 0;var ce={setTempRet0:(function(x){tempRet0=x}),getTempRet0:(function(){return tempRet0}),stackSave:(function(){return oi}),stackRestore:(function(x){oi=x}),getNativeTypeSize:(function(x){switch(x){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(x[x.length-1]==="*")return ce.QUANTUM_SIZE;if(x[0]==="i"){var I=parseInt(x.substr(1));return se(I%8===0),I/8}else return 0}}}),getNativeFieldSize:(function(x){return Math.max(ce.getNativeTypeSize(x),ce.QUANTUM_SIZE)}),STACK_ALIGN:16,prepVararg:(function(x,I){return I==="double"||I==="i64"?x&7&&(se((x&7)===4),x+=4):se((x&3)===0),x}),getAlignSize:(function(x,I,le){return!le&&(x=="i64"||x=="double")?8:x?Math.min(I||(x?ce.getNativeFieldSize(x):0),ce.QUANTUM_SIZE):Math.min(I,8)}),dynCall:(function(x,I,le){return le&&le.length?(le.splice||(le=Array.prototype.slice.call(le)),le.splice(0,0,I),p["dynCall_"+x].apply(null,le)):p["dynCall_"+x].call(null,I)}),functionPointers:[],addFunction:(function(x){for(var I=0;I<ce.functionPointers.length;I++)if(!ce.functionPointers[I])return ce.functionPointers[I]=x,2*(1+I);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."}),removeFunction:(function(x){ce.functionPointers[(x-2)/2]=null}),warnOnce:(function(x){ce.warnOnce.shown||(ce.warnOnce.shown={}),ce.warnOnce.shown[x]||(ce.warnOnce.shown[x]=1,p.printErr(x))}),funcWrappers:{},getFuncWrapper:(function(x,I){se(I),ce.funcWrappers[I]||(ce.funcWrappers[I]={});var le=ce.funcWrappers[I];return le[x]||(le[x]=function(){return ce.dynCall(I,x,arguments)}),le[x]}),getCompilerSetting:(function(x){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"}),stackAlloc:(function(x){var I=oi;return oi=oi+x|0,oi=oi+15&-16,I}),staticAlloc:(function(x){var I=N0;return N0=N0+x|0,N0=N0+15&-16,I}),dynamicAlloc:(function(x){var I=Pe;if(Pe=Pe+x|0,Pe=Pe+15&-16,Pe>=Ut){var le=Yt();if(!le)return Pe=I,0}return I}),alignMemory:(function(x,I){var le=x=Math.ceil(x/(I||16))*(I||16);return le}),makeBigInt:(function(x,I,le){var A=le?+(x>>>0)+ +(I>>>0)*4294967296:+(x>>>0)+ +(I|0)*4294967296;return A}),GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};p.Runtime=ce;var ue=!1;function se(x,I){x||As("Assertion failed: "+I)}function Ne(x){var I=p["_"+x];return I||As("NO_DYNAMIC_EXECUTION=1 was set, cannot eval"),se(I,"Cannot call unknown function "+x+" (perhaps LLVM optimizations or closure removed it?)"),I}var De,Oe;(function(){var x={arrayToC:(function(le){var A=ce.stackAlloc(le.length);return Ir(le,A),A}),stringToC:(function(le){var A=0;return le!=null&&le!==0&&(A=ce.stackAlloc((le.length<<2)+1),wr(le,A)),A})},I={string:x.stringToC,array:x.arrayToC};Oe=function(A,ee,e,It,Le){var Ii=Ne(A),i=[],Mt=0;if(It)for(var H=0;H<It.length;H++){var xr=I[e[H]];xr?(Mt===0&&(Mt=ce.stackSave()),i[H]=xr(It[H])):i[H]=It[H]}var Z=Ii.apply(null,i);if(ee==="string"&&(Z=Et(Z)),Mt!==0){if(Le&&Le.async){EmterpreterAsync.asyncFinalizers.push((function(){ce.stackRestore(Mt)}));return}ce.stackRestore(Mt)}return Z},De=function(A,ee,e){return(function(){return Oe(A,ee,e,arguments)})}})(),p.ccall=Oe,p.cwrap=De;function je(x,I,le,A){switch(le=le||"i8",le.charAt(le.length-1)==="*"&&(le="i32"),le){case"i1":B0[x>>0]=I;break;case"i8":B0[x>>0]=I;break;case"i16":Bi[x>>1]=I;break;case"i32":ei[x>>2]=I;break;case"i64":tempI64=[I>>>0,(tempDouble=I,+_c(tempDouble)>=1?tempDouble>0?(xa(+io(tempDouble/4294967296),4294967295)|0)>>>0:~~+hc((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],ei[x>>2]=tempI64[0],ei[x+4>>2]=tempI64[1];break;case"float":tt[x>>2]=I;break;case"double":ki[x>>3]=I;break;default:As("invalid type for setValue: "+le)}}p.setValue=je;function Be(x,I,le){switch(I=I||"i8",I.charAt(I.length-1)==="*"&&(I="i32"),I){case"i1":return B0[x>>0];case"i8":return B0[x>>0];case"i16":return Bi[x>>1];case"i32":return ei[x>>2];case"i64":return ei[x>>2];case"float":return tt[x>>2];case"double":return ki[x>>3];default:As("invalid type for setValue: "+I)}return null}p.getValue=Be;var We=0,$e=1,Ee=2,Ie=3,Je=4;p.ALLOC_NORMAL=We,p.ALLOC_STACK=$e,p.ALLOC_STATIC=Ee,p.ALLOC_DYNAMIC=Ie,p.ALLOC_NONE=Je;function ft(x,I,le,A){var ee,e;typeof x=="number"?(ee=!0,e=x):(ee=!1,e=x.length);var It=typeof I=="string"?I:null,Le;if(le==Je?Le=A:Le=[typeof n1=="function"?n1:ce.staticAlloc,ce.stackAlloc,ce.staticAlloc,ce.dynamicAlloc][le===void 0?Ee:le](Math.max(e,It?1:I.length)),ee){var A=Le,Ii;for(se((Le&3)==0),Ii=Le+(e&-4);A<Ii;A+=4)ei[A>>2]=0;for(Ii=Le+e;A<Ii;)B0[A++>>0]=0;return Le}if(It==="i8")return x.subarray||x.slice?A0.set(x,Le):A0.set(new Uint8Array(x),Le),Le;for(var i=0,Mt,H,xr;i<e;){var Z=x[i];if(typeof Z=="function"&&(Z=ce.getFunctionIndex(Z)),Mt=It||I[i],Mt===0){i++;continue}Mt=="i64"&&(Mt="i32"),je(Le+i,Z,Mt),xr!==Mt&&(H=ce.getNativeTypeSize(Mt),xr=Mt),i+=H}return Le}p.allocate=ft;function yt(x){return Bn?typeof Nn<"u"&&!Nn.called||!li?ce.dynamicAlloc(x):n1(x):ce.staticAlloc(x)}p.getMemory=yt;function Et(x,I){if(I===0||!x)return"";for(var le=0,A,ee=0;A=A0[x+ee>>0],le|=A,!(A==0&&!I||(ee++,I&&ee==I)););I||(I=ee);var e="";if(le<128){for(var It=1024,Le;I>0;)Le=String.fromCharCode.apply(String,A0.subarray(x,x+Math.min(I,It))),e=e?e+Le:Le,x+=It,I-=It;return e}return p.UTF8ToString(x)}p.Pointer_stringify=Et;function Dt(x){for(var I="";;){var le=B0[x++>>0];if(!le)return I;I+=String.fromCharCode(le)}}p.AsciiToString=Dt;function ct(x,I){return pc(x,I,!1)}p.stringToAscii=ct;function Wt(x,I){for(var le,A,ee,e,It,Le,Ii="";;){if(le=x[I++],!le)return Ii;if(!(le&128)){Ii+=String.fromCharCode(le);continue}if(A=x[I++]&63,(le&224)==192){Ii+=String.fromCharCode((le&31)<<6|A);continue}if(ee=x[I++]&63,(le&240)==224?le=(le&15)<<12|A<<6|ee:(e=x[I++]&63,(le&248)==240?le=(le&7)<<18|A<<12|ee<<6|e:(It=x[I++]&63,(le&252)==248?le=(le&3)<<24|A<<18|ee<<12|e<<6|It:(Le=x[I++]&63,le=(le&1)<<30|A<<24|ee<<18|e<<12|It<<6|Le))),le<65536)Ii+=String.fromCharCode(le);else{var i=le-65536;Ii+=String.fromCharCode(55296|i>>10,56320|i&1023)}}}p.UTF8ArrayToString=Wt;function vt(x){return Wt(A0,x)}p.UTF8ToString=vt;function Ht(x,I,le,A){if(!(A>0))return 0;for(var ee=le,e=le+A-1,It=0;It<x.length;++It){var Le=x.charCodeAt(It);if(Le>=55296&&Le<=57343&&(Le=65536+((Le&1023)<<10)|x.charCodeAt(++It)&1023),Le<=127){if(le>=e)break;I[le++]=Le}else if(Le<=2047){if(le+1>=e)break;I[le++]=192|Le>>6,I[le++]=128|Le&63}else if(Le<=65535){if(le+2>=e)break;I[le++]=224|Le>>12,I[le++]=128|Le>>6&63,I[le++]=128|Le&63}else if(Le<=2097151){if(le+3>=e)break;I[le++]=240|Le>>18,I[le++]=128|Le>>12&63,I[le++]=128|Le>>6&63,I[le++]=128|Le&63}else if(Le<=67108863){if(le+4>=e)break;I[le++]=248|Le>>24,I[le++]=128|Le>>18&63,I[le++]=128|Le>>12&63,I[le++]=128|Le>>6&63,I[le++]=128|Le&63}else{if(le+5>=e)break;I[le++]=252|Le>>30,I[le++]=128|Le>>24&63,I[le++]=128|Le>>18&63,I[le++]=128|Le>>12&63,I[le++]=128|Le>>6&63,I[le++]=128|Le&63}}return I[le]=0,le-ee}p.stringToUTF8Array=Ht;function Qt(x,I,le){return Ht(x,A0,I,le)}p.stringToUTF8=Qt;function a0(x){for(var I=0,le=0;le<x.length;++le){var A=x.charCodeAt(le);A>=55296&&A<=57343&&(A=65536+((A&1023)<<10)|x.charCodeAt(++le)&1023),A<=127?++I:A<=2047?I+=2:A<=65535?I+=3:A<=2097151?I+=4:A<=67108863?I+=5:I+=6}return I}p.lengthBytesUTF8=a0;function G0(x){var I=!!p.___cxa_demangle;if(I)try{var le=n1(x.length);wr(x.substr(1),le);var A=n1(4),ee=p.___cxa_demangle(le,0,0,A);if(Be(A,"i32")===0&&ee)return Et(ee)}catch{return x}finally{le&&ih(le),A&&ih(A),ee&&ih(ee)}return ce.warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),x}function C0(x){return x.replace(/__Z[\w\d_]+/g,(function(I){var le=G0(I);return I===le?I:I+" ["+le+"]"}))}function w0(){var x=new Error;if(!x.stack){try{throw new Error(0)}catch(I){x=I}if(!x.stack)return"(no stack trace available)"}return x.stack.toString()}function y0(){return C0(w0())}p.stackTrace=y0;function dt(x){return x%4096>0&&(x+=4096-x%4096),x}var wt,e0,B0,A0,Bi,A2,ei,Fn,tt,ki;function qi(){p.HEAP8=B0=new Int8Array(e0),p.HEAP16=Bi=new Int16Array(e0),p.HEAP32=ei=new Int32Array(e0),p.HEAPU8=A0=new Uint8Array(e0),p.HEAPU16=A2=new Uint16Array(e0),p.HEAPU32=Fn=new Uint32Array(e0),p.HEAPF32=tt=new Float32Array(e0),p.HEAPF64=ki=new Float64Array(e0)}var wn=0,N0=0,Bn=!1,si=0,oi=0,Ye=0,Pe=0;function St(){As("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+Ut+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function Yt(){St()}for(var Jt=p.TOTAL_STACK||5242880,Ut=p.TOTAL_MEMORY||67108864,z0=64*1024;z0<Ut||z0<2*Jt;)z0<16777216?z0*=2:z0+=16777216;if(z0!==Ut&&(Ut=z0),p.buffer?e0=p.buffer:e0=new ArrayBuffer(Ut),qi(),ei[0]=255,A0[0]!==255||A0[3]!==0)throw"Typed arrays 2 must be run on a little-endian system";p.HEAP=wt,p.buffer=e0,p.HEAP8=B0,p.HEAP16=Bi,p.HEAP32=ei,p.HEAPU8=A0,p.HEAPU16=A2,p.HEAPU32=Fn,p.HEAPF32=tt,p.HEAPF64=ki;function g0(x){for(;x.length>0;){var I=x.shift();if(typeof I=="function"){I();continue}var le=I.func;typeof le=="number"?I.arg===void 0?ce.dynCall("v",le):ce.dynCall("vi",le,[I.arg]):le(I.arg===void 0?null:I.arg)}}var ci=[],$0=[],t0=[],c0=[],yi=[],li=!1;function D0(){if(p.preRun)for(typeof p.preRun=="function"&&(p.preRun=[p.preRun]);p.preRun.length;)m0(p.preRun.shift());g0(ci)}function Si(){li||(li=!0,g0($0))}function rt(){g0(t0)}function S0(){g0(c0)}function d0(){if(p.postRun)for(typeof p.postRun=="function"&&(p.postRun=[p.postRun]);p.postRun.length;)Ai(p.postRun.shift());g0(yi)}function m0(x){ci.unshift(x)}p.addOnPreRun=m0;function s0(x){$0.unshift(x)}p.addOnInit=s0;function Zt(x){t0.unshift(x)}p.addOnPreMain=Zt;function W0(x){c0.unshift(x)}p.addOnExit=W0;function Ai(x){yi.unshift(x)}p.addOnPostRun=Ai;function yn(x,I,le){var A=le>0?le:a0(x)+1,ee=new Array(A),e=Ht(x,ee,0,ee.length);return I&&(ee.length=e),ee}p.intArrayFromString=yn;function Gi(x){for(var I=[],le=0;le<x.length;le++){var A=x[le];A>255&&(A&=255),I.push(String.fromCharCode(A))}return I.join("")}p.intArrayToString=Gi;function wr(x,I,le){for(var A=yn(x,le),ee=0;ee<A.length;){var e=A[ee];B0[I+ee>>0]=e,ee=ee+1}}p.writeStringToMemory=wr;function Ir(x,I){for(var le=0;le<x.length;le++)B0[I++>>0]=x[le]}p.writeArrayToMemory=Ir;function pc(x,I,le){for(var A=0;A<x.length;++A)B0[I++>>0]=x.charCodeAt(A);le||(B0[I>>0]=0)}p.writeAsciiToMemory=pc,(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function(I,le){var A=I>>>16,ee=I&65535,e=le>>>16,It=le&65535;return ee*It+(A*It+ee*e<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=(function(x){x=x>>>0;for(var I=0;I<32;I++)if(x&1<<31-I)return I;return 32})),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=(function(x){return x<0?Math.ceil(x):Math.floor(x)})),Math.trunc=Math.trunc;var _c=Math.abs,hc=Math.ceil,io=Math.floor,ga=Math.pow,xa=Math.min,Gs=0,Rs=null;function dc(x){Gs++,p.monitorRunDependencies&&p.monitorRunDependencies(Gs)}p.addRunDependency=dc;function O1(x){if(Gs--,p.monitorRunDependencies&&p.monitorRunDependencies(Gs),Gs==0&&Rs){var I=Rs;Rs=null,I()}}p.removeRunDependency=O1,p.preloadedImages={},p.preloadedAudios={};var mc=[(function(x,I,le,A,ee,e,It,Le){{var Ii=p.getCache(p.ConcreteContactResultCallback)[x];if(!Ii.hasOwnProperty("addSingleResult"))throw"a JSImplementation must implement all functions, you forgot ConcreteContactResultCallback::addSingleResult.";return Ii.addSingleResult(I,le,A,ee,e,It,Le)}})];function gc(x,I,le,A,ee,e,It,Le,Ii){return mc[x](I,le,A,ee,e,It,Le,Ii)}wn=8,N0=wn+23344,$0.push({func:(function(){xS()})},{func:(function(){rM()})}),ft([36,32,0,0,209,32,0,0,76,32,0,0,183,32,0,0,8,0,0,0,0,0,0,0,76,32,0,0,168,32,0,0,16,0,0,0,0,0,0,0,36,32,0,0,20,33,0,0,76,32,0,0,251,32,0,0,48,0,0,0,0,0,0,0,76,32,0,0,233,32,0,0,56,0,0,0,0,0,0,0,36,32,0,0,48,33,0,0,36,32,0,0,71,33,0,0,76,32,0,0,90,33,0,0,8,0,0,0,0,0,0,0,76,32,0,0,109,33,0,0,96,0,0,0,0,0,0,0,76,32,0,0,130,33,0,0,96,0,0,0,0,0,0,0,76,32,0,0,152,33,0,0,96,0,0,0,0,0,0,0,36,32,0,0,175,33,0,0,36,32,0,0,190,33,0,0,76,32,0,0,214,33,0,0,56,0,0,0,0,0,0,0,76,32,0,0,245,33,0,0,216,0,0,0,0,0,0,0,36,32,0,0,118,34,0,0,76,32,0,0,138,34,0,0,216,0,0,0,0,0,0,0,36,32,0,0,248,34,0,0,76,32,0,0,100,35,0,0,88,0,0,0,0,0,0,0,76,32,0,0,133,35,0,0,248,0,0,0,0,0,0,0,76,32,0,0,162,35,0,0,40,1,0,0,0,0,0,0,36,32,0,0,181,35,0,0,76,32,0,0,220,35,0,0,168,0,0,0,0,0,0,0,76,32,0,0,244,35,0,0,216,0,0,0,0,0,0,0,36,32,0,0,14,36,0,0,36,32,0,0,61,36,0,0,136,32,0,0,54,37,0,0,0,0,0,0,2,0,0,0,96,6,0,0,2,0,0,0,104,6,0,0,2,4,0,0,76,32,0,0,74,37,0,0,144,1,0,0,0,0,0,0,76,32,0,0,96,37,0,0,160,1,0,0,0,0,0,0,36,32,0,0,122,37,0,0,36,32,0,0,149,37,0,0,76,32,0,0,178,37,0,0,64,7,0,0,0,0,0,0,76,32,0,0,69,38,0,0,64,7,0,0,0,0,0,0,76,32,0,0,218,38,0,0,96,0,0,0,0,0,0,0,76,32,0,0,88,39,0,0,240,1,0,0,0,0,0,0,36,32,0,0,221,39,0,0,76,32,0,0,65,40,0,0,80,7,0,0,0,0,0,0,76,32,0,0,240,40,0,0,80,7,0,0,0,0,0,0,76,32,0,0,181,41,0,0,40,2,0,0,0,0,0,0,36,32,0,0,82,42,0,0,76,32,0,0,141,42,0,0,144,1,0,0,0,0,0,0,76,32,0,0,165,42,0,0,160,1,0,0,0,0,0,0,76,32,0,0,191,42,0,0,64,4,0,0,0,0,0,0,76,32,0,0,217,42,0,0,248,0,0,0,0,0,0,0,76,32,0,0,248,42,0,0,96,0,0,0,0,0,0,0,76,32,0,0,17,43,0,0,96,2,0,0,0,0,0,0,76,32,0,0,56,43,0,0,96,0,0,0,0,0,0,0,36,32,0,0,89,43,0,0,76,32,0,0,122,43,0,0,248,0,0,0,0,0,0,0,76,32,0,0,158,43,0,0,96,6,0,0,0,0,0,0,76,32,0,0,185,43,0,0,24,6,0,0,0,0,0,0,76,32,0,0,238,43,0,0,96,6,0,0,0,0,0,0,76,32,0,0,140,44,0,0,160,2,0,0,0,0,0,0,76,32,0,0,180,44,0,0,248,0,0,0,0,0,0,0,76,32,0,0,206,44,0,0,24,3,0,0,0,0,0,0,36,32,0,0,83,45,0,0,76,32,0,0,131,45,0,0,24,3,0,0,0,0,0,0,76,32,0,0,16,46,0,0,64,4,0,0,0,0,0,0,76,32,0,0,43,46,0,0,88,0,0,0,0,0,0,0,76,32,0,0,77,46,0,0,96,3,0,0,0,0,0,0,36,32,0,0,111,46,0,0,76,32,0,0,138,46,0,0,160,2,0,0,0,0,0,0,76,32,0,0,188,46,0,0,160,2,0,0,0,0,0,0,76,32,0,0,245,46,0,0,160,2,0,0,0,0,0,0,76,32,0,0,34,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,87,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,139,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,172,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,221,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,16,48,0,0,160,2,0,0,0,0,0,0,76,32,0,0,59,48,0,0,160,2,0,0,0,0,0,0,76,32,0,0,107,48,0,0,88,0,0,0,0,0,0,0,76,32,0,0,126,48,0,0,80,1,0,0,0,0,0,0,76,32,0,0,142,48,0,0,24,4,0,0,0,0,0,0,36,32,0,0,169,48,0,0,76,32,0,0,195,48,0,0,24,3,0,0,0,0,0,0,36,32,0,0,214,48,0,0,76,32,0,0,29,49,0,0,248,0,0,0,0,0,0,0,76,32,0,0,64,49,0,0,248,0,0,0,0,0,0,0,76,32,0,0,101,49,0,0,40,1,0,0,0,0,0,0,76,32,0,0,126,49,0,0,24,6,0,0,0,0,0,0,76,32,0,0,143,49,0,0,144,6,0,0,0,0,0,0,76,32,0,0,208,49,0,0,176,0,0,0,0,0,0,0,76,32,0,0,62,50,0,0,176,0,0,0,0,0,0,0,76,32,0,0,166,50,0,0,176,0,0,0,0,0,0,0,76,32,0,0,23,51,0,0,112,5,0,0,0,0,0,0,76,32,0,0,72,51,0,0,216,4,0,0,0,0,0,0,76,32,0,0,99,51,0,0,216,4,0,0,0,0,0,0,36,32,0,0,126,51,0,0,76,32,0,0,166,51,0,0,8,5,0,0,0,0,0,0,76,32,0,0,238,51,0,0,8,5,0,0,0,0,0,0,76,32,0,0,255,51,0,0,112,5,0,0,0,0,0,0,76,32,0,0,34,52,0,0,48,5,0,0,0,0,0,0,76,32,0,0,55,52,0,0,48,5,0,0,0,0,0,0,76,32,0,0,76,52,0,0,40,6,0,0,0,0,0,0,76,32,0,0,125,52,0,0,136,5,0,0,0,0,0,0,36,32,0,0,149,52,0,0,76,32,0,0,170,52,0,0,8,5,0,0,0,0,0,0,76,32,0,0,186,52,0,0,40,6,0,0,0,0,0,0,76,32,0,0,228,52,0,0,104,6,0,0,0,0,0,0,76,32,0,0,1,53,0,0,112,5,0,0,0,0,0,0,76,32,0,0,49,53,0,0,184,5,0,0,0,0,0,0,76,32,0,0,78,53,0,0,184,5,0,0,0,0,0,0,76,32,0,0,107,53,0,0,240,0,0,0,0,0,0,0,76,32,0,0,124,53,0,0,104,6,0,0,0,0,0,0,76,32,0,0,224,53,0,0,104,6,0,0,0,0,0,0,76,32,0,0,59,54,0,0,112,5,0,0,0,0,0,0,76,32,0,0,85,54,0,0,24,6,0,0,0,0,0,0,76,32,0,0,122,54,0,0,112,5,0,0,0,0,0,0,76,32,0,0,145,54,0,0,32,5,0,0,0,0,0,0,36,32,0,0,201,54,0,0,36,32,0,0,99,55,0,0,36,32,0,0,120,55,0,0,76,32,0,0,154,55,0,0,88,6,0,0,0,0,0,0,76,32,0,0,183,55,0,0,112,6,0,0,0,0,0,0,76,32,0,0,200,55,0,0,32,5,0,0,0,0,0,0,76,32,0,0,235,55,0,0,104,6,0,0,0,0,0,0,76,32,0,0,81,56,0,0,96,6,0,0,0,0,0,0,76,32,0,0,105,56,0,0,224,6,0,0,0,0,0,0,76,32,0,0,135,56,0,0,24,3,0,0,0,0,0,0,36,32,0,0,154,56,0,0,76,32,0,0,169,56,0,0,224,6,0,0,0,0,0,0,76,32,0,0,187,56,0,0,8,7,0,0,0,0,0,0,36,32,0,0,220,56,0,0,76,32,0,0,253,56,0,0,40,1,0,0,0,0,0,0,76,32,0,0,17,57,0,0,8,7,0,0,0,0,0,0,76,32,0,0,53,57,0,0,24,3,0,0,0,0,0,0,76,32,0,0,224,57,0,0,96,6,0,0,0,0,0,0,76,32,0,0,252,57,0,0,96,6,0,0,0,0,0,0,76,32,0,0,27,58,0,0,224,6,0,0,0,0,0,0,76,32,0,0,52,58,0,0,128,7,0,0,0,0,0,0,76,32,0,0,85,58,0,0,144,7,0,0,0,0,0,0,36,32,0,0,118,58,0,0,76,32,0,0,138,58,0,0,168,7,0,0,0,0,0,0,76,32,0,0,184,58,0,0,40,2,0,0,0,0,0,0,76,32,0,0,234,58,0,0,200,7,0,0,0,0,0,0,136,32,0,0,2,59,0,0,0,0,0,0,1,0,0,0,224,7,0,0,2,4,0,0,36,32,0,0,22,59,0,0,76,32,0,0,99,59,0,0,200,7,0,0,0,0,0,0,76,32,0,0,153,59,0,0,200,7,0,0,0,0,0,0,76,32,0,0,186,59,0,0,232,7,0,0,0,0,0,0,76,32,0,0,252,59,0,0,200,7,0,0,0,0,0,0,76,32,0,0,43,60,0,0,200,7,0,0,0,0,0,0,76,32,0,0,102,60,0,0,72,8,0,0,0,0,0,0,36,32,0,0,140,60,0,0,76,32,0,0,235,60,0,0,200,7,0,0,0,0,0,0,76,32,0,0,50,61,0,0,112,8,0,0,0,0,0,0,76,32,0,0,76,61,0,0,88,1,0,0,0,0,0,0,76,32,0,0,239,61,0,0,168,7,0,0,0,0,0,0,76,32,0,0,212,62,0,0,160,8,0,0,0,0,0,0,36,32,0,0,242,62,0,0,76,32,0,0,32,63,0,0,80,1,0,0,0,0,0,0,76,32,0,0,111,63,0,0,144,7,0,0,0,0,0,0,76,32,0,0,130,63,0,0,216,8,0,0,0,0,0,0,36,32,0,0,158,63,0,0,76,32,0,0,179,63,0,0,240,1,0,0,0,0,0,0,76,32,0,0,250,63,0,0,0,9,0,0,0,0,0,0,36,32,0,0,26,64,0,0,76,32,0,0,110,65,0,0,24,9,0,0,0,0,0,0,36,32,0,0,133,65,0,0,76,32,0,0,149,65,0,0,48,0,0,0,0,0,0,0,36,32,0,0,50,76,0,0,76,32,0,0,16,76,0,0,88,9,0,0,0,0,0,0,76,32,0,0,189,75,0,0,56,9,0,0,0,0,0,0,76,32,0,0,226,75,0,0,104,9,0,0,0,0,0,0,36,32,0,0,3,76,0,0,76,32,0,0,248,76,0,0,48,9,0,0,0,0,0,0,76,32,0,0,56,77,0,0,88,9,0,0,0,0,0,0,76,32,0,0,20,77,0,0,128,9,0,0,0,0,0,0,76,32,0,0,90,77,0,0,56,9,0,0,0,0,0,0,0,0,0,0,32,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,16,0,0,0,1,0,0,0,4,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,72,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,1,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,4,0,0,0,6,0,0,0,5,0,0,0,3,0,0,0,6,0,0,0,2,0,0,0,7,0,0,0,4,0,0,0,5,0,0,0,0,0,0,0,104,0,0,0,7,0,0,0,8,0,0,0,2,0,0,0,7,0,0,0,2,0,0,0,3,0,0,0,2,0,0,0,4,0,0,0,6,0,0,0,8,0,0,0,9,0,0,0,8,0,0,0,7,0,0,0,9,0,0,0,0,0,0,0,120,0,0,0,10,0,0,0,11,0,0,0,9,0,0,0,8,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,136,0,0,0,10,0,0,0,12,0,0,0,10,0,0,0,9,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,152,0,0,0,10,0,0,0,13,0,0,0,10,0,0,0,10,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,184,0,0,0,14,0,0,0,15,0,0,0,3,0,0,0,2,0,0,0,11,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,12,0,0,0,13,0,0,0,13,0,0,0,11,0,0,0,14,0,0,0,4,0,0,0,14,0,0,0,12,0,0,0,13,0,0,0,0,0,0,0,200,0,0,0,16,0,0,0,17,0,0,0,3,0,0,0,0,0,0,0,224,0,0,0,16,0,0,0,18,0,0,0,4,0,0,0,0,0,0,0,240,0,0,0,19,0,0,0,20,0,0,0,3,0,0,0,15,0,0,0,5,0,0,0,14,0,0,0,15,0,0,0,0,0,0,0,8,1,0,0,21,0,0,0,22,0,0,0,3,0,0,0,1,0,0,0,16,0,0,0,0,0,0,0,24,1,0,0,23,0,0,0,24,0,0,0,4,0,0,0,0,0,0,0,48,1,0,0,25,0,0,0,26,0,0,0,4,0,0,0,6,0,0,0,17,0,0,0,18,0,0,0,7,0,0,0,8,0,0,0,5,0,0,0,16,0,0,0,5,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,6,0,0,0,19,0,0,0,0,0,0,0,64,1,0,0,16,0,0,0,27,0,0,0,7,0,0,0,0,0,0,0,80,1,0,0,28,0,0,0,29,0,0,0,20,0,0,0,8,0,0,0,20,0,0,0,9,0,0,0,21,0,0,0,0,0,0,0,88,1,0,0,30,0,0,0,31,0,0,0,32,0,0,0,33,0,0,0,22,0,0,0,21,0,0,0,34,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,23,0,0,0,35,0,0,0,24,0,0,0,0,0,0,0,96,1,0,0,36,0,0,0,37,0,0,0,9,0,0,0,10,0,0,0,252,255,255,255,96,1,0,0,38,0,0,0,39,0,0,0,11,0,0,0,0,0,0,0,128,1,0,0,40,0,0,0,41,0,0,0,9,0,0,0,0,0,0,0,168,1,0,0,1,0,0,0,25,0,0,0,15,0,0,0,42,0,0,0,43,0,0,0,0,0,0,0,176,1,0,0,44,0,0,0,45,0,0,0,12,0,0,0,1,0,0,0,0,0,0,0,192,1,0,0,44,0,0,0,46,0,0,0,12,0,0,0,2,0,0,0,0,0,0,0,208,1,0,0,10,0,0,0,47,0,0,0,10,0,0,0,26,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,224,1,0,0,48,0,0,0,49,0,0,0,10,0,0,0,1,0,0,0,0,0,0,0,248,1,0,0,44,0,0,0,50,0,0,0,13,0,0,0,1,0,0,0,0,0,0,0,8,2,0,0,44,0,0,0,51,0,0,0,13,0,0,0,2,0,0,0,0,0,0,0,24,2,0,0,52,0,0,0,53,0,0,0,11,0,0,0,2,0,0,0,0,0,0,0,48,2,0,0,40,0,0,0,54,0,0,0,12,0,0,0,0,0,0,0,64,2,0,0,40,0,0,0,55,0,0,0,13,0,0,0,0,0,0,0,80,2,0,0,56,0,0,0,57,0,0,0,16,0,0,0,17,0,0,0,1,0,0,0,0,0,0,0,96,2,0,0,58,0,0,0,59,0,0,0,5,0,0,0,2,0,0,0,27,0,0,0,0,0,0,0,112,2,0,0,10,0,0,0,60,0,0,0,10,0,0,0,28,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,128,2,0,0,61,0,0,0,62,0,0,0,6,0,0,0,3,0,0,0,29,0,0,0,0,0,0,0,144,2,0,0,10,0,0,0,63,0,0,0,18,0,0,0,30,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,168,2,0,0,64,0,0,0,65,0,0,0,7,0,0,0,4,0,0,0,31,0,0,0,0,0,0,0,184,2,0,0,66,0,0,0,67,0,0,0,14,0,0,0,0,0,0,0,200,2,0,0,68,0,0,0,69,0,0,0,15,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,32,0,0,0,22,0,0,0,1,0,0,0,23,0,0,0,33,0,0,0,2,0,0,0,2,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,20,0,0,0,21,0,0,0,1,0,0,0,16,0,0,0,17,0,0,0,25,0,0,0,22,0,0,0,14,0,0,0,26,0,0,0,27,0,0,0,18,0,0,0,23,0,0,0,28,0,0,0,19,0,0,0,1,0,0,0,20,0,0,0,0,0,0,0,216,2,0,0,44,0,0,0,70,0,0,0,21,0,0,0,0,0,0,0,232,2,0,0,71,0,0,0,72,0,0,0,5,0,0,0,0,0,0,0,248,2,0,0,73,0,0,0,74,0,0,0,8,0,0,0,5,0,0,0,35,0,0,0,0,0,0,0,8,3,0,0,56,0,0,0,75,0,0,0,24,0,0,0,25,0,0,0,2,0,0,0,0,0,0,0,32,3,0,0,56,0,0,0,76,0,0,0,26,0,0,0,27,0,0,0,3,0,0,0,0,0,0,0,48,3,0,0,56,0,0,0,77,0,0,0,16,0,0,0,17,0,0,0,4,0,0,0,0,0,0,0,64,3,0,0,78,0,0,0,79,0,0,0,9,0,0,0,6,0,0,0,36,0,0,0,0,0,0,0,80,3,0,0,80,0,0,0,81,0,0,0,29,0,0,0,30,0,0,0,11,0,0,0,31,0,0,0,0,0,0,0,104,3,0,0,82,0,0,0,83,0,0,0,6,0,0,0,0,0,0,0,120,3,0,0,82,0,0,0,84,0,0,0,7,0,0,0,0,0,0,0,136,3,0,0,82,0,0,0,85,0,0,0,8,0,0,0,0,0,0,0,152,3,0,0,82,0,0,0,86,0,0,0,9,0,0,0,0,0,0,0,168,3,0,0,82,0,0,0,87,0,0,0,10,0,0,0,0,0,0,0,184,3,0,0,82,0,0,0,88,0,0,0,11,0,0,0,0,0,0,0,200,3,0,0,82,0,0,0,89,0,0,0,12,0,0,0,0,0,0,0,216,3,0,0,82,0,0,0,90,0,0,0,13,0,0,0,0,0,0,0,232,3,0,0,82,0,0,0,91,0,0,0,14,0,0,0,0,0,0,0,248,3,0,0,82,0,0,0,92,0,0,0,15,0,0,0,0,0,0,0,8,4,0,0,93,0,0,0,94,0,0,0,10,0,0,0,7,0,0,0,37,0,0,0,0,0,0,0,24,4,0,0,95,0,0,0,96,0,0,0,20,0,0,0,8,0,0,0,20,0,0,0,9,0,0,0,21,0,0,0,28,0,0,0,22,0,0,0,0,0,0,0,40,4,0,0,97,0,0,0,98,0,0,0,20,0,0,0,8,0,0,0,20,0,0,0,9,0,0,0,21,0,0,0,29,0,0,0,23,0,0,0,0,0,0,0,56,4,0,0,99,0,0,0,100,0,0,0,12,0,0,0,13,0,0,0,32,0,0,0,0,0,0,0,64,4,0,0,56,0,0,0,101,0,0,0,16,0,0,0,17,0,0,0,5,0,0,0,0,0,0,0,80,4,0,0,102,0,0,0,103,0,0,0,30,0,0,0,38,0,0,0,0,0,0,0,88,4,0,0,104,0,0,0,105,0,0,0,11,0,0,0,8,0,0,0,39,0,0,0,0,0,0,0,104,4,0,0,106,0,0,0,107,0,0,0,12,0,0,0,9,0,0,0,40,0,0,0,0,0,0,0,120,4,0,0,23,0,0,0,108,0,0,0,13,0,0,0,0,0,0,0,136,4,0,0,68,0,0,0,109,0,0,0,24,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,41,0,0,0,22,0,0,0,2,0,0,0,33,0,0,0,33,0,0,0,3,0,0,0,2,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,31,0,0,0,32,0,0,0,1,0,0,0,25,0,0,0,17,0,0,0,34,0,0,0,33,0,0,0,14,0,0,0,35,0,0,0,36,0,0,0,26,0,0,0,34,0,0,0,37,0,0,0,27,0,0,0,2,0,0,0,35,0,0,0,0,0,0,0,152,4,0,0,110,0,0,0,111,0,0,0,28,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,42,0,0,0,38,0,0,0,3,0,0,0,39,0,0,0,33,0,0,0,4,0,0,0,3,0,0,0,40,0,0,0,14,0,0,0,34,0,0,0,29,0,0,0,36,0,0,0,37,0,0,0,43,0,0,0,44,0,0,0,0,0,0,0,168,4,0,0,112,0,0,0,113,0,0,0,38,0,0,0,0,0,0,0,184,4,0,0,112,0,0,0,114,0,0,0,39,0,0,0,0,0,0,0,200,4,0,0,112,0,0,0,115,0,0,0,40,0,0,0,0,0,0,0,216,4,0,0,116,0,0,0,117,0,0,0,30,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,45,0,0,0,22,0,0,0,4,0,0,0,41,0,0,0,46,0,0,0,5,0,0,0,2,0,0,0,42,0,0,0,15,0,0,0,34,0,0,0,20,0,0,0,41,0,0,0,1,0,0,0,31,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,232,4,0,0,116,0,0,0,118,0,0,0,30,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,45,0,0,0,22,0,0,0,4,0,0,0,44,0,0,0,46,0,0,0,5,0,0,0,2,0,0,0,42,0,0,0,15,0,0,0,34,0,0,0,20,0,0,0,41,0,0,0,1,0,0,0,31,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,248,4,0,0,116,0,0,0,119,0,0,0,30,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,45,0,0,0,22,0,0,0,4,0,0,0,45,0,0,0,46,0,0,0,5,0,0,0,2,0,0,0,42,0,0,0,15,0,0,0,34,0,0,0,20,0,0,0,41,0,0,0,1,0,0,0,31,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,16,5,0,0,120,0,0,0,121,0,0,0,32,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,47,0,0,0,46,0,0,0,5,0,0,0,47,0,0,0,33,0,0,0,6,0,0,0,4,0,0,0,48,0,0,0,16,0,0,0,34,0,0,0,48,0,0,0,122,0,0,0,0,0,0,0,48,5,0,0,116,0,0,0,123,0,0,0,33,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,49,0,0,0,22,0,0,0,6,0,0,0,49,0,0,0,50,0,0,0,2,0,0,0,2,0,0,0,50,0,0,0,17,0,0,0,34,0,0,0,43,0,0,0,44,0,0,0,1,0,0,0,34,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,64,5,0,0,116,0,0,0,124,0,0,0,33,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,49,0,0,0,22,0,0,0,6,0,0,0,51,0,0,0,51,0,0,0,2,0,0,0,2,0,0,0,50,0,0,0,17,0,0,0,34,0,0,0,43,0,0,0,44,0,0,0,1,0,0,0,34,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,80,5,0,0,116,0,0,0,125,0,0,0,33,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,49,0,0,0,22,0,0,0,6,0,0,0,52,0,0,0,52,0,0,0,2,0,0,0,2,0,0,0,50,0,0,0,17,0,0,0,34,0,0,0,43,0,0,0,44,0,0,0,1,0,0,0,34,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,96,5,0,0,126,0,0,0,127,0,0,0,35,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,53,0,0,0,22,0,0,0,7,0,0,0,53,0,0,0,33,0,0,0,2,0,0,0,2,0,0,0,54,0,0,0,18,0,0,0,34,0,0,0,45,0,0,0,46,0,0,0,2,0,0,0,36,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,14,0,0,0,55,0,0,0,56,0,0,0,37,0,0,0,47,0,0,0,57,0,0,0,38,0,0,0,3,0,0,0,0,0,0,0,128,5,0,0,128,0,0,0,129,0,0,0,0,0,0,0,152,5,0,0,68,0,0,0,130,0,0,0,35,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,54,0,0,0,58,0,0,0,7,0,0,0,59,0,0,0,33,0,0,0,2,0,0,0,2,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,48,0,0,0,49,0,0,0,1,0,0,0,39,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,14,0,0,0,60,0,0,0,61,0,0,0,40,0,0,0,50,0,0,0,62,0,0,0,41,0,0,0,4,0,0,0,0,0,0,0,168,5,0,0,131,0,0,0,132,0,0,0,42,0,0,0,0,0,0,0,184,5,0,0,116,0,0,0,133,0,0,0,43,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,55,0,0,0,22,0,0,0,8,0,0,0,63,0,0,0,56,0,0,0,7,0,0,0,2,0,0,0,64,0,0,0,19,0,0,0,34,0,0,0,51,0,0,0,52,0,0,0,1,0,0,0,44,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,5,0,0,0,0,0,0,0,200,5,0,0,116,0,0,0,134,0,0,0,43,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,55,0,0,0,22,0,0,0,8,0,0,0,65,0,0,0,56,0,0,0,7,0,0,0,2,0,0,0,64,0,0,0,19,0,0,0,34,0,0,0,51,0,0,0,53,0,0,0,1,0,0,0,45,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,6,0,0,0,0,0,0,0,216,5,0,0,116,0,0,0,135,0,0,0,43,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,55,0,0,0,22,0,0,0,8,0,0,0,66,0,0,0,56,0,0,0,7,0,0,0,2,0,0,0,64,0,0,0,19,0,0,0,34,0,0,0,51,0,0,0,54,0,0,0,1,0,0,0,46,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,7,0,0,0,0,0,0,0,232,5,0,0,136,0,0,0,137,0,0,0,3,0,0,0,15,0,0,0,5,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,0,0,0,0,248,5,0,0,131,0,0,0,138,0,0,0,47,0,0,0,0,0,0,0,8,6,0,0,131,0,0,0,139,0,0,0,48,0,0,0,0,0,0,0,24,6,0,0,68,0,0,0,140,0,0,0,33,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,32,0,0,0,22,0,0,0,7,0,0,0,1,0,0,0,33,0,0,0,2,0,0,0,2,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,20,0,0,0,55,0,0,0,1,0,0,0,49,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,14,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,56,6,0,0,116,0,0,0,141,0,0,0,50,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,32,0,0,0,22,0,0,0,9,0,0,0,67,0,0,0,33,0,0,0,8,0,0,0,8,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,56,0,0,0,57,0,0,0,1,0,0,0,51,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,72,6,0,0,142,0,0,0,143,0,0,0,52,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,57,0,0,0,68,0,0,0,10,0,0,0,69,0,0,0,33,0,0,0,4,0,0,0,3,0,0,0,70,0,0,0,20,0,0,0,34,0,0,0,53,0,0,0,0,0,0,0,112,6,0,0,144,0,0,0,145,0,0,0,54,0,0,0,1,0,0,0,2,0,0,0,58,0,0,0,59,0,0,0,71,0,0,0,60,0,0,0,61,0,0,0,72,0,0,0,58,0,0,0,59,0,0,0,73,0,0,0,21,0,0,0,0,0,0,0,128,6,0,0,146,0,0,0,147,0,0,0,54,0,0,0,1,0,0,0,2,0,0,0,58,0,0,0,59,0,0,0,71,0,0,0,62,0,0,0,63,0,0,0,72,0,0,0,58,0,0,0,59,0,0,0,73,0,0,0,21,0,0,0,0,0,0,0,144,6,0,0,148,0,0,0,149,0,0,0,28,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,64,0,0,0,38,0,0,0,3,0,0,0,74,0,0,0,33,0,0,0,4,0,0,0,3,0,0,0,75,0,0,0,22,0,0,0,34,0,0,0,55,0,0,0,36,0,0,0,37,0,0,0,0,0,0,0,160,6,0,0,131,0,0,0,150,0,0,0,56,0,0,0,0,0,0,0,176,6,0,0,44,0,0,0,151,0,0,0,57,0,0,0,0,0,0,0,192,6,0,0,152,0,0,0,153,0,0,0,1,0,0,0,0,0,0,0,208,6,0,0,56,0,0,0,154,0,0,0,60,0,0,0,61,0,0,0,6,0,0,0,0,0,0,0,232,6,0,0,152,0,0,0,155,0,0,0,2,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,248,6,0,0,156,0,0,0,157,0,0,0,1,0,0,0,0,0,0,0,16,7,0,0,23,0,0,0,158,0,0,0,14,0,0,0,0,0,0,0,32,7,0,0,156,0,0,0,159,0,0,0,2,0,0,0,0,0,0,0,48,7,0,0,56,0,0,0,160,0,0,0,62,0,0,0,63,0,0,0,7,0,0,0,10,215,163,60,0,0,0,0,80,7,0,0,44,0,0,0,161,0,0,0,13,0,0,0,1,0,0,0,0,0,0,0,96,7,0,0,152,0,0,0,162,0,0,0,3,0,0,0,0,0,0,0,112,7,0,0,163,0,0,0,164,0,0,0,2,0,0,0,65,0,0,0,66,0,0,0,3,0,0,0,67,0,0,0,68,0,0,0,69,0,0,0,4,0,0,0,76,0,0,0,165,0,0,0,77,0,0,0,70,0,0,0,0,0,0,0,152,7,0,0,52,0,0,0,166,0,0,0,15,0,0,0,3,0,0,0,0,0,0,0,184,7,0,0,167,0,0,0,168,0,0,0,169,0,0,0,1,0,0,0,71,0,0,0,72,0,0,0,8,0,0,0,1,0,0,0,4,0,0,0,78,0,0,0,23,0,0,0,64,0,0,0,0,0,0,0,200,7,0,0,167,0,0,0,170,0,0,0,171,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,9,0,0,0,1,0,0,0,1,0,0,0,79,0,0,0,24,0,0,0,0,0,0,0,232,7,0,0,167,0,0,0,172,0,0,0,173,0,0,0,1,0,0,0,73,0,0,0,74,0,0,0,9,0,0,0,2,0,0,0,5,0,0,0,80,0,0,0,25,0,0,0,174,0,0,0,81,0,0,0,0,0,0,0,248,7,0,0,167,0,0,0,175,0,0,0,176,0,0,0,1,0,0,0,75,0,0,0,76,0,0,0,9,0,0,0,3,0,0,0,6,0,0,0,82,0,0,0,26,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,8,8,0,0,167,0,0,0,177,0,0,0,173,0,0,0,1,0,0,0,73,0,0,0,77,0,0,0,9,0,0,0,2,0,0,0,5,0,0,0,83,0,0,0,27,0,0,0,174,0,0,0,81,0,0,0,65,0,0,0,0,0,0,0,24,8,0,0,167,0,0,0,178,0,0,0,179,0,0,0,1,0,0,0,78,0,0,0,79,0,0,0,9,0,0,0,4,0,0,0,7,0,0,0,84,0,0,0,28,0,0,0,85,0,0,0,0,0,0,0,40,8,0,0,167,0,0,0,180,0,0,0,181,0,0,0,1,0,0,0,80,0,0,0,81,0,0,0,9,0,0,0,5,0,0,0,8,0,0,0,86,0,0,0,29,0,0,0,87,0,0,0,0,0,0,0,56,8,0,0,182,0,0,0,183,0,0,0,66,0,0,0,1,0,0,0,67,0,0,0,184,0,0,0,88,0,0,0,58,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,80,8,0,0,167,0,0,0,185,0,0,0,171,0,0,0,1,0,0,0,82,0,0,0,83,0,0,0,9,0,0,0,6,0,0,0,9,0,0,0,89,0,0,0,30,0,0,0,90,0,0,0,0,0,0,0,96,8,0,0,186,0,0,0,187,0,0,0,32,0,0,0,33,0,0,0,22,0,0,0,21,0,0,0,188,0,0,0,6,0,0,0,7,0,0,0,59,0,0,0,84,0,0,0,35,0,0,0,85,0,0,0,1,0,0,0,68,0,0,0,86,0,0,0,87,0,0,0,88,0,0,0,89,0,0,0,90,0,0,0,189,0,0,0,91,0,0,0,60,0,0,0,92,0,0,0,93,0,0,0,91,0,0,0,92,0,0,0,16,0,0,0,17,0,0,0,93,0,0,0,190,0,0,0,94,0,0,0,95,0,0,0,96,0,0,0,97,0,0,0,9,0,0,0,10,0,0,0,191,0,0,0,98,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,99,0,0,0,192,0,0,0,100,0,0,0,14,0,0,0,0,0,0,0,168,7,0,0,52,0,0,0,193,0,0,0,15,0,0,0,10,0,0,0,0,0,0,0,128,8,0,0,52,0,0,0,194,0,0,0,18,0,0,0,11,0,0,0,0,0,0,0,144,8,0,0,195,0,0,0,196,0,0,0,3,0,0,0,0,0,0,0,168,8,0,0,197,0,0,0,198,0,0,0,20,0,0,0,8,0,0,0,94,0,0,0,31,0,0,0,101,0,0,0,0,0,0,0,184,8,0,0,199,0,0,0,200,0,0,0,5,0,0,0,102,0,0,0,15,0,0,0,16,0,0,0,61,0,0,0,0,0,0,0,200,8,0,0,201,0,0,0,202,0,0,0,17,0,0,0,0,0,0,0,224,8,0,0,48,0,0,0,203,0,0,0,19,0,0,0,12,0,0,0,28,88,0,0,0,0,0,0,240,8,0,0,204,0,0,0,205,0,0,0,20,0,0,0,1,0,0,0,0,0,0,0,8,9,0,0,206,0,0,0,207,0,0,0,103,0,0,0,104,0,0,0,0,0,0,0,32,9,0,0,208,0,0,0,209,0,0,0,32,0,0,0,18,0,0,0,69,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,0,0,0,34,0,0,0,41,91,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,56,9,0,0,210,0,0,0,211,0,0,0,212,0,0,0,213,0,0,0,35,0,0,0,4,0,0,0,15,0,0,0,62,0,0,0,0,0,0,0,72,9,0,0,210,0,0,0,214,0,0,0,212,0,0,0,213,0,0,0,35,0,0,0,5,0,0,0,16,0,0,0,63,0,0,0,0,0,0,0,112,9,0,0,215,0,0,0,216,0,0,0,96,0,0,0,0,0,0,0,160,9,0,0,210,0,0,0,217,0,0,0,212,0,0,0,213,0,0,0,35,0,0,0,6,0,0,0,17,0,0,0,64,0,0,0,49,50,98,116,65,120,105,115,83,119,101,101,112,51,0,50,48,98,116,65,120,105,115,83,119,101,101,112,51,73,110,116,101,114,110,97,108,73,116,69,0,50,49,98,116,66,114,111,97,100,112,104,97,115,101,73,110,116,101,114,102,97,99,101,0,49,53,98,116,78,117,108,108,80,97,105,114,67,97,99,104,101,0,50,50,98,116,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,0,50,53,98,116,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,108,108,98,97,99,107,0,50,48,98,116,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,78,54,98,116,68,98,118,116,56,73,67,111,108,108,105,100,101,69,0,49,54,98,116,68,98,118,116,66,114,111,97,100,112,104,97,115,101,0,49,56,98,116,68,98,118,116,84,114,101,101,67,111,108,108,105,100,101,114,0,49,57,66,114,111,97,100,112,104,97,115,101,82,97,121,84,101,115,116,101,114,0,50,48,66,114,111,97,100,112,104,97,115,101,65,97,98,98,84,101,115,116,101,114,0,49,50,98,116,68,105,115,112,97,116,99,104,101,114,0,50,49,98,116,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,0,90,78,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,51,55,114,101,109,111,118,101,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,115,67,111,110,116,97,105,110,105,110,103,80,114,111,120,121,69,80,49,55,98,116,66,114,111,97,100,112,104,97,115,101,80,114,111,120,121,80,49,50,98,116,68,105,115,112,97,116,99,104,101,114,69,49,56,82,101,109,111,118,101,80,97,105,114,67,97,108,108,98,97,99,107,0,49,55,98,116,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,90,78,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,49,57,99,108,101,97,110,80,114,111,120,121,70,114,111,109,80,97,105,114,115,69,80,49,55,98,116,66,114,111,97,100,112,104,97,115,101,80,114,111,120,121,80,49,50,98,116,68,105,115,112,97,116,99,104,101,114,69,49,55,67,108,101,97,110,80,97,105,114,67,97,108,108,98,97,99,107,0,49,52,98,116,81,117,97,110,116,105,122,101,100,66,118,104,0,98,116,79,112,116,105,109,105,122,101,100,66,118,104,78,111,100,101,68,97,116,97,0,98,116,81,117,97,110,116,105,122,101,100,66,118,104,78,111,100,101,68,97,116,97,0,98,116,66,118,104,83,117,98,116,114,101,101,73,110,102,111,68,97,116,97,0,98,116,81,117,97,110,116,105,122,101,100,66,118,104,70,108,111,97,116,68,97,116,97,0,51,48,98,116,65,99,116,105,118,97,116,105,110,103,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,50,54,98,116,66,111,120,66,111,120,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,49,54,98,116,66,111,120,66,111,120,68,101,116,101,99,116,111,114,0,51,54,98,116,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,111,114,73,110,116,101,114,102,97,99,101,0,50,49,98,116,67,111,108,108,105,115,105,111,110,68,105,115,112,97,116,99,104,101,114,0,50,51,98,116,67,111,108,108,105,115,105,111,110,80,97,105,114,67,97,108,108,98,97,99,107,0,49,55,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,0,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,70,108,111,97,116,68,97,116,97,0,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,0,117,112,100,97,116,101,65,97,98,98,115,0,1,79,118,101,114,102,108,111,119,32,105,110,32,65,65,66,66,44,32,111,98,106,101,99,116,32,114,101,109,111,118,101,100,32,102,114,111,109,32,115,105,109,117,108,97,116,105,111,110,0,73,102,32,121,111,117,32,99,97,110,32,114,101,112,114,111,100,117,99,101,32,116,104,105,115,44,32,112,108,101,97,115,101,32,101,109,97,105,108,32,98,117,103,115,64,99,111,110,116,105,110,117,111,117,115,112,104,121,115,105,99,115,46,99,111,109,10,0,80,108,101,97,115,101,32,105,110,99,108,117,100,101,32,97,98,111,118,101,32,105,110,102,111,114,109,97,116,105,111,110,44,32,121,111,117,114,32,80,108,97,116,102,111,114,109,44,32,118,101,114,115,105,111,110,32,111,102,32,79,83,46,10,0,84,104,97,110,107,115,46,10,0,99,97,108,99,117,108,97,116,101,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,115,0,49,55,68,101,98,117,103,68,114,97,119,99,97,108,108,98,97,99,107,0,49,57,98,116,83,105,110,103,108,101,82,97,121,67,97,108,108,98,97,99,107,0,50,51,98,116,66,114,111,97,100,112,104,97,115,101,82,97,121,67,97,108,108,98,97,99,107,0,50,52,98,116,66,114,111,97,100,112,104,97,115,101,65,97,98,98,67,97,108,108,98,97,99,107,0,78,49,50,98,116,67,111,110,118,101,120,67,97,115,116,49,48,67,97,115,116,82,101,115,117,108,116,69,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,50,57,66,114,105,100,103,101,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,50,57,66,114,105,100,103,101,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,95,48,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,57,82,97,121,84,101,115,116,101,114,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,49,53,76,111,99,97,108,73,110,102,111,65,100,100,101,114,50,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,112,101,114],"i8",Je,ce.GLOBAL_BASE),ft([102,111,114,109,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,105,111,110,0,100,105,115,112,97,116,99,104,65,108,108,67,111,108,108,105,115,105,111,110,80,97,105,114,115,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,51,50,66,114,105,100,103,101,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,51,50,66,114,105,100,103,101,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,95,48,0,99,111,110,118,101,120,83,119,101,101,112,67,111,109,112,111,117,110,100,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,49,52,76,111,99,97,108,73,110,102,111,65,100,100,101,114,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,99,111,110,118,101,120,83,119,101,101,112,84,101,115,116,0,50,49,98,116,83,105,110,103,108,101,83,119,101,101,112,67,97,108,108,98,97,99,107,0,50,51,98,116,83,105,110,103,108,101,67,111,110,116,97,99,116,67,97,108,108,98,97,99,107,0,50,51,98,116,66,114,105,100,103,101,100,77,97,110,105,102,111,108,100,82,101,115,117,108,116,0,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,50,50,98,116,67,111,109,112,111,117,110,100,76,101,97,102,67,97,108,108,98,97,99,107,0,51,54,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,51,48,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,76,101,97,102,67,97,108,108,98,97,99,107,0,51,48,98,116,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,67,114,101,97,116,101,70,117,110,99,0,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,50,52,98,116,67,111,110,118,101,120,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,49,53,98,116,84,114,105,97,110,103,108,101,83,104,97,112,101,0,84,114,105,97,110,103,108,101,0,98,116,67,111,110,118,101,120,73,110,116,101,114,110,97,108,83,104,97,112,101,68,97,116,97,0,90,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,50,49,99,97,108,99,117,108,97,116,101,84,105,109,101,79,102,73,109,112,97,99,116,69,80,49,55,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,83,49,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,51,49,76,111,99,97,108,84,114,105,97,110,103,108,101,83,112,104,101,114,101,67,97,115,116,67,97,108,108,98,97,99,107,0,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,0,90,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,54,112,114,111,99,101,115,115,67,111,108,108,105,115,105,111,110,69,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,83,50,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,49,51,98,116,68,117,109,109,121,82,101,115,117,108,116,0,78,51,54,98,116,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,111,114,73,110,116,101,114,102,97,99,101,54,82,101,115,117,108,116,69,0,90,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,54,112,114,111,99,101,115,115,67,111,108,108,105,115,105,111,110,69,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,83,50,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,50,49,98,116,87,105,116,104,111,117,116,77,97,114,103,105,110,82,101,115,117,108,116,0,50,52,98,116,80,101,114,116,117,114,98,101,100,67,111,110,116,97,99,116,82,101,115,117,108,116,0,51,49,98,116,67,111,110,118,101,120,80,108,97,110,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,51,49,98,116,68,101,102,97,117,108,116,67,111,108,108,105,115,105,111,110,67,111,110,102,105,103,117,114,97,116,105,111,110,0,50,52,98,116,67,111,108,108,105,115,105,111,110,67,111,110,102,105,103,117,114,97,116,105,111,110,0,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,55,83,119,97,112,112,101,100,67,114,101,97,116,101,70,117,110,99,69,0,78,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,54,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,55,83,119,97,112,112,101,100,67,114,101,97,116,101,70,117,110,99,69,0,78,49,54,98,116,69,109,112,116,121,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,50,98,116,83,112,104,101,114,101,83,112,104,101,114,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,52,98,116,83,112,104,101,114,101,84,114,105,97,110,103,108,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,50,54,98,116,66,111,120,66,111,120,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,49,98,116,67,111,110,118,101,120,80,108,97,110,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,49,54,98,116,69,109,112,116,121,65,108,103,111,114,105,116,104,109,0,49,51,98,116,71,104,111,115,116,79,98,106,101,99,116,0,50,52,98,116,80,97,105,114,67,97,99,104,105,110,103,71,104,111,115,116,79,98,106,101,99,116,0,50,51,98,116,72,97,115,104,101,100,83,105,109,112,108,101,80,97,105,114,67,97,99,104,101,0,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,0,50,53,98,116,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,77,97,110,97,103,101,114,0,105,115,108,97,110,100,85,110,105,111,110,70,105,110,100,65,110,100,81,117,105,99,107,83,111,114,116,0,112,114,111,99,101,115,115,73,115,108,97,110,100,115,0,51,50,98,116,83,112,104,101,114,101,83,112,104,101,114,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,51,52,98,116,83,112,104,101,114,101,84,114,105,97,110,103,108,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,50,50,83,112,104,101,114,101,84,114,105,97,110,103,108,101,68,101,116,101,99,116,111,114,0,49,48,98,116,66,111,120,83,104,97,112,101,0,66,111,120,0,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,66,86,72,84,82,73,65,78,71,76,69,77,69,83,72,0,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,68,97,116,97,0,90,78,75,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,57,112,114,111,99,101,115,115,65,108,108,84,114,105,97,110,103,108,101,115,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,90,78,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,52,112,101,114,102,111,114,109,82,97,121,99,97,115,116,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,90,78,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,55,112,101,114,102,111,114,109,67,111,110,118,101,120,99,97,115,116,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,83,52,95,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,49,52,98,116,67,97,112,115,117,108,101,83,104,97,112,101,0,67,97,112,115,117,108,101,83,104,97,112,101,0,98,116,67,97,112,115,117,108,101,83,104,97,112,101,68,97,116,97,0,49,53,98,116,67,97,112,115,117,108,101,83,104,97,112,101,88,0,67,97,112,115,117,108,101,88,0,49,53,98,116,67,97,112,115,117,108,101,83,104,97,112,101,90,0,67,97,112,115,117,108,101,90,0,49,54,98,116,67,111,108,108,105,115,105,111,110,83,104,97,112,101,0,98,116,67,111,108,108,105,115,105,111,110,83,104,97,112,101,68,97,116,97,0,49,53,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,0,67,111,109,112,111,117,110,100,0,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,67,104,105,108,100,68,97,116,97,0,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,68,97,116,97,0,49,52,98,116,67,111,110,99,97,118,101,83,104,97,112,101,0,49,49,98,116,67,111,110,101,83,104,97,112,101,0,67,111,110,101,0,98,116,67,111,110,101,83,104,97,112,101,68,97,116,97,0,49,50,98,116,67,111,110,101,83,104,97,112,101,90,0,67,111,110,101,90,0,49,50,98,116,67,111,110,101,83,104,97,112,101,88,0,67,111,110,101,88,0,49,55,98,116,67,111,110,118,101,120,72,117,108,108,83,104,97,112,101,0,67,111,110,118,101,120,0,98,116,67,111,110,118,101,120,72,117,108,108,83,104,97,112,101,68,97,116,97,0,50,49,98,116,67,111,110,118,101,120,73,110,116,101,114,110,97,108,83,104,97,112,101,0,49,56,98,116,67,111,110,118,101,120,80,111,108,121,104,101,100,114,111,110,0,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,0,50,53,98,116,67,111,110,118,101,120,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,67,111,110,118,101,120,84,114,105,109,101,115,104,0,50,54,76,111,99,97,108,83,117,112,112,111,114,116,86,101,114,116,101,120,67,97,108,108,98,97,99,107,0,49,53,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,0,67,121,108,105,110,100,101,114,89,0,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,68,97,116,97,0,49,54,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,88,0,67,121,108,105,110,100,101,114,88,0,49,54,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,90,0,67,121,108,105,110,100,101,114,90,0,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,0,90,78,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,53,98,117,105,108,100,69,80,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,98,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,57,81,117,97,110,116,105,122,101,100,78,111,100,101,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,90,78,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,53,98,117,105,108,100,69,80,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,98,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,48,78,111,100,101,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,50,51,98,116,80,111,108,121,104,101,100,114,97,108,67,111,110,118,101,120,83,104,97,112,101,0,51,52,98,116,80,111,108,121,104,101,100,114,97,108,67,111,110,118,101,120,65,97,98,98,67,97,99,104,105,110,103,83,104,97,112,101,0,49,51,98,116,83,112,104,101,114,101,83,104,97,112,101,0,83,80,72,69,82,69,0,49,56,98,116,83,116,97,116,105,99,80,108,97,110,101,83,104,97,112,101,0,83,84,65,84,73,67,80,76,65,78,69,0,98,116,83,116,97,116,105,99,80,108,97,110,101,83,104,97,112,101,68,97,116,97,0,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,0,98,116,73,110,116,73,110,100,101,120,68,97,116,97,0,98,116,83,104,111,114,116,73,110,116,73,110,100,101,120,84,114,105,112,108,101,116,68,97,116,97,0,98,116,67,104,97,114,73,110,100,101,120,84,114,105,112,108,101,116,68,97,116,97,0,98,116,86,101,99,116,111,114,51,68,111,117,98,108,101,68,97,116,97,0,98,116,77,101,115,104,80,97,114,116,68,97,116,97,0,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,68,97,116,97,0,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,51,49,98,116,73,110,116,101,114,110,97,108,84,114,105,97,110,103,108,101,73,110,100,101,120,67,97,108,108,98,97,99,107,0,50,54,98,116,84,114,105,97,110,103,108,101,73,110,100,101,120,86,101,114,116,101,120,65,114,114,97,121,0,49,52,98,116,84,114,105,97,110,103,108,101,77,101,115,104,0,49,57,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,84,82,73,65,78,71,76,69,77,69,83,72,0,90,78,75,49,57,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,57,112,114,111,99,101,115,115,65,108,108,84,114,105,97,110,103,108,101,115,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,49,54,70,105,108,116,101,114,101,100,67,97,108,108,98,97,99,107,0,50,49,83,117,112,112,111,114,116,86,101,114,116,101,120,67,97,108,108,98,97,99,107,0,50,55,98,116,67,111,110,116,105,110,117,111,117,115,67,111,110,118,101,120,67,111,108,108,105,115,105,111,110,0,49,54,98,116,80,111,105,110,116,67,111,108,108,101,99,116,111,114,0,49,50,98,116,67,111,110,118,101,120,67,97,115,116,0,49,53,98,116,71,106,107,67,111,110,118,101,120,67,97,115,116,0,51,48,98,116,71,106,107,69,112,97,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,51,48,98,116,67,111,110,118,101,120,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,49,55,98,116,71,106,107,80,97,105,114,68,101,116,101,99,116,111,114,0,51,51,98,116,77,105,110,107,111,119,115,107,105,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,90,78,51,51,98,116,77,105,110,107,111,119,115,107,105,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,49,50,99,97,108,99,80,101,110,68,101,112,116,104,69,82,50,50,98,116,86,111,114,111,110,111,105,83,105,109,112,108,101,120,83,111,108,118,101,114,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,83,52,95,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,55,95,82,57,98,116,86,101,99,116,111,114,51,83,57,95,83,57,95,80,49,50,98,116,73,68,101,98,117,103,68,114,97,119,69,50,48,98,116,73,110,116,101,114,109,101,100,105,97,116,101,82,101,115,117,108,116,0,50,53,98,116,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,0,50,56,98,116,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,0,50,50,98,116,83,117,98,115,105,109,112,108,101,120,67,111,110,118,101,120,67,97,115,116,0,51,48,98,116,75,105,110,101,109,97,116,105,99,67,104,97,114,97,99,116,101,114,67,111,110,116,114,111,108,108,101,114,0,51,48,98,116,67,104,97,114,97,99,116,101,114,67,111,110,116,114,111,108,108,101,114,73,110,116,101,114,102,97,99,101,0,49,55,98,116,65,99,116,105,111,110,73,110,116,101,114,102,97,99,101,0,52,51,98,116,75,105,110,101,109,97,116,105,99,67,108,111,115,101,115,116,78,111,116,77,101,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,55,67,108,111,115,101,115,116,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,50,49,98,116,67,111,110,101,84,119,105,115,116,67,111,110,115,116,114,97,105,110,116,0,49,55,98,116,84,121,112,101,100,67,111,110,115,116,114,97,105,110,116,0,49,51,98,116,84,121,112,101,100,79,98,106,101,99,116,0,98,116,67,111,110,101,84,119,105,115,116,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,98,116,71,101,110,101,114,105,99,54,68,111,102,83,112,114,105,110,103,50,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,50,51,98,116,71,101,110,101,114,105,99,54,68,111,102,67,111,110,115,116,114,97,105,110,116,0,98,116,71,101,110,101,114,105,99,54,68,111,102,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,51,48,98,116,71,101,110,101,114,105,99,54,68,111,102,83,112,114,105,110,103,50,67,111,110,115,116,114,97,105,110,116,0,50,57,98,116,71,101,110,101,114,105,99,54,68,111,102,83,112,114,105,110,103,67,111,110,115,116,114,97,105,110,116,0,98,116,71,101,110,101,114,105,99,54,68,111,102,83,112,114,105,110,103,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,49,55,98,116,72,105,110,103,101,67,111,110,115,116,114,97,105,110,116,0,98,116,72,105,110,103,101,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,50,51,98,116,80,111,105,110,116,50,80,111,105,110,116,67,111,110,115,116,114,97,105,110,116,0,98,116,80,111,105,110,116,50,80,111,105,110,116,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,51,53,98,116,83,101,113,117,101,110,116,105,97,108,73,109,112,117,108,115,101,67,111,110,115,116,114,97,105,110,116,83,111,108,118,101,114,0,49,56,98,116,67,111,110,115,116,114,97,105,110,116,83,111,108,118,101,114,0,115,111,108,118,101,71,114,111,117,112,0,115,111,108,118,101,71,114,111,117,112,67,97,99,104,101,70,114,105,101,110,100,108,121,83,101,116,117,112,0,115,111,108,118,101,71,114,111,117,112,67,97,99,104,101,70,114,105,101,110,100,108,121,73,116,101,114,97,116,105,111,110,115,0,49,56,98,116,83,108,105,100,101,114,67,111,110,115,116,114,97,105,110,116,0,98,116,83,108,105,100,101,114,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,98,116,84,121,112,101,100,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,50,51,98,116,68,105,115,99,114,101,116,101,68,121,110,97,109,105,99,115,87,111,114,108,100,0,49,53,98,116,68,121,110,97,109,105,99,115,87,111,114,108,100,0,100,101,98,117,103,68,114,97,119,87,111,114,108,100,0,98,116,68,121,110,97,109,105,99,115,87,111,114,108,100,70,108,111,97,116,68,97,116,97,0,115,116,101,112,83,105,109,117,108,97,116,105,111,110,0,115,121,110,99,104,114,111,110,105,122,101,77,111,116,105,111,110,83,116,97,116,101,115,0,112,114,101,100,105,99,116,85,110,99,111,110,115,116,114,97,105,110,116,77,111,116,105,111,110,0,105,110,116,101,103,114,97,116,101,84,114,97,110,115,102,111,114,109,115,0,67,67,68,32,109,111,116,105,111,110,32,99,108,97,109,112,105,110,103,0,51,52,98,116,67,108,111,115,101,115,116,78,111,116,77,101,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,97,112,112,108,121,32,115,112,101,99,117,108,97,116,105,118,101,32,99,111,110,116,97,99,116,32,114,101,115,116,105,116,117,116,105,111,110,0,117,112,100,97,116,101,65,99,116,105,118,97,116,105,111,110,83,116,97,116,101,0,105,110,116,101,114,110,97,108,83,105,110,103,108,101,83,116,101,112,83,105,109,117,108,97,116,105,111,110,0,99,114,101,97,116,101,80,114,101,100,105,99,116,105,118,101,67,111,110,116,97,99,116,115,0,114,101,108,101,97,115,101,32,112,114,101,100,105,99,116,105,118,101,32,99,111,110,116,97,99,116,32,109,97,110,105,102,111,108,100,115,0,112,114,101,100,105,99,116,105,118,101,32,99,111,110,118,101,120,83,119,101,101,112,84,101,115,116,0,117,112,100,97,116,101,65,99,116,105,111,110,115,0,50,55,73,110,112,108,97,99,101,83,111,108,118,101,114,73,115,108,97,110,100,67,97,108,108,98,97,99,107,0,78,50,53,98,116,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,77,97,110,97,103,101,114,49,52,73,115,108,97,110,100,67,97,108,108,98,97,99,107,69,0,49,49,98,116,82,105,103,105,100,66,111,100,121,0,98,116,82,105,103,105,100,66,111,100,121,70,108,111,97,116,68,97,116,97,0,99,97,108,99,117,108,97,116,101,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,115,0,115,111,108,118,101,67,111,110,115,116,114,97,105,110,116,115,0,49,54,98,116,82,97,121,99,97,115,116,86,101,104,105,99,108,101,0,50,53,98,116,68,101,102,97,117,108,116,86,101,104,105,99,108,101,82,97,121,99,97,115,116,101,114,0,49,56,98,116,86,101,104,105,99,108,101,82,97,121,99,97,115,116,101,114,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,52,67,108,111,115,101,115,116,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,98,116,86,101,99,116,111,114,51,70,108,111,97,116,68,97,116,97,0,82,111,111,116,0,50,57,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,58,58,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,46,39,59,32,114,101,116,117,114,110,32,115,101,108,102,91,39,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,39,93,40,36,49,44,36,50,44,36,51,44,36,52,44,36,53,44,36,54,44,36,55,41,59,32,125,0,50,48,98,116,68,101,102,97,117,108,116,77,111,116,105,111,110,83,116,97,116,101,0,49,51,98,116,77,111,116,105,111,110,83,116,97,116,101,0,49,57,98,116,71,104,111,115,116,80,97,105,114,67,97,108,108,98,97,99,107,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,45,43,32,32,32,48,88,48,120,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,46,0,99,97,110,110,111,116,32,122,101,114,111,32,111,117,116,32,116,104,114,101,97,100,32,118,97,108,117,101,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,99,97,110,110,111,116,32,99,114,101,97,116,101,32,112,116,104,114,101,97,100,32,107,101,121,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,112,116,104,114,101,97,100,95,111,110,99,101,32,102,97,105,108,117,114,101,32,105,110,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,95,102,97,115,116,40,41,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,83,116,57,116,121,112,101,95,105,110,102,111,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,83,116,57,101,120,99,101,112,116,105,111,110,0,117,110,99,97,117,103,104,116,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,58,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,102,111,114,101,105,103,110,32,101,120,99,101,112,116,105,111,110,0,116,101,114,109,105,110,97,116,105,110,103,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,114,101,116,117,114,110,101,100,0,83,116,57,98,97,100,95,97,108,108,111,99,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,57,95,95,112,111,105,110,116,101,114,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,112,98,97,115,101,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0],"i8",Je,ce.GLOBAL_BASE+10240);var lu=N0;N0+=16,p._i64Subtract=cw,p._i64Add=HE;function Co(){return!!Co.uncaught_exception}var E2={last:0,caught:[],infos:{},deAdjust:(function(x){if(!x||E2.infos[x])return x;for(var I in E2.infos){var le=E2.infos[I];if(le.adjusted===x)return I}return x}),addRef:(function(x){if(x){var I=E2.infos[x];I.refcount++}}),decRef:(function(x){if(x){var I=E2.infos[x];se(I.refcount>0),I.refcount--,I.refcount===0&&(I.destructor&&ce.dynCall("vi",I.destructor,[x]),delete E2.infos[x],___cxa_free_exception(x))}}),clearRef:(function(x){if(x){var I=E2.infos[x];I.refcount=0}})};function uu(x){throw E2.last||(E2.last=x),E2.clearRef(E2.deAdjust(x)),x+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function i1(){var x=E2.last;if(!x)return J.setTempRet0(0),0|0;var I=E2.infos[x],le=I.type;if(!le)return J.setTempRet0(0),x|0;var A=Array.prototype.slice.call(arguments);p.___cxa_is_pointer_type(le),i1.buffer||(i1.buffer=n1(4)),ei[i1.buffer>>2]=x,x=i1.buffer;for(var ee=0;ee<A.length;ee++)if(A[ee]&&p.___cxa_can_catch(A[ee],le,x))return x=ei[x>>2],I.adjusted=x,J.setTempRet0(A[ee]),x|0;return x=ei[x>>2],J.setTempRet0(le),x|0}function fu(x,I,le){throw E2.infos[x]={ptr:x,adjusted:x,type:I,destructor:le,refcount:0},E2.last=x,"uncaught_exception"in Co?Co.uncaught_exception++:Co.uncaught_exception=1,x+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}p._memset=aD;function Ue(){}p._bitshift64Shl=Gw;function _t(){p.abort()}function At(x,I){At.seen||(At.seen={}),!(x in At.seen)&&(ce.dynCall("v",I),At.seen[x]=1)}var bt={};function xt(x){return bt[x]||0}var l0=1,M0={EINVAL:22};function H0(x,I){return x==0?M0.EINVAL:(ei[x>>2]=l0,bt[l0]=0,l0++,0)}var L0=ga;function di(x,I){return x in bt?(bt[x]=I,0):M0.EINVAL}function n1(x){var I=ce.dynamicAlloc(x+8);return I+8&4294967288}p._malloc=n1;function Ti(x){return n1(x)}p._bitshift64Ashr=WM,p._bitshift64Lshr=wb;function Y0(){throw ue=!0,"Pure virtual function called!"}function Ui(x,I){c0.push((function(){ce.dynCall("vi",x,[I])})),Ui.level=c0.length}function mn(){se(Ui.level==c0.length,"cannot pop if something else added meanwhile!"),c0.pop(),Ui.level=c0.length}function Qn(x){return Co.uncaught_exception--,E2.caught.push(x),E2.addRef(E2.deAdjust(x)),x}function Hn(x,I,le){return A0.set(A0.subarray(I,I+le),x),x}p._memcpy=Ob;var bi={varargs:0,get:(function(x){bi.varargs+=4;var I=ei[bi.varargs-4>>2];return I}),getStr:(function(){var x=Et(bi.get());return x}),get64:(function(){var x=bi.get(),I=bi.get();return x>=0?se(I===0):se(I===-1),x}),getZero:(function(){se(bi.get()===0)})};function _i(x,I){bi.varargs=I;try{var le=bi.getStreamFromFD();return FS.close(le),0}catch(A){return(typeof FS>"u"||!(A instanceof FS.ErrnoError))&&As(A),-A.errno}}function Nn(x){var I=Nn;I.called||(Pe=dt(Pe),I.called=!0,se(ce.dynamicAlloc),I.alloc=ce.dynamicAlloc,ce.dynamicAlloc=(function(){As("cannot dynamically allocate, sbrk now has control")}));var le=Pe;if(x!=0){var A=I.alloc(x);if(!A)return 4294967295}return le}p._memmove=gM;function en(x){var I=Date.now();return ei[x>>2]=I/1e3|0,ei[x+4>>2]=I%1e3*1e3|0,0}p._llvm_bswap_i32=zN;function cn(){As("trap!")}p._pthread_self=I7;function Vs(x,I){bi.varargs=I;try{var le=bi.getStreamFromFD(),A=bi.get(),ee=bi.get(),e=bi.get(),It=bi.get(),Le=ee;return se(A===0),FS.llseek(le,Le,It),ei[e>>2]=le.position,le.getdents&&Le===0&&It===0&&(le.getdents=null),0}catch(Ii){return(typeof FS>"u"||!(Ii instanceof FS.ErrnoError))&&As(Ii),-Ii.errno}}function p2(x,I){bi.varargs=I;try{var le=bi.get(),A=bi.get(),ee=bi.get(),e=0;p2.buffer||(p2.buffers=[null,[],[]],p2.printChar=(function(Mt,H){var xr=p2.buffers[Mt];se(xr),H===0||H===10?((Mt===1?p.print:p.printErr)(Wt(xr,0)),xr.length=0):xr.push(H)}));for(var It=0;It<ee;It++){for(var Le=ei[A+It*8>>2],Ii=ei[A+(It*8+4)>>2],i=0;i<Ii;i++)p2.printChar(le,A0[Le+i]);e+=Ii}return e}catch(Mt){return(typeof FS>"u"||!(Mt instanceof FS.ErrnoError))&&As(Mt),-Mt.errno}}c0.push((function(){var x=p._fflush;x&&x(0);var I=p2.printChar;if(I){var le=p2.buffers;le[1].length&&I(1,10),le[2].length&&I(2,10)}})),si=oi=ce.alignMemory(N0),Bn=!0,Ye=si+Jt,Pe=ce.alignMemory(Ye);var wo=ft([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",Ie);function On(x,I,le,A,ee,e){try{p.dynCall_viiiii(x,I,le,A,ee,e)}catch(It){if(typeof It!="number"&&It!=="longjmp")throw It;J.setThrew(1,0)}}function z2(x,I,le){try{p.dynCall_vid(x,I,le)}catch(A){if(typeof A!="number"&&A!=="longjmp")throw A;J.setThrew(1,0)}}function tr(x,I){try{p.dynCall_vi(x,I)}catch(le){if(typeof le!="number"&&le!=="longjmp")throw le;J.setThrew(1,0)}}function b2(x,I,le,A,ee,e,It){try{p.dynCall_viiidii(x,I,le,A,ee,e,It)}catch(Le){if(typeof Le!="number"&&Le!=="longjmp")throw Le;J.setThrew(1,0)}}function ir(x,I,le){try{p.dynCall_vii(x,I,le)}catch(A){if(typeof A!="number"&&A!=="longjmp")throw A;J.setThrew(1,0)}}function ya(x,I,le,A,ee,e,It,Le,Ii,i,Mt){try{return p.dynCall_iiiiiiiiiii(x,I,le,A,ee,e,It,Le,Ii,i,Mt)}catch(H){if(typeof H!="number"&&H!=="longjmp")throw H;J.setThrew(1,0)}}function ti(x,I){try{return p.dynCall_ii(x,I)}catch(le){if(typeof le!="number"&&le!=="longjmp")throw le;J.setThrew(1,0)}}function xc(x,I,le,A,ee){try{p.dynCall_viidi(x,I,le,A,ee)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;J.setThrew(1,0)}}function Re(x,I,le,A,ee,e,It){try{p.dynCall_viddiii(x,I,le,A,ee,e,It)}catch(Le){if(typeof Le!="number"&&Le!=="longjmp")throw Le;J.setThrew(1,0)}}function Me(x,I,le,A,ee){try{p.dynCall_vidii(x,I,le,A,ee)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;J.setThrew(1,0)}}function Ve(x,I,le,A,ee){try{return p.dynCall_iiiii(x,I,le,A,ee)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;J.setThrew(1,0)}}function Fe(x,I,le,A){try{p.dynCall_vidi(x,I,le,A)}catch(ee){if(typeof ee!="number"&&ee!=="longjmp")throw ee;J.setThrew(1,0)}}function ze(x,I,le,A,ee,e,It,Le,Ii){try{return p.dynCall_diiiiiiii(x,I,le,A,ee,e,It,Le,Ii)}catch(i){if(typeof i!="number"&&i!=="longjmp")throw i;J.setThrew(1,0)}}function Pt(x,I,le,A,ee,e,It,Le,Ii,i,Mt,H){try{p.dynCall_viiiiddddiid(x,I,le,A,ee,e,It,Le,Ii,i,Mt,H)}catch(xr){if(typeof xr!="number"&&xr!=="longjmp")throw xr;J.setThrew(1,0)}}function qt(x,I,le,A,ee,e){try{return p.dynCall_diiiii(x,I,le,A,ee,e)}catch(It){if(typeof It!="number"&&It!=="longjmp")throw It;J.setThrew(1,0)}}function k0(x,I,le,A){try{return p.dynCall_iiii(x,I,le,A)}catch(ee){if(typeof ee!="number"&&ee!=="longjmp")throw ee;J.setThrew(1,0)}}function x0(x,I,le,A,ee,e,It){try{p.dynCall_viiiiii(x,I,le,A,ee,e,It)}catch(Le){if(typeof Le!="number"&&Le!=="longjmp")throw Le;J.setThrew(1,0)}}function E0(x,I,le,A){try{return p.dynCall_iiid(x,I,le,A)}catch(ee){if(typeof ee!="number"&&ee!=="longjmp")throw ee;J.setThrew(1,0)}}function J0(x,I){try{return p.dynCall_di(x,I)}catch(le){if(typeof le!="number"&&le!=="longjmp")throw le;J.setThrew(1,0)}}function n0(x,I,le,A,ee,e,It){try{return p.dynCall_iiiiiii(x,I,le,A,ee,e,It)}catch(Le){if(typeof Le!="number"&&Le!=="longjmp")throw Le;J.setThrew(1,0)}}function K0(x,I,le,A,ee,e,It){try{return p.dynCall_diiidii(x,I,le,A,ee,e,It)}catch(Le){if(typeof Le!="number"&&Le!=="longjmp")throw Le;J.setThrew(1,0)}}function j0(x,I,le,A,ee,e){try{p.dynCall_viidii(x,I,le,A,ee,e)}catch(It){if(typeof It!="number"&&It!=="longjmp")throw It;J.setThrew(1,0)}}function mi(x,I,le,A,ee,e,It,Le){try{p.dynCall_viiiiiii(x,I,le,A,ee,e,It,Le)}catch(Ii){if(typeof Ii!="number"&&Ii!=="longjmp")throw Ii;J.setThrew(1,0)}}function ai(x,I,le,A,ee,e,It,Le,Ii,i){try{p.dynCall_viiiiiiiii(x,I,le,A,ee,e,It,Le,Ii,i)}catch(Mt){if(typeof Mt!="number"&&Mt!=="longjmp")throw Mt;J.setThrew(1,0)}}function o2(x,I,le,A,ee,e,It,Le,Ii,i,Mt){try{p.dynCall_viiiiiiiiii(x,I,le,A,ee,e,It,Le,Ii,i,Mt)}catch(H){if(typeof H!="number"&&H!=="longjmp")throw H;J.setThrew(1,0)}}function Mn(x,I,le){try{return p.dynCall_iii(x,I,le)}catch(A){if(typeof A!="number"&&A!=="longjmp")throw A;J.setThrew(1,0)}}function fn(x,I,le,A){try{return p.dynCall_diii(x,I,le,A)}catch(ee){if(typeof ee!="number"&&ee!=="longjmp")throw ee;J.setThrew(1,0)}}function pn(x,I,le,A,ee,e,It,Le,Ii,i,Mt){try{return p.dynCall_diiiiiiiiii(x,I,le,A,ee,e,It,Le,Ii,i,Mt)}catch(H){if(typeof H!="number"&&H!=="longjmp")throw H;J.setThrew(1,0)}}function no(x,I,le,A,ee,e){try{p.dynCall_viiiid(x,I,le,A,ee,e)}catch(It){if(typeof It!="number"&&It!=="longjmp")throw It;J.setThrew(1,0)}}function Pr(x,I,le,A,ee,e,It,Le,Ii,i){try{return p.dynCall_diiiiiiiii(x,I,le,A,ee,e,It,Le,Ii,i)}catch(Mt){if(typeof Mt!="number"&&Mt!=="longjmp")throw Mt;J.setThrew(1,0)}}function G1(x,I,le){try{return p.dynCall_did(x,I,le)}catch(A){if(typeof A!="number"&&A!=="longjmp")throw A;J.setThrew(1,0)}}function th(x,I,le,A,ee,e,It,Le,Ii,i,Mt,H,xr){try{p.dynCall_viiiidddddidi(x,I,le,A,ee,e,It,Le,Ii,i,Mt,H,xr)}catch(Z){if(typeof Z!="number"&&Z!=="longjmp")throw Z;J.setThrew(1,0)}}function Hf(x,I,le,A,ee,e){try{return p.dynCall_diidii(x,I,le,A,ee,e)}catch(It){if(typeof It!="number"&&It!=="longjmp")throw It;J.setThrew(1,0)}}function Dv(x,I,le,A,ee){try{return p.dynCall_diiii(x,I,le,A,ee)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;J.setThrew(1,0)}}function Iv(x,I,le,A,ee,e,It,Le,Ii,i){try{return p.dynCall_iiiiiiiiii(x,I,le,A,ee,e,It,Le,Ii,i)}catch(Mt){if(typeof Mt!="number"&&Mt!=="longjmp")throw Mt;J.setThrew(1,0)}}function Pv(x,I,le,A,ee){try{p.dynCall_viiid(x,I,le,A,ee)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;J.setThrew(1,0)}}function Lv(x,I,le,A){try{p.dynCall_viii(x,I,le,A)}catch(ee){if(typeof ee!="number"&&ee!=="longjmp")throw ee;J.setThrew(1,0)}}function kv(x){try{p.dynCall_v(x)}catch(I){if(typeof I!="number"&&I!=="longjmp")throw I;J.setThrew(1,0)}}function Fv(x,I,le,A){try{p.dynCall_viid(x,I,le,A)}catch(ee){if(typeof ee!="number"&&ee!=="longjmp")throw ee;J.setThrew(1,0)}}function Bv(x,I,le,A,ee){try{return p.dynCall_iidid(x,I,le,A,ee)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;J.setThrew(1,0)}}function Uv(x,I,le,A,ee){try{p.dynCall_viiii(x,I,le,A,ee)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;J.setThrew(1,0)}}p.asmGlobalArg={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:1/0},p.asmLibraryArg={abort:As,assert:se,invoke_viiiii:On,invoke_vid:z2,invoke_vi:tr,invoke_viiidii:b2,invoke_vii:ir,invoke_iiiiiiiiiii:ya,invoke_ii:ti,invoke_viidi:xc,invoke_viddiii:Re,invoke_vidii:Me,invoke_iiiii:Ve,invoke_vidi:Fe,invoke_diiiiiiii:ze,invoke_viiiiddddiid:Pt,invoke_diiiii:qt,invoke_iiii:k0,invoke_viiiiii:x0,invoke_iiid:E0,invoke_di:J0,invoke_iiiiiii:n0,invoke_diiidii:K0,invoke_viidii:j0,invoke_viiiiiii:mi,invoke_viiiiiiiii:ai,invoke_viiiiiiiiii:o2,invoke_iii:Mn,invoke_diii:fn,invoke_diiiiiiiiii:pn,invoke_viiiid:no,invoke_diiiiiiiii:Pr,invoke_did:G1,invoke_viiiidddddidi:th,invoke_diidii:Hf,invoke_diiii:Dv,invoke_iiiiiiiiii:Iv,invoke_viiid:Pv,invoke_viii:Lv,invoke_v:kv,invoke_viid:Fv,invoke_iidid:Bv,invoke_viiii:Uv,_pthread_cleanup_pop:mn,_abort:_t,___gxx_personality_v0:Ue,___cxa_allocate_exception:Ti,__ZSt18uncaught_exceptionv:Co,_sbrk:Nn,_llvm_pow_f32:L0,___cxa_begin_catch:Qn,_emscripten_memcpy_big:Hn,___resumeException:uu,___cxa_find_matching_catch:i1,_pthread_getspecific:xt,_pthread_once:At,_llvm_trap:cn,_pthread_key_create:H0,_emscripten_asm_const_diiiiiiii:gc,_pthread_setspecific:di,___cxa_throw:fu,___syscall6:_i,_pthread_cleanup_push:Ui,_gettimeofday:en,___syscall140:Vs,___cxa_pure_virtual:Y0,___syscall146:p2,STACKTOP:oi,STACK_MAX:Ye,tempDoublePtr:lu,ABORT:ue,cttz_i8:wo};var J=(function(x,I,le){var A=new x.Int8Array(le),ee=new x.Int16Array(le),e=new x.Int32Array(le),It=new x.Uint8Array(le),Le=new x.Uint16Array(le),Ii=new x.Uint32Array(le),i=new x.Float32Array(le),Mt=new x.Float64Array(le),H=I.STACKTOP|0,xr=I.STACK_MAX|0,Z=I.tempDoublePtr|0,G5e=I.ABORT|0,jf=I.cttz_i8|0,j8=0,GI=0,V5e=0,z5e=0,W5e=x.NaN,H5e=x.Infinity,j5e=0,q5e=0,X5e=0,$5e=0,Y5e=0,K5e=0,Z5e=0,Q5e=0,J5e=0,Ge=0,ege=0,tge=0,ige=0,nge=0,rge=0,sge=0,oge=0,age=0,cge=0,lge=x.Math.floor,ht=x.Math.abs,at=x.Math.sqrt,q8=x.Math.pow,C2=x.Math.cos,N2=x.Math.sin,uge=x.Math.tan,V1=x.Math.acos,Sa=x.Math.asin,fge=x.Math.atan,gn=x.Math.atan2,pge=x.Math.exp,_ge=x.Math.log,hge=x.Math.ceil,Rt=x.Math.imul,dge=x.Math.min,vc=x.Math.clz32,Xi=I.abort,mge=I.assert,gge=I.invoke_viiiii,xge=I.invoke_vid,yge=I.invoke_vi,vge=I.invoke_viiidii,Sge=I.invoke_vii,Tge=I.invoke_iiiiiiiiiii,Cge=I.invoke_ii,wge=I.invoke_viidi,Mge=I.invoke_viddiii,Rge=I.invoke_vidii,Age=I.invoke_iiiii,Ege=I.invoke_vidi,bge=I.invoke_diiiiiiii,Nge=I.invoke_viiiiddddiid,Dge=I.invoke_diiiii,Ige=I.invoke_iiii,Pge=I.invoke_viiiiii,Lge=I.invoke_iiid,kge=I.invoke_di,Fge=I.invoke_iiiiiii,Bge=I.invoke_diiidii,Uge=I.invoke_viidii,Oge=I.invoke_viiiiiii,Gge=I.invoke_viiiiiiiii,Vge=I.invoke_viiiiiiiiii,zge=I.invoke_iii,Wge=I.invoke_diii,Hge=I.invoke_diiiiiiiiii,jge=I.invoke_viiiid,qge=I.invoke_diiiiiiiii,Xge=I.invoke_did,$ge=I.invoke_viiiidddddidi,Yge=I.invoke_diidii,Kge=I.invoke_diiii,Zge=I.invoke_iiiiiiiiii,Qge=I.invoke_viiid,Jge=I.invoke_viii,exe=I.invoke_v,txe=I.invoke_viid,ixe=I.invoke_iidid,nxe=I.invoke_viiii,rxe=I._pthread_cleanup_pop,v0=I._abort,sxe=I.___gxx_personality_v0,k2=I.___cxa_allocate_exception,oxe=I.__ZSt18uncaught_exceptionv,Ta=I._sbrk,axe=I._llvm_pow_f32,VI=I.___cxa_begin_catch,zI=I._emscripten_memcpy_big,cxe=I.___resumeException,lxe=I.___cxa_find_matching_catch,X8=I._pthread_getspecific,$8=I._pthread_once,WI=I._llvm_trap,HI=I._pthread_key_create,jI=I._emscripten_asm_const_diiiiiiii,qI=I._pthread_setspecific,F2=I.___cxa_throw,XI=I.___syscall6,uxe=I._pthread_cleanup_push,Tn=I._gettimeofday,$I=I.___syscall140,YI=I.___cxa_pure_virtual,KI=I.___syscall146,fxe=0;function ZI(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0;w=H,H=H+16|0,e[5637]=(e[5637]|0)+1,o=Xe(1479)|0,o?(e[(o+4+15&-16)+-4>>2]=o,C=o+4+15&-16):C=0,A[19880]|0||(A[19880]=1,e[w>>2]=0,e[w+4>>2]=0,e[w+8>>2]=0,e[w+12>>2]=0,pu(21260,0,0,0,w)),e[5366]=e[5366]|1,i[5407]=0,M=+i[5417]*0,E=+i[5418]*0,i[5412]=+i[5416]*0,i[5413]=M,i[5414]=E,i[5415]=0,e[5420]=0,e[5421]=0,e[5422]=0,e[5423]=0,E=+i[5409]*0,M=+i[5410]*0,i[5461]=+i[5408]*0,i[5462]=E,i[5463]=M,i[5464]=0,e[C+4>>2]=12,e[C+8>>2]=-1,e[C+12>>2]=-1,i[C+16>>2]=34028234663852886e22,A[C+20>>0]=1,A[C+21>>0]=0,e[C+24>>2]=-1,_=C+28|0,e[_>>2]=21260,h=C+32|0,e[h>>2]=t,i[C+36>>2]=0,i[C+40>>2]=.30000001192092896,e[C+44>>2]=0,e[C>>2]=7300,d=C+112|0,e[d>>2]=e[n>>2],e[d+4>>2]=e[n+4>>2],e[d+8>>2]=e[n+8>>2],e[d+12>>2]=e[n+12>>2],m=C+128|0,e[m>>2]=e[n+16>>2],e[m+4>>2]=e[n+16+4>>2],e[m+8>>2]=e[n+16+8>>2],e[m+12>>2]=e[n+16+12>>2],g=C+144|0,e[g>>2]=e[n+32>>2],e[g+4>>2]=e[n+32+4>>2],e[g+8>>2]=e[n+32+8>>2],e[g+12>>2]=e[n+32+12>>2],S=C+160|0,e[S>>2]=e[n+48>>2],e[S+4>>2]=e[n+48+4>>2],e[S+8>>2]=e[n+48+8>>2],e[S+12>>2]=e[n+48+12>>2],o=C+728|0,n=C+760|0,a=C+908|0,l=C+680|0,u=l+48|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(u|0));e[o>>2]=1045220557,e[C+732>>2]=1045220557,e[C+736>>2]=1045220557,l=C+740|0,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,e[l+16>>2]=0,e[n>>2]=1063675494,e[C+764>>2]=1063675494,e[C+768>>2]=1063675494,l=C+772|0,i[C+804>>2]=0,i[C+820>>2]=0,A[C+836>>0]=0,i[C+840>>2]=0,A[C+856>>0]=0,i[C+860>>2]=0,i[C+876>>2]=0,i[C+892>>2]=0,i[C+808>>2]=0,i[C+824>>2]=0,A[C+837>>0]=0,i[C+844>>2]=0,A[C+857>>0]=0,i[C+864>>2]=0,i[C+880>>2]=0,i[C+896>>2]=0,i[C+812>>2]=0,i[C+828>>2]=0,A[C+838>>0]=0,i[C+848>>2]=0,A[C+858>>0]=0,i[C+868>>2]=0,i[C+884>>2]=0,i[C+900>>2]=0,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,e[l+16>>2]=0,e[l+20>>2]=0,e[l+24>>2]=0,A[l+28>>0]=0,l=a,u=l+60|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(u|0));return i[C+968>>2]=1,i[C+972>>2]=-1,i[C+976>>2]=0,i[C+980>>2]=.20000000298023224,i[C+984>>2]=0,i[C+988>>2]=.8999999761581421,i[C+992>>2]=0,A[C+996>>0]=0,i[C+1e3>>2]=0,i[C+1004>>2]=.10000000149011612,A[C+1008>>0]=0,i[C+1012>>2]=0,A[C+1016>>0]=0,i[C+1020>>2]=0,A[C+1024>>0]=0,i[C+1028>>2]=0,A[C+1032>>0]=0,u=C+1036|0,e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,e[u+12>>2]=0,e[u+16>>2]=0,i[C+1056>>2]=1,i[C+1060>>2]=-1,i[C+1064>>2]=0,i[C+1068>>2]=.20000000298023224,i[C+1072>>2]=0,i[C+1076>>2]=.8999999761581421,i[C+1080>>2]=0,A[C+1084>>0]=0,i[C+1088>>2]=0,i[C+1092>>2]=.10000000149011612,A[C+1096>>0]=0,i[C+1100>>2]=0,A[C+1104>>0]=0,i[C+1108>>2]=0,A[C+1112>>0]=0,i[C+1116>>2]=0,A[C+1120>>0]=0,u=C+1124|0,e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,e[u+12>>2]=0,e[u+16>>2]=0,i[C+1144>>2]=1,i[C+1148>>2]=-1,i[C+1152>>2]=0,i[C+1156>>2]=.20000000298023224,i[C+1160>>2]=0,i[C+1164>>2]=.8999999761581421,i[C+1168>>2]=0,A[C+1172>>0]=0,i[C+1176>>2]=0,i[C+1180>>2]=.10000000149011612,A[C+1184>>0]=0,i[C+1188>>2]=0,A[C+1192>>0]=0,i[C+1196>>2]=0,A[C+1200>>0]=0,i[C+1204>>2]=0,A[C+1208>>0]=0,u=C+1212|0,e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,e[u+12>>2]=0,e[u+16>>2]=0,e[C+1232>>2]=s,e[C+1456>>2]=0,q=+i[d>>2],_e=+i[t+4>>2],$=+i[m>>2],pe=+i[t+8>>2],Y=+i[g>>2],te=+i[t+12>>2],z=+i[C+116>>2],O=+i[C+132>>2],V=+i[C+148>>2],U=+i[C+120>>2],F=+i[C+136>>2],B=+i[C+152>>2],W=+i[t+20>>2],ne=+i[t+24>>2],X=+i[t+28>>2],L=+i[t+36>>2],k=+i[t+40>>2],N=+i[t+44>>2],me=+i[S>>2],he=+i[C+164>>2],E=+i[C+168>>2],D=+i[t+52>>2]+(_e*me+pe*he+te*E),M=W*me+ne*he+X*E+ +i[t+56>>2],E=L*me+k*he+N*E+ +i[t+60>>2],i[C+48>>2]=q*_e+$*pe+Y*te,i[C+52>>2]=_e*z+pe*O+te*V,i[C+56>>2]=_e*U+pe*F+te*B,i[C+60>>2]=0,i[C+64>>2]=q*W+$*ne+Y*X,i[C+68>>2]=z*W+O*ne+V*X,i[C+72>>2]=U*W+F*ne+B*X,i[C+76>>2]=0,i[C+80>>2]=q*L+$*k+Y*N,i[C+84>>2]=z*L+O*k+V*N,i[C+88>>2]=U*L+F*k+B*N,i[C+92>>2]=0,i[C+96>>2]=D,i[C+100>>2]=M,i[C+104>>2]=E,i[C+108>>2]=0,Ih(C,(e[_>>2]|0)+4|0,(e[h>>2]|0)+4|0),H=w,C|0}function QI(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0;e[5637]=(e[5637]|0)+1,l=Xe(1479)|0,l?(e[(l+4+15&-16)+-4>>2]=l,h=l+4+15&-16):h=0,e[h+4>>2]=12,e[h+8>>2]=-1,e[h+12>>2]=-1,i[h+16>>2]=34028234663852886e22,A[h+20>>0]=1,A[h+21>>0]=0,e[h+24>>2]=-1,_=h+28|0,e[_>>2]=t,u=h+32|0,e[u>>2]=n,i[h+36>>2]=0,i[h+40>>2]=.30000001192092896,e[h+44>>2]=0,e[h>>2]=7300,l=h+48|0,e[l>>2]=e[s>>2],e[l+4>>2]=e[s+4>>2],e[l+8>>2]=e[s+8>>2],e[l+12>>2]=e[s+12>>2],l=h+64|0,e[l>>2]=e[s+16>>2],e[l+4>>2]=e[s+16+4>>2],e[l+8>>2]=e[s+16+8>>2],e[l+12>>2]=e[s+16+12>>2],l=h+80|0,e[l>>2]=e[s+32>>2],e[l+4>>2]=e[s+32+4>>2],e[l+8>>2]=e[s+32+8>>2],e[l+12>>2]=e[s+32+12>>2],l=h+96|0,e[l>>2]=e[s+48>>2],e[l+4>>2]=e[s+48+4>>2],e[l+8>>2]=e[s+48+8>>2],e[l+12>>2]=e[s+48+12>>2],l=h+112|0,e[l>>2]=e[o>>2],e[l+4>>2]=e[o+4>>2],e[l+8>>2]=e[o+8>>2],e[l+12>>2]=e[o+12>>2],l=h+128|0,e[l>>2]=e[o+16>>2],e[l+4>>2]=e[o+16+4>>2],e[l+8>>2]=e[o+16+8>>2],e[l+12>>2]=e[o+16+12>>2],l=h+144|0,e[l>>2]=e[o+32>>2],e[l+4>>2]=e[o+32+4>>2],e[l+8>>2]=e[o+32+8>>2],e[l+12>>2]=e[o+32+12>>2],l=h+160|0,e[l>>2]=e[o+48>>2],e[l+4>>2]=e[o+48+4>>2],e[l+8>>2]=e[o+48+8>>2],e[l+12>>2]=e[o+48+12>>2],l=h+728|0,t=h+760|0,n=h+908|0,s=h+680|0,o=s+48|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(o|0));e[l>>2]=1045220557,e[h+732>>2]=1045220557,e[h+736>>2]=1045220557,s=h+740|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[s+16>>2]=0,e[t>>2]=1063675494,e[h+764>>2]=1063675494,e[h+768>>2]=1063675494,s=h+772|0,i[h+804>>2]=0,i[h+820>>2]=0,A[h+836>>0]=0,i[h+840>>2]=0,A[h+856>>0]=0,i[h+860>>2]=0,i[h+876>>2]=0,i[h+892>>2]=0,i[h+808>>2]=0,i[h+824>>2]=0,A[h+837>>0]=0,i[h+844>>2]=0,A[h+857>>0]=0,i[h+864>>2]=0,i[h+880>>2]=0,i[h+896>>2]=0,i[h+812>>2]=0,i[h+828>>2]=0,A[h+838>>0]=0,i[h+848>>2]=0,A[h+858>>0]=0,i[h+868>>2]=0,i[h+884>>2]=0,i[h+900>>2]=0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[s+16>>2]=0,e[s+20>>2]=0,e[s+24>>2]=0,A[s+28>>0]=0,s=n,o=s+60|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(o|0));return i[h+968>>2]=1,i[h+972>>2]=-1,i[h+976>>2]=0,i[h+980>>2]=.20000000298023224,i[h+984>>2]=0,i[h+988>>2]=.8999999761581421,i[h+992>>2]=0,A[h+996>>0]=0,i[h+1e3>>2]=0,i[h+1004>>2]=.10000000149011612,A[h+1008>>0]=0,i[h+1012>>2]=0,A[h+1016>>0]=0,i[h+1020>>2]=0,A[h+1024>>0]=0,i[h+1028>>2]=0,A[h+1032>>0]=0,o=h+1036|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,i[h+1056>>2]=1,i[h+1060>>2]=-1,i[h+1064>>2]=0,i[h+1068>>2]=.20000000298023224,i[h+1072>>2]=0,i[h+1076>>2]=.8999999761581421,i[h+1080>>2]=0,A[h+1084>>0]=0,i[h+1088>>2]=0,i[h+1092>>2]=.10000000149011612,A[h+1096>>0]=0,i[h+1100>>2]=0,A[h+1104>>0]=0,i[h+1108>>2]=0,A[h+1112>>0]=0,i[h+1116>>2]=0,A[h+1120>>0]=0,o=h+1124|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,i[h+1144>>2]=1,i[h+1148>>2]=-1,i[h+1152>>2]=0,i[h+1156>>2]=.20000000298023224,i[h+1160>>2]=0,i[h+1164>>2]=.8999999761581421,i[h+1168>>2]=0,A[h+1172>>0]=0,i[h+1176>>2]=0,i[h+1180>>2]=.10000000149011612,A[h+1184>>0]=0,i[h+1188>>2]=0,A[h+1192>>0]=0,i[h+1196>>2]=0,A[h+1200>>0]=0,i[h+1204>>2]=0,A[h+1208>>0]=0,o=h+1212|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[h+1232>>2]=a,e[h+1456>>2]=0,Ih(h,(e[_>>2]|0)+4|0,(e[u>>2]|0)+4|0),h|0}function JI(t,n){t=t|0,n=n|0,A[t+21>>0]=n&1}function eP(t,n,s){if(t=t|0,n=n|0,s=s|0,(n|0)<3){A[t+798+n>>0]=s&1;return}else{A[t+968+((n+-3|0)*88|0)+48>>0]=s&1;return}}function tP(t){return t=t|0,+ +i[t+16>>2]}function iP(t,n){return t=t|0,n=n|0,t+968+(n*88|0)|0}function nP(t){return t=t|0,t+680|0}function rP(t,n){t=t|0,n=n|0;var s=0;if(s=+an(+i[n>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+968>>2]=s,s=+an(+i[n+4>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+1056>>2]=s,s=+an(+i[n+8>>2]),s<-3.1415927410125732){s=s+6.2831854820251465,t=t+1144|0,i[t>>2]=s;return}if(!(s>3.1415927410125732)){t=t+1144|0,i[t>>2]=s;return}s=s+-6.2831854820251465,t=t+1144|0,i[t>>2]=s}function sP(t,n){t=t|0,n=n|0;var s=0;if(s=+an(+i[n>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+972>>2]=s,s=+an(+i[n+4>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+1060>>2]=s,s=+an(+i[n+8>>2]),s<-3.1415927410125732){s=s+6.2831854820251465,t=t+1148|0,i[t>>2]=s;return}if(!(s>3.1415927410125732)){t=t+1148|0,i[t>>2]=s;return}s=s+-6.2831854820251465,t=t+1148|0,i[t>>2]=s}function oP(t,n){t=t|0,n=+n,i[t+16>>2]=n}function aP(t,n,s){if(t=t|0,n=n|0,s=+s,(n|0)<3){i[t+840+(n<<2)>>2]=s,A[t+856+n>>0]=1;return}else{i[t+968+((n+-3|0)*88|0)+60>>2]=s,A[t+968+((n+-3|0)*88|0)+64>>0]=1;return}}function cP(t,n){t=t|0,n=n|0,e[t+680>>2]=e[n>>2],e[t+680+4>>2]=e[n+4>>2],e[t+680+8>>2]=e[n+8>>2],e[t+680+12>>2]=e[n+12>>2]}function lP(t,n){t=t|0,n=n|0,e[t+696>>2]=e[n>>2],e[t+696+4>>2]=e[n+4>>2],e[t+696+8>>2]=e[n+8>>2],e[t+696+12>>2]=e[n+12>>2]}function uP(t,n,s){if(t=t|0,n=n|0,s=+s,(n|0)<3){i[t+820+(n<<2)>>2]=s,A[t+836+n>>0]=1;return}else{i[t+968+((n+-3|0)*88|0)+52>>2]=s,A[t+968+((n+-3|0)*88|0)+56>>0]=1;return}}function fP(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function pP(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;return e[5637]=(e[5637]|0)+1,o=Xe(1407)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,_m(o,t,n,s),e[o>>2]=7364,e[o+4>>2]=9,A[o+1309>>0]=0,i[o+1316>>2]=0,i[o+1340>>2]=0,i[o+1364>>2]=1,A[o+1310>>0]=0,i[o+1320>>2]=0,i[o+1344>>2]=0,i[o+1368>>2]=1,A[o+1311>>0]=0,i[o+1324>>2]=0,i[o+1348>>2]=0,i[o+1372>>2]=1,A[o+1312>>0]=0,i[o+1328>>2]=0,i[o+1352>>2]=0,i[o+1376>>2]=1,A[o+1313>>0]=0,i[o+1332>>2]=0,i[o+1356>>2]=0,i[o+1380>>2]=1,A[o+1314>>0]=0,i[o+1336>>2]=0,i[o+1360>>2]=0,i[o+1384>>2]=1,o|0}function _P(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0;return e[5637]=(e[5637]|0)+1,l=Xe(1407)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,pm(l,t,n,s,o,a),e[l>>2]=7364,e[l+4>>2]=9,A[l+1309>>0]=0,i[l+1316>>2]=0,i[l+1340>>2]=0,i[l+1364>>2]=1,A[l+1310>>0]=0,i[l+1320>>2]=0,i[l+1344>>2]=0,i[l+1368>>2]=1,A[l+1311>>0]=0,i[l+1324>>2]=0,i[l+1348>>2]=0,i[l+1372>>2]=1,A[l+1312>>0]=0,i[l+1328>>2]=0,i[l+1352>>2]=0,i[l+1376>>2]=1,A[l+1313>>0]=0,i[l+1332>>2]=0,i[l+1356>>2]=0,i[l+1380>>2]=1,A[l+1314>>0]=0,i[l+1336>>2]=0,i[l+1360>>2]=0,i[l+1384>>2]=1,l|0}function hP(t,n){t=t|0,n=n|0,A[t+21>>0]=n&1}function dP(t,n,s){if(t=t|0,n=n|0,s=s|0,A[t+1309+n>>0]=s&1,(n|0)<3){A[t+788+n>>0]=s&1;return}else{A[t+868+(n+-3<<6)+44>>0]=s&1;return}}function mP(t){return t=t|0,+ +i[t+16>>2]}function gP(t,n){t=t|0,n=n|0;var s=0;if(s=+an(+i[n>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+868>>2]=s,s=+an(+i[n+4>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+932>>2]=s,s=+an(+i[n+8>>2]),s<-3.1415927410125732){s=s+6.2831854820251465,t=t+996|0,i[t>>2]=s;return}if(!(s>3.1415927410125732)){t=t+996|0,i[t>>2]=s;return}s=s+-6.2831854820251465,t=t+996|0,i[t>>2]=s}function xP(t,n){t=t|0,n=n|0;var s=0;if(s=+an(+i[n>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+872>>2]=s,s=+an(+i[n+4>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+936>>2]=s,s=+an(+i[n+8>>2]),s<-3.1415927410125732){s=s+6.2831854820251465,t=t+1e3|0,i[t>>2]=s;return}if(!(s>3.1415927410125732)){t=t+1e3|0,i[t>>2]=s;return}s=s+-6.2831854820251465,t=t+1e3|0,i[t>>2]=s}function yP(t,n){t=t|0,n=+n,i[t+16>>2]=n}function vP(t,n,s){t=t|0,n=n|0,s=+s,i[t+1364+(n<<2)>>2]=s}function SP(t,n){t=t|0,n=n|0,e[t+680>>2]=e[n>>2],e[t+680+4>>2]=e[n+4>>2],e[t+680+8>>2]=e[n+8>>2],e[t+680+12>>2]=e[n+12>>2]}function TP(t,n){t=t|0,n=n|0,e[t+696>>2]=e[n>>2],e[t+696+4>>2]=e[n+4>>2],e[t+696+8>>2]=e[n+8>>2],e[t+696+12>>2]=e[n+12>>2]}function CP(t,n,s){t=t|0,n=n|0,s=+s,i[t+1340+(n<<2)>>2]=s}function wP(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function MP(t){t=t|0,!(e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function RP(t,n){t=t|0,n=n|0,!(!n&&e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function AP(){var t=0,n=0;return e[5637]=(e[5637]|0)+1,t=Xe(327)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,e[t+164>>2]=1065353216,e[t+168>>2]=1065353216,e[t+172>>2]=1065353216,i[t+176>>2]=0,e[t+180>>2]=0,i[t+184>>2]=0xde0b6b000000000,n=t+188|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[t+204>>2]=1,e[t+208>>2]=-1,e[t+212>>2]=-1,e[t+216>>2]=1,i[t+220>>2]=0,i[t+224>>2]=.5,i[t+228>>2]=0,i[t+232>>2]=0,e[t+240>>2]=0,e[t+244>>2]=-1,i[t+248>>2]=1,i[t+252>>2]=0,i[t+256>>2]=0,e[t+260>>2]=0,A[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,e[t+272>>2]=0,e[t+284>>2]=0,e[t+4>>2]=1065353216,n=t+8|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[t+24>>2]=1065353216,n=t+28|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[t+44>>2]=1065353216,n=t+48|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[t>>2]=4344,A[t+304>>0]=1,e[t+300>>2]=0,e[t+292>>2]=0,e[t+296>>2]=0,e[t+236>>2]=4,t|0}function EP(t,n){t=t|0,n=n|0,e[t+216>>2]=n}function bP(t){return t=t|0,e[t+204>>2]|0}function NP(t){return t=t|0,e[t+192>>2]|0}function DP(t){return t=t|0,e[t+292>>2]|0}function IP(t,n){return t=t|0,n=n|0,e[(e[t+300>>2]|0)+(n<<2)>>2]|0}function PP(t){return t=t|0,t+4|0}function LP(t){return t=t|0,t=e[t+216>>2]|0,(t|0)!=5&(t|0)!=2|0}function kP(t){return t=t|0,(e[t+204>>2]&2|0)!=0|0}function FP(t,n){t=t|0,n=n|0,(e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=n)}function BP(t,n,s){t=t|0,n=n|0,s=s|0,e[t+164>>2]=e[n>>2],e[t+164+4>>2]=e[n+4>>2],e[t+164+8>>2]=e[n+8>>2],e[t+164+12>>2]=e[n+12>>2],+i[n>>2]==1&&+i[n+4>>2]==1&&(s=+i[n+8>>2]!=1?s:0),e[t+180>>2]=s}function UP(t,n){t=t|0,n=+n,i[t+256>>2]=n}function OP(t,n){t=t|0,n=+n,i[t+252>>2]=n}function GP(t,n){t=t|0,n=n|0,e[t+204>>2]=n}function VP(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+8>>2]&127](t,n)}function zP(t,n){t=t|0,n=+n,i[t+184>>2]=n}function WP(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+224>>2]=n}function HP(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+228>>2]=n}function jP(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+232>>2]=n}function qP(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2],e[t+20>>2]=e[n+16>>2],e[t+20+4>>2]=e[n+16+4>>2],e[t+20+8>>2]=e[n+16+8>>2],e[t+20+12>>2]=e[n+16+12>>2],e[t+36>>2]=e[n+32>>2],e[t+36+4>>2]=e[n+32+4>>2],e[t+36+8>>2]=e[n+32+8>>2],e[t+36+12>>2]=e[n+32+12>>2],e[t+52>>2]=e[n+48>>2],e[t+52+4>>2]=e[n+48+4>>2],e[t+52+8>>2]=e[n+48+8>>2],e[t+52+12>>2]=e[n+48+12>>2]}function XP(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function $P(){for(var t=0,n=0;;){if(t=Xe(4)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}x2[t&3]()}if((n|0)==5)n=k2(4)|0,e[n>>2]=8308,F2(n|0,2416,215);else if((n|0)==6)return e[t>>2]=8084,t|0;return 0}function YP(t){t=t|0}function KP(t){t=t|0,ye(t)}function ZP(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;return o=e[n>>2]|0,t=e[s>>2]|0,t=(e[t+236>>2]|0)==4?t:0,(o|0)==0||(e[o+236>>2]|0)!=4||f0[e[(e[o>>2]|0)+28>>2]&127](o,s,n),t&&f0[e[(e[t>>2]|0)+28>>2]&127](t,n,s),0}function QP(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;return a=e[n>>2]|0,t=e[s>>2]|0,t=(e[t+236>>2]|0)==4?t:0,(a|0)==0||(e[a+236>>2]|0)!=4||Kt[e[(e[a>>2]|0)+32>>2]&127](a,s,o,n),t&&Kt[e[(e[t>>2]|0)+32>>2]&127](t,n,o,s),0}function JP(t,n,s){t=t|0,n=n|0,s=s|0}function eL(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function tL(t,n){t=t|0,n=n|0;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(787)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,Om(s,t,n,0),s|0}function iL(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;return e[5637]=(e[5637]|0)+1,o=Xe(787)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,Om(o,t,n,s),o|0}function nL(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;return e[5637]=(e[5637]|0)+1,a=Xe(787)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[a+4>>2]=4,e[a+8>>2]=-1,e[a+12>>2]=-1,i[a+16>>2]=34028234663852886e22,A[a+20>>0]=1,A[a+21>>0]=0,e[a+24>>2]=-1,e[a+28>>2]=t,e[a+32>>2]=n,i[a+36>>2]=0,i[a+40>>2]=.30000001192092896,e[a+44>>2]=0,e[a>>2]=7428,n=a+552|0,e[n>>2]=e[s>>2],e[n+4>>2]=e[s+4>>2],e[n+8>>2]=e[s+8>>2],e[n+12>>2]=e[s+12>>2],n=a+568|0,e[n>>2]=e[s+16>>2],e[n+4>>2]=e[s+16+4>>2],e[n+8>>2]=e[s+16+8>>2],e[n+12>>2]=e[s+16+12>>2],n=a+584|0,e[n>>2]=e[s+32>>2],e[n+4>>2]=e[s+32+4>>2],e[n+8>>2]=e[s+32+8>>2],e[n+12>>2]=e[s+32+12>>2],n=a+600|0,e[n>>2]=e[s+48>>2],e[n+4>>2]=e[s+48+4>>2],e[n+8>>2]=e[s+48+8>>2],e[n+12>>2]=e[s+48+12>>2],s=a+616|0,e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],e[s+12>>2]=e[o+12>>2],s=a+632|0,e[s>>2]=e[o+16>>2],e[s+4>>2]=e[o+16+4>>2],e[s+8>>2]=e[o+16+8>>2],e[s+12>>2]=e[o+16+12>>2],s=a+648|0,e[s>>2]=e[o+32>>2],e[s+4>>2]=e[o+32+4>>2],e[s+8>>2]=e[o+32+8>>2],e[s+12>>2]=e[o+32+12>>2],s=a+664|0,e[s>>2]=e[o+48>>2],e[s+4>>2]=e[o+48+4>>2],e[s+8>>2]=e[o+48+8>>2],e[s+12>>2]=e[o+48+12>>2],i[a+688>>2]=0,i[a+692>>2]=-1,i[a+696>>2]=.8999999761581421,i[a+700>>2]=.30000001192092896,i[a+704>>2]=1,i[a+708>>2]=0,i[a+712>>2]=0,A[a+716>>0]=0,A[a+736>>0]=0,A[a+737>>0]=0,A[a+738>>0]=0,A[a+739>>0]=1,A[a+740>>0]=0,o=a+748|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,i[a+732>>2]=1,a|0}function rL(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0;return e[5637]=(e[5637]|0)+1,l=Xe(787)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,e[l+4>>2]=4,e[l+8>>2]=-1,e[l+12>>2]=-1,i[l+16>>2]=34028234663852886e22,A[l+20>>0]=1,A[l+21>>0]=0,e[l+24>>2]=-1,e[l+28>>2]=t,e[l+32>>2]=n,i[l+36>>2]=0,i[l+40>>2]=.30000001192092896,e[l+44>>2]=0,e[l>>2]=7428,n=l+552|0,e[n>>2]=e[s>>2],e[n+4>>2]=e[s+4>>2],e[n+8>>2]=e[s+8>>2],e[n+12>>2]=e[s+12>>2],n=l+568|0,e[n>>2]=e[s+16>>2],e[n+4>>2]=e[s+16+4>>2],e[n+8>>2]=e[s+16+8>>2],e[n+12>>2]=e[s+16+12>>2],n=l+584|0,e[n>>2]=e[s+32>>2],e[n+4>>2]=e[s+32+4>>2],e[n+8>>2]=e[s+32+8>>2],e[n+12>>2]=e[s+32+12>>2],n=l+600|0,e[n>>2]=e[s+48>>2],e[n+4>>2]=e[s+48+4>>2],e[n+8>>2]=e[s+48+8>>2],e[n+12>>2]=e[s+48+12>>2],s=l+616|0,e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],e[s+12>>2]=e[o+12>>2],s=l+632|0,e[s>>2]=e[o+16>>2],e[s+4>>2]=e[o+16+4>>2],e[s+8>>2]=e[o+16+8>>2],e[s+12>>2]=e[o+16+12>>2],s=l+648|0,e[s>>2]=e[o+32>>2],e[s+4>>2]=e[o+32+4>>2],e[s+8>>2]=e[o+32+8>>2],e[s+12>>2]=e[o+32+12>>2],s=l+664|0,e[s>>2]=e[o+48>>2],e[s+4>>2]=e[o+48+4>>2],e[s+8>>2]=e[o+48+8>>2],e[s+12>>2]=e[o+48+12>>2],i[l+688>>2]=0,i[l+692>>2]=-1,i[l+696>>2]=.8999999761581421,i[l+700>>2]=.30000001192092896,i[l+704>>2]=1,i[l+708>>2]=0,i[l+712>>2]=0,A[l+716>>0]=0,A[l+736>>0]=0,A[l+737>>0]=0,A[l+738>>0]=0,A[l+739>>0]=1,A[l+740>>0]=a&1,o=l+748|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,i[l+732>>2]=a?-1:1,l|0}function sL(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0;return e[5637]=(e[5637]|0)+1,u=Xe(787)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,Um(u,t,n,s,o,a,l,0),u|0}function oL(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0;var _=0;return e[5637]=(e[5637]|0)+1,_=Xe(787)|0,_?(e[(_+4+15&-16)+-4>>2]=_,_=_+4+15&-16):_=0,Um(_,t,n,s,o,a,l,u),_|0}function aL(t,n,s,o){t=t|0,n=n|0,s=+s,o=+o,A[t+737>>0]=n&1,i[t+680>>2]=s,i[t+684>>2]=o}function cL(t,n){t=t|0,n=n|0,A[t+21>>0]=n&1}function lL(t){return t=t|0,+ +i[t+16>>2]}function uL(t,n){t=t|0,n=+n,i[t+16>>2]=n}function fL(t,n,s,o,a){t=t|0,n=+n,s=+s,o=+o,a=+a,i[t+692>>2]=(s-n)*.5,n=+an((s-n)*.5+n),n<-3.1415927410125732?n=n+6.2831854820251465:n>3.1415927410125732&&(n=n+-6.2831854820251465),i[t+688>>2]=n,i[t+696>>2]=o,i[t+700>>2]=a,i[t+704>>2]=1}function pL(t,n,s,o,a,l){t=t|0,n=+n,s=+s,o=+o,a=+a,l=+l,i[t+692>>2]=(s-n)*.5,n=+an((s-n)*.5+n),n<-3.1415927410125732?n=n+6.2831854820251465:n>3.1415927410125732&&(n=n+-6.2831854820251465),i[t+688>>2]=n,i[t+696>>2]=o,i[t+700>>2]=a,i[t+704>>2]=l}function _L(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function hL(t,n,s){t=t|0,n=n|0,s=+s;var o=0,a=0;return e[5637]=(e[5637]|0)+1,o=Xe(203)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,e[o>>2]=7044,a=o+60|0,A[o+144>>0]=1,e[o+140>>2]=0,e[o+132>>2]=0,e[o+136>>2]=0,e[o+176>>2]=1,i[o+56>>2]=.019999999552965164,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,A[o+170>>0]=1,e[o+8>>2]=t,i[o+52>>2]=s,i[o+48>>2]=0,e[o+12>>2]=n,A[o+171>>0]=1,i[o+172>>2]=0,i[o+16>>2]=0,i[o+20>>2]=0,i[o+44>>2]=29.399999618530273,i[o+24>>2]=55,i[o+28>>2]=10,A[o+168>>0]=0,A[o+169>>0]=0,A[o+180>>0]=1,i[o+36>>2]=.7853981852531433,i[o+40>>2]=.7071067690849304,i[o+108>>2]=0,A[o+181>>0]=0,A[o+182>>0]=0,o|0}function dL(t,n,s,o){t=t|0,n=n|0,s=+s,o=o|0;var a=0,l=0;return e[5637]=(e[5637]|0)+1,a=Xe(203)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[a>>2]=7044,l=a+60|0,A[a+144>>0]=1,e[a+140>>2]=0,e[a+132>>2]=0,e[a+136>>2]=0,e[a+176>>2]=o,i[a+56>>2]=.019999999552965164,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,A[a+170>>0]=1,e[a+8>>2]=t,i[a+52>>2]=s,i[a+48>>2]=0,e[a+12>>2]=n,A[a+171>>0]=1,i[a+172>>2]=0,i[a+16>>2]=0,i[a+20>>2]=0,i[a+44>>2]=29.399999618530273,i[a+24>>2]=55,i[a+28>>2]=10,A[a+168>>0]=0,A[a+169>>0]=0,A[a+180>>0]=1,i[a+36>>2]=.7853981852531433,i[a+40>>2]=.7071067690849304,i[a+108>>2]=0,A[a+181>>0]=0,A[a+182>>0]=0,a|0}function mL(t){return t=t|0,Ct[e[(e[t>>2]|0)+40>>2]&127](t)|0}function gL(t){return t=t|0,e[t+8>>2]|0}function xL(t){return t=t|0,+ +i[t+44>>2]}function yL(t){return t=t|0,+ +i[t+36>>2]}function vL(t){t=t|0,Vt[e[(e[t>>2]|0)+44>>2]&255](t)}function SL(t){return t=t|0,Ct[e[(e[t>>2]|0)+48>>2]&127](t)|0}function TL(t,n,s){t=t|0,n=n|0,s=+s,sr[e[(e[t>>2]|0)+36>>2]&7](t,n,s)}function CL(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+32>>2]&127](t,n)}function wL(t,n){t=t|0,n=+n,i[t+24>>2]=n}function ML(t,n){t=t|0,n=+n,i[t+44>>2]=n}function RL(t,n){t=t|0,n=+n,i[t+28>>2]=n}function AL(t,n){t=t|0,n=+n,i[t+32>>2]=n}function EL(t,n){t=t|0,n=+n,i[t+36>>2]=n,i[t+40>>2]=+C2(+n)}function bL(t,n){t=t|0,n=n|0,n=(n|0)<0?0:n,e[t+176>>2]=(n|0)>2?2:n}function NL(t,n){t=t|0,n=n|0,A[t+170>>0]=n&1}function DL(t,n,s){t=t|0,n=n|0,s=+s,sr[e[(e[t>>2]|0)+20>>2]&7](t,n,s)}function IL(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+16>>2]&127](t,n)}function PL(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+28>>2]&127](t,n)}function LL(t){t=t|0,t&&ye(t)}function kL(t){return t=t|0,+ +i[t+80>>2]}function FL(t){return t=t|0,t+48|0}function BL(t){return t=t|0,t+32|0}function UL(t){return t=t|0,t|0}function OL(t){return t=t|0,t+16|0}function GL(t){return t=t|0,t+64|0}function VL(t){return t=t|0,t+48|0}function zL(t){return t=t|0,t+32|0}function WL(t,n){t=t|0,n=n|0,e[t>>2]=e[n>>2],e[t+4>>2]=e[n+4>>2],e[t+8>>2]=e[n+8>>2],e[t+12>>2]=e[n+12>>2]}function HL(t,n){t=t|0,n=n|0,e[t+16>>2]=e[n>>2],e[t+16+4>>2]=e[n+4>>2],e[t+16+8>>2]=e[n+8>>2],e[t+16+12>>2]=e[n+12>>2]}function jL(t,n){t=t|0,n=n|0,e[t+64>>2]=e[n>>2],e[t+64+4>>2]=e[n+4>>2],e[t+64+8>>2]=e[n+8>>2],e[t+64+12>>2]=e[n+12>>2]}function qL(t,n){t=t|0,n=n|0,e[t+48>>2]=e[n>>2],e[t+48+4>>2]=e[n+4>>2],e[t+48+8>>2]=e[n+8>>2],e[t+48+12>>2]=e[n+12>>2]}function XL(t,n){t=t|0,n=n|0,e[t+32>>2]=e[n>>2],e[t+32+4>>2]=e[n+4>>2],e[t+32+8>>2]=e[n+8>>2],e[t+32+12>>2]=e[n+12>>2]}function $L(t){t=t|0,t&&ye(t)}function YL(t,n){t=t|0,n=n|0,xs(t,n)}function KL(t,n){return t=t|0,n=n|0,A[19920]|0||(A[19920]=1),e[5696]=e[t+(n<<4)>>2],e[5697]=e[t+(n<<4)+4>>2],e[5698]=e[t+(n<<4)+8>>2],e[5699]=e[t+(n<<4)+12>>2],22784}function ZL(t,n,s,o){t=t|0,n=+n,s=+s,o=+o;var a=0,l=0,u=0;l=+C2(+n),a=+C2(+s),u=+C2(+o),n=+N2(+n),s=+N2(+s),o=+N2(+o),i[t>>2]=a*u,i[t+4>>2]=s*(u*n)-l*o,i[t+8>>2]=l*u*s+n*o,i[t+12>>2]=0,i[t+16>>2]=a*o,i[t+20>>2]=l*u+s*(n*o),i[t+24>>2]=s*(l*o)-u*n,i[t+28>>2]=0,i[t+32>>2]=-s,i[t+36>>2]=a*n,i[t+40>>2]=l*a,i[t+44>>2]=0}function QL(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function JL(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+8>>2]&127](t,n)}function ek(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+12>>2]&127](t,n)}function tk(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function ik(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+60>>2]&127](t,n)}function nk(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function rk(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function sk(t){t=t|0,!(e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function ok(t,n){t=t|0,n=n|0,!(!n&&e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function ak(){var t=0;return e[5637]=(e[5637]|0)+1,t=Xe(331)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,Qie(t),t|0}function ck(t,n){t=t|0,n=n|0,e[t+216>>2]=n}function lk(t){return t=t|0,e[t+204>>2]|0}function uk(t){return t=t|0,e[t+192>>2]|0}function fk(t){return t=t|0,e[t+292>>2]|0}function pk(t,n){return t=t|0,n=n|0,e[(e[t+300>>2]|0)+(n<<2)>>2]|0}function _k(t){return t=t|0,t+4|0}function hk(t){return t=t|0,t=e[t+216>>2]|0,(t|0)!=5&(t|0)!=2|0}function dk(t){return t=t|0,(e[t+204>>2]&2|0)!=0|0}function mk(t,n){t=t|0,n=n|0,(e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=n)}function gk(t,n,s){t=t|0,n=n|0,s=s|0,e[t+164>>2]=e[n>>2],e[t+164+4>>2]=e[n+4>>2],e[t+164+8>>2]=e[n+8>>2],e[t+164+12>>2]=e[n+12>>2],+i[n>>2]==1&&+i[n+4>>2]==1&&(s=+i[n+8>>2]!=1?s:0),e[t+180>>2]=s}function xk(t,n){t=t|0,n=+n,i[t+256>>2]=n}function yk(t,n){t=t|0,n=+n,i[t+252>>2]=n}function vk(t,n){t=t|0,n=n|0,e[t+204>>2]=n}function Sk(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+8>>2]&127](t,n)}function Tk(t,n){t=t|0,n=+n,i[t+184>>2]=n}function Ck(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+224>>2]=n}function wk(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+228>>2]=n}function Mk(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+232>>2]=n}function Rk(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2],e[t+20>>2]=e[n+16>>2],e[t+20+4>>2]=e[n+16+4>>2],e[t+20+8>>2]=e[n+16+8>>2],e[t+20+12>>2]=e[n+16+12>>2],e[t+36>>2]=e[n+32>>2],e[t+36+4>>2]=e[n+32+4>>2],e[t+36+8>>2]=e[n+32+8>>2],e[t+36+12>>2]=e[n+32+12>>2],e[t+52>>2]=e[n+48>>2],e[t+52+4>>2]=e[n+48+4>>2],e[t+52+8>>2]=e[n+48+8>>2],e[t+52+12>>2]=e[n+48+12>>2]}function Ak(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Ek(){var t=0,n=0;return e[5637]=(e[5637]|0)+1,t=Xe(791)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,e[t>>2]=1025,e[t+116>>2]=0,A[t+120>>0]=0,n=t+124|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[t+300>>2]=0,A[t+304>>0]=0,n=t+308|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[t+484>>2]=0,A[t+488>>0]=0,n=t+492|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[t+668>>2]=0,A[t+672>>0]=0,n=t+676|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[t+740>>2]=0,e[t+744>>2]=0,e[t+748>>2]=0,e[t+768>>2]=0,t|0}function bk(t){return t=t|0,e[t+740>>2]|0}function Nk(t){return t=t|0,e[t+744>>2]|0}function Dk(t,n){return t=t|0,n=n|0,t+4+(n*184|0)|0}function Ik(t){return t=t|0,e[t+748>>2]|0}function Pk(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Lk(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0;return e[5637]=(e[5637]|0)+1,s=Xe(379)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,dh(s,3,t),e[s>>2]=7484,h=s+300|0,e[h>>2]=e[n>>2],e[h+4>>2]=e[n+4>>2],e[h+8>>2]=e[n+8>>2],e[h+12>>2]=e[n+12>>2],_=+i[n>>2],u=+i[n+4>>2],l=+i[n+8>>2],a=_*+i[t+20>>2]+u*+i[t+24>>2]+l*+i[t+28>>2]+ +i[t+56>>2],o=_*+i[t+36>>2]+u*+i[t+40>>2]+l*+i[t+44>>2]+ +i[t+60>>2],i[s+316>>2]=_*+i[t+4>>2]+u*+i[t+8>>2]+l*+i[t+12>>2]+ +i[t+52>>2],i[s+320>>2]=a,i[s+324>>2]=o,i[s+328>>2]=0,e[s+332>>2]=0,A[s+344>>0]=0,i[s+348>>2]=.30000001192092896,i[s+352>>2]=1,i[s+356>>2]=0,s|0}function kk(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;return e[5637]=(e[5637]|0)+1,a=Xe(379)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[a+4>>2]=3,e[a+8>>2]=-1,e[a+12>>2]=-1,i[a+16>>2]=34028234663852886e22,A[a+20>>0]=1,A[a+21>>0]=0,e[a+24>>2]=-1,e[a+28>>2]=t,e[a+32>>2]=n,i[a+36>>2]=0,i[a+40>>2]=.30000001192092896,e[a+44>>2]=0,e[a>>2]=7484,n=a+300|0,e[n>>2]=e[s>>2],e[n+4>>2]=e[s+4>>2],e[n+8>>2]=e[s+8>>2],e[n+12>>2]=e[s+12>>2],s=a+316|0,e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],e[s+12>>2]=e[o+12>>2],e[a+332>>2]=0,A[a+344>>0]=0,i[a+348>>2]=.30000001192092896,i[a+352>>2]=1,i[a+356>>2]=0,a|0}function Fk(t,n){t=t|0,n=n|0,A[t+21>>0]=n&1}function Bk(t){return t=t|0,+ +i[t+16>>2]}function Uk(t){return t=t|0,t+300|0}function Ok(t){return t=t|0,t+316|0}function Gk(t){return t=t|0,t+348|0}function Vk(t,n){t=t|0,n=+n,i[t+16>>2]=n}function zk(t,n){t=t|0,n=n|0,e[t+300>>2]=e[n>>2],e[t+300+4>>2]=e[n+4>>2],e[t+300+8>>2]=e[n+8>>2],e[t+300+12>>2]=e[n+12>>2]}function Wk(t,n){t=t|0,n=n|0,e[t+316>>2]=e[n>>2],e[t+316+4>>2]=e[n+4>>2],e[t+316+8>>2]=e[n+8>>2],e[t+316+12>>2]=e[n+12>>2]}function Hk(t,n){t=t|0,n=n|0,e[t+348>>2]=e[n>>2],e[t+348+4>>2]=e[n+4>>2],e[t+348+8>>2]=e[n+8>>2]}function jk(t){t=t|0,t&&ye(t)}function qk(t,n){t=t|0,n=+n,i[t+12>>2]=n}function Xk(t,n){t=t|0,n=+n,i[t>>2]=n}function $k(t,n){t=t|0,n=+n,i[t+4>>2]=n}function Yk(t,n){t=t|0,n=+n,i[t+8>>2]=n}function Kk(t){return t=t|0,+ +i[t+12>>2]}function Zk(t){return t=t|0,+ +i[t>>2]}function Qk(t){return t=t|0,+ +i[t+4>>2]}function Jk(t){return t=t|0,+ +i[t+8>>2]}function eF(t){t=t|0,t&&ye(t)}function tF(t,n,s,o){t=+t,n=+n,s=+s,o=+o;for(var a=0,l=0;;){if(a=Xe(16)|0,a|0){l=6;break}if(a=e[5831]|0,e[5831]=a+0,!a){l=5;break}x2[a&3]()}if((l|0)==5)l=k2(4)|0,e[l>>2]=8308,F2(l|0,2416,215);else if((l|0)==6)return i[a>>2]=t,i[a+4>>2]=n,i[a+8>>2]=s,i[a+12>>2]=o,a|0;return 0}function iF(t){t=t|0;var n=0,s=0,o=0,a=0,l=0;l=+i[t>>2],a=+i[t+4>>2],o=+i[t+8>>2],s=+i[t+12>>2],n=1/+at(+(l*l+a*a+o*o+s*s)),i[t>>2]=l*n,i[t+4>>2]=a*n,i[t+8>>2]=o*n,i[t+12>>2]=s*n}function nF(t,n,s,o,a){t=t|0,n=+n,s=+s,o=+o,a=+a,i[t>>2]=n,i[t+4>>2]=s,i[t+8>>2]=o,i[t+12>>2]=a}function rF(t,n){t=t|0,n=+n,i[t+12>>2]=n}function sF(t,n){t=t|0,n=+n,i[t>>2]=n}function oF(t,n){t=t|0,n=+n,i[t+4>>2]=n}function aF(t,n){t=t|0,n=+n,i[t+8>>2]=n}function cF(t){return t=t|0,+ +i[t+12>>2]}function lF(t){return t=t|0,+ +i[t>>2]}function uF(t){return t=t|0,+ +i[t+4>>2]}function fF(t){return t=t|0,+ +i[t+8>>2]}function pF(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function _F(t,n,s,o,a,l,u,_){return t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=+l,u=u|0,_=_|0,ez(t,n,s,o,a,l,u,_)|0}function hF(t,n,s){t=t|0,n=+n,s=s|0,i[(e[t+136>>2]|0)+(s*284|0)+252>>2]=n}function dF(t,n,s){t=t|0,n=n|0,s=s|0;for(var o=0;;){if(t=Xe(144)|0,t|0){o=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){o=5;break}x2[t&3]()}if((o|0)==5)s=k2(4)|0,e[s>>2]=8308,F2(s|0,2416,215);else if((o|0)==6)return e[t>>2]=7952,A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,A[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,A[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,A[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,e[t+72>>2]=0,e[t+92>>2]=s,i[t+96>>2]=0,A[t+140>>0]=1,e[t+136>>2]=0,e[t+128>>2]=0,e[t+132>>2]=0,e[t+108>>2]=n,e[t+112>>2]=0,e[t+116>>2]=2,e[t+120>>2]=1,i[t+104>>2]=0,i[t+100>>2]=0,t|0;return 0}function mF(t){return t=t|0,e[t+128>>2]|0}function gF(t){return t=t|0,e[t+108>>2]|0}function xF(t,n){return t=t|0,n=n|0,(e[t+136>>2]|0)+(n*284|0)|0}function yF(t,n){return t=t|0,n=n|0,(e[t+136>>2]|0)+(n*284|0)+92|0}function vF(t,n,s){t=t|0,n=+n,s=s|0,i[(e[t+136>>2]|0)+(s*284|0)+256>>2]=n}function SF(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+24>>2]&127](t,n,s,o)}function TF(t,n,s){t=t|0,n=+n,s=s|0,i[(e[t+136>>2]|0)+(s*284|0)+232>>2]=n}function CF(t,n,s){t=t|0,n=n|0,s=s|0,lh(e[t+108>>2]|0,e[t+136>>2]|0,n,s)}function wF(t){t=t|0,t&&ye(t)}function MF(t,n,s){t=+t,n=n|0,s=s|0;for(var o=0,a=0;;){if(o=Xe(140)|0,o|0){a=6;break}if(o=e[5831]|0,e[5831]=o+0,!o){a=5;break}x2[o&3]()}if((a|0)==5)s=k2(4)|0,e[s>>2]=8308,F2(s|0,2416,215);else if((a|0)==6)return i[o>>2]=t,e[o+4>>2]=n,e[o+72>>2]=s,e[o+76>>2]=0,e[o+76+4>>2]=0,e[o+76+8>>2]=0,e[o+76+12>>2]=0,e[o+76+16>>2]=0,e[o+76+20>>2]=0,i[o+100>>2]=.5,i[o+104>>2]=0,i[o+108>>2]=0,i[o+112>>2]=.800000011920929,i[o+116>>2]=1,A[o+120>>0]=0,i[o+124>>2]=.004999999888241291,i[o+128>>2]=.009999999776482582,i[o+132>>2]=.009999999776482582,i[o+136>>2]=.009999999776482582,e[o+8>>2]=1065353216,e[o+12>>2]=0,e[o+12+4>>2]=0,e[o+12+8>>2]=0,e[o+12+12>>2]=0,e[o+28>>2]=1065353216,e[o+32>>2]=0,e[o+32+4>>2]=0,e[o+32+8>>2]=0,e[o+32+12>>2]=0,e[o+48>>2]=1065353216,e[o+52>>2]=0,e[o+52+4>>2]=0,e[o+52+8>>2]=0,e[o+52+12>>2]=0,e[o+52+16>>2]=0,o|0;return 0}function RF(t,n,s,o){t=+t,n=n|0,s=s|0,o=o|0;for(var a=0,l=0;;){if(a=Xe(140)|0,a|0){l=6;break}if(a=e[5831]|0,e[5831]=a+0,!a){l=5;break}x2[a&3]()}if((l|0)==5)o=k2(4)|0,e[o>>2]=8308,F2(o|0,2416,215);else if((l|0)==6)return i[a>>2]=t,e[a+4>>2]=n,e[a+72>>2]=s,e[a+76>>2]=e[o>>2],e[a+76+4>>2]=e[o+4>>2],e[a+76+8>>2]=e[o+8>>2],e[a+76+12>>2]=e[o+12>>2],i[a+92>>2]=0,i[a+96>>2]=0,i[a+100>>2]=.5,i[a+104>>2]=0,i[a+108>>2]=0,i[a+112>>2]=.800000011920929,i[a+116>>2]=1,A[a+120>>0]=0,i[a+124>>2]=.004999999888241291,i[a+128>>2]=.009999999776482582,i[a+132>>2]=.009999999776482582,i[a+136>>2]=.009999999776482582,e[a+8>>2]=1065353216,e[a+12>>2]=0,e[a+12+4>>2]=0,e[a+12+8>>2]=0,e[a+12+12>>2]=0,e[a+28>>2]=1065353216,e[a+32>>2]=0,e[a+32+4>>2]=0,e[a+32+8>>2]=0,e[a+32+12>>2]=0,e[a+48>>2]=1065353216,e[a+52>>2]=0,e[a+52+4>>2]=0,e[a+52+8>>2]=0,e[a+52+12>>2]=0,e[a+52+16>>2]=0,a|0;return 0}function AF(t){return t=t|0,+ +i[t+136>>2]}function EF(t){return t=t|0,+ +i[t+132>>2]}function bF(t){return t=t|0,+ +i[t+124>>2]}function NF(t){return t=t|0,(A[t+120>>0]|0)!=0|0}function DF(t){return t=t|0,+ +i[t+128>>2]}function IF(t){return t=t|0,+ +i[t+96>>2]}function PF(t){return t=t|0,+ +i[t+116>>2]}function LF(t){return t=t|0,+ +i[t+100>>2]}function kF(t){return t=t|0,+ +i[t+92>>2]}function FF(t){return t=t|0,+ +i[t+112>>2]}function BF(t){return t=t|0,+ +i[t+108>>2]}function UF(t){return t=t|0,+ +i[t+104>>2]}function OF(t,n){t=t|0,n=+n,i[t+136>>2]=n}function GF(t,n){t=t|0,n=+n,i[t+132>>2]=n}function VF(t,n){t=t|0,n=+n,i[t+124>>2]=n}function zF(t,n){t=t|0,n=n|0,A[t+120>>0]=n&1}function WF(t,n){t=t|0,n=+n,i[t+128>>2]=n}function HF(t,n){t=t|0,n=+n,i[t+96>>2]=n}function jF(t,n){t=t|0,n=+n,i[t+116>>2]=n}function qF(t,n){t=t|0,n=+n,i[t+100>>2]=n}function XF(t,n){t=t|0,n=+n,i[t+92>>2]=n}function $F(t,n){t=t|0,n=+n,i[t+112>>2]=n}function YF(t,n){t=t|0,n=+n,i[t+108>>2]=n}function KF(t,n){t=t|0,n=+n,i[t+104>>2]=n}function ZF(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function QF(t){t=t|0,!(e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function JF(t,n){t=t|0,n=n|0,!(!n&&e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function eB(t,n){t=t|0,n=n|0;var s=0,o=0;o=+i[n+4>>2]*+i[t+376>>2],s=+i[n+8>>2]*+i[t+380>>2],i[t+436>>2]=+i[n>>2]*+i[t+372>>2]+ +i[t+436>>2],i[t+440>>2]=o+ +i[t+440>>2],i[t+444>>2]=s+ +i[t+444>>2]}function tB(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;a=+i[t+368>>2],o=+i[n+4>>2]*+i[t+376>>2]*a,s=a*(+i[n+8>>2]*+i[t+380>>2]),i[t+336>>2]=+i[n>>2]*+i[t+372>>2]*a+ +i[t+336>>2],i[t+340>>2]=o+ +i[t+340>>2],i[t+344>>2]=s+ +i[t+344>>2]}function iB(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0;o=+i[t+372>>2],u=+i[t+376>>2],l=+i[n+4>>2]*u,_=+i[t+380>>2],h=+i[n+8>>2]*_,i[t+436>>2]=+i[n>>2]*o+ +i[t+436>>2],i[t+440>>2]=l+ +i[t+440>>2],i[t+444>>2]=h+ +i[t+444>>2],o=o*+i[n>>2],u=u*+i[n+4>>2],_=_*+i[n+8>>2],h=+i[s+4>>2],l=+i[s+8>>2],d=+i[s>>2],a=(o*l-_*d)*+i[t+572>>2],o=(u*d-o*h)*+i[t+576>>2],i[t+452>>2]=(h*_-u*l)*+i[t+568>>2]+ +i[t+452>>2],i[t+456>>2]=a+ +i[t+456>>2],i[t+460>>2]=o+ +i[t+460>>2]}function nB(t,n,s){t=t|0,n=n|0,s=s|0,H1(t,n,s)}function rB(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;u=+i[n>>2],l=+i[n+4>>2],a=+i[n+8>>2],o=(u*+i[t+304>>2]+l*+i[t+308>>2]+a*+i[t+312>>2])*+i[t+572>>2],s=(u*+i[t+320>>2]+l*+i[t+324>>2]+a*+i[t+328>>2])*+i[t+576>>2],i[t+352>>2]=(+i[t+288>>2]*u+ +i[t+292>>2]*l+ +i[t+296>>2]*a)*+i[t+568>>2]+ +i[t+352>>2],i[t+356>>2]=o+ +i[t+356>>2],i[t+360>>2]=s+ +i[t+360>>2]}function sB(t,n){t=t|0,n=n|0;var s=0,o=0;o=+i[n+4>>2]*+i[t+572>>2],s=+i[n+8>>2]*+i[t+576>>2],i[t+452>>2]=+i[n>>2]*+i[t+568>>2]+ +i[t+452>>2],i[t+456>>2]=o+ +i[t+456>>2],i[t+460>>2]=s+ +i[t+460>>2]}function oB(t){t=t|0;var n=0,s=0;return e[5637]=(e[5637]|0)+1,n=Xe(659)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,e[n+164>>2]=1065353216,e[n+168>>2]=1065353216,e[n+172>>2]=1065353216,i[n+176>>2]=0,e[n+180>>2]=0,i[n+184>>2]=0xde0b6b000000000,s=n+188|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[n+204>>2]=1,e[n+208>>2]=-1,e[n+212>>2]=-1,e[n+216>>2]=1,i[n+220>>2]=0,i[n+224>>2]=.5,i[n+228>>2]=0,i[n+232>>2]=0,e[n+236>>2]=1,e[n+240>>2]=0,e[n+244>>2]=-1,i[n+248>>2]=1,i[n+252>>2]=0,i[n+256>>2]=0,e[n+260>>2]=0,A[n+280>>0]=1,e[n+276>>2]=0,e[n+268>>2]=0,e[n+272>>2]=0,e[n+284>>2]=0,e[n+4>>2]=1065353216,s=n+8|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[n+24>>2]=1065353216,s=n+28|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[n+44>>2]=1065353216,s=n+48|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[s+16>>2]=0,e[n>>2]=7916,A[n+524>>0]=1,e[n+520>>2]=0,e[n+512>>2]=0,e[n+516>>2]=0,R6(n,t),n|0}function aB(t,n){t=t|0,n=n|0,e[t+216>>2]=n}function cB(t){return t=t|0,t+352|0}function lB(t){return t=t|0,t+4|0}function uB(t){return t=t|0,e[t+204>>2]|0}function fB(t){return t=t|0,e[t+192>>2]|0}function pB(t){return t=t|0,t+336|0}function _B(t){return t=t|0,e[t+504>>2]|0}function hB(t){return t=t|0,t+4|0}function dB(t){return t=t|0,t=e[t+216>>2]|0,(t|0)!=5&(t|0)!=2|0}function mB(t){return t=t|0,(e[t+204>>2]&2|0)!=0|0}function gB(t,n){t=t|0,n=n|0,(e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=n)}function xB(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+568>>2]=e[n>>2],e[t+568+4>>2]=e[n+4>>2],e[t+568+8>>2]=e[n+8>>2],e[t+568+12>>2]=e[n+12>>2]}function yB(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+352>>2]=e[n>>2],e[t+352+4>>2]=e[n+4>>2],e[t+352+8>>2]=e[n+8>>2],e[t+352+12>>2]=e[n+12>>2]}function vB(t,n,s){t=t|0,n=n|0,s=s|0,e[t+164>>2]=e[n>>2],e[t+164+4>>2]=e[n+4>>2],e[t+164+8>>2]=e[n+8>>2],e[t+164+12>>2]=e[n+12>>2],+i[n>>2]==1&&+i[n+4>>2]==1&&(s=+i[n+8>>2]!=1?s:0),e[t+180>>2]=s}function SB(t,n){t=t|0,n=+n,i[t+256>>2]=n}function TB(t,n){t=t|0,n=+n,i[t+252>>2]=n}function CB(t,n){t=t|0,n=n|0,mh(t,n)}function wB(t,n){t=t|0,n=n|0,e[t+204>>2]=n}function MB(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+8>>2]&127](t,n)}function RB(t,n){t=t|0,n=+n,i[t+184>>2]=n}function AB(t,n,s){t=t|0,n=+n,s=+s;var o=0;o=H,H=H+32|0,i[o+20>>2]=n,i[o+16>>2]=s,i[o+12>>2]=0,i[o+8>>2]=1,e[t+468>>2]=e[(n<0?o+12|0:n>1?o+8|0:o+20|0)>>2],i[o+4>>2]=0,i[o>>2]=1,e[t+472>>2]=e[(s<0?o+4|0:s>1?o:o+16|0)>>2],H=o}function EB(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+224>>2]=n}function bB(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;e[t+372>>2]=e[n>>2],e[t+372+4>>2]=e[n+4>>2],e[t+372+8>>2]=e[n+8>>2],e[t+372+12>>2]=e[n+12>>2],a=+i[t+368>>2],o=a*+i[t+376>>2],s=a*+i[t+380>>2],i[t+584>>2]=+i[t+372>>2]*a,i[t+588>>2]=o,i[t+592>>2]=s,i[t+596>>2]=0}function NB(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+336>>2]=e[n>>2],e[t+336+4>>2]=e[n+4>>2],e[t+336+8>>2]=e[n+8>>2],e[t+336+12>>2]=e[n+12>>2]}function DB(t,n,s){t=t|0,n=+n,s=s|0;var o=0,a=0,l=0,u=0,_=0;o=e[t+204>>2]|0,n==0?(e[t+204>>2]=o|1,l=0):(e[t+204>>2]=o&-2,l=1/n),i[t+368>>2]=l,_=+i[t+408>>2]*n,u=+i[t+412>>2]*n,i[t+388>>2]=+i[t+404>>2]*n,i[t+392>>2]=_,i[t+396>>2]=u,i[t+400>>2]=0,n=+i[s>>2],a=n!=0?(i[Z>>2]=1/n,e[Z>>2]|0):0,n=+i[s+4>>2],o=n!=0?(i[Z>>2]=1/n,e[Z>>2]|0):0,n=+i[s+8>>2],s=n!=0?(i[Z>>2]=1/n,e[Z>>2]|0):0,e[t+420>>2]=a,e[t+424>>2]=o,e[t+428>>2]=s,i[t+432>>2]=0,u=l*+i[t+376>>2],_=l*+i[t+380>>2],i[t+584>>2]=+i[t+372>>2]*l,i[t+588>>2]=u,i[t+592>>2]=_,i[t+596>>2]=0}function IB(t,n){t=t|0,n=n|0,e[t+504>>2]=n,n&&zt[e[(e[n>>2]|0)+8>>2]&127](n,t+4|0)}function PB(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+228>>2]=n}function LB(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+232>>2]=n}function kB(t,n,s){t=t|0,n=+n,s=+s,i[t+496>>2]=n,i[t+500>>2]=s}function FB(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2],e[t+20>>2]=e[n+16>>2],e[t+20+4>>2]=e[n+16+4>>2],e[t+20+8>>2]=e[n+16+8>>2],e[t+20+12>>2]=e[n+16+12>>2],e[t+36>>2]=e[n+32>>2],e[t+36+4>>2]=e[n+32+4>>2],e[t+36+8>>2]=e[n+32+8>>2],e[t+36+12>>2]=e[n+32+12>>2],e[t+52>>2]=e[n+48>>2],e[t+52+4>>2]=e[n+48+4>>2],e[t+52+8>>2]=e[n+48+8>>2],e[t+52+12>>2]=e[n+48+12>>2]}function BB(t,n){return t=t|0,n=n|0,((e[n+236>>2]&2|0)==0?0:n)|0}function UB(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0;S=+i[t+4>>2],u=+i[t+420>>2],g=+i[t+8>>2],a=+i[t+424>>2],m=+i[t+12>>2],s=+i[t+428>>2],d=+i[t+20>>2],h=+i[t+24>>2],_=+i[t+28>>2],l=+i[t+36>>2],o=+i[t+40>>2],n=+i[t+44>>2],i[t+288>>2]=S*u*S+g*a*g+m*s*m,i[t+292>>2]=S*u*d+g*a*h+m*s*_,i[t+296>>2]=S*u*l+g*a*o+m*s*n,i[t+300>>2]=0,i[t+304>>2]=u*d*S+a*h*g+s*_*m,i[t+308>>2]=u*d*d+a*h*h+s*_*_,i[t+312>>2]=u*d*l+a*h*o+s*_*n,i[t+316>>2]=0,i[t+320>>2]=u*l*S+a*o*g+s*n*m,i[t+324>>2]=u*l*d+a*o*h+s*n*_,i[t+328>>2]=u*l*l+a*o*o+s*n*n,i[t+332>>2]=0}function OB(t){t=t|0,t&&ye(t)}function GB(t){return t=t|0,+ +i[t+80>>2]}function VB(t,n){t=t|0,n=+n,i[t+80>>2]=n}function zB(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function WB(){var t=0;return e[5637]=(e[5637]|0)+1,t=Xe(223)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,e[t>>2]=7540,A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,A[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,A[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,A[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,e[t+72>>2]=0,A[t+100>>0]=1,e[t+96>>2]=0,e[t+88>>2]=0,e[t+92>>2]=0,A[t+120>>0]=1,e[t+116>>2]=0,e[t+108>>2]=0,e[t+112>>2]=0,A[t+140>>0]=1,e[t+136>>2]=0,e[t+128>>2]=0,e[t+132>>2]=0,A[t+160>>0]=1,e[t+156>>2]=0,e[t+148>>2]=0,e[t+152>>2]=0,A[t+180>>0]=1,e[t+176>>2]=0,e[t+168>>2]=0,e[t+172>>2]=0,e[t+192>>2]=13,e[t+196>>2]=14,e[t+200>>2]=0,t|0}function HB(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function jB(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0;return a=H,H=H+16|0,e[5637]=(e[5637]|0)+1,o=Xe(1147)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,A[19880]|0||(A[19880]=1,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,pu(21260,0,0,0,a)),e[5366]=e[5366]|1,i[5407]=0,F=+i[5417]*0,Y=+i[5418]*0,i[5412]=+i[5416]*0,i[5413]=F,i[5414]=Y,i[5415]=0,e[5420]=0,e[5421]=0,e[5422]=0,e[5423]=0,Y=+i[5409]*0,F=+i[5410]*0,i[5461]=+i[5408]*0,i[5462]=Y,i[5463]=F,i[5464]=0,e[o+4>>2]=7,e[o+8>>2]=-1,e[o+12>>2]=-1,i[o+16>>2]=34028234663852886e22,A[o+20>>0]=1,A[o+21>>0]=0,e[o+24>>2]=-1,u=o+28|0,e[u>>2]=21260,l=o+32|0,e[l>>2]=t,i[o+36>>2]=0,i[o+40>>2]=.30000001192092896,e[o+44>>2]=0,e[o>>2]=7600,A[o+48>>0]=0,te=o+116|0,e[te>>2]=e[n>>2],e[te+4>>2]=e[n+4>>2],e[te+8>>2]=e[n+8>>2],e[te+12>>2]=e[n+12>>2],W=o+132|0,e[W>>2]=e[n+16>>2],e[W+4>>2]=e[n+16+4>>2],e[W+8>>2]=e[n+16+8>>2],e[W+12>>2]=e[n+16+12>>2],ne=o+148|0,e[ne>>2]=e[n+32>>2],e[ne+4>>2]=e[n+32+4>>2],e[ne+8>>2]=e[n+32+8>>2],e[ne+12>>2]=e[n+32+12>>2],X=o+164|0,e[X>>2]=e[n+48>>2],e[X+4>>2]=e[n+48+4>>2],e[X+8>>2]=e[n+48+8>>2],e[X+12>>2]=e[n+48+12>>2],A[o+180>>0]=s&1,F=+i[te>>2],Y=+i[t+4>>2],k=+i[W>>2],z=+i[t+8>>2],B=+i[ne>>2],O=+i[t+12>>2],N=+i[o+120>>2],D=+i[o+136>>2],E=+i[o+152>>2],M=+i[o+124>>2],C=+i[o+140>>2],g=+i[o+156>>2],V=+i[t+20>>2],U=+i[t+24>>2],L=+i[t+28>>2],w=+i[t+36>>2],S=+i[t+40>>2],m=+i[t+44>>2],q=+i[X>>2],$=+i[o+168>>2],_=+i[o+172>>2],d=+i[t+52>>2]+(Y*q+z*$+O*_),h=V*q+U*$+L*_+ +i[t+56>>2],_=w*q+S*$+m*_+ +i[t+60>>2],i[o+52>>2]=F*Y+k*z+B*O,i[o+56>>2]=Y*N+z*D+O*E,i[o+60>>2]=Y*M+z*C+O*g,i[o+64>>2]=0,i[o+68>>2]=F*V+k*U+B*L,i[o+72>>2]=N*V+D*U+E*L,i[o+76>>2]=M*V+C*U+g*L,i[o+80>>2]=0,i[o+84>>2]=F*w+k*S+B*m,i[o+88>>2]=N*w+D*S+E*m,i[o+92>>2]=M*w+C*S+g*m,i[o+96>>2]=0,i[o+100>>2]=d,i[o+104>>2]=h,i[o+108>>2]=_,i[o+112>>2]=0,i[o+184>>2]=1,i[o+188>>2]=-1,i[o+192>>2]=0,i[o+196>>2]=0,i[o+200>>2]=1,i[o+204>>2]=.699999988079071,i[o+208>>2]=0,i[o+212>>2]=0,i[o+216>>2]=1,i[o+220>>2]=.699999988079071,i[o+224>>2]=0,i[o+228>>2]=0,i[o+264>>2]=1,i[o+268>>2]=.699999988079071,i[o+272>>2]=1,i[o+276>>2]=0,i[o+280>>2]=1,i[o+284>>2]=.699999988079071,i[o+288>>2]=1,i[o+292>>2]=0,i[o+232>>2]=1,i[o+236>>2]=.699999988079071,i[o+240>>2]=1,i[o+244>>2]=0,i[o+248>>2]=1,i[o+252>>2]=.699999988079071,i[o+256>>2]=1,i[o+260>>2]=0,A[o+1096>>0]=0,s=o+1100|0,i[o+1116>>2]=0,i[o+1120>>2]=0,i[o+1124>>2]=0,e[o+300>>2]=0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,A[s+12>>0]=0,A[o+49>>0]=1,hh(o,(e[u>>2]|0)+4|0,(e[l>>2]|0)+4|0),H=a,o|0}function qB(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0;return e[5637]=(e[5637]|0)+1,l=Xe(1147)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,e[l+4>>2]=7,e[l+8>>2]=-1,e[l+12>>2]=-1,i[l+16>>2]=34028234663852886e22,A[l+20>>0]=1,A[l+21>>0]=0,e[l+24>>2]=-1,u=l+28|0,e[u>>2]=t,t=l+32|0,e[t>>2]=n,i[l+36>>2]=0,i[l+40>>2]=.30000001192092896,e[l+44>>2]=0,e[l>>2]=7600,A[l+48>>0]=0,n=l+52|0,e[n>>2]=e[s>>2],e[n+4>>2]=e[s+4>>2],e[n+8>>2]=e[s+8>>2],e[n+12>>2]=e[s+12>>2],n=l+68|0,e[n>>2]=e[s+16>>2],e[n+4>>2]=e[s+16+4>>2],e[n+8>>2]=e[s+16+8>>2],e[n+12>>2]=e[s+16+12>>2],n=l+84|0,e[n>>2]=e[s+32>>2],e[n+4>>2]=e[s+32+4>>2],e[n+8>>2]=e[s+32+8>>2],e[n+12>>2]=e[s+32+12>>2],n=l+100|0,e[n>>2]=e[s+48>>2],e[n+4>>2]=e[s+48+4>>2],e[n+8>>2]=e[s+48+8>>2],e[n+12>>2]=e[s+48+12>>2],s=l+116|0,e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],e[s+12>>2]=e[o+12>>2],s=l+132|0,e[s>>2]=e[o+16>>2],e[s+4>>2]=e[o+16+4>>2],e[s+8>>2]=e[o+16+8>>2],e[s+12>>2]=e[o+16+12>>2],s=l+148|0,e[s>>2]=e[o+32>>2],e[s+4>>2]=e[o+32+4>>2],e[s+8>>2]=e[o+32+8>>2],e[s+12>>2]=e[o+32+12>>2],s=l+164|0,e[s>>2]=e[o+48>>2],e[s+4>>2]=e[o+48+4>>2],e[s+8>>2]=e[o+48+8>>2],e[s+12>>2]=e[o+48+12>>2],A[l+180>>0]=a&1,i[l+184>>2]=1,i[l+188>>2]=-1,i[l+192>>2]=0,i[l+196>>2]=0,i[l+200>>2]=1,i[l+204>>2]=.699999988079071,i[l+208>>2]=0,i[l+212>>2]=0,i[l+216>>2]=1,i[l+220>>2]=.699999988079071,i[l+224>>2]=0,i[l+228>>2]=0,i[l+264>>2]=1,i[l+268>>2]=.699999988079071,i[l+272>>2]=1,i[l+276>>2]=0,i[l+280>>2]=1,i[l+284>>2]=.699999988079071,i[l+288>>2]=1,i[l+292>>2]=0,i[l+232>>2]=1,i[l+236>>2]=.699999988079071,i[l+240>>2]=1,i[l+244>>2]=0,i[l+248>>2]=1,i[l+252>>2]=.699999988079071,i[l+256>>2]=1,i[l+260>>2]=0,A[l+1096>>0]=0,a=l+1100|0,i[l+1116>>2]=0,i[l+1120>>2]=0,i[l+1124>>2]=0,e[l+300>>2]=0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,A[a+12>>0]=0,A[l+49>>0]=1,hh(l,(e[u>>2]|0)+4|0,(e[t>>2]|0)+4|0),l|0}function XB(t,n){t=t|0,n=n|0,A[t+21>>0]=n&1}function $B(t){return t=t|0,+ +i[t+16>>2]}function YB(t,n){t=t|0,n=+n,i[t+16>>2]=n}function KB(t,n){t=t|0,n=+n,n=+an(n),n<-3.1415927410125732?n=n+6.2831854820251465:n>3.1415927410125732&&(n=n+-6.2831854820251465),i[t+192>>2]=n}function ZB(t,n){t=t|0,n=+n,i[t+184>>2]=n}function QB(t,n){t=t|0,n=+n,n=+an(n),n<-3.1415927410125732?n=n+6.2831854820251465:n>3.1415927410125732&&(n=n+-6.2831854820251465),i[t+196>>2]=n}function JB(t,n){t=t|0,n=+n,i[t+188>>2]=n}function eU(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function tU(t){t=+t;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(75)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,e[n+8>>2]=0,e[n+12>>2]=-1,e[n+16>>2]=1065353216,e[n+20>>2]=1065353216,e[n+24>>2]=1065353216,i[n+28>>2]=0,e[n>>2]=6380,e[n+4>>2]=8,i[n+32>>2]=t,i[n+48>>2]=t,n|0}function iU(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function nU(t){return t=t|0,+ +Tt[e[(e[t>>2]|0)+48>>2]&15](t)}function rU(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function sU(t,n){t=t|0,n=+n,g2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function oU(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function aU(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,_=0;return e[5637]=(e[5637]|0)+1,s=Xe(107)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=s+4|0,e[o>>2]=35,e[s+8>>2]=0,e[s+12>>2]=-1,i[s+16>>2]=0,e[s>>2]=6480,_=+i[t>>2],u=+i[t+4>>2],l=+i[t+8>>2],t=e[t+12>>2]|0,a=1/+at(+(_*_+u*u+l*l)),i[s+52>>2]=_*a,i[s+56>>2]=u*a,i[s+60>>2]=l*a,e[s+64>>2]=t,i[s+68>>2]=n,e[s+72>>2]=1065353216,e[s+76>>2]=1065353216,e[s+80>>2]=1065353216,i[s+84>>2]=0,e[o>>2]=28,s|0}function cU(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function lU(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function uU(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function fU(t){t=t|0,t&&ye(t)}function pU(){for(var t=0,n=0;;){if(t=Xe(64)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}x2[t&3]()}if((n|0)==5)n=k2(4)|0,e[n>>2]=8308,F2(n|0,2416,215);else if((n|0)==6)return t|0;return 0}function _U(t,n){t=t|0,n=n|0;for(var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;;){if(s=Xe(64)|0,s|0){o=6;break}if(s=e[5831]|0,e[5831]=s+0,!s){o=5;break}x2[s&3]()}if((o|0)==5)n=k2(4)|0,e[n>>2]=8308,F2(n|0,2416,215);else if((o|0)==6)return _=+i[t>>2],l=+i[t+4>>2],m=+i[t+8>>2],h=+i[t+12>>2],u=_*(2/(_*_+l*l+m*m+h*h)),a=l*(2/(_*_+l*l+m*m+h*h)),d=m*(2/(_*_+l*l+m*m+h*h)),i[s>>2]=1-(l*a+m*d),i[s+4>>2]=_*a-h*d,i[s+8>>2]=_*d+h*a,i[s+12>>2]=0,i[s+16>>2]=_*a+h*d,i[s+20>>2]=1-(_*u+m*d),i[s+24>>2]=l*d-h*u,i[s+28>>2]=0,i[s+32>>2]=_*d-h*a,i[s+36>>2]=l*d+h*u,i[s+40>>2]=1-(_*u+l*a),i[s+44>>2]=0,e[s+48>>2]=e[n>>2],e[s+48+4>>2]=e[n+4>>2],e[s+48+8>>2]=e[n+8>>2],e[s+48+12>>2]=e[n+12>>2],s|0;return 0}function hU(t){return t=t|0,t|0}function dU(t){return t=t|0,t+48|0}function mU(t){t=t|0;var n=0;return n=H,H=H+16|0,A[19928]|0||(A[19928]=1),xs(t,n),e[5700]=e[n>>2],e[5701]=e[n+4>>2],e[5702]=e[n+8>>2],e[5703]=e[n+12>>2],H=n,22800}function gU(t){t=t|0,e[t>>2]=1065353216,e[t+4>>2]=0,e[t+4+4>>2]=0,e[t+4+8>>2]=0,e[t+4+12>>2]=0,e[t+20>>2]=1065353216,e[t+24>>2]=0,e[t+24+4>>2]=0,e[t+24+8>>2]=0,e[t+24+12>>2]=0,e[t+40>>2]=1065353216,e[t+44>>2]=0,e[t+44+4>>2]=0,e[t+44+8>>2]=0,e[t+44+12>>2]=0,e[t+44+16>>2]=0}function xU(t,n){t=t|0,n=n|0,e[t+48>>2]=e[n>>2],e[t+48+4>>2]=e[n+4>>2],e[t+48+8>>2]=e[n+8>>2],e[t+48+12>>2]=e[n+12>>2]}function yU(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0;l=+i[n>>2],o=+i[n+4>>2],h=+i[n+8>>2],u=+i[n+12>>2],a=l*(2/(l*l+o*o+h*h+u*u)),s=o*(2/(l*l+o*o+h*h+u*u)),_=h*(2/(l*l+o*o+h*h+u*u)),i[t>>2]=1-(o*s+h*_),i[t+4>>2]=l*s-u*_,i[t+8>>2]=l*_+u*s,i[t+12>>2]=0,i[t+16>>2]=l*s+u*_,i[t+20>>2]=1-(l*a+h*_),i[t+24>>2]=o*_-u*a,i[t+28>>2]=0,i[t+32>>2]=l*_-u*s,i[t+36>>2]=o*_+u*a,i[t+40>>2]=1-(l*a+o*s),i[t+44>>2]=0}function vU(t){t=t|0,t&&ye(t)}function SU(t){return t=t|0,t+260|0}function TU(t,n){t=t|0,n=n|0,e[t+260>>2]=e[n>>2],e[t+260+4>>2]=e[n+4>>2],e[t+260+8>>2]=e[n+8>>2],e[t+260+12>>2]=e[n+12>>2]}function CU(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function wU(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function MU(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function RU(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function AU(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;a=e[t+32>>2]|0,e[a>>2]=(e[a>>2]|0)+1,Cc(t,wc(t,n,0)|0),Cc(t,wc(t,s,0)|0),Cc(t,wc(t,o,0)|0)}function EU(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0;l=e[t+32>>2]|0,e[l>>2]=(e[l>>2]|0)+1,Cc(t,wc(t,n,a)|0),Cc(t,wc(t,s,a)|0),Cc(t,wc(t,o,a)|0)}function bU(){var t=0;return e[5637]=(e[5637]|0)+1,t=Xe(191)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,gh(t,1,1),t|0}function NU(t){t=t|0;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(191)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,gh(n,t,1),n|0}function DU(t,n){t=t|0,n=n|0;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(191)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,gh(s,t,n),s|0}function IU(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function PU(t,n){t=t|0,n=n|0,A[t+21>>0]=n&1}function LU(t){return t=t|0,+ +i[t+16>>2]}function kU(t,n){t=t|0,n=+n,i[t+16>>2]=n}function FU(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function BU(){var t=0;return e[5637]=(e[5637]|0)+1,t=Xe(35)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16,t|0):(t=0,t|0)}function UU(t,n,s){t=+t,n=+n,s=+s;var o=0;return e[5637]=(e[5637]|0)+1,o=Xe(35)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,i[o>>2]=t,i[o+4>>2]=n,i[o+8>>2]=s,i[o+12>>2]=0,o|0}function OU(t,n){return t=t|0,n=n|0,+(+i[t>>2]*+i[n>>2]+ +i[t+4>>2]*+i[n+4>>2]+ +i[t+8>>2]*+i[n+8>>2])}function GU(t){t=t|0;var n=0,s=0,o=0;return o=+i[t>>2],s=+i[t+4>>2],n=+i[t+8>>2],+ +at(+(o*o+s*s+n*n))}function VU(t){t=t|0;var n=0,s=0,o=0,a=0;a=+i[t>>2],o=+i[t+4>>2],s=+i[t+8>>2],n=1/+at(+(a*a+o*o+s*s)),i[t>>2]=a*n,i[t+4>>2]=o*n,i[t+8>>2]=s*n}function zU(t,n){return t=t|0,n=n|0,i[t>>2]=+i[n>>2]+ +i[t>>2],i[t+4>>2]=+i[n+4>>2]+ +i[t+4>>2],i[t+8>>2]=+i[n+8>>2]+ +i[t+8>>2],t|0}function WU(t,n){return t=t|0,n=+n,i[t>>2]=+i[t>>2]*n,i[t+4>>2]=+i[t+4>>2]*n,i[t+8>>2]=+i[t+8>>2]*n,t|0}function HU(t,n){return t=t|0,n=n|0,i[t>>2]=+i[t>>2]-+i[n>>2],i[t+4>>2]=+i[t+4>>2]-+i[n+4>>2],i[t+8>>2]=+i[t+8>>2]-+i[n+8>>2],t|0}function jU(t,n,s,o){t=t|0,n=+n,s=+s,o=+o,i[t>>2]=n,i[t+4>>2]=s,i[t+8>>2]=o,i[t+12>>2]=0}function qU(t,n){t=t|0,n=+n,i[t>>2]=n}function XU(t,n){t=t|0,n=+n,i[t+4>>2]=n}function $U(t,n){t=t|0,n=+n,i[t+8>>2]=n}function YU(t){return t=t|0,+ +i[t>>2]}function KU(t){return t=t|0,+ +i[t+4>>2]}function ZU(t){return t=t|0,+ +i[t+8>>2]}function QU(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function JU(){var t=0;return e[5637]=(e[5637]|0)+1,t=Xe(35)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16,t|0):(t=0,t|0)}function eO(t,n,s,o){t=+t,n=+n,s=+s,o=+o;var a=0;return e[5637]=(e[5637]|0)+1,a=Xe(35)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,i[a>>2]=t,i[a+4>>2]=n,i[a+8>>2]=s,i[a+12>>2]=o,a|0}function tO(t,n){return t=t|0,n=n|0,+(+i[t>>2]*+i[n>>2]+ +i[t+4>>2]*+i[n+4>>2]+ +i[t+8>>2]*+i[n+8>>2])}function iO(t){t=t|0;var n=0,s=0,o=0;return o=+i[t>>2],s=+i[t+4>>2],n=+i[t+8>>2],+ +at(+(o*o+s*s+n*n))}function nO(t){t=t|0;var n=0,s=0,o=0,a=0;a=+i[t>>2],o=+i[t+4>>2],s=+i[t+8>>2],n=1/+at(+(a*a+o*o+s*s)),i[t>>2]=a*n,i[t+4>>2]=o*n,i[t+8>>2]=s*n}function rO(t,n){return t=t|0,n=n|0,i[t>>2]=+i[n>>2]+ +i[t>>2],i[t+4>>2]=+i[n+4>>2]+ +i[t+4>>2],i[t+8>>2]=+i[n+8>>2]+ +i[t+8>>2],t|0}function sO(t,n){return t=t|0,n=+n,i[t>>2]=+i[t>>2]*n,i[t+4>>2]=+i[t+4>>2]*n,i[t+8>>2]=+i[t+8>>2]*n,t|0}function oO(t,n){return t=t|0,n=n|0,i[t>>2]=+i[t>>2]-+i[n>>2],i[t+4>>2]=+i[t+4>>2]-+i[n+4>>2],i[t+8>>2]=+i[t+8>>2]-+i[n+8>>2],t|0}function aO(t,n,s,o,a){t=t|0,n=+n,s=+s,o=+o,a=+a,i[t>>2]=n,i[t+4>>2]=s,i[t+8>>2]=o,i[t+12>>2]=a}function cO(t,n){t=t|0,n=+n,i[t>>2]=n}function lO(t,n){t=t|0,n=+n,i[t+4>>2]=n}function uO(t,n){t=t|0,n=+n,i[t+8>>2]=n}function fO(t){return t=t|0,+ +i[t+12>>2]}function pO(t){return t=t|0,+ +i[t>>2]}function _O(t){return t=t|0,+ +i[t+4>>2]}function hO(t){return t=t|0,+ +i[t+8>>2]}function dO(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function mO(){for(var t=0,n=0;;){if(t=Xe(24)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}x2[t&3]()}if((n|0)==5)n=k2(4)|0,e[n>>2]=8308,F2(n|0,2416,215);else if((n|0)==6)return i[t>>2]=5.880000114440918,i[t+4>>2]=.8299999833106995,i[t+8>>2]=.8799999952316284,i[t+12>>2]=500,i[t+16>>2]=10.5,i[t+20>>2]=6e3,t|0;return 0}function gO(t){return t=t|0,+ +i[t+16>>2]}function xO(t){return t=t|0,+ +i[t+20>>2]}function yO(t){return t=t|0,+ +i[t+12>>2]}function vO(t){return t=t|0,+ +i[t+4>>2]}function SO(t){return t=t|0,+ +i[t+8>>2]}function TO(t){return t=t|0,+ +i[t>>2]}function CO(t,n){t=t|0,n=+n,i[t+16>>2]=n}function wO(t,n){t=t|0,n=+n,i[t+20>>2]=n}function MO(t,n){t=t|0,n=+n,i[t+12>>2]=n}function RO(t,n){t=t|0,n=+n,i[t+4>>2]=n}function AO(t,n){t=t|0,n=+n,i[t+8>>2]=n}function EO(t,n){t=t|0,n=+n,i[t>>2]=n}function bO(t){t=t|0,t&&ye(t)}function NO(t){return t=t|0,(A[t+260>>0]|0)!=0|0}function DO(t){return t=t|0,t+156|0}function IO(t){return t=t|0,+ +i[t+252>>2]}function PO(t){return t=t|0,+ +i[t+228>>2]}function LO(t){return t=t|0,+ +i[t+248>>2]}function kO(t){return t=t|0,+ +i[t+208>>2]}function FO(t){return t=t|0,t|0}function BO(t){return t=t|0,+ +i[t+244>>2]}function UO(t){return t=t|0,+ +i[t+232>>2]}function OO(t){return t=t|0,+ +i[t+204>>2]}function GO(t){return t=t|0,+ +i[t+216>>2]}function VO(t){return t=t|0,+ +i[t+220>>2]}function zO(t){return t=t|0,+ +i[t+224>>2]}function WO(t){return t=t|0,+ +i[t+212>>2]}function HO(t){return t=t|0,+ +i[t+276>>2]}function jO(t,n){t=t|0,n=n|0,A[t+260>>0]=n&1}function qO(t,n){t=t|0,n=n|0,e[t+156>>2]=e[n>>2],e[t+156+4>>2]=e[n+4>>2],e[t+156+8>>2]=e[n+8>>2],e[t+156+12>>2]=e[n+12>>2]}function XO(t,n){t=t|0,n=+n,i[t+252>>2]=n}function $O(t,n){t=t|0,n=+n,i[t+228>>2]=n}function YO(t,n){t=t|0,n=+n,i[t+248>>2]=n}function KO(t,n){t=t|0,n=+n,i[t+208>>2]=n}function ZO(t,n){t=t|0,n=n|0;var s=0;s=t+92|0;do e[t>>2]=e[n>>2],t=t+4|0,n=n+4|0;while((t|0)<(s|0))}function QO(t,n){t=t|0,n=+n,i[t+244>>2]=n}function JO(t,n){t=t|0,n=+n,i[t+232>>2]=n}function eG(t,n){t=t|0,n=+n,i[t+204>>2]=n}function tG(t,n){t=t|0,n=+n,i[t+216>>2]=n}function iG(t,n){t=t|0,n=+n,i[t+220>>2]=n}function nG(t,n){t=t|0,n=+n,i[t+224>>2]=n}function rG(t,n){t=t|0,n=+n,i[t+212>>2]=n}function sG(t,n){t=t|0,n=+n,i[t+276>>2]=n}function oG(){return 0}function aG(){return 1}function cG(){return 2}function lG(){return 3}function uG(){return 4}function fG(){return 5}function pG(t){t=t|0;var n=0,s=0;return s=H,H=H+16|0,e[s>>2]=e[t+60>>2],t=XI(6,s|0)|0,t>>>0>4294963200&&(n=22816,e[n>>2]=0-t,t=-1),H=s,t|0}function _G(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;for(h=H,H=H+48|0,l=e[t+28>>2]|0,e[h+32>>2]=l,l=(e[t+20>>2]|0)-l|0,e[h+32+4>>2]=l,e[h+32+8>>2]=n,e[h+32+12>>2]=s,_=h+32|0,a=2,l=l+s|0;;){if(e[h+16>>2]=e[t+60>>2],e[h+16+4>>2]=_,e[h+16+8>>2]=a,n=KI(146,h+16|0)|0,n>>>0>4294963200&&(o=22816,e[o>>2]=0-n,n=-1),(l|0)==(n|0)){n=13;break}if((n|0)<0){n=15;break}l=l-n|0,o=e[_+4>>2]|0,n>>>0<=o>>>0?(a|0)==2?(e[t+28>>2]=(e[t+28>>2]|0)+n,u=o,o=_,a=2):(u=o,o=_):(u=e[t+44>>2]|0,e[t+28>>2]=u,e[t+20>>2]=u,u=e[_+12>>2]|0,n=n-o|0,o=_+8|0,a=a+-1|0),e[o>>2]=(e[o>>2]|0)+n,e[o+4>>2]=u-n,_=o}return(n|0)==13?(_=e[t+44>>2]|0,e[t+16>>2]=_+(e[t+48>>2]|0),e[t+28>>2]=_,e[t+20>>2]=_):(n|0)==15&&(e[t+16>>2]=0,e[t+28>>2]=0,e[t+20>>2]=0,e[t>>2]=e[t>>2]|32,(a|0)==2?s=0:s=s-(e[_+4>>2]|0)|0),H=h,s|0}function hG(t){t=t|0}function dG(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return a=H,H=H+32|0,e[a>>2]=e[t+60>>2],e[a+4>>2]=0,e[a+8>>2]=n,e[a+12>>2]=a+20,e[a+16>>2]=s,n=$I(140,a|0)|0,n>>>0<=4294963200?(n|0)<0?o=7:t=e[a+20>>2]|0:(t=22816,e[t>>2]=0-n,o=7),(o|0)==7&&(e[a+20>>2]=-1,t=-1),H=a,t|0}function mG(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;e:do if((s|0)!=0&(t&3|0)!=0)for(o=s;;){if((A[t>>0]|0)==(n&255)<<24>>24)break e;if(t=t+1|0,s=o+-1|0,(s|0)!=0&(t&3|0)!=0)o=s;else{o=s,s=(s|0)!=0,a=5;break}}else o=s,s=(s|0)!=0,a=5;while(!1);e:do if((a|0)==5)if(s){if((A[t>>0]|0)!=(n&255)<<24>>24){s=Rt(n&255,16843009)|0;t:do if(o>>>0>3){for(;l=e[t>>2]^s,!((l&-2139062144^-2139062144)&l+-16843009|0);)if(t=t+4|0,o=o+-4|0,o>>>0<=3){a=11;break t}}else a=11;while(!1);if((a|0)==11&&!o){o=0;break}for(;;){if((A[t>>0]|0)==(n&255)<<24>>24)break e;if(t=t+1|0,o=o+-1|0,!o){o=0;break}}}}else o=0;while(!1);return(o|0?t:0)|0}function rh(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0;W=H,H=H+624|0,$=W+536+40|0,X=W+588|0,ne=W+576+12|0,q=W+588+9|0,l=0,u=0,m=0,M=n;e:for(;;){do if((l|0)>-1){if((u|0)<=(2147483647-l|0)){l=u+l|0;break}l=22816,e[l>>2]=75,l=-1}while(!1);if(n=A[M>>0]|0,n<<24>>24)u=M;else{Y=254;break}t:for(;;){switch(n<<24>>24){case 37:{n=u,Y=11;break t}case 0:{n=u;break t}default:}z=u+1|0,n=A[z>>0]|0,u=z}t:do if((Y|0)==11)for(;;){if(Y=0,(A[n+1>>0]|0)!=37)break t;if(u=u+1|0,n=n+2|0,(A[n>>0]|0)==37)Y=11;else break}while(!1);if(w=u-M|0,t|0&&(e[t>>2]&32|0)==0&&rr(M,w,t),(u|0)!=(M|0)){u=w,M=n;continue}_=n+1|0,u=A[_>>0]|0,((u<<24>>24)+-48|0)>>>0<10?(z=(A[n+2>>0]|0)==36,_=z?n+3|0:_,d=A[_>>0]|0,C=z?(u<<24>>24)+-48|0:-1,m=z?1:m):(d=u,C=-1),n=d<<24>>24;t:do if((n&-32|0)==32){u=d,d=0;do{if(!(1<<n+-32&75913))break t;d=1<<(u<<24>>24)+-32|d,_=_+1|0,u=A[_>>0]|0,n=u<<24>>24}while((n&-32|0)==32)}else u=d,d=0;while(!1);do if(u<<24>>24==42){if(u=_+1|0,n=(A[u>>0]|0)+-48|0,n>>>0<10&&(A[_+2>>0]|0)==36)e[a+(n<<2)>>2]=10,n=1,_=_+3|0,u=e[o+((A[u>>0]|0)+-48<<3)>>2]|0;else{if(m|0){l=-1;break e}if(!t){S=d,z=0,_=u,O=0;break}n=(e[s>>2]|0)+3&-4,z=e[n>>2]|0,e[s>>2]=n+4,n=0,_=u,u=z}(u|0)<0?(S=d|8192,z=n,O=0-u|0):(S=d,z=n,O=u)}else if(n=(u<<24>>24)+-48|0,n>>>0<10){u=0;do u=(u*10|0)+n|0,_=_+1|0,n=(A[_>>0]|0)+-48|0;while(n>>>0<10);if((u|0)<0){l=-1;break e}else S=d,z=m,O=u}else S=d,z=m,O=0;while(!1);t:do if((A[_>>0]|0)==46){if(n=_+1|0,d=A[n>>0]|0,d<<24>>24!=42){if(((d<<24>>24)+-48|0)>>>0<10)u=0,_=(d<<24>>24)+-48|0;else{m=0;break}for(;;)if(u=(u*10|0)+_|0,n=n+1|0,_=(A[n>>0]|0)+-48|0,_>>>0>=10){m=u;break t}}if(n=_+2|0,u=(A[n>>0]|0)+-48|0,u>>>0<10&&(A[_+3>>0]|0)==36){e[a+(u<<2)>>2]=10,m=e[o+((A[n>>0]|0)+-48<<3)>>2]|0,n=_+4|0;break}if(z|0){l=-1;break e}t|0?(V=(e[s>>2]|0)+3&-4,m=e[V>>2]|0,e[s>>2]=V+4):m=0}else m=-1,n=_;while(!1);for(d=0;;){if(u=(A[n>>0]|0)+-65|0,u>>>0>57){l=-1;break e}if(V=n+1|0,u=A[16811+(d*58|0)+u>>0]|0,((u&255)+-1|0)>>>0<8)n=V,d=u&255;else break}if(!(u<<24>>24)){l=-1;break}_=(C|0)>-1;do if(u<<24>>24==19)if(_){l=-1;break e}else Y=54;else{if(_){e[a+(C<<2)>>2]=u&255,U=o+(C<<3)|0,Y=e[U+4>>2]|0,e[W>>2]=e[U>>2],e[W+4>>2]=Y,Y=54;break}if(!t){l=0;break e}K8(W,u&255,s)}while(!1);if((Y|0)==54&&(Y=0,(t|0)==0)){u=w,m=z,M=V;continue}L=A[n>>0]|0,L=(d|0)!=0&(L&15|0)==3?L&-33:L,_=S&-65537,U=(S&8192|0)==0?S:_;t:do switch(L|0){case 110:switch(d|0){case 0:{e[e[W>>2]>>2]=l,u=w,m=z,M=V;continue e}case 1:{e[e[W>>2]>>2]=l,u=w,m=z,M=V;continue e}case 2:{u=e[W>>2]|0,e[u>>2]=l,e[u+4>>2]=((l|0)<0)<<31>>31,u=w,m=z,M=V;continue e}case 3:{ee[e[W>>2]>>1]=l,u=w,m=z,M=V;continue e}case 4:{A[e[W>>2]>>0]=l,u=w,m=z,M=V;continue e}case 6:{e[e[W>>2]>>2]=l,u=w,m=z,M=V;continue e}case 7:{u=e[W>>2]|0,e[u>>2]=l,e[u+4>>2]=((l|0)<0)<<31>>31,u=w,m=z,M=V;continue e}default:{u=w,m=z,M=V;continue e}}case 112:{S=U|8,m=m>>>0>8?m:8,C=120,Y=66;break}case 88:case 120:{S=U,C=L,Y=66;break}case 111:{if(u=e[W>>2]|0,_=e[W+4>>2]|0,(u|0)==0&(_|0)==0)n=$;else{n=$;do n=n+-1|0,A[n>>0]=u&7|48,u=Xf(u|0,_|0,3)|0,_=Ge;while(!((u|0)==0&(_|0)==0))}U&8?(S=$-n|0,u=U,m=(m|0)>(S|0)?m:S+1|0,S=0,d=17291,Y=79):(u=U,S=0,d=17291,Y=79);break}case 105:case 100:{if(n=e[W>>2]|0,u=e[W+4>>2]|0,(u|0)<0){n=Wi(0,0,n|0,u|0)|0,u=Ge,e[W>>2]=n,e[W+4>>2]=u,_=1,d=17291,Y=78;break t}U&2048?(_=1,d=17292,Y=78):(_=U&1,d=(U&1|0)==0?17291:17293,Y=78);break}case 117:{n=e[W>>2]|0,u=e[W+4>>2]|0,_=0,d=17291,Y=78;break}case 99:{A[W+536+39>>0]=e[W>>2],n=W+536+39|0,C=1,M=0,w=17291,u=$;break}case 109:{for(n=22816,u=e[n>>2]|0,n=0;;){if((It[17301+n>>0]|0)==(u|0)){Y=85;break}if(n=n+1|0,(n|0)==87){u=87,n=17389;break}}if((Y|0)==85)if(n)u=n,n=17389;else{u=17389,Y=92;break t}do{do Y=n,n=n+1|0;while((A[Y>>0]|0)!=0);u=u+-1|0}while((u|0)!=0);u=n,Y=92;break}case 115:{u=e[W>>2]|0,u=u|0?u:19193,Y=92;break}case 67:{e[W+8>>2]=e[W>>2],e[W+8+4>>2]=0,e[W>>2]=W+8,n=W+8|0,m=-1,Y=96;break}case 83:{n=e[W>>2]|0,m?Y=96:(yr(t,32,O,0,U),n=0,Y=107);break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{h=+Mt[W>>3],e[W+16>>2]=0,Mt[Z>>3]=h,(e[Z+4>>2]|0)>=0?U&2048?(k=1,F=19203):(k=U&1,F=(U&1|0)==0?19201:19206):(h=-h,k=1,F=19200),Mt[Z>>3]=h,B=e[Z+4>>2]&2146435072;do if(B>>>0<2146435072|(B|0)==2146435072&!1){if(h=+Q8(h,W+16|0)*2,h!=0&&(e[W+16>>2]=(e[W+16>>2]|0)+-1),(L|32|0)==97){C=(L&32|0)==0?F:F+9|0,S=k|2,n=12-m|0;do if(!(m>>>0>11|(n|0)==0)){g=8;do n=n+-1|0,g=g*16;while((n|0)!=0);if((A[C>>0]|0)==45){h=-(g+(-h-g));break}else{h=h+g-g;break}}while(!1);for(u=e[W+16>>2]|0,n=(u|0)<0?0-u|0:u,n=Sc(n,((n|0)<0)<<31>>31,W+576+12|0)|0,(n|0)==(W+576+12|0)&&(A[W+576+11>>0]=48,n=W+576+11|0),A[n+-1>>0]=(u>>31&2)+43,d=n+-2|0,A[d>>0]=L+15,_=(m|0)<1,n=W+588|0;;){F=~~h,u=n+1|0,A[n>>0]=It[17275+F>>0]|L&32,h=(h-+(F|0))*16;do if((u-X|0)==1){if((U&8|0)==0&(_&h==0))break;A[u>>0]=46,u=n+2|0}while(!1);if(h==0)break;n=u}n=(m|0)!=0&(-2-X+u|0)<(m|0)?ne+2+m-d|0:ne-X-d+u|0,yr(t,32,O,n+S|0,U),e[t>>2]&32||rr(C,S,t),yr(t,48,O,n+S|0,U^65536),e[t>>2]&32||rr(W+588|0,u-X|0,t),yr(t,48,n-(u-X+(ne-d))|0,0,0),e[t>>2]&32||rr(d,ne-d|0,t),yr(t,32,O,n+S|0,U^8192),n=(n+S|0)<(O|0)?O:n+S|0;break}n=(m|0)<0?6:m,h!=0?(u=(e[W+16>>2]|0)+-28|0,e[W+16>>2]=u,h=h*268435456):u=e[W+16>>2]|0,B=(u|0)<0?W+24|0:W+24+288|0,d=B;do N=~~h>>>0,e[d>>2]=N,d=d+4|0,h=(h-+(N>>>0))*1e9;while(h!=0);if(u=e[W+16>>2]|0,(u|0)>0){_=B;do{S=(u|0)>29?29:u,u=d+-4|0;do if(u>>>0>=_>>>0){m=0;do D=n6(e[u>>2]|0,0,S|0)|0,D=$t(D|0,Ge|0,m|0,0)|0,N=Ge,E=a6(D|0,N|0,1e9,0)|0,e[u>>2]=E,m=o6(D|0,N|0,1e9,0)|0,u=u+-4|0;while(u>>>0>=_>>>0);if(!m)break;_=_+-4|0,e[_>>2]=m}while(!1);for(;!(d>>>0<=_>>>0);)if(u=d+-4|0,!(e[u>>2]|0))d=u;else break;u=(e[W+16>>2]|0)-S|0,e[W+16>>2]=u}while((u|0)>0)}else _=B;if((u|0)<0){do{S=0-u|0,S=(S|0)>9?9:S;do if(_>>>0<d>>>0){m=0,u=_;do N=e[u>>2]|0,e[u>>2]=(N>>>S)+m,m=Rt(N&(1<<S)+-1,1e9>>>S)|0,u=u+4|0;while(u>>>0<d>>>0);if(u=(e[_>>2]|0)==0?_+4|0:_,!m){_=u,u=d;break}e[d>>2]=m,_=u,u=d+4|0}else _=(e[_>>2]|0)==0?_+4|0:_,u=d;while(!1);d=(L|32|0)==102?B:_,d=(u-d>>2|0)>(((n+25|0)/9|0)+1|0)?d+(((n+25|0)/9|0)+1<<2)|0:u,u=(e[W+16>>2]|0)+S|0,e[W+16>>2]=u}while((u|0)<0);u=_}else u=_;do if(u>>>0<d>>>0){if(_=(B-u>>2)*9|0,S=e[u>>2]|0,S>>>0<10)break;m=10;do m=m*10|0,_=_+1|0;while(S>>>0>=m>>>0)}else _=0;while(!1);if(m=n-((L|32|0)!=102?_:0)+(((n|0)!=0&(L|32|0)==103)<<31>>31)|0,(m|0)<(((d-B>>2)*9|0)+-9|0)){if(E=B+4+(((m+9216|0)/9|0)+-1024<<2)|0,(((m+9216|0)%9|0)+1|0)<9)for(S=10,C=((m+9216|0)%9|0)+1|0;m=S*10|0,C=C+1|0,(C|0)!=9;)S=m;else m=10;w=e[E>>2]|0,M=(w>>>0)%(m>>>0)|0,S=(E+4|0)==(d|0);do if(S&(M|0)==0)m=E;else{g=(((w>>>0)/(m>>>0)|0)&1|0)==0?9007199254740992:9007199254740994,C=(m|0)/2|0,M>>>0<C>>>0?h=.5:h=S&(M|0)==(C|0)?1:1.5;do if(k){if((A[F>>0]|0)!=45)break;g=-g,h=-h}while(!1);if(e[E>>2]=w-M,g+h==g){m=E;break}if(N=w-M+m|0,e[E>>2]=N,N>>>0>999999999)for(_=E;m=_+-4|0,e[_>>2]=0,m>>>0<u>>>0&&(u=u+-4|0,e[u>>2]=0),N=(e[m>>2]|0)+1|0,e[m>>2]=N,N>>>0>999999999;)_=m;else m=E;if(_=(B-u>>2)*9|0,C=e[u>>2]|0,C>>>0<10)break;S=10;do S=S*10|0,_=_+1|0;while(C>>>0>=S>>>0)}while(!1);D=m+4|0,N=u,u=d>>>0>D>>>0?D:d}else N=u,u=d;for(C=0-_|0,D=u;;){if(D>>>0<=N>>>0){M=0;break}if(u=D+-4|0,!(e[u>>2]|0))D=u;else{M=1;break}}do if((L|32|0)==103){if((((n|0)!=0^1)+n|0)>(_|0)&(_|0)>-5?(S=L+-1|0,n=((n|0)!=0^1)+n+-1-_|0):(S=L+-2|0,n=((n|0)!=0^1)+n+-1|0),U&8|0){m=U&8;break}do if(M){if(u=e[D+-4>>2]|0,!u){d=9;break}if(!((u>>>0)%10|0))m=10,d=0;else{d=0;break}do m=m*10|0,d=d+1|0;while(!((u>>>0)%(m>>>0)|0|0))}else d=9;while(!1);if(u=((D-B>>2)*9|0)+-9|0,(S|32|0)==102){m=u-d|0,m=(m|0)<0?0:m,n=(n|0)<(m|0)?n:m,m=0;break}else{m=u+_-d|0,m=(m|0)<0?0:m,n=(n|0)<(m|0)?n:m,m=0;break}}else S=L,m=U&8;while(!1);if(w=n|m,d=(S|32|0)==102,d)u=(_|0)>0?_:0,C=0;else{if(u=(_|0)<0?C:_,u=Sc(u,((u|0)<0)<<31>>31,W+576+12|0)|0,(ne-u|0)<2)do u=u+-1|0,A[u>>0]=48;while((ne-u|0)<2);A[u+-1>>0]=(_>>31&2)+43,C=u+-2|0,A[C>>0]=S,u=ne-C|0}E=k+1+n+((w|0)!=0&1)+u|0,yr(t,32,O,E,U),e[t>>2]&32||rr(F,k,t),yr(t,48,O,E,U^65536);do if(d){d=N>>>0>B>>>0?B:N,_=d;do{u=Sc(e[_>>2]|0,0,q)|0;do if((_|0)==(d|0)){if((u|0)!=(q|0))break;A[W+588+8>>0]=48,u=W+588+8|0}else{if(u>>>0<=(W+588|0)>>>0)break;ln(W+588|0,48,u-X|0)|0;do u=u+-1|0;while(u>>>0>(W+588|0)>>>0)}while(!1);e[t>>2]&32||rr(u,q-u|0,t),_=_+4|0}while(_>>>0<=B>>>0);do if(w|0){if(e[t>>2]&32|0)break;rr(19235,1,t)}while(!1);if((n|0)>0&_>>>0<D>>>0)for(;;){if(u=Sc(e[_>>2]|0,0,q)|0,u>>>0>(W+588|0)>>>0){ln(W+588|0,48,u-X|0)|0;do u=u+-1|0;while(u>>>0>(W+588|0)>>>0)}if(e[t>>2]&32||rr(u,(n|0)>9?9:n,t),_=_+4|0,u=n+-9|0,(n|0)>9&_>>>0<D>>>0)n=u;else{n=u;break}}yr(t,48,n+9|0,9,0)}else{if(S=M?D:N+4|0,(n|0)>-1){m=(m|0)==0,d=N;do{u=Sc(e[d>>2]|0,0,q)|0,(u|0)==(q|0)&&(A[W+588+8>>0]=48,u=W+588+8|0);do if((d|0)==(N|0)){if(_=u+1|0,e[t>>2]&32||rr(u,1,t),m&(n|0)<1){u=_;break}if(e[t>>2]&32|0){u=_;break}rr(19235,1,t),u=_}else{if(u>>>0<=(W+588|0)>>>0)break;ln(W+588|0,48,u+(0-X)|0)|0;do u=u+-1|0;while(u>>>0>(W+588|0)>>>0)}while(!1);_=q-u|0,e[t>>2]&32||rr(u,(n|0)>(_|0)?_:n,t),n=n-_|0,d=d+4|0}while(d>>>0<S>>>0&(n|0)>-1)}if(yr(t,48,n+18|0,18,0),e[t>>2]&32|0)break;rr(C,ne-C|0,t)}while(!1);yr(t,32,O,E,U^8192),n=(E|0)<(O|0)?O:E}else d=h!=h|!1,u=d?0:k,yr(t,32,O,u+3|0,_),n=e[t>>2]|0,n&32||(rr(F,u,t),n=e[t>>2]|0),n&32||rr(d?L&32|0?19227:19231:L&32|0?19219:19223,3,t),yr(t,32,O,u+3|0,U^8192),n=(u+3|0)<(O|0)?O:u+3|0;while(!1);u=n,m=z,M=V;continue e}default:n=M,_=U,C=m,M=0,w=17291,u=$}while(!1);t:do if((Y|0)==66)if(u=e[W>>2]|0,_=e[W+4>>2]|0,d=C&32,(u|0)==0&(_|0)==0)n=$,u=S,S=0,d=17291,Y=79;else{n=$;do n=n+-1|0,A[n>>0]=It[17275+(u&15)>>0]|d,u=Xf(u|0,_|0,4)|0,_=Ge;while(!((u|0)==0&(_|0)==0));(S&8|0)==0|(e[W>>2]|0)==0&(e[W+4>>2]|0)==0?(u=S,S=0,d=17291,Y=79):(u=S,S=2,d=17291+(C>>4)|0,Y=79)}else if((Y|0)==78)n=Sc(n,u,$)|0,u=U,S=_,Y=79;else if((Y|0)==92)Y=0,U=mG(u,0,m)|0,n=u,C=(U|0)==0?m:U-u|0,M=0,w=17291,u=(U|0)==0?u+m|0:U;else if((Y|0)==96){for(Y=0,_=0,u=0,S=n;d=e[S>>2]|0,!(!d||(u=Z8(W+528|0,d)|0,(u|0)<0|u>>>0>(m-_|0)>>>0));)if(_=u+_|0,m>>>0>_>>>0)S=S+4|0;else break;if((u|0)<0){l=-1;break e}if(yr(t,32,O,_,U),!_)n=0,Y=107;else for(d=0;;){if(u=e[n>>2]|0,!u){n=_,Y=107;break t}if(u=Z8(W+528|0,u)|0,d=u+d|0,(d|0)>(_|0)){n=_,Y=107;break t}if(e[t>>2]&32||rr(W+528|0,u,t),d>>>0>=_>>>0){n=_,Y=107;break}else n=n+4|0}}while(!1);if((Y|0)==107){Y=0,yr(t,32,O,n,U^8192),u=(O|0)>(n|0)?O:n,m=z,M=V;continue}(Y|0)==79&&(Y=0,_=(m|0)>-1?u&-65537:u,u=(e[W>>2]|0)!=0|(e[W+4>>2]|0)!=0,(m|0)!=0|u?(C=(u&1^1)+($-n)|0,C=(m|0)>(C|0)?m:C,M=S,w=d,u=$):(n=$,C=0,M=S,w=d,u=$)),S=u-n|0,d=(C|0)<(S|0)?S:C,m=M+d|0,u=(O|0)<(m|0)?m:O,yr(t,32,u,m,_),e[t>>2]&32||rr(w,M,t),yr(t,48,u,m,_^65536),yr(t,48,d,S,0),e[t>>2]&32||rr(n,S,t),yr(t,32,u,m,_^8192),m=z,M=V}e:do if((Y|0)==254&&!t)if(!m)l=0;else{for(l=1;;){if(n=e[a+(l<<2)>>2]|0,!n){n=0;break}if(K8(o+(l<<3)|0,n,s),l=l+1|0,(l|0)>=10){l=1;break e}}for(;;){if(l=l+1|0,n|0){l=-1;break e}if((l|0)>=10){l=1;break e}n=e[a+(l<<2)>>2]|0}}while(!1);return H=W,l|0}function rr(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;o=e[s+16>>2]|0,o?(a=o,l=5):Y8(s)|0||(a=e[s+16>>2]|0,l=5);e:do if((l|0)==5){if(o=e[s+20>>2]|0,(a-o|0)>>>0<n>>>0){V0[e[s+36>>2]&63](s,t,n)|0;break}t:do if((A[s+75>>0]|0)>-1){for(l=n;;){if(!l){a=n;break t}if(a=l+-1|0,(A[t+a>>0]|0)==10)break;l=a}if((V0[e[s+36>>2]&63](s,t,l)|0)>>>0<l>>>0)break e;a=n-l|0,t=t+l|0,o=e[s+20>>2]|0}else a=n;while(!1);Rr(o|0,t|0,a|0)|0,e[s+20>>2]=(e[s+20>>2]|0)+a}while(!1)}function Y8(t){t=t|0;var n=0;return n=A[t+74>>0]|0,A[t+74>>0]=n+255|n,n=e[t>>2]|0,n&8?(e[t>>2]=n|32,n=-1):(e[t+8>>2]=0,e[t+4>>2]=0,n=e[t+44>>2]|0,e[t+28>>2]=n,e[t+20>>2]=n,e[t+16>>2]=n+(e[t+48>>2]|0),n=0),n|0}function K8(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;e:do if(n>>>0<=20)do switch(n|0){case 9:{o=(e[s>>2]|0)+3&-4,n=e[o>>2]|0,e[s>>2]=o+4,e[t>>2]=n;break e}case 10:{n=(e[s>>2]|0)+3&-4,o=e[n>>2]|0,e[s>>2]=n+4,e[t>>2]=o,e[t+4>>2]=((o|0)<0)<<31>>31;break e}case 11:{n=(e[s>>2]|0)+3&-4,o=e[n>>2]|0,e[s>>2]=n+4,e[t>>2]=o,e[t+4>>2]=0;break e}case 12:{a=(e[s>>2]|0)+7&-8,n=e[a>>2]|0,o=e[a+4>>2]|0,e[s>>2]=a+8,e[t>>2]=n,e[t+4>>2]=o;break e}case 13:{o=(e[s>>2]|0)+3&-4,a=e[o>>2]|0,e[s>>2]=o+4,e[t>>2]=(a&65535)<<16>>16,e[t+4>>2]=(((a&65535)<<16>>16|0)<0)<<31>>31;break e}case 14:{o=(e[s>>2]|0)+3&-4,a=e[o>>2]|0,e[s>>2]=o+4,e[t>>2]=a&65535,e[t+4>>2]=0;break e}case 15:{o=(e[s>>2]|0)+3&-4,a=e[o>>2]|0,e[s>>2]=o+4,e[t>>2]=(a&255)<<24>>24,e[t+4>>2]=(((a&255)<<24>>24|0)<0)<<31>>31;break e}case 16:{o=(e[s>>2]|0)+3&-4,a=e[o>>2]|0,e[s>>2]=o+4,e[t>>2]=a&255,e[t+4>>2]=0;break e}case 17:{a=(e[s>>2]|0)+7&-8,l=+Mt[a>>3],e[s>>2]=a+8,Mt[t>>3]=l;break e}case 18:{a=(e[s>>2]|0)+7&-8,l=+Mt[a>>3],e[s>>2]=a+8,Mt[t>>3]=l;break e}default:break e}while(!1);while(!1)}function Sc(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;if(n>>>0>0|(n|0)==0&t>>>0>4294967295)for(;o=a6(t|0,n|0,10,0)|0,s=s+-1|0,A[s>>0]=o|48,o=t,t=o6(t|0,n|0,10,0)|0,n>>>0>9|(n|0)==9&o>>>0>4294967295;)n=Ge;if(t)for(;s=s+-1|0,A[s>>0]=(t>>>0)%10|0|48,!(t>>>0<10);)t=(t>>>0)/10|0;return s|0}function yr(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0;u=H,H=H+256|0;do if((s|0)>(o|0)&(a&73728|0)==0){if(ln(u|0,n|0,((s-o|0)>>>0>256?256:s-o|0)|0)|0,a=e[t>>2]|0,(s-o|0)>>>0>255){l=s-o|0,n=a,a=(a&32|0)==0;do a&&(rr(u,256,t),n=e[t>>2]|0),l=l+-256|0,a=(n&32|0)==0;while(l>>>0>255);if(a)n=s-o&255;else break}else if(!(a&32))n=s-o|0;else break;rr(u,n,t)}while(!1);H=u}function Z8(t,n){t=t|0,n=n|0;do if(!t)t=0;else{if(n>>>0<128){A[t>>0]=n,t=1;break}if(n>>>0<2048){A[t>>0]=n>>>6|192,A[t+1>>0]=n&63|128,t=2;break}if(n>>>0<55296|(n&-8192|0)==57344){A[t>>0]=n>>>12|224,A[t+1>>0]=n>>>6&63|128,A[t+2>>0]=n&63|128,t=3;break}if((n+-65536|0)>>>0<1048576){A[t>>0]=n>>>18|240,A[t+1>>0]=n>>>12&63|128,A[t+2>>0]=n>>>6&63|128,A[t+3>>0]=n&63|128,t=4;break}t=22816,e[t>>2]=84,t=-1}while(!1);return t|0}function Q8(t,n){t=+t,n=n|0;var s=0,o=0,a=0;switch(Mt[Z>>3]=t,s=e[Z>>2]|0,o=e[Z+4>>2]|0,a=Xf(s|0,o|0,52)|0,a&2047|0){case 0:{t!=0?(t=+Q8(t*18446744073709552e3,n),s=(e[n>>2]|0)+-64|0):s=0,e[n>>2]=s;break}case 2047:break;default:e[n>>2]=(a&2047)+-1022,e[Z>>2]=s,e[Z+4>>2]=o&-2146435073|1071644672,t=+Mt[Z>>3]}return+t}function an(t){t=+t;var n=0,s=0,o=0,a=0,l=0,u=0;u=(i[Z>>2]=t,e[Z>>2]|0);e:do if((u>>>23&255|0)==255)t=t*6.2831854820251465/(t*6.2831854820251465);else{if(u<<1>>>0<=2173837238)return+((u<<1|0)==-2121130058?t*0:t);if(u>>>23&255)n=u>>>23&255,o=u&8388607|8388608;else{if((u<<9|0)>-1){n=0,s=u<<9;do n=n+-1|0,s=s<<1;while((s|0)>-1);s=n}else s=0;n=s,o=u<<1-s}a=o+-13176795|0;t:do if((n|0)>129){for(l=(a|0)>-1,s=a;;){if(l){if((o|0)==13176795)break}else s=o;if(o=s<<1,n=n+-1|0,(n|0)>129)l=(o+-13176795|0)>-1,s=o+-13176795|0;else{s=o+-13176795|0,a=(o+-13176795|0)>-1;break t}}t=t*0;break e}else s=a,a=(a|0)>-1;while(!1);if(a){if((o|0)==13176795){t=t*0;break}}else s=o;if(s>>>0<8388608)do s=s<<1,n=n+-1|0;while(s>>>0<8388608);(n|0)>0?n=s+-8388608|n<<23:n=s>>>(1-n|0),t=(e[Z>>2]=n|u&-2147483648,+i[Z>>2])}while(!1);return+t}function J8(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;a=H,H=H+16|0,A[a>>0]=n,s=e[t+16>>2]|0,s?o=4:Y8(t)|0?s=-1:(s=e[t+16>>2]|0,o=4);do if((o|0)==4){if(o=e[t+20>>2]|0,o>>>0<s>>>0&&(n&255|0)!=(A[t+75>>0]|0)){e[t+20>>2]=o+1,A[o>>0]=n,s=n&255;break}(V0[e[t+36>>2]&63](t,a,1)|0)==1?s=It[a>>0]|0:s=-1}while(!1);return H=a,s|0}function Xe(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0;q=H,H=H+16|0;do if(t>>>0<245){if(S=t>>>0<11?16:t+11&-8,l=e[5705]|0,l>>>(S>>>3)&3|0){t=22860+((l>>>(S>>>3)&1^1)+(S>>>3)<<1<<2)|0,n=e[t+8>>2]|0,s=e[n+8>>2]|0;do if((t|0)!=(s|0))if(s>>>0<(e[5709]|0)>>>0&&v0(),(e[s+12>>2]|0)==(n|0)){e[s+12>>2]=t,e[t+8>>2]=s;break}else v0();else e[5705]=l&~(1<<(l>>>(S>>>3)&1^1)+(S>>>3));while(!1);return $=(l>>>(S>>>3)&1^1)+(S>>>3)<<3,e[n+4>>2]=$|3,e[n+$+4>>2]=e[n+$+4>>2]|1,$=n+8|0,H=q,$|0}if(n=e[5707]|0,S>>>0>n>>>0){if(l>>>(S>>>3)|0){t=l>>>(S>>>3)<<(S>>>3)&(2<<(S>>>3)|0-(2<<(S>>>3))),a=((t&0-t)+-1|0)>>>(((t&0-t)+-1|0)>>>12&16),o=a>>>(a>>>5&8)>>>(a>>>(a>>>5&8)>>>2&4),o=(a>>>5&8|((t&0-t)+-1|0)>>>12&16|a>>>(a>>>5&8)>>>2&4|o>>>1&2|o>>>(o>>>1&2)>>>1&1)+(o>>>(o>>>1&2)>>>(o>>>(o>>>1&2)>>>1&1))|0,a=e[22860+(o<<1<<2)+8>>2]|0,t=e[a+8>>2]|0;do if((22860+(o<<1<<2)|0)!=(t|0))if(t>>>0<(e[5709]|0)>>>0&&v0(),(e[t+12>>2]|0)==(a|0)){e[t+12>>2]=22860+(o<<1<<2),e[22860+(o<<1<<2)+8>>2]=t,u=e[5707]|0;break}else v0();else e[5705]=l&~(1<<o),u=n;while(!1);return e[a+4>>2]=S|3,e[a+S+4>>2]=(o<<3)-S|1,e[a+S+((o<<3)-S)>>2]=(o<<3)-S,u|0&&(s=e[5710]|0,n=u>>>3,t=e[5705]|0,t&1<<n?(t=e[22860+(n<<1<<2)+8>>2]|0,t>>>0<(e[5709]|0)>>>0?v0():(_=22860+(n<<1<<2)+8|0,h=t)):(e[5705]=t|1<<n,_=22860+(n<<1<<2)+8|0,h=22860+(n<<1<<2)|0),e[_>>2]=s,e[h+12>>2]=s,e[s+8>>2]=h,e[s+12>>2]=22860+(n<<1<<2)),e[5707]=(o<<3)-S,e[5710]=a+S,$=a+8|0,H=q,$|0}if(t=e[5706]|0,t){for(_=((t&0-t)+-1|0)>>>(((t&0-t)+-1|0)>>>12&16),h=_>>>(_>>>5&8)>>>(_>>>(_>>>5&8)>>>2&4),h=e[23124+((_>>>5&8|((t&0-t)+-1|0)>>>12&16|_>>>(_>>>5&8)>>>2&4|h>>>1&2|h>>>(h>>>1&2)>>>1&1)+(h>>>(h>>>1&2)>>>(h>>>(h>>>1&2)>>>1&1))<<2)>>2]|0,_=(e[h+4>>2]&-8)-S|0,n=h;t=e[n+16>>2]|0,!(!t&&(t=e[n+20>>2]|0,!t));)n=(e[t+4>>2]&-8)-S|0,$=n>>>0<_>>>0,_=$?n:_,n=t,h=$?t:h;a=e[5709]|0,h>>>0<a>>>0&&v0(),u=h+S|0,h>>>0>=u>>>0&&v0(),l=e[h+24>>2]|0,t=e[h+12>>2]|0;do if((t|0)==(h|0)){if(n=h+20|0,t=e[n>>2]|0,!t&&(n=h+16|0,t=e[n>>2]|0,!t)){d=0;break}for(;;){if(s=t+20|0,o=e[s>>2]|0,o|0){t=o,n=s;continue}if(s=t+16|0,o=e[s>>2]|0,o)t=o,n=s;else break}if(n>>>0<a>>>0)v0();else{e[n>>2]=0,d=t;break}}else if(n=e[h+8>>2]|0,n>>>0<a>>>0&&v0(),(e[n+12>>2]|0)!=(h|0)&&v0(),(e[t+8>>2]|0)==(h|0)){e[n+12>>2]=t,e[t+8>>2]=n,d=t;break}else v0();while(!1);do if(l|0){if(t=e[h+28>>2]|0,(h|0)==(e[23124+(t<<2)>>2]|0)){if(e[23124+(t<<2)>>2]=d,!d){e[5706]=e[5706]&~(1<<t);break}}else if(l>>>0<(e[5709]|0)>>>0&&v0(),(e[l+16>>2]|0)==(h|0)?e[l+16>>2]=d:e[l+20>>2]=d,!d)break;n=e[5709]|0,d>>>0<n>>>0&&v0(),e[d+24>>2]=l,t=e[h+16>>2]|0;do if(t|0)if(t>>>0<n>>>0)v0();else{e[d+16>>2]=t,e[t+24>>2]=d;break}while(!1);if(t=e[h+20>>2]|0,t|0)if(t>>>0<(e[5709]|0)>>>0)v0();else{e[d+20>>2]=t,e[t+24>>2]=d;break}}while(!1);return _>>>0<16?($=_+S|0,e[h+4>>2]=$|3,$=h+$+4|0,e[$>>2]=e[$>>2]|1):(e[h+4>>2]=S|3,e[u+4>>2]=_|1,e[u+_>>2]=_,n=e[5707]|0,n|0&&(s=e[5710]|0,t=e[5705]|0,t&1<<(n>>>3)?(t=e[22860+(n>>>3<<1<<2)+8>>2]|0,t>>>0<(e[5709]|0)>>>0?v0():(m=22860+(n>>>3<<1<<2)+8|0,g=t)):(e[5705]=t|1<<(n>>>3),m=22860+(n>>>3<<1<<2)+8|0,g=22860+(n>>>3<<1<<2)|0),e[m>>2]=s,e[g+12>>2]=s,e[s+8>>2]=g,e[s+12>>2]=22860+(n>>>3<<1<<2)),e[5707]=_,e[5710]=u),$=h+8|0,H=q,$|0}}}else if(t>>>0<=4294967231){if(S=t+11&-8,_=e[5706]|0,_){(t+11|0)>>>8?S>>>0>16777215?u=31:(u=(t+11|0)>>>8<<((((t+11|0)>>>8)+1048320|0)>>>16&8),u=14-((u+520192|0)>>>16&4|(((t+11|0)>>>8)+1048320|0)>>>16&8|((u<<((u+520192|0)>>>16&4))+245760|0)>>>16&2)+(u<<((u+520192|0)>>>16&4)<<(((u<<((u+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0,u=S>>>(u+7|0)&1|u<<1):u=0,n=e[23124+(u<<2)>>2]|0;e:do if(!n)s=0-S|0,t=0,n=0,F=86;else for(s=0-S|0,t=0,a=S<<((u|0)==31?0:25-(u>>>1)|0),l=n,n=0;;){if(o=e[l+4>>2]&-8,(o-S|0)>>>0<s>>>0)if((o|0)==(S|0)){s=o-S|0,t=l,n=l,F=90;break e}else s=o-S|0,n=l;if(o=e[l+20>>2]|0,l=e[l+16+(a>>>31<<2)>>2]|0,t=(o|0)==0|(o|0)==(l|0)?t:o,o=(l|0)==0,o){F=86;break}else a=a<<(o&1^1)}while(!1);if((F|0)==86){if((t|0)==0&(n|0)==0){if(t=2<<u,!(_&(t|0-t)))break;m=(_&(t|0-t)&0-(_&(t|0-t)))+-1|0,g=m>>>(m>>>12&16)>>>(m>>>(m>>>12&16)>>>5&8),t=g>>>(g>>>2&4)>>>(g>>>(g>>>2&4)>>>1&2),t=e[23124+((m>>>(m>>>12&16)>>>5&8|m>>>12&16|g>>>2&4|g>>>(g>>>2&4)>>>1&2|t>>>1&1)+(t>>>(t>>>1&1))<<2)>>2]|0}t?F=90:(_=s,h=n)}if((F|0)==90)for(;;){if(F=0,g=(e[t+4>>2]&-8)-S|0,o=g>>>0<s>>>0,s=o?g:s,n=o?t:n,o=e[t+16>>2]|0,o|0){t=o,F=90;continue}if(t=e[t+20>>2]|0,t)F=90;else{_=s,h=n;break}}if((h|0)!=0&&_>>>0<((e[5707]|0)-S|0)>>>0){a=e[5709]|0,h>>>0<a>>>0&&v0(),u=h+S|0,h>>>0>=u>>>0&&v0(),l=e[h+24>>2]|0,t=e[h+12>>2]|0;do if((t|0)==(h|0)){if(n=h+20|0,t=e[n>>2]|0,!t&&(n=h+16|0,t=e[n>>2]|0,!t)){w=0;break}for(;;){if(s=t+20|0,o=e[s>>2]|0,o|0){t=o,n=s;continue}if(s=t+16|0,o=e[s>>2]|0,o)t=o,n=s;else break}if(n>>>0<a>>>0)v0();else{e[n>>2]=0,w=t;break}}else if(n=e[h+8>>2]|0,n>>>0<a>>>0&&v0(),(e[n+12>>2]|0)!=(h|0)&&v0(),(e[t+8>>2]|0)==(h|0)){e[n+12>>2]=t,e[t+8>>2]=n,w=t;break}else v0();while(!1);do if(l|0){if(t=e[h+28>>2]|0,(h|0)==(e[23124+(t<<2)>>2]|0)){if(e[23124+(t<<2)>>2]=w,!w){e[5706]=e[5706]&~(1<<t);break}}else if(l>>>0<(e[5709]|0)>>>0&&v0(),(e[l+16>>2]|0)==(h|0)?e[l+16>>2]=w:e[l+20>>2]=w,!w)break;n=e[5709]|0,w>>>0<n>>>0&&v0(),e[w+24>>2]=l,t=e[h+16>>2]|0;do if(t|0)if(t>>>0<n>>>0)v0();else{e[w+16>>2]=t,e[t+24>>2]=w;break}while(!1);if(t=e[h+20>>2]|0,t|0)if(t>>>0<(e[5709]|0)>>>0)v0();else{e[w+20>>2]=t,e[t+24>>2]=w;break}}while(!1);do if(_>>>0>=16){if(e[h+4>>2]=S|3,e[u+4>>2]=_|1,e[u+_>>2]=_,n=_>>>3,_>>>0<256){t=e[5705]|0,t&1<<n?(t=e[22860+(n<<1<<2)+8>>2]|0,t>>>0<(e[5709]|0)>>>0?v0():(M=22860+(n<<1<<2)+8|0,E=t)):(e[5705]=t|1<<n,M=22860+(n<<1<<2)+8|0,E=22860+(n<<1<<2)|0),e[M>>2]=u,e[E+12>>2]=u,e[u+8>>2]=E,e[u+12>>2]=22860+(n<<1<<2);break}if(t=_>>>8,t?_>>>0>16777215?s=31:(s=t<<((t+1048320|0)>>>16&8)<<(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4),s=14-(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4|(t+1048320|0)>>>16&8|(s+245760|0)>>>16&2)+(s<<((s+245760|0)>>>16&2)>>>15)|0,s=_>>>(s+7|0)&1|s<<1):s=0,o=23124+(s<<2)|0,e[u+28>>2]=s,e[u+16+4>>2]=0,e[u+16>>2]=0,t=e[5706]|0,n=1<<s,!(t&n)){e[5706]=t|n,e[o>>2]=u,e[u+24>>2]=o,e[u+12>>2]=u,e[u+8>>2]=u;break}for(s=_<<((s|0)==31?0:25-(s>>>1)|0),o=e[o>>2]|0;;){if((e[o+4>>2]&-8|0)==(_|0)){F=148;break}if(n=o+16+(s>>>31<<2)|0,t=e[n>>2]|0,t)s=s<<1,o=t;else{F=145;break}}if((F|0)==145)if(n>>>0<(e[5709]|0)>>>0)v0();else{e[n>>2]=u,e[u+24>>2]=o,e[u+12>>2]=u,e[u+8>>2]=u;break}else if((F|0)==148)if(t=o+8|0,n=e[t>>2]|0,$=e[5709]|0,n>>>0>=$>>>0&o>>>0>=$>>>0){e[n+12>>2]=u,e[t>>2]=u,e[u+8>>2]=n,e[u+12>>2]=o,e[u+24>>2]=0;break}else v0()}else $=_+S|0,e[h+4>>2]=$|3,$=h+$+4|0,e[$>>2]=e[$>>2]|1;while(!1);return $=h+8|0,H=q,$|0}}}else S=-1;while(!1);if(s=e[5707]|0,s>>>0>=S>>>0)return t=s-S|0,n=e[5710]|0,t>>>0>15?($=n+S|0,e[5710]=$,e[5707]=t,e[$+4>>2]=t|1,e[$+t>>2]=t,e[n+4>>2]=S|3):(e[5707]=0,e[5710]=0,e[n+4>>2]=s|3,e[n+s+4>>2]=e[n+s+4>>2]|1),$=n+8|0,H=q,$|0;if(t=e[5708]|0,t>>>0>S>>>0)return z=t-S|0,e[5708]=z,$=e[5711]|0,Y=$+S|0,e[5711]=Y,e[Y+4>>2]=z|1,e[$+4>>2]=S|3,$=$+8|0,H=q,$|0;if(e[5823]|0||(e[5825]=4096,e[5824]=4096,e[5826]=-1,e[5827]=-1,e[5828]=0,e[5816]=0,e[q>>2]=q&-16^1431655768,e[5823]=q&-16^1431655768),a=S+48|0,s=e[5825]|0,l=S+47|0,u=s+l&0-s,u>>>0<=S>>>0||(t=e[5815]|0,t|0&&(E=e[5813]|0,(E+u|0)>>>0<=E>>>0|(E+u|0)>>>0>t>>>0)))return $=0,H=q,$|0;e:do if(e[5816]&4)F=188;else{n=e[5711]|0;t:do if(n){for(o=23268;t=e[o>>2]|0,!(t>>>0<=n>>>0&&(C=o+4|0,(t+(e[C>>2]|0)|0)>>>0>n>>>0));)if(t=e[o+8>>2]|0,t)o=t;else{F=171;break t}if(t=s+l-(e[5708]|0)&0-s,t>>>0<2147483647)if(n=Ta(t|0)|0,(n|0)==((e[o>>2]|0)+(e[C>>2]|0)|0)){if((n|0)!=-1){u=n,l=t,F=191;break e}}else F=181}else F=171;while(!1);do if((F|0)==171&&(D=Ta(0)|0,(D|0)!=-1)&&(t=e[5824]|0,t+-1&D?t=u-D+(t+-1+D&0-t)|0:t=u,n=e[5813]|0,s=n+t|0,t>>>0>S>>>0&t>>>0<2147483647)){if(E=e[5815]|0,E|0&&s>>>0<=n>>>0|s>>>0>E>>>0)break;if(n=Ta(t|0)|0,(n|0)==(D|0)){u=D,l=t,F=191;break e}else F=181}while(!1);t:do if((F|0)==181){s=0-t|0;do if(a>>>0>t>>>0&(t>>>0<2147483647&(n|0)!=-1)&&(N=e[5825]|0,N=l-t+N&0-N,N>>>0<2147483647))if((Ta(N|0)|0)==-1){Ta(s|0)|0;break t}else{t=N+t|0;break}while(!1);if((n|0)!=-1){u=n,l=t,F=191;break e}}while(!1);e[5816]=e[5816]|4,F=188}while(!1);if((F|0)==188&&u>>>0<2147483647&&(B=Ta(u|0)|0,k=Ta(0)|0,B>>>0<k>>>0&((B|0)!=-1&(k|0)!=-1))&&(k-B|0)>>>0>(S+40|0)>>>0&&(u=B,l=k-B|0,F=191),(F|0)==191){t=(e[5813]|0)+l|0,e[5813]=t,t>>>0>(e[5814]|0)>>>0&&(e[5814]=t),d=e[5711]|0;do if(d){for(a=23268;;){if(t=e[a>>2]|0,n=a+4|0,s=e[n>>2]|0,(u|0)==(t+s|0)){F=201;break}if(o=e[a+8>>2]|0,o)a=o;else break}if((F|0)==201&&(e[a+12>>2]&8|0)==0&&d>>>0<u>>>0&d>>>0>=t>>>0){e[n>>2]=s+l,Y=(d+8&7|0)==0?0:0-(d+8)&7,$=l-Y+(e[5708]|0)|0,e[5711]=d+Y,e[5708]=$,e[d+Y+4>>2]=$|1,e[d+Y+$+4>>2]=40,e[5712]=e[5827];break}for(t=e[5709]|0,u>>>0<t>>>0?(e[5709]=u,h=u):h=t,n=u+l|0,t=23268;;){if((e[t>>2]|0)==(n|0)){F=209;break}if(t=e[t+8>>2]|0,!t){n=23268;break}}if((F|0)==209)if(e[t+12>>2]&8)n=23268;else{e[t>>2]=u,g=t+4|0,e[g>>2]=(e[g>>2]|0)+l,g=u+8|0,g=u+((g&7|0)==0?0:0-g&7)|0,t=n+((n+8&7|0)==0?0:0-(n+8)&7)|0,m=g+S|0,_=t-g-S|0,e[g+4>>2]=S|3;do if((t|0)!=(d|0)){if((t|0)==(e[5710]|0)){$=(e[5707]|0)+_|0,e[5707]=$,e[5710]=m,e[m+4>>2]=$|1,e[m+$>>2]=$;break}if(u=e[t+4>>2]|0,(u&3|0)==1){e:do if(u>>>0>=256){l=e[t+24>>2]|0,n=e[t+12>>2]|0;do if((n|0)==(t|0)){if(n=e[t+16+4>>2]|0,n)a=t+16+4|0;else if(n=e[t+16>>2]|0,n)a=t+16|0;else{z=0;break}for(;;){if(s=n+20|0,o=e[s>>2]|0,o|0){n=o,a=s;continue}if(s=n+16|0,o=e[s>>2]|0,o)n=o,a=s;else break}if(a>>>0<h>>>0)v0();else{e[a>>2]=0,z=n;break}}else if(s=e[t+8>>2]|0,s>>>0<h>>>0&&v0(),(e[s+12>>2]|0)!=(t|0)&&v0(),(e[n+8>>2]|0)==(t|0)){e[s+12>>2]=n,e[n+8>>2]=s,z=n;break}else v0();while(!1);if(!l)break;n=e[t+28>>2]|0;do if((t|0)!=(e[23124+(n<<2)>>2]|0)){if(l>>>0<(e[5709]|0)>>>0&&v0(),(e[l+16>>2]|0)==(t|0)?e[l+16>>2]=z:e[l+20>>2]=z,!z)break e}else{if(e[23124+(n<<2)>>2]=z,z|0)break;e[5706]=e[5706]&~(1<<n);break e}while(!1);s=e[5709]|0,z>>>0<s>>>0&&v0(),e[z+24>>2]=l,n=e[t+16>>2]|0;do if(n|0)if(n>>>0<s>>>0)v0();else{e[z+16>>2]=n,e[n+24>>2]=z;break}while(!1);if(n=e[t+16+4>>2]|0,!n)break;if(n>>>0<(e[5709]|0)>>>0)v0();else{e[z+20>>2]=n,e[n+24>>2]=z;break}}else{n=e[t+8>>2]|0,s=e[t+12>>2]|0;do if((n|0)!=(22860+(u>>>3<<1<<2)|0)){if(n>>>0<h>>>0&&v0(),(e[n+12>>2]|0)==(t|0))break;v0()}while(!1);if((s|0)==(n|0)){e[5705]=e[5705]&~(1<<(u>>>3));break}do if((s|0)==(22860+(u>>>3<<1<<2)|0))V=s+8|0;else{if(s>>>0<h>>>0&&v0(),(e[s+8>>2]|0)==(t|0)){V=s+8|0;break}v0()}while(!1);e[n+12>>2]=s,e[V>>2]=n}while(!1);t=t+(u&-8)|0,a=(u&-8)+_|0}else a=_;if(n=t+4|0,e[n>>2]=e[n>>2]&-2,e[m+4>>2]=a|1,e[m+a>>2]=a,n=a>>>3,a>>>0<256){t=e[5705]|0;do if(!(t&1<<n))e[5705]=t|1<<n,Y=22860+(n<<1<<2)+8|0,$=22860+(n<<1<<2)|0;else{if(t=e[22860+(n<<1<<2)+8>>2]|0,t>>>0>=(e[5709]|0)>>>0){Y=22860+(n<<1<<2)+8|0,$=t;break}v0()}while(!1);e[Y>>2]=m,e[$+12>>2]=m,e[m+8>>2]=$,e[m+12>>2]=22860+(n<<1<<2);break}t=a>>>8;do if(!t)s=0;else{if(a>>>0>16777215){s=31;break}s=t<<((t+1048320|0)>>>16&8)<<(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4),s=14-(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4|(t+1048320|0)>>>16&8|(s+245760|0)>>>16&2)+(s<<((s+245760|0)>>>16&2)>>>15)|0,s=a>>>(s+7|0)&1|s<<1}while(!1);if(o=23124+(s<<2)|0,e[m+28>>2]=s,e[m+16+4>>2]=0,e[m+16>>2]=0,t=e[5706]|0,n=1<<s,!(t&n)){e[5706]=t|n,e[o>>2]=m,e[m+24>>2]=o,e[m+12>>2]=m,e[m+8>>2]=m;break}for(s=a<<((s|0)==31?0:25-(s>>>1)|0),o=e[o>>2]|0;;){if((e[o+4>>2]&-8|0)==(a|0)){F=279;break}if(n=o+16+(s>>>31<<2)|0,t=e[n>>2]|0,t)s=s<<1,o=t;else{F=276;break}}if((F|0)==276)if(n>>>0<(e[5709]|0)>>>0)v0();else{e[n>>2]=m,e[m+24>>2]=o,e[m+12>>2]=m,e[m+8>>2]=m;break}else if((F|0)==279)if(t=o+8|0,n=e[t>>2]|0,$=e[5709]|0,n>>>0>=$>>>0&o>>>0>=$>>>0){e[n+12>>2]=m,e[t>>2]=m,e[m+8>>2]=n,e[m+12>>2]=o,e[m+24>>2]=0;break}else v0()}else $=(e[5708]|0)+_|0,e[5708]=$,e[5711]=m,e[m+4>>2]=$|1;while(!1);return $=g+8|0,H=q,$|0}for(;t=e[n>>2]|0,!(t>>>0<=d>>>0&&(L=t+(e[n+4>>2]|0)|0,L>>>0>d>>>0));)n=e[n+8>>2]|0;a=L+-47+((L+-47+8&7|0)==0?0:0-(L+-47+8)&7)|0,a=a>>>0<(d+16|0)>>>0?d:a,t=u+8|0,t=(t&7|0)==0?0:0-t&7,$=u+t|0,t=l+-40-t|0,e[5711]=$,e[5708]=t,e[$+4>>2]=t|1,e[$+t+4>>2]=40,e[5712]=e[5827],e[a+4>>2]=27,e[a+8>>2]=e[5817],e[a+8+4>>2]=e[5818],e[a+8+8>>2]=e[5819],e[a+8+12>>2]=e[5820],e[5817]=u,e[5818]=l,e[5820]=0,e[5819]=a+8,t=a+24|0;do t=t+4|0,e[t>>2]=7;while((t+4|0)>>>0<L>>>0);if((a|0)!=(d|0)){if(e[a+4>>2]=e[a+4>>2]&-2,e[d+4>>2]=a-d|1,e[a>>2]=a-d,(a-d|0)>>>0<256){n=22860+((a-d|0)>>>3<<1<<2)|0,t=e[5705]|0,t&1<<((a-d|0)>>>3)?(t=e[n+8>>2]|0,t>>>0<(e[5709]|0)>>>0?v0():(U=n+8|0,O=t)):(e[5705]=t|1<<((a-d|0)>>>3),U=n+8|0,O=n),e[U>>2]=d,e[O+12>>2]=d,e[d+8>>2]=O,e[d+12>>2]=n;break}if((a-d|0)>>>8?(a-d|0)>>>0>16777215?s=31:(s=(a-d|0)>>>8<<((((a-d|0)>>>8)+1048320|0)>>>16&8),s=14-((s+520192|0)>>>16&4|(((a-d|0)>>>8)+1048320|0)>>>16&8|((s<<((s+520192|0)>>>16&4))+245760|0)>>>16&2)+(s<<((s+520192|0)>>>16&4)<<(((s<<((s+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0,s=(a-d|0)>>>(s+7|0)&1|s<<1):s=0,o=23124+(s<<2)|0,e[d+28>>2]=s,e[d+20>>2]=0,e[d+16>>2]=0,t=e[5706]|0,n=1<<s,!(t&n)){e[5706]=t|n,e[o>>2]=d,e[d+24>>2]=o,e[d+12>>2]=d,e[d+8>>2]=d;break}for(s=a-d<<((s|0)==31?0:25-(s>>>1)|0),o=e[o>>2]|0;;){if((e[o+4>>2]&-8|0)==(a-d|0)){F=305;break}if(n=o+16+(s>>>31<<2)|0,t=e[n>>2]|0,t)s=s<<1,o=t;else{F=302;break}}if((F|0)==302)if(n>>>0<(e[5709]|0)>>>0)v0();else{e[n>>2]=d,e[d+24>>2]=o,e[d+12>>2]=d,e[d+8>>2]=d;break}else if((F|0)==305)if(t=o+8|0,n=e[t>>2]|0,$=e[5709]|0,n>>>0>=$>>>0&o>>>0>=$>>>0){e[n+12>>2]=d,e[t>>2]=d,e[d+8>>2]=n,e[d+12>>2]=o,e[d+24>>2]=0;break}else v0()}}else{$=e[5709]|0,($|0)==0|u>>>0<$>>>0&&(e[5709]=u),e[5817]=u,e[5818]=l,e[5820]=0,e[5714]=e[5823],e[5713]=-1,t=0;do $=22860+(t<<1<<2)|0,e[$+12>>2]=$,e[$+8>>2]=$,t=t+1|0;while((t|0)!=32);$=u+8|0,$=($&7|0)==0?0:0-$&7,Y=u+$|0,$=l+-40-$|0,e[5711]=Y,e[5708]=$,e[Y+4>>2]=$|1,e[Y+$+4>>2]=40,e[5712]=e[5827]}while(!1);if(t=e[5708]|0,t>>>0>S>>>0)return z=t-S|0,e[5708]=z,$=e[5711]|0,Y=$+S|0,e[5711]=Y,e[Y+4>>2]=z|1,e[$+4>>2]=S|3,$=$+8|0,H=q,$|0}return t=22816,e[t>>2]=12,$=0,H=q,$|0}function ye(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;if(t){u=e[5709]|0,(t+-8|0)>>>0<u>>>0&&v0(),n=e[t+-4>>2]|0,(n&3|0)==1&&v0(),S=t+-8+(n&-8)|0;do if(n&1)M=t+-8|0,a=n&-8;else{if(o=e[t+-8>>2]|0,!(n&3))return;if(d=t+-8+(0-o)|0,h=o+(n&-8)|0,d>>>0<u>>>0&&v0(),(d|0)==(e[5710]|0)){if(t=e[S+4>>2]|0,(t&3|0)!=3){M=d,a=h;break}e[5707]=h,e[S+4>>2]=t&-2,e[d+4>>2]=h|1,e[d+h>>2]=h;return}if(o>>>0<256){if(t=e[d+8>>2]|0,n=e[d+12>>2]|0,(t|0)!=(22860+(o>>>3<<1<<2)|0)&&(t>>>0<u>>>0&&v0(),(e[t+12>>2]|0)!=(d|0)&&v0()),(n|0)==(t|0)){e[5705]=e[5705]&~(1<<(o>>>3)),M=d,a=h;break}(n|0)!=(22860+(o>>>3<<1<<2)|0)?(n>>>0<u>>>0&&v0(),(e[n+8>>2]|0)!=(d|0)?v0():s=n+8|0):s=n+8|0,e[t+12>>2]=n,e[s>>2]=t,M=d,a=h;break}l=e[d+24>>2]|0,t=e[d+12>>2]|0;do if((t|0)==(d|0)){if(t=e[d+16+4>>2]|0,t)o=d+16+4|0;else if(t=e[d+16>>2]|0,t)o=d+16|0;else{_=0;break}for(;;){if(n=t+20|0,s=e[n>>2]|0,s|0){t=s,o=n;continue}if(n=t+16|0,s=e[n>>2]|0,s)t=s,o=n;else break}if(o>>>0<u>>>0)v0();else{e[o>>2]=0,_=t;break}}else if(n=e[d+8>>2]|0,n>>>0<u>>>0&&v0(),(e[n+12>>2]|0)!=(d|0)&&v0(),(e[t+8>>2]|0)==(d|0)){e[n+12>>2]=t,e[t+8>>2]=n,_=t;break}else v0();while(!1);if(l){if(t=e[d+28>>2]|0,(d|0)==(e[23124+(t<<2)>>2]|0)){if(e[23124+(t<<2)>>2]=_,!_){e[5706]=e[5706]&~(1<<t),M=d,a=h;break}}else if(l>>>0<(e[5709]|0)>>>0&&v0(),(e[l+16>>2]|0)==(d|0)?e[l+16>>2]=_:e[l+20>>2]=_,!_){M=d,a=h;break}n=e[5709]|0,_>>>0<n>>>0&&v0(),e[_+24>>2]=l,t=e[d+16>>2]|0;do if(t|0)if(t>>>0<n>>>0)v0();else{e[_+16>>2]=t,e[t+24>>2]=_;break}while(!1);if(t=e[d+16+4>>2]|0,t)if(t>>>0<(e[5709]|0)>>>0)v0();else{e[_+20>>2]=t,e[t+24>>2]=_,M=d,a=h;break}else M=d,a=h}else M=d,a=h}while(!1);if(M>>>0>=S>>>0&&v0(),s=e[S+4>>2]|0,s&1||v0(),s&2)e[S+4>>2]=s&-2,e[M+4>>2]=a|1,e[M+a>>2]=a;else{if((S|0)==(e[5711]|0)){if(w=(e[5708]|0)+a|0,e[5708]=w,e[5711]=M,e[M+4>>2]=w|1,(M|0)!=(e[5710]|0))return;e[5710]=0,e[5707]=0;return}if((S|0)==(e[5710]|0)){w=(e[5707]|0)+a|0,e[5707]=w,e[5710]=M,e[M+4>>2]=w|1,e[M+w>>2]=w;return}a=(s&-8)+a|0;do if(s>>>0>=256){l=e[S+24>>2]|0,t=e[S+12>>2]|0;do if((t|0)==(S|0)){if(t=e[S+16+4>>2]|0,t)o=S+16+4|0;else if(t=e[S+16>>2]|0,t)o=S+16|0;else{g=0;break}for(;;){if(n=t+20|0,s=e[n>>2]|0,s|0){t=s,o=n;continue}if(n=t+16|0,s=e[n>>2]|0,s)t=s,o=n;else break}if(o>>>0<(e[5709]|0)>>>0)v0();else{e[o>>2]=0,g=t;break}}else if(n=e[S+8>>2]|0,n>>>0<(e[5709]|0)>>>0&&v0(),(e[n+12>>2]|0)!=(S|0)&&v0(),(e[t+8>>2]|0)==(S|0)){e[n+12>>2]=t,e[t+8>>2]=n,g=t;break}else v0();while(!1);if(l|0){if(t=e[S+28>>2]|0,(S|0)==(e[23124+(t<<2)>>2]|0)){if(e[23124+(t<<2)>>2]=g,!g){e[5706]=e[5706]&~(1<<t);break}}else if(l>>>0<(e[5709]|0)>>>0&&v0(),(e[l+16>>2]|0)==(S|0)?e[l+16>>2]=g:e[l+20>>2]=g,!g)break;n=e[5709]|0,g>>>0<n>>>0&&v0(),e[g+24>>2]=l,t=e[S+16>>2]|0;do if(t|0)if(t>>>0<n>>>0)v0();else{e[g+16>>2]=t,e[t+24>>2]=g;break}while(!1);if(t=e[S+16+4>>2]|0,t|0)if(t>>>0<(e[5709]|0)>>>0)v0();else{e[g+20>>2]=t,e[t+24>>2]=g;break}}}else{if(t=e[S+8>>2]|0,n=e[S+12>>2]|0,(t|0)!=(22860+(s>>>3<<1<<2)|0)&&(t>>>0<(e[5709]|0)>>>0&&v0(),(e[t+12>>2]|0)!=(S|0)&&v0()),(n|0)==(t|0)){e[5705]=e[5705]&~(1<<(s>>>3));break}(n|0)!=(22860+(s>>>3<<1<<2)|0)?(n>>>0<(e[5709]|0)>>>0&&v0(),(e[n+8>>2]|0)!=(S|0)?v0():m=n+8|0):m=n+8|0,e[t+12>>2]=n,e[m>>2]=t}while(!1);if(e[M+4>>2]=a|1,e[M+a>>2]=a,(M|0)==(e[5710]|0)){e[5707]=a;return}}if(n=a>>>3,a>>>0<256){t=e[5705]|0,t&1<<n?(t=e[22860+(n<<1<<2)+8>>2]|0,t>>>0<(e[5709]|0)>>>0?v0():(C=22860+(n<<1<<2)+8|0,w=t)):(e[5705]=t|1<<n,C=22860+(n<<1<<2)+8|0,w=22860+(n<<1<<2)|0),e[C>>2]=M,e[w+12>>2]=M,e[M+8>>2]=w,e[M+12>>2]=22860+(n<<1<<2);return}t=a>>>8,t?a>>>0>16777215?s=31:(s=t<<((t+1048320|0)>>>16&8)<<(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4),s=14-(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4|(t+1048320|0)>>>16&8|(s+245760|0)>>>16&2)+(s<<((s+245760|0)>>>16&2)>>>15)|0,s=a>>>(s+7|0)&1|s<<1):s=0,o=23124+(s<<2)|0,e[M+28>>2]=s,e[M+20>>2]=0,e[M+16>>2]=0,t=e[5706]|0,n=1<<s;do if(t&n){for(s=a<<((s|0)==31?0:25-(s>>>1)|0),o=e[o>>2]|0;;){if((e[o+4>>2]&-8|0)==(a|0)){t=130;break}if(n=o+16+(s>>>31<<2)|0,t=e[n>>2]|0,t)s=s<<1,o=t;else{t=127;break}}if((t|0)==127)if(n>>>0<(e[5709]|0)>>>0)v0();else{e[n>>2]=M,e[M+24>>2]=o,e[M+12>>2]=M,e[M+8>>2]=M;break}else if((t|0)==130)if(t=o+8|0,n=e[t>>2]|0,w=e[5709]|0,n>>>0>=w>>>0&o>>>0>=w>>>0){e[n+12>>2]=M,e[t>>2]=M,e[M+8>>2]=n,e[M+12>>2]=o,e[M+24>>2]=0;break}else v0()}else e[5706]=t|n,e[o>>2]=M,e[M+24>>2]=o,e[M+12>>2]=M,e[M+8>>2]=M;while(!1);if(M=(e[5713]|0)+-1|0,e[5713]=M,!M)t=23276;else return;for(;t=e[t>>2]|0,t;)t=t+8|0;e[5713]=-1}}function gG(){var t=0,n=0,s=0,o=0;o=H,H=H+48|0,$8(23316,3)|0&&Io(19340,o),t=X8(e[5830]|0)|0,t|0&&(s=e[t>>2]|0,s|0)&&(t=e[s+48>>2]|0,n=e[s+48+4>>2]|0,(t&-256|0)==1126902528&(n|0)==1129074247||(e[o+32>>2]=19519,Io(19614,o+32|0)),(t|0)==1126902529&(n|0)==1129074247?t=e[s+44>>2]|0:t=s+80|0,e[o+44>>2]=t,s=e[s>>2]|0,t=e[s+4>>2]|0,e6(2352,s,o+44|0)|0?(s=e[o+44>>2]|0,s=Ct[e[(e[s>>2]|0)+8>>2]&127](s)|0,e[o+8>>2]=19519,e[o+8+4>>2]=t,e[o+8+8>>2]=s,Io(19528,o+8|0)):(e[o+24>>2]=19519,e[o+24+4>>2]=t,Io(19573,o+24|0))),Io(19652,o+40|0)}function xG(){var t=0;if(t=H,H=H+16|0,HI(23320,219)|0)Io(19290,t);else{H=t;return}}function yG(t){t=t|0;var n=0;if(n=H,H=H+16|0,ye(t),qI(e[5830]|0,0)|0)Io(19237,n);else{H=n;return}}function Io(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;o=H,H=H+240|0,e[o+80>>2]=n,n=o+96|0,s=n+40|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(s|0));e[o+136>>2]=e[o+80>>2],(rh(0,t,o+136|0,o,o+96|0)|0)>=0&&(n=e[2026]|0,(A[8178]|0)<1&&(e[2026]=n&-33),e[2038]|0?rh(8104,t,o+136|0,o,o+96|0)|0:(s=e[2037]|0,e[2037]=o+152,e[2033]=o+152,e[2031]=o+152,e[2038]=80,e[2030]=o+152+80,rh(8104,t,o+136|0,o,o+96|0)|0,s|0&&(V0[e[2035]&63](8104,0,0)|0,e[2037]=s,e[2038]=0,e[2030]=0,e[2033]=0,e[2031]=0)),e[2026]=e[2026]|n&32),n=(A[8179]|0)==10;do if((e[2045]|0)<0){if(!n&&(a=e[2031]|0,a>>>0<(e[2030]|0)>>>0)){e[2031]=a+1,A[a>>0]=10;break}J8(8104,10)|0}else{if(!n&&(l=e[2031]|0,l>>>0<(e[2030]|0)>>>0)){e[2031]=l+1,A[l>>0]=10;break}J8(8104,10)|0}while(!1);v0()}function vG(t){t=t|0}function SG(t){t=t|0,ye(t)}function TG(t){t=t|0}function CG(t){t=t|0}function e6(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;if(l=H,H=H+64|0,(t|0)!=(n|0))if((n|0)!=0&&(a=t6(n,2360)|0,(a|0)!=0)){n=l,o=n+56|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(o|0));e[l>>2]=a,e[l+8>>2]=t,e[l+12>>2]=-1,e[l+48>>2]=1,Kt[e[(e[a>>2]|0)+28>>2]&127](a,l,e[s>>2]|0,1),(e[l+24>>2]|0)==1?(e[s>>2]=e[l+16>>2],n=1):n=0}else n=0;else n=1;return H=l,n|0}function t6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;l=H,H=H+64|0,a=e[t>>2]|0,o=t+(e[a+-8>>2]|0)|0,a=e[a+-4>>2]|0,e[l>>2]=n,e[l+4>>2]=t,e[l+8>>2]=2392,t=l+12|0,s=t+40|0;do e[t>>2]=0,t=t+4|0;while((t|0)<(s|0));ee[l+12+40>>1]=0,A[l+12+42>>0]=0;e:do if((a|0)==(n|0))e[l+48>>2]=1,Lo[e[(e[n>>2]|0)+20>>2]&7](n,l,o,o,1,0),t=(e[l+24>>2]|0)==1?o:0;else{switch(Qi[e[(e[a>>2]|0)+24>>2]&31](a,l,o,1,0),e[l+36>>2]|0){case 0:{t=((e[l+40>>2]|0)==1?(e[l+28>>2]|0)==1:0)&(e[l+32>>2]|0)==1?e[l+20>>2]|0:0;break e}case 1:break;default:{t=0;break e}}if((e[l+24>>2]|0)!=1&&!(((e[l+40>>2]|0)==0?(e[l+28>>2]|0)==1:0)&(e[l+32>>2]|0)==1)){t=0;break}t=e[l+16>>2]|0}while(!1);return H=l,t|0}function wG(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,(t|0)==(e[n+8>>2]|0)?sh(n,s,o,a):(t=e[t+8>>2]|0,Lo[e[(e[t>>2]|0)+20>>2]&7](t,n,s,o,a,l))}function sh(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,A[t+53>>0]=1;do if((e[t+4>>2]|0)==(s|0)){if(A[t+52>>0]=1,s=e[t+16>>2]|0,!s){if(e[t+16>>2]=n,e[t+24>>2]=o,e[t+36>>2]=1,!((o|0)==1&&(e[t+48>>2]|0)==1))break;A[t+54>>0]=1;break}if((s|0)!=(n|0)){e[t+36>>2]=(e[t+36>>2]|0)+1,A[t+54>>0]=1;break}s=e[t+24>>2]|0,(s|0)==2&&(e[t+24>>2]=o,s=o),(s|0)==1&&(e[t+48>>2]|0)==1&&(A[t+54>>0]=1)}while(!1)}function MG(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;do if((t|0)==(e[n+8>>2]|0))(e[n+4>>2]|0)==(s|0)&&(e[n+28>>2]|0)!=1&&(e[n+28>>2]=o);else{if((t|0)!=(e[n>>2]|0)){t=e[t+8>>2]|0,Qi[e[(e[t>>2]|0)+24>>2]&31](t,n,s,o,a);break}if((e[n+16>>2]|0)!=(s|0)&&(e[n+20>>2]|0)!=(s|0)){if(e[n+32>>2]=o,(e[n+44>>2]|0)==4)break;A[n+52>>0]=0,A[n+53>>0]=0,t=e[t+8>>2]|0,Lo[e[(e[t>>2]|0)+20>>2]&7](t,n,s,s,1,a),A[n+53>>0]|0?A[n+52>>0]|0?t=17:(o=1,t=13):(o=0,t=13);do if((t|0)==13){if(e[n+20>>2]=s,e[n+40>>2]=(e[n+40>>2]|0)+1,(e[n+36>>2]|0)==1&&(e[n+24>>2]|0)==2)if(A[n+54>>0]=1,o){t=17;break}else{o=4;break}o?t=17:o=4}while(!1);(t|0)==17&&(o=3),e[n+44>>2]=o;break}(o|0)==1&&(e[n+32>>2]=1)}while(!1)}function RG(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;do if((t|0)==(e[n+8>>2]|0)){if(t=e[n+16>>2]|0,!t){e[n+16>>2]=s,e[n+24>>2]=o,e[n+36>>2]=1;break}if((t|0)!=(s|0)){e[n+36>>2]=(e[n+36>>2]|0)+1,e[n+24>>2]=2,A[n+54>>0]=1;break}(e[n+24>>2]|0)==2&&(e[n+24>>2]=o)}else t=e[t+8>>2]|0,Kt[e[(e[t>>2]|0)+28>>2]&127](t,n,s,o);while(!1)}function AG(t){t=t|0,ye(t)}function EG(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,(t|0)==(e[n+8>>2]|0)&&sh(n,s,o,a)}function bG(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;do if((t|0)==(e[n+8>>2]|0))(e[n+4>>2]|0)==(s|0)&&(e[n+28>>2]|0)!=1&&(e[n+28>>2]=o);else if((t|0)==(e[n>>2]|0)){if((e[n+16>>2]|0)!=(s|0)&&(e[n+20>>2]|0)!=(s|0)){e[n+32>>2]=o,e[n+20>>2]=s,e[n+40>>2]=(e[n+40>>2]|0)+1,(e[n+36>>2]|0)==1&&(e[n+24>>2]|0)==2&&(A[n+54>>0]=1),e[n+44>>2]=4;break}(o|0)==1&&(e[n+32>>2]=1)}while(!1)}function NG(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;do if((t|0)==(e[n+8>>2]|0)){if(t=e[n+16>>2]|0,!t){e[n+16>>2]=s,e[n+24>>2]=o,e[n+36>>2]=1;break}if((t|0)!=(s|0)){e[n+36>>2]=(e[n+36>>2]|0)+1,e[n+24>>2]=2,A[n+54>>0]=1;break}(e[n+24>>2]|0)==2&&(e[n+24>>2]=o)}while(!1)}function DG(t){t=t|0}function IG(t){t=t|0,ye(t)}function PG(t){return t=t|0,19717}function LG(t){t=t|0,ye(t)}function kG(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,_=0,h=0,d=0;if((t|0)==(e[n+8>>2]|0))sh(n,s,o,a);else{h=ee[n+52>>1]|0,u=e[t+12>>2]|0,A[n+52>>0]=0,A[n+53>>0]=0,oh(t+16|0,n,s,o,a,l);e:do if((u|0)>1){d=t+24|0;do{if(A[n+54>>0]|0)break e;if(_=ee[n+52>>1]|0,(_&255)<<24>>24){if((e[n+24>>2]|0)==1||!(e[t+8>>2]&2))break e}else if((_&65535)>=256&&(e[t+8>>2]&1|0)==0)break e;A[n+52>>0]=0,A[n+53>>0]=0,oh(d,n,s,o,a,l),d=d+8|0}while(d>>>0<(t+16+(u<<3)|0)>>>0)}while(!1);A[n+52>>0]=h,A[n+53>>0]=(h&65535)>>>8}}function oh(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,_=0;u=e[t+4>>2]|0,u&1?_=e[(e[o>>2]|0)+(u>>8)>>2]|0:_=u>>8,t=e[t>>2]|0,Lo[e[(e[t>>2]|0)+20>>2]&7](t,n,s,o+_|0,u&2|0?a:2,l)}function FG(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0;e:do if((t|0)==(e[n+8>>2]|0))(e[n+4>>2]|0)==(s|0)&&(e[n+28>>2]|0)!=1&&(e[n+28>>2]=o);else{if((t|0)!=(e[n>>2]|0)){if(u=e[t+12>>2]|0,qf(t+16|0,n,s,o,a),(u|0)<=1)break;if(l=e[t+8>>2]|0,(l&2|0)==0&&(e[n+36>>2]|0)!=1){if(!(l&1)){for(l=t+24|0;;)if(A[n+54>>0]|0||(e[n+36>>2]|0)==1||(qf(l,n,s,o,a),l=l+8|0,l>>>0>=(t+16+(u<<3)|0)>>>0))break e}for(l=t+24|0;;)if(A[n+54>>0]|0||(e[n+36>>2]|0)==1&&(e[n+24>>2]|0)==1||(qf(l,n,s,o,a),l=l+8|0,l>>>0>=(t+16+(u<<3)|0)>>>0))break e}for(l=t+24|0;;)if(A[n+54>>0]|0||(qf(l,n,s,o,a),l=l+8|0,l>>>0>=(t+16+(u<<3)|0)>>>0))break e}if((e[n+16>>2]|0)!=(s|0)&&(e[n+20>>2]|0)!=(s|0)){if(e[n+32>>2]=o,(e[n+44>>2]|0)==4)break;o=t+16+(e[t+12>>2]<<3)|0,h=0,l=0,_=t+16|0;t:for(;;){if(_>>>0>=o>>>0){u=20;break}if(A[n+52>>0]=0,A[n+53>>0]=0,oh(_,n,s,s,1,a),A[n+54>>0]|0){u=20;break}do if(A[n+53>>0]|0){if(!(A[n+52>>0]|0))if(e[t+8>>2]&1){u=h,l=1;break}else{l=1,u=20;break t}if((e[n+24>>2]|0)==1){u=25;break t}if(e[t+8>>2]&2)u=1,l=1;else{u=25;break t}}else u=h;while(!1);h=u,_=_+8|0}do if((u|0)==20){if(!h&&(e[n+20>>2]=s,e[n+40>>2]=(e[n+40>>2]|0)+1,(e[n+36>>2]|0)==1)&&(e[n+24>>2]|0)==2)if(A[n+54>>0]=1,l){u=25;break}else{l=4;break}l?u=25:l=4}while(!1);(u|0)==25&&(l=3),e[n+44>>2]=l;break}(o|0)==1&&(e[n+32>>2]=1)}while(!1)}function qf(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0;l=e[t+4>>2]|0,l&1?u=e[(e[s>>2]|0)+(l>>8)>>2]|0:u=l>>8,t=e[t>>2]|0,Qi[e[(e[t>>2]|0)+24>>2]&31](t,n,s+u|0,l&2|0?o:2,a)}function BG(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0;e:do if((t|0)==(e[n+8>>2]|0)){if(a=e[n+16>>2]|0,!a){e[n+16>>2]=s,e[n+24>>2]=o,e[n+36>>2]=1;break}if((a|0)!=(s|0)){e[n+36>>2]=(e[n+36>>2]|0)+1,e[n+24>>2]=2,A[n+54>>0]=1;break}(e[n+24>>2]|0)==2&&(e[n+24>>2]=o)}else if(a=e[t+12>>2]|0,i6(t+16|0,n,s,o),(a|0)>1){l=t+24|0;do{if(i6(l,n,s,o),A[n+54>>0]|0)break e;l=l+8|0}while(l>>>0<(t+16+(a<<3)|0)>>>0)}while(!1)}function i6(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0;a=e[t+4>>2]|0,a&1?l=e[(e[s>>2]|0)+(a>>8)>>2]|0:l=a>>8,t=e[t>>2]|0,Kt[e[(e[t>>2]|0)+28>>2]&127](t,n,s+l|0,a&2|0?o:2)}function UG(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;return o=H,H=H+16|0,e[o>>2]=e[s>>2],t=V0[e[(e[t>>2]|0)+16>>2]&63](t,n,o)|0,t&&(e[s>>2]=e[o>>2]),H=o,t&1|0}function OG(t){return t=t|0,t?t=(t6(t,2448)|0)!=0:t=0,t&1|0}function GG(){}function Wi(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,o=n-o-(s>>>0>t>>>0|0)>>>0,Ge=o,t-s>>>0|0|0}function $t(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,Ge=n+o+(t+s>>>0>>>0<t>>>0|0)>>>0,t+s>>>0|0|0}function ln(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;if(o=t+s|0,(s|0)>=20){if(n=n&255,a=t&3,l=n|n<<8|n<<16|n<<24,a)for(a=t+4-a|0;(t|0)<(a|0);)A[t>>0]=n,t=t+1|0;for(;(t|0)<(o&-4|0);)e[t>>2]=l,t=t+4|0}for(;(t|0)<(o|0);)A[t>>0]=n,t=t+1|0;return t-s|0}function n6(t,n,s){return t=t|0,n=n|0,s=s|0,(s|0)<32?(Ge=n<<s|(t&(1<<s)-1<<32-s)>>>32-s,t<<s):(Ge=t<<s-32,0)}function r6(t,n,s){return t=t|0,n=n|0,s=s|0,(s|0)<32?(Ge=n>>s,t>>>s|(n&(1<<s)-1)<<32-s):(Ge=(n|0)<0?-1:0,n>>s-32|0)}function Xf(t,n,s){return t=t|0,n=n|0,s=s|0,(s|0)<32?(Ge=n>>>s,t>>>s|(n&(1<<s)-1)<<32-s):(Ge=0,n>>>s-32|0)}function Rr(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;if((s|0)>=4096)return zI(t|0,n|0,s|0)|0;if(o=t|0,(t&3)==(n&3)){for(;t&3;){if(!s)return o|0;A[t>>0]=A[n>>0]|0,t=t+1|0,n=n+1|0,s=s-1|0}for(;(s|0)>=4;)e[t>>2]=e[n>>2],t=t+4|0,n=n+4|0,s=s-4|0}for(;(s|0)>0;)A[t>>0]=A[n>>0]|0,t=t+1|0,n=n+1|0,s=s-1|0;return o|0}function ah(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;if((n|0)<(t|0)&(t|0)<(n+s|0)){for(o=t,n=n+s|0,t=t+s|0;(s|0)>0;)t=t-1|0,n=n-1|0,s=s-1|0,A[t>>0]=A[n>>0]|0;t=o}else Rr(t,n,s)|0;return t|0}function Po(t){return t=t|0,(t&255)<<24|(t>>8&255)<<16|(t>>16&255)<<8|t>>>24|0}function VG(){return 0}function s6(t){t=t|0;var n=0;return n=A[jf+(t&255)>>0]|0,(n|0)<8?n|0:(n=A[jf+(t>>8&255)>>0]|0,(n|0)<8?n+8|0:(n=A[jf+(t>>16&255)>>0]|0,(n|0)<8?n+16|0:(A[jf+(t>>>24)>>0]|0)+24|0))}function zG(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;return s=Rt(n&65535,t&65535)|0,a=(s>>>16)+(Rt(n&65535,t>>>16)|0)|0,o=Rt(n>>>16,t&65535)|0,Ge=(a>>>16)+(Rt(n>>>16,t>>>16)|0)+(((a&65535)+o|0)>>>16)|0,a+o<<16|s&65535|0|0}function pxe(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0;return u=n>>31|((n|0)<0?-1:0)<<1,a=((n|0)<0?-1:0)>>31|((n|0)<0?-1:0)<<1,_=o>>31|((o|0)<0?-1:0)<<1,l=((o|0)<0?-1:0)>>31|((o|0)<0?-1:0)<<1,t=Wi(u^t|0,a^n|0,u|0,a|0)|0,n=Ge,Wi(($f(t,n,Wi(_^s|0,l^o|0,_|0,l|0)|0,Ge,0)|0)^(_^u)|0,Ge^(l^a)|0,_^u|0,l^a|0)|0}function _xe(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0;return a=H,H=H+16|0,u=n>>31|((n|0)<0?-1:0)<<1,l=((n|0)<0?-1:0)>>31|((n|0)<0?-1:0)<<1,h=o>>31|((o|0)<0?-1:0)<<1,_=((o|0)<0?-1:0)>>31|((o|0)<0?-1:0)<<1,t=Wi(u^t|0,l^n|0,u|0,l|0)|0,n=Ge,$f(t,n,Wi(h^s|0,_^o|0,h|0,_|0)|0,Ge,a|0)|0,o=Wi(e[a>>2]^u|0,e[a+4>>2]^l|0,u|0,l|0)|0,s=Ge,H=a,Ge=s,o|0}function Ft(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0;return a=zG(t,s)|0,l=Ge,Ge=(Rt(n,s)|0)+(Rt(o,t)|0)+l|l&0,a|0|0|0}function o6(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,$f(t,n,s,o,0)|0}function a6(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;return a=H,H=H+16|0,$f(t,n,s,o,a|0)|0,H=a,Ge=e[a+4>>2]|0,e[a>>2]|0|0}function $f(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(!n)return o?a?(e[a>>2]=t|0,e[a+4>>2]=n&0,o=0,a=0,Ge=o,a|0):(o=0,a=0,Ge=o,a|0):(a|0&&(e[a>>2]=(t>>>0)%(s>>>0),e[a+4>>2]=0),o=0,a=(t>>>0)/(s>>>0)>>>0,Ge=o,a|0);do if(s){if(o|0){if(u=(vc(o|0)|0)-(vc(n|0)|0)|0,u>>>0<=31){S=u+1|0,_=t>>>((u+1|0)>>>0)&u-31>>31|n<<31-u,g=n>>>((u+1|0)>>>0)&u-31>>31,l=0,u=t<<31-u;break}return a?(e[a>>2]=t|0,e[a+4>>2]=n|n&0,o=0,a=0,Ge=o,a|0):(o=0,a=0,Ge=o,a|0)}if(s-1&s|0){u=(vc(s|0)|0)+33-(vc(n|0)|0)|0,S=u,_=32-u-1>>31&n>>>((u-32|0)>>>0)|(n<<32-u|t>>>(u>>>0))&u-32>>31,g=u-32>>31&n>>>(u>>>0),l=t<<64-u&32-u>>31,u=(n<<64-u|t>>>((u-32|0)>>>0))&32-u>>31|t<<32-u&u-33>>31;break}return a|0&&(e[a>>2]=s-1&t,e[a+4>>2]=0),(s|0)==1?(o=n|n&0,a=t|0|0,Ge=o,a|0):(a=s6(s|0)|0,o=n>>>(a>>>0)|0,a=n<<32-a|t>>>(a>>>0)|0,Ge=o,a|0)}else{if(!o)return a|0&&(e[a>>2]=(n>>>0)%(s>>>0),e[a+4>>2]=0),o=0,a=(n>>>0)/(s>>>0)>>>0,Ge=o,a|0;if(!t)return a|0&&(e[a>>2]=0,e[a+4>>2]=(n>>>0)%(o>>>0)),s=0,a=(n>>>0)/(o>>>0)>>>0,Ge=s,a|0;if(!(o-1&o))return a|0&&(e[a>>2]=t|0,e[a+4>>2]=o-1&n|n&0),s=0,a=n>>>((s6(o|0)|0)>>>0),Ge=s,a|0;if(u=(vc(o|0)|0)-(vc(n|0)|0)|0,u>>>0<=30){S=u+1|0,_=n<<31-u|t>>>((u+1|0)>>>0),g=n>>>((u+1|0)>>>0),l=0,u=t<<31-u;break}return a?(e[a>>2]=t|0,e[a+4>>2]=n|n&0,o=0,a=0,Ge=o,a|0):(o=0,a=0,Ge=o,a|0)}while(!1);if(!S)h=u,n=g,t=0,u=0;else{d=$t(s|0|0,o|o&0|0,-1,-1)|0,m=Ge,h=u,n=g,t=S,u=0;do w=h,h=l>>>31|h<<1,l=u|l<<1,w=_<<1|w>>>31|0,C=_>>>31|n<<1|0,Wi(d|0,m|0,w|0,C|0)|0,S=Ge,g=S>>31|((S|0)<0?-1:0)<<1,u=g&1,_=Wi(w|0,C|0,g&(s|0)|0,(((S|0)<0?-1:0)>>31|((S|0)<0?-1:0)<<1)&(o|o&0)|0)|0,n=Ge,t=t-1|0;while((t|0)!=0);t=0}return a|0&&(e[a>>2]=_,e[a+4>>2]=n),C=(l|0)>>>31|h<<1|(0|l>>>31)&0|t,w=(l<<1|0)&-2|u,Ge=C,w|0}function WG(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,Qi[t&31](n|0,s|0,o|0,a|0,l|0)}function HG(t,n,s){t=t|0,n=n|0,s=+s,g2[t&31](n|0,+s)}function jG(t,n){t=t|0,n=n|0,Vt[t&255](n|0)}function qG(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=l|0,u=u|0,Hm[t&0](n|0,s|0,o|0,+a,l|0,u|0)}function XG(t,n,s){t=t|0,n=n|0,s=s|0,zt[t&127](n|0,s|0)}function $G(t,n,s,o,a,l,u,_,h,d,m){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0,m=m|0,jm[t&3](n|0,s|0,o|0,a|0,l|0,u|0,_|0,h|0,d|0,m|0)|0}function YG(t,n){return t=t|0,n=n|0,Ct[t&127](n|0)|0}function KG(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=+o,a=a|0,Bh[t&7](n|0,s|0,+o,a|0)}function ZG(t,n,s,o,a,l,u){t=t|0,n=n|0,s=+s,o=+o,a=a|0,l=l|0,u=u|0,_p[t&0](n|0,+s,+o,a|0,l|0,u|0)}function QG(t,n,s,o,a){t=t|0,n=n|0,s=+s,o=o|0,a=a|0,Uh[t&0](n|0,+s,o|0,a|0)}function JG(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,$2[t&31](n|0,s|0,o|0,a|0)|0}function eV(t,n,s,o){t=t|0,n=n|0,s=+s,o=o|0,B2[t&15](n|0,+s,o|0)}function tV(t,n,s,o,a,l,u,_,h){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,+hp[t&1](n|0,s|0,o|0,a|0,l|0,u|0,_|0,h|0)}function iV(t,n,s,o,a,l,u,_,h,d,m,g){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l,u=+u,_=+_,h=+h,d=d|0,m=m|0,g=+g,q1[t&0](n|0,s|0,o|0,a|0,+l,+u,+_,+h,d|0,m|0,+g)}function nV(t,n,s,o,a,l){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,+Oh[t&15](n|0,s|0,o|0,a|0,l|0)}function rV(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,V0[t&63](n|0,s|0,o|0)|0}function sV(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,Lo[t&7](n|0,s|0,o|0,a|0,l|0,u|0)}function oV(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=+o,bse[t&7](n|0,s|0,+o)|0}function aV(t,n){return t=t|0,n=n|0,+Tt[t&15](n|0)}function cV(t,n,s,o,a,l,u){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,qm[t&3](n|0,s|0,o|0,a|0,l|0,u|0)|0}function lV(t,n,s,o,a,l,u){return t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=l|0,u=u|0,+Xm[t&3](n|0,s|0,o|0,+a,l|0,u|0)}function uV(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=+o,a=a|0,l=l|0,$m[t&0](n|0,s|0,+o,a|0,l|0)}function fV(t,n,s,o,a,l,u,_){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,Nse[t&3](n|0,s|0,o|0,a|0,l|0,u|0,_|0)}function pV(t,n,s,o,a,l,u,_,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0,Ym[t&1](n|0,s|0,o|0,a|0,l|0,u|0,_|0,h|0,d|0)}function _V(t,n,s,o,a,l,u,_,h,d,m){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0,m=m|0,Nc[t&3](n|0,s|0,o|0,a|0,l|0,u|0,_|0,h|0,d|0,m|0)}function hV(t,n,s){return t=t|0,n=n|0,s=s|0,I0[t&31](n|0,s|0)|0}function dV(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,+ko[t&15](n|0,s|0,o|0)}function mV(t,n,s,o,a,l,u,_,h,d,m){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0,m=m|0,+vu[t&3](n|0,s|0,o|0,a|0,l|0,u|0,_|0,h|0,d|0,m|0)}function gV(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l,Dse[t&1](n|0,s|0,o|0,a|0,+l)}function xV(t,n,s,o,a,l,u,_,h,d){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0,+Gh[t&3](n|0,s|0,o|0,a|0,l|0,u|0,_|0,h|0,d|0)}function yV(t,n,s){return t=t|0,n=n|0,s=+s,+Vh[t&1](n|0,+s)}function vV(t,n,s,o,a,l,u,_,h,d,m,g,S){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l,u=+u,_=+_,h=+h,d=+d,m=m|0,g=+g,S=S|0,zh[t&0](n|0,s|0,o|0,a|0,+l,+u,+_,+h,+d,m|0,+g,S|0)}function SV(t,n,s,o,a,l){return t=t|0,n=n|0,s=s|0,o=+o,a=a|0,l=l|0,+Wh[t&3](n|0,s|0,+o,a|0,l|0)}function TV(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,+Km[t&1](n|0,s|0,o|0,a|0)}function CV(t,n,s,o,a,l,u,_,h,d){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0,Hh[t&3](n|0,s|0,o|0,a|0,l|0,u|0,_|0,h|0,d|0)|0}function wV(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,D2[t&15](n|0,s|0,o|0,+a)}function MV(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,f0[t&127](n|0,s|0,o|0)}function RV(t){t=t|0,x2[t&3]()}function AV(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o,sr[t&7](n|0,s|0,+o)}function EV(t,n,s,o,a){return t=t|0,n=n|0,s=+s,o=o|0,a=+a,dp[t&1](n|0,+s,o|0,+a)|0}function bV(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,Kt[t&127](n|0,s|0,o|0,a|0)}function Yr(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,Xi(0)}function Fr(t,n){t=t|0,n=+n,Xi(1)}function tn(t){t=t|0,Xi(2)}function NV(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=+o,a=a|0,l=l|0,Xi(3)}function d2(t,n){t=t|0,n=n|0,Xi(4)}function c6(t,n,s,o,a,l,u,_,h,d){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0,Xi(5),0}function Cn(t){return t=t|0,Xi(6),0}function l6(t,n,s,o){t=t|0,n=n|0,s=+s,o=o|0,Xi(7)}function DV(t,n,s,o,a,l){t=t|0,n=+n,s=+s,o=o|0,a=a|0,l=l|0,Xi(8)}function IV(t,n,s,o){t=t|0,n=+n,s=s|0,o=o|0,Xi(9)}function gs(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,Xi(10),0}function Tc(t,n,s){t=t|0,n=+n,s=s|0,Xi(11)}function PV(t,n,s,o,a,l,u,_){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,Xi(12),0}function LV(t,n,s,o,a,l,u,_,h,d,m){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=+l,u=+u,_=+_,h=h|0,d=d|0,m=+m,Xi(13)}function Ca(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,Xi(14),0}function Un(t,n,s){return t=t|0,n=n|0,s=s|0,Xi(15),0}function u6(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,Xi(16)}function Yf(t,n,s){return t=t|0,n=n|0,s=+s,Xi(17),0}function z1(t){return t=t|0,Xi(18),0}function kV(t,n,s,o,a,l){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,Xi(19),0}function f6(t,n,s,o,a,l){return t=t|0,n=n|0,s=s|0,o=+o,a=a|0,l=l|0,Xi(20),0}function FV(t,n,s,o,a){t=t|0,n=n|0,s=+s,o=o|0,a=a|0,Xi(21)}function p6(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,Xi(22)}function BV(t,n,s,o,a,l,u,_,h){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,Xi(23)}function _6(t,n,s,o,a,l,u,_,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0,Xi(24)}function js(t,n){return t=t|0,n=n|0,Xi(25),0}function h6(t,n,s){return t=t|0,n=n|0,s=s|0,Xi(26),0}function d6(t,n,s,o,a,l,u,_,h,d){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0,Xi(27),0}function UV(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,Xi(28)}function m6(t,n,s,o,a,l,u,_,h){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,Xi(29),0}function OV(t,n){return t=t|0,n=+n,Xi(30),0}function GV(t,n,s,o,a,l,u,_,h,d,m,g){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=+l,u=+u,_=+_,h=+h,d=d|0,m=+m,g=g|0,Xi(31)}function g6(t,n,s,o,a){return t=t|0,n=n|0,s=+s,o=o|0,a=a|0,Xi(32),0}function VV(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,Xi(33),0}function x6(t,n,s,o,a,l,u,_,h){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,Xi(34),0}function wa(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o,Xi(35)}function fi(t,n,s){t=t|0,n=n|0,s=s|0,Xi(36)}function zV(){Xi(37)}function WV(){YI()}function ch(t,n,s){t=t|0,n=n|0,s=+s,Xi(38)}function HV(t,n,s,o){return t=t|0,n=+n,s=s|0,o=+o,Xi(39),0}function q0(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Xi(40)}function jV(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0;if(V=H,H=H+64|0,s=e[t+128>>2]|0,(s|0)>0){o=0;do lh(e[t+108>>2]|0,e[t+136>>2]|0,o,0),o=o+1|0,s=e[t+128>>2]|0;while((o|0)<(s|0))}if(o=e[t+108>>2]|0,M=+i[o+336>>2],E=+i[o+340>>2],a=+i[o+344>>2],a=+at(+(M*M+E*E+a*a))*3.5999999046325684,i[t+104>>2]=a,U=e[t+120>>2]|0,+i[o+4+(U<<2)>>2]*+i[o+336>>2]+ +i[o+20+(U<<2)>>2]*+i[o+340>>2]+ +i[o+36+(U<<2)>>2]*+i[o+344>>2]<0&&(i[t+104>>2]=-a),(s|0)>0){U=0;do{L=e[t+136>>2]|0,g=L+(U*284|0)|0,uh(o,g,0),m=L+(U*284|0)+204|0,s=L+(U*284|0)+212|0,a=+i[m>>2]+ +i[s>>2],S=L+(U*284|0)+52|0,D=L+(U*284|0)+56|0,N=L+(U*284|0)+60|0,O=L+(U*284|0)+36|0,B=L+(U*284|0)+16|0,M=a*+i[D>>2]+ +i[L+(U*284|0)+40>>2],E=a*+i[N>>2]+ +i[L+(U*284|0)+44>>2],i[L+(U*284|0)+16>>2]=+i[S>>2]*a+ +i[O>>2],k=L+(U*284|0)+20|0,i[k>>2]=M,F=L+(U*284|0)+24|0,i[F>>2]=E,i[L+(U*284|0)+28>>2]=0,i[V+32>>2]=-1,o=e[t+92>>2]|0,O=$2[e[(e[o>>2]|0)+8>>2]&31](o,O,B,V)|0,o=L+(U*284|0)+88|0,e[o>>2]=0;do if(O)if(a=a*+i[V+32>>2],e[g>>2]=e[V+16>>2],e[g+4>>2]=e[V+16+4>>2],e[g+8>>2]=e[V+16+8>>2],e[g+12>>2]=e[V+16+12>>2],A[L+(U*284|0)+84>>0]=1,A[19888]|0||(A[19888]=1,e[V+40>>2]=0,e[V+40+4>>2]=0,e[V+40+8>>2]=0,e[V+40+12>>2]=0,pu(21908,0,0,0,V+40|0)),e[5528]=e[5528]|1,i[5569]=0,l=+i[5579]*0,u=+i[5580]*0,i[5574]=+i[5578]*0,i[5575]=l,i[5576]=u,i[5577]=0,e[5582]=0,e[5583]=0,e[5584]=0,e[5585]=0,u=+i[5571]*0,l=+i[5572]*0,i[5623]=+i[5570]*0,i[5624]=u,i[5625]=l,i[5626]=0,e[o>>2]=21908,a=a-+i[s>>2],s=L+(U*284|0)+32|0,i[s>>2]=a,l=+i[m>>2],u=+i[L+(U*284|0)+208>>2]*.009999999776482582,a<l-u&&(i[s>>2]=l-u,a=l-u),a>l+u&&(i[s>>2]=l+u),e[B>>2]=e[V>>2],e[B+4>>2]=e[V+4>>2],e[B+8>>2]=e[V+8>>2],e[B+12>>2]=e[V+12>>2],w=+i[g>>2],M=+i[L+(U*284|0)+4>>2],E=+i[L+(U*284|0)+8>>2],C=w*+i[S>>2]+M*+i[D>>2]+E*+i[N>>2],s=e[t+108>>2]|0,d=+i[B>>2]-+i[s+52>>2],h=+i[k>>2]-+i[s+56>>2],a=+i[F>>2]-+i[s+60>>2],l=+i[s+356>>2],u=+i[s+360>>2],_=+i[s+352>>2],C>=-.10000000149011612){i[L+(U*284|0)+272>>2]=0,i[L+(U*284|0)+268>>2]=10;break}else{i[L+(U*284|0)+272>>2]=-1/C*(w*(l*a-h*u+ +i[s+336>>2])+M*(d*u-a*_+ +i[s+340>>2])+E*(h*_-d*l+ +i[s+344>>2])),i[L+(U*284|0)+268>>2]=-1/C;break}else e[L+(U*284|0)+32>>2]=e[m>>2],i[L+(U*284|0)+272>>2]=0,M=-+i[D>>2],E=-+i[N>>2],i[g>>2]=-+i[S>>2],i[L+(U*284|0)+4>>2]=M,i[L+(U*284|0)+8>>2]=E,i[L+(U*284|0)+12>>2]=0,i[L+(U*284|0)+268>>2]=1;while(!1);U=U+1|0,s=e[t+128>>2]|0,o=e[t+108>>2]|0}while((U|0)<(s|0));if(l=1/+i[o+368>>2],(s|0)>0){o=0;do s=e[t+136>>2]|0,A[s+(o*284|0)+84>>0]|0?(a=+i[s+(o*284|0)+272>>2],a=l*(+i[s+(o*284|0)+216>>2]*(+i[s+(o*284|0)+204>>2]-+i[s+(o*284|0)+32>>2])*+i[s+(o*284|0)+268>>2]-a*+i[(a<0?s+(o*284|0)+220|0:s+(o*284|0)+224|0)>>2]),a=a<0?0:a):a=0,i[s+(o*284|0)+276>>2]=a,o=o+1|0,s=e[t+128>>2]|0;while((o|0)<(s|0));if((s|0)>0){s=0;do U=e[t+136>>2]|0,w=+i[U+(s*284|0)+276>>2],E=+i[U+(s*284|0)+248>>2],w=w>E?E:w,E=w*+i[U+(s*284|0)+4>>2]*n,M=w*+i[U+(s*284|0)+8>>2]*n,i[V+40>>2]=+i[U+(s*284|0)>>2]*w*n,i[V+40+4>>2]=E,i[V+40+8>>2]=M,i[V+40+12>>2]=0,O=e[t+108>>2]|0,M=+i[U+(s*284|0)+20>>2]-+i[O+56>>2],E=+i[U+(s*284|0)+24>>2]-+i[O+60>>2],i[V>>2]=+i[U+(s*284|0)+16>>2]-+i[O+52>>2],i[V+4>>2]=M,i[V+8>>2]=E,i[V+12>>2]=0,H1(O,V+40|0,V),s=s+1|0;while((s|0)<(e[t+128>>2]|0))}}}if(g2[e[(e[t>>2]|0)+20>>2]&31](t,n),o=e[t+128>>2]|0,(o|0)<=0){H=V;return}m=e[t+136>>2]|0,g=e[t+108>>2]|0,S=0;do a=+i[m+(S*284|0)+36>>2]-+i[g+52>>2],l=+i[m+(S*284|0)+40>>2]-+i[g+56>>2],u=+i[m+(S*284|0)+44>>2]-+i[g+60>>2],_=+i[g+356>>2],h=+i[g+360>>2],d=+i[g+352>>2],A[m+(S*284|0)+84>>0]|0?(s=e[t+120>>2]|0,Y=+i[g+4+(s<<2)>>2],C=+i[g+20+(s<<2)>>2],M=+i[g+36+(s<<2)>>2],z=+i[m+(S*284|0)>>2],w=+i[m+(S*284|0)+4>>2],E=+i[m+(S*284|0)+8>>2],a=((l*d-a*_+ +i[g+344>>2])*(M-E*(Y*z+C*w+M*E))+((_*u-l*h+ +i[g+336>>2])*(Y-z*(Y*z+C*w+M*E))+(a*h-u*d+ +i[g+340>>2])*(C-w*(Y*z+C*w+M*E))))*n/+i[m+(S*284|0)+212>>2],s=m+(S*284|0)+240|0,i[s>>2]=a,O=m+(S*284|0)+236|0,i[O>>2]=+i[O>>2]+a):(s=m+(S*284|0)+240|0,a=+i[s>>2],O=m+(S*284|0)+236|0,i[O>>2]=a+ +i[O>>2]),i[s>>2]=a*.9900000095367432,S=S+1|0;while((S|0)!=(o|0));H=V}function lh(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0;uh(t,n+(s*284|0)|0,o),g=+i[n+(s*284|0)+52>>2],u=+i[n+(s*284|0)+56>>2],M=+i[n+(s*284|0)+60>>2],ne=+i[n+(s*284|0)+76>>2],L=+i[n+(s*284|0)+72>>2],V=+i[n+(s*284|0)+68>>2],F=1/+at(+((L*-g-V*-u)*(L*-g-V*-u)+((ne*-u-L*-M)*(ne*-u-L*-M)+(V*-M-ne*-g)*(V*-M-ne*-g)))),k=(ne*-u-L*-M)*F,B=F*(V*-M-ne*-g),F=F*(L*-g-V*-u),a=+i[n+(s*284|0)+232>>2]*.5,d=+N2(+a)/+at(+(g*g+u*u+M*M)),a=+C2(+a),m=2/(a*a+(d*-M*(d*-M)+(d*-g*(d*-g)+d*-u*(d*-u)))),q=1-(d*-u*(d*-u*m)+d*-M*(d*-M*m)),$=d*-g*(d*-u*m)-a*(d*-M*m),X=d*-g*(d*-M*m)+a*(d*-u*m),z=d*-g*(d*-u*m)+a*(d*-M*m),O=1-(d*-g*(d*-g*m)+d*-M*(d*-M*m)),Y=d*-u*(d*-M*m)-a*(d*-g*m),h=d*-g*(d*-M*m)-a*(d*-u*m),a=d*-u*(d*-M*m)+a*(d*-g*m),m=1-(d*-g*(d*-g*m)+d*-u*(d*-u*m)),d=+i[n+(s*284|0)+236>>2]*-.5,U=+N2(+d)/+at(+(ne*ne+(L*L+V*V))),d=+C2(+d),E=2/(d*d+(ne*U*(ne*U)+(V*U*(V*U)+L*U*(L*U)))),S=1-(L*U*(L*U*E)+ne*U*(ne*U*E)),_=V*U*(L*U*E)-d*(ne*U*E),N=V*U*(ne*U*E)+d*(L*U*E),C=V*U*(L*U*E)+d*(ne*U*E),l=1-(V*U*(V*U*E)+ne*U*(ne*U*E)),D=L*U*(ne*U*E)-d*(V*U*E),w=V*U*(ne*U*E)-d*(L*U*E),d=L*U*(ne*U*E)+d*(V*U*E),E=1-(V*U*(V*U*E)+L*U*(L*U*E)),U=+i[n+(s*284|0)+68>>2],L=+i[n+(s*284|0)+72>>2],V=+i[n+(s*284|0)+76>>2],i[n+(s*284|0)+92>>2]=V*(q*N+$*D+X*E)+(U*(X*w+($*C+q*S))+L*(X*d+(q*_+$*l))),i[n+(s*284|0)+96>>2]=F*(q*N+$*D+X*E)+(k*(X*w+($*C+q*S))+B*(X*d+(q*_+$*l))),i[n+(s*284|0)+100>>2]=(q*N+$*D+X*E)*-M+((X*w+($*C+q*S))*-g+(X*d+(q*_+$*l))*-u),i[n+(s*284|0)+104>>2]=0,i[n+(s*284|0)+108>>2]=V*(z*N+O*D+Y*E)+(U*(Y*w+(O*C+z*S))+L*(Y*d+(z*_+O*l))),i[n+(s*284|0)+112>>2]=F*(z*N+O*D+Y*E)+(k*(Y*w+(O*C+z*S))+B*(Y*d+(z*_+O*l))),i[n+(s*284|0)+116>>2]=(z*N+O*D+Y*E)*-M+((Y*w+(O*C+z*S))*-g+(Y*d+(z*_+O*l))*-u),i[n+(s*284|0)+120>>2]=0,i[n+(s*284|0)+124>>2]=V*(h*N+a*D+m*E)+(U*(m*w+(a*C+h*S))+L*(m*d+(h*_+a*l))),i[n+(s*284|0)+128>>2]=F*(h*N+a*D+m*E)+(k*(m*w+(a*C+h*S))+B*(m*d+(h*_+a*l))),i[n+(s*284|0)+132>>2]=(h*N+a*D+m*E)*-M+((m*w+(a*C+h*S))*-g+(m*d+(h*_+a*l))*-u),i[n+(s*284|0)+136>>2]=0,u=+i[n+(s*284|0)+32>>2],l=u*+i[n+(s*284|0)+56>>2]+ +i[n+(s*284|0)+40>>2],a=u*+i[n+(s*284|0)+60>>2]+ +i[n+(s*284|0)+44>>2],i[n+(s*284|0)+140>>2]=+i[n+(s*284|0)+52>>2]*u+ +i[n+(s*284|0)+36>>2],i[n+(s*284|0)+144>>2]=l,i[n+(s*284|0)+148>>2]=a,i[n+(s*284|0)+152>>2]=0}function uh(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0;a=H,H=H+64|0,A[n+84>>0]=0,e[a>>2]=e[t+4>>2],e[a+4>>2]=e[t+4+4>>2],e[a+8>>2]=e[t+4+8>>2],e[a+12>>2]=e[t+4+12>>2],e[a+16>>2]=e[t+20>>2],e[a+16+4>>2]=e[t+20+4>>2],e[a+16+8>>2]=e[t+20+8>>2],e[a+16+12>>2]=e[t+20+12>>2],e[a+32>>2]=e[t+36>>2],e[a+32+4>>2]=e[t+36+4>>2],e[a+32+8>>2]=e[t+36+8>>2],e[a+32+12>>2]=e[t+36+12>>2],e[a+48>>2]=e[t+52>>2],e[a+48+4>>2]=e[t+52+4>>2],e[a+48+8>>2]=e[t+52+8>>2],e[a+48+12>>2]=e[t+52+12>>2],s&&(o=e[t+504>>2]|0,o|0)&&zt[e[(e[o>>2]|0)+8>>2]&127](o,a),N=+i[n+156>>2],E=+i[a>>2],D=+i[n+160>>2],M=+i[a+4>>2],m=+i[n+164>>2],w=+i[a+8>>2],C=+i[a+16>>2],S=+i[a+20>>2],g=+i[a+24>>2],d=+i[a+32>>2],_=+i[a+36>>2],l=+i[a+40>>2],h=N*C+D*S+m*g+ +i[a+52>>2],u=N*d+D*_+m*l+ +i[a+56>>2],i[n+36>>2]=N*E+D*M+m*w+ +i[a+48>>2],i[n+40>>2]=h,i[n+44>>2]=u,i[n+48>>2]=0,u=+i[n+172>>2],h=+i[n+176>>2],m=+i[n+180>>2],i[n+52>>2]=E*u+M*h+w*m,i[n+56>>2]=u*C+h*S+m*g,i[n+60>>2]=u*d+h*_+m*l,i[n+64>>2]=0,m=+i[n+188>>2],h=+i[n+192>>2],u=+i[n+196>>2],i[n+68>>2]=E*m+M*h+w*u,i[n+72>>2]=m*C+h*S+u*g,i[n+76>>2]=m*d+h*_+u*l,i[n+80>>2]=0,H=a}function qV(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0;if(C=H,H=H+144|0,m=e[t+128>>2]|0,!m){H=C;return}if(u=e[t+8>>2]|0,(u|0)<(m|0)){if((e[t+12>>2]|0)<(m|0)){if(e[5637]=(e[5637]|0)+1,s=Xe((m<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,l=s+4+15&-16):l=0,s=e[t+8>>2]|0,(s|0)>0){a=0;do d=l+(a<<4)|0,w=(e[t+16>>2]|0)+(a<<4)|0,e[d>>2]=e[w>>2],e[d+4>>2]=e[w+4>>2],e[d+8>>2]=e[w+8>>2],e[d+12>>2]=e[w+12>>2],a=a+1|0;while((a|0)!=(s|0))}s=e[t+16>>2]|0,s|0&&(A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+16>>2]=0),A[t+20>>0]=1,e[t+16>>2]=l,e[t+12>>2]=m,a=t+16|0}else a=t+16|0;s=u;do w=(e[a>>2]|0)+(s<<4)|0,e[w>>2]=e[C+80>>2],e[w+4>>2]=e[C+80+4>>2],e[w+8>>2]=e[C+80+8>>2],e[w+12>>2]=e[C+80+12>>2],s=s+1|0;while((s|0)!=(m|0))}if(e[t+8>>2]=m,u=e[t+28>>2]|0,(u|0)<(m|0)){if((e[t+32>>2]|0)<(m|0)){if(e[5637]=(e[5637]|0)+1,s=Xe((m<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,l=s+4+15&-16):l=0,s=e[t+28>>2]|0,(s|0)>0){a=0;do w=l+(a<<4)|0,d=(e[t+36>>2]|0)+(a<<4)|0,e[w>>2]=e[d>>2],e[w+4>>2]=e[d+4>>2],e[w+8>>2]=e[d+8>>2],e[w+12>>2]=e[d+12>>2],a=a+1|0;while((a|0)!=(s|0))}s=e[t+36>>2]|0,s|0&&(A[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+36>>2]=0),A[t+40>>0]=1,e[t+36>>2]=l,e[t+32>>2]=m,a=t+36|0}else a=t+36|0;s=u;do w=(e[a>>2]|0)+(s<<4)|0,e[w>>2]=e[C+64>>2],e[w+4>>2]=e[C+64+4>>2],e[w+8>>2]=e[C+64+8>>2],e[w+12>>2]=e[C+64+12>>2],s=s+1|0;while((s|0)!=(m|0))}if(e[t+28>>2]=m,d=e[t+48>>2]|0,(d|0)<(m|0)){do if((e[t+52>>2]|0)<(m|0)){if(e[5637]=(e[5637]|0)+1,s=Xe((m<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=e[t+48>>2]|0,l=e[t+56>>2]|0,(a|0)<=0){if(!l){A[t+60>>0]=1,e[t+56>>2]=s,e[t+52>>2]=m,a=m<<2;break}}else{u=0;do e[s+(u<<2)>>2]=e[l+(u<<2)>>2],u=u+1|0;while((u|0)!=(a|0))}A[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),A[t+60>>0]=1,e[t+56>>2]=s,e[t+52>>2]=m,a=m<<2}else a=m<<2,s=e[t+56>>2]|0;while(!1);ln(s+(d<<2)|0,0,a-(d<<2)|0)|0}if(e[t+48>>2]=m,d=e[t+68>>2]|0,(d|0)<(m|0)){do if((e[t+72>>2]|0)<(m|0)){if(e[5637]=(e[5637]|0)+1,s=Xe((m<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=e[t+68>>2]|0,l=e[t+76>>2]|0,(a|0)<=0){if(!l){A[t+80>>0]=1,e[t+76>>2]=s,e[t+72>>2]=m,a=m<<2;break}}else{u=0;do e[s+(u<<2)>>2]=e[l+(u<<2)>>2],u=u+1|0;while((u|0)!=(a|0))}A[t+80>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),A[t+80>>0]=1,e[t+76>>2]=s,e[t+72>>2]=m,a=m<<2}else a=m<<2,s=e[t+76>>2]|0;while(!1);ln(s+(d<<2)|0,0,a-(d<<2)|0)|0}if(e[t+68>>2]=m,s=e[t+128>>2]|0,(s|0)<=0){H=C;return}a=e[t+76>>2]|0,l=e[t+56>>2]|0,u=0;do i[a+(u<<2)>>2]=0,i[l+(u<<2)>>2]=0,u=u+1|0;while((u|0)!=(s|0));u=0;do a=e[t+136>>2]|0,l=e[a+(u*284|0)+88>>2]|0,l&&(s=a+(u*284|0)+92|0,e[C+96>>2]=e[s>>2],e[C+96+4>>2]=e[s+4>>2],e[C+96+8>>2]=e[s+8>>2],e[C+96+12>>2]=e[s+12>>2],s=a+(u*284|0)+108|0,e[C+96+16>>2]=e[s>>2],e[C+96+16+4>>2]=e[s+4>>2],e[C+96+16+8>>2]=e[s+8>>2],e[C+96+16+12>>2]=e[s+12>>2],s=a+(u*284|0)+124|0,e[C+96+32>>2]=e[s>>2],e[C+96+32+4>>2]=e[s+4>>2],e[C+96+32+8>>2]=e[s+8>>2],e[C+96+32+12>>2]=e[s+12>>2],s=e[t+36>>2]|0,B=e[t+112>>2]|0,m=e[C+96+16+(B<<2)>>2]|0,k=e[C+96+32+(B<<2)>>2]|0,e[s+(u<<4)>>2]=e[C+96+(B<<2)>>2],e[s+(u<<4)+4>>2]=m,e[s+(u<<4)+8>>2]=k,i[s+(u<<4)+12>>2]=0,s=e[t+36>>2]|0,k=s+(u<<4)|0,F=+i[k>>2],m=a+(u*284|0)|0,o=+i[m>>2],B=s+(u<<4)+4|0,N=+i[B>>2],d=a+(u*284|0)+4|0,_=+i[d>>2],s=s+(u<<4)+8|0,M=+i[s>>2],w=a+(u*284|0)+8|0,D=+i[w>>2],h=F-o*(F*o+N*_+M*D),E=N-_*(F*o+N*_+M*D),D=M-D*(F*o+N*_+M*D),M=1/+at(+(h*h+E*E+D*D)),i[k>>2]=h*M,i[B>>2]=E*M,i[s>>2]=D*M,s=e[t+16>>2]|0,_=+i[d>>2],N=+i[w>>2],o=+i[m>>2],i[s+(u<<4)>>2]=_*(D*M)-N*(E*M),i[s+(u<<4)+4>>2]=N*(h*M)-D*M*o,i[s+(u<<4)+8>>2]=E*M*o-_*(h*M),i[s+(u<<4)+12>>2]=0,s=e[t+16>>2]|0,m=s+(u<<4)|0,M=+i[m>>2],w=s+(u<<4)+4|0,h=+i[w>>2],s=s+(u<<4)+8|0,_=+i[s>>2],o=1/+at(+(M*M+h*h+_*_)),i[m>>2]=M*o,i[w>>2]=h*o,i[s>>2]=_*o,s=e[t+108>>2]|0,w=e[t+36>>2]|0,o=+i[w+(u<<4)>>2],_=+i[w+(u<<4)+4>>2],h=+i[w+(u<<4)+8>>2],o*o+_*_+h*h>1.100000023841858?o=0:(V=+i[a+(u*284|0)+16>>2],$=V-+i[s+52>>2],z=+i[a+(u*284|0)+20>>2],X=z-+i[s+56>>2],ne=+i[a+(u*284|0)+24>>2],te=ne-+i[s+60>>2],V=V-+i[l+52>>2],z=z-+i[l+56>>2],ne=ne-+i[l+60>>2],Y=+i[s+356>>2],pe=+i[s+360>>2],q=+i[s+352>>2],U=+i[l+356>>2],W=+i[l+360>>2],O=+i[l+352>>2],L=(h*X-_*te)*+i[s+4>>2]+(o*te-h*$)*+i[s+20>>2]+(_*$-o*X)*+i[s+36>>2],M=(h*X-_*te)*+i[s+8>>2]+(o*te-h*$)*+i[s+24>>2]+(_*$-o*X)*+i[s+40>>2],E=(h*X-_*te)*+i[s+12>>2]+(o*te-h*$)*+i[s+28>>2]+(_*$-o*X)*+i[s+44>>2],D=(z*-h-ne*-_)*+i[l+4>>2]+(ne*-o-V*-h)*+i[l+20>>2]+(V*-_-z*-o)*+i[l+36>>2],N=(z*-h-ne*-_)*+i[l+8>>2]+(ne*-o-V*-h)*+i[l+24>>2]+(V*-_-z*-o)*+i[l+40>>2],F=(z*-h-ne*-_)*+i[l+12>>2]+(ne*-o-V*-h)*+i[l+28>>2]+(V*-_-z*-o)*+i[l+44>>2],o=(o*(te*Y-X*pe+ +i[s+336>>2]-(ne*U-z*W+ +i[l+336>>2]))+_*(+i[s+340>>2]+($*pe-te*q)-(+i[l+340>>2]+(V*W-ne*O)))+h*(X*q-$*Y+ +i[s+344>>2]-(z*O-V*U+ +i[l+344>>2])))*-.20000000298023224*(1/(+i[l+368>>2]+(+i[s+368>>2]+(L*(L*+i[s+420>>2])+M*(M*+i[s+424>>2])+E*(E*+i[s+428>>2])))+(D*(D*+i[l+420>>2])+N*(N*+i[l+424>>2])+F*(F*+i[l+428>>2]))))),i[(e[t+76>>2]|0)+(u<<2)>>2]=o,s=e[t+128>>2]|0),u=u+1|0;while((u|0)<(s|0));if((s|0)<=0){H=C;return}for(a=e[t+136>>2]|0,l=0,m=0;s=e[a+(m*284|0)+88>>2]|0,s?(o=+i[a+(m*284|0)+252>>2],o!=0?(u=a,o=o*n):(pe=+i[a+(m*284|0)+256>>2],pe=pe==0?0:pe,u=e[t+108>>2]|0,k=e[t+16>>2]|0,$=+i[a+(m*284|0)+16>>2],z=+i[a+(m*284|0)+20>>2],L=+i[a+(m*284|0)+24>>2],N=+i[k+(m<<4)>>2],O=+i[k+(m<<4)+4>>2],o=+i[k+(m<<4)+8>>2],he=$-+i[u+52>>2],me=z-+i[u+56>>2],_=L-+i[u+60>>2],h=+i[u+288>>2]*(me*o-_*O)+ +i[u+304>>2]*(_*N-he*o)+(he*O-me*N)*+i[u+320>>2],re=(me*o-_*O)*+i[u+292>>2]+(_*N-he*o)*+i[u+308>>2]+(he*O-me*N)*+i[u+324>>2],_e=(me*o-_*O)*+i[u+296>>2]+(_*N-he*o)*+i[u+312>>2]+(he*O-me*N)*+i[u+328>>2],W=$-+i[s+52>>2],X=z-+i[s+56>>2],V=L-+i[s+60>>2],D=(O*W-N*X)*+i[s+320>>2]+(+i[s+288>>2]*(o*X-O*V)+ +i[s+304>>2]*(N*V-o*W)),M=(o*X-O*V)*+i[s+292>>2]+(N*V-o*W)*+i[s+308>>2]+(O*W-N*X)*+i[s+324>>2],E=(o*X-O*V)*+i[s+296>>2]+(N*V-o*W)*+i[s+312>>2]+(O*W-N*X)*+i[s+328>>2],$=$-+i[u+52>>2],z=z-+i[u+56>>2],L=L-+i[u+60>>2],q=+i[u+356>>2],F=+i[u+360>>2],Y=+i[u+352>>2],te=+i[s+356>>2],U=+i[s+360>>2],ne=+i[s+352>>2],o=-(1/(+i[u+368>>2]+(o*(me*h-he*re)+(N*(_*re-me*_e)+O*(he*_e-_*h)))+(+i[s+368>>2]+(o*(X*D-W*M)+(N*(V*M-X*E)+O*(W*E-V*D)))))*((L*q-z*F+ +i[u+336>>2]-(V*te-X*U+ +i[s+336>>2]))*N+(+i[u+340>>2]+($*F-L*Y)-(+i[s+340>>2]+(W*U-V*ne)))*O+(z*Y-$*q+ +i[u+344>>2]-(X*ne-W*te+ +i[s+344>>2]))*o)),o=pe<o?pe:o,u=e[t+136>>2]|0,o=o<-pe?-pe:o),d=e[t+56>>2]|0,k=d+(m<<2)|0,i[k>>2]=0,s=u+(m*284|0)+280|0,i[s>>2]=1,h=+i[a+(m*284|0)+276>>2]*n*+i[a+(m*284|0)+228>>2],i[k>>2]=o,o=o*.5,_=+i[(e[t+76>>2]|0)+(m<<2)>>2],o*o+_*_>h*h?(re=h/+at(+(o*o+_*_)),i[s>>2]=re*+i[s>>2],s=1):s=l):(d=e[t+56>>2]|0,i[d+(m<<2)>>2]=0,i[a+(m*284|0)+280>>2]=1,u=a,s=l),m=m+1|0,l=e[t+128>>2]|0,!((m|0)>=(l|0));)a=u,l=s;if(s){if((l|0)<=0){H=C;return}s=e[t+76>>2]|0,a=0;do+i[s+(a<<2)>>2]!=0&&(g=u+(a*284|0)+280|0,S=+i[g>>2],S<1)&&(k=d+(a<<2)|0,i[k>>2]=S*+i[k>>2],k=(e[t+76>>2]|0)+(a<<2)|0,i[k>>2]=+i[g>>2]*+i[k>>2]),a=a+1|0;while((a|0)!=(l|0))}if((l|0)<=0){H=C;return}for(l=d,s=0;a=e[t+108>>2]|0,d=u+(s*284|0)+16|0,_=+i[d>>2]-+i[a+52>>2],m=u+(s*284|0)+20|0,h=+i[m>>2]-+i[a+56>>2],g=u+(s*284|0)+24|0,n=+i[g>>2]-+i[a+60>>2],i[C+96>>2]=_,i[C+96+4>>2]=h,i[C+96+8>>2]=n,i[C+96+12>>2]=0,o=+i[l+(s<<2)>>2],o!=0&&(k=e[t+16>>2]|0,me=o*+i[k+(s<<4)+4>>2],re=o*+i[k+(s<<4)+8>>2],i[C+16>>2]=o*+i[k+(s<<4)>>2],i[C+16+4>>2]=me,i[C+16+8>>2]=re,i[C+16+12>>2]=0,H1(a,C+16|0,C+96|0)),o=+i[(e[t+76>>2]|0)+(s<<2)>>2],o!=0&&(k=e[(e[t+136>>2]|0)+(s*284|0)+88>>2]|0,me=+i[m>>2]-+i[k+56>>2],he=+i[g>>2]-+i[k+60>>2],i[C+48>>2]=+i[d>>2]-+i[k+52>>2],i[C+48+4>>2]=me,i[C+48+8>>2]=he,i[C+48+12>>2]=0,B=e[t+36>>2]|0,he=+i[B+(s<<4)>>2]*o,me=o*+i[B+(s<<4)+4>>2],re=o*+i[B+(s<<4)+8>>2],i[C+32>>2]=he,i[C+32+4>>2]=me,i[C+32+8>>2]=re,i[C+32+12>>2]=0,B=e[t+108>>2]|0,w=e[t+116>>2]|0,W=+i[B+4+(w<<2)>>2],te=+i[B+20+(w<<2)>>2],pe=+i[B+36+(w<<2)>>2],_e=(W*_+te*h+pe*n)*(1-+i[u+(s*284|0)+244>>2]),i[C+96>>2]=_-W*_e,i[C+96+4>>2]=h-te*_e,i[C+96+8>>2]=n-pe*_e,H1(B,C+32|0,C+96|0),i[C>>2]=-he,i[C+4>>2]=-me,i[C+8>>2]=-re,i[C+12>>2]=0,H1(k,C,C+48|0)),s=s+1|0,!((s|0)>=(e[t+128>>2]|0));)u=e[t+136>>2]|0,l=e[t+56>>2]|0;H=C}function XV(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,e[t+112>>2]=n,e[t+116>>2]=s,e[t+120>>2]=o}function $V(t){t=t|0}function YV(t){t=t|0,ye(t)}function KV(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0;return a=H,H=H+96|0,i[a+4>>2]=1,e[a+8>>2]=0,ee[a+12>>1]=1,ee[a+14>>1]=-1,e[a+16>>2]=0,e[a>>2]=8008,e[a+20>>2]=e[n>>2],e[a+20+4>>2]=e[n+4>>2],e[a+20+8>>2]=e[n+8>>2],e[a+20+12>>2]=e[n+12>>2],e[a+36>>2]=e[s>>2],e[a+36+4>>2]=e[s+4>>2],e[a+36+8>>2]=e[s+8>>2],e[a+36+12>>2]=e[s+12>>2],t=e[t+4>>2]|0,Kt[e[(e[t>>2]|0)+32>>2]&127](t,n,s,a),n=e[a+8>>2]|0,!n||!(e[n+236>>2]&2)||e[n+204>>2]&4|0?(o=0,H=a,o|0):(e[o>>2]=e[a+68>>2],e[o+4>>2]=e[a+68+4>>2],e[o+8>>2]=e[a+68+8>>2],e[o+12>>2]=e[a+68+12>>2],e[o+16>>2]=e[a+52>>2],e[o+16+4>>2]=e[a+52+4>>2],e[o+16+8>>2]=e[a+52+8>>2],e[o+16+12>>2]=e[a+52+12>>2],h=+i[o+16>>2],_=+i[o+20>>2],u=+i[o+24>>2],l=1/+at(+(h*h+_*_+u*u)),i[o+16>>2]=h*l,i[o+20>>2]=_*l,i[o+24>>2]=u*l,e[o+32>>2]=e[a+4>>2],o=n,H=a,o|0)}function ZV(t){t=t|0,ye(t)}function QV(t,n){return t=t|0,n=n|0,n=e[n+4>>2]|0,(ee[t+14>>1]&(n&65535))<<16>>16?(t=(n>>>16&65535&ee[t+12>>1])<<16>>16!=0,t|0):(t=0,t|0)}function JV(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;return e[t+4>>2]=e[n+24>>2],o=e[n>>2]|0,e[t+8>>2]=o,s?(e[t+52>>2]=e[n+8>>2],e[t+52+4>>2]=e[n+8+4>>2],e[t+52+8>>2]=e[n+8+8>>2],e[t+52+12>>2]=e[n+8+12>>2]):(h=+i[n+8>>2],_=+i[n+12>>2],u=+i[n+16>>2],l=h*+i[o+20>>2]+_*+i[o+24>>2]+u*+i[o+28>>2],a=h*+i[o+36>>2]+_*+i[o+40>>2]+u*+i[o+44>>2],i[t+52>>2]=+i[o+4>>2]*h+ +i[o+8>>2]*_+ +i[o+12>>2]*u,i[t+56>>2]=l,i[t+60>>2]=a,i[t+64>>2]=0),h=+i[n+24>>2],i[t+68>>2]=(1-h)*+i[t+20>>2]+h*+i[t+36>>2],i[t+72>>2]=(1-h)*+i[t+24>>2]+h*+i[t+40>>2],i[t+76>>2]=(1-h)*+i[t+28>>2]+h*+i[t+44>>2],+ +i[n+24>>2]}function ez(t,n,s,o,a,l,u,_){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=+l,u=u|0,_=_|0;var h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0;if(N=H,H=H+288|0,e[N+208>>2]=e[n>>2],e[N+208+4>>2]=e[n+4>>2],e[N+208+8>>2]=e[n+8>>2],e[N+208+12>>2]=e[n+12>>2],d=N+208+16|0,e[d>>2]=e[s>>2],e[d+4>>2]=e[s+4>>2],e[d+8>>2]=e[s+8>>2],e[d+12>>2]=e[s+12>>2],m=N+208+32|0,e[m>>2]=e[o>>2],e[m+4>>2]=e[o+4>>2],e[m+8>>2]=e[o+8>>2],e[m+12>>2]=e[o+12>>2],C=e[u>>2]|0,M=e[u+4>>2]|0,E=e[u+8>>2]|0,D=e[u+16>>2]|0,S=e[u+12>>2]|0,g=e[u+20>>2]|0,e[N>>2]=e[N+208>>2],e[N+4>>2]=e[N+208+4>>2],e[N+8>>2]=e[N+208+8>>2],e[N+12>>2]=e[N+208+12>>2],e[N+16>>2]=e[d>>2],e[N+16+4>>2]=e[d+4>>2],e[N+16+8>>2]=e[d+8>>2],e[N+16+12>>2]=e[d+12>>2],e[N+32>>2]=e[m>>2],e[N+32+4>>2]=e[m+4>>2],e[N+32+8>>2]=e[m+8>>2],e[N+32+12>>2]=e[m+12>>2],o=e[t+128>>2]|0,(o|0)==(e[t+132>>2]|0)&&(w=o|0?o<<1:1,(o|0)<(w|0))){if(w?(e[5637]=(e[5637]|0)+1,n=Xe((w*284|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,o=e[t+128>>2]|0):n=0,(o|0)>0){u=0;do{s=e[t+136>>2]|0,h=n+(u*284|0)|0,d=s+(u*284|0)|0,m=h+92|0;do e[h>>2]=e[d>>2],h=h+4|0,d=d+4|0;while((h|0)<(m|0));h=n+(u*284|0)+92|0,d=s+(u*284|0)+92|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],h=n+(u*284|0)+108|0,d=s+(u*284|0)+108|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],h=n+(u*284|0)+124|0,d=s+(u*284|0)+124|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],h=n+(u*284|0)+140|0,d=s+(u*284|0)+140|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],h=n+(u*284|0)+156|0,d=s+(u*284|0)+156|0,m=h+128|0;do e[h>>2]=e[d>>2],h=h+4|0,d=d+4|0;while((h|0)<(m|0));u=u+1|0}while((u|0)!=(o|0))}o=e[t+136>>2]|0,o|0&&(A[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+136>>2]=0),A[t+140>>0]=1,e[t+136>>2]=n,e[t+132>>2]=w,o=e[t+128>>2]|0}n=e[t+136>>2]|0,h=n+(o*284|0)|0,d=N+48|0,m=h+92|0;do e[h>>2]=e[d>>2],h=h+4|0,d=d+4|0;while((h|0)<(m|0));h=n+(o*284|0)+92|0,e[h>>2]=e[N+192>>2],e[h+4>>2]=e[N+192+4>>2],e[h+8>>2]=e[N+192+8>>2],e[h+12>>2]=e[N+192+12>>2],h=n+(o*284|0)+108|0,e[h>>2]=e[N+176>>2],e[h+4>>2]=e[N+176+4>>2],e[h+8>>2]=e[N+176+8>>2],e[h+12>>2]=e[N+176+12>>2],h=n+(o*284|0)+124|0,e[h>>2]=e[N+160>>2],e[h+4>>2]=e[N+160+4>>2],e[h+8>>2]=e[N+160+8>>2],e[h+12>>2]=e[N+160+12>>2],h=n+(o*284|0)+140|0,e[h>>2]=e[N+144>>2],e[h+4>>2]=e[N+144+4>>2],e[h+8>>2]=e[N+144+8>>2],e[h+12>>2]=e[N+144+12>>2],n=n+(o*284|0)+156|0,h=n,d=N,m=h+48|0;do e[h>>2]=e[d>>2],h=h+4|0,d=d+4|0;while((h|0)<(m|0));i[n+48>>2]=a,e[n+52>>2]=S,i[n+56>>2]=l,e[n+60>>2]=C,e[n+64>>2]=M,e[n+68>>2]=E,e[n+72>>2]=D,i[n+76>>2]=0,i[n+80>>2]=0,i[n+84>>2]=0,i[n+88>>2]=.10000000149011612,e[n+92>>2]=g,i[n+96>>2]=0,i[n+100>>2]=0,A[n+104>>0]=_&1,h=n+105|0,d=N+256|0,m=h+23|0;do A[h>>0]=A[d>>0]|0,h=h+1|0,d=d+1|0;while((h|0)<(m|0));return _=e[t+128>>2]|0,e[t+128>>2]=_+1,_=(e[t+136>>2]|0)+(_*284|0)|0,uh(e[t+108>>2]|0,_,0),lh(e[t+108>>2]|0,e[t+136>>2]|0,(e[t+128>>2]|0)+-1|0,0),H=N,_|0}function fh(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;if(o=e[t+56>>2]|0,o)_=o;else if(o=e[t+52>>2]|0,o?e[t+52>>2]=e[o+8>>2]:(e[5637]=(e[5637]|0)+1,o=Xe(31)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+60>>2]|0,e[o+4>>2]=a,l=o+8|0,e[l>>2]=0,e[5637]=(e[5637]|0)+1,a=Xe((a*24|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[o>>2]=a,e[l>>2]=e[t+48>>2],e[t+48>>2]=o),u=e[o+4>>2]|0,o=e[o>>2]|0,(u|0)>0){a=0,l=o;do a=a+1|0,_=l,l=l+24|0,e[_>>2]=(a|0)<(u|0)?l:0;while((a|0)!=(u|0));_=o}else _=o;if(e[t+56>>2]=e[_>>2],e[_>>2]=0,e[_+4>>2]=0,e[_+8>>2]=0,e[_+12>>2]=0,e[_+16>>2]=0,e[_+20>>2]=0,o=e[t+56>>2]|0,!o&&(o=e[t+52>>2]|0,o?e[t+52>>2]=e[o+8>>2]:(e[5637]=(e[5637]|0)+1,o=Xe(31)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+60>>2]|0,e[o+4>>2]=a,l=o+8|0,e[l>>2]=0,e[5637]=(e[5637]|0)+1,a=Xe((a*24|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[o>>2]=a,e[l>>2]=e[t+48>>2],e[t+48>>2]=o),u=e[o+4>>2]|0,o=e[o>>2]|0,(u|0)>0)){a=0,l=o;do a=a+1|0,h=l,l=l+24|0,e[h>>2]=(a|0)<(u|0)?l:0;while((a|0)!=(u|0))}return e[t+56>>2]=e[o>>2],e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[_+8>>2]=o,e[o+8>>2]=_,h=e[t+100>>2]|0,e[_+20>>2]=h,e[o+20>>2]=h,e[_+12>>2]=s,e[o+12>>2]=n,e[_+16>>2]=0,e[o+16>>2]=0,o=e[t+116>>2]|0,e[t+116>>2]=o+1,(o|0)<(e[t+120>>2]|0)||(e[t+120>>2]=o+1),_|0}function ph(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0;te=H,H=H+144|0;e:do switch(s-n|0){case 0:{e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,H=te;return}case 2:{if(a=e[(e[t+92>>2]|0)+(n<<2)>>2]|0,h=e[a+88>>2]|0,d=e[a+200>>2]|0,_=e[a+92>>2]|0,l=e[a+204>>2]|0,(h|0)==(d|0)){if((_|0)==(l|0)){if((e[a+96>>2]|0)==(e[a+208>>2]|0))break e;l=_}(_|0)==(l|0)?(ne=(e[a+96>>2]|0)>(e[a+208>>2]|0),l=ne?a+112|0:a,e[l>>2]=l,e[l+4>>2]=l,e[o>>2]=l,e[o+4>>2]=l,e[o+8>>2]=l,e[o+12>>2]=l,a=ne?a:a+112|0):(u=l,l=0,W=9)}else u=l,l=(_|0)==(l|0),W=9;do if((W|0)==9)if(e[a>>2]=a+112,e[a+4>>2]=a+112,e[a+112>>2]=a,e[a+116>>2]=a,W=(_|0)<(u|0),e[o>>2]=(h|0)<(d|0)|(h|0)==(d|0)&W?a:a+112|0,e[o+4>>2]=(h|0)<(d|0)|(h|0)==(d|0)&W?a+112|0:a,W|(h|0)<(d|0)&l){e[o+8>>2]=a,e[o+12>>2]=a+112,l=a,a=a+112|0;break}else{e[o+8>>2]=a+112,e[o+12>>2]=a,l=a,a=a+112|0;break}while(!1);t=fh(t,l,a)|0,e[t>>2]=t,e[t+4>>2]=t,e[l+8>>2]=t,t=e[t+8>>2]|0,e[t>>2]=t,e[t+4>>2]=t,e[a+8>>2]=t,H=te;return}case 1:{a=e[(e[t+92>>2]|0)+(n<<2)>>2]|0;break}default:{g=((s-n|0)/2|0)+n|0,u=e[t+92>>2]|0,m=e[u+(g+-1<<2)>>2]|0,_=e[m+88>>2]|0,h=e[m+92>>2]|0,m=e[m+96>>2]|0;t:do if((g|0)<(s|0)){a=g;do{if(l=e[u+(a<<2)>>2]|0,(e[l+88>>2]|0)!=(_|0)||(e[l+92>>2]|0)!=(h|0)||(e[l+96>>2]|0)!=(m|0))break t;a=a+1|0}while((a|0)<(s|0))}else a=g;while(!1);ph(t,n,g,o),e[te+96>>2]=0,e[te+96+4>>2]=0,e[te+96+8>>2]=0,e[te+96+12>>2]=0,ph(t,a,s,te+96|0),m=e[te+96+4>>2]|0;t:do if(m|0){if(V=e[o+4>>2]|0,!V){e[o>>2]=e[te+96>>2],e[o+4>>2]=e[te+96+4>>2],e[o+8>>2]=e[te+96+8>>2],e[o+12>>2]=e[te+96+12>>2];break}e[t+100>>2]=(e[t+100>>2]|0)+-1,u=e[o+12>>2]|0,h=e[te+96+8>>2]|0,_=e[u+88>>2]|0;i:do if((_|0)==(e[h+88>>2]|0)&&(d=e[u+92>>2]|0,(d|0)==(e[h+92>>2]|0))){if(g=e[h+4>>2]|0,(g|0)==(h|0)){a=e[h+8>>2]|0,a&&(h=e[a+12>>2]|0,d=e[h+92>>2]|0,_=e[h+88>>2]|0),l=u,q=h,a=h,g=_+1|0,s=e[h+96>>2]|0;break}u=e[h>>2]|0,e[g>>2]=u,e[u+4>>2]=g;n:do if((h|0)==(e[te+96>>2]|0)){a=e[u+88>>2]|0,l=e[g+88>>2]|0;do if((a|0)>=(l|0)){if((a|0)==(l|0)&&(e[u+92>>2]|0)<(e[g+92>>2]|0))break;e[te+96>>2]=g;break n}while(!1);e[te+96>>2]=u}while(!1);if((h|0)==(m|0)){a=e[u+88>>2]|0,l=e[g+88>>2]|0;do if((a|0)<=(l|0)){if((a|0)==(l|0)&&(e[u+92>>2]|0)>(e[g+92>>2]|0))break;e[te+96+4>>2]=g,u=g,W=39;break i}while(!1);e[te+96+4>>2]=u,W=39}else u=m,W=39}else u=m,W=39;while(!1);if((W|0)==39){for(k=e[o>>2]|0,F=e[te+96>>2]|0,L=0,U=1,n=V,l=0,a=u,_=0;;){h=e[a+88>>2]|0,s=e[n+88>>2]|0,d=Rt(h-s|0,U)|0;i:do if((d|0)<=0){if((d|0)<0)for(B=(L|0)!=0,g=e[n+92>>2]|0,N=e[a+92>>2]|0,m=d,d=n;;){for(M=e[(B?a+4|0:a)>>2]|0,E=(M|0)==(a|0),D=a+88|0,w=m;m=d+88|0,S=N-g|0,!(!E&&(O=e[M+88>>2]|0,z=Rt(O-h|0,U)|0,Y=e[M+92>>2]|0,$=Y-N|0,($|0)>-1)&&(!z||(z|0)<0&&(Rt($,w)|0)<=(Rt(z,S)|0)));){if(C=e[(B?d+4|0:d)>>2]|0,(C|0)==(d|0)||(q=e[C+88>>2]|0,s=Rt(q-(e[m>>2]|0)|0,U)|0,n=e[C+92>>2]|0,m=n-g|0,h=e[D>>2]|0,g=w,w=Rt(h-q|0,U)|0,!((m|0)>0&(w|0)<0)))break i;if(!s){g=n,d=C;continue}if((s|0)>=0||(Rt(m,g)|0)>=(Rt(s,S)|0))break i;g=n,d=C}h=O,N=Y,m=Rt(O-(e[m>>2]|0)|0,U)|0,a=M}h=e[n+92>>2]|0,g=(L|0)!=0;n:do if(g)for(m=n;;){if(d=e[m>>2]|0,(d|0)==(n|0)||(e[d+88>>2]|0)!=(s|0))break n;if(q=h,h=e[d+92>>2]|0,(h|0)>(q|0))break;m=d}else for(m=n;;){if(d=e[m+4>>2]|0,(d|0)==(n|0)||(e[d+88>>2]|0)!=(s|0))break n;if(q=h,h=e[d+92>>2]|0,(h|0)>(q|0))break;m=d}while(!1);if(d=e[a+92>>2]|0,g)for(g=a;;){if(h=e[g+4>>2]|0,(h|0)==(a|0)){d=m,a=g;break i}if((e[h+88>>2]|0)!=(s|0)){d=m,a=g;break i}if(q=d,d=e[h+92>>2]|0,(d|0)<(q|0)){d=m,a=g;break}else g=h}else for(g=a;;){if(h=e[g>>2]|0,(h|0)==(a|0)){d=m,a=g;break i}if((e[h+88>>2]|0)!=(s|0)){d=m,a=g;break i}if(q=d,d=e[h+92>>2]|0,(d|0)<(q|0)){d=m,a=g;break}else g=h}}else for(N=(L|0)!=0,E=s,D=e[a+92>>2]|0,M=d;;){w=a+88|0,m=e[n+92>>2]|0,h=D-m|0,d=e[(N?n:n+4|0)>>2]|0;n:do if((d|0)!=(n|0))if(N)for(C=E,S=m,s=M;;){if(m=C,C=e[d+88>>2]|0,m=Rt(C-m|0,U)|0,g=S,S=e[d+92>>2]|0,g=S-g|0,(g|0)>=1){S=h,d=n;break n}if(m|0){if((m|0)>=0){S=h,d=n;break n}if((Rt(g,s)|0)>(Rt(m,h)|0)){S=h,d=n;break n}}if(g=Rt((e[w>>2]|0)-C|0,U)|0,h=D-S|0,m=e[d>>2]|0,(m|0)==(d|0)){S=h,s=g;break}else n=d,d=m,s=g}else for(C=E,S=m,s=M;;){if(m=C,C=e[d+88>>2]|0,m=Rt(C-m|0,U)|0,g=S,S=e[d+92>>2]|0,g=S-g|0,(g|0)>=1){S=h,d=n;break n}if(m|0){if((m|0)>=0){S=h,d=n;break n}if((Rt(g,s)|0)>(Rt(m,h)|0)){S=h,d=n;break n}}if(g=Rt((e[w>>2]|0)-C|0,U)|0,h=D-S|0,m=e[d+4>>2]|0,(m|0)==(d|0)){S=h,s=g;break}else n=d,d=m,s=g}else S=h,s=M,d=n;while(!1);if(g=e[(N?a:a+4|0)>>2]|0,(g|0)==(a|0)||(M=e[g+88>>2]|0,h=Rt(M-(e[w>>2]|0)|0,U)|0,m=D,D=e[g+92>>2]|0,m=D-m|0,E=e[d+88>>2]|0,M=Rt(M-E|0,U)|0,!((m|0)<0&(M|0)>0)))break i;if(!h){n=d,a=g;continue}if((h|0)>=0)break i;if((Rt(m,s)|0)>=(Rt(h,S)|0))break;n=d,a=g}while(!1);if(h=(L|0)==0,_=h?a:_,l=h?d:l,a=h?F:a,n=h?k:d,L=L+1|0,(L|0)==2)break;U=h?-1:U}if(e[n+4>>2]=a,e[a>>2]=n,e[l>>2]=_,e[_+4>>2]=l,(e[F+88>>2]|0)<(e[k+88>>2]|0)&&(e[o>>2]=F),(e[u+88>>2]|0)>=(e[V+88>>2]|0)&&(e[o+4>>2]=u),e[o+12>>2]=e[te+96+12>>2],u=l,$=_,E=e[_+88>>2]|0,s=e[l+88>>2]|0,D=e[_+92>>2]|0,N=e[l+92>>2]|0,B=e[_+96>>2]|0,n=e[l+96>>2]|0,k=((D-N|0)<0)<<31>>31,F=0-(E-s)|0,L=Wi(0,0,F|0,((F|0)<0)<<31>>31|0)|0,L=Ft(B-n|0,((B-n|0)<0)<<31>>31|0,L|0,Ge|0)|0,U=Ge,V=Ft(B-n|0,((B-n|0)<0)<<31>>31|0,D-N|0,k|0)|0,O=Ge,S=Ft(E-s|0,((E-s|0)<0)<<31>>31|0,F|0,((F|0)<0)<<31>>31|0)|0,Y=Ge,z=Ft(D-N|0,k|0,D-N|0,k|0)|0,z=Wi(S|0,Y|0,z|0,Ge|0)|0,Y=Ge,S=e[l+8>>2]|0,e[te+120>>2]=0,!S)C=0;else for(C=Wi(0,0,D-N|0,k|0)|0,w=Ge,a=0,M=S;;){m=e[M+12>>2]|0,h=e[m+88>>2]|0,d=e[m+92>>2]|0,m=e[m+96>>2]|0,g=Ft(d-N|0,((d-N|0)<0)<<31>>31|0,F|0,((F|0)<0)<<31>>31|0)|0,q=Ge,o=Ft(h-s|0,((h-s|0)<0)<<31>>31|0,C|0,w|0)|0;i:do if((g|0)==(o|0)&(q|0)==(Ge|0)&&(o=Ft(h-s|0,((h-s|0)<0)<<31>>31|0,L|0,U|0)|0,g=Ge,q=Ft(d-N|0,((d-N|0)<0)<<31>>31|0,V|0,O|0)|0,g=$t(q|0,Ge|0,o|0,g|0)|0,o=Ge,q=Ft(m-n|0,((m-n|0)<0)<<31>>31|0,z|0,Y|0)|0,q=$t(g|0,o|0,q|0,Ge|0)|0,o=Ge,(o|0)>0|(o|0)==0&q>>>0>0)){do if(a|0){if(g=(e[a+4>>2]|0)==(M|0),(e[a>>2]|0)!=(M|0)){if(g)break;break i}if(!g||(o=e[a+12>>2]|0,pe=e[(e[M+8>>2]|0)+12>>2]|0,q=e[pe+88>>2]|0,g=e[pe+92>>2]|0,pe=e[pe+96>>2]|0,_e=(e[o+96>>2]|0)-pe|0,g=(Rt(m-pe|0,(e[o+92>>2]|0)-g|0)|0)-(Rt(_e,d-g|0)|0)|0,q=(Rt(_e,h-q|0)|0)-(Rt(m-pe|0,(e[o+88>>2]|0)-q|0)|0)|0,g=Ft(g|0,((g|0)<0)<<31>>31|0,D-N|0,k|0)|0,o=Ge,q=Ft(q|0,((q|0)<0)<<31>>31|0,F|0,((F|0)<0)<<31>>31|0)|0,q=$t(g|0,o|0,q|0,Ge|0)|0,o=Ge,(o|0)>0|(o|0)==0&q>>>0>0))break i}while(!1);e[te+120>>2]=M,a=M}while(!1);if(M=e[M>>2]|0,(M|0)==(S|0)){C=a;break}}if(g=e[_+8>>2]|0,e[te+72>>2]=0,!g)a=0;else{s=Wi(0,0,D-N|0,k|0)|0,n=Ge,a=0,S=g;do{m=e[S+12>>2]|0,h=e[m+88>>2]|0,d=e[m+92>>2]|0,m=e[m+96>>2]|0,q=Ft(d-D|0,((d-D|0)<0)<<31>>31|0,F|0,((F|0)<0)<<31>>31|0)|0,_e=Ge,pe=Ft(h-E|0,((h-E|0)<0)<<31>>31|0,s|0,n|0)|0;do if((q|0)==(pe|0)&(_e|0)==(Ge|0)&&(pe=Ft(h-E|0,((h-E|0)<0)<<31>>31|0,L|0,U|0)|0,q=Ge,_e=Ft(d-D|0,((d-D|0)<0)<<31>>31|0,V|0,O|0)|0,q=$t(_e|0,Ge|0,pe|0,q|0)|0,pe=Ge,_e=Ft(m-B|0,((m-B|0)<0)<<31>>31|0,z|0,Y|0)|0,_e=$t(q|0,pe|0,_e|0,Ge|0)|0,pe=Ge,(pe|0)>0|(pe|0)==0&_e>>>0>0)){if(a|0&&((e[a>>2]|0)!=(S|0)||(e[a+4>>2]|0)==(S|0)&&(pe=e[a+12>>2]|0,o=e[(e[S+8>>2]|0)+12>>2]|0,_e=e[o+88>>2]|0,q=e[o+92>>2]|0,o=e[o+96>>2]|0,M=(e[pe+96>>2]|0)-o|0,q=(Rt(m-o|0,(e[pe+92>>2]|0)-q|0)|0)-(Rt(M,d-q|0)|0)|0,_e=(Rt(M,h-_e|0)|0)-(Rt(m-o|0,(e[pe+88>>2]|0)-_e|0)|0)|0,q=Ft(q|0,((q|0)<0)<<31>>31|0,D-N|0,k|0)|0,pe=Ge,_e=Ft(_e|0,((_e|0)<0)<<31>>31|0,F|0,((F|0)<0)<<31>>31|0)|0,_e=$t(q|0,pe|0,_e|0,Ge|0)|0,pe=Ge,!((pe|0)>0|(pe|0)==0&_e>>>0>0))))break;e[te+72>>2]=S,a=S}while(!1);S=e[S>>2]|0}while((S|0)!=(g|0))}(C|0)!=0|(a|0)!=0?(y6(t,l,_,te+120|0,te+72|0),a=e[te+120>>2]|0,a&&(u=e[a+12>>2]|0,l=u),a=e[te+72>>2]|0,a?(a=e[a+12>>2]|0,_=a):a=$):a=$,q=_,g=e[_+88>>2]|0,s=(e[_+96>>2]|0)+1|0,d=e[_+92>>2]|0}for(k=q,F=l,_=0,z=0,o=1,h=0,m=0,L=0,V=0,O=g,S=s,$=0,g=0;;){U=F+88|0,N=(e[k+88>>2]|0)-(e[U>>2]|0)|0,_e=F+92|0,Y=(e[k+92>>2]|0)-(e[_e>>2]|0)|0,D=F+96|0,M=(e[k+96>>2]|0)-(e[D>>2]|0)|0,e[te+120>>2]=N,e[te+120+4>>2]=Y,e[te+120+8>>2]=M,e[te+120+12>>2]=-1,U=O-(e[U>>2]|0)|0,_e=d-(e[_e>>2]|0)|0,D=S-(e[D>>2]|0)|0,E=(Rt(M,_e)|0)-(Rt(Y,D)|0)|0,D=(Rt(N,D)|0)-(Rt(M,U)|0)|0,_e=(Rt(Y,U)|0)-(Rt(N,_e)|0)|0,e[te+72>>2]=E,e[te+72+4>>2]=((E|0)<0)<<31>>31,e[te+72+8>>2]=D,e[te+72+8+4>>2]=((D|0)<0)<<31>>31,e[te+72+16>>2]=_e,e[te+72+16+4>>2]=((_e|0)<0)<<31>>31,U=Ft(Y|0,((Y|0)<0)<<31>>31|0,_e|0,((_e|0)<0)<<31>>31|0)|0,pe=Ge,B=Ft(M|0,((M|0)<0)<<31>>31|0,D|0,((D|0)<0)<<31>>31|0)|0,B=Wi(U|0,pe|0,B|0,Ge|0)|0,pe=Ge,M=Ft(E|0,((E|0)<0)<<31>>31|0,M|0,((M|0)<0)<<31>>31|0)|0,U=Ge,_e=Ft(N|0,((N|0)<0)<<31>>31|0,_e|0,((_e|0)<0)<<31>>31|0)|0,_e=Wi(M|0,U|0,_e|0,Ge|0)|0,U=Ge,D=Ft(N|0,((N|0)<0)<<31>>31|0,D|0,((D|0)<0)<<31>>31|0)|0,N=Ge,Y=Ft(E|0,((E|0)<0)<<31>>31|0,Y|0,((Y|0)<0)<<31>>31|0)|0,Y=Wi(D|0,N|0,Y|0,Ge|0)|0,e[te+48>>2]=B,e[te+48+4>>2]=pe,e[te+48+8>>2]=_e,e[te+48+8+4>>2]=U,e[te+48+16>>2]=Y,e[te+48+16+4>>2]=Ge,e[te+24>>2]=0,e[te+24+4>>2]=0,e[te+24+8>>2]=0,e[te+24+12>>2]=0,e[te+24+16>>2]=0,Y=v6(t,0,F,te+120|0,te+72|0,te+48|0,te+24|0)|0,e[te>>2]=0,e[te+4>>2]=0,e[te+8>>2]=0,e[te+12>>2]=0,e[te+16>>2]=0,U=v6(t,1,k,te+120|0,te+72|0,te+48|0,te)|0;do if((Y|0)!=0|(U|0)!=0){s=Y|0?-1:1;do if((Y|0)!=0&(U|0)!=0){if(B=e[te+24+16>>2]|0,s=e[te+16>>2]|0,(B|0)!=(s|0)){N=B-s|0;break}B?(_e=e[te+24>>2]|0,D=e[te+24+4>>2]|0,C=e[te+8>>2]|0,he=e[te+8+4>>2]|0,n=Ft(C|0,0,_e|0,0)|0,s=Ge,_e=Ft(he|0,0,_e|0,0)|0,pe=Ge,C=Ft(C|0,0,D|0,0)|0,w=Ge,D=Ft(he|0,0,D|0,0)|0,he=Ge,C=$t(_e|0,0,C|0,0)|0,_e=Ge,he=$t(pe|0,0,D|0,he|0)|0,w=$t(he|0,Ge|0,w|0,0)|0,_e=$t(w|0,Ge|0,_e|0,0)|0,w=Ge,s=$t(0,C|0,n|0,s|0)|0,n=Ge,C=$t(_e|0,w|0,(n>>>0<C>>>0|(n|0)==(C|0)&s>>>0<0)&1|0,0)|0,w=Ge,_e=e[te+24+8>>2]|0,he=e[te+24+8+4>>2]|0,D=e[te>>2]|0,pe=e[te+4>>2]|0,E=Ft(D|0,0,_e|0,0)|0,M=Ge,_e=Ft(pe|0,0,_e|0,0)|0,me=Ge,D=Ft(D|0,0,he|0,0)|0,N=Ge,he=Ft(pe|0,0,he|0,0)|0,pe=Ge,D=$t(_e|0,0,D|0,0)|0,_e=Ge,pe=$t(me|0,0,he|0,pe|0)|0,N=$t(pe|0,Ge|0,N|0,0)|0,_e=$t(N|0,Ge|0,_e|0,0)|0,N=Ge,M=$t(0,D|0,E|0,M|0)|0,E=Ge,D=$t(_e|0,N|0,(E>>>0<D>>>0|(E|0)==(D|0)&M>>>0<0)&1|0,0)|0,N=Ge,w>>>0<N>>>0|(w|0)==(N|0)&C>>>0<D>>>0?s=-1:w>>>0>N>>>0|(w|0)==(N|0)&C>>>0>D>>>0?s=1:n>>>0<E>>>0|(n|0)==(E|0)&s>>>0<M>>>0?s=-1:s=(n>>>0>E>>>0|(n|0)==(E|0)&s>>>0>M>>>0)&1,N=Rt(s,B)|0):N=0}else N=s;while(!1);do if(o)W=136;else if((N|0)>-1)if((e[te+16>>2]|0)<0&((e[te+8>>2]|0)==0?(e[te+8+4>>2]|0)==0:0)){n=L,D=V;break}else{W=136;break}else if((e[te+24+16>>2]|0)<0&((e[te+24+8>>2]|0)==0?(e[te+24+8+4>>2]|0)==0:0)){n=L,D=V;break}else{W=136;break}while(!1);if((W|0)==136&&(W=0,n=fh(t,F,k)|0,L?e[L+4>>2]=n:h=n,e[n>>2]=L,s=e[n+8>>2]|0,V?e[V>>2]=s:m=s,e[s+4>>2]=V,D=s),e[te+116>>2]=Y,e[te+112>>2]=U,N?E=U:(y6(t,u,a,te+116|0,te+112|0),E=e[te+112>>2]|0),(N|0)>-1&(E|0)!=0){if(M=(g|0)!=0,M&&(X=e[g>>2]|0,(X|0)!=(U|0))){C=X;do w=C,C=e[C>>2]|0,S=e[w+8>>2]|0,s=e[S+12>>2]|0,(C|0)==(w|0)?d=0:(e[C+4>>2]=e[w+4>>2],e[e[w+4>>2]>>2]=C,d=C),e[s+8>>2]=d,d=e[S>>2]|0,s=e[w+12>>2]|0,(d|0)==(S|0)?d=0:(e[d+4>>2]=e[S+4>>2],e[e[S+4>>2]>>2]=d),e[s+8>>2]=d,e[w>>2]=0,e[w+4>>2]=0,e[w+8>>2]=0,e[w+12>>2]=0,e[w+16>>2]=0,e[w>>2]=e[t+56>>2],e[t+56>>2]=w,e[S>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,e[S+12>>2]=0,e[S+16>>2]=0,e[S>>2]=e[t+56>>2],e[t+56>>2]=S,e[t+116>>2]=(e[t+116>>2]|0)+-1;while((C|0)!=(U|0))}D?(M?(e[g>>2]=m,s=U+4|0,d=z):(g=e[U+4>>2]|0,e[g>>2]=m,s=U+4|0,d=m),e[m+4>>2]=g,e[D>>2]=U,e[s>>2]=D,g=e[te+112>>2]|0,m=0):(g=E,d=M?z:U),L=a,a=e[g+12>>2]|0,z=d,D=0,s=e[L+88>>2]|0,S=e[L+96>>2]|0,d=e[L+92>>2]|0,L=e[g+8>>2]|0}else s=O,L=g;if(E=e[te+116>>2]|0,(N|0)<1&(E|0)!=0){if(M=($|0)!=0,M&&(ne=e[$+4>>2]|0,(ne|0)!=(Y|0))){C=ne;do g=C+4|0,w=C,C=e[g>>2]|0,d=e[w>>2]|0,S=e[w+8>>2]|0,s=e[S+12>>2]|0,(d|0)==(w|0)?d=0:(e[d+4>>2]=C,e[e[g>>2]>>2]=d),e[s+8>>2]=d,d=e[S>>2]|0,g=e[w+12>>2]|0,(d|0)==(S|0)?d=0:(e[d+4>>2]=e[S+4>>2],e[e[S+4>>2]>>2]=d),e[g+8>>2]=d,e[w>>2]=0,e[w+4>>2]=0,e[w+8>>2]=0,e[w+12>>2]=0,e[w+16>>2]=0,e[w>>2]=e[t+56>>2],e[t+56>>2]=w,e[S>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,e[S+12>>2]=0,e[S+16>>2]=0,e[S>>2]=e[t+56>>2],e[t+56>>2]=S,e[t+116>>2]=(e[t+116>>2]|0)+-1;while((C|0)!=(Y|0))}n?(M?(e[$+4>>2]=h,g=Y,d=$):(d=e[Y>>2]|0,e[d+4>>2]=h,g=Y,_=h),e[h>>2]=d,e[g>>2]=n,e[n+4>>2]=Y,g=e[te+116>>2]|0,h=0):(g=E,_=M?_:Y),d=u,u=e[g+12>>2]|0,N=0,k=e[d+88>>2]|0,F=e[d+96>>2]|0,d=e[d+92>>2]|0,B=e[g+8>>2]|0}else N=n,k=s,F=S,B=$;if((u|0)==(l|0)&(a|0)==(q|0)){if(B){if(M=B+4|0,g=e[M>>2]|0,(g|0)!=(_|0))do n=g+4|0,w=g,g=e[n>>2]|0,s=e[w>>2]|0,C=e[w+8>>2]|0,S=e[C+12>>2]|0,(s|0)==(w|0)?s=0:(e[s+4>>2]=g,e[e[n>>2]>>2]=s),e[S+8>>2]=s,s=e[C>>2]|0,n=e[w+12>>2]|0,(s|0)==(C|0)?s=0:(e[s+4>>2]=e[C+4>>2],e[e[C+4>>2]>>2]=s),e[n+8>>2]=s,e[w>>2]=0,e[w+4>>2]=0,e[w+8>>2]=0,e[w+12>>2]=0,e[w+16>>2]=0,e[w>>2]=e[t+56>>2],e[t+56>>2]=w,e[C>>2]=0,e[C+4>>2]=0,e[C+8>>2]=0,e[C+12>>2]=0,e[C+16>>2]=0,e[C>>2]=e[t+56>>2],e[t+56>>2]=C,e[t+116>>2]=(e[t+116>>2]|0)+-1;while((g|0)!=(_|0));N|0&&(e[h>>2]=B,e[M>>2]=h,e[_>>2]=N,e[N+4>>2]=_)}else e[h>>2]=N,e[N+4>>2]=h,e[u+8>>2]=N;if(!L){e[D>>2]=m,e[m+4>>2]=D,e[q+8>>2]=D,E=0,w=z,M=o,C=N,n=k,S=F,s=B,g=0;break}if(g=e[L>>2]|0,(g|0)!=(z|0))do C=g,g=e[g>>2]|0,S=e[C+8>>2]|0,n=e[S+12>>2]|0,(g|0)==(C|0)?s=0:(e[g+4>>2]=e[C+4>>2],e[e[C+4>>2]>>2]=g,s=g),e[n+8>>2]=s,s=e[S>>2]|0,n=e[C+12>>2]|0,(s|0)==(S|0)?s=0:(e[s+4>>2]=e[S+4>>2],e[e[S+4>>2]>>2]=s),e[n+8>>2]=s,e[C>>2]=0,e[C+4>>2]=0,e[C+8>>2]=0,e[C+12>>2]=0,e[C+16>>2]=0,e[C>>2]=e[t+56>>2],e[t+56>>2]=C,e[S>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,e[S+12>>2]=0,e[S+16>>2]=0,e[S>>2]=e[t+56>>2],e[t+56>>2]=S,e[t+116>>2]=(e[t+116>>2]|0)+-1;while((g|0)!=(z|0));D?(e[L>>2]=m,e[m+4>>2]=L,e[D>>2]=z,e[z+4>>2]=D,E=0,w=z,M=o,C=N,n=k,S=F,s=B,g=L):(E=0,w=z,M=o,C=N,D=0,n=k,S=F,s=B,g=L)}else E=1,w=z,M=0,C=N,n=k,S=F,s=B,g=L}else E=fh(t,F,k)|0,e[E>>2]=E,e[E+4>>2]=E,e[F+8>>2]=E,E=e[E+8>>2]|0,e[E>>2]=E,e[E+4>>2]=E,e[a+8>>2]=E,E=0,w=z,M=o,C=L,D=V,n=O,s=$;while(!1);if(!E)break t;k=a,F=u,z=w,o=M,L=C,V=D,O=n,$=s}}while(!1);H=te;return}}while(!1);e[a+8>>2]=0,e[a>>2]=a,e[a+4>>2]=a,e[o>>2]=a,e[o+4>>2]=a,e[o+8>>2]=a,e[o+12>>2]=a,H=te}function y6(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,ot=0,mt=0,lt=0,pt=0;if(fe=e[o>>2]|0,ut=e[a>>2]|0,fe|0?l=e[fe+12>>2]|0:l=n,_=e[l+88>>2]|0,h=e[l+92>>2]|0,u=e[l+96>>2]|0,ut?l=e[ut+12>>2]|0:l=s,D=e[l+88>>2]|0,S=e[l+92>>2]|0,w=e[l+96>>2]|0,ke=e[n+88>>2]|0,Ke=(e[s+88>>2]|0)-ke|0,B=e[n+92>>2]|0,Ze=(e[s+92>>2]|0)-B|0,n=e[n+96>>2]|0,be=(e[s+96>>2]|0)-n|0,ge=e[(fe|0?fe:ut)+12>>2]|0,Ae=(e[ge+88>>2]|0)-ke|0,de=(e[ge+92>>2]|0)-B|0,ge=(e[ge+96>>2]|0)-n|0,Se=(Rt(de,be)|0)-(Rt(ge,Ze)|0)|0,ge=(Rt(ge,Ke)|0)-(Rt(Ae,be)|0)|0,de=(Rt(Ae,Ze)|0)-(Rt(de,Ke)|0)|0,ke=Ft(Se|0,((Se|0)<0)<<31>>31|0,ke|0,((ke|0)<0)<<31>>31|0)|0,Ae=Ge,B=Ft(ge|0,((ge|0)<0)<<31>>31|0,B|0,((B|0)<0)<<31>>31|0)|0,N=Ge,n=Ft(de|0,((de|0)<0)<<31>>31|0,n|0,((n|0)<0)<<31>>31|0)|0,n=$t(ke|0,Ae|0,n|0,Ge|0)|0,N=$t(n|0,Ge|0,B|0,N|0)|0,B=Ge,n=Ft(de|0,((de|0)<0)<<31>>31|0,Ze|0,((Ze|0)<0)<<31>>31|0)|0,Ae=Ge,ke=Ft(ge|0,((ge|0)<0)<<31>>31|0,be|0,((be|0)<0)<<31>>31|0)|0,ke=Wi(n|0,Ae|0,ke|0,Ge|0)|0,Ae=Ge,n=Ft(Se|0,((Se|0)<0)<<31>>31|0,be|0,((be|0)<0)<<31>>31|0)|0,He=Ge,qe=Ft(de|0,((de|0)<0)<<31>>31|0,Ke|0,((Ke|0)<0)<<31>>31|0)|0,qe=Wi(n|0,He|0,qe|0,Ge|0)|0,He=Ge,n=Ft(ge|0,((ge|0)<0)<<31>>31|0,Ke|0,((Ke|0)<0)<<31>>31|0)|0,we=Ge,Ce=Ft(Se|0,((Se|0)<0)<<31>>31|0,Ze|0,((Ze|0)<0)<<31>>31|0)|0,Ce=Wi(n|0,we|0,Ce|0,Ge|0)|0,we=Ge,n=Ft(ke|0,Ae|0,_|0,((_|0)<0)<<31>>31|0)|0,ve=Ge,l=Ft(qe|0,He|0,h|0,((h|0)<0)<<31>>31|0)|0,ve=$t(l|0,Ge|0,n|0,ve|0)|0,n=Ge,l=Ft(Ce|0,we|0,u|0,((u|0)<0)<<31>>31|0)|0,l=$t(ve|0,n|0,l|0,Ge|0)|0,n=Ge,(fe|0)!=0&&(e[fe+12>>2]|0)!=0){for(E=fe,M=_,C=h,g=u;;){if(E=e[(e[E+8>>2]|0)+4>>2]|0,h=E+12|0,_=e[h>>2]|0,s=e[_+88>>2]|0,xe=Ft(s|0,((s|0)<0)<<31>>31|0,Se|0,((Se|0)<0)<<31>>31|0)|0,ae=Ge,u=e[_+92>>2]|0,ve=Ft(u|0,((u|0)<0)<<31>>31|0,ge|0,((ge|0)<0)<<31>>31|0)|0,ae=$t(ve|0,Ge|0,xe|0,ae|0)|0,xe=Ge,_=e[_+96>>2]|0,ve=Ft(_|0,((_|0)<0)<<31>>31|0,de|0,((de|0)<0)<<31>>31|0)|0,ve=$t(ae|0,xe|0,ve|0,Ge|0)|0,xe=Ge,(xe|0)<(B|0)|(xe|0)==(B|0)&ve>>>0<N>>>0){s=M,_=C,u=g;break}if((e[E+20>>2]|0)==(e[t+100>>2]|0)){s=M,_=C,u=g;break}if(m=Ft(s|0,((s|0)<0)<<31>>31|0,ke|0,Ae|0)|0,ve=Ge,d=Ft(u|0,((u|0)<0)<<31>>31|0,qe|0,He|0)|0,ve=$t(d|0,Ge|0,m|0,ve|0)|0,m=Ge,d=Ft(_|0,((_|0)<0)<<31>>31|0,Ce|0,we|0)|0,d=$t(ve|0,m|0,d|0,Ge|0)|0,m=Ge,!((m|0)>(n|0)|(m|0)==(n|0)&d>>>0>l>>>0)){s=M,_=C,u=g;break}if(e[o>>2]=E,ve=e[h>>2]|0,s=e[ve+88>>2]|0,_=e[ve+92>>2]|0,u=e[ve+96>>2]|0,ve)n=m,l=d,M=s,C=_,g=u;else{l=d,n=m;break}}C=e[a>>2]|0,ve=_}else C=ut,s=_,ve=h;h=Ft(ke|0,Ae|0,D|0,((D|0)<0)<<31>>31|0)|0,xe=Ge,_=Ft(qe|0,He|0,S|0,((S|0)<0)<<31>>31|0)|0,xe=$t(_|0,Ge|0,h|0,xe|0)|0,h=Ge,_=Ft(Ce|0,we|0,w|0,((w|0)<0)<<31>>31|0)|0,_=$t(xe|0,h|0,_|0,Ge|0)|0,h=Ge;e:do if(C)if(!(e[C+12>>2]|0))d=D;else for(E=C,M=D;;){if(C=e[e[E+8>>2]>>2]|0,g=e[C+12>>2]|0,d=e[g+88>>2]|0,ae=Ft(d|0,((d|0)<0)<<31>>31|0,Se|0,((Se|0)<0)<<31>>31|0)|0,oe=Ge,m=e[g+92>>2]|0,xe=Ft(m|0,((m|0)<0)<<31>>31|0,ge|0,((ge|0)<0)<<31>>31|0)|0,oe=$t(xe|0,Ge|0,ae|0,oe|0)|0,ae=Ge,g=e[g+96>>2]|0,xe=Ft(g|0,((g|0)<0)<<31>>31|0,de|0,((de|0)<0)<<31>>31|0)|0,xe=$t(oe|0,ae|0,xe|0,Ge|0)|0,ae=Ge,(ae|0)<(B|0)|(ae|0)==(B|0)&xe>>>0<N>>>0){C=E,d=M;break e}if((e[C+20>>2]|0)==(e[t+100>>2]|0)){C=E,d=M;break e}if(xe=Ft(d|0,((d|0)<0)<<31>>31|0,ke|0,Ae|0)|0,ae=Ge,m=Ft(m|0,((m|0)<0)<<31>>31|0,qe|0,He|0)|0,ae=$t(m|0,Ge|0,xe|0,ae|0)|0,xe=Ge,m=Ft(g|0,((g|0)<0)<<31>>31|0,Ce|0,we|0)|0,m=$t(ae|0,xe|0,m|0,Ge|0)|0,g=Ge,!((g|0)>(h|0)|(g|0)==(h|0)&m>>>0>_>>>0)){C=E,d=M;break e}if(e[a>>2]=C,xe=e[C+12>>2]|0,d=e[xe+88>>2]|0,S=e[xe+92>>2]|0,w=e[xe+96>>2]|0,xe)E=C,h=g,_=m,M=d;else{_=m,h=g;break}}else C=0,d=D;while(!1);if(_=Wi(_|0,h|0,l|0,n|0)|0,n=Ge,(n|0)>0|(n|0)==0&_>>>0>0){for(ae=Wi(0,0,de|0,((de|0)<0)<<31>>31|0)|0,xe=Ge,h=C,M=_,g=n,E=s,D=ve,N=u,me=d,re=S,oe=w;;){if(m=(Rt(re-D|0,Ze)|0)+(Rt(me-E|0,Ke)|0)+(Rt(oe-N|0,be)|0)|0,l=e[o>>2]|0,!l)$=m,Y=m,z=((m|0)<0)<<31>>31,m=M,W=E,ne=D,X=N;else{pe=m,B=m,_e=((m|0)<0)<<31>>31,m=M,ne=E,W=D,te=N;e:for(;;){if(!(e[l+12>>2]|0)){D=pe,N=_e,E=ne,M=W,l=te;break}if(X=e[(e[l>>2]|0)+8>>2]|0,(e[X+20>>2]|0)<=(e[t+100>>2]|0)){D=pe,N=_e,E=ne,M=W,l=te;break}he=e[X+12>>2]|0,E=e[he+88>>2]|0,q=E-ne|0,M=e[he+92>>2]|0,$=M-W|0,he=e[he+96>>2]|0,h=he-te|0,N=Ft(q|0,((q|0)<0)<<31>>31|0,ke|0,Ae|0)|0,Y=Ge,D=Ft($|0,(($|0)<0)<<31>>31|0,qe|0,He|0)|0,Y=$t(D|0,Ge|0,N|0,Y|0)|0,N=Ge,D=Ft(h|0,((h|0)<0)<<31>>31|0,Ce|0,we|0)|0,D=$t(Y|0,N|0,D|0,Ge|0)|0,N=Ge,h=(Rt($,Ze)|0)+(Rt(q,Ke)|0)+(Rt(h,be)|0)|0;do if((D|0)==0&(N|0)==0){if((h|0)>=0){D=pe,N=_e,E=ne,M=W,l=te;break e}}else{if((N|0)>=0){D=pe,N=_e,E=ne,M=W,l=te;break e}if((h|0)>0?(F=1,L=h,k=((h|0)<0)<<31>>31):(L=Wi(0,0,h|0,((h|0)<0)<<31>>31|0)|0,F=h>>31,L=(h|0)<0?L:0,k=(h|0)<0?Ge:0),q=0-F|0,O=Wi(0,0,D|0,N|0)|0,z=Ge,(pe|0)>0?(h=1,Y=B,$=_e):($=(pe|0)<0,Y=Wi(0,0,B|0,_e|0)|0,h=pe>>31,Y=$?Y:0,$=$?Ge:0),(g|0)>0|(g|0)==0&m>>>0>0?(D=m,N=g):(g|0)<0?(D=Wi(0,0,m|0,g|0)|0,h=0-h|0,N=Ge):(D=0,N=0),(h|0)==(q|0)){if(!F)break;h=Ft(D|0,0,L|0,0)|0,F=Ge,pt=Ft(N|0,0,L|0,0)|0,lt=Ge,U=Ft(D|0,0,k|0,0)|0,V=Ge,mt=Ft(N|0,0,k|0,0)|0,L=Ge,U=$t(pt|0,0,U|0,0)|0,D=Ge,L=$t(lt|0,0,mt|0,L|0)|0,V=$t(L|0,Ge|0,V|0,0)|0,D=$t(V|0,Ge|0,D|0,0)|0,V=Ge,F=$t(0,U|0,h|0,F|0)|0,L=Ge,U=$t(D|0,V|0,(L>>>0<U>>>0|(L|0)==(U|0)&F>>>0<0)&1|0,0)|0,V=Ge,D=Ft(Y|0,0,O|0,0)|0,h=Ge,mt=Ft($|0,0,O|0,0)|0,O=Ge,N=Ft(Y|0,0,z|0,0)|0,k=Ge,z=Ft($|0,0,z|0,0)|0,Y=Ge,N=$t(mt|0,0,N|0,0)|0,$=Ge,Y=$t(O|0,0,z|0,Y|0)|0,k=$t(Y|0,Ge|0,k|0,0)|0,$=$t(k|0,Ge|0,$|0,0)|0,k=Ge,h=$t(0,N|0,D|0,h|0)|0,D=Ge,N=$t($|0,k|0,(D>>>0<N>>>0|(D|0)==(N|0)&h>>>0<0)&1|0,0)|0,k=Ge;do if(V>>>0<k>>>0|(V|0)==(k|0)&U>>>0<N>>>0)h=-1;else{if(V>>>0>k>>>0|(V|0)==(k|0)&U>>>0>N>>>0){h=1;break}if(L>>>0<D>>>0|(L|0)==(D|0)&F>>>0<h>>>0){h=-1;break}h=(L>>>0>D>>>0|(L|0)==(D|0)&F>>>0>h>>>0)&1}while(!1);h=Rt(h,q)|0}else h=q-h|0;if((h|0)<=-1){D=pe,N=_e,E=ne,M=W,l=te;break e}}while(!1);if(pt=me-E|0,lt=re-M|0,h=oe-he|0,g=Ft(pt|0,((pt|0)<0)<<31>>31|0,ke|0,Ae|0)|0,mt=Ge,m=Ft(lt|0,((lt|0)<0)<<31>>31|0,qe|0,He|0)|0,mt=$t(m|0,Ge|0,g|0,mt|0)|0,g=Ge,m=Ft(h|0,((h|0)<0)<<31>>31|0,Ce|0,we|0)|0,m=$t(mt|0,g|0,m|0,Ge|0)|0,g=Ge,l=(l|0)==(fe|0)?0:X,e[o>>2]=l,h=(Rt(lt,Ze)|0)+(Rt(pt,Ke)|0)+(Rt(h,be)|0)|0,l)pe=h,B=h,_e=((h|0)<0)<<31>>31,ne=E,W=M,te=he;else{D=h,B=h,N=((h|0)<0)<<31>>31,l=he;break}}$=D,h=e[a>>2]|0,Y=B,z=N,W=E,ne=M,X=l}if(!h){l=122;break}if(!(e[h+12>>2]|0)){l=122;break}if(q=e[e[h+8>>2]>>2]|0,(e[q+20>>2]|0)<=(e[t+100>>2]|0)){l=122;break}if(E=e[q+12>>2]|0,N=e[E+88>>2]|0,M=N-me|0,D=e[E+92>>2]|0,h=D-re|0,E=e[E+96>>2]|0,l=E-oe|0,pt=Ft(M|0,((M|0)<0)<<31>>31|0,Se|0,((Se|0)<0)<<31>>31|0)|0,mt=Ge,lt=Ft(h|0,((h|0)<0)<<31>>31|0,ge|0,((ge|0)<0)<<31>>31|0)|0,mt=$t(lt|0,Ge|0,pt|0,mt|0)|0,pt=Ge,lt=Ft(l|0,((l|0)<0)<<31>>31|0,ae|0,xe|0)|0,!((mt|0)==(lt|0)&(pt|0)==(Ge|0))){l=122;break}if(k=Ft(M|0,((M|0)<0)<<31>>31|0,ke|0,Ae|0)|0,O=Ge,B=Ft(h|0,((h|0)<0)<<31>>31|0,qe|0,He|0)|0,O=$t(B|0,Ge|0,k|0,O|0)|0,k=Ge,B=Ft(l|0,((l|0)<0)<<31>>31|0,Ce|0,we|0)|0,B=$t(O|0,k|0,B|0,Ge|0)|0,k=Ge,l=(Rt(h,Ze)|0)+(Rt(M,Ke)|0)+(Rt(l,be)|0)|0,O=N-W|0,lt=D-ne|0,V=E-X|0,O=Ft(O|0,((O|0)<0)<<31>>31|0,ke|0,Ae|0)|0,pt=Ge,lt=Ft(lt|0,((lt|0)<0)<<31>>31|0,qe|0,He|0)|0,pt=$t(lt|0,Ge|0,O|0,pt|0)|0,O=Ge,V=Ft(V|0,((V|0)<0)<<31>>31|0,Ce|0,we|0)|0,V=$t(pt|0,O|0,V|0,Ge|0)|0,O=Ge,!((O|0)>0|(O|0)==0&V>>>0>0)){l=122;break}if((B|0)==0&(k|0)==0){if((l|0)>=0){l=122;break}}else{if((k|0)>=0){l=122;break}(l|0)>0?(E=1,D=l,M=((l|0)<0)<<31>>31):(D=Wi(0,0,l|0,((l|0)<0)<<31>>31|0)|0,E=l>>31,D=(l|0)<0?D:0,M=(l|0)<0?Ge:0),U=0-E|0,F=Wi(0,0,B|0,k|0)|0,L=Ge,($|0)>0?(l=1,k=Y,B=z):(B=($|0)<0,k=Wi(0,0,Y|0,z|0)|0,l=$>>31,k=B?k:0,B=B?Ge:0);do if((g|0)>0|(g|0)==0&m>>>0>0)h=l,l=g;else{if((g|0)>=0){h=l,m=0,l=0;break}m=Wi(0,0,m|0,g|0)|0,h=0-l|0,l=Ge}while(!1);if((h|0)==(U|0)){if(!E){l=122;break}pt=Ft(m|0,0,D|0,0)|0,E=Ge,h=Ft(l|0,0,D|0,0)|0,oe=Ge,D=Ft(m|0,0,M|0,0)|0,N=Ge,l=Ft(l|0,0,M|0,0)|0,M=Ge,D=$t(h|0,0,D|0,0)|0,h=Ge,M=$t(oe|0,0,l|0,M|0)|0,N=$t(M|0,Ge|0,N|0,0)|0,h=$t(N|0,Ge|0,h|0,0)|0,N=Ge,M=$t(0,D|0,pt|0,E|0)|0,E=Ge,D=$t(h|0,N|0,(E>>>0<D>>>0|(E|0)==(D|0)&M>>>0<0)&1|0,0)|0,N=Ge,h=Ft(k|0,0,F|0,0)|0,l=Ge,pt=Ft(B|0,0,F|0,0)|0,oe=Ge,m=Ft(k|0,0,L|0,0)|0,g=Ge,mt=Ft(B|0,0,L|0,0)|0,lt=Ge,m=$t(pt|0,0,m|0,0)|0,pt=Ge,lt=$t(oe|0,0,mt|0,lt|0)|0,g=$t(lt|0,Ge|0,g|0,0)|0,pt=$t(g|0,Ge|0,pt|0,0)|0,g=Ge,l=$t(0,m|0,h|0,l|0)|0,h=Ge,m=$t(pt|0,g|0,(h>>>0<m>>>0|(h|0)==(m|0)&l>>>0<0)&1|0,0)|0,g=Ge;do if(N>>>0<g>>>0|(N|0)==(g|0)&D>>>0<m>>>0)l=-1;else{if(N>>>0>g>>>0|(N|0)==(g|0)&D>>>0>m>>>0){l=1;break}if(E>>>0<h>>>0|(E|0)==(h|0)&M>>>0<l>>>0){l=-1;break}l=(E>>>0>h>>>0|(E|0)==(h|0)&M>>>0>l>>>0)&1}while(!1);l=Rt(l,U)|0}else l=U-h|0;if((l|0)<=0){l=122;break}}e[a>>2]=q,oe=e[q+12>>2]|0,h=q,M=V,g=O,E=W,D=ne,N=X,me=e[oe+88>>2]|0,re=e[oe+92>>2]|0,oe=e[oe+96>>2]|0}if((l|0)==122)return}if(!((n|0)>=0)){q=Wi(0,0,de|0,((de|0)<0)<<31>>31|0)|0,X=Ge,l=ve,$=d;e:for(;;){Y=n,z=_,V=l;t:for(;;){O=(Rt(S-V|0,Ze)|0)+(Rt($-s|0,Ke)|0)+(Rt(w-u|0,be)|0)|0;do if(C|0&&e[C+12>>2]|0&&(ot=e[(e[C+4>>2]|0)+8>>2]|0,(e[ot+20>>2]|0)>(e[t+100>>2]|0))){if(U=e[ot+12>>2]|0,F=e[U+88>>2]|0,pt=F-$|0,L=e[U+92>>2]|0,lt=L-S|0,U=e[U+96>>2]|0,l=U-w|0,_=Ft(pt|0,((pt|0)<0)<<31>>31|0,ke|0,Ae|0)|0,mt=Ge,n=Ft(lt|0,((lt|0)<0)<<31>>31|0,qe|0,He|0)|0,mt=$t(n|0,Ge|0,_|0,mt|0)|0,_=Ge,n=Ft(l|0,((l|0)<0)<<31>>31|0,Ce|0,we|0)|0,n=$t(mt|0,_|0,n|0,Ge|0)|0,_=Ge,l=(Rt(lt,Ze)|0)+(Rt(pt,Ke)|0)+(Rt(l,be)|0)|0,(n|0)==0&(_|0)==0){if((l|0)>0)break t;break}if((_|0)<0){if((l|0)>0?(d=1,m=l,h=((l|0)<0)<<31>>31):(m=Wi(0,0,l|0,((l|0)<0)<<31>>31|0)|0,d=l>>31,m=(l|0)<0?m:0,h=(l|0)<0?Ge:0),k=0-d|0,E=Wi(0,0,n|0,_|0)|0,D=Ge,(O|0)>0?(l=1,N=O,B=((O|0)<0)<<31>>31):(N=Wi(0,0,O|0,((O|0)<0)<<31>>31|0)|0,l=O>>31,N=(O|0)<0?N:0,B=(O|0)<0?Ge:0),(Y|0)>0|(Y|0)==0&z>>>0>0?(n=z,_=Y):(Y|0)<0?(n=Wi(0,0,z|0,Y|0)|0,l=0-l|0,_=Ge):(n=0,_=0),(l|0)==(k|0)){if(!d)break t;l=Ft(n|0,0,m|0,0)|0,d=Ge,mt=Ft(_|0,0,m|0,0)|0,fe=Ge,g=Ft(n|0,0,h|0,0)|0,M=Ge,pt=Ft(_|0,0,h|0,0)|0,m=Ge,g=$t(mt|0,0,g|0,0)|0,n=Ge,m=$t(fe|0,0,pt|0,m|0)|0,M=$t(m|0,Ge|0,M|0,0)|0,n=$t(M|0,Ge|0,n|0,0)|0,M=Ge,d=$t(0,g|0,l|0,d|0)|0,m=Ge,g=$t(n|0,M|0,(m>>>0<g>>>0|(m|0)==(g|0)&d>>>0<0)&1|0,0)|0,M=Ge,n=Ft(N|0,0,E|0,0)|0,l=Ge,pt=Ft(B|0,0,E|0,0)|0,fe=Ge,_=Ft(N|0,0,D|0,0)|0,h=Ge,mt=Ft(B|0,0,D|0,0)|0,lt=Ge,_=$t(pt|0,0,_|0,0)|0,pt=Ge,lt=$t(fe|0,0,mt|0,lt|0)|0,h=$t(lt|0,Ge|0,h|0,0)|0,pt=$t(h|0,Ge|0,pt|0,0)|0,h=Ge,l=$t(0,_|0,n|0,l|0)|0,n=Ge,_=$t(pt|0,h|0,(n>>>0<_>>>0|(n|0)==(_|0)&l>>>0<0)&1|0,0)|0,h=Ge;do if(M>>>0<h>>>0|(M|0)==(h|0)&g>>>0<_>>>0)l=-1;else{if(M>>>0>h>>>0|(M|0)==(h|0)&g>>>0>_>>>0){l=1;break}if(m>>>0<n>>>0|(m|0)==(n|0)&d>>>0<l>>>0){l=-1;break}l=(m>>>0>n>>>0|(m|0)==(n|0)&d>>>0>l>>>0)&1}while(!1);l=Rt(l,k)|0}else l=k-l|0;if((l|0)<1)break t}}while(!1);if(l=e[o>>2]|0,!l){l=122;break e}if(!(e[l+12>>2]|0)){l=122;break e}if(B=e[(e[l+8>>2]|0)+4>>2]|0,(e[B+20>>2]|0)<=(e[t+100>>2]|0)){l=122;break e}if(_=e[B+12>>2]|0,d=e[_+88>>2]|0,s=d-s|0,h=e[_+92>>2]|0,n=h-V|0,_=e[_+96>>2]|0,l=_-u|0,pt=Ft(s|0,((s|0)<0)<<31>>31|0,Se|0,((Se|0)<0)<<31>>31|0)|0,mt=Ge,lt=Ft(n|0,((n|0)<0)<<31>>31|0,ge|0,((ge|0)<0)<<31>>31|0)|0,mt=$t(lt|0,Ge|0,pt|0,mt|0)|0,pt=Ge,lt=Ft(l|0,((l|0)<0)<<31>>31|0,q|0,X|0)|0,!((mt|0)==(lt|0)&(pt|0)==(Ge|0))){l=122;break e}if(m=Ft(s|0,((s|0)<0)<<31>>31|0,ke|0,Ae|0)|0,N=Ge,u=Ft(n|0,((n|0)<0)<<31>>31|0,qe|0,He|0)|0,N=$t(u|0,Ge|0,m|0,N|0)|0,m=Ge,u=Ft(l|0,((l|0)<0)<<31>>31|0,Ce|0,we|0)|0,u=$t(N|0,m|0,u|0,Ge|0)|0,m=Ge,l=(Rt(n,Ze)|0)+(Rt(s,Ke)|0)+(Rt(l,be)|0)|0,N=$-d|0,lt=S-h|0,D=w-_|0,N=Ft(N|0,((N|0)<0)<<31>>31|0,ke|0,Ae|0)|0,pt=Ge,lt=Ft(lt|0,((lt|0)<0)<<31>>31|0,qe|0,He|0)|0,pt=$t(lt|0,Ge|0,N|0,pt|0)|0,N=Ge,D=Ft(D|0,((D|0)<0)<<31>>31|0,Ce|0,we|0)|0,D=$t(pt|0,N|0,D|0,Ge|0)|0,N=Ge,(N|0)>=0){l=122;break e}if((u|0)==0&(m|0)==0){if((l|0)<=0){l=122;break e}}else{if((m|0)>=0){l=122;break e}(l|0)>0?(h=l,d=((l|0)<0)<<31>>31,_=1):(h=Wi(0,0,l|0,((l|0)<0)<<31>>31|0)|0,h=(l|0)<0?h:0,d=(l|0)<0?Ge:0,_=l>>31),E=0-_|0,C=Wi(0,0,u|0,m|0)|0,M=Ge,(O|0)>0?(l=1,g=O,u=((O|0)<0)<<31>>31):(g=Wi(0,0,O|0,((O|0)<0)<<31>>31|0)|0,l=O>>31,g=(O|0)<0?g:0,u=(O|0)<0?Ge:0);do if((Y|0)>0|(Y|0)==0&z>>>0>0)s=l,n=z,l=Y;else{if((Y|0)>=0){s=l,n=0,l=0;break}n=Wi(0,0,z|0,Y|0)|0,s=0-l|0,l=Ge}while(!1);if((s|0)==(E|0)){if(!_){l=122;break e}pt=Ft(n|0,0,h|0,0)|0,_=Ge,s=Ft(l|0,0,h|0,0)|0,fe=Ge,n=Ft(n|0,0,d|0,0)|0,m=Ge,l=Ft(l|0,0,d|0,0)|0,h=Ge,d=$t(s|0,0,n|0,0)|0,n=Ge,h=$t(fe|0,0,l|0,h|0)|0,m=$t(h|0,Ge|0,m|0,0)|0,n=$t(m|0,Ge|0,n|0,0)|0,m=Ge,_=$t(0,d|0,pt|0,_|0)|0,h=Ge,d=$t(n|0,m|0,(h>>>0<d>>>0|(h|0)==(d|0)&_>>>0<0)&1|0,0)|0,m=Ge,n=Ft(g|0,0,C|0,0)|0,l=Ge,pt=Ft(u|0,0,C|0,0)|0,fe=Ge,s=Ft(g|0,0,M|0,0)|0,lt=Ge,mt=Ft(u|0,0,M|0,0)|0,u=Ge,s=$t(pt|0,0,s|0,0)|0,pt=Ge,u=$t(fe|0,0,mt|0,u|0)|0,u=$t(u|0,Ge|0,lt|0,0)|0,pt=$t(u|0,Ge|0,pt|0,0)|0,u=Ge,l=$t(0,s|0,n|0,l|0)|0,n=Ge,s=$t(pt|0,u|0,(n>>>0<s>>>0|(n|0)==(s|0)&l>>>0<0)&1|0,0)|0,u=Ge;do if(m>>>0<u>>>0|(m|0)==(u|0)&d>>>0<s>>>0)l=-1;else{if(m>>>0>u>>>0|(m|0)==(u|0)&d>>>0>s>>>0){l=1;break}if(h>>>0<n>>>0|(h|0)==(n|0)&_>>>0<l>>>0){l=-1;break}l=(h>>>0>n>>>0|(h|0)==(n|0)&_>>>0>l>>>0)&1}while(!1);l=Rt(l,E)|0}else l=E-s|0;if((l|0)>=0){l=122;break e}}e[o>>2]=B,u=e[B+12>>2]|0,C=e[a>>2]|0,Y=N,z=D,s=e[u+88>>2]|0,V=e[u+92>>2]|0,u=e[u+96>>2]|0}n=F-s|0,$=L-V|0,_=U-u|0,n=Ft(n|0,((n|0)<0)<<31>>31|0,ke|0,Ae|0)|0,l=Ge,$=Ft($|0,(($|0)<0)<<31>>31|0,qe|0,He|0)|0,l=$t($|0,Ge|0,n|0,l|0)|0,n=Ge,_=Ft(_|0,((_|0)<0)<<31>>31|0,Ce|0,we|0)|0,_=$t(l|0,n|0,_|0,Ge|0)|0,C=(C|0)==(ut|0)?0:ot,e[a>>2]=C,n=Ge,l=V,$=F,S=L,w=U}l|0}}function v6(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0;var _=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0;if(_=e[s+8>>2]|0,!_)return t=0,t|0;h=_,Y=_,_=0;do{if((e[Y+20>>2]|0)>(e[t+100>>2]|0)){O=e[Y+12>>2]|0,F=e[O+88>>2]|0,L=F-(e[s+88>>2]|0)|0,U=e[O+92>>2]|0,V=U-(e[s+92>>2]|0)|0,O=e[O+96>>2]|0,z=O-(e[s+96>>2]|0)|0,d=Ft(e[l>>2]|0,e[l+4>>2]|0,L|0,((L|0)<0)<<31>>31|0)|0,m=Ge,h=Ft(e[l+8>>2]|0,e[l+8+4>>2]|0,V|0,((V|0)<0)<<31>>31|0)|0,m=$t(h|0,Ge|0,d|0,m|0)|0,d=Ge,h=Ft(e[l+16>>2]|0,e[l+16+4>>2]|0,z|0,((z|0)<0)<<31>>31|0)|0,h=$t(m|0,d|0,h|0,Ge|0)|0,d=Ge,m=Ft(e[a>>2]|0,e[a+4>>2]|0,L|0,((L|0)<0)<<31>>31|0)|0,k=Ge,g=Ft(e[a+8>>2]|0,e[a+8+4>>2]|0,V|0,((V|0)<0)<<31>>31|0)|0,k=$t(g|0,Ge|0,m|0,k|0)|0,m=Ge,g=Ft(e[a+16>>2]|0,e[a+16+4>>2]|0,z|0,((z|0)<0)<<31>>31|0)|0,g=$t(k|0,m|0,g|0,Ge|0)|0,m=Ge,(d|0)>0|(d|0)==0&h>>>0>0?(k=d,d=1):(N=Wi(0,0,h|0,d|0)|0,k=Ge,B=r6(h|0,d|0,63)|0,h=(d|0)<0?N:0,k=(d|0)<0?k:0,d=B),(m|0)>0|(m|0)==0&g>>>0>0?(S=d,C=8):(B=Wi(0,0,g|0,m|0)|0,S=(m|0)<0?0-d|0:d,d=(m|0)<0?B:0,m=(m|0)<0?Ge:0,(S|0)==0&((d|0)==0&(m|0)==0)||(g=d,C=8));e:do if((C|0)==8){if(C=0,!_){e[u>>2]=h,e[u+4>>2]=k,e[u+8>>2]=g,e[u+8+4>>2]=m,e[u+16>>2]=S,_=Y;break}d=e[u+16>>2]|0,(S|0)==(d|0)?S|0&&(w=e[u+8>>2]|0,D=e[u+8+4>>2]|0,C=Ft(w|0,0,h|0,0)|0,d=Ge,N=Ft(D|0,0,h|0,0)|0,E=Ge,w=Ft(w|0,0,k|0,0)|0,M=Ge,D=Ft(D|0,0,k|0,0)|0,X=Ge,w=$t(N|0,0,w|0,0)|0,N=Ge,X=$t(E|0,0,D|0,X|0)|0,M=$t(X|0,Ge|0,M|0,0)|0,N=$t(M|0,Ge|0,N|0,0)|0,M=Ge,d=$t(0,w|0,C|0,d|0)|0,C=Ge,w=$t(N|0,M|0,(C>>>0<w>>>0|(C|0)==(w|0)&d>>>0<0)&1|0,0)|0,M=Ge,N=e[u>>2]|0,X=e[u+4>>2]|0,D=Ft(N|0,0,g|0,0)|0,E=Ge,$=Ft(X|0,0,g|0,0)|0,ne=Ge,N=Ft(N|0,0,m|0,0)|0,B=Ge,X=Ft(X|0,0,m|0,0)|0,q=Ge,N=$t($|0,0,N|0,0)|0,$=Ge,q=$t(ne|0,0,X|0,q|0)|0,B=$t(q|0,Ge|0,B|0,0)|0,$=$t(B|0,Ge|0,$|0,0)|0,B=Ge,E=$t(0,N|0,D|0,E|0)|0,D=Ge,N=$t($|0,B|0,(D>>>0<N>>>0|(D|0)==(N|0)&E>>>0<0)&1|0,0)|0,B=Ge,M>>>0<B>>>0|(M|0)==(B|0)&w>>>0<N>>>0?d=-1:M>>>0>B>>>0|(M|0)==(B|0)&w>>>0>N>>>0?d=1:C>>>0<D>>>0|(C|0)==(D|0)&d>>>0<E>>>0?d=-1:d=(C>>>0>D>>>0|(C|0)==(D|0)&d>>>0>E>>>0)&1,d=Rt(d,S)|0,C=18):(d=S-d|0,C=18);do if((C|0)==18)if(C=0,(d|0)>=0){if(d)break e;break}else{e[u>>2]=h,e[u+4>>2]=k,e[u+8>>2]=g,e[u+8+4>>2]=m,e[u+16>>2]=S,_=Y;break e}while(!1);h=(e[_+4>>2]|0)==(Y|0),(e[_>>2]|0)==(Y|0)?h?(ne=e[o+8>>2]|0,$=Rt(ne,V)|0,B=e[o+4>>2]|0,$=$-(Rt(B,z)|0)|0,X=e[o>>2]|0,ne=(Rt(X,z)|0)-(Rt(ne,L)|0)|0,X=(Rt(B,L)|0)-(Rt(X,V)|0)|0,B=e[_+12>>2]|0,h=e[(e[Y+8>>2]|0)+12>>2]|0,V=e[h+88>>2]|0,L=(e[B+88>>2]|0)-V|0,k=e[h+92>>2]|0,z=(e[B+92>>2]|0)-k|0,h=e[h+96>>2]|0,B=(e[B+96>>2]|0)-h|0,q=(Rt(O-h|0,z)|0)-(Rt(U-k|0,B)|0)|0,h=(Rt(F-V|0,B)|0)-(Rt(O-h|0,L)|0)|0,z=(Rt(U-k|0,L)|0)-(Rt(F-V|0,z)|0)|0,$=Ft(q|0,((q|0)<0)<<31>>31|0,$|0,(($|0)<0)<<31>>31|0)|0,q=Ge,ne=Ft(h|0,((h|0)<0)<<31>>31|0,ne|0,((ne|0)<0)<<31>>31|0)|0,h=Ge,X=Ft(z|0,((z|0)<0)<<31>>31|0,X|0,((X|0)<0)<<31>>31|0)|0,X=$t($|0,q|0,X|0,Ge|0)|0,h=$t(X|0,Ge|0,ne|0,h|0)|0,ne=Ge,h=(ne|0)>0|(ne|0)==0&h>>>0>0?2:1):h=2:h=h&1,_=(h|0)==2^n?_:Y}while(!1);h=e[s+8>>2]|0}Y=e[Y>>2]|0}while((Y|0)!=(h|0));return _|0}function _h(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;for(m=H,H=H+16|0,u=e[t+12>>2]|0,_=e[u+(((s+n|0)/2|0)<<4)>>2]|0,h=e[u+(((s+n|0)/2|0)<<4)+4>>2]|0,d=e[u+(((s+n|0)/2|0)<<4)+8>>2]|0,o=n,a=s;;){for(l=o;o=e[u+(l<<4)+4>>2]|0,!((o|0)>=(h|0)&&((o|0)!=(h|0)||(o=e[u+(l<<4)>>2]|0,(o|0)>=(_|0)&&((o|0)!=(_|0)||(e[u+(l<<4)+8>>2]|0)>=(d|0)))));)l=l+1|0;for(;o=e[u+(a<<4)+4>>2]|0,!((h|0)>=(o|0)&&((h|0)!=(o|0)||(o=e[u+(a<<4)>>2]|0,(_|0)>=(o|0)&&((_|0)!=(o|0)||(d|0)>=(e[u+(a<<4)+8>>2]|0)))));)a=a+-1|0;if((l|0)>(a|0)?o=l:(o=u+(l<<4)|0,e[m>>2]=e[o>>2],e[m+4>>2]=e[o+4>>2],e[m+8>>2]=e[o+8>>2],e[m+12>>2]=e[o+12>>2],u=u+(a<<4)|0,e[o>>2]=e[u>>2],e[o+4>>2]=e[u+4>>2],e[o+8>>2]=e[u+8>>2],e[o+12>>2]=e[u+12>>2],o=(e[t+12>>2]|0)+(a<<4)|0,e[o>>2]=e[m>>2],e[o+4>>2]=e[m+4>>2],e[o+8>>2]=e[m+8>>2],e[o+12>>2]=e[m+12>>2],o=l+1|0,a=a+-1|0),(o|0)>(a|0))break;u=e[t+12>>2]|0}if((a|0)>(n|0)&&_h(t,n,a),(o|0)>=(s|0)){H=m;return}_h(t,o,s),H=m}function Ma(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0;return(o|0)>-1|(o|0)==-1&s>>>0>4294967295?(a=(+(s>>>0)+4294967296*+(o>>>0))*18446744073709552e3+(+(t>>>0)+4294967296*+(n>>>0)),+a):(u=Wi(0,0,t|0,n|0)|0,l=Ge,o=$t((t|0)==0&(n|0)==0&1|0,0,~s|0,~o|0)|0,a=-+Ma(u,l,o,Ge),+a)}function S6(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0;if(X=H,H=H+240|0,(s|0)<1){o=e[t+12>>2]|0,o|0&&(A[t+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+12>>2]=0),A[t+16>>0]=1,e[t+12>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,o=e[t+32>>2]|0,o|0&&(A[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+32>>2]=0),A[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0,o=e[t+52>>2]|0,o|0&&(A[t+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+52>>2]=0),A[t+56>>0]=1,e[t+52>>2]=0,e[t+44>>2]=0,e[t+48>>2]=0,H=X;return}for(e[X+40+32>>2]=0,e[X+40+36>>2]=0,e[X+40+40>>2]=0,e[X+40+44>>2]=256,e[X+40+48>>2]=0,e[X+40+52>>2]=0,e[X+40+56>>2]=0,e[X+40+60>>2]=256,e[X+40+64>>2]=0,e[X+40+68>>2]=0,e[X+40+72>>2]=0,e[X+40+76>>2]=256,A[X+40+96>>0]=1,z=X+40+92|0,e[z>>2]=0,e[X+40+84>>2]=0,e[X+40+88>>2]=0,_=0,h=-246811958,E=-246811958,C=-246811958,S=1900671690,k=1900671690,M=1900671690,d=n;O=+i[d>>2],l=+i[d+4>>2],m=+i[d+8>>2],Y=O<(e[Z>>2]=S,+i[Z>>2]),o=(i[Z>>2]=O,e[Z>>2]|0),S=Y?o:S,Y=l<(e[Z>>2]=M,+i[Z>>2]),a=(i[Z>>2]=l,e[Z>>2]|0),M=Y?a:M,Y=m<(e[Z>>2]=k,+i[Z>>2]),u=(i[Z>>2]=m,e[Z>>2]|0),k=Y?u:k,h=(e[Z>>2]=h,+i[Z>>2]<O?o:h),C=(e[Z>>2]=C,+i[Z>>2]<l?a:C),E=(e[Z>>2]=E,+i[Z>>2]<m?u:E),_=_+1|0,(_|0)!=(s|0);)d=d+16|0;if(L=(e[Z>>2]=h,+i[Z>>2]),F=(e[Z>>2]=S,+i[Z>>2]),B=(e[Z>>2]=C,+i[Z>>2]),N=(e[Z>>2]=M,+i[Z>>2]),D=(e[Z>>2]=E,+i[Z>>2]),w=(e[Z>>2]=k,+i[Z>>2]),a=L-F<B-N?B-N<D-w?2:1:L-F<D-w?2:0,e[X+40+112>>2]=a,o=L-F<B-N?L-F<D-w?0:2:B-N<D-w?1:2,(o|0)==(a|0)&&(o=((a+1|0)>>>0)%3|0),e[X+40+104>>2]=o,Y=(a^3)-o|0,e[X+40+108>>2]=Y,((Y+1|0)%3|0|0)==(a|0)?(l=(L-F)*9788566967472434e-20,m=(B-N)*9788566967472434e-20,g=(D-w)*9788566967472434e-20):(l=-((L-F)*9788566967472434e-20),m=-((B-N)*9788566967472434e-20),g=-((D-w)*9788566967472434e-20)),i[X+40>>2]=l,i[X+40+4>>2]=m,i[X+40+8>>2]=g,i[X+40+12>>2]=0,O=l!=0?1/l:l,V=m!=0?1/m:m,U=g!=0?1/g:g,i[X+40+16>>2]=(L+F)*.5,i[X+40+20>>2]=(B+N)*.5,i[X+40+24>>2]=(D+w)*.5,i[X+40+28>>2]=0,S=X+216+16|0,A[S>>0]=1,C=X+216+12|0,e[C>>2]=0,e[X+216+4>>2]=0,e[X+216+8>>2]=0,e[5637]=(e[5637]|0)+1,o=Xe((s<<4|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,_=o+4+15&-16):_=0,a=e[X+216+4>>2]|0,u=e[C>>2]|0,(a|0)<=0)u|0&&(q=26);else{o=0;do q=_+(o<<4)|0,Y=u+(o<<4)|0,e[q>>2]=e[Y>>2],e[q+4>>2]=e[Y+4>>2],e[q+8>>2]=e[Y+8>>2],e[q+12>>2]=e[Y+12>>2],o=o+1|0;while((o|0)!=(a|0));q=26}if((q|0)==26&&(A[S>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[C>>2]=0),A[S>>0]=1,e[C>>2]=_,e[X+216+8>>2]=s,e[_>>2]=e[X+200>>2],e[_+4>>2]=e[X+200+4>>2],e[_+8>>2]=e[X+200+8>>2],e[_+12>>2]=e[X+200+12>>2],(s|0)!=1){o=1;do Y=(e[C>>2]|0)+(o<<4)|0,e[Y>>2]=e[X+200>>2],e[Y+4>>2]=e[X+200+4>>2],e[Y+8>>2]=e[X+200+8>>2],e[Y+12>>2]=e[X+200+12>>2],o=o+1|0;while((o|0)!=(s|0))}for(e[X+216+4>>2]=s,a=X+184+(e[X+40+108>>2]<<2)|0,u=e[C>>2]|0,_=X+184+(e[X+40+112>>2]<<2)|0,h=X+184+(e[X+40+104>>2]<<2)|0,l=+i[X+40+16>>2],m=+i[X+40+20>>2],g=+i[X+40+24>>2],d=0,o=n;n=e[o>>2]|0,e[X+184>>2]=n,Y=e[o+4>>2]|0,e[X+184+4>>2]=Y,B=(e[Z>>2]=n,+i[Z>>2]-l),F=V*(e[Z>>2]=Y,+i[Z>>2]-m),L=U*(+i[o+8>>2]-g),i[X+184>>2]=O*B,i[X+184+4>>2]=F,i[X+184+8>>2]=L,i[X+184+12>>2]=0,e[u+(d<<4)>>2]=~~+i[a>>2],e[u+(d<<4)+4>>2]=~~+i[_>>2],e[u+(d<<4)+8>>2]=~~+i[h>>2],e[u+(d<<4)+12>>2]=d,d=d+1|0,(d|0)!=(s|0);)o=o+16|0;if((s|0)>1&&_h(X+216|0,0,s+-1|0),e[X+40+36>>2]=e[X+40+32>>2],e[X+40+40>>2]=0,e[X+40+44>>2]=s,o=e[X+40+84>>2]|0,(o|0)<(s|0)){if((e[X+40+88>>2]|0)<(s|0)){if(s?(e[5637]=(e[5637]|0)+1,a=Xe((s<<2|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,u=e[X+40+84>>2]|0):(a=0,u=o),(u|0)>0){_=0;do e[a+(_<<2)>>2]=e[(e[z>>2]|0)+(_<<2)>>2],_=_+1|0;while((_|0)!=(u|0))}u=e[z>>2]|0,u|0&&(A[X+40+96>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[z>>2]=0),A[X+40+96>>0]=1,e[z>>2]=a,e[X+40+88>>2]=s}do e[(e[z>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0))}e[X+40+84>>2]=s,h=0;do{if(o=e[X+40+40>>2]|0,!o&&(o=e[X+40+36>>2]|0,o?e[X+40+36>>2]=e[o+8>>2]:(e[5637]=(e[5637]|0)+1,o=Xe(31)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[X+40+44>>2]|0,e[o+4>>2]=a,u=o+8|0,e[u>>2]=0,e[5637]=(e[5637]|0)+1,a=Xe((a*112|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[o>>2]=a,e[u>>2]=e[X+40+32>>2],e[X+40+32>>2]=o),_=e[o+4>>2]|0,o=e[o>>2]|0,(_|0)>0)){a=0,u=o;do a=a+1|0,Y=u,u=u+112|0,e[Y>>2]=(a|0)<(_|0)?u:0;while((a|0)!=(_|0))}e[X+40+40>>2]=e[o>>2],Y=o+104|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[Y>>2]=-1,e[o+8>>2]=0,n=o+88|0,k=(e[C>>2]|0)+(h<<4)|0,e[n>>2]=e[k>>2],e[n+4>>2]=e[k+4>>2],e[n+8>>2]=e[k+8>>2],e[n+12>>2]=e[k+12>>2],e[Y>>2]=-1,e[(e[z>>2]|0)+(h<<2)>>2]=o,h=h+1|0}while((h|0)<(s|0));if(o=e[C>>2]|0,o|0&&(A[S>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[C>>2]=0),A[S>>0]=1,e[C>>2]=0,e[X+216+4>>2]=0,e[X+216+8>>2]=0,e[X+40+52>>2]=e[X+40+48>>2],e[X+40+56>>2]=0,e[X+40+60>>2]=s*6,e[X+40+116>>2]=0,e[X+40+120>>2]=0,e[X+40+100>>2]=-3,e[X+184>>2]=0,e[X+184+4>>2]=0,e[X+184+8>>2]=0,e[X+184+12>>2]=0,ph(X+40|0,0,s,X+184|0),e[X+40+124>>2]=e[X+184>>2],o=e[C>>2]|0,o|0&&(A[S>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[C>>2]=0),o=e[t+4>>2]|0,(o|0)<0){(e[t+8>>2]|0)<0&&(a=e[t+12>>2]|0,a|0&&(A[t+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+12>>2]=0),A[t+16>>0]=1,e[t+12>>2]=0,e[t+8>>2]=0);do Y=(e[t+12>>2]|0)+(o<<4)|0,e[Y>>2]=e[X+168>>2],e[Y+4>>2]=e[X+168+4>>2],e[Y+8>>2]=e[X+168+8>>2],e[Y+12>>2]=e[X+168+12>>2],o=o+1|0;while((o|0)!=0)}if(e[t+4>>2]=0,e[X+24>>2]=0,e[X+24+4>>2]=0,e[X+24+8>>2]=0,o=e[t+24>>2]|0,(o|0)<0){(e[t+28>>2]|0)<0&&(a=e[t+32>>2]|0,a|0&&(A[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+32>>2]=0),A[t+36>>0]=1,e[t+32>>2]=0,e[t+28>>2]=0);do Y=(e[t+32>>2]|0)+(o*12|0)|0,e[Y>>2]=e[X+24>>2],e[Y+4>>2]=e[X+24+4>>2],e[Y+8>>2]=e[X+24+8>>2],o=o+1|0;while((o|0)!=0)}if(e[t+24>>2]=0,a=e[t+44>>2]|0,(a|0)<0){o=e[t+52>>2]|0;do if((e[t+48>>2]|0)<0){if(!o){A[t+56>>0]=1,e[t+52>>2]=0,e[t+48>>2]=0,o=0;break}A[t+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),A[t+56>>0]=1,e[t+52>>2]=0,e[t+48>>2]=0,o=0}while(!1);ln(o+(a<<2)|0,0,Rt(a,-4)|0)|0}if(e[t+44>>2]=0,o=e[X+40+124>>2]|0,(e[o+104>>2]|0)<0){for(e[o+104>>2]=0,e[5637]=(e[5637]|0)+1,S=Xe(23)|0,e[(S+4+15&-16)+-4>>2]=S,e[(S+4+15&-16)>>2]=o,Y=0,_=1,u=1,S=S+4+15&-16;;){if((e[o+100>>2]|0)>-1?(i[X+216+(e[X+40+108>>2]<<2)>>2]=+(e[o+88>>2]|0),i[X+216+(e[X+40+112>>2]<<2)>>2]=+(e[o+92>>2]|0),l=+(e[o+96>>2]|0)):(s=o+24|0,n=o+32|0,l=+Ma(e[s>>2]|0,e[s+4>>2]|0,e[n>>2]|0,e[n+4>>2]|0),n=o+72|0,s=o+80|0,z=e[s>>2]|0,s=e[s+4>>2]|0,l=l/+Ma(e[n>>2]|0,e[n+4>>2]|0,z,s),i[X+216+(e[X+40+108>>2]<<2)>>2]=l,k=o+40|0,E=o+48|0,l=+Ma(e[k>>2]|0,e[k+4>>2]|0,e[E>>2]|0,e[E+4>>2]|0),l=l/+Ma(e[n>>2]|0,e[n+4>>2]|0,z,s),i[X+216+(e[X+40+112>>2]<<2)>>2]=l,E=o+56|0,k=o+64|0,l=+Ma(e[E>>2]|0,e[E+4>>2]|0,e[k>>2]|0,e[k+4>>2]|0),l=l/+Ma(e[n>>2]|0,e[n+4>>2]|0,z,s)),i[X+216+(e[X+40+104>>2]<<2)>>2]=l,l=+i[X+216>>2]*+i[X+40>>2]+ +i[X+40+16>>2],m=+i[X+216+4>>2]*+i[X+40+4>>2]+ +i[X+40+20>>2],g=+i[X+216+8>>2]*+i[X+40+8>>2]+ +i[X+40+24>>2],a=e[t+4>>2]|0,(a|0)==(e[t+8>>2]|0)&&($=a|0?a<<1:1,(a|0)<($|0))){if($?(e[5637]=(e[5637]|0)+1,a=Xe(($<<4|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,d=a,a=e[t+4>>2]|0):d=0,(a|0)>0){h=0;do s=d+(h<<4)|0,z=(e[t+12>>2]|0)+(h<<4)|0,e[s>>2]=e[z>>2],e[s+4>>2]=e[z+4>>2],e[s+8>>2]=e[z+8>>2],e[s+12>>2]=e[z+12>>2],h=h+1|0;while((h|0)!=(a|0))}a=e[t+12>>2]|0,a|0&&(A[t+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+12>>2]=0),A[t+16>>0]=1,e[t+12>>2]=d,e[t+8>>2]=$,a=e[t+4>>2]|0}if(z=e[t+12>>2]|0,i[z+(a<<4)>>2]=l,i[z+(a<<4)+4>>2]=m,i[z+(a<<4)+8>>2]=g,i[z+(a<<4)+12>>2]=0,e[t+4>>2]=(e[t+4>>2]|0)+1,z=e[o+8>>2]|0,!z)h=S;else{for(s=z,o=-1,k=S,n=-1;;){if(E=s+20|0,a=e[E>>2]|0,(a|0)<0){M=e[t+24>>2]|0,e[X+12>>2]=0,e[X+12+4>>2]=0,e[X+12+8>>2]=0;do if((M|0)==(e[t+28>>2]|0)){if(S=M|0?M<<1:1,(M|0)>=(S|0)){a=M;break}if(S?(e[5637]=(e[5637]|0)+1,a=Xe((S*12|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,h=e[t+24>>2]|0):(a=0,h=M),(h|0)>0){d=0;do C=a+(d*12|0)|0,ne=(e[t+32>>2]|0)+(d*12|0)|0,e[C>>2]=e[ne>>2],e[C+4>>2]=e[ne+4>>2],e[C+8>>2]=e[ne+8>>2],d=d+1|0;while((d|0)!=(h|0))}h=e[t+32>>2]|0,h|0&&(A[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),e[t+32>>2]=0),A[t+36>>0]=1,e[t+32>>2]=a,e[t+28>>2]=S,a=e[t+24>>2]|0}else a=M;while(!1);a=(e[t+32>>2]|0)+(a*12|0)|0,e[a>>2]=e[X+12>>2],e[a+4>>2]=e[X+12+4>>2],e[a+8>>2]=e[X+12+8>>2],a=(e[t+24>>2]|0)+1|0,e[t+24>>2]=a,e[X>>2]=0,e[X+4>>2]=0,e[X+8>>2]=0;do if((a|0)==(e[t+28>>2]|0)){if(S=a|0?a<<1:1,(a|0)>=(S|0))break;if(S?(e[5637]=(e[5637]|0)+1,a=Xe((S*12|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,d=a,a=e[t+24>>2]|0):d=0,(a|0)>0){h=0;do ne=d+(h*12|0)|0,C=(e[t+32>>2]|0)+(h*12|0)|0,e[ne>>2]=e[C>>2],e[ne+4>>2]=e[C+4>>2],e[ne+8>>2]=e[C+8>>2],h=h+1|0;while((h|0)!=(a|0))}a=e[t+32>>2]|0,a|0&&(A[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+32>>2]=0),A[t+36>>0]=1,e[t+32>>2]=d,e[t+28>>2]=S,a=e[t+24>>2]|0}while(!1);if(C=(e[t+32>>2]|0)+(a*12|0)|0,e[C>>2]=e[X>>2],e[C+4>>2]=e[X+4>>2],e[C+8>>2]=e[X+8>>2],e[t+24>>2]=(e[t+24>>2]|0)+1,C=e[t+32>>2]|0,e[E>>2]=M,e[(e[s+8>>2]|0)+20>>2]=M+1,e[C+(M*12|0)+4>>2]=1,e[C+((M+1|0)*12|0)+4>>2]=-1,S=e[s+12>>2]|0,a=e[S+104>>2]|0,(a|0)<0){e[S+104>>2]=u;do if((u|0)==(_|0)){if(d=_|0?_<<1:1,(_|0)>=(d|0)){h=k;break}do if(!d)h=0;else{if(e[5637]=(e[5637]|0)+1,a=Xe((d<<2|3)+16|0)|0,!a){h=0;break}e[(a+4+15&-16)+-4>>2]=a,h=a+4+15&-16}while(!1);if((_|0)<=0){if(!k){_=d;break}}else{a=0;do e[h+(a<<2)>>2]=e[k+(a<<2)>>2],a=a+1|0;while((a|0)!=(_|0))}e[5638]=(e[5638]|0)+1,ye(e[k+-4>>2]|0),_=d}else h=k;while(!1);e[h+(u<<2)>>2]=S,a=u,u=u+1|0}else h=k;e[C+(M*12|0)+8>>2]=a,e[C+((M+1|0)*12|0)+8>>2]=Y,a=e[E>>2]|0}else h=k;if((n|0)>-1?e[(e[t+32>>2]|0)+(a*12|0)>>2]=n-a:o=a,s=e[s>>2]|0,(s|0)==(z|0))break;k=h,n=a}e[(e[t+32>>2]|0)+(o*12|0)>>2]=a-o}if(a=Y+1|0,(a|0)>=(u|0))break;o=e[h+(a<<2)>>2]|0,Y=a,S=h}if((Y|0)>-1)for(E=0;;){if(C=e[(e[h+(E<<2)>>2]|0)+8>>2]|0,C|0){M=C;do{if(S=M+20|0,o=e[S>>2]|0,(o|0)>-1){a=e[t+44>>2]|0;do if((a|0)==(e[t+48>>2]|0)){if(d=a|0?a<<1:1,(a|0)>=(d|0))break;if(d?(e[5637]=(e[5637]|0)+1,o=Xe((d<<2|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+44>>2]|0):o=0,_=e[t+52>>2]|0,(a|0)<=0)_&&(q=173);else{u=0;do e[o+(u<<2)>>2]=e[_+(u<<2)>>2],u=u+1|0;while((u|0)!=(a|0));q=173}(q|0)==173&&(q=0,A[t+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[_+-4>>2]|0)),e[t+52>>2]=0,a=e[t+44>>2]|0),A[t+56>>0]=1,e[t+52>>2]=o,e[t+48>>2]=d,o=e[S>>2]|0}while(!1);e[(e[t+52>>2]|0)+(a<<2)>>2]=o,e[t+44>>2]=(e[t+44>>2]|0)+1,o=M;do e[o+20>>2]=-1,o=e[(e[o+8>>2]|0)+4>>2]|0;while((o|0)!=(M|0))}M=e[M>>2]|0}while((M|0)!=(C|0))}if((E|0)==(Y|0))break;E=E+1|0}h|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0))}tz(X+40|0),H=X}function tz(t){t=t|0;var n=0,s=0;if(n=e[t+92>>2]|0,n|0&&(A[t+96>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+92>>2]=0),A[t+96>>0]=1,e[t+92>>2]=0,e[t+84>>2]=0,e[t+88>>2]=0,n=e[t+64>>2]|0,n|0)do e[t+64>>2]=e[n+8>>2],s=e[n>>2]|0,s|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),n=e[t+64>>2]|0;while((n|0)!=0);if(n=e[t+48>>2]|0,n|0)do e[t+48>>2]=e[n+8>>2],s=e[n>>2]|0,s|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),n=e[t+48>>2]|0;while((n|0)!=0);if(n=e[t+32>>2]|0,!!n)do e[t+32>>2]=e[n+8>>2],s=e[n>>2]|0,s|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),n=e[t+32>>2]|0;while((n|0)!=0)}function iz(){for(var t=0,n=0;;){if(t=Xe(8)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}x2[t&3]()}if((n|0)==5)n=k2(4)|0,e[n>>2]=8308,F2(n|0,2416,215);else if((n|0)==6){e[5649]=t,Tn(t|0,0)|0,e[5639]=16373,e[5640]=0,e[5641]=0,e[5642]=0,e[5643]=0,e[5644]=0,e[5645]=0,e[5646]=0,e[5647]=0,Kf(22556);return}}function Kf(t){t=t|0;var n=0;do e[t+4>>2]=0,i[t+8>>2]=0,n=e[t+24>>2]|0,n|0&&Kf(n),t=e[t+28>>2]|0;while((t|0)!=0)}function $n(t){t=t|0;var n=0,s=0,o=0,a=0;if(a=H,H=H+16|0,s=e[2006]|0,(e[s>>2]|0)==(t|0))n=s;else{n=e[s+24>>2]|0;e:do if(!n)o=5;else for(;;){if((e[n>>2]|0)==(t|0))break e;if(n=e[n+28>>2]|0,!n){o=5;break}}while(!1);do if((o|0)==5){for(;;){if(n=Xe(36)|0,n|0){o=9;break}if(n=e[5831]|0,e[5831]=n+0,!n){o=8;break}x2[n&3](),o=5}if((o|0)==8)a=k2(4)|0,e[a>>2]=8308,F2(a|0,2416,215);else if((o|0)==9){e[n>>2]=t,e[n+4>>2]=0,e[n+4+4>>2]=0,e[n+4+8>>2]=0,e[n+4+12>>2]=0,e[n+20>>2]=s,e[n+24>>2]=0,e[n+28>>2]=0,e[n+32>>2]=0,Kf(n),e[n+28>>2]=e[s+24>>2],e[s+24>>2]=n;break}}while(!1);e[2006]=n}if(t=n+4|0,e[t>>2]=(e[t>>2]|0)+1,t=n+16|0,o=e[t>>2]|0,e[t>>2]=o+1,o|0){H=a;return}Tn(a|0,0)|0,o=e[5649]|0,e[n+12>>2]=(e[a+4>>2]|0)-(e[o+4>>2]|0)+(((e[a>>2]|0)-(e[o>>2]|0)|0)*1e6|0),H=a}function nz(t,n){t=t|0,n=n|0;for(var s=0,o=0;;){if(s=Xe(80)|0,s|0){o=6;break}if(s=e[5831]|0,e[5831]=s+0,!s){o=5;break}x2[s&3]()}if((o|0)==5)n=k2(4)|0,e[n>>2]=8308,F2(n|0,2416,215);else if((o|0)==6)return i[s+4>>2]=1,ee[s+8>>1]=1,ee[s+10>>1]=-1,e[s>>2]=7848,e[s+12>>2]=e[t>>2],e[s+12+4>>2]=e[t+4>>2],e[s+12+8>>2]=e[t+8>>2],e[s+12+12>>2]=e[t+12>>2],e[s+28>>2]=e[n>>2],e[s+28+4>>2]=e[n+4>>2],e[s+28+8>>2]=e[n+8>>2],e[s+28+12>>2]=e[n+12>>2],e[s+76>>2]=0,s|0;return 0}function rz(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function sz(t){return t=t|0,+ +i[t+4>>2]}function oz(t){return t=t|0,ee[t+8>>1]|0}function az(t){return t=t|0,ee[t+10>>1]|0}function cz(t){return t=t|0,t+12|0}function lz(t){return t=t|0,t+28|0}function uz(t){return t=t|0,t+44|0}function fz(t){return t=t|0,t+60|0}function pz(t){return t=t|0,+i[t+4>>2]<1|0}function _z(t,n){t=t|0,n=+n,i[t+4>>2]=n}function hz(t,n){t=t|0,n=n|0,ee[t+8>>1]=n}function dz(t,n){t=t|0,n=n|0,ee[t+10>>1]=n}function mz(t,n){t=t|0,n=n|0,e[t+12>>2]=e[n>>2],e[t+12+4>>2]=e[n+4>>2],e[t+12+8>>2]=e[n+8>>2],e[t+12+12>>2]=e[n+12>>2]}function gz(t,n){t=t|0,n=n|0,e[t+28>>2]=e[n>>2],e[t+28+4>>2]=e[n+4>>2],e[t+28+8>>2]=e[n+8>>2],e[t+28+12>>2]=e[n+12>>2]}function xz(t,n){t=t|0,n=n|0,e[t+44>>2]=e[n>>2],e[t+44+4>>2]=e[n+4>>2],e[t+44+8>>2]=e[n+8>>2],e[t+44+12>>2]=e[n+12>>2]}function yz(t,n){t=t|0,n=n|0,e[t+60>>2]=e[n>>2],e[t+60+4>>2]=e[n+4>>2],e[t+60+8>>2]=e[n+8>>2],e[t+60+12>>2]=e[n+12>>2]}function vz(t,n){t=t|0,n=n|0;for(var s=0,o=0;;){if(s=Xe(84)|0,s|0){o=6;break}if(s=e[5831]|0,e[5831]=s+0,!s){o=5;break}x2[s&3]()}if((o|0)==5)n=k2(4)|0,e[n>>2]=8308,F2(n|0,2416,215);else if((o|0)==6)return i[s+4>>2]=1,e[s+8>>2]=0,ee[s+12>>1]=1,ee[s+14>>1]=-1,e[s+16>>2]=0,e[s>>2]=8008,e[s+20>>2]=e[t>>2],e[s+20+4>>2]=e[t+4>>2],e[s+20+8>>2]=e[t+8>>2],e[s+20+12>>2]=e[t+12>>2],e[s+36>>2]=e[n>>2],e[s+36+4>>2]=e[n+4>>2],e[s+36+8>>2]=e[n+8>>2],e[s+36+12>>2]=e[n+12>>2],s|0;return 0}function Sz(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Tz(t){return t=t|0,ee[t+12>>1]|0}function Cz(t){return t=t|0,ee[t+14>>1]|0}function wz(t){return t=t|0,e[t+8>>2]|0}function Mz(t){return t=t|0,t+52|0}function Rz(t){return t=t|0,t+68|0}function Az(t){return t=t|0,t+20|0}function Ez(t){return t=t|0,t+36|0}function bz(t){return t=t|0,(e[t+8>>2]|0)!=0|0}function Nz(t,n){t=t|0,n=n|0,ee[t+12>>1]=n}function Dz(t,n){t=t|0,n=n|0,ee[t+14>>1]=n}function Iz(t,n){t=t|0,n=n|0,e[t+8>>2]=n}function Pz(t,n){t=t|0,n=n|0,e[t+52>>2]=e[n>>2],e[t+52+4>>2]=e[n+4>>2],e[t+52+8>>2]=e[n+8>>2],e[t+52+12>>2]=e[n+12>>2]}function Lz(t,n){t=t|0,n=n|0,e[t+68>>2]=e[n>>2],e[t+68+4>>2]=e[n+4>>2],e[t+68+8>>2]=e[n+8>>2],e[t+68+12>>2]=e[n+12>>2]}function kz(t,n){t=t|0,n=n|0,e[t+20>>2]=e[n>>2],e[t+20+4>>2]=e[n+4>>2],e[t+20+8>>2]=e[n+8>>2],e[t+20+12>>2]=e[n+12>>2]}function Fz(t,n){t=t|0,n=n|0,e[t+36>>2]=e[n>>2],e[t+36+4>>2]=e[n+4>>2],e[t+36+8>>2]=e[n+8>>2],e[t+36+12>>2]=e[n+12>>2]}function Bz(){for(var t=0,n=0;;){if(t=Xe(8)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}x2[t&3]()}if((n|0)==5)n=k2(4)|0,e[n>>2]=8308,F2(n|0,2416,215);else if((n|0)==6)return e[t>>2]=0,e[t+4>>2]=0,ee[t+4>>1]=1,ee[t+6>>1]=-1,e[t>>2]=8036,t|0;return 0}function Uz(t){t=t|0}function Oz(t){t=t|0,ye(t)}function Gz(t,n){return t=t|0,n=n|0,n=e[n+4>>2]|0,(ee[t+6>>1]&(n&65535))<<16>>16?(t=(n>>>16&65535&ee[t+4>>1])<<16>>16!=0,t|0):(t=0,t|0)}function Vz(t,n,s,o,a,l,u,_){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,+ +jI(0,t|0,n|0,s|0,o|0,a|0,l|0,u|0,_|0)}function zz(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Wz(t,n,s,o,a,l,u,_){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,+ +hp[e[(e[t>>2]|0)+12>>2]&1](t,n,s,o,a,l,u,_)}function Hz(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function jz(t,n,s,o,a,l,u,_){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,+ +hp[e[(e[t>>2]|0)+12>>2]&1](t,n,s,o,a,l,u,_)}function qz(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Xz(t){return t=t|0,+ +i[t+4>>2]}function $z(t){return t=t|0,ee[t+8>>1]|0}function Yz(t){return t=t|0,ee[t+10>>1]|0}function Kz(t){return t=t|0,+i[t+4>>2]<1|0}function Zz(t,n){t=t|0,n=+n,i[t+4>>2]=n}function Qz(t,n){t=t|0,n=n|0,ee[t+8>>1]=n}function Jz(t,n){t=t|0,n=n|0,ee[t+10>>1]=n}function eW(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=+a;for(var l=0,u=0;;){if(l=Xe(44)|0,l|0){u=6;break}if(l=e[5831]|0,e[5831]=l+0,!l){u=5;break}x2[l&3]()}if((u|0)==5)o=k2(4)|0,e[o>>2]=8308,F2(o|0,2416,215);else if((u|0)==6)return e[l>>2]=t,e[l+4>>2]=n,e[l+8>>2]=e[s>>2],e[l+8+4>>2]=e[s+4>>2],e[l+8+8>>2]=e[s+8>>2],e[l+8+12>>2]=e[s+12>>2],e[l+24>>2]=e[o>>2],e[l+24+4>>2]=e[o+4>>2],e[l+24+8>>2]=e[o+8>>2],e[l+24+12>>2]=e[o+12>>2],i[l+40>>2]=a,l|0;return 0}function tW(t){t=t|0,t&&ye(t)}function iW(t){return t=t|0,e[t>>2]|0}function nW(t){return t=t|0,+ +i[t+40>>2]}function rW(t){return t=t|0,t+8|0}function sW(t){return t=t|0,t+24|0}function oW(t){return t=t|0,e[t+4>>2]|0}function aW(t,n){t=t|0,n=n|0,e[t>>2]=n}function cW(t,n){t=t|0,n=+n,i[t+40>>2]=n}function lW(t,n){t=t|0,n=n|0,e[t+8>>2]=e[n>>2],e[t+8+4>>2]=e[n+4>>2],e[t+8+8>>2]=e[n+8>>2],e[t+8+12>>2]=e[n+12>>2]}function uW(t,n){t=t|0,n=n|0,e[t+24>>2]=e[n>>2],e[t+24+4>>2]=e[n+4>>2],e[t+24+8>>2]=e[n+8>>2],e[t+24+12>>2]=e[n+12>>2]}function fW(t,n){t=t|0,n=n|0,e[t+4>>2]=n}function pW(t){t=t|0,t&&ye(t)}function _W(t){return t=t|0,e[t>>2]|0}function hW(t){return t=t|0,e[t+4>>2]|0}function dW(t,n){t=t|0,n=n|0,e[t>>2]=n}function mW(t,n){t=t|0,n=n|0,e[t+4>>2]=n}function gW(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function xW(t){return t=t|0,ee[t+12>>1]|0}function yW(t){return t=t|0,ee[t+14>>1]|0}function vW(t){return t=t|0,e[t+8>>2]|0}function SW(t){return t=t|0,(e[t+8>>2]|0)!=0|0}function TW(t,n){t=t|0,n=n|0,ee[t+12>>1]=n}function CW(t,n){t=t|0,n=n|0,ee[t+14>>1]=n}function wW(t,n){t=t|0,n=n|0,e[t+8>>2]=n}function MW(t){t=t|0,t&&ye(t)}function RW(t){return t=t|0,t|0}function AW(t){return t=t|0,t+16|0}function EW(t){return t=t|0,e[t+88>>2]|0}function bW(t){return t=t|0,t+36|0}function NW(t){return t=t|0,(A[t+84>>0]|0)!=0|0}function DW(t){return t=t|0,+ +i[t+32>>2]}function IW(t){return t=t|0,t+68|0}function PW(t){return t=t|0,t+52|0}function LW(t,n){t=t|0,n=n|0,e[t>>2]=e[n>>2],e[t+4>>2]=e[n+4>>2],e[t+8>>2]=e[n+8>>2],e[t+12>>2]=e[n+12>>2]}function kW(t,n){t=t|0,n=n|0,e[t+16>>2]=e[n>>2],e[t+16+4>>2]=e[n+4>>2],e[t+16+8>>2]=e[n+8>>2],e[t+16+12>>2]=e[n+12>>2]}function FW(t,n){t=t|0,n=n|0,e[t+88>>2]=n}function BW(t,n){t=t|0,n=n|0,e[t+36>>2]=e[n>>2],e[t+36+4>>2]=e[n+4>>2],e[t+36+8>>2]=e[n+8>>2],e[t+36+12>>2]=e[n+12>>2]}function UW(t,n){t=t|0,n=n|0,A[t+84>>0]=n&1}function OW(t,n){t=t|0,n=+n,i[t+32>>2]=n}function GW(t,n){t=t|0,n=n|0,e[t+68>>2]=e[n>>2],e[t+68+4>>2]=e[n+4>>2],e[t+68+8>>2]=e[n+8>>2],e[t+68+12>>2]=e[n+12>>2]}function VW(t,n){t=t|0,n=n|0,e[t+52>>2]=e[n>>2],e[t+52+4>>2]=e[n+4>>2],e[t+52+8>>2]=e[n+8>>2],e[t+52+12>>2]=e[n+12>>2]}function zW(t){t=t|0,t&&ye(t)}function WW(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function HW(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function jW(t,n){t=t|0,n=n|0;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(135)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,op(s,t,n,16384,0,0),s|0}function qW(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;return e[5637]=(e[5637]|0)+1,o=Xe(135)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,op(o,t,n,s&65535,0,0),o|0}function XW(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;return e[5637]=(e[5637]|0)+1,a=Xe(135)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,op(a,t,n,s&65535,o,0),a|0}function $W(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0;return e[5637]=(e[5637]|0)+1,l=Xe(135)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,op(l,t,n,s&65535,o,a),l|0}function YW(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function KW(t){t=t|0;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(79)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,One(n,t),n|0}function ZW(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function QW(t){return t=t|0,+ +Tt[e[(e[t>>2]|0)+48>>2]&15](t)}function JW(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function eH(t,n){t=t|0,n=+n,g2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function tH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function iH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function nH(t,n){t=t|0,n=n|0;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(99)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,Cm(s,t,n,1),s|0}function rH(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;return e[5637]=(e[5637]|0)+1,o=Xe(99)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,Cm(o,t,n,s),o|0}function sH(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function oH(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function aH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function cH(t,n){t=+t,n=+n;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(79)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s+8>>2]=0,e[s+12>>2]=-1,e[s+16>>2]=1065353216,e[s+20>>2]=1065353216,e[s+24>>2]=1065353216,i[s+28>>2]=0,i[s+48>>2]=.03999999910593033,e[s+4>>2]=10,e[s>>2]=4976,e[s+56>>2]=0,i[s+32>>2]=n*.5,i[s+36>>2]=t,i[s+40>>2]=t,i[s+44>>2]=0,s|0}function lH(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function uH(t){return t=t|0,+ +Tt[e[(e[t>>2]|0)+48>>2]&15](t)}function fH(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function pH(t,n){t=t|0,n=+n,g2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function _H(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function hH(t,n){t=+t,n=+n;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(79)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s+8>>2]=0,e[s+12>>2]=-1,e[s+16>>2]=1065353216,e[s+20>>2]=1065353216,e[s+24>>2]=1065353216,i[s+28>>2]=0,i[s+48>>2]=.03999999910593033,e[s+4>>2]=10,e[s>>2]=5076,e[s+56>>2]=2,i[s+32>>2]=t,i[s+36>>2]=t,i[s+40>>2]=n*.5,i[s+44>>2]=0,s|0}function dH(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function mH(t){return t=t|0,+ +Tt[e[(e[t>>2]|0)+48>>2]&15](t)}function gH(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function xH(t,n){t=t|0,n=+n,g2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function yH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function vH(t,n){t=+t,n=+n;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(79)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s+8>>2]=0,e[s+12>>2]=-1,e[s+16>>2]=1065353216,e[s+20>>2]=1065353216,e[s+24>>2]=1065353216,i[s+28>>2]=0,i[s+48>>2]=.03999999910593033,e[s>>2]=4876,e[s+4>>2]=10,e[s+56>>2]=1,i[s+32>>2]=t,i[s+36>>2]=n*.5,i[s+40>>2]=t,i[s+44>>2]=0,s|0}function SH(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function TH(t){return t=t|0,+ +Tt[e[(e[t>>2]|0)+48>>2]&15](t)}function CH(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function wH(t,n){t=t|0,n=+n,g2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function MH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function RH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function AH(t){t=t|0;for(var n=0,s=0;;){if(n=Xe(5260)|0,n|0){s=6;break}if(n=e[5831]|0,e[5831]=n+0,!n){s=5;break}x2[n&3]()}if((s|0)==5)t=k2(4)|0,e[t>>2]=8308,F2(t|0,2416,215);else if((s|0)==6)return _Z(n,t),n|0;return 0}function EH(t,n){return t=t|0,n=n|0,I0[e[(e[t>>2]|0)+40>>2]&31](t,n)|0}function bH(t){return t=t|0,Ct[e[(e[t>>2]|0)+36>>2]&127](t)|0}function NH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function DH(t){t=t|0,!(e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function IH(t,n){t=t|0,n=n|0,!(!n&&e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function PH(t,n){t=t|0,n=n|0,e[t+216>>2]=n}function LH(t){return t=t|0,e[t+204>>2]|0}function kH(t){return t=t|0,e[t+192>>2]|0}function FH(t){return t=t|0,t+4|0}function BH(t){return t=t|0,t=e[t+216>>2]|0,(t|0)!=5&(t|0)!=2|0}function UH(t){return t=t|0,(e[t+204>>2]&2|0)!=0|0}function OH(t,n){t=t|0,n=n|0,(e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=n)}function GH(t,n,s){t=t|0,n=n|0,s=s|0,e[t+164>>2]=e[n>>2],e[t+164+4>>2]=e[n+4>>2],e[t+164+8>>2]=e[n+8>>2],e[t+164+12>>2]=e[n+12>>2],+i[n>>2]==1&&+i[n+4>>2]==1&&(s=+i[n+8>>2]!=1?s:0),e[t+180>>2]=s}function VH(t,n){t=t|0,n=+n,i[t+256>>2]=n}function zH(t,n){t=t|0,n=+n,i[t+252>>2]=n}function WH(t,n){t=t|0,n=n|0,e[t+204>>2]=n}function HH(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+8>>2]&127](t,n)}function jH(t,n){t=t|0,n=+n,i[t+184>>2]=n}function qH(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+224>>2]=n}function XH(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+228>>2]=n}function $H(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+232>>2]=n}function YH(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2],e[t+20>>2]=e[n+16>>2],e[t+20+4>>2]=e[n+16+4>>2],e[t+20+8>>2]=e[n+16+8>>2],e[t+20+12>>2]=e[n+16+12>>2],e[t+36>>2]=e[n+32>>2],e[t+36+4>>2]=e[n+32+4>>2],e[t+36+8>>2]=e[n+32+8>>2],e[t+36+12>>2]=e[n+32+12>>2],e[t+52>>2]=e[n+48>>2],e[t+52+4>>2]=e[n+48+4>>2],e[t+52+8>>2]=e[n+48+8>>2],e[t+52+12>>2]=e[n+48+12>>2]}function KH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function ZH(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function QH(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function JH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function ej(t,n){t=t|0,n=n|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,1,-1)}function tj(t,n,s){t=t|0,n=n|0,s=s|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,s,-1)}function ij(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,s,o)}function nj(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,wh(t,n,s,o)}function rj(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;o=H,H=H+48|0,a=e[n+192>>2]|0,Kt[e[(e[a>>2]|0)+8>>2]&127](a,n+4|0,o+32|0,o+16|0),e[o>>2]=3544,e[o+4>>2]=n,e[o+8>>2]=t,e[o+12>>2]=s,t=e[t+68>>2]|0,Kt[e[(e[t>>2]|0)+28>>2]&127](t,o+32|0,o+16|0,o),H=o}function sj(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l,u1(t,n,s,o,a,l)}function oj(t){return t=t|0,e[t+68>>2]|0}function aj(t){return t=t|0,t+28|0}function cj(t){return t=t|0,e[t+24>>2]|0}function lj(t){return t=t|0,t=e[t+68>>2]|0,Ct[e[(e[t>>2]|0)+36>>2]&127](t)|0}function uj(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+32>>2]&127](t,n,s,o)}function fj(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function pj(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(g=H,H=H+128|0,e[t+72>>2]=(e[t+72>>2]|0)+1,e[g>>2]=e[n>>2],e[g+4>>2]=e[n+4>>2],e[g+8>>2]=e[n+8>>2],e[g+12>>2]=e[n+12>>2],e[g+16>>2]=e[n+16>>2],e[g+16+4>>2]=e[n+16+4>>2],e[g+16+8>>2]=e[n+16+8>>2],e[g+16+12>>2]=e[n+16+12>>2],e[g+32>>2]=e[n+32>>2],e[g+32+4>>2]=e[n+32+4>>2],e[g+32+8>>2]=e[n+32+8>>2],e[g+32+12>>2]=e[n+32+12>>2],e[g+48>>2]=e[n+48>>2],e[g+48+4>>2]=e[n+48+4>>2],e[g+48+8>>2]=e[n+48+8>>2],e[g+48+12>>2]=e[n+48+12>>2],d=e[s+4>>2]|0,m=+Tt[e[(e[s>>2]|0)+48>>2]&15](s),Kt[e[(e[s>>2]|0)+8>>2]&127](s,n,g+112|0,g+96|0),o=+i[g+112>>2],+i[t+36>>2]>o&&(i[t+36>>2]=o),o=+i[g+96>>2],+i[t+52>>2]<o&&(i[t+52>>2]=o),o=+i[g+112+4>>2],+i[t+40>>2]>o&&(i[t+40>>2]=o),o=+i[g+96+4>>2],+i[t+56>>2]<o&&(i[t+56>>2]=o),o=+i[g+112+8>>2],+i[t+44>>2]>o&&(i[t+44>>2]=o),o=+i[g+96+8>>2],+i[t+60>>2]<o&&(i[t+60>>2]=o),_=e[t+68>>2]|0,!_)_=t+20|0,u=0;else{if(e[g+64>>2]=e[g+112>>2],e[g+64+4>>2]=e[g+112+4>>2],e[g+64+8>>2]=e[g+112+8>>2],e[g+64+12>>2]=e[g+112+12>>2],e[g+64+16>>2]=e[g+96>>2],e[g+64+16+4>>2]=e[g+96+4>>2],e[g+64+16+8>>2]=e[g+96+8>>2],e[g+64+16+12>>2]=e[g+96+12>>2],u=e[t+20>>2]|0,n=e[_+4>>2]|0,n)e[_+4>>2]=0;else{e[5637]=(e[5637]|0)+1,n=Xe(63)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,a=n,l=a+44|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(l|0))}e[n+32>>2]=0,e[n+36>>2]=u,e[n+40>>2]=0,e[n>>2]=e[g+64>>2],e[n+4>>2]=e[g+64+4>>2],e[n+8>>2]=e[g+64+8>>2],e[n+12>>2]=e[g+64+12>>2],e[n+16>>2]=e[g+64+16>>2],e[n+20>>2]=e[g+64+20>>2],e[n+24>>2]=e[g+64+24>>2],e[n+28>>2]=e[g+64+28>>2],j1(_,e[_>>2]|0,n),e[_+12>>2]=(e[_+12>>2]|0)+1,_=t+20|0,u=n}if(n=e[_>>2]|0,(n|0)==(e[t+24>>2]|0)&&(h=n|0?n<<1:1,(n|0)<(h|0))){if(h?(e[5637]=(e[5637]|0)+1,n=Xe((h*80|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,l=n,n=e[_>>2]|0):l=0,(n|0)>0){a=0;do S=l+(a*80|0)|0,C=e[t+28>>2]|0,w=C+(a*80|0)|0,e[S>>2]=e[w>>2],e[S+4>>2]=e[w+4>>2],e[S+8>>2]=e[w+8>>2],e[S+12>>2]=e[w+12>>2],S=l+(a*80|0)+16|0,w=C+(a*80|0)+16|0,e[S>>2]=e[w>>2],e[S+4>>2]=e[w+4>>2],e[S+8>>2]=e[w+8>>2],e[S+12>>2]=e[w+12>>2],S=l+(a*80|0)+32|0,w=C+(a*80|0)+32|0,e[S>>2]=e[w>>2],e[S+4>>2]=e[w+4>>2],e[S+8>>2]=e[w+8>>2],e[S+12>>2]=e[w+12>>2],S=l+(a*80|0)+48|0,w=C+(a*80|0)+48|0,e[S>>2]=e[w>>2],e[S+4>>2]=e[w+4>>2],e[S+8>>2]=e[w+8>>2],e[S+12>>2]=e[w+12>>2],S=l+(a*80|0)+64|0,C=C+(a*80|0)+64|0,e[S>>2]=e[C>>2],e[S+4>>2]=e[C+4>>2],e[S+8>>2]=e[C+8>>2],e[S+12>>2]=e[C+12>>2],a=a+1|0;while((a|0)!=(n|0))}n=e[t+28>>2]|0,n|0&&(A[t+32>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+28>>2]=0),A[t+32>>0]=1,e[t+28>>2]=l,e[t+24>>2]=h,n=e[_>>2]|0}w=e[t+28>>2]|0,C=w+(n*80|0)|0,e[C>>2]=e[g>>2],e[C+4>>2]=e[g+4>>2],e[C+8>>2]=e[g+8>>2],e[C+12>>2]=e[g+12>>2],C=w+(n*80|0)+16|0,e[C>>2]=e[g+16>>2],e[C+4>>2]=e[g+16+4>>2],e[C+8>>2]=e[g+16+8>>2],e[C+12>>2]=e[g+16+12>>2],C=w+(n*80|0)+32|0,e[C>>2]=e[g+32>>2],e[C+4>>2]=e[g+32+4>>2],e[C+8>>2]=e[g+32+8>>2],e[C+12>>2]=e[g+32+12>>2],C=w+(n*80|0)+48|0,e[C>>2]=e[g+48>>2],e[C+4>>2]=e[g+48+4>>2],e[C+8>>2]=e[g+48+8>>2],e[C+12>>2]=e[g+48+12>>2],w=w+(n*80|0)+64|0,e[w>>2]=s,e[w+4>>2]=d,i[w+8>>2]=m,e[w+12>>2]=u,e[_>>2]=(e[_>>2]|0)+1,H=g}function _j(){var t=0;return e[5637]=(e[5637]|0)+1,t=Xe(115)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,J6(t,1,0),t|0}function hj(t){t=t|0;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(115)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,J6(n,t,0),n|0}function dj(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function mj(t,n){return t=t|0,n=n|0,e[(e[t+28>>2]|0)+(n*80|0)+64>>2]|0}function gj(t){return t=t|0,+ +Tt[e[(e[t>>2]|0)+48>>2]&15](t)}function xj(t){return t=t|0,e[t+20>>2]|0}function yj(t,n){t=t|0,n=n|0,Q6(t,n)}function vj(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function Sj(t,n){t=t|0,n=+n,g2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function Tj(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Cj(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function wj(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function Mj(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Rj(t,n){t=+t,n=+n;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(99)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s+8>>2]=0,e[s+12>>2]=-1,e[s+16>>2]=1065353216,e[s+20>>2]=1065353216,e[s+24>>2]=1065353216,i[s+28>>2]=0,i[s+48>>2]=.03999999910593033,i[s+60>>2]=t,i[s+64>>2]=n,e[s+4>>2]=11,i[s+56>>2]=t/+at(+(t*t+n*n)),e[s>>2]=5456,e[s+68>>2]=1,e[s+72>>2]=0,e[s+76>>2]=2,i[s+36>>2]=t,i[s+32>>2]=n,i[s+40>>2]=t,s|0}function Aj(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function Ej(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function bj(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Nj(t,n){t=+t,n=+n;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(99)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s+8>>2]=0,e[s+12>>2]=-1,e[s+16>>2]=1065353216,e[s+20>>2]=1065353216,e[s+24>>2]=1065353216,i[s+28>>2]=0,i[s+48>>2]=.03999999910593033,i[s+60>>2]=t,i[s+64>>2]=n,e[s+4>>2]=11,i[s+56>>2]=t/+at(+(t*t+n*n)),e[s>>2]=5356,e[s+68>>2]=0,e[s+72>>2]=2,e[s+76>>2]=1,i[s+32>>2]=t,i[s+40>>2]=n,i[s+36>>2]=t,s|0}function Dj(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function Ij(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function Pj(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Lj(t,n){t=+t,n=+n;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(99)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s+8>>2]=0,e[s+12>>2]=-1,e[s+16>>2]=1065353216,e[s+20>>2]=1065353216,e[s+24>>2]=1065353216,i[s+28>>2]=0,i[s+48>>2]=.03999999910593033,e[s>>2]=5256,i[s+60>>2]=t,i[s+64>>2]=n,e[s+4>>2]=11,e[s+68>>2]=0,e[s+72>>2]=1,e[s+76>>2]=2,i[s+32>>2]=t,i[s+36>>2]=n,i[s+40>>2]=t,i[s+56>>2]=t/+at(+(t*t+n*n)),s|0}function kj(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function Fj(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function Bj(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Uj(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;return e[5637]=(e[5637]|0)+1,s=Xe(627)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,dh(s,5,t),e[s>>2]=7132,a=s+300|0,e[a>>2]=e[n>>2],e[a+4>>2]=e[n+4>>2],e[a+8>>2]=e[n+8>>2],e[a+12>>2]=e[n+12>>2],o=s+316|0,e[o>>2]=e[n+16>>2],e[o+4>>2]=e[n+16+4>>2],e[o+8>>2]=e[n+16+8>>2],e[o+12>>2]=e[n+16+12>>2],t=s+332|0,e[t>>2]=e[n+32>>2],e[t+4>>2]=e[n+32+4>>2],e[t+8>>2]=e[n+32+8>>2],e[t+12>>2]=e[n+32+12>>2],l=s+348|0,e[l>>2]=e[n+48>>2],e[l+4>>2]=e[n+48+4>>2],e[l+8>>2]=e[n+48+8>>2],e[l+12>>2]=e[n+48+12>>2],n=s+364|0,A[s+527>>0]=0,e[n>>2]=e[a>>2],e[n+4>>2]=e[a+4>>2],e[n+8>>2]=e[a+8>>2],e[n+12>>2]=e[a+12>>2],n=s+380|0,e[n>>2]=e[o>>2],e[n+4>>2]=e[o+4>>2],e[n+8>>2]=e[o+8>>2],e[n+12>>2]=e[o+12>>2],n=s+396|0,e[n>>2]=e[t>>2],e[n+4>>2]=e[t+4>>2],e[n+8>>2]=e[t+8>>2],e[n+12>>2]=e[t+12>>2],n=s+412|0,A[s+524>>0]=0,A[s+525>>0]=0,A[s+526>>0]=0,A[s+552>>0]=0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,i[s+572>>2]=-1,i[s+444>>2]=0xde0b6b000000000,i[s+448>>2]=0xde0b6b000000000,i[s+452>>2]=0xde0b6b000000000,i[s+428>>2]=1,i[s+432>>2]=.30000001192092896,i[s+436>>2]=1,i[s+440>>2]=.009999999776482582,i[s+456>>2]=.05000000074505806,e[s+592>>2]=0,i[s+596>>2]=0,i[s+600>>2]=.699999988079071,i[s+604>>2]=0,s|0}function Oj(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;return e[5637]=(e[5637]|0)+1,a=Xe(627)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[a+4>>2]=5,e[a+8>>2]=-1,e[a+12>>2]=-1,i[a+16>>2]=34028234663852886e22,A[a+20>>0]=1,A[a+21>>0]=0,e[a+24>>2]=-1,e[a+28>>2]=t,e[a+32>>2]=n,i[a+36>>2]=0,i[a+40>>2]=.30000001192092896,e[a+44>>2]=0,e[a>>2]=7132,n=a+300|0,e[n>>2]=e[s>>2],e[n+4>>2]=e[s+4>>2],e[n+8>>2]=e[s+8>>2],e[n+12>>2]=e[s+12>>2],n=a+316|0,e[n>>2]=e[s+16>>2],e[n+4>>2]=e[s+16+4>>2],e[n+8>>2]=e[s+16+8>>2],e[n+12>>2]=e[s+16+12>>2],n=a+332|0,e[n>>2]=e[s+32>>2],e[n+4>>2]=e[s+32+4>>2],e[n+8>>2]=e[s+32+8>>2],e[n+12>>2]=e[s+32+12>>2],n=a+348|0,e[n>>2]=e[s+48>>2],e[n+4>>2]=e[s+48+4>>2],e[n+8>>2]=e[s+48+8>>2],e[n+12>>2]=e[s+48+12>>2],s=a+364|0,e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],e[s+12>>2]=e[o+12>>2],s=a+380|0,e[s>>2]=e[o+16>>2],e[s+4>>2]=e[o+16+4>>2],e[s+8>>2]=e[o+16+8>>2],e[s+12>>2]=e[o+16+12>>2],s=a+396|0,e[s>>2]=e[o+32>>2],e[s+4>>2]=e[o+32+4>>2],e[s+8>>2]=e[o+32+8>>2],e[s+12>>2]=e[o+32+12>>2],s=a+412|0,e[s>>2]=e[o+48>>2],e[s+4>>2]=e[o+48+4>>2],e[s+8>>2]=e[o+48+8>>2],e[s+12>>2]=e[o+48+12>>2],A[a+552>>0]=0,e[a+524>>2]=0,i[a+572>>2]=-1,i[a+444>>2]=0xde0b6b000000000,i[a+448>>2]=0xde0b6b000000000,i[a+452>>2]=0xde0b6b000000000,i[a+428>>2]=1,i[a+432>>2]=.30000001192092896,i[a+436>>2]=1,i[a+440>>2]=.009999999776482582,i[a+456>>2]=.05000000074505806,e[a+592>>2]=0,i[a+596>>2]=0,i[a+600>>2]=.699999988079071,i[a+604>>2]=0,a|0}function Gj(t,n){t=t|0,n=n|0,A[t+21>>0]=n&1}function Vj(t,n){t=t|0,n=n|0,A[t+552>>0]=n&1}function zj(t){return t=t|0,+ +i[t+16>>2]}function Wj(t,n){t=t|0,n=n|0,A[t+524>>0]=n&1}function Hj(t,n){t=t|0,n=+n,i[t+16>>2]=n}function jj(t,n){t=t|0,n=+n,i[t+440>>2]=n}function qj(t,n,s){switch(t=t|0,n=n|0,s=+s,n|0){case 3:{i[t+452>>2]=s;return}case 4:{i[t+448>>2]=s;return}case 5:{i[t+444>>2]=s;return}default:return}}function Xj(t,n){t=t|0,n=+n,i[t+572>>2]=n,A[t+553>>0]=1}function $j(t,n){t=t|0,n=+n,i[t+572>>2]=n,A[t+553>>0]=0}function Yj(t,n){t=t|0,n=n|0,lm(t,n)}function Kj(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;s=H,H=H+48|0,xs(t+364|0,s+16|0),u=-+i[s+16>>2],a=-+i[s+16+4>>2],m=-+i[s+16+8>>2],d=+i[s+16+12>>2],l=+i[n>>2],g=+i[n+12>>2],h=+i[n+8>>2],_=+i[n+4>>2],xs(t+300|0,s),C=+i[s>>2],w=+i[s+12>>2],o=+i[s+8>>2],S=+i[s+4>>2],i[s+32>>2]=C*(d*g-l*u-_*a-h*m)+(d*l+g*u+h*a-_*m)*w+(l*m+(g*a+d*_)-h*u)*o-(g*m+d*h+_*u-l*a)*S,i[s+32+4>>2]=C*(g*m+d*h+_*u-l*a)+(w*(l*m+(g*a+d*_)-h*u)+(d*g-l*u-_*a-h*m)*S)-(d*l+g*u+h*a-_*m)*o,i[s+32+8>>2]=w*(g*m+d*h+_*u-l*a)+(d*g-l*u-_*a-h*m)*o+(d*l+g*u+h*a-_*m)*S-C*(l*m+(g*a+d*_)-h*u),i[s+32+12>>2]=(d*g-l*u-_*a-h*m)*w-C*(d*l+g*u+h*a-_*m)-(l*m+(g*a+d*_)-h*u)*S-(g*m+d*h+_*u-l*a)*o,lm(t,s+32|0),H=s}function Zj(t){t=t|0,t&&ye(t)}function Qj(){for(var t=0,n=0;;){if(t=Xe(12)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}x2[t&3]()}if((n|0)==5)n=k2(4)|0,e[n>>2]=8308,F2(n|0,2416,215);else if((n|0)==6)return i[t>>2]=.30000001192092896,i[t+4>>2]=1,i[t+8>>2]=0,t|0;return 0}function Jj(t){return t=t|0,+ +i[t+4>>2]}function eq(t){return t=t|0,+ +i[t+8>>2]}function tq(t){return t=t|0,+ +i[t>>2]}function iq(t,n){t=t|0,n=+n,i[t+4>>2]=n}function nq(t,n){t=t|0,n=+n,i[t+8>>2]=n}function rq(t,n){t=t|0,n=+n,i[t>>2]=n}function sq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function oq(t){t=t|0,t&&ye(t)}function aq(t){return t=t|0,~~+i[t+48>>2]|0}function cq(t){return t=t|0,(e[t+44>>2]|0)!=0|0}function lq(t,n){t=t|0,n=n|0,i[t+48>>2]=+(n|0)}function uq(t,n){t=t|0,n=n|0,e[t+44>>2]=n&1}function fq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function pq(t,n){t=t|0,n=n|0,em(t,n,1)}function _q(t,n,s){t=t|0,n=n|0,s=s|0,em(t,n,s)}function hq(){var t=0;return e[5637]=(e[5637]|0)+1,t=Xe(135)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,xee(t,0,0,16),t|0}function dq(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function mq(t){return t=t|0,+ +Tt[e[(e[t>>2]|0)+48>>2]&15](t)}function gq(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function xq(t,n){t=t|0,n=+n,g2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function yq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function vq(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function Sq(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function Tq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Cq(t){t=t|0;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(119)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,nm(n,t,1),n|0}function wq(t,n){t=t|0,n=n|0;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(119)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,nm(s,t,n),s|0}function Mq(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function Rq(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function Aq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Eq(t){t=t|0;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(79)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,Ah(n,t),e[n>>2]=5960,e[n+56>>2]=0,n|0}function bq(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function Nq(t){return t=t|0,+ +Tt[e[(e[t>>2]|0)+48>>2]&15](t)}function Dq(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function Iq(t,n){t=t|0,n=+n,g2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function Pq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Lq(t){t=t|0;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(79)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,Ah(n,t),e[n>>2]=6064,e[n+56>>2]=2,n|0}function kq(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function Fq(t){return t=t|0,+ +Tt[e[(e[t>>2]|0)+48>>2]&15](t)}function Bq(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function Uq(t,n){t=t|0,n=+n,g2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function Oq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Gq(t){t=t|0;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(79)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,Ah(n,t),n|0}function Vq(t,n,s){t=t|0,n=+n,s=s|0,B2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function zq(t){return t=t|0,+ +Tt[e[(e[t>>2]|0)+48>>2]&15](t)}function Wq(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function Hq(t,n){t=t|0,n=+n,g2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function jq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function qq(){for(var t=0,n=0;;){if(t=Xe(196)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}x2[t&3]()}if((n|0)==5)n=k2(4)|0,e[n>>2]=8308,F2(n|0,2416,215);else if((n|0)==6)return Nm(t,0),t|0;return 0}function Xq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function $q(){var t=0,n=0,s=0;for(s=H,H=H+32|0;;){if(t=Xe(92)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}x2[t&3]()}if((n|0)==5)s=k2(4)|0,e[s>>2]=8308,F2(s|0,2416,215);else if((n|0)==6)return e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=4096,e[s+12>>2]=4096,e[s+16>>2]=0,e[s+20>>2]=1,dm(t,s),H=s,t|0;return 0}function Yq(t){t=t|0;for(var n=0,s=0;;){if(n=Xe(92)|0,n|0){s=6;break}if(n=e[5831]|0,e[5831]=n+0,!n){s=5;break}x2[n&3]()}if((s|0)==5)t=k2(4)|0,e[t>>2]=8308,F2(t|0,2416,215);else if((s|0)==6)return dm(n,t),n|0;return 0}function Kq(t){t=t|0,t&&ye(t)}function Zq(){for(var t=0,n=0;;){if(t=Xe(24)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}x2[t&3]()}if((n|0)==5)n=k2(4)|0,e[n>>2]=8308,F2(n|0,2416,215);else if((n|0)==6)return e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=4096,e[t+12>>2]=4096,e[t+16>>2]=0,e[t+20>>2]=1,t|0;return 0}function Qq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Jq(){var t=0,n=0;return e[5637]=(e[5637]|0)+1,t=Xe(219)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,A[19848]|0||(A[19848]=1,A[19856]|0||(A[19856]=1,e[5017]=1065353216,e[5018]=0,e[5019]=0,e[5020]=0,e[5021]=0,e[5022]=1065353216,e[5023]=0,e[5024]=0,e[5025]=0,e[5026]=0,e[5027]=1065353216,i[5028]=0),e[5029]=e[5017],e[5030]=e[5018],e[5031]=e[5019],e[5032]=e[5020],e[5033]=e[5021],e[5034]=e[5022],e[5035]=e[5023],e[5036]=e[5024],e[5037]=e[5025],e[5038]=e[5026],e[5039]=e[5027],e[5040]=e[5028],e[5041]=0,e[5042]=0,e[5043]=0,e[5044]=0),A[19848]|0||(A[19848]=1,A[19856]|0||(A[19856]=1,e[5017]=1065353216,e[5018]=0,e[5019]=0,e[5020]=0,e[5021]=0,e[5022]=1065353216,e[5023]=0,e[5024]=0,e[5025]=0,e[5026]=0,e[5027]=1065353216,i[5028]=0),e[5029]=e[5017],e[5030]=e[5018],e[5031]=e[5019],e[5032]=e[5020],e[5033]=e[5021],e[5034]=e[5022],e[5035]=e[5023],e[5036]=e[5024],e[5037]=e[5025],e[5038]=e[5026],e[5039]=e[5027],e[5040]=e[5028],e[5041]=0,e[5042]=0,e[5043]=0,e[5044]=0),e[t>>2]=8060,n=t+4|0,e[n>>2]=e[5029],e[n+4>>2]=e[5030],e[n+8>>2]=e[5031],e[n+12>>2]=e[5032],n=t+20|0,e[n>>2]=e[5033],e[n+4>>2]=e[5034],e[n+8>>2]=e[5035],e[n+12>>2]=e[5036],n=t+36|0,e[n>>2]=e[5037],e[n+4>>2]=e[5038],e[n+8>>2]=e[5039],e[n+12>>2]=e[5040],n=t+52|0,e[n>>2]=e[5041],e[n+4>>2]=e[5042],e[n+8>>2]=e[5043],e[n+12>>2]=e[5044],n=t+68|0,e[n>>2]=e[5029],e[n+4>>2]=e[5030],e[n+8>>2]=e[5031],e[n+12>>2]=e[5032],n=t+84|0,e[n>>2]=e[5033],e[n+4>>2]=e[5034],e[n+8>>2]=e[5035],e[n+12>>2]=e[5036],n=t+100|0,e[n>>2]=e[5037],e[n+4>>2]=e[5038],e[n+8>>2]=e[5039],e[n+12>>2]=e[5040],n=t+116|0,e[n>>2]=e[5041],e[n+4>>2]=e[5042],e[n+8>>2]=e[5043],e[n+12>>2]=e[5044],n=t+132|0,e[n>>2]=e[5029],e[n+4>>2]=e[5030],e[n+8>>2]=e[5031],e[n+12>>2]=e[5032],n=t+148|0,e[n>>2]=e[5033],e[n+4>>2]=e[5034],e[n+8>>2]=e[5035],e[n+12>>2]=e[5036],n=t+164|0,e[n>>2]=e[5037],e[n+4>>2]=e[5038],e[n+8>>2]=e[5039],e[n+12>>2]=e[5040],n=t+180|0,e[n>>2]=e[5041],e[n+4>>2]=e[5042],e[n+8>>2]=e[5043],e[n+12>>2]=e[5044],e[t+196>>2]=0,t|0}function eX(t){t=t|0}function tX(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function iX(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0;E=+i[t+68>>2],C=+i[t+84>>2],m=+i[t+100>>2],M=+i[t+72>>2],S=+i[t+88>>2],h=+i[t+104>>2],w=+i[t+76>>2],g=+i[t+92>>2],u=+i[t+108>>2],V=-+i[t+116>>2],U=-+i[t+120>>2],s=-+i[t+124>>2],L=+i[t+4>>2],F=+i[t+8>>2],k=+i[t+12>>2],B=+i[t+20>>2],N=+i[t+24>>2],D=+i[t+28>>2],d=+i[t+36>>2],_=+i[t+40>>2],l=+i[t+44>>2],a=L*(E*V+C*U+m*s)+(M*V+S*U+h*s)*F+(w*V+g*U+u*s)*k+ +i[t+52>>2],o=(E*V+C*U+m*s)*B+(M*V+S*U+h*s)*N+(w*V+g*U+u*s)*D+ +i[t+56>>2],s=(E*V+C*U+m*s)*d+(M*V+S*U+h*s)*_+(w*V+g*U+u*s)*l+ +i[t+60>>2],i[n>>2]=E*L+M*F+w*k,i[n+4>>2]=C*L+S*F+g*k,i[n+8>>2]=m*L+h*F+u*k,i[n+12>>2]=0,i[n+16>>2]=E*B+M*N+w*D,i[n+20>>2]=C*B+S*N+g*D,i[n+24>>2]=m*B+h*N+u*D,i[n+28>>2]=0,i[n+32>>2]=E*d+M*_+w*l,i[n+36>>2]=C*d+S*_+g*l,i[n+40>>2]=m*d+h*_+u*l,i[n+44>>2]=0,i[n+48>>2]=a,i[n+52>>2]=o,i[n+56>>2]=s,i[n+60>>2]=0}function nX(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0;E=+i[t+68>>2],L=+i[n>>2],M=+i[t+84>>2],F=+i[n+4>>2],w=+i[t+100>>2],k=+i[n+8>>2],C=+i[t+72>>2],S=+i[t+88>>2],g=+i[t+104>>2],m=+i[t+76>>2],h=+i[t+92>>2],u=+i[t+108>>2],B=+i[n+16>>2],N=+i[n+20>>2],D=+i[n+24>>2],d=+i[n+32>>2],_=+i[n+36>>2],l=+i[n+40>>2],V=+i[t+116>>2],U=+i[t+120>>2],s=+i[t+124>>2],a=+i[n+48>>2]+(L*V+F*U+k*s),o=B*V+N*U+D*s+ +i[n+52>>2],s=d*V+_*U+l*s+ +i[n+56>>2],i[t+4>>2]=E*L+M*F+w*k,i[t+8>>2]=L*C+F*S+k*g,i[t+12>>2]=L*m+F*h+k*u,i[t+16>>2]=0,i[t+20>>2]=E*B+M*N+w*D,i[t+24>>2]=C*B+S*N+g*D,i[t+28>>2]=m*B+h*N+u*D,i[t+32>>2]=0,i[t+36>>2]=E*d+M*_+w*l,i[t+40>>2]=C*d+S*_+g*l,i[t+44>>2]=m*d+h*_+u*l,i[t+48>>2]=0,i[t+52>>2]=a,i[t+56>>2]=o,i[t+60>>2]=s,i[t+64>>2]=0}function rX(t){t=t|0;var n=0,s=0;return e[5637]=(e[5637]|0)+1,n=Xe(219)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,A[19848]|0||(A[19848]=1,A[19856]|0||(A[19856]=1,e[5017]=1065353216,e[5018]=0,e[5019]=0,e[5020]=0,e[5021]=0,e[5022]=1065353216,e[5023]=0,e[5024]=0,e[5025]=0,e[5026]=0,e[5027]=1065353216,i[5028]=0),e[5029]=e[5017],e[5030]=e[5018],e[5031]=e[5019],e[5032]=e[5020],e[5033]=e[5021],e[5034]=e[5022],e[5035]=e[5023],e[5036]=e[5024],e[5037]=e[5025],e[5038]=e[5026],e[5039]=e[5027],e[5040]=e[5028],e[5041]=0,e[5042]=0,e[5043]=0,e[5044]=0),e[n>>2]=8060,s=n+4|0,e[s>>2]=e[t>>2],e[s+4>>2]=e[t+4>>2],e[s+8>>2]=e[t+8>>2],e[s+12>>2]=e[t+12>>2],s=n+20|0,e[s>>2]=e[t+16>>2],e[s+4>>2]=e[t+16+4>>2],e[s+8>>2]=e[t+16+8>>2],e[s+12>>2]=e[t+16+12>>2],s=n+36|0,e[s>>2]=e[t+32>>2],e[s+4>>2]=e[t+32+4>>2],e[s+8>>2]=e[t+32+8>>2],e[s+12>>2]=e[t+32+12>>2],s=n+52|0,e[s>>2]=e[t+48>>2],e[s+4>>2]=e[t+48+4>>2],e[s+8>>2]=e[t+48+8>>2],e[s+12>>2]=e[t+48+12>>2],s=n+68|0,e[s>>2]=e[5029],e[s+4>>2]=e[5030],e[s+8>>2]=e[5031],e[s+12>>2]=e[5032],s=n+84|0,e[s>>2]=e[5033],e[s+4>>2]=e[5034],e[s+8>>2]=e[5035],e[s+12>>2]=e[5036],s=n+100|0,e[s>>2]=e[5037],e[s+4>>2]=e[5038],e[s+8>>2]=e[5039],e[s+12>>2]=e[5040],s=n+116|0,e[s>>2]=e[5041],e[s+4>>2]=e[5042],e[s+8>>2]=e[5043],e[s+12>>2]=e[5044],s=n+132|0,e[s>>2]=e[t>>2],e[s+4>>2]=e[t+4>>2],e[s+8>>2]=e[t+8>>2],e[s+12>>2]=e[t+12>>2],s=n+148|0,e[s>>2]=e[t+16>>2],e[s+4>>2]=e[t+16+4>>2],e[s+8>>2]=e[t+16+8>>2],e[s+12>>2]=e[t+16+12>>2],s=n+164|0,e[s>>2]=e[t+32>>2],e[s+4>>2]=e[t+32+4>>2],e[s+8>>2]=e[t+32+8>>2],e[s+12>>2]=e[t+32+12>>2],s=n+180|0,e[s>>2]=e[t+48>>2],e[s+4>>2]=e[t+48+4>>2],e[s+8>>2]=e[t+48+8>>2],e[s+12>>2]=e[t+48+12>>2],e[n+196>>2]=0,n|0}function sX(t,n){t=t|0,n=n|0;var s=0,o=0;return e[5637]=(e[5637]|0)+1,s=Xe(219)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s>>2]=8060,o=s+4|0,e[o>>2]=e[t>>2],e[o+4>>2]=e[t+4>>2],e[o+8>>2]=e[t+8>>2],e[o+12>>2]=e[t+12>>2],o=s+20|0,e[o>>2]=e[t+16>>2],e[o+4>>2]=e[t+16+4>>2],e[o+8>>2]=e[t+16+8>>2],e[o+12>>2]=e[t+16+12>>2],o=s+36|0,e[o>>2]=e[t+32>>2],e[o+4>>2]=e[t+32+4>>2],e[o+8>>2]=e[t+32+8>>2],e[o+12>>2]=e[t+32+12>>2],o=s+52|0,e[o>>2]=e[t+48>>2],e[o+4>>2]=e[t+48+4>>2],e[o+8>>2]=e[t+48+8>>2],e[o+12>>2]=e[t+48+12>>2],o=s+68|0,e[o>>2]=e[n>>2],e[o+4>>2]=e[n+4>>2],e[o+8>>2]=e[n+8>>2],e[o+12>>2]=e[n+12>>2],o=s+84|0,e[o>>2]=e[n+16>>2],e[o+4>>2]=e[n+16+4>>2],e[o+8>>2]=e[n+16+8>>2],e[o+12>>2]=e[n+16+12>>2],o=s+100|0,e[o>>2]=e[n+32>>2],e[o+4>>2]=e[n+32+4>>2],e[o+8>>2]=e[n+32+8>>2],e[o+12>>2]=e[n+32+12>>2],o=s+116|0,e[o>>2]=e[n+48>>2],e[o+4>>2]=e[n+48+4>>2],e[o+8>>2]=e[n+48+8>>2],e[o+12>>2]=e[n+48+12>>2],n=s+132|0,e[n>>2]=e[t>>2],e[n+4>>2]=e[t+4>>2],e[n+8>>2]=e[t+8>>2],e[n+12>>2]=e[t+12>>2],n=s+148|0,e[n>>2]=e[t+16>>2],e[n+4>>2]=e[t+16+4>>2],e[n+8>>2]=e[t+16+8>>2],e[n+12>>2]=e[t+16+12>>2],n=s+164|0,e[n>>2]=e[t+32>>2],e[n+4>>2]=e[t+32+4>>2],e[n+8>>2]=e[t+32+8>>2],e[n+12>>2]=e[t+32+12>>2],n=s+180|0,e[n>>2]=e[t+48>>2],e[n+4>>2]=e[t+48+4>>2],e[n+8>>2]=e[t+48+8>>2],e[n+12>>2]=e[t+48+12>>2],e[s+196>>2]=0,s|0}function oX(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+8>>2]&127](t,n)}function aX(t){return t=t|0,t+4|0}function cX(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+12>>2]&127](t,n)}function lX(t,n){t=t|0,n=n|0,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2],e[t+20>>2]=e[n+16>>2],e[t+20+4>>2]=e[n+16+4>>2],e[t+20+8>>2]=e[n+16+8>>2],e[t+20+12>>2]=e[n+16+12>>2],e[t+36>>2]=e[n+32>>2],e[t+36+4>>2]=e[n+32+4>>2],e[t+36+8>>2]=e[n+32+8>>2],e[t+36+12>>2]=e[n+32+12>>2],e[t+52>>2]=e[n+48>>2],e[t+52+4>>2]=e[n+48+4>>2],e[t+52+8>>2]=e[n+48+8>>2],e[t+52+12>>2]=e[n+48+12>>2]}function uX(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function fX(t){t=t|0;for(var n=0,s=0;;){if(n=Xe(8)|0,n|0){s=6;break}if(n=e[5831]|0,e[5831]=n+0,!n){s=5;break}x2[n&3]()}if((s|0)==5)t=k2(4)|0,e[t>>2]=8308,F2(t|0,2416,215);else if((s|0)==6)return e[n>>2]=7988,e[n+4>>2]=t,n|0;return 0}function pX(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function _X(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+64>>2]&127](t,n)}function hX(t,n){t=t|0,n=n|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,2,-3)}function dX(t,n,s){t=t|0,n=n|0,s=s|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,s,-3)}function mX(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,s,o)}function gX(t,n){t=t|0,n=n|0,f0[e[(e[t>>2]|0)+56>>2]&127](t,n,0)}function xX(t,n,s){t=t|0,n=n|0,s=s|0,f0[e[(e[t>>2]|0)+56>>2]&127](t,n,s)}function yX(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+84>>2]&127](t,n)}function vX(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+88>>2]&127](t,n,s,o)}function SX(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0;return e[5637]=(e[5637]|0)+1,o=Xe(343)|0,o?(e[(o+4+15&-16)+-4>>2]=o,l=o+4+15&-16):l=0,A[l+20>>0]=1,e[l+16>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,e[l+24>>2]=t,i[l+28>>2]=0,e[l+32>>2]=0,e[l+36>>2]=1,i[l+40>>2]=1,A[l+44>>0]=1,e[l+48>>2]=0,A[l+52>>0]=0,A[l+53>>0]=1,A[l+54>>0]=1,i[l+56>>2]=.03999999910593033,A[l+60>>0]=0,i[l+64>>2]=0,e[l+68>>2]=n,e[l+72>>2]=0,A[l+76>>0]=1,e[l+80>>2]=0,e[l+84>>2]=0,e[l+88>>2]=0,i[l+92>>2]=.6000000238418579,i[l+96>>2]=1,i[l+100>>2]=.30000001192092896,i[l+104>>2]=.01666666753590107,i[l+108>>2]=0,i[l+116>>2]=20,e[l+112>>2]=10,i[l+124>>2]=.20000000298023224,i[l+128>>2]=.800000011920929,i[l+132>>2]=0,i[l+120>>2]=1,e[l+136>>2]=1,i[l+140>>2]=-.03999999910593033,i[l+144>>2]=.10000000149011612,i[l+148>>2]=0,i[l+152>>2]=.8500000238418579,e[l+156>>2]=260,e[l+160>>2]=2,e[l+164>>2]=128,i[l+168>>2]=100,i[l+172>>2]=10000000150474662e14,e[l>>2]=7656,A[l+192>>0]=1,e[l+188>>2]=0,e[l+180>>2]=0,e[l+184>>2]=0,n=l+196|0,e[n>>2]=0,a=l+200|0,e[a>>2]=s,A[l+224>>0]=1,e[l+220>>2]=0,e[l+212>>2]=0,e[l+216>>2]=0,A[l+244>>0]=1,e[l+240>>2]=0,e[l+232>>2]=0,e[l+236>>2]=0,e[l+248>>2]=0,e[l+252>>2]=-1054867456,o=l+256|0,A[l+274>>0]=0,A[l+275>>0]=0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,A[l+292>>0]=1,e[l+288>>2]=0,e[l+280>>2]=0,e[l+284>>2]=0,e[l+296>>2]=0,A[l+300>>0]=1,A[l+320>>0]=1,e[l+316>>2]=0,e[l+308>>2]=0,e[l+312>>2]=0,s?A[l+273>>0]=0:(e[5637]=(e[5637]|0)+1,o=Xe(223)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,e[o>>2]=7540,A[o+20>>0]=1,e[o+16>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,A[o+40>>0]=1,e[o+36>>2]=0,e[o+28>>2]=0,e[o+32>>2]=0,A[o+60>>0]=1,e[o+56>>2]=0,e[o+48>>2]=0,e[o+52>>2]=0,A[o+80>>0]=1,e[o+76>>2]=0,e[o+68>>2]=0,e[o+72>>2]=0,A[o+100>>0]=1,e[o+96>>2]=0,e[o+88>>2]=0,e[o+92>>2]=0,A[o+120>>0]=1,e[o+116>>2]=0,e[o+108>>2]=0,e[o+112>>2]=0,A[o+140>>0]=1,e[o+136>>2]=0,e[o+128>>2]=0,e[o+132>>2]=0,A[o+160>>0]=1,e[o+156>>2]=0,e[o+148>>2]=0,e[o+152>>2]=0,A[o+180>>0]=1,e[o+176>>2]=0,e[o+168>>2]=0,e[o+172>>2]=0,e[o+192>>2]=13,e[o+196>>2]=14,e[o+200>>2]=0,e[a>>2]=o,A[l+273>>0]=1),e[5637]=(e[5637]|0)+1,o=Xe(87)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,e[o>>2]=4488,A[o+20>>0]=1,e[o+16>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,A[o+40>>0]=1,e[o+36>>2]=0,e[o+28>>2]=0,e[o+32>>2]=0,A[o+60>>0]=1,e[o+56>>2]=0,e[o+48>>2]=0,e[o+52>>2]=0,A[o+64>>0]=1,e[l+204>>2]=o,A[l+272>>0]=1,e[5637]=(e[5637]|0)+1,o=Xe(107)|0,o?(e[(o+4+15&-16)+-4>>2]=o,s=o+4+15&-16,o=e[a>>2]|0,e[s>>2]=7896,a=s+4|0,e[a>>2]=0,a=s+8|0,e[a>>2]=o,a=s+12|0,e[a>>2]=0,a=s+16|0,e[a>>2]=0,a=s+20|0,e[a>>2]=0,a=s+24|0,e[a>>2]=t,t=s+44|0,A[t>>0]=1,t=s+40|0,e[t>>2]=0,t=s+32|0,e[t>>2]=0,t=s+36|0,e[t>>2]=0,t=s+64|0,A[t>>0]=1,t=s+60|0,e[t>>2]=0,t=s+52|0,e[t>>2]=0,t=s+56|0,e[t>>2]=0,t=s+84|0,A[t>>0]=1,t=s+80|0,e[t>>2]=0,t=s+72|0,e[t>>2]=0,t=s+76|0,e[t>>2]=0,e[n>>2]=s,l|0):(s=0,o=e[a>>2]|0,e[s>>2]=7896,a=s+4|0,e[a>>2]=0,a=s+8|0,e[a>>2]=o,a=s+12|0,e[a>>2]=0,a=s+16|0,e[a>>2]=0,a=s+20|0,e[a>>2]=0,a=s+24|0,e[a>>2]=t,t=s+44|0,A[t>>0]=1,t=s+40|0,e[t>>2]=0,t=s+32|0,e[t>>2]=0,t=s+36|0,e[t>>2]=0,t=s+64|0,A[t>>0]=1,t=s+60|0,e[t>>2]=0,t=s+52|0,e[t>>2]=0,t=s+56|0,e[t>>2]=0,t=s+84|0,A[t>>0]=1,t=s+80|0,e[t>>2]=0,t=s+72|0,e[t>>2]=0,t=s+76|0,e[t>>2]=0,e[n>>2]=s,l|0)}function TX(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,wh(t,n,s,o)}function CX(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;o=H,H=H+48|0,a=e[n+192>>2]|0,Kt[e[(e[a>>2]|0)+8>>2]&127](a,n+4|0,o+32|0,o+16|0),e[o>>2]=3544,e[o+4>>2]=n,e[o+8>>2]=t,e[o+12>>2]=s,t=e[t+68>>2]|0,Kt[e[(e[t>>2]|0)+28>>2]&127](t,o+32|0,o+16|0,o),H=o}function wX(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l,u1(t,n,s,o,a,l)}function MX(t){return t=t|0,e[t+68>>2]|0}function RX(t){return t=t|0,t+28|0}function AX(t){return t=t|0,e[t+24>>2]|0}function EX(t){t=t|0;var n=0;return n=H,H=H+16|0,A[19896]|0||(A[19896]=1),zt[e[(e[t>>2]|0)+76>>2]&127](n,t),e[5650]=e[n>>2],e[5651]=e[n+4>>2],e[5652]=e[n+8>>2],e[5653]=e[n+12>>2],H=n,22600}function bX(t){return t=t|0,t=e[t+68>>2]|0,Ct[e[(e[t>>2]|0)+36>>2]&127](t)|0}function NX(t){t=t|0;var n=0,s=0;if(A[19904]|0){n=t+92|0,t=22616,s=t+84|0;do e[t>>2]=e[n>>2],t=t+4|0,n=n+4|0;while((t|0)<(s|0));return 22616}A[19904]=1,i[5654]=.6000000238418579,i[5655]=1,i[5656]=.30000001192092896,i[5657]=.01666666753590107,i[5658]=0,i[5660]=20,e[5659]=10,i[5662]=.20000000298023224,i[5663]=.800000011920929,i[5664]=0,i[5661]=1,e[5665]=1,i[5666]=-.03999999910593033,i[5667]=.10000000149011612,i[5668]=0,i[5669]=.8500000238418579,e[5670]=260,e[5671]=2,e[5672]=128,i[5673]=100,i[5674]=10000000150474662e14,n=t+92|0,t=22616,s=t+84|0;do e[t>>2]=e[n>>2],t=t+4|0,n=n+4|0;while((t|0)<(s|0));return 22616}function DX(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+32>>2]&127](t,n,s,o)}function IX(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+68>>2]&127](t,n)}function PX(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+60>>2]&127](t,n)}function LX(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+92>>2]&127](t,n)}function kX(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+72>>2]&127](t,n)}function FX(t,n){return t=t|0,n=+n,dp[e[(e[t>>2]|0)+52>>2]&1](t,n,1,.01666666753590107)|0}function BX(t,n,s){return t=t|0,n=+n,s=s|0,dp[e[(e[t>>2]|0)+52>>2]&1](t,n,s,.01666666753590107)|0}function UX(t,n,s,o){return t=t|0,n=+n,s=s|0,o=+o,dp[e[(e[t>>2]|0)+52>>2]&1](t,n,s,o)|0}function OX(t){t=t|0,t&&ye(t)}function GX(t){return t=t|0,+ +i[t+28>>2]}function VX(t){return t=t|0,+ +i[t+36>>2]}function zX(t){return t=t|0,e[t+8>>2]|0}function WX(t){return t=t|0,(A[t+25>>0]|0)!=0|0}function HX(t){return t=t|0,(A[t+24>>0]|0)!=0|0}function jX(t){return t=t|0,e[t+4>>2]|0}function qX(t){return t=t|0,+ +i[t+12>>2]}function XX(t){return t=t|0,+ +i[t>>2]}function $X(t){return t=t|0,(A[t+16>>0]|0)!=0|0}function YX(t){return t=t|0,(A[t+32>>0]|0)!=0|0}function KX(t){return t=t|0,(A[t+26>>0]|0)!=0|0}function ZX(t,n){t=t|0,n=+n,i[t+28>>2]=n}function QX(t,n){t=t|0,n=+n,i[t+36>>2]=n}function JX(t,n){t=t|0,n=n|0,e[t+8>>2]=n}function e$(t,n){t=t|0,n=n|0,A[t+25>>0]=n&1}function t$(t,n){t=t|0,n=n|0,A[t+24>>0]=n&1}function i$(t,n){t=t|0,n=n|0,e[t+4>>2]=n}function n$(t,n){t=t|0,n=+n,i[t+12>>2]=n}function r$(t,n){t=t|0,n=+n,i[t>>2]=n}function s$(t,n){t=t|0,n=n|0,A[t+16>>0]=n&1}function o$(t,n){t=t|0,n=n|0,A[t+32>>0]=n&1}function a$(t,n){t=t|0,n=n|0,A[t+26>>0]=n&1}function c$(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function l$(t,n){return t=t|0,n=n|0,I0[e[(e[t>>2]|0)+40>>2]&31](t,n)|0}function u$(t){return t=t|0,Ct[e[(e[t>>2]|0)+36>>2]&127](t)|0}function f$(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function p$(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+64>>2]&127](t,n)}function _$(t,n){t=t|0,n=n|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,1,-1)}function h$(t,n,s){t=t|0,n=n|0,s=s|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,s,-1)}function d$(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,s,o)}function m$(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,wh(t,n,s,o)}function g$(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;o=H,H=H+48|0,a=e[n+192>>2]|0,Kt[e[(e[a>>2]|0)+8>>2]&127](a,n+4|0,o+32|0,o+16|0),e[o>>2]=3544,e[o+4>>2]=n,e[o+8>>2]=t,e[o+12>>2]=s,t=e[t+68>>2]|0,Kt[e[(e[t>>2]|0)+28>>2]&127](t,o+32|0,o+16|0,o),H=o}function x$(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l,u1(t,n,s,o,a,l)}function y$(t){return t=t|0,e[t+68>>2]|0}function v$(t){return t=t|0,t+28|0}function S$(t){return t=t|0,e[t+24>>2]|0}function T$(t){return t=t|0,t=e[t+68>>2]|0,Ct[e[(e[t>>2]|0)+36>>2]&127](t)|0}function C$(t){t=t|0;var n=0,s=0;if(A[19912]|0){n=t+92|0,t=22700,s=t+84|0;do e[t>>2]=e[n>>2],t=t+4|0,n=n+4|0;while((t|0)<(s|0));return 22700}A[19912]=1,i[5675]=.6000000238418579,i[5676]=1,i[5677]=.30000001192092896,i[5678]=.01666666753590107,i[5679]=0,i[5681]=20,e[5680]=10,i[5683]=.20000000298023224,i[5684]=.800000011920929,i[5685]=0,i[5682]=1,e[5686]=1,i[5687]=-.03999999910593033,i[5688]=.10000000149011612,i[5689]=0,i[5690]=.8500000238418579,e[5691]=260,e[5692]=2,e[5693]=128,i[5694]=100,i[5695]=10000000150474662e14,n=t+92|0,t=22700,s=t+84|0;do e[t>>2]=e[n>>2],t=t+4|0,n=n+4|0;while((t|0)<(s|0));return 22700}function w$(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+32>>2]&127](t,n,s,o)}function M$(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+68>>2]&127](t,n)}function R$(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function A$(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;return e[5637]=(e[5637]|0)+1,o=Xe(1331)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,_m(o,t,n,s),o|0}function E$(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0;return e[5637]=(e[5637]|0)+1,l=Xe(1331)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,pm(l,t,n,s,o,a),l|0}function b$(t,n){t=t|0,n=n|0,A[t+21>>0]=n&1}function N$(t){return t=t|0,+ +i[t+16>>2]}function D$(t,n){t=t|0,n=n|0;var s=0;if(s=+an(+i[n>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+868>>2]=s,s=+an(+i[n+4>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+932>>2]=s,s=+an(+i[n+8>>2]),s<-3.1415927410125732){s=s+6.2831854820251465,t=t+996|0,i[t>>2]=s;return}if(!(s>3.1415927410125732)){t=t+996|0,i[t>>2]=s;return}s=s+-6.2831854820251465,t=t+996|0,i[t>>2]=s}function I$(t,n){t=t|0,n=n|0;var s=0;if(s=+an(+i[n>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+872>>2]=s,s=+an(+i[n+4>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+936>>2]=s,s=+an(+i[n+8>>2]),s<-3.1415927410125732){s=s+6.2831854820251465,t=t+1e3|0,i[t>>2]=s;return}if(!(s>3.1415927410125732)){t=t+1e3|0,i[t>>2]=s;return}s=s+-6.2831854820251465,t=t+1e3|0,i[t>>2]=s}function P$(t,n){t=t|0,n=+n,i[t+16>>2]=n}function L$(t,n){t=t|0,n=n|0,e[t+680>>2]=e[n>>2],e[t+680+4>>2]=e[n+4>>2],e[t+680+8>>2]=e[n+8>>2],e[t+680+12>>2]=e[n+12>>2]}function k$(t,n){t=t|0,n=n|0,e[t+696>>2]=e[n>>2],e[t+696+4>>2]=e[n+4>>2],e[t+696+8>>2]=e[n+8>>2],e[t+696+12>>2]=e[n+12>>2]}function F$(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function B$(t,n,s,o,a,l,u,_,h){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0;var d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,ot=0,mt=0,lt=0;if(de=H,H=H+304|0,e[t+188>>2]=-1,$n(15532),e[t+184>>2]=0,(s|0)>0){h=0;do e[(e[n+(h<<2)>>2]|0)+212>>2]=-1,h=h+1|0;while((h|0)!=(s|0))}if(d=e[t+12>>2]|0,(d|0)>(s|0))m=t+8|0;else{if((s+1|0)!=0&&(e[5637]=(e[5637]|0)+1,m=Xe(((s+1|0)*244|3)+16|0)|0,(m|0)!=0)?(e[(m+4+15&-16)+-4>>2]=m,m=m+4+15&-16):m=0,h=e[t+8>>2]|0,(h|0)>0){d=0;do ae=m+(d*244|0)|0,xe=e[t+16>>2]|0,oe=xe+(d*244|0)|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],ae=m+(d*244|0)+16|0,oe=xe+(d*244|0)+16|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],ae=m+(d*244|0)+32|0,oe=xe+(d*244|0)+32|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],ae=m+(d*244|0)+48|0,oe=xe+(d*244|0)+48|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],Rr(m+(d*244|0)+64|0,xe+(d*244|0)+64|0,180)|0,d=d+1|0;while((d|0)!=(h|0))}h=e[t+16>>2]|0,h|0&&(A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),e[t+16>>2]=0),A[t+20>>0]=1,e[t+16>>2]=m,e[t+12>>2]=s+1,m=t+8|0,d=s+1|0}if(ln(de|0,0,244)|0,h=e[m>>2]|0,(h|0)<0){(d|0)<0&&(d=e[t+16>>2]|0,d|0&&(A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[d+-4>>2]|0)),e[t+16>>2]=0),A[t+20>>0]=1,e[t+16>>2]=0,e[t+12>>2]=0);do xe=e[t+16>>2]|0,ae=xe+(h*244|0)|0,e[ae>>2]=e[de>>2],e[ae+4>>2]=e[de+4>>2],e[ae+8>>2]=e[de+8>>2],e[ae+12>>2]=e[de+12>>2],ae=xe+(h*244|0)+16|0,e[ae>>2]=e[de+16>>2],e[ae+4>>2]=e[de+16+4>>2],e[ae+8>>2]=e[de+16+8>>2],e[ae+12>>2]=e[de+16+12>>2],ae=xe+(h*244|0)+32|0,e[ae>>2]=e[de+32>>2],e[ae+4>>2]=e[de+32+4>>2],e[ae+8>>2]=e[de+32+8>>2],e[ae+12>>2]=e[de+32+12>>2],ae=xe+(h*244|0)+48|0,e[ae>>2]=e[de+48>>2],e[ae+4>>2]=e[de+48+4>>2],e[ae+8>>2]=e[de+48+8>>2],e[ae+12>>2]=e[de+48+12>>2],Rr(xe+(h*244|0)+64|0,de+64|0,180)|0,h=h+1|0;while((h|0)!=0)}if(e[m>>2]=0,(s|0)>0){C=0;do m=n+(C<<2)|0,d=p1(t,e[m>>2]|0,+i[_+12>>2])|0,m=e[m>>2]|0,!((m|0)==0||(e[m+236>>2]&2|0)==0)&&+i[m+368>>2]!=0&&(g=e[t+16>>2]|0,h=e[m+528>>2]|0,h&2&&(S=+i[_+76>>2],Ce=+i[m+420>>2],M=+i[m+424>>2],w=+i[m+428>>2],Ae=+i[m+4>>2],Ce=Ce!=0?1/Ce:0,ke=+i[m+8>>2],M=M!=0?1/M:0,ge=+i[m+12>>2],w=w!=0?1/w:0,Se=+i[m+20>>2],be=+i[m+24>>2],we=+i[m+28>>2],fe=+i[m+36>>2],L=+i[m+40>>2],D=+i[m+44>>2],N=+i[m+352>>2],B=+i[m+356>>2],E=+i[m+360>>2],k=(Ce*Ae*Ae+M*ke*ke+w*ge*ge)*N+(Ce*Ae*Se+M*ke*be+w*ge*we)*B+(Ce*Ae*fe+M*ke*L+w*ge*D)*E,F=(Ce*Se*Ae+M*be*ke+w*we*ge)*N+(Ce*Se*Se+M*be*be+w*we*we)*B+(Ce*Se*fe+M*be*L+w*we*D)*E,D=(Ce*fe*Ae+M*L*ke+w*D*ge)*N+(Ce*fe*Se+M*L*be+w*D*we)*B+(Ce*fe*fe+M*L*L+w*D*D)*E,w=(B*D-E*F)*(B*D-E*F)+(E*k-N*D)*(E*k-N*D)+(N*F-B*k)*(N*F-B*k),w>S*S?(S=1/+at(+w)*S,M=(B*D-E*F)*S,w=S*(E*k-N*D),S=S*(N*F-B*k)):(M=B*D-E*F,w=E*k-N*D,S=N*F-B*k),ge=+i[_+12>>2],ke=(M*+i[m+292>>2]+w*+i[m+308>>2]+S*+i[m+324>>2])*ge,Ae=ge*(M*+i[m+296>>2]+w*+i[m+312>>2]+S*+i[m+328>>2]),i[g+(d*244|0)+224>>2]=+i[g+(d*244|0)+224>>2]-(M*+i[m+288>>2]+w*+i[m+304>>2]+S*+i[m+320>>2])*ge,i[g+(d*244|0)+228>>2]=+i[g+(d*244|0)+228>>2]-ke,i[g+(d*244|0)+232>>2]=+i[g+(d*244|0)+232>>2]-Ae,h=e[m+528>>2]|0),h&4&&(L=+i[_+12>>2],Ze=+i[m+420>>2],ge=+i[m+424>>2],be=+i[m+428>>2],B=+i[m+352>>2],w=+i[m+356>>2],Ae=+i[m+360>>2],we=+i[m+4>>2],Ze=Ze!=0?1/Ze:0,S=+i[m+8>>2],ge=ge!=0?1/ge:0,M=+i[m+12>>2],be=be!=0?1/be:0,ut=+i[m+20>>2],Ce=+i[m+24>>2],N=+i[m+28>>2],Se=+i[m+36>>2],fe=+i[m+40>>2],Ke=+i[m+44>>2],E=Ze*we*we+ge*S*S+be*M*M,F=Ze*we*ut+ge*S*Ce+be*M*N,He=Ze*we*Se+ge*S*fe+be*M*Ke,D=Ze*ut*we+ge*Ce*S+be*N*M,k=Ze*ut*ut+ge*Ce*Ce+be*N*N,qe=Ze*ut*Se+ge*Ce*fe+be*N*Ke,M=Ze*Se*we+ge*fe*S+be*Ke*M,N=Ze*Se*ut+ge*fe*Ce+be*Ke*N,Ke=Ze*Se*Se+ge*fe*fe+be*Ke*Ke,be=B*E+w*F+Ae*He+(w*(B*M+w*N+Ae*Ke)-Ae*(B*D+w*k+Ae*qe))*L-(L*0+(B*E+w*F+Ae*He)),fe=B*D+w*k+Ae*qe+(Ae*(B*E+w*F+Ae*He)-B*(B*M+w*N+Ae*Ke))*L-(L*0+(B*D+w*k+Ae*qe)),ge=B*M+w*N+Ae*Ke+(B*(B*D+w*k+Ae*qe)-w*(B*E+w*F+Ae*He))*L-(L*0+(B*M+w*N+Ae*Ke)),Se=F+(B*M+w*N+Ae*Ke+(w*N+(F*0+k*-Ae)))*L,Ze=He+(w*Ke+(He*0+qe*-Ae)-(B*D+w*k+Ae*qe))*L,Ce=D+(M*-B+(D*0+Ae*E)-(B*M+w*N+Ae*Ke))*L,ut=qe+(B*E+w*F+Ae*He+(Ke*-B+(qe*0+Ae*He)))*L,S=M+(M*0+(E*-w+B*D)+(B*D+w*k+Ae*qe))*L,we=N+(N*0+(F*-w+B*k)-(B*E+w*F+Ae*He))*L,mt=(k+(N*-B+(k*0+Ae*F))*L)*(Ke+(Ke*0+(He*-w+B*qe))*L)-we*ut,ot=we*Ze-Se*(Ke+(Ke*0+(He*-w+B*qe))*L),lt=Se*ut-(k+(N*-B+(k*0+Ae*F))*L)*Ze,ke=S*lt+((E+(w*M+(E*0+D*-Ae))*L)*mt+Ce*ot),h=+ht(+ke)>11920928955078125e-23,ke=h?1/ke:ke,i[g+(d*244|0)+224>>2]=B-(ge*lt+(be*mt+fe*ot))*ke-B+ +i[g+(d*244|0)+224>>2],i[g+(d*244|0)+228>>2]=w-(S*(ut*be-Ze*fe)+((E+(w*M+(E*0+D*-Ae))*L)*((Ke+(Ke*0+(He*-w+B*qe))*L)*fe-ut*ge)+Ce*(Ze*ge-(Ke+(Ke*0+(He*-w+B*qe))*L)*be)))*ke-w+ +i[g+(d*244|0)+228>>2],i[g+(d*244|0)+232>>2]=Ae-(S*(Se*fe-(k+(N*-B+(k*0+Ae*F))*L)*be)+((E+(w*M+(E*0+D*-Ae))*L)*((k+(N*-B+(k*0+Ae*F))*L)*ge-we*fe)+Ce*(we*be-Se*ge)))*ke-Ae+ +i[g+(d*244|0)+232>>2],h=e[m+528>>2]|0),h&8|0&&(Ze=+i[_+12>>2],F=+i[m+420>>2],L=+i[m+424>>2],N=+i[m+428>>2],ke=+i[m+352>>2],Ae=+i[m+356>>2],lt=+i[m+360>>2],xs(m+4|0,de+248|0),mt=+i[de+248>>2],qe=+i[de+248+4>>2],He=+i[de+248+8>>2],fe=+i[de+248+12>>2],we=He*(ke*-He+Ae*fe-lt*-mt)+(mt*(-(ke*-mt)-Ae*-qe-lt*-He)+fe*(lt*-qe+ke*fe-Ae*-He))-qe*(Ae*-mt+lt*fe-ke*-qe),Se=mt*(Ae*-mt+lt*fe-ke*-qe)+(qe*(-(ke*-mt)-Ae*-qe-lt*-He)+fe*(ke*-He+Ae*fe-lt*-mt))-He*(lt*-qe+ke*fe-Ae*-He),fe=qe*(lt*-qe+ke*fe-Ae*-He)+(He*(-(ke*-mt)-Ae*-qe-lt*-He)+fe*(Ae*-mt+lt*fe-ke*-qe))-mt*(ke*-He+Ae*fe-lt*-mt),F=F!=0?1/F:0,ge=fe*0+(F*we+Se*0),L=L!=0?1/L:0,be=fe*0+(we*0+L*Se),N=N!=0?1/N:0,Ce=N*fe+(we*0+Se*0),B=F+(Se*0+(F*0+fe*-0))*Ze,k=L+(we*-0+(L*0+fe*0))*Ze,ut=N+(N*0+(Se*-0+we*0))*Ze,D=k*ut-((Se*-0+L*we+0-ge)*Ze+0)*((fe*0+0-N*we+ge)*Ze+0),Ke=((Se*-0+L*we+0-ge)*Ze+0)*((N*Se+(fe*-0+0)-be)*Ze+0)-ut*((Se*0+(0-L*fe)+Ce)*Ze+0),E=((Se*0+(0-L*fe)+Ce)*Ze+0)*((fe*0+0-N*we+ge)*Ze+0)-k*((N*Se+(fe*-0+0)-be)*Ze+0),ot=((we*0-F*Se+0+be)*Ze+0)*E+(B*D+((we*-0+(F*fe+0)-Ce)*Ze+0)*Ke),xe=+ht(+ot)>11920928955078125e-23,ot=xe?1/ot:ot,Ke=we-((we*be-Se*ge)*Ze*E+((Se*Ce-fe*be)*Ze*D+(fe*ge-we*Ce)*Ze*Ke))*ot,ut=Se-(((we*0-F*Se+0+be)*Ze+0)*(((fe*0+0-N*we+ge)*Ze+0)*((Se*Ce-fe*be)*Ze)-((N*Se+(fe*-0+0)-be)*Ze+0)*((fe*ge-we*Ce)*Ze))+(B*(ut*((fe*ge-we*Ce)*Ze)-((fe*0+0-N*we+ge)*Ze+0)*((we*be-Se*ge)*Ze))+((we*-0+(F*fe+0)-Ce)*Ze+0)*(((N*Se+(fe*-0+0)-be)*Ze+0)*((we*be-Se*ge)*Ze)-ut*((Se*Ce-fe*be)*Ze))))*ot,ot=fe-(((we*0-F*Se+0+be)*Ze+0)*(((Se*0+(0-L*fe)+Ce)*Ze+0)*((fe*ge-we*Ce)*Ze)-k*((Se*Ce-fe*be)*Ze))+(B*(k*((we*be-Se*ge)*Ze)-((Se*-0+L*we+0-ge)*Ze+0)*((fe*ge-we*Ce)*Ze))+((we*-0+(F*fe+0)-Ce)*Ze+0)*(((Se*-0+L*we+0-ge)*Ze+0)*((Se*Ce-fe*be)*Ze)-((Se*0+(0-L*fe)+Ce)*Ze+0)*((we*be-Se*ge)*Ze))))*ot,Ze=+i[de+248+12>>2],i[g+(d*244|0)+224>>2]=(He*Ke+Ze*ut-mt*ot)*-He+(Ze*(Ze*Ke+qe*ot-He*ut)+(-(mt*Ke)-qe*ut-He*ot)*-mt)-(Ze*ot+mt*ut-qe*Ke)*-qe-ke+ +i[g+(d*244|0)+224>>2],i[g+(d*244|0)+228>>2]=(Ze*ot+mt*ut-qe*Ke)*-mt+(Ze*(He*Ke+Ze*ut-mt*ot)+(-(mt*Ke)-qe*ut-He*ot)*-qe)-(Ze*Ke+qe*ot-He*ut)*-He-Ae+ +i[g+(d*244|0)+228>>2],i[g+(d*244|0)+232>>2]=(Ze*Ke+qe*ot-He*ut)*-qe+((-(mt*Ke)-qe*ut-He*ot)*-He+Ze*(Ze*ot+mt*ut-qe*Ke))-(He*Ke+Ze*ut-mt*ot)*-mt-lt+ +i[g+(d*244|0)+232>>2])),C=C+1|0;while((C|0)!=(s|0))}if((u|0)>0){h=0;do xe=e[l+(h<<2)>>2]|0,Vt[e[(e[xe>>2]|0)+8>>2]&255](xe),i[xe+36>>2]=0,h=h+1|0;while((h|0)<(u|0))}if(d=e[t+168>>2]|0,(d|0)<(u|0)&&(e[t+172>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,h=Xe((u<<3|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,d=e[t+168>>2]|0):h=0,(d|0)>0){m=0;do oe=(e[t+176>>2]|0)+(m<<3)|0,ae=e[oe+4>>2]|0,xe=h+(m<<3)|0,e[xe>>2]=e[oe>>2],e[xe+4>>2]=ae,m=m+1|0;while((m|0)!=(d|0))}d=e[t+176>>2]|0,d|0&&(A[t+180>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[d+-4>>2]|0)),e[t+176>>2]=0),A[t+180>>0]=1,e[t+176>>2]=h,e[t+172>>2]=u}if(e[t+168>>2]=u,(u|0)>0){s=0,h=0;do{if(C=e[t+176>>2]|0,n=C+(s<<3)|0,g=l+(s<<2)|0,d=e[g>>2]|0,m=e[d+44>>2]|0,m){d=m+64|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(d|0));d=e[g>>2]|0}A[d+20>>0]|0?(zt[e[(e[d>>2]|0)+16>>2]&127](d,n),d=e[n>>2]|0):(e[n>>2]=0,e[C+(s<<3)+4>>2]=0,d=0),h=d+h|0,s=s+1|0}while((s|0)<(u|0))}else h=0;if(m=e[t+48>>2]|0,(m|0)<(h|0)&&(e[t+52>>2]|0)<(h|0)){if(h?(e[5637]=(e[5637]|0)+1,d=Xe((h*152|3)+16|0)|0,d?(e[(d+4+15&-16)+-4>>2]=d,d=d+4+15&-16):d=0,m=e[t+48>>2]|0):d=0,(m|0)>0){g=0;do Rr(d+(g*152|0)|0,(e[t+56>>2]|0)+(g*152|0)|0,152)|0,g=g+1|0;while((g|0)!=(m|0))}m=e[t+56>>2]|0,m|0&&(A[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[m+-4>>2]|0)),e[t+56>>2]=0),A[t+60>>0]=1,e[t+56>>2]=d,e[t+52>>2]=h}if(e[t+48>>2]=h,(u|0)>0)for(h=e[t+176>>2]|0,ae=0,xe=0;;){if(oe=h+(xe<<3)|0,!(e[oe>>2]|0))d=0;else{if(h=e[t+56>>2]|0,ne=h+(ae*152|0)|0,W=l+(xe<<2)|0,te=e[W>>2]|0,pe=e[te+28>>2]|0,_e=e[te+32>>2]|0,he=p1(t,pe,+i[_+12>>2])|0,me=p1(t,_e,+i[_+12>>2])|0,re=e[t+16>>2]|0,d=e[te+24>>2]|0,d=(d|0)>0?d:e[_+20>>2]|0,(d|0)>(e[t+184>>2]|0)&&(e[t+184>>2]=d),(e[oe>>2]|0)>0){m=0;do ln(ne+(m*152|0)|0,0,152)|0,i[ne+(m*152|0)+120>>2]=-34028234663852886e22,i[ne+(m*152|0)+124>>2]=34028234663852886e22,i[ne+(m*152|0)+100>>2]=0,i[ne+(m*152|0)+96>>2]=0,e[ne+(m*152|0)+144>>2]=he,e[ne+(m*152|0)+148>>2]=me,e[ne+(m*152|0)+136>>2]=d,m=m+1|0;while((m|0)<(e[oe>>2]|0))}if(e[re+(he*244|0)+64>>2]=0,e[re+(he*244|0)+64+4>>2]=0,e[re+(he*244|0)+64+8>>2]=0,e[re+(he*244|0)+64+12>>2]=0,e[re+(he*244|0)+64+16>>2]=0,e[re+(he*244|0)+64+20>>2]=0,e[re+(he*244|0)+64+24>>2]=0,e[re+(he*244|0)+64+28>>2]=0,e[re+(he*244|0)+144>>2]=0,e[re+(he*244|0)+144+4>>2]=0,e[re+(he*244|0)+144+8>>2]=0,e[re+(he*244|0)+144+12>>2]=0,e[re+(he*244|0)+144+16>>2]=0,e[re+(he*244|0)+144+20>>2]=0,e[re+(he*244|0)+144+24>>2]=0,e[re+(he*244|0)+144+28>>2]=0,e[re+(me*244|0)+64>>2]=0,e[re+(me*244|0)+64+4>>2]=0,e[re+(me*244|0)+64+8>>2]=0,e[re+(me*244|0)+64+12>>2]=0,e[re+(me*244|0)+64+16>>2]=0,e[re+(me*244|0)+64+20>>2]=0,e[re+(me*244|0)+64+24>>2]=0,e[re+(me*244|0)+64+28>>2]=0,e[re+(me*244|0)+144>>2]=0,e[re+(me*244|0)+144+4>>2]=0,e[re+(me*244|0)+144+8>>2]=0,e[re+(me*244|0)+144+12>>2]=0,e[re+(me*244|0)+144+16>>2]=0,e[re+(me*244|0)+144+20>>2]=0,e[re+(me*244|0)+144+24>>2]=0,e[re+(me*244|0)+144+28>>2]=0,i[de+248>>2]=1/+i[_+12>>2],e[de+248+4>>2]=e[_+32>>2],e[de+248+8>>2]=h+(ae*152|0)+16,e[de+248+12>>2]=ne,e[de+248+16>>2]=h+(ae*152|0)+48,e[de+248+20>>2]=h+(ae*152|0)+32,e[de+248+24>>2]=38,e[de+248+28>>2]=h+(ae*152|0)+112,X=h+(ae*152|0)+116|0,e[X>>2]=e[_+40>>2],e[de+248+52>>2]=e[_+4>>2],e[de+248+32>>2]=X,e[de+248+36>>2]=h+(ae*152|0)+120,e[de+248+40>>2]=h+(ae*152|0)+124,e[de+248+48>>2]=e[_+20>>2],X=e[W>>2]|0,zt[e[(e[X>>2]|0)+20>>2]&127](X,de+248|0),(e[oe>>2]|0)>0){X=0;do h=ne+(X*152|0)+124|0,S=+i[(e[W>>2]|0)+16>>2],+i[h>>2]>=S&&(i[h>>2]=S),h=ne+(X*152|0)+120|0,+i[h>>2]<=-S&&(i[h>>2]=-S),e[ne+(X*152|0)+132>>2]=te,q=ne+(X*152|0)|0,h=ne+(X*152|0)+64|0,d=e[te+28>>2]|0,mt=+i[q>>2],ut=+i[q+4>>2],L=+i[q+8>>2],ot=(mt*+i[d+304>>2]+ut*+i[d+308>>2]+L*+i[d+312>>2])*+i[d+572>>2],S=(mt*+i[d+320>>2]+ut*+i[d+324>>2]+L*+i[d+328>>2])*+i[d+576>>2],i[h>>2]=(+i[d+288>>2]*mt+ +i[d+292>>2]*ut+ +i[d+296>>2]*L)*+i[d+568>>2],i[h+4>>2]=ot,i[h+8>>2]=S,i[h+12>>2]=0,h=ne+(X*152|0)+32|0,d=ne+(X*152|0)+80|0,$=e[te+32>>2]|0,S=+i[h>>2],ot=+i[h+4>>2],L=+i[h+8>>2],ut=(S*+i[$+304>>2]+ot*+i[$+308>>2]+L*+i[$+312>>2])*+i[$+572>>2],mt=(S*+i[$+320>>2]+ot*+i[$+324>>2]+L*+i[$+328>>2])*+i[$+576>>2],i[d>>2]=(+i[$+288>>2]*S+ +i[$+292>>2]*ot+ +i[$+296>>2]*L)*+i[$+568>>2],i[d+4>>2]=ut,i[d+8>>2]=mt,i[d+12>>2]=0,d=ne+(X*152|0)+16|0,mt=+i[pe+368>>2],ut=+i[d>>2],ot=+i[d+4>>2],S=+i[d+8>>2],w=+i[q>>2],M=+i[q+4>>2],E=+i[q+8>>2],q=ne+(X*152|0)+48|0,lt=+i[_e+368>>2],D=+i[q>>2],N=+i[q+4>>2],B=+i[q+8>>2],k=+i[h>>2],F=+i[h+4>>2],L=ut*(mt*ut)+ot*(mt*ot)+S*(mt*S)+(w*(+i[pe+288>>2]*w+ +i[pe+292>>2]*M+ +i[pe+296>>2]*E)+M*(w*+i[pe+304>>2]+M*+i[pe+308>>2]+E*+i[pe+312>>2])+E*(w*+i[pe+320>>2]+M*+i[pe+324>>2]+E*+i[pe+328>>2]))+(D*(lt*D)+N*(lt*N)+B*(lt*B))+(k*(+i[_e+288>>2]*k+ +i[_e+292>>2]*F+ +i[_e+296>>2]*L)+F*(k*+i[_e+304>>2]+F*+i[_e+308>>2]+L*+i[_e+312>>2])+L*(k*+i[_e+320>>2]+F*+i[_e+324>>2]+L*+i[_e+328>>2])),q=+ht(+L)>11920928955078125e-23,L=q?1/L:0,i[ne+(X*152|0)+108>>2]=L,e[re+(he*244|0)+240>>2]|0?(m=e[re+(he*244|0)+208>>2]|0,g=e[re+(he*244|0)+212>>2]|0,C=e[re+(he*244|0)+216>>2]|0,V=e[re+(he*244|0)+224>>2]|0,O=e[re+(he*244|0)+228>>2]|0,z=e[re+(he*244|0)+232>>2]|0):(m=0,g=0,C=0,V=0,O=0,z=0),e[re+(me*244|0)+240>>2]|0?(n=e[re+(me*244|0)+208>>2]|0,s=e[re+(me*244|0)+212>>2]|0,U=e[re+(me*244|0)+216>>2]|0,Y=e[re+(me*244|0)+224>>2]|0,$=e[re+(me*244|0)+228>>2]|0,q=e[re+(me*244|0)+232>>2]|0):(n=0,s=0,U=0,Y=0,$=0,q=0),mt=(e[Z>>2]=m,+i[Z>>2]+ +i[pe+336>>2]),ot=(e[Z>>2]=g,+i[Z>>2]+ +i[pe+340>>2]),ot=mt*+i[d>>2]+ot*+i[d+4>>2]+(e[Z>>2]=C,(+i[Z>>2]+ +i[pe+344>>2])*S),mt=(e[Z>>2]=V,+i[Z>>2]+ +i[pe+352>>2]),ut=(e[Z>>2]=O,+i[Z>>2]+ +i[pe+356>>2]),ut=ot+(mt*w+ut*M+(e[Z>>2]=z,(+i[Z>>2]+ +i[pe+360>>2])*E)),mt=(e[Z>>2]=n,+i[Z>>2]+ +i[_e+336>>2]),ot=(e[Z>>2]=s,+i[Z>>2]+ +i[_e+340>>2]),ot=mt*D+ot*N+(e[Z>>2]=U,(+i[Z>>2]+ +i[_e+344>>2])*B),mt=(e[Z>>2]=Y,+i[Z>>2]+ +i[_e+352>>2]),lt=(e[Z>>2]=$,+i[Z>>2]+ +i[_e+356>>2]),$=ne+(X*152|0)+112|0,i[$>>2]=+i[$>>2]*L+L*(0-+i[de+248+52>>2]*(ut+(ot+(mt*k+lt*F+(e[Z>>2]=q,(+i[Z>>2]+ +i[_e+360>>2])*+i[h+8>>2]))))),i[ne+(X*152|0)+100>>2]=0,X=X+1|0;while((X|0)<(e[oe>>2]|0))}h=e[t+176>>2]|0,d=e[h+(xe<<3)>>2]|0}if(xe=xe+1|0,(xe|0)>=(u|0))break;ae=d+ae|0}if(Kt[e[(e[t>>2]|0)+28>>2]&127](t,o,a,_),C=e[t+48>>2]|0,n=e[t+28>>2]|0,s=e[t+68>>2]|0,d=e[t+128>>2]|0,(d|0)<(C|0)&&(e[t+132>>2]|0)<(C|0)){if(C?(e[5637]=(e[5637]|0)+1,h=Xe((C<<2|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,d=e[t+128>>2]|0):h=0,g=e[t+136>>2]|0,(d|0)<=0)g?ve=103:d=t+140|0;else{m=0;do e[h+(m<<2)>>2]=e[g+(m<<2)>>2],m=m+1|0;while((m|0)!=(d|0));ve=103}(ve|0)==103&&(A[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[g+-4>>2]|0)),e[t+136>>2]=0,d=t+140|0),A[d>>0]=1,e[t+136>>2]=h,e[t+132>>2]=C}if(e[t+128>>2]=C,e[_+64>>2]&16){if(d=e[t+108>>2]|0,(d|0)<(n<<1|0)&&(e[t+112>>2]|0)<(n<<1|0)){if(n?(e[5637]=(e[5637]|0)+1,h=Xe((n<<3|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,d=e[t+108>>2]|0):h=0,g=e[t+116>>2]|0,(d|0)<=0)g?ve=118:d=t+120|0;else{m=0;do e[h+(m<<2)>>2]=e[g+(m<<2)>>2],m=m+1|0;while((m|0)!=(d|0));ve=118}(ve|0)==118&&(A[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[g+-4>>2]|0)),e[t+116>>2]=0,d=t+120|0),A[d>>0]=1,e[t+116>>2]=h,e[t+112>>2]=n<<1}e[t+108>>2]=n<<1}else{if(d=e[t+108>>2]|0,(d|0)<(n|0)&&(e[t+112>>2]|0)<(n|0)){if(n?(e[5637]=(e[5637]|0)+1,h=Xe((n<<2|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,d=e[t+108>>2]|0):h=0,g=e[t+116>>2]|0,(d|0)<=0)g?ve=133:d=t+120|0;else{m=0;do e[h+(m<<2)>>2]=e[g+(m<<2)>>2],m=m+1|0;while((m|0)!=(d|0));ve=133}(ve|0)==133&&(A[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[g+-4>>2]|0)),e[t+116>>2]=0,d=t+120|0),A[d>>0]=1,e[t+116>>2]=h,e[t+112>>2]=n}e[t+108>>2]=n}if(d=e[t+148>>2]|0,(d|0)<(s|0)&&(e[t+152>>2]|0)<(s|0)){if(s?(e[5637]=(e[5637]|0)+1,h=Xe((s<<2|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,d=e[t+148>>2]|0):h=0,g=e[t+156>>2]|0,(d|0)<=0)g?ve=148:d=t+160|0;else{m=0;do e[h+(m<<2)>>2]=e[g+(m<<2)>>2],m=m+1|0;while((m|0)!=(d|0));ve=148}(ve|0)==148&&(A[t+160>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[g+-4>>2]|0)),e[t+156>>2]=0,d=t+160|0),A[d>>0]=1,e[t+156>>2]=h,e[t+152>>2]=s}if(e[t+148>>2]=s,(C|0)>0){h=e[t+136>>2]|0,d=0;do e[h+(d<<2)>>2]=d,d=d+1|0;while((d|0)!=(C|0))}if((n|0)>0){h=e[t+116>>2]|0,d=0;do e[h+(d<<2)>>2]=d,d=d+1|0;while((d|0)!=(n|0))}if((s|0)>0){h=e[t+156>>2]|0,d=0;do e[h+(d<<2)>>2]=d,d=d+1|0;while((d|0)!=(s|0))}if(h=e[2006]|0,t=(e[h+16>>2]|0)+-1|0,e[h+16>>2]=t,t|0)return H=de,0;do if(e[h+4>>2]|0){if(Tn(de+248|0,0)|0,t=e[5649]|0,i[h+8>>2]=+i[h+8>>2]+ +(((e[de+248+4>>2]|0)-(e[t+4>>2]|0)+(((e[de+248>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[h+12>>2]|0)|0)>>>0)/1e3,e[h+16>>2]|0)return H=de,0;h=e[2006]|0;break}while(!1);return e[2006]=e[h+20>>2],H=de,0}function U$(t,n,s,o,a,l,u,_,h){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0;var d=0,m=0,g=0;if(g=H,H=H+16|0,$n(15561),Ym[e[(e[t>>2]|0)+32>>2]&1](t,n,s,o,a,l,u,_,h),m=e[t+184>>2]|0,d=e[_+20>>2]|0,d=(m|0)>(d|0)?m:d,(d|0)>0){m=0;do+vu[e[(e[t>>2]|0)+40>>2]&3](t,m,n,s,o,a,l,u,_,h),m=m+1|0;while((m|0)<(d|0))}if(d=e[2006]|0,t=(e[d+16>>2]|0)+-1|0,e[d+16>>2]=t,t|0)return H=g,0;do if(e[d+4>>2]|0){if(Tn(g|0,0)|0,t=e[5649]|0,i[d+8>>2]=+i[d+8>>2]+ +(((e[g+4>>2]|0)-(e[t+4>>2]|0)+(((e[g>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[d+12>>2]|0)|0)>>>0)/1e3,e[d+16>>2]|0)return H=g,0;d=e[2006]|0;break}while(!1);return e[2006]=e[d+20>>2],H=g,0}function O$(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function G$(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0;if(A[t+48>>0]|0){e[n>>2]=0,e[n+4>>2]=0;return}e[n>>2]=4,e[n+4>>2]=2,hh(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0),i[t+1088>>2]=0,A[t+297>>0]=0,o=+i[t+192>>2],a=+i[t+196>>2];do if(o<=a){if(h=+i[t+892>>2],_=+i[t+908>>2],l=+i[t+924>>2],l=+np(+gn(+(+i[t+832>>2]*h+ +i[t+848>>2]*_+ +i[t+864>>2]*l),+(+i[t+828>>2]*h+ +i[t+844>>2]*_+ +i[t+860>>2]*l)),o,a),i[t+1084>>2]=l,l<o){i[t+1088>>2]=l-o,A[t+297>>0]=1,u=1;break}l>a?(i[t+1088>>2]=l-a,A[t+297>>0]=1,u=1):u=0}else u=0;while(!1);A[t+296>>0]=0,s=e[t+1032>>2]|0,e[t+1080>>2]=s,o=+i[t+184>>2],a=+i[t+188>>2],l=(e[Z>>2]=s,+i[Z>>2]);do if(o<=a){if(l>a){i[t+1032>>2]=l-a,A[t+296>>0]=1,s=14;break}l<o?(i[t+1032>>2]=l-o,A[t+296>>0]=1,s=14):s=13}else s=13;while(!1);(s|0)==13&&(i[t+1032>>2]=0,A[t+1096>>0]|0)&&(s=14),(s|0)==14&&(e[n>>2]=(e[n>>2]|0)+1,e[n+4>>2]=(e[n+4>>2]|0)+-1),!(u<<24>>24==0&&(A[t+1112>>0]|0)==0)&&(e[n>>2]=(e[n>>2]|0)+1,e[n+4>>2]=(e[n+4>>2]|0)+-1)}function hh(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0;if((A[t+180>>0]|0)==0&&(A[t+48>>0]|0)!=0?(N=+i[t+116>>2],l=+i[s>>2],B=+i[t+132>>2],V=+i[s+4>>2],k=+i[t+148>>2],O=+i[s+8>>2],_=+i[t+120>>2],d=+i[t+136>>2],g=+i[t+152>>2],S=+i[t+124>>2],w=+i[t+140>>2],M=+i[t+156>>2],u=+i[s+16>>2],h=+i[s+20>>2],m=+i[s+24>>2],C=+i[s+32>>2],F=+i[s+36>>2],L=+i[s+40>>2],a=+i[t+164>>2],o=+i[t+168>>2],D=+i[t+172>>2],E=+i[s+48>>2]+(l*a+V*o+O*D),U=u*a+h*o+m*D+ +i[s+52>>2],D=C*a+F*o+L*D+ +i[s+56>>2],i[t+824>>2]=N*l+B*V+k*O,i[t+828>>2]=l*_+V*d+O*g,i[t+832>>2]=l*S+V*w+O*M,i[t+836>>2]=0,i[t+840>>2]=N*u+B*h+k*m,i[t+844>>2]=_*u+d*h+g*m,i[t+848>>2]=S*u+w*h+M*m,i[t+852>>2]=0,i[t+856>>2]=N*C+B*F+k*L,i[t+860>>2]=_*C+d*F+g*L,i[t+864>>2]=S*C+w*F+M*L,i[t+868>>2]=0,i[t+872>>2]=E,i[t+876>>2]=U,i[t+880>>2]=D,i[t+884>>2]=0,D=+i[t+52>>2],U=+i[n>>2],E=+i[t+68>>2],L=+i[n+4>>2],M=+i[t+84>>2],F=+i[n+8>>2],w=+i[t+56>>2],C=+i[t+72>>2],S=+i[t+88>>2],g=+i[t+60>>2],d=+i[t+76>>2],_=+i[t+92>>2],k=+i[n+16>>2],B=+i[n+20>>2],N=+i[n+24>>2],m=+i[n+32>>2],h=+i[n+36>>2],u=+i[n+40>>2],O=+i[t+100>>2],V=+i[t+104>>2],l=+i[t+108>>2],o=+i[n+48>>2]+(U*O+L*V+F*l),a=k*O+B*V+N*l+ +i[n+52>>2],l=m*O+h*V+u*l+ +i[n+56>>2],i[t+888>>2]=D*U+E*L+M*F,i[t+892>>2]=U*w+L*C+F*S,i[t+896>>2]=U*g+L*d+F*_,i[t+900>>2]=0,i[t+904>>2]=D*k+E*B+M*N,i[t+908>>2]=w*k+C*B+S*N,i[t+912>>2]=g*k+d*B+_*N,i[t+916>>2]=0,i[t+920>>2]=D*m+E*h+M*u,i[t+924>>2]=w*m+C*h+S*u,i[t+928>>2]=g*m+d*h+_*u,i[t+932>>2]=0,i[t+936>>2]=o,i[t+940>>2]=a,i[t+944>>2]=l,i[t+948>>2]=0,n=t+856|0,s=t+840|0):(m=+i[t+52>>2],O=+i[n>>2],d=+i[t+68>>2],a=+i[n+4>>2],h=+i[t+84>>2],o=+i[n+8>>2],F=+i[t+56>>2],B=+i[t+72>>2],D=+i[t+88>>2],E=+i[t+60>>2],w=+i[t+76>>2],C=+i[t+92>>2],L=+i[n+16>>2],k=+i[n+20>>2],N=+i[n+24>>2],M=+i[n+32>>2],_=+i[n+36>>2],u=+i[n+40>>2],V=+i[t+100>>2],U=+i[t+104>>2],g=+i[t+108>>2],S=+i[n+48>>2]+(O*V+a*U+o*g),l=L*V+k*U+N*g+ +i[n+52>>2],g=M*V+_*U+u*g+ +i[n+56>>2],i[t+824>>2]=m*O+d*a+h*o,i[t+828>>2]=O*F+a*B+o*D,i[t+832>>2]=O*E+a*w+o*C,i[t+836>>2]=0,i[t+840>>2]=m*L+d*k+h*N,i[t+844>>2]=F*L+B*k+D*N,i[t+848>>2]=E*L+w*k+C*N,i[t+852>>2]=0,i[t+856>>2]=m*M+d*_+h*u,i[t+860>>2]=F*M+B*_+D*u,i[t+864>>2]=E*M+w*_+C*u,i[t+868>>2]=0,i[t+872>>2]=S,i[t+876>>2]=l,i[t+880>>2]=g,i[t+884>>2]=0,g=+i[t+116>>2],l=+i[s>>2],S=+i[t+132>>2],u=+i[s+4>>2],C=+i[t+148>>2],_=+i[s+8>>2],w=+i[t+120>>2],M=+i[t+136>>2],E=+i[t+152>>2],D=+i[t+124>>2],B=+i[t+140>>2],F=+i[t+156>>2],h=+i[s+16>>2],d=+i[s+20>>2],m=+i[s+24>>2],N=+i[s+32>>2],k=+i[s+36>>2],L=+i[s+40>>2],o=+i[t+164>>2],a=+i[t+168>>2],O=+i[t+172>>2],U=+i[s+48>>2]+(l*o+u*a+_*O),V=h*o+d*a+m*O+ +i[s+52>>2],O=N*o+k*a+L*O+ +i[s+56>>2],i[t+888>>2]=g*l+S*u+C*_,i[t+892>>2]=l*w+u*M+_*E,i[t+896>>2]=l*D+u*B+_*F,i[t+900>>2]=0,i[t+904>>2]=g*h+S*d+C*m,i[t+908>>2]=w*h+M*d+E*m,i[t+912>>2]=D*h+B*d+F*m,i[t+916>>2]=0,i[t+920>>2]=g*N+S*k+C*L,i[t+924>>2]=w*N+M*k+E*L,i[t+928>>2]=D*N+B*k+F*L,i[t+932>>2]=0,i[t+936>>2]=U,i[t+940>>2]=V,i[t+944>>2]=O,i[t+948>>2]=0,n=t+856|0,s=t+840|0),e[t+968>>2]=e[t+872>>2],e[t+968+4>>2]=e[t+872+4>>2],e[t+968+8>>2]=e[t+872+8>>2],e[t+968+12>>2]=e[t+872+12>>2],e[t+984>>2]=e[t+936>>2],e[t+984+4>>2]=e[t+936+4>>2],e[t+984+8>>2]=e[t+936+8>>2],e[t+984+12>>2]=e[t+936+12>>2],Y=e[t+824>>2]|0,z=e[s>>2]|0,s=e[n>>2]|0,e[t+952>>2]=Y,e[t+956>>2]=z,e[t+960>>2]=s,i[t+964>>2]=0,o=(e[Z>>2]=Y,+i[Z>>2]),a=(e[Z>>2]=z,+i[Z>>2]),l=(e[Z>>2]=s,+i[Z>>2]),(A[t+180>>0]|0)==0&&(A[t+48>>0]|0)==0){E=+i[t+968>>2],L=E-+i[t+984>>2],D=+i[t+972>>2],V=D-+i[t+988>>2],N=+i[t+976>>2],O=N-+i[t+992>>2],i[t+1016>>2]=L,i[t+1020>>2]=V,i[t+1024>>2]=O,i[t+1028>>2]=0,U=o*L,B=a*V,B=U+B,U=l*O,U=B+U,B=o*U,k=a*U,F=l*U,B=E+B,k=D+k,F=N+F,Y=t+1e3|0,i[Y>>2]=B,Y=t+1004|0,i[Y>>2]=k,Y=t+1008|0,i[Y>>2]=F,Y=t+1012|0,i[Y>>2]=0,Y=t+1032|0,i[Y>>2]=U,Y=t+828|0,z=t+844|0,s=t+860|0,U=+i[Y>>2],F=+i[z>>2],k=+i[s>>2],U=U*L,F=F*V,F=U+F,k=k*O,k=F+k,s=t+1036|0,i[s>>2]=k,s=t+832|0,z=t+848|0,Y=t+864|0,k=+i[s>>2],F=+i[z>>2],U=+i[Y>>2],L=k*L,V=F*V,V=L+V,O=U*O,O=V+O,Y=t+1040|0,i[Y>>2]=O;return}E=+i[t+968>>2],L=+i[t+984>>2]-E,D=+i[t+972>>2],V=+i[t+988>>2]-D,N=+i[t+976>>2],O=+i[t+992>>2]-N,i[t+1016>>2]=L,i[t+1020>>2]=V,i[t+1024>>2]=O,i[t+1028>>2]=0,U=o*L,B=a*V,B=U+B,U=l*O,U=B+U,B=o*U,k=a*U,F=l*U,B=E+B,k=D+k,F=N+F,Y=t+1e3|0,i[Y>>2]=B,Y=t+1004|0,i[Y>>2]=k,Y=t+1008|0,i[Y>>2]=F,Y=t+1012|0,i[Y>>2]=0,Y=t+1032|0,i[Y>>2]=U,Y=t+828|0,z=t+844|0,s=t+860|0,U=+i[Y>>2],F=+i[z>>2],k=+i[s>>2],U=U*L,F=F*V,F=U+F,k=k*O,k=F+k,s=t+1036|0,i[s>>2]=k,s=t+832|0,z=t+848|0,Y=t+864|0,k=+i[s>>2],F=+i[z>>2],U=+i[Y>>2],L=k*L,V=F*V,V=L+V,O=U*O,O=V+O,Y=t+1040|0,i[Y>>2]=O}function V$(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0;if(Ae=H,H=H+16|0,Se=e[t+28>>2]|0,ke=e[t+32>>2]|0,fe=+i[Se+368>>2],Ce=+i[ke+368>>2],de=e[n+24>>2]|0,ge=A[t+180>>0]|0?1:-1,ae=+i[t+936>>2]-+i[t+872>>2],xe=+i[t+940>>2]-+i[t+876>>2],ve=+i[t+944>>2]-+i[t+880>>2],we=fe+Ce>0?Ce/(fe+Ce):.5,Y=e[t+824>>2]|0,q=e[t+840>>2]|0,X=e[t+856>>2]|0,ne=e[t+888>>2]|0,W=e[t+904>>2]|0,te=e[t+920>>2]|0,pe=(A[t+49>>0]|0)==0,pe?(N=e[t+828>>2]|0,l=e[t+844>>2]|0,C=e[t+860>>2]|0,e[Ae+4>>2]=l,D=e[t+832>>2]|0,U=e[t+848>>2]|0,be=e[t+864>>2]|0,e[Ae>>2]=D,E=(e[Z>>2]=C,+i[Z>>2]),M=(e[Z>>2]=D,+i[Z>>2]),m=(e[Z>>2]=U,+i[Z>>2]),V=be,w=(e[Z>>2]=be,+i[Z>>2]),be=Y,B=q,k=X):(s=we*(e[Z>>2]=Y,+i[Z>>2]),_=we*(e[Z>>2]=q,+i[Z>>2]),u=we*(e[Z>>2]=X,+i[Z>>2]),a=(1-we)*(e[Z>>2]=ne,+i[Z>>2]),h=(1-we)*(e[Z>>2]=W,+i[Z>>2]),u=u+(1-we)*(e[Z>>2]=te,+i[Z>>2]),d=1/+at(+((s+a)*(s+a)+(_+h)*(_+h)+u*u)),N=(i[Z>>2]=(s+a)*d,e[Z>>2]|0),B=(i[Z>>2]=(_+h)*d,e[Z>>2]|0),k=(i[Z>>2]=u*d,e[Z>>2]|0),+ht(+(u*d))>.7071067690849304?($=1/+at(+(u*d*(u*d)+(_+h)*d*((_+h)*d))),i[Ae+4>>2]=-(u*d*$),m=-((s+a)*d*((_+h)*d*$)),g=(s+a)*d*-(u*d*$),a=(u*d*(u*d)+(_+h)*d*((_+h)*d))*$,s=(_+h)*d*$,o=0):(g=(s+a)*d*((s+a)*d)+(_+h)*d*((_+h)*d),$=1/+at(+g),o=(i[Z>>2]=-((_+h)*d*$),e[Z>>2]|0),i[Ae+4>>2]=(s+a)*d*$,m=u*d*-((_+h)*d*$),g=g*$,a=-(u*d*((s+a)*d*$)),s=0),C=(i[Z>>2]=s,e[Z>>2]|0),D=(i[Z>>2]=a,e[Z>>2]|0),i[Ae>>2]=a,U=(i[Z>>2]=m,e[Z>>2]|0),l=e[Ae+4>>2]|0,V=(i[Z>>2]=g,e[Z>>2]|0),E=s,M=a,w=g,be=N,N=o),o=e[n+12>>2]|0,e[o>>2]=N,e[o+4>>2]=l,e[o+8>>2]=C,e[o+(de<<2)>>2]=D,e[o+(de+1<<2)>>2]=U,e[o+(de+2<<2)>>2]=V,g=(e[Z>>2]=N,+i[Z>>2]),o=e[n+20>>2]|0,i[o>>2]=-g,S=+i[Ae+4>>2],i[o+4>>2]=-S,i[o+8>>2]=-E,i[o+(de<<2)>>2]=-M,i[o+(de+1<<2)>>2]=-m,i[o+(de+2<<2)>>2]=-w,o=e[t+300>>2]|0,s=+i[t+280>>2],o&128||(s=s*+i[n+4>>2]),h=s*+i[n>>2],z=(e[Z>>2]=q,+i[Z>>2]),F=(e[Z>>2]=te,+i[Z>>2]),d=(e[Z>>2]=X,+i[Z>>2]),O=(e[Z>>2]=W,+i[Z>>2]),$=(e[Z>>2]=ne,+i[Z>>2]),L=(e[Z>>2]=Y,+i[Z>>2]),oe=e[n+28>>2]|0,i[oe>>2]=h*((z*F-d*O)*g+(d*$-L*F)*S+(L*O-z*$)*E),i[oe+(de<<2)>>2]=h*((z*F-d*O)*M+(d*$-L*F)*m+(L*O-z*$)*w),o&64|0&&(oe=e[n+32>>2]|0,e[oe>>2]=e[t+292>>2],e[oe+(de<<2)>>2]=e[t+292>>2]),_=+i[Se+52>>2],h=+i[Se+56>>2],d=+i[Se+60>>2],s=+i[ke+52>>2],a=+i[ke+56>>2],u=+i[ke+60>>2],pe?(he=(i[Z>>2]=a-h,e[Z>>2]|0),z=(a-h)*E-(u-d)*S,$=(u-d)*g-(s-_)*E,pe=e[n+12>>2]|0,i[pe+(de<<1<<2)>>2]=we*z,i[pe+((de<<1|1)<<2)>>2]=we*$,i[pe+((de<<1)+2<<2)>>2]=we*((s-_)*S-(a-h)*g),pe=(i[Z>>2]=s-_,e[Z>>2]|0),_e=(i[Z>>2]=u-d,e[Z>>2]|0),me=e[n+20>>2]|0,i[me+(de<<1<<2)>>2]=(1-we)*z,i[me+((de<<1|1)<<2)>>2]=(1-we)*$,i[me+((de<<1)+2<<2)>>2]=(1-we)*((s-_)*S-(a-h)*g),$=(a-h)*w-(u-d)*m,u=(u-d)*M-(s-_)*w,d=(s-_)*m-(a-h)*M,me=e[n+12>>2]|0,i[me+(de*3<<2)>>2]=we*$,i[me+((de*3|0)+1<<2)>>2]=we*u,i[me+((de*3|0)+2<<2)>>2]=we*d,me=e[n+20>>2]|0,i[me+(de*3<<2)>>2]=(1-we)*$,i[me+((de*3|0)+1<<2)>>2]=(1-we)*u,i[me+((de*3|0)+2<<2)>>2]=(1-we)*d,q=e[n+8>>2]|0,e[q+(de<<1<<2)>>2]=N,i[q+((de<<1|1)<<2)>>2]=S,i[q+((de<<1)+2<<2)>>2]=E,q=e[n+8>>2]|0,W=e[Ae>>2]|0,e[q+(de*3<<2)>>2]=W,e[q+((de*3|0)+1<<2)>>2]=U,e[q+((de*3|0)+2<<2)>>2]=V,te=e[n+16>>2]|0,i[te+(de<<1<<2)>>2]=-g,d=+i[Ae+4>>2],i[te+((de<<1|1)<<2)>>2]=-d,i[te+((de<<1)+2<<2)>>2]=-E,te=e[n+16>>2]|0,_=(e[Z>>2]=W,+i[Z>>2]),i[te+(de*3<<2)>>2]=-_,u=(e[Z>>2]=U,+i[Z>>2]),i[te+((de*3|0)+1<<2)>>2]=-u,a=(e[Z>>2]=V,+i[Z>>2]),i[te+((de*3|0)+2<<2)>>2]=-a,h=E,W=0,ne=0,X=0,C=0,l=0,o=0):(He=+i[t+936>>2]-s,qe=+i[t+940>>2]-a,O=+i[t+944>>2]-u,g=(e[Z>>2]=be,+i[Z>>2]),S=(e[Z>>2]=B,+i[Z>>2]),m=(e[Z>>2]=k,+i[Z>>2]),z=+i[t+872>>2]-_,$=+i[t+876>>2]-h,u=+i[t+880>>2]-d,h=+i[t+1080>>2]-+i[t+1032>>2],w=g*(g*z+S*$+m*u)+g*h-g*(g*He+S*qe+m*O),M=S*(g*z+S*$+m*u)+S*h-S*(g*He+S*qe+m*O),h=m*(g*z+S*$+m*u)+m*h-m*(g*He+S*qe+m*O),F=z-g*(g*z+S*$+m*u)+we*w,E=$-S*(g*z+S*$+m*u)+we*M,L=u-m*(g*z+S*$+m*u)+we*h,W=(i[Z>>2]=F,e[Z>>2]|0),ne=(i[Z>>2]=E,e[Z>>2]|0),X=(i[Z>>2]=L,e[Z>>2]|0),w=He-g*(g*He+S*qe+m*O)-(1-we)*w,M=qe-S*(g*He+S*qe+m*O)-(1-we)*M,h=O-m*(g*He+S*qe+m*O)-(1-we)*h,C=(i[Z>>2]=w,e[Z>>2]|0),D=(i[Z>>2]=M,e[Z>>2]|0),N=(i[Z>>2]=h,e[Z>>2]|0),a=we*(He-g*(g*He+S*qe+m*O))+(1-we)*(z-g*(g*z+S*$+m*u)),s=we*(qe-S*(g*He+S*qe+m*O))+(1-we)*($-S*(g*z+S*$+m*u)),u=we*(O-m*(g*He+S*qe+m*O))+(1-we)*(u-m*(g*z+S*$+m*u)),i[Ae+4>>2]=s,u*u+(a*a+s*s)>11920928955078125e-23?(He=1/+at(+(u*u+(a*a+s*s))),l=(i[Z>>2]=a*He,e[Z>>2]|0),i[Ae+4>>2]=He*s,$=He*u,_=He*s,s=a*He,o=(i[Z>>2]=He*u,e[Z>>2]|0)):(l=e[t+828>>2]|0,oe=e[t+844>>2]|0,o=e[t+860>>2]|0,e[Ae+4>>2]=oe,$=(e[Z>>2]=o,+i[Z>>2]),_=(e[Z>>2]=oe,+i[Z>>2]),s=(e[Z>>2]=l,+i[Z>>2])),O=S*$-m*_,z=m*s-g*$,m=g*_-S*s,i[Ae>>2]=O,oe=(e[n+12>>2]|0)+(de<<1<<2)|0,i[oe>>2]=E*$-L*_,i[oe+4>>2]=L*s-F*$,i[oe+8>>2]=F*_-E*s,oe=e[n+20>>2]|0,i[oe+(de<<1<<2)>>2]=-(M*$-h*_),i[oe+((de<<1|1)<<2)>>2]=-(h*s-w*$),i[oe+((de<<1)+2<<2)>>2]=-(w*_-M*s),fe<11920928955078125e-23|Ce<11920928955078125e-23&&(A[t+297>>0]|0)!=0?(d=(1-we)*(M*m-h*z),h=(1-we)*(h*O-w*m),u=(1-we)*(w*z-M*O),_=we*(E*m-L*z),a=we*(F*z-E*O),s=we*(L*O-F*m)):(d=M*m-h*z,h=h*O-w*m,u=w*z-M*O,_=E*m-L*z,a=F*z-E*O,s=L*O-F*m),me=(e[n+12>>2]|0)+(de*3<<2)|0,i[me>>2]=_,i[me+4>>2]=s,i[me+8>>2]=a,me=e[n+20>>2]|0,i[me+(de*3<<2)>>2]=-d,i[me+((de*3|0)+1<<2)>>2]=-h,i[me+((de*3|0)+2<<2)>>2]=-u,q=e[n+8>>2]|0,e[q+(de<<1<<2)>>2]=l,e[q+((de<<1|1)<<2)>>2]=e[Ae+4>>2],e[q+((de<<1)+2<<2)>>2]=o,q=e[n+8>>2]|0,i[q+(de*3<<2)>>2]=O,i[q+((de*3|0)+1<<2)>>2]=z,i[q+((de*3|0)+2<<2)>>2]=m,te=e[n+16>>2]|0,g=(e[Z>>2]=l,+i[Z>>2]),i[te+(de<<1<<2)>>2]=-g,d=+i[Ae+4>>2],i[te+((de<<1|1)<<2)>>2]=-d,i[te+((de<<1)+2<<2)>>2]=-$,te=e[n+16>>2]|0,i[te+(de*3<<2)>>2]=-O,i[te+((de*3|0)+1<<2)>>2]=-z,i[te+((de*3|0)+2<<2)>>2]=-m,h=$,_=O,u=z,a=m,pe=0,_e=0,he=0,l=D,o=N),re=e[t+300>>2]|0,s=+i[t+264>>2],re&32||(s=s*+i[n+4>>2]),He=s*+i[n>>2],oe=e[n+28>>2]|0,i[oe+(de<<1<<2)>>2]=He*(ae*g+xe*d+ve*h),i[oe+(de*3<<2)>>2]=He*(ae*_+xe*u+ve*a),re&16|0&&(Y=e[n+32>>2]|0,e[Y+(de<<1<<2)>>2]=e[t+276>>2],e[Y+(de*3<<2)>>2]=e[t+276>>2]),Y=ee[t+296>>1]|0,(Y&255)<<24>>24?(w=ge*+i[t+1032>>2],V=w>0?2:1):(V=0,w=0),D=A[t+1096>>0]|0,N=(V|0)!=0,D&255|V){if(U=e[n+24>>2]<<2,e[q+(U<<2)>>2]=be,e[q+((U|1)<<2)>>2]=B,e[q+((U|2)<<2)>>2]=k,m=(e[Z>>2]=be,+i[Z>>2]),i[te+(U<<2)>>2]=-m,g=(e[Z>>2]=B,+i[Z>>2]),i[te+((U|1)<<2)>>2]=-g,S=(e[Z>>2]=k,+i[Z>>2]),i[te+((U|2)<<2)>>2]=-S,A[t+49>>0]|0?fe<11920928955078125e-23|Ce<11920928955078125e-23||(Ce=(e[Z>>2]=ne,+i[Z>>2]),ve=(e[Z>>2]=X,+i[Z>>2]),fe=(e[Z>>2]=W,+i[Z>>2]),He=(e[Z>>2]=l,+i[Z>>2]),we=(e[Z>>2]=o,+i[Z>>2]),qe=(e[Z>>2]=C,+i[Z>>2]),de=e[n+12>>2]|0,i[de+(U<<2)>>2]=S*Ce-g*ve,i[de+((U|1)<<2)>>2]=m*ve-S*fe,i[de+((U|2)<<2)>>2]=g*fe-m*Ce,i[me+(U<<2)>>2]=-(S*He-g*we),i[me+((U|1)<<2)>>2]=-(m*we-S*qe),i[me+((U|2)<<2)>>2]=-(g*qe-m*He)):(He=(e[Z>>2]=he,+i[Z>>2]),Ce=(e[Z>>2]=_e,+i[Z>>2]),qe=(e[Z>>2]=pe,+i[Z>>2]),de=e[n+12>>2]|0,i[de+(U<<2)>>2]=we*(S*He-g*Ce),i[de+((U|1)<<2)>>2]=we*(m*Ce-S*qe),i[de+((U|2)<<2)>>2]=we*(g*qe-m*He),i[me+(U<<2)>>2]=(1-we)*(S*He-g*Ce),i[me+((U|1)<<2)>>2]=(1-we)*(m*Ce-S*qe),i[me+((U|2)<<2)>>2]=(1-we)*(g*qe-m*He)),o=+i[t+184>>2]==+i[t+188>>2],i[oe+(U<<2)>>2]=0,l=(e[n+36>>2]|0)+(U<<2)|0,i[l>>2]=0,C=(e[n+40>>2]|0)+(U<<2)|0,i[C>>2]=0,d=+i[((re&512|0)==0?n+4|0:t+232|0)>>2],!(D<<24>>24==0|N&o)){re&1|0&&(e[(e[n+32>>2]|0)+(U<<2)>>2]=e[t+212>>2]),h=+i[t+1100>>2],s=+i[t+1080>>2],a=+i[t+184>>2],u=+i[t+188>>2],_=d*+i[n>>2];do if(a>u)s=1;else if(a!=u){if(h/_<0)if(s>=a&&a-h/_>s){s=(a-s)/(h/_);break}else{s=s<a?0:1;break}if(h/_>0)if(s<=u&&u-h/_<s){s=(u-s)/(h/_);break}else{s=s>u?0:1;break}else s=0}else s=0;while(!1);i[oe+(U<<2)>>2]=+i[oe+(U<<2)>>2]-ge*s*h,i[l>>2]=-+i[t+1104>>2]/+i[n>>2]+ +i[l>>2],i[C>>2]=+i[t+1104>>2]/+i[n>>2]+ +i[C>>2]}if(N){i[oe+(U<<2)>>2]=+i[oe+(U<<2)>>2]+w*(d*+i[n>>2]),re&256|0&&(e[(e[n+32>>2]|0)+(U<<2)>>2]=e[t+244>>2]);do if(o)i[l>>2]=-34028234663852886e22,i[C>>2]=34028234663852886e22;else if((V|0)==1){i[l>>2]=-34028234663852886e22,i[C>>2]=0;break}else{i[l>>2]=0,i[C>>2]=34028234663852886e22;break}while(!1);He=1-+i[t+240>>2],a=+ht(+He);do if(!(He!=He|!1|He==0))if(s=ge*(m*+i[Se+336>>2]+g*+i[Se+340>>2]+S*+i[Se+344>>2]-(m*+i[ke+336>>2]+g*+i[ke+340>>2]+S*+i[ke+344>>2])),(V|0)==1){if(!(s<0)||!(+i[oe+(U<<2)>>2]<-(a*s)))break;i[oe+(U<<2)>>2]=-(a*s);break}else{if(!(s>0)||!(+i[oe+(U<<2)>>2]>-(a*s)))break;i[oe+(U<<2)>>2]=-(a*s);break}while(!1);i[oe+(U<<2)>>2]=+i[t+232>>2]*+i[oe+(U<<2)>>2],o=5}else o=5}else o=4;if((Y&65535)<256?(N=0,M=0):(M=+i[t+1088>>2],N=M>0?1:2),l=A[t+1112>>0]|0,C=(N|0)!=0,!(l&255|N)){H=Ae;return}if(D=Rt(e[n+24>>2]|0,o)|0,ke=e[n+12>>2]|0,e[ke+(D<<2)>>2]=be,e[ke+(D+1<<2)>>2]=B,e[ke+(D+2<<2)>>2]=k,E=(e[Z>>2]=be,+i[Z>>2]),i[me+(D<<2)>>2]=-E,w=(e[Z>>2]=B,+i[Z>>2]),i[me+(D+1<<2)>>2]=-w,S=(e[Z>>2]=k,+i[Z>>2]),i[me+(D+2<<2)>>2]=-S,d=+i[t+192>>2],m=+i[t+196>>2],g=+i[((re&2048|0)==0?n+4|0:t+248|0)>>2],!(l<<24>>24==0|C&d==m)){re&4?(e[(e[n+32>>2]|0)+(D<<2)>>2]=e[t+228>>2],u=+i[t+192>>2],_=+i[t+196>>2]):(u=d,_=m),s=+i[t+1084>>2],h=+i[t+1116>>2],a=g*+i[n>>2];do if(u>_)s=1;else if(u!=_){if(h/a<0)if(s>=u&&u-h/a>s){s=(u-s)/(h/a);break}else{s=s<u?0:1;break}if(h/a>0)if(s<=_&&_-h/a<s){s=(_-s)/(h/a);break}else{s=s>_?0:1;break}else s=0}else s=0;while(!1);i[oe+(D<<2)>>2]=s*h,i[(e[n+36>>2]|0)+(D<<2)>>2]=-+i[t+1120>>2]/+i[n>>2],i[(e[n+40>>2]|0)+(D<<2)>>2]=+i[t+1120>>2]/+i[n>>2]}if(!C){H=Ae;return}i[oe+(D<<2)>>2]=+i[oe+(D<<2)>>2]+M*(g*+i[n>>2]),re&1024|0&&(e[(e[n+32>>2]|0)+(D<<2)>>2]=e[t+260>>2]);do if(d!=m)if(l=(e[n+36>>2]|0)+(D<<2)|0,o=e[n+40>>2]|0,(N|0)==1){i[l>>2]=0,i[o+(D<<2)>>2]=34028234663852886e22;break}else{i[l>>2]=-34028234663852886e22,i[o+(D<<2)>>2]=0;break}else i[(e[n+36>>2]|0)+(D<<2)>>2]=-34028234663852886e22,i[(e[n+40>>2]|0)+(D<<2)>>2]=34028234663852886e22;while(!1);He=1-+i[t+256>>2],a=+ht(+He);do if(!(He!=He|!1|He==0))if(ke=e[t+28>>2]|0,n=e[t+32>>2]|0,s=E*+i[ke+352>>2]+w*+i[ke+356>>2]+S*+i[ke+360>>2]-(E*+i[n+352>>2]+w*+i[n+356>>2]+S*+i[n+360>>2]),(N|0)==1){if(!(s<0)||!(+i[oe+(D<<2)>>2]<-(a*s)))break;i[oe+(D<<2)>>2]=-(a*s);break}else{if(!(s>0)||!(+i[oe+(D<<2)>>2]>-(a*s)))break;i[oe+(D<<2)>>2]=-(a*s);break}while(!1);i[oe+(D<<2)>>2]=+i[t+248>>2]*+i[oe+(D<<2)>>2],H=Ae}function z$(t,n,s,o){switch(t=t|0,n=n|0,s=+s,o=o|0,n|0){case 2:{if((o|0)<1){i[t+232>>2]=s,e[t+300>>2]=e[t+300>>2]|512;return}if((o|0)<3){i[t+264>>2]=s,e[t+300>>2]=e[t+300>>2]|32;return}if((o|0)==3){i[t+248>>2]=s,e[t+300>>2]=e[t+300>>2]|2048;return}if((o|0)>=6)return;i[t+280>>2]=s,e[t+300>>2]=e[t+300>>2]|128;return}case 3:{if((o|0)<1){i[t+212>>2]=s,e[t+300>>2]=e[t+300>>2]|1;return}if((o|0)!=3)return;i[t+228>>2]=s,e[t+300>>2]=e[t+300>>2]|4;return}case 4:{if((o|0)<1){i[t+244>>2]=s,e[t+300>>2]=e[t+300>>2]|256;return}if((o|0)<3){i[t+276>>2]=s,e[t+300>>2]=e[t+300>>2]|16;return}if((o|0)==3){i[t+260>>2]=s,e[t+300>>2]=e[t+300>>2]|1024;return}if((o|0)>=6)return;i[t+292>>2]=s,e[t+300>>2]=e[t+300>>2]|64;return}default:return}}function W$(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;e:do switch(n|0){case 2:{if((s|0)<1){o=+i[t+232>>2];break e}if((s|0)<3){o=+i[t+264>>2];break e}if((s|0)==3){o=+i[t+248>>2];break e}(s|0)<6?o=+i[t+280>>2]:o=34028234663852886e22;break}case 3:{if((s|0)<1){o=+i[t+212>>2];break e}(s|0)==3?o=+i[t+228>>2]:o=34028234663852886e22;break}case 4:{if((s|0)<1){o=+i[t+244>>2];break e}if((s|0)<3){o=+i[t+276>>2];break e}if((s|0)==3){o=+i[t+260>>2];break e}(s|0)<6?o=+i[t+292>>2]:o=34028234663852886e22;break}default:o=34028234663852886e22}while(!1);return+o}function H$(t){return t=t|0,204}function j$(t,n,s){return t=t|0,n=n|0,s=s|0,Ra(t,n,s)|0,e[n+52>>2]=e[t+52>>2],e[n+56>>2]=e[t+56>>2],e[n+60>>2]=e[t+60>>2],e[n+64>>2]=e[t+64>>2],e[n+68>>2]=e[t+68>>2],e[n+72>>2]=e[t+72>>2],e[n+76>>2]=e[t+76>>2],e[n+80>>2]=e[t+80>>2],e[n+84>>2]=e[t+84>>2],e[n+88>>2]=e[t+88>>2],e[n+92>>2]=e[t+92>>2],e[n+96>>2]=e[t+96>>2],e[n+100>>2]=e[t+100>>2],e[n+104>>2]=e[t+104>>2],e[n+108>>2]=e[t+108>>2],e[n+112>>2]=e[t+112>>2],e[n+116>>2]=e[t+116>>2],e[n+120>>2]=e[t+120>>2],e[n+124>>2]=e[t+124>>2],e[n+128>>2]=e[t+128>>2],e[n+132>>2]=e[t+132>>2],e[n+136>>2]=e[t+136>>2],e[n+140>>2]=e[t+140>>2],e[n+144>>2]=e[t+144>>2],e[n+148>>2]=e[t+148>>2],e[n+152>>2]=e[t+152>>2],e[n+156>>2]=e[t+156>>2],e[n+160>>2]=e[t+160>>2],e[n+164>>2]=e[t+164>>2],e[n+168>>2]=e[t+168>>2],e[n+172>>2]=e[t+172>>2],e[n+176>>2]=e[t+176>>2],e[n+180>>2]=e[t+188>>2],e[n+184>>2]=e[t+184>>2],e[n+188>>2]=e[t+196>>2],e[n+192>>2]=e[t+192>>2],e[n+196>>2]=It[t+180>>0],e[n+200>>2]=It[t+49>>0],15616}function q$(t){return t=t|0,e[t+300>>2]|0}function dh(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;o=H,H=H+16|0,e[t+4>>2]=n,e[t>>2]=7188,e[t+8>>2]=-1,e[t+12>>2]=-1,i[t+16>>2]=34028234663852886e22,A[t+20>>0]=1,A[t+21>>0]=0,e[t+24>>2]=-1,e[t+28>>2]=s,A[19880]|0||(A[19880]=1,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,pu(21260,0,0,0,o)),e[5366]=e[5366]|1,i[5407]=0,a=+i[5417]*0,l=+i[5418]*0,i[5412]=+i[5416]*0,i[5413]=a,i[5414]=l,i[5415]=0,e[5420]=0,e[5421]=0,e[5422]=0,e[5423]=0,l=+i[5409]*0,a=+i[5410]*0,i[5461]=+i[5408]*0,i[5462]=l,i[5463]=a,i[5464]=0,e[t+32>>2]=21260,i[t+36>>2]=0,i[t+40>>2]=.30000001192092896,e[t+44>>2]=0,H=o}function X$(t){t=t|0;var n=0;if(e[t>>2]=7916,n=e[t+520>>2]|0,n|0&&(A[t+524>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+520>>2]=0),A[t+524>>0]=1,e[t+520>>2]=0,e[t+512>>2]=0,e[t+516>>2]=0,e[t>>2]=3156,n=e[t+276>>2]|0,!n){A[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,t=t+272|0,e[t>>2]=0;return}A[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+276>>2]=0,A[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,t=t+272|0,e[t>>2]=0}function Ra(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;if(e[n>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+28>>2]|0)|0,e[n+4>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+32>>2]|0)|0,o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n+8>>2]=a,a|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+12>>2]=e[t+4>>2],e[n+24>>2]=It[t+21>>0],e[n+40>>2]=e[t+24>>2],e[n+44>>2]=e[t+16>>2],e[n+48>>2]=It[t+20>>0],e[n+20>>2]=e[t+12>>2],e[n+16>>2]=e[t+8>>2],e[n+28>>2]=e[t+36>>2],e[n+32>>2]=e[t+40>>2],e[n+36>>2]=0,o=e[t+28>>2]|0,(e[o+512>>2]|0)>0){s=0;do(e[(e[o+520>>2]|0)+(s<<2)>>2]|0)==(t|0)&&(e[n+36>>2]=1,o=e[t+28>>2]|0),s=s+1|0;while((s|0)<(e[o+512>>2]|0))}if(o=e[t+32>>2]|0,(e[o+512>>2]|0)>0)s=0;else return 15639;do(e[(e[o+520>>2]|0)+(s<<2)>>2]|0)==(t|0)&&(e[n+36>>2]=1,o=e[t+32>>2]|0),s=s+1|0;while((s|0)<(e[o+512>>2]|0));return 15639}function T6(t){t=t|0;var n=0,s=0,o=0;if(e[t>>2]=7656,A[t+272>>0]|0&&(n=e[t+204>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+204>>2]|0,n|0)&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+196>>2]|0,n|0&&(Vt[e[e[n>>2]>>2]&255](n),s=e[t+196>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),A[t+273>>0]|0&&(o=e[t+200>>2]|0,Vt[e[e[o>>2]>>2]&255](o),o=e[t+200>>2]|0,o|0)&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),n=e[t+316>>2]|0,n|0&&(A[t+320>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+316>>2]=0),A[t+320>>0]=1,e[t+316>>2]=0,e[t+308>>2]=0,e[t+312>>2]=0,n=e[t+288>>2]|0,n|0&&(A[t+292>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+288>>2]=0),A[t+292>>0]=1,e[t+288>>2]=0,e[t+280>>2]=0,e[t+284>>2]=0,n=e[t+240>>2]|0,n|0&&(A[t+244>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+240>>2]=0),A[t+244>>0]=1,e[t+240>>2]=0,e[t+232>>2]=0,e[t+236>>2]=0,n=e[t+220>>2]|0,n|0&&(A[t+224>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+220>>2]=0),A[t+224>>0]=1,e[t+220>>2]=0,e[t+212>>2]=0,e[t+216>>2]=0,n=e[t+188>>2]|0,!n){A[t+192>>0]=1,e[t+188>>2]=0,e[t+180>>2]=0,o=t+184|0,e[o>>2]=0,ep(t);return}A[t+192>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+188>>2]=0,A[t+192>>0]=1,e[t+188>>2]=0,e[t+180>>2]=0,o=t+184|0,e[o>>2]=0,ep(t)}function $$(t){t=t|0,T6(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Y$(t){t=t|0;var n=0,s=0,o=0;o=H,H=H+16|0,$n(15710),G6(t);e:do if(Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0&&(s=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,(Ct[e[(e[s>>2]|0)+56>>2]&127](s)|0)&6144|0))for(s=Ct[e[(e[t>>2]|0)+104>>2]&127](t)|0;;){if(n=s+-1|0,(s|0)<=0)break e;s=I0[e[(e[t>>2]|0)+108>>2]&31](t,n)|0,zt[e[(e[t>>2]|0)+168>>2]&127](t,s),s=n}while(!1);if(Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0&&(s=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,(Ct[e[(e[s>>2]|0)+56>>2]&127](s)|0)&16387|0)&&Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0&&(s=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,Ct[e[(e[s>>2]|0)+56>>2]&127](s)|0)&&(e[t+280>>2]|0)>0){n=0;do s=e[(e[t+288>>2]|0)+(n<<2)>>2]|0,zt[e[(e[s>>2]|0)+12>>2]&127](s,e[t+72>>2]|0),n=n+1|0;while((n|0)<(e[t+280>>2]|0))}if(Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0&&(t=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,Vt[e[(e[t>>2]|0)+100>>2]&255](t)),n=e[2006]|0,t=(e[n+16>>2]|0)+-1|0,e[n+16>>2]=t,t|0){H=o;return}do if(e[n+4>>2]|0)if(Tn(o|0,0)|0,t=e[5649]|0,i[n+8>>2]=+i[n+8>>2]+ +(((e[o+4>>2]|0)-(e[t+4>>2]|0)+(((e[o>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[n+12>>2]|0)|0)>>>0)/1e3,e[n+16>>2]|0){H=o;return}else{n=e[2006]|0;break}while(!1);e[2006]=e[n+20>>2],H=o}function K$(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,W6(t,n,s,o)}function Z$(t,n){if(t=t|0,n=n|0,(n|0)==0||(e[n+236>>2]&2|0)==0){H6(t,n);return}else{zt[e[(e[t>>2]|0)+92>>2]&127](t,n);return}}function Q$(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;Vt[e[(e[n>>2]|0)+32>>2]&255](n),s=V0[e[(e[n>>2]|0)+16>>2]&63](n,104,1)|0,o=e[s+8>>2]|0,a=o,l=a+104|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(l|0));e[o+88>>2]=e[t+248>>2],e[o+92>>2]=e[t+252>>2],e[o+96>>2]=e[t+256>>2],e[o+100>>2]=e[t+260>>2],e[o>>2]=e[t+92>>2],e[o+4>>2]=e[t+96>>2],e[o+8>>2]=e[t+100>>2],e[o+12>>2]=e[t+104>>2],e[o+16>>2]=e[t+108>>2],e[o+20>>2]=e[t+116>>2],e[o+24>>2]=e[t+120>>2],e[o+28>>2]=e[t+124>>2],e[o+32>>2]=e[t+128>>2],e[o+36>>2]=e[t+132>>2],e[o+40>>2]=e[t+140>>2],e[o+44>>2]=e[t+144>>2],e[o+48>>2]=e[t+148>>2],e[o+52>>2]=e[t+152>>2],e[o+56>>2]=e[t+168>>2],e[o+60>>2]=e[t+172>>2],e[o+64>>2]=e[t+112>>2],e[o+68>>2]=e[t+156>>2],e[o+72>>2]=e[t+160>>2],e[o+76>>2]=e[t+164>>2],e[o+80>>2]=e[t+136>>2],Qi[e[(e[n>>2]|0)+20>>2]&31](n,s,15725,1145853764,o),j6(t,n),J$(t,n),Vt[e[(e[n>>2]|0)+36>>2]&255](n)}function J$(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+8>>2]|0,(s|0)>0){a=0;do o=e[(e[t+16>>2]|0)+(a<<2)>>2]|0,e[o+236>>2]&2&&(l=Ct[e[(e[o>>2]|0)+16>>2]&127](o)|0,l=V0[e[(e[n>>2]|0)+16>>2]&63](n,l,1)|0,s=V0[e[(e[o>>2]|0)+20>>2]&63](o,e[l+8>>2]|0,n)|0,Qi[e[(e[n>>2]|0)+20>>2]&31](n,l,s,1497645650,o),s=e[t+8>>2]|0),a=a+1|0;while((a|0)<(s|0))}if(!((e[t+212>>2]|0)<=0)){s=0;do l=e[(e[t+220>>2]|0)+(s<<2)>>2]|0,o=Ct[e[(e[l>>2]|0)+36>>2]&127](l)|0,o=V0[e[(e[n>>2]|0)+16>>2]&63](n,o,1)|0,a=V0[e[(e[l>>2]|0)+40>>2]&63](l,e[o+8>>2]|0,n)|0,Qi[e[(e[n>>2]|0)+20>>2]&31](n,o,a,1397641027,l),s=s+1|0;while((s|0)<(e[t+212>>2]|0))}}function eY(t,n,s,o){t=t|0,n=+n,s=s|0,o=+o;var a=0,l=0,u=0,_=0;if(_=H,H=H+16|0,Tn(e[5649]|0,0)|0,Kf(22556),e[5640]=(e[5640]|0)+1,u=e[5643]|0,e[5643]=u+1,u||(Tn(_|0,0)|0,u=e[5649]|0,e[5642]=(e[_+4>>2]|0)-(e[u+4>>2]|0)+(((e[_>>2]|0)-(e[u>>2]|0)|0)*1e6|0)),e[5648]=0,Tn(_|0,0)|0,$n(15750),s?(i[t+268>>2]=o,l=+i[t+264>>2]+n,i[t+264>>2]=l,l>=o?(i[t+264>>2]=l-+(~~(l/o)|0)*o,n=o,u=~~(l/o)):(n=o,u=0)):(i[t+264>>2]=A[t+300>>0]|0?0:n,i[t+268>>2]=0,u=!(+ht(+n)<11920928955078125e-23)&1,s=u),Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0&&(a=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,A[23328]=(Ct[e[(e[a>>2]|0)+56>>2]&127](a)|0)>>>4&1),u)if(s=(u|0)>(s|0)?s:u,g2[e[(e[t>>2]|0)+164>>2]&31](t,n*+(s|0)),Vt[e[(e[t>>2]|0)+172>>2]&255](t),(s|0)>0){a=0;do g2[e[(e[t>>2]|0)+160>>2]&31](t,n),Vt[e[(e[t>>2]|0)+80>>2]&255](t),a=a+1|0;while((a|0)<(s|0));s=t}else s=t;else Vt[e[(e[t>>2]|0)+80>>2]&255](t),s=t;if(Vt[e[(e[s>>2]|0)+120>>2]&255](t),e[5648]=(e[5648]|0)+1,s=e[2006]|0,t=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=t,t|0)return H=_,u|0;do if(e[s+4>>2]|0){if(Tn(_|0,0)|0,t=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[_+4>>2]|0)-(e[t+4>>2]|0)+(((e[_>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0)return H=_,u|0;s=e[2006]|0;break}while(!1);return e[2006]=e[s+20>>2],H=_,u|0}function tY(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0;if(o=e[t+212>>2]|0,(o|0)==(e[t+216>>2]|0)&&(u=o|0?o<<1:1,(o|0)<(u|0))){if(u?(e[5637]=(e[5637]|0)+1,o=Xe((u<<2|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,l=o,o=e[t+212>>2]|0):l=0,(o|0)>0){a=0;do e[l+(a<<2)>>2]=e[(e[t+220>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[t+220>>2]|0,a&&(A[t+224>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[t+212>>2]|0),e[t+220>>2]=0),A[t+224>>0]=1,e[t+220>>2]=l,e[t+216>>2]=u}e[(e[t+220>>2]|0)+(o<<2)>>2]=n,e[t+212>>2]=o+1,s&&(A6(e[n+28>>2]|0,n),A6(e[n+32>>2]|0,n))}function iY(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;a=e[t+212>>2]|0;e:do if((a|0)>0){for(l=e[t+220>>2]|0,s=0;o=l+(s<<2)|0,(e[o>>2]|0)!=(n|0);)if(s=s+1|0,(s|0)>=(a|0))break e;(s|0)<(a|0)&&(e[o>>2]=e[l+(a+-1<<2)>>2],e[(e[t+220>>2]|0)+(a+-1<<2)>>2]=n,e[t+212>>2]=a+-1)}while(!1);E6(e[n+28>>2]|0,n),E6(e[n+32>>2]|0,n)}function nY(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+280>>2]|0,(s|0)==(e[t+284>>2]|0)&&(l=s|0?s<<1:1,(s|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=s,s=e[t+280>>2]|0):a=0,(s|0)>0){o=0;do e[a+(o<<2)>>2]=e[(e[t+288>>2]|0)+(o<<2)>>2],o=o+1|0;while((o|0)!=(s|0))}o=e[t+288>>2]|0,o&&(A[t+292>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0),s=e[t+280>>2]|0),e[t+288>>2]=0),A[t+292>>0]=1,e[t+288>>2]=a,e[t+284>>2]=l}e[(e[t+288>>2]|0)+(s<<2)>>2]=n,e[t+280>>2]=s+1}function rY(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;if(a=e[t+280>>2]|0,!((a|0)<=0)){for(l=e[t+288>>2]|0,s=0;o=l+(s<<2)|0,(e[o>>2]|0)!=(n|0);)if(s=s+1|0,(s|0)>=(a|0)){u=7;break}(u|0)!=7&&((s|0)>=(a|0)||(e[o>>2]=e[l+(a+-1<<2)>>2],e[(e[t+288>>2]|0)+(a+-1<<2)>>2]=n,e[t+280>>2]=a+-1))}}function sY(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0;if(e[t+248>>2]=e[n>>2],e[t+248+4>>2]=e[n+4>>2],e[t+248+8>>2]=e[n+8>>2],e[t+248+12>>2]=e[n+12>>2],s=e[t+232>>2]|0,!((s|0)<=0)){l=0;do{switch(a=e[(e[t+240>>2]|0)+(l<<2)>>2]|0,e[a+216>>2]|0){case 2:case 5:break;default:e[a+528>>2]&1||(o=+i[a+368>>2],o!=0&&(_=1/o*+i[n+4>>2],u=1/o*+i[n+8>>2],i[a+388>>2]=1/o*+i[n>>2],i[a+392>>2]=_,i[a+396>>2]=u,i[a+400>>2]=0),e[a+404>>2]=e[n>>2],e[a+404+4>>2]=e[n+4>>2],e[a+404+8>>2]=e[n+8>>2],e[a+404+12>>2]=e[n+12>>2],s=e[t+232>>2]|0)}l=l+1|0}while((l|0)<(s|0))}}function oY(t,n){t=t|0,n=n|0,e[t>>2]=e[n+248>>2],e[t+4>>2]=e[n+248+4>>2],e[t+8>>2]=e[n+248+8>>2],e[t+12>>2]=e[n+248+12>>2]}function aY(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0;_=H,H=H+64|0,$n(15765);e:do if(A[t+274>>0]|0){if(n=e[t+8>>2]|0,(n|0)>0){a=0;do o=e[(e[t+16>>2]|0)+(a<<2)>>2]|0,!((o|0)==0||(e[o+236>>2]&2|0)==0)&&(e[o+504>>2]|0)!=0&&(e[o+204>>2]&3|0)==0&&((A[t+300>>0]|0)!=0&&(l=+i[t+268>>2],l!=0)?s=+i[t+264>>2]-l:s=+i[t+264>>2]*+i[o+248>>2],oo(o+68|0,+i[o+132>>2],+i[o+136>>2],+i[o+140>>2],o+148|0,s,_),n=e[o+504>>2]|0,zt[e[(e[n>>2]|0)+12>>2]&127](n,_),n=e[t+8>>2]|0),a=a+1|0;while((a|0)<(n|0))}}else if(n=e[t+232>>2]|0,(n|0)>0)for(a=0;;){switch(o=e[(e[t+240>>2]|0)+(a<<2)>>2]|0,e[o+216>>2]|0){case 2:case 5:break;default:(e[o+504>>2]|0)!=0&&(e[o+204>>2]&3|0)==0&&((A[t+300>>0]|0)!=0&&(u=+i[t+268>>2],u!=0)?s=+i[t+264>>2]-u:s=+i[t+264>>2]*+i[o+248>>2],oo(o+68|0,+i[o+132>>2],+i[o+136>>2],+i[o+140>>2],o+148|0,s,_),n=e[o+504>>2]|0,zt[e[(e[n>>2]|0)+12>>2]&127](n,_),n=e[t+232>>2]|0)}if(a=a+1|0,(a|0)>=(n|0))break e}while(!1);if(n=e[2006]|0,t=(e[n+16>>2]|0)+-1|0,e[n+16>>2]=t,t|0){H=_;return}do if(e[n+4>>2]|0)if(Tn(_|0,0)|0,t=e[5649]|0,i[n+8>>2]=+i[n+8>>2]+ +(((e[_+4>>2]|0)-(e[t+4>>2]|0)+(((e[_>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[n+12>>2]|0)|0)>>>0)/1e3,e[n+16>>2]|0){H=_;return}else{n=e[2006]|0;break}while(!1);e[2006]=e[n+20>>2],H=_}function cY(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0;if(s=e[n+204>>2]|0,(s&3|0)==0&&(e[n+528>>2]&1|0)==0&&(a=+i[n+368>>2],a!=0&&(h=1/a*+i[t+252>>2],_=1/a*+i[t+256>>2],i[n+388>>2]=1/a*+i[t+248>>2],i[n+392>>2]=h,i[n+396>>2]=_,i[n+400>>2]=0),e[n+404>>2]=e[t+248>>2],e[n+404+4>>2]=e[t+248+4>>2],e[n+404+8>>2]=e[t+248+8>>2],e[n+404+12>>2]=e[t+248+12>>2]),!!(e[n+192>>2]|0)){if(s&1)(e[n+216>>2]&-2|0)!=4&&(e[n+216>>2]=2);else{if(o=e[t+232>>2]|0,(o|0)==(e[t+236>>2]|0)&&(u=o|0?o<<1:1,(o|0)<(u|0))){if(u?(e[5637]=(e[5637]|0)+1,s=Xe((u<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+232>>2]|0):s=0,(o|0)>0){l=0;do e[s+(l<<2)>>2]=e[(e[t+240>>2]|0)+(l<<2)>>2],l=l+1|0;while((l|0)!=(o|0))}l=e[t+240>>2]|0,l&&(A[t+244>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0),o=e[t+232>>2]|0),e[t+240>>2]=0),A[t+244>>0]=1,e[t+240>>2]=s,e[t+236>>2]=u,s=e[n+204>>2]|0}e[(e[t+240>>2]|0)+(o<<2)>>2]=n,e[t+232>>2]=o+1}u=(s&3|0)==0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,u?1:2,u?-1:-3)}}function lY(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0;if(a=e[n+204>>2]|0,(a&3|0)==0&&(e[n+528>>2]&1|0)==0&&(l=+i[n+368>>2],l!=0&&(m=1/l*+i[t+252>>2],d=1/l*+i[t+256>>2],i[n+388>>2]=1/l*+i[t+248>>2],i[n+392>>2]=m,i[n+396>>2]=d,i[n+400>>2]=0),e[n+404>>2]=e[t+248>>2],e[n+404+4>>2]=e[t+248+4>>2],e[n+404+8>>2]=e[t+248+8>>2],e[n+404+12>>2]=e[t+248+12>>2]),!!(e[n+192>>2]|0)){if(a&1)(e[n+216>>2]&-2|0)!=4&&(e[n+216>>2]=2);else{if(a=e[t+232>>2]|0,(a|0)==(e[t+236>>2]|0)&&(h=a|0?a<<1:1,(a|0)<(h|0))){if(h?(e[5637]=(e[5637]|0)+1,a=Xe((h<<2|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,_=a,a=e[t+232>>2]|0):_=0,(a|0)>0){u=0;do e[_+(u<<2)>>2]=e[(e[t+240>>2]|0)+(u<<2)>>2],u=u+1|0;while((u|0)!=(a|0))}u=e[t+240>>2]|0,u&&(A[t+244>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0),a=e[t+232>>2]|0),e[t+240>>2]=0),A[t+244>>0]=1,e[t+240>>2]=_,e[t+236>>2]=h}e[(e[t+240>>2]|0)+(a<<2)>>2]=n,e[t+232>>2]=a+1}Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,s,o)}}function uY(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;a=e[t+232>>2]|0;e:do if((a|0)>0){for(l=e[t+240>>2]|0,s=0;o=l+(s<<2)|0,(e[o>>2]|0)!=(n|0);)if(s=s+1|0,(s|0)>=(a|0))break e;(s|0)<(a|0)&&(e[o>>2]=e[l+(a+-1<<2)>>2],e[(e[t+240>>2]|0)+(a+-1<<2)>>2]=n,e[t+232>>2]=a+-1)}while(!1);if(s=e[n+188>>2]|0,s|0&&(l=e[t+68>>2]|0,l=Ct[e[(e[l>>2]|0)+36>>2]&127](l)|0,f0[e[(e[l>>2]|0)+40>>2]&127](l,s,e[t+24>>2]|0),l=e[t+68>>2]|0,f0[e[(e[l>>2]|0)+12>>2]&127](l,s,e[t+24>>2]|0),e[n+188>>2]=0),a=e[t+8>>2]|0,!((a|0)<=0)){for(l=e[t+16>>2]|0,s=0;o=l+(s<<2)|0,(e[o>>2]|0)!=(n|0);)if(s=s+1|0,(s|0)>=(a|0)){u=15;break}(u|0)!=15&&((s|0)>=(a|0)||(e[o>>2]=e[l+(a+-1<<2)>>2],e[(e[t+16>>2]|0)+(a+-1<<2)>>2]=n,e[t+8>>2]=a+-1))}}function fY(t,n){t=t|0,n=n|0;var s=0;A[t+273>>0]|0&&(s=e[t+200>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),A[t+273>>0]=0,e[t+200>>2]=n,e[(e[t+196>>2]|0)+8>>2]=n}function pY(t){return t=t|0,e[t+200>>2]|0}function _Y(t){return t=t|0,e[t+212>>2]|0}function hY(t,n){return t=t|0,n=n|0,e[(e[t+220>>2]|0)+(n<<2)>>2]|0}function dY(t,n){return t=t|0,n=n|0,e[(e[t+220>>2]|0)+(n<<2)>>2]|0}function mY(t){return t=t|0,2}function gY(t){t=t|0;var n=0,s=0;if(!((e[t+232>>2]|0)<=0)){n=0;do s=(e[(e[t+240>>2]|0)+(n<<2)>>2]|0)+436|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[s+16>>2]=0,e[s+20>>2]=0,e[s+24>>2]=0,e[s+28>>2]=0,n=n+1|0;while((n|0)<(e[t+232>>2]|0))}}function xY(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+64>>2]&127](t,n)}function yY(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+68>>2]&127](t,n)}function vY(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+64>>2]&127](t,n)}function SY(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+68>>2]&127](t,n)}function TY(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0;if(l=H,H=H+16|0,$n(15789),s=e[t+232>>2]|0,(s|0)>0){a=0;do o=e[(e[t+240>>2]|0)+(a<<2)>>2]|0,e[o+204>>2]&3||(HY(o,n),oo(o+4|0,+i[o+336>>2],+i[o+340>>2],+i[o+344>>2],o+352|0,n,o+68|0),s=e[t+232>>2]|0),a=a+1|0;while((a|0)<(s|0))}if(s=e[2006]|0,t=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=t,t|0){H=l;return}do if(e[s+4>>2]|0)if(Tn(l|0,0)|0,t=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[l+4>>2]|0)-(e[t+4>>2]|0)+(((e[l>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0){H=l;return}else{s=e[2006]|0;break}while(!1);e[2006]=e[s+20>>2],H=l}function CY(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;C=H,H=H+304|0,$n(15815);e:do if((e[t+232>>2]|0)>0)for(h=C+136+48|0,d=0;;){_=e[(e[t+240>>2]|0)+(d<<2)>>2]|0,i[_+248>>2]=1;t:do switch(e[_+216>>2]|0){case 2:case 5:break;default:if(!(e[_+204>>2]&3)){if(oo(_+4|0,+i[_+336>>2],+i[_+340>>2],+i[_+344>>2],_+352|0,n,C+136|0),o=+i[h>>2]-+i[_+52>>2],l=+i[C+136+52>>2]-+i[_+56>>2],u=+i[C+136+56>>2]-+i[_+60>>2],A[t+44>>0]|0&&(w=+i[_+256>>2],w*w!=0?w*w<o*o+l*l+u*u:0)){$n(15835),(e[(e[_+192>>2]|0)+4>>2]|0)<20?(e[5475]=(e[5475]|0)+1,s=e[t+68>>2]|0,s=Ct[e[(e[s>>2]|0)+36>>2]&127](s)|0,a=e[t+24>>2]|0,i[C+200+4>>2]=1,ee[C+200+8>>1]=1,ee[C+200+10>>1]=-1,e[C+200>>2]=7848,e[C+200+12>>2]=e[_+52>>2],e[C+200+12+4>>2]=e[_+52+4>>2],e[C+200+12+8>>2]=e[_+52+8>>2],e[C+200+12+12>>2]=e[_+52+12>>2],e[C+200+28>>2]=e[h>>2],e[C+200+28+4>>2]=e[h+4>>2],e[C+200+28+8>>2]=e[h+8>>2],e[C+200+28+12>>2]=e[h+12>>2],e[C+200+76>>2]=0,e[C+200>>2]=7872,e[C+200+80>>2]=_,e[C+200+88>>2]=s,e[C+200+92>>2]=a,a=e[_+252>>2]|0,e[C+64+8>>2]=0,e[C+64+12>>2]=-1,e[C+64+16>>2]=1065353216,e[C+64+20>>2]=1065353216,e[C+64+24>>2]=1065353216,i[C+64+28>>2]=0,e[C+64>>2]=6380,e[C+64+4>>2]=8,e[C+64+32>>2]=a,e[C+64+48>>2]=a,e[C+200+84>>2]=e[t+56>>2],a=e[(e[_+188>>2]|0)+4>>2]|0,ee[C+200+8>>1]=a,ee[C+200+10>>1]=a>>>16,e[C+48>>2]=e[h>>2],e[C+48+4>>2]=e[h+4>>2],e[C+48+8>>2]=e[h+8>>2],e[C+48+12>>2]=e[h+12>>2],e[C>>2]=e[_+4>>2],e[C+4>>2]=e[_+4+4>>2],e[C+8>>2]=e[_+4+8>>2],e[C+12>>2]=e[_+4+12>>2],e[C+16>>2]=e[_+20>>2],e[C+16+4>>2]=e[_+20+4>>2],e[C+16+8>>2]=e[_+20+8>>2],e[C+16+12>>2]=e[_+20+12>>2],e[C+32>>2]=e[_+36>>2],e[C+32+4>>2]=e[_+36+4>>2],e[C+32+8>>2]=e[_+36+8>>2],e[C+32+12>>2]=e[_+36+12>>2],u1(t,C+64|0,_+4|0,C,C+200|0,0),o=+i[C+200+4>>2],o<1?(i[_+248>>2]=o,oo(_+4|0,+i[_+336>>2],+i[_+340>>2],+i[_+344>>2],_+352|0,o*n,C+136|0),i[_+248>>2]=0,mh(_,C+136|0),s=4):s=0,s||(m=12)):m=12,(m|0)==12&&(m=0,s=0),a=e[2006]|0,M=(e[a+16>>2]|0)+-1|0,e[a+16>>2]=M;do if(!M){if(e[a+4>>2]|0){if(Tn(C+200|0,0)|0,M=e[5649]|0,i[a+8>>2]=+i[a+8>>2]+ +(((e[C+200+4>>2]|0)-(e[M+4>>2]|0)+(((e[C+200>>2]|0)-(e[M>>2]|0)|0)*1e6|0)-(e[a+12>>2]|0)|0)>>>0)/1e3,e[a+16>>2]|0)break;a=e[2006]|0}e[2006]=e[a+20>>2]}while(!1);if(s|0)break t}mh(_,C+136|0)}}while(!1);if(d=d+1|0,(d|0)>=(e[t+232>>2]|0))break e}while(!1);do if(A[t+275>>0]|0){if($n(15892),(e[t+308>>2]|0)>0){m=0;do{if(d=e[(e[t+316>>2]|0)+(m<<2)>>2]|0,_=e[d+740>>2]|0,_=(e[_+236>>2]&2|0)==0?0:_,h=e[d+744>>2]|0,h=(e[h+236>>2]&2|0)==0?0:h,s=e[d+748>>2]|0,(s|0)>0)if(_){a=0;do o=+i[_+228>>2]*+i[h+228>>2],o>0&&(S=+i[d+4+(a*184|0)+120>>2],S!=0)&&(u=o*(+i[d+4+(a*184|0)+64>>2]*S),n=o*(+i[d+4+(a*184|0)+68>>2]*S),w=o*(+i[d+4+(a*184|0)+72>>2]*S),i[C+200>>2]=-u,i[C+200+4>>2]=-n,i[C+200+8>>2]=-w,i[C+200+12>>2]=0,l=+i[d+4+(a*184|0)+52>>2]-+i[_+56>>2],o=+i[d+4+(a*184|0)+56>>2]-+i[_+60>>2],i[C+64>>2]=+i[d+4+(a*184|0)+48>>2]-+i[_+52>>2],i[C+64+4>>2]=l,i[C+64+8>>2]=o,i[C+64+12>>2]=0,o=+i[d+4+(a*184|0)+36>>2]-+i[h+56>>2],l=+i[d+4+(a*184|0)+40>>2]-+i[h+60>>2],i[C>>2]=+i[d+4+(a*184|0)+32>>2]-+i[h+52>>2],i[C+4>>2]=o,i[C+8>>2]=l,i[C+12>>2]=0,H1(_,C+200|0,C+64|0),i[C+120>>2]=u,i[C+120+4>>2]=n,i[C+120+8>>2]=w,i[C+120+12>>2]=0,H1(h,C+120|0,C),s=e[d+748>>2]|0),a=a+1|0;while((a|0)<(s|0))}else{a=0;do o=+i[57]*+i[h+228>>2],o>0&&(g=+i[d+4+(a*184|0)+120>>2],g!=0)&&(u=o*(+i[d+4+(a*184|0)+64>>2]*g),n=o*(+i[d+4+(a*184|0)+68>>2]*g),w=o*(+i[d+4+(a*184|0)+72>>2]*g),o=+i[d+4+(a*184|0)+36>>2]-+i[h+56>>2],l=+i[d+4+(a*184|0)+40>>2]-+i[h+60>>2],i[C>>2]=+i[d+4+(a*184|0)+32>>2]-+i[h+52>>2],i[C+4>>2]=o,i[C+8>>2]=l,i[C+12>>2]=0,i[C+120>>2]=u,i[C+120+4>>2]=n,i[C+120+8>>2]=w,i[C+120+12>>2]=0,H1(h,C+120|0,C),s=e[d+748>>2]|0),a=a+1|0;while((a|0)<(s|0))}m=m+1|0}while((m|0)<(e[t+308>>2]|0))}if(s=e[2006]|0,M=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=M,!M){if(e[s+4>>2]|0){if(Tn(C+200|0,0)|0,M=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[C+200+4>>2]|0)-(e[M+4>>2]|0)+(((e[C+200>>2]|0)-(e[M>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0)break;s=e[2006]|0}e[2006]=e[s+20>>2]}}while(!1);if(s=e[2006]|0,M=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=M,M|0){H=C;return}do if(e[s+4>>2]|0)if(Tn(C+200|0,0)|0,M=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[C+200+4>>2]|0)-(e[M+4>>2]|0)+(((e[C+200>>2]|0)-(e[M>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0){H=C;return}else{s=e[2006]|0;break}while(!1);e[2006]=e[s+20>>2],H=C}function wY(t){t=t|0,ye(t)}function MY(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;return e[t+4>>2]=e[n+40>>2],o=e[n>>2]|0,e[t+76>>2]=o,s?(e[t+44>>2]=e[n+8>>2],e[t+44+4>>2]=e[n+8+4>>2],e[t+44+8>>2]=e[n+8+8>>2],e[t+44+12>>2]=e[n+8+12>>2],t=t+60|0,s=n+24|0,e[t>>2]=e[s>>2],e[t+4>>2]=e[s+4>>2],e[t+8>>2]=e[s+8>>2],e[t+12>>2]=e[s+12>>2],a=+i[n+40>>2],+a):(h=+i[n+8>>2],_=+i[n+12>>2],u=+i[n+16>>2],l=h*+i[o+20>>2]+_*+i[o+24>>2]+u*+i[o+28>>2],a=h*+i[o+36>>2]+_*+i[o+40>>2]+u*+i[o+44>>2],i[t+44>>2]=+i[o+4>>2]*h+ +i[o+8>>2]*_+ +i[o+12>>2]*u,i[t+48>>2]=l,i[t+52>>2]=a,i[t+56>>2]=0,t=t+60|0,s=n+24|0,e[t>>2]=e[s>>2],e[t+4>>2]=e[s+4>>2],e[t+8>>2]=e[s+8>>2],e[t+12>>2]=e[s+12>>2],a=+i[n+40>>2],+a)}function RY(t){t=t|0,ye(t)}function AY(t,n){t=t|0,n=n|0;var s=0,o=0;return s=e[n>>2]|0,o=e[t+80>>2]|0,(s|0)==(o|0)||(n=e[n+4>>2]|0,!((ee[t+10>>1]&(n&65535))<<16>>16))||!((ee[t+8>>1]&(n>>>16&65535))<<16>>16)?(t=0,t|0):(t=e[t+92>>2]|0,t=V0[e[(e[t>>2]|0)+28>>2]&63](t,o,s)|0,t|0)}function EY(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;return o=e[n>>2]|0,(o|0)==(e[t+80>>2]|0)||e[o+204>>2]&4|0||(+i[t+28>>2]-+i[t+12>>2])*+i[n+8>>2]+(+i[t+32>>2]-+i[t+16>>2])*+i[n+12>>2]+(+i[t+36>>2]-+i[t+20>>2])*+i[n+16>>2]>=-+i[t+84>>2]?(a=1,+a):(e[t+4>>2]=e[n+40>>2],e[t+76>>2]=o,s?(e[t+44>>2]=e[n+8>>2],e[t+44+4>>2]=e[n+8+4>>2],e[t+44+8>>2]=e[n+8+8>>2],e[t+44+12>>2]=e[n+8+12>>2]):(h=+i[n+8>>2],_=+i[n+12>>2],u=+i[n+16>>2],l=h*+i[o+20>>2]+_*+i[o+24>>2]+u*+i[o+28>>2],a=h*+i[o+36>>2]+_*+i[o+40>>2]+u*+i[o+44>>2],i[t+44>>2]=+i[o+4>>2]*h+ +i[o+8>>2]*_+ +i[o+12>>2]*u,i[t+48>>2]=l,i[t+52>>2]=a,i[t+56>>2]=0),e[t+60>>2]=e[n+24>>2],e[t+60+4>>2]=e[n+24+4>>2],e[t+60+8>>2]=e[n+24+8>>2],e[t+60+12>>2]=e[n+24+12>>2],h=+i[n+40>>2],+h)}function bY(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0;if(g=H,H=H+16|0,$n(16195),_=e[t+204>>2]|0,f0[e[(e[_>>2]|0)+8>>2]&127](_,t,e[t+24>>2]|0),_=e[t+308>>2]|0,(_|0)>0){u=e[t+316>>2]|0,h=0;do{if(s=e[u+(h<<2)>>2]|0,n=e[s+740>>2]|0,s=e[s+744>>2]|0,n|0&&s|0&&(e[n+204>>2]&3|0)==0&&(e[s+204>>2]&3|0)==0){if(a=e[n+208>>2]|0,n=e[s+208>>2]|0,l=e[(e[t+204>>2]|0)+16>>2]|0,s=e[l+(a<<3)>>2]|0,(s|0)!=(a|0)){o=l+(a<<3)|0;do a=l+(s<<3)|0,e[o>>2]=e[a>>2],a=e[a>>2]|0,o=l+(a<<3)|0,s=e[o>>2]|0;while((a|0)!=(s|0))}if(s=e[l+(n<<3)>>2]|0,(s|0)!=(n|0)){o=l+(n<<3)|0;do n=l+(s<<3)|0,e[o>>2]=e[n>>2],n=e[n>>2]|0,o=l+(n<<3)|0,s=e[o>>2]|0;while((n|0)!=(s|0))}(a|0)!=(n|0)&&(e[l+(a<<3)>>2]=n,o=l+(n<<3)+4|0,e[o>>2]=(e[o>>2]|0)+(e[l+(a<<3)+4>>2]|0))}h=h+1|0}while((h|0)!=(_|0))}if(_=e[t+212>>2]|0,(_|0)>0){u=e[t+220>>2]|0,h=0;do{if(n=e[u+(h<<2)>>2]|0,A[n+20>>0]|0&&(d=e[n+28>>2]|0,(e[d+204>>2]&3|0)==0)&&(m=e[n+32>>2]|0,(e[m+204>>2]&3|0)==0)){if(o=e[d+208>>2]|0,n=e[m+208>>2]|0,l=e[(e[t+204>>2]|0)+16>>2]|0,s=e[l+(o<<3)>>2]|0,(s|0)==(o|0))a=o;else{o=l+(o<<3)|0;do a=l+(s<<3)|0,e[o>>2]=e[a>>2],a=e[a>>2]|0,o=l+(a<<3)|0,s=e[o>>2]|0;while((a|0)!=(s|0))}if(s=e[l+(n<<3)>>2]|0,(s|0)!=(n|0)){o=l+(n<<3)|0;do n=l+(s<<3)|0,e[o>>2]=e[n>>2],n=e[n>>2]|0,o=l+(n<<3)|0,s=e[o>>2]|0;while((n|0)!=(s|0))}(a|0)!=(n|0)&&(e[l+(a<<3)>>2]=n,o=l+(n<<3)+4|0,e[o>>2]=(e[o>>2]|0)+(e[l+(a<<3)+4>>2]|0))}h=h+1|0}while((h|0)!=(_|0))}if(n=e[t+204>>2]|0,zt[e[(e[n>>2]|0)+12>>2]&127](n,t),n=e[2006]|0,t=(e[n+16>>2]|0)+-1|0,e[n+16>>2]=t,t|0){H=g;return}do if(e[n+4>>2]|0)if(Tn(g|0,0)|0,t=e[5649]|0,i[n+8>>2]=+i[n+8>>2]+ +(((e[g+4>>2]|0)-(e[t+4>>2]|0)+(((e[g>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[n+12>>2]|0)|0)>>>0)/1e3,e[n+16>>2]|0){H=g;return}else{n=e[2006]|0;break}while(!1);e[2006]=e[n+20>>2],H=g}function NY(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0;if(_=H,H=H+16|0,$n(16222),u=e[t+212>>2]|0,l=e[t+180>>2]|0,(l|0)<(u|0)){if((e[t+184>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,s=Xe((u<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+180>>2]|0):(s=0,o=l),(o|0)>0){a=0;do e[s+(a<<2)>>2]=e[(e[t+188>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}o=e[t+188>>2]|0,o|0&&(A[t+192>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+188>>2]=0),A[t+192>>0]=1,e[t+188>>2]=s,e[t+184>>2]=u,o=t+188|0}else o=t+188|0;s=l;do e[(e[o>>2]|0)+(s<<2)>>2]=0,s=s+1|0;while((s|0)!=(u|0))}else o=t+188|0;for(e[t+180>>2]=u,s=0;!((s|0)>=(Ct[e[(e[t>>2]|0)+104>>2]&127](t)|0));)e[(e[o>>2]|0)+(s<<2)>>2]=e[(e[t+220>>2]|0)+(s<<2)>>2],s=s+1|0;if(s=e[t+180>>2]|0,(s|0)>1&&C6(t+176|0,0,s+-1|0),Ct[e[(e[t>>2]|0)+104>>2]&127](t)|0?s=e[o>>2]|0:s=0,a=e[t+196>>2]|0,l=e[t+180>>2]|0,u=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,e[a+4>>2]=n,e[a+12>>2]=s,e[a+16>>2]=l,e[a+20>>2]=u,s=e[a+32>>2]|0,(s|0)<0){(e[a+36>>2]|0)<0&&(o=e[a+40>>2]|0,o|0&&(A[a+44>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[a+40>>2]=0),A[a+44>>0]=1,e[a+40>>2]=0,e[a+36>>2]=0);do e[(e[a+40>>2]|0)+(s<<2)>>2]=0,s=s+1|0;while((s|0)!=0)}if(e[a+32>>2]=0,s=e[a+52>>2]|0,(s|0)<0){(e[a+56>>2]|0)<0&&(o=e[a+60>>2]|0,o|0&&(A[a+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[a+60>>2]=0),A[a+64>>0]=1,e[a+60>>2]=0,e[a+56>>2]=0);do e[(e[a+60>>2]|0)+(s<<2)>>2]=0,s=s+1|0;while((s|0)!=0)}if(e[a+52>>2]=0,s=e[a+72>>2]|0,(s|0)<0){(e[a+76>>2]|0)<0&&(o=e[a+80>>2]|0,o|0&&(A[a+84>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[a+80>>2]=0),A[a+84>>0]=1,e[a+80>>2]=0,e[a+76>>2]=0);do e[(e[a+80>>2]|0)+(s<<2)>>2]=0,s=s+1|0;while((s|0)!=0)}if(e[a+72>>2]=0,l=e[t+200>>2]|0,a=e[(e[l>>2]|0)+8>>2]|0,u=e[t+8>>2]|0,s=e[t+24>>2]|0,s=Ct[e[(e[s>>2]|0)+36>>2]&127](s)|0,f0[a&127](l,u,s),cne(e[t+204>>2]|0,e[t+24>>2]|0,t,e[t+196>>2]|0),w6(e[t+196>>2]|0),s=e[t+200>>2]|0,f0[e[(e[s>>2]|0)+16>>2]&127](s,n,e[t+72>>2]|0),s=e[2006]|0,t=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=t,t|0){H=_;return}do if(e[s+4>>2]|0)if(Tn(_|0,0)|0,t=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[_+4>>2]|0)-(e[t+4>>2]|0)+(((e[_>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0){H=_;return}else{s=e[2006]|0;break}while(!1);e[2006]=e[s+20>>2],H=_}function C6(t,n,s){t=t|0,n=n|0,s=s|0;for(var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;;){for(d=e[t+12>>2]|0,m=e[d+(((n+s|0)/2|0)<<2)>>2]|0,o=n,a=s;;){if(h=e[(e[m+28>>2]|0)+208>>2]|0,(h|0)>-1)for(;u=e[d+(o<<2)>>2]|0,l=e[(e[u+28>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+32>>2]|0)+208>>2]|0),(l|0)<(h|0);)o=o+1|0;else for(_=e[(e[m+32>>2]|0)+208>>2]|0;u=e[d+(o<<2)>>2]|0,l=e[(e[u+28>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+32>>2]|0)+208>>2]|0),(l|0)<(_|0);)o=o+1|0;if((h|0)>-1)for(;u=e[d+(a<<2)>>2]|0,l=e[(e[u+28>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+32>>2]|0)+208>>2]|0),(h|0)<(l|0);)a=a+-1|0;else for(_=e[(e[m+32>>2]|0)+208>>2]|0;u=e[d+(a<<2)>>2]|0,l=e[(e[u+28>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+32>>2]|0)+208>>2]|0),(_|0)<(l|0);)a=a+-1|0;if((o|0)<=(a|0)&&(_=d+(o<<2)|0,h=e[_>>2]|0,e[_>>2]=e[d+(a<<2)>>2],e[(e[t+12>>2]|0)+(a<<2)>>2]=h,o=o+1|0,a=a+-1|0),(o|0)>(a|0))break;d=e[t+12>>2]|0}if((a|0)>(n|0)&&C6(t,n,a),(o|0)<(s|0))n=o;else break}}function w6(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0;if(n=e[t+32>>2]|0,n?o=e[t+40>>2]|0:o=0,u=e[t+52>>2]|0,u?a=e[t+60>>2]|0:a=0,s=e[t+72>>2]|0,s?l=e[t+80>>2]|0:l=0,_=e[t+8>>2]|0,+vu[e[(e[_>>2]|0)+12>>2]&3](_,o,n,a,u,l,s,e[t+4>>2]|0,e[t+20>>2]|0,e[t+24>>2]|0),n=e[t+32>>2]|0,(n|0)<0){(e[t+36>>2]|0)<0&&(s=e[t+40>>2]|0,s|0&&(A[t+44>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+40>>2]=0),A[t+44>>0]=1,e[t+40>>2]=0,e[t+36>>2]=0);do e[(e[t+40>>2]|0)+(n<<2)>>2]=0,n=n+1|0;while((n|0)!=0)}if(e[t+32>>2]=0,n=e[t+52>>2]|0,(n|0)<0){(e[t+56>>2]|0)<0&&(s=e[t+60>>2]|0,s|0&&(A[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+60>>2]=0),A[t+64>>0]=1,e[t+60>>2]=0,e[t+56>>2]=0);do e[(e[t+60>>2]|0)+(n<<2)>>2]=0,n=n+1|0;while((n|0)!=0)}if(e[t+52>>2]=0,n=e[t+72>>2]|0,(n|0)>=0){e[t+72>>2]=0;return}(e[t+76>>2]|0)<0&&(s=e[t+80>>2]|0,s|0&&(A[t+84>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+80>>2]=0),A[t+84>>0]=1,e[t+80>>2]=0,e[t+76>>2]=0);do e[(e[t+80>>2]|0)+(n<<2)>>2]=0,n=n+1|0;while((n|0)!=0);e[t+72>>2]=0}function DY(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0;if(h=H,H=H+16|0,$n(15930),s=e[t+232>>2]|0,(s|0)>0){_=(A[23328]|0)==0,u=0;do{l=e[(e[t+240>>2]|0)+(u<<2)>>2]|0;e:do if(l){o=e[l+216>>2]|0;t:do switch(o|0){case 4:case 2:{if((o|0)==4)break e;break}default:{if(S=+i[l+336>>2],g=+i[l+340>>2],m=+i[l+344>>2],d=+i[l+496>>2],S*S+g*g+m*m<d*d&&(d=+i[l+352>>2],m=+i[l+356>>2],g=+i[l+360>>2],S=+i[l+500>>2],d*d+m*m+g*g<S*S)){i[l+220>>2]=+i[l+220>>2]+n;break t}i[l+220>>2]=0,(o&-2|0)!=4&&(e[l+216>>2]=0,o=0)}}while(!1);a=o&-2;do if(_){if((a|0)!=2&&!(+i[l+220>>2]>2))break;if(e[l+204>>2]&3|0){if((a|0)==4)break e;e[l+216>>2]=2;break e}if((o|0)==1){if((a|0)==4)break e;e[l+216>>2]=3;break e}else{if((o|0)!=2)break e;s=(e[l+284>>2]|0)+2|0,e[l+352>>2]=0,e[l+352+4>>2]=0,e[l+352+8>>2]=0,e[l+352+12>>2]=0,e[l+284>>2]=s,e[l+336>>2]=0,e[l+336+4>>2]=0,e[l+336+8>>2]=0,e[l+336+12>>2]=0,s=e[t+232>>2]|0;break e}}while(!1);(a|0)!=4&&(e[l+216>>2]=1)}while(!1);u=u+1|0}while((u|0)<(s|0))}if(s=e[2006]|0,t=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=t,t|0){H=h;return}do if(e[s+4>>2]|0)if(Tn(h|0,0)|0,t=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[h+4>>2]|0)-(e[t+4>>2]|0)+(((e[h>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0){H=h;return}else{s=e[2006]|0;break}while(!1);e[2006]=e[s+20>>2],H=h}function IY(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0;if(L=H,H=H+464|0,$n(15952),s=e[t+84>>2]|0,s|0&&g2[s&31](t,n),g2[e[(e[t>>2]|0)+140>>2]&31](t,n),i[t+28>>2]=n,e[t+32>>2]=0,e[t+48>>2]=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,$n(15981),$n(16006),s=e[t+316>>2]|0,(e[t+308>>2]|0)>0){o=0;do C=e[t+24>>2]|0,zt[e[(e[C>>2]|0)+16>>2]&127](C,e[s+(o<<2)>>2]|0),o=o+1|0,s=e[t+316>>2]|0;while((o|0)<(e[t+308>>2]|0))}s|0&&(A[t+320>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+316>>2]=0),A[t+320>>0]=1,e[t+316>>2]=0,e[t+308>>2]=0,e[t+312>>2]=0,s=e[2006]|0,C=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=C;do if(!C){if(e[s+4>>2]|0){if(Tn(L+368|0,0)|0,C=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[L+368+4>>2]|0)-(e[C+4>>2]|0)+(((e[L+368>>2]|0)-(e[C>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0)break;s=e[2006]|0}e[2006]=e[s+20>>2]}while(!1);e:do if((e[t+232>>2]|0)>0)for(g=L+304+48|0,S=L+368+44|0,C=0;;){l=e[(e[t+240>>2]|0)+(C<<2)>>2]|0,i[l+248>>2]=1;t:do switch(e[l+216>>2]|0){case 2:case 5:break;default:if((e[l+204>>2]&3|0)==0&&(oo(l+4|0,+i[l+336>>2],+i[l+340>>2],+i[l+344>>2],l+352|0,n,L+304|0),w=+i[g>>2],M=w-+i[l+52>>2],E=+i[L+304+52>>2],D=E-+i[l+56>>2],N=+i[L+304+56>>2],B=N-+i[l+60>>2],A[t+44>>0]|0)&&(d=+i[l+256>>2],d*d!=0?d*d<M*M+D*D+B*B:0)){if($n(16043),(e[(e[l+192>>2]|0)+4>>2]|0)<20&&(e[5475]=(e[5475]|0)+1,a=e[t+68>>2]|0,a=Ct[e[(e[a>>2]|0)+36>>2]&127](a)|0,m=e[t+24>>2]|0,i[L+368+4>>2]=1,ee[L+368+8>>1]=1,ee[L+368+10>>1]=-1,e[L+368>>2]=7848,e[L+368+12>>2]=e[l+52>>2],e[L+368+12+4>>2]=e[l+52+4>>2],e[L+368+12+8>>2]=e[l+52+8>>2],e[L+368+12+12>>2]=e[l+52+12>>2],e[L+368+28>>2]=e[g>>2],e[L+368+28+4>>2]=e[g+4>>2],e[L+368+28+8>>2]=e[g+8>>2],e[L+368+28+12>>2]=e[g+12>>2],e[L+368+76>>2]=0,e[L+368>>2]=7872,e[L+368+80>>2]=l,e[L+368+88>>2]=a,e[L+368+92>>2]=m,m=e[l+252>>2]|0,e[L+248+8>>2]=0,e[L+248+12>>2]=-1,e[L+248+16>>2]=1065353216,e[L+248+20>>2]=1065353216,e[L+248+24>>2]=1065353216,i[L+248+28>>2]=0,e[L+248>>2]=6380,e[L+248+4>>2]=8,e[L+248+32>>2]=m,e[L+248+48>>2]=m,e[L+368+84>>2]=e[t+56>>2],m=e[(e[l+188>>2]|0)+4>>2]|0,ee[L+368+8>>1]=m,ee[L+368+10>>1]=m>>>16,e[L+184+48>>2]=e[g>>2],e[L+184+48+4>>2]=e[g+4>>2],e[L+184+48+8>>2]=e[g+8>>2],e[L+184+48+12>>2]=e[g+12>>2],e[L+184>>2]=e[l+4>>2],e[L+184+4>>2]=e[l+4+4>>2],e[L+184+8>>2]=e[l+4+8>>2],e[L+184+12>>2]=e[l+4+12>>2],e[L+184+16>>2]=e[l+20>>2],e[L+184+16+4>>2]=e[l+20+4>>2],e[L+184+16+8>>2]=e[l+20+8>>2],e[L+184+16+12>>2]=e[l+20+12>>2],e[L+184+32>>2]=e[l+36>>2],e[L+184+32+4>>2]=e[l+36+4>>2],e[L+184+32+8>>2]=e[l+36+8>>2],e[L+184+32+12>>2]=e[l+36+12>>2],u1(t,L+248|0,l+4|0,L+184|0,L+368|0,0),k=+i[L+368+4>>2],k<1)){if(u=k*(w-+i[l+52>>2]),_=k*(E-+i[l+56>>2]),h=k*(N-+i[l+60>>2]),d=-(_*+i[L+368+48>>2])-u*+i[S>>2]-h*+i[L+368+52>>2],m=e[t+24>>2]|0,m=V0[e[(e[m>>2]|0)+12>>2]&63](m,l,e[L+368+76>>2]|0)|0,s=e[t+308>>2]|0,(s|0)==(e[t+312>>2]|0)&&(F=s|0?s<<1:1,(s|0)<(F|0))){if(F?(e[5637]=(e[5637]|0)+1,s=Xe((F<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=s,s=e[t+308>>2]|0):a=0,(s|0)>0){o=0;do e[a+(o<<2)>>2]=e[(e[t+316>>2]|0)+(o<<2)>>2],o=o+1|0;while((o|0)!=(s|0))}o=e[t+316>>2]|0,o&&(A[t+320>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0),s=e[t+308>>2]|0),e[t+316>>2]=0),A[t+320>>0]=1,e[t+316>>2]=a,e[t+312>>2]=F}e[(e[t+316>>2]|0)+(s<<2)>>2]=m,e[t+308>>2]=s+1,u=u+ +i[l+52>>2],_=_+ +i[l+56>>2],h=h+ +i[l+60>>2],a=e[L+368+76>>2]|0,pe=+i[a+4>>2],te=+i[a+20>>2],W=+i[a+36>>2],ne=+i[a+8>>2],X=+i[a+24>>2],q=+i[a+40>>2],$=+i[a+12>>2],z=+i[a+28>>2],V=+i[a+44>>2],Y=-+i[a+52>>2],O=-+i[a+56>>2],U=-+i[a+60>>2],e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,e[L+12>>2]=0,i[L+16>>2]=u*pe+_*te+h*W+(pe*Y+te*O+W*U),i[L+20>>2]=u*ne+_*X+h*q+(ne*Y+X*O+q*U),i[L+24>>2]=u*$+_*z+h*V+($*Y+z*O+V*U),i[L+28>>2]=0,e[L+64>>2]=e[S>>2],e[L+64+4>>2]=e[S+4>>2],e[L+64+8>>2]=e[S+8>>2],e[L+64+12>>2]=e[S+12>>2],i[L+80>>2]=d,i[L+84>>2]=0,i[L+88>>2]=0,i[L+92>>2]=0,e[L+112>>2]=0,A[L+116>>0]=0,e[L+120>>2]=0,e[L+120+4>>2]=0,e[L+120+8>>2]=0,e[L+120+12>>2]=0,e[L+120+16>>2]=0,e[L+120+20>>2]=0,e[L+120+24>>2]=0,e[L+120+28>>2]=0,a=k6(m,L)|0,i[m+4+(a*184|0)+92>>2]=0,d=+i[l+224>>2]*+i[(e[L+368+76>>2]|0)+224>>2],d=d<-10?-10:d,i[m+4+(a*184|0)+84>>2]=d>10?10:d,e[m+4+(a*184|0)+48>>2]=e[l+52>>2],e[m+4+(a*184|0)+48+4>>2]=e[l+52+4>>2],e[m+4+(a*184|0)+48+8>>2]=e[l+52+8>>2],e[m+4+(a*184|0)+48+12>>2]=e[l+52+12>>2],i[m+4+(a*184|0)+32>>2]=u,i[m+4+(a*184|0)+36>>2]=_,i[m+4+(a*184|0)+40>>2]=h,i[m+4+(a*184|0)+44>>2]=0}if(s=e[2006]|0,m=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=m,!m){if(e[s+4>>2]|0){if(Tn(L+368|0,0)|0,m=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[L+368+4>>2]|0)-(e[m+4>>2]|0)+(((e[L+368>>2]|0)-(e[m>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0)break t;s=e[2006]|0}e[2006]=e[s+20>>2]}}}while(!1);if(C=C+1|0,(C|0)>=(e[t+232>>2]|0))break e}while(!1);s=e[2006]|0,F=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=F;do if(!F){if(e[s+4>>2]|0){if(Tn(L+368|0,0)|0,F=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[L+368+4>>2]|0)-(e[F+4>>2]|0)+(((e[L+368>>2]|0)-(e[F>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0)break;s=e[2006]|0}e[2006]=e[s+20>>2]}while(!1);if(Vt[e[(e[t>>2]|0)+44>>2]&255](t),Vt[e[(e[t>>2]|0)+148>>2]&255](t),i[t+104>>2]=n,zt[e[(e[t>>2]|0)+152>>2]&127](t,t+92|0),g2[e[(e[t>>2]|0)+144>>2]&31](t,n),$n(16070),(e[t+280>>2]|0)>0){s=0;do F=e[(e[t+288>>2]|0)+(s<<2)>>2]|0,sr[e[(e[F>>2]|0)+8>>2]&7](F,t,n),s=s+1|0;while((s|0)<(e[t+280>>2]|0))}s=e[2006]|0,F=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=F;do if(!F){if(e[s+4>>2]|0){if(Tn(L+368|0,0)|0,F=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[L+368+4>>2]|0)-(e[F+4>>2]|0)+(((e[L+368>>2]|0)-(e[F>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0)break;s=e[2006]|0}e[2006]=e[s+20>>2]}while(!1);if(g2[e[(e[t>>2]|0)+156>>2]&31](t,n),s=e[t+80>>2]|0,s|0&&g2[s&31](t,n),s=e[2006]|0,t=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=t,t|0){H=L;return}do if(e[s+4>>2]|0)if(Tn(L+368|0,0)|0,t=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[L+368+4>>2]|0)-(e[t+4>>2]|0)+(((e[L+368>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0){H=L;return}else{s=e[2006]|0;break}while(!1);e[2006]=e[s+20>>2],H=L}function PY(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,_=0,h=0;if(l=H,H=H+32|0,s=e[t+8>>2]|0,(s|0)<=0){H=l;return}a=0;do o=e[(e[t+16>>2]|0)+(a<<2)>>2]|0,!((o|0)==0||(e[o+236>>2]&2|0)==0)&&(e[o+216>>2]|0)!=2&&!(n==0||(e[o+204>>2]&2|0)==0)&&(s=e[o+504>>2]|0,s&&zt[e[(e[s>>2]|0)+8>>2]&127](s,o+4|0),s=o+4|0,_=1/n*(+i[o+56>>2]-+i[o+120>>2]),h=1/n*(+i[o+60>>2]-+i[o+124>>2]),i[o+336>>2]=1/n*(+i[o+52>>2]-+i[o+116>>2]),i[o+340>>2]=_,i[o+344>>2]=h,i[o+348>>2]=0,Ea(o+68|0,s,l+8|0,l),h=+i[l>>2],_=1/n*(h*+i[l+8+4>>2]),u=1/n*(h*+i[l+8+8>>2]),i[o+352>>2]=1/n*(+i[l+8>>2]*h),i[o+356>>2]=_,i[o+360>>2]=u,i[o+364>>2]=0,e[o+132>>2]=e[o+336>>2],e[o+132+4>>2]=e[o+336+4>>2],e[o+132+8>>2]=e[o+336+8>>2],e[o+132+12>>2]=e[o+336+12>>2],e[o+148>>2]=e[o+352>>2],e[o+148+4>>2]=e[o+352+4>>2],e[o+148+8>>2]=e[o+352+8>>2],e[o+148+12>>2]=e[o+352+12>>2],e[o+68>>2]=e[s>>2],e[o+68+4>>2]=e[s+4>>2],e[o+68+8>>2]=e[s+8>>2],e[o+68+12>>2]=e[s+12>>2],e[o+84>>2]=e[o+20>>2],e[o+84+4>>2]=e[o+20+4>>2],e[o+84+8>>2]=e[o+20+8>>2],e[o+84+12>>2]=e[o+20+12>>2],e[o+100>>2]=e[o+36>>2],e[o+100+4>>2]=e[o+36+4>>2],e[o+100+8>>2]=e[o+36+8>>2],e[o+100+12>>2]=e[o+36+12>>2],e[o+116>>2]=e[o+52>>2],e[o+116+4>>2]=e[o+52+4>>2],e[o+116+8>>2]=e[o+52+8>>2],e[o+116+12>>2]=e[o+52+12>>2],s=e[t+8>>2]|0),a=a+1|0;while((a|0)<(s|0));H=l}function LY(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0;if(W=H,H=H+384|0,U=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,U=(Ct[e[(e[U>>2]|0)+56>>2]&127](U)|0)>>>11,X=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,X=(Ct[e[(e[X>>2]|0)+56>>2]&127](X)|0)>>>12,ne=+i[n+40>>2],ne<=0){H=W;return}switch(e[n+4>>2]|0){case 3:{e[W+320>>2]=1065353216,e[W+320+4>>2]=0,e[W+320+4+4>>2]=0,e[W+320+4+8>>2]=0,e[W+320+4+12>>2]=0,e[W+320+20>>2]=1065353216,e[W+320+24>>2]=0,e[W+320+24+4>>2]=0,e[W+320+24+8>>2]=0,e[W+320+24+12>>2]=0,e[W+320+40>>2]=1065353216,X=W+320+44|0,e[X>>2]=0,e[X+4>>2]=0,e[X+8>>2]=0,e[X+12>>2]=0,e[X+16>>2]=0,L=+i[n+300>>2],F=+i[n+304>>2],k=+i[n+308>>2],X=e[n+28>>2]|0,B=L*+i[X+20>>2]+F*+i[X+24>>2]+k*+i[X+28>>2]+ +i[X+56>>2],N=L*+i[X+36>>2]+F*+i[X+40>>2]+k*+i[X+44>>2]+ +i[X+60>>2],i[W+320+48>>2]=L*+i[X+4>>2]+F*+i[X+8>>2]+k*+i[X+12>>2]+ +i[X+52>>2],i[W+320+52>>2]=B,i[W+320+56>>2]=N,i[W+320+60>>2]=0,X=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,sr[e[(e[X>>2]|0)+64>>2]&7](X,W+320|0,ne),N=+i[n+316>>2],B=+i[n+320>>2],k=+i[n+324>>2],n=e[n+32>>2]|0,F=N*+i[n+20>>2]+B*+i[n+24>>2]+k*+i[n+28>>2]+ +i[n+56>>2],L=N*+i[n+36>>2]+B*+i[n+40>>2]+k*+i[n+44>>2]+ +i[n+60>>2],i[W+320+48>>2]=N*+i[n+4>>2]+B*+i[n+8>>2]+k*+i[n+12>>2]+ +i[n+52>>2],i[W+320+52>>2]=F,i[W+320+56>>2]=L,i[W+320+60>>2]=0,U&1|0&&(t=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,sr[e[(e[t>>2]|0)+64>>2]&7](t,W+320|0,ne)),H=W;return}case 4:{q=e[n+28>>2]|0,te=+i[n+552>>2],oe=+i[q+4>>2],s=+i[n+552+16>>2],re=+i[q+8>>2],o=+i[n+552+32>>2],me=+i[q+12>>2],_=+i[n+552+4>>2],h=+i[n+552+20>>2],C=+i[n+552+36>>2],w=+i[n+552+8>>2],E=+i[n+552+24>>2],N=+i[n+552+40>>2],he=+i[q+20>>2],_e=+i[q+24>>2],pe=+i[q+28>>2],M=+i[q+36>>2],D=+i[q+40>>2],B=+i[q+44>>2],xe=+i[n+552+48>>2],ae=+i[n+552+52>>2],L=+i[n+552+56>>2],k=+i[q+52>>2]+(oe*xe+re*ae+me*L),F=he*xe+_e*ae+pe*L+ +i[q+56>>2],L=M*xe+D*ae+B*L+ +i[q+60>>2],i[W+320>>2]=te*oe+s*re+o*me,i[W+320+4>>2]=oe*_+re*h+me*C,i[W+320+8>>2]=oe*w+re*E+me*N,i[W+320+12>>2]=0,i[W+320+16>>2]=te*he+s*_e+o*pe,i[W+320+20>>2]=_*he+h*_e+C*pe,i[W+320+24>>2]=w*he+E*_e+N*pe,i[W+320+28>>2]=0,i[W+320+32>>2]=te*M+s*D+o*B,i[W+320+36>>2]=_*M+h*D+C*B,i[W+320+40>>2]=w*M+E*D+N*B,i[W+320+44>>2]=0,i[W+320+48>>2]=k,i[W+320+52>>2]=F,i[W+320+56>>2]=L,i[W+320+60>>2]=0,U&1?(q=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,sr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne),q=e[n+32>>2]|0,D=+i[n+616>>2],_=+i[q+4>>2],N=+i[n+616+16>>2],h=+i[q+8>>2],B=+i[n+616+32>>2],C=+i[q+12>>2],k=+i[n+616+4>>2],F=+i[n+616+20>>2],L=+i[n+616+36>>2],te=+i[n+616+8>>2],_e=+i[n+616+24>>2],me=+i[n+616+40>>2],w=+i[q+20>>2],M=+i[q+24>>2],E=+i[q+28>>2],pe=+i[q+36>>2],he=+i[q+40>>2],re=+i[q+44>>2],s=+i[n+616+48>>2],o=+i[n+616+52>>2],xe=+i[n+616+56>>2],oe=+i[q+52>>2]+(_*s+h*o+C*xe),ae=w*s+M*o+E*xe+ +i[q+56>>2],xe=pe*s+he*o+re*xe+ +i[q+60>>2],i[W+320>>2]=D*_+N*h+B*C,i[W+320+4>>2]=_*k+h*F+C*L,i[W+320+8>>2]=_*te+h*_e+C*me,i[W+320+12>>2]=0,i[W+320+16>>2]=D*w+N*M+B*E,i[W+320+20>>2]=k*w+F*M+L*E,i[W+320+24>>2]=te*w+_e*M+me*E,i[W+320+28>>2]=0,i[W+320+32>>2]=D*pe+N*he+B*re,i[W+320+36>>2]=k*pe+F*he+L*re,i[W+320+40>>2]=te*pe+_e*he+me*re,i[W+320+44>>2]=0,i[W+320+48>>2]=oe,i[W+320+52>>2]=ae,i[W+320+56>>2]=xe,i[W+320+60>>2]=0,q=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,sr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne)):(q=e[n+32>>2]|0,D=+i[n+616>>2],_=+i[q+4>>2],N=+i[n+616+16>>2],h=+i[q+8>>2],B=+i[n+616+32>>2],C=+i[q+12>>2],k=+i[n+616+4>>2],F=+i[n+616+20>>2],L=+i[n+616+36>>2],te=+i[n+616+8>>2],_e=+i[n+616+24>>2],me=+i[n+616+40>>2],w=+i[q+20>>2],M=+i[q+24>>2],E=+i[q+28>>2],pe=+i[q+36>>2],he=+i[q+40>>2],re=+i[q+44>>2],s=+i[n+616+48>>2],o=+i[n+616+52>>2],xe=+i[n+616+56>>2],oe=+i[q+52>>2]+(_*s+h*o+C*xe),ae=w*s+M*o+E*xe+ +i[q+56>>2],xe=pe*s+he*o+re*xe+ +i[q+60>>2],i[W+320>>2]=D*_+N*h+B*C,i[W+320+4>>2]=_*k+h*F+C*L,i[W+320+8>>2]=_*te+h*_e+C*me,i[W+320+12>>2]=0,i[W+320+16>>2]=D*w+N*M+B*E,i[W+320+20>>2]=k*w+F*M+L*E,i[W+320+24>>2]=te*w+_e*M+me*E,i[W+320+28>>2]=0,i[W+320+32>>2]=D*pe+N*he+B*re,i[W+320+36>>2]=k*pe+F*he+L*re,i[W+320+40>>2]=te*pe+_e*he+me*re,i[W+320+44>>2]=0,i[W+320+48>>2]=oe,i[W+320+52>>2]=ae,i[W+320+56>>2]=xe,i[W+320+60>>2]=0),_=+i[n+688>>2],h=+i[n+688+4>>2],s=+an(_-h),s<-3.1415927410125732?o=s+6.2831854820251465:s>3.1415927410125732?o=s+-6.2831854820251465:o=s,s=+an(_+h),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),o!=s&&X&1|0&&(e[W+304>>2]=e[W+320+8>>2],e[W+304+4>>2]=e[W+320+24>>2],e[W+304+8>>2]=e[W+320+40>>2],i[W+304+12>>2]=0,e[W+272>>2]=e[W+320>>2],e[W+272+4>>2]=e[W+320+16>>2],e[W+272+8>>2]=e[W+320+32>>2],i[W+272+12>>2]=0,t=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,n=e[(e[t>>2]|0)+68>>2]|0,e[W+288>>2]=0,e[W+288+4>>2]=0,e[W+288+8>>2]=0,e[W+288+12>>2]=0,q1[n&0](t,W+320+48|0,W+304|0,W+272|0,ne,ne,h>0?o:0,h>0?s:6.2831854820251465,W+288|0,h>0,10)),H=W;return}case 5:{if(u=e[n+28>>2]|0,D=+i[n+300>>2],_=+i[u+4>>2],N=+i[n+300+16>>2],h=+i[u+8>>2],B=+i[n+300+32>>2],C=+i[u+12>>2],k=+i[n+300+4>>2],F=+i[n+300+20>>2],L=+i[n+300+36>>2],te=+i[n+300+8>>2],_e=+i[n+300+24>>2],me=+i[n+300+40>>2],w=+i[u+20>>2],M=+i[u+24>>2],E=+i[u+28>>2],pe=+i[u+36>>2],he=+i[u+40>>2],re=+i[u+44>>2],s=+i[n+300+48>>2],o=+i[n+300+52>>2],xe=+i[n+300+56>>2],oe=+i[u+52>>2]+(_*s+h*o+C*xe),ae=w*s+M*o+E*xe+ +i[u+56>>2],xe=pe*s+he*o+re*xe+ +i[u+60>>2],i[W+320>>2]=D*_+N*h+B*C,u=W+320+4|0,i[u>>2]=_*k+h*F+C*L,d=W+320+8|0,i[d>>2]=_*te+h*_e+C*me,i[W+320+12>>2]=0,m=W+320+16|0,i[m>>2]=D*w+N*M+B*E,g=W+320+20|0,i[g>>2]=k*w+F*M+L*E,S=W+320+24|0,i[S>>2]=te*w+_e*M+me*E,i[W+320+28>>2]=0,V=W+320+32|0,i[V>>2]=D*pe+N*he+B*re,O=W+320+36|0,i[O>>2]=k*pe+F*he+L*re,z=W+320+40|0,i[z>>2]=te*pe+_e*he+me*re,i[W+320+44>>2]=0,Y=W+320+48|0,i[Y>>2]=oe,$=W+320+52|0,i[$>>2]=ae,q=W+320+56|0,i[q>>2]=xe,i[W+320+60>>2]=0,U&1?(U=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,sr[e[(e[U>>2]|0)+64>>2]&7](U,W+320|0,ne),U=e[n+32>>2]|0,D=+i[n+364>>2],_=+i[U+4>>2],N=+i[n+364+16>>2],h=+i[U+8>>2],B=+i[n+364+32>>2],C=+i[U+12>>2],k=+i[n+364+4>>2],F=+i[n+364+20>>2],L=+i[n+364+36>>2],te=+i[n+364+8>>2],_e=+i[n+364+24>>2],me=+i[n+364+40>>2],w=+i[U+20>>2],M=+i[U+24>>2],E=+i[U+28>>2],pe=+i[U+36>>2],he=+i[U+40>>2],re=+i[U+44>>2],s=+i[n+364+48>>2],o=+i[n+364+52>>2],xe=+i[n+364+56>>2],oe=+i[U+52>>2]+(_*s+h*o+C*xe),ae=w*s+M*o+E*xe+ +i[U+56>>2],xe=pe*s+he*o+re*xe+ +i[U+60>>2],i[W+320>>2]=D*_+N*h+B*C,i[u>>2]=_*k+h*F+C*L,i[d>>2]=_*te+h*_e+C*me,i[W+320+12>>2]=0,i[m>>2]=D*w+N*M+B*E,i[g>>2]=k*w+F*M+L*E,i[S>>2]=te*w+_e*M+me*E,i[W+320+28>>2]=0,i[V>>2]=D*pe+N*he+B*re,i[O>>2]=k*pe+F*he+L*re,i[z>>2]=te*pe+_e*he+me*re,i[W+320+44>>2]=0,i[Y>>2]=oe,i[$>>2]=ae,i[q>>2]=xe,i[W+320+60>>2]=0,U=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,sr[e[(e[U>>2]|0)+64>>2]&7](U,W+320|0,ne)):(U=e[n+32>>2]|0,D=+i[n+364>>2],_=+i[U+4>>2],N=+i[n+364+16>>2],h=+i[U+8>>2],B=+i[n+364+32>>2],C=+i[U+12>>2],k=+i[n+364+4>>2],F=+i[n+364+20>>2],L=+i[n+364+36>>2],te=+i[n+364+8>>2],_e=+i[n+364+24>>2],me=+i[n+364+40>>2],w=+i[U+20>>2],M=+i[U+24>>2],E=+i[U+28>>2],pe=+i[U+36>>2],he=+i[U+40>>2],re=+i[U+44>>2],s=+i[n+364+48>>2],o=+i[n+364+52>>2],xe=+i[n+364+56>>2],oe=+i[U+52>>2]+(_*s+h*o+C*xe),ae=w*s+M*o+E*xe+ +i[U+56>>2],xe=pe*s+he*o+re*xe+ +i[U+60>>2],i[W+320>>2]=D*_+N*h+B*C,i[u>>2]=_*k+h*F+C*L,i[d>>2]=_*te+h*_e+C*me,i[W+320+12>>2]=0,i[m>>2]=D*w+N*M+B*E,i[g>>2]=k*w+F*M+L*E,i[S>>2]=te*w+_e*M+me*E,i[W+320+28>>2]=0,i[V>>2]=D*pe+N*he+B*re,i[O>>2]=k*pe+F*he+L*re,i[z>>2]=te*pe+_e*he+me*re,i[W+320+44>>2]=0,i[Y>>2]=oe,i[$>>2]=ae,i[q>>2]=xe,i[W+320+60>>2]=0),X&1|0){cm(W+304|0,n,6.0868353843688965,ne),me=+i[W+304>>2],re=+i[W+304+4>>2],oe=+i[W+304+8>>2],ae=me*+i[m>>2]+re*+i[g>>2]+oe*+i[S>>2]+ +i[$>>2],xe=me*+i[V>>2]+re*+i[O>>2]+oe*+i[z>>2]+ +i[q>>2],i[W+304>>2]=me*+i[W+320>>2]+re*+i[u>>2]+oe*+i[d>>2]+ +i[Y>>2],i[W+304+4>>2]=ae,i[W+304+8>>2]=xe,i[W+304+12>>2]=0,l=W+320+48|0,a=0;do cm(W+272|0,n,+(a|0)*6.283185005187988*.03125,ne),me=+i[W+272>>2],re=+i[W+272+4>>2],oe=+i[W+272+8>>2],ae=me*+i[m>>2]+re*+i[g>>2]+oe*+i[S>>2]+ +i[$>>2],xe=me*+i[V>>2]+re*+i[O>>2]+oe*+i[z>>2]+ +i[q>>2],i[W+272>>2]=me*+i[W+320>>2]+re*+i[u>>2]+oe*+i[d>>2]+ +i[Y>>2],i[W+272+4>>2]=ae,i[W+272+8>>2]=xe,i[W+272+12>>2]=0,X=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,U=e[(e[X>>2]|0)+16>>2]|0,e[W+256>>2]=0,e[W+256+4>>2]=0,e[W+256+8>>2]=0,e[W+256+12>>2]=0,Kt[U&127](X,W+304|0,W+272|0,W+256|0),a&3||(X=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,U=e[(e[X>>2]|0)+16>>2]|0,e[W+240>>2]=0,e[W+240+4>>2]=0,e[W+240+8>>2]=0,e[W+240+12>>2]=0,Kt[U&127](X,l,W+272|0,W+240|0)),e[W+304>>2]=e[W+272>>2],e[W+304+4>>2]=e[W+272+4>>2],e[W+304+8>>2]=e[W+272+8>>2],e[W+304+12>>2]=e[W+272+12>>2],a=a+1|0;while((a|0)!=32);F=+i[n+452>>2],L=+i[n+512>>2],a=e[n+32>>2]|0,+i[a+368>>2]>0?(me=+i[n+364>>2],re=+i[a+4>>2],oe=+i[n+364+16>>2],ae=+i[a+8>>2],xe=+i[n+364+32>>2],N=+i[a+12>>2],_e=+i[n+364+4>>2],he=+i[n+364+20>>2],D=+i[n+364+36>>2],te=+i[n+364+8>>2],pe=+i[n+364+24>>2],E=+i[n+364+40>>2],de=+i[a+20>>2],ve=+i[a+24>>2],M=+i[a+28>>2],w=+i[a+36>>2],C=+i[a+40>>2],h=+i[a+44>>2],_=+i[n+364+48>>2],o=+i[n+364+52>>2],s=+i[n+364+56>>2],B=w*_+C*o+h*s+ +i[a+60>>2],k=de*_+ve*o+M*s+ +i[a+56>>2],s=+i[a+52>>2]+(re*_+ae*o+N*s),o=te*w+pe*C+E*h,_=_e*w+he*C+D*h,h=me*w+oe*C+xe*h,C=te*de+pe*ve+E*M,w=_e*de+he*ve+D*M,M=me*de+oe*ve+xe*M,E=re*te+ae*pe+N*E,D=re*_e+ae*he+N*D,N=me*re+oe*ae+xe*N):(X=e[n+28>>2]|0,oe=+i[n+300>>2],ae=+i[X+4>>2],xe=+i[n+300+16>>2],ve=+i[X+8>>2],de=+i[n+300+32>>2],N=+i[X+12>>2],me=+i[n+300+4>>2],re=+i[n+300+20>>2],D=+i[n+300+36>>2],_e=+i[n+300+8>>2],he=+i[n+300+24>>2],E=+i[n+300+40>>2],te=+i[X+20>>2],pe=+i[X+24>>2],M=+i[X+28>>2],w=+i[X+36>>2],C=+i[X+40>>2],h=+i[X+44>>2],_=+i[n+300+48>>2],o=+i[n+300+52>>2],s=+i[n+300+56>>2],B=w*_+C*o+h*s+ +i[X+60>>2],k=te*_+pe*o+M*s+ +i[X+56>>2],s=+i[X+52>>2]+(ae*_+ve*o+N*s),o=_e*w+he*C+E*h,_=me*w+re*C+D*h,h=oe*w+xe*C+de*h,C=_e*te+he*pe+E*M,w=me*te+re*pe+D*M,M=oe*te+xe*pe+de*M,E=ae*_e+ve*he+N*E,D=ae*me+ve*re+N*D,N=oe*ae+xe*ve+de*N),i[W+320>>2]=N,i[u>>2]=D,i[d>>2]=E,i[W+320+12>>2]=0,i[m>>2]=M,i[g>>2]=w,i[S>>2]=C,i[W+320+28>>2]=0,i[V>>2]=h,i[O>>2]=_,i[z>>2]=o,i[W+320+44>>2]=0,i[Y>>2]=s,i[$>>2]=k,i[q>>2]=B,i[W+320+60>>2]=0,e[W+272>>2]=e[l>>2],e[W+272+4>>2]=e[l+4>>2],e[W+272+8>>2]=e[l+8>>2],e[W+272+12>>2]=e[l+12>>2],i[W+208>>2]=N,i[W+208+4>>2]=M,i[W+208+8>>2]=h,i[W+208+12>>2]=0,i[W+176>>2]=D,i[W+176+4>>2]=w,i[W+176+8>>2]=_,i[W+176+12>>2]=0,t=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,n=e[(e[t>>2]|0)+68>>2]|0,e[W+224>>2]=0,e[W+224+4>>2]=0,e[W+224+8>>2]=0,e[W+224+12>>2]=0,q1[n&0](t,W+272|0,W+208|0,W+176|0,ne,ne,-L-F,F-L,W+224|0,1,10)}H=W;return}case 6:case 9:{e[W+320>>2]=e[n+1064>>2],e[W+320+4>>2]=e[n+1064+4>>2],e[W+320+8>>2]=e[n+1064+8>>2],e[W+320+12>>2]=e[n+1064+12>>2],l=W+320+16|0,u=n+1064+16|0,e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],d=W+320+32|0,m=n+1064+32|0,e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],g=W+320+48|0,S=n+1064+48|0,e[g>>2]=e[S>>2],e[g+4>>2]=e[S+4>>2],e[g+8>>2]=e[S+8>>2],e[g+12>>2]=e[S+12>>2],U&1?(q=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,sr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne),e[W+320>>2]=e[n+1128>>2],e[W+320+4>>2]=e[n+1128+4>>2],e[W+320+8>>2]=e[n+1128+8>>2],e[W+320+12>>2]=e[n+1128+12>>2],e[l>>2]=e[n+1128+16>>2],e[l+4>>2]=e[n+1128+16+4>>2],e[l+8>>2]=e[n+1128+16+8>>2],e[l+12>>2]=e[n+1128+16+12>>2],e[d>>2]=e[n+1128+32>>2],e[d+4>>2]=e[n+1128+32+4>>2],e[d+8>>2]=e[n+1128+32+8>>2],e[d+12>>2]=e[n+1128+32+12>>2],e[g>>2]=e[n+1128+48>>2],e[g+4>>2]=e[n+1128+48+4>>2],e[g+8>>2]=e[n+1128+48+8>>2],e[g+12>>2]=e[n+1128+48+12>>2],q=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,sr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne)):(e[W+320>>2]=e[n+1128>>2],e[W+320+4>>2]=e[n+1128+4>>2],e[W+320+8>>2]=e[n+1128+8>>2],e[W+320+12>>2]=e[n+1128+12>>2],e[l>>2]=e[n+1128+16>>2],e[l+4>>2]=e[n+1128+16+4>>2],e[l+8>>2]=e[n+1128+16+8>>2],e[l+12>>2]=e[n+1128+16+12>>2],e[d>>2]=e[n+1128+32>>2],e[d+4>>2]=e[n+1128+32+4>>2],e[d+8>>2]=e[n+1128+32+8>>2],e[d+12>>2]=e[n+1128+32+12>>2],e[g>>2]=e[n+1128+48>>2],e[g+4>>2]=e[n+1128+48+4>>2],e[g+8>>2]=e[n+1128+48+8>>2],e[g+12>>2]=e[n+1128+48+12>>2]),X&1|0&&(e[W+320>>2]=e[n+1064>>2],e[W+320+4>>2]=e[n+1064+4>>2],e[W+320+8>>2]=e[n+1064+8>>2],e[W+320+12>>2]=e[n+1064+12>>2],e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],e[g>>2]=e[S>>2],e[g+4>>2]=e[S+4>>2],e[g+8>>2]=e[S+8>>2],e[g+12>>2]=e[S+12>>2],a=n+1128+48|0,e[W+304>>2]=e[W+320+8>>2],e[W+304+4>>2]=e[W+320+24>>2],e[W+304+8>>2]=e[W+320+40>>2],i[W+304+12>>2]=0,e[W+272>>2]=e[W+320>>2],e[W+272+4>>2]=e[W+320+16>>2],e[W+272+8>>2]=e[W+320+32>>2],i[W+272+12>>2]=0,oe=+i[n+932>>2],s=+i[n+932+4>>2],ve=+i[n+996>>2],xe=+i[n+996+4>>2],$=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,q=e[(e[$>>2]|0)+72>>2]|0,e[W+192>>2]=0,e[W+192+4>>2]=0,e[W+192+8>>2]=0,e[W+192+12>>2]=0,zh[q&0]($,a,W+304|0,W+272|0,ne*.8999999761581421,oe,s,ve,xe,W+192|0,10,1),$=e[W+320+4>>2]|0,q=e[W+320+20>>2]|0,X=e[W+320+36>>2]|0,e[W+272>>2]=$,e[W+272+4>>2]=q,e[W+272+8>>2]=X,i[W+272+12>>2]=0,xe=+i[n+1196>>2],ve=+i[n+1200>>2],s=+C2(+xe),xe=+N2(+xe),oe=+C2(+ve),ve=+N2(+ve),ae=(e[Z>>2]=$,+i[Z>>2]),de=(e[Z>>2]=q,+i[Z>>2]),o=(e[Z>>2]=X,+i[Z>>2]),i[W+208>>2]=s*oe*ae+s*ve*de-xe*o,i[W+208+4>>2]=oe*de-ve*ae,i[W+208+8>>2]=xe*oe*ae+xe*ve*de+s*o,e[W+320>>2]=e[n+1128>>2],e[W+320+4>>2]=e[n+1128+4>>2],e[W+320+8>>2]=e[n+1128+8>>2],e[W+320+12>>2]=e[n+1128+12>>2],e[l>>2]=e[n+1128+16>>2],e[l+4>>2]=e[n+1128+16+4>>2],e[l+8>>2]=e[n+1128+16+8>>2],e[l+12>>2]=e[n+1128+16+12>>2],e[d>>2]=e[n+1128+32>>2],e[d+4>>2]=e[n+1128+32+4>>2],e[d+8>>2]=e[n+1128+32+8>>2],e[d+12>>2]=e[n+1128+32+12>>2],e[g>>2]=e[a>>2],e[g+4>>2]=e[a+4>>2],e[g+8>>2]=e[a+8>>2],e[g+12>>2]=e[a+12>>2],o=-+i[W+320+16>>2],s=-+i[W+320+32>>2],i[W+176>>2]=-+i[W+320>>2],i[W+176+4>>2]=o,i[W+176+8>>2]=s,i[W+176+12>>2]=0,s=+i[n+868>>2],o=+i[n+868+4>>2],s>o?(X=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,q=e[(e[X>>2]|0)+68>>2]|0,e[W+160>>2]=0,e[W+160+4>>2]=0,e[W+160+8>>2]=0,e[W+160+12>>2]=0,q1[q&0](X,a,W+176|0,W+208|0,ne,ne,-3.1415927410125732,3.1415927410125732,W+160|0,0,10)):s<o&&(X=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,q=e[(e[X>>2]|0)+68>>2]|0,e[W+144>>2]=0,e[W+144+4>>2]=0,e[W+144+8>>2]=0,e[W+144+12>>2]=0,q1[q&0](X,a,W+176|0,W+208|0,ne,ne,s,o,W+144|0,1,10)),e[W+320>>2]=e[n+1064>>2],e[W+320+4>>2]=e[n+1064+4>>2],e[W+320+8>>2]=e[n+1064+8>>2],e[W+320+12>>2]=e[n+1064+12>>2],e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],e[g>>2]=e[S>>2],e[g+4>>2]=e[S+4>>2],e[g+8>>2]=e[S+8>>2],e[g+12>>2]=e[S+12>>2],e[W+96>>2]=e[n+680>>2],e[W+96+4>>2]=e[n+680+4>>2],e[W+96+8>>2]=e[n+680+8>>2],e[W+96+12>>2]=e[n+680+12>>2],e[W+64>>2]=e[n+680+16>>2],e[W+64+4>>2]=e[n+680+16+4>>2],e[W+64+8>>2]=e[n+680+16+8>>2],e[W+64+12>>2]=e[n+680+16+12>>2],t=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,n=e[(e[t>>2]|0)+80>>2]|0,e[W+128>>2]=0,e[W+128+4>>2]=0,e[W+128+8>>2]=0,e[W+128+12>>2]=0,Qi[n&31](t,W+96|0,W+64|0,W+320|0,W+128|0)),H=W;return}case 12:{e[W+320>>2]=e[n+1236>>2],e[W+320+4>>2]=e[n+1236+4>>2],e[W+320+8>>2]=e[n+1236+8>>2],e[W+320+12>>2]=e[n+1236+12>>2],l=W+320+16|0,u=n+1236+16|0,e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],d=W+320+32|0,m=n+1236+32|0,e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],g=W+320+48|0,S=n+1236+48|0,e[g>>2]=e[S>>2],e[g+4>>2]=e[S+4>>2],e[g+8>>2]=e[S+8>>2],e[g+12>>2]=e[S+12>>2],U&1?(q=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,sr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne),e[W+320>>2]=e[n+1300>>2],e[W+320+4>>2]=e[n+1300+4>>2],e[W+320+8>>2]=e[n+1300+8>>2],e[W+320+12>>2]=e[n+1300+12>>2],e[l>>2]=e[n+1300+16>>2],e[l+4>>2]=e[n+1300+16+4>>2],e[l+8>>2]=e[n+1300+16+8>>2],e[l+12>>2]=e[n+1300+16+12>>2],e[d>>2]=e[n+1300+32>>2],e[d+4>>2]=e[n+1300+32+4>>2],e[d+8>>2]=e[n+1300+32+8>>2],e[d+12>>2]=e[n+1300+32+12>>2],e[g>>2]=e[n+1300+48>>2],e[g+4>>2]=e[n+1300+48+4>>2],e[g+8>>2]=e[n+1300+48+8>>2],e[g+12>>2]=e[n+1300+48+12>>2],q=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,sr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne)):(e[W+320>>2]=e[n+1300>>2],e[W+320+4>>2]=e[n+1300+4>>2],e[W+320+8>>2]=e[n+1300+8>>2],e[W+320+12>>2]=e[n+1300+12>>2],e[l>>2]=e[n+1300+16>>2],e[l+4>>2]=e[n+1300+16+4>>2],e[l+8>>2]=e[n+1300+16+8>>2],e[l+12>>2]=e[n+1300+16+12>>2],e[d>>2]=e[n+1300+32>>2],e[d+4>>2]=e[n+1300+32+4>>2],e[d+8>>2]=e[n+1300+32+8>>2],e[d+12>>2]=e[n+1300+32+12>>2],e[g>>2]=e[n+1300+48>>2],e[g+4>>2]=e[n+1300+48+4>>2],e[g+8>>2]=e[n+1300+48+8>>2],e[g+12>>2]=e[n+1300+48+12>>2]),X&1|0&&(e[W+320>>2]=e[n+1236>>2],e[W+320+4>>2]=e[n+1236+4>>2],e[W+320+8>>2]=e[n+1236+8>>2],e[W+320+12>>2]=e[n+1236+12>>2],e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],e[g>>2]=e[S>>2],e[g+4>>2]=e[S+4>>2],e[g+8>>2]=e[S+8>>2],e[g+12>>2]=e[S+12>>2],a=n+1300+48|0,e[W+304>>2]=e[W+320+8>>2],e[W+304+4>>2]=e[W+320+24>>2],e[W+304+8>>2]=e[W+320+40>>2],i[W+304+12>>2]=0,e[W+272>>2]=e[W+320>>2],e[W+272+4>>2]=e[W+320+16>>2],e[W+272+8>>2]=e[W+320+32>>2],i[W+272+12>>2]=0,oe=+i[n+1056>>2],s=+i[n+1060>>2],ve=+i[n+1144>>2],xe=+i[n+1144+4>>2],$=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,q=e[(e[$>>2]|0)+72>>2]|0,e[W+112>>2]=0,e[W+112+4>>2]=0,e[W+112+8>>2]=0,e[W+112+12>>2]=0,zh[q&0]($,a,W+304|0,W+272|0,ne*.8999999761581421,oe,s,ve,xe,W+112|0,10,1),$=e[W+320+4>>2]|0,q=e[W+320+20>>2]|0,X=e[W+320+36>>2]|0,e[W+272>>2]=$,e[W+272+4>>2]=q,e[W+272+8>>2]=X,i[W+272+12>>2]=0,xe=+i[n+1368>>2],ve=+i[n+1372>>2],s=+C2(+xe),xe=+N2(+xe),oe=+C2(+ve),ve=+N2(+ve),ae=(e[Z>>2]=$,+i[Z>>2]),de=(e[Z>>2]=q,+i[Z>>2]),o=(e[Z>>2]=X,+i[Z>>2]),i[W+208>>2]=s*oe*ae+s*ve*de-xe*o,i[W+208+4>>2]=oe*de-ve*ae,i[W+208+8>>2]=xe*oe*ae+xe*ve*de+s*o,e[W+320>>2]=e[n+1300>>2],e[W+320+4>>2]=e[n+1300+4>>2],e[W+320+8>>2]=e[n+1300+8>>2],e[W+320+12>>2]=e[n+1300+12>>2],e[l>>2]=e[n+1300+16>>2],e[l+4>>2]=e[n+1300+16+4>>2],e[l+8>>2]=e[n+1300+16+8>>2],e[l+12>>2]=e[n+1300+16+12>>2],e[d>>2]=e[n+1300+32>>2],e[d+4>>2]=e[n+1300+32+4>>2],e[d+8>>2]=e[n+1300+32+8>>2],e[d+12>>2]=e[n+1300+32+12>>2],e[g>>2]=e[a>>2],e[g+4>>2]=e[a+4>>2],e[g+8>>2]=e[a+8>>2],e[g+12>>2]=e[a+12>>2],o=-+i[W+320+16>>2],s=-+i[W+320+32>>2],i[W+176>>2]=-+i[W+320>>2],i[W+176+4>>2]=o,i[W+176+8>>2]=s,i[W+176+12>>2]=0,s=+i[n+968>>2],o=+i[n+968+4>>2],s>o?(X=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,q=e[(e[X>>2]|0)+68>>2]|0,e[W+80>>2]=0,e[W+80+4>>2]=0,e[W+80+8>>2]=0,e[W+80+12>>2]=0,q1[q&0](X,a,W+176|0,W+208|0,ne,ne,-3.1415927410125732,3.1415927410125732,W+80|0,0,10)):s<o&&(X=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,q=e[(e[X>>2]|0)+68>>2]|0,e[W+48>>2]=0,e[W+48+4>>2]=0,e[W+48+8>>2]=0,e[W+48+12>>2]=0,q1[q&0](X,a,W+176|0,W+208|0,ne,ne,s,o,W+48|0,1,10)),e[W+320>>2]=e[n+1236>>2],e[W+320+4>>2]=e[n+1236+4>>2],e[W+320+8>>2]=e[n+1236+8>>2],e[W+320+12>>2]=e[n+1236+12>>2],e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],e[g>>2]=e[S>>2],e[g+4>>2]=e[S+4>>2],e[g+8>>2]=e[S+8>>2],e[g+12>>2]=e[S+12>>2],e[W+96>>2]=e[n+680>>2],e[W+96+4>>2]=e[n+680+4>>2],e[W+96+8>>2]=e[n+680+8>>2],e[W+96+12>>2]=e[n+680+12>>2],e[W+64>>2]=e[n+680+16>>2],e[W+64+4>>2]=e[n+680+16+4>>2],e[W+64+8>>2]=e[n+680+16+8>>2],e[W+64+12>>2]=e[n+680+16+12>>2],t=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,n=e[(e[t>>2]|0)+80>>2]|0,e[W+32>>2]=0,e[W+32+4>>2]=0,e[W+32+8>>2]=0,e[W+32+12>>2]=0,Qi[n&31](t,W+96|0,W+64|0,W+320|0,W+32|0)),H=W;return}case 7:{e[W+320>>2]=e[n+824>>2],e[W+320+4>>2]=e[n+824+4>>2],e[W+320+8>>2]=e[n+824+8>>2],e[W+320+12>>2]=e[n+824+12>>2],a=W+320+16|0,e[a>>2]=e[n+824+16>>2],e[a+4>>2]=e[n+824+16+4>>2],e[a+8>>2]=e[n+824+16+8>>2],e[a+12>>2]=e[n+824+16+12>>2],l=W+320+32|0,e[l>>2]=e[n+824+32>>2],e[l+4>>2]=e[n+824+32+4>>2],e[l+8>>2]=e[n+824+32+8>>2],e[l+12>>2]=e[n+824+32+12>>2],u=W+320+48|0,e[u>>2]=e[n+824+48>>2],e[u+4>>2]=e[n+824+48+4>>2],e[u+8>>2]=e[n+824+48+8>>2],e[u+12>>2]=e[n+824+48+12>>2],U&1?(q=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,sr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne),e[W+320>>2]=e[n+888>>2],e[W+320+4>>2]=e[n+888+4>>2],e[W+320+8>>2]=e[n+888+8>>2],e[W+320+12>>2]=e[n+888+12>>2],e[a>>2]=e[n+888+16>>2],e[a+4>>2]=e[n+888+16+4>>2],e[a+8>>2]=e[n+888+16+8>>2],e[a+12>>2]=e[n+888+16+12>>2],e[l>>2]=e[n+888+32>>2],e[l+4>>2]=e[n+888+32+4>>2],e[l+8>>2]=e[n+888+32+8>>2],e[l+12>>2]=e[n+888+32+12>>2],e[u>>2]=e[n+888+48>>2],e[u+4>>2]=e[n+888+48+4>>2],e[u+8>>2]=e[n+888+48+8>>2],e[u+12>>2]=e[n+888+48+12>>2],q=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,sr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne)):(e[W+320>>2]=e[n+888>>2],e[W+320+4>>2]=e[n+888+4>>2],e[W+320+8>>2]=e[n+888+8>>2],e[W+320+12>>2]=e[n+888+12>>2],e[a>>2]=e[n+888+16>>2],e[a+4>>2]=e[n+888+16+4>>2],e[a+8>>2]=e[n+888+16+8>>2],e[a+12>>2]=e[n+888+16+12>>2],e[l>>2]=e[n+888+32>>2],e[l+4>>2]=e[n+888+32+4>>2],e[l+8>>2]=e[n+888+32+8>>2],e[l+12>>2]=e[n+888+32+12>>2],e[u>>2]=e[n+888+48>>2],e[u+4>>2]=e[n+888+48+4>>2],e[u+8>>2]=e[n+888+48+8>>2],e[u+12>>2]=e[n+888+48+12>>2]),X&1|0&&(V=A[n+180>>0]|0?n+824|0:n+888|0,O=e[V>>2]|0,$=e[V+4>>2]|0,z=e[V+16>>2]|0,q=e[V+20>>2]|0,Y=e[V+32>>2]|0,X=e[V+36>>2]|0,F=+i[V+48>>2],_e=+i[V+52>>2],oe=+i[V+56>>2],ve=+i[n+184>>2],pe=(e[Z>>2]=O,+i[Z>>2]),te=(e[Z>>2]=$,+i[Z>>2]*0),L=+i[V+8>>2]*0,re=(e[Z>>2]=z,+i[Z>>2]),me=(e[Z>>2]=q,+i[Z>>2]*0),he=+i[V+24>>2]*0,de=(e[Z>>2]=Y,+i[Z>>2]),xe=(e[Z>>2]=X,+i[Z>>2]*0),ae=+i[V+40>>2]*0,i[W+304>>2]=F+(L+(te+pe*ve)),i[W+304+4>>2]=_e+(he+(me+re*ve)),i[W+304+8>>2]=oe+(ae+(xe+de*ve)),i[W+304+12>>2]=0,ve=+i[n+188>>2],i[W+272>>2]=F+(L+(te+pe*ve)),i[W+272+4>>2]=_e+(he+(me+re*ve)),i[W+272+8>>2]=oe+(ae+(xe+de*ve)),i[W+272+12>>2]=0,V=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,U=e[(e[V>>2]|0)+16>>2]|0,e[W+16>>2]=0,e[W+16+4>>2]=0,e[W+16+8>>2]=0,e[W+16+12>>2]=0,Kt[U&127](V,W+304|0,W+272|0,W+16|0),e[W+208>>2]=O,e[W+208+4>>2]=z,e[W+208+8>>2]=Y,i[W+208+12>>2]=0,e[W+176>>2]=$,e[W+176+4>>2]=q,e[W+176+8>>2]=X,i[W+176+12>>2]=0,ve=+i[n+192>>2],de=+i[n+196>>2],t=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,X=e[(e[t>>2]|0)+68>>2]|0,e[W>>2]=0,e[W+4>>2]=0,e[W+8>>2]=0,e[W+12>>2]=0,q1[X&0](t,n+888+48|0,W+208|0,W+176|0,ne,ne,ve,de,W,1,10)),H=W;return}default:{H=W;return}}}function kY(t){t=t|0;var n=0,s=0,o=0,a=0,l=0;if(o=e[t+232>>2]|0,!((o|0)<=0)){t=e[t+240>>2]|0,s=0;do{switch(n=e[t+(s<<2)>>2]|0,e[n+216>>2]|0){case 2:case 5:break;default:e[n+204>>2]&3||(l=+i[n+392>>2]*+i[n+376>>2],a=+i[n+396>>2]*+i[n+380>>2],i[n+436>>2]=+i[n+388>>2]*+i[n+372>>2]+ +i[n+436>>2],i[n+440>>2]=l+ +i[n+440>>2],i[n+444>>2]=a+ +i[n+444>>2])}s=s+1|0}while((s|0)!=(o|0))}}function FY(t,n){t=t|0,n=n|0}function BY(t,n){t=t|0,n=+n;var s=0,o=0,a=0;if(o=H,H=H+16|0,$n(16070),(e[t+280>>2]|0)>0){s=0;do a=e[(e[t+288>>2]|0)+(s<<2)>>2]|0,sr[e[(e[a>>2]|0)+8>>2]&7](a,t,n),s=s+1|0;while((s|0)<(e[t+280>>2]|0))}if(s=e[2006]|0,a=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=a,a|0){H=o;return}do if(e[s+4>>2]|0)if(Tn(o|0,0)|0,a=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[o+4>>2]|0)-(e[a+4>>2]|0)+(((e[o>>2]|0)-(e[a>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0){H=o;return}else{s=e[2006]|0;break}while(!1);e[2006]=e[s+20>>2],H=o}function M6(t){t=t|0;var n=0;if(e[t>>2]=7896,n=e[t+80>>2]|0,n|0&&(A[t+84>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+80>>2]=0),A[t+84>>0]=1,e[t+80>>2]=0,e[t+72>>2]=0,e[t+76>>2]=0,n=e[t+60>>2]|0,n|0&&(A[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+60>>2]=0),A[t+64>>0]=1,e[t+60>>2]=0,e[t+52>>2]=0,e[t+56>>2]=0,n=e[t+40>>2]|0,!n){A[t+44>>0]=1,e[t+40>>2]=0,e[t+32>>2]=0,t=t+36|0,e[t>>2]=0;return}A[t+44>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+40>>2]=0,A[t+44>>0]=1,e[t+40>>2]=0,e[t+32>>2]=0,t=t+36|0,e[t>>2]=0}function UY(t){t=t|0,M6(t),ye(t)}function OY(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,_=0,h=0,d=0,m=0,g=0,S=0;if((l|0)<0){S=e[t+8>>2]|0,+vu[e[(e[S>>2]|0)+12>>2]&3](S,n,s,o,a,e[t+12>>2]|0,e[t+16>>2]|0,e[t+4>>2]|0,e[t+20>>2]|0,e[t+24>>2]|0);return}g=e[t+16>>2]|0;e:do if((g|0)>0)for(m=e[t+12>>2]|0,u=0;;){if(d=m+(u<<2)|0,h=e[d>>2]|0,_=e[(e[h+28>>2]|0)+208>>2]|0,(_|0)<=-1&&(_=e[(e[h+32>>2]|0)+208>>2]|0),(_|0)==(l|0)){S=d;break e}if(u=u+1|0,(u|0)>=(g|0)){S=0;break}}else u=0,S=0;while(!1);if((u|0)<(g|0)){m=e[t+12>>2]|0,_=0;do d=e[m+(u<<2)>>2]|0,h=e[(e[d+28>>2]|0)+208>>2]|0,(h|0)<=-1&&(h=e[(e[d+32>>2]|0)+208>>2]|0),_=((h|0)==(l|0)&1)+_|0,u=u+1|0;while((u|0)!=(g|0));l=_}else l=0;if(u=e[t+4>>2]|0,(e[u+72>>2]|0)<2){g=e[t+8>>2]|0,+vu[e[(e[g>>2]|0)+12>>2]&3](g,n,s,o,a,S,l,u,e[t+20>>2]|0,e[t+24>>2]|0);return}if((s|0)>0){u=e[t+32>>2]|0,_=e[t+36>>2]|0,g=0;do{if(m=n+(g<<2)|0,(u|0)==(_|0))if(d=_|0?_<<1:1,(_|0)<(d|0)){if(d?(e[5637]=(e[5637]|0)+1,u=Xe((d<<2|3)+16|0)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,_=e[t+32>>2]|0):u=0,(_|0)>0){h=0;do e[u+(h<<2)>>2]=e[(e[t+40>>2]|0)+(h<<2)>>2],h=h+1|0;while((h|0)!=(_|0))}h=e[t+40>>2]|0,h&&(A[t+44>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0),_=e[t+32>>2]|0),e[t+40>>2]=0),A[t+44>>0]=1,e[t+40>>2]=u,e[t+36>>2]=d,u=_,_=d}else u=_;e[(e[t+40>>2]|0)+(u<<2)>>2]=e[m>>2],u=u+1|0,e[t+32>>2]=u,g=g+1|0}while((g|0)!=(s|0))}if((a|0)>0){u=e[t+52>>2]|0,_=e[t+56>>2]|0,g=0;do{if(m=o+(g<<2)|0,(u|0)==(_|0))if(d=_|0?_<<1:1,(_|0)<(d|0)){if(d?(e[5637]=(e[5637]|0)+1,u=Xe((d<<2|3)+16|0)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,_=e[t+52>>2]|0):u=0,(_|0)>0){h=0;do e[u+(h<<2)>>2]=e[(e[t+60>>2]|0)+(h<<2)>>2],h=h+1|0;while((h|0)!=(_|0))}h=e[t+60>>2]|0,h&&(A[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0),_=e[t+52>>2]|0),e[t+60>>2]=0),A[t+64>>0]=1,e[t+60>>2]=u,e[t+56>>2]=d,u=_,_=d}else u=_;e[(e[t+60>>2]|0)+(u<<2)>>2]=e[m>>2],u=u+1|0,e[t+52>>2]=u,g=g+1|0}while((g|0)!=(a|0))}if((l|0)>0){u=e[t+72>>2]|0,_=e[t+76>>2]|0,g=0;do{if(m=S+(g<<2)|0,(u|0)==(_|0))if(d=_|0?_<<1:1,(_|0)<(d|0)){if(d?(e[5637]=(e[5637]|0)+1,u=Xe((d<<2|3)+16|0)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,h=u,u=e[t+72>>2]|0):(h=0,u=_),(u|0)>0){_=0;do e[h+(_<<2)>>2]=e[(e[t+80>>2]|0)+(_<<2)>>2],_=_+1|0;while((_|0)!=(u|0))}_=e[t+80>>2]|0,_&&(A[t+84>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[_+-4>>2]|0),u=e[t+72>>2]|0),e[t+80>>2]=0),A[t+84>>0]=1,e[t+80>>2]=h,e[t+76>>2]=d,_=d}else u=_;e[(e[t+80>>2]|0)+(u<<2)>>2]=e[m>>2],u=u+1|0,e[t+72>>2]=u,g=g+1|0}while((g|0)!=(l|0))}else u=e[t+72>>2]|0;((e[t+52>>2]|0)+u|0)<=(e[(e[t+4>>2]|0)+72>>2]|0)||w6(t)}function GY(t){t=t|0;var n=0;e[t>>2]=7916,n=e[t+520>>2]|0,n|0&&(A[t+524>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+520>>2]=0),A[t+524>>0]=1,e[t+520>>2]=0,e[t+512>>2]=0,e[t+516>>2]=0,e[t>>2]=3156,n=e[t+276>>2]|0,n|0&&(A[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+276>>2]=0),A[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,e[t+272>>2]=0,e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function VY(t){return t=t|0,488}function zY(t,n,s){return t=t|0,n=n|0,s=s|0,O6(t,n,s)|0,e[n+256>>2]=e[t+288>>2],e[n+260>>2]=e[t+292>>2],e[n+264>>2]=e[t+296>>2],e[n+268>>2]=e[t+300>>2],e[n+272>>2]=e[t+304>>2],e[n+276>>2]=e[t+308>>2],e[n+280>>2]=e[t+312>>2],e[n+284>>2]=e[t+316>>2],e[n+288>>2]=e[t+320>>2],e[n+292>>2]=e[t+324>>2],e[n+296>>2]=e[t+328>>2],e[n+300>>2]=e[t+332>>2],e[n+304>>2]=e[t+336>>2],e[n+308>>2]=e[t+340>>2],e[n+312>>2]=e[t+344>>2],e[n+316>>2]=e[t+348>>2],e[n+320>>2]=e[t+352>>2],e[n+324>>2]=e[t+356>>2],e[n+328>>2]=e[t+360>>2],e[n+332>>2]=e[t+364>>2],e[n+448>>2]=e[t+368>>2],e[n+336>>2]=e[t+568>>2],e[n+340>>2]=e[t+572>>2],e[n+344>>2]=e[t+576>>2],e[n+348>>2]=e[t+580>>2],e[n+352>>2]=e[t+372>>2],e[n+356>>2]=e[t+376>>2],e[n+360>>2]=e[t+380>>2],e[n+364>>2]=e[t+384>>2],e[n+368>>2]=e[t+388>>2],e[n+372>>2]=e[t+392>>2],e[n+376>>2]=e[t+396>>2],e[n+380>>2]=e[t+400>>2],e[n+384>>2]=e[t+404>>2],e[n+388>>2]=e[t+408>>2],e[n+392>>2]=e[t+412>>2],e[n+396>>2]=e[t+416>>2],e[n+400>>2]=e[t+420>>2],e[n+404>>2]=e[t+424>>2],e[n+408>>2]=e[t+428>>2],e[n+412>>2]=e[t+432>>2],e[n+416>>2]=e[t+436>>2],e[n+420>>2]=e[t+440>>2],e[n+424>>2]=e[t+444>>2],e[n+428>>2]=e[t+448>>2],e[n+432>>2]=e[t+452>>2],e[n+436>>2]=e[t+456>>2],e[n+440>>2]=e[t+460>>2],e[n+444>>2]=e[t+464>>2],e[n+452>>2]=e[t+468>>2],e[n+456>>2]=e[t+472>>2],e[n+484>>2]=It[t+476>>0],e[n+460>>2]=e[t+480>>2],e[n+464>>2]=e[t+484>>2],e[n+468>>2]=e[t+488>>2],e[n+472>>2]=e[t+492>>2],e[n+476>>2]=e[t+496>>2],e[n+480>>2]=e[t+500>>2],16174}function WY(t,n){t=t|0,n=n|0;var s=0,o=0;s=e[(e[n>>2]|0)+16>>2]|0,o=Ct[e[(e[t>>2]|0)+16>>2]&127](t)|0,o=V0[s&63](n,o,1)|0,s=V0[e[(e[t>>2]|0)+20>>2]&63](t,e[o+8>>2]|0,n)|0,Qi[e[(e[n>>2]|0)+20>>2]&31](n,o,s,1497645650,t)}function R6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0;h=H,H=H+32|0,e[t+236>>2]=2,e[t+336>>2]=0,e[t+336+4>>2]=0,e[t+336+8>>2]=0,e[t+336+12>>2]=0,e[t+336+16>>2]=0,e[t+336+20>>2]=0,e[t+336+24>>2]=0,e[t+336+28>>2]=0,e[t+568>>2]=1065353216,e[t+572>>2]=1065353216,e[t+576>>2]=1065353216,i[t+580>>2]=0,e[t+372>>2]=1065353216,e[t+376>>2]=1065353216,e[t+380>>2]=1065353216,s=t+384|0,a=s+36|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(a|0));e[t+436>>2]=0,e[t+436+4>>2]=0,e[t+436+8>>2]=0,e[t+436+12>>2]=0,e[t+436+16>>2]=0,e[t+436+20>>2]=0,e[t+436+24>>2]=0,e[t+436+28>>2]=0,o=+i[n+92>>2],_=+i[n+96>>2],i[h+20>>2]=o,i[h+16>>2]=_,i[h+12>>2]=0,i[h+8>>2]=1,e[t+468>>2]=e[(o<0?h+12|0:o>1?h+8|0:h+20|0)>>2],i[h+4>>2]=0,i[h>>2]=1,e[t+472>>2]=e[(_<0?h+4|0:_>1?h:h+16|0)>>2],e[t+496>>2]=e[n+112>>2],e[t+500>>2]=e[n+116>>2],s=e[n+4>>2]|0,e[t+504>>2]=s,e[t+632>>2]=0,e[t+636>>2]=0,A[t+476>>0]=A[n+120>>0]|0,e[t+480>>2]=e[n+124>>2],e[t+484>>2]=e[n+128>>2],e[t+488>>2]=e[n+132>>2],e[t+492>>2]=e[n+136>>2],s?(zt[e[(e[s>>2]|0)+8>>2]&127](s,t+4|0),s=t+4|0,a=t+20|0,l=t+36|0,u=t+52|0):(e[t+4>>2]=e[n+8>>2],e[t+4+4>>2]=e[n+8+4>>2],e[t+4+8>>2]=e[n+8+8>>2],e[t+4+12>>2]=e[n+8+12>>2],e[t+20>>2]=e[n+24>>2],e[t+20+4>>2]=e[n+24+4>>2],e[t+20+8>>2]=e[n+24+8>>2],e[t+20+12>>2]=e[n+24+12>>2],e[t+36>>2]=e[n+40>>2],e[t+36+4>>2]=e[n+40+4>>2],e[t+36+8>>2]=e[n+40+8>>2],e[t+36+12>>2]=e[n+40+12>>2],e[t+52>>2]=e[n+56>>2],e[t+52+4>>2]=e[n+56+4>>2],e[t+52+8>>2]=e[n+56+8>>2],e[t+52+12>>2]=e[n+56+12>>2],s=t+4|0,a=t+20|0,l=t+36|0,u=t+52|0),e[t+68>>2]=e[s>>2],e[t+68+4>>2]=e[s+4>>2],e[t+68+8>>2]=e[s+8>>2],e[t+68+12>>2]=e[s+12>>2],e[t+84>>2]=e[a>>2],e[t+84+4>>2]=e[a+4>>2],e[t+84+8>>2]=e[a+8>>2],e[t+84+12>>2]=e[a+12>>2],e[t+100>>2]=e[l>>2],e[t+100+4>>2]=e[l+4>>2],e[t+100+8>>2]=e[l+8>>2],e[t+100+12>>2]=e[l+12>>2],e[t+116>>2]=e[u>>2],e[t+116+4>>2]=e[u+4>>2],e[t+116+8>>2]=e[u+8>>2],e[t+116+12>>2]=e[u+12>>2],e[t+132>>2]=0,e[t+132+4>>2]=0,e[t+132+8>>2]=0,e[t+132+12>>2]=0,e[t+132+16>>2]=0,e[t+132+20>>2]=0,e[t+132+24>>2]=0,e[t+132+28>>2]=0,e[t+224>>2]=e[n+100>>2],e[t+232>>2]=e[n+104>>2],e[t+228>>2]=e[n+108>>2],zt[e[(e[t>>2]|0)+8>>2]&127](t,e[n+72>>2]|0),s=e[5476]|0,e[5476]=s+1,e[t+532>>2]=s,o=+i[n>>2],s=e[t+204>>2]|0,o==0?(e[t+204>>2]=s|1,_=0):(e[t+204>>2]=s&-2,_=1/o),i[t+368>>2]=_,m=o*+i[t+408>>2],d=o*+i[t+412>>2],i[t+388>>2]=o*+i[t+404>>2],i[t+392>>2]=m,i[t+396>>2]=d,i[t+400>>2]=0,o=+i[n+76>>2],a=o!=0?(i[Z>>2]=1/o,e[Z>>2]|0):0,o=+i[n+80>>2],s=o!=0?(i[Z>>2]=1/o,e[Z>>2]|0):0,o=+i[n+84>>2],n=o!=0?(i[Z>>2]=1/o,e[Z>>2]|0):0,e[t+420>>2]=a,e[t+424>>2]=s,e[t+428>>2]=n,i[t+432>>2]=0,S=_*+i[t+376>>2],N=_*+i[t+380>>2],i[t+584>>2]=_*+i[t+372>>2],i[t+588>>2]=S,i[t+592>>2]=N,i[t+596>>2]=0,N=+i[t+4>>2],S=(e[Z>>2]=a,+i[Z>>2]),D=+i[t+8>>2],o=(e[Z>>2]=s,+i[Z>>2]),E=+i[t+12>>2],d=(e[Z>>2]=n,+i[Z>>2]),M=+i[t+20>>2],w=+i[t+24>>2],C=+i[t+28>>2],g=+i[t+36>>2],m=+i[t+40>>2],_=+i[t+44>>2],i[t+288>>2]=N*(N*S)+D*(D*o)+E*(E*d),i[t+292>>2]=N*S*M+D*o*w+E*d*C,i[t+296>>2]=N*S*g+D*o*m+E*d*_,i[t+300>>2]=0,i[t+304>>2]=N*(S*M)+D*(o*w)+E*(d*C),i[t+308>>2]=M*(S*M)+w*(o*w)+C*(d*C),i[t+312>>2]=S*M*g+o*w*m+d*C*_,i[t+316>>2]=0,i[t+320>>2]=N*(S*g)+D*(o*m)+E*(d*_),i[t+324>>2]=M*(S*g)+w*(o*m)+C*(d*_),i[t+328>>2]=g*(S*g)+m*(o*m)+_*(d*_),i[t+332>>2]=0,e[t+528>>2]=8,e[t+536>>2]=0,e[t+536+4>>2]=0,e[t+536+8>>2]=0,e[t+536+12>>2]=0,e[t+536+16>>2]=0,e[t+536+20>>2]=0,e[t+536+24>>2]=0,e[t+536+28>>2]=0,_=+i[t+368>>2],d=_*+i[t+376>>2],m=_*+i[t+380>>2],i[t+584>>2]=+i[t+372>>2]*_,i[t+588>>2]=d,i[t+592>>2]=m,s=t+596|0,a=s+36|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(a|0));H=h}function pu(t,n,s,o,a){t=t|0,n=+n,s=s|0,o=o|0,a=a|0;var l=0;l=H,H=H+144|0,e[t+164>>2]=1065353216,e[t+168>>2]=1065353216,e[t+172>>2]=1065353216,i[t+176>>2]=0,e[t+180>>2]=0,i[t+184>>2]=0xde0b6b000000000,e[t+188>>2]=0,e[t+188+4>>2]=0,e[t+188+8>>2]=0,e[t+188+12>>2]=0,e[t+204>>2]=1,e[t+208>>2]=-1,e[t+212>>2]=-1,e[t+216>>2]=1,i[t+220>>2]=0,i[t+224>>2]=.5,i[t+228>>2]=0,i[t+232>>2]=0,e[t+236>>2]=1,e[t+240>>2]=0,e[t+244>>2]=-1,i[t+248>>2]=1,i[t+252>>2]=0,i[t+256>>2]=0,e[t+260>>2]=0,A[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,e[t+272>>2]=0,e[t+284>>2]=0,e[t+4>>2]=1065353216,e[t+8>>2]=0,e[t+8+4>>2]=0,e[t+8+8>>2]=0,e[t+8+12>>2]=0,e[t+24>>2]=1065353216,e[t+28>>2]=0,e[t+28+4>>2]=0,e[t+28+8>>2]=0,e[t+28+12>>2]=0,e[t+44>>2]=1065353216,e[t+48>>2]=0,e[t+48+4>>2]=0,e[t+48+8>>2]=0,e[t+48+12>>2]=0,e[t+48+16>>2]=0,e[t>>2]=7916,A[t+524>>0]=1,e[t+520>>2]=0,e[t+512>>2]=0,e[t+516>>2]=0,i[l>>2]=n,e[l+4>>2]=s,e[l+72>>2]=o,e[l+76>>2]=e[a>>2],e[l+76+4>>2]=e[a+4>>2],e[l+76+8>>2]=e[a+8>>2],e[l+76+12>>2]=e[a+12>>2],i[l+92>>2]=0,i[l+96>>2]=0,i[l+100>>2]=.5,i[l+104>>2]=0,i[l+108>>2]=0,i[l+112>>2]=.800000011920929,i[l+116>>2]=1,A[l+120>>0]=0,i[l+124>>2]=.004999999888241291,i[l+128>>2]=.009999999776482582,i[l+132>>2]=.009999999776482582,i[l+136>>2]=.009999999776482582,e[l+8>>2]=1065353216,e[l+12>>2]=0,e[l+12+4>>2]=0,e[l+12+8>>2]=0,e[l+12+12>>2]=0,e[l+28>>2]=1065353216,e[l+32>>2]=0,e[l+32+4>>2]=0,e[l+32+8>>2]=0,e[l+32+12>>2]=0,e[l+48>>2]=1065353216,e[l+52>>2]=0,e[l+52+4>>2]=0,e[l+52+8>>2]=0,e[l+52+12>>2]=0,e[l+52+16>>2]=0,R6(t,l),H=l}function HY(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;if(h=+i[t+468>>2],l=+q8(+(1-h),+n),s=l*+i[t+336>>2],i[t+336>>2]=s,a=l*+i[t+340>>2],i[t+340>>2]=a,l=l*+i[t+344>>2],i[t+344>>2]=l,d=+i[t+472>>2],o=+q8(+(1-d),+n),n=o*+i[t+352>>2],i[t+352>>2]=n,u=o*+i[t+356>>2],i[t+356>>2]=u,o=o*+i[t+360>>2],i[t+360>>2]=o,!!(A[t+476>>0]|0)){o*o+(n*n+u*u)<+i[t+488>>2]&&s*s+a*a+l*l<+i[t+484>>2]?(m=+i[t+480>>2],i[t+352>>2]=n*m,i[t+356>>2]=m*u,i[t+360>>2]=m*o,i[t+336>>2]=m*s,i[t+340>>2]=m*a,i[t+344>>2]=m*l,s=m*s,a=m*a,l=m*l,_=n*m,u=m*u,o=m*o):_=n,n=+at(+(s*s+a*a+l*l));do if(n<h)if(n>.004999999888241291){i[t+336>>2]=s-s*(1/n)*.004999999888241291,i[t+340>>2]=a-a*(1/n)*.004999999888241291,i[t+344>>2]=l-l*(1/n)*.004999999888241291;break}else{e[t+336>>2]=0,e[t+336+4>>2]=0,e[t+336+8>>2]=0,e[t+336+12>>2]=0;break}while(!1);if(n=+at(+(_*_+u*u+o*o)),n<d)if(n>.004999999888241291){i[t+352>>2]=_-_*(1/n)*.004999999888241291,i[t+356>>2]=u-u*(1/n)*.004999999888241291,i[t+360>>2]=o-o*(1/n)*.004999999888241291;return}else{e[t+352>>2]=0,e[t+352+4>>2]=0,e[t+352+8>>2]=0,e[t+352+12>>2]=0;return}}}function mh(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0;e[t+204>>2]&2?(e[t+68>>2]=e[t+4>>2],e[t+68+4>>2]=e[t+4+4>>2],e[t+68+8>>2]=e[t+4+8>>2],e[t+68+12>>2]=e[t+4+12>>2],e[t+84>>2]=e[t+20>>2],e[t+84+4>>2]=e[t+20+4>>2],e[t+84+8>>2]=e[t+20+8>>2],e[t+84+12>>2]=e[t+20+12>>2],e[t+100>>2]=e[t+36>>2],e[t+100+4>>2]=e[t+36+4>>2],e[t+100+8>>2]=e[t+36+8>>2],e[t+100+12>>2]=e[t+36+12>>2],e[t+116>>2]=e[t+52>>2],e[t+116+4>>2]=e[t+52+4>>2],e[t+116+8>>2]=e[t+52+8>>2],e[t+116+12>>2]=e[t+52+12>>2],s=t+20|0,o=n+16|0,a=t+36|0,l=n+32|0,u=t+52|0,_=n+48|0,h=t+4|0):(e[t+68>>2]=e[n>>2],e[t+68+4>>2]=e[n+4>>2],e[t+68+8>>2]=e[n+8>>2],e[t+68+12>>2]=e[n+12>>2],e[t+84>>2]=e[n+16>>2],e[t+84+4>>2]=e[n+16+4>>2],e[t+84+8>>2]=e[n+16+8>>2],e[t+84+12>>2]=e[n+16+12>>2],e[t+100>>2]=e[n+32>>2],e[t+100+4>>2]=e[n+32+4>>2],e[t+100+8>>2]=e[n+32+8>>2],e[t+100+12>>2]=e[n+32+12>>2],e[t+116>>2]=e[n+48>>2],e[t+116+4>>2]=e[n+48+4>>2],e[t+116+8>>2]=e[n+48+8>>2],e[t+116+12>>2]=e[n+48+12>>2],s=t+20|0,o=n+16|0,a=t+36|0,l=n+32|0,u=t+52|0,_=n+48|0,h=t+4|0),e[t+132>>2]=e[t+336>>2],e[t+132+4>>2]=e[t+336+4>>2],e[t+132+8>>2]=e[t+336+8>>2],e[t+132+12>>2]=e[t+336+12>>2],e[t+148>>2]=e[t+352>>2],e[t+148+4>>2]=e[t+352+4>>2],e[t+148+8>>2]=e[t+352+8>>2],e[t+148+12>>2]=e[t+352+12>>2],e[h>>2]=e[n>>2],e[h+4>>2]=e[n+4>>2],e[h+8>>2]=e[n+8>>2],e[h+12>>2]=e[n+12>>2],e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],e[s+12>>2]=e[o+12>>2],e[a>>2]=e[l>>2],e[a+4>>2]=e[l+4>>2],e[a+8>>2]=e[l+8>>2],e[a+12>>2]=e[l+12>>2],e[u>>2]=e[_>>2],e[u+4>>2]=e[_+4>>2],e[u+8>>2]=e[_+8>>2],e[u+12>>2]=e[_+12>>2],k=+i[t+4>>2],w=+i[t+420>>2],B=+i[t+8>>2],S=+i[t+424>>2],N=+i[t+12>>2],m=+i[t+428>>2],D=+i[t+20>>2],E=+i[t+24>>2],M=+i[t+28>>2],C=+i[t+36>>2],g=+i[t+40>>2],d=+i[t+44>>2],i[t+288>>2]=k*(k*w)+B*(B*S)+N*(N*m),i[t+292>>2]=k*w*D+B*S*E+N*m*M,i[t+296>>2]=k*w*C+B*S*g+N*m*d,i[t+300>>2]=0,i[t+304>>2]=k*(w*D)+B*(S*E)+N*(m*M),i[t+308>>2]=D*(w*D)+E*(S*E)+M*(m*M),i[t+312>>2]=w*D*C+S*E*g+m*M*d,i[t+316>>2]=0,i[t+320>>2]=k*(w*C)+B*(S*g)+N*(m*d),i[t+324>>2]=D*(w*C)+E*(S*g)+M*(m*d),i[t+328>>2]=C*(w*C)+g*(S*g)+d*(m*d),i[t+332>>2]=0}function A6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0;s=e[t+512>>2]|0;e:do if((s|0)>0){for(a=e[t+520>>2]|0,o=0;(e[a+(o<<2)>>2]|0)!=(n|0);)if(o=o+1|0,(o|0)>=(s|0))break e;if((o|0)!=(s|0))return}while(!1);if((s|0)==(e[t+516>>2]|0)&&(l=s|0?s<<1:1,(s|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=s,s=e[t+512>>2]|0):a=0,(s|0)>0){o=0;do e[a+(o<<2)>>2]=e[(e[t+520>>2]|0)+(o<<2)>>2],o=o+1|0;while((o|0)!=(s|0))}o=e[t+520>>2]|0,o&&(A[t+524>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0),s=e[t+512>>2]|0),e[t+520>>2]=0),A[t+524>>0]=1,e[t+520>>2]=a,e[t+516>>2]=l}if(e[(e[t+520>>2]|0)+(s<<2)>>2]=n,e[t+512>>2]=s+1,l=e[n+28>>2]|0,n=e[n+32>>2]|0,(l|0)==(t|0)){if(s=e[t+268>>2]|0,(s|0)==(e[t+272>>2]|0)&&(_=s|0?s<<1:1,(s|0)<(_|0))){if(_?(e[5637]=(e[5637]|0)+1,s=Xe((_<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=s,s=e[t+268>>2]|0):a=0,(s|0)>0){o=0;do e[a+(o<<2)>>2]=e[(e[t+276>>2]|0)+(o<<2)>>2],o=o+1|0;while((o|0)!=(s|0))}o=e[t+276>>2]|0,o&&(A[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0),s=e[t+268>>2]|0),e[t+276>>2]=0),A[t+280>>0]=1,e[t+276>>2]=a,e[t+272>>2]=_}e[(e[t+276>>2]|0)+(s<<2)>>2]=n,e[t+268>>2]=s+1,e[t+260>>2]=s>>>31^1;return}else{if(s=e[n+268>>2]|0,(s|0)==(e[n+272>>2]|0)&&(u=s|0?s<<1:1,(s|0)<(u|0))){if(u?(e[5637]=(e[5637]|0)+1,s=Xe((u<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=s,s=e[n+268>>2]|0):a=0,(s|0)>0){o=0;do e[a+(o<<2)>>2]=e[(e[n+276>>2]|0)+(o<<2)>>2],o=o+1|0;while((o|0)!=(s|0))}o=e[n+276>>2]|0,o&&(A[n+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0),s=e[n+268>>2]|0),e[n+276>>2]=0),A[n+280>>0]=1,e[n+276>>2]=a,e[n+272>>2]=u}e[(e[n+276>>2]|0)+(s<<2)>>2]=l,e[n+268>>2]=s+1,e[n+260>>2]=s>>>31^1;return}}function E6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0;if(l=e[t+512>>2]|0,!((l|0)<=0)){for(u=e[t+520>>2]|0,s=0;(e[u+(s<<2)>>2]|0)!=(n|0);)if(s=s+1|0,(s|0)>=(l|0)){_=25;break}if((_|0)!=25){if((s|0)<(l|0))a=0;else return;for(;;){if(s=u+(a<<2)|0,(e[s>>2]|0)==(n|0)){_=8;break}if(o=a+1|0,(o|0)<(l|0))a=o;else break}if((_|0)==8&&(a|0)<(l|0)&&(e[s>>2]=e[u+(l+-1<<2)>>2],e[(e[t+520>>2]|0)+(l+-1<<2)>>2]=n,e[t+512>>2]=l+-1),u=e[n+28>>2]|0,_=e[n+32>>2]|0,(u|0)==(t|0)){s=e[t+268>>2]|0;e:do if((s|0)>0){for(l=e[t+276>>2]|0,o=0;a=l+(o<<2)|0,(e[a>>2]|0)!=(_|0);)if(o=o+1|0,(o|0)>=(s|0))break e;(o|0)<(s|0)&&(e[a>>2]=e[l+(s+-1<<2)>>2],e[(e[t+276>>2]|0)+(s+-1<<2)>>2]=_,e[t+268>>2]=s+-1,s=s+-1|0)}while(!1);e[t+260>>2]=(s|0)>0&1;return}else{s=e[_+268>>2]|0;e:do if((s|0)>0){for(l=e[_+276>>2]|0,o=0;a=l+(o<<2)|0,(e[a>>2]|0)!=(u|0);)if(o=o+1|0,(o|0)>=(s|0))break e;(o|0)<(s|0)&&(e[a>>2]=e[l+(s+-1<<2)>>2],e[(e[_+276>>2]|0)+(s+-1<<2)>>2]=u,e[_+268>>2]=s+-1,s=s+-1|0)}while(!1);e[_+260>>2]=(s|0)>0&1;return}}}}function b6(t){t=t|0;var n=0;if(e[t>>2]=7952,n=e[t+136>>2]|0,n|0&&(A[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+136>>2]=0),A[t+140>>0]=1,e[t+136>>2]=0,e[t+128>>2]=0,e[t+132>>2]=0,n=e[t+76>>2]|0,n|0&&(A[t+80>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+76>>2]=0),A[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,e[t+72>>2]=0,n=e[t+56>>2]|0,n|0&&(A[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+56>>2]=0),A[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,n=e[t+36>>2]|0,n|0&&(A[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),A[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,n=e[t+16>>2]|0,!n){A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0;return}A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0}function jY(t){t=t|0,b6(t),ye(t)}function qY(t,n,s){t=t|0,n=n|0,s=+s,g2[e[(e[t>>2]|0)+16>>2]&31](t,s)}function XY(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0;if(o=H,H=H+48|0,(e[t+128>>2]|0)<=0){H=o;return}s=0;do h=e[t+136>>2]|0,e[o+32>>2]=(A[h+(s*284|0)+84>>0]|0)==0?1065353216:0,e[o+32+4>>2]=0,e[o+32+8>>2]=1065353216,i[o+32+12>>2]=0,_=h+(s*284|0)+140|0,e[o+16>>2]=e[_>>2],e[o+16+4>>2]=e[_+4>>2],e[o+16+8>>2]=e[_+8>>2],e[o+16+12>>2]=e[_+12>>2],_=e[t+112>>2]|0,a=e[(e[n>>2]|0)+16>>2]|0,u=+i[h+(s*284|0)+108+(_<<2)>>2]+ +i[o+16+4>>2],l=+i[h+(s*284|0)+124+(_<<2)>>2]+ +i[o+16+8>>2],i[o>>2]=+i[h+(s*284|0)+92+(_<<2)>>2]+ +i[o+16>>2],i[o+4>>2]=u,i[o+8>>2]=l,i[o+12>>2]=0,Kt[a&127](n,o+16|0,o,o+32|0),Kt[e[(e[n>>2]|0)+16>>2]&127](n,o+16|0,(e[t+136>>2]|0)+(s*284|0)+16|0,o+32|0),s=s+1|0;while((s|0)<(e[t+128>>2]|0));H=o}function $Y(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(h=H,H=H+80|0,s=Ct[e[(e[t>>2]|0)+28>>2]&127](t)|0,a=+i[t+4>>2],l=+i[t+8>>2],u=+i[t+12>>2],(s|0)<=0){H=h;return}_=0;do{Nc[e[(e[t>>2]|0)+16>>2]&3](t,h+76|0,h+52|0,h+64|0,h+56|0,h+72|0,h+68|0,h+48|0,h+60|0,_);e:do switch(e[h+64>>2]|0){case 0:{switch(e[h+60>>2]|0){case 2:{if((e[h+48>>2]|0)>0)o=0;else break e;do g=(e[h+72>>2]|0)+(Rt(e[h+68>>2]|0,o)|0)|0,C=e[h+76>>2]|0,S=e[h+56>>2]|0,w=C+(Rt(S,e[g>>2]|0)|0)|0,m=l*+i[w+4>>2],d=u*+i[w+8>>2],i[h>>2]=a*+i[w>>2],i[h+4>>2]=m,i[h+8>>2]=d,i[h+12>>2]=0,w=C+(Rt(S,e[g+4>>2]|0)|0)|0,d=l*+i[w+4>>2],m=u*+i[w+8>>2],i[h+16>>2]=a*+i[w>>2],i[h+20>>2]=d,i[h+24>>2]=m,i[h+28>>2]=0,g=C+(Rt(S,e[g+8>>2]|0)|0)|0,m=l*+i[g+4>>2],d=u*+i[g+8>>2],i[h+32>>2]=a*+i[g>>2],i[h+36>>2]=m,i[h+40>>2]=d,i[h+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,h,_,o),o=o+1|0;while((o|0)<(e[h+48>>2]|0));break}case 3:{if((e[h+48>>2]|0)>0)o=0;else break e;do C=(e[h+72>>2]|0)+(Rt(e[h+68>>2]|0,o)|0)|0,S=e[h+76>>2]|0,w=e[h+56>>2]|0,g=S+(Rt(Le[C>>1]|0,w)|0)|0,d=l*+i[g+4>>2],m=u*+i[g+8>>2],i[h>>2]=a*+i[g>>2],i[h+4>>2]=d,i[h+8>>2]=m,i[h+12>>2]=0,g=S+(Rt(Le[C+2>>1]|0,w)|0)|0,m=l*+i[g+4>>2],d=u*+i[g+8>>2],i[h+16>>2]=a*+i[g>>2],i[h+20>>2]=m,i[h+24>>2]=d,i[h+28>>2]=0,w=S+(Rt(Le[C+4>>1]|0,w)|0)|0,d=l*+i[w+4>>2],m=u*+i[w+8>>2],i[h+32>>2]=a*+i[w>>2],i[h+36>>2]=d,i[h+40>>2]=m,i[h+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,h,_,o),o=o+1|0;while((o|0)<(e[h+48>>2]|0));break}case 5:{if((e[h+48>>2]|0)>0)o=0;else break e;do C=(e[h+72>>2]|0)+(Rt(e[h+68>>2]|0,o)|0)|0,S=e[h+76>>2]|0,w=e[h+56>>2]|0,g=S+(Rt(It[C>>0]|0,w)|0)|0,d=l*+i[g+4>>2],m=u*+i[g+8>>2],i[h>>2]=a*+i[g>>2],i[h+4>>2]=d,i[h+8>>2]=m,i[h+12>>2]=0,g=S+(Rt(It[C+1>>0]|0,w)|0)|0,m=l*+i[g+4>>2],d=u*+i[g+8>>2],i[h+16>>2]=a*+i[g>>2],i[h+20>>2]=m,i[h+24>>2]=d,i[h+28>>2]=0,w=S+(Rt(It[C+2>>0]|0,w)|0)|0,d=l*+i[w+4>>2],m=u*+i[w+8>>2],i[h+32>>2]=a*+i[w>>2],i[h+36>>2]=d,i[h+40>>2]=m,i[h+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,h,_,o),o=o+1|0;while((o|0)<(e[h+48>>2]|0));break}default:break e}break}case 1:{switch(e[h+60>>2]|0){case 2:{if((e[h+48>>2]|0)>0)o=0;else break e;do w=(e[h+72>>2]|0)+(Rt(e[h+68>>2]|0,o)|0)|0,S=e[h+76>>2]|0,C=e[h+56>>2]|0,g=S+(Rt(C,e[w>>2]|0)|0)|0,d=l*+Mt[g+8>>3],m=u*+Mt[g+16>>3],i[h>>2]=a*+Mt[g>>3],i[h+4>>2]=d,i[h+8>>2]=m,i[h+12>>2]=0,g=S+(Rt(C,e[w+4>>2]|0)|0)|0,m=l*+Mt[g+8>>3],d=u*+Mt[g+16>>3],i[h+16>>2]=a*+Mt[g>>3],i[h+20>>2]=m,i[h+24>>2]=d,i[h+28>>2]=0,w=S+(Rt(C,e[w+8>>2]|0)|0)|0,d=l*+Mt[w+8>>3],m=u*+Mt[w+16>>3],i[h+32>>2]=a*+Mt[w>>3],i[h+36>>2]=d,i[h+40>>2]=m,i[h+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,h,_,o),o=o+1|0;while((o|0)<(e[h+48>>2]|0));break}case 3:{if((e[h+48>>2]|0)>0)o=0;else break e;do C=(e[h+72>>2]|0)+(Rt(e[h+68>>2]|0,o)|0)|0,S=e[h+76>>2]|0,w=e[h+56>>2]|0,g=S+(Rt(Le[C>>1]|0,w)|0)|0,d=l*+Mt[g+8>>3],m=u*+Mt[g+16>>3],i[h>>2]=a*+Mt[g>>3],i[h+4>>2]=d,i[h+8>>2]=m,i[h+12>>2]=0,g=S+(Rt(Le[C+2>>1]|0,w)|0)|0,m=l*+Mt[g+8>>3],d=u*+Mt[g+16>>3],i[h+16>>2]=a*+Mt[g>>3],i[h+20>>2]=m,i[h+24>>2]=d,i[h+28>>2]=0,w=S+(Rt(Le[C+4>>1]|0,w)|0)|0,d=l*+Mt[w+8>>3],m=u*+Mt[w+16>>3],i[h+32>>2]=a*+Mt[w>>3],i[h+36>>2]=d,i[h+40>>2]=m,i[h+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,h,_,o),o=o+1|0;while((o|0)<(e[h+48>>2]|0));break}case 5:{if((e[h+48>>2]|0)>0)o=0;else break e;do C=(e[h+72>>2]|0)+(Rt(e[h+68>>2]|0,o)|0)|0,S=e[h+76>>2]|0,w=e[h+56>>2]|0,g=S+(Rt(It[C>>0]|0,w)|0)|0,d=l*+Mt[g+8>>3],m=u*+Mt[g+16>>3],i[h>>2]=a*+Mt[g>>3],i[h+4>>2]=d,i[h+8>>2]=m,i[h+12>>2]=0,g=S+(Rt(It[C+1>>0]|0,w)|0)|0,m=l*+Mt[g+8>>3],d=u*+Mt[g+16>>3],i[h+16>>2]=a*+Mt[g>>3],i[h+20>>2]=m,i[h+24>>2]=d,i[h+28>>2]=0,w=S+(Rt(It[C+2>>0]|0,w)|0)|0,d=l*+Mt[w+8>>3],m=u*+Mt[w+16>>3],i[h+32>>2]=a*+Mt[w>>3],i[h+36>>2]=d,i[h+40>>2]=m,i[h+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,h,_,o),o=o+1|0;while((o|0)<(e[h+48>>2]|0));break}default:break e}break}default:}while(!1);zt[e[(e[t>>2]|0)+24>>2]&127](t,_),_=_+1|0}while((_|0)!=(s|0));H=h}function YY(t){return t=t|0,28}function KY(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;if(w=H,H=H+32|0,o=Ct[e[(e[t>>2]|0)+28>>2]&127](t)|0,e[n+20>>2]=o,e[n>>2]=0,!o)return C=t+4|0,s=n+4|0,C=e[C>>2]|0,e[s>>2]=C,s=t+8|0,s=e[s>>2]|0,C=n+8|0,e[C>>2]=s,C=t+12|0,C=e[C>>2]|0,s=n+12|0,e[s>>2]=C,s=t+16|0,s=e[s>>2]|0,t=n+16|0,e[t>>2]=s,H=w,14151;C=V0[e[(e[s>>2]|0)+16>>2]&63](s,32,o)|0,o=e[C+8>>2]|0,e[n>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,S=Ct[e[(e[t>>2]|0)+28>>2]&127](t)|0;e:do if((S|0)>0)for(g=0;;){switch(Nc[e[(e[t>>2]|0)+16>>2]&3](t,w+28|0,w+4|0,w+16|0,w+8|0,w+24|0,w+20|0,w,w+12|0,g),e[o+24>>2]=e[w>>2],e[o+28>>2]=e[w+4>>2],l=o+12|0,_=o+16|0,m=o+4|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[w+12>>2]|0){case 2:{if(a=e[w>>2]|0,a|0){if(a=V0[e[(e[s>>2]|0)+16>>2]&63](s,4,a*3|0)|0,l=e[a+8>>2]|0,e[o+8>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,l)|0,(e[w>>2]|0)>0){u=e[w+24>>2]|0,_=0;do h=u+(Rt(e[w+20>>2]|0,_)|0)|0,d=_*3|0,e[l+(d<<2)>>2]=e[h>>2],e[l+(d+1<<2)>>2]=e[h+4>>2],e[l+(d+2<<2)>>2]=e[h+8>>2],_=_+1|0;while((_|0)<(e[w>>2]|0))}Qi[e[(e[s>>2]|0)+20>>2]&31](s,a,14051,1497453121,e[a+8>>2]|0)}break}case 3:{if(a=e[w>>2]|0,a|0){if(h=V0[e[(e[s>>2]|0)+16>>2]&63](s,8,a)|0,d=e[h+8>>2]|0,e[l>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,d)|0,a=e[w>>2]|0,(a|0)>0){l=e[w+24>>2]|0,u=e[w+20>>2]|0,_=0;do M=l+(Rt(u,_)|0)|0,ee[d+(_<<3)>>1]=ee[M>>1]|0,ee[d+(_<<3)+2>>1]=ee[M+2>>1]|0,ee[d+(_<<3)+4>>1]=ee[M+4>>1]|0,_=_+1|0;while((_|0)!=(a|0))}Qi[e[(e[s>>2]|0)+20>>2]&31](s,h,14066,1497453121,e[h+8>>2]|0)}break}case 5:{if(a=e[w>>2]|0,a|0){if(l=V0[e[(e[s>>2]|0)+16>>2]&63](s,4,a)|0,u=e[l+8>>2]|0,e[_>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,u)|0,(e[w>>2]|0)>0){a=0;do M=(e[w+24>>2]|0)+(Rt(e[w+20>>2]|0,a)|0)|0,A[u+(a<<2)>>0]=A[M>>0]|0,A[u+(a<<2)+1>>0]=A[M+1>>0]|0,A[u+(a<<2)+2>>0]=A[M+2>>0]|0,a=a+1|0;while((a|0)<(e[w>>2]|0))}Qi[e[(e[s>>2]|0)+20>>2]&31](s,l,14093,1497453121,e[l+8>>2]|0)}break}default:}switch(e[w+16>>2]|0){case 0:{if(a=e[w+4>>2]|0,a|0){if(a=V0[e[(e[s>>2]|0)+16>>2]&63](s,16,a)|0,l=e[a+8>>2]|0,e[o>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,l)|0,u=e[w+4>>2]|0,(u|0)>0){_=e[w+28>>2]|0,h=e[w+8>>2]|0,d=0;do M=_+(Rt(h,d)|0)|0,e[l+(d<<4)>>2]=e[M>>2],e[l+(d<<4)+4>>2]=e[M+4>>2],e[l+(d<<4)+8>>2]=e[M+8>>2],d=d+1|0;while((d|0)!=(u|0))}Qi[e[(e[s>>2]|0)+20>>2]&31](s,a,16354,1497453121,e[a+8>>2]|0)}break}case 1:{if(a=e[w+4>>2]|0,a|0){if(h=V0[e[(e[s>>2]|0)+16>>2]&63](s,32,a)|0,d=e[h+8>>2]|0,e[m>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,d)|0,a=e[w+4>>2]|0,(a|0)>0){l=e[w+28>>2]|0,u=e[w+8>>2]|0,_=0;do M=l+(Rt(u,_)|0)|0,Mt[d+(_<<5)>>3]=+Mt[M>>3],Mt[d+(_<<5)+8>>3]=+Mt[M+8>>3],Mt[d+(_<<5)+16>>3]=+Mt[M+16>>3],_=_+1|0;while((_|0)!=(a|0))}Qi[e[(e[s>>2]|0)+20>>2]&31](s,h,14116,1497453121,e[h+8>>2]|0)}break}default:}if(zt[e[(e[t>>2]|0)+24>>2]&127](t,g),g=g+1|0,(g|0)==(S|0)){o=s;break e}else o=o+32|0}else o=s;while(!1);return Qi[e[(e[o>>2]|0)+20>>2]&31](s,C,14136,1497453121,e[C+8>>2]|0),s=t+4|0,M=n+4|0,s=e[s>>2]|0,e[M>>2]=s,M=t+8|0,M=e[M>>2]|0,s=n+8|0,e[s>>2]=M,s=t+12|0,s=e[s>>2]|0,M=n+12|0,e[M>>2]=s,t=t+16|0,t=e[t>>2]|0,M=n+16|0,e[M>>2]=t,H=w,14151}function ZY(t){t=t|0}function QY(t){t=t|0}function JY(t){t=t|0;var n=0;e[t>>2]=6556,n=e[t+32>>2]|0,n|0&&(A[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+32>>2]=0),A[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0}function eK(t){t=t|0;var n=0;e[t>>2]=6556,n=e[t+32>>2]|0,n|0&&(A[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+32>>2]=0),A[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0,e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function tK(t,n,s,o,a,l,u,_,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0,t=e[t+32>>2]|0,e[s>>2]=e[t+(d<<5)+12>>2],e[n>>2]=e[t+(d<<5)+16>>2],e[o>>2]=e[t+(d<<5)+28>>2],e[a>>2]=e[t+(d<<5)+20>>2],e[_>>2]=e[t+(d<<5)>>2],e[l>>2]=e[t+(d<<5)+4>>2],e[u>>2]=e[t+(d<<5)+8>>2],e[h>>2]=e[t+(d<<5)+24>>2]}function iK(t,n,s,o,a,l,u,_,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0,t=e[t+32>>2]|0,e[s>>2]=e[t+(d<<5)+12>>2],e[n>>2]=e[t+(d<<5)+16>>2],e[o>>2]=e[t+(d<<5)+28>>2],e[a>>2]=e[t+(d<<5)+20>>2],e[_>>2]=e[t+(d<<5)>>2],e[l>>2]=e[t+(d<<5)+4>>2],e[u>>2]=e[t+(d<<5)+8>>2],e[h>>2]=e[t+(d<<5)+24>>2]}function nK(t,n){t=t|0,n=n|0}function rK(t,n){t=t|0,n=n|0}function sK(t){return t=t|0,e[t+24>>2]|0}function oK(t,n){t=t|0,n=n|0}function aK(t,n){t=t|0,n=n|0}function cK(t){return t=t|0,(e[t+48>>2]|0)==1|0}function lK(t,n,s){t=t|0,n=n|0,s=s|0,e[t+52>>2]=e[n>>2],e[t+52+4>>2]=e[n+4>>2],e[t+52+8>>2]=e[n+8>>2],e[t+52+12>>2]=e[n+12>>2],e[t+68>>2]=e[s>>2],e[t+68+4>>2]=e[s+4>>2],e[t+68+8>>2]=e[s+8>>2],e[t+68+12>>2]=e[s+12>>2],e[t+48>>2]=1}function uK(t,n,s){t=t|0,n=n|0,s=s|0,e[n>>2]=e[t+52>>2],e[n+4>>2]=e[t+52+4>>2],e[n+8>>2]=e[t+52+8>>2],e[n+12>>2]=e[t+52+12>>2],e[s>>2]=e[t+68>>2],e[s+4>>2]=e[t+68+4>>2],e[s+8>>2]=e[t+68+8>>2],e[s+12>>2]=e[t+68+12>>2]}function N6(t){t=t|0;var n=0;if(e[t>>2]=6624,n=e[t+156>>2]|0,n|0&&(A[t+160>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+156>>2]=0),A[t+160>>0]=1,e[t+156>>2]=0,e[t+148>>2]=0,e[t+152>>2]=0,n=e[t+136>>2]|0,n|0&&(A[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+136>>2]=0),A[t+140>>0]=1,e[t+136>>2]=0,e[t+128>>2]=0,e[t+132>>2]=0,n=e[t+116>>2]|0,n|0&&(A[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+116>>2]=0),A[t+120>>0]=1,e[t+116>>2]=0,e[t+108>>2]=0,e[t+112>>2]=0,n=e[t+96>>2]|0,n|0&&(A[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+96>>2]=0),A[t+100>>0]=1,e[t+96>>2]=0,e[t+88>>2]=0,e[t+92>>2]=0,e[t>>2]=6556,n=e[t+32>>2]|0,!n){A[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,t=t+28|0,e[t>>2]=0;return}A[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+32>>2]=0,A[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,t=t+28|0,e[t>>2]=0}function fK(t){t=t|0,N6(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function pK(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;if(A[t+165>>0]|0){if((e[t+92>>2]|0)>=(n|0))return;if((n|0)!=0&&(e[5637]=(e[5637]|0)+1,s=Xe((n<<4|3)+16|0)|0,(s|0)!=0)?(e[(s+4+15&-16)+-4>>2]=s,a=s+4+15&-16):a=0,s=e[t+88>>2]|0,(s|0)>0){o=0;do u=a+(o<<4)|0,l=(e[t+96>>2]|0)+(o<<4)|0,e[u>>2]=e[l>>2],e[u+4>>2]=e[l+4>>2],e[u+8>>2]=e[l+8>>2],e[u+12>>2]=e[l+12>>2],o=o+1|0;while((o|0)!=(s|0))}s=e[t+96>>2]|0,s|0&&(A[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+96>>2]=0),A[t+100>>0]=1,e[t+96>>2]=a,e[t+92>>2]=n;return}if(!((e[t+112>>2]|0)>=(n|0))){if((n|0)!=0&&(e[5637]=(e[5637]|0)+1,o=Xe((n<<2|3)+16|0)|0,(o|0)!=0)?(e[(o+4+15&-16)+-4>>2]=o,l=o+4+15&-16):l=0,o=e[t+108>>2]|0,a=e[t+116>>2]|0,(o|0)<=0)a?u=21:s=t+120|0;else{s=0;do e[l+(s<<2)>>2]=e[a+(s<<2)>>2],s=s+1|0;while((s|0)!=(o|0));u=21}(u|0)==21&&(A[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+116>>2]=0,s=t+120|0),A[s>>0]=1,e[t+116>>2]=l,e[t+112>>2]=n}}function _K(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;if(A[t+164>>0]|0){if((e[t+132>>2]|0)>=(n|0))return;if((n|0)!=0&&(e[5637]=(e[5637]|0)+1,s=Xe((n<<2|3)+16|0)|0,(s|0)!=0)?(e[(s+4+15&-16)+-4>>2]=s,l=s+4+15&-16):l=0,o=e[t+128>>2]|0,a=e[t+136>>2]|0,(o|0)<=0)a?u=10:s=t+140|0;else{s=0;do e[l+(s<<2)>>2]=e[a+(s<<2)>>2],s=s+1|0;while((s|0)!=(o|0));u=10}(u|0)==10&&(A[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+136>>2]=0,s=t+140|0),A[s>>0]=1,e[t+136>>2]=l,e[t+132>>2]=n;return}else{if((e[t+152>>2]|0)>=(n|0))return;if((n|0)!=0&&(e[5637]=(e[5637]|0)+1,o=Xe((n<<1)+19|0)|0,(o|0)!=0)?(e[(o+4+15&-16)+-4>>2]=o,l=o+4+15&-16):l=0,o=e[t+148>>2]|0,a=e[t+156>>2]|0,(o|0)<=0)a?u=22:s=t+160|0;else{s=0;do ee[l+(s<<1)>>1]=ee[a+(s<<1)>>1]|0,s=s+1|0;while((s|0)!=(o|0));u=22}(u|0)==22&&(A[t+160>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+156>>2]=0,s=t+160|0),A[s>>0]=1,e[t+156>>2]=l,e[t+152>>2]=n;return}}function gh(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;if(e[t+4>>2]=1065353216,e[t+8>>2]=1065353216,e[t+12>>2]=1065353216,i[t+16>>2]=0,A[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0,e[t+48>>2]=0,e[t>>2]=6624,A[t+100>>0]=1,e[t+96>>2]=0,e[t+88>>2]=0,e[t+92>>2]=0,A[t+120>>0]=1,e[t+116>>2]=0,e[t+108>>2]=0,e[t+112>>2]=0,A[t+140>>0]=1,e[t+136>>2]=0,e[t+128>>2]=0,e[t+132>>2]=0,A[t+160>>0]=1,e[t+156>>2]=0,e[t+148>>2]=0,e[t+152>>2]=0,A[t+164>>0]=n&1,A[t+165>>0]=s&1,i[t+168>>2]=0,e[5637]=(e[5637]|0)+1,n=Xe(51)|0,n?(e[(n+4+15&-16)+-4>>2]=n,o=n+4+15&-16):o=0,n=e[t+24>>2]|0,(n|0)>0){s=0;do a=o+(s<<5)|0,l=(e[t+32>>2]|0)+(s<<5)|0,e[a>>2]=e[l>>2],e[a+4>>2]=e[l+4>>2],e[a+8>>2]=e[l+8>>2],e[a+12>>2]=e[l+12>>2],e[a+16>>2]=e[l+16>>2],e[a+20>>2]=e[l+20>>2],e[a+24>>2]=e[l+24>>2],e[a+28>>2]=e[l+28>>2],s=s+1|0;while((s|0)!=(n|0))}if(n=e[t+32>>2]|0,n|0&&(A[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+32>>2]=0),A[t+36>>0]=1,e[t+32>>2]=o,e[t+28>>2]=1,n=e[t+24>>2]|0,e[o+(n<<5)>>2]=0,e[o+(n<<5)+4>>2]=0,e[o+(n<<5)+8>>2]=12,e[o+(n<<5)+12>>2]=0,e[o+(n<<5)+16>>2]=0,e[o+(n<<5)+20>>2]=16,e[o+(n<<5)+24>>2]=2,e[o+(n<<5)+28>>2]=0,e[t+24>>2]=(e[t+24>>2]|0)+1,n=ee[t+164>>1]|0,(n&255)<<24>>24?(s=e[t+32>>2]|0,e[s>>2]=(e[t+128>>2]|0)/3|0,e[s+4>>2]=0,e[s+24>>2]=2,e[s+8>>2]=12):(s=e[t+32>>2]|0,e[s>>2]=(e[t+148>>2]|0)/3|0,e[s+4>>2]=0,e[s+24>>2]=3,e[s+8>>2]=6),(n&65535)<256){a=12,t=(e[t+108>>2]|0)/3|0,l=s+12|0,e[l>>2]=t,l=s+16|0,e[l>>2]=0,l=s+20|0,e[l>>2]=a;return}else{a=16,t=e[t+88>>2]|0,l=s+12|0,e[l>>2]=t,l=s+16|0,e[l>>2]=0,l=s+20|0,e[l>>2]=a;return}}function Cc(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0;if(A[t+164>>0]|0){if(s=e[t+128>>2]|0,(s|0)==(e[t+132>>2]|0)&&(u=s|0?s<<1:1,(s|0)<(u|0))){if(u?(e[5637]=(e[5637]|0)+1,s=Xe((u<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,l=s,s=e[t+128>>2]|0):l=0,a=e[t+136>>2]|0,(s|0)<=0)a?o=12:s=t+140|0;else{o=0;do e[l+(o<<2)>>2]=e[a+(o<<2)>>2],o=o+1|0;while((o|0)!=(s|0));o=12}(o|0)==12&&(A[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+136>>2]=0,s=t+140|0),A[s>>0]=1,e[t+136>>2]=l,e[t+132>>2]=u,s=e[t+128>>2]|0}_=e[t+136>>2]|0,e[_+(s<<2)>>2]=n,e[t+128>>2]=(e[t+128>>2]|0)+1,e[(e[t+32>>2]|0)+4>>2]=_;return}else{if(s=e[t+148>>2]|0,(s|0)==(e[t+152>>2]|0)&&(_=s|0?s<<1:1,(s|0)<(_|0))){if(_?(e[5637]=(e[5637]|0)+1,s=Xe((_<<1)+19|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,l=s,s=e[t+148>>2]|0):l=0,a=e[t+156>>2]|0,(s|0)<=0)a?o=27:s=t+160|0;else{o=0;do ee[l+(o<<1)>>1]=ee[a+(o<<1)>>1]|0,o=o+1|0;while((o|0)!=(s|0));o=27}(o|0)==27&&(A[t+160>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+156>>2]=0,s=t+160|0),A[s>>0]=1,e[t+156>>2]=l,e[t+152>>2]=_,s=e[t+148>>2]|0}_=e[t+156>>2]|0,ee[_+(s<<1)>>1]=n,e[t+148>>2]=s+1,e[(e[t+32>>2]|0)+4>>2]=_;return}}function wc(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(A[t+165>>0]|0){o=e[t+88>>2]|0;e:do if((o|0)>0&s){for(a=e[t+96>>2]|0,d=+i[n>>2],u=+i[n+4>>2],_=+i[n+8>>2],h=+i[t+168>>2],s=0;w=+i[a+(s<<4)>>2]-d,C=+i[a+(s<<4)+4>>2]-u,S=+i[a+(s<<4)+8>>2]-_,!(w*w+C*C+S*S<=h);)if(s=s+1|0,(s|0)>=(o|0))break e;return s|0}while(!1);if(g=(e[t+32>>2]|0)+12|0,e[g>>2]=(e[g>>2]|0)+1,(o|0)==(e[t+92>>2]|0)&&(l=o|0?o<<1:1,(o|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+88>>2]|0):s=0,(o|0)>0){a=0;do g=s+(a<<4)|0,m=(e[t+96>>2]|0)+(a<<4)|0,e[g>>2]=e[m>>2],e[g+4>>2]=e[m+4>>2],e[g+8>>2]=e[m+8>>2],e[g+12>>2]=e[m+12>>2],a=a+1|0;while((a|0)!=(o|0))}o=e[t+96>>2]|0,o|0&&(A[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+96>>2]=0),A[t+100>>0]=1,e[t+96>>2]=s,e[t+92>>2]=l,s=e[t+88>>2]|0}else s=o;return g=(e[t+96>>2]|0)+(s<<4)|0,e[g>>2]=e[n>>2],e[g+4>>2]=e[n+4>>2],e[g+8>>2]=e[n+8>>2],e[g+12>>2]=e[n+12>>2],n=e[t+88>>2]|0,e[t+88>>2]=n+1,e[(e[t+32>>2]|0)+16>>2]=e[t+96>>2],n|0}a=e[t+108>>2]|0;e:do if((a|0)>0&s){for(s=e[t+116>>2]|0,u=+i[n>>2],_=+i[n+4>>2],h=+i[n+8>>2],d=+i[t+168>>2],l=0;S=+i[s+(l<<2)>>2]-u,C=+i[s+(l+1<<2)>>2]-_,w=+i[s+(l+2<<2)>>2]-h,o=l+3|0,!(S*S+C*C+w*w<=d);)if((o|0)<(a|0))l=o;else break e;return n=(l|0)/3|0,n|0}while(!1);if(s=e[t+112>>2]|0,(a|0)==(s|0))if(m=a|0?a<<1:1,(a|0)<(m|0)){if(m?(e[5637]=(e[5637]|0)+1,s=Xe((m<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=e[t+108>>2]|0):s=0,l=e[t+116>>2]|0,(a|0)<=0)l?g=34:o=t+120|0;else{o=0;do e[s+(o<<2)>>2]=e[l+(o<<2)>>2],o=o+1|0;while((o|0)!=(a|0));g=34}(g|0)==34&&(A[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+116>>2]=0,o=t+120|0),A[o>>0]=1,e[t+116>>2]=s,e[t+112>>2]=m,o=e[t+108>>2]|0,a=m}else o=a;else o=a,a=s;if(e[(e[t+116>>2]|0)+(o<<2)>>2]=e[n>>2],s=o+1|0,e[t+108>>2]=s,(s|0)==(a|0))if(m=a|0?a<<1:1,(a|0)<(m|0)){if(m?(e[5637]=(e[5637]|0)+1,s=Xe((m<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=e[t+108>>2]|0):s=0,l=e[t+116>>2]|0,(a|0)<=0)l?g=48:o=t+120|0;else{o=0;do e[s+(o<<2)>>2]=e[l+(o<<2)>>2],o=o+1|0;while((o|0)!=(a|0));g=48}(g|0)==48&&(A[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+116>>2]=0,o=t+120|0),A[o>>0]=1,e[t+116>>2]=s,e[t+112>>2]=m,s=e[t+108>>2]|0,a=m}else s=a;if(e[(e[t+116>>2]|0)+(s<<2)>>2]=e[n+4>>2],s=s+1|0,e[t+108>>2]=s,(s|0)==(a|0))if(m=a|0?a<<1:1,(a|0)<(m|0)){if(m?(e[5637]=(e[5637]|0)+1,s=Xe((m<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=e[t+108>>2]|0):s=0,l=e[t+116>>2]|0,(a|0)<=0)l?g=62:o=t+120|0;else{o=0;do e[s+(o<<2)>>2]=e[l+(o<<2)>>2],o=o+1|0;while((o|0)!=(a|0));g=62}(g|0)==62&&(A[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+116>>2]=0,o=t+120|0),A[o>>0]=1,e[t+116>>2]=s,e[t+112>>2]=m,s=e[t+108>>2]|0}else s=a;return g=e[t+116>>2]|0,e[g+(s<<2)>>2]=e[n+8>>2],n=s+1|0,e[t+108>>2]=n,t=e[t+32>>2]|0,e[t+12>>2]=(e[t+12>>2]|0)+1,e[t+16>>2]=g,n=((n|0)/3|0)+-1|0,n|0}function hK(t){t=t|0}function dK(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function mK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0;S=(+i[t+36>>2]-+i[t+20>>2])*.5,d=(+i[t+40>>2]-+i[t+24>>2])*.5,u=(+i[t+44>>2]-+i[t+28>>2])*.5,g=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),h=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),u=u+ +Tt[e[(e[t>>2]|0)+48>>2]&15](t),O=(+i[t+36>>2]+ +i[t+20>>2])*.5,U=(+i[t+40>>2]+ +i[t+24>>2])*.5,F=(+i[t+44>>2]+ +i[t+28>>2])*.5,q=+i[n>>2],k=+ht(+q),$=+i[n+4>>2],B=+ht(+$),D=+i[n+8>>2],N=+ht(+D),Y=+i[n+16>>2],E=+ht(+Y),z=+i[n+20>>2],M=+ht(+z),C=+i[n+24>>2],w=+ht(+C),V=+i[n+32>>2],m=+ht(+V),L=+i[n+36>>2],_=+ht(+L),a=+i[n+40>>2],l=+ht(+a),D=O*q+U*$+F*D+ +i[n+48>>2],C=O*Y+U*z+F*C+ +i[n+52>>2],a=O*V+U*L+F*a+ +i[n+56>>2],i[s>>2]=D-((S+g)*k+(d+h)*B+u*N),i[s+4>>2]=C-((S+g)*E+(d+h)*M+u*w),i[s+8>>2]=a-((S+g)*m+(d+h)*_+u*l),i[s+12>>2]=0,i[o>>2]=(S+g)*k+(d+h)*B+u*N+D,i[o+4>>2]=(S+g)*E+(d+h)*M+u*w+C,i[o+8>>2]=(S+g)*m+(d+h)*_+u*l+a,i[o+12>>2]=0}function D6(t,n){t=t|0,n=n|0;var s=0,o=0;s=H,H=H+48|0,o=(e[t+52>>2]|0)+4|0,e[o>>2]=e[n>>2],e[o+4>>2]=e[n+4>>2],e[o+8>>2]=e[n+8>>2],e[o+12>>2]=e[n+12>>2],e[s+32>>2]=0,e[s+32+4>>2]=0,e[s+32+8>>2]=0,e[s+32+12>>2]=0,i[s+32>>2]=1,f0[e[(e[t>>2]|0)+68>>2]&127](s+16|0,t,s+32|0),i[t+36>>2]=+i[s+16>>2]+ +i[t+16>>2],i[s+32>>2]=-1,f0[e[(e[t>>2]|0)+68>>2]&127](s,t,s+32|0),e[s+16>>2]=e[s>>2],e[s+16+4>>2]=e[s+4>>2],e[s+16+8>>2]=e[s+8>>2],e[s+16+12>>2]=e[s+12>>2],i[t+20>>2]=+i[s+16>>2]-+i[t+16>>2],e[s+32>>2]=0,e[s+32+4>>2]=0,e[s+32+8>>2]=0,e[s+32+12>>2]=0,i[s+32+4>>2]=1,f0[e[(e[t>>2]|0)+68>>2]&127](s+16|0,t,s+32|0),i[t+40>>2]=+i[s+16+4>>2]+ +i[t+16>>2],i[s+32+4>>2]=-1,f0[e[(e[t>>2]|0)+68>>2]&127](s,t,s+32|0),e[s+16>>2]=e[s>>2],e[s+16+4>>2]=e[s+4>>2],e[s+16+8>>2]=e[s+8>>2],e[s+16+12>>2]=e[s+12>>2],i[t+24>>2]=+i[s+16+4>>2]-+i[t+16>>2],e[s+32>>2]=0,e[s+32+4>>2]=0,e[s+32+8>>2]=0,e[s+32+12>>2]=0,i[s+32+8>>2]=1,f0[e[(e[t>>2]|0)+68>>2]&127](s+16|0,t,s+32|0),i[t+44>>2]=+i[s+16+8>>2]+ +i[t+16>>2],i[s+32+8>>2]=-1,f0[e[(e[t>>2]|0)+68>>2]&127](s,t,s+32|0),e[s+16>>2]=e[s>>2],e[s+16+4>>2]=e[s+4>>2],e[s+16+8>>2]=e[s+8>>2],e[s+16+12>>2]=e[s+12>>2],i[t+28>>2]=+i[s+16+8>>2]-+i[t+16>>2],H=s}function gK(t){return t=t|0,(e[t+52>>2]|0)+4|0}function xK(t,n,s){t=t|0,n=+n,s=s|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0}function yK(t){return t=t|0,14302}function vK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;a=H,H=H+48|0,e[a>>2]=6776,e[a+4>>2]=n,e[a+8>>2]=e[s>>2],e[a+8+4>>2]=e[s+4>>2],e[a+8+8>>2]=e[s+8>>2],e[a+8+12>>2]=e[s+12>>2],e[a+24>>2]=e[o>>2],e[a+24+4>>2]=e[o+4>>2],e[a+24+8>>2]=e[o+8>>2],e[a+24+12>>2]=e[o+12>>2],t=e[t+52>>2]|0,Kt[e[(e[t>>2]|0)+8>>2]&127](t,a,s,o),H=a}function SK(t){t=t|0,ye(t)}function TK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0;a=+i[n>>2],l=+i[n+16>>2],_=a<l?a:l,u=+i[n+32>>2],!((_<u?_:u)>+i[t+24>>2])&&(h=a>l?n:n+16|0,!(+i[(+i[h>>2]>u?h:n+32|0)>>2]<+i[t+8>>2])&&(a=+i[n+8>>2],l=+i[n+24>>2],_=a<l?a:l,u=+i[n+40>>2],!((_<u?_:u)>+i[t+32>>2])&&(h=a>l?n+8|0:n+24|0,!(+i[(+i[h>>2]>u?h:n+40|0)>>2]<+i[t+16>>2])&&(a=+i[n+4>>2],l=+i[n+20>>2],_=a<l?a:l,u=+i[n+36>>2],!((_<u?_:u)>+i[t+28>>2])&&(h=a>l?n+4|0:n+20|0,!(+i[(+i[h>>2]>u?h:n+36|0)>>2]<+i[t+12>>2])&&(h=e[t+4>>2]|0,Kt[e[(e[h>>2]|0)+8>>2]&127](h,n,s,o)))))))}function CK(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0;o=H,H=H+160|0,e[o+136>>2]=0,e[o+136+4>>2]=0,e[o+136+8>>2]=0,e[o+136+12>>2]=0,e[o+136+16>>2]=0,e[o+32>>2]=6796,a=o+32+4|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[o+32+20>>2]=1065353216,e[o+32+24>>2]=0,e[o+32+24+4>>2]=0,e[o+32+24+8>>2]=0,e[o+32+24+12>>2]=0,e[o+32+40>>2]=1065353216,e[o+32+44>>2]=0,e[o+32+44+4>>2]=0,e[o+32+44+8>>2]=0,e[o+32+44+12>>2]=0,e[o+32+60>>2]=1065353216,e[o+32+64>>2]=0,e[o+32+68>>2]=e[o+136+4>>2],e[o+32+68+4>>2]=e[o+136+4+4>>2],e[o+32+68+8>>2]=e[o+136+4+8>>2],e[o+32+68+12>>2]=e[o+136+4+12>>2],i[o+32+84>>2]=-0xde0b6b000000000,_=+i[s>>2],u=+i[s+4>>2],l=+i[s+8>>2],i[o+32+88>>2]=_+u*0+l*0,i[o+32+92>>2]=_*0+u+l*0,i[o+32+96>>2]=_*0+u*0+l,i[o+32+100>>2]=0,e[o+16>>2]=1566444395,e[o+16+4>>2]=1566444395,e[o+16+8>>2]=1566444395,i[o+16+12>>2]=0,s=e[(e[n>>2]|0)+64>>2]|0,i[o>>2]=-0xde0b6b000000000,i[o+4>>2]=-0xde0b6b000000000,i[o+8>>2]=-0xde0b6b000000000,i[o+12>>2]=0,Kt[s&127](n,o+32|0,o,o+16|0),e[t>>2]=e[a>>2],e[t+4>>2]=e[a+4>>2],e[t+8>>2]=e[a+8>>2],e[t+12>>2]=e[a+12>>2],H=o}function wK(t){t=t|0,ye(t)}function MK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0;_=+i[t+88>>2],h=+i[t+92>>2],u=+i[t+96>>2],a=_*+i[n>>2]+h*+i[n+4>>2]+u*+i[n+8>>2],l=+i[t+84>>2],a>l?(i[t+84>>2]=a,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2]):a=l,l=_*+i[n+16>>2]+h*+i[n+20>>2]+u*+i[n+24>>2],l>a?(i[t+84>>2]=l,e[t+4>>2]=e[n+16>>2],e[t+4+4>>2]=e[n+16+4>>2],e[t+4+8>>2]=e[n+16+8>>2],e[t+4+12>>2]=e[n+16+12>>2]):l=a,a=_*+i[n+32>>2]+h*+i[n+36>>2]+u*+i[n+40>>2],a>l&&(i[t+84>>2]=a,e[t+4>>2]=e[n+32>>2],e[t+4+4>>2]=e[n+32+4>>2],e[t+4+8>>2]=e[n+32+8>>2],e[t+4+12>>2]=e[n+32+12>>2])}function RK(t){t=t|0,ye(t)}function Zf(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0;if(U=H,H=H+304|0,L=+i[s+48>>2]-+i[n+48>>2],k=+i[s+52>>2]-+i[n+52>>2],F=+i[s+56>>2]-+i[n+56>>2],Ea(n,s,U+288|0,U+240|0),E=+i[U+240>>2],w=+i[U+288>>2]*E,M=E*+i[U+288+4>>2],E=E*+i[U+288+8>>2],i[U+224>>2]=w,i[U+224+4>>2]=M,i[U+224+8>>2]=E,i[U+224+12>>2]=0,D=+i[a+48>>2]-+i[o+48>>2],N=+i[a+52>>2]-+i[o+52>>2],B=+i[a+56>>2]-+i[o+56>>2],Ea(o,a,U+288|0,U+240|0),S=+i[U+240>>2],m=+i[U+288>>2]*S,g=S*+i[U+288+4>>2],S=S*+i[U+288+8>>2],i[U+192>>2]=m,i[U+192+4>>2]=g,i[U+192+8>>2]=S,i[U+192+12>>2]=0,s=e[t+12>>2]|0,C=+Tt[e[(e[s>>2]|0)+16>>2]&15](s),s=e[t+16>>2]|0,s?_=+Tt[e[(e[s>>2]|0)+16>>2]&15](s):_=0,C=C*+at(+(w*w+M*M+E*E))+_*+at(+(m*m+g*g+S*S)),C+ +at(+((D-L)*(D-L)+(N-k)*(N-k)+(B-F)*(B-F)))==0)return l=0,H=U,l|0;e[U+240>>2]=6836,i[U+240+36>>2]=0xde0b6b000000000,A[U+240+40>>0]=0,I6(t,n,o,U+240|0),a=(A[U+240+40>>0]|0)==0,e[U+288>>2]=e[U+240+20>>2],e[U+288+4>>2]=e[U+240+20+4>>2],e[U+288+8>>2]=e[U+240+20+8>>2],e[U+288+12>>2]=e[U+240+20+12>>2];e:do if(!a&&(d=e[U+240+4>>2]|0,u=e[U+240+8>>2]|0,h=e[U+240+12>>2]|0,E=(D-L)*(e[Z>>2]=d,+i[Z>>2]),E=E+(N-k)*(e[Z>>2]=u,+i[Z>>2]),!(C+(E+(B-F)*(e[Z>>2]=h,+i[Z>>2]))<=11920928955078125e-23))){_=+i[U+240+16>>2],m=+i[U+240+36>>2]+ +i[l+172>>2];t:do if(m>.0010000000474974513){for(g=m,S=0,a=0;;){if(s=e[l+168>>2]|0,s|0&&(V=e[(e[s>>2]|0)+28>>2]|0,e[U+208>>2]=1065353216,e[U+208+4>>2]=1065353216,e[U+208+8>>2]=1065353216,i[U+208+12>>2]=0,Bh[V&7](s,U+288|0,.20000000298023224,U+208|0)),_=(D-L)*(e[Z>>2]=d,+i[Z>>2]),_=_+(N-k)*(e[Z>>2]=u,+i[Z>>2]),_=C+(_+(B-F)*(e[Z>>2]=h,+i[Z>>2])),_<=11920928955078125e-23){u=0;break e}if(m=S+g/_,!(!(m<=S)&(!(m<0)&!(m>1)))){u=0;break e}if(oo(n,L,k,F,U+224|0,m,U+112|0),oo(o,D,N,B,U+192|0,m,U+48|0),u=e[l+168>>2]|0,u|0&&(V=e[(e[u>>2]|0)+28>>2]|0,e[U+176>>2]=1065353216,e[U+176+4>>2]=0,e[U+176+8>>2]=0,i[U+176+12>>2]=0,Bh[V&7](u,U+112+48|0,.20000000298023224,U+176|0)),g2[e[e[l>>2]>>2]&31](l,m),e[U>>2]=6836,i[U+36>>2]=0xde0b6b000000000,A[U+40>>0]=0,I6(t,U+112|0,U+48|0,U),!(A[U+40>>0]|0)){u=15;break}if(_=+i[U+36>>2],g=+i[l+172>>2],e[U+288>>2]=e[U+20>>2],e[U+288+4>>2]=e[U+20+4>>2],e[U+288+8>>2]=e[U+20+8>>2],e[U+288+12>>2]=e[U+20+12>>2],s=a+1|0,(a|0)>63){u=16;break}if(h=e[U+12>>2]|0,u=e[U+8>>2]|0,d=e[U+4>>2]|0,g=_+g,g>.0010000000474974513)S=m,a=s;else{_=+i[U+16>>2];break t}}(u|0)==15?f0[e[(e[l>>2]|0)+8>>2]&127](l,-1,a):(u|0)==16&&f0[e[(e[l>>2]|0)+8>>2]&127](l,-2,s),u=0;break e}else m=0;while(!1);i[l+164>>2]=m,e[l+132>>2]=d,e[l+136>>2]=u,e[l+140>>2]=h,i[l+144>>2]=_,e[l+148>>2]=e[U+288>>2],e[l+148+4>>2]=e[U+288+4>>2],e[l+148+8>>2]=e[U+288+8>>2],e[l+148+12>>2]=e[U+288+12>>2],u=1}else u=0;while(!1);return V=u,H=U,V|0}function AK(t){t=t|0,ye(t)}function EK(t,n,s){t=t|0,n=n|0,s=s|0}function bK(t,n,s){t=t|0,n=n|0,s=s|0}function NK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o,+i[t+36>>2]>o&&(A[t+40>>0]=1,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2],e[t+20>>2]=e[s>>2],e[t+20+4>>2]=e[s+4>>2],e[t+20+8>>2]=e[s+8>>2],e[t+20+12>>2]=e[s+12>>2],i[t+36>>2]=o)}function I6(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0;if(a=H,H=H+256|0,e[t+16>>2]|0){_e=e[t+4>>2]|0,A[_e+312>>0]=0,e[_e>>2]=0,A[_e+356>>0]=1,e[_e+292>>2]=1566444395,e[_e+296>>2]=1566444395,e[_e+300>>2]=1566444395,i[_e+304>>2]=0,e[_e+336>>2]=0,e[_e+336+4>>2]=0,e[_e+336+8>>2]=0,e[_e+336+12>>2]=0,A[_e+336+16>>0]=0,A[_e+332>>0]=A[_e+332>>0]&-16,_e=e[t+12>>2]|0,pe=e[t+16>>2]|0,te=e[_e+4>>2]|0,W=e[pe+4>>2]|0,X=+Tt[e[(e[_e>>2]|0)+48>>2]&15](_e),he=e[t+16>>2]|0,ne=+Tt[e[(e[he>>2]|0)+48>>2]&15](he),he=e[t+4>>2]|0,t=e[t+8>>2]|0,e[a+168>>2]=6928,e[a+168+4>>2]=0,e[a+168+8>>2]=1065353216,e[a+168+12>>2]=0,i[a+168+16>>2]=0,e[a+168+20>>2]=t,e[a+168+24>>2]=he,e[a+168+28>>2]=_e,e[a+168+32>>2]=pe,e[a+168+36>>2]=te,e[a+168+40>>2]=W,i[a+168+44>>2]=X,i[a+168+48>>2]=ne,A[a+168+52>>0]=0,e[a+168+60>>2]=-1,e[a+168+72>>2]=1,e[a+168+76>>2]=1,i[a+32+128>>2]=0xde0b6b000000000,e[a+32>>2]=e[n>>2],e[a+32+4>>2]=e[n+4>>2],e[a+32+8>>2]=e[n+8>>2],e[a+32+12>>2]=e[n+12>>2],e[a+32+16>>2]=e[n+16>>2],e[a+32+16+4>>2]=e[n+16+4>>2],e[a+32+16+8>>2]=e[n+16+8>>2],e[a+32+16+12>>2]=e[n+16+12>>2],e[a+32+32>>2]=e[n+32>>2],e[a+32+32+4>>2]=e[n+32+4>>2],e[a+32+32+8>>2]=e[n+32+8>>2],e[a+32+32+12>>2]=e[n+32+12>>2],e[a+32+48>>2]=e[n+48>>2],e[a+32+48+4>>2]=e[n+48+4>>2],e[a+32+48+8>>2]=e[n+48+8>>2],e[a+32+48+12>>2]=e[n+48+12>>2],e[a+32+64>>2]=e[s>>2],e[a+32+64+4>>2]=e[s+4>>2],e[a+32+64+8>>2]=e[s+8>>2],e[a+32+64+12>>2]=e[s+12>>2],e[a+32+80>>2]=e[s+16>>2],e[a+32+80+4>>2]=e[s+16+4>>2],e[a+32+80+8>>2]=e[s+16+8>>2],e[a+32+80+12>>2]=e[s+16+12>>2],e[a+32+96>>2]=e[s+32>>2],e[a+32+96+4>>2]=e[s+32+4>>2],e[a+32+96+8>>2]=e[s+32+8>>2],e[a+32+96+12>>2]=e[s+32+12>>2],e[a+32+112>>2]=e[s+48>>2],e[a+32+112+4>>2]=e[s+48+4>>2],e[a+32+112+8>>2]=e[s+48+8>>2],e[a+32+112+12>>2]=e[s+48+12>>2],l1(a+168|0,a+32|0,o,0,0),H=a;return}else{W=e[t+12>>2]|0,t=e[t+20>>2]|0,d=+i[n>>2],S=+i[n+4>>2],E=+i[n+8>>2],u=+i[n+16>>2],C=+i[n+20>>2],l=+i[n+24>>2],h=+i[n+32>>2],w=+i[n+36>>2],_=+i[n+40>>2],Y=+i[n+48>>2],z=+i[n+52>>2],O=+i[n+56>>2],ne=+i[s>>2],X=+i[s+16>>2],k=+i[s+32>>2],q=+i[s+4>>2],$=+i[s+20>>2],N=+i[s+36>>2],D=+i[s+8>>2],F=+i[s+24>>2],B=+i[s+40>>2],V=-+i[s+48>>2],U=-+i[s+52>>2],g=-+i[s+56>>2],n=e[(e[W>>2]|0)+64>>2]|0,L=-+i[t+52>>2],M=-+i[t+56>>2],m=-+i[t+60>>2],i[a+16>>2]=(d*ne+u*X+h*k)*L+(d*q+u*$+h*N)*M+(d*D+u*F+h*B)*m,i[a+16+4>>2]=(S*ne+C*X+w*k)*L+(S*q+C*$+w*N)*M+(S*D+C*F+w*B)*m,i[a+16+8>>2]=(E*ne+l*X+_*k)*L+(E*q+l*$+_*N)*M+(E*D+l*F+_*B)*m,i[a+16+12>>2]=0,f0[n&127](a+168|0,W,a+16|0),m=+i[a+168>>2],M=+i[a+168+4>>2],L=+i[a+168+8>>2],k=Y*ne+z*X+O*k+(ne*V+X*U+k*g)+((d*ne+u*X+h*k)*m+(S*ne+C*X+w*k)*M+(E*ne+l*X+_*k)*L),N=Y*q+z*$+O*N+(q*V+$*U+N*g)+((d*q+u*$+h*N)*m+(S*q+C*$+w*N)*M+(E*q+l*$+_*N)*L),L=Y*D+z*F+O*B+(D*V+F*U+B*g)+((d*D+u*F+h*B)*m+(S*D+C*F+w*B)*M+(E*D+l*F+_*B)*L),B=+i[t+52>>2],_=+i[t+56>>2],F=+i[t+60>>2],l=F*L+(B*k+_*N)-+i[t+68>>2],D=+i[s>>2],E=+i[s+4>>2],M=+i[s+8>>2],w=+i[s+16>>2],C=+i[s+20>>2],S=+i[s+24>>2],m=+i[s+32>>2],h=+i[s+36>>2],u=+i[s+40>>2],d=(k-B*l)*w+(N-_*l)*C+(L-F*l)*S+ +i[s+52>>2],g=(k-B*l)*m+(N-_*l)*h+(L-F*l)*u+ +i[s+56>>2],i[a+32>>2]=M*(L-F*l)+(D*(k-B*l)+E*(N-_*l))+ +i[s+48>>2],i[a+32+4>>2]=d,i[a+32+8>>2]=g,i[a+32+12>>2]=0,g=+i[t+52>>2],d=+i[t+56>>2],_=+i[t+60>>2],i[a>>2]=D*g+E*d+M*_,i[a+4>>2]=g*w+d*C+_*S,i[a+8>>2]=g*m+d*h+_*u,i[a+12>>2]=0,D2[e[(e[o>>2]|0)+16>>2]&15](o,a,a+32|0,l),H=a;return}}function oo(t,n,s,o,a,l,u){t=t|0,n=+n,s=+s,o=+o,a=a|0,l=+l,u=u|0;var _=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;d=H,H=H+16|0,h=s*l+ +i[t+52>>2],_=o*l+ +i[t+56>>2],i[u+48>>2]=n*l+ +i[t+48>>2],i[u+52>>2]=h,i[u+56>>2]=_,i[u+60>>2]=0,_=+i[a>>2],h=+i[a+4>>2],s=+i[a+8>>2],o=+at(+(_*_+h*h+s*s)),o=o*l>.7853981852531433?.7853981852531433/l:o,o<.0010000000474974513?n=l*.5-o*(l*l*l*.02083333395421505*o):n=+N2(+(o*.5*l))/o,S=_*n,g=h*n,_=s*n,w=+C2(+(o*l*.5)),xs(t,d),n=+i[d>>2],C=+i[d+12>>2],s=+i[d+8>>2],l=+i[d+4>>2],M=1/+at(+((w*C-S*n-g*l-_*s)*(w*C-S*n-g*l-_*s)+((_*C+w*s+S*l-g*n)*(_*C+w*s+S*l-g*n)+((w*n+S*C+g*s-_*l)*(w*n+S*C+g*s-_*l)+(_*n+(g*C+w*l)-S*s)*(_*n+(g*C+w*l)-S*s))))),o=(w*n+S*C+g*s-_*l)*M,h=M*(_*n+(g*C+w*l)-S*s),m=M*(_*C+w*s+S*l-g*n),s=M*(w*C-S*n-g*l-_*s),_=o*(2/(s*s+(m*m+(o*o+h*h)))),l=h*(2/(s*s+(m*m+(o*o+h*h)))),n=m*(2/(s*s+(m*m+(o*o+h*h)))),i[u>>2]=1-(h*l+m*n),i[u+4>>2]=o*l-s*n,i[u+8>>2]=o*n+s*l,i[u+12>>2]=0,i[u+16>>2]=o*l+s*n,i[u+20>>2]=1-(o*_+m*n),i[u+24>>2]=h*n-s*_,i[u+28>>2]=0,i[u+32>>2]=o*n-s*l,i[u+36>>2]=h*n+s*_,i[u+40>>2]=1-(o*_+h*l),i[u+44>>2]=0,H=d}function DK(t){t=t|0}function IK(t){t=t|0,ye(t)}function xh(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0;if(M=H,H=H+288|0,g=e[t+4>>2]|0,A[g+312>>0]=0,e[g>>2]=0,A[g+356>>0]=1,e[g+292>>2]=1566444395,e[g+296>>2]=1566444395,e[g+300>>2]=1566444395,i[g+304>>2]=0,e[g+336>>2]=0,e[g+336+4>>2]=0,e[g+336+8>>2]=0,e[g+336+12>>2]=0,A[g+336+16>>0]=0,A[g+332>>0]=A[g+332>>0]&-16,S=+i[s+48>>2]-+i[n+48>>2]-(+i[a+48>>2]-+i[o+48>>2]),C=+i[s+52>>2]-+i[n+52>>2]-(+i[a+52>>2]-+i[o+52>>2]),w=+i[s+56>>2]-+i[n+56>>2]-(+i[a+56>>2]-+i[o+56>>2]),e[M+216>>2]=6836,i[M+216+36>>2]=0xde0b6b000000000,A[M+216+40>>0]=0,g=e[t+8>>2]|0,m=e[t+12>>2]|0,d=e[t+4>>2]|0,e[M+136>>2]=6928,e[M+136+4>>2]=0,e[M+136+8>>2]=1065353216,e[M+136+12>>2]=0,i[M+136+16>>2]=0,e[M+136+20>>2]=0,e[M+136+24>>2]=d,e[M+136+28>>2]=g,e[M+136+32>>2]=m,e[M+136+36>>2]=e[g+4>>2],e[M+136+40>>2]=e[m+4>>2],i[M+136+44>>2]=+Tt[e[(e[g>>2]|0)+48>>2]&15](g),i[M+136+48>>2]=+Tt[e[(e[m>>2]|0)+48>>2]&15](m),A[M+136+52>>0]=0,e[M+136+60>>2]=-1,e[M+136+72>>2]=1,e[M+136+76>>2]=1,i[M+128>>2]=0xde0b6b000000000,e[M>>2]=e[n>>2],e[M+4>>2]=e[n+4>>2],e[M+8>>2]=e[n+8>>2],e[M+12>>2]=e[n+12>>2],e[M+16>>2]=e[n+16>>2],e[M+16+4>>2]=e[n+16+4>>2],e[M+16+8>>2]=e[n+16+8>>2],e[M+16+12>>2]=e[n+16+12>>2],e[M+32>>2]=e[n+32>>2],e[M+32+4>>2]=e[n+32+4>>2],e[M+32+8>>2]=e[n+32+8>>2],e[M+32+12>>2]=e[n+32+12>>2],e[M+48>>2]=e[n+48>>2],e[M+48+4>>2]=e[n+48+4>>2],e[M+48+8>>2]=e[n+48+8>>2],e[M+48+12>>2]=e[n+48+12>>2],e[M+64>>2]=e[o>>2],e[M+64+4>>2]=e[o+4>>2],e[M+64+8>>2]=e[o+8>>2],e[M+64+12>>2]=e[o+12>>2],e[M+80>>2]=e[o+16>>2],e[M+80+4>>2]=e[o+16+4>>2],e[M+80+8>>2]=e[o+16+8>>2],e[M+80+12>>2]=e[o+16+12>>2],e[M+96>>2]=e[o+32>>2],e[M+96+4>>2]=e[o+32+4>>2],e[M+96+8>>2]=e[o+32+8>>2],e[M+96+12>>2]=e[o+32+12>>2],e[M+112>>2]=e[o+48>>2],e[M+112+4>>2]=e[o+48+4>>2],e[M+112+8>>2]=e[o+48+8>>2],e[M+112+12>>2]=e[o+48+12>>2],l1(M+136|0,M,M+216|0,0,0),m=(A[M+216+40>>0]|0)==0,g=M+216+20|0,e[M+264>>2]=e[g>>2],e[M+264+4>>2]=e[g+4>>2],e[M+264+8>>2]=e[g+8>>2],e[M+264+12>>2]=e[g+12>>2],m)return l=0,H=M,l|0;h=+i[M+216+36>>2],u=+i[M+216+16>>2],t=e[M+216+12>>2]|0,_=e[M+216+8>>2]|0,d=e[M+216+4>>2]|0;do if(h>.0010000000474974513){for(u=0,m=0;;){if((m|0)>31){t=0,m=13;break}if(D=S*(e[Z>>2]=d,+i[Z>>2]),D=C*(e[Z>>2]=_,+i[Z>>2])+D,E=u,u=u-h/(w*(e[Z>>2]=t,+i[Z>>2])+D),!(!(u<=E)&(!(u<0)&!(u>1)))){t=0,m=13;break}if(g2[e[e[l>>2]>>2]&31](l,u),D=1-u,i[M+48>>2]=D*+i[n+48>>2]+u*+i[s+48>>2],i[M+52>>2]=D*+i[n+52>>2]+u*+i[s+52>>2],i[M+56>>2]=D*+i[n+56>>2]+u*+i[s+56>>2],i[M+112>>2]=D*+i[o+48>>2]+u*+i[a+48>>2],i[M+116>>2]=D*+i[o+52>>2]+u*+i[a+52>>2],i[M+120>>2]=D*+i[o+56>>2]+u*+i[a+56>>2],l1(M+136|0,M,M+216|0,0,0),!(A[M+216+40>>0]|0)){t=0,m=13;break}if(h=+i[M+216+36>>2],h<0){m=8;break}if(e[M+264>>2]=e[g>>2],e[M+264+4>>2]=e[g+4>>2],e[M+264+8>>2]=e[g+8>>2],e[M+264+12>>2]=e[g+12>>2],t=e[M+216+12>>2]|0,_=e[M+216+8>>2]|0,d=e[M+216+4>>2]|0,h>.0010000000474974513)m=m+1|0;else{m=10;break}}if((m|0)==8)return i[l+164>>2]=u,o=e[M+216+8>>2]|0,s=e[M+216+12>>2]|0,a=e[M+216+16>>2]|0,e[l+132>>2]=e[M+216+4>>2],e[l+136>>2]=o,e[l+140>>2]=s,e[l+144>>2]=a,e[l+148>>2]=e[g>>2],e[l+148+4>>2]=e[g+4>>2],e[l+148+8>>2]=e[g+8>>2],e[l+148+12>>2]=e[g+12>>2],l=1,H=M,l|0;if((m|0)==10){h=u,u=+i[M+216+16>>2];break}else if((m|0)==13)return H=M,t|0}else h=0;while(!1);return D=S*(e[Z>>2]=d,+i[Z>>2]),D=C*(e[Z>>2]=_,+i[Z>>2])+D,w*(e[Z>>2]=t,+i[Z>>2])+D>=-+i[l+172>>2]?(l=0,H=M,l|0):(i[l+164>>2]=h,e[l+132>>2]=d,e[l+136>>2]=_,e[l+140>>2]=t,i[l+144>>2]=u,e[l+148>>2]=e[M+264>>2],e[l+148+4>>2]=e[M+264+4>>2],e[l+148+8>>2]=e[M+264+8>>2],e[l+148+12>>2]=e[M+264+12>>2],l=1,H=M,l|0)}function PK(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0;N=H,H=H+560|0,_=l,h=_+36|0;do e[_>>2]=0,_=_+4|0;while((_|0)<(h|0));if(e[N+400>>2]=t,e[N+400+4>>2]=s,g=+i[o>>2],Y=+i[n>>2],m=+i[o+16>>2],u=+i[n+16>>2],d=+i[o+32>>2],$=+i[n+32>>2],B=+i[n+4>>2],q=+i[n+20>>2],k=+i[n+36>>2],E=+i[n+8>>2],w=+i[n+24>>2],S=+i[n+40>>2],z=+i[o+4>>2],O=+i[o+20>>2],V=+i[o+36>>2],U=+i[o+8>>2],L=+i[o+24>>2],F=+i[o+40>>2],i[N+400+8>>2]=g*Y+m*u+d*$,i[N+400+12>>2]=g*B+m*q+d*k,i[N+400+16>>2]=g*E+m*w+d*S,i[N+400+20>>2]=0,i[N+400+24>>2]=Y*z+u*O+$*V,i[N+400+28>>2]=B*z+q*O+k*V,i[N+400+32>>2]=E*z+w*O+S*V,i[N+400+36>>2]=0,i[N+400+40>>2]=Y*U+u*L+$*F,i[N+400+44>>2]=B*U+q*L+k*F,i[N+400+48>>2]=E*U+w*L+S*F,i[N+400+52>>2]=0,S=+i[o+48>>2]-+i[n+48>>2],w=+i[o+52>>2]-+i[n+52>>2],E=+i[o+56>>2]-+i[n+56>>2],k=+i[n>>2],q=+i[o>>2],B=+i[n+16>>2],$=+i[o+16>>2],u=+i[n+32>>2],Y=+i[o+32>>2],d=+i[n+4>>2],m=+i[n+20>>2],g=+i[n+36>>2],C=+i[n+8>>2],M=+i[n+24>>2],D=+i[n+40>>2],i[N+400+56>>2]=k*q+B*$+u*Y,i[N+400+60>>2]=k*z+B*O+u*V,i[N+400+64>>2]=k*U+B*L+u*F,i[N+400+68>>2]=0,i[N+400+72>>2]=q*d+$*m+Y*g,i[N+400+76>>2]=z*d+O*m+V*g,i[N+400+80>>2]=U*d+L*m+F*g,i[N+400+84>>2]=0,i[N+400+88>>2]=q*C+$*M+Y*D,i[N+400+92>>2]=z*C+O*M+V*D,i[N+400+96>>2]=U*C+L*M+F*D,i[N+400+100>>2]=0,i[N+400+104>>2]=S*k+w*B+E*u,i[N+400+108>>2]=S*d+w*m+E*g,i[N+400+112>>2]=S*C+w*M+E*D,i[N+400+116>>2]=0,e[N+400+120>>2]=71,e[N+400+124>>2]=0,e[N+16+364>>2]=0,e[N+16+128>>2]=0,e[N+16+128+4>>2]=0,e[N+16+128+8>>2]=0,e[N+16+128+12>>2]=0,e[N+16+376>>2]=2,e[N+16+368>>2]=0,i[N+16+144>>2]=0,a=P6(N+16|0,N+400|0,a)|0,a|0)return e[l>>2]=(a|0)==1?1:2,n=0,H=N,n|0;if(a=e[N+16+372>>2]|0,!(e[a+32>>2]|0))C=0,S=0,g=0,m=0,d=0,u=0;else{o=0,C=0,S=0,g=0,m=0,d=0,u=0;do D=+i[a+16+(o<<2)>>2],t=e[N+400+120>>2]|0,h=e[N+400+124>>2]|0,s=(e[N+400>>2]|0)+(h>>1)|0,h&1&&(t=e[(e[s>>2]|0)+t>>2]|0),f0[t&127](N,s,e[a+(o<<2)>>2]|0),C=C+D*+i[N>>2],g=g+D*+i[N+4>>2],S=S+D*+i[N+8>>2],a=e[(e[N+16+372>>2]|0)+(o<<2)>>2]|0,w=-+i[a>>2],M=-+i[a+4>>2],E=-+i[a+8>>2],a=e[N+400+120>>2]|0,h=e[N+400+124>>2]|0,t=(e[N+400+4>>2]|0)+(h>>1)|0,h&1&&(a=e[(e[t>>2]|0)+a>>2]|0),$=+i[N+400+24>>2]*w+ +i[N+400+28>>2]*M+ +i[N+400+32>>2]*E,Y=+i[N+400+40>>2]*w+ +i[N+400+44>>2]*M+ +i[N+400+48>>2]*E,i[N+528>>2]=+i[N+400+8>>2]*w+ +i[N+400+12>>2]*M+ +i[N+400+16>>2]*E,i[N+528+4>>2]=$,i[N+528+8>>2]=Y,i[N+528+12>>2]=0,f0[a&127](N+544|0,t,N+528|0),Y=+i[N+544>>2],$=+i[N+544+4>>2],q=+i[N+544+8>>2],m=m+D*(Y*+i[N+400+56>>2]+$*+i[N+400+60>>2]+q*+i[N+400+64>>2]+ +i[N+400+104>>2]),u=u+D*(Y*+i[N+400+72>>2]+$*+i[N+400+76>>2]+q*+i[N+400+80>>2]+ +i[N+400+108>>2]),d=d+D*(Y*+i[N+400+88>>2]+$*+i[N+400+92>>2]+q*+i[N+400+96>>2]+ +i[N+400+112>>2]),o=o+1|0,a=e[N+16+372>>2]|0;while(o>>>0<(e[a+32>>2]|0)>>>0)}return z=C*+i[n+16>>2]+g*+i[n+20>>2]+S*+i[n+24>>2]+ +i[n+52>>2],Y=C*+i[n+32>>2]+g*+i[n+36>>2]+S*+i[n+40>>2]+ +i[n+56>>2],i[l+4>>2]=C*+i[n>>2]+g*+i[n+4>>2]+S*+i[n+8>>2]+ +i[n+48>>2],i[l+8>>2]=z,i[l+12>>2]=Y,i[l+16>>2]=0,Y=m*+i[n+16>>2]+u*+i[n+20>>2]+d*+i[n+24>>2]+ +i[n+52>>2],z=m*+i[n+32>>2]+u*+i[n+36>>2]+d*+i[n+40>>2]+ +i[n+56>>2],i[l+20>>2]=m*+i[n>>2]+u*+i[n+4>>2]+d*+i[n+8>>2]+ +i[n+48>>2],i[l+24>>2]=Y,i[l+28>>2]=z,i[l+32>>2]=0,z=C-m,Y=g-u,q=S-d,i[l+48>>2]=0,$=+at(+(z*z+Y*Y+q*q)),i[l+52>>2]=$,$=$>9999999747378752e-20?1/$:1,i[l+36>>2]=$*z,i[l+40>>2]=$*Y,i[l+44>>2]=$*q,n=1,H=N,n|0}function P6(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0;L=H,H=H+176|0,e[t+348>>2]=t+220,e[t+352>>2]=t+252,e[t+356>>2]=t+284,e[t+360>>2]=t+316,e[t+364>>2]=4,e[t+368>>2]=0,e[t+376>>2]=0,B=e[n+4>>2]|0,e[t>>2]=e[n>>2],e[t+4>>2]=B,e[t+8>>2]=e[n+8>>2],e[t+8+4>>2]=e[n+8+4>>2],e[t+8+8>>2]=e[n+8+8>>2],e[t+8+12>>2]=e[n+8+12>>2],e[t+24>>2]=e[n+24>>2],e[t+24+4>>2]=e[n+24+4>>2],e[t+24+8>>2]=e[n+24+8>>2],e[t+24+12>>2]=e[n+24+12>>2],e[t+40>>2]=e[n+40>>2],e[t+40+4>>2]=e[n+40+4>>2],e[t+40+8>>2]=e[n+40+8>>2],e[t+40+12>>2]=e[n+40+12>>2],e[t+56>>2]=e[n+56>>2],e[t+56+4>>2]=e[n+56+4>>2],e[t+56+8>>2]=e[n+56+8>>2],e[t+56+12>>2]=e[n+56+12>>2],e[t+72>>2]=e[n+72>>2],e[t+72+4>>2]=e[n+72+4>>2],e[t+72+8>>2]=e[n+72+8>>2],e[t+72+12>>2]=e[n+72+12>>2],e[t+88>>2]=e[n+88>>2],e[t+88+4>>2]=e[n+88+4>>2],e[t+88+8>>2]=e[n+88+8>>2],e[t+88+12>>2]=e[n+88+12>>2],e[t+104>>2]=e[n+104>>2],e[t+104+4>>2]=e[n+104+4>>2],e[t+104+8>>2]=e[n+104+8>>2],e[t+104+12>>2]=e[n+104+12>>2],B=e[n+124>>2]|0,e[t+120>>2]=e[n+120>>2],e[t+124>>2]=B,i[t+144>>2]=0,e[t+180>>2]=0,e[t+128>>2]=e[s>>2],e[t+128+4>>2]=e[s+4>>2],e[t+128+8>>2]=e[s+8>>2],e[t+128+12>>2]=e[s+12>>2],o=+i[t+128>>2],l=+i[t+132>>2],u=+i[t+136>>2],o*o+l*l+u*u>0?(s=(i[Z>>2]=-o,e[Z>>2]|0),n=(i[Z>>2]=-l,e[Z>>2]|0),a=(i[Z>>2]=-u,e[Z>>2]|0)):(s=1065353216,n=0,a=0),i[t+164>>2]=0,e[t+364>>2]=3,e[t+148>>2]=t+316,e[t+180>>2]=1,M=(e[Z>>2]=s,+i[Z>>2]),D=(e[Z>>2]=n,+i[Z>>2]),c1(t,M,D,(e[Z>>2]=a,+i[Z>>2]),t+316|0),i[t+164>>2]=1,N=(e[t+148>>2]|0)+16|0,e[t+128>>2]=e[N>>2],e[t+128+4>>2]=e[N+4>>2],e[t+128+8>>2]=e[N+8>>2],e[t+128+12>>2]=e[N+12>>2],e[L+24+48>>2]=e[N>>2],e[L+24+48+4>>2]=e[N+4>>2],e[L+24+48+8>>2]=e[N+8>>2],e[L+24+48+12>>2]=e[N+12>>2],e[L+24+32>>2]=e[N>>2],e[L+24+32+4>>2]=e[N+4>>2],e[L+24+32+8>>2]=e[N+8>>2],e[L+24+32+12>>2]=e[N+12>>2],e[L+24+16>>2]=e[N>>2],e[L+24+16+4>>2]=e[N+4>>2],e[L+24+16+8>>2]=e[N+8>>2],e[L+24+16+12>>2]=e[N+12>>2],e[L+24>>2]=e[N>>2],e[L+24+4>>2]=e[N+4>>2],e[L+24+8>>2]=e[N+8>>2],e[L+24+12>>2]=e[N+12>>2],D=0,N=0,B=0,o=o*o+l*l+u*u;e:do{if(E=e[t+368>>2]|0,_=+i[t+128>>2],l=+i[t+132>>2],u=+i[t+136>>2],m=+at(+(_*_+l*l+u*u)),m<9999999747378752e-20){F=5;break}if(i[t+148+(E*36|0)+16+(e[t+148+(E*36|0)+32>>2]<<2)>>2]=0,s=(e[t+364>>2]|0)+-1|0,e[t+364>>2]=s,e[t+148+(E*36|0)+(e[t+148+(E*36|0)+32>>2]<<2)>>2]=e[t+348+(s<<2)>>2],s=e[t+148+(E*36|0)+32>>2]|0,e[t+148+(E*36|0)+32>>2]=s+1,c1(t,-_,-l,-u,e[t+148+(E*36|0)+(s<<2)>>2]|0),s=e[t+148+(E*36|0)+32>>2]|0,n=e[t+148+(E*36|0)+(s+-1<<2)>>2]|0,l=+i[n+16>>2],u=+i[n+20>>2],_=+i[n+24>>2],S=l-+i[L+24>>2],C=u-+i[L+24+4>>2],M=_-+i[L+24+8>>2],S*S+C*C+M*M<9999999747378752e-20){F=8;break}if(S=l-+i[L+24+16>>2],C=u-+i[L+24+20>>2],M=_-+i[L+24+24>>2],S*S+C*C+M*M<9999999747378752e-20){F=8;break}if(S=l-+i[L+24+32>>2],C=u-+i[L+24+36>>2],M=_-+i[L+24+40>>2],S*S+C*C+M*M<9999999747378752e-20){F=8;break}if(S=l-+i[L+24+48>>2],C=u-+i[L+24+52>>2],M=_-+i[L+24+56>>2],S*S+C*C+M*M<9999999747378752e-20){F=8;break}if(N=N+1&3,w=L+24+(N<<4)|0,e[w>>2]=e[n+16>>2],e[w+4>>2]=e[n+16+4>>2],e[w+8>>2]=e[n+16+8>>2],e[w+12>>2]=e[n+16+12>>2],M=(+i[t+128>>2]*l+ +i[t+132>>2]*u+ +i[t+136>>2]*_)/m,D=M>D?M:D,m-D-m*9999999747378752e-20<=0){F=9;break}e[L>>2]=0;t:do switch(s|0){case 2:{if(w=e[t+148+(E*36|0)>>2]|0,d=e[t+148+(E*36|0)+4>>2]|0,o=+i[d+16>>2],l=+i[w+16>>2],u=+i[d+20>>2],_=+i[w+20>>2],m=+i[d+24>>2],g=+i[w+24>>2],!((o-l)*(o-l)+(u-_)*(u-_)+(m-g)*(m-g)>0)){F=39;break e}if(S=-(l*(o-l)+_*(u-_)+g*(m-g))/((o-l)*(o-l)+(u-_)*(u-_)+(m-g)*(m-g)),S>=1){i[L+8>>2]=0,i[L+8+4>>2]=1,e[L>>2]=2,o=o*o+u*u+m*m;break t}if(S<=0){i[L+8>>2]=1,i[L+8+4>>2]=0,e[L>>2]=1,o=l*l+_*_+g*g;break t}else{i[L+8+4>>2]=S,i[L+8>>2]=1-S,e[L>>2]=3,o=((o-l)*S+l)*((o-l)*S+l)+((u-_)*S+_)*((u-_)*S+_)+((m-g)*S+g)*((m-g)*S+g);break t}}case 3:{o=+L6((e[t+148+(E*36|0)>>2]|0)+16|0,(e[t+148+(E*36|0)+4>>2]|0)+16|0,(e[t+148+(E*36|0)+8>>2]|0)+16|0,L+8|0,L);break}case 4:{if(a=e[t+148+(E*36|0)>>2]|0,h=e[t+148+(E*36|0)+4>>2]|0,d=e[t+148+(E*36|0)+8>>2]|0,w=e[t+148+(E*36|0)+12>>2]|0,e[L+152>>2]=a+16,e[L+152+4>>2]=h+16,e[L+152+8>>2]=d+16,e[L+152+12>>2]=w+16,u=+i[a+16>>2],_=+i[w+16>>2],o=+i[a+20>>2],m=+i[w+20>>2],l=+i[a+24>>2],g=+i[w+24>>2],i[L+104>>2]=u-_,i[L+104+4>>2]=o-m,i[L+104+8>>2]=l-g,i[L+104+12>>2]=0,U=+i[h+16>>2],O=+i[h+20>>2],C=+i[h+24>>2],i[L+104+16>>2]=U-_,i[L+104+20>>2]=O-m,i[L+104+24>>2]=C-g,i[L+104+28>>2]=0,S=+i[d+16>>2],z=+i[d+20>>2],V=+i[d+24>>2],i[L+104+32>>2]=S-_,i[L+104+36>>2]=z-m,i[L+104+40>>2]=V-g,i[L+104+44>>2]=0,M=(o-m)*(C-g)*(S-_)+(l-g)*(U-_)*(z-m)-(z-m)*((C-g)*(u-_))-(o-m)*(U-_)*(V-g)+(V-g)*((u-_)*(O-m))-(S-_)*((l-g)*(O-m)),M!=M|!1|M==0|!(M*(l*((U-S)*(o-O)-(O-z)*(u-U))+(u*((O-z)*(l-C)-(C-V)*(o-O))+o*((C-V)*(u-U)-(U-S)*(l-C))))<=0))o=-1;else{for(e[L+92>>2]=0,e[L+92+4>>2]=0,e[L+92+8>>2]=0,e[L+88>>2]=0,C=o-m,S=l-g,l=u-_,s=0,o=-1;n=e[6876+(s<<2)>>2]|0,V=+i[L+104+(n<<4)+8>>2],O=+i[L+104+(n<<4)+4>>2],z=+i[L+104+(n<<4)>>2],M*((C*V-S*O)*_+m*(S*z-V*l)+(O*l-C*z)*g)>0&&(k=+L6(e[L+152+(s<<2)>>2]|0,e[L+152+(n<<2)>>2]|0,w+16|0,L+92|0,L+88|0),o<0|k<o)&&(Y=e[L+88>>2]|0,e[L>>2]=(Y&2|0?1<<n:0)+(Y<<1&8)+(Y&1|0?1<<s:0),e[L+8+(s<<2)>>2]=e[L+92>>2],e[L+8+(n<<2)>>2]=e[L+92+4>>2],i[L+8+(e[6876+(n<<2)>>2]<<2)>>2]=0,e[L+8+12>>2]=e[L+92+8>>2],o=k),s=s+1|0,(s|0)!=3;)C=+i[L+104+(s<<4)+4>>2],S=+i[L+104+(s<<4)+8>>2],l=+i[L+104+(s<<4)>>2],_=+i[w+16>>2],m=+i[w+20>>2],g=+i[w+24>>2];o<0&&(e[L>>2]=15,_=+i[d+20>>2],z=+i[h+24>>2],O=+i[w+16>>2],l=+i[d+24>>2],V=+i[h+16>>2],m=+i[w+20>>2],u=+i[d+16>>2],U=+i[w+24>>2],S=+i[h+20>>2],i[L+8>>2]=(_*z*O+l*V*m-m*(z*u)-_*V*U+U*(u*S)-O*(l*S))/M,o=+i[a+20>>2],g=+i[a+24>>2],C=+i[a+16>>2],i[L+8+4>>2]=(o*l*O+g*u*m-m*(l*C)-o*u*U+U*(C*_)-O*(g*_))/M,i[L+8+8>>2]=(S*g*O+z*C*m-m*(g*V)-S*C*U+U*(V*o)-O*(z*o))/M,i[L+8+12>>2]=1-((_*z*O+l*V*m-m*(z*u)-_*V*U+U*(u*S)-O*(l*S))/M+(o*l*O+g*u*m-m*(l*C)-o*u*U+U*(C*_)-O*(g*_))/M+(S*g*O+z*C*m-m*(g*V)-S*C*U+U*(V*o)-O*(z*o))/M),o=0)}break}default:}while(!1);if(!(o>=0)){F=39;break}if(e[t+148+((1-E|0)*36|0)+32>>2]=0,e[t+128>>2]=0,e[t+128+4>>2]=0,e[t+128+8>>2]=0,e[t+128+12>>2]=0,e[t+368>>2]=1-E,s=e[t+148+(E*36|0)+32>>2]|0,n=e[L>>2]|0,s|0){d=0;do a=t+148+(E*36|0)+(d<<2)|0,h=e[a>>2]|0,n&1<<d?(e[t+148+((1-E|0)*36|0)+(e[t+148+((1-E|0)*36|0)+32>>2]<<2)>>2]=h,w=e[L+8+(d<<2)>>2]|0,Y=e[t+148+((1-E|0)*36|0)+32>>2]|0,e[t+148+((1-E|0)*36|0)+32>>2]=Y+1,e[t+148+((1-E|0)*36|0)+16+(Y<<2)>>2]=w,Y=e[a>>2]|0,V=(e[Z>>2]=w,+i[Z>>2]),O=V*+i[Y+20>>2],z=V*+i[Y+24>>2],i[t+128>>2]=+i[Y+16>>2]*V+ +i[t+128>>2],i[t+132>>2]=O+ +i[t+132>>2],i[t+136>>2]=z+ +i[t+136>>2]):(Y=e[t+364>>2]|0,e[t+364>>2]=Y+1,e[t+348+(Y<<2)>>2]=h),d=d+1|0;while((d|0)!=(s|0))}if((n|0)==15&&(e[t+376>>2]=1),B=B+1|0,B>>>0>=128){F=38;break}}while(!(e[t+376>>2]|0));switch((F|0)==5?e[t+376>>2]=1:(F|0)==8||(F|0)==9?(Y=e[t+368>>2]|0,F=(e[t+148+(Y*36|0)+32>>2]|0)+-1|0,e[t+148+(Y*36|0)+32>>2]=F,F=e[t+148+(Y*36|0)+(F<<2)>>2]|0,Y=e[t+364>>2]|0,e[t+364>>2]=Y+1,e[t+348+(Y<<2)>>2]=F):(F|0)==38?e[t+376>>2]=2:(F|0)==39&&(Y=e[t+368>>2]|0,F=(e[t+148+(Y*36|0)+32>>2]|0)+-1|0,e[t+148+(Y*36|0)+32>>2]=F,F=e[t+148+(Y*36|0)+(F<<2)>>2]|0,Y=e[t+364>>2]|0,e[t+364>>2]=Y+1,e[t+348+(Y<<2)>>2]=F),e[t+372>>2]=t+148+((e[t+368>>2]|0)*36|0),s=e[t+376>>2]|0,s|0){case 0:return V=+i[t+128>>2],O=+i[t+132>>2],z=+i[t+136>>2],i[t+144>>2]=+at(+(V*V+O*O+z*z)),H=L,s|0;case 1:return i[t+144>>2]=0,H=L,s|0;default:return H=L,s|0}return 0}function c1(t,n,s,o,a){t=t|0,n=+n,s=+s,o=+o,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0;_=H,H=H+48|0,d=1/+at(+(n*n+s*s+o*o)),i[a>>2]=d*n,i[a+4>>2]=d*s,i[a+8>>2]=d*o,i[a+12>>2]=0,l=e[t+120>>2]|0,h=e[t+124>>2]|0,u=(e[t>>2]|0)+(h>>1)|0,h&1&&(l=e[(e[u>>2]|0)+l>>2]|0),f0[l&127](_,u,a),n=-+i[a>>2],s=-+i[a+4>>2],o=-+i[a+8>>2],l=e[t+120>>2]|0,h=e[t+124>>2]|0,u=(e[t+4>>2]|0)+(h>>1)|0,h&1&&(l=e[(e[u>>2]|0)+l>>2]|0),d=+i[t+24>>2]*n+ +i[t+28>>2]*s+ +i[t+32>>2]*o,m=+i[t+40>>2]*n+ +i[t+44>>2]*s+ +i[t+48>>2]*o,i[_+16>>2]=+i[t+8>>2]*n+ +i[t+12>>2]*s+ +i[t+16>>2]*o,i[_+16+4>>2]=d,i[_+16+8>>2]=m,i[_+16+12>>2]=0,f0[l&127](_+32|0,u,_+16|0),m=+i[_+32>>2],n=+i[_+32+4>>2],s=+i[_+32+8>>2],o=+i[_+4>>2]-(m*+i[t+72>>2]+n*+i[t+76>>2]+s*+i[t+80>>2]+ +i[t+108>>2]),d=+i[_+8>>2]-(m*+i[t+88>>2]+n*+i[t+92>>2]+s*+i[t+96>>2]+ +i[t+112>>2]),i[a+16>>2]=+i[_>>2]-(m*+i[t+56>>2]+n*+i[t+60>>2]+s*+i[t+64>>2]+ +i[t+104>>2]),i[a+20>>2]=o,i[a+24>>2]=d,i[a+28>>2]=0,H=_}function L6(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0;if(te=H,H=H+64|0,e[te+48>>2]=t,e[te+48+4>>2]=n,e[te+48+8>>2]=s,V=+i[t>>2],Y=+i[n>>2],ne=+i[t+4>>2],W=+i[n+4>>2],F=+i[t+8>>2],L=+i[n+8>>2],i[te>>2]=V-Y,i[te+4>>2]=ne-W,i[te+8>>2]=F-L,i[te+12>>2]=0,U=+i[s>>2],O=+i[s+4>>2],z=+i[s+8>>2],i[te+16>>2]=Y-U,i[te+20>>2]=W-O,i[te+24>>2]=L-z,i[te+28>>2]=0,i[te+32>>2]=U-V,i[te+36>>2]=O-ne,i[te+40>>2]=z-F,i[te+44>>2]=0,$=(ne-W)*(L-z)-(F-L)*(W-O),q=(F-L)*(Y-U)-(L-z)*(V-Y),X=(W-O)*(V-Y)-(ne-W)*(Y-U),X*X+($*$+q*q)>0)m=ne-W,g=F-L,S=V-Y,D=V,N=ne,B=F,h=0,k=-1,d=0,l=0,u=0;else return W=-1,H=te,+W;for(;;){if(D*(X*m-q*g)+N*($*g-X*S)+(q*S-$*m)*B>0){E=e[6876+(h<<2)>>2]|0,pe=e[te+48+(E<<2)>>2]|0,_=+i[pe>>2],g=_-D,S=+i[pe+4>>2],C=S-N,w=+i[pe+8>>2],M=w-B;do if(g*g+C*C+M*M>0){if(m=-(D*g+N*C+B*M)/(g*g+C*C+M*M),m>=1){_=_*_+S*S+w*w,d=2,l=0,u=1065353216;break}if(m<=0){_=D*D+N*N+B*B,d=1,l=1065353216,u=0;break}else{u=(i[Z>>2]=m,e[Z>>2]|0),D=D+g*m,_=N+C*m,B=B+M*m,_=B*B+(D*D+_*_),d=3,l=(i[Z>>2]=1-m,e[Z>>2]|0);break}}else _=-1;while(!1);k<0|_<k?(e[a>>2]=(d&1|0?1<<h:0)+(d&2|0?1<<E:0),e[o+(h<<2)>>2]=l,e[o+(E<<2)>>2]=u,i[o+(e[6876+(E<<2)>>2]<<2)>>2]=0):_=k}else _=k;if(h=h+1|0,(h|0)==3)break;pe=e[te+48+(h<<2)>>2]|0,m=+i[te+(h<<4)+4>>2],g=+i[te+(h<<4)+8>>2],S=+i[te+(h<<4)>>2],D=+i[pe>>2],N=+i[pe+4>>2],B=+i[pe+8>>2],k=_}return _<0?(B=+at(+(X*X+($*$+q*q))),k=($*+i[t>>2]+q*+i[t+4>>2]+X*+i[t+8>>2])/(X*X+($*$+q*q)),e[a>>2]=7,D=+i[n>>2]-$*k,M=+i[n+4>>2]-q*k,N=+i[n+8>>2]-X*k,W=+at(+((M*(Y-U)-D*(W-O))*(M*(Y-U)-D*(W-O))+(((W-O)*N-M*(L-z))*((W-O)*N-M*(L-z))+(D*(L-z)-N*(Y-U))*(D*(L-z)-N*(Y-U)))))/B,i[o>>2]=W,L=+i[s>>2]-$*k,N=+i[s+4>>2]-q*k,Y=+i[s+8>>2]-X*k,ne=+at(+((N*(U-V)-L*(O-ne))*(N*(U-V)-L*(O-ne))+(((O-ne)*Y-N*(z-F))*((O-ne)*Y-N*(z-F))+(L*(z-F)-Y*(U-V))*(L*(z-F)-Y*(U-V)))))/B,i[o+4>>2]=ne,i[o+8>>2]=1-(ne+W),W=X*k*(X*k)+($*k*($*k)+q*k*(q*k)),H=te,+W):(W=_,H=te,+W)}function LK(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0;var _=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0;F=H,H=H+9856|0,m=l,g=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(g|0));switch(e[F+9712>>2]=t,e[F+9712+4>>2]=s,V=+i[o>>2],he=+i[n>>2],O=+i[o+16>>2],Y=+i[n+16>>2],z=+i[o+32>>2],me=+i[n+32>>2],$=+i[n+4>>2],re=+i[n+20>>2],q=+i[n+36>>2],S=+i[n+8>>2],_=+i[n+24>>2],U=+i[n+40>>2],_e=+i[o+4>>2],pe=+i[o+20>>2],te=+i[o+36>>2],W=+i[o+8>>2],ne=+i[o+24>>2],X=+i[o+40>>2],i[F+9712+8>>2]=V*he+O*Y+z*me,i[F+9712+12>>2]=V*$+O*re+z*q,i[F+9712+16>>2]=V*S+O*_+z*U,i[F+9712+20>>2]=0,i[F+9712+24>>2]=he*_e+Y*pe+me*te,i[F+9712+28>>2]=$*_e+re*pe+q*te,i[F+9712+32>>2]=S*_e+_*pe+U*te,i[F+9712+36>>2]=0,i[F+9712+40>>2]=he*W+Y*ne+me*X,i[F+9712+44>>2]=$*W+re*ne+q*X,i[F+9712+48>>2]=S*W+_*ne+U*X,i[F+9712+52>>2]=0,U=+i[o+48>>2]-+i[n+48>>2],_=+i[o+52>>2]-+i[n+52>>2],S=+i[o+56>>2]-+i[n+56>>2],q=+i[n>>2],re=+i[o>>2],$=+i[n+16>>2],me=+i[o+16>>2],Y=+i[n+32>>2],he=+i[o+32>>2],z=+i[n+4>>2],O=+i[n+20>>2],V=+i[n+36>>2],L=+i[n+8>>2],h=+i[n+24>>2],d=+i[n+40>>2],i[F+9712+56>>2]=q*re+$*me+Y*he,i[F+9712+60>>2]=q*_e+$*pe+Y*te,i[F+9712+64>>2]=q*W+$*ne+Y*X,i[F+9712+68>>2]=0,i[F+9712+72>>2]=re*z+me*O+he*V,i[F+9712+76>>2]=_e*z+pe*O+te*V,i[F+9712+80>>2]=W*z+ne*O+X*V,i[F+9712+84>>2]=0,i[F+9712+88>>2]=re*L+me*h+he*d,i[F+9712+92>>2]=_e*L+pe*h+te*d,i[F+9712+96>>2]=W*L+ne*h+X*d,i[F+9712+100>>2]=0,i[F+9712+104>>2]=U*q+_*$+S*Y,i[F+9712+108>>2]=U*z+_*O+S*V,i[F+9712+112>>2]=U*L+_*h+S*d,i[F+9712+116>>2]=0,e[F+9712+120>>2]=u?72:71,e[F+9712+124>>2]=0,e[F+9328+364>>2]=0,e[F+9328+128>>2]=0,e[F+9328+128+4>>2]=0,e[F+9328+128+8>>2]=0,e[F+9328+128+12>>2]=0,e[F+9328+376>>2]=2,e[F+9328+368>>2]=0,i[F+9328+144>>2]=0,d=-+i[a+4>>2],S=-+i[a+8>>2],i[F+16>>2]=-+i[a>>2],i[F+16+4>>2]=d,i[F+16+8>>2]=S,i[F+16+12>>2]=0,P6(F+9328|0,F+9712|0,F+16|0)|0){case 1:{E=F+32+9280|0,D=F+32+9288|0,N=F+32+9292|0,e[E>>2]=0,e[E+4>>2]=0,e[E+8>>2]=0,e[E+12>>2]=0,e[F+32>>2]=9,k=F+32+40|0,e[F+32+9276>>2]=0,e[k>>2]=0,e[k+4>>2]=0,e[k+8>>2]=0,e[k+12>>2]=0,e[k+16>>2]=0,u=0;do t=128-u+-1|0,e[F+32+2108+(t*56|0)+44>>2]=0,s=e[D>>2]|0,e[F+32+2108+(t*56|0)+48>>2]=s,s|0&&(e[s+44>>2]=F+32+2108+(t*56|0)),e[D>>2]=F+32+2108+(t*56|0),e[N>>2]=(e[N>>2]|0)+1,u=u+1|0;while((u|0)!=128);d=+i[a>>2],S=+i[a+4>>2],h=+i[a+8>>2],C=e[F+9328+372>>2]|0;do if((e[C+32>>2]|0)>>>0>1&&Aa(F+9328|0)|0){if(M=F+32+9280|0,t=e[M>>2]|0,t|0){m=e[F+32+9284>>2]|0,g=e[N>>2]|0;do s=t+44|0,o=t+48|0,u=e[o>>2]|0,u|0&&(e[u+44>>2]=e[s>>2]),s=e[s>>2]|0,s|0&&(e[s+48>>2]=e[o>>2]),(e[M>>2]|0)==(t|0)&&(e[M>>2]=e[o>>2]),m=m+-1|0,e[t+44>>2]=0,e[o>>2]=e[D>>2],s=e[D>>2]|0,s|0&&(e[s+44>>2]=t),e[D>>2]=t,g=g+1|0,t=e[M>>2]|0;while((t|0)!=0);e[F+32+9284>>2]=m,e[N>>2]=g}if(e[F+32>>2]=0,e[F+32+9276>>2]=0,t=e[C>>2]|0,s=e[C+12>>2]|0,re=+i[s+16>>2],X=+i[t+16>>2]-re,W=+i[s+20>>2],te=+i[t+20>>2]-W,_e=+i[s+24>>2],he=+i[t+24>>2]-_e,s=e[C+4>>2]|0,pe=+i[s+16>>2]-re,me=+i[s+20>>2]-W,ne=+i[s+24>>2]-_e,u=e[C+8>>2]|0,re=+i[u+16>>2]-re,W=+i[u+20>>2]-W,_e=+i[u+24>>2]-_e,X*me*_e+(te*ne*re+he*pe*W-X*ne*W-te*pe*_e)-he*me*re<0?(e[C>>2]=s,e[C+4>>2]=t,o=e[C+16>>2]|0,e[C+16>>2]=e[C+20>>2],e[C+20>>2]=o,o=s):(o=t,t=s),o=_u(F+32|0,o,t,u,1)|0,m=_u(F+32|0,e[C+4>>2]|0,e[C>>2]|0,e[C+12>>2]|0,1)|0,g=_u(F+32|0,e[C+8>>2]|0,e[C+4>>2]|0,e[C+12>>2]|0,1)|0,a=_u(F+32|0,e[C>>2]|0,e[C+8>>2]|0,e[C+12>>2]|0,1)|0,(e[F+32+9284>>2]|0)==4){if(t=e[E>>2]|0,_=+i[t+16>>2],s=e[t+48>>2]|0,s)for(h=_*_;_=+i[s+16>>2],u=_*_<h,t=u?s:t,s=e[s+48>>2]|0,s;)h=u?_*_:h;for(S=+i[t>>2],d=+i[t+4>>2],h=+i[t+8>>2],_=+i[t+12>>2],w=e[t+16>>2]|0,oe=e[t+20>>2]|0,s=e[t+24>>2]|0,u=e[t+28>>2]|0,A[o+52>>0]=0,e[o+32>>2]=m,A[m+52>>0]=0,e[m+32>>2]=o,A[o+53>>0]=0,e[o+36>>2]=g,A[g+52>>0]=1,e[g+32>>2]=o,A[o+54>>0]=0,e[o+40>>2]=a,A[a+52>>0]=2,e[a+32>>2]=o,A[m+53>>0]=2,e[m+36>>2]=a,A[a+54>>0]=1,e[a+40>>2]=m,A[m+54>>0]=1,e[m+40>>2]=g,A[g+53>>0]=2,e[g+36>>2]=m,A[g+54>>0]=1,e[g+40>>2]=a,A[a+53>>0]=2,e[a+36>>2]=g,e[F+32>>2]=0,C=t,g=oe,a=s,m=u,t=w,w=0;;){if(s=e[F+32+9276>>2]|0,s>>>0>=64){B=43;break}if(e[F+9840>>2]=0,e[F+9840+4>>2]=0,e[F+9840+8>>2]=0,e[F+32+9276>>2]=s+1,w=w+1|0,A[C+55>>0]=w,o=C+4|0,oe=C+8|0,c1(F+9328|0,+i[C>>2],+i[o>>2],+i[oe>>2],F+32+60+(s<<5)|0),+i[C>>2]*+i[F+32+60+(s<<5)+16>>2]+ +i[o>>2]*+i[F+32+60+(s<<5)+20>>2]+ +i[oe>>2]*+i[F+32+60+(s<<5)+24>>2]-+i[C+16>>2]>9999999747378752e-20)o=0;else{s=7,B=42;break}do u=vh(F+32|0,w,F+32+60+(s<<5)|0,e[C+32+(o<<2)>>2]|0,It[C+52+o>>0]|0,F+9840|0)|0,o=o+1|0;while(u&o>>>0<3);if(!(u&(e[F+9840+8>>2]|0)>>>0>2)){s=4,B=42;break}if(u=e[F+9840>>2]|0,t=e[F+9840+4>>2]|0,A[u+53>>0]=2,e[u+36>>2]=t,A[t+54>>0]=1,e[t+40>>2]=u,t=C+44|0,u=C+48|0,s=e[u>>2]|0,s|0&&(e[s+44>>2]=e[t>>2]),t=e[t>>2]|0,t|0&&(e[t+48>>2]=e[u>>2]),(e[M>>2]|0)==(C|0)&&(e[M>>2]=e[u>>2]),e[F+32+9284>>2]=(e[F+32+9284>>2]|0)+-1,e[C+44>>2]=0,e[u>>2]=e[D>>2],t=e[D>>2]|0,t|0&&(e[t+44>>2]=C),e[D>>2]=C,e[N>>2]=(e[N>>2]|0)+1,s=e[E>>2]|0,_=+i[s+16>>2],t=e[s+48>>2]|0,t)for(h=_*_;_=+i[t+16>>2],u=_*_<h,s=u?t:s,t=e[t+48>>2]|0,t;)h=u?_*_:h;if(S=+i[s>>2],d=+i[s+4>>2],h=+i[s+8>>2],_=+i[s+12>>2],t=e[s+16>>2]|0,u=e[s+20>>2]|0,o=e[s+24>>2]|0,m=e[s+28>>2]|0,w>>>0>=255){s=m;break}else C=s,g=u,a=o}if((B|0)==42?(e[F+32>>2]=s,u=g,o=a,s=m):(B|0)==43&&(e[F+32>>2]=6,u=g,o=a,s=m),he=(e[Z>>2]=t,+i[Z>>2]),pe=S*he,W=d*he,he=h*he,i[F+32+40>>2]=S,i[F+32+44>>2]=d,i[F+32+48>>2]=h,i[F+32+52>>2]=_,e[F+32+56>>2]=t,e[F+32+36>>2]=3,e[F+32+4>>2]=u,e[F+32+8>>2]=o,e[F+32+12>>2]=s,oe=o,_e=+i[oe+16>>2]-pe,X=+i[oe+20>>2]-W,te=+i[oe+24>>2]-he,N=s,q=+i[N+16>>2]-pe,ne=+i[N+20>>2]-W,me=+i[N+24>>2]-he,me=+at(+((_e*ne-X*q)*(_e*ne-X*q)+((X*me-te*ne)*(X*me-te*ne)+(te*q-_e*me)*(te*q-_e*me)))),i[F+32+20>>2]=me,_e=+i[N+16>>2]-pe,q=+i[N+20>>2]-W,te=+i[N+24>>2]-he,N=u,ne=+i[N+16>>2]-pe,X=+i[N+20>>2]-W,re=+i[N+24>>2]-he,re=+at(+((_e*X-q*ne)*(_e*X-q*ne)+((q*re-te*X)*(q*re-te*X)+(te*ne-_e*re)*(te*ne-_e*re)))),i[F+32+24>>2]=re,_e=+i[N+16>>2]-pe,ne=+i[N+20>>2]-W,te=+i[N+24>>2]-he,pe=+i[oe+16>>2]-pe,W=+i[oe+20>>2]-W,he=+i[oe+24>>2]-he,he=+at(+((_e*W-ne*pe)*(_e*W-ne*pe)+((ne*he-te*W)*(ne*he-te*W)+(te*pe-_e*he)*(te*pe-_e*he)))),i[F+32+20>>2]=me/(he+(me+re)),i[F+32+24>>2]=re/(he+(me+re)),i[F+32+28>>2]=he/(he+(me+re)),(e[F+32>>2]|0)!=9)if(e[F+32+36>>2]|0){o=F+32+36|0,B=51;break}else{d=0,h=0,_=0;break}return e[l>>2]=3,oe=0,H=F,oe|0}else B=45}else B=45;while(!1);if((B|0)==45&&(e[F+32>>2]=8,i[F+32+40>>2]=d,i[F+32+44>>2]=S,i[F+32+48>>2]=h,i[F+32+52>>2]=0,_=+at(+(d*d+S*S+h*h)),_>0?(i[F+32+40>>2]=1/_*d,i[F+32+44>>2]=1/_*S,i[F+32+48>>2]=1/_*h):(e[k>>2]=1065353216,e[F+32+44>>2]=0,e[F+32+48>>2]=0),i[F+32+52>>2]=0,i[F+32+56>>2]=0,e[F+32+36>>2]=1,e[F+32+4>>2]=e[C>>2],i[F+32+20>>2]=1,o=F+32+36|0,B=51),(B|0)==51){u=0,d=0,h=0,_=0;do t=e[F+9712+120>>2]|0,oe=e[F+9712+124>>2]|0,s=(e[F+9712>>2]|0)+(oe>>1)|0,oe&1&&(t=e[(e[s>>2]|0)+t>>2]|0),f0[t&127](F,s,e[F+32+4+(u<<2)>>2]|0),re=+i[F+32+20+(u<<2)>>2],d=d+ +i[F>>2]*re,_=_+re*+i[F+4>>2],h=h+re*+i[F+8>>2],u=u+1|0;while(u>>>0<(e[o>>2]|0)>>>0)}return e[l>>2]=1,re=d*+i[n+16>>2]+_*+i[n+20>>2]+h*+i[n+24>>2]+ +i[n+52>>2],_e=d*+i[n+32>>2]+_*+i[n+36>>2]+h*+i[n+40>>2]+ +i[n+56>>2],i[l+4>>2]=d*+i[n>>2]+_*+i[n+4>>2]+h*+i[n+8>>2]+ +i[n+48>>2],i[l+8>>2]=re,i[l+12>>2]=_e,i[l+16>>2]=0,_e=+i[k>>2],re=+i[F+32+56>>2],he=+i[F+32+44>>2],me=+i[F+32+48>>2],X=d-_e*re,ne=_-re*he,W=h-re*me,te=X*+i[n+16>>2]+ne*+i[n+20>>2]+W*+i[n+24>>2]+ +i[n+52>>2],pe=X*+i[n+32>>2]+ne*+i[n+36>>2]+W*+i[n+40>>2]+ +i[n+56>>2],i[l+20>>2]=X*+i[n>>2]+ne*+i[n+4>>2]+W*+i[n+8>>2]+ +i[n+48>>2],i[l+24>>2]=te,i[l+28>>2]=pe,i[l+32>>2]=0,i[l+36>>2]=-_e,i[l+40>>2]=-he,i[l+44>>2]=-me,i[l+48>>2]=0,i[l+52>>2]=-re,oe=1,H=F,oe|0}case 2:return e[l>>2]=2,oe=0,H=F,oe|0;default:return oe=0,H=F,oe|0}return 0}function Aa(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;m=H,H=H+16|0,d=e[t+372>>2]|0;e:do switch(e[d+32>>2]|0){case 1:{for(s=1,n=0;e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,i[m+(n<<2)>>2]=1,g=d+32|0,i[d+16+(s<<2)>>2]=0,s=(e[t+364>>2]|0)+-1|0,e[t+364>>2]=s,e[d+(e[g>>2]<<2)>>2]=e[t+348+(s<<2)>>2],s=e[g>>2]|0,e[g>>2]=s+1,o=+i[m>>2],a=+i[m+4>>2],l=+i[m+8>>2],c1(t,o,a,l,e[d+(s<<2)>>2]|0),!(Aa(t)|0||(d=e[t+372>>2]|0,g=(e[d+32>>2]|0)+-1|0,e[d+32>>2]=g,g=e[d+(g<<2)>>2]|0,d=e[t+364>>2]|0,e[t+364>>2]=d+1,e[t+348+(d<<2)>>2]=g,d=e[t+372>>2]|0,i[d+16+(e[d+32>>2]<<2)>>2]=0,g=(e[t+364>>2]|0)+-1|0,e[t+364>>2]=g,e[d+(e[d+32>>2]<<2)>>2]=e[t+348+(g<<2)>>2],g=e[d+32>>2]|0,e[d+32>>2]=g+1,c1(t,-o,-a,-l,e[d+(g<<2)>>2]|0),Aa(t)|0));){if(g=e[t+372>>2]|0,d=(e[g+32>>2]|0)+-1|0,e[g+32>>2]=d,d=e[g+(d<<2)>>2]|0,g=e[t+364>>2]|0,e[t+364>>2]=g+1,e[t+348+(g<<2)>>2]=d,n=n+1|0,n>>>0>=3)break e;d=e[t+372>>2]|0,s=e[d+32>>2]|0}return g=1,H=m,g|0}case 2:{for(g=e[d+4>>2]|0,n=e[d>>2]|0,o=+i[g+16>>2]-+i[n+16>>2],a=+i[g+20>>2]-+i[n+20>>2],l=+i[g+24>>2]-+i[n+24>>2],n=0;;){if(e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,i[m+(n<<2)>>2]=1,u=+i[m+8>>2],_=+i[m+4>>2],h=+i[m>>2],(a*u-l*_)*(a*u-l*_)+(l*h-o*u)*(l*h-o*u)+(o*_-a*h)*(o*_-a*h)>0){if(d=e[t+372>>2]|0,i[d+16+(e[d+32>>2]<<2)>>2]=0,g=(e[t+364>>2]|0)+-1|0,e[t+364>>2]=g,e[d+(e[d+32>>2]<<2)>>2]=e[t+348+(g<<2)>>2],g=e[d+32>>2]|0,e[d+32>>2]=g+1,c1(t,a*u-l*_,l*h-o*u,o*_-a*h,e[d+(g<<2)>>2]|0),Aa(t)|0||(d=e[t+372>>2]|0,g=(e[d+32>>2]|0)+-1|0,e[d+32>>2]=g,g=e[d+(g<<2)>>2]|0,d=e[t+364>>2]|0,e[t+364>>2]=d+1,e[t+348+(d<<2)>>2]=g,d=e[t+372>>2]|0,i[d+16+(e[d+32>>2]<<2)>>2]=0,g=(e[t+364>>2]|0)+-1|0,e[t+364>>2]=g,e[d+(e[d+32>>2]<<2)>>2]=e[t+348+(g<<2)>>2],g=e[d+32>>2]|0,e[d+32>>2]=g+1,c1(t,-(a*u-l*_),-(l*h-o*u),-(o*_-a*h),e[d+(g<<2)>>2]|0),Aa(t)|0))break;g=e[t+372>>2]|0,d=(e[g+32>>2]|0)+-1|0,e[g+32>>2]=d,d=e[g+(d<<2)>>2]|0,g=e[t+364>>2]|0,e[t+364>>2]=g+1,e[t+348+(g<<2)>>2]=d}if(n=n+1|0,n>>>0>=3)break e}return g=1,H=m,g|0}case 3:{if(g=e[d+4>>2]|0,s=e[d>>2]|0,u=+i[s+16>>2],o=+i[g+16>>2]-u,_=+i[s+20>>2],a=+i[g+20>>2]-_,h=+i[s+24>>2],l=+i[g+24>>2]-h,g=e[d+8>>2]|0,u=+i[g+16>>2]-u,_=+i[g+20>>2]-_,h=+i[g+24>>2]-h,(a*h-l*_)*(a*h-l*_)+(l*u-o*h)*(l*u-o*h)+(o*_-a*u)*(o*_-a*u)>0){if(i[d+28>>2]=0,g=(e[t+364>>2]|0)+-1|0,e[t+364>>2]=g,e[d+12>>2]=e[t+348+(g<<2)>>2],g=e[d+32>>2]|0,e[d+32>>2]=g+1,c1(t,a*h-l*_,l*u-o*h,o*_-a*u,e[d+(g<<2)>>2]|0),Aa(t)|0||(d=e[t+372>>2]|0,g=(e[d+32>>2]|0)+-1|0,e[d+32>>2]=g,g=e[d+(g<<2)>>2]|0,d=e[t+364>>2]|0,e[t+364>>2]=d+1,e[t+348+(d<<2)>>2]=g,d=e[t+372>>2]|0,i[d+16+(e[d+32>>2]<<2)>>2]=0,g=(e[t+364>>2]|0)+-1|0,e[t+364>>2]=g,e[d+(e[d+32>>2]<<2)>>2]=e[t+348+(g<<2)>>2],g=e[d+32>>2]|0,e[d+32>>2]=g+1,c1(t,-(a*h-l*_),-(l*u-o*h),-(o*_-a*u),e[d+(g<<2)>>2]|0),Aa(t)|0))return g=1,H=m,g|0;g=e[t+372>>2]|0,d=(e[g+32>>2]|0)+-1|0,e[g+32>>2]=d,d=e[g+(d<<2)>>2]|0,g=e[t+364>>2]|0,e[t+364>>2]=g+1,e[t+348+(g<<2)>>2]=d;break e}break}case 4:{if(g=e[d>>2]|0,t=e[d+12>>2]|0,h=+i[t+16>>2],w=+i[g+16>>2]-h,S=+i[t+20>>2],o=+i[g+20>>2]-S,l=+i[t+24>>2],u=+i[g+24>>2]-l,g=e[d+4>>2]|0,a=+i[g+16>>2]-h,_=+i[g+20>>2]-S,C=+i[g+24>>2]-l,g=e[d+8>>2]|0,h=+i[g+16>>2]-h,S=+i[g+20>>2]-S,l=+i[g+24>>2]-l,!(w*_*l+(o*C*h+u*a*S-w*C*S-o*a*l)-u*_*h!=w*_*l+(o*C*h+u*a*S-w*C*S-o*a*l)-u*_*h|w*_*l+(o*C*h+u*a*S-w*C*S-o*a*l)-u*_*h==0))return g=1,H=m,g|0;break}default:}while(!1);return g=0,H=m,g|0}function _u(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;if(C=e[t+9288>>2]|0,!C)return e[t>>2]=5,t=0,t|0;l=e[C+48>>2]|0,l|0&&(e[l+44>>2]=e[C+44>>2]),l=e[C+44>>2]|0,l|0&&(e[l+48>>2]=e[C+48>>2]),(e[t+9288>>2]|0)==(C|0)&&(e[t+9288>>2]=e[C+48>>2]),e[t+9292>>2]=(e[t+9292>>2]|0)+-1,e[C+44>>2]=0,e[C+48>>2]=e[t+9280>>2],l=e[t+9280>>2]|0,l|0&&(e[l+44>>2]=C),e[t+9280>>2]=C,e[t+9284>>2]=(e[t+9284>>2]|0)+1,A[C+55>>0]=0,e[C+20>>2]=n,e[C+24>>2]=s,e[C+28>>2]=o,d=+i[n+16>>2],u=+i[s+16>>2]-d,m=+i[n+20>>2],_=+i[s+20>>2]-m,g=+i[n+24>>2],h=+i[s+24>>2]-g,d=+i[o+16>>2]-d,m=+i[o+20>>2]-m,g=+i[o+24>>2]-g,i[C>>2]=_*g-h*m,i[C+4>>2]=h*d-u*g,i[C+8>>2]=u*m-_*d,i[C+12>>2]=0,S=+at(+((_*g-h*m)*(_*g-h*m)+(h*d-u*g)*(h*d-u*g)+(u*m-_*d)*(u*m-_*d)));do if(S>9999999747378752e-20){if(!(yh(_*g-h*m,h*d-u*g,u*m-_*d,+i[n+16>>2],+i[n+20>>2],+i[n+24>>2],+i[s+16>>2],+i[s+20>>2],+i[s+24>>2],C+16|0)|0)&&!(yh(+i[C>>2],+i[C+4>>2],+i[C+8>>2],+i[s+16>>2],+i[s+20>>2],+i[s+24>>2],+i[o+16>>2],+i[o+20>>2],+i[o+24>>2],C+16|0)|0)&&!(yh(+i[C>>2],+i[C+4>>2],+i[C+8>>2],+i[o+16>>2],+i[o+20>>2],+i[o+24>>2],+i[n+16>>2],+i[n+20>>2],+i[n+24>>2],C+16|0)|0)&&(i[C+16>>2]=(+i[n+16>>2]*+i[C>>2]+ +i[n+20>>2]*+i[C+4>>2]+ +i[n+24>>2]*+i[C+8>>2])/S),i[C>>2]=1/S*+i[C>>2],i[C+4>>2]=1/S*+i[C+4>>2],i[C+8>>2]=1/S*+i[C+8>>2],a||+i[C+16>>2]>=-9999999747378752e-21)return t=C,t|0;e[t>>2]=3;break}else e[t>>2]=2;while(!1);return l=e[C+48>>2]|0,l|0&&(e[l+44>>2]=e[C+44>>2]),l=e[C+44>>2]|0,l|0&&(e[l+48>>2]=e[C+48>>2]),(e[t+9280>>2]|0)==(C|0)&&(e[t+9280>>2]=e[C+48>>2]),e[t+9284>>2]=(e[t+9284>>2]|0)+-1,e[C+44>>2]=0,e[C+48>>2]=e[t+9288>>2],l=e[t+9288>>2]|0,l|0&&(e[l+44>>2]=C),e[t+9288>>2]=C,e[t+9292>>2]=(e[t+9292>>2]|0)+1,t=0,t|0}function yh(t,n,s,o,a,l,u,_,h,d){return t=+t,n=+n,s=+s,o=+o,a=+a,l=+l,u=+u,_=+_,h=+h,d=d|0,((u-o)*n-(_-a)*t)*l+(((_-a)*s-(h-l)*n)*o+((h-l)*t-(u-o)*s)*a)<0?(u-o)*o+(_-a)*a+(h-l)*l>0?(i[d>>2]=+at(+(o*o+a*a+l*l)),d=1,d|0):(u-o)*u+(_-a)*_+(h-l)*h<0?(i[d>>2]=+at(+(u*u+_*_+h*h)),d=1,d|0):(s=((u*u+_*_+h*h)*(o*o+a*a+l*l)-(u*o+_*a+h*l)*(u*o+_*a+h*l))/((u-o)*(u-o)+(_-a)*(_-a)+(h-l)*(h-l)),i[d>>2]=+at(+(s>0?s:0)),d=1,d|0):(d=0,d|0)}function vh(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0;return(It[o+55>>0]|0|0)==(n|0)?(o=0,o|0):(u=e[6876+(a<<2)>>2]|0,+i[o>>2]*+i[s+16>>2]+ +i[o+4>>2]*+i[s+20>>2]+ +i[o+8>>2]*+i[s+24>>2]-+i[o+16>>2]<-9999999747378752e-21?(u=_u(t,e[o+20+(u<<2)>>2]|0,e[o+20+(a<<2)>>2]|0,s,0)|0,u?(A[u+52>>0]=a,e[u+32>>2]=o,A[o+52+a>>0]=0,e[o+32+(a<<2)>>2]=u,a=e[l>>2]|0,a?(A[a+53>>0]=2,e[a+36>>2]=u,A[u+54>>0]=1,e[u+40>>2]=a):e[l+4>>2]=u,e[l>>2]=u,e[l+8>>2]=(e[l+8>>2]|0)+1,o=1,o|0):(o=0,o|0)):(a=e[6888+(a<<2)>>2]|0,A[o+55>>0]=n,!(vh(t,n,s,e[o+32+(u<<2)>>2]|0,It[o+52+u>>0]|0,l)|0)||!(vh(t,n,s,e[o+32+(a<<2)>>2]|0,It[o+52+a>>0]|0,l)|0)?(o=0,o|0):(a=e[o+48>>2]|0,a|0&&(e[a+44>>2]=e[o+44>>2]),a=e[o+44>>2]|0,a|0&&(e[a+48>>2]=e[o+48>>2]),(e[t+9280>>2]|0)==(o|0)&&(e[t+9280>>2]=e[o+48>>2]),e[t+9284>>2]=(e[t+9284>>2]|0)+-1,e[o+44>>2]=0,e[o+48>>2]=e[t+9288>>2],a=e[t+9288>>2]|0,a|0&&(e[a+44>>2]=o),e[t+9288>>2]=o,e[t+9292>>2]=(e[t+9292>>2]|0)+1,o=1,o|0)))}function kK(t){t=t|0}function FK(t){t=t|0,ye(t)}function BK(t,n,s,o,a,l,u,_,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0;var m=0,g=0;return d=H,H=H+80|0,g=+i[l+52>>2]-+i[a+52>>2],m=+i[l+56>>2]-+i[a+56>>2],i[d+56>>2]=+i[l+48>>2]-+i[a+48>>2],i[d+56+4>>2]=g,i[d+56+8>>2]=m,i[d+56+12>>2]=0,LK(s,a,o,l,d+56|0,d,1)|0?(e[_>>2]=e[d+4>>2],e[_+4>>2]=e[d+4+4>>2],e[_+8>>2]=e[d+4+8>>2],e[_+12>>2]=e[d+4+12>>2],e[h>>2]=e[d+20>>2],e[h+4>>2]=e[d+20+4>>2],e[h+8>>2]=e[d+20+8>>2],e[h+12>>2]=e[d+20+12>>2],e[u>>2]=e[d+36>>2],e[u+4>>2]=e[d+36+4>>2],e[u+8>>2]=e[d+36+8>>2],e[u+12>>2]=e[d+36+12>>2],h=1,H=d,h|0):PK(s,a,o,l,d+56|0,d)|0?(e[_>>2]=e[d+4>>2],e[_+4>>2]=e[d+4+4>>2],e[_+8>>2]=e[d+4+8>>2],e[_+12>>2]=e[d+4+12>>2],e[h>>2]=e[d+20>>2],e[h+4>>2]=e[d+20+4>>2],e[h+8>>2]=e[d+20+8>>2],e[h+12>>2]=e[d+20+12>>2],e[u>>2]=e[d+36>>2],e[u+4>>2]=e[d+36+4>>2],e[u+8>>2]=e[d+36+8>>2],e[u+12>>2]=e[d+36+12>>2],h=0,H=d,h|0):(h=0,H=d,h|0)}function UK(t){t=t|0,ye(t)}function l1(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0;re=H,H=H+256|0,i[t+56>>2]=0,X=re+240+4|0,ne=re+240+8|0,e[re+240>>2]=0,e[re+240+4>>2]=0,e[re+240+8>>2]=0,e[re+240+12>>2]=0,e[re+176>>2]=e[n>>2],e[re+176+4>>2]=e[n+4>>2],e[re+176+8>>2]=e[n+8>>2],e[re+176+12>>2]=e[n+12>>2],e[re+176+16>>2]=e[n+16>>2],e[re+176+16+4>>2]=e[n+16+4>>2],e[re+176+16+8>>2]=e[n+16+8>>2],e[re+176+16+12>>2]=e[n+16+12>>2],e[re+176+32>>2]=e[n+32>>2],e[re+176+32+4>>2]=e[n+32+4>>2],e[re+176+32+8>>2]=e[n+32+8>>2],e[re+176+32+12>>2]=e[n+32+12>>2],F=re+176+48|0,e[F>>2]=e[n+48>>2],e[F+4>>2]=e[n+48+4>>2],e[F+8>>2]=e[n+48+8>>2],e[F+12>>2]=e[n+48+12>>2],e[re+112>>2]=e[n+64>>2],e[re+112+4>>2]=e[n+64+4>>2],e[re+112+8>>2]=e[n+64+8>>2],e[re+112+12>>2]=e[n+64+12>>2],e[re+112+16>>2]=e[n+80>>2],e[re+112+16+4>>2]=e[n+80+4>>2],e[re+112+16+8>>2]=e[n+80+8>>2],e[re+112+16+12>>2]=e[n+80+12>>2],e[re+112+32>>2]=e[n+96>>2],e[re+112+32+4>>2]=e[n+96+4>>2],e[re+112+32+8>>2]=e[n+96+8>>2],e[re+112+32+12>>2]=e[n+96+12>>2],L=re+112+48|0,e[L>>2]=e[n+112>>2],e[L+4>>2]=e[n+112+4>>2],e[L+8>>2]=e[n+112+8>>2],e[L+12>>2]=e[n+112+12>>2],W=+i[F>>2],te=+i[L>>2],z=re+176+52|0,pe=+i[z>>2],Y=re+112+52|0,_e=+i[Y>>2],$=re+176+56|0,he=+i[$>>2],q=re+112+56|0,me=+i[q>>2],i[F>>2]=W-(W+te)*.5,i[z>>2]=pe-(pe+_e)*.5,i[$>>2]=he-(he+me)*.5,i[L>>2]=te-(W+te)*.5,i[Y>>2]=_e-(pe+_e)*.5,i[q>>2]=me-(he+me)*.5,((e[(e[t+28>>2]|0)+4>>2]|0)+-17|0)>>>0<2?F=((e[(e[t+32>>2]|0)+4>>2]|0)+-17|0)>>>0<2:F=0,D=+i[t+44>>2],E=+i[t+48>>2],e[5046]=(e[5046]|0)+1,L=A[t+52>>0]|0,e[t+64>>2]=0,e[t+4>>2]=0,e[t+8>>2]=1065353216,e[t+12>>2]=0,i[t+16>>2]=0,e[t+68>>2]=0,e[t+60>>2]=-1,w=e[t+24>>2]|0,A[w+312>>0]=0,e[w>>2]=0,A[w+356>>0]=1,e[w+292>>2]=1566444395,e[w+296>>2]=1566444395,e[w+300>>2]=1566444395,i[w+304>>2]=0,e[w+336>>2]=0,e[w+336+4>>2]=0,e[w+336+8>>2]=0,e[w+336+12>>2]=0,A[w+336+16>>0]=0,A[w+332>>0]=A[w+332>>0]&-16,w=0,h=0xde0b6b000000000;do{g=+i[t+4>>2],m=+i[t+8>>2],u=+i[t+12>>2],_=+i[n+4>>2]*-g+ +i[n+20>>2]*-m+ +i[n+36>>2]*-u,d=+i[n+8>>2]*-g+ +i[n+24>>2]*-m+ +i[n+40>>2]*-u,i[re+96>>2]=+i[n>>2]*-g+ +i[n+16>>2]*-m+ +i[n+32>>2]*-u,i[re+96+4>>2]=_,i[re+96+8>>2]=d,i[re+96+12>>2]=0,d=g*+i[n+68>>2]+m*+i[n+84>>2]+u*+i[n+100>>2],_=g*+i[n+72>>2]+m*+i[n+88>>2]+u*+i[n+104>>2],i[re+80>>2]=+i[n+64>>2]*g+ +i[n+80>>2]*m+ +i[n+96>>2]*u,i[re+80+4>>2]=d,i[re+80+8>>2]=_,i[re+80+12>>2]=0,W1(re+64|0,e[t+28>>2]|0,re+96|0),W1(re+48|0,e[t+32>>2]|0,re+80|0),_=+i[re+64>>2],d=+i[re+64+4>>2],u=+i[re+64+8>>2],m=_*+i[re+176>>2]+d*+i[re+176+4>>2]+u*+i[re+176+8>>2]+ +i[re+176+48>>2],g=_*+i[re+176+16>>2]+d*+i[re+176+20>>2]+u*+i[re+176+24>>2]+ +i[z>>2],u=_*+i[re+176+32>>2]+d*+i[re+176+36>>2]+u*+i[re+176+40>>2]+ +i[$>>2],d=+i[re+48>>2],_=+i[re+48+4>>2],M=+i[re+48+8>>2],S=d*+i[re+112>>2]+_*+i[re+112+4>>2]+M*+i[re+112+8>>2]+ +i[re+112+48>>2],C=d*+i[re+112+16>>2]+_*+i[re+112+20>>2]+M*+i[re+112+24>>2]+ +i[Y>>2],M=d*+i[re+112+32>>2]+_*+i[re+112+36>>2]+M*+i[re+112+40>>2]+ +i[q>>2],_=F?0:M,d=F?0:u,M=(F?0:u)-(F?0:M),u=+i[t+4>>2]*(m-S)+ +i[t+8>>2]*(g-C)+ +i[t+12>>2]*M,u>0&&u*u>h*+i[n+128>>2]?(e[t+68>>2]=10,a=0,w=1):oe=7;do if((oe|0)==7){oe=0,N=e[t+24>>2]|0,B=e[N>>2]|0;e:do if((B|0)>0)for(l=+i[N+308>>2],a=0;;){if(k=m-S-+i[N+4+(a<<4)>>2],U=g-C-+i[N+4+(a<<4)+4>>2],V=M-+i[N+4+(a<<4)+8>>2],a=a+1|0,k*k+U*U+V*V<=l){a=1;break e}if((a|0)>=(B|0)){a=0;break}}else a=0;while(!1);if(+i[N+304>>2]==0&&M==+i[N+300>>2]&&g-C==+i[N+296>>2]?m-S==+i[N+292>>2]|a&&(oe=16):oe=15,(oe|0)==15&&(oe=0,a)&&(oe=16),(oe|0)==16){oe=0,e[t+68>>2]=1,a=0,w=1;break}if(l=h-u,l<=h*9999999974752427e-22){e[t+68>>2]=l<=0?2:11,a=0,w=1;break}if(i[N+292>>2]=m-S,i[N+296>>2]=g-C,i[N+300>>2]=M,i[N+304>>2]=0,A[N+356>>0]=1,i[N+4+(B<<4)>>2]=m-S,i[N+4+(B<<4)+4>>2]=g-C,i[N+4+(B<<4)+8>>2]=M,i[N+4+(B<<4)+12>>2]=0,a=e[N>>2]|0,i[N+84+(a<<4)>>2]=m,i[N+84+(a<<4)+4>>2]=g,i[N+84+(a<<4)+8>>2]=d,i[N+84+(a<<4)+12>>2]=0,a=e[N>>2]|0,i[N+164+(a<<4)>>2]=S,i[N+164+(a<<4)+4>>2]=C,i[N+164+(a<<4)+8>>2]=_,i[N+164+(a<<4)+12>>2]=0,e[N>>2]=(e[N>>2]|0)+1,a=e[t+24>>2]|0,B=Jf(a)|0,l=+i[a+276>>2],u=+i[a+280>>2],_=+i[a+284>>2],a=e[a+288>>2]|0,!B){e[t+68>>2]=3,a=0,w=1;break}if(l*l+u*u+_*_<9999999974752427e-22){i[t+4>>2]=l,i[t+8>>2]=u,i[t+12>>2]=_,e[t+16>>2]=a,e[t+68>>2]=6,a=0,w=1;break}if(h-(l*l+u*u+_*_)<=h*11920928955078125e-23){e[t+68>>2]=12,a=0,w=1,h=l*l+u*u+_*_;break}i[t+4>>2]=l,i[t+8>>2]=u,i[t+12>>2]=_,e[t+16>>2]=a,B=e[t+64>>2]|0,e[t+64>>2]=B+1,(B|0)<=1e3?(e[e[t+24>>2]>>2]|0)==4?(e[t+68>>2]=13,a=0,h=l*l+u*u+_*_):(a=1,h=l*l+u*u+_*_):(a=0,h=l*l+u*u+_*_)}while(!1)}while(a);E=L<<24>>24==0?E:0,M=(L<<24>>24==0?D:0)+E;do if(w)if(L=e[t+24>>2]|0,Jf(L)|0,_=+i[L+260>>2],u=+i[L+264>>2],m=+i[L+268>>2],e[re+240>>2]=e[t+4>>2],e[re+240+4>>2]=e[t+4+4>>2],e[re+240+8>>2]=e[t+4+8>>2],e[re+240+12>>2]=e[t+4+12>>2],l=+i[t+4>>2],d=+i[t+8>>2],g=+i[t+12>>2],l*l+d*d+g*g<1e-4&&(e[t+68>>2]=5),l*l+d*d+g*g>14210854715202004e-30){V=1/+at(+(l*l+d*d+g*g)),i[re+240>>2]=V*+i[re+240>>2],i[X>>2]=V*+i[X>>2],i[ne>>2]=V*+i[ne>>2],U=E/+at(+h),e[t+60>>2]=1,h=1/V-M,N=1,_=U*l+_,V=U*d+u,U=U*g+m;break}else{e[t+60>>2]=2,h=0,N=0,V=u,U=m;break}else h=0,N=0,_=0,V=0,U=0;while(!1);(e[t+72>>2]|0)!=0&&(e[t+20>>2]|0)!=0&&(e[t+68>>2]|0)!=0?a=M+h<.01:a=0,w=N^1;do if(a|w&&(O=e[t+20>>2]|0,(O|0)!=0)){if(e[5045]=(e[5045]|0)+1,e[t+4>>2]=0,e[t+4+4>>2]=0,e[t+4+8>>2]=0,e[t+4+12>>2]=0,!(jm[e[(e[O>>2]|0)+8>>2]&3](O,e[t+24>>2]|0,e[t+28>>2]|0,e[t+32>>2]|0,re+176|0,re+112|0,t+4|0,re+96|0,re+80|0,o)|0)){if(u=+i[t+4>>2],m=+i[t+8>>2],S=+i[t+12>>2],!(u*u+m*m+S*S>0)){if(N){u=V,l=U;break}H=re;return}if(d=+i[re+80>>2],D=+i[re+96>>2]-d,g=+i[re+80+4>>2],k=+i[re+96+4>>2]-g,C=+i[re+80+8>>2],l=+i[re+96+8>>2]-C,l=+at(+(D*D+k*k+l*l))-M,l<h|w){e[re+240>>2]=e[t+4>>2],e[re+240+4>>2]=e[t+4+4>>2],e[re+240+8>>2]=e[t+4+8>>2],e[re+240+12>>2]=e[t+4+12>>2],U=+i[re+240>>2],V=+i[X>>2],_=+i[ne>>2],h=1/+at(+(U*U+V*V+_*_)),i[re+240>>2]=U*h,i[X>>2]=V*h,i[ne>>2]=_*h,e[t+60>>2]=6,h=l,_=E*u+d,u=E*m+g,l=E*S+C;break}if(e[t+60>>2]=5,N){u=V,l=U;break}H=re;return}if(k=+i[re+80>>2],m=+i[re+96>>2],u=+i[re+80+4>>2],g=+i[re+96+4>>2],l=+i[re+80+8>>2],S=+i[re+96+8>>2],(k-m)*(k-m)+(u-g)*(u-g)+(l-S)*(l-S)<=14210854715202004e-30?(C=+i[t+4>>2],D=+i[t+8>>2],M=+i[t+12>>2],d=C*C+D*D+M*M,E=+i[t+16>>2]):(d=(k-m)*(k-m)+(u-g)*(u-g)+(l-S)*(l-S),C=k-m,M=l-S,E=0,D=u-g),!(d>14210854715202004e-30)){if(e[t+60>>2]=9,N){u=V,l=U;break}H=re;return}if(d=1/+at(+d),m=-+at(+((m-k)*(m-k)+(g-u)*(g-u)+(S-l)*(S-l))),e[t+60>>2]=3,!(h>m|w)){if(e[t+60>>2]=8,N){u=V,l=U;break}H=re;return}V=M*d,M=D*d,C=C*d,i[re+240>>2]=C,i[X>>2]=M,i[ne>>2]=V,i[re+240+12>>2]=E,h=C*+i[n+4>>2]+M*+i[n+20>>2]+V*+i[n+36>>2],_=C*+i[n+8>>2]+M*+i[n+24>>2]+V*+i[n+40>>2],i[re+64>>2]=+i[n>>2]*C+ +i[n+16>>2]*M+ +i[n+32>>2]*V,i[re+64+4>>2]=h,i[re+64+8>>2]=_,i[re+64+12>>2]=0,_=+i[n+68>>2]*-C+ +i[n+84>>2]*-M+ +i[n+100>>2]*-V,h=+i[n+72>>2]*-C+ +i[n+88>>2]*-M+ +i[n+104>>2]*-V,i[re+48>>2]=+i[n+64>>2]*-C+ +i[n+80>>2]*-M+ +i[n+96>>2]*-V,i[re+48+4>>2]=_,i[re+48+8>>2]=h,i[re+48+12>>2]=0,W1(re+32|0,e[t+28>>2]|0,re+64|0),W1(re+16|0,e[t+32>>2]|0,re+48|0),h=+i[re+32>>2],_=+i[re+32+4>>2],V=+i[re+32+8>>2],M=+i[re+16>>2],C=+i[re+16+4>>2],S=+i[re+16+8>>2],U=+i[re+240>>2],D=+i[X>>2],E=+i[ne>>2],S=-((h*+i[re+176+16>>2]+_*+i[re+176+20>>2]+V*+i[re+176+24>>2]+ +i[z>>2]-(M*+i[re+112+16>>2]+C*+i[re+112+20>>2]+S*+i[re+112+24>>2]+ +i[Y>>2]))*D)-(h*+i[re+176>>2]+_*+i[re+176+4>>2]+V*+i[re+176+8>>2]+ +i[re+176+48>>2]-(M*+i[re+112>>2]+C*+i[re+112+4>>2]+S*+i[re+112+8>>2]+ +i[re+112+48>>2]))*U-(h*+i[re+176+32>>2]+_*+i[re+176+36>>2]+V*+i[re+176+40>>2]+ +i[$>>2]-(M*+i[re+112+32>>2]+C*+i[re+112+36>>2]+S*+i[re+112+40>>2]+ +i[q>>2]))*E,C=+i[n+4>>2]*-U+ +i[n+20>>2]*-D+ +i[n+36>>2]*-E,M=+i[n+8>>2]*-U+ +i[n+24>>2]*-D+ +i[n+40>>2]*-E,i[re+64>>2]=+i[n>>2]*-U+ +i[n+16>>2]*-D+ +i[n+32>>2]*-E,i[re+64+4>>2]=C,i[re+64+8>>2]=M,i[re+64+12>>2]=0,M=U*+i[n+68>>2]+D*+i[n+84>>2]+E*+i[n+100>>2],C=U*+i[n+72>>2]+D*+i[n+88>>2]+E*+i[n+104>>2],i[re+48>>2]=+i[n+64>>2]*U+ +i[n+80>>2]*D+ +i[n+96>>2]*E,i[re+48+4>>2]=M,i[re+48+8>>2]=C,i[re+48+12>>2]=0,W1(re+32|0,e[t+28>>2]|0,re+64|0),W1(re+16|0,e[t+32>>2]|0,re+48|0),C=+i[re+32>>2],M=+i[re+32+4>>2],E=+i[re+32+8>>2],D=+i[re+16>>2],U=+i[re+16+4>>2],V=+i[re+16+8>>2],_=+i[re+240>>2],h=+i[X>>2],d=+i[ne>>2],S>(C*+i[re+176>>2]+M*+i[re+176+4>>2]+E*+i[re+176+8>>2]+ +i[re+176+48>>2]-(D*+i[re+112>>2]+U*+i[re+112+4>>2]+V*+i[re+112+8>>2]+ +i[re+112+48>>2]))*_+(C*+i[re+176+16>>2]+M*+i[re+176+20>>2]+E*+i[re+176+24>>2]+ +i[z>>2]-(D*+i[re+112+16>>2]+U*+i[re+112+20>>2]+V*+i[re+112+24>>2]+ +i[Y>>2]))*h+(C*+i[re+176+32>>2]+M*+i[re+176+36>>2]+E*+i[re+176+40>>2]+ +i[$>>2]-(D*+i[re+112+32>>2]+U*+i[re+112+36>>2]+V*+i[re+112+40>>2]+ +i[q>>2]))*d&&(e[t+60>>2]=10,i[re+240>>2]=-_,i[X>>2]=-h,i[ne>>2]=-d),h=m,_=k}else oe=56;while(!1);if((oe|0)==56)if(N)u=V,l=U;else{H=re;return}if(!(h<0)&&!(h*h<+i[n+128>>2])){H=re;return}e[t+4>>2]=e[re+240>>2],e[t+4+4>>2]=e[re+240+4>>2],e[t+4+8>>2]=e[re+240+8>>2],e[t+4+12>>2]=e[re+240+12>>2],i[t+56>>2]=h,oe=e[(e[s>>2]|0)+16>>2]|0,i[re>>2]=(W+te)*.5+_,i[re+4>>2]=(pe+_e)*.5+u,i[re+8>>2]=(he+me)*.5+l,i[re+12>>2]=0,D2[oe&15](s,re+240|0,re,h),H=re}function OK(t){t=t|0,ye(t)}function GK(t,n,s,o,a,l,u,_,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0;var m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0;L=H,H=H+4224|0,((e[s+4>>2]|0)+-17|0)>>>0<2?F=((e[o+4>>2]|0)+-17|0)>>>0<2:F=0,t=0;do Qf(),w=+i[20188+(t<<4)>>2],M=+i[20188+(t<<4)+4>>2],E=+i[20188+(t<<4)+8>>2],B=+i[a+4>>2]*-w+ +i[a+20>>2]*-M+ +i[a+36>>2]*-E,D=+i[a+8>>2]*-w+ +i[a+24>>2]*-M+ +i[a+40>>2]*-E,i[L+1248+(t<<4)>>2]=+i[a>>2]*-w+ +i[a+16>>2]*-M+ +i[a+32>>2]*-E,i[L+1248+(t<<4)+4>>2]=B,i[L+1248+(t<<4)+8>>2]=D,i[L+1248+(t<<4)+12>>2]=0,D=w*+i[l+4>>2]+M*+i[l+20>>2]+E*+i[l+36>>2],B=w*+i[l+8>>2]+M*+i[l+24>>2]+E*+i[l+40>>2],i[L+256+(t<<4)>>2]=w*+i[l>>2]+M*+i[l+16>>2]+E*+i[l+32>>2],i[L+256+(t<<4)+4>>2]=D,i[L+256+(t<<4)+8>>2]=B,i[L+256+(t<<4)+12>>2]=0,t=t+1|0;while((t|0)!=42);if(t=Ct[e[(e[s>>2]|0)+84>>2]&127](s)|0,(t|0)>0){for(g=0,S=42;f0[e[(e[s>>2]|0)+88>>2]&127](s,g,L+176|0),D=+i[L+176>>2],B=+i[L+176+4>>2],E=+i[L+176+8>>2],M=D*+i[a+16>>2]+B*+i[a+20>>2]+E*+i[a+24>>2],w=D*+i[a+32>>2]+B*+i[a+36>>2]+E*+i[a+40>>2],i[L+176>>2]=+i[a>>2]*D+ +i[a+4>>2]*B+ +i[a+8>>2]*E,i[L+176+4>>2]=M,i[L+176+8>>2]=w,i[L+176+12>>2]=0,Qf(),k=20188+(S<<4)|0,e[k>>2]=e[L+176>>2],e[k+4>>2]=e[L+176+4>>2],e[k+8>>2]=e[L+176+8>>2],e[k+12>>2]=e[L+176+12>>2],w=+i[L+176>>2],M=+i[L+176+4>>2],E=+i[L+176+8>>2],B=+i[a+4>>2]*-w+ +i[a+20>>2]*-M+ +i[a+36>>2]*-E,D=+i[a+8>>2]*-w+ +i[a+24>>2]*-M+ +i[a+40>>2]*-E,i[L+1248+(S<<4)>>2]=+i[a>>2]*-w+ +i[a+16>>2]*-M+ +i[a+32>>2]*-E,i[L+1248+(S<<4)+4>>2]=B,i[L+1248+(S<<4)+8>>2]=D,i[L+1248+(S<<4)+12>>2]=0,D=w*+i[l+4>>2]+M*+i[l+20>>2]+E*+i[l+36>>2],B=w*+i[l+8>>2]+M*+i[l+24>>2]+E*+i[l+40>>2],i[L+256+(S<<4)>>2]=+i[l>>2]*w+ +i[l+16>>2]*M+ +i[l+32>>2]*E,i[L+256+(S<<4)+4>>2]=D,i[L+256+(S<<4)+8>>2]=B,i[L+256+(S<<4)+12>>2]=0,g=g+1|0,(g|0)!=(t|0);)S=S+1|0;S=t+42|0}else S=42;if(t=Ct[e[(e[o>>2]|0)+84>>2]&127](o)|0,(t|0)>0){for(g=0,C=S;f0[e[(e[o>>2]|0)+88>>2]&127](o,g,L+176|0),D=+i[L+176>>2],B=+i[L+176+4>>2],E=+i[L+176+8>>2],M=D*+i[l+16>>2]+B*+i[l+20>>2]+E*+i[l+24>>2],w=D*+i[l+32>>2]+B*+i[l+36>>2]+E*+i[l+40>>2],i[L+176>>2]=+i[l>>2]*D+ +i[l+4>>2]*B+ +i[l+8>>2]*E,i[L+176+4>>2]=M,i[L+176+8>>2]=w,i[L+176+12>>2]=0,Qf(),k=20188+(C<<4)|0,e[k>>2]=e[L+176>>2],e[k+4>>2]=e[L+176+4>>2],e[k+8>>2]=e[L+176+8>>2],e[k+12>>2]=e[L+176+12>>2],w=+i[L+176>>2],M=+i[L+176+4>>2],E=+i[L+176+8>>2],B=+i[a+4>>2]*-w+ +i[a+20>>2]*-M+ +i[a+36>>2]*-E,D=+i[a+8>>2]*-w+ +i[a+24>>2]*-M+ +i[a+40>>2]*-E,i[L+1248+(C<<4)>>2]=+i[a>>2]*-w+ +i[a+16>>2]*-M+ +i[a+32>>2]*-E,i[L+1248+(C<<4)+4>>2]=B,i[L+1248+(C<<4)+8>>2]=D,i[L+1248+(C<<4)+12>>2]=0,D=w*+i[l+4>>2]+M*+i[l+20>>2]+E*+i[l+36>>2],B=w*+i[l+8>>2]+M*+i[l+24>>2]+E*+i[l+40>>2],i[L+256+(C<<4)>>2]=+i[l>>2]*w+ +i[l+16>>2]*M+ +i[l+32>>2]*E,i[L+256+(C<<4)+4>>2]=D,i[L+256+(C<<4)+8>>2]=B,i[L+256+(C<<4)+12>>2]=0,g=g+1|0,(g|0)!=(t|0);)C=C+1|0;S=t+S|0}if(Kt[e[(e[s>>2]|0)+76>>2]&127](s,L+1248|0,L+3232|0,S),Kt[e[(e[o>>2]|0)+76>>2]&127](o,L+256|0,L+2240|0,S),(S|0)>0)for(k=0,t=0,g=0,C=0,D=0,M=0xde0b6b000000000;;)if(Qf(),m=+i[20188+(k<<4)>>2],w=+i[20188+(k<<4)+4>>2],B=+i[20188+(k<<4)+12>>2],E=F?0:+i[20188+(k<<4)+8>>2],m*m+w*w+E*E>.01&&(V=+i[L+3232+(k<<4)>>2],U=+i[L+3232+(k<<4)+4>>2],N=+i[L+3232+(k<<4)+8>>2],Y=+i[L+2240+(k<<4)>>2],z=+i[L+2240+(k<<4)+4>>2],O=+i[L+2240+(k<<4)+8>>2],N=m*(Y*+i[l>>2]+z*+i[l+4>>2]+O*+i[l+8>>2]+ +i[l+48>>2]-(V*+i[a>>2]+U*+i[a+4>>2]+N*+i[a+8>>2]+ +i[a+48>>2]))+w*(Y*+i[l+16>>2]+z*+i[l+20>>2]+O*+i[l+24>>2]+ +i[l+52>>2]-(V*+i[a+16>>2]+U*+i[a+20>>2]+N*+i[a+24>>2]+ +i[a+52>>2]))+E*((F?0:Y*+i[l+32>>2]+z*+i[l+36>>2]+O*+i[l+40>>2]+ +i[l+56>>2])-(F?0:V*+i[a+32>>2]+U*+i[a+36>>2]+N*+i[a+40>>2]+ +i[a+56>>2])),N<M)?(t=(i[Z>>2]=m,e[Z>>2]|0),g=(i[Z>>2]=w,e[Z>>2]|0),C=(i[Z>>2]=E,e[Z>>2]|0),M=N):B=D,k=k+1|0,(k|0)==(S|0)){k=t,S=C;break}else D=B;else k=0,g=0,S=0,B=0,M=0xde0b6b000000000;switch(e[s+4>>2]|0){case 4:case 5:case 10:case 11:case 13:case 1:case 0:case 8:break;default:+Tt[e[(e[s>>2]|0)+48>>2]&15](s)}switch(E=(e[Z>>2]=k,+i[Z>>2]),D=(e[Z>>2]=g,+i[Z>>2]),N=(e[Z>>2]=S,+i[Z>>2]),e[o+4>>2]|0){case 4:case 5:case 10:case 11:case 13:case 1:case 0:case 8:break;default:+Tt[e[(e[o>>2]|0)+48>>2]&15](o)}if(M<0)return u=0,H=L,u|0;switch(e[s+4>>2]|0){case 8:{m=+i[s+32>>2]*+i[s+16>>2];break}case 0:{m=+i[s+48>>2];break}case 1:{m=+i[s+48>>2];break}case 13:{m=+i[s+48>>2];break}case 11:{m=+i[s+48>>2];break}case 10:{m=+i[s+48>>2];break}case 4:case 5:{m=+i[s+48>>2];break}default:m=+Tt[e[(e[s>>2]|0)+48>>2]&15](s)}switch(t=e[o+4>>2]|0,t|0){case 8:{w=+i[o+32>>2]*+i[o+16>>2],t=8;break}case 0:{w=+i[o+48>>2],t=0;break}case 1:{w=+i[o+48>>2],t=1;break}case 13:{w=+i[o+48>>2],t=13;break}case 11:{w=+i[o+48>>2],t=11;break}case 10:{w=+i[o+48>>2],t=10;break}case 4:case 5:{w=+i[o+48>>2];break}default:w=+Tt[e[(e[o>>2]|0)+48>>2]&15](o),t=e[o+4>>2]|0}return m=M+(m+w+.5),e[L+176>>2]=6928,e[L+176+4>>2]=0,e[L+176+8>>2]=1065353216,e[L+176+12>>2]=0,i[L+176+16>>2]=0,e[L+176+20>>2]=0,e[L+176+24>>2]=n,e[L+176+28>>2]=s,e[L+176+32>>2]=o,e[L+176+36>>2]=e[s+4>>2],e[L+176+40>>2]=t,i[L+176+44>>2]=+Tt[e[(e[s>>2]|0)+48>>2]&15](s),i[L+176+48>>2]=+Tt[e[(e[o>>2]|0)+48>>2]&15](o),A[L+176+52>>0]=0,e[L+176+60>>2]=-1,e[L+176+72>>2]=1,e[L+176+76>>2]=1,O=E*m+ +i[a+48>>2],z=D*m+ +i[a+52>>2],Y=N*m+ +i[a+56>>2],e[L+44>>2]=e[a>>2],e[L+44+4>>2]=e[a+4>>2],e[L+44+8>>2]=e[a+8>>2],e[L+44+12>>2]=e[a+12>>2],e[L+44+16>>2]=e[a+16>>2],e[L+44+16+4>>2]=e[a+16+4>>2],e[L+44+16+8>>2]=e[a+16+8>>2],e[L+44+16+12>>2]=e[a+16+12>>2],e[L+44+32>>2]=e[a+32>>2],e[L+44+32+4>>2]=e[a+32+4>>2],e[L+44+32+8>>2]=e[a+32+8>>2],e[L+44+32+12>>2]=e[a+32+12>>2],i[L+44+48>>2]=O,i[L+44+52>>2]=z,i[L+44+56>>2]=Y,i[L+44+60>>2]=0,e[L+44+64>>2]=e[l>>2],e[L+44+64+4>>2]=e[l+4>>2],e[L+44+64+8>>2]=e[l+8>>2],e[L+44+64+12>>2]=e[l+12>>2],e[L+44+80>>2]=e[l+16>>2],e[L+44+80+4>>2]=e[l+16+4>>2],e[L+44+80+8>>2]=e[l+16+8>>2],e[L+44+80+12>>2]=e[l+16+12>>2],e[L+44+96>>2]=e[l+32>>2],e[L+44+96+4>>2]=e[l+32+4>>2],e[L+44+96+8>>2]=e[l+32+8>>2],e[L+44+96+12>>2]=e[l+32+12>>2],e[L+44+112>>2]=e[l+48>>2],e[L+44+112+4>>2]=e[l+48+4>>2],e[L+44+112+8>>2]=e[l+48+8>>2],e[L+44+112+12>>2]=e[l+48+12>>2],i[L+44+128>>2]=0xde0b6b000000000,e[L>>2]=6968,A[L+40>>0]=0,i[L+176+4>>2]=-E,i[L+176+8>>2]=-D,i[L+176+12>>2]=-N,i[L+176+16>>2]=0,l1(L+176|0,L+44|0,L,d,0),m=m-+i[L+36>>2],t=A[L+40>>0]|0,t<<24>>24&&(z=+i[L+24>>2]-D*m,Y=+i[L+28>>2]-N*m,i[_>>2]=+i[L+20>>2]-E*m,i[_+4>>2]=z,i[_+8>>2]=Y,i[_+12>>2]=0,e[h>>2]=e[L+20>>2],e[h+4>>2]=e[L+20+4>>2],e[h+8>>2]=e[L+20+8>>2],e[h+12>>2]=e[L+20+12>>2],e[u>>2]=k,e[u+4>>2]=g,e[u+8>>2]=S,i[u+12>>2]=B),u=t<<24>>24!=0,H=L,u|0}function Qf(){A[19864]|0||(A[19864]=1,e[5047]=0,e[5048]=-2147483648,e[5049]=-1082130432,i[5050]=0,e[5051]=1060716128,e[5052]=-1090087446,e[5053]=-1092290076,i[5054]=0,e[5055]=-1098022214,e[5056]=-1084636126,e[5057]=-1092290076,i[5058]=0,e[5059]=-1083901670,e[5060]=-2147483648,e[5061]=-1092290177,i[5062]=0,e[5063]=-1098022214,e[5064]=1062847522,e[5065]=-1092290043,i[5066]=0,e[5067]=1060716128,e[5068]=1057396202,e[5069]=-1092290076,i[5070]=0,e[5071]=1049461434,e[5072]=-1084636126,e[5073]=1055193605,i[5074]=0,e[5075]=-1086767520,e[5076]=-1090087446,e[5077]=1055193572,i[5078]=0,e[5079]=-1086767520,e[5080]=1057396202,e[5081]=1055193572,i[5082]=0,e[5083]=1049461434,e[5084]=1062847522,e[5085]=1055193572,i[5086]=0,e[5087]=1063581978,e[5088]=0,e[5089]=1055193471,i[5090]=0,e[5091]=-2147483648,e[5092]=0,e[5093]=1065353216,i[5094]=0,e[5095]=1054458864,e[5096]=-1096927567,e[5097]=-1084636042,i[5098]=0,e[5099]=-1104782626,e[5100]=-1090519208,e[5101]=-1084636042,i[5102]=0,e[5103]=1049007812,e[5104]=-1085334679,e[5105]=-1090087228,i[5106]=0,e[5107]=1054458864,e[5108]=1050556081,e[5109]=-1084636042,i[5110]=0,e[5111]=1062847505,e[5112]=-2147483648,e[5113]=-1090087262,i[5114]=0,e[5115]=-1090087362,e[5116]=-2147483648,e[5117]=-1084636076,i[5118]=0,e[5119]=-1087361736,e[5120]=-1090519141,e[5121]=-1090087262,i[5122]=0,e[5123]=-1104782626,e[5124]=1056964440,e[5125]=-1084636042,i[5126]=0,e[5127]=-1087361736,e[5128]=1056964507,e[5129]=-1090087262,i[5130]=0,e[5131]=1049007812,e[5132]=1062148969,e[5133]=-1090087228,i[5134]=0,e[5135]=1064532105,e[5136]=1050556148,e[5137]=0,i[5138]=0,e[5139]=1064532105,e[5140]=-1096927500,e[5141]=0,i[5142]=0,e[5143]=1058437413,e[5144]=-1085334595,e[5145]=0,i[5146]=0,e[5147]=0,e[5148]=-1082130432,e[5149]=0,i[5150]=0,e[5151]=-1089046235,e[5152]=-1085334595,e[5153]=0,i[5154]=0,e[5155]=-1082951543,e[5156]=-1096927500,e[5157]=-2147483648,i[5158]=0,e[5159]=-1082951543,e[5160]=1050556148,e[5161]=-2147483648,i[5162]=0,e[5163]=-1089046235,e[5164]=1062149053,e[5165]=-2147483648,i[5166]=0,e[5167]=-2147483648,e[5168]=1065353216,e[5169]=-2147483648,i[5170]=0,e[5171]=1058437413,e[5172]=1062149053,e[5173]=-2147483648,i[5174]=0,e[5175]=1060121912,e[5176]=-1090519141,e[5177]=1057396386,i[5178]=0,e[5179]=-1098475836,e[5180]=-1085334679,e[5181]=1057396420,i[5182]=0,e[5183]=-1084636143,e[5184]=0,e[5185]=1057396386,i[5186]=0,e[5187]=-1098475836,e[5188]=1062148969,e[5189]=1057396420,i[5190]=0,e[5191]=1060121912,e[5192]=1056964507,e[5193]=1057396386,i[5194]=0,e[5195]=1057396286,e[5196]=0,e[5197]=1062847572,i[5198]=0,e[5199]=1042701022,e[5200]=-1090519208,e[5201]=1062847606,i[5202]=0,e[5203]=-1093024784,e[5204]=-1096927567,e[5205]=1062847606,i[5206]=0,e[5207]=-1093024784,e[5208]=1050556081,e[5209]=1062847606,i[5210]=0,e[5211]=1042701022,e[5212]=1056964440,e[5213]=1062847606,i[5214]=0)}function VK(t){t=t|0,ye(t)}function zK(t,n,s){t=t|0,n=n|0,s=s|0}function WK(t,n,s){t=t|0,n=n|0,s=s|0}function HK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2],e[t+20>>2]=e[s>>2],e[t+20+4>>2]=e[s+4>>2],e[t+20+8>>2]=e[s+8>>2],e[t+20+12>>2]=e[s+12>>2],i[t+36>>2]=o,A[t+40>>0]=1}function k6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0;return s=e[t+748>>2]|0,(s|0)!=4?(e[t+748>>2]=s+1,k=s,B=(k|0)<0,k=B?0:k,t=t+4+(k*184|0)|0,Rr(t|0,n|0,184)|0,k|0):(F=+i[n+80>>2],N=+i[t+84>>2],D=N<F?N:F,E=+i[t+268>>2],M=E<D?E:D,w=+i[t+452>>2],B=+i[t+636>>2]<(w<M?w:M),s=B?3:w<M?2:E<D?1:(N<F^1)<<31>>31,F=+i[n>>2],s?(o=+i[t+188>>2],S=+i[n+4>>2],d=+i[t+192>>2],u=+i[n+8>>2],_=+i[t+196>>2],g=+i[t+556>>2],D=+i[t+372>>2],w=+i[t+560>>2],N=+i[t+376>>2],E=+i[t+564>>2],m=+i[t+380>>2],l=(i[Z>>2]=((F-o)*(w-N)-(S-d)*(g-D))*((F-o)*(w-N)-(S-d)*(g-D))+(((S-d)*(E-m)-(u-_)*(w-N))*((S-d)*(E-m)-(u-_)*(w-N))+((u-_)*(g-D)-(F-o)*(E-m))*((u-_)*(g-D)-(F-o)*(E-m))),e[Z>>2]|0),(s|0)==1?(h=+i[t+8>>2],C=+i[t+12>>2],M=w,w=+i[t+4>>2],a=0,k=7):(M=w,k=6)):(o=+i[t+188>>2],d=+i[t+192>>2],_=+i[t+196>>2],S=+i[n+4>>2],u=+i[n+8>>2],g=+i[t+556>>2],D=+i[t+372>>2],M=+i[t+560>>2],N=+i[t+376>>2],E=+i[t+564>>2],m=+i[t+380>>2],l=0,k=6),(k|0)==6&&(w=+i[t+4>>2],h=+i[t+8>>2],z=S-h,C=+i[t+12>>2],V=u-C,U=g-D,O=M-N,L=E-m,a=(i[Z>>2]=((F-w)*O-z*U)*((F-w)*O-z*U)+((z*L-V*O)*(z*L-V*O)+(V*U-(F-w)*L)*(V*U-(F-w)*L)),e[Z>>2]|0),(s|0)==2?(M=D,g=N,s=0,k=8):k=7),(k|0)==7&&(O=F-w,Y=S-h,U=u-C,V=g-o,L=M-d,z=E-_,s=(i[Z>>2]=(O*L-Y*V)*(O*L-Y*V)+((Y*z-U*L)*(Y*z-U*L)+(U*V-O*z)*(U*V-O*z)),e[Z>>2]|0),B?o=0:(M=D,g=N,k=8)),(k|0)==8&&(Y=F-w,U=S-h,O=u-C,z=M-o,V=g-d,o=m-_,o=(Y*V-U*z)*(Y*V-U*z)+((U*o-O*V)*(U*o-O*V)+(O*z-Y*o)*(O*z-Y*o))),Y=+ht((e[Z>>2]=l,+ +i[Z>>2])),O=+ht((e[Z>>2]=a,+ +i[Z>>2])),U=+ht((e[Z>>2]=s,+ +i[Z>>2])),L=+ht(+o),z=Y>-0xde0b6b000000000?Y:-0xde0b6b000000000,V=O>z?O:z,k=L>(U>V?U:V)?3:U>V?2:O>z?1:(Y>-0xde0b6b000000000^1)<<31>>31,B=(k|0)<0,k=B?0:k,t=t+4+(k*184|0)|0,Rr(t|0,n|0,184)|0,k|0)}function m2(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;if(o=e[t+748>>2]|0,!((o|0)<=0)){do _=o,o=o+-1|0,S=+i[t+4+(o*184|0)>>2],C=+i[t+4+(o*184|0)+4>>2],a=+i[t+4+(o*184|0)+8>>2],g=S*+i[n>>2]+C*+i[n+4>>2]+a*+i[n+8>>2]+ +i[n+48>>2],d=S*+i[n+16>>2]+C*+i[n+20>>2]+a*+i[n+24>>2]+ +i[n+52>>2],a=S*+i[n+32>>2]+C*+i[n+36>>2]+a*+i[n+40>>2]+ +i[n+56>>2],i[t+4+(o*184|0)+48>>2]=g,i[t+4+(o*184|0)+52>>2]=d,i[t+4+(o*184|0)+56>>2]=a,i[t+4+(o*184|0)+60>>2]=0,C=+i[t+4+(o*184|0)+16>>2],S=+i[t+4+(o*184|0)+20>>2],l=+i[t+4+(o*184|0)+24>>2],m=C*+i[s>>2]+S*+i[s+4>>2]+l*+i[s+8>>2]+ +i[s+48>>2],h=C*+i[s+16>>2]+S*+i[s+20>>2]+l*+i[s+24>>2]+ +i[s+52>>2],l=C*+i[s+32>>2]+S*+i[s+36>>2]+l*+i[s+40>>2]+ +i[s+56>>2],i[t+4+(o*184|0)+32>>2]=m,i[t+4+(o*184|0)+36>>2]=h,i[t+4+(o*184|0)+40>>2]=l,i[t+4+(o*184|0)+44>>2]=0,i[t+4+(o*184|0)+80>>2]=(g-m)*+i[t+4+(o*184|0)+64>>2]+(d-h)*+i[t+4+(o*184|0)+68>>2]+(a-l)*+i[t+4+(o*184|0)+72>>2],u=t+4+(o*184|0)+148|0,e[u>>2]=(e[u>>2]|0)+1;while((_|0)>1);if(o=e[t+748>>2]|0,!((o|0)<=0))for(s=o,u=o;_=u,u=u+-1|0,n=t+4+(u*184|0)|0,a=+i[t+4+(u*184|0)+80>>2],l=+i[t+752>>2],a<=l?(g=+i[t+4+(u*184|0)+32>>2]-(+i[t+4+(u*184|0)+48>>2]-+i[t+4+(u*184|0)+64>>2]*a),S=+i[t+4+(u*184|0)+36>>2]-(+i[t+4+(u*184|0)+52>>2]-a*+i[t+4+(u*184|0)+68>>2]),C=+i[t+4+(u*184|0)+40>>2]-(+i[t+4+(u*184|0)+56>>2]-a*+i[t+4+(u*184|0)+72>>2]),g*g+S*S+C*C>l*l?(o=s+-1|0,(o|0)==(u|0)?o=s:(Rr(n|0,t+4+(o*184|0)|0,184)|0,e[t+4+(o*184|0)+112>>2]=0,i[t+4+(o*184|0)+120>>2]=0,A[t+4+(o*184|0)+116>>0]=0,i[t+4+(o*184|0)+124>>2]=0,i[t+4+(o*184|0)+128>>2]=0,e[t+4+(o*184|0)+148>>2]=0,o=e[t+748>>2]|0),o=o+-1|0,e[t+748>>2]=o):o=s):(o=s+-1|0,(o|0)==(u|0)?o=s:(Rr(n|0,t+4+(o*184|0)|0,184)|0,e[t+4+(o*184|0)+112>>2]=0,i[t+4+(o*184|0)+120>>2]=0,A[t+4+(o*184|0)+116>>0]=0,i[t+4+(o*184|0)+124>>2]=0,i[t+4+(o*184|0)+128>>2]=0,e[t+4+(o*184|0)+148>>2]=0,o=e[t+748>>2]|0),o=o+-1|0,e[t+748>>2]=o),!((_|0)<=1);)s=o}}function Sh(t,n,s,o,a,l,u,_,h,d,m){t=t|0,n=n|0,s=+s,o=+o,a=+a,l=+l,u=+u,_=+_,h=h|0,d=d|0,m=+m;var g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0;return L=+i[t>>2]*l+ +i[t+16>>2]*u+ +i[t+32>>2]*_,k=+i[t+4>>2]*l+ +i[t+20>>2]*u+ +i[t+36>>2]*_,N=+i[t+8>>2]*l+ +i[t+24>>2]*u+ +i[t+40>>2]*_,D=+i[n>>2]*l+ +i[n+16>>2]*u+ +i[n+32>>2]*_,M=+i[n+4>>2]*l+ +i[n+20>>2]*u+ +i[n+36>>2]*_,C=+i[n+8>>2]*l+ +i[n+24>>2]*u+ +i[n+40>>2]*_,F=+i[h+80>>2],B=+i[h+84>>2],w=+i[h+88>>2],E=+i[d+80>>2],g=+i[d+84>>2],S=+i[d+88>>2],w=L*(L<0?-F:F)+k*(k<0?-B:B)+N*(N<0?-w:w),S=D*(D<0?-E:E)+M*(M<0?-g:g)+C*(C<0?-S:S),C=+i[h+96>>2],g=+i[d+96>>2],g=(w>C?w:C)+(S>g?S:g),!((s*l+o*u+a*_+g<g-(s*l+o*u+a*_)?s*l+o*u+a*_+g:g-(s*l+o*u+a*_))>m)|0}function F6(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=+l,u=u|0;var _=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0,ke=0,Ae=0;if(Ce=H,H=H+64|0,A[Ce+32+16>>0]=1,fe=Ce+32+12|0,e[fe>>2]=0,e[Ce+32+4>>2]=0,e[Ce+32+8>>2]=0,S=e[o+4>>2]|0,(S|0)>0){if(e[5637]=(e[5637]|0)+1,_=Xe((S<<4|3)+16|0)|0,_?(e[(_+4+15&-16)+-4>>2]=_,m=_+4+15&-16):m=0,_=e[Ce+32+4>>2]|0,(_|0)>0){h=0;do de=m+(h<<4)|0,ve=(e[fe>>2]|0)+(h<<4)|0,e[de>>2]=e[ve>>2],e[de+4>>2]=e[ve+4>>2],e[de+8>>2]=e[ve+8>>2],e[de+12>>2]=e[ve+12>>2],h=h+1|0;while((h|0)!=(_|0))}_=e[fe>>2]|0,_|0&&(A[Ce+32+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[_+-4>>2]|0)),e[fe>>2]=0),A[Ce+32+16>>0]=1,e[fe>>2]=m,e[Ce+32+8>>2]=S}if(_=e[n+28>>2]|0,(_|0)>0){for(ve=e[n+36>>2]|0,L=+i[s>>2],U=+i[s+4>>2],z=+i[s+8>>2],Y=+i[s+16>>2],$=+i[s+20>>2],w=+i[s+24>>2],C=+i[s+32>>2],g=+i[s+36>>2],d=+i[s+40>>2],M=+i[t>>2],E=+i[t+4>>2],D=+i[t+8>>2],de=-1,F=34028234663852886e22,m=0;N=+i[ve+(m*36|0)+20>>2],B=+i[ve+(m*36|0)+24>>2],k=+i[ve+(m*36|0)+28>>2],h=(N*L+B*U+k*z)*M+(N*Y+B*$+k*w)*E+(N*C+B*g+k*d)*D<F,de=h?m:de,m=m+1|0,(m|0)!=(_|0);)F=h?(N*L+B*U+k*z)*M+(N*Y+B*$+k*w)*E+(N*C+B*g+k*d)*D:F;if((de|0)>=0){if(te=e[ve+(de*36|0)+4>>2]|0,(te|0)>0)for(pe=ve+(de*36|0)+12|0,_e=ve+(de*36|0)+20|0,he=ve+(de*36|0)+24|0,me=ve+(de*36|0)+28|0,M=L,B=U,N=z,D=Y,E=$,W=0,ne=o,o=Ce+32|0;;){if(X=e[pe>>2]|0,_=e[X+(W<<2)>>2]|0,q=e[n+16>>2]|0,W=W+1|0,X=e[X+(((W|0)==(te|0)?0:W)<<2)>>2]|0,be=+i[q+(_<<4)>>2],Se=be-+i[q+(X<<4)>>2],we=+i[q+(_<<4)+4>>2],ge=we-+i[q+(X<<4)+4>>2],k=+i[q+(_<<4)+8>>2],U=k-+i[q+(X<<4)+8>>2],F=Se*M+ge*B+U*N,L=Se*D+ge*E+U*w,U=Se*C+ge*g+U*d,ge=+i[_e>>2],Se=+i[he>>2],$=+i[me>>2],z=M*ge+B*Se+N*$,Y=D*ge+E*Se+w*$,$=C*ge+g*Se+d*$,E=(be*M+we*B+k*N+ +i[s+48>>2])*-(L*$-U*Y)+(be*D+we*E+k*w+ +i[s+52>>2])*-(U*z-F*$)+(be*C+we*g+k*d+ +i[s+56>>2])*-(F*Y-L*z),X=ne,q=o,_=e[X+4>>2]|0,(_|0)>=2){for(m=e[X+12>>2]|0,g=+i[m+(_+-1<<4)>>2],C=+i[m+(_+-1<<4)+4>>2],w=+i[m+(_+-1<<4)+8>>2],d=g*-(L*$-U*Y)+C*-(U*z-F*$)+w*-(F*Y-L*z)-E,O=0;;){D=+i[m+(O<<4)>>2],N=+i[m+(O<<4)+4>>2],B=+i[m+(O<<4)+8>>2],V=e[m+(O<<4)+12>>2]|0,k=D*-(L*$-U*Y)+N*-(U*z-F*$)+B*-(F*Y-L*z)-E;do if(d<0)if(k<0){if(h=e[q+4>>2]|0,(h|0)==(e[q+8>>2]|0)&&(re=h|0?h<<1:1,(h|0)<(re|0))){if(re?(e[5637]=(e[5637]|0)+1,h=Xe((re<<4|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,S=h,h=e[q+4>>2]|0):S=0,(h|0)>0){m=0;do ke=S+(m<<4)|0,Ae=(e[q+12>>2]|0)+(m<<4)|0,e[ke>>2]=e[Ae>>2],e[ke+4>>2]=e[Ae+4>>2],e[ke+8>>2]=e[Ae+8>>2],e[ke+12>>2]=e[Ae+12>>2],m=m+1|0;while((m|0)!=(h|0))}h=e[q+12>>2]|0,h|0&&(A[q+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),e[q+12>>2]=0),A[q+16>>0]=1,e[q+12>>2]=S,e[q+8>>2]=re,h=e[q+4>>2]|0}Ae=e[q+12>>2]|0,i[Ae+(h<<4)>>2]=D,i[Ae+(h<<4)+4>>2]=N,i[Ae+(h<<4)+8>>2]=B,e[Ae+(h<<4)+12>>2]=V,e[q+4>>2]=(e[q+4>>2]|0)+1;break}else{if(d=d/(d-k),M=g+(D-g)*d,g=C+(N-C)*d,d=w+(B-w)*d,h=e[q+4>>2]|0,(h|0)==(e[q+8>>2]|0)&&(oe=h|0?h<<1:1,(h|0)<(oe|0))){if(oe?(e[5637]=(e[5637]|0)+1,h=Xe((oe<<4|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,S=h,h=e[q+4>>2]|0):S=0,(h|0)>0){m=0;do Ae=S+(m<<4)|0,ke=(e[q+12>>2]|0)+(m<<4)|0,e[Ae>>2]=e[ke>>2],e[Ae+4>>2]=e[ke+4>>2],e[Ae+8>>2]=e[ke+8>>2],e[Ae+12>>2]=e[ke+12>>2],m=m+1|0;while((m|0)!=(h|0))}h=e[q+12>>2]|0,h|0&&(A[q+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),e[q+12>>2]=0),A[q+16>>0]=1,e[q+12>>2]=S,e[q+8>>2]=oe,h=e[q+4>>2]|0}Ae=e[q+12>>2]|0,i[Ae+(h<<4)>>2]=M,i[Ae+(h<<4)+4>>2]=g,i[Ae+(h<<4)+8>>2]=d,i[Ae+(h<<4)+12>>2]=0,e[q+4>>2]=(e[q+4>>2]|0)+1;break}else if(k<0){if(d=d/(d-k),M=g+(D-g)*d,g=C+(N-C)*d,d=w+(B-w)*d,h=e[q+4>>2]|0,(h|0)==(e[q+8>>2]|0)&&(ae=h|0?h<<1:1,(h|0)<(ae|0))){if(ae?(e[5637]=(e[5637]|0)+1,h=Xe((ae<<4|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,S=h,h=e[q+4>>2]|0):S=0,(h|0)>0){m=0;do Ae=S+(m<<4)|0,ke=(e[q+12>>2]|0)+(m<<4)|0,e[Ae>>2]=e[ke>>2],e[Ae+4>>2]=e[ke+4>>2],e[Ae+8>>2]=e[ke+8>>2],e[Ae+12>>2]=e[ke+12>>2],m=m+1|0;while((m|0)!=(h|0))}h=e[q+12>>2]|0,h|0&&(A[q+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),e[q+12>>2]=0),A[q+16>>0]=1,e[q+12>>2]=S,e[q+8>>2]=ae,h=e[q+4>>2]|0}if(Ae=e[q+12>>2]|0,i[Ae+(h<<4)>>2]=M,i[Ae+(h<<4)+4>>2]=g,i[Ae+(h<<4)+8>>2]=d,i[Ae+(h<<4)+12>>2]=0,h=(e[q+4>>2]|0)+1|0,e[q+4>>2]=h,(h|0)==(e[q+8>>2]|0)&&(xe=h|0?h<<1:1,(h|0)<(xe|0))){if(xe?(e[5637]=(e[5637]|0)+1,h=Xe((xe<<4|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,S=h,h=e[q+4>>2]|0):S=0,(h|0)>0){m=0;do Ae=S+(m<<4)|0,ke=(e[q+12>>2]|0)+(m<<4)|0,e[Ae>>2]=e[ke>>2],e[Ae+4>>2]=e[ke+4>>2],e[Ae+8>>2]=e[ke+8>>2],e[Ae+12>>2]=e[ke+12>>2],m=m+1|0;while((m|0)!=(h|0))}h=e[q+12>>2]|0,h|0&&(A[q+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),e[q+12>>2]=0),A[q+16>>0]=1,e[q+12>>2]=S,e[q+8>>2]=xe,h=e[q+4>>2]|0}Ae=e[q+12>>2]|0,i[Ae+(h<<4)>>2]=D,i[Ae+(h<<4)+4>>2]=N,i[Ae+(h<<4)+8>>2]=B,e[Ae+(h<<4)+12>>2]=V,e[q+4>>2]=(e[q+4>>2]|0)+1}while(!1);if(h=O+1|0,(h|0)==(_|0))break;m=e[X+12>>2]|0,d=k,g=D,w=B,C=N,O=h}_=e[X+4>>2]|0}if((_|0)<0){(e[X+8>>2]|0)<0&&(h=e[X+12>>2]|0,h|0&&(A[X+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),e[X+12>>2]=0),A[X+16>>0]=1,e[X+12>>2]=0,e[X+8>>2]=0);do Ae=(e[X+12>>2]|0)+(_<<4)|0,e[Ae>>2]=e[Ce>>2],e[Ae+4>>2]=e[Ce+4>>2],e[Ae+8>>2]=e[Ce+8>>2],e[Ae+12>>2]=e[Ce+12>>2],_=_+1|0;while((_|0)!=0)}if(e[X+4>>2]=0,M=+i[s>>2],B=+i[s+4>>2],N=+i[s+8>>2],D=+i[s+16>>2],E=+i[s+20>>2],w=+i[s+24>>2],C=+i[s+32>>2],g=+i[s+36>>2],d=+i[s+40>>2],(W|0)>=(te|0)){m=_e,h=he,_=me,V=s+48|0,O=s+52|0,S=s+56|0;break}else Ae=o,o=ne,ne=Ae}else m=ve+(de*36|0)+20|0,h=ve+(de*36|0)+24|0,_=ve+(de*36|0)+28|0,V=s+48|0,O=s+52|0,S=s+56|0,M=L,B=U,N=z,D=Y,E=$;if(be=+i[m>>2],Se=+i[h>>2],ge=+i[_>>2],M=be*M+Se*B+ge*N,w=be*D+Se*E+ge*w,C=be*C+Se*g+ge*d,g=+i[ve+(de*36|0)+32>>2]-(M*+i[V>>2]+w*+i[O>>2]+C*+i[S>>2]),_=e[o+4>>2]|0,(_|0)>0){m=0;do h=e[o+12>>2]|0,d=g+(M*+i[h+(m<<4)>>2]+w*+i[h+(m<<4)+4>>2]+C*+i[h+(m<<4)+8>>2]),d=d<=a?a:d,d<=l&&(_=h+(m<<4)|0,e[Ce+16>>2]=e[_>>2],e[Ce+16+4>>2]=e[_+4>>2],e[Ce+16+8>>2]=e[_+8>>2],e[Ce+16+12>>2]=e[_+12>>2],D2[e[(e[u>>2]|0)+16>>2]&15](u,t,Ce+16|0,d),_=e[o+4>>2]|0),m=m+1|0;while((m|0)<(_|0))}}}if(_=e[fe>>2]|0,!_){H=Ce;return}A[Ce+32+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[_+-4>>2]|0)),e[fe>>2]=0,H=Ce}function jK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0;if(X=H,H=H+32|0,_=+i[n+16>>2],a=+i[n>>2],h=+i[n+20>>2],l=+i[n+4>>2],m=+i[n+24>>2],u=+i[n+8>>2],w=+i[n+32>>2],N=+i[n+36>>2],B=+i[n+40>>2],V=(h-l)*(B-u)-(m-u)*(N-l),O=(m-u)*(w-a)-(_-a)*(B-u),z=(_-a)*(N-l)-(h-l)*(w-a),i[X+16>>2]=V,i[X+16+4>>2]=O,i[X+16+8>>2]=z,i[X+16+12>>2]=0,g=+i[t+4>>2],M=+i[t+8>>2],k=+i[t+12>>2],Y=V*g+O*M+z*k-(a*V+l*O+u*z),S=+i[t+20>>2],E=+i[t+24>>2],F=+i[t+28>>2],Y*(V*S+O*E+z*F-(a*V+l*O+u*z))>=0){H=X;return}if($=e[t+36>>2]|0,Y<=0&($&1|0)!=0){H=X;return}if(q=Y/(Y-(V*S+O*E+z*F-(a*V+l*O+u*z))),!(q<+i[t+40>>2])){H=X;return}if(U=(V*V+O*O+z*z)*-9999999747378752e-20,L=a-(S*q+g*(1-q)),D=l-(E*q+M*(1-q)),C=u-(F*q+k*(1-q)),d=_-(S*q+g*(1-q)),h=h-(E*q+M*(1-q)),_=m-(F*q+k*(1-q)),!(z*(L*h-D*d)+(V*(D*_-C*h)+O*(C*d-L*_))>=U)){H=X;return}if(u=w-(S*q+g*(1-q)),l=N-(E*q+M*(1-q)),a=B-(F*q+k*(1-q)),!(z*(d*l-h*u)+(V*(h*a-_*l)+O*(_*u-d*a))>=U)){H=X;return}if(!(z*(D*u-L*l)+(V*(C*l-D*a)+O*(L*a-C*u))>=U)){H=X;return}if(a=1/+at(+(V*V+O*O+z*z)),i[X+16>>2]=V*a,i[X+16+4>>2]=O*a,i[X+16+8>>2]=z*a,n=e[(e[t>>2]|0)+12>>2]|0,Y<=0&($&2|0)==0){i[X>>2]=-(V*a),i[X+4>>2]=-(O*a),i[X+8>>2]=-(z*a),i[X+12>>2]=0,i[t+40>>2]=+Wh[n&3](t,X,q,s,o),H=X;return}else{i[t+40>>2]=+Wh[n&3](t,X+16|0,q,s,o),H=X;return}}function qK(t){t=t|0,ye(t)}function XK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0;if(h=H,H=H+688|0,e[h+568+8>>2]=0,e[h+568+12>>2]=-1,e[h+568+16>>2]=1065353216,e[h+568+20>>2]=1065353216,e[h+568+24>>2]=1065353216,i[h+568+28>>2]=0,e[h+568+56>>2]=0,e[h+568>>2]=3768,e[h+568+4>>2]=1,e[h+568+60>>2]=e[n>>2],e[h+568+60+4>>2]=e[n+4>>2],e[h+568+60+8>>2]=e[n+8>>2],e[h+568+60+12>>2]=e[n+12>>2],e[h+568+76>>2]=e[n+16>>2],e[h+568+76+4>>2]=e[n+16+4>>2],e[h+568+76+8>>2]=e[n+16+8>>2],e[h+568+76+12>>2]=e[n+16+12>>2],e[h+568+92>>2]=e[n+32>>2],e[h+568+92+4>>2]=e[n+32+4>>2],e[h+568+92+8>>2]=e[n+32+8>>2],e[h+568+92+12>>2]=e[n+32+12>>2],e[h+568+48>>2]=e[t+204>>2],i[h+208+308>>2]=9999999747378752e-20,A[h+208+332>>0]=0,e[h+200>>2]=6908,n=e[t+4>>2]|0,e[h+176>>2]=6816,e[h+176+4>>2]=h+208,e[h+176+8>>2]=h+200,e[h+176+12>>2]=n,e[h+176+16>>2]=h+568,e[h+176+20>>2]=0,e[h>>2]=3316,e[h+168>>2]=0,i[h+164>>2]=1,e[h+172>>2]=e[t+208>>2],Zf(h+176|0,t+8|0,t+72|0,t+136|0,t+136|0,h)|0&&(a=+i[h+132>>2],l=+i[h+136>>2],u=+i[h+140>>2],a*a+l*l+u*u>9999999747378752e-20)&&(_=+i[h+164>>2],_<+i[t+200>>2])&&(d=1/+at(+(a*a+l*l+u*u)),i[h+132>>2]=a*d,i[h+136>>2]=l*d,i[h+140>>2]=u*d,+Xm[e[(e[t>>2]|0)+12>>2]&3](t,h+132|0,h+148|0,_,s,o)),e[h+568>>2]=6248,s=e[h+568+56>>2]|0,!s){H=h;return}if(Vt[e[e[s>>2]>>2]&255](s),s=e[h+568+56>>2]|0,!s){H=h;return}e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),H=h}function $K(t){t=t|0,ye(t)}function B6(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0;Ke=H,H=H+128|0,ne=e[t+4>>2]|0,A[ne+312>>0]=0,e[ne>>2]=0,A[ne+356>>0]=1,e[ne+292>>2]=1566444395,e[ne+296>>2]=1566444395,e[ne+300>>2]=1566444395,i[ne+304>>2]=0,e[ne+336>>2]=0,e[ne+336+4>>2]=0,e[ne+336+8>>2]=0,e[ne+336+12>>2]=0,A[ne+336+16>>0]=0,A[ne+332>>0]=A[ne+332>>0]&-16,_=+i[n+48>>2],h=+i[n+52>>2],d=+i[n+56>>2],m=+i[o+48>>2],w=+i[o+52>>2],M=+i[o+56>>2],W=+i[n>>2],te=+i[n+4>>2],pe=+i[n+8>>2],_e=+i[n+16>>2],he=+i[n+20>>2],me=+i[n+24>>2],re=+i[n+32>>2],oe=+i[n+36>>2],ae=+i[n+40>>2],xe=+i[o>>2],ve=+i[o+4>>2],de=+i[o+8>>2],fe=+i[o+16>>2],Ce=+i[o+20>>2],we=+i[o+24>>2],be=+i[o+32>>2],Se=+i[o+36>>2],ge=+i[o+40>>2],Ae=+i[s+48>>2]-_-(+i[a+48>>2]-m),qe=+i[s+52>>2]-h-(+i[a+52>>2]-w),He=+i[s+56>>2]-d-(+i[a+56>>2]-M),ne=e[t+8>>2]|0,U=e[(e[ne>>2]|0)+64>>2]|0,i[Ke+96>>2]=W*-Ae+_e*-qe+re*-He,i[Ke+96+4>>2]=te*-Ae+he*-qe+oe*-He,i[Ke+96+8>>2]=pe*-Ae+me*-qe+ae*-He,i[Ke+96+12>>2]=0,f0[U&127](Ke+112|0,ne,Ke+96|0),q=+i[Ke+112>>2],X=+i[Ke+112+4>>2],$=+i[Ke+112+8>>2],E=q*+i[n>>2]+X*+i[n+4>>2]+$*+i[n+8>>2]+ +i[n+48>>2],F=q*+i[n+16>>2]+X*+i[n+20>>2]+$*+i[n+24>>2]+ +i[n+52>>2],$=q*+i[n+32>>2]+X*+i[n+36>>2]+$*+i[n+40>>2]+ +i[n+56>>2],ne=e[t+12>>2]|0,U=e[(e[ne>>2]|0)+64>>2]|0,X=Ae*+i[o+4>>2]+qe*+i[o+20>>2]+He*+i[o+36>>2],q=Ae*+i[o+8>>2]+qe*+i[o+24>>2]+He*+i[o+40>>2],i[Ke+64>>2]=Ae*+i[o>>2]+qe*+i[o+16>>2]+He*+i[o+32>>2],i[Ke+64+4>>2]=X,i[Ke+64+8>>2]=q,i[Ke+64+12>>2]=0,f0[U&127](Ke+80|0,ne,Ke+64|0),q=+i[Ke+80>>2],X=+i[Ke+80+4>>2],N=+i[Ke+80+8>>2],E=E-(q*+i[o>>2]+X*+i[o+4>>2]+N*+i[o+8>>2]+ +i[o+48>>2]),F=F-(q*+i[o+16>>2]+X*+i[o+20>>2]+N*+i[o+24>>2]+ +i[o+52>>2]),N=$-(q*+i[o+32>>2]+X*+i[o+36>>2]+N*+i[o+40>>2]+ +i[o+56>>2]);e:do if(E*E+F*F+N*N>9999999747378752e-20){for(X=_,_=0,ne=32,S=0,C=0,g=0,u=0,k=0;;){if(!ne)break e;if(ne=ne+-1|0,D=e[t+8>>2]|0,B=e[(e[D>>2]|0)+64>>2]|0,z=-E,Ze=-F,L=-N,i[Ke+32>>2]=W*z+_e*Ze+re*L,i[Ke+32+4>>2]=te*z+he*Ze+oe*L,i[Ke+32+8>>2]=pe*z+me*Ze+ae*L,i[Ke+32+12>>2]=0,f0[B&127](Ke+48|0,D,Ke+32|0),L=+i[Ke+48>>2],Ze=+i[Ke+48+4>>2],z=+i[Ke+48+8>>2],V=X+(W*L+te*Ze+pe*z),O=h+(_e*L+he*Ze+me*z),z=d+(re*L+oe*Ze+ae*z),D=e[t+12>>2]|0,B=e[(e[D>>2]|0)+64>>2]|0,i[Ke>>2]=xe*E+fe*F+be*N,i[Ke+4>>2]=ve*E+Ce*F+Se*N,i[Ke+8>>2]=de*E+we*F+ge*N,i[Ke+12>>2]=0,f0[B&127](Ke+16|0,D,Ke),Ze=+i[Ke+16>>2],L=+i[Ke+16+4>>2],q=+i[Ke+16+8>>2],Y=m+(xe*Ze+ve*L+de*q),$=w+(fe*Ze+Ce*L+we*q),q=M+(be*Ze+Se*L+ge*q),L=E*(V-Y)+F*(O-$)+N*(z-q),D=(i[Z>>2]=E,e[Z>>2]|0),B=(i[Z>>2]=F,e[Z>>2]|0),U=(i[Z>>2]=N,e[Z>>2]|0),_>1){u=0,ke=25;break}if(L>0){if(h=Ae*E+qe*F+He*N,h>=-14210854715202004e-30){u=0,ke=25;break}_=_-L/h,L=(1-_)*+i[n+48>>2]+_*+i[s+48>>2],h=(1-_)*+i[n+52>>2]+_*+i[s+52>>2],d=(1-_)*+i[n+56>>2]+_*+i[s+56>>2],m=(1-_)*+i[o+48>>2]+_*+i[a+48>>2],w=(1-_)*+i[o+52>>2]+_*+i[a+52>>2],M=(1-_)*+i[o+56>>2]+_*+i[a+56>>2],S=D,C=k,g=B,u=U}else L=X;B=e[t+4>>2]|0,k=e[B>>2]|0;t:do if((k|0)>0)for(E=+i[B+308>>2],D=0;;){if(F=V-Y-+i[B+4+(D<<4)>>2],X=O-$-+i[B+4+(D<<4)+4>>2],Ze=z-q-+i[B+4+(D<<4)+8>>2],D=D+1|0,F*F+X*X+Ze*Ze<=E){D=1;break t}if((D|0)>=(k|0)){D=0;break}}else D=0;while(!1);if(+i[B+304>>2]==0&&z-q==+i[B+300>>2]&&O-$==+i[B+296>>2]?V-Y==+i[B+292>>2]|D||(ke=17):D||(ke=17),(ke|0)==17&&(ke=0,i[B+292>>2]=V-Y,i[B+296>>2]=O-$,i[B+300>>2]=z-q,i[B+304>>2]=0,A[B+356>>0]=1,i[B+4+(k<<4)>>2]=V-Y,i[B+4+(k<<4)+4>>2]=O-$,i[B+4+(k<<4)+8>>2]=z-q,i[B+4+(k<<4)+12>>2]=0,U=e[B>>2]|0,i[B+84+(U<<4)>>2]=V,i[B+84+(U<<4)+4>>2]=O,i[B+84+(U<<4)+8>>2]=z,i[B+84+(U<<4)+12>>2]=0,U=e[B>>2]|0,i[B+164+(U<<4)>>2]=Y,i[B+164+(U<<4)+4>>2]=$,i[B+164+(U<<4)+8>>2]=q,i[B+164+(U<<4)+12>>2]=0,e[B>>2]=(e[B>>2]|0)+1,B=e[t+4>>2]|0),U=Jf(B)|0,E=+i[B+276>>2],F=+i[B+280>>2],N=+i[B+284>>2],!U)break e;if(E*E+F*F+N*N>9999999747378752e-20)X=L,k=e[B+288>>2]|0;else break e}if((ke|0)==25)return H=Ke,u|0}else _=0,S=0,C=0,g=0,u=0;while(!1);return i[l+164>>2]=_,_=(e[Z>>2]=S,+i[Z>>2]),h=(e[Z>>2]=g,+i[Z>>2]),m=(e[Z>>2]=u,+i[Z>>2]),_*_+h*h+m*m>=14210854715202004e-30?(Ze=1/+at(+(_*_+h*h+m*m)),i[l+132>>2]=_*Ze,i[l+136>>2]=h*Ze,i[l+140>>2]=m*Ze,e[l+144>>2]=C,d=_*Ze,h=h*Ze,_=m*Ze):(e[l+132>>2]=0,e[l+132+4>>2]=0,e[l+132+8>>2]=0,e[l+132+12>>2]=0,d=0,h=0,_=0),Ae*d+qe*h+He*_>=-+i[l+172>>2]?(t=0,H=Ke,t|0):(t=e[t+4>>2]|0,Jf(t)|0,ah(l+148|0,t+260|0,16)|0,t=1,H=Ke,t|0)}function Jf(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0;if(X=H,H=H+64|0,!(A[t+356>>0]|0))return t=A[t+312>>0]|0,t=t<<24>>24!=0,H=X,t|0;switch(e[t+336>>2]=0,e[t+336+4>>2]=0,e[t+336+8>>2]=0,e[t+336+12>>2]=0,A[t+336+16>>0]=0,a=A[t+332>>0]|0,A[t+332>>0]=a&-16,A[t+356>>0]=0,e[t>>2]|0){case 0:return A[t+312>>0]=0,t=0,t=t<<24>>24!=0,H=X,t|0;case 1:return e[t+244>>2]=e[t+84>>2],e[t+244+4>>2]=e[t+84+4>>2],e[t+244+8>>2]=e[t+84+8>>2],e[t+244+12>>2]=e[t+84+12>>2],e[t+260>>2]=e[t+164>>2],e[t+260+4>>2]=e[t+164+4>>2],e[t+260+8>>2]=e[t+164+8>>2],e[t+260+12>>2]=e[t+164+12>>2],z=+i[t+248>>2]-+i[t+264>>2],Y=+i[t+252>>2]-+i[t+268>>2],i[t+276>>2]=+i[t+244>>2]-+i[t+260>>2],i[t+280>>2]=z,i[t+284>>2]=Y,i[t+288>>2]=0,e[t+336>>2]=0,e[t+336+4>>2]=0,e[t+336+8>>2]=0,e[t+336+12>>2]=0,A[t+336+16>>0]=0,A[t+332>>0]=a&-16,i[t+336>>2]=1,i[t+340>>2]=0,i[t+344>>2]=0,i[t+348>>2]=0,A[t+312>>0]=1,t=1,t=t<<24>>24!=0,H=X,t|0;case 2:{s=+i[t+4>>2],o=+i[t+8>>2],l=+i[t+12>>2],u=+i[t+20>>2]-s,_=+i[t+24>>2]-o,h=+i[t+28>>2]-l;do if((0-s)*u+(0-o)*_+(0-l)*h>0)if((0-s)*u+(0-o)*_+(0-l)*h<u*u+_*_+h*h){A[t+332>>0]=a&-16|3,a=a&-16|3,o=((0-s)*u+(0-o)*_+(0-l)*h)/(u*u+_*_+h*h);break}else{A[t+332>>0]=a&-16|2,a=a&-16|2,o=1;break}else A[t+332>>0]=a&-16|1,a=a&-16|1,o=0;while(!1);return s=1-o,i[t+336>>2]=s,i[t+340>>2]=o,i[t+344>>2]=0,i[t+348>>2]=0,L=+i[t+84>>2],V=+i[t+88>>2],z=+i[t+92>>2],L=L+o*(+i[t+100>>2]-L),V=V+o*(+i[t+104>>2]-V),z=z+o*(+i[t+108>>2]-z),i[t+244>>2]=L,i[t+248>>2]=V,i[t+252>>2]=z,i[t+256>>2]=0,U=+i[t+164>>2],O=+i[t+168>>2],Y=+i[t+172>>2],U=U+o*(+i[t+180>>2]-U),O=O+o*(+i[t+184>>2]-O),Y=Y+o*(+i[t+188>>2]-Y),i[t+260>>2]=U,i[t+264>>2]=O,i[t+268>>2]=Y,i[t+272>>2]=0,i[t+276>>2]=L-U,i[t+280>>2]=V-O,i[t+284>>2]=z-Y,i[t+288>>2]=0,a&2?n=1:(e[t>>2]=1,n=0),a&1||(e[t>>2]=n,q=t+4+(n<<4)|0,e[t+4>>2]=e[q>>2],e[t+4+4>>2]=e[q+4>>2],e[t+4+8>>2]=e[q+8>>2],e[t+4+12>>2]=e[q+12>>2],q=t+84+(n<<4)|0,e[t+84>>2]=e[q>>2],e[t+84+4>>2]=e[q+4>>2],e[t+84+8>>2]=e[q+8>>2],e[t+84+12>>2]=e[q+12>>2],q=t+164+(n<<4)|0,e[t+164>>2]=e[q>>2],e[t+164+4>>2]=e[q+4>>2],e[t+164+8>>2]=e[q+8>>2],e[t+164+12>>2]=e[q+12>>2]),q=(!(s>=0)|!(o>=0))&1^1,A[t+312>>0]=q,t=q,t=t<<24>>24!=0,H=X,t|0}case 3:{e[X+16>>2]=0,e[X+16+4>>2]=0,e[X+16+8>>2]=0,e[X+16+12>>2]=0,hu(X+16|0,t+4|0,t+20|0,t+36|0,t+316|0),Y=+i[t+336>>2],s=+i[t+340>>2],o=+i[t+344>>2],L=+i[t+84>>2]*Y+ +i[t+100>>2]*s+ +i[t+116>>2]*o,V=Y*+i[t+88>>2]+s*+i[t+104>>2]+o*+i[t+120>>2],z=Y*+i[t+92>>2]+s*+i[t+108>>2]+o*+i[t+124>>2],i[t+244>>2]=L,i[t+248>>2]=V,i[t+252>>2]=z,i[t+256>>2]=0,U=+i[t+164>>2]*Y+ +i[t+180>>2]*s+ +i[t+196>>2]*o,O=Y*+i[t+168>>2]+s*+i[t+184>>2]+o*+i[t+200>>2],Y=Y*+i[t+172>>2]+s*+i[t+188>>2]+o*+i[t+204>>2],i[t+260>>2]=U,i[t+264>>2]=O,i[t+268>>2]=Y,i[t+272>>2]=0,i[t+276>>2]=L-U,i[t+280>>2]=V-O,i[t+284>>2]=z-Y,i[t+288>>2]=0,a=e[t>>2]|0;do if((a|0)>3)n=A[t+332>>0]|0,n&8||(e[t>>2]=a+-1,q=t+4+(a+-1<<4)|0,e[t+52>>2]=e[q>>2],e[t+52+4>>2]=e[q+4>>2],e[t+52+8>>2]=e[q+8>>2],e[t+52+12>>2]=e[q+12>>2],q=t+84+(a+-1<<4)|0,e[t+132>>2]=e[q>>2],e[t+132+4>>2]=e[q+4>>2],e[t+132+8>>2]=e[q+8>>2],e[t+132+12>>2]=e[q+12>>2],q=t+164+(a+-1<<4)|0,e[t+212>>2]=e[q>>2],e[t+212+4>>2]=e[q+4>>2],e[t+212+8>>2]=e[q+8>>2],e[t+212+12>>2]=e[q+12>>2],a=a+-1|0),q=21;else{if((a|0)>2){n=A[t+332>>0]|0,a=3,q=21;break}if((a|0)>1){n=A[t+332>>0]|0,a=2,q=25;break}(a|0)>0&&(m=A[t+332>>0]|0,d=1,q=29)}while(!1);return(q|0)==21&&(n&4||(a=a+-1|0,e[t>>2]=a,e[t+36>>2]=e[t+4+(a<<4)>>2],e[t+36+4>>2]=e[t+4+(a<<4)+4>>2],e[t+36+8>>2]=e[t+4+(a<<4)+8>>2],e[t+36+12>>2]=e[t+4+(a<<4)+12>>2],e[t+116>>2]=e[t+84+(a<<4)>>2],e[t+116+4>>2]=e[t+84+(a<<4)+4>>2],e[t+116+8>>2]=e[t+84+(a<<4)+8>>2],e[t+116+12>>2]=e[t+84+(a<<4)+12>>2],e[t+196>>2]=e[t+164+(a<<4)>>2],e[t+196+4>>2]=e[t+164+(a<<4)+4>>2],e[t+196+8>>2]=e[t+164+(a<<4)+8>>2],e[t+196+12>>2]=e[t+164+(a<<4)+12>>2]),q=25),(q|0)==25&&(n&2?(m=n,d=a,q=29):(d=a+-1|0,e[t>>2]=d,e[t+20>>2]=e[t+4+(d<<4)>>2],e[t+20+4>>2]=e[t+4+(d<<4)+4>>2],e[t+20+8>>2]=e[t+4+(d<<4)+8>>2],e[t+20+12>>2]=e[t+4+(d<<4)+12>>2],e[t+100>>2]=e[t+84+(d<<4)>>2],e[t+100+4>>2]=e[t+84+(d<<4)+4>>2],e[t+100+8>>2]=e[t+84+(d<<4)+8>>2],e[t+100+12>>2]=e[t+84+(d<<4)+12>>2],e[t+180>>2]=e[t+164+(d<<4)>>2],e[t+180+4>>2]=e[t+164+(d<<4)+4>>2],e[t+180+8>>2]=e[t+164+(d<<4)+8>>2],e[t+180+12>>2]=e[t+164+(d<<4)+12>>2],m=n,q=29)),(q|0)==29&&(m&1)==0&&(q=d+-1|0,e[t>>2]=q,e[t+4>>2]=e[t+4+(q<<4)>>2],e[t+4+4>>2]=e[t+4+(q<<4)+4>>2],e[t+4+8>>2]=e[t+4+(q<<4)+8>>2],e[t+4+12>>2]=e[t+4+(q<<4)+12>>2],e[t+84>>2]=e[t+84+(q<<4)>>2],e[t+84+4>>2]=e[t+84+(q<<4)+4>>2],e[t+84+8>>2]=e[t+84+(q<<4)+8>>2],e[t+84+12>>2]=e[t+84+(q<<4)+12>>2],e[t+164>>2]=e[t+164+(q<<4)>>2],e[t+164+4>>2]=e[t+164+(q<<4)+4>>2],e[t+164+8>>2]=e[t+164+(q<<4)+8>>2],e[t+164+12>>2]=e[t+164+(q<<4)+12>>2]),(s>=0?!(+i[t+336>>2]>=0):1)|!(o>=0)?n=0:n=+i[t+348>>2]>=0&1,A[t+312>>0]=n,t=n,t=t<<24>>24!=0,H=X,t|0}case 4:{e[X>>2]=0,e[X+4>>2]=0,e[X+8>>2]=0,e[X+12>>2]=0,S=X+16+16|0,A[S>>0]=0,e[t+316>>2]=0,e[t+316+4>>2]=0,e[t+316+8>>2]=0,e[t+316+12>>2]=0,A[t+332>>0]=a|15,W=+i[t+20>>2],xe=+i[t+4>>2],re=+i[t+24>>2],ne=+i[t+8>>2],pe=+i[t+28>>2],ve=+i[t+12>>2],me=+i[t+36>>2],oe=+i[t+40>>2],_e=+i[t+44>>2],te=+i[t+52>>2],ae=+i[t+56>>2],he=+i[t+60>>2],de=((re-ne)*(_e-ve)-(pe-ve)*(oe-ne))*(te-xe)+((pe-ve)*(me-xe)-(W-xe)*(_e-ve))*(ae-ne)+((W-xe)*(oe-ne)-(re-ne)*(me-xe))*(he-ve),a=de*de<999999905104687e-23?-1:((0-xe)*((re-ne)*(_e-ve)-(pe-ve)*(oe-ne))+(0-ne)*((pe-ve)*(me-xe)-(W-xe)*(_e-ve))+((W-xe)*(oe-ne)-(re-ne)*(me-xe))*(0-ve))*de<0&1,de=(pe-ve)*((me-xe)*(ae-ne)-(oe-ne)*(te-xe))+((W-xe)*((oe-ne)*(he-ve)-(_e-ve)*(ae-ne))+(re-ne)*((_e-ve)*(te-xe)-(me-xe)*(he-ve))),d=de*de<999999905104687e-23?-1:((0-ve)*((me-xe)*(ae-ne)-(oe-ne)*(te-xe))+((0-xe)*((oe-ne)*(he-ve)-(_e-ve)*(ae-ne))+(0-ne)*((_e-ve)*(te-xe)-(me-xe)*(he-ve))))*de<0&1,de=(_e-ve)*((re-ne)*(te-xe)-(W-xe)*(ae-ne))+((me-xe)*((pe-ve)*(ae-ne)-(re-ne)*(he-ve))+(oe-ne)*((W-xe)*(he-ve)-(pe-ve)*(te-xe))),m=de*de<999999905104687e-23?-1:((0-ve)*((re-ne)*(te-xe)-(W-xe)*(ae-ne))+((0-xe)*((pe-ve)*(ae-ne)-(re-ne)*(he-ve))+(0-ne)*((W-xe)*(he-ve)-(pe-ve)*(te-xe))))*de<0&1,ne=(ve-pe)*((oe-re)*(te-W)-(me-W)*(ae-re))+((xe-W)*((_e-pe)*(ae-re)-(oe-re)*(he-pe))+(ne-re)*((me-W)*(he-pe)-(_e-pe)*(te-W))),g=ne*ne<999999905104687e-23?-1:((0-pe)*((oe-re)*(te-W)-(me-W)*(ae-re))+((0-W)*((_e-pe)*(ae-re)-(oe-re)*(he-pe))+(0-re)*((me-W)*(he-pe)-(_e-pe)*(te-W))))*ne<0&1;do if((d|a|m|g|0)<0)A[t+352>>0]=1,n=t+312|0,q=70;else{if(!(d|a|m|g)){if(A[t+352>>0]|0){n=t+312|0,q=70;break}A[t+312>>0]=1,e[t+276>>2]=0,e[t+276+4>>2]=0,e[t+276+8>>2]=0,e[t+276+12>>2]=0,n=1;break}(a|0)!=0&&(hu(X,t+4|0,t+20|0,t+36|0,X+16|0),s=+i[X+16>>2],o=+i[X+16+4>>2],l=+i[X+16+8>>2],u=s-+i[X>>2],_=o-+i[X+4>>2],h=l-+i[X+8>>2],u*u+_*_+h*h<34028234663852886e22)?(fe=e[X+16+12>>2]|0,i[t+316>>2]=s,i[t+320>>2]=o,i[t+324>>2]=l,e[t+328>>2]=fe,fe=A[S>>0]|0,A[t+332>>0]=fe&1|A[t+332>>0]&-16|fe&2|fe&4,fe=e[X+16+24>>2]|0,a=e[X+16+28>>2]|0,e[t+336>>2]=e[X+16+20>>2],e[t+340>>2]=fe,e[t+344>>2]=a,i[t+348>>2]=0,s=u*u+_*_+h*h):s=34028234663852886e22,(d|0)!=0&&(hu(X,t+4|0,t+36|0,t+52|0,X+16|0),C=+i[X+16>>2],w=+i[X+16+4>>2],M=+i[X+16+8>>2],E=C-+i[X>>2],D=w-+i[X+4>>2],N=M-+i[X+8>>2],E*E+D*D+N*N<s)&&(d=e[X+16+12>>2]|0,i[t+316>>2]=C,i[t+320>>2]=w,i[t+324>>2]=M,e[t+328>>2]=d,d=A[S>>0]|0,A[t+332>>0]=d<<1&8|(d&1|A[t+332>>0]&-16|d<<1&4),d=e[X+16+24>>2]|0,fe=e[X+16+28>>2]|0,e[t+336>>2]=e[X+16+20>>2],i[t+340>>2]=0,e[t+344>>2]=d,e[t+348>>2]=fe,s=E*E+D*D+N*N),(m|0)!=0&&(hu(X,t+4|0,t+52|0,t+20|0,X+16|0),B=+i[X+16>>2],k=+i[X+16+4>>2],F=+i[X+16+8>>2],L=B-+i[X>>2],U=k-+i[X+4>>2],V=F-+i[X+8>>2],L*L+U*U+V*V<s)&&(m=e[X+16+12>>2]|0,i[t+316>>2]=B,i[t+320>>2]=k,i[t+324>>2]=F,e[t+328>>2]=m,m=A[S>>0]|0,A[t+332>>0]=m<<2&8|(m&1|A[t+332>>0]&-16|(m&255)>>>1&2),m=e[X+16+28>>2]|0,fe=e[X+16+24>>2]|0,e[t+336>>2]=e[X+16+20>>2],e[t+340>>2]=m,i[t+344>>2]=0,e[t+348>>2]=fe,s=L*L+U*U+V*V),g|0&&(hu(X,t+20|0,t+52|0,t+36|0,X+16|0),O=+i[X+16>>2],z=+i[X+16+4>>2],Y=+i[X+16+8>>2],xe=O-+i[X>>2],ve=z-+i[X+4>>2],de=Y-+i[X+8>>2],xe*xe+ve*ve+de*de<s)&&(g=e[X+16+12>>2]|0,i[t+316>>2]=O,i[t+320>>2]=z,i[t+324>>2]=Y,e[t+328>>2]=g,g=A[S>>0]|0,A[t+332>>0]=g&4|A[t+332>>0]&-16|g<<1&2|g<<2&8,g=e[X+16+20>>2]|0,S=e[X+16+28>>2]|0,fe=e[X+16+24>>2]|0,i[t+336>>2]=0,e[t+340>>2]=g,e[t+344>>2]=S,e[t+348>>2]=fe),he=+i[t+336>>2],me=+i[t+340>>2],de=+i[t+344>>2],s=+i[t+348>>2],re=+i[t+84>>2]*he+ +i[t+100>>2]*me+ +i[t+116>>2]*de+ +i[t+132>>2]*s,ae=he*+i[t+88>>2]+me*+i[t+104>>2]+de*+i[t+120>>2]+s*+i[t+136>>2],ve=he*+i[t+92>>2]+me*+i[t+108>>2]+de*+i[t+124>>2]+s*+i[t+140>>2],i[t+244>>2]=re,i[t+248>>2]=ae,i[t+252>>2]=ve,i[t+256>>2]=0,oe=+i[t+164>>2]*he+ +i[t+180>>2]*me+ +i[t+196>>2]*de+ +i[t+212>>2]*s,xe=he*+i[t+168>>2]+me*+i[t+184>>2]+de*+i[t+200>>2]+s*+i[t+216>>2],de=he*+i[t+172>>2]+me*+i[t+188>>2]+de*+i[t+204>>2]+s*+i[t+220>>2],i[t+260>>2]=oe,i[t+264>>2]=xe,i[t+268>>2]=de,i[t+272>>2]=0,i[t+276>>2]=re-oe,i[t+280>>2]=ae-xe,i[t+284>>2]=ve-de,i[t+288>>2]=0,a=e[t>>2]|0;do if((a|0)>3)n=A[t+332>>0]|0,n&8||(e[t>>2]=a+-1,q=t+4+(a+-1<<4)|0,e[t+52>>2]=e[q>>2],e[t+52+4>>2]=e[q+4>>2],e[t+52+8>>2]=e[q+8>>2],e[t+52+12>>2]=e[q+12>>2],q=t+84+(a+-1<<4)|0,e[t+132>>2]=e[q>>2],e[t+132+4>>2]=e[q+4>>2],e[t+132+8>>2]=e[q+8>>2],e[t+132+12>>2]=e[q+12>>2],q=t+164+(a+-1<<4)|0,e[t+212>>2]=e[q>>2],e[t+212+4>>2]=e[q+4>>2],e[t+212+8>>2]=e[q+8>>2],e[t+212+12>>2]=e[q+12>>2],a=a+-1|0),q=54;else{if((a|0)>2){n=A[t+332>>0]|0,a=3,q=54;break}if((a|0)>1){n=A[t+332>>0]|0,a=2,q=58;break}(a|0)>0&&(n=A[t+332>>0]|0,$=1,q=62)}while(!1);(q|0)==54&&(n&4||(a=a+-1|0,e[t>>2]=a,e[t+36>>2]=e[t+4+(a<<4)>>2],e[t+36+4>>2]=e[t+4+(a<<4)+4>>2],e[t+36+8>>2]=e[t+4+(a<<4)+8>>2],e[t+36+12>>2]=e[t+4+(a<<4)+12>>2],e[t+116>>2]=e[t+84+(a<<4)>>2],e[t+116+4>>2]=e[t+84+(a<<4)+4>>2],e[t+116+8>>2]=e[t+84+(a<<4)+8>>2],e[t+116+12>>2]=e[t+84+(a<<4)+12>>2],e[t+196>>2]=e[t+164+(a<<4)>>2],e[t+196+4>>2]=e[t+164+(a<<4)+4>>2],e[t+196+8>>2]=e[t+164+(a<<4)+8>>2],e[t+196+12>>2]=e[t+164+(a<<4)+12>>2]),q=58),(q|0)==58&&(n&2?($=a,q=62):($=a+-1|0,e[t>>2]=$,e[t+20>>2]=e[t+4+($<<4)>>2],e[t+20+4>>2]=e[t+4+($<<4)+4>>2],e[t+20+8>>2]=e[t+4+($<<4)+8>>2],e[t+20+12>>2]=e[t+4+($<<4)+12>>2],e[t+100>>2]=e[t+84+($<<4)>>2],e[t+100+4>>2]=e[t+84+($<<4)+4>>2],e[t+100+8>>2]=e[t+84+($<<4)+8>>2],e[t+100+12>>2]=e[t+84+($<<4)+12>>2],e[t+180>>2]=e[t+164+($<<4)>>2],e[t+180+4>>2]=e[t+164+($<<4)+4>>2],e[t+180+8>>2]=e[t+164+($<<4)+8>>2],e[t+180+12>>2]=e[t+164+($<<4)+12>>2],q=62)),(q|0)==62&&(n&1)==0&&(fe=$+-1|0,e[t>>2]=fe,e[t+4>>2]=e[t+4+(fe<<4)>>2],e[t+4+4>>2]=e[t+4+(fe<<4)+4>>2],e[t+4+8>>2]=e[t+4+(fe<<4)+8>>2],e[t+4+12>>2]=e[t+4+(fe<<4)+12>>2],e[t+84>>2]=e[t+84+(fe<<4)>>2],e[t+84+4>>2]=e[t+84+(fe<<4)+4>>2],e[t+84+8>>2]=e[t+84+(fe<<4)+8>>2],e[t+84+12>>2]=e[t+84+(fe<<4)+12>>2],e[t+164>>2]=e[t+164+(fe<<4)>>2],e[t+164+4>>2]=e[t+164+(fe<<4)+4>>2],e[t+164+8>>2]=e[t+164+(fe<<4)+8>>2],e[t+164+12>>2]=e[t+164+(fe<<4)+12>>2]),+i[t+336>>2]>=0&&+i[t+340>>2]>=0&&+i[t+344>>2]>=0?n=s>=0&1:n=0,A[t+312>>0]=n}while(!1);return(q|0)==70&&(A[n>>0]=0,n=0),fe=n,fe=fe<<24>>24!=0,H=X,fe|0}default:return A[t+312>>0]=0,fe=0,fe=fe<<24>>24!=0,H=X,fe|0}return 0}function U6(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,ot=0,mt=0,lt=0,pt=0,Nt=0,st=0,Te=0,kt=0,it=0,X0=0,Z0=0,t2=0,Kr=0,i2=0,Ji=0,Hi=0,vr=0,Zr=0,ni=0,Ei=0,U0=0,Qe=0;if(Qe=H,H=H+592|0,e[Qe+48>>2]=e[n>>2],e[Qe>>2]=e[n+64>>2],z=Qe+48+4|0,e[z>>2]=e[n+4>>2],e[Qe+4>>2]=e[n+68>>2],e[Qe+48+8>>2]=e[n+8>>2],e[Qe+8>>2]=e[n+72>>2],e[Qe+48+16>>2]=e[n+16>>2],e[Qe+16>>2]=e[n+80>>2],e[Qe+48+20>>2]=e[n+20>>2],e[Qe+20>>2]=e[n+84>>2],e[Qe+48+24>>2]=e[n+24>>2],e[Qe+24>>2]=e[n+88>>2],e[Qe+48+32>>2]=e[n+32>>2],e[Qe+32>>2]=e[n+96>>2],e[Qe+48+36>>2]=e[n+36>>2],e[Qe+36>>2]=e[n+100>>2],e[Qe+48+40>>2]=e[n+40>>2],e[Qe+40>>2]=e[n+104>>2],ni=e[t+4>>2]|0,Ze=+i[ni+32>>2],ut=+i[ni+36>>2],lt=+i[ni+40>>2],ot=+Tt[e[(e[ni>>2]|0)+48>>2]&15](ni),mt=+Tt[e[(e[ni>>2]|0)+48>>2]&15](ni),lt=(lt+ +Tt[e[(e[ni>>2]|0)+48>>2]&15](ni))*2,ni=e[t+8>>2]|0,Te=+i[ni+32>>2],kt=+i[ni+36>>2],Kr=+i[ni+40>>2],it=+Tt[e[(e[ni>>2]|0)+48>>2]&15](ni),st=+Tt[e[(e[ni>>2]|0)+48>>2]&15](ni),Kr=(Kr+ +Tt[e[(e[ni>>2]|0)+48>>2]&15](ni))*2,O=+i[n+112>>2]-+i[n+48>>2],pe=+i[n+116>>2]-+i[n+52>>2],_e=+i[n+120>>2]-+i[n+56>>2],ge=+i[Qe+48>>2],be=+i[Qe+48+16>>2],Se=+i[Qe+48+32>>2],we=+i[z>>2],ve=+i[Qe+48+20>>2],fe=+i[Qe+48+36>>2],qe=+i[Qe+48+8>>2],Ke=+i[Qe+48+24>>2],pt=+i[Qe+48+40>>2],i[Qe+484>>2]=(Ze+ot)*2*.5,i[Qe+484+4>>2]=(ut+mt)*2*.5,i[Qe+484+8>>2]=lt*.5,i[Qe+472>>2]=(Te+it)*2*.5,i[Qe+472+4>>2]=(kt+st)*2*.5,i[Qe+472+8>>2]=Kr*.5,Hi=+i[Qe>>2],X0=+i[Qe+16>>2],t2=+i[Qe+32>>2],Ji=+i[Qe+4>>2],Nt=+i[Qe+20>>2],Z0=+i[Qe+36>>2],i2=+i[Qe+8>>2],Ei=+i[Qe+24>>2],U0=+i[Qe+40>>2],k=+ht(+(ge*Hi+be*X0+Se*t2)),L=+ht(+(ge*Ji+be*Nt+Se*Z0)),me=+ht(+(ge*i2+be*Ei+Se*U0)),F=+ht(+(Hi*we+X0*ve+t2*fe)),U=+ht(+(Ji*we+Nt*ve+Z0*fe)),re=+ht(+(i2*we+Ei*ve+U0*fe)),oe=+ht(+(Hi*qe+X0*Ke+t2*pt)),ae=+ht(+(Ji*qe+Nt*Ke+Z0*pt)),V=+ht(+(i2*qe+Ei*Ke+U0*pt)),l=+ht(+(O*ge+pe*be+_e*Se))-(Kr*.5*me+((Ze+ot)*2*.5+k*((Te+it)*2*.5)+L*((kt+st)*2*.5))),l>0){H=Qe;return}if(l>-34028234663852886e22?(d=1,_=O*ge+pe*be+_e*Se<0&1,o=Qe+48|0):(d=0,_=0,o=0,l=-34028234663852886e22),u=+ht(+(O*we+pe*ve+_e*fe))-((ut+mt)*2*.5+F*((Te+it)*2*.5)+U*((kt+st)*2*.5)+re*(Kr*.5)),u>0){H=Qe;return}if(u>l&&(d=2,_=O*we+pe*ve+_e*fe<0&1,o=z,l=u),u=+ht(+(O*qe+pe*Ke+_e*pt))-(lt*.5+oe*((Te+it)*2*.5)+ae*((kt+st)*2*.5)+V*(Kr*.5)),u>0){H=Qe;return}if(u>l&&(d=3,_=O*qe+pe*Ke+_e*pt<0&1,o=Qe+48+8|0,l=u),u=+ht(+(O*Hi+pe*X0+_e*t2))-((Te+it)*2*.5+(k*((Ze+ot)*2*.5)+F*((ut+mt)*2*.5)+oe*(lt*.5))),u>0){H=Qe;return}if(u>l&&(d=4,_=O*Hi+pe*X0+_e*t2<0&1,o=Qe,l=u),u=+ht(+(O*Ji+pe*Nt+_e*Z0))-((kt+st)*2*.5+(L*((Ze+ot)*2*.5)+U*((ut+mt)*2*.5)+ae*(lt*.5))),u>0){H=Qe;return}if(u>l?(d=5,_=O*Ji+pe*Nt+_e*Z0<0&1,o=Qe+4|0):u=l,l=+ht(+(O*i2+pe*Ei+_e*U0))-(Kr*.5+(me*((Ze+ot)*2*.5)+re*((ut+mt)*2*.5)+V*(lt*.5))),l>0){H=Qe;return}if(l>u?(d=6,_=O*i2+pe*Ei+_e*U0<0&1,E=Qe+8|0):(E=o,l=u),u=(O*qe+pe*Ke+_e*pt)*(Hi*we+X0*ve+t2*fe)-(O*we+pe*ve+_e*fe)*(Hi*qe+X0*Ke+t2*pt),h=+ht(+u)-((oe+9999999747378752e-21)*((ut+mt)*2*.5)+(F+9999999747378752e-21)*(lt*.5)+(me+9999999747378752e-21)*((kt+st)*2*.5)+(L+9999999747378752e-21)*(Kr*.5)),h>11920928955078125e-23){H=Qe;return}if(g=(Hi*qe+X0*Ke+t2*pt)*(Hi*qe+X0*Ke+t2*pt)+0,D=(Hi*we+X0*ve+t2*fe)*(Hi*we+X0*ve+t2*fe),m=+at(+(D+g)),m>11920928955078125e-23&&h/m*1.0499999523162842>l?(t=(i[Z>>2]=0/m,e[Z>>2]|0),a=(i[Z>>2]=-(Hi*qe+X0*Ke+t2*pt)/m,e[Z>>2]|0),d=7,_=u<0&1,o=(i[Z>>2]=(Hi*we+X0*ve+t2*fe)/m,e[Z>>2]|0),E=0,l=h/m):(t=0,a=0,o=0),u=(O*qe+pe*Ke+_e*pt)*(Ji*we+Nt*ve+Z0*fe)-(O*we+pe*ve+_e*fe)*(Ji*qe+Nt*Ke+Z0*pt),h=+ht(+u)-((ae+9999999747378752e-21)*((ut+mt)*2*.5)+(U+9999999747378752e-21)*(lt*.5)+(me+9999999747378752e-21)*((Te+it)*2*.5)+(k+9999999747378752e-21)*(Kr*.5)),h>11920928955078125e-23){H=Qe;return}if(S=(Ji*qe+Nt*Ke+Z0*pt)*(Ji*qe+Nt*Ke+Z0*pt)+0,N=(Ji*we+Nt*ve+Z0*fe)*(Ji*we+Nt*ve+Z0*fe),m=+at(+(N+S)),m>11920928955078125e-23&&h/m*1.0499999523162842>l&&(t=(i[Z>>2]=0/m,e[Z>>2]|0),a=(i[Z>>2]=-(Ji*qe+Nt*Ke+Z0*pt)/m,e[Z>>2]|0),d=8,_=u<0&1,o=(i[Z>>2]=(Ji*we+Nt*ve+Z0*fe)/m,e[Z>>2]|0),E=0,l=h/m),u=(O*qe+pe*Ke+_e*pt)*(i2*we+Ei*ve+U0*fe)-(O*we+pe*ve+_e*fe)*(i2*qe+Ei*Ke+U0*pt),h=+ht(+u)-((V+9999999747378752e-21)*((ut+mt)*2*.5)+(re+9999999747378752e-21)*(lt*.5)+(L+9999999747378752e-21)*((Te+it)*2*.5)+(k+9999999747378752e-21)*((kt+st)*2*.5)),h>11920928955078125e-23){H=Qe;return}if(w=(i2*qe+Ei*Ke+U0*pt)*(i2*qe+Ei*Ke+U0*pt)+0,B=(i2*we+Ei*ve+U0*fe)*(i2*we+Ei*ve+U0*fe),m=+at(+(B+w)),m>11920928955078125e-23&&h/m*1.0499999523162842>l&&(t=(i[Z>>2]=0/m,e[Z>>2]|0),a=(i[Z>>2]=-(i2*qe+Ei*Ke+U0*pt)/m,e[Z>>2]|0),d=9,_=u<0&1,o=(i[Z>>2]=(i2*we+Ei*ve+U0*fe)/m,e[Z>>2]|0),E=0,l=h/m),u=(O*ge+pe*be+_e*Se)*(Hi*qe+X0*Ke+t2*pt)-(O*qe+pe*Ke+_e*pt)*(ge*Hi+be*X0+Se*t2),m=+ht(+u)-((oe+9999999747378752e-21)*((Ze+ot)*2*.5)+(k+9999999747378752e-21)*(lt*.5)+(re+9999999747378752e-21)*((kt+st)*2*.5)+(U+9999999747378752e-21)*(Kr*.5)),m>11920928955078125e-23){H=Qe;return}M=(ge*Hi+be*X0+Se*t2)*(ge*Hi+be*X0+Se*t2),h=+at(+(M+g));do if(h>11920928955078125e-23){if(!(m/h*1.0499999523162842>l))break;t=(i[Z>>2]=(Hi*qe+X0*Ke+t2*pt)/h,e[Z>>2]|0),a=(i[Z>>2]=0/h,e[Z>>2]|0),d=10,_=u<0&1,o=(i[Z>>2]=-(ge*Hi+be*X0+Se*t2)/h,e[Z>>2]|0),E=0,l=m/h}while(!1);if(u=(O*ge+pe*be+_e*Se)*(Ji*qe+Nt*Ke+Z0*pt)-(O*qe+pe*Ke+_e*pt)*(ge*Ji+be*Nt+Se*Z0),m=+ht(+u)-((ae+9999999747378752e-21)*((Ze+ot)*2*.5)+(L+9999999747378752e-21)*(lt*.5)+(re+9999999747378752e-21)*((Te+it)*2*.5)+(F+9999999747378752e-21)*(Kr*.5)),m>11920928955078125e-23){H=Qe;return}C=(ge*Ji+be*Nt+Se*Z0)*(ge*Ji+be*Nt+Se*Z0),h=+at(+(C+S));do if(h>11920928955078125e-23){if(!(m/h*1.0499999523162842>l))break;t=(i[Z>>2]=(Ji*qe+Nt*Ke+Z0*pt)/h,e[Z>>2]|0),a=(i[Z>>2]=0/h,e[Z>>2]|0),d=11,_=u<0&1,o=(i[Z>>2]=-(ge*Ji+be*Nt+Se*Z0)/h,e[Z>>2]|0),E=0,l=m/h}while(!1);if(u=(O*ge+pe*be+_e*Se)*(i2*qe+Ei*Ke+U0*pt)-(O*qe+pe*Ke+_e*pt)*(ge*i2+be*Ei+Se*U0),m=+ht(+u)-((V+9999999747378752e-21)*((Ze+ot)*2*.5)+(me+9999999747378752e-21)*(lt*.5)+(U+9999999747378752e-21)*((Te+it)*2*.5)+(F+9999999747378752e-21)*((kt+st)*2*.5)),m>11920928955078125e-23){H=Qe;return}g=(ge*i2+be*Ei+Se*U0)*(ge*i2+be*Ei+Se*U0),h=+at(+(g+w));do if(h>11920928955078125e-23){if(!(m/h*1.0499999523162842>l))break;t=(i[Z>>2]=(i2*qe+Ei*Ke+U0*pt)/h,e[Z>>2]|0),a=(i[Z>>2]=0/h,e[Z>>2]|0),d=12,_=u<0&1,o=(i[Z>>2]=-(ge*i2+be*Ei+Se*U0)/h,e[Z>>2]|0),E=0,l=m/h}while(!1);if(u=(O*we+pe*ve+_e*fe)*(ge*Hi+be*X0+Se*t2)-(O*ge+pe*be+_e*Se)*(Hi*we+X0*ve+t2*fe),m=+ht(+u)-((F+9999999747378752e-21)*((Ze+ot)*2*.5)+(k+9999999747378752e-21)*((ut+mt)*2*.5)+(V+9999999747378752e-21)*((kt+st)*2*.5)+(ae+9999999747378752e-21)*(Kr*.5)),m>11920928955078125e-23){H=Qe;return}h=+at(+(M+D+0));do if(h>11920928955078125e-23){if(!(m/h*1.0499999523162842>l))break;t=(i[Z>>2]=-(Hi*we+X0*ve+t2*fe)/h,e[Z>>2]|0),a=(i[Z>>2]=(ge*Hi+be*X0+Se*t2)/h,e[Z>>2]|0),d=13,_=u<0&1,o=(i[Z>>2]=0/h,e[Z>>2]|0),E=0,l=m/h}while(!1);if(u=(O*we+pe*ve+_e*fe)*(ge*Ji+be*Nt+Se*Z0)-(O*ge+pe*be+_e*Se)*(Ji*we+Nt*ve+Z0*fe),m=+ht(+u)-((U+9999999747378752e-21)*((Ze+ot)*2*.5)+(L+9999999747378752e-21)*((ut+mt)*2*.5)+(V+9999999747378752e-21)*((Te+it)*2*.5)+(oe+9999999747378752e-21)*(Kr*.5)),m>11920928955078125e-23){H=Qe;return}h=+at(+(C+N+0));do if(h>11920928955078125e-23){if(!(m/h*1.0499999523162842>l))break;t=(i[Z>>2]=-(Ji*we+Nt*ve+Z0*fe)/h,e[Z>>2]|0),a=(i[Z>>2]=(ge*Ji+be*Nt+Se*Z0)/h,e[Z>>2]|0),d=14,_=u<0&1,o=(i[Z>>2]=0/h,e[Z>>2]|0),E=0,l=m/h}while(!1);if(h=(O*we+pe*ve+_e*fe)*(ge*i2+be*Ei+Se*U0)-(O*ge+pe*be+_e*Se)*(i2*we+Ei*ve+U0*fe),m=+ht(+h)-((re+9999999747378752e-21)*((Ze+ot)*2*.5)+(me+9999999747378752e-21)*((ut+mt)*2*.5)+(ae+9999999747378752e-21)*((Te+it)*2*.5)+(oe+9999999747378752e-21)*((kt+st)*2*.5)),m>11920928955078125e-23){H=Qe;return}u=+at(+(g+B+0));do if(u>11920928955078125e-23){if(!(m/u*1.0499999523162842>l)){vr=55;break}t=(i[Z>>2]=-(i2*we+Ei*ve+U0*fe)/u,e[Z>>2]|0),a=(i[Z>>2]=(ge*i2+be*Ei+Se*U0)/u,e[Z>>2]|0),d=15,_=h<0&1,o=(i[Z>>2]=0/u,e[Z>>2]|0),l=m/u,vr=58}else vr=55;while(!1);do if((vr|0)==55){if(!d){H=Qe;return}if(!E){vr=58;break}o=e[E>>2]|0,t=e[E+16>>2]|0,ni=e[E+32>>2]|0,u=(e[Z>>2]=o,+i[Z>>2]),h=(e[Z>>2]=t,+i[Z>>2]),m=(e[Z>>2]=ni,+i[Z>>2]),a=_,_=ni,O=l}while(!1);if((vr|0)==58&&(ge=(e[Z>>2]=t,+i[Z>>2]),m=(e[Z>>2]=a,+i[Z>>2]),O=(e[Z>>2]=o,+i[Z>>2]),u=ge*+i[Qe+48>>2]+m*+i[z>>2]+O*qe,o=(i[Z>>2]=u,e[Z>>2]|0),h=ge*+i[Qe+48+16>>2]+m*+i[Qe+48+20>>2]+O*Ke,t=(i[Z>>2]=h,e[Z>>2]|0),O=ge*+i[Qe+48+32>>2]+m*+i[Qe+48+36>>2]+O*pt,m=O,a=_,_=(i[Z>>2]=O,e[Z>>2]|0),O=l),a?(o=(i[Z>>2]=-u,e[Z>>2]|0),Zr=(i[Z>>2]=-h,e[Z>>2]|0),ni=(i[Z>>2]=-m,e[Z>>2]|0)):(Zr=t,ni=_),(d|0)>6){V=(e[Z>>2]=o,+i[Z>>2]),U=(e[Z>>2]=Zr,+i[Z>>2]),L=(e[Z>>2]=ni,+i[Z>>2]),u=+i[Qe+48>>2],M=+i[Qe+48+16>>2],N=+i[Qe+48+32>>2],D=(V*u+U*M+L*N>0?1:-1)*((Ze+ot)*2*.5),F=+i[z>>2],k=+i[Qe+48+20>>2],l=+i[Qe+48+36>>2],w=(V*F+U*k+L*l>0?1:-1)*((ut+mt)*2*.5),B=(V*qe+U*Ke+L*pt>0?1:-1)*(lt*.5),F=+i[n+48>>2]+D*u+w*F+B*qe,k=+i[n+52>>2]+D*M+w*k+B*Ke,B=+i[n+56>>2]+D*N+w*l+B*pt,e[Qe+528>>2]=e[n+112>>2],e[Qe+528+4>>2]=e[n+112+4>>2],e[Qe+528+8>>2]=e[n+112+8>>2],l=(V*Hi+U*X0+L*t2>0?-1:1)*((Te+it)*2*.5),w=(V*Ji+U*Nt+L*Z0>0?-1:1)*((kt+st)*2*.5),N=+i[Qe+528+4>>2]+l*X0+w*Nt,D=+i[Qe+528+8>>2]+l*t2+w*Z0,M=(V*i2+U*Ei+L*U0>0?-1:1)*(Kr*.5),w=+i[Qe+528>>2]+l*Hi+w*Ji+M*i2,i[Qe+528>>2]=w,i[Qe+528+4>>2]=N+M*Ei,i[Qe+528+8>>2]=D+M*U0,ni=d+-7|0,l=+i[Qe+48+(((ni|0)/3|0)<<2)>>2],u=+i[Qe+48+(((ni|0)/3|0)+4<<2)>>2],h=+i[Qe+48+(((ni|0)/3|0)+8<<2)>>2],g=+i[Qe+(((ni|0)%3|0)<<2)>>2],S=+i[Qe+(((ni|0)%3|0)+4<<2)>>2],C=+i[Qe+(((ni|0)%3|0)+8<<2)>>2],m=1-(l*g+u*S+h*C)*(l*g+u*S+h*C),m<=9999999747378752e-20?l=0:l=(((w-F)*l+(N+M*Ei-k)*u+(D+M*U0-B)*h)*(l*g+u*S+h*C)-((w-F)*g+(N+M*Ei-k)*S+(D+M*U0-B)*C))*(1/m),i[Qe+528>>2]=w+l*g,i[Qe+528+4>>2]=N+M*Ei+l*S,i[Qe+528+8>>2]=D+M*U0+l*C,ni=e[(e[s>>2]|0)+16>>2]|0,i[Qe+456>>2]=-V,i[Qe+456+4>>2]=-U,i[Qe+456+8>>2]=-L,i[Qe+456+12>>2]=0,D2[ni&15](s,Qe+456|0,Qe+528|0,O),H=Qe;return}switch(ke=(d|0)<4,qe=(e[Z>>2]=o,+i[Z>>2]),ke?(_=Qe+48|0,Ce=Qe,he=Qe+484|0,E=Qe+472|0,ge=qe,a=ni,o=Zr,He=n+48|0,t=n+112|0):(o=(i[Z>>2]=(e[Z>>2]=Zr,-+i[Z>>2]),e[Z>>2]|0),_=Qe,Ce=Qe+48|0,he=Qe+472|0,E=Qe+484|0,ge=-qe,a=(i[Z>>2]=(e[Z>>2]=ni,-+i[Z>>2]),e[Z>>2]|0),He=n+112|0,t=n+48|0),Se=(e[Z>>2]=o,+i[Z>>2]),be=(e[Z>>2]=a,+i[Z>>2]),l=ge*+i[Ce>>2]+Se*+i[Ce+16>>2]+be*+i[Ce+32>>2],i[Qe+440>>2]=l,u=ge*+i[Ce+4>>2]+Se*+i[Ce+20>>2]+be*+i[Ce+36>>2],i[Qe+440+4>>2]=u,g=ge*+i[Ce+8>>2]+Se*+i[Ce+24>>2]+be*+i[Ce+40>>2],i[Qe+440+8>>2]=g,l=+ht(+l),u=+ht(+u),g=+ht(+g),o=u>l?u>g?1:2:l>g?0:2,xe=u>l?0:l>g&1,de=(u>l?u>g:l>g)?2:1,g=+i[E+(o<<2)>>2],l=+i[t>>2]-+i[He>>2],u=g*+i[Ce+(o<<2)>>2],h=+i[t+4>>2],Ae=He+4|0,m=+i[Ae>>2],+i[Qe+440+(o<<2)>>2]<0?(we=l+u,fe=h-m+g*+i[Ce+((o|4)<<2)>>2],ve=+i[t+8>>2]-+i[He+8>>2]+g*+i[Ce+((o|8)<<2)>>2]):(we=l-u,fe=h-m-g*+i[Ce+((o|4)<<2)>>2],ve=+i[t+8>>2]-+i[He+8>>2]-g*+i[Ce+((o|8)<<2)>>2]),W=(ke?-1:-4)+d|0,W|0){case 0:{o=1,a=2;break}case 1:{o=0,a=2;break}default:o=0,a=1}ne=_+(o<<2)|0,oe=+i[ne>>2],me=+i[ne+16>>2],re=+i[ne+32>>2],ae=we*oe+fe*me+ve*re,ne=_+(a<<2)|0,pe=+i[ne>>2],L=+i[ne+16>>2],U=+i[ne+32>>2],_e=we*pe+fe*L+ve*U,ne=Ce+(xe<<2)|0,O=+i[ne>>2],k=+i[ne+16>>2],F=+i[ne+32>>2],te=Ce+(de<<2)|0,V=+i[te>>2],N=+i[te+16>>2],B=+i[te+32>>2],Ei=+i[E+(xe<<2)>>2],U0=+i[E+(de<<2)>>2],Hi=(oe*V+me*N+re*B)*U0,U0=(pe*V+L*N+U*B)*U0,i[Qe+408>>2]=ae-(oe*O+me*k+re*F)*Ei-Hi,i[Qe+408+4>>2]=_e-(pe*O+L*k+U*F)*Ei-U0,i[Qe+408+8>>2]=ae-(oe*O+me*k+re*F)*Ei+Hi,i[Qe+408+12>>2]=_e-(pe*O+L*k+U*F)*Ei+U0,i[Qe+408+16>>2]=ae+(oe*O+me*k+re*F)*Ei+Hi,i[Qe+408+20>>2]=_e+(pe*O+L*k+U*F)*Ei+U0,i[Qe+408+24>>2]=ae+(oe*O+me*k+re*F)*Ei-Hi,i[Qe+408+28>>2]=_e+(pe*O+L*k+U*F)*Ei-U0,e[Qe+400>>2]=e[he+(o<<2)>>2],e[Qe+400+4>>2]=e[he+(a<<2)>>2],X=0,a=4,n=Qe+408|0,q=Qe+336|0;e:for(;;){Y=Qe+400+(X<<2)|0,$=1-X|0;do if((a|0)>0){for(t=0,z=n,o=q;;){if(_=z+(X<<2)|0,l=+i[_>>2],u=+i[Y>>2],u>-l){if(e[o>>2]=e[z>>2],e[o+4>>2]=e[z+4>>2],t=t+1|0,t&8|0){a=t,o=q;break e}l=+i[_>>2],u=+i[Y>>2],d=o+8|0}else d=o;if(E=(a|0)>1,_=z,z=z+8|0,o=E?z:n,h=+i[o+(X<<2)>>2],u>-l^u>-h)if(U0=+i[_+($<<2)>>2],i[d+($<<2)>>2]=U0+(-u-l)*((+i[o+($<<2)>>2]-U0)/(h-l)),i[d+(X<<2)>>2]=-+i[Y>>2],o=t+1|0,!(o&8))t=o,o=d+8|0;else{a=o,o=q;break e}else o=d;if(E)a=a+-1|0;else break}if(o=(q|0)==(Qe+336|0)?Qe+528|0:Qe+336|0,(t|0)<=0){a=0;break}for(z=t,a=0,n=q,t=o;;){if(_=n+(X<<2)|0,l=+i[_>>2],u=+i[Y>>2],l<u){if(e[t>>2]=e[n>>2],e[t+4>>2]=e[n+4>>2],a=a+1|0,a&8|0)break e;l=+i[_>>2],u=+i[Y>>2],t=t+8|0}if(E=(z|0)>1,d=n,n=n+8|0,_=E?n:q,h=+i[_+(X<<2)>>2],l<u^h<u)if(U0=+i[d+($<<2)>>2],i[t+($<<2)>>2]=U0+(u-l)*((+i[_+($<<2)>>2]-U0)/(h-l)),e[t+(X<<2)>>2]=e[Y>>2],a=a+1|0,!(a&8))t=t+8|0;else break e;if(E)z=z+-1|0;else break}}else o=(q|0)==(Qe+336|0)?Qe+528|0:Qe+336|0,a=0;while(!1);if(X=X+1|0,(X|0)>=2)break;n=o,q=(o|0)==(Qe+336|0)?Qe+528|0:Qe+336|0}if((o|0)!=(Qe+336|0)&&Rr(Qe+336|0,o|0,a<<3|0)|0,(a|0)>=1){D=1/((oe*O+me*k+re*F)*(pe*V+L*N+U*B)-(pe*O+L*k+U*F)*(oe*V+me*N+re*B)),M=+i[he+(W<<2)>>2],w=+i[ne>>2],g=+i[te>>2],S=+i[Ce+((xe|4)<<2)>>2],C=+i[Ce+((de|4)<<2)>>2],m=+i[Ce+((xe|8)<<2)>>2],h=+i[Ce+((de|8)<<2)>>2],t=0,o=0;do Ce=o<<1,l=+i[Qe+336+(Ce<<2)>>2],u=+i[Qe+336+((Ce|1)<<2)>>2],Ji=(pe*V+L*N+U*B)*D*(l-ae)-(oe*V+me*N+re*B)*D*(u-_e),U0=(oe*O+me*k+re*F)*D*(u-_e)-(pe*O+L*k+U*F)*D*(l-ae),Ce=t*3|0,Hi=we+Ji*w+U0*g,i[Qe+240+(Ce<<2)>>2]=Hi,Ei=fe+Ji*S+U0*C,i[Qe+240+(Ce+1<<2)>>2]=Ei,U0=ve+Ji*m+U0*h,i[Qe+240+(Ce+2<<2)>>2]=U0,U0=M-(ge*Hi+Se*Ei+be*U0),i[Qe+208+(t<<2)>>2]=U0,U0>=0&&(Ce=t<<1,i[Qe+336+(Ce<<2)>>2]=l,i[Qe+336+((Ce|1)<<2)>>2]=u,t=t+1|0),o=o+1|0;while((o|0)!=(a|0));e:do if((t|0)>=1){if(z=(t|0)<4?t:4,z=(z|0)<1?1:z,(t|0)<=(z|0)){if(ke){for(a=He+8|0,u=(e[Z>>2]=Zr,-+i[Z>>2]),l=(e[Z>>2]=ni,-+i[Z>>2]),o=0;;)if(ni=o*3|0,i[Qe+528>>2]=+i[Qe+240+(ni<<2)>>2]+ +i[He>>2],i[Qe+528+4>>2]=+i[Qe+240+(ni+1<<2)>>2]+ +i[Ae>>2],i[Qe+528+8>>2]=+i[Qe+240+(ni+2<<2)>>2]+ +i[a>>2],ni=e[(e[s>>2]|0)+16>>2]|0,i[Qe+192>>2]=-qe,i[Qe+192+4>>2]=u,i[Qe+192+8>>2]=l,i[Qe+192+12>>2]=0,D2[ni&15](s,Qe+192|0,Qe+528|0,-+i[Qe+208+(o<<2)>>2]),o=o+1|0,(o|0)==(t|0))break e}else for(a=He+8|0,u=(e[Z>>2]=Zr,+i[Z>>2]),l=(e[Z>>2]=ni,+i[Z>>2]),o=0;;)if(ni=o*3|0,U0=+i[Qe+208+(o<<2)>>2],i[Qe+528>>2]=+i[Qe+240+(ni<<2)>>2]+ +i[He>>2]-qe*U0,i[Qe+528+4>>2]=+i[Qe+240+(ni+1<<2)>>2]+ +i[Ae>>2]-u*U0,i[Qe+528+8>>2]=+i[Qe+240+(ni+2<<2)>>2]+ +i[a>>2]-l*U0,ni=e[(e[s>>2]|0)+16>>2]|0,i[Qe+176>>2]=-qe,i[Qe+176+4>>2]=-u,i[Qe+176+8>>2]=-l,i[Qe+176+12>>2]=0,D2[ni&15](s,Qe+176|0,Qe+528|0,-U0),o=o+1|0,(o|0)==(t|0))break e}t:do if((t|0)>1){for(a=1,_=0,u=+i[Qe+208>>2];l=+i[Qe+208+(a<<2)>>2],o=l>u,_=o?a:_,a=a+1|0,(a|0)!=(t|0);)u=o?l:u;switch(t|0){case 1:{o=Qe+144|0,a=Qe+144|0,t=1,vr=111;break t}case 2:{o=Qe+144|0,a=Qe+144|0,t=2,u=(+i[Qe+336>>2]+ +i[Qe+336+8>>2])*.5,l=(+i[Qe+336+4>>2]+ +i[Qe+336+12>>2])*.5,vr=116;break t}default:}o=t+-1|0,l=0,u=0,C=0,a=0;do Ce=a<<1,Ji=+i[Qe+336+(Ce<<2)>>2],Hi=+i[Qe+336+(Ce+3<<2)>>2],Ei=+i[Qe+336+(Ce+2<<2)>>2],U0=+i[Qe+336+((Ce|1)<<2)>>2],l=l+(Ji*Hi-Ei*U0),u=u+(Ji+Ei)*(Ji*Hi-Ei*U0),C=C+(Hi+U0)*(Ji*Hi-Ei*U0),a=a+1|0;while((a|0)!=(o|0));if(Ce=t<<1,h=+i[Qe+336+(Ce+-2<<2)>>2],m=+i[Qe+336+4>>2],g=+i[Qe+336>>2],S=+i[Qe+336+(Ce+-1<<2)>>2],l=l+(h*m-g*S),+ht(+l)>11920928955078125e-23?l=1/(l*3):l=0xde0b6b000000000,(t|0)>0){E=Qe+144|0,a=Qe+144|0,d=Qe+528|0,u=l*(u+(h*m-g*S)*(h+g)),l=l*(C+(h*m-g*S)*(S+m)),vr=119;break}o=Qe+144|0,a=0,E=t}else o=Qe+144|0,a=Qe+144|0,_=0,vr=111;while(!1);if((vr|0)==111&&(u=+i[Qe+336>>2],l=+i[Qe+336+4>>2],vr=116),(vr|0)==116&&(E=o,d=Qe+528|0,vr=119),(vr|0)==119){o=0;do vr=o<<1,i[Qe+528+(o<<2)>>2]=+gn(+(+i[Qe+336+((vr|1)<<2)>>2]-l),+(+i[Qe+336+(vr<<2)>>2]-u)),o=o+1|0;while((o|0)!=(t|0));o=0;do e[Qe+496+(o<<2)>>2]=1,o=o+1|0;while((o|0)!=(t|0));o=E,a=1,E=t}t=Qe+496+(_<<2)|0,e[t>>2]=0,e[o>>2]=_;t:do if((z|0)>1){if(m=+i[Qe+528+(_<<2)>>2],a)a=Qe+144+4|0,d=1;else for(o=Qe+144+4|0,a=1;;){if(e[o>>2]=_,e[t>>2]=0,a=a+1|0,(a|0)==(z|0))break t;o=o+4|0}for(;;){for(h=6.2831854820251465/+(z|0)*+(d|0)+m,h=h>3.1415927410125732?h+-6.2831854820251465:h,e[a>>2]=_,o=_,t=0,u=1e9;;){do if(!(e[Qe+496+(t<<2)>>2]|0))l=u;else{if(l=+ht(+(+i[Qe+528+(t<<2)>>2]-h)),l=l>3.1415927410125732?6.2831854820251465-l:l,!(l<u)){l=u;break}e[a>>2]=t,o=t}while(!1);if(t=t+1|0,(t|0)==(E|0))break;u=l}if(e[Qe+496+(o<<2)>>2]=0,d=d+1|0,(d|0)==(z|0))break;a=a+4|0}}while(!1);if((z|0)>0)if(a=He+8|0,u=(e[Z>>2]=Zr,+i[Z>>2]),l=(e[Z>>2]=ni,+i[Z>>2]),ke){o=0;do ni=e[Qe+144+(o<<2)>>2]|0,i[Qe+528>>2]=+i[Qe+240+(ni*3<<2)>>2]+ +i[He>>2],i[Qe+528+4>>2]=+i[Qe+240+((ni*3|0)+1<<2)>>2]+ +i[Ae>>2],i[Qe+528+8>>2]=+i[Qe+240+((ni*3|0)+2<<2)>>2]+ +i[a>>2],Zr=e[(e[s>>2]|0)+16>>2]|0,i[Qe+128>>2]=-qe,i[Qe+128+4>>2]=-u,i[Qe+128+8>>2]=-l,i[Qe+128+12>>2]=0,D2[Zr&15](s,Qe+128|0,Qe+528|0,-+i[Qe+208+(ni<<2)>>2]),o=o+1|0;while((o|0)<(z|0))}else{o=0;do Zr=e[Qe+144+(o<<2)>>2]|0,Ji=+i[Qe+240+(Zr*3<<2)>>2]+ +i[He>>2],i[Qe+528>>2]=Ji,Hi=+i[Qe+240+((Zr*3|0)+1<<2)>>2]+ +i[Ae>>2],i[Qe+528+4>>2]=Hi,Ei=+i[Qe+240+((Zr*3|0)+2<<2)>>2]+ +i[a>>2],i[Qe+528+8>>2]=Ei,ni=e[(e[s>>2]|0)+16>>2]|0,i[Qe+112>>2]=-qe,i[Qe+112+4>>2]=-u,i[Qe+112+8>>2]=-l,i[Qe+112+12>>2]=0,U0=+i[Qe+208+(Zr<<2)>>2],i[Qe+96>>2]=Ji-qe*U0,i[Qe+96+4>>2]=Hi-U0*u,i[Qe+96+8>>2]=Ei-U0*l,i[Qe+96+12>>2]=0,D2[ni&15](s,Qe+112|0,Qe+96|0,-U0),o=o+1|0;while((o|0)<(z|0))}}while(!1)}H=Qe}function YK(t){t=t|0;var n=0;e[t>>2]=3064,n=e[t+20>>2]|0,n|0&&(A[t+24>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+20>>2]=0),A[t+24>>0]=1,e[t+20>>2]=0,e[t+12>>2]=0,e[t+16>>2]=0}function KK(t){t=t|0;var n=0;if(e[t>>2]=3064,n=e[t+20>>2]|0,!n){ye(t);return}if(!(A[t+24>>0]|0)){ye(t);return}e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),ye(t)}function ZK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;return a=H,H=H+16|0,e[a>>2]=t,e[a+4>>2]=o,t=e[t+72+((e[(e[n+4>>2]|0)+4>>2]|0)*144|0)+(e[(e[s+4>>2]|0)+4>>2]<<2)>>2]|0,t=$2[e[(e[t>>2]|0)+8>>2]&31](t,a,n,s)|0,H=a,t|0}function QK(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;if(d=H,H=H+16|0,e[4989]=(e[4989]|0)+1,e[t+4>>2]&2?(o=e[n+192>>2]|0,m=+Vh[e[(e[o>>2]|0)+20>>2]&1](o,.019999999552965164),i[d+4>>2]=m,o=e[s+192>>2]|0,u=+Vh[e[(e[o>>2]|0)+20>>2]&1](o,.019999999552965164),i[d>>2]=u,o=m<u?d+4|0:d):o=6988,l=e[o>>2]|0,m=+i[n+184>>2],u=+i[s+184>>2],u=m<u?m:u,o=e[t+68>>2]|0,a=e[o+8>>2]|0,a)_=e[o+12>>2]|0,e[o+12>>2]=e[_>>2],e[o+8>>2]=a+-1;else{if(e[t+4>>2]&4|0)return t=0,H=d,t|0;e[5637]=(e[5637]|0)+1,o=Xe(791)|0,o?(e[(o+4+15&-16)+-4>>2]=o,_=o+4+15&-16):_=0}if(e[_>>2]=1025,e[_+116>>2]=0,A[_+120>>0]=0,o=_+124|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[_+300>>2]=0,A[_+304>>0]=0,o=_+308|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[_+484>>2]=0,A[_+488>>0]=0,o=_+492|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[_+668>>2]=0,A[_+672>>0]=0,o=_+676|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[_+740>>2]=n,e[_+744>>2]=s,e[_+748>>2]=0,e[_+752>>2]=l,i[_+756>>2]=u,n=_,o=e[t+12>>2]|0,e[_+768>>2]=o,(o|0)==(e[t+16>>2]|0)&&(h=o|0?o<<1:1,(o|0)<(h|0))){if(h?(e[5637]=(e[5637]|0)+1,o=Xe((h<<2|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,l=o,o=e[t+12>>2]|0):l=0,(o|0)>0){a=0;do e[l+(a<<2)>>2]=e[(e[t+20>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[t+20>>2]|0,a&&(A[t+24>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[t+12>>2]|0),e[t+20>>2]=0),A[t+24>>0]=1,e[t+20>>2]=l,e[t+16>>2]=h}return e[(e[t+20>>2]|0)+(o<<2)>>2]=n,e[t+12>>2]=o+1,t=_,H=d,t|0}function JK(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(e[4989]=(e[4989]|0)+-1,zt[e[(e[t>>2]|0)+20>>2]&127](t,n),o=e[n+768>>2]|0,s=(e[t+12>>2]|0)+-1|0,l=e[t+20>>2]|0,a=e[l+(o<<2)>>2]|0,e[l+(o<<2)>>2]=e[l+(s<<2)>>2],e[(e[t+20>>2]|0)+(s<<2)>>2]=a,e[(e[(e[t+20>>2]|0)+(o<<2)>>2]|0)+768>>2]=o,e[t+12>>2]=s,t=e[t+68>>2]|0,!!n){if(l=e[t+16>>2]|0,l>>>0<=n>>>0&&(l+(Rt(e[t>>2]|0,e[t+4>>2]|0)|0)|0)>>>0>n>>>0){e[n>>2]=e[t+12>>2],e[t+12>>2]=n,e[t+8>>2]=(e[t+8>>2]|0)+1;return}e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)}}function eZ(t,n){t=t|0,n=n|0,e[n+748>>2]=0}function tZ(t,n,s){t=t|0,n=n|0,s=s|0;e:do switch(e[n+216>>2]|0){case 2:case 5:{switch(e[s+216>>2]|0){case 2:case 5:{n=0;break}default:break e}return n|0}default:}while(!1);return!((e[n+260>>2]|0)!=0&&!(I0[e[(e[n>>2]|0)+12>>2]&31](n,s)|0))&&(!(e[s+260>>2]|0)||I0[e[(e[s>>2]|0)+12>>2]&31](s,n)|0)?(t=1,t|0):(t=0,t|0)}function iZ(t,n,s){return t=t|0,n=n|0,s=s|0,t=e[n+204>>2]|0,t&4|0||(n=e[s+204>>2]|0,n&4|0)?(s=0,s|0):t&3?(s=(n&3|0)==0,s|0):(s=1,s|0)}function nZ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;a=H,H=H+16|0,e[a>>2]=3136,e[a+4>>2]=s,e[a+8>>2]=t,f0[e[(e[n>>2]|0)+48>>2]&127](n,a,o),H=a}function rZ(t){t=t|0,ye(t)}function sZ(t,n){t=t|0,n=n|0;var s=0;return s=e[t+8>>2]|0,f0[e[s+60>>2]&127](n,s,e[t+4>>2]|0),0}function oZ(t){return t=t|0,e[t+12>>2]|0}function aZ(t,n){return t=t|0,n=n|0,e[(e[t+20>>2]|0)+(n<<2)>>2]|0}function cZ(t){return t=t|0,e[t+12>>2]|0?(t=e[t+20>>2]|0,t|0):(t=0,t|0)}function lZ(t){return t=t|0,e[t+68>>2]|0}function uZ(t){return t=t|0,e[t+68>>2]|0}function fZ(t,n){t=t|0,n=n|0;var s=0;return t=e[t+64>>2]|0,s=e[t+8>>2]|0,s|0?(n=e[t+12>>2]|0,e[t+12>>2]=e[n>>2],e[t+8>>2]=s+-1,n|0):(e[5637]=(e[5637]|0)+1,t=Xe(n+19|0)|0,t?(e[(t+4+15&-16)+-4>>2]=t,n=t+4+15&-16,n|0):(n=0,n|0))}function pZ(t,n){t=t|0,n=n|0;var s=0;if(t=e[t+64>>2]|0,!!n){if(s=e[t+16>>2]|0,s>>>0<=n>>>0&&(s+(Rt(e[t>>2]|0,e[t+4>>2]|0)|0)|0)>>>0>n>>>0){e[n>>2]=e[t+12>>2],e[t+12>>2]=n,e[t+8>>2]=(e[t+8>>2]|0)+1;return}e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)}}function _Z(t,n){t=t|0,n=n|0;var s=0,o=0;e[t>>2]=3064,e[t+4>>2]=2,A[t+24>>0]=1,e[t+20>>2]=0,e[t+12>>2]=0,e[t+16>>2]=0,e[t+28>>2]=4460,e[t+5256>>2]=n,e[t+60>>2]=70,e[t+64>>2]=Ct[e[(e[n>>2]|0)+12>>2]&127](n)|0,e[t+68>>2]=Ct[e[(e[n>>2]|0)+8>>2]&127](n)|0,n=0;do{s=0;do o=e[t+5256>>2]|0,e[t+72+(n*144|0)+(s<<2)>>2]=V0[e[(e[o>>2]|0)+16>>2]&63](o,n,s)|0,s=s+1|0;while((s|0)<36);n=n+1|0}while((n|0)<36)}function hZ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;if(h=H,H=H+80|0,l=e[e[t>>2]>>2]|0,u=e[e[t+4>>2]>>2]|0,!(V0[e[(e[n>>2]|0)+24>>2]&63](n,l,u)|0)){H=h;return}a=e[l+192>>2]|0,e[h+56>>2]=0,e[h+56+4>>2]=a,e[h+56+8>>2]=l,e[h+56+12>>2]=l+4,e[h+56+16>>2]=-1,e[h+56+20>>2]=-1,a=e[u+192>>2]|0,e[h+32>>2]=0,e[h+32+4>>2]=a,e[h+32+8>>2]=u,e[h+32+12>>2]=u+4,e[h+32+16>>2]=-1,e[h+32+20>>2]=-1,a=e[t+8>>2]|0,a?_=4:(a=$2[e[(e[n>>2]|0)+8>>2]&31](n,h+56|0,h+32|0,0)|0,e[t+8>>2]=a,a|0&&(_=4)),(_|0)==4&&(e[h>>2]=4460,e[h+4>>2]=0,e[h+8>>2]=h+56,e[h+12>>2]=h+32,(e[s+8>>2]|0)!=1?(o=+Oh[e[(e[a>>2]|0)+12>>2]&15](a,l,u,s,h),+i[s+12>>2]>o&&(i[s+12>>2]=o)):Qi[e[(e[a>>2]|0)+8>>2]&31](a,h+56|0,h+32|0,s,h)),H=h}function dZ(t){t=t|0;var n=0;e[t>>2]=3156,n=e[t+276>>2]|0,n|0&&(A[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+276>>2]=0),A[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,e[t+272>>2]=0}function mZ(t){t=t|0;var n=0;e[t>>2]=3156,n=e[t+276>>2]|0,n|0&&(A[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+276>>2]=0),A[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,e[t+272>>2]=0,e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function gZ(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+192>>2]=n,e[t+200>>2]=n}function xZ(t,n){t=t|0,n=n|0;var s=0,o=0;o=e[t+268>>2]|0;e:do if((o|0)>0)for(s=e[t+276>>2]|0,t=0;;){if((e[s+(t<<2)>>2]|0)==(n|0))break e;if(t=t+1|0,(t|0)>=(o|0)){t=o;break}}else t=o;while(!1);return(t|0)>=(o|0)|0}function yZ(t){return t=t|0,256}function O6(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return e[n+16>>2]=e[t+4>>2],e[n+20>>2]=e[t+8>>2],e[n+24>>2]=e[t+12>>2],e[n+28>>2]=e[t+16>>2],e[n+32>>2]=e[t+20>>2],e[n+36>>2]=e[t+24>>2],e[n+40>>2]=e[t+28>>2],e[n+44>>2]=e[t+32>>2],e[n+48>>2]=e[t+36>>2],e[n+52>>2]=e[t+40>>2],e[n+56>>2]=e[t+44>>2],e[n+60>>2]=e[t+48>>2],e[n+64>>2]=e[t+52>>2],e[n+68>>2]=e[t+56>>2],e[n+72>>2]=e[t+60>>2],e[n+76>>2]=e[t+64>>2],e[n+80>>2]=e[t+68>>2],e[n+84>>2]=e[t+72>>2],e[n+88>>2]=e[t+76>>2],e[n+92>>2]=e[t+80>>2],e[n+96>>2]=e[t+84>>2],e[n+100>>2]=e[t+88>>2],e[n+104>>2]=e[t+92>>2],e[n+108>>2]=e[t+96>>2],e[n+112>>2]=e[t+100>>2],e[n+116>>2]=e[t+104>>2],e[n+120>>2]=e[t+108>>2],e[n+124>>2]=e[t+112>>2],e[n+128>>2]=e[t+116>>2],e[n+132>>2]=e[t+120>>2],e[n+136>>2]=e[t+124>>2],e[n+140>>2]=e[t+128>>2],e[n+144>>2]=e[t+132>>2],e[n+148>>2]=e[t+136>>2],e[n+152>>2]=e[t+140>>2],e[n+156>>2]=e[t+144>>2],e[n+160>>2]=e[t+148>>2],e[n+164>>2]=e[t+152>>2],e[n+168>>2]=e[t+156>>2],e[n+172>>2]=e[t+160>>2],e[n+176>>2]=e[t+164>>2],e[n+180>>2]=e[t+168>>2],e[n+184>>2]=e[t+172>>2],e[n+188>>2]=e[t+176>>2],e[n+224>>2]=e[t+180>>2],e[n+192>>2]=e[t+184>>2],e[n>>2]=0,e[n+4>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+192>>2]|0)|0,e[n+8>>2]=0,e[n+228>>2]=e[t+204>>2],e[n+232>>2]=e[t+208>>2],e[n+236>>2]=e[t+212>>2],e[n+240>>2]=e[t+216>>2],e[n+196>>2]=e[t+220>>2],e[n+200>>2]=e[t+224>>2],e[n+204>>2]=e[t+232>>2],e[n+208>>2]=e[t+228>>2],e[n+244>>2]=e[t+236>>2],o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n+12>>2]=a,a?(zt[e[(e[s>>2]|0)+48>>2]&127](s,o),s=t+248|0,s=e[s>>2]|0,a=n+212|0,e[a>>2]=s,a=t+252|0,a=e[a>>2]|0,s=n+216|0,e[s>>2]=a,s=t+256|0,s=e[s>>2]|0,a=n+220|0,e[a>>2]=s,t=t+260|0,t=e[t>>2]|0,a=n+248|0,e[a>>2]=t,9250):(s=t+248|0,s=e[s>>2]|0,a=n+212|0,e[a>>2]=s,a=t+252|0,a=e[a>>2]|0,s=n+216|0,e[s>>2]=a,s=t+256|0,s=e[s>>2]|0,a=n+220|0,e[a>>2]=s,t=t+260|0,t=e[t>>2]|0,a=n+248|0,e[a>>2]=t,9250)}function vZ(t,n){t=t|0,n=n|0;var s=0,o=0;o=Ct[e[(e[t>>2]|0)+16>>2]&127](t)|0,o=V0[e[(e[n>>2]|0)+16>>2]&63](n,o,1)|0,s=V0[e[(e[t>>2]|0)+20>>2]&63](t,e[o+8>>2]|0,n)|0,Qi[e[(e[n>>2]|0)+20>>2]&31](n,o,s,1245859651,t)}function ep(t){t=t|0;var n=0,s=0,o=0,a=0,l=0;if(e[t>>2]=3192,s=e[t+8>>2]|0,n=e[t+16>>2]|0,(s|0)>0){l=0;do o=(e[n+(l<<2)>>2]|0)+188|0,a=e[o>>2]|0,a&&(s=e[t+68>>2]|0,s=Ct[e[(e[s>>2]|0)+36>>2]&127](s)|0,f0[e[(e[s>>2]|0)+40>>2]&127](s,a,e[t+24>>2]|0),s=e[t+68>>2]|0,f0[e[(e[s>>2]|0)+12>>2]&127](s,a,e[t+24>>2]|0),e[o>>2]=0,s=e[t+8>>2]|0,n=e[t+16>>2]|0),l=l+1|0;while((l|0)<(s|0))}if(!n){A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0;return}A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0}function SZ(t){t=t|0,ep(t),ye(t)}function TZ(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(w=H,H=H+64|0,$n(9296),n=e[t+8>>2]|0,(n|0)>0){g=0;do{if(m=e[(e[t+16>>2]|0)+(g<<2)>>2]|0,A[t+76>>0]|0)C=11;else switch(e[m+216>>2]|0){case 2:case 5:break;default:C=11}(C|0)==11&&(C=0,n=e[m+192>>2]|0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,m+4|0,w+48|0,w+32|0),u=+i[w+48>>2]+-.019999999552965164,i[w+48>>2]=u,_=+i[w+48+4>>2]+-.019999999552965164,i[w+48+4>>2]=_,l=+i[w+48+8>>2]+-.019999999552965164,i[w+48+8>>2]=l,s=+i[w+32>>2]+.019999999552965164,i[w+32>>2]=s,o=+i[w+32+4>>2]+.019999999552965164,i[w+32+4>>2]=o,a=+i[w+32+8>>2]+.019999999552965164,i[w+32+8>>2]=a,(A[t+44>>0]|0)!=0&&(e[m+236>>2]|0)==2&&(e[m+204>>2]&3|0)==0&&(n=e[m+192>>2]|0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,m+68|0,w+16|0,w),u=+i[w+16>>2]+-.019999999552965164,i[w+16>>2]=u,_=+i[w+16+4>>2]+-.019999999552965164,i[w+16+4>>2]=_,o=+i[w+16+8>>2]+-.019999999552965164,i[w+16+8>>2]=o,a=+i[w>>2]+.019999999552965164,i[w>>2]=a,l=+i[w+4>>2]+.019999999552965164,i[w+4>>2]=l,h=+i[w+8>>2]+.019999999552965164,i[w+8>>2]=h,s=+i[w+48>>2],u<s?i[w+48>>2]=u:u=s,s=+i[w+48+4>>2],_<s?i[w+48+4>>2]=_:_=s,s=+i[w+48+8>>2],o<s?(i[w+48+8>>2]=o,d=o):d=s,s=+i[w+16+12>>2],s<+i[w+48+12>>2]&&(i[w+48+12>>2]=s),s=+i[w+32>>2],s<a&&(i[w+32>>2]=a,s=a),o=+i[w+32+4>>2],o<l&&(i[w+32+4>>2]=l,o=l),a=+i[w+32+8>>2],a<h&&(i[w+32+8>>2]=h,a=h),l=+i[w+12>>2],+i[w+32+12>>2]<l&&(i[w+32+12>>2]=l),l=d),n=e[t+68>>2]|0,(e[m+204>>2]&1|0)==0&&(u=s-u,h=o-_,d=a-l,!(u*u+h*h+d*d<999999995904))?((e[m+216>>2]&-2|0)!=4&&(e[m+216>>2]=5),A[9308]|0&&(S=e[t+72>>2]|0,S|0)&&(A[9308]=0,zt[e[(e[S>>2]|0)+44>>2]&127](S,9309),m=e[t+72>>2]|0,zt[e[(e[m>>2]|0)+44>>2]&127](m,9358),m=e[t+72>>2]|0,zt[e[(e[m>>2]|0)+44>>2]&127](m,9426),m=e[t+72>>2]|0,zt[e[(e[m>>2]|0)+44>>2]&127](m,9491))):Qi[e[(e[n>>2]|0)+16>>2]&31](n,e[m+188>>2]|0,w+48|0,w+32|0,e[t+24>>2]|0),n=e[t+8>>2]|0),g=g+1|0}while((g|0)<(n|0))}if(n=e[2006]|0,C=(e[n+16>>2]|0)+-1|0,e[n+16>>2]=C,C|0){H=w;return}do if(e[n+4>>2]|0)if(Tn(w+48|0,0)|0,C=e[5649]|0,i[n+8>>2]=+i[n+8>>2]+ +(((e[w+48+4>>2]|0)-(e[C+4>>2]|0)+(((e[w+48>>2]|0)-(e[C>>2]|0)|0)*1e6|0)-(e[n+12>>2]|0)|0)>>>0)/1e3,e[n+16>>2]|0){H=w;return}else{n=e[2006]|0;break}while(!1);e[2006]=e[n+20>>2],H=w}function CZ(t){t=t|0;var n=0,s=0;if(n=H,H=H+16|0,$n(9500),s=e[t+68>>2]|0,zt[e[(e[s>>2]|0)+32>>2]&127](s,e[t+24>>2]|0),t=e[2006]|0,s=(e[t+16>>2]|0)+-1|0,e[t+16>>2]=s,s|0){H=n;return}do if(e[t+4>>2]|0)if(Tn(n|0,0)|0,s=e[5649]|0,i[t+8>>2]=+i[t+8>>2]+ +(((e[n+4>>2]|0)-(e[s+4>>2]|0)+(((e[n>>2]|0)-(e[s>>2]|0)|0)*1e6|0)-(e[t+12>>2]|0)|0)>>>0)/1e3,e[t+16>>2]|0){H=n;return}else{t=e[2006]|0;break}while(!1);e[2006]=e[t+20>>2],H=n}function wZ(t,n){t=t|0,n=n|0,e[t+72>>2]=n}function MZ(t){return t=t|0,e[t+72>>2]|0}function G6(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;if(S=H,H=H+192|0,!(Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0)){H=S;return}if(l=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,zt[e[(e[l>>2]|0)+8>>2]&127](S+80|0,l),l=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,(Ct[e[(e[l>>2]|0)+56>>2]&127](l)|0)&8|0&&(s=e[t+24>>2]|0,s|0)&&(u=Ct[e[(e[s>>2]|0)+36>>2]&127](s)|0,(u|0)>0)){a=0;do{if(s=e[t+24>>2]|0,s=I0[e[(e[s>>2]|0)+40>>2]&31](s,a)|0,o=e[s+748>>2]|0,(o|0)>0){l=0;do C=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,Hm[e[(e[C>>2]|0)+40>>2]&0](C,s+4+(l*184|0)+32|0,s+4+(l*184|0)+64|0,+i[s+4+(l*184|0)+80>>2],e[s+4+(l*184|0)+148>>2]|0,S+80+96|0),l=l+1|0;while((l|0)!=(o|0))}a=a+1|0}while((a|0)!=(u|0))}if(C=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,(Ct[e[(e[C>>2]|0)+56>>2]&127](C)|0)&3|0&&(e[t+8>>2]|0)>0){a=0;do{if(o=e[(e[t+16>>2]|0)+(a<<2)>>2]|0,!(e[o+204>>2]&32)){if(Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0&&(C=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,(Ct[e[(e[C>>2]|0)+56>>2]&127](C)|0)&1|0)){switch(e[S+64>>2]=1053609165,e[S+64+4>>2]=1053609165,e[S+64+8>>2]=1053609165,i[S+64+12>>2]=0,e[o+216>>2]|0){case 1:{e[S+64>>2]=e[S+80>>2],e[S+64+4>>2]=e[S+80+4>>2],e[S+64+8>>2]=e[S+80+8>>2],e[S+64+12>>2]=e[S+80+12>>2];break}case 2:{e[S+64>>2]=e[S+80+16>>2],e[S+64+4>>2]=e[S+80+16+4>>2],e[S+64+8>>2]=e[S+80+16+8>>2],e[S+64+12>>2]=e[S+80+16+12>>2];break}case 3:{e[S+64>>2]=e[S+80+32>>2],e[S+64+4>>2]=e[S+80+32+4>>2],e[S+64+8>>2]=e[S+80+32+8>>2],e[S+64+12>>2]=e[S+80+32+12>>2];break}case 4:{e[S+64>>2]=e[S+80+48>>2],e[S+64+4>>2]=e[S+80+48+4>>2],e[S+64+8>>2]=e[S+80+48+8>>2],e[S+64+12>>2]=e[S+80+48+12>>2];break}case 5:{e[S+64>>2]=e[S+80+64>>2],e[S+64+4>>2]=e[S+80+64+4>>2],e[S+64+8>>2]=e[S+80+64+8>>2],e[S+64+12>>2]=e[S+80+64+12>>2];break}default:e[S+64>>2]=1050253722,e[S+64+4>>2]=1050253722,e[S+64+8>>2]=1050253722,i[S+64+12>>2]=0}Kt[e[(e[t>>2]|0)+28>>2]&127](t,o+4|0,e[o+192>>2]|0,S+64|0)}if(s=e[t+72>>2]|0,s|0&&(Ct[e[(e[s>>2]|0)+56>>2]&127](s)|0)&2|0){e[S+32>>2]=e[S+80+80>>2],e[S+32+4>>2]=e[S+80+80+4>>2],e[S+32+8>>2]=e[S+80+80+8>>2],e[S+32+12>>2]=e[S+80+80+12>>2],C=e[o+192>>2]|0,Kt[e[(e[C>>2]|0)+8>>2]&127](C,o+4|0,S+64|0,S+48|0),i[S+64>>2]=+i[S+64>>2]+-.019999999552965164,i[S+64+4>>2]=+i[S+64+4>>2]+-.019999999552965164,i[S+64+8>>2]=+i[S+64+8>>2]+-.019999999552965164,i[S+48>>2]=+i[S+48>>2]+.019999999552965164,i[S+48+4>>2]=+i[S+48+4>>2]+.019999999552965164,i[S+48+8>>2]=+i[S+48+8>>2]+.019999999552965164;do if(A[t+44>>0]|0&&(e[o+236>>2]|0)==2&&(e[o+204>>2]&3|0)==0){if(C=e[o+192>>2]|0,Kt[e[(e[C>>2]|0)+8>>2]&127](C,o+68|0,S+16|0,S),n=+i[S+16>>2]+-.019999999552965164,i[S+16>>2]=n,_=+i[S+16+4>>2]+-.019999999552965164,i[S+16+4>>2]=_,h=+i[S+16+8>>2]+-.019999999552965164,i[S+16+8>>2]=h,d=+i[S>>2]+.019999999552965164,i[S>>2]=d,m=+i[S+4>>2]+.019999999552965164,i[S+4>>2]=m,g=+i[S+8>>2]+.019999999552965164,i[S+8>>2]=g,n<+i[S+64>>2]&&(i[S+64>>2]=n),_<+i[S+64+4>>2]&&(i[S+64+4>>2]=_),h<+i[S+64+8>>2]&&(i[S+64+8>>2]=h),n=+i[S+16+12>>2],n<+i[S+64+12>>2]&&(i[S+64+12>>2]=n),+i[S+48>>2]<d&&(i[S+48>>2]=d),+i[S+48+4>>2]<m&&(i[S+48+4>>2]=m),+i[S+48+8>>2]<g&&(i[S+48+8>>2]=g),n=+i[S+12>>2],!(+i[S+48+12>>2]<n))break;i[S+48+12>>2]=n}while(!1);C=e[t+72>>2]|0,Kt[e[(e[C>>2]|0)+60>>2]&127](C,S+64|0,S+48|0,S+32|0)}}a=a+1|0}while((a|0)<(e[t+8>>2]|0))}H=S}function RZ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0;switch(E=H,H=H+368|0,Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0&&(w=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,(Ct[e[(e[w>>2]|0)+56>>2]&127](w)|0)&32768|0)&&(w=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,sr[e[(e[w>>2]|0)+64>>2]&7](w,n,1)),a=e[s+4>>2]|0,a|0){case 31:{if(a=e[s+20>>2]|0,(a|0)<=0){H=E;return}do M=a,a=a+-1|0,w=e[s+28>>2]|0,ne=+i[w+(a*80|0)>>2],$=+i[w+(a*80|0)+4>>2],O=+i[w+(a*80|0)+8>>2],X=+i[w+(a*80|0)+16>>2],Y=+i[w+(a*80|0)+20>>2],U=+i[w+(a*80|0)+24>>2],q=+i[w+(a*80|0)+32>>2],z=+i[w+(a*80|0)+36>>2],F=+i[w+(a*80|0)+40>>2],oe=+i[w+(a*80|0)+48>>2],re=+i[w+(a*80|0)+52>>2],D=+i[w+(a*80|0)+56>>2],w=e[w+(a*80|0)+64>>2]|0,C=e[(e[t>>2]|0)+28>>2]|0,me=+i[n>>2],he=+i[n+4>>2],_e=+i[n+8>>2],pe=+i[n+16>>2],te=+i[n+20>>2],W=+i[n+24>>2],V=+i[n+32>>2],L=+i[n+36>>2],k=+i[n+40>>2],B=oe*me+re*he+D*_e+ +i[n+48>>2],N=oe*pe+re*te+D*W+ +i[n+52>>2],D=oe*V+re*L+D*k+ +i[n+56>>2],i[E+304>>2]=ne*me+X*he+q*_e,i[E+304+4>>2]=$*me+Y*he+z*_e,i[E+304+8>>2]=O*me+U*he+F*_e,i[E+304+12>>2]=0,i[E+304+16>>2]=ne*pe+X*te+q*W,i[E+304+20>>2]=$*pe+Y*te+z*W,i[E+304+24>>2]=O*pe+U*te+F*W,i[E+304+28>>2]=0,i[E+304+32>>2]=ne*V+X*L+q*k,i[E+304+36>>2]=$*V+Y*L+z*k,i[E+304+40>>2]=O*V+U*L+F*k,i[E+304+44>>2]=0,i[E+304+48>>2]=B,i[E+304+52>>2]=N,i[E+304+56>>2]=D,i[E+304+60>>2]=0,Kt[C&127](t,E+304|0,w,o);while((M|0)>1);H=E;return}case 0:{e[E+288>>2]=e[s+32>>2],e[E+288+4>>2]=e[s+32+4>>2],e[E+288+8>>2]=e[s+32+8>>2],e[E+288+12>>2]=e[s+32+12>>2],me=+Tt[e[(e[s>>2]|0)+48>>2]&15](s),re=+Tt[e[(e[s>>2]|0)+48>>2]&15](s),oe=+Tt[e[(e[s>>2]|0)+48>>2]&15](s),me=me+ +i[E+288>>2],i[E+288>>2]=me,re=re+ +i[E+288+4>>2],i[E+288+4>>2]=re,oe=oe+ +i[E+288+8>>2],i[E+288+8>>2]=oe,t=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,s=e[(e[t>>2]|0)+80>>2]|0,i[E+272>>2]=-me,i[E+272+4>>2]=-re,i[E+272+8>>2]=-oe,i[E+272+12>>2]=0,Qi[s&31](t,E+272|0,E+288|0,n,o),H=E;return}case 8:{oe=+Tt[e[(e[s>>2]|0)+48>>2]&15](s),t=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,Uh[e[(e[t>>2]|0)+24>>2]&0](t,oe,n,o),H=E;return}case 9:{if(a=e[s+96>>2]|0,(a|0)<=0){H=E;return}do M=a,a=a+-1|0,w=e[s+104>>2]|0,O=+i[w+(a<<4)>>2],z=+i[w+(a<<4)+4>>2],re=+i[w+(a<<4)+8>>2],w=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,C=e[(e[w>>2]|0)+24>>2]|0,oe=+i[(e[s+124>>2]|0)+(a<<2)>>2],$=+i[n>>2],q=+i[n+4>>2],Y=+i[n+8>>2],ne=+i[n+16>>2],W=+i[n+20>>2],X=+i[n+24>>2],pe=+i[n+32>>2],_e=+i[n+36>>2],te=+i[n+40>>2],he=O*$+z*q+re*Y+ +i[n+48>>2],me=O*ne+z*W+re*X+ +i[n+52>>2],re=O*pe+z*_e+re*te+ +i[n+56>>2],i[E+192>>2]=$+q*0+Y*0,i[E+192+4>>2]=$*0+q+Y*0,i[E+192+8>>2]=Y+($*0+q*0),i[E+192+12>>2]=0,i[E+192+16>>2]=ne+W*0+X*0,i[E+192+20>>2]=ne*0+W+X*0,i[E+192+24>>2]=X+(ne*0+W*0),i[E+192+28>>2]=0,i[E+192+32>>2]=pe+_e*0+te*0,i[E+192+36>>2]=pe*0+_e+te*0,i[E+192+40>>2]=te+(pe*0+_e*0),i[E+192+44>>2]=0,i[E+192+48>>2]=he,i[E+192+52>>2]=me,i[E+192+56>>2]=re,i[E+192+60>>2]=0,Uh[C&0](w,oe,E+192|0,o);while((M|0)>1);H=E;return}case 10:{M=e[s+56>>2]|0,re=+i[s+32+(((M+2|0)%3|0)<<2)>>2],oe=+i[s+32+(M<<2)>>2],t=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,_p[e[(e[t>>2]|0)+84>>2]&0](t,re,oe,M,n,o),H=E;return}case 11:{re=+i[s+60>>2],oe=+i[s+64>>2],s=e[s+72>>2]|0,t=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,_p[e[(e[t>>2]|0)+92>>2]&0](t,re,oe,s,n,o),H=E;return}case 13:{M=e[s+56>>2]|0,re=+Tt[e[(e[s>>2]|0)+92>>2]&15](s),e[E+176>>2]=e[s+32>>2],e[E+176+4>>2]=e[s+32+4>>2],e[E+176+8>>2]=e[s+32+8>>2],e[E+176+12>>2]=e[s+32+12>>2],he=+Tt[e[(e[s>>2]|0)+48>>2]&15](s),me=+Tt[e[(e[s>>2]|0)+48>>2]&15](s),oe=+Tt[e[(e[s>>2]|0)+48>>2]&15](s),i[E+176>>2]=he+ +i[E+176>>2],i[E+176+4>>2]=me+ +i[E+176+4>>2],i[E+176+8>>2]=oe+ +i[E+176+8>>2],oe=+i[E+176+(M<<2)>>2],t=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,_p[e[(e[t>>2]|0)+88>>2]&0](t,re,oe,M,n,o),H=E;return}case 28:{oe=+i[s+68>>2],t=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,$m[e[(e[t>>2]|0)+96>>2]&0](t,s+52|0,oe,n,o),H=E;return}default:{e:do if((a|0)<7){if(S=e[s+56>>2]|0,!S){if((Ct[e[(e[s>>2]|0)+100>>2]&127](s)|0)<=0)break;for(a=0;;)if(Kt[e[(e[s>>2]|0)+104>>2]&127](s,a,E+288|0,E+256|0),me=+i[E+288>>2],O=+i[n>>2],_e=+i[E+288+4>>2],z=+i[n+4>>2],te=+i[E+288+8>>2],Y=+i[n+8>>2],q=+i[n+16>>2],X=+i[n+20>>2],ne=+i[n+24>>2],pe=+i[n+32>>2],he=+i[n+36>>2],re=+i[n+40>>2],$=+i[n+48>>2],W=+i[n+52>>2],oe=+i[n+56>>2],i[E+80>>2]=me*O+_e*z+te*Y+$,i[E+80+4>>2]=me*q+_e*X+te*ne+W,i[E+80+8>>2]=me*pe+_e*he+te*re+oe,i[E+80+12>>2]=0,te=+i[E+256>>2],_e=+i[E+256+4>>2],me=+i[E+256+8>>2],i[E+48>>2]=te*O+_e*z+me*Y+$,i[E+48+4>>2]=te*q+_e*X+me*ne+W,i[E+48+8>>2]=te*pe+_e*he+me*re+oe,i[E+48+12>>2]=0,M=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,Kt[e[(e[M>>2]|0)+16>>2]&127](M,E+80|0,E+48|0,o),a=a+1|0,(a|0)>=(Ct[e[(e[s>>2]|0)+100>>2]&127](s)|0))break e}if((e[S+28>>2]|0)>0){w=0;do{a=e[S+36>>2]|0,C=e[a+(w*36|0)+4>>2]|0;t:do if((C|0)!=0&&(M=e[a+(w*36|0)+12>>2]|0,(C|0)>0))for(h=M,u=0,l=0,a=0,m=e[M+(C+-1<<2)>>2]|0,_=0;;){if(g=e[h+(_<<2)>>2]|0,d=e[S+16>>2]|0,u=(i[Z>>2]=(e[Z>>2]=u,+i[Z>>2]+ +i[d+(g<<4)>>2]),e[Z>>2]|0),a=(i[Z>>2]=(e[Z>>2]=a,+i[Z>>2]+ +i[d+(g<<4)+4>>2]),e[Z>>2]|0),l=(i[Z>>2]=(e[Z>>2]=l,+i[Z>>2]+ +i[d+(g<<4)+8>>2]),e[Z>>2]|0),d=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,h=e[(e[d>>2]|0)+16>>2]|0,ae=e[S+16>>2]|0,me=+i[ae+(m<<4)>>2],O=+i[n>>2],_e=+i[ae+(m<<4)+4>>2],z=+i[n+4>>2],te=+i[ae+(m<<4)+8>>2],Y=+i[n+8>>2],q=+i[n+16>>2],X=+i[n+20>>2],ne=+i[n+24>>2],pe=+i[n+32>>2],he=+i[n+36>>2],re=+i[n+40>>2],$=+i[n+48>>2],W=+i[n+52>>2],oe=+i[n+56>>2],i[E+64>>2]=me*O+_e*z+te*Y+$,i[E+64+4>>2]=me*q+_e*X+te*ne+W,i[E+64+8>>2]=me*pe+_e*he+te*re+oe,i[E+64+12>>2]=0,te=+i[ae+(g<<4)>>2],_e=+i[ae+(g<<4)+4>>2],me=+i[ae+(g<<4)+8>>2],i[E+32>>2]=te*O+_e*z+me*Y+$,i[E+32+4>>2]=te*q+_e*X+me*ne+W,i[E+32+8>>2]=te*pe+_e*he+me*re+oe,i[E+32+12>>2]=0,Kt[h&127](d,E+64|0,E+32|0,o),d=_+1|0,_=e[S+36>>2]|0,(d|0)>=(e[_+(w*36|0)+4>>2]|0))break t;h=e[_+(w*36|0)+12>>2]|0,m=g,_=d}else u=0,l=0,a=0;while(!1);ae=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,(Ct[e[(e[ae>>2]|0)+56>>2]&127](ae)|0)&16384|0&&(he=1/+(C|0)*(e[Z>>2]=l,+i[Z>>2]),te=1/+(C|0)*(e[Z>>2]=a,+i[Z>>2]),X=1/+(C|0)*(e[Z>>2]=u,+i[Z>>2]),e[E+288>>2]=1065353216,e[E+288+4>>2]=1065353216,e[E+288+8>>2]=0,i[E+288+12>>2]=0,ae=e[S+36>>2]|0,ne=+i[ae+(w*36|0)+20>>2],pe=+i[ae+(w*36|0)+24>>2],me=+i[ae+(w*36|0)+28>>2],ae=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,C=e[(e[ae>>2]|0)+16>>2]|0,L=+i[n>>2],U=+i[n+4>>2],V=+i[n+8>>2],z=+i[n+16>>2],Y=+i[n+20>>2],$=+i[n+24>>2],W=+i[n+32>>2],_e=+i[n+36>>2],re=+i[n+40>>2],O=+i[n+48>>2],q=+i[n+52>>2],oe=+i[n+56>>2],i[E+16>>2]=X*L+te*U+he*V+O,i[E+16+4>>2]=X*z+te*Y+he*$+q,i[E+16+8>>2]=X*W+te*_e+he*re+oe,i[E+16+12>>2]=0,i[E>>2]=(X+ne)*L+(te+pe)*U+(he+me)*V+O,i[E+4>>2]=(X+ne)*z+(te+pe)*Y+(he+me)*$+q,i[E+8>>2]=(X+ne)*W+(te+pe)*_e+(he+me)*re+oe,i[E+12>>2]=0,Kt[C&127](ae,E+16|0,E,E+288|0)),w=w+1|0}while((w|0)<(e[S+28>>2]|0))}}while(!1);if(a=e[s+4>>2]|0,(a+-21|0)>>>0<9&&(e[E+288>>2]=1566444395,e[E+288+4>>2]=1566444395,e[E+288+8>>2]=1566444395,i[E+288+12>>2]=0,e[E+256>>2]=-581039253,e[E+256+4>>2]=-581039253,e[E+256+8>>2]=-581039253,i[E+256+12>>2]=0,a=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,e[E+80>>2]=3252,e[E+80+4>>2]=3276,e[E+80+8>>2]=a,e[E+80+12>>2]=e[o>>2],e[E+80+12+4>>2]=e[o+4>>2],e[E+80+12+8>>2]=e[o+8>>2],e[E+80+12+12>>2]=e[o+12>>2],e[E+80+28>>2]=e[n>>2],e[E+80+28+4>>2]=e[n+4>>2],e[E+80+28+8>>2]=e[n+8>>2],e[E+80+28+12>>2]=e[n+12>>2],e[E+80+44>>2]=e[n+16>>2],e[E+80+44+4>>2]=e[n+16+4>>2],e[E+80+44+8>>2]=e[n+16+8>>2],e[E+80+44+12>>2]=e[n+16+12>>2],e[E+80+60>>2]=e[n+32>>2],e[E+80+60+4>>2]=e[n+32+4>>2],e[E+80+60+8>>2]=e[n+32+8>>2],e[E+80+60+12>>2]=e[n+32+12>>2],e[E+80+76>>2]=e[n+48>>2],e[E+80+76+4>>2]=e[n+48+4>>2],e[E+80+76+8>>2]=e[n+48+8>>2],e[E+80+76+12>>2]=e[n+48+12>>2],Kt[e[(e[s>>2]|0)+64>>2]&127](s,E+80|0,E+256|0,E+288|0),a=e[s+4>>2]|0),(a|0)!=3){H=E;return}e[E+288>>2]=1566444395,e[E+288+4>>2]=1566444395,e[E+288+8>>2]=1566444395,i[E+288+12>>2]=0,e[E+256>>2]=-581039253,e[E+256+4>>2]=-581039253,e[E+256+8>>2]=-581039253,i[E+256+12>>2]=0,ae=Ct[e[(e[t>>2]|0)+20>>2]&127](t)|0,e[E+80>>2]=3252,e[E+80+4>>2]=3276,e[E+80+8>>2]=ae,e[E+80+12>>2]=e[o>>2],e[E+80+12+4>>2]=e[o+4>>2],e[E+80+12+8>>2]=e[o+8>>2],e[E+80+12+12>>2]=e[o+12>>2],e[E+80+28>>2]=e[n>>2],e[E+80+28+4>>2]=e[n+4>>2],e[E+80+28+8>>2]=e[n+8>>2],e[E+80+28+12>>2]=e[n+12>>2],e[E+80+44>>2]=e[n+16>>2],e[E+80+44+4>>2]=e[n+16+4>>2],e[E+80+44+8>>2]=e[n+16+8>>2],e[E+80+44+12>>2]=e[n+16+12>>2],e[E+80+60>>2]=e[n+32>>2],e[E+80+60+4>>2]=e[n+32+4>>2],e[E+80+60+8>>2]=e[n+32+8>>2],e[E+80+60+12>>2]=e[n+32+12>>2],e[E+80+76>>2]=e[n+48>>2],e[E+80+76+4>>2]=e[n+48+4>>2],e[E+80+76+8>>2]=e[n+48+8>>2],e[E+80+76+12>>2]=e[n+48+12>>2],ae=e[s+96>>2]|0,Kt[e[(e[ae>>2]|0)+8>>2]&127](ae,E+80+4|0,E+256|0,E+288|0),H=E;return}}}function AZ(t){t=t|0}function EZ(t){t=t|0,ye(t)}function bZ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0;if(s=H,H=H+96|0,h=+i[n>>2],M=+i[t+28>>2],V=+i[n+4>>2],z=+i[t+32>>2],d=+i[n+8>>2],m=+i[t+36>>2],g=+i[t+44>>2],S=+i[t+48>>2],C=+i[t+52>>2],w=+i[t+60>>2],E=+i[t+64>>2],D=+i[t+68>>2],N=+i[t+76>>2],B=+i[t+80>>2],k=+i[t+84>>2],i[s+80>>2]=h*M+V*z+d*m+N,i[s+80+4>>2]=h*g+V*S+d*C+B,i[s+80+8>>2]=h*w+V*E+d*D+k,i[s+80+12>>2]=0,F=+i[n+16>>2],L=+i[n+20>>2],U=+i[n+24>>2],i[s+64>>2]=F*M+L*z+U*m+N,i[s+64+4>>2]=F*g+L*S+U*C+B,i[s+64+8>>2]=F*w+L*E+U*D+k,i[s+64+12>>2]=0,O=+i[n+32>>2],Y=+i[n+36>>2],_=+i[n+40>>2],i[s+48>>2]=O*M+Y*z+_*m+N,i[s+48+4>>2]=O*g+Y*S+_*C+B,i[s+48+8>>2]=O*w+Y*E+_*D+k,i[s+48+12>>2]=0,a=(h*M+V*z+d*m+N+(F*M+L*z+U*m+N)+(O*M+Y*z+_*m+N))*.3333333432674408,l=(h*g+V*S+d*C+B+(F*g+L*S+U*C+B)+(O*g+Y*S+_*C+B))*.3333333432674408,u=(h*w+V*E+d*D+k+(F*w+L*E+U*D+k)+(O*w+Y*E+_*D+k))*.3333333432674408,i[s+32>>2]=a,i[s+32+4>>2]=l,i[s+32+8>>2]=u,i[s+32+12>>2]=0,n=e[t+8>>2]|0,!((Ct[e[(e[n>>2]|0)+56>>2]&127](n)|0)&16384)){o=e[t+8>>2]|0,$=e[o>>2]|0,$=$+16|0,$=e[$>>2]|0,n=t+12|0,Kt[$&127](o,s+80|0,s+64|0,n),o=e[t+8>>2]|0,$=e[o>>2]|0,$=$+16|0,$=e[$>>2]|0,Kt[$&127](o,s+64|0,s+48|0,n),t=e[t+8>>2]|0,o=e[t>>2]|0,o=o+16|0,o=e[o>>2]|0,Kt[o&127](t,s+48|0,s+80|0,n),H=s;return}ne=+i[s+80>>2],X=F*g+L*S+U*C+B-(h*g+V*S+d*C+B),q=F*w+L*E+U*D+k-(h*w+V*E+d*D+k),B=O*g+Y*S+_*C+B-(h*g+V*S+d*C+B),k=O*w+Y*E+_*D+k-(h*w+V*E+d*D+k),V=q*(O*M+Y*z+_*m+N-ne)-(F*M+L*z+U*m+N-ne)*k,Y=(F*M+L*z+U*m+N-ne)*B-X*(O*M+Y*z+_*m+N-ne),z=1/+at(+(Y*Y+((X*k-q*B)*(X*k-q*B)+V*V))),e[s+16>>2]=1065353216,e[s+16+4>>2]=1065353216,e[s+16+8>>2]=0,i[s+16+12>>2]=0,n=e[t+8>>2]|0,o=e[(e[n>>2]|0)+16>>2]|0,i[s>>2]=z*(X*k-q*B)+a,i[s+4>>2]=z*V+l,i[s+8>>2]=z*Y+u,i[s+12>>2]=0,Kt[o&127](n,s+32|0,s,s+16|0),n=e[t+8>>2]|0,o=e[n>>2]|0,o=o+16|0,o=e[o>>2]|0,$=t+12|0,Kt[o&127](n,s+80|0,s+64|0,$),n=e[t+8>>2]|0,o=e[n>>2]|0,o=o+16|0,o=e[o>>2]|0,Kt[o&127](n,s+64|0,s+48|0,$),t=e[t+8>>2]|0,n=e[t>>2]|0,n=n+16|0,n=e[n>>2]|0,Kt[n&127](t,s+48|0,s+80|0,$),H=s}function NZ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+8>>2]&127](t,n,s,o)}function DZ(t){t=t|0}function IZ(t){t=t|0,ye(t+-4|0)}function PZ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t+-4>>2]|0)+8>>2]&127](t+-4|0,n,s,o)}function LZ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;a=H,H=H+256|0,e[a+32>>2]=3296,h=a+32+36|0,e[h>>2]=e[n>>2],e[h+4>>2]=e[n+4>>2],e[h+8>>2]=e[n+8>>2],e[h+12>>2]=e[n+12>>2],d=a+32+52|0,e[d>>2]=e[s>>2],e[d+4>>2]=e[s+4>>2],e[d+8>>2]=e[s+8>>2],e[d+12>>2]=e[s+12>>2],e[a+32+212>>2]=t,e[a+32+216>>2]=o,e[a+32+68>>2]=1065353216,e[a+32+72>>2]=0,e[a+32+72+4>>2]=0,e[a+32+72+8>>2]=0,e[a+32+72+12>>2]=0,e[a+32+88>>2]=1065353216,e[a+32+92>>2]=0,e[a+32+92+4>>2]=0,e[a+32+92+8>>2]=0,e[a+32+92+12>>2]=0,e[a+32+108>>2]=1065353216,e[a+32+112>>2]=0,e[a+32+116>>2]=e[h>>2],e[a+32+116+4>>2]=e[h+4>>2],e[a+32+116+8>>2]=e[h+8>>2],e[a+32+116+12>>2]=e[h+12>>2],e[a+32+132>>2]=1065353216,e[a+32+136>>2]=0,e[a+32+136+4>>2]=0,e[a+32+136+8>>2]=0,e[a+32+136+12>>2]=0,e[a+32+152>>2]=1065353216,e[a+32+156>>2]=0,e[a+32+156+4>>2]=0,e[a+32+156+8>>2]=0,e[a+32+156+12>>2]=0,e[a+32+172>>2]=1065353216,e[a+32+176>>2]=0,e[a+32+180>>2]=e[s>>2],e[a+32+180+4>>2]=e[s+4>>2],e[a+32+180+8>>2]=e[s+8>>2],e[a+32+180+12>>2]=e[s+12>>2],m=+i[s>>2]-+i[n>>2],_=+i[s+4>>2]-+i[n+4>>2],u=+i[s+8>>2]-+i[n+8>>2],l=1/+at(+(m*m+_*_+u*u)),C=m*l==0?0xde0b6b000000000:1/(m*l),i[a+32+4>>2]=C,S=_*l==0?0xde0b6b000000000:1/(_*l),i[a+32+8>>2]=S,g=u*l==0?0xde0b6b000000000:1/(u*l),i[a+32+12>>2]=g,e[a+32+20>>2]=C<0&1,e[a+32+24>>2]=S<0&1,e[a+32+28>>2]=g<0&1,i[a+32+32>>2]=m*l*(+i[d>>2]-+i[h>>2])+_*l*(+i[a+32+56>>2]-+i[a+32+40>>2])+u*l*(+i[a+32+60>>2]-+i[a+32+44>>2]),t=e[t+68>>2]|0,o=e[(e[t>>2]|0)+24>>2]|0,e[a+16>>2]=0,e[a+16+4>>2]=0,e[a+16+8>>2]=0,e[a+16+12>>2]=0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,Lo[o&7](t,n,s,a+32|0,a+16|0,a),H=a}function kZ(t){t=t|0}function FZ(t){t=t|0,ye(t)}function BZ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;return o=H,H=H+32|0,s=e[t+216>>2]|0,+i[s+4>>2]==0?(t=0,H=o,t|0):(n=e[n>>2]|0,I0[e[(e[s>>2]|0)+8>>2]&31](s,e[n+188>>2]|0)|0?(a=e[n+192>>2]|0,s=e[t+216>>2]|0,e[o>>2]=0,e[o+4>>2]=a,e[o+8>>2]=n,e[o+12>>2]=n+4,e[o+16>>2]=-1,e[o+20>>2]=-1,V6(t+68|0,t+132|0,o,s),t=1,H=o,t|0):(t=1,H=o,t|0))}function V6(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0;if(w=H,H=H+752|0,e[w+136+8>>2]=0,e[w+136+12>>2]=-1,e[w+136+16>>2]=1065353216,e[w+136+20>>2]=1065353216,e[w+136+24>>2]=1065353216,i[w+136+28>>2]=0,e[w+136>>2]=6380,e[w+136+4>>2]=8,i[w+136+32>>2]=0,i[w+136+48>>2]=0,S=e[s+4>>2]|0,C=e[s+12>>2]|0,a=e[S+4>>2]|0,(a|0)<20){e[w+568>>2]=3316,e[w+568+168>>2]=0,i[w+568+172>>2]=0,e[w+568+164>>2]=e[o+4>>2],i[w+208+308>>2]=9999999747378752e-20,A[w+208+332>>0]=0,e[w+192>>2]=7024,e[w+192+4>>2]=w+208,e[w+192+8>>2]=w+136,e[w+192+12>>2]=S,e[w+120>>2]=6864,e[w+120+4>>2]=w+208,e[w+120+8>>2]=w+136,e[w+120+12>>2]=S,S=(e[o+16>>2]&8|0)==0?w+192|0:w+120|0,qm[e[(e[S>>2]|0)+8>>2]&3](S,t,n,C,C,w+568|0)|0&&(l=w+568+132|0,u=+i[l>>2],_=+i[w+568+136>>2],h=+i[w+568+140>>2],u*u+_*_+h*h>9999999747378752e-20)&&(d=+i[w+568+164>>2],d<+i[o+4>>2])&&(g=1/+at(+(u*u+_*_+h*h)),i[l>>2]=u*g,i[w+568+136>>2]=_*g,i[w+568+140>>2]=h*g,e[w>>2]=e[s+8>>2],e[w+4>>2]=0,e[w+8>>2]=e[l>>2],e[w+8+4>>2]=e[l+4>>2],e[w+8+8>>2]=e[l+8>>2],e[w+8+12>>2]=e[l+12>>2],i[w+24>>2]=d,+ko[e[(e[o>>2]|0)+12>>2]&15](o,w,1)),H=w;return}if((a+-21|0)>>>0>=9){if((a|0)!=31){H=w;return}if(a=e[S+68>>2]|0,s=e[s+8>>2]|0,e[w+568>>2]=3392,e[w+568+4>>2]=s,e[w+568+8>>2]=S,e[w+568+12>>2]=C,e[w+568+16>>2]=t,e[w+568+20>>2]=n,e[w+568+24>>2]=o,a)u=+i[C+48>>2],U=+i[t+48>>2]-u,h=+i[C+52>>2],L=+i[t+52>>2]-h,m=+i[C+56>>2],F=+i[t+56>>2]-m,k=+i[C>>2],B=+i[C+16>>2],N=+i[C+32>>2],D=+i[C+4>>2],E=+i[C+20>>2],M=+i[C+36>>2],_=+i[C+8>>2],d=+i[C+24>>2],g=+i[C+40>>2],i[w+208>>2]=U*k+L*B+F*N,i[w+208+4>>2]=U*D+L*E+F*M,i[w+208+8>>2]=U*_+L*d+F*g,i[w+208+12>>2]=0,u=+i[n+48>>2]-u,h=+i[n+52>>2]-h,m=+i[n+56>>2]-m,JZ(e[a>>2]|0,w+208|0,u*k+h*B+m*N,u*D+h*E+m*M,u*_+h*d+m*g,w+568|0);else if(a=e[S+20>>2]|0,(a|0)>0){l=0;do z6(w+568|0,l),l=l+1|0;while((l|0)<(a|0))}H=w;return}z=+i[C>>2],O=+i[C+16>>2],d=+i[C+32>>2],V=+i[C+4>>2],M=+i[C+20>>2],m=+i[C+36>>2],B=+i[C+8>>2],F=+i[C+24>>2],U=+i[C+40>>2],E=-+i[C+48>>2],D=-+i[C+52>>2],N=-+i[C+56>>2],L=+i[t+48>>2],k=+i[t+52>>2],h=+i[t+56>>2],u=z*E+O*D+d*N+(z*L+O*k+d*h),_=V*E+M*D+m*N+(V*L+M*k+m*h),h=B*E+F*D+U*N+(B*L+F*k+U*h),i[w+120>>2]=u,i[w+120+4>>2]=_,i[w+120+8>>2]=h,i[w+120+12>>2]=0,k=+i[n+48>>2],L=+i[n+52>>2],g=+i[n+56>>2],d=z*E+O*D+d*N+(z*k+O*L+d*g),m=V*E+M*D+m*N+(V*k+M*L+m*g),g=B*E+F*D+U*N+(B*k+F*L+U*g),(e[S+4>>2]|0)==21?(a=e[s+8>>2]|0,s=e[o+16>>2]|0,e[w+4>>2]=e[w+120>>2],e[w+4+4>>2]=e[w+120+4>>2],e[w+4+8>>2]=e[w+120+8>>2],e[w+4+12>>2]=e[w+120+12>>2],i[w+20>>2]=d,i[w+24>>2]=m,i[w+28>>2]=g,i[w+32>>2]=0,e[w+36>>2]=s,i[w+40>>2]=1,e[w>>2]=3344,e[w+44>>2]=o,e[w+48>>2]=a,e[w+52>>2]=S,e[w+56>>2]=e[C>>2],e[w+56+4>>2]=e[C+4>>2],e[w+56+8>>2]=e[C+8>>2],e[w+56+12>>2]=e[C+12>>2],e[w+72>>2]=e[C+16>>2],e[w+72+4>>2]=e[C+16+4>>2],e[w+72+8>>2]=e[C+16+8>>2],e[w+72+12>>2]=e[C+16+12>>2],e[w+88>>2]=e[C+32>>2],e[w+88+4>>2]=e[C+32+4>>2],e[w+88+8>>2]=e[C+32+8>>2],e[w+88+12>>2]=e[C+32+12>>2],e[w+104>>2]=e[C+48>>2],e[w+104+4>>2]=e[C+48+4>>2],e[w+104+8>>2]=e[C+48+8>>2],e[w+104+12>>2]=e[C+48+12>>2],e[w+40>>2]=e[o+4>>2],a=e[S+52>>2]|0,e[w+192>>2]=4836,e[w+192+4>>2]=a,e[w+192+8>>2]=w,a=e[S+56>>2]|0,e[w+568>>2]=0,e[w+568+4>>2]=0,e[w+568+8>>2]=0,e[w+568+12>>2]=0,e[w+208>>2]=0,e[w+208+4>>2]=0,e[w+208+8>>2]=0,e[w+208+12>>2]=0,A[a+60>>0]|0?km(a,w+192|0,w+120|0,d,m,g,w+568|0,w+208|0,e[a+56>>2]|0):Lm(a,w+192|0,w+120|0,d,m,g,w+568|0,w+208|0)):(s=e[s+8>>2]|0,n=e[o+16>>2]|0,i[w+568+4>>2]=u,i[w+568+8>>2]=_,i[w+568+12>>2]=h,i[w+568+16>>2]=0,i[w+568+20>>2]=d,i[w+568+24>>2]=m,i[w+568+28>>2]=g,i[w+568+32>>2]=0,e[w+568+36>>2]=n,i[w+568+40>>2]=1,e[w+568>>2]=3368,e[w+568+44>>2]=o,e[w+568+48>>2]=s,e[w+568+52>>2]=S,e[w+568+56>>2]=e[C>>2],e[w+568+56+4>>2]=e[C+4>>2],e[w+568+56+8>>2]=e[C+8>>2],e[w+568+56+12>>2]=e[C+12>>2],e[w+568+72>>2]=e[C+16>>2],e[w+568+72+4>>2]=e[C+16+4>>2],e[w+568+72+8>>2]=e[C+16+8>>2],e[w+568+72+12>>2]=e[C+16+12>>2],e[w+568+88>>2]=e[C+32>>2],e[w+568+88+4>>2]=e[C+32+4>>2],e[w+568+88+8>>2]=e[C+32+8>>2],e[w+568+88+12>>2]=e[C+32+12>>2],e[w+568+104>>2]=e[C+48>>2],e[w+568+104+4>>2]=e[C+48+4>>2],e[w+568+104+8>>2]=e[C+48+8>>2],e[w+568+104+12>>2]=e[C+48+12>>2],e[w+568+40>>2]=e[o+4>>2],i[w+208>>2]=u,i[w+208+4>>2]=_,i[w+208+8>>2]=h,i[w+208+12>>2]=0,d<u&&(i[w+208>>2]=d),m<_&&(i[w+208+4>>2]=m),g<h&&(i[w+208+8>>2]=g),i[w+192>>2]=u,i[w+192+4>>2]=_,i[w+192+8>>2]=h,i[w+192+12>>2]=0,u<d&&(i[w+192>>2]=d),_<m&&(i[w+192+4>>2]=m),h<g&&(i[w+192+8>>2]=g),Kt[e[(e[S>>2]|0)+64>>2]&127](S,w+568|0,w+208|0,w+192|0)),H=w}function UZ(t,n){t=t|0,n=+n}function OZ(t,n){t=t|0,n=n|0}function GZ(t,n,s){t=t|0,n=n|0,s=s|0}function VZ(t){t=t|0}function zZ(t){t=t|0,ye(t)}function WZ(t){t=t|0,ye(t)}function HZ(t,n,s,o,a){t=t|0,n=n|0,s=+s,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0;return l=H,H=H+48|0,e[l+32>>2]=o,e[l+32+4>>2]=a,m=+i[n>>2],d=+i[n+4>>2],u=+i[n+8>>2],h=+i[t+56>>2]*m+ +i[t+60>>2]*d+ +i[t+64>>2]*u,_=m*+i[t+72>>2]+d*+i[t+76>>2]+u*+i[t+80>>2],u=m*+i[t+88>>2]+d*+i[t+92>>2]+u*+i[t+96>>2],e[l>>2]=e[t+48>>2],e[l+4>>2]=l+32,i[l+8>>2]=h,i[l+12>>2]=_,i[l+16>>2]=u,i[l+20>>2]=0,i[l+24>>2]=s,a=e[t+44>>2]|0,s=+ko[e[(e[a>>2]|0)+12>>2]&15](a,l,1),H=l,+s}function jZ(t){t=t|0,ye(t)}function qZ(t,n,s,o,a){t=t|0,n=n|0,s=+s,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0;return l=H,H=H+48|0,e[l+32>>2]=o,e[l+32+4>>2]=a,m=+i[n>>2],d=+i[n+4>>2],u=+i[n+8>>2],h=+i[t+56>>2]*m+ +i[t+60>>2]*d+ +i[t+64>>2]*u,_=m*+i[t+72>>2]+d*+i[t+76>>2]+u*+i[t+80>>2],u=m*+i[t+88>>2]+d*+i[t+92>>2]+u*+i[t+96>>2],e[l>>2]=e[t+48>>2],e[l+4>>2]=l+32,i[l+8>>2]=h,i[l+12>>2]=_,i[l+16>>2]=u,i[l+20>>2]=0,i[l+24>>2]=s,a=e[t+44>>2]|0,s=+ko[e[(e[a>>2]|0)+12>>2]&15](a,l,1),H=l,+s}function XZ(t){t=t|0,ye(t)}function $Z(t,n){t=t|0,n=n|0,z6(t,e[n+36>>2]|0)}function z6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0;s=H,H=H+128|0,$=e[(e[t+8>>2]|0)+28>>2]|0,a=e[$+(n*80|0)+64>>2]|0,o=e[t+12>>2]|0,B=+i[$+(n*80|0)>>2],O=+i[o>>2],N=+i[$+(n*80|0)+16>>2],V=+i[o+4>>2],D=+i[$+(n*80|0)+32>>2],U=+i[o+8>>2],E=+i[$+(n*80|0)+4>>2],M=+i[$+(n*80|0)+20>>2],w=+i[$+(n*80|0)+36>>2],C=+i[$+(n*80|0)+8>>2],g=+i[$+(n*80|0)+24>>2],d=+i[$+(n*80|0)+40>>2],L=+i[o+16>>2],F=+i[o+20>>2],k=+i[o+24>>2],S=+i[o+32>>2],m=+i[o+36>>2],h=+i[o+40>>2],Y=+i[$+(n*80|0)+48>>2],z=+i[$+(n*80|0)+52>>2],l=+i[$+(n*80|0)+56>>2],_=+i[o+48>>2]+(O*Y+V*z+U*l),u=L*Y+F*z+k*l+ +i[o+52>>2],l=S*Y+m*z+h*l+ +i[o+56>>2],i[s+56>>2]=B*O+N*V+D*U,i[s+56+4>>2]=O*E+V*M+U*w,i[s+56+8>>2]=O*C+V*g+U*d,i[s+56+12>>2]=0,i[s+56+16>>2]=B*L+N*F+D*k,i[s+56+20>>2]=E*L+M*F+w*k,i[s+56+24>>2]=C*L+g*F+d*k,i[s+56+28>>2]=0,i[s+56+32>>2]=B*S+N*m+D*h,i[s+56+36>>2]=E*S+M*m+w*h,i[s+56+40>>2]=C*S+g*m+d*h,i[s+56+44>>2]=0,i[s+56+48>>2]=_,i[s+56+52>>2]=u,i[s+56+56>>2]=l,i[s+56+60>>2]=0,o=e[t+4>>2]|0,e[s+32>>2]=0,e[s+32+4>>2]=a,e[s+32+8>>2]=o,e[s+32+12>>2]=s+56,e[s+32+16>>2]=-1,e[s+32+20>>2]=n,o=e[t+24>>2]|0,i[s+4>>2]=1,e[s+8>>2]=0,ee[s+12>>1]=1,ee[s+14>>1]=-1,e[s+16>>2]=0,e[s>>2]=3428,e[s+20>>2]=o,e[s+24>>2]=n,e[s+4>>2]=e[o+4>>2],e[s+16>>2]=e[o+16>>2],V6(e[t+16>>2]|0,e[t+20>>2]|0,s+32|0,s),H=s}function YZ(t){t=t|0}function KZ(t){t=t|0,ye(t)}function ZZ(t,n){return t=t|0,n=n|0,t=e[t+20>>2]|0,I0[e[(e[t>>2]|0)+8>>2]&31](t,n)|0}function QZ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;return o=H,H=H+16|0,e[o>>2]=-1,e[o+4>>2]=e[t+24>>2],e[n+4>>2]|0||(e[n+4>>2]=o),l=e[t+20>>2]|0,a=+ko[e[(e[l>>2]|0)+12>>2]&15](l,n,s),e[t+4>>2]=e[(e[t+20>>2]|0)+4>>2],H=o,+a}function JZ(t,n,s,o,a,l){t=t|0,n=n|0,s=+s,o=+o,a=+a,l=l|0;var u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0;if(z=H,H=H+32|0,!t){H=z;return}for(k=s-+i[n>>2],B=o-+i[n+4>>2],N=a-+i[n+8>>2],w=1/+at(+(k*k+B*B+N*N)),M=k*w==0?0xde0b6b000000000:1/(k*w),E=B*w==0?0xde0b6b000000000:1/(B*w),D=N*w==0?0xde0b6b000000000:1/(N*w),e[5637]=(e[5637]|0)+1,u=Xe(531)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,ln(u|0,0,512)|0,e[u>>2]=t,C=1,t=128,d=128,_=126;;){m=C+-1|0,S=e[u+(m<<2)>>2]|0,e[z>>2]=e[S>>2],e[z+4>>2]=e[S+4>>2],e[z+8>>2]=e[S+8>>2],e[z+12>>2]=e[S+12>>2],e[z+16>>2]=e[S+16>>2],e[z+16+4>>2]=e[S+16+4>>2],e[z+16+8>>2]=e[S+16+8>>2],e[z+16+12>>2]=e[S+16+12>>2],o=+i[n>>2],s=M*(+i[z+((M<0&1)<<4)>>2]-o),o=M*(+i[z+((M<0^1)<<4)>>2]-o),h=+i[n+4>>2],a=E*(+i[z+((E<0&1)<<4)+4>>2]-h),h=E*(+i[z+((E<0^1)<<4)+4>>2]-h);do if(!(a>o|s>h)&&(F=a>s?a:s,V=h<o?h:o,U=+i[n+8>>2],L=D*(+i[z+((D<0&1)<<4)+8>>2]-U),U=D*(+i[z+((D<0^1)<<4)+8>>2]-U),!(L>V|F>U))&&(U<V?U:V)>0&&(L>F?L:F)<k*w*k+B*w*B+N*w*N){if(!(e[S+40>>2]|0)){zt[e[(e[l>>2]|0)+12>>2]&127](l,S);break}if((m|0)>(_|0)){if(g=d<<1,(d|0)<(g|0)){do if((t|0)<(g|0)){if(d)if(e[5637]=(e[5637]|0)+1,t=Xe((d<<3|3)+16|0)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,(d|0)>0){_=0;do e[t+(_<<2)>>2]=e[u+(_<<2)>>2],_=_+1|0;while((_|0)!=(d|0))}else O=17;else t=0,O=17;if((O|0)==17&&(O=0,!u)){_=g,u=t;break}e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0),_=g,u=t}else _=t;while(!1);ln(u+(d<<2)|0,0,d<<2|0)|0,t=_}d=g,_=g+-2|0}e[u+(m<<2)>>2]=e[S+36>>2],e[u+(C<<2)>>2]=e[S+40>>2],m=C+1|0}while(!1);if(m)C=m;else break}if(!u){H=z;return}e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0),H=z}function W6(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0;if(h=H,H=H+96|0,a=e[t+8>>2]|0,(a|0)==(e[t+12>>2]|0)&&(_=a|0?a<<1:1,(a|0)<(_|0))){if(_?(e[5637]=(e[5637]|0)+1,a=Xe((_<<2|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,u=a,a=e[t+8>>2]|0):u=0,(a|0)>0){l=0;do e[u+(l<<2)>>2]=e[(e[t+16>>2]|0)+(l<<2)>>2],l=l+1|0;while((l|0)!=(a|0))}l=e[t+16>>2]|0,l&&(A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0),a=e[t+8>>2]|0),e[t+16>>2]=0),A[t+20>>0]=1,e[t+16>>2]=u,e[t+12>>2]=_}e[(e[t+16>>2]|0)+(a<<2)>>2]=n,e[t+8>>2]=a+1,e[h+32>>2]=e[n+4>>2],e[h+32+4>>2]=e[n+4+4>>2],e[h+32+8>>2]=e[n+4+8>>2],e[h+32+12>>2]=e[n+4+12>>2],e[h+32+16>>2]=e[n+20>>2],e[h+32+16+4>>2]=e[n+20+4>>2],e[h+32+16+8>>2]=e[n+20+8>>2],e[h+32+16+12>>2]=e[n+20+12>>2],e[h+32+32>>2]=e[n+36>>2],e[h+32+32+4>>2]=e[n+36+4>>2],e[h+32+32+8>>2]=e[n+36+8>>2],e[h+32+32+12>>2]=e[n+36+12>>2],e[h+32+48>>2]=e[n+52>>2],e[h+32+48+4>>2]=e[n+52+4>>2],e[h+32+48+8>>2]=e[n+52+8>>2],e[h+32+48+12>>2]=e[n+52+12>>2],_=e[n+192>>2]|0,Kt[e[(e[_>>2]|0)+8>>2]&127](_,h+32|0,h+16|0,h),_=e[t+68>>2]|0,e[n+188>>2]=Hh[e[(e[_>>2]|0)+8>>2]&3](_,h+16|0,h,e[(e[n+192>>2]|0)+4>>2]|0,n,s,o,e[t+24>>2]|0,0)|0,H=h}function H6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;if(s=e[n+188>>2]|0,s|0&&(l=e[t+68>>2]|0,l=Ct[e[(e[l>>2]|0)+36>>2]&127](l)|0,f0[e[(e[l>>2]|0)+40>>2]&127](l,s,e[t+24>>2]|0),l=e[t+68>>2]|0,f0[e[(e[l>>2]|0)+12>>2]&127](l,s,e[t+24>>2]|0),e[n+188>>2]=0),a=e[t+8>>2]|0,!((a|0)<=0)){for(l=e[t+16>>2]|0,s=0;o=l+(s<<2)|0,(e[o>>2]|0)!=(n|0);)if(s=s+1|0,(s|0)>=(a|0)){u=9;break}(u|0)!=9&&((s|0)>=(a|0)||(e[o>>2]=e[l+(a+-1<<2)>>2],e[(e[t+16>>2]|0)+(a+-1<<2)>>2]=n,e[t+8>>2]=a+-1))}}function eQ(t){t=t|0;var n=0,s=0,o=0,a=0;s=H,H=H+16|0,$n(10245),Vt[e[(e[t>>2]|0)+8>>2]&255](t),Vt[e[(e[t>>2]|0)+12>>2]&255](t),n=e[t+24>>2]|0,$n(10279),n|0&&(a=e[(e[n>>2]|0)+32>>2]|0,o=e[t+68>>2]|0,o=Ct[e[(e[o>>2]|0)+36>>2]&127](o)|0,Kt[a&127](n,o,t+28|0,e[t+24>>2]|0)),t=e[2006]|0,a=(e[t+16>>2]|0)+-1|0,e[t+16>>2]=a;do if(a)n=t;else{if(e[t+4>>2]|0){if(Tn(s|0,0)|0,n=e[5649]|0,i[t+8>>2]=+i[t+8>>2]+ +(((e[s+4>>2]|0)-(e[n+4>>2]|0)+(((e[s>>2]|0)-(e[n>>2]|0)|0)*1e6|0)-(e[t+12>>2]|0)|0)>>>0)/1e3,n=e[2006]|0,e[t+16>>2]|0)break}else n=t;n=e[n+20>>2]|0,e[2006]=n}while(!1);if(t=n+16|0,a=(e[t>>2]|0)+-1|0,e[t>>2]=a,a|0){H=s;return}do if(e[n+4>>2]|0)if(Tn(s|0,0)|0,o=e[5649]|0,a=n+8|0,i[a>>2]=+i[a>>2]+ +(((e[s+4>>2]|0)-(e[o+4>>2]|0)+(((e[s>>2]|0)-(e[o>>2]|0)|0)*1e6|0)-(e[n+12>>2]|0)|0)>>>0)/1e3,e[t>>2]|0){H=s;return}else{n=e[2006]|0;break}while(!1);e[2006]=e[n+20>>2],H=s}function tQ(t,n){t=t|0,n=n|0,Vt[e[(e[n>>2]|0)+32>>2]&255](n),j6(t,n),Vt[e[(e[n>>2]|0)+36>>2]&255](n)}function j6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0;if(k=H,H=H+80|0,A[k+16>>0]=1,e[k+12>>2]=0,e[k+4>>2]=0,e[k+8>>2]=0,A[k+36>>0]=1,e[k+32>>2]=0,e[k+24>>2]=0,e[k+28>>2]=0,A[k+56>>0]=1,e[k+52>>2]=0,e[k+44>>2]=0,e[k+48>>2]=0,A[k+76>>0]=1,e[k+72>>2]=0,e[k+64>>2]=0,e[k+68>>2]=0,s=e[t+8>>2]|0,(s|0)<=0){Th(k),H=k;return}for(u=0,_=0,a=0,o=0,w=0;;){C=e[(e[(e[t+16>>2]|0)+(w<<2)>>2]|0)+192>>2]|0,S=(C+~(C<<15)>>10^C+~(C<<15))*9|0,S=(S>>6^S)+~((S>>6^S)<<11)>>16^(S>>6^S)+~((S>>6^S)<<11),g=S&u+-1,h=g>>>0<_>>>0;e:do if(h){if(l=e[a+(g<<2)>>2]|0,(l|0)!=-1){for(d=e[k+72>>2]|0;;){if((C|0)==(e[d+(l<<3)>>2]|0)){m=9;break}if(_=e[o+(l<<2)>>2]|0,(_|0)==-1)break;l=_}if((m|0)==9&&(m=0,(e[k+52>>2]|0)+(l<<2)|0))break;if(!h){m=16;break}}if(s=e[a+(g<<2)>>2]|0,(s|0)!=-1){for(l=e[k+72>>2]|0;(C|0)!=(e[l+(s<<3)>>2]|0);)if(s=e[o+(s<<2)>>2]|0,(s|0)==-1){m=16;break e}e[(e[k+52>>2]|0)+(s<<2)>>2]=C,s=u,m=78}else m=16}else m=16;while(!1);if((m|0)==16){if(h=e[k+44>>2]|0,(h|0)==(u|0))if(s=u|0?u<<1:1,(u|0)<(s|0)){if((s|0)!=0&&(e[5637]=(e[5637]|0)+1,B=Xe((s<<2|3)+16|0)|0,(B|0)!=0)?(e[(B+4+15&-16)+-4>>2]=B,a=B+4+15&-16):a=0,(u|0)>0){o=0;do e[a+(o<<2)>>2]=e[(e[k+52>>2]|0)+(o<<2)>>2],o=o+1|0;while((o|0)!=(u|0))}o=e[k+52>>2]|0,o|0&&(A[k+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[k+52>>2]=0),A[k+56>>0]=1,e[k+52>>2]=a,e[k+48>>2]=s,o=u}else o=u,s=u;else o=h,s=u;if(e[(e[k+52>>2]|0)+(o<<2)>>2]=C,e[k+44>>2]=o+1,o=e[k+64>>2]|0,(o|0)==(e[k+68>>2]|0)&&(M=o|0?o<<1:1,(o|0)<(M|0))){if((M|0)!=0&&(e[5637]=(e[5637]|0)+1,E=Xe((M<<3|3)+16|0)|0,(E|0)!=0)?(e[(E+4+15&-16)+-4>>2]=E,a=E+4+15&-16):a=0,(o|0)>0){s=0;do _=(e[k+72>>2]|0)+(s<<3)|0,d=e[_+4>>2]|0,m=a+(s<<3)|0,e[m>>2]=e[_>>2],e[m+4>>2]=d,s=s+1|0;while((s|0)!=(o|0))}s=e[k+72>>2]|0,s|0&&(A[k+76>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[k+72>>2]=0),A[k+76>>0]=1,e[k+72>>2]=a,e[k+68>>2]=M,o=e[k+64>>2]|0,s=e[k+48>>2]|0}if(m=(e[k+72>>2]|0)+(o<<3)|0,e[m>>2]=C,e[m+4>>2]=0,e[k+64>>2]=o+1,(u|0)<(s|0)){_=e[k+4>>2]|0;do if((s|0)>(_|0)){if((s|0)>=(_|0)){do if((e[k+8>>2]|0)<(s|0)){if((s|0)!=0&&(e[5637]=(e[5637]|0)+1,D=Xe((s<<2|3)+16|0)|0,(D|0)!=0)?(e[(D+4+15&-16)+-4>>2]=D,o=D+4+15&-16):o=0,a=e[k+12>>2]|0,(_|0)<=0){if(!a){A[k+16>>0]=1,e[k+12>>2]=o,e[k+8>>2]=s;break}}else{l=0;do e[o+(l<<2)>>2]=e[a+(l<<2)>>2],l=l+1|0;while((l|0)!=(_|0))}A[k+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),A[k+16>>0]=1,e[k+12>>2]=o,e[k+8>>2]=s}else o=e[k+12>>2]|0;while(!1);ln(o+(_<<2)|0,0,s-_<<2|0)|0}if(e[k+4>>2]=s,u=e[k+24>>2]|0,(s|0)>(u|0)){do if((e[k+28>>2]|0)<(s|0)){if((s|0)!=0&&(e[5637]=(e[5637]|0)+1,N=Xe((s<<2|3)+16|0)|0,(N|0)!=0)?(e[(N+4+15&-16)+-4>>2]=N,o=N+4+15&-16):o=0,a=e[k+32>>2]|0,(u|0)<=0){if(!a){A[k+36>>0]=1,e[k+32>>2]=o,e[k+28>>2]=s;break}}else{l=0;do e[o+(l<<2)>>2]=e[a+(l<<2)>>2],l=l+1|0;while((l|0)!=(u|0))}A[k+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),A[k+36>>0]=1,e[k+32>>2]=o,e[k+28>>2]=s}else o=e[k+32>>2]|0;while(!1);ln(o+(u<<2)|0,0,s-u<<2|0)|0}if(e[k+24>>2]=s,(s|0)>0&&(g=s<<2,ln(e[k+12>>2]|0,-1,g|0)|0,ln(e[k+32>>2]|0,-1,g|0)|0),(_|0)<=0){s=e[k+48>>2]|0;break}o=e[k+72>>2]|0,a=e[k+12>>2]|0,l=e[k+32>>2]|0,s=e[k+48>>2]|0,u=0;do g=e[o+(u<<3)>>2]|0,g=(g+~(g<<15)>>10^g+~(g<<15))*9|0,g=a+((((g>>6^g)+~((g>>6^g)<<11)>>16^(g>>6^g)+~((g>>6^g)<<11))&s+-1)<<2)|0,e[l+(u<<2)>>2]=e[g>>2],e[g>>2]=u,u=u+1|0;while((u|0)!=(_|0))}while(!1);o=s,s=S&s+-1}else o=s,s=g;a=e[k+12>>2]|0,s=a+(s<<2)|0,m=e[k+32>>2]|0,e[m+(h<<2)>>2]=e[s>>2],e[s>>2]=h,s=o,o=m,m=78}if((m|0)==78&&(m=0,zt[e[(e[C>>2]|0)+60>>2]&127](C,n),u=s,s=e[t+8>>2]|0),l=w+1|0,(l|0)>=(s|0))break;_=e[k+4>>2]|0,w=l}if((s|0)>0)a=0;else{Th(k),H=k;return}do{switch(o=e[(e[t+16>>2]|0)+(a<<2)>>2]|0,e[o+236>>2]|0){case 64:case 1:{zt[e[(e[o>>2]|0)+24>>2]&127](o,n),s=e[t+8>>2]|0;break}default:}a=a+1|0}while((a|0)<(s|0));Th(k),H=k}function Th(t){t=t|0;var n=0;if(n=e[t+72>>2]|0,n|0&&(A[t+76>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+72>>2]=0),A[t+76>>0]=1,e[t+72>>2]=0,e[t+64>>2]=0,e[t+68>>2]=0,n=e[t+52>>2]|0,n|0&&(A[t+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+52>>2]=0),A[t+56>>0]=1,e[t+52>>2]=0,e[t+44>>2]=0,e[t+48>>2]=0,n=e[t+32>>2]|0,n|0&&(A[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+32>>2]=0),A[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0,n=e[t+12>>2]|0,!n){A[t+16>>0]=1,e[t+12>>2]=0,e[t+4>>2]=0,t=t+8|0,e[t>>2]=0;return}A[t+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+12>>2]=0,A[t+16>>0]=1,e[t+12>>2]=0,e[t+4>>2]=0,t=t+8|0,e[t>>2]=0}function Ch(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l;var u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0;if(z=H,H=H+896|0,O=e[o+4>>2]|0,V=e[o+12>>2]|0,D=e[O+4>>2]|0,(D|0)<20){e[z+712>>2]=3316,e[z+712+168>>2]=0,i[z+712+172>>2]=l,e[z+712+164>>2]=e[a+4>>2],i[z+352+308>>2]=9999999747378752e-20,A[z+352+332>>0]=0,e[z+288>>2]=6908,e[z+64>>2]=6816,e[z+64+4>>2]=z+352,e[z+64+8>>2]=z+288,e[z+64+12>>2]=t,e[z+64+16>>2]=O,e[z+64+20>>2]=0,Zf(z+64|0,n,s,V,V,z+712|0)|0&&(u=z+712+132|0,_=+i[u>>2],h=+i[z+712+136>>2],m=+i[z+712+140>>2],_*_+h*h+m*m>9999999747378752e-20)&&(w=+i[z+712+164>>2],w<+i[a+4>>2])&&(l=1/+at(+(_*_+h*h+m*m)),i[u>>2]=_*l,i[z+712+136>>2]=h*l,i[z+712+140>>2]=m*l,e[z+16>>2]=e[o+8>>2],e[z+16+4>>2]=0,e[z+16+8>>2]=e[u>>2],e[z+16+8+4>>2]=e[u+4>>2],e[z+16+8+8>>2]=e[u+8>>2],e[z+16+8+12>>2]=e[u+12>>2],e[z+16+24>>2]=e[z+712+148>>2],e[z+16+24+4>>2]=e[z+712+148+4>>2],e[z+16+24+8>>2]=e[z+712+148+8>>2],e[z+16+24+12>>2]=e[z+712+148+12>>2],i[z+16+40>>2]=w,+ko[e[(e[a>>2]|0)+12>>2]&15](a,z+16|0,1)),H=z;return}if((D+-21|0)>>>0>=9){if((D|0)!=31){H=z;return}if($n(10657),(e[O+20>>2]|0)>0){u=0;do M=e[O+28>>2]|0,_=+i[M+(u*80|0)>>2],m=+i[M+(u*80|0)+4>>2],C=+i[M+(u*80|0)+8>>2],h=+i[M+(u*80|0)+16>>2],g=+i[M+(u*80|0)+20>>2],E=+i[M+(u*80|0)+24>>2],d=+i[M+(u*80|0)+32>>2],S=+i[M+(u*80|0)+36>>2],B=+i[M+(u*80|0)+40>>2],pe=+i[M+(u*80|0)+48>>2],te=+i[M+(u*80|0)+52>>2],U=+i[M+(u*80|0)+56>>2],M=e[M+(u*80|0)+64>>2]|0,W=+i[V>>2],ne=+i[V+4>>2],X=+i[V+8>>2],q=+i[V+16>>2],$=+i[V+20>>2],Y=+i[V+24>>2],w=+i[V+32>>2],N=+i[V+36>>2],k=+i[V+40>>2],F=pe*W+te*ne+U*X+ +i[V+48>>2],L=pe*q+te*$+U*Y+ +i[V+52>>2],U=pe*w+te*N+U*k+ +i[V+56>>2],i[z+712>>2]=_*W+h*ne+d*X,i[z+712+4>>2]=m*W+g*ne+S*X,i[z+712+8>>2]=C*W+E*ne+B*X,i[z+712+12>>2]=0,i[z+712+16>>2]=_*q+h*$+d*Y,i[z+712+20>>2]=m*q+g*$+S*Y,i[z+712+24>>2]=C*q+E*$+B*Y,i[z+712+28>>2]=0,i[z+712+32>>2]=_*w+h*N+d*k,i[z+712+36>>2]=m*w+g*N+S*k,i[z+712+40>>2]=C*w+E*N+B*k,i[z+712+44>>2]=0,i[z+712+48>>2]=F,i[z+712+52>>2]=L,i[z+712+56>>2]=U,i[z+712+60>>2]=0,ee[z+352+8>>1]=1,ee[z+352+10>>1]=-1,e[z+352>>2]=3500,e[z+352+12>>2]=a,e[z+352+16>>2]=u,e[z+352+4>>2]=e[a+4>>2],D=e[o+8>>2]|0,e[z+288>>2]=o,e[z+288+4>>2]=M,e[z+288+8>>2]=D,e[z+288+12>>2]=z+712,e[z+288+16>>2]=-1,e[z+288+20>>2]=u,Ch(t,n,s,z+288|0,z+352|0,l),u=u+1|0;while((u|0)<(e[O+20>>2]|0))}if(u=e[2006]|0,O=(e[u+16>>2]|0)+-1|0,e[u+16>>2]=O,O|0){H=z;return}do if(e[u+4>>2]|0)if(Tn(z+712|0,0)|0,O=e[5649]|0,i[u+8>>2]=+i[u+8>>2]+ +(((e[z+712+4>>2]|0)-(e[O+4>>2]|0)+(((e[z+712>>2]|0)-(e[O>>2]|0)|0)*1e6|0)-(e[u+12>>2]|0)|0)>>>0)/1e3,e[u+16>>2]|0){H=z;return}else{u=e[2006]|0;break}while(!1);e[2006]=e[u+20>>2],H=z;return}switch(D|0){case 21:{m=+i[V>>2],g=+i[V+16>>2],S=+i[V+32>>2],C=+i[V+4>>2],w=+i[V+20>>2],E=+i[V+36>>2],N=+i[V+8>>2],B=+i[V+24>>2],k=+i[V+40>>2],F=-+i[V+48>>2],L=-+i[V+52>>2],U=-+i[V+56>>2],d=+i[n+48>>2],h=+i[n+52>>2],_=+i[n+56>>2],i[z+352>>2]=m*F+g*L+S*U+(m*d+g*h+S*_),i[z+352+4>>2]=C*F+w*L+E*U+(C*d+w*h+E*_),i[z+352+8>>2]=N*F+B*L+k*U+(N*d+B*h+k*_),i[z+352+12>>2]=0,_=+i[s+48>>2],h=+i[s+52>>2],d=+i[s+56>>2],_e=+i[s>>2],Y=+i[s+16>>2],$=+i[s+32>>2],q=+i[s+4>>2],X=+i[s+20>>2],ne=+i[s+36>>2],W=+i[s+8>>2],te=+i[s+24>>2],pe=+i[s+40>>2],i[z+288>>2]=m*_e+g*Y+S*$,i[z+288+4>>2]=m*q+g*X+S*ne,i[z+288+8>>2]=m*W+g*te+S*pe,i[z+288+12>>2]=0,i[z+288+16>>2]=C*_e+w*Y+E*$,i[z+288+20>>2]=C*q+w*X+E*ne,i[z+288+24>>2]=C*W+w*te+E*pe,i[z+288+28>>2]=0,i[z+288+32>>2]=N*_e+B*Y+k*$,i[z+288+36>>2]=N*q+B*X+k*ne,i[z+288+40>>2]=N*W+B*te+k*pe,u=z+288+44|0,e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,e[u+12>>2]=0,e[u+16>>2]=0,u=e[o+8>>2]|0,pe=+Tt[e[(e[O>>2]|0)+48>>2]&15](O),e[z+64>>2]=7e3,e[z+64+4>>2]=t,e[z+64+8>>2]=e[n>>2],e[z+64+8+4>>2]=e[n+4>>2],e[z+64+8+8>>2]=e[n+8>>2],e[z+64+8+12>>2]=e[n+12>>2],e[z+64+24>>2]=e[n+16>>2],e[z+64+24+4>>2]=e[n+16+4>>2],e[z+64+24+8>>2]=e[n+16+8>>2],e[z+64+24+12>>2]=e[n+16+12>>2],e[z+64+40>>2]=e[n+32>>2],e[z+64+40+4>>2]=e[n+32+4>>2],e[z+64+40+8>>2]=e[n+32+8>>2],e[z+64+40+12>>2]=e[n+32+12>>2],e[z+64+56>>2]=e[n+48>>2],e[z+64+56+4>>2]=e[n+48+4>>2],e[z+64+56+8>>2]=e[n+48+8>>2],e[z+64+56+12>>2]=e[n+48+12>>2],e[z+64+72>>2]=e[s>>2],e[z+64+72+4>>2]=e[s+4>>2],e[z+64+72+8>>2]=e[s+8>>2],e[z+64+72+12>>2]=e[s+12>>2],e[z+64+88>>2]=e[s+16>>2],e[z+64+88+4>>2]=e[s+16+4>>2],e[z+64+88+8>>2]=e[s+16+8>>2],e[z+64+88+12>>2]=e[s+16+12>>2],e[z+64+104>>2]=e[s+32>>2],e[z+64+104+4>>2]=e[s+32+4>>2],e[z+64+104+8>>2]=e[s+32+8>>2],e[z+64+104+12>>2]=e[s+32+12>>2],e[z+64+120>>2]=e[s+48>>2],e[z+64+120+4>>2]=e[s+48+4>>2],e[z+64+120+8>>2]=e[s+48+8>>2],e[z+64+120+12>>2]=e[s+48+12>>2],e[z+64+136>>2]=e[V>>2],e[z+64+136+4>>2]=e[V+4>>2],e[z+64+136+8>>2]=e[V+8>>2],e[z+64+136+12>>2]=e[V+12>>2],e[z+64+152>>2]=e[V+16>>2],e[z+64+152+4>>2]=e[V+16+4>>2],e[z+64+152+8>>2]=e[V+16+8>>2],e[z+64+152+12>>2]=e[V+16+12>>2],e[z+64+168>>2]=e[V+32>>2],e[z+64+168+4>>2]=e[V+32+4>>2],e[z+64+168+8>>2]=e[V+32+8>>2],e[z+64+168+12>>2]=e[V+32+12>>2],e[z+64+184>>2]=e[V+48>>2],e[z+64+184+4>>2]=e[V+48+4>>2],e[z+64+184+8>>2]=e[V+48+8>>2],e[z+64+184+12>>2]=e[V+48+12>>2],i[z+64+204>>2]=pe,e[z+64>>2]=3452,e[z+64+212>>2]=a,e[z+64+216>>2]=u,e[z+64+220>>2]=O,e[z+64+200>>2]=e[a+4>>2],i[z+64+208>>2]=l,Kt[e[(e[t>>2]|0)+8>>2]&127](t,z+288|0,z+16|0,z),u=e[O+52>>2]|0,e[z+712>>2]=4856,e[z+712+4>>2]=u,e[z+712+8>>2]=z+64,u=e[O+56>>2]|0,A[u+60>>0]|0?km(u,z+712|0,z+352|0,m*F+g*L+S*U+(m*_+g*h+S*d),C*F+w*L+E*U+(C*_+w*h+E*d),N*F+B*L+k*U+(N*_+B*h+k*d),z+16|0,z,e[u+56>>2]|0):Lm(u,z+712|0,z+352|0,m*F+g*L+S*U+(m*_+g*h+S*d),C*F+w*L+E*U+(C*_+w*h+E*d),N*F+B*L+k*U+(N*_+B*h+k*d),z+16|0,z),H=z;return}case 28:{e[z+712>>2]=3316,e[z+712+168>>2]=0,i[z+712+172>>2]=l,e[z+712+164>>2]=e[a+4>>2],e[z+352>>2]=6816,e[z+352+4>>2]=0,e[z+352+8>>2]=0,e[z+352+12>>2]=t,e[z+352+16>>2]=0,e[z+352+20>>2]=O,Zf(z+352|0,n,s,V,V,z+712|0)|0&&(M=z+712+132|0,d=+i[M>>2],g=+i[z+712+136>>2],S=+i[z+712+140>>2],d*d+g*g+S*S>9999999747378752e-20)&&(C=+i[z+712+164>>2],C<+i[a+4>>2])&&(_e=1/+at(+(d*d+g*g+S*S)),i[M>>2]=d*_e,i[z+712+136>>2]=g*_e,i[z+712+140>>2]=S*_e,e[z+288>>2]=e[o+8>>2],e[z+288+4>>2]=0,e[z+288+8>>2]=e[M>>2],e[z+288+8+4>>2]=e[M+4>>2],e[z+288+8+8>>2]=e[M+8>>2],e[z+288+8+12>>2]=e[M+12>>2],e[z+288+24>>2]=e[z+712+148>>2],e[z+288+24+4>>2]=e[z+712+148+4>>2],e[z+288+24+8>>2]=e[z+712+148+8>>2],e[z+288+24+12>>2]=e[z+712+148+12>>2],i[z+288+40>>2]=C,+ko[e[(e[a>>2]|0)+12>>2]&15](a,z+288|0,1)),H=z;return}default:{m=+i[V>>2],g=+i[V+16>>2],S=+i[V+32>>2],N=+i[V+4>>2],B=+i[V+20>>2],k=+i[V+36>>2],X=+i[V+8>>2],W=+i[V+24>>2],pe=+i[V+40>>2],$=-+i[V+48>>2],Y=-+i[V+52>>2],U=-+i[V+56>>2],F=+i[n+48>>2],L=+i[n+52>>2],_=+i[n+56>>2],d=m*$+g*Y+S*U+(m*F+g*L+S*_),h=N*$+B*Y+k*U+(N*F+B*L+k*_),_=X*$+W*Y+pe*U+(X*F+W*L+pe*_),L=+i[s+48>>2],F=+i[s+52>>2],E=+i[s+56>>2],C=m*$+g*Y+S*U+(m*L+g*F+S*E),w=N*$+B*Y+k*U+(N*L+B*F+k*E),E=X*$+W*Y+pe*U+(X*L+W*F+pe*E),F=+i[s>>2],L=+i[s+16>>2],U=+i[s+32>>2],Y=+i[s+4>>2],$=+i[s+20>>2],q=+i[s+36>>2],ne=+i[s+8>>2],te=+i[s+24>>2],_e=+i[s+40>>2],i[z+712>>2]=m*F+g*L+S*U,i[z+712+4>>2]=m*Y+g*$+S*q,i[z+712+8>>2]=m*ne+g*te+S*_e,i[z+712+12>>2]=0,i[z+712+16>>2]=N*F+B*L+k*U,i[z+712+20>>2]=N*Y+B*$+k*q,i[z+712+24>>2]=N*ne+B*te+k*_e,i[z+712+28>>2]=0,i[z+712+32>>2]=X*F+W*L+pe*U,i[z+712+36>>2]=X*Y+W*$+pe*q,i[z+712+40>>2]=X*ne+W*te+pe*_e,D=z+712+44|0,e[D>>2]=0,e[D+4>>2]=0,e[D+8>>2]=0,e[D+12>>2]=0,e[D+16>>2]=0,o=e[o+8>>2]|0,_e=+Tt[e[(e[O>>2]|0)+48>>2]&15](O),e[z+352>>2]=7e3,e[z+352+4>>2]=t,e[z+352+8>>2]=e[n>>2],e[z+352+8+4>>2]=e[n+4>>2],e[z+352+8+8>>2]=e[n+8>>2],e[z+352+8+12>>2]=e[n+12>>2],e[z+352+24>>2]=e[n+16>>2],e[z+352+24+4>>2]=e[n+16+4>>2],e[z+352+24+8>>2]=e[n+16+8>>2],e[z+352+24+12>>2]=e[n+16+12>>2],e[z+352+40>>2]=e[n+32>>2],e[z+352+40+4>>2]=e[n+32+4>>2],e[z+352+40+8>>2]=e[n+32+8>>2],e[z+352+40+12>>2]=e[n+32+12>>2],e[z+352+56>>2]=e[n+48>>2],e[z+352+56+4>>2]=e[n+48+4>>2],e[z+352+56+8>>2]=e[n+48+8>>2],e[z+352+56+12>>2]=e[n+48+12>>2],e[z+352+72>>2]=e[s>>2],e[z+352+72+4>>2]=e[s+4>>2],e[z+352+72+8>>2]=e[s+8>>2],e[z+352+72+12>>2]=e[s+12>>2],e[z+352+88>>2]=e[s+16>>2],e[z+352+88+4>>2]=e[s+16+4>>2],e[z+352+88+8>>2]=e[s+16+8>>2],e[z+352+88+12>>2]=e[s+16+12>>2],e[z+352+104>>2]=e[s+32>>2],e[z+352+104+4>>2]=e[s+32+4>>2],e[z+352+104+8>>2]=e[s+32+8>>2],e[z+352+104+12>>2]=e[s+32+12>>2],e[z+352+120>>2]=e[s+48>>2],e[z+352+120+4>>2]=e[s+48+4>>2],e[z+352+120+8>>2]=e[s+48+8>>2],e[z+352+120+12>>2]=e[s+48+12>>2],e[z+352+136>>2]=e[V>>2],e[z+352+136+4>>2]=e[V+4>>2],e[z+352+136+8>>2]=e[V+8>>2],e[z+352+136+12>>2]=e[V+12>>2],e[z+352+152>>2]=e[V+16>>2],e[z+352+152+4>>2]=e[V+16+4>>2],e[z+352+152+8>>2]=e[V+16+8>>2],e[z+352+152+12>>2]=e[V+16+12>>2],e[z+352+168>>2]=e[V+32>>2],e[z+352+168+4>>2]=e[V+32+4>>2],e[z+352+168+8>>2]=e[V+32+8>>2],e[z+352+168+12>>2]=e[V+32+12>>2],e[z+352+184>>2]=e[V+48>>2],e[z+352+184+4>>2]=e[V+48+4>>2],e[z+352+184+8>>2]=e[V+48+8>>2],e[z+352+184+12>>2]=e[V+48+12>>2],i[z+352+204>>2]=_e,e[z+352>>2]=3476,e[z+352+212>>2]=a,e[z+352+216>>2]=o,e[z+352+220>>2]=O,e[z+352+200>>2]=e[a+4>>2],i[z+352+208>>2]=l,Kt[e[(e[t>>2]|0)+8>>2]&127](t,z+712|0,z+288|0,z+64|0),i[z+16>>2]=d,i[z+16+4>>2]=h,i[z+16+8>>2]=_,i[z+16+12>>2]=0,C<d?(i[z+16>>2]=C,m=C):m=d,w<h?(i[z+16+4>>2]=w,g=w):g=h,E<_?(i[z+16+8>>2]=E,S=E):S=_,i[z>>2]=d,i[z+4>>2]=h,i[z+8>>2]=_,i[z+12>>2]=0,d<C&&(i[z>>2]=C,d=C),h<w&&(i[z+4>>2]=w,h=w),_<E&&(i[z+8>>2]=E,_=E),i[z+16>>2]=+i[z+288>>2]+m,i[z+16+4>>2]=+i[z+288+4>>2]+g,i[z+16+8>>2]=+i[z+288+8>>2]+S,i[z>>2]=+i[z+64>>2]+d,i[z+4>>2]=+i[z+64+4>>2]+h,i[z+8>>2]=+i[z+64+8>>2]+_,Kt[e[(e[O>>2]|0)+64>>2]&127](O,z+352|0,z+16|0,z),H=z;return}}}function iQ(t){t=t|0,ye(t)}function nQ(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=+o,a=a|0,l=l|0;var u=0;return u=H,H=H+64|0,e[u+48>>2]=a,e[u+48+4>>2]=l,a=e[t+212>>2]|0,+i[a+4>>2]>=o?(e[u>>2]=e[t+216>>2],e[u+4>>2]=u+48,e[u+8>>2]=e[n>>2],e[u+8+4>>2]=e[n+4>>2],e[u+8+8>>2]=e[n+8>>2],e[u+8+12>>2]=e[n+12>>2],e[u+24>>2]=e[s>>2],e[u+24+4>>2]=e[s+4>>2],e[u+24+8>>2]=e[s+8>>2],e[u+24+12>>2]=e[s+12>>2],i[u+40>>2]=o,o=+ko[e[(e[a>>2]|0)+12>>2]&15](a,u,1),H=u,+o):(H=u,+o)}function rQ(t){t=t|0,ye(t)}function sQ(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=+o,a=a|0,l=l|0;var u=0;return u=H,H=H+64|0,e[u+48>>2]=a,e[u+48+4>>2]=l,a=e[t+212>>2]|0,+i[a+4>>2]>=o?(e[u>>2]=e[t+216>>2],e[u+4>>2]=u+48,e[u+8>>2]=e[n>>2],e[u+8+4>>2]=e[n+4>>2],e[u+8+8>>2]=e[n+8>>2],e[u+8+12>>2]=e[n+12>>2],e[u+24>>2]=e[s>>2],e[u+24+4>>2]=e[s+4>>2],e[u+24+8>>2]=e[s+8>>2],e[u+24+12>>2]=e[s+12>>2],i[u+40>>2]=o,o=+ko[e[(e[a>>2]|0)+12>>2]&15](a,u,1),H=u,+o):(H=u,+o)}function oQ(t){t=t|0}function aQ(t){t=t|0,ye(t)}function cQ(t,n){return t=t|0,n=n|0,t=e[t+12>>2]|0,I0[e[(e[t>>2]|0)+8>>2]&31](t,n)|0}function lQ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;return o=H,H=H+16|0,e[o>>2]=-1,e[o+4>>2]=e[t+16>>2],e[n+4>>2]|0||(e[n+4>>2]=o),l=e[t+12>>2]|0,a=+ko[e[(e[l>>2]|0)+12>>2]&15](l,n,s),e[t+4>>2]=e[(e[t+12>>2]|0)+4>>2],H=o,+a}function u1(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l;var u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0;if(u=H,H=H+464|0,$n(10877),e[u+128>>2]=e[s>>2],e[u+128+4>>2]=e[s+4>>2],e[u+128+8>>2]=e[s+8>>2],e[u+128+12>>2]=e[s+12>>2],e[u+128+16>>2]=e[s+16>>2],e[u+128+16+4>>2]=e[s+16+4>>2],e[u+128+16+8>>2]=e[s+16+8>>2],e[u+128+16+12>>2]=e[s+16+12>>2],e[u+128+32>>2]=e[s+32>>2],e[u+128+32+4>>2]=e[s+32+4>>2],e[u+128+32+8>>2]=e[s+32+8>>2],e[u+128+32+12>>2]=e[s+32+12>>2],h=u+128+48|0,e[h>>2]=e[s+48>>2],e[h+4>>2]=e[s+48+4>>2],e[h+8>>2]=e[s+48+8>>2],e[h+12>>2]=e[s+48+12>>2],e[u+64>>2]=e[o>>2],e[u+64+4>>2]=e[o+4>>2],e[u+64+8>>2]=e[o+8>>2],e[u+64+12>>2]=e[o+12>>2],e[u+64+16>>2]=e[o+16>>2],e[u+64+16+4>>2]=e[o+16+4>>2],e[u+64+16+8>>2]=e[o+16+8>>2],e[u+64+16+12>>2]=e[o+16+12>>2],e[u+64+32>>2]=e[o+32>>2],e[u+64+32+4>>2]=e[o+32+4>>2],e[u+64+32+8>>2]=e[o+32+8>>2],e[u+64+32+12>>2]=e[o+32+12>>2],_=u+64+48|0,e[_>>2]=e[o+48>>2],e[_+4>>2]=e[o+48+4>>2],e[_+8>>2]=e[o+48+8>>2],e[_+12>>2]=e[o+48+12>>2],Ea(u+128|0,u+64|0,u+256|0,u+192|0),E=+i[u+192>>2],d=E*+i[u+256+4>>2],w=E*+i[u+256+8>>2],i[u+16>>2]=+i[u+256>>2]*E,i[u+16+4>>2]=d,i[u+16+8>>2]=w,i[u+16+12>>2]=0,e[u+256>>2]=0,e[u+256+4>>2]=0,e[u+256+8>>2]=0,e[u+256+12>>2]=0,e[u+192+4>>2]=0,e[u+192+4+4>>2]=0,e[u+192+24>>2]=0,e[u+192+24+4>>2]=0,M=u+192+44|0,e[M>>2]=0,e[M+4>>2]=0,e[M+8>>2]=0,e[M+12>>2]=0,e[M+16>>2]=0,xs(u+128|0,u),w=+i[u>>2],d=+i[u+4>>2],E=+i[u+8>>2],C=+i[u+12>>2],g=w*(2/(w*w+d*d+E*E+C*C)),m=d*(2/(w*w+d*d+E*E+C*C)),S=E*(2/(w*w+d*d+E*E+C*C)),i[u+192>>2]=1-(d*m+E*S),i[u+192+4>>2]=w*m-C*S,i[u+192+8>>2]=w*S+C*m,i[u+192+12>>2]=0,i[u+192+16>>2]=w*m+C*S,i[u+192+20>>2]=1-(w*g+E*S),i[u+192+24>>2]=d*S-C*g,i[u+192+28>>2]=0,i[u+192+32>>2]=w*S-C*m,i[u+192+36>>2]=d*S+C*g,i[u+192+40>>2]=1-(w*g+d*m),i[M>>2]=0,K6(n,u+192|0,u+256|0,u+16|0,u+48|0,u+32|0),e[u+256>>2]=3524,e[u+256+36>>2]=e[s>>2],e[u+256+36+4>>2]=e[s+4>>2],e[u+256+36+8>>2]=e[s+8>>2],e[u+256+36+12>>2]=e[s+12>>2],e[u+256+52>>2]=e[s+16>>2],e[u+256+52+4>>2]=e[s+16+4>>2],e[u+256+52+8>>2]=e[s+16+8>>2],e[u+256+52+12>>2]=e[s+16+12>>2],e[u+256+68>>2]=e[s+32>>2],e[u+256+68+4>>2]=e[s+32+4>>2],e[u+256+68+8>>2]=e[s+32+8>>2],e[u+256+68+12>>2]=e[s+32+12>>2],M=u+256+84|0,e[M>>2]=e[s+48>>2],e[M+4>>2]=e[s+48+4>>2],e[M+8>>2]=e[s+48+8>>2],e[M+12>>2]=e[s+48+12>>2],e[u+256+100>>2]=e[o>>2],e[u+256+100+4>>2]=e[o+4>>2],e[u+256+100+8>>2]=e[o+8>>2],e[u+256+100+12>>2]=e[o+12>>2],e[u+256+116>>2]=e[o+16>>2],e[u+256+116+4>>2]=e[o+16+4>>2],e[u+256+116+8>>2]=e[o+16+8>>2],e[u+256+116+12>>2]=e[o+16+12>>2],e[u+256+132>>2]=e[o+32>>2],e[u+256+132+4>>2]=e[o+32+4>>2],e[u+256+132+8>>2]=e[o+32+8>>2],e[u+256+132+12>>2]=e[o+32+12>>2],s=u+256+148|0,e[s>>2]=e[o+48>>2],e[s+4>>2]=e[o+48+4>>2],e[s+8>>2]=e[o+48+8>>2],e[s+12>>2]=e[o+48+12>>2],e[u+256+180>>2]=t,e[u+256+184>>2]=a,i[u+256+188>>2]=l,e[u+256+192>>2]=n,m=+i[s>>2]-+i[M>>2],d=+i[u+256+152>>2]-+i[u+256+88>>2],g=+i[u+256+156>>2]-+i[u+256+92>>2],l=1/+at(+(m*m+d*d+g*g)),w=m*l==0?0xde0b6b000000000:1/(m*l),i[u+256+4>>2]=w,C=d*l==0?0xde0b6b000000000:1/(d*l),i[u+256+8>>2]=C,S=g*l==0?0xde0b6b000000000:1/(g*l),i[u+256+12>>2]=S,e[u+256+20>>2]=w<0&1,e[u+256+24>>2]=C<0&1,e[u+256+28>>2]=S<0&1,i[u+256+32>>2]=g*(g*l)+(m*(m*l)+d*(d*l)),n=e[t+68>>2]|0,Lo[e[(e[n>>2]|0)+24>>2]&7](n,h,_,u+256|0,u+48|0,u+32|0),n=e[2006]|0,t=(e[n+16>>2]|0)+-1|0,e[n+16>>2]=t,t|0){H=u;return}do if(e[n+4>>2]|0)if(Tn(u+256|0,0)|0,M=e[5649]|0,i[n+8>>2]=+i[n+8>>2]+ +(((e[u+256+4>>2]|0)-(e[M+4>>2]|0)+(((e[u+256>>2]|0)-(e[M>>2]|0)|0)*1e6|0)-(e[n+12>>2]|0)|0)>>>0)/1e3,e[n+16>>2]|0){H=u;return}else{n=e[2006]|0;break}while(!1);e[2006]=e[n+20>>2],H=u}function Ea(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0;if(h=H,H=H+64|0,m=+i[t+20>>2],D=+i[t+40>>2],S=+i[t+24>>2],M=+i[t+36>>2],E=+i[t+32>>2],d=+i[t+16>>2],_=+i[t>>2],u=+i[t+4>>2],C=+i[t+8>>2],l=1/((m*D-S*M)*_+u*(S*E-D*d)+(M*d-m*E)*C),L=+i[n>>2],F=+i[n+4>>2],U=+i[n+8>>2],k=+i[n+16>>2],B=+i[n+20>>2],N=+i[n+24>>2],w=+i[n+32>>2],g=+i[n+36>>2],a=+i[n+40>>2],i[h+16>>2]=U*((M*d-m*E)*l)+(L*((m*D-S*M)*l)+F*((S*E-D*d)*l)),i[h+16+4>>2]=U*((E*u-M*_)*l)+(L*((M*C-D*u)*l)+F*((D*_-E*C)*l)),i[h+16+8>>2]=U*((m*_-d*u)*l)+(L*((S*u-m*C)*l)+F*((d*C-S*_)*l)),i[h+16+12>>2]=0,i[h+16+16>>2]=(m*D-S*M)*l*k+(S*E-D*d)*l*B+(M*d-m*E)*l*N,i[h+16+20>>2]=(M*C-D*u)*l*k+(D*_-E*C)*l*B+(E*u-M*_)*l*N,i[h+16+24>>2]=(S*u-m*C)*l*k+(d*C-S*_)*l*B+(m*_-d*u)*l*N,i[h+16+28>>2]=0,i[h+16+32>>2]=(m*D-S*M)*l*w+(S*E-D*d)*l*g+(M*d-m*E)*l*a,i[h+16+36>>2]=(M*C-D*u)*l*w+(D*_-E*C)*l*g+(E*u-M*_)*l*a,i[h+16+40>>2]=(S*u-m*C)*l*w+(d*C-S*_)*l*g+(m*_-d*u)*l*a,i[h+16+44>>2]=0,xs(h+16|0,h),a=+i[h>>2],l=+i[h+4>>2],u=+i[h+8>>2],d=+i[h+12>>2],_=1/+at(+(a*a+l*l+u*u+d*d)),i[h>>2]=a*_,i[h+4>>2]=l*_,i[h+8>>2]=u*_,i[h+12>>2]=d*_,d=d*_<-1?-1:d*_,i[o>>2]=+V1(+(d>1?1:d))*2,i[s>>2]=a*_,i[s+4>>2]=l*_,i[s+8>>2]=u*_,i[s+12>>2]=0,a*_*(a*_)+l*_*(l*_)+u*_*(u*_)<14210854715202004e-30){e[s>>2]=1065353216,e[s+4>>2]=0,e[s+8>>2]=0,i[s+12>>2]=0,H=h;return}else{U=1/+at(+(a*_*(a*_)+l*_*(l*_)+u*_*(u*_))),i[s>>2]=a*_*U,i[s+4>>2]=U*(l*_),i[s+8>>2]=U*(u*_),H=h;return}}function xs(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0;if(l=H,H=H+16|0,s=+i[t>>2],o=+i[t+20>>2],a=+i[t+40>>2],s+o+a>0){a=+at(+(s+o+a+1)),i[l+12>>2]=a*.5,d=.5/a*(+i[t+36>>2]-+i[t+24>>2]),i[l>>2]=d,s=.5/a*(+i[t+8>>2]-+i[t+32>>2]),i[l+4>>2]=s,o=.5/a*(+i[t+16>>2]-+i[t+4>>2]),i[l+8>>2]=o,t=(i[Z>>2]=d,e[Z>>2]|0),h=(i[Z>>2]=s,e[Z>>2]|0),_=(i[Z>>2]=o,e[Z>>2]|0),u=(i[Z>>2]=a*.5,e[Z>>2]|0),e[n>>2]=t,t=n+4|0,e[t>>2]=h,t=n+8|0,e[t>>2]=_,t=n+12|0,e[t>>2]=u,H=l;return}else{h=s<o?o<a?2:1:s<a?2:0,d=+at(+(+i[t+(h<<4)+(h<<2)>>2]-+i[t+((((h+1|0)>>>0)%3|0)<<4)+((((h+1|0)>>>0)%3|0)<<2)>>2]-+i[t+((((h+2|0)>>>0)%3|0)<<4)+((((h+2|0)>>>0)%3|0)<<2)>>2]+1)),i[l+(h<<2)>>2]=d*.5,i[l+12>>2]=.5/d*(+i[t+((((h+2|0)>>>0)%3|0)<<4)+((((h+1|0)>>>0)%3|0)<<2)>>2]-+i[t+((((h+1|0)>>>0)%3|0)<<4)+((((h+2|0)>>>0)%3|0)<<2)>>2]),i[l+((((h+1|0)>>>0)%3|0)<<2)>>2]=.5/d*(+i[t+((((h+1|0)>>>0)%3|0)<<4)+(h<<2)>>2]+ +i[t+(h<<4)+((((h+1|0)>>>0)%3|0)<<2)>>2]),i[l+((((h+2|0)>>>0)%3|0)<<2)>>2]=.5/d*(+i[t+((((h+2|0)>>>0)%3|0)<<4)+(h<<2)>>2]+ +i[t+(h<<4)+((((h+2|0)>>>0)%3|0)<<2)>>2]),h=e[l>>2]|0,t=e[l+4>>2]|0,u=e[l+8>>2]|0,_=e[l+12>>2]|0,e[n>>2]=h,h=n+4|0,e[h>>2]=t,h=n+8|0,e[h>>2]=u,h=n+12|0,e[h>>2]=_,H=l;return}}function uQ(t){t=t|0,ye(t)}function fQ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;return o=H,H=H+32|0,s=e[t+184>>2]|0,+i[s+4>>2]==0?(t=0,H=o,t|0):(n=e[n>>2]|0,I0[e[(e[s>>2]|0)+8>>2]&31](s,e[n+188>>2]|0)|0?(l=e[t+192>>2]|0,u=e[n+192>>2]|0,s=e[t+184>>2]|0,a=+i[t+188>>2],e[o>>2]=0,e[o+4>>2]=u,e[o+8>>2]=n,e[o+12>>2]=n+4,e[o+16>>2]=-1,e[o+20>>2]=-1,Ch(l,t+36|0,t+100|0,o,s,a),t=1,H=o,t|0):(t=1,H=o,t|0))}function pQ(t){t=t|0,ye(t)}function _Q(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;return s=H,H=H+96|0,n=e[n>>2]|0,(n|0)==(e[t+4>>2]|0)||(o=e[t+12>>2]|0,!(I0[e[(e[o>>2]|0)+8>>2]&31](o,e[n+188>>2]|0)|0))?(H=s,1):(o=e[t+4>>2]|0,a=e[o+192>>2]|0,e[s+64>>2]=0,e[s+64+4>>2]=a,e[s+64+8>>2]=o,e[s+64+12>>2]=o+4,e[s+64+16>>2]=-1,e[s+64+20>>2]=-1,o=e[n+192>>2]|0,e[s+40>>2]=0,e[s+40+4>>2]=o,e[s+40+8>>2]=n,e[s+40+12>>2]=n+4,e[s+40+16>>2]=-1,e[s+40+20>>2]=-1,n=e[(e[t+8>>2]|0)+24>>2]|0,n=$2[e[(e[n>>2]|0)+8>>2]&31](n,s+64|0,s+40|0,0)|0,n|0&&(a=e[t+12>>2]|0,e[s+4>>2]=0,e[s+8>>2]=s+64,e[s+12>>2]=s+40,e[s>>2]=3564,e[s+32>>2]=a,Qi[e[(e[n>>2]|0)+8>>2]&31](n,s+64|0,s+40|0,(e[t+8>>2]|0)+28|0,s),Vt[e[e[n>>2]>>2]&255](n),a=e[(e[t+8>>2]|0)+24>>2]|0,zt[e[(e[a>>2]|0)+60>>2]&127](a,n)),H=s,1)}function hQ(t){t=t|0}function dQ(t){t=t|0,ye(t)}function mQ(t,n,s){t=t|0,n=n|0,s=s|0,e[t+16>>2]=n,e[t+24>>2]=s}function gQ(t,n,s){t=t|0,n=n|0,s=s|0,e[t+20>>2]=n,e[t+28>>2]=s}function xQ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0;k=H,H=H+192|0,N=e[(e[t+4>>2]|0)+740>>2]|0,B=e[(e[t+8>>2]|0)+8>>2]|0,l=+i[s>>2],M=+i[n>>2]*o+l,u=+i[s+4>>2],E=+i[n+4>>2]*o+u,a=+i[s+8>>2],D=+i[n+8>>2]*o+a,_=e[(e[t+12>>2]|0)+8>>2]|0,h=+i[_+52>>2],d=+i[_+56>>2],(N|0)!=(B|0)?(S=D-+i[_+60>>2],l=l-+i[B+52>>2],u=u-+i[B+56>>2],a=a-+i[B+60>>2],m=(M-h)*+i[_+4>>2]+(E-d)*+i[_+20>>2]+S*+i[_+36>>2],g=(M-h)*+i[_+8>>2]+(E-d)*+i[_+24>>2]+S*+i[_+40>>2],S=(M-h)*+i[_+12>>2]+(E-d)*+i[_+28>>2]+S*+i[_+44>>2],C=l*+i[B+4>>2]+u*+i[B+20>>2]+a*+i[B+36>>2],w=l*+i[B+8>>2]+u*+i[B+24>>2]+a*+i[B+40>>2],a=l*+i[B+12>>2]+u*+i[B+28>>2]+a*+i[B+44>>2]):(w=M-+i[N+52>>2],C=E-+i[N+56>>2],S=D-+i[N+60>>2],a=a-+i[_+60>>2],m=w*+i[N+4>>2]+C*+i[N+20>>2]+S*+i[N+36>>2],g=w*+i[N+8>>2]+C*+i[N+24>>2]+S*+i[N+40>>2],S=w*+i[N+12>>2]+C*+i[N+28>>2]+S*+i[N+44>>2],C=(l-h)*+i[_+4>>2]+(u-d)*+i[_+20>>2]+a*+i[_+36>>2],w=(l-h)*+i[_+8>>2]+(u-d)*+i[_+24>>2]+a*+i[_+40>>2],a=(l-h)*+i[_+12>>2]+(u-d)*+i[_+28>>2]+a*+i[_+44>>2]),i[k>>2]=m,i[k+4>>2]=g,i[k+8>>2]=S,i[k+12>>2]=0,i[k+16>>2]=C,i[k+20>>2]=w,i[k+24>>2]=a,i[k+28>>2]=0,e[k+64>>2]=e[n>>2],e[k+64+4>>2]=e[n+4>>2],e[k+64+8>>2]=e[n+8>>2],e[k+64+12>>2]=e[n+12>>2],i[k+80>>2]=o,i[k+84>>2]=0,i[k+88>>2]=0,i[k+92>>2]=0,e[k+112>>2]=0,A[k+116>>0]=0,e[k+120>>2]=0,e[k+120+4>>2]=0,e[k+120+8>>2]=0,e[k+120+12>>2]=0,e[k+120+16>>2]=0,e[k+120+20>>2]=0,e[k+120+24>>2]=0,e[k+120+28>>2]=0,i[k+48>>2]=M,i[k+52>>2]=E,i[k+56>>2]=D,i[k+60>>2]=0,e[k+32>>2]=e[s>>2],e[k+32+4>>2]=e[s+4>>2],e[k+32+8>>2]=e[s+8>>2],e[k+32+12>>2]=e[s+12>>2],n=e[t+20>>2]|0,_=e[t+16>>2]|0,s=e[t+28>>2]|0,L=e[t+24>>2]|0,F=(N|0)!=(B|0)?n:_,n=(N|0)!=(B|0)?_:n,_=(N|0)!=(B|0)?s:L,s=(N|0)!=(B|0)?L:s,e[k+96>>2]=F,e[k+100>>2]=n,e[k+104>>2]=_,e[k+108>>2]=s,L=e[t+32>>2]|0,+hp[e[(e[L>>2]|0)+12>>2]&1](L,k,e[((N|0)!=(B|0)?t+12|0:t+8|0)>>2]|0,F,_,e[((N|0)!=(B|0)?t+8|0:t+12|0)>>2]|0,n,s),H=k}function wh(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0;if(a=H,H=H+96|0,l=e[n+192>>2]|0,e[a+64>>2]=0,e[a+64+4>>2]=l,e[a+64+8>>2]=n,e[a+64+12>>2]=n+4,e[a+64+16>>2]=-1,e[a+64+20>>2]=-1,n=e[s+192>>2]|0,e[a+40>>2]=0,e[a+40+4>>2]=n,e[a+40+8>>2]=s,e[a+40+12>>2]=s+4,e[a+40+16>>2]=-1,e[a+40+20>>2]=-1,n=e[t+24>>2]|0,n=$2[e[(e[n>>2]|0)+8>>2]&31](n,a+64|0,a+40|0,0)|0,!n){H=a;return}e[a+4>>2]=0,e[a+8>>2]=a+64,e[a+12>>2]=a+40,e[a>>2]=3564,e[a+32>>2]=o,Qi[e[(e[n>>2]|0)+8>>2]&31](n,a+64|0,a+40|0,t+28|0,a),Vt[e[e[n>>2]>>2]&255](n),l=e[t+24>>2]|0,zt[e[(e[l>>2]|0)+60>>2]&127](l,n),H=a}function tp(t){t=t|0;var n=0,s=0,o=0;if(e[t>>2]=3592,n=e[t+12>>2]|0,(n|0)>0){o=0;do s=e[(e[t+20>>2]|0)+(o<<2)>>2]|0,s|0&&(Vt[e[e[s>>2]>>2]&255](s),s=e[t+4>>2]|0,zt[e[(e[s>>2]|0)+60>>2]&127](s,e[(e[t+20>>2]|0)+(o<<2)>>2]|0)),o=o+1|0;while((o|0)!=(n|0))}if(n=e[t+20>>2]|0,!n){A[t+24>>0]=1,e[t+20>>2]=0,e[t+12>>2]=0,t=t+16|0,e[t>>2]=0;return}A[t+24>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+20>>2]=0,A[t+24>>0]=1,e[t+20>>2]=0,e[t+12>>2]=0,t=t+16|0,e[t>>2]=0}function yQ(t){t=t|0,tp(t),ye(t)}function q6(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0;if(w=H,H=H+224|0,S=(A[t+28>>0]|0)!=0,g=S?s:n,S=S?n:s,C=e[g+4>>2]|0,(e[C+72>>2]|0)!=(e[t+40>>2]|0)){if(l=e[t+12>>2]|0,(l|0)>0){_=0;do u=e[(e[t+20>>2]|0)+(_<<2)>>2]|0,u|0&&(Vt[e[e[u>>2]>>2]&255](u),d=e[t+4>>2]|0,zt[e[(e[d>>2]|0)+60>>2]&127](d,e[(e[t+20>>2]|0)+(_<<2)>>2]|0)),_=_+1|0;while((_|0)!=(l|0))}X6(t,n,s),e[t+40>>2]=e[C+72>>2]}if(l=e[t+12>>2]|0,!l){H=w;return}if(d=e[C+68>>2]|0,_=e[t+4>>2]|0,u=e[t+20>>2]|0,h=e[t+32>>2]|0,e[w+192>>2]=3620,e[w+192+4>>2]=g,e[w+192+8>>2]=S,e[w+192+12>>2]=_,e[w+192+16>>2]=o,e[w+192+20>>2]=a,e[w+192+24>>2]=u,e[w+192+28>>2]=h,A[w+128+16>>0]=1,h=w+128+12|0,e[h>>2]=0,e[w+128+4>>2]=0,e[w+128+8>>2]=0,(l|0)>0){for(n=u,o=0;;){if(u=e[n+(o<<2)>>2]|0,u){if(zt[e[(e[u>>2]|0)+16>>2]&127](u,w+128|0),l=e[w+128+4>>2]|0,(l|0)>0){_=0;do s=e[(e[h>>2]|0)+(_<<2)>>2]|0,e[s+748>>2]|0&&(e[a+4>>2]=s,l=e[s+740>>2]|0,u=e[(e[a+8>>2]|0)+8>>2]|0,n=e[(e[a+12>>2]|0)+8>>2]|0,(l|0)==(u|0)?m2(s,l+4|0,n+4|0):m2(s,n+4|0,u+4|0),e[a+4>>2]=0,l=e[w+128+4>>2]|0),_=_+1|0;while((_|0)<(l|0))}if((l|0)<0){(e[w+128+8>>2]|0)<0&&(u=e[h>>2]|0,u|0&&(A[w+128+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[h>>2]=0),A[w+128+16>>0]=1,e[h>>2]=0,e[w+128+8>>2]=0);do e[(e[h>>2]|0)+(l<<2)>>2]=0,l=l+1|0;while((l|0)!=0)}e[w+128+4>>2]=0,l=e[t+12>>2]|0}if(u=o+1|0,(u|0)>=(l|0))break;n=e[t+20>>2]|0,o=u}l=e[h>>2]|0,l|0&&(A[w+128+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[h>>2]=0)}if(d)m=e[g+12>>2]|0,q=+i[m>>2],$=+i[m+16>>2],Y=+i[m+32>>2],z=+i[m+4>>2],O=+i[m+20>>2],V=+i[m+36>>2],k=+i[m+8>>2],N=+i[m+24>>2],E=+i[m+40>>2],U=-+i[m+48>>2],L=-+i[m+52>>2],F=-+i[m+56>>2],m=e[S+12>>2]|0,re=+i[m>>2],me=+i[m+16>>2],he=+i[m+32>>2],_e=+i[m+4>>2],pe=+i[m+20>>2],te=+i[m+36>>2],W=+i[m+8>>2],ne=+i[m+24>>2],X=+i[m+40>>2],B=+i[m+48>>2],D=+i[m+52>>2],M=+i[m+56>>2],i[w+48>>2]=q*re+$*me+Y*he,i[w+48+4>>2]=q*_e+$*pe+Y*te,i[w+48+8>>2]=q*W+$*ne+Y*X,i[w+48+12>>2]=0,i[w+48+16>>2]=z*re+O*me+V*he,i[w+48+20>>2]=z*_e+O*pe+V*te,i[w+48+24>>2]=z*W+O*ne+V*X,i[w+48+28>>2]=0,i[w+48+32>>2]=k*re+N*me+E*he,i[w+48+36>>2]=k*_e+N*pe+E*te,i[w+48+40>>2]=k*W+N*ne+E*X,i[w+48+44>>2]=0,i[w+48+48>>2]=q*U+$*L+Y*F+(q*B+$*D+Y*M),i[w+48+52>>2]=z*U+O*L+V*F+(z*B+O*D+V*M),i[w+48+56>>2]=k*U+N*L+E*F+(k*B+N*D+E*M),i[w+48+60>>2]=0,m=e[S+4>>2]|0,Kt[e[(e[m>>2]|0)+8>>2]&127](m,w+48|0,w+128|0,w+112|0),e[w+16>>2]=e[w+128>>2],e[w+16+4>>2]=e[w+128+4>>2],e[w+16+8>>2]=e[w+128+8>>2],e[w+16+12>>2]=e[w+128+12>>2],e[w+16+16>>2]=e[w+112>>2],e[w+16+16+4>>2]=e[w+112+4>>2],e[w+16+16+8>>2]=e[w+112+8>>2],e[w+16+16+12>>2]=e[w+112+12>>2],yu(e[d>>2]|0,w+16|0,w+192|0),m=39;else if(u=e[t+12>>2]|0,(u|0)>0){l=0;do $6(w+192|0,e[(e[C+28>>2]|0)+(l*80|0)+64>>2]|0,l),l=l+1|0;while((l|0)<(u|0));m=39}if((m|0)==39&&(u=e[t+12>>2]|0),(u|0)>0){n=0;do{do if(e[(e[t+20>>2]|0)+(n<<2)>>2]|0){if(d=e[C+28>>2]|0,m=e[d+(n*80|0)+64>>2]|0,a=e[g+12>>2]|0,N=+i[a>>2],B=+i[a+4>>2],k=+i[a+8>>2],F=+i[a+16>>2],L=+i[a+20>>2],U=+i[a+24>>2],X=+i[a+32>>2],W=+i[a+36>>2],pe=+i[a+40>>2],V=+i[d+(n*80|0)>>2],O=+i[d+(n*80|0)+16>>2],z=+i[d+(n*80|0)+32>>2],Y=+i[d+(n*80|0)+4>>2],$=+i[d+(n*80|0)+20>>2],q=+i[d+(n*80|0)+36>>2],ne=+i[d+(n*80|0)+8>>2],te=+i[d+(n*80|0)+24>>2],_e=+i[d+(n*80|0)+40>>2],E=+i[d+(n*80|0)+48>>2],D=+i[d+(n*80|0)+52>>2],re=+i[d+(n*80|0)+56>>2],he=+i[a+48>>2]+(N*E+B*D+k*re),me=+i[a+52>>2]+(F*E+L*D+U*re),re=+i[a+56>>2]+(X*E+W*D+pe*re),i[w+128>>2]=N*V+B*O+k*z,i[w+128+4>>2]=N*Y+B*$+k*q,i[w+128+8>>2]=N*ne+B*te+k*_e,i[w+128+12>>2]=0,i[w+128+16>>2]=F*V+L*O+U*z,i[w+128+20>>2]=F*Y+L*$+U*q,i[w+128+24>>2]=F*ne+L*te+U*_e,i[w+128+28>>2]=0,i[w+128+32>>2]=X*V+W*O+pe*z,i[w+128+36>>2]=X*Y+W*$+pe*q,i[w+128+40>>2]=X*ne+W*te+pe*_e,i[w+128+44>>2]=0,i[w+128+48>>2]=he,i[w+128+52>>2]=me,i[w+128+56>>2]=re,i[w+128+60>>2]=0,Kt[e[(e[m>>2]|0)+8>>2]&127](m,w+128|0,w+112|0,w+48|0),m=e[S+4>>2]|0,Kt[e[(e[m>>2]|0)+8>>2]&127](m,e[S+12>>2]|0,w+16|0,w),!(+i[w+112>>2]>+i[w>>2])&&!(+i[w+48>>2]<+i[w+16>>2])?l=1:l=0,!(+i[w+112+8>>2]>+i[w+8>>2])&&!(+i[w+48+8>>2]<+i[w+16+8>>2])||(l=0),!(+i[w+112+4>>2]>+i[w+4>>2])&&!(+i[w+48+4>>2]<+i[w+16+4>>2]|l^1))break;m=e[(e[t+20>>2]|0)+(n<<2)>>2]|0,Vt[e[e[m>>2]>>2]&255](m),m=e[t+4>>2]|0,zt[e[(e[m>>2]|0)+60>>2]&127](m,e[(e[t+20>>2]|0)+(n<<2)>>2]|0),e[(e[t+20>>2]|0)+(n<<2)>>2]=0}while(!1);n=n+1|0}while((n|0)<(u|0))}H=w}function X6(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0;if(d=H,H=H+32|0,l=(A[t+28>>0]|0)!=0,h=l?s:n,l=l?n:s,u=e[h+4>>2]|0,_=e[u+20>>2]|0,a=e[t+12>>2]|0,(a|0)<(_|0)){if((e[t+16>>2]|0)<(_|0)){if(_?(e[5637]=(e[5637]|0)+1,n=Xe((_<<2|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,s=e[t+12>>2]|0):(n=0,s=a),(s|0)>0){o=0;do e[n+(o<<2)>>2]=e[(e[t+20>>2]|0)+(o<<2)>>2],o=o+1|0;while((o|0)!=(s|0))}s=e[t+20>>2]|0,s|0&&(A[t+24>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+20>>2]=0),A[t+24>>0]=1,e[t+20>>2]=n,e[t+16>>2]=_,s=t+20|0}else s=t+20|0;n=a;do e[(e[s>>2]|0)+(n<<2)>>2]=0,n=n+1|0;while((n|0)!=(_|0))}if(e[t+12>>2]=_,(_|0)<=0){H=d;return}n=0;do e[u+68>>2]|0?e[(e[t+20>>2]|0)+(n<<2)>>2]=0:(s=e[(e[u+28>>2]|0)+(n*80|0)+64>>2]|0,o=e[h+8>>2]|0,a=e[h+12>>2]|0,e[d>>2]=h,e[d+4>>2]=s,e[d+8>>2]=o,e[d+12>>2]=a,e[d+16>>2]=-1,e[d+20>>2]=n,a=e[t+4>>2]|0,a=$2[e[(e[a>>2]|0)+8>>2]&31](a,d,l,e[t+32>>2]|0)|0,e[(e[t+20>>2]|0)+(n<<2)>>2]=a),n=n+1|0;while((n|0)!=(_|0));H=d}function vQ(t){t=t|0,ye(t)}function SQ(t,n){t=t|0,n=n|0,n=e[n+36>>2]|0,$6(t,e[(e[(e[(e[t+4>>2]|0)+4>>2]|0)+28>>2]|0)+(n*80|0)+64>>2]|0,n)}function $6(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0;if(l=H,H=H+160|0,o=e[t+4>>2]|0,a=e[o+12>>2]|0,z=+i[a>>2],O=+i[a+4>>2],V=+i[a+8>>2],U=+i[a+16>>2],L=+i[a+20>>2],F=+i[a+24>>2],w=+i[a+32>>2],S=+i[a+36>>2],m=+i[a+40>>2],o=e[(e[o+4>>2]|0)+28>>2]|0,k=+i[o+(s*80|0)>>2],B=+i[o+(s*80|0)+16>>2],N=+i[o+(s*80|0)+32>>2],D=+i[o+(s*80|0)+4>>2],E=+i[o+(s*80|0)+20>>2],M=+i[o+(s*80|0)+36>>2],C=+i[o+(s*80|0)+8>>2],g=+i[o+(s*80|0)+24>>2],d=+i[o+(s*80|0)+40>>2],$=+i[o+(s*80|0)+48>>2],Y=+i[o+(s*80|0)+52>>2],u=+i[o+(s*80|0)+56>>2],h=+i[a+48>>2]+(z*$+O*Y+V*u),_=+i[a+52>>2]+(U*$+L*Y+F*u),u=+i[a+56>>2]+(w*$+S*Y+m*u),i[l+88>>2]=z*k+O*B+V*N,i[l+88+4>>2]=z*D+O*E+V*M,i[l+88+8>>2]=z*C+O*g+V*d,i[l+88+12>>2]=0,i[l+88+16>>2]=U*k+L*B+F*N,i[l+88+20>>2]=U*D+L*E+F*M,i[l+88+24>>2]=U*C+L*g+F*d,i[l+88+28>>2]=0,i[l+88+32>>2]=w*k+S*B+m*N,i[l+88+36>>2]=w*D+S*E+m*M,i[l+88+40>>2]=w*C+S*g+m*d,i[l+88+44>>2]=0,i[l+88+48>>2]=h,i[l+88+52>>2]=_,i[l+88+56>>2]=u,i[l+88+60>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,l+88|0,l+72|0,l+56|0),a=e[t+8>>2]|0,o=e[a+4>>2]|0,Kt[e[(e[o>>2]|0)+8>>2]&127](o,e[a+12>>2]|0,l+40|0,l+24|0),!(+i[l+72>>2]>+i[l+24>>2])&&!(+i[l+56>>2]<+i[l+40>>2])?o=1:o=0,!(+i[l+72+8>>2]>+i[l+24+8>>2])&&!(+i[l+56+8>>2]<+i[l+40+8>>2])||(o=0),+i[l+72+4>>2]>+i[l+24+4>>2]){H=l;return}if(+i[l+56+4>>2]<+i[l+40+4>>2]|o^1){H=l;return}o=e[t+4>>2]|0,a=e[o+8>>2]|0,e[l>>2]=o,e[l+4>>2]=n,e[l+8>>2]=a,e[l+12>>2]=l+88,e[l+16>>2]=-1,e[l+20>>2]=s,e[(e[t+24>>2]|0)+(s<<2)>>2]|0||(o=e[t+12>>2]|0,o=$2[e[(e[o>>2]|0)+8>>2]&31](o,l,e[t+8>>2]|0,e[t+28>>2]|0)|0,e[(e[t+24>>2]|0)+(s<<2)>>2]=o,o=e[t+4>>2]|0),a=e[t+20>>2]|0,n=e[a+8>>2]|0,(e[n+8>>2]|0)==(e[o+8>>2]|0)?(e[a+8>>2]=l,f0[e[(e[a>>2]|0)+8>>2]&127](a,-1,s)):(n=e[a+12>>2]|0,e[a+12>>2]=l,f0[e[(e[a>>2]|0)+12>>2]&127](a,-1,s)),o=e[(e[t+24>>2]|0)+(s<<2)>>2]|0,Qi[e[(e[o>>2]|0)+8>>2]&31](o,l,e[t+8>>2]|0,e[t+16>>2]|0,e[t+20>>2]|0),o=e[t+20>>2]|0,(e[(e[o+8>>2]|0)+8>>2]|0)==(e[(e[t+4>>2]|0)+8>>2]|0)?e[o+8>>2]=n:e[o+12>>2]=n,H=l}function TQ(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0;if(L=(A[t+28>>0]|0)!=0,O=L?s:n,L=L?n:s,U=e[t+12>>2]|0,(U|0)<=0)return B=1,+B;F=(e[O+192>>2]|0)+28|0,u=+i[O+4>>2],E=+i[O+8>>2],D=+i[O+12>>2],N=e[O+16>>2]|0,B=+i[O+20>>2],_=+i[O+24>>2],h=+i[O+28>>2],n=e[O+32>>2]|0,d=+i[O+36>>2],m=+i[O+40>>2],g=+i[O+44>>2],s=e[O+48>>2]|0,S=+i[O+52>>2],C=+i[O+56>>2],w=+i[O+60>>2],M=e[O+64>>2]|0,k=e[O+284>>2]|0,l=1,V=0;do Y=e[F>>2]|0,re=+i[Y+(V*80|0)>>2],me=+i[Y+(V*80|0)+16>>2],he=+i[Y+(V*80|0)+32>>2],_e=+i[Y+(V*80|0)+4>>2],pe=+i[Y+(V*80|0)+20>>2],te=+i[Y+(V*80|0)+36>>2],W=+i[Y+(V*80|0)+8>>2],ne=+i[Y+(V*80|0)+24>>2],X=+i[Y+(V*80|0)+40>>2],q=+i[Y+(V*80|0)+48>>2],$=+i[Y+(V*80|0)+52>>2],z=+i[Y+(V*80|0)+56>>2],e[O+284>>2]=k+1,i[O+4>>2]=u*re+E*me+D*he,i[O+8>>2]=u*_e+E*pe+D*te,i[O+12>>2]=u*W+E*ne+D*X,i[O+16>>2]=0,i[O+20>>2]=B*re+_*me+h*he,i[O+24>>2]=B*_e+_*pe+h*te,i[O+28>>2]=B*W+_*ne+h*X,i[O+32>>2]=0,i[O+36>>2]=d*re+m*me+g*he,i[O+40>>2]=d*_e+m*pe+g*te,i[O+44>>2]=d*W+m*ne+g*X,i[O+48>>2]=0,i[O+52>>2]=S+(u*q+E*$+D*z),i[O+56>>2]=C+(B*q+_*$+h*z),i[O+60>>2]=w+(d*q+m*$+g*z),i[O+64>>2]=0,Y=e[(e[t+20>>2]|0)+(V<<2)>>2]|0,z=+Oh[e[(e[Y>>2]|0)+12>>2]&15](Y,O,L,o,a),l=z<l?z:l,k=(e[O+284>>2]|0)+1|0,e[O+284>>2]=k,i[O+4>>2]=u,i[O+8>>2]=E,i[O+12>>2]=D,e[O+16>>2]=N,i[O+20>>2]=B,i[O+24>>2]=_,i[O+28>>2]=h,e[O+32>>2]=n,i[O+36>>2]=d,i[O+40>>2]=m,i[O+44>>2]=g,e[O+48>>2]=s,i[O+52>>2]=S,i[O+56>>2]=C,i[O+60>>2]=w,e[O+64>>2]=M,V=V+1|0;while((V|0)!=(U|0));return+l}function CQ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;if(s=e[t+12>>2]|0,!((s|0)<=0)){a=0;do o=e[(e[t+20>>2]|0)+(a<<2)>>2]|0,o&&(zt[e[(e[o>>2]|0)+16>>2]&127](o,n),s=e[t+12>>2]|0),a=a+1|0;while((a|0)<(s|0))}}function Mh(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,e[t+4>>2]=e[n>>2],e[t>>2]=3592,A[t+24>>0]=1,e[t+20>>2]=0,e[t+12>>2]=0,e[t+16>>2]=0,A[t+28>>0]=a&1,e[t+32>>2]=e[n+4>>2],A[t+36>>0]=0,e[t+40>>2]=e[(e[(a?o:s)+4>>2]|0)+72>>2],X6(t,s,o)}function Y6(t){t=t|0;var n=0,s=0,o=0,a=0,l=0;if(e[t>>2]=3656,n=e[t+44>>2]|0,s=e[n+8>>2]|0,(s|0)>0){a=0;do o=e[(e[n+16>>2]|0)+(a*12|0)+8>>2]|0,o|0&&(Vt[e[e[o>>2]>>2]&255](o),l=e[t+4>>2]|0,zt[e[(e[l>>2]|0)+60>>2]&127](l,o)),a=a+1|0;while((a|0)!=(s|0));n=e[t+44>>2]|0}if(xm(n),n=e[t+44>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+44>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+60>>2]|0,!n){A[t+64>>0]=1,e[t+60>>2]=0,e[t+52>>2]=0,l=t+56|0,e[l>>2]=0,tp(t);return}A[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+60>>2]=0,A[t+64>>0]=1,e[t+60>>2]=0,e[t+52>>2]=0,l=t+56|0,e[l>>2]=0,tp(t)}function wQ(t){t=t|0,Y6(t),ye(t)}function MQ(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,ot=0,mt=0,lt=0,pt=0,Nt=0,st=0,Te=0,kt=0;if(He=H,H=H+176|0,ke=e[n+4>>2]|0,Ae=e[s+4>>2]|0,C=e[ke+68>>2]|0,w=e[Ae+68>>2]|0,!((C|0)!=0&(w|0)!=0)){q6(t,n,s,o,a),H=He;return}if((e[ke+72>>2]|0)==(e[t+68>>2]|0)&&(e[Ae+72>>2]|0)==(e[t+72>>2]|0))ge=t+44|0;else{if(l=e[t+44>>2]|0,u=e[l+8>>2]|0,(u|0)>0){h=0;do _=e[(e[l+16>>2]|0)+(h*12|0)+8>>2]|0,_|0&&(Vt[e[e[_>>2]>>2]&255](_),ge=e[t+4>>2]|0,zt[e[(e[ge>>2]|0)+60>>2]&127](ge,_)),h=h+1|0;while((h|0)!=(u|0));l=e[t+44>>2]|0}xm(l),e[t+68>>2]=e[ke+72>>2],e[t+72>>2]=e[Ae+72>>2],ge=t+44|0}if(A[He+128+16>>0]=1,S=He+128+12|0,e[S>>2]=0,e[He+128+4>>2]=0,e[He+128+8>>2]=0,g=e[ge>>2]|0,l=e[g+8>>2]|0,(l|0)>0){m=0;do{if(u=e[(e[g+16>>2]|0)+(m*12|0)+8>>2]|0,u){if(zt[e[(e[u>>2]|0)+16>>2]&127](u,He+128|0),l=e[He+128+4>>2]|0,(l|0)>0){d=0;do h=e[(e[S>>2]|0)+(d<<2)>>2]|0,e[h+748>>2]|0&&(e[a+4>>2]=h,l=e[h+740>>2]|0,u=e[(e[a+8>>2]|0)+8>>2]|0,_=e[(e[a+12>>2]|0)+8>>2]|0,(l|0)==(u|0)?m2(h,l+4|0,_+4|0):m2(h,_+4|0,u+4|0),e[a+4>>2]=0,l=e[He+128+4>>2]|0),d=d+1|0;while((d|0)<(l|0))}if((l|0)<0){(e[He+128+8>>2]|0)<0&&(u=e[S>>2]|0,u|0&&(A[He+128+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[S>>2]=0),A[He+128+16>>0]=1,e[S>>2]=0,e[He+128+8>>2]=0);do e[(e[S>>2]|0)+(l<<2)>>2]=0,l=l+1|0;while((l|0)!=0)}e[He+128+4>>2]=0,l=e[g+8>>2]|0}m=m+1|0}while((m|0)<(l|0));l=e[S>>2]|0,l|0&&(A[He+128+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[S>>2]=0)}if(S=e[t+4>>2]|0,u=e[ge>>2]|0,_=e[t+32>>2]|0,e[He+128>>2]=3684,e[He+128+4>>2]=0,e[He+128+8>>2]=n,e[He+128+12>>2]=s,e[He+128+16>>2]=S,e[He+128+20>>2]=o,e[He+128+24>>2]=a,e[He+128+28>>2]=u,e[He+128+32>>2]=_,_=e[n+12>>2]|0,V=+i[_>>2],O=+i[_+16>>2],z=+i[_+32>>2],Y=+i[_+4>>2],$=+i[_+20>>2],q=+i[_+36>>2],X=+i[_+8>>2],ne=+i[_+24>>2],W=+i[_+40>>2],te=-+i[_+48>>2],pe=-+i[_+52>>2],_e=-+i[_+56>>2],_=e[s+12>>2]|0,he=+i[_>>2],me=+i[_+16>>2],re=+i[_+32>>2],oe=+i[_+4>>2],ae=+i[_+20>>2],xe=+i[_+36>>2],ve=+i[_+8>>2],de=+i[_+24>>2],fe=+i[_+40>>2],Ce=+i[_+48>>2],we=+i[_+52>>2],be=+i[_+56>>2],_=e[C>>2]|0,u=e[w>>2]|0,(_|0)!=0&(u|0)!=0){for(e[5637]=(e[5637]|0)+1,l=Xe(1043)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,e[l>>2]=_,e[l+4>>2]=u,M=+ht(+(V*he+O*me+z*re)),E=+ht(+(V*oe+O*ae+z*xe)),D=+ht(+(V*ve+O*de+z*fe)),N=+ht(+(Y*he+$*me+q*re)),B=+ht(+(Y*oe+$*ae+q*xe)),k=+ht(+(Y*ve+$*de+q*fe)),F=+ht(+(X*he+ne*me+W*re)),L=+ht(+(X*oe+ne*ae+W*xe)),U=+ht(+(X*ve+ne*de+W*fe)),C=1,_=128,h=128,u=124;;){S=C+-1|0,o=e[l+(S<<3)>>2]|0,a=e[l+(S<<3)+4>>2]|0,kt=+i[a+16>>2],Te=+i[a>>2],st=+i[a+20>>2],Nt=+i[a+4>>2],pt=+i[a+24>>2],Ke=+i[a+8>>2],lt=V*te+O*pe+z*_e+(V*Ce+O*we+z*be)+((V*he+O*me+z*re)*((kt+Te)*.5)+(V*oe+O*ae+z*xe)*((st+Nt)*.5)+(V*ve+O*de+z*fe)*((pt+Ke)*.5)),ot=Y*te+$*pe+q*_e+(Y*Ce+$*we+q*be)+((Y*he+$*me+q*re)*((kt+Te)*.5)+(Y*oe+$*ae+q*xe)*((st+Nt)*.5)+(Y*ve+$*de+q*fe)*((pt+Ke)*.5)),Ze=X*te+ne*pe+W*_e+(X*Ce+ne*we+W*be)+((X*he+ne*me+W*re)*((kt+Te)*.5)+(X*oe+ne*ae+W*xe)*((st+Nt)*.5)+(X*ve+ne*de+W*fe)*((pt+Ke)*.5)),mt=((kt-Te)*.5+0)*M+((st-Nt)*.5+0)*E+((pt-Ke)*.5+0)*D,ut=((kt-Te)*.5+0)*N+((st-Nt)*.5+0)*B+((pt-Ke)*.5+0)*k,Ke=((kt-Te)*.5+0)*F+((st-Nt)*.5+0)*L+((pt-Ke)*.5+0)*U;do if(+i[o>>2]<=mt+lt&&+i[o+16>>2]>=lt-mt&&+i[o+4>>2]<=ot+ut&&+i[o+20>>2]>=ot-ut&&+i[o+8>>2]<=Ze+Ke&&+i[o+24>>2]>=Ze-Ke){if((S|0)>(u|0)){d=h<<1;do if((h|0)<(d|0)&(_|0)<(d|0)){do if(!h)u=0,Se=54;else{if(e[5637]=(e[5637]|0)+1,u=Xe((h<<4|3)+16|0)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,(h|0)>0)_=0;else{Se=54;break}do m=l+(_<<3)|0,g=e[m+4>>2]|0,w=u+(_<<3)|0,e[w>>2]=e[m>>2],e[w+4>>2]=g,_=_+1|0;while((_|0)!=(h|0))}while(!1);if((Se|0)==54&&(Se=0,!l)){_=d,l=u;break}e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0),_=d,l=u}while(!1);g=d,u=d+-4|0}else g=h;if(h=(e[a+40>>2]|0)!=0,e[o+40>>2]|0)if(d=l+(S<<3)|0,m=e[o+36>>2]|0,h){h=e[a+36>>2]|0,e[d>>2]=m,e[l+(S<<3)+4>>2]=h,h=C+1|0,d=e[a+36>>2]|0,e[l+(C<<3)>>2]=e[o+40>>2],e[l+(C<<3)+4>>2]=d,d=C+2|0,w=e[a+40>>2]|0,e[l+(h<<3)>>2]=e[o+36>>2],e[l+(h<<3)+4>>2]=w,h=e[a+40>>2]|0,e[l+(d<<3)>>2]=e[o+40>>2],e[l+(d<<3)+4>>2]=h,d=C+3|0,h=g;break}else{e[d>>2]=m,e[l+(S<<3)+4>>2]=a,e[l+(C<<3)>>2]=e[o+40>>2],e[l+(C<<3)+4>>2]=a,d=C+1|0,h=g;break}else if(h){d=e[a+36>>2]|0,e[l+(S<<3)>>2]=o,e[l+(S<<3)+4>>2]=d,d=e[a+40>>2]|0,e[l+(C<<3)>>2]=o,e[l+(C<<3)+4>>2]=d,d=C+1|0,h=g;break}else{f0[e[(e[He+128>>2]|0)+8>>2]&127](He+128|0,o,a),d=S,h=g;break}}else d=S;while(!1);if(d)C=d;else break}l|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0))}if(m=e[ge>>2]|0,(e[m+8>>2]|0)>0){g=0;do{l=e[m+16>>2]|0,u=e[l+(g*12|0)+8>>2]|0;do if(u|0){if(Se=e[l+(g*12|0)>>2]|0,w=e[ke+28>>2]|0,C=e[w+(Se*80|0)+64>>2]|0,a=e[n+12>>2]|0,kt=+i[a>>2],me=+i[a+4>>2],he=+i[a+8>>2],Nt=+i[a+16>>2],lt=+i[a+20>>2],ot=+i[a+24>>2],pt=+i[a+32>>2],ut=+i[a+36>>2],ve=+i[a+40>>2],Ze=+i[w+(Se*80|0)>>2],Ke=+i[w+(Se*80|0)+16>>2],be=+i[w+(Se*80|0)+32>>2],we=+i[w+(Se*80|0)+4>>2],Ce=+i[w+(Se*80|0)+20>>2],fe=+i[w+(Se*80|0)+36>>2],mt=+i[w+(Se*80|0)+8>>2],de=+i[w+(Se*80|0)+24>>2],xe=+i[w+(Se*80|0)+40>>2],Te=+i[w+(Se*80|0)+48>>2],st=+i[w+(Se*80|0)+52>>2],re=+i[w+(Se*80|0)+56>>2],ae=+i[a+48>>2]+(kt*Te+me*st+he*re),oe=+i[a+52>>2]+(Nt*Te+lt*st+ot*re),re=+i[a+56>>2]+(pt*Te+ut*st+ve*re),i[He>>2]=kt*Ze+me*Ke+he*be,i[He+4>>2]=kt*we+me*Ce+he*fe,i[He+8>>2]=kt*mt+me*de+he*xe,i[He+12>>2]=0,i[He+16>>2]=Nt*Ze+lt*Ke+ot*be,i[He+20>>2]=Nt*we+lt*Ce+ot*fe,i[He+24>>2]=Nt*mt+lt*de+ot*xe,i[He+28>>2]=0,i[He+32>>2]=pt*Ze+ut*Ke+ve*be,i[He+36>>2]=pt*we+ut*Ce+ve*fe,i[He+40>>2]=pt*mt+ut*de+ve*xe,i[He+44>>2]=0,i[He+48>>2]=ae,i[He+52>>2]=oe,i[He+56>>2]=re,i[He+60>>2]=0,Kt[e[(e[C>>2]|0)+8>>2]&127](C,He,He+112|0,He+96|0),C=e[(e[m+16>>2]|0)+(g*12|0)+4>>2]|0,a=e[Ae+28>>2]|0,Se=e[a+(C*80|0)+64>>2]|0,w=e[s+12>>2]|0,re=+i[w>>2],oe=+i[w+4>>2],ae=+i[w+8>>2],xe=+i[w+16>>2],ve=+i[w+20>>2],de=+i[w+24>>2],ut=+i[w+32>>2],mt=+i[w+36>>2],pt=+i[w+40>>2],fe=+i[a+(C*80|0)>>2],Ce=+i[a+(C*80|0)+16>>2],we=+i[a+(C*80|0)+32>>2],be=+i[a+(C*80|0)+4>>2],Ke=+i[a+(C*80|0)+20>>2],Ze=+i[a+(C*80|0)+36>>2],ot=+i[a+(C*80|0)+8>>2],lt=+i[a+(C*80|0)+24>>2],Nt=+i[a+(C*80|0)+40>>2],he=+i[a+(C*80|0)+48>>2],me=+i[a+(C*80|0)+52>>2],kt=+i[a+(C*80|0)+56>>2],st=+i[w+48>>2]+(re*he+oe*me+ae*kt),Te=+i[w+52>>2]+(xe*he+ve*me+de*kt),kt=+i[w+56>>2]+(ut*he+mt*me+pt*kt),i[He>>2]=re*fe+oe*Ce+ae*we,i[He+4>>2]=re*be+oe*Ke+ae*Ze,i[He+8>>2]=re*ot+oe*lt+ae*Nt,i[He+12>>2]=0,i[He+16>>2]=xe*fe+ve*Ce+de*we,i[He+20>>2]=xe*be+ve*Ke+de*Ze,i[He+24>>2]=xe*ot+ve*lt+de*Nt,i[He+28>>2]=0,i[He+32>>2]=ut*fe+mt*Ce+pt*we,i[He+36>>2]=ut*be+mt*Ke+pt*Ze,i[He+40>>2]=ut*ot+mt*lt+pt*Nt,i[He+44>>2]=0,i[He+48>>2]=st,i[He+52>>2]=Te,i[He+56>>2]=kt,i[He+60>>2]=0,Kt[e[(e[Se>>2]|0)+8>>2]&127](Se,He,He+80|0,He+64|0),!(+i[He+112>>2]>+i[He+64>>2])&&!(+i[He+96>>2]<+i[He+80>>2])?l=1:l=0,!(+i[He+112+8>>2]>+i[He+64+8>>2])&&!(+i[He+96+8>>2]<+i[He+80+8>>2])||(l=0),!(+i[He+112+4>>2]>+i[He+64+4>>2])&&!(+i[He+96+4>>2]<+i[He+80+4>>2]|l^1))break;if(Vt[e[e[u>>2]>>2]&255](u),d=e[t+4>>2]|0,zt[e[(e[d>>2]|0)+60>>2]&127](d,u),d=e[m+16>>2]|0,h=e[d+(g*12|0)>>2]|0,d=e[d+(g*12|0)+4>>2]|0,l=e[t+52>>2]|0,(l|0)==(e[t+56>>2]|0)&&(qe=l|0?l<<1:1,(l|0)<(qe|0))){if(qe?(e[5637]=(e[5637]|0)+1,l=Xe((qe*12|3)+16|0)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,_=l,l=e[t+52>>2]|0):_=0,(l|0)>0){u=0;do Se=_+(u*12|0)|0,w=(e[t+60>>2]|0)+(u*12|0)|0,e[Se>>2]=e[w>>2],e[Se+4>>2]=e[w+4>>2],e[Se+8>>2]=e[w+8>>2],u=u+1|0;while((u|0)!=(l|0))}l=e[t+60>>2]|0,l|0&&(A[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+60>>2]=0),A[t+64>>0]=1,e[t+60>>2]=_,e[t+56>>2]=qe,l=e[t+52>>2]|0}Se=e[t+60>>2]|0,e[Se+(l*12|0)>>2]=h,e[Se+(l*12|0)+4>>2]=d,e[Se+(l*12|0)+8>>2]=0,e[t+52>>2]=(e[t+52>>2]|0)+1}while(!1);g=g+1|0}while((g|0)<(e[m+8>>2]|0));u=t+60|0,_=t+52|0}else u=t+60|0,_=t+52|0;if((e[_>>2]|0)>0){l=0;do n=e[ge>>2]|0,s=e[u>>2]|0,V0[e[(e[n>>2]|0)+8>>2]&63](n,e[s+(l*12|0)>>2]|0,e[s+(l*12|0)+4>>2]|0)|0,l=l+1|0;while((l|0)<(e[_>>2]|0))}l=e[u>>2]|0,l|0&&(A[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[u>>2]=0),A[t+64>>0]=1,e[u>>2]=0,e[_>>2]=0,e[t+56>>2]=0,H=He}function RQ(t){t=t|0,ye(t)}function AQ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0;if(d=H,H=H+240|0,e[t+4>>2]=(e[t+4>>2]|0)+1,_=e[n+36>>2]|0,u=e[s+36>>2]|0,a=e[t+8>>2]|0,te=e[(e[a+4>>2]|0)+28>>2]|0,s=e[te+(_*80|0)+64>>2]|0,n=(e[(e[t+12>>2]|0)+4>>2]|0)+28|0,o=e[(e[n>>2]|0)+(u*80|0)+64>>2]|0,a=e[a+12>>2]|0,m=+i[a>>2],ne=+i[a+4>>2],W=+i[a+8>>2],C=+i[a+16>>2],M=+i[a+20>>2],D=+i[a+24>>2],w=+i[a+32>>2],N=+i[a+36>>2],z=+i[a+40>>2],B=+i[te+(_*80|0)>>2],k=+i[te+(_*80|0)+16>>2],F=+i[te+(_*80|0)+32>>2],L=+i[te+(_*80|0)+4>>2],U=+i[te+(_*80|0)+20>>2],V=+i[te+(_*80|0)+36>>2],E=+i[te+(_*80|0)+8>>2],O=+i[te+(_*80|0)+24>>2],Y=+i[te+(_*80|0)+40>>2],g=+i[te+(_*80|0)+48>>2],S=+i[te+(_*80|0)+52>>2],X=+i[te+(_*80|0)+56>>2],$=+i[a+48>>2]+(m*g+ne*S+W*X),q=+i[a+52>>2]+(C*g+M*S+D*X),X=+i[a+56>>2]+(w*g+N*S+z*X),i[d+176>>2]=m*B+ne*k+W*F,i[d+176+4>>2]=m*L+ne*U+W*V,i[d+176+8>>2]=m*E+ne*O+W*Y,i[d+176+12>>2]=0,i[d+176+16>>2]=C*B+M*k+D*F,i[d+176+20>>2]=C*L+M*U+D*V,i[d+176+24>>2]=C*E+M*O+D*Y,i[d+176+28>>2]=0,i[d+176+32>>2]=w*B+N*k+z*F,i[d+176+36>>2]=w*L+N*U+z*V,i[d+176+40>>2]=w*E+N*O+z*Y,i[d+176+44>>2]=0,i[d+176+48>>2]=$,i[d+176+52>>2]=q,i[d+176+56>>2]=X,i[d+176+60>>2]=0,a=e[(e[t+12>>2]|0)+12>>2]|0,X=+i[a>>2],q=+i[a+4>>2],$=+i[a+8>>2],Y=+i[a+16>>2],z=+i[a+20>>2],O=+i[a+24>>2],N=+i[a+32>>2],E=+i[a+36>>2],w=+i[a+40>>2],n=e[n>>2]|0,V=+i[n+(u*80|0)>>2],U=+i[n+(u*80|0)+16>>2],L=+i[n+(u*80|0)+32>>2],F=+i[n+(u*80|0)+4>>2],k=+i[n+(u*80|0)+20>>2],B=+i[n+(u*80|0)+36>>2],D=+i[n+(u*80|0)+8>>2],M=+i[n+(u*80|0)+24>>2],C=+i[n+(u*80|0)+40>>2],W=+i[n+(u*80|0)+48>>2],ne=+i[n+(u*80|0)+52>>2],m=+i[n+(u*80|0)+56>>2],S=+i[a+48>>2]+(X*W+q*ne+$*m),g=+i[a+52>>2]+(Y*W+z*ne+O*m),m=+i[a+56>>2]+(N*W+E*ne+w*m),i[d+112>>2]=X*V+q*U+$*L,i[d+112+4>>2]=X*F+q*k+$*B,i[d+112+8>>2]=X*D+q*M+$*C,i[d+112+12>>2]=0,i[d+112+16>>2]=Y*V+z*U+O*L,i[d+112+20>>2]=Y*F+z*k+O*B,i[d+112+24>>2]=Y*D+z*M+O*C,i[d+112+28>>2]=0,i[d+112+32>>2]=N*V+E*U+w*L,i[d+112+36>>2]=N*F+E*k+w*B,i[d+112+40>>2]=N*D+E*M+w*C,i[d+112+44>>2]=0,i[d+112+48>>2]=S,i[d+112+52>>2]=g,i[d+112+56>>2]=m,i[d+112+60>>2]=0,Kt[e[(e[s>>2]|0)+8>>2]&127](s,d+176|0,d+96|0,d+80|0),Kt[e[(e[o>>2]|0)+8>>2]&127](o,d+112|0,d+64|0,d+48|0),!(+i[d+96>>2]>+i[d+48>>2])&&!(+i[d+80>>2]<+i[d+64>>2])?n=1:n=0,!(+i[d+96+8>>2]>+i[d+48+8>>2])&&!(+i[d+80+8>>2]<+i[d+64+8>>2])||(n=0),+i[d+96+4>>2]>+i[d+48+4>>2]){H=d;return}if(+i[d+80+4>>2]<+i[d+64+4>>2]|n^1){H=d;return}a=e[t+8>>2]|0,n=e[a+8>>2]|0,e[d+24>>2]=a,e[d+24+4>>2]=s,e[d+24+8>>2]=n,e[d+24+12>>2]=d+176,e[d+24+16>>2]=-1,e[d+24+20>>2]=_,n=e[t+12>>2]|0,a=e[n+8>>2]|0,e[d>>2]=n,e[d+4>>2]=o,e[d+8>>2]=a,e[d+12>>2]=d+112,e[d+16>>2]=-1,e[d+20>>2]=u,a=e[t+28>>2]|0,e[4992]=(e[4992]|0)+1,n=((u<<16|_)+~((u<<16|_)<<15)>>10^(u<<16|_)+~((u<<16|_)<<15))*9|0,n=(e[a+12>>2]|0)+-1&((n>>6^n)+~((n>>6^n)<<11)>>16^(n>>6^n)+~((n>>6^n)<<11));e:do if((n|0)<(e[a+28>>2]|0)&&(l=e[(e[a+36>>2]|0)+(n<<2)>>2]|0,(l|0)!=-1)){for(o=e[a+16>>2]|0,n=l;s=o+(n*12|0)|0,!((e[s>>2]|0)==(_|0)&&(e[o+(n*12|0)+4>>2]|0)==(u|0));)if(n=e[(e[a+56>>2]|0)+(n<<2)>>2]|0,(n|0)==-1){h=16;break e}s?n=e[o+(n*12|0)+8>>2]|0:h=16}else h=16;while(!1);(h|0)==16&&(n=e[t+16>>2]|0,n=$2[e[(e[n>>2]|0)+8>>2]&31](n,d+24|0,d,e[t+32>>2]|0)|0,te=e[t+28>>2]|0,e[(V0[e[(e[te>>2]|0)+12>>2]&63](te,_,u)|0)+8>>2]=n),te=e[t+24>>2]|0,l=e[te+8>>2]|0,h=e[te+12>>2]|0,e[te+8>>2]=d+24,e[te+12>>2]=d,f0[e[(e[te>>2]|0)+8>>2]&127](te,-1,_),te=e[t+24>>2]|0,f0[e[(e[te>>2]|0)+12>>2]&127](te,-1,u),Qi[e[(e[n>>2]|0)+8>>2]&31](n,d+24|0,d,e[t+20>>2]|0,e[t+24>>2]|0),te=e[t+24>>2]|0,e[te+8>>2]=l,e[te+12>>2]=h,H=d}function EQ(t,n){t=t|0,n=n|0}function bQ(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,0}function NQ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;if(a=e[t+44>>2]|0,t=e[a+8>>2]|0,!((t|0)<=0)){o=0;do s=e[(e[a+16>>2]|0)+(o*12|0)+8>>2]|0,s&&(zt[e[(e[s>>2]|0)+16>>2]&127](s,n),t=e[a+8>>2]|0),o=o+1|0;while((o|0)<(t|0))}}function DQ(t){t=t|0;var n=0;e[t>>2]=3720,e[t+12>>2]=3748,n=e[t+60>>2]|0,zt[e[(e[n>>2]|0)+20>>2]&127](n,e[t+76>>2]|0),n=e[t+60>>2]|0,zt[e[(e[n>>2]|0)+16>>2]&127](n,e[t+76>>2]|0)}function IQ(t){t=t|0;var n=0;e[t>>2]=3748,n=e[t+48>>2]|0,zt[e[(e[n>>2]|0)+20>>2]&127](n,e[t+64>>2]|0),n=e[t+48>>2]|0,zt[e[(e[n>>2]|0)+16>>2]&127](n,e[t+64>>2]|0)}function PQ(t){t=t|0;var n=0;e[t>>2]=3748,n=e[t+48>>2]|0,zt[e[(e[n>>2]|0)+20>>2]&127](n,e[t+64>>2]|0),n=e[t+48>>2]|0,zt[e[(e[n>>2]|0)+16>>2]&127](n,e[t+64>>2]|0),ye(t)}function LQ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;if(g=H,H=H+144|0,l=+i[n>>2],u=+i[n+16>>2],S=l<u?l:u,_=+i[n+32>>2],(S<_?S:_)>+i[t+28>>2]){H=g;return}if(d=l>u?n:n+16|0,+i[(+i[d>>2]>_?d:n+32|0)>>2]<+i[t+12>>2]){H=g;return}if(l=+i[n+8>>2],u=+i[n+24>>2],S=l<u?l:u,_=+i[n+40>>2],(S<_?S:_)>+i[t+36>>2]){H=g;return}if(d=l>u?n+8|0:n+24|0,+i[(+i[d>>2]>_?d:n+40|0)>>2]<+i[t+20>>2]){H=g;return}if(l=+i[n+4>>2],u=+i[n+20>>2],S=l<u?l:u,_=+i[n+36>>2],(S<_?S:_)>+i[t+32>>2]){H=g;return}if(d=l>u?n+4|0:n+20|0,+i[(+i[d>>2]>_?d:n+36|0)>>2]<+i[t+16>>2]){H=g;return}if(d=e[t+48>>2]|0,a=e[t+4>>2]|0,(e[(e[a+4>>2]|0)+4>>2]|0)>=20){H=g;return}e[g+24+8>>2]=0,e[g+24+12>>2]=-1,e[g+24+16>>2]=1065353216,e[g+24+20>>2]=1065353216,e[g+24+24>>2]=1065353216,i[g+24+28>>2]=0,e[g+24+56>>2]=0,e[g+24>>2]=3768,e[g+24+4>>2]=1,e[g+24+60>>2]=e[n>>2],e[g+24+60+4>>2]=e[n+4>>2],e[g+24+60+8>>2]=e[n+8>>2],e[g+24+60+12>>2]=e[n+12>>2],e[g+24+76>>2]=e[n+16>>2],e[g+24+76+4>>2]=e[n+16+4>>2],e[g+24+76+8>>2]=e[n+16+8>>2],e[g+24+76+12>>2]=e[n+16+12>>2],e[g+24+92>>2]=e[n+32>>2],e[g+24+92+4>>2]=e[n+32+4>>2],e[g+24+92+8>>2]=e[n+32+8>>2],e[g+24+92+12>>2]=e[n+32+12>>2],e[g+24+48>>2]=e[t+56>>2],C=e[t+8>>2]|0,n=e[C+8>>2]|0,h=e[C+12>>2]|0,e[g>>2]=C,e[g+4>>2]=g+24,e[g+8>>2]=n,e[g+12>>2]=h,e[g+16>>2]=s,e[g+20>>2]=o,h=$2[e[(e[d>>2]|0)+8>>2]&31](d,a,g,e[t+64>>2]|0)|0,a=e[t+44>>2]|0,n=e[a+8>>2]|0,(e[n+8>>2]|0)==(e[(e[t+8>>2]|0)+8>>2]|0)?(e[a+8>>2]=g,f0[e[(e[a>>2]|0)+8>>2]&127](a,s,o)):(n=e[a+12>>2]|0,e[a+12>>2]=g,f0[e[(e[a>>2]|0)+12>>2]&127](a,s,o)),Qi[e[(e[h>>2]|0)+8>>2]&31](h,e[t+4>>2]|0,g,e[t+52>>2]|0,e[t+44>>2]|0),a=e[t+44>>2]|0,(e[(e[a+8>>2]|0)+8>>2]|0)==(e[(e[t+8>>2]|0)+8>>2]|0)?e[a+8>>2]=n:e[a+12>>2]=n,Vt[e[e[h>>2]>>2]&255](h),zt[e[(e[d>>2]|0)+60>>2]&127](d,h),e[g+24>>2]=6248,a=e[g+24+56>>2]|0,a|0&&(Vt[e[e[a>>2]>>2]&255](a),m=e[g+24+56>>2]|0,m|0)&&(e[5638]=(e[5638]|0)+1,ye(e[m+-4>>2]|0)),H=g}function kQ(t){t=t|0;var n=0,s=0;e[t>>2]=6248,n=e[t+56>>2]|0,n|0&&(Vt[e[e[n>>2]>>2]&255](n),s=e[t+56>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function FQ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+80>>2]&127](t,n,s,o)}function BQ(t){return t=t|0,t+16|0}function UQ(t,n,s){t=t|0,n=+n,s=s|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0}function OQ(t){return t=t|0,11211}function GQ(t,n){t=t|0,n=n|0,e[t>>2]=1065353216,e[t+4>>2]=1065353216,e[t+8>>2]=1065353216,i[t+12>>2]=0}function VQ(t,n){t=t|0,n=+n,i[t+48>>2]=n}function Rh(t){return t=t|0,+ +i[t+48>>2]}function zQ(t){return t=t|0,52}function WQ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=a,a|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],e[n+28>>2]=e[t+32>>2],e[n+32>>2]=e[t+36>>2],e[n+36>>2]=e[t+40>>2],e[n+40>>2]=e[t+44>>2],e[n+12>>2]=e[t+16>>2],e[n+16>>2]=e[t+20>>2],e[n+20>>2]=e[t+24>>2],e[n+24>>2]=e[t+28>>2],e[n+44>>2]=e[t+48>>2],11220}function HQ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0;_=+i[s>>2],u=+i[s+4>>2],o=+i[s+8>>2],a=_*+i[n+60>>2]+u*+i[n+64>>2]+o*+i[n+68>>2],l=_*+i[n+76>>2]+u*+i[n+80>>2]+o*+i[n+84>>2],o=_*+i[n+92>>2]+u*+i[n+96>>2]+o*+i[n+100>>2],n=n+60+((a<l?l<o?2:1:a<o?2:0)<<4)|0,e[t>>2]=e[n>>2],e[t+4>>2]=e[n+4>>2],e[t+8>>2]=e[n+8>>2],e[t+12>>2]=e[n+12>>2]}function jQ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0;if(!((o|0)<=0)){a=0;do g=+i[n+(a<<4)>>2],m=+i[n+(a<<4)+4>>2],_=+i[n+(a<<4)+8>>2],h=g*+i[t+60>>2]+m*+i[t+64>>2]+_*+i[t+68>>2],d=g*+i[t+76>>2]+m*+i[t+80>>2]+_*+i[t+84>>2],_=g*+i[t+92>>2]+m*+i[t+96>>2]+_*+i[t+100>>2],l=s+(a<<4)|0,u=t+60+((h<d?d<_?2:1:h<_?2:0)<<4)|0,e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],a=a+1|0;while((a|0)!=(o|0))}}function qQ(t){return t=t|0,2}function XQ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0;u=+i[t+60>>2],h=+i[t+76>>2]-u,_=+i[t+64>>2],d=+i[t+80>>2]-_,o=+i[t+68>>2],l=+i[t+84>>2]-o,u=+i[t+92>>2]-u,_=+i[t+96>>2]-_,o=+i[t+100>>2]-o,i[s+12>>2]=0,a=1/+at(+((h*_-d*u)*(h*_-d*u)+((d*o-l*_)*(d*o-l*_)+(l*u-h*o)*(l*u-h*o)))),i[s>>2]=(d*o-l*_)*a,i[s+4>>2]=(l*u-h*o)*a,i[s+8>>2]=(h*_-d*u)*a,n&&(i[s>>2]=-((d*o-l*_)*a),i[s+4>>2]=-((l*u-h*o)*a),i[s+8>>2]=-((h*_-d*u)*a))}function $Q(t){return t=t|0,3}function YQ(t){return t=t|0,3}function KQ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,f0[e[(e[t>>2]|0)+108>>2]&127](t,n,s),f0[e[(e[t>>2]|0)+108>>2]&127](t,(n+1|0)%3|0,o)}function ZQ(t,n,s){t=t|0,n=n|0,s=s|0,e[s>>2]=e[t+60+(n<<4)>>2],e[s+4>>2]=e[t+60+(n<<4)+4>>2],e[s+8>>2]=e[t+60+(n<<4)+8>>2],e[s+12>>2]=e[t+60+(n<<4)+12>>2]}function QQ(t){return t=t|0,1}function JQ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+124>>2]&127](t,o,n,s)}function eJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0;if(S=H,H=H+80|0,d=e[t+4>>2]|0,Nc[e[(e[d>>2]|0)+16>>2]&3](d,S+28|0,S+24|0,S+20|0,S+16|0,S+12|0,S+8|0,S+4|0,S,n),d=(e[S+12>>2]|0)+(Rt(e[S+8>>2]|0,s)|0)|0,g=e[t+4>>2]|0,m=(e[S+20>>2]|0)==0,h=e[S+28>>2]|0,(e[S>>2]|0)==3){_=e[S+16>>2]|0,u=h+(Rt(_,Le[d+4>>1]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+32>>2]=o,i[S+32+36>>2]=l,i[S+32+40>>2]=a,i[S+32+44>>2]=0,u=h+(Rt(_,Le[d+2>>1]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+16>>2]=o,i[S+32+20>>2]=l,i[S+32+24>>2]=a,i[S+32+28>>2]=0,u=h+(Rt(_,Le[d>>1]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32>>2]=o,i[S+32+4>>2]=l,i[S+32+8>>2]=a,i[S+32+12>>2]=0,g=t+8|0,g=e[g>>2]|0,m=e[g>>2]|0,m=m+8|0,m=e[m>>2]|0,Kt[m&127](g,S+32|0,n,s),t=e[t+4>>2]|0,s=e[t>>2]|0,s=s+24|0,s=e[s>>2]|0,zt[s&127](t,n),H=S;return}else{_=e[S+16>>2]|0,u=h+(Rt(_,e[d+8>>2]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+32>>2]=o,i[S+32+36>>2]=l,i[S+32+40>>2]=a,i[S+32+44>>2]=0,u=h+(Rt(_,e[d+4>>2]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+16>>2]=o,i[S+32+20>>2]=l,i[S+32+24>>2]=a,i[S+32+28>>2]=0,u=h+(Rt(_,e[d>>2]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32>>2]=o,i[S+32+4>>2]=l,i[S+32+8>>2]=a,i[S+32+12>>2]=0,g=t+8|0,g=e[g>>2]|0,m=e[g>>2]|0,m=m+8|0,m=e[m>>2]|0,Kt[m&127](g,S+32|0,n,s),t=e[t+4>>2]|0,s=e[t>>2]|0,s=s+24|0,s=e[s>>2]|0,zt[s&127](t,n),H=S;return}}function tJ(t){t=t|0,ye(t)}function iJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0;if(S=H,H=H+80|0,d=e[t+4>>2]|0,Nc[e[(e[d>>2]|0)+16>>2]&3](d,S+28|0,S+24|0,S+20|0,S+16|0,S+12|0,S+8|0,S+4|0,S,n),d=(e[S+12>>2]|0)+(Rt(e[S+8>>2]|0,s)|0)|0,g=e[t+4>>2]|0,m=(e[S+20>>2]|0)==0,h=e[S+28>>2]|0,(e[S>>2]|0)==3){_=e[S+16>>2]|0,u=h+(Rt(_,Le[d+4>>1]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+32>>2]=o,i[S+32+36>>2]=l,i[S+32+40>>2]=a,i[S+32+44>>2]=0,u=h+(Rt(_,Le[d+2>>1]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+16>>2]=o,i[S+32+20>>2]=l,i[S+32+24>>2]=a,i[S+32+28>>2]=0,u=h+(Rt(_,Le[d>>1]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32>>2]=o,i[S+32+4>>2]=l,i[S+32+8>>2]=a,i[S+32+12>>2]=0,g=t+8|0,g=e[g>>2]|0,m=e[g>>2]|0,m=m+8|0,m=e[m>>2]|0,Kt[m&127](g,S+32|0,n,s),t=e[t+4>>2]|0,s=e[t>>2]|0,s=s+24|0,s=e[s>>2]|0,zt[s&127](t,n),H=S;return}else{_=e[S+16>>2]|0,u=h+(Rt(_,e[d+8>>2]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+32>>2]=o,i[S+32+36>>2]=l,i[S+32+40>>2]=a,i[S+32+44>>2]=0,u=h+(Rt(_,e[d+4>>2]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+16>>2]=o,i[S+32+20>>2]=l,i[S+32+24>>2]=a,i[S+32+28>>2]=0,u=h+(Rt(_,e[d>>2]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32>>2]=o,i[S+32+4>>2]=l,i[S+32+8>>2]=a,i[S+32+12>>2]=0,g=t+8|0,g=e[g>>2]|0,m=e[g>>2]|0,m=m+8|0,m=e[m>>2]|0,Kt[m&127](g,S+32|0,n,s),t=e[t+4>>2]|0,s=e[t>>2]|0,s=s+24|0,s=e[s>>2]|0,zt[s&127](t,n),H=S;return}}function nJ(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function rJ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0;a=H,H=H+16|0,k=e[t+56>>2]|0,F=e[t+32+(((k+2|0)%3|0)<<2)>>2]|0,e[a>>2]=F,e[a+4>>2]=F,e[a+8>>2]=F,i[a+12>>2]=0,i[a+(k<<2)>>2]=(e[Z>>2]=F,+i[Z>>2]+ +i[t+32+(k<<2)>>2]),_=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),l=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),m=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),_=_+ +i[a>>2],i[a>>2]=_,l=l+ +i[a+4>>2],i[a+4>>2]=l,m=m+ +i[a+8>>2],D=+ht(+ +i[n>>2]),E=+ht(+ +i[n+4>>2]),N=+ht(+ +i[n+8>>2]),C=+ht(+ +i[n+16>>2]),S=+ht(+ +i[n+20>>2]),w=+ht(+ +i[n+24>>2]),h=+ht(+ +i[n+32>>2]),u=+ht(+ +i[n+36>>2]),d=+ht(+ +i[n+40>>2]),B=+i[n+48>>2],M=+i[n+52>>2],g=+i[n+56>>2],i[s>>2]=B-(m*N+(D*_+E*l)),i[s+4>>2]=M-(m*w+(C*_+S*l)),i[s+8>>2]=g-(m*d+(h*_+u*l)),i[s+12>>2]=0,i[o>>2]=B+(m*N+(D*_+E*l)),i[o+4>>2]=M+(m*w+(C*_+S*l)),i[o+8>>2]=g+(m*d+(h*_+u*l)),i[o+12>>2]=0,H=a}function sJ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;h=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),l=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),s=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),m=(h+ +i[t+32>>2])/+i[t+16>>2],_=(l+ +i[t+36>>2])/+i[t+20>>2],a=(s+ +i[t+40>>2])/+i[t+24>>2],d=+ht(+ +i[n>>2]),u=+ht(+ +i[n+4>>2]),o=+ht(+ +i[n+8>>2]),i[t+16>>2]=d,i[t+20>>2]=u,i[t+24>>2]=o,i[t+28>>2]=0,i[t+32>>2]=m*d-h,i[t+36>>2]=_*u-l,i[t+40>>2]=a*o-s,i[t+44>>2]=0}function oJ(t,n,s){t=t|0,n=+n,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;o=H,H=H+16|0,_=e[t+56>>2]|0,h=e[t+32+(((_+2|0)%3|0)<<2)>>2]|0,e[o>>2]=h,e[o+4>>2]=h,e[o+8>>2]=h,i[o+12>>2]=0,i[o+(_<<2)>>2]=+i[t+32+(_<<2)>>2]+ +i[o+(_<<2)>>2],l=(+i[o>>2]+.03999999910593033)*2,a=(+i[o+4>>2]+.03999999910593033)*2,u=(+i[o+8>>2]+.03999999910593033)*2,i[s>>2]=n*.0833333283662796*(a*a+u*u),i[s+4>>2]=n*.0833333283662796*(l*l+u*u),i[s+8>>2]=n*.0833333283662796*(l*l+a*a),H=o}function aJ(t){return t=t|0,13096}function cJ(t,n){t=t|0,n=n|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,i[t+(e[n+56>>2]<<2)>>2]=1}function lJ(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0;l=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),o=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),u=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),l=l+ +i[t+32>>2],o=o+ +i[t+36>>2],u=u+ +i[t+40>>2],i[t+48>>2]=n,a=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),s=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),n=u-+Tt[e[(e[t>>2]|0)+48>>2]&15](t),i[t+32>>2]=l-a,i[t+36>>2]=o-s,i[t+40>>2]=n,i[t+44>>2]=0}function uJ(t){return t=t|0,60}function fJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=a,a|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],e[n+28>>2]=e[t+32>>2],e[n+32>>2]=e[t+36>>2],e[n+36>>2]=e[t+40>>2],e[n+40>>2]=e[t+44>>2],e[n+12>>2]=e[t+16>>2],e[n+16>>2]=e[t+20>>2],e[n+20>>2]=e[t+24>>2],e[n+24>>2]=e[t+28>>2],e[n+44>>2]=e[t+48>>2],e[n+52>>2]=e[t+56>>2],13109}function pJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;if(C=H,H=H+16|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,o=+i[s>>2],a=+i[s+4>>2],l=+i[s+8>>2],o*o+a*a+l*l<9999999747378752e-20?(S=1,g=0,m=0):(m=1/+at(+(o*o+a*a+l*l)),S=o*m,g=a*m,m=l*m),s=e[n+56>>2]|0,d=+i[n+32+(((s+2|0)%3|0)<<2)>>2],e[C>>2]=0,e[C+4>>2]=0,e[C+8>>2]=0,e[C+12>>2]=0,e[C+(s<<2)>>2]=e[n+32+(s<<2)>>2],_=S*d,h=g*d,d=m*d,o=_+ +i[C>>2],a=h+ +i[C+4>>2],u=d+ +i[C+8>>2],l=+Tt[e[(e[n>>2]|0)+48>>2]&15](n),o=o-S*l,a=a-g*l,l=u-m*l,u=m*l+(S*o+g*a),u>-0xde0b6b000000000?(i[t>>2]=o,i[t+4>>2]=a,i[t+8>>2]=l,i[t+12>>2]=0):u=-0xde0b6b000000000,e[C>>2]=0,e[C+4>>2]=0,e[C+8>>2]=0,e[C+12>>2]=0,s=e[n+56>>2]|0,i[C+(s<<2)>>2]=-+i[n+32+(s<<2)>>2],o=_+ +i[C>>2],a=h+ +i[C+4>>2],d=d+ +i[C+8>>2],l=+Tt[e[(e[n>>2]|0)+48>>2]&15](n),o=o-S*l,a=a-g*l,l=d-m*l,!(m*l+(S*o+g*a)>u)){H=C;return}i[t>>2]=o,i[t+4>>2]=a,i[t+8>>2]=l,i[t+12>>2]=0,H=C}function _J(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0;if(k=H,H=H+16|0,a=e[t+56>>2]|0,B=+i[t+32+(((a+2|0)%3|0)<<2)>>2],(o|0)<=0){H=k;return}for(l=0;e[k>>2]=0,e[k+4>>2]=0,e[k+8>>2]=0,e[k+12>>2]=0,e[k+(a<<2)>>2]=e[t+32+(a<<2)>>2],a=n+(l<<4)|0,D=n+(l<<4)+4|0,N=n+(l<<4)+8|0,u=B*+i[a>>2]+ +i[k>>2],_=B*+i[D>>2]+ +i[k+4>>2],h=B*+i[N>>2]+ +i[k+8>>2],d=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),m=+i[a>>2],g=+i[D>>2],S=+i[N>>2],m*(u-d*m)+g*(_-d*g)+S*(h-d*S)>-0xde0b6b000000000?(i[s+(l<<4)>>2]=u-d*m,i[s+(l<<4)+4>>2]=_-d*g,i[s+(l<<4)+8>>2]=h-d*S,i[s+(l<<4)+12>>2]=0,C=+i[a>>2],M=+i[D>>2],E=+i[N>>2],w=m*(u-d*m)+g*(_-d*g)+S*(h-d*S)):(C=m,M=g,E=S,w=-0xde0b6b000000000),e[k>>2]=0,e[k+4>>2]=0,e[k+8>>2]=0,e[k+12>>2]=0,F=e[t+56>>2]|0,i[k+(F<<2)>>2]=-+i[t+32+(F<<2)>>2],S=B*C+ +i[k>>2],g=B*M+ +i[k+4>>2],d=B*E+ +i[k+8>>2],m=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),h=+i[a>>2],_=+i[D>>2],u=+i[N>>2],h*(S-m*h)+_*(g-m*_)+u*(d-m*u)>w&&(i[s+(l<<4)>>2]=S-m*h,i[s+(l<<4)+4>>2]=g-m*_,i[s+(l<<4)+8>>2]=d-m*u,i[s+(l<<4)+12>>2]=0),l=l+1|0,(l|0)!=(o|0);)a=e[t+56>>2]|0;H=k}function hJ(t){return t=t|0,0}function dJ(t,n,s){t=t|0,n=n|0,s=s|0}function mJ(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function gJ(t){return t=t|0,13146}function xJ(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function yJ(t){return t=t|0,13173}function vJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;o=H,H=H+96|0,e[o+32>>2]=1065353216,e[o+32+4>>2]=0,e[o+32+4+4>>2]=0,e[o+32+4+8>>2]=0,e[o+32+4+12>>2]=0,e[o+32+20>>2]=1065353216,e[o+32+24>>2]=0,e[o+32+24+4>>2]=0,e[o+32+24+8>>2]=0,e[o+32+24+12>>2]=0,e[o+32+40>>2]=1065353216,m=o+32+44|0,e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,e[m+16>>2]=0,Kt[e[(e[t>>2]|0)+8>>2]&127](t,o+32|0,o+16|0,o),h=+i[o>>2],d=+i[o+16>>2],u=+i[o+4>>2],_=+i[o+16+4>>2],a=+i[o+8>>2],l=+i[o+16+8>>2],i[s>>2]=+at(+((h-d)*(h-d)+(u-_)*(u-_)+(a-l)*(a-l)))*.5,i[n>>2]=(d+h)*.5,i[n+4>>2]=(_+u)*.5,i[n+8>>2]=(l+a)*.5,i[n+12>>2]=0,H=o}function SJ(t){t=t|0;var n=0,s=0,o=0,a=0;return n=H,H=H+32|0,f0[e[(e[t>>2]|0)+12>>2]&127](t,n+8|0,n),a=+i[n+8>>2],o=+i[n+8+4>>2],s=+i[n+8+8>>2],s=+at(+(a*a+o*o+s*s)),H=n,+(s+ +i[n>>2])}function TJ(t,n){return t=t|0,n=+n,+(+Tt[e[(e[t>>2]|0)+16>>2]&15](t)*n)}function CJ(t){return t=t|0,12}function wJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=a,a|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],13201}function MJ(t,n){t=t|0,n=n|0;var s=0,o=0;o=Ct[e[(e[t>>2]|0)+52>>2]&127](t)|0,o=V0[e[(e[n>>2]|0)+16>>2]&63](n,o,1)|0,s=V0[e[(e[t>>2]|0)+56>>2]&63](t,e[o+8>>2]|0,n)|0,Qi[e[(e[n>>2]|0)+20>>2]&31](n,o,s,1346455635,t)}function K6(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;Kt[e[(e[t>>2]|0)+8>>2]&127](t,n,a,l),h=e[l>>2]|0,g=e[l+4>>2]|0,u=e[l+8>>2]|0,m=e[a>>2]|0,_=e[a+4>>2]|0,n=e[a+8>>2]|0,d=+i[s>>2],S=+i[s+4>>2],C=+i[s+8>>2],d>0?h=(i[Z>>2]=(e[Z>>2]=h,+i[Z>>2]+d),e[Z>>2]|0):m=(i[Z>>2]=(e[Z>>2]=m,+i[Z>>2]+d),e[Z>>2]|0),S>0?s=(i[Z>>2]=(e[Z>>2]=g,+i[Z>>2]+S),e[Z>>2]|0):(s=g,_=(i[Z>>2]=(e[Z>>2]=_,+i[Z>>2]+S),e[Z>>2]|0)),C>0?u=(i[Z>>2]=(e[Z>>2]=u,+i[Z>>2]+C),e[Z>>2]|0):n=(i[Z>>2]=(e[Z>>2]=n,+i[Z>>2]+C),e[Z>>2]|0),d=+i[o>>2],S=+i[o+4>>2],C=+i[o+8>>2],C=+at(+(d*d+S*S+C*C)),C=C*+Tt[e[(e[t>>2]|0)+16>>2]&15](t),e[a>>2]=m,e[a+4>>2]=_,e[a+8>>2]=n,i[a+12>>2]=0,e[l>>2]=h,e[l+4>>2]=s,e[l+8>>2]=u,i[l+12>>2]=0,i[a>>2]=+i[a>>2]-C,i[a+4>>2]=+i[a+4>>2]-C,i[a+8>>2]=+i[a+8>>2]-C,i[l>>2]=C+ +i[l>>2],i[l+4>>2]=C+ +i[l+4>>2],i[l+8>>2]=C+ +i[l+8>>2]}function Z6(t){t=t|0;var n=0,s=0;if(e[t>>2]=5176,n=e[t+68>>2]|0,n|0&&(Lh(n),s=e[t+68>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),n=e[t+28>>2]|0,!n){A[t+32>>0]=1,e[t+28>>2]=0,e[t+20>>2]=0,t=t+24|0,e[t>>2]=0;return}A[t+32>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+28>>2]=0,A[t+32>>0]=1,e[t+28>>2]=0,e[t+20>>2]=0,t=t+24|0,e[t>>2]=0}function RJ(t){t=t|0,Z6(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function AJ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0;ne=+i[t+52>>2],U=+i[t+36>>2],X=+i[t+56>>2],F=+i[t+40>>2],$=+i[t+60>>2],B=+i[t+44>>2],q=(e[t+20>>2]|0)==0,m=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),h=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),u=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),m=(q?0:(ne-U)*.5)+m,h=(q?0:(X-F)*.5)+h,u=(q?0:($-B)*.5)+u,Y=+i[n>>2],N=+ht(+Y),z=+i[n+4>>2],D=+ht(+z),M=+i[n+8>>2],E=+ht(+M),O=+i[n+16>>2],w=+ht(+O),V=+i[n+20>>2],C=+ht(+V),g=+i[n+24>>2],S=+ht(+g),L=+i[n+32>>2],d=+ht(+L),k=+i[n+36>>2],_=+ht(+k),a=+i[n+40>>2],l=+ht(+a),U=q?0:(ne+U)*.5,F=q?0:(X+F)*.5,B=q?0:($+B)*.5,M=U*Y+F*z+B*M+ +i[n+48>>2],g=U*O+F*V+B*g+ +i[n+52>>2],a=U*L+F*k+B*a+ +i[n+56>>2],i[s>>2]=M-(m*N+h*D+u*E),i[s+4>>2]=g-(m*w+h*C+u*S),i[s+8>>2]=a-(m*d+h*_+u*l),i[s+12>>2]=0,i[o>>2]=m*N+h*D+u*E+M,i[o+4>>2]=m*w+h*C+u*S+g,i[o+8>>2]=m*d+h*_+u*l+a,i[o+12>>2]=0}function EJ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(S=H,H=H+144|0,(e[t+20>>2]|0)<=0){g=t+80|0,e[g>>2]=e[n>>2],e[g+4>>2]=e[n+4>>2],e[g+8>>2]=e[n+8>>2],e[g+12>>2]=e[n+12>>2],n=e[t>>2]|0,n=n+68|0,n=e[n>>2]|0,Vt[n&255](t),H=S;return}u=S+16+16|0,_=S+16+32|0,h=S+16+48|0,g=0;do{if(m=e[t+28>>2]|0,d=m+(g*80|0)|0,e[S+16>>2]=e[d>>2],e[S+16+4>>2]=e[d+4>>2],e[S+16+8>>2]=e[d+8>>2],e[S+16+12>>2]=e[d+12>>2],d=m+(g*80|0)+16|0,e[u>>2]=e[d>>2],e[u+4>>2]=e[d+4>>2],e[u+8>>2]=e[d+8>>2],e[u+12>>2]=e[d+12>>2],d=m+(g*80|0)+32|0,e[_>>2]=e[d>>2],e[_+4>>2]=e[d+4>>2],e[_+8>>2]=e[d+8>>2],e[_+12>>2]=e[d+12>>2],d=m+(g*80|0)+48|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],m=e[m+(g*80|0)+64>>2]|0,m=Ct[e[(e[m>>2]|0)+28>>2]&127](m)|0,e[S>>2]=e[m>>2],e[S+4>>2]=e[m+4>>2],e[S+8>>2]=e[m+8>>2],C=+i[S+4>>2]*+i[n+4>>2]/+i[t+84>>2],w=+i[S+8>>2]*+i[n+8>>2]/+i[t+88>>2],i[S>>2]=+i[S>>2]*+i[n>>2]/+i[t+80>>2],i[S+4>>2]=C,i[S+8>>2]=w,i[S+12>>2]=0,m=e[(e[t+28>>2]|0)+(g*80|0)+64>>2]|0,zt[e[(e[m>>2]|0)+24>>2]&127](m,S),w=+i[S+16+52>>2]*+i[n+4>>2]/+i[t+84>>2],C=+i[S+16+56>>2]*+i[n+8>>2]/+i[t+88>>2],i[S+16+48>>2]=+i[h>>2]*+i[n>>2]/+i[t+80>>2],i[S+16+52>>2]=w,i[S+16+56>>2]=C,i[S+16+60>>2]=0,m=e[t+28>>2]|0,d=m+(g*80|0)|0,e[d>>2]=e[S+16>>2],e[d+4>>2]=e[S+16+4>>2],e[d+8>>2]=e[S+16+8>>2],e[d+12>>2]=e[S+16+12>>2],d=m+(g*80|0)+16|0,e[d>>2]=e[u>>2],e[d+4>>2]=e[u+4>>2],e[d+8>>2]=e[u+8>>2],e[d+12>>2]=e[u+12>>2],d=m+(g*80|0)+32|0,e[d>>2]=e[_>>2],e[d+4>>2]=e[_+4>>2],e[d+8>>2]=e[_+8>>2],e[d+12>>2]=e[_+12>>2],m=m+(g*80|0)+48|0,e[m>>2]=e[h>>2],e[m+4>>2]=e[h+4>>2],e[m+8>>2]=e[h+8>>2],e[m+12>>2]=e[h+12>>2],e[t+68>>2]|0){d=e[(e[t+28>>2]|0)+(g*80|0)+64>>2]|0,Kt[e[(e[d>>2]|0)+8>>2]&127](d,S+16|0,S+128|0,S+112|0),e[S+80>>2]=e[S+128>>2],e[S+80+4>>2]=e[S+128+4>>2],e[S+80+8>>2]=e[S+128+8>>2],e[S+80+12>>2]=e[S+128+12>>2],e[S+80+16>>2]=e[S+112>>2],e[S+80+16+4>>2]=e[S+112+4>>2],e[S+80+16+8>>2]=e[S+112+8>>2],e[S+80+16+12>>2]=e[S+112+12>>2],d=e[t+68>>2]|0,m=e[(e[t+28>>2]|0)+(g*80|0)+76>>2]|0,s=f1(d,m)|0;e:do if(s){if(a=e[d+8>>2]|0,(a|0)<=-1){s=e[d>>2]|0;break}if((a|0)>0)for(l=0;;){if(o=e[s+32>>2]|0,l=l+1|0,!o)break e;if((l|0)>=(a|0)){s=o;break}else s=o}}else s=0;while(!1);e[m>>2]=e[S+80>>2],e[m+4>>2]=e[S+80+4>>2],e[m+8>>2]=e[S+80+8>>2],e[m+12>>2]=e[S+80+12>>2],e[m+16>>2]=e[S+80+16>>2],e[m+20>>2]=e[S+80+20>>2],e[m+24>>2]=e[S+80+24>>2],e[m+28>>2]=e[S+80+28>>2],j1(d,s,m)}g=g+1|0}while((g|0)<(e[t+20>>2]|0));g=t+80|0,e[g>>2]=e[n>>2],e[g+4>>2]=e[n+4>>2],e[g+8>>2]=e[n+8>>2],e[g+12>>2]=e[n+12>>2],n=e[t>>2]|0,n=n+68|0,n=e[n>>2]|0,Vt[n&255](t),H=S}function bJ(t){return t=t|0,t+80|0}function NJ(t,n,s){t=t|0,n=+n,s=s|0;var o=0,a=0,l=0,u=0,_=0;o=H,H=H+96|0,e[o+32>>2]=1065353216,e[o+32+4>>2]=0,e[o+32+4+4>>2]=0,e[o+32+4+8>>2]=0,e[o+32+4+12>>2]=0,e[o+32+20>>2]=1065353216,e[o+32+24>>2]=0,e[o+32+24+4>>2]=0,e[o+32+24+8>>2]=0,e[o+32+24+12>>2]=0,e[o+32+40>>2]=1065353216,_=o+32+44|0,e[_>>2]=0,e[_+4>>2]=0,e[_+8>>2]=0,e[_+12>>2]=0,e[_+16>>2]=0,Kt[e[(e[t>>2]|0)+8>>2]&127](t,o+32|0,o+16|0,o),l=(+i[o>>2]-+i[o+16>>2])*.5*2,a=(+i[o+4>>2]-+i[o+16+4>>2])*.5*2,u=(+i[o+8>>2]-+i[o+16+8>>2])*.5*2,i[s>>2]=n/12*(a*a+u*u),i[s+4>>2]=n/12*(l*l+u*u),i[s+8>>2]=n/12*(l*l+a*a),H=o}function DJ(t){return t=t|0,13240}function IJ(t,n){t=t|0,n=+n,i[t+76>>2]=n}function PJ(t){return t=t|0,+ +i[t+76>>2]}function LJ(t){return t=t|0,24}function kJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0;if(o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,l=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=l,l|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],e[n+20>>2]=e[t+76>>2],o=e[t+20>>2]|0,e[n+16>>2]=o,e[n+12>>2]=0,!o)return 13274;if(l=V0[e[(e[s>>2]|0)+16>>2]&63](s,76,o)|0,o=e[l+8>>2]|0,e[n+12>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,(e[n+16>>2]|0)>0)for(a=0;;)if(u=e[t+28>>2]|0,e[o+72>>2]=e[u+(a*80|0)+72>>2],e[o+64>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[u+(a*80|0)+64>>2]|0)|0,I0[e[(e[s>>2]|0)+24>>2]&31](s,e[(e[t+28>>2]|0)+(a*80|0)+64>>2]|0)|0||(u=e[(e[s>>2]|0)+16>>2]|0,_=e[(e[t+28>>2]|0)+(a*80|0)+64>>2]|0,_=Ct[e[(e[_>>2]|0)+52>>2]&127](_)|0,_=V0[u&63](s,_,1)|0,u=e[(e[t+28>>2]|0)+(a*80|0)+64>>2]|0,u=V0[e[(e[u>>2]|0)+56>>2]&63](u,e[_+8>>2]|0,s)|0,Qi[e[(e[s>>2]|0)+20>>2]&31](s,_,u,1346455635,e[(e[t+28>>2]|0)+(a*80|0)+64>>2]|0)),_=e[t+28>>2]|0,e[o+68>>2]=e[_+(a*80|0)+68>>2],e[o>>2]=e[_+(a*80|0)>>2],e[o+4>>2]=e[_+(a*80|0)+4>>2],e[o+8>>2]=e[_+(a*80|0)+8>>2],e[o+12>>2]=e[_+(a*80|0)+12>>2],e[o+16>>2]=e[_+(a*80|0)+16>>2],e[o+20>>2]=e[_+(a*80|0)+20>>2],e[o+24>>2]=e[_+(a*80|0)+24>>2],e[o+28>>2]=e[_+(a*80|0)+28>>2],e[o+32>>2]=e[_+(a*80|0)+32>>2],e[o+36>>2]=e[_+(a*80|0)+36>>2],e[o+40>>2]=e[_+(a*80|0)+40>>2],e[o+44>>2]=e[_+(a*80|0)+44>>2],e[o+48>>2]=e[_+(a*80|0)+48>>2],e[o+52>>2]=e[_+(a*80|0)+52>>2],e[o+56>>2]=e[_+(a*80|0)+56>>2],e[o+60>>2]=e[_+(a*80|0)+60>>2],a=a+1|0,(a|0)>=(e[n+16>>2]|0)){o=s;break}else o=o+76|0;else o=s;return Qi[e[(e[o>>2]|0)+20>>2]&31](s,l,13249,1497453121,e[l+8>>2]|0),13274}function FJ(t,n){t=t|0,n=n|0;var s=0,o=0;if(e[t+72>>2]=(e[t+72>>2]|0)+1,s=e[t+20>>2]|0,(s|0)>0)do o=s,s=s+-1|0,(e[(e[t+28>>2]|0)+(s*80|0)+64>>2]|0)==(n|0)&&Q6(t,s);while((o|0)>1);Vt[e[(e[t>>2]|0)+68>>2]&255](t)}function Q6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(l=H,H=H+80|0,e[t+72>>2]=(e[t+72>>2]|0)+1,o=e[t+68>>2]|0,o|0&&(a=e[(e[t+28>>2]|0)+(n*80|0)+76>>2]|0,f1(o,a)|0,s=e[o+4>>2]|0,s|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[o+4>>2]=a,e[o+12>>2]=(e[o+12>>2]|0)+-1),a=(e[t+20>>2]|0)+-1|0,o=e[t+28>>2]|0,e[l>>2]=e[o+(n*80|0)>>2],e[l+4>>2]=e[o+(n*80|0)+4>>2],e[l+8>>2]=e[o+(n*80|0)+8>>2],e[l+12>>2]=e[o+(n*80|0)+12>>2],e[l+16>>2]=e[o+(n*80|0)+16>>2],e[l+16+4>>2]=e[o+(n*80|0)+16+4>>2],e[l+16+8>>2]=e[o+(n*80|0)+16+8>>2],e[l+16+12>>2]=e[o+(n*80|0)+16+12>>2],e[l+32>>2]=e[o+(n*80|0)+32>>2],e[l+32+4>>2]=e[o+(n*80|0)+32+4>>2],e[l+32+8>>2]=e[o+(n*80|0)+32+8>>2],e[l+32+12>>2]=e[o+(n*80|0)+32+12>>2],e[l+48>>2]=e[o+(n*80|0)+48>>2],e[l+48+4>>2]=e[o+(n*80|0)+48+4>>2],e[l+48+8>>2]=e[o+(n*80|0)+48+8>>2],e[l+48+12>>2]=e[o+(n*80|0)+48+12>>2],e[l+64>>2]=e[o+(n*80|0)+64>>2],e[l+64+4>>2]=e[o+(n*80|0)+64+4>>2],e[l+64+8>>2]=e[o+(n*80|0)+64+8>>2],e[l+64+12>>2]=e[o+(n*80|0)+64+12>>2],e[o+(n*80|0)>>2]=e[o+(a*80|0)>>2],e[o+(n*80|0)+4>>2]=e[o+(a*80|0)+4>>2],e[o+(n*80|0)+8>>2]=e[o+(a*80|0)+8>>2],e[o+(n*80|0)+12>>2]=e[o+(a*80|0)+12>>2],e[o+(n*80|0)+16>>2]=e[o+(a*80|0)+16>>2],e[o+(n*80|0)+16+4>>2]=e[o+(a*80|0)+16+4>>2],e[o+(n*80|0)+16+8>>2]=e[o+(a*80|0)+16+8>>2],e[o+(n*80|0)+16+12>>2]=e[o+(a*80|0)+16+12>>2],e[o+(n*80|0)+32>>2]=e[o+(a*80|0)+32>>2],e[o+(n*80|0)+32+4>>2]=e[o+(a*80|0)+32+4>>2],e[o+(n*80|0)+32+8>>2]=e[o+(a*80|0)+32+8>>2],e[o+(n*80|0)+32+12>>2]=e[o+(a*80|0)+32+12>>2],e[o+(n*80|0)+48>>2]=e[o+(a*80|0)+48>>2],e[o+(n*80|0)+48+4>>2]=e[o+(a*80|0)+48+4>>2],e[o+(n*80|0)+48+8>>2]=e[o+(a*80|0)+48+8>>2],e[o+(n*80|0)+48+12>>2]=e[o+(a*80|0)+48+12>>2],e[o+(n*80|0)+64>>2]=e[o+(a*80|0)+64>>2],e[o+(n*80|0)+64+4>>2]=e[o+(a*80|0)+64+4>>2],e[o+(n*80|0)+64+8>>2]=e[o+(a*80|0)+64+8>>2],e[o+(n*80|0)+64+12>>2]=e[o+(a*80|0)+64+12>>2],o=e[t+28>>2]|0,e[o+(a*80|0)>>2]=e[l>>2],e[o+(a*80|0)+4>>2]=e[l+4>>2],e[o+(a*80|0)+8>>2]=e[l+8>>2],e[o+(a*80|0)+12>>2]=e[l+12>>2],e[o+(a*80|0)+16>>2]=e[l+16>>2],e[o+(a*80|0)+16+4>>2]=e[l+16+4>>2],e[o+(a*80|0)+16+8>>2]=e[l+16+8>>2],e[o+(a*80|0)+16+12>>2]=e[l+16+12>>2],e[o+(a*80|0)+32>>2]=e[l+32>>2],e[o+(a*80|0)+32+4>>2]=e[l+32+4>>2],e[o+(a*80|0)+32+8>>2]=e[l+32+8>>2],e[o+(a*80|0)+32+12>>2]=e[l+32+12>>2],e[o+(a*80|0)+48>>2]=e[l+48>>2],e[o+(a*80|0)+48+4>>2]=e[l+48+4>>2],e[o+(a*80|0)+48+8>>2]=e[l+48+8>>2],e[o+(a*80|0)+48+12>>2]=e[l+48+12>>2],e[o+(a*80|0)+64>>2]=e[l+64>>2],e[o+(a*80|0)+64+4>>2]=e[l+64+4>>2],e[o+(a*80|0)+64+8>>2]=e[l+64+8>>2],e[o+(a*80|0)+64+12>>2]=e[l+64+12>>2],!(e[t+68>>2]|0)){n=e[t+20>>2]|0,n=n+-1|0,e[t+20>>2]=n,H=l;return}e[(e[(e[t+28>>2]|0)+(n*80|0)+76>>2]|0)+36>>2]=n,n=e[t+20>>2]|0,n=n+-1|0,e[t+20>>2]=n,H=l}function BJ(t){t=t|0;var n=0,s=0,o=0,a=0,l=0;if(o=H,H=H+32|0,e[t+36>>2]=1566444395,e[t+40>>2]=1566444395,e[t+44>>2]=1566444395,i[t+48>>2]=0,e[t+52>>2]=-581039253,e[t+56>>2]=-581039253,e[t+60>>2]=-581039253,i[t+64>>2]=0,(e[t+20>>2]|0)<=0){H=o;return}s=0;do a=e[t+28>>2]|0,l=e[a+(s*80|0)+64>>2]|0,Kt[e[(e[l>>2]|0)+8>>2]&127](l,a+(s*80|0)|0,o+16|0,o),n=+i[o+16>>2],+i[t+36>>2]>n&&(i[t+36>>2]=n),n=+i[o>>2],+i[t+52>>2]<n&&(i[t+52>>2]=n),n=+i[o+16+4>>2],+i[t+40>>2]>n&&(i[t+40>>2]=n),n=+i[o+4>>2],+i[t+56>>2]<n&&(i[t+56>>2]=n),n=+i[o+16+8>>2],+i[t+44>>2]>n&&(i[t+44>>2]=n),n=+i[o+8>>2],+i[t+60>>2]<n&&(i[t+60>>2]=n),s=s+1|0;while((s|0)<(e[t+20>>2]|0));H=o}function J6(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0;if(e[t+8>>2]=0,e[t+12>>2]=-1,e[t>>2]=5176,A[t+32>>0]=1,e[t+28>>2]=0,e[t+20>>2]=0,e[t+24>>2]=0,e[t+36>>2]=1566444395,e[t+40>>2]=1566444395,e[t+44>>2]=1566444395,i[t+48>>2]=0,e[t+52>>2]=-581039253,e[t+56>>2]=-581039253,e[t+60>>2]=-581039253,i[t+64>>2]=0,e[t+68>>2]=0,e[t+72>>2]=1,i[t+76>>2]=0,e[t+80>>2]=1065353216,e[t+84>>2]=1065353216,e[t+88>>2]=1065353216,i[t+92>>2]=0,e[t+4>>2]=31,n?(e[5637]=(e[5637]|0)+1,n=Xe(79)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,A[n+36>>0]=1,e[n+32>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,A[n+56>>0]=1,e[n+52>>2]=0,e[n+44>>2]=0,e[n+48>>2]=0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=-1,e[n+12>>2]=0,e[n+16>>2]=0,e[t+68>>2]=n,n=e[t+24>>2]|0):n=0,!((n|0)>=(s|0))){if((s|0)!=0&&(e[5637]=(e[5637]|0)+1,o=Xe((s*80|3)+16|0)|0,(o|0)!=0)?(e[(o+4+15&-16)+-4>>2]=o,a=o+4+15&-16):a=0,n=e[t+20>>2]|0,(n|0)>0){o=0;do l=a+(o*80|0)|0,u=e[t+28>>2]|0,_=u+(o*80|0)|0,e[l>>2]=e[_>>2],e[l+4>>2]=e[_+4>>2],e[l+8>>2]=e[_+8>>2],e[l+12>>2]=e[_+12>>2],l=a+(o*80|0)+16|0,_=u+(o*80|0)+16|0,e[l>>2]=e[_>>2],e[l+4>>2]=e[_+4>>2],e[l+8>>2]=e[_+8>>2],e[l+12>>2]=e[_+12>>2],l=a+(o*80|0)+32|0,_=u+(o*80|0)+32|0,e[l>>2]=e[_>>2],e[l+4>>2]=e[_+4>>2],e[l+8>>2]=e[_+8>>2],e[l+12>>2]=e[_+12>>2],l=a+(o*80|0)+48|0,_=u+(o*80|0)+48|0,e[l>>2]=e[_>>2],e[l+4>>2]=e[_+4>>2],e[l+8>>2]=e[_+8>>2],e[l+12>>2]=e[_+12>>2],l=a+(o*80|0)+64|0,u=u+(o*80|0)+64|0,e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],o=o+1|0;while((o|0)!=(n|0))}n=e[t+28>>2]|0,n|0&&(A[t+32>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+28>>2]=0),A[t+32>>0]=1,e[t+28>>2]=a,e[t+24>>2]=s}}function UJ(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function OJ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+80>>2]&127](t,n,s,o)}function GJ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0;_=e[t+72>>2]|0,u=e[t+68>>2]|0,l=e[t+76>>2]|0,o=+i[t+64>>2]*(+i[n+(_<<2)>>2]/+i[t+16+(_<<2)>>2]),i[t+64>>2]=o,a=+i[t+60>>2]*((+i[n+(u<<2)>>2]/+i[t+16+(u<<2)>>2]+ +i[n+(l<<2)>>2]/+i[t+16+(l<<2)>>2])*.5),i[t+60>>2]=a,i[t+56>>2]=a/+at(+(o*o+a*a)),a=+ht(+ +i[n>>2]),o=+ht(+ +i[n+4>>2]),s=+ht(+ +i[n+8>>2]),i[t+16>>2]=a,i[t+20>>2]=o,i[t+24>>2]=s,i[t+28>>2]=0}function VJ(t,n,s){t=t|0,n=+n,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;o=H,H=H+96|0,e[o+32>>2]=1065353216,e[o+32+4>>2]=0,e[o+32+4+4>>2]=0,e[o+32+4+8>>2]=0,e[o+32+4+12>>2]=0,e[o+32+20>>2]=1065353216,e[o+32+24>>2]=0,e[o+32+24+4>>2]=0,e[o+32+24+8>>2]=0,e[o+32+24+12>>2]=0,e[o+32+40>>2]=1065353216,h=o+32+44|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,e[h+12>>2]=0,e[h+16>>2]=0,Kt[e[(e[t>>2]|0)+8>>2]&127](t,o+32|0,o+16|0,o),u=(+i[o>>2]-+i[o+16>>2])*.5,l=(+i[o+4>>2]-+i[o+16+4>>2])*.5,_=(+i[o+8>>2]-+i[o+16+8>>2])*.5,a=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),i[s>>2]=n*.0833333283662796*((l+a)*2*((l+a)*2)+(_+a)*2*((_+a)*2)),i[s+4>>2]=n*.0833333283662796*((u+a)*2*((u+a)*2)+(_+a)*2*((_+a)*2)),i[s+8>>2]=n*.0833333283662796*((u+a)*2*((u+a)*2)+(l+a)*2*((l+a)*2)),i[s+12>>2]=0,H=o}function zJ(t){return t=t|0,13325}function WJ(t,n){t=t|0,n=n|0,e[t>>2]=0,e[t+4>>2]=1065353216,e[t+8>>2]=0,i[t+12>>2]=0}function HJ(t){return t=t|0,60}function jJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=a,a|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],e[n+28>>2]=e[t+32>>2],e[n+32>>2]=e[t+36>>2],e[n+36>>2]=e[t+40>>2],e[n+40>>2]=e[t+44>>2],e[n+12>>2]=e[t+16>>2],e[n+16>>2]=e[t+20>>2],e[n+20>>2]=e[t+24>>2],e[n+24>>2]=e[t+28>>2],e[n+44>>2]=e[t+48>>2],e[n+52>>2]=e[t+72>>2],13330}function qJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;o=+i[n+64>>2]*.5,d=e[n+72>>2]|0,l=+i[s>>2],_=+i[s+4>>2],h=+i[s+8>>2],h=+at(+(l*l+_*_+h*h)),a=e[n+68>>2]|0;do if(+i[s+(d<<2)>>2]>h*+i[n+56>>2])i[t+(a<<2)>>2]=0,i[t+(d<<2)>>2]=o,i[t+(e[n+76>>2]<<2)>>2]=0;else if(l=+i[s+(a<<2)>>2],u=e[n+76>>2]|0,_=+i[s+(u<<2)>>2],h=+at(+(l*l+_*_)),h>11920928955078125e-23){h=+i[n+60>>2]/h,i[t+(a<<2)>>2]=l*h,i[t+(d<<2)>>2]=-o,i[t+(u<<2)>>2]=_*h;break}else{i[t+(a<<2)>>2]=0,i[t+(d<<2)>>2]=-o,i[t+(u<<2)>>2]=0;break}while(!1);+Tt[e[(e[n>>2]|0)+48>>2]&15](n)!=0&&(l=+i[s>>2],_=+i[s+4>>2],h=+i[s+8>>2],m=l*l+_*_+h*h<14210854715202004e-30?-1:l,o=l*l+_*_+h*h<14210854715202004e-30?-1:_,h=l*l+_*_+h*h<14210854715202004e-30?-1:h,_=1/+at(+(h*h+(m*m+o*o))),l=+Tt[e[(e[n>>2]|0)+48>>2]&15](n),i[t>>2]=+i[t>>2]+l*(_*m),i[t+4>>2]=l*(_*o)+ +i[t+4>>2],i[t+8>>2]=l*(_*h)+ +i[t+8>>2])}function XJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0;if(l=+i[n+64>>2]*.5,d=e[n+72>>2]|0,o=+i[s>>2],a=+i[s+4>>2],_=+i[s+8>>2],_=+at(+(o*o+a*a+_*_)),u=e[n+68>>2]|0,+i[s+(d<<2)>>2]>_*+i[n+56>>2]){i[t+(u<<2)>>2]=0,i[t+(d<<2)>>2]=l,i[t+(e[n+76>>2]<<2)>>2]=0;return}if(_=+i[s+(u<<2)>>2],h=e[n+76>>2]|0,o=+i[s+(h<<2)>>2],a=+at(+(_*_+o*o)),a>11920928955078125e-23){a=+i[n+60>>2]/a,i[t+(u<<2)>>2]=_*a,i[t+(d<<2)>>2]=-l,i[t+(h<<2)>>2]=o*a;return}else{i[t+(u<<2)>>2]=0,i[t+(d<<2)>>2]=-l,i[t+(h<<2)>>2]=0;return}}function $J(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;if(C=H,H=H+16|0,(o|0)<=0){H=C;return}S=0;do{g=s+(S<<4)|0,a=+i[t+64>>2]*.5,l=e[t+72>>2]|0,_=+i[n+(S<<4)>>2],d=+i[n+(S<<4)+4>>2],m=+i[n+(S<<4)+8>>2],m=+at(+(_*_+d*d+m*m)),u=e[t+68>>2]|0;do if(+i[n+(S<<4)+(l<<2)>>2]>m*+i[t+56>>2])i[C+(u<<2)>>2]=0,i[C+(l<<2)>>2]=a,i[C+(e[t+76>>2]<<2)>>2]=0;else if(_=+i[n+(S<<4)+(u<<2)>>2],h=e[t+76>>2]|0,d=+i[n+(S<<4)+(h<<2)>>2],m=+at(+(_*_+d*d)),m>11920928955078125e-23){m=+i[t+60>>2]/m,i[C+(u<<2)>>2]=_*m,i[C+(l<<2)>>2]=-a,i[C+(h<<2)>>2]=d*m;break}else{i[C+(u<<2)>>2]=0,i[C+(l<<2)>>2]=-a,i[C+(h<<2)>>2]=0;break}while(!1);e[g>>2]=e[C>>2],e[g+4>>2]=e[C+4>>2],e[g+8>>2]=e[C+8>>2],e[g+12>>2]=e[C+12>>2],S=S+1|0}while((S|0)!=(o|0));H=C}function YJ(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function KJ(t){return t=t|0,13361}function ZJ(t,n){t=t|0,n=n|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=1065353216,i[t+12>>2]=0}function QJ(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function JJ(t){return t=t|0,13382}function eee(t,n){t=t|0,n=n|0,e[t>>2]=1065353216,e[t+4>>2]=0,e[t+8>>2]=0,i[t+12>>2]=0}function tee(t){t=t|0;var n=0;e[t>>2]=5556,n=e[t+108>>2]|0,n|0&&(A[t+112>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+108>>2]=0),A[t+112>>0]=1,e[t+108>>2]=0,e[t+100>>2]=0,e[t+104>>2]=0,e[t>>2]=6248,n=e[t+56>>2]|0,n&&(Vt[e[e[n>>2]>>2]&255](n),n=e[t+56>>2]|0,n&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)))}function iee(t){t=t|0;var n=0,s=0;e[t>>2]=5556,n=e[t+108>>2]|0,n|0&&(A[t+112>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+108>>2]=0),A[t+112>>0]=1,e[t+108>>2]=0,e[t+100>>2]=0,e[t+104>>2]=0,e[t>>2]=6248,n=e[t+56>>2]|0,n|0&&(Vt[e[e[n>>2]>>2]&255](n),s=e[t+56>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function nee(t,n){t=t|0,n=n|0,e[t+16>>2]=e[n>>2],e[t+16+4>>2]=e[n+4>>2],e[t+16+8>>2]=e[n+8>>2],e[t+16+12>>2]=e[n+12>>2],Rc(t)}function ree(t){return t=t|0,13408}function see(t){return t=t|0,68}function oee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;if(o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,l=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=l,l|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],e[n+28>>2]=e[t+32>>2],e[n+32>>2]=e[t+36>>2],e[n+36>>2]=e[t+40>>2],e[n+40>>2]=e[t+44>>2],e[n+12>>2]=e[t+16>>2],e[n+16>>2]=e[t+20>>2],e[n+20>>2]=e[t+24>>2],e[n+24>>2]=e[t+28>>2],e[n+44>>2]=e[t+48>>2],a=e[t+100>>2]|0,e[n+60>>2]=a,!a)return e[n+52>>2]=0,e[n+56>>2]=0,13415;if(e[n+52>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+108>>2]|0)|0,e[n+56>>2]=0,l=V0[e[(e[s>>2]|0)+16>>2]&63](s,16,a)|0,(a|0)>0)for(o=e[t+108>>2]|0,n=0,t=e[l+8>>2]|0;e[t>>2]=e[o+(n<<4)>>2],e[t+4>>2]=e[o+(n<<4)+4>>2],e[t+8>>2]=e[o+(n<<4)+8>>2],e[t+12>>2]=e[o+(n<<4)+12>>2],n=n+1|0,(n|0)!=(a|0);)t=t+16|0;else o=e[t+108>>2]|0;return Qi[e[(e[s>>2]|0)+20>>2]&31](s,l,16354,1497453121,o),13415}function aee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0;f0[e[(e[n>>2]|0)+68>>2]&127](t,n,s),+Tt[e[(e[n>>2]|0)+48>>2]&15](n)!=0&&(l=+i[s>>2],a=+i[s+4>>2],o=+i[s+8>>2],_=l*l+a*a+o*o<14210854715202004e-30?-1:l,u=l*l+a*a+o*o<14210854715202004e-30?-1:a,o=l*l+a*a+o*o<14210854715202004e-30?-1:o,a=1/+at(+(o*o+(_*_+u*u))),l=+Tt[e[(e[n>>2]|0)+48>>2]&15](n),i[t>>2]=+i[t>>2]+l*(a*_),i[t+4>>2]=l*(a*u)+ +i[t+4>>2],i[t+8>>2]=l*(a*o)+ +i[t+8>>2])}function cee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;if(h=e[n+100>>2]|0,(h|0)<=0){e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0;return}for(S=+i[n+16>>2],C=+i[s>>2]*S,d=+i[n+20>>2],m=+i[s+4>>2]*d,g=+i[n+24>>2],_=+i[s+8>>2]*g,s=e[n+108>>2]|0,a=0,l=-34028234663852886e22,u=-1;o=C*+i[s+(a<<4)>>2]+m*+i[s+(a<<4)+4>>2]+_*+i[s+(a<<4)+8>>2],n=o>l,u=n?a:u,a=a+1|0,(a|0)!=(h|0);)l=n?o:l;m=+i[s+(u<<4)+4>>2]*d,C=+i[s+(u<<4)+8>>2]*g,i[t>>2]=+i[s+(u<<4)>>2]*S,i[t+4>>2]=m,i[t+8>>2]=C,i[t+12>>2]=0}function lee(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0;var _=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;if(C=H,H=H+16|0,i[o>>2]=34028234663852886e22,i[a>>2]=-34028234663852886e22,d=e[t+100>>2]|0,(d|0)>0){S=0;do M=e[t+108>>2]|0,w=+i[M+(S<<4)>>2]*+i[t+16>>2],g=+i[M+(S<<4)+4>>2]*+i[t+20>>2],m=+i[M+(S<<4)+8>>2]*+i[t+24>>2],_=w*+i[n>>2]+g*+i[n+4>>2]+m*+i[n+8>>2]+ +i[n+48>>2],h=w*+i[n+16>>2]+g*+i[n+20>>2]+m*+i[n+24>>2]+ +i[n+52>>2],m=w*+i[n+32>>2]+g*+i[n+36>>2]+m*+i[n+40>>2]+ +i[n+56>>2],g=_*+i[s>>2]+h*+i[s+4>>2]+m*+i[s+8>>2],g<+i[o>>2]&&(i[o>>2]=g,i[l>>2]=_,i[l+4>>2]=h,i[l+8>>2]=m,i[l+12>>2]=0),g>+i[a>>2]&&(i[a>>2]=g,i[u>>2]=_,i[u+4>>2]=h,i[u+8>>2]=m,i[u+12>>2]=0),S=S+1|0;while((S|0)!=(d|0));w=+i[a>>2],h=w,d=(i[Z>>2]=w,e[Z>>2]|0)}else h=-34028234663852886e22,d=-8388609;if(_=+i[o>>2],!(_>h)){H=C;return}e[o>>2]=d,i[a>>2]=_,e[C>>2]=e[l>>2],e[C+4>>2]=e[l+4>>2],e[C+8>>2]=e[l+8>>2],e[C+12>>2]=e[l+12>>2],e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],e[u>>2]=e[C>>2],e[u+4>>2]=e[C+4>>2],e[u+8>>2]=e[C+8>>2],e[u+12>>2]=e[C+12>>2],H=C}function uee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0;if((o|0)>0)a=0;else return;do i[s+(a<<4)+12>>2]=-0xde0b6b000000000,a=a+1|0;while((a|0)!=(o|0));C=0;do{if(l=+i[t+16>>2],u=+i[n+(C<<4)>>2]*l,_=+i[t+20>>2],h=+i[n+(C<<4)+4>>2]*_,d=+i[t+24>>2],m=+i[n+(C<<4)+8>>2]*d,a=e[t+100>>2]|0,(a|0)>0){g=e[t+108>>2]|0,S=0,w=-34028234663852886e22,M=-1;do E=u*+i[g+(S<<4)>>2]+h*+i[g+(S<<4)+4>>2]+m*+i[g+(S<<4)+8>>2],D=E>w,M=D?S:M,w=D?E:w,S=S+1|0;while((S|0)!=(a|0));m=+i[g+(M<<4)+4>>2]*_,E=+i[g+(M<<4)+8>>2]*d,i[s+(C<<4)>>2]=+i[g+(M<<4)>>2]*l,i[s+(C<<4)+4>>2]=m,i[s+(C<<4)+8>>2]=E,i[s+(C<<4)+12>>2]=w}else i[s+(C<<4)+12>>2]=-0xde0b6b000000000;C=C+1|0}while((C|0)!=(o|0))}function fee(t){return t=t|0,e[t+100>>2]|0}function pee(t){return t=t|0,e[t+100>>2]|0}function _ee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0;u=e[t+100>>2]|0,_=e[t+108>>2]|0,a=+i[_+(((n|0)%(u|0)|0)<<4)+4>>2]*+i[t+20>>2],l=+i[_+(((n|0)%(u|0)|0)<<4)+8>>2]*+i[t+24>>2],i[s>>2]=+i[_+(((n|0)%(u|0)|0)<<4)>>2]*+i[t+16>>2],i[s+4>>2]=a,i[s+8>>2]=l,i[s+12>>2]=0,s=e[t+108>>2]|0,l=+i[s+(((n+1|0)%(u|0)|0)<<4)+4>>2]*+i[t+20>>2],a=+i[s+(((n+1|0)%(u|0)|0)<<4)+8>>2]*+i[t+24>>2],i[o>>2]=+i[s+(((n+1|0)%(u|0)|0)<<4)>>2]*+i[t+16>>2],i[o+4>>2]=l,i[o+8>>2]=a,i[o+12>>2]=0}function hee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;l=e[t+108>>2]|0,a=+i[l+(n<<4)+4>>2]*+i[t+20>>2],o=+i[l+(n<<4)+8>>2]*+i[t+24>>2],i[s>>2]=+i[l+(n<<4)>>2]*+i[t+16>>2],i[s+4>>2]=a,i[s+8>>2]=o,i[s+12>>2]=0}function dee(t){return t=t|0,0}function mee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0}function gee(t,n,s){return t=t|0,n=n|0,s=+s,0}function xee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0;if(_=H,H=H+16|0,e[t+8>>2]=0,e[t+12>>2]=-1,e[t+16>>2]=1065353216,e[t+20>>2]=1065353216,e[t+24>>2]=1065353216,i[t+28>>2]=0,i[t+48>>2]=.03999999910593033,e[t+56>>2]=0,e[t+60>>2]=1065353216,e[t+64>>2]=1065353216,e[t+68>>2]=1065353216,i[t+72>>2]=0,e[t+76>>2]=-1082130432,e[t+80>>2]=-1082130432,e[t+84>>2]=-1082130432,i[t+88>>2]=0,A[t+92>>0]=0,e[t>>2]=5556,A[t+112>>0]=1,e[t+108>>2]=0,e[t+100>>2]=0,e[t+104>>2]=0,e[t+4>>2]=4,(s|0)<=0){e[t+100>>2]=s,Rc(t),H=_;return}if(e[5637]=(e[5637]|0)+1,a=Xe((s<<4|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,u=a+4+15&-16):u=0,a=e[t+100>>2]|0,(a|0)>0){l=0;do h=u+(l<<4)|0,d=(e[t+108>>2]|0)+(l<<4)|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],l=l+1|0;while((l|0)!=(a|0))}if(a=e[t+108>>2]|0,a|0&&(A[t+112>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+108>>2]=0),A[t+112>>0]=1,e[t+108>>2]=u,e[t+104>>2]=s,e[u>>2]=e[_>>2],e[u+4>>2]=e[_+4>>2],e[u+8>>2]=e[_+8>>2],e[u+12>>2]=e[_+12>>2],(s|0)!=1){a=1;do d=(e[t+108>>2]|0)+(a<<4)|0,e[d>>2]=e[_>>2],e[d+4>>2]=e[_+4>>2],e[d+8>>2]=e[_+8>>2],e[d+12>>2]=e[_+12>>2],a=a+1|0;while((a|0)!=(s|0))}for(e[t+100>>2]=s,l=0,a=n;d=e[t+108>>2]|0,n=e[a+4>>2]|0,h=e[a+8>>2]|0,e[d+(l<<4)>>2]=e[a>>2],e[d+(l<<4)+4>>2]=n,e[d+(l<<4)+8>>2]=h,i[d+(l<<4)+12>>2]=0,l=l+1|0,(l|0)!=(s|0);)a=a+o|0;Rc(t),H=_}function em(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;if(o=e[t+100>>2]|0,(o|0)==(e[t+104>>2]|0)&&(u=o|0?o<<1:1,(o|0)<(u|0))){if(u?(e[5637]=(e[5637]|0)+1,o=Xe((u<<4|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,l=o,o=e[t+100>>2]|0):l=0,(o|0)>0){a=0;do _=l+(a<<4)|0,h=(e[t+108>>2]|0)+(a<<4)|0,e[_>>2]=e[h>>2],e[_+4>>2]=e[h+4>>2],e[_+8>>2]=e[h+8>>2],e[_+12>>2]=e[h+12>>2],a=a+1|0;while((a|0)!=(o|0))}o=e[t+108>>2]|0,o|0&&(A[t+112>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+108>>2]=0),A[t+112>>0]=1,e[t+108>>2]=l,e[t+104>>2]=u,o=e[t+100>>2]|0}h=(e[t+108>>2]|0)+(o<<4)|0,e[h>>2]=e[n>>2],e[h+4>>2]=e[n+4>>2],e[h+8>>2]=e[n+8>>2],e[h+12>>2]=e[n+12>>2],e[t+100>>2]=(e[t+100>>2]|0)+1,s&&Rc(t)}function yee(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;a=+ht(+ +i[n>>2]),o=+ht(+ +i[n+4>>2]),s=+ht(+ +i[n+8>>2]),i[t+16>>2]=a,i[t+20>>2]=o,i[t+24>>2]=s,i[t+28>>2]=0}function vee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0;f0[e[(e[n>>2]|0)+68>>2]&127](t,n,s),+Tt[e[(e[n>>2]|0)+48>>2]&15](n)!=0&&(l=+i[s>>2],a=+i[s+4>>2],o=+i[s+8>>2],_=l*l+a*a+o*o<14210854715202004e-30?-1:l,u=l*l+a*a+o*o<14210854715202004e-30?-1:a,o=l*l+a*a+o*o<14210854715202004e-30?-1:o,a=1/+at(+(o*o+(_*_+u*u))),l=+Tt[e[(e[n>>2]|0)+48>>2]&15](n),i[t>>2]=+i[t>>2]+l*(a*_),i[t+4>>2]=l*(a*u)+ +i[t+4>>2],i[t+8>>2]=l*(a*o)+ +i[t+8>>2])}function See(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;u=H,H=H+96|0,a=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),l=0;do C=u+80+(l<<2)|0,e[u+80>>2]=0,e[u+80+4>>2]=0,e[u+80+8>>2]=0,e[u+80+12>>2]=0,i[C>>2]=1,_=e[(e[t>>2]|0)+64>>2]|0,h=+i[u+80>>2],d=+i[u+80+4>>2],m=+i[u+80+8>>2],g=h*+i[n+4>>2]+d*+i[n+20>>2]+m*+i[n+36>>2],S=h*+i[n+8>>2]+d*+i[n+24>>2]+m*+i[n+40>>2],i[u+32>>2]=+i[n>>2]*h+ +i[n+16>>2]*d+ +i[n+32>>2]*m,i[u+32+4>>2]=g,i[u+32+8>>2]=S,i[u+32+12>>2]=0,f0[_&127](u+64|0,t,u+32|0),S=+i[u+64>>2],g=+i[u+64+4>>2],m=+i[u+64+8>>2],d=S*+i[n+16>>2]+g*+i[n+20>>2]+m*+i[n+24>>2]+ +i[n+52>>2],h=S*+i[n+32>>2]+g*+i[n+36>>2]+m*+i[n+40>>2]+ +i[n+56>>2],i[u+48>>2]=S*+i[n>>2]+g*+i[n+4>>2]+m*+i[n+8>>2]+ +i[n+48>>2],i[u+48+4>>2]=d,i[u+48+8>>2]=h,i[u+48+12>>2]=0,_=u+48+(l<<2)|0,i[o+(l<<2)>>2]=a+ +i[_>>2],i[C>>2]=-1,C=e[(e[t>>2]|0)+64>>2]|0,h=+i[u+80>>2],d=+i[u+80+4>>2],m=+i[u+80+8>>2],g=h*+i[n+4>>2]+d*+i[n+20>>2]+m*+i[n+36>>2],S=h*+i[n+8>>2]+d*+i[n+24>>2]+m*+i[n+40>>2],i[u>>2]=+i[n>>2]*h+ +i[n+16>>2]*d+ +i[n+32>>2]*m,i[u+4>>2]=g,i[u+8>>2]=S,i[u+12>>2]=0,f0[C&127](u+16|0,t,u),S=+i[u+16>>2],g=+i[u+16+4>>2],m=+i[u+16+8>>2],d=S*+i[n+16>>2]+g*+i[n+20>>2]+m*+i[n+24>>2]+ +i[n+52>>2],h=S*+i[n+32>>2]+g*+i[n+36>>2]+m*+i[n+40>>2]+ +i[n+56>>2],i[u+48>>2]=S*+i[n>>2]+g*+i[n+4>>2]+m*+i[n+8>>2]+ +i[n+48>>2],i[u+48+4>>2]=d,i[u+48+8>>2]=h,i[u+48+12>>2]=0,i[s+(l<<2)>>2]=+i[_>>2]-a,l=l+1|0;while((l|0)!=3);H=u}function tm(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0;if(e[t>>2]=5688,n=e[t+56>>2]|0,n|0&&(A[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+56>>2]=0),A[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,s=e[t+28>>2]|0,(s|0)>0){_=0;do o=e[t+36>>2]|0,a=o+(_*36|0)+4|0,l=o+(_*36|0)+12|0,u=e[l>>2]|0,n=o+(_*36|0)+16|0,u|0&&(A[n>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[l>>2]=0),A[n>>0]=1,e[l>>2]=0,e[a>>2]=0,e[o+(_*36|0)+8>>2]=0,_=_+1|0;while((_|0)!=(s|0))}if(n=e[t+36>>2]|0,n|0&&(A[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),A[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,n=e[t+16>>2]|0,!n){A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0;return}A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0}function Tee(t){t=t|0,tm(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function im(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0;u=e[t+28>>2]|0,o=0,a=0,l=0,_=0;e:for(;;){switch(_|0){case 0:{o=+i[t+80>>2]+ +i[t+64>>2],a=+i[t+84>>2]+ +i[t+68>>2],l=+i[t+88>>2]+ +i[t+72>>2];break}case 1:{o=+i[t+80>>2]+ +i[t+64>>2],a=+i[t+84>>2]+ +i[t+68>>2],l=+i[t+72>>2]-+i[t+88>>2];break}case 2:{o=+i[t+80>>2]+ +i[t+64>>2],a=+i[t+68>>2]-+i[t+84>>2],l=+i[t+88>>2]+ +i[t+72>>2];break}case 3:{o=+i[t+80>>2]+ +i[t+64>>2],a=+i[t+68>>2]-+i[t+84>>2],l=+i[t+72>>2]-+i[t+88>>2];break}case 4:{o=+i[t+64>>2]-+i[t+80>>2],a=+i[t+84>>2]+ +i[t+68>>2],l=+i[t+88>>2]+ +i[t+72>>2];break}case 5:{o=+i[t+64>>2]-+i[t+80>>2],a=+i[t+84>>2]+ +i[t+68>>2],l=+i[t+72>>2]-+i[t+88>>2];break}case 6:{o=+i[t+64>>2]-+i[t+80>>2],a=+i[t+68>>2]-+i[t+84>>2],l=+i[t+88>>2]+ +i[t+72>>2];break}case 7:{o=+i[t+64>>2]-+i[t+80>>2],a=+i[t+68>>2]-+i[t+84>>2],l=+i[t+72>>2]-+i[t+88>>2];break}default:}if((u|0)>0){n=e[t+36>>2]|0,s=0;do{if(+i[n+(s*36|0)+32>>2]+(o*+i[n+(s*36|0)+20>>2]+a*+i[n+(s*36|0)+24>>2]+l*+i[n+(s*36|0)+28>>2])>0){n=0,s=16;break e}s=s+1|0}while((s|0)<(u|0))}if(_=_+1|0,(_|0)>=8){n=1,s=16;break}}return(s|0)==16?n|0:0}function Mc(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0;var _=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;if(C=H,H=H+16|0,i[o>>2]=34028234663852886e22,i[a>>2]=-34028234663852886e22,d=e[t+8>>2]|0,(d|0)>0){S=0;do M=e[t+16>>2]|0,w=+i[M+(S<<4)>>2],g=+i[M+(S<<4)+4>>2],m=+i[M+(S<<4)+8>>2],_=w*+i[n>>2]+g*+i[n+4>>2]+m*+i[n+8>>2]+ +i[n+48>>2],h=w*+i[n+16>>2]+g*+i[n+20>>2]+m*+i[n+24>>2]+ +i[n+52>>2],m=w*+i[n+32>>2]+g*+i[n+36>>2]+m*+i[n+40>>2]+ +i[n+56>>2],g=_*+i[s>>2]+h*+i[s+4>>2]+m*+i[s+8>>2],g<+i[o>>2]&&(i[o>>2]=g,i[l>>2]=_,i[l+4>>2]=h,i[l+8>>2]=m,i[l+12>>2]=0),g>+i[a>>2]&&(i[a>>2]=g,i[u>>2]=_,i[u+4>>2]=h,i[u+8>>2]=m,i[u+12>>2]=0),S=S+1|0;while((S|0)!=(d|0));w=+i[a>>2],h=w,d=(i[Z>>2]=w,e[Z>>2]|0)}else h=-34028234663852886e22,d=-8388609;if(_=+i[o>>2],!(_>h)){H=C;return}e[o>>2]=d,i[a>>2]=_,e[C>>2]=e[l>>2],e[C+4>>2]=e[l+4>>2],e[C+8>>2]=e[l+8>>2],e[C+12>>2]=e[l+12>>2],e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],e[u>>2]=e[C>>2],e[u+4>>2]=e[C+4>>2],e[u+8>>2]=e[C+8>>2],e[u+12>>2]=e[C+12>>2],H=C}function Cee(t){t=t|0}function wee(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0;var _=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0;if(M=H,H=H+64|0,C=+i[s>>2],S=+i[s+4>>2],w=+i[s+8>>2],_=C*+i[n+4>>2]+S*+i[n+20>>2]+w*+i[n+36>>2],h=C*+i[n+8>>2]+S*+i[n+24>>2]+w*+i[n+40>>2],i[M+48>>2]=+i[n>>2]*C+ +i[n+16>>2]*S+ +i[n+32>>2]*w,i[M+48+4>>2]=_,i[M+48+8>>2]=h,i[M+48+12>>2]=0,f0[e[(e[t>>2]|0)+64>>2]&127](M+32|0,t,M+48|0),h=+i[M+32>>2],_=+i[M+32+4>>2],w=+i[M+32+8>>2],S=h*+i[n>>2]+_*+i[n+4>>2]+w*+i[n+8>>2]+ +i[n+48>>2],C=h*+i[n+16>>2]+_*+i[n+20>>2]+w*+i[n+24>>2]+ +i[n+52>>2],w=h*+i[n+32>>2]+_*+i[n+36>>2]+w*+i[n+40>>2]+ +i[n+56>>2],E=e[(e[t>>2]|0)+64>>2]|0,_=-+i[M+48+4>>2],h=-+i[M+48+8>>2],i[M>>2]=-+i[M+48>>2],i[M+4>>2]=_,i[M+8>>2]=h,i[M+12>>2]=0,f0[E&127](M+16|0,t,M),h=+i[M+16>>2],_=+i[M+16+4>>2],d=+i[M+16+8>>2],m=h*+i[n>>2]+_*+i[n+4>>2]+d*+i[n+8>>2]+ +i[n+48>>2],g=h*+i[n+16>>2]+_*+i[n+20>>2]+d*+i[n+24>>2]+ +i[n+52>>2],d=h*+i[n+32>>2]+_*+i[n+36>>2]+d*+i[n+40>>2]+ +i[n+56>>2],i[o>>2]=S*+i[s>>2]+C*+i[s+4>>2]+w*+i[s+8>>2],i[a>>2]=m*+i[s>>2]+g*+i[s+4>>2]+d*+i[s+8>>2],i[u>>2]=m,i[u+4>>2]=g,i[u+8>>2]=d,i[u+12>>2]=0,i[l>>2]=S,i[l+4>>2]=C,i[l+8>>2]=w,i[l+12>>2]=0,_=+i[o>>2],h=+i[a>>2],!(_>h)){H=M;return}i[o>>2]=h,i[a>>2]=_,i[u>>2]=S,i[u+4>>2]=C,i[u+8>>2]=w,i[u+12>>2]=0,i[l>>2]=m,i[l+4>>2]=g,i[l+8>>2]=d,i[l+12>>2]=0,H=M}function W1(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0;switch(F=H,H=H+48|0,e[n+4>>2]|0){case 8:{e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,H=F;return}case 0:{N=+i[n+32>>2],B=+i[n+36>>2],B=+i[s+4>>2]>=0?B:-B,k=+i[n+40>>2],k=+i[s+8>>2]>=0?k:-k,i[t>>2]=+i[s>>2]>=0?N:-N,i[t+4>>2]=B,i[t+8>>2]=k,i[t+12>>2]=0,H=F;return}case 1:{E=+i[s>>2],D=+i[s+4>>2],k=+i[s+8>>2],B=E*+i[n+60>>2]+D*+i[n+60+4>>2]+k*+i[n+60+8>>2],N=E*+i[n+60+16>>2]+D*+i[n+60+20>>2]+k*+i[n+60+24>>2],k=E*+i[n+60+32>>2]+D*+i[n+60+36>>2]+k*+i[n+60+40>>2],s=B<N?N<k?2:1:B<k?2:0,m=e[n+60+(s<<4)+4>>2]|0,C=e[n+60+(s<<4)+8>>2]|0,e[t>>2]=e[n+60+(s<<4)>>2],e[t+4>>2]=m,e[t+8>>2]=C,i[t+12>>2]=0,H=F;return}case 13:{switch(e[F+32>>2]=e[n+32>>2],e[F+32+4>>2]=e[n+32+4>>2],e[F+32+8>>2]=e[n+32+8>>2],e[F+32+12>>2]=e[n+32+12>>2],e[F+16>>2]=e[s>>2],a=e[s+4>>2]|0,e[F+16+4>>2]=a,C=e[s+8>>2]|0,e[F+16+8>>2]=C,i[F+16+12>>2]=0,s=e[n+56>>2]|0,o=(e[Z>>2]=C,+i[Z>>2]),s|0){case 2:{o=(e[Z>>2]=a,+i[Z>>2]),a=0,n=2,m=1;break}case 1:{a=0,n=1,m=2;break}default:a=1,n=0,m=2}d=+i[F+32+(a<<2)>>2],_=+i[F+32+(s<<2)>>2],h=+i[F+16+(a<<2)>>2],l=+at(+(h*h+o*o)),u=+i[F+16+(n<<2)>>2],l!=0?(i[F+(a<<2)>>2]=h*(d/l),i[F+(n<<2)>>2]=u<0?-_:_,i[F+(m<<2)>>2]=d/l*o,e[t>>2]=e[F>>2],e[t+4>>2]=e[F+4>>2],e[t+8>>2]=e[F+8>>2]):(i[F+(a<<2)>>2]=d,i[F+(n<<2)>>2]=u<0?-_:_,i[F+(m<<2)>>2]=0,e[t>>2]=e[F>>2],e[t+4>>2]=e[F+4>>2],e[t+8>>2]=e[F+8>>2]),i[t+12>>2]=0,H=F;return}case 10:{o=+i[s>>2],l=+i[s+4>>2],u=+i[s+8>>2],m=e[n+56>>2]|0,D=+i[n+32+(m<<2)>>2],_=+i[n+32+(((m+2|0)%3|0)<<2)>>2],o*o+l*l+u*u<9999999747378752e-20?(k=1,B=0,N=0):(N=1/+at(+(o*o+l*l+u*u)),k=o*N,B=l*N,N=u*N),e[F+32>>2]=0,e[F+32+4>>2]=0,e[F+32+8>>2]=0,e[F+32+12>>2]=0,i[F+32+(m<<2)>>2]=D,S=_*k,M=_*B,E=_*N,w=+i[n+48>>2],h=k*w,g=B*w,w=N*w,o=S+ +i[F+32>>2]-h,l=M+ +i[F+32+4>>2]-g,_=E+ +i[F+32+8>>2]-w,u=N*_+(k*o+B*l),u>-0xde0b6b000000000?(n=(i[Z>>2]=o,e[Z>>2]|0),a=(i[Z>>2]=l,e[Z>>2]|0),d=u,s=(i[Z>>2]=_,e[Z>>2]|0)):(d=-0xde0b6b000000000,n=0,s=0,a=0),e[F+32>>2]=0,e[F+32+4>>2]=0,e[F+32+8>>2]=0,e[F+32+12>>2]=0,i[F+32+(m<<2)>>2]=-D,u=S+ +i[F+32>>2]-h,l=M+ +i[F+32+4>>2]-g,o=E+ +i[F+32+8>>2]-w,N*o+(k*u+B*l)>d&&(n=(i[Z>>2]=u,e[Z>>2]|0),a=(i[Z>>2]=l,e[Z>>2]|0),s=(i[Z>>2]=o,e[Z>>2]|0)),e[t>>2]=n,e[t+4>>2]=a,e[t+8>>2]=s,i[t+12>>2]=0,H=F;return}case 5:{if(C=e[n+96>>2]|0,m=e[n+100>>2]|0,g=+i[n+16>>2],S=+i[n+20>>2],d=+i[n+24>>2],_=+i[s>>2]*g,h=+i[s+4>>2]*S,o=+i[s+8>>2]*d,(m|0)>0)for(n=0,u=-34028234663852886e22,a=-1;l=_*+i[C+(n<<4)>>2]+h*+i[C+(n<<4)+4>>2]+o*+i[C+(n<<4)+8>>2],s=l>u,a=s?n:a,n=n+1|0,(n|0)!=(m|0);)u=s?l:u;else a=-1;B=S*+i[C+(a<<4)+4>>2],k=d*+i[C+(a<<4)+8>>2],i[t>>2]=g*+i[C+(a<<4)>>2],i[t+4>>2]=B,i[t+8>>2]=k,i[t+12>>2]=0,H=F;return}case 4:{if(C=e[n+108>>2]|0,m=e[n+100>>2]|0,g=+i[n+16>>2],S=+i[n+20>>2],d=+i[n+24>>2],_=+i[s>>2]*g,h=+i[s+4>>2]*S,o=+i[s+8>>2]*d,(m|0)>0)for(n=0,u=-34028234663852886e22,a=-1;l=_*+i[C+(n<<4)>>2]+h*+i[C+(n<<4)+4>>2]+o*+i[C+(n<<4)+8>>2],s=l>u,a=s?n:a,n=n+1|0,(n|0)!=(m|0);)u=s?l:u;else a=-1;B=S*+i[C+(a<<4)+4>>2],k=d*+i[C+(a<<4)+8>>2],i[t>>2]=g*+i[C+(a<<4)>>2],i[t+4>>2]=B,i[t+8>>2]=k,i[t+12>>2]=0,H=F;return}default:{f0[e[(e[n>>2]|0)+68>>2]&127](t,n,s),H=F;return}}}function Mee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0;switch(u=H,H=H+32|0,e[u+16>>2]=e[s>>2],e[u+16+4>>2]=e[s+4>>2],e[u+16+8>>2]=e[s+8>>2],e[u+16+12>>2]=e[s+12>>2],o=+i[u+16>>2],l=+i[u+16+4>>2],a=+i[u+16+8>>2],o*o+l*l+a*a<14210854715202004e-30&&(e[u+16>>2]=-1082130432,e[u+16+4>>2]=-1082130432,e[u+16+8>>2]=-1082130432,i[u+16+12>>2]=0,o=-1,l=-1,a=-1),_=1/+at(+(o*o+l*l+a*a)),i[u+16>>2]=o*_,i[u+16+4>>2]=l*_,i[u+16+8>>2]=a*_,W1(u,n,u+16|0),e[n+4>>2]|0){case 8:{o=+i[n+32>>2]*+i[n+16>>2];break}case 0:{o=+i[n+48>>2];break}case 1:{o=+i[n+48>>2];break}case 13:{o=+i[n+48>>2];break}case 11:{o=+i[n+48>>2];break}case 10:{o=+i[n+48>>2];break}case 4:case 5:{o=+i[n+48>>2];break}default:o=+Tt[e[(e[n>>2]|0)+48>>2]&15](n)}l=o*+i[u+16+4>>2]+ +i[u+4>>2],_=o*+i[u+16+8>>2]+ +i[u+8>>2],i[t>>2]=o*+i[u+16>>2]+ +i[u>>2],i[t+4>>2]=l,i[t+8>>2]=_,i[t+12>>2]=0,H=u}function Ree(t){t=t|0;var n=0,s=0;e[t>>2]=6248,n=e[t+56>>2]|0,n|0&&(Vt[e[e[n>>2]>>2]&255](n),s=e[t+56>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function Aee(t,n){t=t|0,n=n|0;var s=0;s=(e[t+96>>2]|0)+4|0,e[s>>2]=e[n>>2],e[s+4>>2]=e[n+4>>2],e[s+8>>2]=e[n+8>>2],e[s+12>>2]=e[n+12>>2],Rc(t)}function Eee(t){return t=t|0,(e[t+96>>2]|0)+4|0}function bee(t){return t=t|0,13526}function Nee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0;f0[e[(e[n>>2]|0)+68>>2]&127](t,n,s),+Tt[e[(e[n>>2]|0)+48>>2]&15](n)!=0&&(l=+i[s>>2],a=+i[s+4>>2],o=+i[s+8>>2],_=l*l+a*a+o*o<14210854715202004e-30?-1:l,u=l*l+a*a+o*o<14210854715202004e-30?-1:a,o=l*l+a*a+o*o<14210854715202004e-30?-1:o,a=1/+at(+(o*o+(_*_+u*u))),l=+Tt[e[(e[n>>2]|0)+48>>2]&15](n),i[t>>2]=+i[t>>2]+l*(a*_),i[t+4>>2]=l*(a*u)+ +i[t+4>>2],i[t+8>>2]=l*(a*o)+ +i[t+8>>2])}function Dee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;h=H,H=H+80|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,o=+i[s>>2],a=+i[s+4>>2],l=+i[s+8>>2],o*o+a*a+l*l<9999999747378752e-20?(_=1065353216,u=0,o=0,s=0):(m=1/+at(+(o*o+a*a+l*l)),_=(i[Z>>2]=o*m,e[Z>>2]|0),d=(i[Z>>2]=a*m,e[Z>>2]|0),u=(i[Z>>2]=l*m,e[Z>>2]|0),o=+i[s+12>>2],s=d),e[h+32>>2]=5836,d=h+32+4|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,i[h+32+20>>2]=-0xde0b6b000000000,e[h+32+24>>2]=_,e[h+32+28>>2]=s,e[h+32+32>>2]=u,i[h+32+36>>2]=o,e[h+16>>2]=1566444395,e[h+16+4>>2]=1566444395,e[h+16+8>>2]=1566444395,i[h+16+12>>2]=0,n=e[n+96>>2]|0,_=e[(e[n>>2]|0)+8>>2]|0,i[h>>2]=-0xde0b6b000000000,i[h+4>>2]=-0xde0b6b000000000,i[h+8>>2]=-0xde0b6b000000000,i[h+12>>2]=0,Kt[_&127](n,h+32|0,h,h+16|0),e[t>>2]=e[d>>2],e[t+4>>2]=e[d+4>>2],e[t+8>>2]=e[d+8>>2],e[t+12>>2]=e[d+12>>2],H=h}function Iee(t){t=t|0,ye(t)}function Pee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0;_=+i[t+24>>2],h=+i[t+28>>2],u=+i[t+32>>2],a=_*+i[n>>2]+h*+i[n+4>>2]+u*+i[n+8>>2],l=+i[t+20>>2],a>l?(i[t+20>>2]=a,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2]):a=l,l=_*+i[n+16>>2]+h*+i[n+20>>2]+u*+i[n+24>>2],l>a?(i[t+20>>2]=l,e[t+4>>2]=e[n+16>>2],e[t+4+4>>2]=e[n+16+4>>2],e[t+4+8>>2]=e[n+16+8>>2],e[t+4+12>>2]=e[n+16+12>>2]):l=a,a=_*+i[n+32>>2]+h*+i[n+36>>2]+u*+i[n+40>>2],a>l&&(i[t+20>>2]=a,e[t+4>>2]=e[n+32>>2],e[t+4+4>>2]=e[n+32+4>>2],e[t+4+8>>2]=e[n+32+8>>2],e[t+4+12>>2]=e[n+32+12>>2])}function Lee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0;if(u=H,H=H+80|0,(o|0)>0)a=0;else{H=u;return}do i[s+(a<<4)+12>>2]=-0xde0b6b000000000,a=a+1|0;while((a|0)!=(o|0));a=u+32+4|0,l=0;do _=n+(l<<4)|0,e[u+32>>2]=5836,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,i[u+32+20>>2]=-0xde0b6b000000000,e[u+32+24>>2]=e[_>>2],e[u+32+24+4>>2]=e[_+4>>2],e[u+32+24+8>>2]=e[_+8>>2],e[u+32+24+12>>2]=e[_+12>>2],e[u+16>>2]=1566444395,e[u+16+4>>2]=1566444395,e[u+16+8>>2]=1566444395,i[u+16+12>>2]=0,_=e[t+96>>2]|0,h=e[(e[_>>2]|0)+8>>2]|0,i[u>>2]=-0xde0b6b000000000,i[u+4>>2]=-0xde0b6b000000000,i[u+8>>2]=-0xde0b6b000000000,i[u+12>>2]=0,Kt[h&127](_,u+32|0,u,u+16|0),_=s+(l<<4)|0,e[_>>2]=e[a>>2],e[_+4>>2]=e[a+4>>2],e[_+8>>2]=e[a+8>>2],e[_+12>>2]=e[a+12>>2],l=l+1|0;while((l|0)<(o|0));H=u}function kee(t){return t=t|0,0}function Fee(t){return t=t|0,0}function Bee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0}function Uee(t,n,s){t=t|0,n=n|0,s=s|0}function Oee(t){return t=t|0,0}function Gee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0}function Vee(t,n,s){return t=t|0,n=n|0,s=+s,0}function nm(t,n,s){t=t|0,n=n|0,s=s|0,e[t+8>>2]=0,e[t+12>>2]=-1,e[t+16>>2]=1065353216,e[t+20>>2]=1065353216,e[t+24>>2]=1065353216,i[t+28>>2]=0,i[t+48>>2]=.03999999910593033,e[t+56>>2]=0,e[t+60>>2]=1065353216,e[t+64>>2]=1065353216,e[t+68>>2]=1065353216,i[t+72>>2]=0,e[t+76>>2]=-1082130432,e[t+80>>2]=-1082130432,e[t+84>>2]=-1082130432,i[t+88>>2]=0,A[t+92>>0]=0,e[t>>2]=5704,e[t+96>>2]=n,e[t+4>>2]=3,s&&Rc(t)}function zee(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Wee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0;u=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),m=u+ +i[t+32>>2],h=u+ +i[t+36>>2],u=u+ +i[t+40>>2],N=+ht(+ +i[n>>2]),D=+ht(+ +i[n+4>>2]),E=+ht(+ +i[n+8>>2]),w=+ht(+ +i[n+16>>2]),C=+ht(+ +i[n+20>>2]),S=+ht(+ +i[n+24>>2]),d=+ht(+ +i[n+32>>2]),_=+ht(+ +i[n+36>>2]),l=+ht(+ +i[n+40>>2]),M=+i[n+48>>2],g=+i[n+52>>2],a=+i[n+56>>2],i[s>>2]=M-(m*N+h*D+u*E),i[s+4>>2]=g-(m*w+h*C+u*S),i[s+8>>2]=a-(m*d+h*_+u*l),i[s+12>>2]=0,i[o>>2]=m*N+h*D+u*E+M,i[o+4>>2]=m*w+h*C+u*S+g,i[o+8>>2]=m*d+h*_+u*l+a,i[o+12>>2]=0}function Hee(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;h=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),l=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),s=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),m=(h+ +i[t+32>>2])/+i[t+16>>2],_=(l+ +i[t+36>>2])/+i[t+20>>2],a=(s+ +i[t+40>>2])/+i[t+24>>2],d=+ht(+ +i[n>>2]),u=+ht(+ +i[n+4>>2]),o=+ht(+ +i[n+8>>2]),i[t+16>>2]=d,i[t+20>>2]=u,i[t+24>>2]=o,i[t+28>>2]=0,i[t+32>>2]=m*d-h,i[t+36>>2]=_*u-l,i[t+40>>2]=a*o-s,i[t+44>>2]=0}function jee(t,n,s){t=t|0,n=+n,s=s|0;var o=0,a=0,l=0,u=0,_=0;switch(o=+i[t+32>>2],u=+i[t+36>>2],l=+i[t+40>>2],_=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),a=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),l=+Tt[e[(e[t>>2]|0)+48>>2]&15](t)+l,e[t+56>>2]|0){case 0:{_=n*.25*((a+u)*(a+u))+n/12*((_+o)*((_+o)*4)),i[s>>2]=n*.5*((a+u)*(a+u)),i[s+4>>2]=_,i[s+8>>2]=_,i[s+12>>2]=0;return}case 2:{i[s>>2]=n*.25*((_+o)*(_+o))+n/12*(l*(l*4)),i[s+4>>2]=n*.25*((_+o)*(_+o))+n/12*(l*(l*4)),i[s+8>>2]=n*.5*((_+o)*(_+o)),i[s+12>>2]=0;return}default:{u=n*.25*((_+o)*(_+o))+n/12*((a+u)*((a+u)*4)),i[s>>2]=u,i[s+4>>2]=n*.5*((_+o)*(_+o)),i[s+8>>2]=u,i[s+12>>2]=0;return}}}function qee(t){return t=t|0,13587}function Xee(t,n){t=t|0,n=n|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,i[t+(e[n+56>>2]<<2)>>2]=1}function $ee(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0;l=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),o=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),u=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),l=l+ +i[t+32>>2],o=o+ +i[t+36>>2],u=u+ +i[t+40>>2],i[t+48>>2]=n,a=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),s=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),n=u-+Tt[e[(e[t>>2]|0)+48>>2]&15](t),i[t+32>>2]=l-a,i[t+36>>2]=o-s,i[t+40>>2]=n,i[t+44>>2]=0}function Yee(t){return t=t|0,60}function Kee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=a,a|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],e[n+28>>2]=e[t+32>>2],e[n+32>>2]=e[t+36>>2],e[n+36>>2]=e[t+40>>2],e[n+40>>2]=e[t+44>>2],e[n+12>>2]=e[t+16>>2],e[n+16>>2]=e[t+20>>2],e[n+20>>2]=e[t+24>>2],e[n+24>>2]=e[t+28>>2],e[n+44>>2]=e[t+48>>2],e[n+52>>2]=e[t+56>>2],13597}function Zee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;if(o=H,H=H+16|0,f0[e[(e[n>>2]|0)+68>>2]&127](o,n,s),e[t>>2]=e[o>>2],e[t+4>>2]=e[o+4>>2],e[t+8>>2]=e[o+8>>2],e[t+12>>2]=e[o+12>>2],+Tt[e[(e[n>>2]|0)+48>>2]&15](n)==0){H=o;return}u=+i[s>>2],l=+i[s+4>>2],a=+i[s+8>>2],h=u*u+l*l+a*a<14210854715202004e-30?-1:u,_=u*u+l*l+a*a<14210854715202004e-30?-1:l,a=u*u+l*l+a*a<14210854715202004e-30?-1:a,l=1/+at(+(a*a+(h*h+_*_))),u=+Tt[e[(e[n>>2]|0)+48>>2]&15](n),i[t>>2]=+i[t>>2]+u*(l*h),i[t+4>>2]=u*(l*_)+ +i[t+4>>2],i[t+8>>2]=u*(l*a)+ +i[t+8>>2],H=o}function Qee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;o=+i[n+32>>2],u=+i[n+36>>2],h=+i[s>>2],l=+i[s+8>>2],_=+at(+(h*h+l*l)),a=+i[s+4>>2],_!=0?(l=l*(o/_),a=a<0?-u:u,o=h*(o/_)):(l=0,a=a<0?-u:u),i[t>>2]=o,i[t+4>>2]=a,i[t+8>>2]=l}function Jee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0;if(!((o|0)<=0)){g=0;do a=+i[t+32>>2],_=+i[t+36>>2],m=+i[n+(g<<4)>>2],l=+i[n+(g<<4)+8>>2],d=+at(+(m*m+l*l)),u=+i[n+(g<<4)+4>>2],d!=0?(h=l*(a/d),l=u<0?-_:_,a=m*(a/d)):(h=0,l=u<0?-_:_),i[s+(g<<4)>>2]=a,i[s+(g<<4)+4>>2]=l,i[s+(g<<4)+8>>2]=h,g=g+1|0;while((g|0)!=(o|0))}}function ete(t){t=t|0;var n=0,s=0;return s=+i[t+32>>2],n=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),+Tt[e[(e[t>>2]|0)+48>>2]&15](t),+Tt[e[(e[t>>2]|0)+48>>2]&15](t),+(s+n)}function tte(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function ite(t){return t=t|0,13636}function nte(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;o=+i[n+36>>2],l=+i[n+32>>2],h=+i[s+4>>2],a=+i[s+8>>2],_=+at(+(h*h+a*a)),_!=0?(u=a*(o/_),a=+i[s>>2]<0?-l:l,o=h*(o/_)):(u=0,a=+i[s>>2]<0?-l:l),i[t+4>>2]=o,i[t>>2]=a,i[t+8>>2]=u}function rte(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0;if(!((o|0)<=0)){g=0;do a=+i[t+36>>2],u=+i[t+32>>2],_=n+(g<<4)|0,m=+i[n+(g<<4)+4>>2],l=+i[n+(g<<4)+8>>2],d=+at(+(m*m+l*l)),d!=0?(h=l*(a/d),l=+i[_>>2]<0?-u:u,a=m*(a/d)):(h=0,l=+i[_>>2]<0?-u:u),i[s+(g<<4)>>2]=l,i[s+(g<<4)+4>>2]=a,i[s+(g<<4)+8>>2]=h,g=g+1|0;while((g|0)!=(o|0))}}function ste(t){t=t|0;var n=0,s=0;return s=+i[t+36>>2],+Tt[e[(e[t>>2]|0)+48>>2]&15](t),n=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),+Tt[e[(e[t>>2]|0)+48>>2]&15](t),+(s+n)}function ote(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function ate(t){return t=t|0,13665}function cte(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;o=+i[n+32>>2],u=+i[n+40>>2],h=+i[s>>2],l=+i[s+4>>2],_=+at(+(h*h+l*l)),a=+i[s+8>>2],_!=0?(l=l*(o/_),a=a<0?-u:u,o=h*(o/_)):(l=0,a=a<0?-u:u),i[t>>2]=o,i[t+8>>2]=a,i[t+4>>2]=l}function lte(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0;if(!((o|0)<=0)){g=0;do a=+i[t+32>>2],_=+i[t+40>>2],m=+i[n+(g<<4)>>2],l=+i[n+(g<<4)+4>>2],d=+at(+(m*m+l*l)),u=+i[n+(g<<4)+8>>2],d!=0?(h=l*(a/d),l=u<0?-_:_,a=m*(a/d)):(h=0,l=u<0?-_:_),i[s+(g<<4)>>2]=a,i[s+(g<<4)+4>>2]=h,i[s+(g<<4)+8>>2]=l,g=g+1|0;while((g|0)!=(o|0))}}function ute(t){t=t|0;var n=0,s=0;return s=+i[t+32>>2],n=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),+Tt[e[(e[t>>2]|0)+48>>2]&15](t),+Tt[e[(e[t>>2]|0)+48>>2]&15](t),+(s+n)}function Ah(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0;e[t+4>>2]=35,e[t+8>>2]=0,e[t+12>>2]=-1,e[t+16>>2]=1065353216,e[t+20>>2]=1065353216,e[t+24>>2]=1065353216,i[t+28>>2]=0,i[t+48>>2]=.03999999910593033,e[t>>2]=5856,e[t+56>>2]=1,l=+i[n>>2],a=+i[n+4>>2],s=+i[n+8>>2],s=+i[n+((l<a?l<s?0:2:a<s?1:2)<<2)>>2]*.10000000149011612,s<.03999999910593033?(_=+Rh(t),u=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),l=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),_=_+ +i[t+32>>2],u=u+ +i[t+36>>2],l=l+ +i[t+40>>2],i[t+48>>2]=s,s=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),a=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),l=l-+Tt[e[(e[t>>2]|0)+48>>2]&15](t),i[t+32>>2]=_-s,i[t+36>>2]=u-a,i[t+40>>2]=l,i[t+44>>2]=0,o=e[t>>2]|0):o=5856,l=+Tt[e[o+48>>2]&15](t),u=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),_=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),u=+i[n+4>>2]*+i[t+20>>2]-u,_=+i[n+8>>2]*+i[t+24>>2]-_,i[t+32>>2]=+i[n>>2]*+i[t+16>>2]-l,i[t+36>>2]=u,i[t+40>>2]=_,i[t+44>>2]=0,e[t+4>>2]=13}function fte(t){t=t|0,up(t)}function pte(t){t=t|0,up(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function _te(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,Im(t,n,s,o)|0,1}function rm(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0;if(F=H,H=H+160|0,A[t+60>>0]=s&1,s){if(S=+i[o>>2]+-1,M=+i[o+4>>2]+-1,C=+i[o+8>>2]+-1,i[t+4>>2]=S,i[t+8>>2]=M,i[t+12>>2]=C,i[t+16>>2]=0,E=+i[a>>2]+1,N=+i[a+4>>2]+1,B=+i[a+8>>2]+1,i[t+20>>2]=E,i[t+24>>2]=N,i[t+28>>2]=B,i[t+32>>2]=0,i[t+36>>2]=65533/(E-S),i[t+40>>2]=65533/(N-M),i[t+44>>2]=65533/(B-C),i[t+48>>2]=0,A[t+60>>0]=1,l=S+ +(~~((S-S)*(65533/(E-S)))&65534)/(65533/(E-S))+-1,u=M+ +(~~((M-M)*(65533/(N-M)))&65534)/(65533/(N-M))+-1,m=C+ +(~~((C-C)*(65533/(B-C)))&65534)/(65533/(B-C))+-1,l<S?(i[t+4>>2]=l,k=l):k=S,u<M?(i[t+8>>2]=u,D=u):D=M,m<C?(i[t+12>>2]=m,w=m):w=C,m=k+ +((~~((E-k)*(65533/(E-S))+1)&65535|1)&65535)/(65533/(E-S))+1,u=D+ +((~~((N-D)*(65533/(N-M))+1)&65535|1)&65535)/(65533/(N-M))+1,l=w+ +((~~((B-w)*(65533/(B-C))+1)&65535|1)&65535)/(65533/(B-C))+1,E<m?i[t+20>>2]=m:m=E,N<u?i[t+24>>2]=u:u=N,B<l?i[t+28>>2]=l:l=B,i[t+36>>2]=65533/(m-k),i[t+40>>2]=65533/(u-D),i[t+44>>2]=65533/(l-w),i[t+48>>2]=0,e[F+144>>2]=6208,e[F+144+4>>2]=t+104,e[F+144+8>>2]=t,Kt[e[(e[n>>2]|0)+8>>2]&127](n,F+144|0,t+4|0,t+20|0),s=e[t+108>>2]|0,e[F+128>>2]=0,e[F+128+4>>2]=0,e[F+128+8>>2]=0,e[F+128+12>>2]=0,_=e[t+128>>2]|0,(_|0)<(s<<1|0)){if((e[t+132>>2]|0)<(s<<1|0)){if(s?(e[5637]=(e[5637]|0)+1,o=Xe(s<<5|19)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+128>>2]|0):(o=0,a=_),(a|0)>0){n=0;do g=o+(n<<4)|0,d=(e[t+136>>2]|0)+(n<<4)|0,e[g>>2]=e[d>>2],e[g+4>>2]=e[d+4>>2],e[g+8>>2]=e[d+8>>2],e[g+12>>2]=e[d+12>>2],n=n+1|0;while((n|0)!=(a|0))}a=e[t+136>>2]|0,a|0&&(A[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+136>>2]=0),A[t+140>>0]=1,e[t+136>>2]=o,e[t+132>>2]=s<<1,a=t+136|0}else a=t+136|0;o=_;do g=(e[a>>2]|0)+(o<<4)|0,e[g>>2]=e[F+128>>2],e[g+4>>2]=e[F+128+4>>2],e[g+8>>2]=e[F+128+8>>2],e[g+12>>2]=e[F+128+12>>2],o=o+1|0;while((o|0)!=(s<<1|0))}e[t+128>>2]=s<<1}else{e[F+144>>2]=6228,e[F+144+4>>2]=t+64,e[F+112>>2]=-581039253,e[F+112+4>>2]=-581039253,e[F+112+8>>2]=-581039253,i[F+112+12>>2]=0,e[F+96>>2]=1566444395,e[F+96+4>>2]=1566444395,e[F+96+8>>2]=1566444395,i[F+96+12>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,F+144|0,F+112|0,F+96|0),s=e[t+68>>2]|0,_=F+32|0,d=_+64|0;do e[_>>2]=0,_=_+4|0;while((_|0)<(d|0));if(g=e[t+88>>2]|0,(g|0)<(s<<1|0)){if((e[t+92>>2]|0)<(s<<1|0)){if(s?(e[5637]=(e[5637]|0)+1,o=Xe(s<<7|19)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+88>>2]|0):(o=0,a=g),(a|0)>0){n=0;do{_=o+(n<<6)|0,h=(e[t+96>>2]|0)+(n<<6)|0,d=_+64|0;do e[_>>2]=e[h>>2],_=_+4|0,h=h+4|0;while((_|0)<(d|0));n=n+1|0}while((n|0)!=(a|0))}a=e[t+96>>2]|0,a|0&&(A[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+96>>2]=0),A[t+100>>0]=1,e[t+96>>2]=o,e[t+92>>2]=s<<1,a=t+96|0}else a=t+96|0;o=g;do{_=(e[a>>2]|0)+(o<<6)|0,h=F+32|0,d=_+64|0;do e[_>>2]=e[h>>2],_=_+4|0,h=h+4|0;while((_|0)<(d|0));o=o+1|0}while((o|0)!=(s<<1|0))}e[t+88>>2]=s<<1}if(e[t+56>>2]=0,Fh(t,0,s),A[t+60>>0]|0&&(e[t+152>>2]|0)==0){if(e[t+156>>2]|0)o=t+160|0,a=1,s=e[t+160>>2]|0;else{if(e[5637]=(e[5637]|0)+1,s=Xe(51)|0,s?(e[(s+4+15&-16)+-4>>2]=s,n=s+4+15&-16):n=0,s=e[t+152>>2]|0,(s|0)>0){o=0;do g=n+(o<<5)|0,d=(e[t+160>>2]|0)+(o<<5)|0,e[g>>2]=e[d>>2],e[g+4>>2]=e[d+4>>2],e[g+8>>2]=e[d+8>>2],e[g+12>>2]=e[d+12>>2],e[g+16>>2]=e[d+16>>2],e[g+20>>2]=e[d+20>>2],e[g+24>>2]=e[d+24>>2],e[g+28>>2]=e[d+28>>2],o=o+1|0;while((o|0)!=(s|0))}s=e[t+160>>2]|0,s|0&&(A[t+164>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+160>>2]=0),A[t+164>>0]=1,e[t+160>>2]=n,e[t+156>>2]=1,o=t+160|0,a=(e[t+152>>2]|0)+1|0,s=n}e[t+152>>2]=a,e[s>>2]=e[F>>2],e[s+4>>2]=e[F+4>>2],e[s+8>>2]=e[F+8>>2],e[s+12>>2]=e[F+12>>2],e[s+16>>2]=e[F+16>>2],e[s+20>>2]=e[F+20>>2],e[s+24>>2]=e[F+24>>2],e[s+28>>2]=e[F+28>>2],g=e[o>>2]|0,d=e[t+136>>2]|0,ee[g>>1]=ee[d>>1]|0,ee[g+2>>1]=ee[d+2>>1]|0,ee[g+4>>1]=ee[d+4>>1]|0,ee[g+6>>1]=ee[d+6>>1]|0,ee[g+8>>1]=ee[d+8>>1]|0,ee[g+10>>1]=ee[d+10>>1]|0,e[g+12>>2]=0,d=e[d+12>>2]|0,e[g+16>>2]=(d|0)>-1?1:0-d|0}if(e[t+168>>2]=e[t+152>>2],s=e[t+116>>2]|0,s|0&&(A[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+116>>2]=0),A[t+120>>0]=1,e[t+116>>2]=0,e[t+108>>2]=0,e[t+112>>2]=0,s=e[t+76>>2]|0,!s){A[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,t=t+72|0,e[t>>2]=0,H=F;return}A[t+80>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+76>>2]=0,A[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,t=t+72|0,e[t>>2]=0,H=F}function hte(t){t=t|0,ye(t)}function dte(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0;if(l=+i[n>>2],_=(i[Z>>2]=l,e[Z>>2]|0),S=l<0xde0b6b000000000?_:1566444395,a=+i[n+4>>2],d=(i[Z>>2]=a,e[Z>>2]|0),w=a<0xde0b6b000000000?d:1566444395,B=+i[n+8>>2],g=(i[Z>>2]=B,e[Z>>2]|0),k=B<0xde0b6b000000000?g:1566444395,_=l>-0xde0b6b000000000?_:-581039253,d=a>-0xde0b6b000000000?d:-581039253,g=B>-0xde0b6b000000000?g:-581039253,B=+i[n+16>>2],N=B<(e[Z>>2]=S,+i[Z>>2]),u=(i[Z>>2]=B,e[Z>>2]|0),S=N?u:S,a=+i[n+20>>2],N=a<(e[Z>>2]=w,+i[Z>>2]),h=(i[Z>>2]=a,e[Z>>2]|0),w=N?h:w,l=+i[n+24>>2],N=l<(e[Z>>2]=k,+i[Z>>2]),m=(i[Z>>2]=l,e[Z>>2]|0),k=N?m:k,N=(e[Z>>2]=_,+i[Z>>2]<B?u:_),C=(e[Z>>2]=d,+i[Z>>2]<a?h:d),g=(e[Z>>2]=g,+i[Z>>2]<l?m:g),B=+i[n+32>>2],_=B<(e[Z>>2]=S,+i[Z>>2]),d=(i[Z>>2]=B,e[Z>>2]|0),S=_?d:S,l=+i[n+36>>2],_=l<(e[Z>>2]=w,+i[Z>>2]),m=(i[Z>>2]=l,e[Z>>2]|0),_=_?m:w,a=+i[n+40>>2],u=a<(e[Z>>2]=k,+i[Z>>2]),h=(i[Z>>2]=a,e[Z>>2]|0),u=u?h:k,d=(e[Z>>2]=N,+i[Z>>2]<B?d:N),m=(e[Z>>2]=C,+i[Z>>2]<l?m:C),g=(e[Z>>2]=g,+i[Z>>2]<a?h:g),a=(e[Z>>2]=d,+i[Z>>2]),l=(e[Z>>2]=S,+i[Z>>2]),a-l<.0020000000949949026?(d=(i[Z>>2]=a+.0010000000474974513,e[Z>>2]|0),h=(i[Z>>2]=l+-.0010000000474974513,e[Z>>2]|0)):h=S,a=(e[Z>>2]=m,+i[Z>>2]),l=(e[Z>>2]=_,+i[Z>>2]),a-l<.0020000000949949026&&(m=(i[Z>>2]=a+.0010000000474974513,e[Z>>2]|0),_=(i[Z>>2]=l+-.0010000000474974513,e[Z>>2]|0)),a=(e[Z>>2]=g,+i[Z>>2]),l=(e[Z>>2]=u,+i[Z>>2]),a-l<.0020000000949949026&&(g=(i[Z>>2]=a+.0010000000474974513,e[Z>>2]|0),u=(i[Z>>2]=l+-.0010000000474974513,e[Z>>2]|0)),S=e[t+8>>2]|0,l=+i[S+4>>2],B=(e[Z>>2]=h,+i[Z>>2]-l),a=+i[S+8>>2],M=(e[Z>>2]=_,+i[Z>>2]-a),L=+i[S+12>>2],E=+i[S+36>>2],D=+i[S+40>>2],F=+i[S+44>>2],S=(e[Z>>2]=u,~~((+i[Z>>2]-L)*F)&65534),l=(e[Z>>2]=d,+i[Z>>2]-l),a=(e[Z>>2]=m,+i[Z>>2]-a),g=(e[Z>>2]=g,(~~((+i[Z>>2]-L)*F+1)&65535|1)&65535),d=e[t+4>>2]|0,_=e[d+4>>2]|0,(_|0)!=(e[d+8>>2]|0)){t=_,k=d+12|0,k=e[k>>2]|0,N=k+(t<<4)|0,ee[N>>1]=~~(B*E)&65534,N=k+(t<<4)+2|0,ee[N>>1]=~~(M*D)&65534,N=k+(t<<4)+4|0,ee[N>>1]=S,N=k+(t<<4)+6|0,ee[N>>1]=~~(l*E+1)&65535|1,N=k+(t<<4)+8|0,ee[N>>1]=~~(a*D+1)&65535|1,N=k+(t<<4)+10|0,ee[N>>1]=g,t=k+(t<<4)+12|0,e[t>>2]=s<<21|o,o=e[d+4>>2]|0,o=o+1|0,e[d+4>>2]=o;return}if(m=_|0?_<<1:1,(_|0)>=(m|0)){t=_,k=d+12|0,k=e[k>>2]|0,N=k+(t<<4)|0,ee[N>>1]=~~(B*E)&65534,N=k+(t<<4)+2|0,ee[N>>1]=~~(M*D)&65534,N=k+(t<<4)+4|0,ee[N>>1]=S,N=k+(t<<4)+6|0,ee[N>>1]=~~(l*E+1)&65535|1,N=k+(t<<4)+8|0,ee[N>>1]=~~(a*D+1)&65535|1,N=k+(t<<4)+10|0,ee[N>>1]=g,t=k+(t<<4)+12|0,e[t>>2]=s<<21|o,o=e[d+4>>2]|0,o=o+1|0,e[d+4>>2]=o;return}if(m?(e[5637]=(e[5637]|0)+1,u=Xe((m<<4|3)+16|0)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,_=e[d+4>>2]|0):u=0,(_|0)>0){h=0;do t=u+(h<<4)|0,k=(e[d+12>>2]|0)+(h<<4)|0,e[t>>2]=e[k>>2],e[t+4>>2]=e[k+4>>2],e[t+8>>2]=e[k+8>>2],e[t+12>>2]=e[k+12>>2],h=h+1|0;while((h|0)!=(_|0))}_=e[d+12>>2]|0,_|0&&(A[d+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[_+-4>>2]|0)),e[d+12>>2]=0),A[d+16>>0]=1,e[d+12>>2]=u,e[d+8>>2]=m,t=e[d+4>>2]|0,k=d+12|0,k=e[k>>2]|0,N=k+(t<<4)|0,ee[N>>1]=~~(B*E)&65534,N=k+(t<<4)+2|0,ee[N>>1]=~~(M*D)&65534,N=k+(t<<4)+4|0,ee[N>>1]=S,N=k+(t<<4)+6|0,ee[N>>1]=~~(l*E+1)&65535|1,N=k+(t<<4)+8|0,ee[N>>1]=~~(a*D+1)&65535|1,N=k+(t<<4)+10|0,ee[N>>1]=g,t=k+(t<<4)+12|0,e[t>>2]=s<<21|o,o=e[d+4>>2]|0,o=o+1|0,e[d+4>>2]=o}function mte(t){t=t|0,ye(t)}function gte(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0;if(V=H,H=H+32|0,g=+i[n>>2],l=(i[Z>>2]=g,e[Z>>2]|0),w=g<0xde0b6b000000000?l:1566444395,m=+i[n+4>>2],_=(i[Z>>2]=m,e[Z>>2]|0),M=m<0xde0b6b000000000?_:1566444395,O=+i[n+8>>2],d=(i[Z>>2]=O,e[Z>>2]|0),D=O<0xde0b6b000000000?d:1566444395,C=+i[n+12>>2],B=C<0?C:0,l=g>-0xde0b6b000000000?l:-581039253,_=m>-0xde0b6b000000000?_:-581039253,d=O>-0xde0b6b000000000?d:-581039253,C=C>0?C:0,O=+i[n+16>>2],L=O<(e[Z>>2]=w,+i[Z>>2]),a=(i[Z>>2]=O,e[Z>>2]|0),w=L?a:w,m=+i[n+20>>2],L=m<(e[Z>>2]=M,+i[Z>>2]),u=(i[Z>>2]=m,e[Z>>2]|0),M=L?u:M,g=+i[n+24>>2],L=g<(e[Z>>2]=D,+i[Z>>2]),h=(i[Z>>2]=g,e[Z>>2]|0),D=L?h:D,S=+i[n+28>>2],B=S<B?S:B,N=(e[Z>>2]=l,+i[Z>>2]<O?a:l),E=(e[Z>>2]=_,+i[Z>>2]<m?u:_),_=(e[Z>>2]=d,+i[Z>>2]<g?h:d),C=C<S?S:C,O=+i[n+32>>2],L=O<(e[Z>>2]=w,+i[Z>>2]),a=(i[Z>>2]=O,e[Z>>2]|0),L=L?a:w,g=+i[n+36>>2],F=g<(e[Z>>2]=M,+i[Z>>2]),l=(i[Z>>2]=g,e[Z>>2]|0),F=F?l:M,S=+i[n+40>>2],k=S<(e[Z>>2]=D,+i[Z>>2]),u=(i[Z>>2]=S,e[Z>>2]|0),k=k?u:D,m=+i[n+44>>2],B=m<B?m:B,D=(e[Z>>2]=N,+i[Z>>2]<O?a:N),E=(e[Z>>2]=E,+i[Z>>2]<g?l:E),M=(e[Z>>2]=_,+i[Z>>2]<S?u:_),m=C<m?m:C,w=e[t+4>>2]|0,a=e[w+4>>2]|0,(a|0)==(e[w+8>>2]|0)&&(U=a|0?a<<1:1,(a|0)<(U|0))){if(U?(e[5637]=(e[5637]|0)+1,a=Xe(U<<6|19)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,d=a,a=e[w+4>>2]|0):d=0,(a|0)>0){l=0;do{u=d+(l<<6)|0,_=(e[w+12>>2]|0)+(l<<6)|0,h=u+64|0;do e[u>>2]=e[_>>2],u=u+4|0,_=_+4|0;while((u|0)<(h|0));l=l+1|0}while((l|0)!=(a|0))}a=e[w+12>>2]|0,a|0&&(A[w+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[w+12>>2]=0),A[w+16>>0]=1,e[w+12>>2]=d,e[w+8>>2]=U,a=e[w+4>>2]|0}U=e[w+12>>2]|0,e[U+(a<<6)>>2]=L,e[U+(a<<6)+4>>2]=F,e[U+(a<<6)+8>>2]=k,i[U+(a<<6)+12>>2]=B,e[U+(a<<6)+16>>2]=D,e[U+(a<<6)+20>>2]=E,e[U+(a<<6)+24>>2]=M,i[U+(a<<6)+28>>2]=m,e[U+(a<<6)+32>>2]=-1,e[U+(a<<6)+36>>2]=s,e[U+(a<<6)+40>>2]=o,o=U+(a<<6)+44|0,e[o>>2]=e[V>>2],e[o+4>>2]=e[V+4>>2],e[o+8>>2]=e[V+8>>2],e[o+12>>2]=e[V+12>>2],e[o+16>>2]=e[V+16>>2],e[w+4>>2]=(e[w+4>>2]|0)+1,H=V}function xte(t){t=t|0;var n=0;e[t>>2]=6248,n=e[t+56>>2]|0,n&&(Vt[e[e[n>>2]>>2]&255](n),n=e[t+56>>2]|0,n&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)))}function yte(t){t=t|0;var n=0,s=0;e[t>>2]=6248,n=e[t+56>>2]|0,n|0&&(Vt[e[e[n>>2]>>2]&255](n),s=e[t+56>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function vte(t,n,s){t=t|0,n=+n,s=s|0;var o=0,a=0,l=0,u=0,_=0;o=H,H=H+96|0,u=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),e[o+32>>2]=1065353216,e[o+32+4>>2]=0,e[o+32+4+4>>2]=0,e[o+32+4+8>>2]=0,e[o+32+4+12>>2]=0,e[o+32+20>>2]=1065353216,e[o+32+24>>2]=0,e[o+32+24+4>>2]=0,e[o+32+24+8>>2]=0,e[o+32+24+12>>2]=0,e[o+32+40>>2]=1065353216,_=o+32+44|0,e[_>>2]=0,e[_+4>>2]=0,e[_+8>>2]=0,e[_+12>>2]=0,e[_+16>>2]=0,Kt[e[(e[t>>2]|0)+8>>2]&127](t,o+32|0,o+16|0,o),l=(u+(+i[o>>2]-+i[o+16>>2])*.5)*2,a=(u+(+i[o+4>>2]-+i[o+16+4>>2])*.5)*2,u=(u+(+i[o+8>>2]-+i[o+16+8>>2])*.5)*2,i[s>>2]=n*.0833333283662796*(a*a+u*u),i[s+4>>2]=n*.0833333283662796*(l*l+u*u),i[s+8>>2]=n*.0833333283662796*(l*l+a*a),i[s+12>>2]=0,H=o}function Ste(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(S=H,H=H+2048|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,o=+i[s>>2],l=+i[s+4>>2],a=+i[s+8>>2],o*o+l*l+a*a<9999999747378752e-20?(m=1,d=0,l=0):(C=1/+at(+(o*o+l*l+a*a)),m=o*C,d=a*C,l=l*C),(Ct[e[(e[n>>2]|0)+96>>2]&127](n)|0)<=0){H=S;return}h=0,o=-0xde0b6b000000000;do{if(((Ct[e[(e[n>>2]|0)+96>>2]&127](n)|0)-h|0)<128?(s=(Ct[e[(e[n>>2]|0)+96>>2]&127](n)|0)-h|0,(s|0)>0?g=8:(a=-34028234663852886e22,s=-1)):(s=128,g=8),(g|0)==8){g=0,u=0;do f0[e[(e[n>>2]|0)+108>>2]&127](n,u,S+(u<<4)|0),u=u+1|0;while((u|0)!=(s|0));_=0,a=-34028234663852886e22,u=-1;do C=m*+i[S+(_<<4)>>2]+l*+i[S+(_<<4)+4>>2]+d*+i[S+(_<<4)+8>>2],w=C>a,u=w?_:u,a=w?C:a,_=_+1|0;while((_|0)!=(s|0));s=u}a>o&&(w=S+(s<<4)|0,e[t>>2]=e[w>>2],e[t+4>>2]=e[w+4>>2],e[t+8>>2]=e[w+8>>2],e[t+12>>2]=e[w+12>>2],o=a),h=h+128|0}while((h|0)<(Ct[e[(e[n>>2]|0)+96>>2]&127](n)|0));H=S}function Tte(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0;if(B=H,H=H+2048|0,(o|0)>0)a=0;else{H=B;return}do i[s+(a<<4)+12>>2]=-0xde0b6b000000000,a=a+1|0;while((a|0)!=(o|0));E=0;do{if((Ct[e[(e[t>>2]|0)+96>>2]&127](t)|0)>0){w=n+(E<<4)|0,M=n+(E<<4)+4|0,g=n+(E<<4)+8|0,S=s+(E<<4)+12|0,C=s+(E<<4)|0,D=0;do{if(((Ct[e[(e[t>>2]|0)+96>>2]&127](t)|0)-D|0)<128?(a=(Ct[e[(e[t>>2]|0)+96>>2]&127](t)|0)-D|0,(a|0)>0?N=10:(u=-34028234663852886e22,a=-1)):(a=128,N=10),(N|0)==10){N=0,l=0;do f0[e[(e[t>>2]|0)+108>>2]&127](t,l,B+(l<<4)|0),l=l+1|0;while((l|0)!=(a|0));_=+i[w>>2],h=+i[M>>2],d=+i[g>>2],m=0,u=-34028234663852886e22,l=-1;do k=_*+i[B+(m<<4)>>2]+h*+i[B+(m<<4)+4>>2]+d*+i[B+(m<<4)+8>>2],F=k>u,l=F?m:l,u=F?k:u,m=m+1|0;while((m|0)!=(a|0));a=l}u>+i[S>>2]&&(F=B+(a<<4)|0,e[C>>2]=e[F>>2],e[C+4>>2]=e[F+4>>2],e[C+8>>2]=e[F+8>>2],e[C+12>>2]=e[F+12>>2],i[S>>2]=u),D=D+128|0}while((D|0)<(Ct[e[(e[t>>2]|0)+96>>2]&127](t)|0))}E=E+1|0}while((E|0)!=(o|0));H=B}function Cte(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0,ke=0,Ae=0,qe=0;for(ge=H,H=H+288|0,s=e[t+56>>2]|0,s|0&&(Vt[e[e[s>>2]>>2]&255](s),o=e[t+56>>2]|0,o|0)&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[5637]=(e[5637]|0)+1,s=Xe(151)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s>>2]=5688,A[s+20>>0]=1,e[s+16>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,A[s+40>>0]=1,e[s+36>>2]=0,e[s+28>>2]=0,e[s+32>>2]=0,A[s+60>>0]=1,e[s+56>>2]=0,e[s+48>>2]=0,e[s+52>>2]=0,e[t+56>>2]=s,_=0,u=0,Se=0,$=0;!((_|0)>=(Ct[e[(e[t>>2]|0)+96>>2]&127](t)|0));){do if(($|0)==(u|0))if(a=u|0?u<<1:1,(u|0)<(a|0)){if((a|0)!=0&&(e[5637]=(e[5637]|0)+1,h=Xe((a<<4|3)+16|0)|0,(h|0)!=0)?(e[(h+4+15&-16)+-4>>2]=h,s=h+4+15&-16):s=0,(u|0)<=0){if(!Se){l=u,o=a;break}}else{o=0;do be=s+(o<<4)|0,we=Se+(o<<4)|0,e[be>>2]=e[we>>2],e[be+4>>2]=e[we+4>>2],e[be+8>>2]=e[we+8>>2],e[be+12>>2]=e[we+12>>2],o=o+1|0;while((o|0)!=(u|0))}e[5638]=(e[5638]|0)+1,ye(e[Se+-4>>2]|0),l=u,o=a}else l=u,o=u,s=Se;else l=$,o=u,s=Se;while(!1);u=s+($<<4)|0,e[u>>2]=e[ge+200>>2],e[u+4>>2]=e[ge+200+4>>2],e[u+8>>2]=e[ge+200+8>>2],e[u+12>>2]=e[ge+200+12>>2],f0[e[(e[t>>2]|0)+108>>2]&127](t,_,u),_=_+1|0,u=o,Se=s,$=l+1|0}if(A[ge+136+16>>0]=1,be=ge+136+12|0,e[be>>2]=0,e[ge+136+4>>2]=0,e[ge+136+8>>2]=0,A[ge+136+36>>0]=1,we=ge+136+32|0,e[we>>2]=0,e[ge+136+24>>2]=0,e[ge+136+28>>2]=0,A[ge+136+56>>0]=1,Ce=ge+136+52|0,e[Ce>>2]=0,e[ge+136+44>>2]=0,e[ge+136+48>>2]=0,n){if(($|0)>0){for(O=0,o=0,l=0,a=0;;){if(s=O,O=O+1|0,(O|0)<($|0)){F=Se+(s<<4)|0,L=Se+(s<<4)+4|0,B=Se+(s<<4)+8|0,k=O,s=a;do if(a=k,k=k+1|0,(k|0)<($|0)){D=Se+(a<<4)|0,N=Se+(a<<4)+4|0,n=Se+(a<<4)+8|0,M=k;do{for(U=+i[F>>2],Y=+i[D>>2]-U,V=+i[L>>2],w=+i[N>>2]-V,z=+i[B>>2],E=+i[n>>2]-z,U=+i[Se+(M<<4)>>2]-U,V=+i[Se+(M<<4)+4>>2]-V,z=+i[Se+(M<<4)+8>>2]-z,d=1,h=0;;){S=(w*z-E*V)*d,C=(E*U-Y*z)*d,m=(Y*V-w*U)*d;e:do if(m*m+(S*S+C*C)>9999999747378752e-20){if(g=1/+at(+(m*m+(S*S+C*C))),(s|0)>0){a=0;do{if(S*g*+i[l+(a<<4)>>2]+C*g*+i[l+(a<<4)+4>>2]+m*g*+i[l+(a<<4)+8>>2]>.9990000128746033)break e;a=a+1|0}while((a|0)<(s|0))}d=S*g*+i[F>>2]+C*g*+i[L>>2]+m*g*+i[B>>2],a=0;do{if(S*g*+i[Se+(a<<4)>>2]+C*g*+i[Se+(a<<4)+4>>2]+m*g*+i[Se+(a<<4)+8>>2]-d+-.009999999776482582>0)break e;a=a+1|0}while((a|0)<($|0));do if((s|0)==(o|0))if(_=o|0?o<<1:1,(o|0)<(_|0)){do if(!_)u=0;else{if(e[5637]=(e[5637]|0)+1,a=Xe((_<<4|3)+16|0)|0,!a){u=0;break}e[(a+4+15&-16)+-4>>2]=a,u=a+4+15&-16}while(!1);if((o|0)<=0){if(!l){a=o,o=_,l=u;break}}else{a=0;do ve=u+(a<<4)|0,xe=l+(a<<4)|0,e[ve>>2]=e[xe>>2],e[ve+4>>2]=e[xe+4>>2],e[ve+8>>2]=e[xe+8>>2],e[ve+12>>2]=e[xe+12>>2],a=a+1|0;while((a|0)!=(o|0))}e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0),a=o,o=_,l=u}else a=o;else a=s;while(!1);i[l+(a<<4)>>2]=S*g,i[l+(a<<4)+4>>2]=C*g,i[l+(a<<4)+8>>2]=m*g,i[l+(a<<4)+12>>2]=-d,s=s+1|0}while(!1);if(h=h+1|0,(h|0)==2)break;d=-1}M=M+1|0}while((M|0)!=($|0))}while((k|0)!=($|0))}else s=a;if((O|0)==($|0))break;a=s}if((s|0)>0){for(_=0,h=0,n=0;;){ve=l+(n<<4)|0,e[ge+216>>2]=e[ve>>2],e[ge+216+4>>2]=e[ve+4>>2],e[ge+216+8>>2]=e[ve+8>>2],d=+i[l+(n<<4)+12>>2],d=d-+Tt[e[(e[t>>2]|0)+48>>2]&15](t);do if((n|0)==(_|0))if(u=_|0?_<<1:1,(_|0)<(u|0)){if((u|0)!=0&&(e[5637]=(e[5637]|0)+1,q=Xe((u<<4|3)+16|0)|0,(q|0)!=0)?(e[(q+4+15&-16)+-4>>2]=q,a=q+4+15&-16):a=0,(_|0)<=0){if(!h){o=_;break}}else{o=0;do ve=a+(o<<4)|0,xe=h+(o<<4)|0,e[ve>>2]=e[xe>>2],e[ve+4>>2]=e[xe+4>>2],e[ve+8>>2]=e[xe+8>>2],e[ve+12>>2]=e[xe+12>>2],o=o+1|0;while((o|0)!=(_|0))}e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0),o=_}else o=_,u=_,a=h;else o=n,u=_,a=h;while(!1);if(ve=a+(o<<4)|0,e[ve>>2]=e[ge+216>>2],e[ve+4>>2]=e[ge+216+4>>2],e[ve+8>>2]=e[ge+216+8>>2],i[a+(o<<4)+12>>2]=d,n=n+1|0,(n|0)<(s|0))_=u,h=a;else break}if((n|0)>0){F=0,u=0,o=0,s=0;do if(B=F,F=F+1|0,(F|0)<(n|0)){k=F;do if(D=k,k=k+1|0,(k|0)<(n|0)){N=k;do{S=+i[a+(D<<4)+4>>2],d=+i[a+(N<<4)+8>>2],m=+i[a+(D<<4)+8>>2],C=+i[a+(N<<4)+4>>2],w=+i[a+(N<<4)>>2],E=+i[a+(D<<4)>>2],g=+i[a+(B<<4)+8>>2],U=+i[a+(B<<4)+4>>2],V=+i[a+(B<<4)>>2];e:do if((C*E-S*w)*(C*E-S*w)+((S*d-m*C)*(S*d-m*C)+(m*w-d*E)*(m*w-d*E))>9999999747378752e-20&&(w*U-C*V)*(w*U-C*V)+((C*g-d*U)*(C*g-d*U)+(d*V-w*g)*(d*V-w*g))>9999999747378752e-20&&(S*V-E*U)*(S*V-E*U)+((m*U-S*g)*(m*U-S*g)+(E*g-m*V)*(E*g-m*V))>9999999747378752e-20&&(X=g*(C*E-S*w)+(U*(m*w-d*E)+(S*d-m*C)*V),+ht(+X)>9999999974752427e-22)){Y=+i[a+(B<<4)+12>>2],ne=+i[a+(D<<4)+12>>2],ke=+i[a+(N<<4)+12>>2],z=-1/X*((m*U-S*g)*ke+((S*d-m*C)*Y+(C*g-d*U)*ne)),m=-1/X*((E*g-m*V)*ke+((m*w-d*E)*Y+(d*V-w*g)*ne)),d=-1/X*((S*V-E*U)*ke+((C*E-S*w)*Y+(w*U-C*V)*ne)),_=0;do{if(+i[a+(_<<4)+12>>2]+(z*+i[a+(_<<4)>>2]+m*+i[a+(_<<4)+4>>2]+d*+i[a+(_<<4)+8>>2])+-.009999999776482582>0)break e;_=_+1|0}while((_|0)<(n|0));do if((s|0)==(u|0)){if(M=u|0?u<<1:1,(u|0)>=(M|0)){_=u;break}do if(!M)h=0;else{if(e[5637]=(e[5637]|0)+1,_=Xe((M<<4|3)+16|0)|0,!_){h=0;break}e[(_+4+15&-16)+-4>>2]=_,h=_+4+15&-16}while(!1);if((u|0)<=0){if(!o){_=u,u=M,o=h;break}}else{_=0;do ve=h+(_<<4)|0,xe=o+(_<<4)|0,e[ve>>2]=e[xe>>2],e[ve+4>>2]=e[xe+4>>2],e[ve+8>>2]=e[xe+8>>2],e[ve+12>>2]=e[xe+12>>2],_=_+1|0;while((_|0)!=(u|0))}e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0),_=u,u=M,o=h}else _=s;while(!1);i[o+(_<<4)>>2]=z,i[o+(_<<4)+4>>2]=m,i[o+(_<<4)+8>>2]=d,i[o+(_<<4)+12>>2]=0,s=s+1|0}while(!1);N=N+1|0}while((N|0)!=(n|0))}while((k|0)!=(n|0))}while((F|0)!=(n|0))}else o=0,s=0}else a=0,o=0,s=0}else l=0,a=0,o=0,s=0;S6(ge+136|0,o,s),o|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),a|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),l|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0))}else S6(ge+136|0,Se,$);if(O=e[ge+136+44>>2]|0,(O|0)>0){e[5637]=(e[5637]|0)+1,s=Xe((O<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,o=s+4+15&-16):o=0,s=0;do ve=o+(s<<4)|0,e[ve>>2]=e[ge+120>>2],e[ve+4>>2]=e[ge+120+4>>2],e[ve+8>>2]=e[ge+120+8>>2],e[ve+12>>2]=e[ge+120+12>>2],s=s+1|0;while((s|0)!=(O|0))}else o=0;A[ge+96+16>>0]=1,ve=ge+96+12|0,e[ve>>2]=0,xe=ge+96+4|0,e[xe>>2]=0,e[ge+96+8>>2]=0,l=ge+264|0,_=l+19|0;do A[l>>0]=0,l=l+1|0;while((l|0)<(_|0));if((O|0)<0&&WI(),(O|0)>0){sm(ge+96|0,O),s=e[ve>>2]|0,a=0;do{l=s+(a*36|0)|0,A[l+16>>0]=1,e[l+4>>2]=0,e[l+4+4>>2]=0,e[l+4+8>>2]=0,l=l+20|0,u=ge+264+3|0,_=l+16|0;do A[l>>0]=A[u>>0]|0,l=l+1|0,u=u+1|0;while((l|0)<(_|0));a=a+1|0}while((a|0)!=(O|0))}if(e[xe>>2]=O,h=e[ge+136+4>>2]|0,_=e[t+56>>2]|0,u=e[_+8>>2]|0,(u|0)<(h|0)){if((e[_+12>>2]|0)<(h|0)){if(h?(e[5637]=(e[5637]|0)+1,s=Xe((h<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=e[_+8>>2]|0):(s=0,a=u),(a|0)>0){l=0;do ae=s+(l<<4)|0,oe=(e[_+16>>2]|0)+(l<<4)|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],l=l+1|0;while((l|0)!=(a|0))}a=e[_+16>>2]|0,a|0&&(A[_+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[_+16>>2]=0),A[_+20>>0]=1,e[_+16>>2]=s,e[_+12>>2]=h,a=_+16|0}else a=_+16|0;s=u;do ae=(e[a>>2]|0)+(s<<4)|0,e[ae>>2]=e[ge+80>>2],e[ae+4>>2]=e[ge+80+4>>2],e[ae+8>>2]=e[ge+80+8>>2],e[ae+12>>2]=e[ge+80+12>>2],s=s+1|0;while((s|0)!=(h|0))}if(e[_+8>>2]=h,(h|0)>0){s=0;do ae=(e[(e[t+56>>2]|0)+16>>2]|0)+(s<<4)|0,oe=(e[be>>2]|0)+(s<<4)|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],s=s+1|0;while((s|0)!=(h|0))}if((O|0)>0){L=0;do{B=(e[we>>2]|0)+((e[(e[Ce>>2]|0)+(L<<2)>>2]|0)*12|0)|0,F=B,a=0;do{if(k=F+4|0,N=e[F+((e[k>>2]|0)*12|0)+8>>2]|0,M=e[ve>>2]|0,D=M+(L*36|0)+4|0,s=e[D>>2]|0,n=M+(L*36|0)+8|0,(s|0)==(e[n>>2]|0)&&(W=s|0?s<<1:1,(s|0)<(W|0))){if(W?(e[5637]=(e[5637]|0)+1,s=Xe((W<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,h=s,s=e[D>>2]|0):h=0,_=M+(L*36|0)+12|0,u=e[_>>2]|0,(s|0)<=0)u?fe=132:l=M+(L*36|0)+16|0;else{l=0;do e[h+(l<<2)>>2]=e[u+(l<<2)>>2],l=l+1|0;while((l|0)!=(s|0));fe=132}(fe|0)==132&&(fe=0,s=M+(L*36|0)+16|0,A[s>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[_>>2]=0,l=s,s=e[D>>2]|0),A[l>>0]=1,e[_>>2]=h,e[n>>2]=W}e[(e[M+(L*36|0)+12>>2]|0)+(s<<2)>>2]=N,e[D>>2]=(e[D>>2]|0)+1,oe=e[F+8>>2]|0,ae=e[be>>2]|0,g=+i[ae+(oe<<4)>>2]-+i[ae+(N<<4)>>2],S=+i[ae+(oe<<4)+4>>2]-+i[ae+(N<<4)+4>>2],d=+i[ae+(oe<<4)+8>>2]-+i[ae+(N<<4)+8>>2],m=1/+at(+(g*g+S*S+d*d)),(a|0)<2&&(i[ge+216+(a<<4)>>2]=g*m,i[ge+216+(a<<4)+4>>2]=S*m,i[ge+216+(a<<4)+8>>2]=d*m,i[ge+216+(a<<4)+12>>2]=0,a=a+1|0),ae=F+((e[k>>2]|0)*12|0)|0,F=ae+((e[ae>>2]|0)*12|0)|0}while((F|0)!=(B|0));if(s=o+(L<<4)|0,(a|0)==2?(z=+i[ge+216+4>>2],Y=+i[ge+216+24>>2],X=+i[ge+216+8>>2],ne=+i[ge+216+20>>2],V=+i[ge+216+16>>2],U=+i[ge+216>>2],oe=o+(L<<4)+4|0,ae=o+(L<<4)+8|0,i[o+(L<<4)+12>>2]=0,ke=1/+at(+((z*Y-X*ne)*(z*Y-X*ne)+(X*V-Y*U)*(X*V-Y*U)+(ne*U-z*V)*(ne*U-z*V))),i[s>>2]=(z*Y-X*ne)*ke,i[oe>>2]=(X*V-Y*U)*ke,i[ae>>2]=(ne*U-z*V)*ke,_=e[ve>>2]|0,i[_+(L*36|0)+20>>2]=(z*Y-X*ne)*ke,e[_+(L*36|0)+24>>2]=e[oe>>2],e[_+(L*36|0)+28>>2]=e[ae>>2],i[_+(L*36|0)+32>>2]=10000000150474662e14):(e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,_=e[ve>>2]|0),l=e[_+(L*36|0)+4>>2]|0,(l|0)>0){u=e[(e[t+56>>2]|0)+16>>2]|0,m=+i[s>>2],g=+i[o+(L<<4)+4>>2],S=+i[o+(L<<4)+8>>2],s=e[_+(L*36|0)+12>>2]|0,d=10000000150474662e14,a=0;do ae=e[s+(a<<2)>>2]|0,ke=+i[u+(ae<<4)>>2]*m+ +i[u+(ae<<4)+4>>2]*g+ +i[u+(ae<<4)+8>>2]*S,d=d>ke?ke:d,a=a+1|0;while((a|0)!=(l|0))}else d=10000000150474662e14;i[_+(L*36|0)+32>>2]=-d,L=L+1|0}while((L|0)!=(O|0))}if((e[xe>>2]|0)>0){for(_=0,s=0,u=0;;){do if((_|0)==(s|0))if(s=_|0?_<<1:1,(_|0)<(s|0)){if((s|0)!=0&&(e[5637]=(e[5637]|0)+1,te=Xe((s<<2|3)+16|0)|0,(te|0)!=0)?(e[(te+4+15&-16)+-4>>2]=te,l=te+4+15&-16):l=0,(_|0)<=0){if(!u)break}else{a=0;do e[l+(a<<2)>>2]=e[u+(a<<2)>>2],a=a+1|0;while((a|0)!=(_|0))}e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)}else s=_,l=u;else l=u;while(!1);if(e[l+(_<<2)>>2]=_,_=_+1|0,(_|0)>=(e[xe>>2]|0))break;u=l}for(W=ge+56+12|0,te=ge+56+4|0;;){n=_+-1|0,a=e[l+(n<<2)>>2]|0,e[5637]=(e[5637]|0)+1,s=Xe(23)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s>>2]=a,ae=e[ve>>2]|0,m=+i[ae+(a*36|0)+20>>2],g=+i[ae+(a*36|0)+24>>2],d=+i[ae+(a*36|0)+28>>2];e:do if((_|0)>1)for(u=1,h=1,a=s,s=n,N=n;;){D=h,n=a;t:for(;;){a=e[ve>>2]|0;do{if(ae=s,s=s+-1|0,(ae|0)<=0){s=a,q=D,$=n,_=N;break e}M=e[l+(s<<2)>>2]|0}while(!(m*+i[a+(M*36|0)+20>>2]+g*+i[a+(M*36|0)+24>>2]+d*+i[a+(M*36|0)+28>>2]>.9990000128746033));do if((D|0)==(u|0))if(u=D|0?D<<1:1,(D|0)<(u|0)){do if(!u)_=0;else{if(e[5637]=(e[5637]|0)+1,a=Xe((u<<2|3)+16|0)|0,!a){_=0;break}e[(a+4+15&-16)+-4>>2]=a,_=a+4+15&-16}while(!1);if((D|0)<=0){if(!n){n=_;break}}else{a=0;do e[_+(a<<2)>>2]=e[n+(a<<2)>>2],a=a+1|0;while((a|0)!=(D|0))}e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),n=_}else u=D;while(!1);for(e[n+(D<<2)>>2]=M,D=D+1|0,a=0;h=l+(a<<2)|0,(e[h>>2]|0)!=(M|0);)if(a=a+1|0,(a|0)>=(N|0))continue t;if((a|0)<(N|0))break}if(_=N+-1|0,ae=l+(_<<2)|0,e[h>>2]=e[ae>>2],e[ae>>2]=M,(N|0)>1)h=D,a=n,N=_;else{h=D,a=n,fe=161;break}}else u=1,h=1,a=s,s=n,_=n,fe=161;while(!1);e:do if((fe|0)==161)for(fe=0,D=h,M=a;;){a=e[ve>>2]|0;do{if(ae=s,s=s+-1|0,(ae|0)<=0){s=a,q=D,$=M;break e}n=e[l+(s<<2)>>2]|0}while(!(m*+i[a+(n*36|0)+20>>2]+g*+i[a+(n*36|0)+24>>2]+d*+i[a+(n*36|0)+28>>2]>.9990000128746033));do if((D|0)==(u|0))if(u=D|0?D<<1:1,(D|0)<(u|0)){do if(!u)a=0;else{if(e[5637]=(e[5637]|0)+1,a=Xe((u<<2|3)+16|0)|0,!a){a=0;break}e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16}while(!1);if((D|0)<=0){if(!M)break}else{h=0;do e[a+(h<<2)>>2]=e[M+(h<<2)>>2],h=h+1|0;while((h|0)!=(D|0))}e[5638]=(e[5638]|0)+1,ye(e[M+-4>>2]|0)}else u=D,a=M;else a=M;while(!1);e[a+(D<<2)>>2]=n,D=D+1|0,M=a}while(!1);if((q|0)>1){A[ge+56+16>>0]=1,e[W>>2]=0,e[te>>2]=0,e[ge+56+8>>2]=0,d=0,m=0,g=0,u=0,k=0;do{if(a=e[$+(k<<2)>>2]|0,d=+i[s+(a*36|0)+20>>2]+d,m=+i[s+(a*36|0)+24>>2]+m,g=+i[s+(a*36|0)+28>>2]+g,B=s+(a*36|0)+4|0,(e[B>>2]|0)>0)for(N=s+(a*36|0)+12|0,s=u,D=0;;){M=e[(e[N>>2]|0)+(D<<2)>>2]|0,ae=(e[(e[t+56>>2]|0)+16>>2]|0)+(M<<4)|0,e[ge+216>>2]=e[ae>>2],e[ge+216+4>>2]=e[ae+4>>2],e[ge+216+8>>2]=e[ae+8>>2],e[ge+216+12>>2]=e[ae+12>>2];e:do if((s|0)>0)for(a=e[W>>2]|0,u=0;;){if((e[a+(u*24|0)+20>>2]|0)==(M|0))break e;if(u=u+1|0,(u|0)>=(s|0)){fe=263;break}}else fe=263;while(!1);if((fe|0)==263){fe=0,e[ge>>2]=e[ge+216>>2],e[ge+4>>2]=e[ge+216+4>>2],e[ge+8>>2]=e[ge+216+8>>2],e[ge+12>>2]=e[ge+216+12>>2];do if((s|0)==(e[ge+56+8>>2]|0)){if(n=s|0?s<<1:1,(s|0)>=(n|0))break;if(n?(e[5637]=(e[5637]|0)+1,s=Xe((n*24|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,h=s,s=e[te>>2]|0):h=0,u=e[W>>2]|0,(s|0)<=0)u&&(fe=272);else{a=0;do fe=h+(a*24|0)|0,ae=u+(a*24|0)|0,e[fe>>2]=e[ae>>2],e[fe+4>>2]=e[ae+4>>2],e[fe+8>>2]=e[ae+8>>2],e[fe+12>>2]=e[ae+12>>2],e[fe+16>>2]=e[ae+16>>2],e[fe+20>>2]=e[ae+20>>2],a=a+1|0;while((a|0)!=(s|0));fe=272}(fe|0)==272&&(fe=0,A[ge+56+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0),s=e[te>>2]|0),e[W>>2]=0),A[ge+56+16>>0]=1,e[W>>2]=h,e[ge+56+8>>2]=n}while(!1);ae=e[W>>2]|0,oe=ae+(s*24|0)|0,e[oe>>2]=e[ge>>2],e[oe+4>>2]=e[ge+4>>2],e[oe+8>>2]=e[ge+8>>2],e[oe+12>>2]=e[ge+12>>2],e[oe+16>>2]=e[ge+16>>2],e[ae+(s*24|0)+20>>2]=M,s=(e[te>>2]|0)+1|0,e[te>>2]=s}if(D=D+1|0,(D|0)>=(e[B>>2]|0)){u=s;break}}k=k+1|0,s=e[ve>>2]|0}while((k|0)<(q|0));if(A[ge+20+16>>0]=1,e[ge+20+12>>2]=0,e[ge+20+4>>2]=0,e[ge+20+8>>2]=0,ae=s+20+((e[$>>2]|0)*9<<2)|0,e[ge+20+20>>2]=e[ae>>2],e[ge+20+20+4>>2]=e[ae+4>>2],e[ge+20+20+8>>2]=e[ae+8>>2],e[ge+20+20+12>>2]=e[ae+12>>2],Y=1/+at(+(d*d+m*m+g*g)),ne=d*Y,X=m*Y,Y=g*Y,+ht(+Y)>.7071067690849304?(z=1/+at(+(Y*Y+X*X)),C=ne*-(Y*z),w=0,E=X*z,U=-(Y*z),V=(Y*Y+X*X)*z,z=-(ne*(X*z))):(z=1/+at(+(ne*ne+X*X)),C=(ne*ne+X*X)*z,w=-(X*z),E=0,U=ne*z,V=-(Y*(ne*z)),z=Y*-(X*z)),(u|0)<2)if((u|0)>0)for(s=u,u=0,h=0,D=0;;){N=e[W>>2]|0;do if((u|0)==(h|0)){if(M=h|0?h<<1:1,(h|0)>=(M|0)){n=h,a=D;break}do if(!M)a=0;else{if(e[5637]=(e[5637]|0)+1,s=Xe((M*24|3)+16|0)|0,!s){a=0,h=u;break}e[(s+4+15&-16)+-4>>2]=s,a=s+4+15&-16,h=u}while(!1);if((h|0)<=0)D|0&&(fe=209);else{s=0;do fe=a+(s*24|0)|0,ae=D+(s*24|0)|0,e[fe>>2]=e[ae>>2],e[fe+4>>2]=e[ae+4>>2],e[fe+8>>2]=e[ae+8>>2],e[fe+12>>2]=e[ae+12>>2],e[fe+16>>2]=e[ae+16>>2],e[fe+20>>2]=e[ae+20>>2],s=s+1|0;while((s|0)!=(h|0));fe=209}(fe|0)==209&&(fe=0,e[5638]=(e[5638]|0)+1,ye(e[D+-4>>2]|0)),n=u,s=e[te>>2]|0,h=M}else n=u,a=D;while(!1);if(ae=a+(n*24|0)|0,e[ae>>2]=e[N>>2],e[ae+4>>2]=e[N+4>>2],e[ae+8>>2]=e[N+8>>2],e[ae+12>>2]=e[N+12>>2],e[ae+16>>2]=e[N+16>>2],e[ae+20>>2]=e[N+20>>2],u=u+1|0,(u|0)<(s|0))D=a;else{fe=278;break}}else s=0,a=0,fe=307;else{s=e[W>>2]|0,a=u,h=0;do w*+i[s+(h*24|0)>>2]+U*+i[s+(h*24|0)+4>>2]+E*+i[s+(h*24|0)+8>>2]<w*+i[s>>2]+U*+i[s+4>>2]+E*+i[s+8>>2]&&(e[ge+216>>2]=e[s>>2],e[ge+216+4>>2]=e[s+4>>2],e[ge+216+8>>2]=e[s+8>>2],e[ge+216+12>>2]=e[s+12>>2],e[ge+216+16>>2]=e[s+16>>2],e[ge+216+20>>2]=e[s+20>>2],a=s+(h*24|0)|0,e[s>>2]=e[a>>2],e[s+4>>2]=e[a+4>>2],e[s+8>>2]=e[a+8>>2],e[s+12>>2]=e[a+12>>2],e[s+16>>2]=e[a+16>>2],e[s+20>>2]=e[a+20>>2],a=s+(h*24|0)|0,e[a>>2]=e[ge+216>>2],e[a+4>>2]=e[ge+216+4>>2],e[a+8>>2]=e[ge+216+8>>2],e[a+12>>2]=e[ge+216+12>>2],e[a+16>>2]=e[ge+216+16>>2],e[a+20>>2]=e[ge+216+20>>2],a=u),h=h+1|0;while((h|0)<(a|0));if(i[s+16>>2]=-10000000150474662e14,(a|0)>1){s=e[W>>2]|0,a=e[te>>2]|0,g=+i[s+4>>2],u=1;do m=+i[s+(u*24|0)>>2]-+i[s>>2],ke=+i[s+(u*24|0)+4>>2]-g,d=+i[s+(u*24|0)+8>>2]-+i[s+8>>2],S=V*m+z*ke+C*d,d=w*m+U*ke+E*d,S*S+d*d<11920928955078125e-23?i[s+(u*24|0)+16>>2]=0:(m=+ht(+S),d>=0?d=.7853981852531433-(d-m)/(d+m)*.7853981852531433:d=2.356194496154785-(d+m)/(m-d)*.7853981852531433,i[s+(u*24|0)+16>>2]=S<0?-d:d),u=u+1|0;while((u|0)<(a|0))}if(e[ge+216>>2]=e[s>>2],e[ge+216+4>>2]=e[s+4>>2],e[ge+216+8>>2]=e[s+8>>2],e[ge+216+12>>2]=e[s+12>>2],Eh(ge+56|0,ge+216|0,1,(e[te>>2]|0)+-1|0),a=e[W>>2]|0,e[5637]=(e[5637]|0)+1,s=Xe(43)|0,s?(e[(s+4+15&-16)+-4>>2]=s,h=s+4+15&-16):h=0,u=e[W>>2]|0,e[h>>2]=e[a>>2],e[h+4>>2]=e[a+4>>2],e[h+8>>2]=e[a+8>>2],e[h+12>>2]=e[a+12>>2],e[h+16>>2]=e[a+16>>2],e[h+20>>2]=e[a+20>>2],e[5637]=(e[5637]|0)+1,s=Xe(67)|0,s?(e[(s+4+15&-16)+-4>>2]=s,a=s+4+15&-16):a=0,e[a>>2]=e[h>>2],e[a+4>>2]=e[h+4>>2],e[a+8>>2]=e[h+8>>2],e[a+12>>2]=e[h+12>>2],e[a+16>>2]=e[h+16>>2],e[a+20>>2]=e[h+20>>2],h|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),ae=a+24|0,e[ae>>2]=e[u+24>>2],e[ae+4>>2]=e[u+24+4>>2],e[ae+8>>2]=e[u+24+8>>2],e[ae+12>>2]=e[u+24+12>>2],e[ae+16>>2]=e[u+24+16>>2],e[ae+20>>2]=e[u+24+20>>2],(e[te>>2]|0)==2)s=2,u=2;else{n=2,u=2,M=2,s=2;do{e:do if((n|0)>1){for(ae=e[W>>2]|0,B=ae+(s*24|0)|0,d=+i[B>>2],m=+i[ae+(s*24|0)+4>>2],g=+i[ae+(s*24|0)+8>>2];ae=n+-2|0,h=n+-1|0,V=+i[a+(ae*24|0)>>2],z=V-+i[a+(h*24|0)>>2],E=+i[a+(ae*24|0)+4>>2],w=E-+i[a+(h*24|0)+4>>2],ke=+i[a+(ae*24|0)+8>>2],U=ke-+i[a+(h*24|0)+8>>2],!((z*(E-m)-w*(V-d))*Y+(ne*(w*(ke-g)-U*(E-m))+X*(U*(V-d)-z*(ke-g)))>0);)if((h|0)>1)n=h,u=h;else{n=h,u=h;break e}do if((n|0)==(M|0)){if(N=M<<1,(M|0)>=(N|0)){n=M;break}if(M?(e[5637]=(e[5637]|0)+1,h=Xe((M*48|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,(u|0)>0&&(D=h,n=u,fe=236)):(D=0,h=0,n=0,fe=236),(fe|0)==236){fe=0,M=0;do ae=h+(M*24|0)|0,oe=a+(M*24|0)|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],e[ae+16>>2]=e[oe+16>>2],e[ae+20>>2]=e[oe+20>>2],M=M+1|0;while((M|0)!=(n|0));h=D}e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),n=u,M=N,a=h}while(!1);n=a+(n*24|0)|0,e[n>>2]=e[B>>2],e[n+4>>2]=e[B+4>>2],e[n+8>>2]=e[B+8>>2],e[n+12>>2]=e[B+12>>2],e[n+16>>2]=e[B+16>>2],e[n+20>>2]=e[B+20>>2],u=u+1|0,n=u}while(!1);if((n|0)==1){D=(e[W>>2]|0)+(s*24|0)|0;do if((M|0)==1){if(e[5637]=(e[5637]|0)+1,h=Xe(67)|0,h?(e[(h+4+15&-16)+-4>>2]=h,n=h+4+15&-16):n=0,(u|0)<=0){if(!a){h=u,M=2,a=n;break}}else{h=0;do ae=n+(h*24|0)|0,oe=a+(h*24|0)|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],e[ae+16>>2]=e[oe+16>>2],e[ae+20>>2]=e[oe+20>>2],h=h+1|0;while((h|0)!=(u|0))}e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),h=u,M=2,a=n}else h=1;while(!1);n=a+(h*24|0)|0,e[n>>2]=e[D>>2],e[n+4>>2]=e[D+4>>2],e[n+8>>2]=e[D+8>>2],e[n+12>>2]=e[D+12>>2],e[n+16>>2]=e[D+16>>2],e[n+20>>2]=e[D+20>>2],u=u+1|0,n=u}s=s+1|0}while((s|0)!=(e[te>>2]|0))}fe=278}e:do if((fe|0)==278){if(fe=0,(u|0)>0)for(L=0,B=0,n=0,s=0,O=0;;){k=a+(O*24|0)+20|0;do if((L|0)==(B|0)){if(M=B|0?B<<1:1,(B|0)>=(M|0)){F=n;break}do if(!M)h=0;else{if(e[5637]=(e[5637]|0)+1,s=Xe((M<<2|3)+16|0)|0,!s){h=0;break}e[(s+4+15&-16)+-4>>2]=s,h=s+4+15&-16}while(!1);if((B|0)<=0)n|0&&(fe=299);else{s=0;do e[h+(s<<2)>>2]=e[n+(s<<2)>>2],s=s+1|0;while((s|0)!=(B|0));fe=299}(fe|0)==299&&(fe=0,e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),e[ge+20+12>>2]=0),A[ge+20+16>>0]=1,e[ge+20+12>>2]=h,e[ge+20+8>>2]=M,F=h,s=h,B=M}else F=n;while(!1);e[F+(L<<2)>>2]=e[k>>2],L=(e[ge+20+4>>2]|0)+1|0,e[ge+20+4>>2]=L,D=e[te>>2]|0;t:do if((D|0)>0){for(N=e[W>>2]|0,h=e[k>>2]|0,M=0;n=N+(M*24|0)+20|0,M=M+1|0,(e[n>>2]|0)!=(h|0);)if((M|0)>=(D|0))break t;e[n>>2]=-1}while(!1);if(O=O+1|0,(O|0)>=(u|0)){L=D;break}else n=F}else L=s,s=0;if((L|0)<=0){fe=307;break}if(M=e[W>>2]|0,D=e[xe>>2]|0,N=e[ve>>2]|0,(D|0)>0)k=0;else{fe=307;break}for(;;){if(B=e[M+(k*24|0)+20>>2]|0,(B|0)!=-1){F=0;do{for(u=0;(e[$+(u<<2)>>2]|0)!=(F|0);)if(u=u+1|0,(u|0)>=(q|0)){fe=285;break}do if((fe|0)==285){if(fe=0,u=e[N+(F*36|0)+4>>2]|0,(u|0)<=0)break;h=e[N+(F*36|0)+12>>2]|0,n=0;do{if((e[h+(n<<2)>>2]|0)==(B|0)){u=1;break e}n=n+1|0}while((n|0)<(u|0))}while(!1);F=F+1|0}while((F|0)<(D|0))}if(k=k+1|0,(k|0)>=(L|0)){fe=307;break}}}while(!1);(fe|0)==307&&(fe=0,om((e[t+56>>2]|0)+24|0,ge+20|0),u=0),a|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),s|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),e[ge+20+12>>2]=0),s=e[W>>2]|0,s|0&&(A[ge+56+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[W>>2]=0),u&(q|0)>0&&(D=0,fe=317)}else(q|0)>0&&(D=0,fe=317);if((fe|0)==317)for(;;){if(fe=0,n=e[$+(D<<2)>>2]|0,M=e[ve>>2]|0,A[ge+216+16>>0]=1,e[ge+216+12>>2]=0,e[ge+216+4>>2]=0,e[ge+216+8>>2]=0,h=e[M+(n*36|0)+4>>2]|0,(h|0)>0){e[5637]=(e[5637]|0)+1,s=Xe((h<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,A[ge+216+16>>0]=1,e[ge+216+12>>2]=s,e[ge+216+8>>2]=h,ln(s|0,0,h<<2|0)|0,a=e[M+(n*36|0)+12>>2]|0,e[ge+216+4>>2]=h,u=0;do e[s+(u<<2)>>2]=e[a+(u<<2)>>2],u=u+1|0;while((u|0)!=(h|0))}else e[ge+216+4>>2]=h,s=0;if(e[ge+216+20>>2]=e[M+(n*36|0)+20>>2],e[ge+216+20+4>>2]=e[M+(n*36|0)+20+4>>2],e[ge+216+20+8>>2]=e[M+(n*36|0)+20+8>>2],e[ge+216+20+12>>2]=e[M+(n*36|0)+20+12>>2],om((e[t+56>>2]|0)+24|0,ge+216|0),s|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),e[ge+216+12>>2]=0),D=D+1|0,(D|0)>=(q|0))break;fe=317}if($|0&&(e[5638]=(e[5638]|0)+1,ye(e[$+-4>>2]|0)),!_)break}}else l=0;if(ae=e[t+56>>2]|0,e[ae+64>>2]=0,e[ae+64+4>>2]=0,e[ae+64+8>>2]=0,e[ae+64+12>>2]=0,s=e[ae+28>>2]|0,(s|0)>0){for(N=0,a=0,u=0,L=0,k=0,M=0,_=0,F=0,D=0,h=0,B=0,O=0,oe=0;;){if(n=e[ae+36>>2]|0,re=e[n+(oe*36|0)+4>>2]|0,(re|0)>0){for(he=oe&65535,me=oe|-65536,pe=M,W=D,q=O,s=0;;){_e=s+1|0,$=e[n+(oe*36|0)+12>>2]|0,M=e[$+(s<<2)>>2]&65535,$=e[$+(((_e|0)==(re|0)?0:_e)<<2)>>2]&65535,te=$<<16>>16>M<<16>>16?M:$,t=$<<16>>16>M<<16>>16?$:M,n=$<<16>>16>M<<16>>16?M:$,M=$<<16>>16>M<<16>>16?$:M,$=W+-1|0;e:do if((((n&65535)<<16)+(M<<16>>16)&$)>>>0<L>>>0&&(de=e[u+((((n&65535)<<16)+(M<<16>>16)&$)<<2)>>2]|0,(de|0)!=-1)){for(s=de;!(M<<16>>16==(ee[a+(s<<2)>>1]|0)&&n<<16>>16==(ee[a+(s<<2)+2>>1]|0));)if(s=e[_+(s<<2)>>2]|0,(s|0)==-1){O=0;break e}O=h+(s<<2)|0}else O=0;while(!1);s=e[ae+16>>2]|0,C=+i[s+(n<<16>>16<<4)>>2]-+i[s+(M<<16>>16<<4)>>2],w=+i[s+(n<<16>>16<<4)+4>>2]-+i[s+(M<<16>>16<<4)+4>>2],g=+i[s+(n<<16>>16<<4)+8>>2]-+i[s+(M<<16>>16<<4)+8>>2],S=1/+at(+(C*C+w*w+g*g)),s=e[ae+48>>2]|0;e:do if((s|0)>0)for(n=e[ae+56>>2]|0,M=0;;){d=+i[n+(M<<4)>>2],m=+i[n+(M<<4)+8>>2];do if(!(+ht(+(d-C*S))>1e-6)){if(+ht(+(+i[n+(M<<4)+4>>2]-w*S))>1e-6)break;if(!(+ht(+(m-g*S))>1e-6))break e}while(!1);do if(!(+ht(+(C*S+d))>1e-6)){if(+ht(+(w*S+ +i[n+(M<<4)+4>>2]))>1e-6)break;if(!(+ht(+(g*S+m))>1e-6))break e}while(!1);if(M=M+1|0,(M|0)>=(s|0)){fe=353;break}}else fe=353;while(!1);if((fe|0)==353){fe=0;do if((s|0)==(e[ae+52>>2]|0)){if(D=s|0?s<<1:1,(s|0)>=(D|0))break;if(D?(e[5637]=(e[5637]|0)+1,s=Xe((D<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,M=s,s=e[ae+48>>2]|0):M=0,(s|0)>0){n=0;do Ae=M+(n<<4)|0,qe=(e[ae+56>>2]|0)+(n<<4)|0,e[Ae>>2]=e[qe>>2],e[Ae+4>>2]=e[qe+4>>2],e[Ae+8>>2]=e[qe+8>>2],e[Ae+12>>2]=e[qe+12>>2],n=n+1|0;while((n|0)!=(s|0))}s=e[ae+56>>2]|0,s|0&&(A[ae+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[ae+56>>2]=0),A[ae+60>>0]=1,e[ae+56>>2]=M,e[ae+52>>2]=D,s=e[ae+48>>2]|0}while(!1);qe=e[ae+56>>2]|0,i[qe+(s<<4)>>2]=C*S,i[qe+(s<<4)+4>>2]=w*S,i[qe+(s<<4)+8>>2]=g*S,i[qe+(s<<4)+12>>2]=0,e[ae+48>>2]=(e[ae+48>>2]|0)+1}e:do if(O)ee[O+2>>1]=he,M=pe,D=W,O=q;else{s=((te&65535)<<16)+(t<<16>>16)&$;t:do if(s>>>0<L>>>0){if(n=e[u+(s<<2)>>2]|0,(n|0)==-1)break;for(;!(t<<16>>16==(ee[a+(n<<2)>>1]|0)&&te<<16>>16==(ee[a+(n<<2)+2>>1]|0));)if(n=e[_+(n<<2)>>2]|0,(n|0)==-1)break t;M=h+(n<<2)|0,ee[M>>1]=me,ee[M+2>>1]=me>>>16,M=pe,D=W,O=q;break e}while(!1);do if((F|0)==(W|0)){if(D=F|0?F<<1:1,(F|0)>=(D|0)){D=F;break}do if(!D)M=0;else{if(e[5637]=(e[5637]|0)+1,n=Xe((D<<2|3)+16|0)|0,!n){M=0;break}e[(n+4+15&-16)+-4>>2]=n,M=n+4+15&-16}while(!1);if((F|0)<=0){if(!h){h=M;break}}else{n=0;do qe=M+(n<<2)|0,Ae=h+(n<<2)|0,Ae=Le[Ae>>1]|Le[Ae+2>>1]<<16,ee[qe>>1]=Ae,ee[qe+2>>1]=Ae>>>16,n=n+1|0;while((n|0)!=(F|0))}e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0),h=M}else D=W;while(!1);$=h+(F<<2)|0,ee[$>>1]=me,ee[$+2>>1]=me>>>16,$=F+1|0;do if((q|0)==(N|0)){if(N=q|0?q<<1:1,(q|0)>=(N|0)){N=q;break}do if(!N)M=0;else{if(e[5637]=(e[5637]|0)+1,n=Xe((N<<2|3)+16|0)|0,!n){M=0;break}e[(n+4+15&-16)+-4>>2]=n,M=n+4+15&-16}while(!1);if((q|0)<=0){if(!a){a=M;break}}else{n=0;do qe=M+(n<<2)|0,Ae=a+(n<<2)|0,Ae=Le[Ae>>1]|Le[Ae+2>>1]<<16,ee[qe>>1]=Ae,ee[qe+2>>1]=Ae>>>16,n=n+1|0;while((n|0)!=(q|0))}e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),a=M}while(!1);if(O=a+(q<<2)|0,ee[O>>1]=(te&65535)<<16|t&65535,ee[O+2>>1]=((te&65535)<<16|t&65535)>>>16,O=q+1|0,(W|0)<(D|0)){do if((D|0)>(L|0)){if((D|0)>=(L|0)){do if((B|0)<(D|0)){do if(!D)s=0;else{if(e[5637]=(e[5637]|0)+1,s=Xe((D<<2|3)+16|0)|0,!s){s=0;break}e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16}while(!1);if((L|0)<=0){if(!u){u=s,s=D;break}}else{n=0;do e[s+(n<<2)>>2]=e[u+(n<<2)>>2],n=n+1|0;while((n|0)!=(L|0))}e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0),u=s,s=D}else s=B;while(!1);ln(u+(L<<2)|0,0,D-L<<2|0)|0,B=s}if((D|0)>(k|0)){do if((pe|0)<(D|0)){do if(!D)n=0;else{if(e[5637]=(e[5637]|0)+1,s=Xe((D<<2|3)+16|0)|0,!s){n=0;break}e[(s+4+15&-16)+-4>>2]=s,n=s+4+15&-16}while(!1);if((k|0)<=0){if(!_){s=D,_=n;break}}else{s=0;do e[n+(s<<2)>>2]=e[_+(s<<2)>>2],s=s+1|0;while((s|0)!=(k|0))}e[5638]=(e[5638]|0)+1,ye(e[_+-4>>2]|0),s=D,_=n}else s=pe;while(!1);ln(_+(k<<2)|0,0,D-k<<2|0)|0,M=s}else M=pe;if((D|0)>0&&(qe=D<<2,ln(u|0,-1,qe|0)|0,ln(_|0,-1,qe|0)|0),(L|0)<=0){n=D,k=D,s=B;break}s=D+-1|0,n=0;do qe=u+(((Le[a+(n<<2)+2>>1]<<16)+(ee[a+(n<<2)>>1]|0)&s)<<2)|0,e[_+(n<<2)>>2]=e[qe>>2],e[qe>>2]=n,n=n+1|0;while((n|0)!=(L|0));n=D,k=D,s=B}else n=L,M=pe,s=B;while(!1);B=s,s=((te&65535)<<16)+(t<<16>>16)&D+-1}else n=L,M=pe;L=u+(s<<2)|0,e[_+(F<<2)>>2]=e[L>>2],e[L>>2]=F,L=n,F=$}while(!1);if((_e|0)>=(re|0))break;n=e[ae+36>>2]|0,pe=M,W=D,q=O,s=_e}s=e[ae+28>>2]|0,n=O}else n=O;if(oe=oe+1|0,(oe|0)>=(s|0))break;O=n}if((s|0)>0){B=e[ae+36>>2]|0,k=e[ae+16>>2]|0,d=0,F=0;do{if(M=e[B+(F*36|0)+4>>2]|0,D=e[B+(F*36|0)+12>>2]|0,N=e[D>>2]|0,(M+-2|0)>=1){m=+i[ae+64>>2],g=+i[ae+68>>2],S=+i[ae+72>>2],n=1;do Ae=e[D+(n<<2)>>2]|0,n=n+1|0,qe=e[D+(((n|0)%(M|0)|0)<<2)>>2]|0,C=+i[k+(N<<4)>>2],w=+i[k+(Ae<<4)>>2],U=+i[k+(N<<4)+4>>2],V=+i[k+(Ae<<4)+4>>2],Y=+i[k+(N<<4)+8>>2],X=+i[k+(Ae<<4)+8>>2],E=+i[k+(qe<<4)>>2],z=+i[k+(qe<<4)+4>>2],ne=+i[k+(qe<<4)+8>>2],ke=+at(+(((C-w)*(U-z)-(U-V)*(C-E))*((C-w)*(U-z)-(U-V)*(C-E))+(((U-V)*(Y-ne)-(Y-X)*(U-z))*((U-V)*(Y-ne)-(Y-X)*(U-z))+((Y-X)*(C-E)-(C-w)*(Y-ne))*((Y-X)*(C-E)-(C-w)*(Y-ne)))))*.5,m=m+(C+w+E)*.3333333432674408*ke,i[ae+64>>2]=m,g=(U+V+z)*.3333333432674408*ke+g,i[ae+68>>2]=g,S=ke*((Y+X+ne)*.3333333432674408)+S,i[ae+72>>2]=S,d=d+ke;while((n|0)!=(M+-1|0))}F=F+1|0}while((F|0)!=(s|0));n=ae+64|0,M=1,N=a,D=u}else fe=332}else a=0,u=0,_=0,h=0,fe=332;if((fe|0)==332&&(n=ae+64|0,M=0,d=0,N=a,D=u),S=1/d,C=S*+i[n>>2],i[n>>2]=C,g=S*+i[ae+68>>2],i[ae+68>>2]=g,S=S*+i[ae+72>>2],i[ae+72>>2]=S,i[ae+96>>2]=34028234663852886e22,M)for(a=e[ae+36>>2]|0,m=34028234663852886e22,u=0;d=+ht(+(+i[a+(u*36|0)+32>>2]+(+i[a+(u*36|0)+20>>2]*C+ +i[a+(u*36|0)+24>>2]*g+ +i[a+(u*36|0)+28>>2]*S))),d<m?i[ae+96>>2]=d:d=m,u=u+1|0,!((u|0)>=(s|0));)m=d;else d=34028234663852886e22;if(s=e[ae+8>>2]|0,(s|0)>0){a=e[ae+16>>2]|0,E=-34028234663852886e22,w=-34028234663852886e22,C=-34028234663852886e22,S=34028234663852886e22,g=34028234663852886e22,m=34028234663852886e22,u=0;do ke=+i[a+(u<<4)>>2],S=ke<S?ke:S,E=ke>E?ke:E,ke=+i[a+(u<<4)+4>>2],g=ke<g?ke:g,w=ke>w?ke:w,ke=+i[a+(u<<4)+8>>2],m=ke<m?ke:m,C=ke>C?ke:C,u=u+1|0;while((u|0)!=(s|0))}else E=-34028234663852886e22,w=-34028234663852886e22,C=-34028234663852886e22,S=34028234663852886e22,g=34028234663852886e22,m=34028234663852886e22;for(i[ae+100>>2]=E+S,i[ae+104>>2]=g+w,i[ae+108>>2]=m+C,i[ae+112>>2]=0,ke=E-S,ne=w-g,m=C-m,i[ae+116>>2]=ke,i[ae+120>>2]=ne,i[ae+124>>2]=m,i[ae+128>>2]=0,g=d/1.7320507764816284,n=ke<ne?ne<m?2:1:ke<m?2:0,d=(+i[ae+116+(n<<2)>>2]*.5-g)*.0009765625,i[ae+88>>2]=g,i[ae+84>>2]=g,i[ae+80>>2]=g,m=+i[ae+116+(n<<2)>>2]*.5,i[ae+80+(n<<2)>>2]=m,s=0;;){if(im(ae)|0){fe=440;break}if(m=m-d,i[ae+80+(n<<2)>>2]=m,s=s+1|0,(s|0)>=1024){fe=439;break}}e:do if((fe|0)==439)i[ae+88>>2]=g,i[ae+84>>2]=g,i[ae+80>>2]=g;else if((fe|0)==440){for(d=(+i[ae+96>>2]-g)*.0009765625,a=e[ae+80+((1<<(1<<n&3)&3)<<2)>>2]|0,u=0;s=e[ae+80+((1<<n&3)<<2)>>2]|0,i[ae+80+((1<<n&3)<<2)>>2]=d+(e[Z>>2]=s,+i[Z>>2]),m=d+ +i[ae+80+((1<<(1<<n&3)&3)<<2)>>2],i[ae+80+((1<<(1<<n&3)&3)<<2)>>2]=m,u=u+1|0,!!(im(ae)|0);){if((u|0)>=1024)break e;a=(i[Z>>2]=m,e[Z>>2]|0)}e[ae+80+((1<<n&3)<<2)>>2]=s,e[ae+80+((1<<(1<<n&3)&3)<<2)>>2]=a}while(!1);if(N|0&&(e[5638]=(e[5638]|0)+1,ye(e[N+-4>>2]|0)),h|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),_|0&&(e[5638]=(e[5638]|0)+1,ye(e[_+-4>>2]|0)),D|0&&(e[5638]=(e[5638]|0)+1,ye(e[D+-4>>2]|0)),l|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),h=e[xe>>2]|0,n=e[ve>>2]|0,(h|0)<=0)n|0&&(fe=461);else{_=0;do a=n+(_*36|0)+4|0,l=n+(_*36|0)+12|0,u=e[l>>2]|0,s=n+(_*36|0)+16|0,u|0&&(A[s>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[l>>2]=0),A[s>>0]=1,e[l>>2]=0,e[a>>2]=0,e[n+(_*36|0)+8>>2]=0,_=_+1|0;while((_|0)!=(h|0));fe=461}return(fe|0)==461&&(A[ge+96+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[ve>>2]=0),o|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),s=e[Ce>>2]|0,s|0&&(A[ge+136+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[Ce>>2]=0),A[ge+136+56>>0]=1,e[Ce>>2]=0,e[ge+136+44>>2]=0,e[ge+136+48>>2]=0,s=e[we>>2]|0,s|0&&(A[ge+136+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[we>>2]=0),A[ge+136+36>>0]=1,e[we>>2]=0,e[ge+136+24>>2]=0,e[ge+136+28>>2]=0,s=e[be>>2]|0,s|0&&(A[ge+136+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[be>>2]=0),Se?(e[5638]=(e[5638]|0)+1,ye(e[Se+-4>>2]|0),H=ge,1):(H=ge,1)}function sm(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0;if(!((e[t+8>>2]|0)>=(n|0))){if((n|0)!=0&&(e[5637]=(e[5637]|0)+1,s=Xe((n*36|3)+16|0)|0,(s|0)!=0)?(e[(s+4+15&-16)+-4>>2]=s,S=s+4+15&-16):S=0,u=e[t+4>>2]|0,(u|0)>0){m=0;do{if(_=S+(m*36|0)|0,h=e[t+12>>2]|0,A[_+16>>0]=1,e[_+12>>2]=0,e[_+4>>2]=0,e[_+8>>2]=0,d=e[h+(m*36|0)+4>>2]|0,(d|0)>0){if(e[5637]=(e[5637]|0)+1,s=Xe((d<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,l=s+4+15&-16):l=0,a=e[_+4>>2]|0,o=e[_+12>>2]|0,(a|0)<=0)o?g=14:(A[_+16>>0]=1,e[_+12>>2]=l,e[_+8>>2]=d,ln(l|0,0,d<<2|0)|0);else{s=0;do e[l+(s<<2)>>2]=e[o+(s<<2)>>2],s=s+1|0;while((s|0)!=(a|0));g=14}(g|0)==14&&(g=0,A[_+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),A[_+16>>0]=1,e[_+12>>2]=l,e[_+8>>2]=d,ln(l|0,0,d<<2|0)|0),s=e[_+12>>2]|0,e[_+4>>2]=d,o=e[h+(m*36|0)+12>>2]|0,a=0;do e[s+(a<<2)>>2]=e[o+(a<<2)>>2],a=a+1|0;while((a|0)!=(d|0))}else e[_+4>>2]=d;d=h+(m*36|0)+20|0,e[_+20>>2]=e[d>>2],e[_+20+4>>2]=e[d+4>>2],e[_+20+8>>2]=e[d+8>>2],e[_+20+12>>2]=e[d+12>>2],m=m+1|0}while((m|0)!=(u|0));if(s=e[t+4>>2]|0,(s|0)>0){h=0;do a=e[t+12>>2]|0,l=a+(h*36|0)+4|0,u=a+(h*36|0)+12|0,_=e[u>>2]|0,o=a+(h*36|0)+16|0,_|0&&(A[o>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[_+-4>>2]|0)),e[u>>2]=0),A[o>>0]=1,e[u>>2]=0,e[l>>2]=0,e[a+(h*36|0)+8>>2]=0,h=h+1|0;while((h|0)!=(s|0))}}s=e[t+12>>2]|0,s|0&&(A[t+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+12>>2]=0),A[t+16>>0]=1,e[t+12>>2]=S,e[t+8>>2]=n}}function Eh(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0;for(B=H,H=H+32|0,M=e[t+12>>2]|0,E=+i[M+(((o+s|0)/2|0)*24|0)>>2],D=+i[M+(((o+s|0)/2|0)*24|0)+4>>2],N=+i[M+(((o+s|0)/2|0)*24|0)+8>>2],C=+i[M+(((o+s|0)/2|0)*24|0)+16>>2],w=e[M+(((o+s|0)/2|0)*24|0)+20>>2]|0,a=s,l=o;;){d=+i[n>>2],m=+i[n+4>>2],g=+i[n+8>>2],S=(E-d)*(E-d)+(D-m)*(D-m)+(N-g)*(N-g);e:for(;;){u=+i[M+(a*24|0)+16>>2];do if(u!=C){if(!(u<C))break e}else if(u=+i[M+(a*24|0)>>2]-d,_=+i[M+(a*24|0)+4>>2]-m,h=+i[M+(a*24|0)+8>>2]-g,u*u+_*_+h*h!=S){if(u*u+_*_+h*h<S)break;break e}else{if((e[M+(a*24|0)+20>>2]|0)<(w|0))break;break e}while(!1);a=a+1|0}e:for(;;){u=+i[M+(l*24|0)+16>>2];do if(C!=u){if(!(C<u))break e}else if(u=+i[M+(l*24|0)>>2]-d,_=+i[M+(l*24|0)+4>>2]-m,h=+i[M+(l*24|0)+8>>2]-g,S!=u*u+_*_+h*h){if(S<u*u+_*_+h*h)break;break e}else{if((w|0)<(e[M+(l*24|0)+20>>2]|0))break;break e}while(!1);l=l+-1|0}if((a|0)<=(l|0)&&(k=M+(a*24|0)|0,e[B>>2]=e[k>>2],e[B+4>>2]=e[k+4>>2],e[B+8>>2]=e[k+8>>2],e[B+12>>2]=e[k+12>>2],e[B+16>>2]=e[k+16>>2],e[B+20>>2]=e[k+20>>2],M=M+(l*24|0)|0,e[k>>2]=e[M>>2],e[k+4>>2]=e[M+4>>2],e[k+8>>2]=e[M+8>>2],e[k+12>>2]=e[M+12>>2],e[k+16>>2]=e[M+16>>2],e[k+20>>2]=e[M+20>>2],M=(e[t+12>>2]|0)+(l*24|0)|0,e[M>>2]=e[B>>2],e[M+4>>2]=e[B+4>>2],e[M+8>>2]=e[B+8>>2],e[M+12>>2]=e[B+12>>2],e[M+16>>2]=e[B+16>>2],e[M+20>>2]=e[B+20>>2],a=a+1|0,l=l+-1|0),(a|0)>(l|0))break;M=e[t+12>>2]|0}if((l|0)>(s|0)&&Eh(t,n,s,l),(a|0)>=(o|0)){H=B;return}Eh(t,n,a,o),H=B}function om(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0;if(s=e[t+4>>2]|0,(s|0)==(e[t+8>>2]|0)&&(sm(t,s|0?s<<1:1),s=e[t+4>>2]|0),_=(e[t+12>>2]|0)+(s*36|0)|0,A[_+16>>0]=1,e[_+12>>2]=0,e[_+4>>2]=0,e[_+8>>2]=0,h=e[n+4>>2]|0,(h|0)<=0){e[_+4>>2]=h,h=_+20|0,n=n+20|0,e[h>>2]=e[n>>2],e[h+4>>2]=e[n+4>>2],e[h+8>>2]=e[n+8>>2],e[h+12>>2]=e[n+12>>2],n=e[t+4>>2]|0,n=n+1|0,e[t+4>>2]=n;return}if(e[5637]=(e[5637]|0)+1,s=Xe((h<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,l=s+4+15&-16):l=0,a=e[_+4>>2]|0,o=e[_+12>>2]|0,(a|0)<=0)o?u=11:(A[_+16>>0]=1,e[_+12>>2]=l,e[_+8>>2]=h,ln(l|0,0,h<<2|0)|0);else{s=0;do e[l+(s<<2)>>2]=e[o+(s<<2)>>2],s=s+1|0;while((s|0)!=(a|0));u=11}(u|0)==11&&(A[_+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),A[_+16>>0]=1,e[_+12>>2]=l,e[_+8>>2]=h,ln(l|0,0,h<<2|0)|0),s=e[_+12>>2]|0,e[_+4>>2]=h,o=e[n+12>>2]|0,a=0;do e[s+(a<<2)>>2]=e[o+(a<<2)>>2],a=a+1|0;while((a|0)!=(h|0));h=_+20|0,n=n+20|0,e[h>>2]=e[n>>2],e[h+4>>2]=e[n+4>>2],e[h+8>>2]=e[n+8>>2],e[h+12>>2]=e[n+12>>2],n=e[t+4>>2]|0,n=n+1|0,e[t+4>>2]=n}function wte(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0;S=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),N=+i[t+76>>2],D=+i[t+60>>2],M=+i[t+80>>2],w=+i[t+64>>2],g=+i[t+84>>2],m=+i[t+68>>2],$=+i[n>>2],L=+ht(+$),Y=+i[n+4>>2],F=+ht(+Y),h=+i[n+8>>2],d=+ht(+h),z=+i[n+16>>2],k=+ht(+z),O=+i[n+20>>2],B=+ht(+O),u=+i[n+24>>2],_=+ht(+u),V=+i[n+32>>2],E=+ht(+V),U=+i[n+36>>2],C=+ht(+U),a=+i[n+40>>2],l=+ht(+a),h=(N+D)*.5*$+(M+w)*.5*Y+(g+m)*.5*h+ +i[n+48>>2],u=(N+D)*.5*z+(M+w)*.5*O+(g+m)*.5*u+ +i[n+52>>2],a=(N+D)*.5*V+(M+w)*.5*U+(g+m)*.5*a+ +i[n+56>>2],d=(S+(N-D)*.5)*L+(S+(M-w)*.5)*F+(S+(g-m)*.5)*d,_=(S+(N-D)*.5)*k+(S+(M-w)*.5)*B+(S+(g-m)*.5)*_,l=(S+(N-D)*.5)*E+(S+(M-w)*.5)*C+(S+(g-m)*.5)*l,i[s>>2]=h-d,i[s+4>>2]=u-_,i[s+8>>2]=a-l,i[s+12>>2]=0,i[o>>2]=d+h,i[o+4>>2]=_+u,i[o+8>>2]=l+a,i[o+12>>2]=0}function Rc(t){t=t|0;var n=0,s=0,o=0,a=0;s=H,H=H+96|0,A[t+92>>0]=1,A[19840]|0||(A[19840]=1,e[4993]=1065353216,e[4994]=0,e[4995]=0,e[4996]=0,e[4997]=0,e[4998]=1065353216,e[4999]=0,e[5e3]=0,e[5001]=0,e[5002]=0,e[5003]=1065353216,i[5004]=0,e[5005]=-1082130432,e[5006]=0,e[5007]=0,e[5008]=0,e[5009]=0,e[5010]=-1082130432,e[5011]=0,e[5012]=0,e[5013]=0,e[5014]=0,e[5015]=-1082130432,i[5016]=0),n=s,o=n+96|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(o|0));Kt[e[(e[t>>2]|0)+76>>2]&127](t,19972,s,6),a=+i[t+48>>2],i[t+76>>2]=+i[s>>2]+a,i[t+60>>2]=+i[s+48>>2]-a,i[t+80>>2]=+i[s+20>>2]+a,i[t+64>>2]=+i[s+68>>2]-a,i[t+84>>2]=+i[s+40>>2]+a,i[t+68>>2]=+i[s+88>>2]-a,H=s}function Mte(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Rte(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0;u=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),l=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),a=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),h=+i[n+52>>2]-l,_=+i[n+56>>2]-a,i[s>>2]=+i[n+48>>2]-u,i[s+4>>2]=h,i[s+8>>2]=_,i[s+12>>2]=0,l=l+ +i[n+52>>2],a=a+ +i[n+56>>2],i[o>>2]=u+ +i[n+48>>2],i[o+4>>2]=l,i[o+8>>2]=a,i[o+12>>2]=0}function Ate(t,n,s){t=t|0,n=+n,s=s|0,n=n*.4000000059604645*+Tt[e[(e[t>>2]|0)+48>>2]&15](t),n=n*+Tt[e[(e[t>>2]|0)+48>>2]&15](t),i[s>>2]=n,i[s+4>>2]=n,i[s+8>>2]=n,i[s+12>>2]=0}function Ete(t){return t=t|0,13962}function bte(t,n){t=t|0,n=+n,i[t+48>>2]=n}function Nte(t){return t=t|0,+(+i[t+32>>2]*+i[t+16>>2])}function Dte(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;o=H,H=H+16|0,f0[e[(e[n>>2]|0)+68>>2]&127](o,n,s),e[t>>2]=e[o>>2],e[t+4>>2]=e[o+4>>2],e[t+8>>2]=e[o+8>>2],e[t+12>>2]=e[o+12>>2],u=+i[s>>2],l=+i[s+4>>2],a=+i[s+8>>2],h=u*u+l*l+a*a<14210854715202004e-30?-1:u,_=u*u+l*l+a*a<14210854715202004e-30?-1:l,a=u*u+l*l+a*a<14210854715202004e-30?-1:a,l=1/+at(+(a*a+(h*h+_*_))),u=+Tt[e[(e[n>>2]|0)+48>>2]&15](n),i[t>>2]=+i[t>>2]+u*(l*h),i[t+4>>2]=u*(l*_)+ +i[t+4>>2],i[t+8>>2]=u*(l*a)+ +i[t+8>>2],H=o}function Ite(t,n,s){t=t|0,n=n|0,s=s|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0}function Pte(t,n,s,o){if(t=t|0,n=n|0,s=s|0,o=o|0,(o|0)>0)t=0;else return;do n=s+(t<<4)|0,t=t+1|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0;while((t|0)!=(o|0))}function Lte(t){t=t|0}function kte(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Fte(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,e[s>>2]=-581039253,e[s+4>>2]=-581039253,e[s+8>>2]=-581039253,i[s+12>>2]=0,e[o>>2]=1566444395,e[o+4>>2]=1566444395,e[o+8>>2]=1566444395,i[o+12>>2]=0}function Bte(t,n){t=t|0,n=n|0,e[t+72>>2]=e[n>>2],e[t+72+4>>2]=e[n+4>>2],e[t+72+8>>2]=e[n+8>>2],e[t+72+12>>2]=e[n+12>>2]}function Ute(t){return t=t|0,t+72|0}function Ote(t,n,s){t=t|0,n=+n,s=s|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0}function Gte(t){return t=t|0,13990}function Vte(t){return t=t|0,52}function zte(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=a,a|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],e[n+12>>2]=e[t+72>>2],e[n+16>>2]=e[t+76>>2],e[n+20>>2]=e[t+80>>2],e[n+24>>2]=e[t+84>>2],e[n+28>>2]=e[t+52>>2],e[n+32>>2]=e[t+56>>2],e[n+36>>2]=e[t+60>>2],e[n+40>>2]=e[t+64>>2],e[n+44>>2]=e[t+68>>2],14002}function Wte(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0;k=H,H=H+48|0,E=+i[o>>2],D=+i[s>>2],N=+i[o+4>>2],B=+i[s+4>>2],M=+i[o+8>>2],l=+i[s+8>>2],u=+at(+((E-D)*.5*((E-D)*.5)+(N-B)*.5*((N-B)*.5)+(M-l)*.5*((M-l)*.5))),_=+i[t+60>>2],s=+ht(+_)>.7071067690849304,h=+i[t+56>>2],s?(w=1/+at(+(_*_+h*h)),F=+i[t+52>>2],a=F*-(_*w),d=F,m=0,g=-(_*w),S=h*w,C=(_*_+h*h)*w,w=-(F*(h*w))):(C=+i[t+52>>2],w=1/+at(+(C*C+h*h)),a=(C*C+h*h)*w,d=C,m=-(h*w),g=C*w,S=0,C=-(_*(C*w)),w=_*-(h*w)),F=(E+D)*.5*d+(N+B)*.5*h+(M+l)*.5*_-+i[t+68>>2],d=(E+D)*.5-d*F,m=u*m,g=u*g,D=u*S,C=u*C,w=u*w,E=u*a,i[k>>2]=C+(m+d),i[k+4>>2]=w+(g+((N+B)*.5-h*F)),i[k+8>>2]=E+(D+((M+l)*.5-_*F)),i[k+12>>2]=0,i[k+16>>2]=m+d-C,i[k+20>>2]=g+((N+B)*.5-h*F)-w,i[k+24>>2]=D+((M+l)*.5-_*F)-E,i[k+28>>2]=0,i[k+32>>2]=d-m-C,i[k+36>>2]=(N+B)*.5-h*F-g-w,i[k+40>>2]=(M+l)*.5-_*F-D-E,i[k+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,k,0,0),i[k>>2]=d-m-C,i[k+4>>2]=(N+B)*.5-h*F-g-w,i[k+8>>2]=(M+l)*.5-_*F-D-E,i[k+12>>2]=0,i[k+16>>2]=C+(d-m),i[k+20>>2]=w+((N+B)*.5-h*F-g),i[k+24>>2]=E+((M+l)*.5-_*F-D),i[k+28>>2]=0,i[k+32>>2]=C+(m+d),i[k+36>>2]=w+(g+((N+B)*.5-h*F)),i[k+40>>2]=E+(D+((M+l)*.5-_*F)),i[k+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,k,0,1),H=k}function hu(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0;if(D=A[a+16>>0]&-16,A[a+16>>0]=D,B=+i[s>>2],k=+i[n>>2],F=+i[s+4>>2],L=+i[n+4>>2],C=+i[s+8>>2],w=+i[n+8>>2],M=+i[o>>2],E=+i[o+4>>2],N=+i[o+8>>2],d=+i[t>>2],m=+i[t+4>>2],l=+i[t+8>>2],g=(B-k)*(d-k)+(F-L)*(m-L)+(C-w)*(l-w),S=(M-k)*(d-k)+(E-L)*(m-L)+(N-w)*(l-w),g<=0&S<=0){e[a>>2]=e[n>>2],e[a+4>>2]=e[n+4>>2],e[a+8>>2]=e[n+8>>2],e[a+12>>2]=e[n+12>>2],A[a+16>>0]=D|1,i[a+20>>2]=1,i[a+24>>2]=0,i[a+28>>2]=0,i[a+32>>2]=0;return}if(_=(B-k)*(d-B)+(F-L)*(m-F)+(C-w)*(l-C),h=(M-k)*(d-B)+(E-L)*(m-F)+(N-w)*(l-C),!(!(_>=0)|!(h<=_))){e[a>>2]=e[s>>2],e[a+4>>2]=e[s+4>>2],e[a+8>>2]=e[s+8>>2],e[a+12>>2]=e[s+12>>2],A[a+16>>0]=D|2,i[a+20>>2]=0,i[a+24>>2]=1,i[a+28>>2]=0,i[a+32>>2]=0;return}if(_<=0&(g>=0?g*h-_*S<=0:0)){i[a>>2]=k+(B-k)*(g/(g-_)),i[a+4>>2]=L+(F-L)*(g/(g-_)),i[a+8>>2]=w+(C-w)*(g/(g-_)),i[a+12>>2]=0,A[a+16>>0]=D|3,i[a+20>>2]=1-g/(g-_),i[a+24>>2]=g/(g-_),i[a+28>>2]=0,i[a+32>>2]=0;return}if(u=(B-k)*(d-M)+(F-L)*(m-E)+(C-w)*(l-N),l=(M-k)*(d-M)+(E-L)*(m-E)+(N-w)*(l-N),!(!(l>=0)|!(u<=l))){e[a>>2]=e[o>>2],e[a+4>>2]=e[o+4>>2],e[a+8>>2]=e[o+8>>2],e[a+12>>2]=e[o+12>>2],A[a+16>>0]=D|4,i[a+20>>2]=0,i[a+24>>2]=0,i[a+28>>2]=1,i[a+32>>2]=0;return}if(l<=0&(S>=0?u*S-g*l<=0:0)){i[a>>2]=k+(M-k)*(S/(S-l)),i[a+4>>2]=L+(E-L)*(S/(S-l)),i[a+8>>2]=w+(N-w)*(S/(S-l)),i[a+12>>2]=0,A[a+16>>0]=D|5,i[a+20>>2]=1-S/(S-l),i[a+24>>2]=0,i[a+28>>2]=S/(S-l),i[a+32>>2]=0;return}if(_*l-u*h<=0&&h-_>=0&&u-l>=0){L=(h-_)/(h-_+(u-l)),i[a>>2]=B+(M-B)*L,i[a+4>>2]=F+(E-F)*L,i[a+8>>2]=C+(N-C)*L,i[a+12>>2]=0,A[a+16>>0]=D|6,i[a+20>>2]=0,i[a+24>>2]=1-L,i[a+28>>2]=L,i[a+32>>2]=0;return}d=1/(g*h-_*S+(_*l-u*h+(u*S-g*l))),m=(u*S-g*l)*d,S=(g*h-_*S)*d,i[a>>2]=(M-k)*S+((B-k)*m+k),i[a+4>>2]=(E-L)*S+((F-L)*m+L),i[a+8>>2]=(N-w)*S+((C-w)*m+w),i[a+12>>2]=0,A[a+16>>0]=D|7,i[a+20>>2]=1-m-S,i[a+24>>2]=m,i[a+28>>2]=S,i[a+32>>2]=0}function Hte(t){t=t|0;var n=0;e[t>>2]=7044,n=e[t+140>>2]|0,n|0&&(A[t+144>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+140>>2]=0),A[t+144>>0]=1,e[t+140>>2]=0,e[t+132>>2]=0,e[t+136>>2]=0}function jte(t){t=t|0;var n=0;e[t>>2]=7044,n=e[t+140>>2]|0,n|0&&(A[t+144>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+140>>2]=0),A[t+144>>0]=1,e[t+140>>2]=0,e[t+132>>2]=0,e[t+136>>2]=0,e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function qte(t,n,s){t=t|0,n=n|0,s=+s,zt[e[(e[t>>2]|0)+32>>2]&127](t,n),sr[e[(e[t>>2]|0)+36>>2]&7](t,n,s)}function Xte(t,n){t=t|0,n=n|0}function $te(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;A[t+171>>0]=1,e[t+60>>2]=e[n>>2],e[t+60+4>>2]=e[n+4>>2],e[t+60+8>>2]=e[n+8>>2],e[t+60+12>>2]=e[n+12>>2],s=+i[t+60>>2],o=+i[t+64>>2],l=+i[t+68>>2],a=+at(+(s*s+o*o+l*l)),a>11920928955078125e-23?(u=s*(1/a),o=o*(1/a),s=l*(1/a),n=e[t+72>>2]|0):(u=0,o=0,s=0,n=0),i[t+76>>2]=u,i[t+80>>2]=o,i[t+84>>2]=s,e[t+88>>2]=n}function Yte(t,n,s){t=t|0,n=n|0,s=+s;var o=0,a=0,l=0,u=0,_=0;A[t+171>>0]=0,e[t+60>>2]=e[n>>2],e[t+60+4>>2]=e[n+4>>2],e[t+60+8>>2]=e[n+8>>2],e[t+60+12>>2]=e[n+12>>2],o=+i[t+60>>2],a=+i[t+64>>2],u=+i[t+68>>2],l=+at(+(o*o+a*a+u*u)),l>11920928955078125e-23?(_=o*(1/l),a=a*(1/l),o=u*(1/l),n=e[t+72>>2]|0):(_=0,a=0,o=0,n=0),i[t+76>>2]=_,i[t+80>>2]=a,i[t+84>>2]=o,e[t+88>>2]=n,i[t+172>>2]=+i[t+172>>2]+s}function Kte(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;if(i[t+16>>2]=0,i[t+20>>2]=0,A[t+168>>0]=0,A[t+169>>0]=0,i[t+172>>2]=0,e[t+60>>2]=0,e[t+60+4>>2]=0,e[t+60+8>>2]=0,e[t+60+12>>2]=0,t=e[(e[t+8>>2]|0)+308>>2]|0,!((e[(Ct[e[(e[t>>2]|0)+28>>2]&127](t)|0)+4>>2]|0)<=0))do o=e[t>>2]|0,a=e[o+12>>2]|0,o=e[e[(Ct[e[o+28>>2]&127](t)|0)+12>>2]>>2]|0,s=e[(e[(Ct[e[(e[t>>2]|0)+28>>2]&127](t)|0)+12>>2]|0)+4>>2]|0,$2[a&31](t,o,s,e[n+24>>2]|0)|0;while((e[(Ct[e[(e[t>>2]|0)+28>>2]&127](t)|0)+4>>2]|0)>0)}function Zte(t,n){t=t|0,n=n|0;var s=0;s=H,H=H+16|0,e[s>>2]=e[n>>2],e[s+4>>2]=e[n+4>>2],e[s+8>>2]=e[n+8>>2],e[s+12>>2]=e[n+12>>2],t=e[t+8>>2]|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+4>>2]=1065353216,e[t+8>>2]=0,e[t+8+4>>2]=0,e[t+8+8>>2]=0,e[t+8+12>>2]=0,e[t+24>>2]=1065353216,e[t+28>>2]=0,e[t+28+4>>2]=0,e[t+28+8>>2]=0,e[t+28+12>>2]=0,e[t+44>>2]=1065353216,e[t+48>>2]=0,e[t+52>>2]=e[s>>2],e[t+52+4>>2]=e[s+4>>2],e[t+52+8>>2]=e[s+8>>2],e[t+52+12>>2]=e[s+12>>2],H=s}function Qte(t,n){t=t|0,n=n|0,A[t+148>>0]=0,du(t,n)|0&&(A[t+148>>0]=1,du(t,n)|0)&&(A[t+148>>0]=1,du(t,n)|0)&&(A[t+148>>0]=1,du(t,n)|0)&&(A[t+148>>0]=1,du(t,n)|0)&&(A[t+148>>0]=1),n=(e[t+8>>2]|0)+52|0,e[t+92>>2]=e[n>>2],e[t+92+4>>2]=e[n+4>>2],e[t+92+8>>2]=e[n+8>>2],e[t+92+12>>2]=e[n+12>>2],ah(t+112|0,n|0,16)|0}function du(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0;if(E=H,H=H+96|0,w=e[t+12>>2]|0,Kt[e[(e[w>>2]|0)+8>>2]&127](w,(e[t+8>>2]|0)+4|0,E+80|0,E+64|0),w=e[n+68>>2]|0,Qi[e[(e[w>>2]|0)+16>>2]&31](w,e[(e[t+8>>2]|0)+188>>2]|0,E+80|0,E+64|0,e[n+24>>2]|0),w=e[n+24>>2]|0,Kt[e[(e[w>>2]|0)+32>>2]&127](w,e[(e[t+8>>2]|0)+308>>2]|0,n+28|0,w),w=e[t+8>>2]|0,e[t+92>>2]=e[w+52>>2],e[t+92+4>>2]=e[w+52+4>>2],e[t+92+8>>2]=e[w+52+8>>2],e[t+92+12>>2]=e[w+52+12>>2],w=e[w+308>>2]|0,(Ct[e[(e[w>>2]|0)+36>>2]&127](w)|0)>0){w=0,a=0,n=0;do{if(s=e[t+132>>2]|0,(s|0)<0){(e[t+136>>2]|0)<0&&(o=e[t+140>>2]|0,o|0&&(A[t+144>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+140>>2]=0),A[t+144>>0]=1,e[t+140>>2]=0,e[t+136>>2]=0);do e[(e[t+140>>2]|0)+(s<<2)>>2]=0,s=s+1|0;while((s|0)!=0)}e[t+132>>2]=0,s=e[(e[t+8>>2]|0)+308>>2]|0,s=e[(Ct[e[(e[s>>2]|0)+28>>2]&127](s)|0)+12>>2]|0,C=e[e[s+(w<<4)>>2]>>2]|0,o=e[e[s+(w<<4)+4>>2]>>2]|0,(C|0)!=0&&(e[C+204>>2]&4|0)!=0||(M=14);do if((M|0)==14){if(M=0,o|0&&e[o+204>>2]&4|0)break;if(s=e[s+(w<<4)+8>>2]|0,s|0&&zt[e[(e[s>>2]|0)+16>>2]&127](s,t+128|0),S=e[t+132>>2]|0,(S|0)>0){m=e[t+140>>2]|0,g=e[t+8>>2]|0,C=0;do{if(h=e[m+(C<<2)>>2]|0,d=(e[h+740>>2]|0)==(g|0)?-1:1,s=e[h+748>>2]|0,(s|0)>0){_=0;do u=+i[h+4+(_*184|0)+80>>2],u<0&&(l=h+4+(_*184|0)+64|0,u<a?(n=h+4+(_*184|0)+68|0,D=d*+i[n>>2],o=h+4+(_*184|0)+72|0,a=d*+i[o>>2],i[t+152>>2]=d*+i[l>>2],i[t+156>>2]=D,i[t+160>>2]=a,i[t+164>>2]=0,s=e[h+748>>2]|0,a=u):(n=h+4+(_*184|0)+68|0,o=h+4+(_*184|0)+72|0),N=u*(d*+i[n>>2])*.20000000298023224,D=u*(d*+i[o>>2])*.20000000298023224,i[t+92>>2]=u*(d*+i[l>>2])*.20000000298023224+ +i[t+92>>2],i[t+96>>2]=N+ +i[t+96>>2],i[t+100>>2]=D+ +i[t+100>>2],n=1),_=_+1|0;while((_|0)<(s|0))}C=C+1|0}while((C|0)!=(S|0))}}while(!1);w=w+1|0,C=e[(e[t+8>>2]|0)+308>>2]|0}while((w|0)<(Ct[e[(e[C>>2]|0)+36>>2]&127](C)|0))}else n=0;return M=e[t+8>>2]|0,e[E>>2]=e[M+4>>2],e[E+4>>2]=e[M+4+4>>2],e[E+8>>2]=e[M+4+8>>2],e[E+12>>2]=e[M+4+12>>2],e[E+16>>2]=e[M+20>>2],e[E+16+4>>2]=e[M+20+4>>2],e[E+16+8>>2]=e[M+20+8>>2],e[E+16+12>>2]=e[M+20+12>>2],e[E+32>>2]=e[M+36>>2],e[E+32+4>>2]=e[M+36+4>>2],e[E+32+8>>2]=e[M+36+8>>2],e[E+32+12>>2]=e[M+36+12>>2],e[E+48>>2]=e[t+92>>2],e[E+48+4>>2]=e[t+92+4>>2],e[E+48+8>>2]=e[t+92+8>>2],e[E+48+12>>2]=e[t+92+12>>2],e[M+284>>2]=(e[M+284>>2]|0)+1,e[M+4>>2]=e[E>>2],e[M+4+4>>2]=e[E+4>>2],e[M+4+8>>2]=e[E+8>>2],e[M+4+12>>2]=e[E+12>>2],e[M+20>>2]=e[E+16>>2],e[M+20+4>>2]=e[E+16+4>>2],e[M+20+8>>2]=e[E+16+8>>2],e[M+20+12>>2]=e[E+16+12>>2],e[M+36>>2]=e[E+32>>2],e[M+36+4>>2]=e[E+32+4>>2],e[M+36+8>>2]=e[E+32+8>>2],e[M+36+12>>2]=e[E+32+12>>2],e[M+52>>2]=e[E+48>>2],e[M+52+4>>2]=e[E+48+4>>2],e[M+52+8>>2]=e[E+48+8>>2],e[M+52+12>>2]=e[E+48+12>>2],H=E,n|0}function Jte(t,n,s){t=t|0,n=n|0,s=+s;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;if(w=H,H=H+528|0,!(A[t+171>>0]|0)){if(+i[t+172>>2]<=0){H=w;return}if(a=+i[t+60>>2],g=+i[t+64>>2],S=+i[t+68>>2],a*a+g*g+S*S<14210854715202004e-30){H=w;return}}if(A[t+168>>0]=(Ct[e[(e[t>>2]|0)+48>>2]&127](t)|0)&1,a=+i[t+16>>2]-+i[t+44>>2]*s,i[t+16>>2]=a,a>0&&(l=+i[t+28>>2],a>l)&&(i[t+16>>2]=l,a=l),a<0&&(S=+ht(+a),_=+ht(+ +i[t+24>>2]),S>_)&&(i[t+16>>2]=-_,a=-_),i[t+20>>2]=a*s,o=e[t+8>>2]|0,e[w>>2]=e[o+4>>2],e[w+4>>2]=e[o+4+4>>2],e[w+8>>2]=e[o+4+8>>2],e[w+12>>2]=e[o+4+12>>2],e[w+16>>2]=e[o+20>>2],e[w+16+4>>2]=e[o+20+4>>2],e[w+16+8>>2]=e[o+20+8>>2],e[w+16+12>>2]=e[o+20+12>>2],e[w+32>>2]=e[o+36>>2],e[w+32+4>>2]=e[o+36+4>>2],e[w+32+8>>2]=e[o+36+8>>2],e[w+32+12>>2]=e[o+36+12>>2],e[w+48>>2]=e[o+52>>2],e[w+48+4>>2]=e[o+52+4>>2],e[w+48+8>>2]=e[o+52+8>>2],e[w+48+12>>2]=e[o+52+12>>2],o=e[t+176>>2]|0,A[19872]|0||(A[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),_=+i[t+20>>2],_=+i[t+52>>2]+(_>0?_:0),g=+i[21192+(o<<4)+4>>2]*_+ +i[t+96>>2],S=_*+i[21192+(o<<4)+8>>2]+ +i[t+100>>2],i[t+112>>2]=+i[t+92>>2]+ +i[21192+(o<<4)>>2]*_,i[t+116>>2]=g,i[t+120>>2]=S,i[t+124>>2]=0,e[w+456>>2]=1065353216,e[w+456+4>>2]=0,e[w+456+4+4>>2]=0,e[w+456+4+8>>2]=0,e[w+456+4+12>>2]=0,e[w+456+20>>2]=1065353216,e[w+456+24>>2]=0,e[w+456+24+4>>2]=0,e[w+456+24+8>>2]=0,e[w+456+24+12>>2]=0,e[w+456+40>>2]=1065353216,o=w+456+44|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[w+392>>2]=1065353216,e[w+392+4>>2]=0,e[w+392+4+4>>2]=0,e[w+392+4+8>>2]=0,e[w+392+4+12>>2]=0,e[w+392+20>>2]=1065353216,e[w+392+24>>2]=0,e[w+392+24+4>>2]=0,e[w+392+24+8>>2]=0,e[w+392+24+12>>2]=0,e[w+392+40>>2]=1065353216,o=w+392+44|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,o=e[t+176>>2]|0,A[19872]|0||(A[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),u=e[t+12>>2]|0,_=+Tt[e[(e[u>>2]|0)+48>>2]&15](u),_=_+ +i[t+56>>2],g=_*+i[21192+(o<<4)+4>>2]+ +i[t+96>>2],S=_*+i[21192+(o<<4)+8>>2]+ +i[t+100>>2],i[w+456+48>>2]=+i[21192+(o<<4)>>2]*_+ +i[t+92>>2],i[w+456+52>>2]=g,i[w+456+56>>2]=S,i[w+456+60>>2]=0,e[w+392+48>>2]=e[t+112>>2],e[w+392+48+4>>2]=e[t+112+4>>2],e[w+392+48+8>>2]=e[t+112+8>>2],e[w+392+48+12>>2]=e[t+112+12>>2],o=e[t+8>>2]|0,u=e[t+176>>2]|0,A[19872]|0||(A[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),_=-+i[21192+(u<<4)>>2],g=-+i[21192+(u<<4)+4>>2],S=-+i[21192+(u<<4)+8>>2],i[w+288+4>>2]=1,ee[w+288+8>>1]=1,ee[w+288+10>>1]=-1,m=w+288+12|0,e[w+288+76>>2]=0,e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,e[m+16>>2]=0,e[m+20>>2]=0,e[m+24>>2]=0,e[m+28>>2]=0,e[w+288>>2]=7108,e[w+288+80>>2]=o,i[w+288+84>>2]=_,i[w+288+88>>2]=g,i[w+288+92>>2]=S,i[w+288+96>>2]=0,i[w+288+100>>2]=.707099974155426,o=e[t+8>>2]|0,m=e[(e[o+188>>2]|0)+4>>2]|0,ee[w+288+8>>1]=m,ee[w+288+10>>1]=m>>>16,A[t+170>>0]|0?sp(o,e[t+12>>2]|0,w+456|0,w+392|0,w+288|0,+i[n+56>>2]):u1(n,e[t+12>>2]|0,w+456|0,w+392|0,w+288|0,0),+i[w+288+4>>2]<1){o=e[t+176>>2]|0,A[19872]|0||(A[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0);do if(+i[w+288+44>>2]*+i[21192+(o<<4)>>2]+ +i[w+288+48>>2]*+i[21192+(o<<4)+4>>2]+ +i[w+288+52>>2]*+i[21192+(o<<4)+8>>2]>0)if(a=+i[w+288+4>>2],i[t+108>>2]=+i[t+52>>2]*a,A[t+180>>0]|0){i[t+92>>2]=(1-a)*+i[t+92>>2]+a*+i[t+112>>2],i[t+96>>2]=(1-a)*+i[t+96>>2]+a*+i[t+116>>2],i[t+100>>2]=(1-a)*+i[t+100>>2]+a*+i[t+120>>2];break}else{e[t+92>>2]=e[t+112>>2],e[t+92+4>>2]=e[t+112+4>>2],e[t+92+8>>2]=e[t+112+8>>2],e[t+92+12>>2]=e[t+112+12>>2];break}while(!1);i[t+16>>2]=0,i[t+20>>2]=0}else e[t+108>>2]=e[t+52>>2],e[t+92>>2]=e[t+112>>2],e[t+92+4>>2]=e[t+112+4>>2],e[t+92+8>>2]=e[t+112+8>>2],e[t+92+12>>2]=e[t+112+12>>2];for(A[t+171>>0]|0?am(t,n,+i[t+60>>2],+i[t+64>>2],+i[t+68>>2]):(g=+i[t+172>>2],S=g>s?s:g,i[t+172>>2]=g-s,am(t,n,S*+i[t+60>>2],S*+i[t+64>>2],S*+i[t+68>>2])),e[w+272>>2]=e[t+112>>2],e[w+272+4>>2]=e[t+112+4>>2],e[w+272+8>>2]=e[t+112+8>>2],e[w+272+12>>2]=e[t+112+12>>2],a=+i[t+16>>2],a=(a<0?-a:0)*s,a>0&&(d=+i[t+24>>2],a>d)&&(m=ee[t+168>>1]|0,a=(m&255)<<24>>24!=0|(m&65535)<256?d:a),o=e[t+176>>2]|0,A[19872]|0||(A[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),d=a+ +i[t+108>>2],g=+i[21192+(o<<4)>>2]*d,S=d*+i[21192+(o<<4)+4>>2],d=d*+i[21192+(o<<4)+8>>2],i[t+112>>2]=+i[t+112>>2]-g,i[t+116>>2]=+i[t+116>>2]-S,i[t+120>>2]=+i[t+120>>2]-d,o=e[t+8>>2]|0,u=e[t+176>>2]|0,A[19872]|0||(A[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),h=e[t+40>>2]|0,m=w+168+4|0,i[m>>2]=1,ee[w+168+8>>1]=1,ee[w+168+10>>1]=-1,M=w+168+12|0,e[w+168+76>>2]=0,e[M>>2]=0,e[M+4>>2]=0,e[M+8>>2]=0,e[M+12>>2]=0,e[M+16>>2]=0,e[M+20>>2]=0,e[M+24>>2]=0,e[M+28>>2]=0,e[w+168>>2]=7108,e[w+168+80>>2]=o,e[w+168+84>>2]=e[21192+(u<<4)>>2],e[w+168+84+4>>2]=e[21192+(u<<4)+4>>2],e[w+168+84+8>>2]=e[21192+(u<<4)+8>>2],e[w+168+84+12>>2]=e[21192+(u<<4)+12>>2],e[w+168+100>>2]=h,o=e[t+8>>2]|0,u=e[(e[o+188>>2]|0)+4>>2]|0,ee[w+168+8>>1]=u,ee[w+168+10>>1]=u>>>16,u=e[t+176>>2]|0,A[19872]|0||(A[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),M=e[t+40>>2]|0,i[w+64+4>>2]=1,ee[w+64+8>>1]=1,ee[w+64+10>>1]=-1,h=w+64+12|0,e[w+64+76>>2]=0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,e[h+12>>2]=0,e[h+16>>2]=0,e[h+20>>2]=0,e[h+24>>2]=0,e[h+28>>2]=0,e[w+64>>2]=7108,e[w+64+80>>2]=o,e[w+64+84>>2]=e[21192+(u<<4)>>2],e[w+64+84+4>>2]=e[21192+(u<<4)+4>>2],e[w+64+84+8>>2]=e[21192+(u<<4)+8>>2],e[w+64+84+12>>2]=e[21192+(u<<4)+12>>2],e[w+64+100>>2]=M,o=e[(e[(e[t+8>>2]|0)+188>>2]|0)+4>>2]|0,ee[w+64+8>>1]=o,ee[w+64+10>>1]=o>>>16,a=+i[t+112>>2],l=+i[t+116>>2],_=+i[t+120>>2],o=0;e[w+456>>2]=1065353216,e[w+456+4>>2]=0,e[w+456+4+4>>2]=0,e[w+456+4+8>>2]=0,e[w+456+4+12>>2]=0,e[w+456+20>>2]=1065353216,e[w+456+24>>2]=0,e[w+456+24+4>>2]=0,e[w+456+24+8>>2]=0,e[w+456+24+12>>2]=0,e[w+456+40>>2]=1065353216,e[w+456+44>>2]=0,e[w+392>>2]=1065353216,e[w+392+4>>2]=0,e[w+392+4+4>>2]=0,e[w+392+4+8>>2]=0,e[w+392+4+12>>2]=0,e[w+392+20>>2]=1065353216,e[w+392+24>>2]=0,e[w+392+24+4>>2]=0,e[w+392+24+8>>2]=0,e[w+392+24+12>>2]=0,e[w+392+40>>2]=1065353216,e[w+392+44>>2]=0,e[w+288>>2]=1065353216,e[w+288+4>>2]=0,e[w+288+4+4>>2]=0,e[w+288+4+8>>2]=0,e[w+288+4+12>>2]=0,e[w+288+20>>2]=1065353216,e[w+288+24>>2]=0,e[w+288+24+4>>2]=0,e[w+288+24+8>>2]=0,e[w+288+24+12>>2]=0,e[w+288+40>>2]=1065353216,e[w+288+44>>2]=0,e[w+288+44+4>>2]=0,e[w+288+44+8>>2]=0,e[w+456+48>>2]=e[t+92>>2],e[w+456+48+4>>2]=e[t+92+4>>2],e[w+456+48+8>>2]=e[t+92+8>>2],e[w+456+48+12>>2]=e[t+92+12>>2],e[w+392+48>>2]=e[t+112>>2],e[w+392+48+4>>2]=e[t+112+4>>2],e[w+392+48+8>>2]=e[t+112+8>>2],e[w+392+48+12>>2]=e[t+112+12>>2],i[w+288+48>>2]=a-g,i[w+288+52>>2]=l-S,i[w+288+56>>2]=_-d,i[w+288+60>>2]=0,A[t+170>>0]|0?(sp(e[t+8>>2]|0,e[t+12>>2]|0,w+456|0,w+392|0,w+168|0,+i[n+56>>2]),+i[m>>2]<1||sp(e[t+8>>2]|0,e[t+12>>2]|0,w+456|0,w+288|0,w+64|0,+i[n+56>>2])):(u1(n,e[t+12>>2]|0,w+456|0,w+392|0,w+168|0,+i[n+56>>2]),+i[m>>2]<1||u1(n,e[t+12>>2]|0,w+456|0,w+288|0,w+64|0,+i[n+56>>2])),l=+i[t+16>>2],l=(l<0?-l:0)*s,h=(A[t+182>>0]|0)==0,!h&&+i[m>>2]<1?u=1:u=+i[w+64+4>>2]<1,!(!(l>0)||(a=+i[t+52>>2],o|(!(l<a)|u^1)));){if(M=ee[t+168>>1]|0,!((M&255)<<24>>24!=0|(M&65535)<256)){o=0;break}e[t+112>>2]=e[w+272>>2],e[t+112+4>>2]=e[w+272+4>>2],e[t+112+8>>2]=e[w+272+8>>2],e[t+112+12>>2]=e[w+272+12>>2],o=e[t+176>>2]|0,A[19872]|0||(A[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),a=a+ +i[t+108>>2],l=a*+i[21192+(o<<4)+4>>2],_=a*+i[21192+(o<<4)+8>>2],a=+i[t+112>>2]-+i[21192+(o<<4)>>2]*a,i[t+112>>2]=a,l=+i[t+116>>2]-l,i[t+116>>2]=l,_=+i[t+120>>2]-_,i[t+120>>2]=_,o=1}if(_=+i[m>>2],o|_<1){a=+i[t+96>>2],l=(a-+i[w+168+64>>2])*.5;do if(h)i[t+92>>2]=(1-_)*+i[t+92>>2]+_*+i[t+112>>2],i[t+96>>2]=(1-_)*a+_*+i[t+116>>2],i[t+100>>2]=(1-_)*+i[t+100>>2]+_*+i[t+120>>2],o=t+181|0;else if(A[t+181>>0]|0){i[t+92>>2]=(1-_)*+i[t+92>>2]+_*+i[t+112>>2],i[t+96>>2]=(1-_)*a+_*+i[t+116>>2],i[t+100>>2]=(1-_)*+i[t+100>>2]+_*+i[t+120>>2],o=t+181|0;break}else{i[t+92>>2]=(1-l)*+i[t+92>>2]+l*+i[t+112>>2],i[t+96>>2]=(1-l)*a+l*+i[t+116>>2],i[t+100>>2]=(1-l)*+i[t+100>>2]+l*+i[t+120>>2],o=t+181|0;break}while(!1);A[o>>0]=0,i[t+16>>2]=0,i[t+20>>2]=0,A[t+169>>0]=0}else A[t+181>>0]=1,!h&&(C=+i[t+24>>2],l>C)&&(M=ee[t+168>>1]|0,(M&255)<<24>>24!=0|(M&65535)<256)&&(i[t+112>>2]=g+ +i[t+112>>2],i[t+116>>2]=S+ +i[t+116>>2],i[t+120>>2]=d+ +i[t+120>>2],o=e[t+176>>2]|0,A[19872]|0||(A[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),S=C+ +i[t+108>>2],s=S*+i[21192+(o<<4)+4>>2],C=S*+i[21192+(o<<4)+8>>2],i[t+112>>2]=+i[t+112>>2]-+i[21192+(o<<4)>>2]*S,i[t+116>>2]=+i[t+116>>2]-s,i[t+120>>2]=+i[t+120>>2]-C),e[t+92>>2]=e[t+112>>2],e[t+92+4>>2]=e[t+112+4>>2],e[t+92+8>>2]=e[t+112+8>>2],e[t+92+12>>2]=e[t+112+12>>2];e[w+48>>2]=e[t+92>>2],e[w+48+4>>2]=e[t+92+4>>2],e[w+48+8>>2]=e[t+92+8>>2],e[w+48+12>>2]=e[t+92+12>>2],M=e[t+8>>2]|0,e[M+284>>2]=(e[M+284>>2]|0)+1,e[M+4>>2]=e[w>>2],e[M+4+4>>2]=e[w+4>>2],e[M+4+8>>2]=e[w+8>>2],e[M+4+12>>2]=e[w+12>>2],e[M+20>>2]=e[w+16>>2],e[M+20+4>>2]=e[w+16+4>>2],e[M+20+8>>2]=e[w+16+8>>2],e[M+20+12>>2]=e[w+16+12>>2],e[M+36>>2]=e[w+32>>2],e[M+36+4>>2]=e[w+32+4>>2],e[M+36+8>>2]=e[w+32+8>>2],e[M+36+12>>2]=e[w+32+12>>2],e[M+52>>2]=e[w+48>>2],e[M+52+4>>2]=e[w+48+4>>2],e[M+52+8>>2]=e[w+48+8>>2],e[M+52+12>>2]=e[w+48+12>>2],H=w}function e0e(t){t=t|0,ye(t)}function t0e(t,n){return t=t|0,n=n|0,n=e[n+4>>2]|0,(ee[t+10>>1]&(n&65535))<<16>>16?(t=(n>>>16&65535&ee[t+8>>1])<<16>>16!=0,t|0):(t=0,t|0)}function i0e(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;return u=e[n>>2]|0,(u|0)==(e[t+80>>2]|0)||e[u+204>>2]&4|0||(l=+i[n+8>>2],a=+i[n+12>>2],o=+i[n+16>>2],s?(_=l,h=a):(_=+i[u+4>>2]*l+ +i[u+8>>2]*a+ +i[u+12>>2]*o,h=l*+i[u+20>>2]+a*+i[u+24>>2]+o*+i[u+28>>2],o=l*+i[u+36>>2]+a*+i[u+40>>2]+o*+i[u+44>>2]),_*+i[t+84>>2]+h*+i[t+88>>2]+o*+i[t+92>>2]<+i[t+100>>2])?(h=1,+h):(e[t+4>>2]=e[n+40>>2],e[t+76>>2]=u,s?(e[t+44>>2]=e[n+8>>2],e[t+44+4>>2]=e[n+8+4>>2],e[t+44+8>>2]=e[n+8+8>>2],e[t+44+12>>2]=e[n+8+12>>2]):(o=+i[n+8>>2],a=+i[n+12>>2],l=+i[n+16>>2],_=o*+i[u+20>>2]+a*+i[u+24>>2]+l*+i[u+28>>2],h=o*+i[u+36>>2]+a*+i[u+40>>2]+l*+i[u+44>>2],i[t+44>>2]=+i[u+4>>2]*o+ +i[u+8>>2]*a+ +i[u+12>>2]*l,i[t+48>>2]=_,i[t+52>>2]=h,i[t+56>>2]=0),e[t+60>>2]=e[n+24>>2],e[t+60+4>>2]=e[n+24+4>>2],e[t+60+8>>2]=e[n+24+8>>2],e[t+60+12>>2]=e[n+24+12>>2],h=+i[n+40>>2],+h)}function am(t,n,s,o,a){t=t|0,n=n|0,s=+s,o=+o,a=+a;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0;for(g=H,H=H+240|0,d=+i[t+96>>2]+o,m=+i[t+100>>2]+a,i[t+112>>2]=+i[t+92>>2]+s,i[t+116>>2]=d,i[t+120>>2]=m,i[t+124>>2]=0,e[g+168>>2]=1065353216,e[g+168+4>>2]=0,e[g+168+4+4>>2]=0,e[g+168+4+8>>2]=0,e[g+168+4+12>>2]=0,e[g+168+20>>2]=1065353216,e[g+168+24>>2]=0,e[g+168+24+4>>2]=0,e[g+168+24+8>>2]=0,e[g+168+24+12>>2]=0,e[g+168+40>>2]=1065353216,l=g+168+44|0,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,e[l+16>>2]=0,e[g+104>>2]=1065353216,e[g+104+4>>2]=0,e[g+104+4+4>>2]=0,e[g+104+4+8>>2]=0,e[g+104+4+12>>2]=0,e[g+104+20>>2]=1065353216,e[g+104+24>>2]=0,e[g+104+24+4>>2]=0,e[g+104+24+8>>2]=0,e[g+104+24+12>>2]=0,e[g+104+40>>2]=1065353216,l=g+104+44|0,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,e[l+16>>2]=0,m=1,l=10;;){if((l|0)<=0){l=14;break}if(l=l+-1|0,e[g+168+48>>2]=e[t+92>>2],e[g+168+48+4>>2]=e[t+92+4>>2],e[g+168+48+8>>2]=e[t+92+8>>2],e[g+168+48+12>>2]=e[t+92+12>>2],e[g+104+48>>2]=e[t+112>>2],e[g+104+48+4>>2]=e[t+112+4>>2],e[g+104+48+8>>2]=e[t+112+8>>2],e[g+104+48+12>>2]=e[t+112+12>>2],h=+i[t+92>>2]-+i[t+112>>2],d=+i[t+96>>2]-+i[t+116>>2],s=+i[t+100>>2]-+i[t+120>>2],S=e[t+8>>2]|0,i[g+4>>2]=1,ee[g+8>>1]=1,ee[g+10>>1]=-1,e[g+76>>2]=0,e[g+12>>2]=0,e[g+12+4>>2]=0,e[g+12+8>>2]=0,e[g+12+12>>2]=0,e[g+12+16>>2]=0,e[g+12+20>>2]=0,e[g+12+24>>2]=0,e[g+12+28>>2]=0,e[g>>2]=7108,e[g+80>>2]=S,i[g+84>>2]=h,i[g+88>>2]=d,i[g+92>>2]=s,i[g+96>>2]=0,i[g+100>>2]=0,S=e[(e[S+188>>2]|0)+4>>2]|0,ee[g+8>>1]=S,ee[g+10>>1]=S>>>16,S=e[t+12>>2]|0,s=+Tt[e[(e[S>>2]|0)+48>>2]&15](S),S=e[t+12>>2]|0,g2[e[(e[S>>2]|0)+44>>2]&31](S,s+ +i[t+56>>2]),A[t+170>>0]|0?sp(e[t+8>>2]|0,e[t+12>>2]|0,g+168|0,g+104|0,g,+i[n+56>>2]):u1(n,e[t+12>>2]|0,g+168|0,g+104|0,g,+i[n+56>>2]),S=e[t+12>>2]|0,g2[e[(e[S>>2]|0)+44>>2]&31](S,s),d=+i[g+4>>2],m=m-d,d<1){if(o=+i[t+112>>2],_=+i[t+92>>2],a=+i[t+116>>2],h=+i[t+96>>2],u=+i[t+120>>2],d=+i[t+100>>2],s=+at(+((o-_)*(o-_)+(a-h)*(a-h)+(u-d)*(u-d))),s>11920928955078125e-23&&(E=+i[g+44>>2],w=+i[g+48>>2],N=+i[g+52>>2],D=((o-_)*(1/s)*E+(a-h)*(1/s)*w+(u-d)*(1/s)*N)*2,M=(o-_)*(1/s)-E*D,C=(a-h)*(1/s)-w*D,D=(u-d)*(1/s)-N*D,u=1/+at(+(D*D+(M*M+C*C))),e[t+112>>2]=e[t+92>>2],e[t+112+4>>2]=e[t+92+4>>2],e[t+112+8>>2]=e[t+92+8>>2],e[t+112+12>>2]=e[t+92+12>>2],o=s*(u*M-E*(N*(u*D)+(E*(u*M)+w*(u*C))))+ +i[t+112>>2],i[t+112>>2]=o,a=s*(u*C-w*(N*(u*D)+(E*(u*M)+w*(u*C))))+ +i[t+116>>2],i[t+116>>2]=a,u=s*(u*D-N*(N*(u*D)+(E*(u*M)+w*(u*C))))+ +i[t+120>>2],i[t+120>>2]=u),s=a,a=o-_,o=s-h,s=u-d,!(a*a+o*o+s*s>11920928955078125e-23)){l=11;break}if(N=1/+at(+(a*a+o*o+s*s)),+i[t+76>>2]*(a*N)+o*N*+i[t+80>>2]+s*N*+i[t+84>>2]<=0){l=11;break}}else e[t+92>>2]=e[t+112>>2],e[t+92+4>>2]=e[t+112+4>>2],e[t+92+8>>2]=e[t+112+8>>2],e[t+92+12>>2]=e[t+112+12>>2];if(!(m>.009999999776482582)){l=14;break}}if((l|0)==11){H=g;return}else if((l|0)==14){H=g;return}}function n0e(t){return t=t|0,Ct[e[(e[t>>2]|0)+48>>2]&127](t)|0}function r0e(t){t=t|0,Ct[e[(e[t>>2]|0)+40>>2]&127](t)|0&&(e[t+16>>2]=e[t+28>>2],A[t+169>>0]=1)}function s0e(t){return t=t|0,+i[t+16>>2]!=0?(t=0,t|0):(t=+i[t+20>>2]==0,t|0)}function o0e(t,n){t=t|0,n=n|0,A[t+180>>0]=n&1}function a0e(t){t=t|0,e[t>>2]=7188}function c0e(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function l0e(t){t=t|0}function u0e(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=+a}function f0e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o}function p0e(t){return t=t|0,52}function _0e(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function h0e(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0;if(D=H,H=H+176|0,!(A[t+527>>0]|0)){H=D;return}if(i[t+36>>2]=0,i[t+520>>2]=0,i[t+516>>2]=0,e[t+576>>2]=0,e[t+576+4>>2]=0,e[t+576+8>>2]=0,e[t+576+12>>2]=0,A[t+524>>0]|0)n=t+32|0;else{for(n=e[t+28>>2]|0,u=+i[t+348>>2],_=+i[t+352>>2],C=+i[t+356>>2],M=u*+i[n+20>>2]+_*+i[n+24>>2]+C*+i[n+28>>2]+ +i[n+56>>2],l=e[t+32>>2]|0,h=+i[t+412>>2],d=+i[t+416>>2],w=+i[t+420>>2],m=+i[l+52>>2],s=+i[l+56>>2],E=h*+i[l+20>>2]+d*+i[l+24>>2]+w*+i[l+28>>2]+s,g=h*+i[l+36>>2]+d*+i[l+40>>2]+w*+i[l+44>>2]+ +i[l+60>>2],S=u*+i[n+4>>2]+_*+i[n+8>>2]+C*+i[n+12>>2]+ +i[n+52>>2],C=u*+i[n+36>>2]+_*+i[n+40>>2]+C*+i[n+44>>2]+ +i[n+60>>2],w=h*+i[l+4>>2]+d*+i[l+8>>2]+w*+i[l+12>>2]+m,(w-S)*(w-S)+(E-M)*(E-M)+(g-C)*(g-C)>11920928955078125e-23?(a=1/+at(+((w-S)*(w-S)+(E-M)*(E-M)+(g-C)*(g-C))),i[D+128>>2]=(w-S)*a,i[D+128+4>>2]=(E-M)*a,i[D+128+8>>2]=(g-C)*a,e[D+128+12>>2]=0,u=(g-C)*a,o=(E-M)*a,a=(w-S)*a):(e[D+128>>2]=1065353216,e[D+128+4>>2]=0,e[D+128+8>>2]=0,i[D+128+12>>2]=0,u=0,o=0,a=1),+ht(+u)>.7071067690849304?(B=u*u+o*o,N=1/+at(+B),h=-(N*u),u=N*o,d=-(u*a),_=a*h,o=B*N,a=u,u=0):(h=a*a+o*o,_=1/+at(+h),B=-(o*_),o=_*a,d=u*B,_=h*_,h=o,o=-(o*u),a=0,u=B),i[D+128+16>>2]=u,i[D+128+20>>2]=h,i[D+128+24>>2]=a,i[D+128+32>>2]=o,i[D+128+36>>2]=d,i[D+128+40>>2]=_,o=m,n=0;k=e[t+28>>2]|0,e[D+80>>2]=e[k+4>>2],e[D+80+4>>2]=e[k+20>>2],e[D+80+8>>2]=e[k+36>>2],i[D+80+12>>2]=0,e[D+80+16>>2]=e[k+8>>2],e[D+80+20>>2]=e[k+24>>2],e[D+80+24>>2]=e[k+40>>2],i[D+80+28>>2]=0,e[D+80+32>>2]=e[k+12>>2],e[D+80+36>>2]=e[k+28>>2],e[D+80+40>>2]=e[k+44>>2],i[D+80+44>>2]=0,e[D+32>>2]=e[l+4>>2],e[D+32+4>>2]=e[l+20>>2],e[D+32+8>>2]=e[l+36>>2],i[D+32+12>>2]=0,e[D+32+16>>2]=e[l+8>>2],e[D+32+20>>2]=e[l+24>>2],e[D+32+24>>2]=e[l+40>>2],i[D+32+28>>2]=0,e[D+32+32>>2]=e[l+12>>2],e[D+32+36>>2]=e[l+28>>2],e[D+32+40>>2]=e[l+44>>2],i[D+32+44>>2]=0,N=M-+i[k+56>>2],B=C-+i[k+60>>2],i[D+16>>2]=S-+i[k+52>>2],i[D+16+4>>2]=N,i[D+16+8>>2]=B,i[D+16+12>>2]=0,B=g-+i[l+60>>2],i[D>>2]=w-o,i[D+4>>2]=E-s,i[D+8>>2]=B,i[D+12>>2]=0,k=e[t+28>>2]|0,l=e[t+32>>2]|0,ip(t+48+(n*84|0)|0,D+80|0,D+32|0,D+16|0,D,D+128+(n<<4)|0,k+420|0,+i[k+368>>2],l+420|0,+i[l+368>>2]),n=n+1|0,(n|0)!=3;)k=e[t+32>>2]|0,l=k,o=+i[k+52>>2],s=+i[k+56>>2];n=t+32|0}l=e[t+28>>2]|0,k=e[n>>2]|0,bh(t,l+4|0,k+4|0,l+288|0,k+288|0),H=D}function ip(t,n,s,o,a,l,u,_,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=+_,h=h|0,d=+d;var m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0;e[t>>2]=e[l>>2],e[t+4>>2]=e[l+4>>2],e[t+8>>2]=e[l+8>>2],e[t+12>>2]=e[l+12>>2],E=+i[o+4>>2],B=+i[t+8>>2],k=+i[o+8>>2],C=+i[t+4>>2],m=+i[t>>2],M=+i[o>>2],N=(E*B-k*C)*+i[n>>2]+ +i[n+4>>2]*(k*m-B*M)+(C*M-E*m)*+i[n+8>>2],D=(E*B-k*C)*+i[n+16>>2]+(k*m-B*M)*+i[n+20>>2]+(C*M-E*m)*+i[n+24>>2],E=(E*B-k*C)*+i[n+32>>2]+(k*m-B*M)*+i[n+36>>2]+(C*M-E*m)*+i[n+40>>2],i[t+16>>2]=N,i[t+20>>2]=D,i[t+24>>2]=E,i[t+28>>2]=0,M=+i[a+4>>2],k=+i[a+8>>2],g=+i[a>>2],w=+i[s>>2]*(M*-B-k*-C)+ +i[s+4>>2]*(k*-m-g*-B)+(g*-C-M*-m)*+i[s+8>>2],S=(M*-B-k*-C)*+i[s+16>>2]+(k*-m-g*-B)*+i[s+20>>2]+(g*-C-M*-m)*+i[s+24>>2],m=(M*-B-k*-C)*+i[s+32>>2]+(k*-m-g*-B)*+i[s+36>>2]+(g*-C-M*-m)*+i[s+40>>2],i[t+32>>2]=w,i[t+36>>2]=S,i[t+40>>2]=m,i[t+44>>2]=0,N=+i[u>>2]*N,D=+i[u+4>>2]*D,E=+i[u+8>>2]*E,i[t+48>>2]=N,i[t+52>>2]=D,i[t+56>>2]=E,i[t+60>>2]=0,M=+i[h>>2]*w,C=+i[h+4>>2]*S,g=+i[h+8>>2]*m,i[t+64>>2]=M,i[t+68>>2]=C,i[t+72>>2]=g,i[t+76>>2]=0,i[t+80>>2]=N*+i[t+16>>2]+D*+i[t+20>>2]+E*+i[t+24>>2]+_+d+(M*w+C*S+g*m)}function bh(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,ot=0,mt=0,lt=0,pt=0,Nt=0,st=0,Te=0,kt=0,it=0;if(pt=H,H=H+144|0,i[t+504>>2]=0,i[t+500>>2]=0,A[t+525>>0]=0,A[t+526>>0]=0,A[t+552>>0]|0&&(A[t+527>>0]|0)==0){it=+i[t+556>>2],Te=+i[t+560>>2],lt=+i[t+564>>2],st=+i[t+568>>2],Se=it*(2/(it*it+Te*Te+lt*lt+st*st)),kt=Te*(2/(it*it+Te*Te+lt*lt+st*st)),Nt=lt*(2/(it*it+Te*Te+lt*lt+st*st)),ge=+i[t+300>>2],oe=+i[n>>2],ke=+i[t+316>>2],ae=+i[n+4>>2],Ae=+i[t+332>>2],xe=+i[n+8>>2],He=+i[t+304>>2],Ze=+i[t+320>>2],ot=+i[t+336>>2],Ce=+i[t+308>>2],we=+i[t+324>>2],be=+i[t+340>>2],ve=+i[n+16>>2],de=+i[n+20>>2],fe=+i[n+24>>2],Ke=+i[n+32>>2],ut=+i[n+36>>2],mt=+i[n+40>>2],D=+i[t+348>>2],E=+i[t+352>>2],M=+i[t+356>>2],F=+i[t+364>>2],h=+i[s>>2],L=+i[t+380>>2],d=+i[s+4>>2],U=+i[t+396>>2],_=+i[s+8>>2],V=+i[t+368>>2],O=+i[t+384>>2],z=+i[t+400>>2],N=+i[t+372>>2],B=+i[t+388>>2],k=+i[t+404>>2],g=+i[s+16>>2],S=+i[s+20>>2],u=+i[s+24>>2],Y=+i[s+32>>2],q=+i[s+36>>2],ne=+i[s+40>>2],$=+i[t+412>>2],X=+i[t+416>>2],l=+i[t+420>>2],te=(1-(Te*kt+lt*Nt))*(F*h+L*d+U*_)+(it*kt+st*Nt)*(h*V+d*O+_*z)+(it*Nt-st*kt)*(h*N+d*B+_*k),pe=(it*kt-st*Nt)*(F*h+L*d+U*_)+(1-(it*Se+lt*Nt))*(h*V+d*O+_*z)+(Te*Nt+st*Se)*(h*N+d*B+_*k),W=(it*Nt+st*kt)*(F*h+L*d+U*_)+(Te*Nt-st*Se)*(h*V+d*O+_*z)+(1-(it*Se+Te*kt))*(h*N+d*B+_*k),me=(it*Nt-st*kt)*(N*g+B*S+k*u)+((1-(Te*kt+lt*Nt))*(F*g+L*S+U*u)+(it*kt+st*Nt)*(V*g+O*S+z*u)),re=(Te*Nt+st*Se)*(N*g+B*S+k*u)+((it*kt-st*Nt)*(F*g+L*S+U*u)+(1-(it*Se+lt*Nt))*(V*g+O*S+z*u)),he=(1-(it*Se+Te*kt))*(N*g+B*S+k*u)+((it*Nt+st*kt)*(F*g+L*S+U*u)+(Te*Nt-st*Se)*(V*g+O*S+z*u)),qe=(it*Nt-st*kt)*(N*Y+B*q+k*ne)+((1-(Te*kt+lt*Nt))*(F*Y+L*q+U*ne)+(it*kt+st*Nt)*(V*Y+O*q+z*ne)),lt=(Te*Nt+st*Se)*(N*Y+B*q+k*ne)+((it*kt-st*Nt)*(F*Y+L*q+U*ne)+(1-(it*Se+lt*Nt))*(V*Y+O*q+z*ne)),Se=(1-(it*Se+Te*kt))*(N*Y+B*q+k*ne)+((it*Nt+st*kt)*(F*Y+L*q+U*ne)+(Te*Nt-st*Se)*(V*Y+O*q+z*ne)),st=-(+i[n+48>>2]+(oe*D+ae*E+xe*M)),Nt=-(ve*D+de*E+fe*M+ +i[n+52>>2]),M=-(Ke*D+ut*E+mt*M+ +i[n+56>>2]),E=(ge*oe+ke*ae+Ae*xe)*st+(ge*ve+ke*de+Ae*fe)*Nt+(ge*Ke+ke*ut+Ae*mt)*M,D=(oe*He+ae*Ze+xe*ot)*st+(He*ve+Ze*de+ot*fe)*Nt+(He*Ke+Ze*ut+ot*mt)*M,M=(oe*Ce+ae*we+xe*be)*st+(Ce*ve+we*de+be*fe)*Nt+(Ce*Ke+we*ut+be*mt)*M,_=M*W+(E*te+D*pe)+((F*h+L*d+U*_)*0+(h*V+d*O+_*z)*0+(h*N+d*B+_*k)*0+(+i[s+48>>2]+(h*$+d*X+_*l))),u=M*he+(E*me+D*re)+((N*g+B*S+k*u)*0+((F*g+L*S+U*u)*0+(V*g+O*S+z*u)*0)+(g*$+S*X+u*l+ +i[s+52>>2])),l=M*Se+(E*qe+D*lt)+((N*Y+B*q+k*ne)*0+((F*Y+L*q+U*ne)*0+(V*Y+O*q+z*ne)*0)+(Y*$+q*X+ne*l+ +i[s+56>>2])),i[pt+80>>2]=(oe*Ce+ae*we+xe*be)*W+((ge*oe+ke*ae+Ae*xe)*te+(oe*He+ae*Ze+xe*ot)*pe),i[pt+80+4>>2]=(Ce*ve+we*de+be*fe)*W+((ge*ve+ke*de+Ae*fe)*te+(He*ve+Ze*de+ot*fe)*pe),i[pt+80+8>>2]=(Ce*Ke+we*ut+be*mt)*W+((ge*Ke+ke*ut+Ae*mt)*te+(He*Ke+Ze*ut+ot*mt)*pe),i[pt+80+12>>2]=0,i[pt+80+16>>2]=(oe*Ce+ae*we+xe*be)*he+((ge*oe+ke*ae+Ae*xe)*me+(oe*He+ae*Ze+xe*ot)*re),i[pt+80+20>>2]=(Ce*ve+we*de+be*fe)*he+((ge*ve+ke*de+Ae*fe)*me+(He*ve+Ze*de+ot*fe)*re),i[pt+80+24>>2]=(Ce*Ke+we*ut+be*mt)*he+((ge*Ke+ke*ut+Ae*mt)*me+(He*Ke+Ze*ut+ot*mt)*re),i[pt+80+28>>2]=0,i[pt+80+32>>2]=(oe*Ce+ae*we+xe*be)*Se+((ge*oe+ke*ae+Ae*xe)*qe+(oe*He+ae*Ze+xe*ot)*lt),i[pt+80+36>>2]=(Ce*ve+we*de+be*fe)*Se+((ge*ve+ke*de+Ae*fe)*qe+(He*ve+Ze*de+ot*fe)*lt),i[pt+80+40>>2]=(Ce*Ke+we*ut+be*mt)*Se+((ge*Ke+ke*ut+Ae*mt)*qe+(He*Ke+Ze*ut+ot*mt)*lt),i[pt+80+44>>2]=0,i[pt+80+48>>2]=_,i[pt+80+52>>2]=u,i[pt+80+56>>2]=l,i[pt+80+60>>2]=0,xs(pt+80|0,pt+64|0),l=+i[pt+64>>2],u=+i[pt+64+4>>2],_=+i[pt+64+8>>2],!(+ht(+(l*l+u*u+_*_))<11920928955078125e-23)&&(i[t+472>>2]=0,it=1/+at(+(l*l+u*u+_*_)),i[t+460>>2]=l*it,i[t+464>>2]=u*it,i[t+468>>2]=_*it,it=+i[pt+64+12>>2],it=it<-1?-1:it,it=+V1(+(it>1?1:it))*2,i[t+504>>2]=it,!(+ht(+it)<11920928955078125e-23))&&(A[t+526>>0]=1),H=pt;return}xs(n,pt+48|0),xs(t+300|0,pt+32|0),xe=+i[pt+48+12>>2],ve=+i[pt+32>>2],de=+i[pt+48>>2],fe=+i[pt+32+12>>2],Ce=+i[pt+48+4>>2],we=+i[pt+32+8>>2],be=+i[pt+48+8>>2],Se=+i[pt+32+4>>2],xs(s,pt+16|0),xs(t+364|0,pt),ge=+i[pt+16+12>>2],ke=+i[pt>>2],Ae=+i[pt+16>>2],qe=+i[pt+12>>2],He=+i[pt+16+4>>2],Ke=+i[pt+8>>2],Ze=+i[pt+16+8>>2],ut=+i[pt+4>>2],ot=-(ge*ke+Ae*qe+He*Ke-Ze*ut),mt=-(ke*Ze+(qe*He+ge*ut)-Ae*Ke),lt=-(ge*Ke+qe*Ze+Ae*ut-ke*He),M=(xe*fe-ve*de-Ce*Se-we*be)*ot+(xe*ve+de*fe+Ce*we-be*Se)*(ge*qe-ke*Ae-He*ut-Ke*Ze)+(xe*we+fe*be+de*Se-ve*Ce)*mt-(ve*be+(fe*Ce+xe*Se)-de*we)*lt,E=(xe*ve+de*fe+Ce*we-be*Se)*lt+((ve*be+(fe*Ce+xe*Se)-de*we)*(ge*qe-ke*Ae-He*ut-Ke*Ze)+(xe*fe-ve*de-Ce*Se-we*be)*mt)-(xe*we+fe*be+de*Se-ve*Ce)*ot,D=(ve*be+(fe*Ce+xe*Se)-de*we)*ot+((xe*we+fe*be+de*Se-ve*Ce)*(ge*qe-ke*Ae-He*ut-Ke*Ze)+(xe*fe-ve*de-Ce*Se-we*be)*lt)-(xe*ve+de*fe+Ce*we-be*Se)*mt,N=(xe*fe-ve*de-Ce*Se-we*be)*(ge*qe-ke*Ae-He*ut-Ke*Ze)-(xe*ve+de*fe+Ce*we-be*Se)*ot-(ve*be+(fe*Ce+xe*Se)-de*we)*mt-(xe*we+fe*be+de*Se-ve*Ce)*lt,_=+i[5310],h=+i[5312],u=+i[5311],d=(_*D+u*N-h*M)*-D+(N*(_*N+h*E-u*D)+(-(_*M)-u*E-h*D)*-M)-(h*N+u*M-_*E)*-E,l=(h*N+u*M-_*E)*-M+(N*(_*D+u*N-h*M)+(-(_*M)-u*E-h*D)*-E)-(_*N+h*E-u*D)*-D,g=(_*N+h*E-u*D)*-E+(N*(h*N+u*M-_*E)+(-(_*M)-u*E-h*D)*-D)-(_*D+u*N-h*M)*-M,S=1/+at(+(g*g+(d*d+l*l)));do if(h*(S*g)+(u*(S*l)+_*(S*d))<-.9999998807907104)if(+ht(+h)>.7071067690849304){l=1/+at(+(h*h+u*u)),m=0,C=(i[Z>>2]=u*l,e[Z>>2]|0),w=0,l=-(h*l);break}else{l=1/+at(+(_*_+u*u)),m=(i[Z>>2]=-(u*l),e[Z>>2]|0),C=0,w=0,l=_*l;break}else it=+at(+((h*(S*g)+(u*(S*l)+_*(S*d))+1)*2)),m=(i[Z>>2]=(u*(S*g)-h*(S*l))*(1/it),e[Z>>2]|0),C=(i[Z>>2]=(_*(S*l)-u*(S*d))*(1/it),e[Z>>2]|0),w=(i[Z>>2]=it*.5,e[Z>>2]|0),l=(h*(S*d)-_*(S*g))*(1/it);while(!1);_=(e[Z>>2]=m,+i[Z>>2]),g=(e[Z>>2]=C,+i[Z>>2]),u=(e[Z>>2]=w,+i[Z>>2]),h=1/+at(+(_*_+l*l+g*g+u*u)),d=l*h,re=D*-d+(M*(u*h)+N*-(_*h))-E*-(g*h),oe=M*-(g*h)+(N*-d+E*(u*h))-D*-(_*h),ae=E*-(_*h)+(D*(u*h)+N*-(g*h))-M*-d,he=N*(u*h)-M*-(_*h)-E*-d-D*-(g*h),me=1/+at(+(he*he+(ae*ae+(re*re+oe*oe)))),M=+i[t+444>>2],l=+i[t+456>>2],m=(i[Z>>2]=M,e[Z>>2]|0),M>=l&&(B=+i[t+448>>2],B>=l)?(S=u*h<-1?-1:u*h,S=+V1(+(S>1?1:S))*2,S>11920928955078125e-23?(l=1/+at(+(g*h*(g*h)+(_*h*(_*h)+d*d))),+ht(+(d*l))>11920928955078125e-23?(it=+at(+((g*h*l*(g*h*l)/(d*l*(d*l))+1)/(1/(B*B)+g*h*l*(g*h*l)/(d*l*(d*l))/(M*M)))),_=_*h*l,u=g*h*l,l=d*l,m=(i[Z>>2]=it,e[Z>>2]|0)):(_=_*h*l,u=g*h*l,l=d*l)):(_=0,u=0,l=0,m=0),h=(e[Z>>2]=m,+i[Z>>2]),d=+i[t+428>>2],S>h*d&&(A[t+526>>0]=1,S<h&d<.9999998807907104?g=(S-h*d)/(h-h*d):g=1,i[t+528>>2]=g,i[t+504>>2]=S-h*d,+ht(+l)>11920928955078125e-23&&(it=+ht(+(l*(-u/l*(B/M)))),u=u<-0?it:-it,it=1/+at(+(_*_+l*l+u*u)),_=_*it,u=-(u*it),l=l*it),kt=-_,Te=-l,Nt=-u,pe=(ge*qe-ke*Ae-He*ut-Ke*Ze)*kt+(ke*Ze+(qe*He+ge*ut)-Ae*Ke)*Nt-(ge*Ke+qe*Ze+Ae*ut-ke*He)*Te,it=(ge*Ke+qe*Ze+Ae*ut-ke*He)*kt+(ge*qe-ke*Ae-He*ut-Ke*Ze)*Te-(ge*ke+Ae*qe+He*Ke-Ze*ut)*Nt,st=(ge*ke+Ae*qe+He*Ke-Ze*ut)*Te+(ge*qe-ke*Ae-He*ut-Ke*Ze)*Nt-(ke*Ze+(qe*He+ge*ut)-Ae*Ke)*kt,Nt=-((ge*ke+Ae*qe+He*Ke-Ze*ut)*kt)-(ke*Ze+(qe*He+ge*ut)-Ae*Ke)*Te-(ge*Ke+qe*Ze+Ae*ut-ke*He)*Nt,Te=it*lt+(Nt*ot+(ge*qe-ke*Ae-He*ut-Ke*Ze)*pe)-st*mt,kt=st*ot+((ge*qe-ke*Ae-He*ut-Ke*Ze)*it+Nt*mt)-pe*lt,it=pe*mt+(Nt*lt+(ge*qe-ke*Ae-He*ut-Ke*Ze)*st)-it*ot,i[t+460>>2]=Te,i[t+464>>2]=kt,i[t+468>>2]=it,i[t+472>>2]=0,e[t+536>>2]=0,e[t+536+4>>2]=0,e[t+536+8>>2]=0,e[t+536+12>>2]=0,i[t+492>>2]=1/(Te*(+i[o>>2]*Te+ +i[o+16>>2]*kt+ +i[o+32>>2]*it)+kt*(Te*+i[o+4>>2]+kt*+i[o+20>>2]+it*+i[o+36>>2])+it*(Te*+i[o+8>>2]+kt*+i[o+24>>2]+it*+i[o+40>>2])+(Te*(Te*+i[a>>2]+kt*+i[a+16>>2]+it*+i[a+32>>2])+kt*(Te*+i[a+4>>2]+kt*+i[a+20>>2]+it*+i[a+36>>2])+it*(Te*+i[a+8>>2]+kt*+i[a+24>>2]+it*+i[a+40>>2]))))):_e=23;e:do if((_e|0)==23){Y=+i[t+300>>2],$=+i[t+316>>2],q=+i[t+332>>2],S=+i[n>>2],M=+i[n+4>>2],E=+i[n+8>>2],D=+i[n+16>>2],N=+i[n+20>>2],B=+i[n+24>>2],X=+i[n+32>>2],ne=+i[n+36>>2],k=+i[n+40>>2],F=+i[t+304>>2],L=+i[t+320>>2],U=+i[t+336>>2],V=+i[t+308>>2],O=+i[t+324>>2],z=+i[t+340>>2],h=+i[t+364>>2],_=+i[t+380>>2],W=+i[t+396>>2],te=h*+i[s>>2]+_*+i[s+4>>2]+W*+i[s+8>>2],pe=h*+i[s+16>>2]+_*+i[s+20>>2]+W*+i[s+24>>2],W=h*+i[s+32>>2]+_*+i[s+36>>2]+W*+i[s+40>>2],_=(Y*S+$*M+q*E)*te+(Y*D+$*N+q*B)*pe+(Y*X+$*ne+q*k)*W,h=(S*F+M*L+E*U)*te+(D*F+N*L+B*U)*pe+(X*F+ne*L+k*U)*W,g=(S*V+M*O+E*z)*te+(D*V+N*O+B*z)*pe+(X*V+ne*O+k*z)*W,u=+i[t+444>>2],l=+i[t+456>>2];do if(u<l){if(d=+i[t+448>>2],d<l){if(+ht(+h)<11920928955078125e-23&&+ht(+g)<11920928955078125e-23)break e;A[t+526>>0]=1,i[t+460>>2]=-((Y*X+$*ne+q*k)*pe-(Y*D+$*N+q*B)*W),i[t+464>>2]=-((Y*S+$*M+q*E)*W-(Y*X+$*ne+q*k)*te),i[t+468>>2]=-((Y*D+$*N+q*B)*te-(Y*S+$*M+q*E)*pe),i[t+472>>2]=0;break e}if(+ht(+_)<11920928955078125e-23&&+ht(+g)<11920928955078125e-23){u=h,l=g;break}if(A[t+526>>0]=1,d>=l){if(l=+gn(+g,+_),l>d){_=+C2(+d),u=0,l=+N2(+d);break}l<-d?(_=+C2(+d),u=0,l=-+N2(+d)):(u=0,l=g)}else u=h,l=g}else{if(+ht(+_)<11920928955078125e-23&&+ht(+h)<11920928955078125e-23){u=h,l=g;break}if(A[t+526>>0]=1,u>=l){if(l=+gn(+h,+_),l>u){_=+C2(+u),u=+N2(+u),l=0;break}l<-u?(_=+C2(+u),u=-+N2(+u),l=0):(u=h,l=0)}else u=h,l=g}while(!1);d=(S*V+M*O+E*z)*l+((S*F+M*L+E*U)*u+(Y*S+$*M+q*E)*_),h=(D*V+N*O+B*z)*l+((D*F+N*L+B*U)*u+(Y*D+$*N+q*B)*_),l=(X*V+ne*O+k*z)*l+((X*F+ne*L+k*U)*u+(Y*X+$*ne+q*k)*_),u=1/+at(+(l*l+(d*d+h*h))),i[t+460>>2]=-(pe*(u*l)-W*(u*h)),i[t+464>>2]=-(W*(u*d)-te*(u*l)),i[t+468>>2]=-(te*(u*h)-pe*(u*d)),i[t+472>>2]=0,_=+at(+((pe*(u*l)-W*(u*h))*(pe*(u*l)-W*(u*h))+(W*(u*d)-te*(u*l))*(W*(u*d)-te*(u*l))+(te*(u*h)-pe*(u*d))*(te*(u*h)-pe*(u*d)))),i[t+504>>2]=_,+ht(+_)<11920928955078125e-23||(i[t+460>>2]=1/_*-(pe*(u*l)-W*(u*h)),i[t+464>>2]=1/_*-(W*(u*d)-te*(u*l)),i[t+468>>2]=1/_*-(te*(u*h)-pe*(u*d)))}while(!1);if(S=+i[t+452>>2],!(S>=0)){i[t+512>>2]=0,H=pt;return}if(l=me*he<-1?-1:me*he,l=+V1(+(l>1?1:l))*2,l>3.1415927410125732?(g=-(me*he)<-1?-1:-(me*he),g=+V1(+(g>1?1:g))*2,u=-(me*re),_=-(me*oe),l=-(me*ae)):(g=l,u=me*re,_=me*oe,l=me*ae),i[t+512>>2]=g,g>11920928955078125e-23?(it=1/+at(+(u*u+_*_+l*l)),d=u*it,h=l*it,_=_*it):(d=u,h=l),l=+i[t+428>>2],g>S*l&&(A[t+525>>0]=1,u=g-S*l,g<S&l<.9999998807907104?l=u/(S-S*l):l=1,i[t+532>>2]=l,i[t+508>>2]=u,kt=-d,Te=-_,Nt=-h,ae=(ge*qe-ke*Ae-He*ut-Ke*Ze)*kt+(ke*Ze+(qe*He+ge*ut)-Ae*Ke)*Nt-(ge*Ke+qe*Ze+Ae*ut-ke*He)*Te,it=(ge*Ke+qe*Ze+Ae*ut-ke*He)*kt+(ge*qe-ke*Ae-He*ut-Ke*Ze)*Te-(ge*ke+Ae*qe+He*Ke-Ze*ut)*Nt,st=(ge*ke+Ae*qe+He*Ke-Ze*ut)*Te+(ge*qe-ke*Ae-He*ut-Ke*Ze)*Nt-(ke*Ze+(qe*He+ge*ut)-Ae*Ke)*kt,Nt=-((ge*ke+Ae*qe+He*Ke-Ze*ut)*kt)-(ke*Ze+(qe*He+ge*ut)-Ae*Ke)*Te-(ge*Ke+qe*Ze+Ae*ut-ke*He)*Nt,Te=it*lt+(Nt*ot+(ge*qe-ke*Ae-He*ut-Ke*Ze)*ae)-st*mt,kt=st*ot+((ge*qe-ke*Ae-He*ut-Ke*Ze)*it+Nt*mt)-ae*lt,it=ae*mt+(Nt*lt+(ge*qe-ke*Ae-He*ut-Ke*Ze)*st)-it*ot,i[t+476>>2]=Te,i[t+480>>2]=kt,i[t+484>>2]=it,i[t+488>>2]=0,i[t+496>>2]=1/(Te*(+i[o>>2]*Te+ +i[o+16>>2]*kt+ +i[o+32>>2]*it)+kt*(Te*+i[o+4>>2]+kt*+i[o+20>>2]+it*+i[o+36>>2])+it*(Te*+i[o+8>>2]+kt*+i[o+24>>2]+it*+i[o+40>>2])+(Te*(Te*+i[a>>2]+kt*+i[a+16>>2]+it*+i[a+32>>2])+kt*(Te*+i[a+4>>2]+kt*+i[a+20>>2]+it*+i[a+36>>2])+it*(Te*+i[a+8>>2]+kt*+i[a+24>>2]+it*+i[a+40>>2])))),!(A[t+526>>0]|0)){H=pt;return}lt=-d,it=-_,Nt=-h,mt=(xe*fe-ve*de-Ce*Se-we*be)*lt+(ve*be+(fe*Ce+xe*Se)-de*we)*Nt-(xe*we+fe*be+de*Se-ve*Ce)*it,kt=(xe*we+fe*be+de*Se-ve*Ce)*lt+(xe*fe-ve*de-Ce*Se-we*be)*it-(xe*ve+de*fe+Ce*we-be*Se)*Nt,Te=(xe*ve+de*fe+Ce*we-be*Se)*it+(xe*fe-ve*de-Ce*Se-we*be)*Nt-(ve*be+(fe*Ce+xe*Se)-de*we)*lt,Nt=-((xe*ve+de*fe+Ce*we-be*Se)*lt)-(ve*be+(fe*Ce+xe*Se)-de*we)*it-(xe*we+fe*be+de*Se-ve*Ce)*Nt,it=-(xe*ve+de*fe+Ce*we-be*Se),lt=-(ve*be+(fe*Ce+xe*Se)-de*we),st=-(xe*we+fe*be+de*Se-ve*Ce),i[t+536>>2]=kt*st+(Nt*it+(xe*fe-ve*de-Ce*Se-we*be)*mt)-Te*lt,i[t+540>>2]=Te*it+((xe*fe-ve*de-Ce*Se-we*be)*kt+Nt*lt)-mt*st,i[t+544>>2]=mt*lt+(Nt*st+(xe*fe-ve*de-Ce*Se-we*be)*Te)-kt*it,i[t+548>>2]=0,H=pt}function d0e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;if(A[t+527>>0]|0){e[n>>2]=0,e[n+4>>2]=0;return}e[n>>2]=3,e[n+4>>2]=3,u=e[t+28>>2]|0,l=e[t+32>>2]|0,bh(t,u+4|0,l+4|0,u+288|0,l+288|0),A[t+526>>0]|0&&(s=e[n>>2]|0,e[n>>2]=s+1,o=e[n+4>>2]|0,e[n+4>>2]=o+-1,a=+i[t+456>>2],+i[t+444>>2]<a)&&+i[t+448>>2]<a&&(e[n>>2]=s+2,e[n+4>>2]=o+-2),A[t+525>>0]|0&&(e[n>>2]=(e[n>>2]|0)+1,e[n+4>>2]=(e[n+4>>2]|0)+-1)}function m0e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0;S=e[t+28>>2]|0,l=e[t+32>>2]|0,bh(t,S+4|0,l+4|0,S+288|0,l+288|0),w=e[n+8>>2]|0,i[w>>2]=1,C=e[n+24>>2]|0,i[w+(C+1<<2)>>2]=1,i[w+((C<<1)+2<<2)>>2]=1,d=+i[t+348>>2],N=+i[t+352>>2],g=+i[t+356>>2],E=+i[S+4>>2]*d+ +i[S+8>>2]*N+ +i[S+12>>2]*g,m=d*+i[S+20>>2]+N*+i[S+24>>2]+g*+i[S+28>>2],g=d*+i[S+36>>2]+N*+i[S+40>>2]+g*+i[S+44>>2],w=e[n+12>>2]|0,e[w>>2]=0,i[w+4>>2]=g,i[w+8>>2]=-m,i[w+12>>2]=0,i[w+(C<<2)>>2]=-g,e[w+(C<<2)+4>>2]=0,i[w+(C<<2)+8>>2]=E,i[w+(C<<2)+12>>2]=0,i[w+(C<<1<<2)>>2]=m,i[w+(C<<1<<2)+4>>2]=-E,e[w+(C<<1<<2)+8>>2]=0,i[w+(C<<1<<2)+12>>2]=0,w=e[n+16>>2]|0,i[w>>2]=-1,i[w+(C+1<<2)>>2]=-1,i[w+((C<<1)+2<<2)>>2]=-1,N=+i[t+412>>2],d=+i[t+416>>2],h=+i[t+420>>2],D=+i[l+4>>2]*N+ +i[l+8>>2]*d+ +i[l+12>>2]*h,_=N*+i[l+20>>2]+d*+i[l+24>>2]+h*+i[l+28>>2],h=N*+i[l+36>>2]+d*+i[l+40>>2]+h*+i[l+44>>2],C=e[n+20>>2]|0,w=e[n+24>>2]|0,e[C>>2]=0,i[C+4>>2]=-h,i[C+8>>2]=_,i[C+12>>2]=0,i[C+(w<<2)>>2]=h,e[C+(w<<2)+4>>2]=0,i[C+(w<<2)+8>>2]=-D,i[C+(w<<2)+12>>2]=0,i[C+(w<<1<<2)>>2]=-_,i[C+(w<<1<<2)+4>>2]=D,e[C+(w<<1<<2)+8>>2]=0,i[C+(w<<1<<2)+12>>2]=0,w=e[t+592>>2]|0,d=+i[((w&2|0)==0?n+4|0:t+600|0)>>2]*+i[n>>2],M=e[n+24>>2]|0,u=e[n+28>>2]|0,o=e[n+36>>2]|0,s=e[n+40>>2]|0,i[u>>2]=d*(D+ +i[l+52>>2]-E-+i[S+52>>2]),i[o>>2]=-34028234663852886e22,i[s>>2]=34028234663852886e22,w&1?(B=e[n+32>>2]|0,e[B>>2]=e[t+596>>2],i[u+(M<<2)>>2]=d*(_+ +i[l+56>>2]-m-+i[S+56>>2]),i[o+(M<<2)>>2]=-34028234663852886e22,i[s+(M<<2)>>2]=34028234663852886e22,e[B+(M<<2)>>2]=e[t+596>>2],i[u+(M<<1<<2)>>2]=d*(h+ +i[l+60>>2]-g-+i[S+60>>2]),i[o+(M<<1<<2)>>2]=-34028234663852886e22,i[s+(M<<1<<2)>>2]=34028234663852886e22,e[B+(M<<1<<2)>>2]=e[t+596>>2]):(i[u+(M<<2)>>2]=d*(_+ +i[l+56>>2]-m-+i[S+56>>2]),i[o+(M<<2)>>2]=-34028234663852886e22,i[s+(M<<2)>>2]=34028234663852886e22,i[u+(M<<1<<2)>>2]=d*(h+ +i[l+60>>2]-g-+i[S+60>>2]),i[o+(M<<1<<2)>>2]=-34028234663852886e22,i[s+(M<<1<<2)>>2]=34028234663852886e22);do if(!(A[t+526>>0]|0))l=M*3|0;else{if(l=e[n+12>>2]|0,N=+i[t+456>>2],+i[t+444>>2]<N&&+i[t+448>>2]<N){L=+i[S+4>>2],F=+i[S+8>>2],k=+i[S+12>>2],z=+i[t+304>>2],O=+i[t+320>>2],V=+i[t+336>>2],d=+i[t+308>>2],g=+i[t+324>>2],D=+i[t+340>>2],a=+i[S+20>>2],_=+i[S+24>>2],h=+i[S+28>>2],m=+i[S+36>>2],E=+i[S+40>>2],N=+i[S+44>>2],i[l+(M*3<<2)>>2]=L*z+F*O+k*V,i[l+((M*3|0)+1<<2)>>2]=z*a+O*_+V*h,i[l+((M*3|0)+2<<2)>>2]=z*m+O*E+V*N,i[l+(M<<2<<2)>>2]=L*d+F*g+k*D,i[l+((M<<2|1)<<2)>>2]=d*a+g*_+D*h,i[l+((M<<2|2)<<2)>>2]=d*m+g*E+D*N,i[C+(M*3<<2)>>2]=-(L*z+F*O+k*V),i[C+((M*3|0)+1<<2)>>2]=-(z*a+O*_+V*h),i[C+((M*3|0)+2<<2)>>2]=-(z*m+O*E+V*N),i[C+(M<<2<<2)>>2]=-(L*d+F*g+k*D),i[C+((M<<2|1)<<2)>>2]=-(d*a+g*_+D*h),i[C+((M<<2|2)<<2)>>2]=-(d*m+g*E+D*N),U=+i[n>>2]*+i[t+436>>2],u=e[n+28>>2]|0,i[u+(M*3<<2)>>2]=U*((L*z+F*O+k*V)*+i[t+460>>2]+(z*a+O*_+V*h)*+i[t+464>>2]+(z*m+O*E+V*N)*+i[t+468>>2]),i[u+(M<<2<<2)>>2]=U*((L*d+F*g+k*D)*+i[t+460>>2]+(d*a+g*_+D*h)*+i[t+464>>2]+(d*m+g*E+D*N)*+i[t+468>>2]),o=e[n+36>>2]|0,i[o+(M*3<<2)>>2]=-34028234663852886e22,s=e[n+40>>2]|0,i[s+(M*3<<2)>>2]=34028234663852886e22,i[o+(M<<2<<2)>>2]=-34028234663852886e22,i[s+(M<<2<<2)>>2]=34028234663852886e22,l=(e[n+24>>2]|0)+(M<<2)|0;break}z=+i[t+436>>2],V=z*(+i[t+460>>2]*z),O=z*(z*+i[t+464>>2]),z=z*(z*+i[t+468>>2]),i[l+(M*3<<2)>>2]=V,i[l+((M*3|0)+1<<2)>>2]=O,i[l+((M*3|0)+2<<2)>>2]=z,i[C+(M*3<<2)>>2]=-V,i[C+((M*3|0)+1<<2)>>2]=-O,i[C+((M*3|0)+2<<2)>>2]=-z,i[u+(M*3<<2)>>2]=+i[n>>2]*+i[t+432>>2]*+i[t+504>>2],w&4|0&&(e[(e[n+32>>2]|0)+(M*3<<2)>>2]=e[t+604>>2]),i[o+(M*3<<2)>>2]=0,(A[t+552>>0]|0)!=0&&(a=+i[t+572>>2],a>=0)||(a=34028234663852886e22),i[s+(M*3<<2)>>2]=a,l=M<<2}while(!1);if(A[t+525>>0]|0){if(z=+i[t+436>>2],V=z*(+i[t+476>>2]*z),O=z*(z*+i[t+480>>2]),z=z*(z*+i[t+484>>2]),C=e[n+12>>2]|0,M=e[n+20>>2]|0,i[C+(l<<2)>>2]=V,w=l+1|0,i[C+(w<<2)>>2]=O,B=l+2|0,i[C+(B<<2)>>2]=z,i[M+(l<<2)>>2]=-V,i[M+(w<<2)>>2]=-O,i[M+(B<<2)>>2]=-z,i[u+(l<<2)>>2]=+i[n>>2]*+i[t+432>>2]*+i[t+508>>2],e[t+592>>2]&4|0&&(e[(e[n+32>>2]|0)+(l<<2)>>2]=e[t+604>>2]),!(+i[t+452>>2]>0)){i[o+(l<<2)>>2]=-34028234663852886e22,i[s+(l<<2)>>2]=34028234663852886e22;return}if(o=o+(l<<2)|0,s=e[n+40>>2]|0,+i[t+508>>2]>0){i[o>>2]=0,i[s+(l<<2)>>2]=34028234663852886e22;return}else{i[o>>2]=-34028234663852886e22,i[s+(l<<2)>>2]=0;return}}}function g0e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0;if(he=H,H=H+448|0,!(A[t+527>>0]|0)){H=he;return}if(_e=e[t+28>>2]|0,B=+i[t+348>>2],N=+i[t+352>>2],O=+i[t+356>>2],k=+i[_e+52>>2],F=B*+i[_e+4>>2]+N*+i[_e+8>>2]+O*+i[_e+12>>2]+k,L=+i[_e+56>>2],U=B*+i[_e+20>>2]+N*+i[_e+24>>2]+O*+i[_e+28>>2]+L,V=+i[_e+60>>2],O=B*+i[_e+36>>2]+N*+i[_e+40>>2]+O*+i[_e+44>>2]+V,_e=e[t+32>>2]|0,N=+i[t+412>>2],B=+i[t+416>>2],_=+i[t+420>>2],z=+i[_e+52>>2],Y=N*+i[_e+4>>2]+B*+i[_e+8>>2]+_*+i[_e+12>>2]+z,$=+i[_e+56>>2],q=N*+i[_e+20>>2]+B*+i[_e+24>>2]+_*+i[_e+28>>2]+$,u=+i[_e+60>>2],_=N*+i[_e+36>>2]+B*+i[_e+40>>2]+_*+i[_e+44>>2]+u,!(A[t+524>>0]|0)){E=+i[n+192>>2]+ +i[n+80>>2],N=+i[n+196>>2]+ +i[n+84>>2],S=+i[n+200>>2]+ +i[n+88>>2],B=+i[s+192>>2]+ +i[s+80>>2],g=+i[s+196>>2]+ +i[s+84>>2],d=+i[s+200>>2]+ +i[s+88>>2],h=+i[n+176>>2]+ +i[n+64>>2]+((O-V)*N-(U-L)*S)-(+i[s+176>>2]+ +i[s+64>>2]+((_-u)*g-(q-$)*d)),d=+i[n+180>>2]+ +i[n+68>>2]+((F-k)*S-(O-V)*E)-(+i[s+180>>2]+ +i[s+68>>2]+((Y-z)*d-(_-u)*B)),g=+i[n+184>>2]+ +i[n+72>>2]+((U-L)*E-(F-k)*N)-(+i[s+184>>2]+ +i[s+72>>2]+((q-$)*B-(Y-z)*g)),m=(e[n+240>>2]|0)==0,D=0;do B=1/+i[t+48+(D*84|0)+80>>2],C=t+48+(D*84|0)|0,N=+i[C>>2],w=t+48+(D*84|0)+4|0,E=+i[w>>2],M=t+48+(D*84|0)+8|0,S=+i[M>>2],S=B*(((F-Y)*N+(U-q)*E+(O-_)*S)*-.30000001192092896/o)-B*(h*N+d*E+g*S),i[t+36>>2]=+i[t+36>>2]+S,E=+i[M>>2],N=+i[w>>2],B=+i[C>>2],a=e[t+28>>2]|0,l=+i[a+368>>2],m||(oe=((U-L)*E-(O-V)*N)*+i[a+320>>2]+((O-V)*B-(F-k)*E)*+i[a+324>>2]+((F-k)*N-(U-L)*B)*+i[a+328>>2],me=((U-L)*E-(O-V)*N)*+i[a+304>>2]+((O-V)*B-(F-k)*E)*+i[a+308>>2]+((F-k)*N-(U-L)*B)*+i[a+312>>2],re=((U-L)*E-(O-V)*N)*+i[a+288>>2]+((O-V)*B-(F-k)*E)*+i[a+292>>2]+((F-k)*N-(U-L)*B)*+i[a+296>>2],xe=S*(N*l)*+i[n+116>>2],ae=S*(E*l)*+i[n+120>>2],i[n+64>>2]=S*(B*l)*+i[n+112>>2]+ +i[n+64>>2],i[n+68>>2]=xe+ +i[n+68>>2],i[n+72>>2]=ae+ +i[n+72>>2],me=me*(S*+i[n+100>>2]),l=oe*(S*+i[n+104>>2]),i[n+80>>2]=re*(S*+i[n+96>>2])+ +i[n+80>>2],i[n+84>>2]=me+ +i[n+84>>2],i[n+88>>2]=l+ +i[n+88>>2]),a=e[t+32>>2]|0,l=+i[a+368>>2],e[s+240>>2]|0&&(xe=((q-$)*E-(_-u)*N)*+i[a+320>>2]+((_-u)*B-(Y-z)*E)*+i[a+324>>2]+((Y-z)*N-(q-$)*B)*+i[a+328>>2],ae=((q-$)*E-(_-u)*N)*+i[a+304>>2]+((_-u)*B-(Y-z)*E)*+i[a+308>>2]+((Y-z)*N-(q-$)*B)*+i[a+312>>2],oe=((q-$)*E-(_-u)*N)*+i[a+288>>2]+((_-u)*B-(Y-z)*E)*+i[a+292>>2]+((Y-z)*N-(q-$)*B)*+i[a+296>>2],me=l*+i[w>>2]*-S*+i[s+116>>2],re=l*+i[M>>2]*-S*+i[s+120>>2],i[s+64>>2]=+i[s+112>>2]*(l*+i[C>>2]*-S)+ +i[s+64>>2],i[s+68>>2]=me+ +i[s+68>>2],i[s+72>>2]=re+ +i[s+72>>2],ae=ae*(+i[s+100>>2]*-S),xe=xe*(+i[s+104>>2]*-S),i[s+80>>2]=oe*(+i[s+96>>2]*-S)+ +i[s+80>>2],i[s+84>>2]=ae+ +i[s+84>>2],i[s+88>>2]=xe+ +i[s+88>>2]),D=D+1|0;while((D|0)!=3)}do if(A[t+552>>0]|0)pe=e[t+28>>2]|0,e[he+352>>2]=e[pe+4>>2],e[he+352+4>>2]=e[pe+4+4>>2],e[he+352+8>>2]=e[pe+4+8>>2],e[he+352+12>>2]=e[pe+4+12>>2],e[he+352+16>>2]=e[pe+20>>2],e[he+352+16+4>>2]=e[pe+20+4>>2],e[he+352+16+8>>2]=e[pe+20+8>>2],e[he+352+16+12>>2]=e[pe+20+12>>2],e[he+352+32>>2]=e[pe+36>>2],e[he+352+32+4>>2]=e[pe+36+4>>2],e[he+352+32+8>>2]=e[pe+36+8>>2],e[he+352+32+12>>2]=e[pe+36+12>>2],e[he+352+48>>2]=e[pe+52>>2],e[he+352+48+4>>2]=e[pe+52+4>>2],e[he+352+48+8>>2]=e[pe+52+8>>2],e[he+352+48+12>>2]=e[pe+52+12>>2],pe=e[t+32>>2]|0,e[he+288>>2]=e[pe+4>>2],e[he+288+4>>2]=e[pe+4+4>>2],e[he+288+8>>2]=e[pe+4+8>>2],e[he+288+12>>2]=e[pe+4+12>>2],e[he+288+16>>2]=e[pe+20>>2],e[he+288+16+4>>2]=e[pe+20+4>>2],e[he+288+16+8>>2]=e[pe+20+8>>2],e[he+288+16+12>>2]=e[pe+20+12>>2],e[he+288+32>>2]=e[pe+36>>2],e[he+288+32+4>>2]=e[pe+36+4>>2],e[he+288+32+8>>2]=e[pe+36+8>>2],e[he+288+32+12>>2]=e[pe+36+12>>2],e[he+288+48>>2]=e[pe+52>>2],e[he+288+48+4>>2]=e[pe+52+4>>2],e[he+288+48+8>>2]=e[pe+52+8>>2],e[he+288+48+12>>2]=e[pe+52+12>>2],oe=+i[n+196>>2]+ +i[n+84>>2],E=+i[n+200>>2]+ +i[n+88>>2],i[he+272>>2]=+i[n+192>>2]+ +i[n+80>>2],i[he+272+4>>2]=oe,i[he+272+8>>2]=E,i[he+272+12>>2]=0,E=+i[s+196>>2]+ +i[s+84>>2],oe=+i[s+200>>2]+ +i[s+88>>2],i[he+256>>2]=+i[s+192>>2]+ +i[s+80>>2],i[he+256+4>>2]=E,i[he+256+8>>2]=oe,i[he+256+12>>2]=0,e[he+192>>2]=1065353216,pe=he+192+4|0,e[pe>>2]=0,e[pe+4>>2]=0,e[pe+8>>2]=0,e[pe+12>>2]=0,e[he+192+20>>2]=1065353216,_e=he+192+24|0,e[_e>>2]=0,e[_e+4>>2]=0,e[_e+8>>2]=0,e[_e+12>>2]=0,e[he+192+40>>2]=1065353216,W=he+192+44|0,e[W>>2]=0,e[W+4>>2]=0,e[W+8>>2]=0,e[W+12>>2]=0,e[W+16>>2]=0,oo(he+352|0,0,0,0,he+272|0,o,he+192|0),e[he+128>>2]=1065353216,W=he+128+4|0,e[W>>2]=0,e[W+4>>2]=0,e[W+8>>2]=0,e[W+12>>2]=0,e[he+128+20>>2]=1065353216,te=he+128+24|0,e[te>>2]=0,e[te+4>>2]=0,e[te+8>>2]=0,e[te+12>>2]=0,e[he+128+40>>2]=1065353216,ne=he+128+44|0,e[ne>>2]=0,e[ne+4>>2]=0,e[ne+8>>2]=0,e[ne+12>>2]=0,e[ne+16>>2]=0,oo(he+288|0,0,0,0,he+256|0,o,he+128|0),oe=+i[t+556>>2],E=+i[t+560>>2],ae=+i[t+564>>2],N=+i[t+568>>2],Y=oe*(2/(oe*oe+E*E+ae*ae+N*N)),L=E*(2/(oe*oe+E*E+ae*ae+N*N)),$=ae*(2/(oe*oe+E*E+ae*ae+N*N)),de=+i[t+364>>2],ve=+i[t+368>>2],we=+i[t+372>>2],u=we*(oe*$-N*L)+(ve*(oe*L+N*$)+de*(1-(E*L+ae*$))),_=we*(E*$+N*Y)+(de*(oe*L-N*$)+ve*(1-(oe*Y+ae*$))),h=de*(oe*$+N*L)+ve*(E*$-N*Y)+we*(1-(oe*Y+E*L)),l=+i[t+380>>2],z=+i[t+384>>2],U=+i[t+388>>2],d=(oe*$-N*L)*U+(z*(oe*L+N*$)+l*(1-(E*L+ae*$))),g=(E*$+N*Y)*U+(l*(oe*L-N*$)+z*(1-(oe*Y+ae*$))),S=l*(oe*$+N*L)+z*(E*$-N*Y)+U*(1-(oe*Y+E*L)),me=+i[t+396>>2],V=+i[t+400>>2],F=+i[t+404>>2],re=(1-(E*L+ae*$))*me+(oe*L+N*$)*V+(oe*$-N*L)*F,ae=(oe*L-N*$)*me+(1-(oe*Y+ae*$))*V+(E*$+N*Y)*F,L=(oe*$+N*L)*me+(E*$-N*Y)*V+(1-(oe*Y+E*L))*F,E=+i[t+300>>2],Y=+i[t+316>>2],oe=+i[t+332>>2],N=+i[t+304>>2],$=+i[t+320>>2],xe=+i[t+336>>2],O=+i[t+308>>2],q=+i[t+324>>2],k=+i[t+340>>2],B=-+i[t+348>>2],ge=-+i[t+352>>2],Ce=-+i[t+356>>2],we=de*0+ve*0+we*0+ +i[t+412>>2]+(h*(O*B+q*ge+k*Ce)+(u*(E*B+Y*ge+oe*Ce)+_*(N*B+$*ge+xe*Ce))),U=l*0+z*0+U*0+ +i[t+416>>2]+(S*(O*B+q*ge+k*Ce)+(d*(E*B+Y*ge+oe*Ce)+g*(N*B+$*ge+xe*Ce))),Ce=me*0+V*0+F*0+ +i[t+420>>2]+(L*(O*B+q*ge+k*Ce)+(re*(E*B+Y*ge+oe*Ce)+ae*(N*B+$*ge+xe*Ce))),ge=+i[he+128>>2],B=+i[W>>2],F=+i[he+128+8>>2],V=+i[he+128+16>>2],me=+i[he+128+20>>2],z=+i[te>>2],l=+i[he+128+32>>2],ve=+i[he+128+36>>2],de=+i[he+128+40>>2],fe=F*Ce+(ge*we+B*U)+ +i[he+128+48>>2],be=V*we+U*me+Ce*z+ +i[he+128+52>>2],Se=we*l+U*ve+Ce*de+ +i[he+128+56>>2],i[he+64>>2]=(u*E+_*N+h*O)*ge+(d*E+g*N+S*O)*B+(re*E+ae*N+L*O)*F,i[he+64+4>>2]=(u*Y+_*$+h*q)*ge+(d*Y+g*$+S*q)*B+(re*Y+ae*$+L*q)*F,i[he+64+8>>2]=(u*oe+_*xe+h*k)*ge+(d*oe+g*xe+S*k)*B+(re*oe+ae*xe+L*k)*F,i[he+64+12>>2]=0,i[he+64+16>>2]=(u*E+_*N+h*O)*V+(d*E+g*N+S*O)*me+(re*E+ae*N+L*O)*z,i[he+64+20>>2]=(u*Y+_*$+h*q)*V+(d*Y+g*$+S*q)*me+(re*Y+ae*$+L*q)*z,i[he+64+24>>2]=(u*oe+_*xe+h*k)*V+(d*oe+g*xe+S*k)*me+(re*oe+ae*xe+L*k)*z,i[he+64+28>>2]=0,i[he+64+32>>2]=(u*E+_*N+h*O)*l+(d*E+g*N+S*O)*ve+(re*E+ae*N+L*O)*de,i[he+64+36>>2]=(u*Y+_*$+h*q)*l+(d*Y+g*$+S*q)*ve+(re*Y+ae*$+L*q)*de,i[he+64+40>>2]=(u*oe+_*xe+h*k)*l+(d*oe+g*xe+S*k)*ve+(re*oe+ae*xe+L*k)*de,i[he+64+44>>2]=0,i[he+64+48>>2]=fe,i[he+64+52>>2]=be,i[he+64+56>>2]=Se,i[he+64+60>>2]=0,Se=(re*E+ae*N+L*O)*-Ce+((u*E+_*N+h*O)*-we+(d*E+g*N+S*O)*-U),be=(re*Y+ae*$+L*q)*-Ce+((u*Y+_*$+h*q)*-we+(d*Y+g*$+S*q)*-U),U=(re*oe+ae*xe+L*k)*-Ce+((u*oe+_*xe+h*k)*-we+(d*oe+g*xe+S*k)*-U),we=+i[he+192>>2],Ce=+i[pe>>2],fe=+i[he+192+8>>2],de=+i[he+192+16>>2],ve=+i[he+192+20>>2],l=+i[_e>>2],z=+i[he+192+32>>2],me=+i[he+192+36>>2],V=+i[he+192+40>>2],F=Se*we+be*Ce+U*fe+ +i[he+192+48>>2],B=Se*de+be*ve+U*l+ +i[he+192+52>>2],U=Se*z+be*me+U*V+ +i[he+192+56>>2],i[he>>2]=(u*E+_*N+h*O)*we+(u*Y+_*$+h*q)*Ce+(u*oe+_*xe+h*k)*fe,i[he+4>>2]=(d*E+g*N+S*O)*we+(d*Y+g*$+S*q)*Ce+(d*oe+g*xe+S*k)*fe,i[he+8>>2]=(re*E+ae*N+L*O)*we+(re*Y+ae*$+L*q)*Ce+(re*oe+ae*xe+L*k)*fe,i[he+12>>2]=0,i[he+16>>2]=(u*E+_*N+h*O)*de+(u*Y+_*$+h*q)*ve+(u*oe+_*xe+h*k)*l,i[he+20>>2]=(d*E+g*N+S*O)*de+(d*Y+g*$+S*q)*ve+(d*oe+g*xe+S*k)*l,i[he+24>>2]=(re*E+ae*N+L*O)*de+(re*Y+ae*$+L*q)*ve+(re*oe+ae*xe+L*k)*l,i[he+28>>2]=0,i[he+32>>2]=(u*E+_*N+h*O)*z+(u*Y+_*$+h*q)*me+(u*oe+_*xe+h*k)*V,i[he+36>>2]=(d*E+g*N+S*O)*z+(d*Y+g*$+S*q)*me+(d*oe+g*xe+S*k)*V,i[he+40>>2]=(re*E+ae*N+L*O)*z+(re*Y+ae*$+L*q)*me+(re*oe+ae*xe+L*k)*V,i[he+44>>2]=0,i[he+48>>2]=F,i[he+52>>2]=B,i[he+56>>2]=U,i[he+60>>2]=0,Ea(he+352|0,he+64|0,he+424|0,he+416|0),U=+i[he+416>>2],B=1/o*(+i[he+424>>2]*U),F=1/o*(U*+i[he+424+4>>2]),U=1/o*(U*+i[he+424+8>>2]),Ea(he+288|0,he,he+424|0,he+416|0),V=+i[he+416>>2],B=B-+i[he+272>>2],F=F-+i[he+272+4>>2],U=U-+i[he+272+8>>2],k=1/o*(+i[he+424>>2]*V)-+i[he+256>>2],L=1/o*(V*+i[he+424+4>>2])-+i[he+256+4>>2],V=1/o*(V*+i[he+424+8>>2])-+i[he+256+8>>2],B*B+F*F+U*U>11920928955078125e-23?(S=1/+at(+(B*B+F*F+U*U)),_e=e[t+28>>2]|0,l=B*S,_=F*S,d=U*S,S=B*S*(+i[_e+288>>2]*(B*S)+F*S*+i[_e+304>>2]+U*S*+i[_e+320>>2])+F*S*(B*S*+i[_e+292>>2]+F*S*+i[_e+308>>2]+U*S*+i[_e+324>>2])+U*S*(B*S*+i[_e+296>>2]+F*S*+i[_e+312>>2]+U*S*+i[_e+328>>2])):(l=0,_=0,d=0,S=0),k*k+L*L+V*V>11920928955078125e-23?(E=1/+at(+(k*k+L*L+V*V)),_e=e[t+32>>2]|0,u=k*E,h=L*E,g=V*E,E=k*E*(+i[_e+288>>2]*(k*E)+L*E*+i[_e+304>>2]+V*E*+i[_e+320>>2])+L*E*(k*E*+i[_e+292>>2]+L*E*+i[_e+308>>2]+V*E*+i[_e+324>>2])+V*E*(k*E*+i[_e+296>>2]+L*E*+i[_e+312>>2]+V*E*+i[_e+328>>2])):(u=0,h=0,g=0,E=0),N=S*l+E*u,u=S*_+E*h,l=S*d+E*g,N*N+u*u+l*l>11920928955078125e-23&&(d=1/+at(+(N*N+u*u+l*l)),m=e[t+28>>2]|0,_=N*d*(+i[m+288>>2]*(N*d)+u*d*+i[m+304>>2]+l*d*+i[m+320>>2])+u*d*(N*d*+i[m+292>>2]+u*d*+i[m+308>>2]+l*d*+i[m+324>>2])+l*d*(N*d*+i[m+296>>2]+u*d*+i[m+312>>2]+l*d*+i[m+328>>2]),a=e[t+32>>2]|0,d=N*d*(N*d*+i[a+288>>2]+u*d*+i[a+304>>2]+l*d*+i[a+320>>2])+u*d*(N*d*+i[a+292>>2]+u*d*+i[a+308>>2]+l*d*+i[a+324>>2])+l*d*(N*d*+i[a+296>>2]+u*d*+i[a+312>>2]+l*d*+i[a+328>>2]),u=(B*_-k*d)*(1/((_+d)*(_+d))),E=(F*_-L*d)*(1/((_+d)*(_+d))),d=(U*_-V*d)*(1/((_+d)*(_+d))),l=+i[t+572>>2],l>=0?(_=(A[t+553>>0]|0)==0?l:l/_,h=+i[t+576>>2],g=+i[t+580>>2],S=+i[t+584>>2],l=+at(+((u+h)*(u+h)+(E+g)*(E+g)+(d+S)*(d+S))),l>_?(u=_*((u+h)*(1/l))-h,d=_*((d+S)*(1/l))-S,l=_*((E+g)*(1/l))-g):l=E,i[t+576>>2]=u+h,i[t+580>>2]=l+g,i[t+584>>2]=d+S):l=E,h=+at(+(u*u+l*l+d*d)),_=u*(1/h),u=l*(1/h),l=d*(1/h),e[n+240>>2]|0&&(ge=_*+i[m+320>>2]+u*+i[m+324>>2]+l*+i[m+328>>2],Se=_*+i[m+304>>2]+u*+i[m+308>>2]+l*+i[m+312>>2],be=_*+i[m+288>>2]+u*+i[m+292>>2]+l*+i[m+296>>2],Ce=h*0*+i[n+116>>2],we=h*0*+i[n+120>>2],i[n+64>>2]=h*0*+i[n+112>>2]+ +i[n+64>>2],i[n+68>>2]=Ce+ +i[n+68>>2],i[n+72>>2]=we+ +i[n+72>>2],Se=Se*(h*+i[n+100>>2]),ge=ge*(h*+i[n+104>>2]),i[n+80>>2]=be*(h*+i[n+96>>2])+ +i[n+80>>2],i[n+84>>2]=Se+ +i[n+84>>2],i[n+88>>2]=ge+ +i[n+88>>2],a=e[t+32>>2]|0),e[s+240>>2]|0&&(ge=_*+i[a+320>>2]+u*+i[a+324>>2]+l*+i[a+328>>2],Se=_*+i[a+304>>2]+u*+i[a+308>>2]+l*+i[a+312>>2],be=_*+i[a+288>>2]+u*+i[a+292>>2]+l*+i[a+296>>2],Ce=h*-0*+i[s+116>>2],we=h*-0*+i[s+120>>2],i[s+64>>2]=h*-0*+i[s+112>>2]+ +i[s+64>>2],i[s+68>>2]=Ce+ +i[s+68>>2],i[s+72>>2]=we+ +i[s+72>>2],Se=Se*(+i[s+100>>2]*-h),ge=ge*(+i[s+104>>2]*-h),i[s+80>>2]=be*(+i[s+96>>2]*-h)+ +i[s+80>>2],i[s+84>>2]=Se+ +i[s+84>>2],i[s+88>>2]=ge+ +i[s+88>>2])),X=n+80|0,m=n+196|0,ne=n+84|0,C=n+200|0,W=n+88|0,w=s+192|0,te=s+80|0,M=s+196|0,pe=s+84|0,D=s+200|0,_e=s+88|0,a=n+192|0;else{if(l=+i[t+440>>2],!(l>11920928955078125e-23)){X=n+80|0,m=n+196|0,ne=n+84|0,C=n+200|0,W=n+88|0,w=s+192|0,te=s+80|0,M=s+196|0,pe=s+84|0,D=s+200|0,_e=s+88|0,a=n+192|0;break}u=+i[s+192>>2]+ +i[s+80>>2]-(+i[n+192>>2]+ +i[n+80>>2]),_=+i[s+196>>2]+ +i[s+84>>2]-(+i[n+196>>2]+ +i[n+84>>2]),h=+i[s+200>>2]+ +i[s+88>>2]-(+i[n+200>>2]+ +i[n+88>>2]),u*u+_*_+h*h>11920928955078125e-23?(V=1/+at(+(u*u+_*_+h*h)),a=e[t+28>>2]|0,g=+i[a+288>>2],S=+i[a+304>>2],E=+i[a+320>>2],N=+i[a+292>>2],B=+i[a+308>>2],k=+i[a+324>>2],F=+i[a+296>>2],L=+i[a+312>>2],U=+i[a+328>>2],a=e[t+32>>2]|0,l=l*(1/(u*V*(g*(u*V)+_*V*S+h*V*E)+_*V*(u*V*N+_*V*B+h*V*k)+h*V*(u*V*F+_*V*L+h*V*U)+(u*V*(u*V*+i[a+288>>2]+_*V*+i[a+304>>2]+h*V*+i[a+320>>2])+_*V*(u*V*+i[a+292>>2]+_*V*+i[a+308>>2]+h*V*+i[a+324>>2])+h*V*(u*V*+i[a+296>>2]+_*V*+i[a+312>>2]+h*V*+i[a+328>>2])))),V=+at(+(h*l*(h*l)+(u*l*(u*l)+_*l*(_*l)))),d=1/V*(u*l),u=1/V*(_*l),l=1/V*(h*l),e[n+240>>2]|0&&(xe=V*0*+i[n+116>>2],ae=V*0*+i[n+120>>2],i[n+64>>2]=V*0*+i[n+112>>2]+ +i[n+64>>2],i[n+68>>2]=xe+ +i[n+68>>2],i[n+72>>2]=ae+ +i[n+72>>2],ae=(d*S+u*B+l*L)*(V*+i[n+100>>2]),xe=(d*E+u*k+l*U)*(V*+i[n+104>>2]),i[n+80>>2]=(d*g+u*N+l*F)*(V*+i[n+96>>2])+ +i[n+80>>2],i[n+84>>2]=ae+ +i[n+84>>2],i[n+88>>2]=xe+ +i[n+88>>2],a=e[t+32>>2]|0),e[s+240>>2]|0?(xe=d*+i[a+320>>2]+u*+i[a+324>>2]+l*+i[a+328>>2],ae=d*+i[a+304>>2]+u*+i[a+308>>2]+l*+i[a+312>>2],oe=d*+i[a+288>>2]+u*+i[a+292>>2]+l*+i[a+296>>2],me=V*-0*+i[s+116>>2],re=V*-0*+i[s+120>>2],i[s+64>>2]=V*-0*+i[s+112>>2]+ +i[s+64>>2],i[s+68>>2]=me+ +i[s+68>>2],i[s+72>>2]=re+ +i[s+72>>2],ae=ae*(+i[s+100>>2]*-V),xe=xe*(+i[s+104>>2]*-V),i[s+80>>2]=oe*(+i[s+96>>2]*-V)+ +i[s+80>>2],i[s+84>>2]=ae+ +i[s+84>>2],i[s+88>>2]=xe+ +i[s+88>>2],X=n+80|0,m=n+196|0,ne=n+84|0,C=n+200|0,W=n+88|0,w=s+192|0,te=s+80|0,M=s+196|0,pe=s+84|0,D=s+200|0,_e=s+88|0,a=n+192|0):(X=n+80|0,m=n+196|0,ne=n+84|0,C=n+200|0,W=n+88|0,w=s+192|0,te=s+80|0,M=s+196|0,pe=s+84|0,D=s+200|0,_e=s+88|0,a=n+192|0)):(X=n+80|0,m=n+196|0,ne=n+84|0,C=n+200|0,W=n+88|0,w=s+192|0,te=s+80|0,M=s+196|0,pe=s+84|0,D=s+200|0,_e=s+88|0,a=n+192|0)}while(!1);if(F=+i[a>>2]+ +i[X>>2],k=+i[m>>2]+ +i[ne>>2],B=+i[C>>2]+ +i[W>>2],N=+i[w>>2]+ +i[te>>2],E=+i[M>>2]+ +i[pe>>2],S=+i[D>>2]+ +i[_e>>2],A[t+526>>0]|0&&(u=+i[t+528>>2],l=u*+i[t+504>>2]*+i[t+432>>2]/o,_=+i[t+460>>2],h=+i[t+464>>2],d=+i[t+468>>2],(N-F)*_+(E-k)*h+(S-B)*d>0&&(l=l+u*((N-F)*_+(E-k)*h+(S-B)*d)*+i[t+436>>2]),Se=+i[t+516>>2],be=Se+l*+i[t+492>>2],be=be>0?be:0,i[t+516>>2]=be,we=+i[t+536>>2],u=+i[t+540>>2],ge=+i[t+544>>2],l=_*(be-Se)*we+h*(be-Se)*u+(be-Se)*d*ge,g=+at(+(((be-Se)*d-ge*l)*((be-Se)*d-ge*l)+((_*(be-Se)-we*l)*(_*(be-Se)-we*l)+(h*(be-Se)-u*l)*(h*(be-Se)-u*l)))),_=1/g*(_*(be-Se)-we*l),u=1/g*(h*(be-Se)-u*l),l=1/g*((be-Se)*d-ge*l),a=e[t+28>>2]|0,e[n+240>>2]|0&&(ge=_*+i[a+320>>2]+u*+i[a+324>>2]+l*+i[a+328>>2],Se=_*+i[a+304>>2]+u*+i[a+308>>2]+l*+i[a+312>>2],be=_*+i[a+288>>2]+u*+i[a+292>>2]+l*+i[a+296>>2],Ce=g*0*+i[n+116>>2],we=g*0*+i[n+120>>2],i[n+64>>2]=g*0*+i[n+112>>2]+ +i[n+64>>2],i[n+68>>2]=Ce+ +i[n+68>>2],i[n+72>>2]=we+ +i[n+72>>2],Se=Se*(g*+i[n+100>>2]),ge=ge*(g*+i[n+104>>2]),i[X>>2]=be*(g*+i[n+96>>2])+ +i[X>>2],i[ne>>2]=Se+ +i[ne>>2],i[W>>2]=ge+ +i[W>>2]),a=e[t+32>>2]|0,e[s+240>>2]|0&&(ge=_*+i[a+320>>2]+u*+i[a+324>>2]+l*+i[a+328>>2],Se=_*+i[a+304>>2]+u*+i[a+308>>2]+l*+i[a+312>>2],be=_*+i[a+288>>2]+u*+i[a+292>>2]+l*+i[a+296>>2],Ce=g*-0*+i[s+116>>2],we=g*-0*+i[s+120>>2],i[s+64>>2]=g*-0*+i[s+112>>2]+ +i[s+64>>2],i[s+68>>2]=Ce+ +i[s+68>>2],i[s+72>>2]=we+ +i[s+72>>2],Se=Se*(+i[s+100>>2]*-g),ge=ge*(+i[s+104>>2]*-g),i[te>>2]=be*(+i[s+96>>2]*-g)+ +i[te>>2],i[pe>>2]=Se+ +i[pe>>2],i[_e>>2]=ge+ +i[_e>>2])),!(A[t+525>>0]|0)){H=he;return}if(d=+i[t+532>>2],h=d*+i[t+508>>2]*+i[t+432>>2]/o,_=+i[t+476>>2],u=+i[t+480>>2],l=+i[t+484>>2],(N-F)*_+(E-k)*u+(S-B)*l>0&&(h=h+d*((N-F)*_+(E-k)*u+(S-B)*l)*+i[t+436>>2]),d=+i[t+520>>2],h=d+h*+i[t+496>>2],h=h>0?h:0,i[t+520>>2]=h,a=e[t+28>>2]|0,e[n+240>>2]|0&&(ge=_*+i[a+320>>2]+u*+i[a+324>>2]+l*+i[a+328>>2],Se=_*+i[a+304>>2]+u*+i[a+308>>2]+l*+i[a+312>>2],l=_*+i[a+288>>2]+u*+i[a+292>>2]+l*+i[a+296>>2],_=(h-d)*0*+i[n+116>>2],u=(h-d)*0*+i[n+120>>2],i[n+64>>2]=(h-d)*0*+i[n+112>>2]+ +i[n+64>>2],i[n+68>>2]=_+ +i[n+68>>2],i[n+72>>2]=u+ +i[n+72>>2],u=Se*((h-d)*+i[n+100>>2]),_=ge*((h-d)*+i[n+104>>2]),i[X>>2]=l*((h-d)*+i[n+96>>2])+ +i[X>>2],i[ne>>2]=u+ +i[ne>>2],i[W>>2]=_+ +i[W>>2],_=+i[t+476>>2],u=+i[t+480>>2],l=+i[t+484>>2]),a=e[t+32>>2]|0,!(e[s+240>>2]|0)){H=he;return}ge=_*+i[a+320>>2]+u*+i[a+324>>2]+l*+i[a+328>>2],Se=_*+i[a+304>>2]+u*+i[a+308>>2]+l*+i[a+312>>2],be=_*+i[a+288>>2]+u*+i[a+292>>2]+l*+i[a+296>>2],Ce=(h-d)*-0*+i[s+116>>2],we=(h-d)*-0*+i[s+120>>2],i[s+64>>2]=(h-d)*-0*+i[s+112>>2]+ +i[s+64>>2],i[s+68>>2]=Ce+ +i[s+68>>2],i[s+72>>2]=we+ +i[s+72>>2],Se=Se*(+i[s+100>>2]*-(h-d)),ge=ge*(+i[s+104>>2]*-(h-d)),i[te>>2]=be*(+i[s+96>>2]*-(h-d))+ +i[te>>2],i[pe>>2]=Se+ +i[pe>>2],i[_e>>2]=ge+ +i[_e>>2],H=he}function x0e(t,n,s,o){switch(t=t|0,n=n|0,s=+s,o=o|0,n|0){case 2:case 1:if(o>>>0<3){i[t+600>>2]=s,e[t+592>>2]=e[t+592>>2]|2;return}else{i[t+432>>2]=s;return}case 4:case 3:if(o>>>0<3){i[t+596>>2]=s,e[t+592>>2]=e[t+592>>2]|1;return}else{i[t+604>>2]=s,e[t+592>>2]=e[t+592>>2]|4;return}default:return}}function y0e(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;e:do switch(n|0){case 2:case 1:{if(s>>>0<3){o=+i[t+600>>2];break e}(s+-3|0)>>>0<3?o=+i[t+432>>2]:o=0;break}case 4:case 3:{if(s>>>0<3){o=+i[t+596>>2];break e}(s+-3|0)>>>0<3?o=+i[t+604>>2]:o=0;break}default:o=0}while(!1);return+o}function v0e(t){return t=t|0,212}function S0e(t,n,s){return t=t|0,n=n|0,s=s|0,Ra(t,n,s)|0,e[n+52>>2]=e[t+300>>2],e[n+56>>2]=e[t+304>>2],e[n+60>>2]=e[t+308>>2],e[n+64>>2]=e[t+312>>2],e[n+68>>2]=e[t+316>>2],e[n+72>>2]=e[t+320>>2],e[n+76>>2]=e[t+324>>2],e[n+80>>2]=e[t+328>>2],e[n+84>>2]=e[t+332>>2],e[n+88>>2]=e[t+336>>2],e[n+92>>2]=e[t+340>>2],e[n+96>>2]=e[t+344>>2],e[n+100>>2]=e[t+348>>2],e[n+104>>2]=e[t+352>>2],e[n+108>>2]=e[t+356>>2],e[n+112>>2]=e[t+360>>2],e[n+116>>2]=e[t+364>>2],e[n+120>>2]=e[t+368>>2],e[n+124>>2]=e[t+372>>2],e[n+128>>2]=e[t+376>>2],e[n+132>>2]=e[t+380>>2],e[n+136>>2]=e[t+384>>2],e[n+140>>2]=e[t+388>>2],e[n+144>>2]=e[t+392>>2],e[n+148>>2]=e[t+396>>2],e[n+152>>2]=e[t+400>>2],e[n+156>>2]=e[t+404>>2],e[n+160>>2]=e[t+408>>2],e[n+164>>2]=e[t+412>>2],e[n+168>>2]=e[t+416>>2],e[n+172>>2]=e[t+420>>2],e[n+176>>2]=e[t+424>>2],e[n+180>>2]=e[t+444>>2],e[n+184>>2]=e[t+448>>2],e[n+188>>2]=e[t+452>>2],e[n+192>>2]=e[t+428>>2],e[n+196>>2]=e[t+432>>2],e[n+200>>2]=e[t+436>>2],e[n+204>>2]=e[t+440>>2],15142}function T0e(t,n,s){t=t|0,n=n|0,s=s|0,e[t+300>>2]=e[n>>2],e[t+300+4>>2]=e[n+4>>2],e[t+300+8>>2]=e[n+8>>2],e[t+300+12>>2]=e[n+12>>2],e[t+316>>2]=e[n+16>>2],e[t+316+4>>2]=e[n+16+4>>2],e[t+316+8>>2]=e[n+16+8>>2],e[t+316+12>>2]=e[n+16+12>>2],e[t+332>>2]=e[n+32>>2],e[t+332+4>>2]=e[n+32+4>>2],e[t+332+8>>2]=e[n+32+8>>2],e[t+332+12>>2]=e[n+32+12>>2],e[t+348>>2]=e[n+48>>2],e[t+348+4>>2]=e[n+48+4>>2],e[t+348+8>>2]=e[n+48+8>>2],e[t+348+12>>2]=e[n+48+12>>2],e[t+364>>2]=e[s>>2],e[t+364+4>>2]=e[s+4>>2],e[t+364+8>>2]=e[s+8>>2],e[t+364+12>>2]=e[s+12>>2],e[t+380>>2]=e[s+16>>2],e[t+380+4>>2]=e[s+16+4>>2],e[t+380+8>>2]=e[s+16+8>>2],e[t+380+12>>2]=e[s+16+12>>2],e[t+396>>2]=e[s+32>>2],e[t+396+4>>2]=e[s+32+4>>2],e[t+396+8>>2]=e[s+32+8>>2],e[t+396+12>>2]=e[s+32+12>>2],e[t+412>>2]=e[s+48>>2],e[t+412+4>>2]=e[s+48+4>>2],e[t+412+8>>2]=e[s+48+8>>2],e[t+412+12>>2]=e[s+48+12>>2],Vt[e[(e[t>>2]|0)+8>>2]&255](t)}function C0e(){e[5310]=1065353216,e[5311]=0,e[5312]=0,i[5313]=0}function cm(t,n,s,o){t=t|0,n=n|0,s=+s,o=+o;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0;_=+C2(+s),u=+N2(+s),a=e[n+444>>2]|0,h=+ht(+_)>11920928955078125e-23,s=(e[Z>>2]=a,+i[Z>>2]),h?(d=+i[n+448>>2],d=+at(+((u*u/(_*_)+1)/(1/(d*d)+u*u/(_*_)/(s*s)))),s=u*u,l=_*_,a=(i[Z>>2]=d,e[Z>>2]|0)):(s=u*u,l=_*_),d=+at(+(l+0+s)),m=(e[Z>>2]=a,+i[Z>>2]*.5),d=+N2(+m)/d,m=+C2(+m),g=m*o+_*d*0-u*d*-0,l=m*0-u*d*o-d*0*0,s=m*0+d*0*0-_*d*o,o=-(d*0*o)-_*d*0-u*d*-0,i[t>>2]=u*d*l+(m*g+o*-(d*0))-s*-(_*d),i[t+4>>2]=s*-(d*0)+(m*l+o*-(_*d))-u*d*g,i[t+8>>2]=g*-(_*d)+(u*d*o+m*s)-l*-(d*0),i[t+12>>2]=0}function lm(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0;e[t+556>>2]=e[n>>2],e[t+556+4>>2]=e[n+4>>2],e[t+556+8>>2]=e[n+8>>2],e[t+556+12>>2]=e[n+12>>2],M=+i[t+568>>2],_=+i[5310],E=+i[t+560>>2],a=+i[5312],C=+i[t+564>>2],u=+i[5311],w=+i[t+556>>2],h=(_*C+M*u-a*w)*-C+(M*(M*_+E*a-C*u)+(-(_*w)-E*u-a*C)*-w)-(M*a+u*w-_*E)*-E,d=(M*a+u*w-_*E)*-w+(M*(_*C+M*u-a*w)+(-(_*w)-E*u-a*C)*-E)-(M*_+E*a-C*u)*-C,s=(M*_+E*a-C*u)*-E+((-(_*w)-E*u-a*C)*-C+M*(M*a+u*w-_*E))-(_*C+M*u-a*w)*-w;do if(a*s+(u*d+_*h)<-.9999998807907104)if(+ht(+a)>.7071067690849304){s=1/+at(+(a*a+u*u)),o=0,a=-(a*s),n=(i[Z>>2]=u*s,e[Z>>2]|0),s=0;break}else{a=1/+at(+(_*_+u*u)),o=(i[Z>>2]=-(u*a),e[Z>>2]|0),a=_*a,n=0,s=0;break}else O=+at(+((a*s+(u*d+_*h)+1)*2)),o=(i[Z>>2]=(u*s-a*d)*(1/O),e[Z>>2]|0),a=(a*h-_*s)*(1/O),n=(i[Z>>2]=(_*d-u*h)*(1/O),e[Z>>2]|0),s=O*.5;while(!1);_=(e[Z>>2]=o,+i[Z>>2]),d=(e[Z>>2]=n,+i[Z>>2]),D=1/+at(+(s*s+(_*_+a*a+d*d))),g=(i[Z>>2]=_*D,e[Z>>2]|0),k=a*D,B=(i[Z>>2]=d*D,e[Z>>2]|0),s=s*D,N=(i[Z>>2]=s,e[Z>>2]|0),U=w*s+M*-(_*D)+C*-k-E*-(d*D),V=w*-(d*D)+(M*-k+s*E)-C*-(_*D),O=M*-(d*D)+s*C+E*-(_*D)-w*-k,C=s*M-w*-(_*D)-E*-k-C*-(d*D),w=1/+at(+(C*C+(O*O+(U*U+V*V)))),l=(i[Z>>2]=U*w,e[Z>>2]|0),n=(i[Z>>2]=w*V,e[Z>>2]|0),o=(i[Z>>2]=w*O,e[Z>>2]|0),a=+i[t+444>>2],m=(i[Z>>2]=a,e[Z>>2]|0),a>=.05000000074505806&&(L=+i[t+448>>2],L>=.05000000074505806)?(s=s<-1?-1:s,s=+V1(+(s>1?1:s))*2,s>11920928955078125e-23?(u=1/+at(+(d*D*(d*D)+(_*D*(_*D)+k*k))),+ht(+(k*u))>11920928955078125e-23?(L=+at(+((d*D*u*(d*D*u)/(k*u*(k*u))+1)/(1/(L*L)+d*D*u*(d*D*u)/(k*u*(k*u))/(a*a)))),_=_*D*u,h=k*u,u=d*D*u,m=(i[Z>>2]=L,e[Z>>2]|0)):(_=_*D*u,h=k*u,u=d*D*u)):(_=0,h=0,u=0,m=0),+ht(+s)>11920928955078125e-23?(a=(e[Z>>2]=m,+i[Z>>2]),s>a?s=a:s<-a&&(s=-a),L=s*.5,k=+N2(+L)/+at(+(_*_+h*h+u*u)),L=+C2(+L),F=(i[Z>>2]=_*k,e[Z>>2]|0),B=(i[Z>>2]=u*k,e[Z>>2]|0),k=h*k,N=(i[Z>>2]=L,e[Z>>2]|0)):F=g):F=g,s=+i[t+452>>2],s>=.05000000074505806?(a=w*C<-1?-1:w*C,a=+V1(+(a>1?1:a))*2,a>3.1415927410125732?(S=(i[Z>>2]=-(U*w),e[Z>>2]|0),g=(i[Z>>2]=-(w*V),e[Z>>2]|0),a=-(w*C)<-1?-1:-(w*C),m=(i[Z>>2]=-(w*O),e[Z>>2]|0),a=+V1(+(a>1?1:a))*2):(S=l,g=n,m=o),u=(e[Z>>2]=S,+i[Z>>2]),_=(e[Z>>2]=g,+i[Z>>2]),h=(e[Z>>2]=m,+i[Z>>2]),a>11920928955078125e-23&&(O=1/+at(+(u*u+_*_+h*h)),S=(i[Z>>2]=u*O,e[Z>>2]|0),g=(i[Z>>2]=_*O,e[Z>>2]|0),m=(i[Z>>2]=h*O,e[Z>>2]|0)),+ht(+a)>11920928955078125e-23?(a>s||(a<-s?s=-s:s=a),L=(e[Z>>2]=S,+i[Z>>2]),U=(e[Z>>2]=g,+i[Z>>2]),V=(e[Z>>2]=m,+i[Z>>2]),s=s*.5,O=+N2(+s)/+at(+(V*V+(U*U+L*L))),s=+C2(+s),l=(i[Z>>2]=L*O,e[Z>>2]|0),n=(i[Z>>2]=U*O,e[Z>>2]|0),o=(i[Z>>2]=V*O,e[Z>>2]|0)):s=w*C):s=w*C,E=(e[Z>>2]=N,+i[Z>>2]),L=(e[Z>>2]=l,+i[Z>>2]),D=(e[Z>>2]=F,+i[Z>>2]),O=(e[Z>>2]=o,+i[Z>>2]),V=(e[Z>>2]=B,+i[Z>>2]),U=(e[Z>>2]=n,+i[Z>>2]),i[t+556>>2]=k*O+(E*L+D*s)-V*U,i[t+560>>2]=V*L+(E*U+k*s)-D*O,i[t+564>>2]=D*U+(E*O+V*s)-k*L,i[t+568>>2]=E*s-D*L-k*U-V*O}function H1(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;o=+i[t+368>>2],o!=0&&(u=+i[t+372>>2],h=+i[t+376>>2],d=+i[t+380>>2],m=o*(+i[n+4>>2]*h),l=o*(+i[n+8>>2]*d),i[t+336>>2]=o*(+i[n>>2]*u)+ +i[t+336>>2],i[t+340>>2]=m+ +i[t+340>>2],i[t+344>>2]=l+ +i[t+344>>2],u=+i[n>>2]*u,h=+i[n+4>>2]*h,d=+i[n+8>>2]*d,l=+i[s+4>>2],m=+i[s+8>>2],_=+i[s>>2],a=((l*d-h*m)*+i[t+304>>2]+(u*m-d*_)*+i[t+308>>2]+(h*_-u*l)*+i[t+312>>2])*+i[t+572>>2],o=((l*d-h*m)*+i[t+320>>2]+(u*m-d*_)*+i[t+324>>2]+(h*_-u*l)*+i[t+328>>2])*+i[t+576>>2],i[t+352>>2]=(+i[t+288>>2]*(l*d-h*m)+ +i[t+292>>2]*(u*m-d*_)+(h*_-u*l)*+i[t+296>>2])*+i[t+568>>2]+ +i[t+352>>2],i[t+356>>2]=a+ +i[t+356>>2],i[t+360>>2]=o+ +i[t+360>>2])}function w0e(t){t=t|0}function M0e(t){return t=t|0,644}function R0e(t,n,s){t=t|0,n=n|0,s=s|0,Ra(t,n,s)|0,e[n+52>>2]=e[t+48>>2],e[n+56>>2]=e[t+52>>2],e[n+60>>2]=e[t+56>>2],e[n+64>>2]=e[t+60>>2],e[n+68>>2]=e[t+64>>2],e[n+72>>2]=e[t+68>>2],e[n+76>>2]=e[t+72>>2],e[n+80>>2]=e[t+76>>2],e[n+84>>2]=e[t+80>>2],e[n+88>>2]=e[t+84>>2],e[n+92>>2]=e[t+88>>2],e[n+96>>2]=e[t+92>>2],e[n+100>>2]=e[t+96>>2],e[n+104>>2]=e[t+100>>2],e[n+108>>2]=e[t+104>>2],e[n+112>>2]=e[t+108>>2],e[n+116>>2]=e[t+112>>2],e[n+120>>2]=e[t+116>>2],e[n+124>>2]=e[t+120>>2],e[n+128>>2]=e[t+124>>2],e[n+132>>2]=e[t+128>>2],e[n+136>>2]=e[t+132>>2],e[n+140>>2]=e[t+136>>2],e[n+144>>2]=e[t+140>>2],e[n+148>>2]=e[t+144>>2],e[n+152>>2]=e[t+148>>2],e[n+156>>2]=e[t+152>>2],e[n+160>>2]=e[t+156>>2],e[n+164>>2]=e[t+160>>2],e[n+168>>2]=e[t+164>>2],e[n+172>>2]=e[t+168>>2],e[n+176>>2]=e[t+172>>2],s=0;do e[n+428+(s<<2)>>2]=e[t+968+(s*88|0)>>2],e[n+412+(s<<2)>>2]=e[t+968+(s*88|0)+4>>2],e[n+444+(s<<2)>>2]=e[t+968+(s*88|0)+8>>2],e[n+460+(s<<2)>>2]=e[t+968+(s*88|0)+12>>2],e[n+476+(s<<2)>>2]=e[t+968+(s*88|0)+16>>2],e[n+492+(s<<2)>>2]=e[t+968+(s*88|0)+20>>2],e[n+508+(s<<2)>>2]=e[t+968+(s*88|0)+24>>2],e[n+524+(s<<2)>>2]=e[t+968+(s*88|0)+32>>2],e[n+540+(s<<2)>>2]=e[t+968+(s*88|0)+36>>2],e[n+556+(s<<2)>>2]=e[t+968+(s*88|0)+44>>2],e[n+572+(s<<2)>>2]=e[t+968+(s*88|0)+52>>2],e[n+588+(s<<2)>>2]=e[t+968+(s*88|0)+60>>2],e[n+604+(s<<2)>>2]=e[t+968+(s*88|0)+68>>2],s=s+1|0;while((s|0)!=3);return i[n+440>>2]=0,i[n+424>>2]=0,i[n+456>>2]=0,i[n+472>>2]=0,i[n+488>>2]=0,i[n+504>>2]=0,i[n+520>>2]=0,i[n+536>>2]=0,i[n+552>>2]=0,i[n+568>>2]=0,i[n+584>>2]=0,i[n+600>>2]=0,i[n+616>>2]=0,A[n+620>>0]=A[t+996>>0]|0,A[n+624>>0]=A[t+1008>>0]|0,A[n+628>>0]=A[t+1016>>0]|0,A[n+632>>0]=A[t+1024>>0]|0,A[n+636>>0]=A[t+1032>>0]|0,A[n+621>>0]=A[t+1084>>0]|0,A[n+625>>0]=A[t+1096>>0]|0,A[n+629>>0]=A[t+1104>>0]|0,A[n+633>>0]=A[t+1112>>0]|0,A[n+637>>0]=A[t+1120>>0]|0,A[n+622>>0]=A[t+1172>>0]|0,A[n+626>>0]=A[t+1184>>0]|0,A[n+630>>0]=A[t+1192>>0]|0,A[n+634>>0]=A[t+1200>>0]|0,A[n+638>>0]=A[t+1208>>0]|0,A[n+623>>0]=0,A[n+627>>0]=0,A[n+631>>0]=0,A[n+635>>0]=0,A[n+639>>0]=0,e[n+196>>2]=e[t+680>>2],e[n+200>>2]=e[t+684>>2],e[n+204>>2]=e[t+688>>2],e[n+208>>2]=e[t+692>>2],e[n+180>>2]=e[t+696>>2],e[n+184>>2]=e[t+700>>2],e[n+188>>2]=e[t+704>>2],e[n+192>>2]=e[t+708>>2],e[n+212>>2]=e[t+712>>2],e[n+216>>2]=e[t+716>>2],e[n+220>>2]=e[t+720>>2],e[n+224>>2]=e[t+724>>2],e[n+228>>2]=e[t+728>>2],e[n+232>>2]=e[t+732>>2],e[n+236>>2]=e[t+736>>2],e[n+240>>2]=e[t+740>>2],e[n+244>>2]=e[t+744>>2],e[n+248>>2]=e[t+748>>2],e[n+252>>2]=e[t+752>>2],e[n+256>>2]=e[t+756>>2],e[n+260>>2]=e[t+760>>2],e[n+264>>2]=e[t+764>>2],e[n+268>>2]=e[t+768>>2],e[n+272>>2]=e[t+772>>2],e[n+276>>2]=e[t+776>>2],e[n+280>>2]=e[t+780>>2],e[n+284>>2]=e[t+784>>2],e[n+288>>2]=e[t+788>>2],e[n+292>>2]=e[t+876>>2],e[n+296>>2]=e[t+880>>2],e[n+300>>2]=e[t+884>>2],e[n+304>>2]=e[t+888>>2],e[n+308>>2]=e[t+892>>2],e[n+312>>2]=e[t+896>>2],e[n+316>>2]=e[t+900>>2],e[n+320>>2]=e[t+904>>2],e[n+324>>2]=e[t+804>>2],e[n+328>>2]=e[t+808>>2],e[n+332>>2]=e[t+812>>2],e[n+336>>2]=e[t+816>>2],e[n+340>>2]=e[t+820>>2],e[n+344>>2]=e[t+824>>2],e[n+348>>2]=e[t+828>>2],e[n+352>>2]=e[t+832>>2],e[n+356>>2]=e[t+840>>2],e[n+360>>2]=e[t+844>>2],e[n+364>>2]=e[t+848>>2],e[n+368>>2]=e[t+852>>2],e[n+372>>2]=e[t+860>>2],e[n+376>>2]=e[t+864>>2],e[n+380>>2]=e[t+868>>2],e[n+384>>2]=e[t+872>>2],A[n+388>>0]=A[t+792>>0]|0,A[n+392>>0]=A[t+795>>0]|0,A[n+396>>0]=A[t+798>>0]|0,A[n+400>>0]=A[t+836>>0]|0,A[n+404>>0]=A[t+856>>0]|0,A[n+389>>0]=A[t+793>>0]|0,A[n+393>>0]=A[t+796>>0]|0,A[n+397>>0]=A[t+799>>0]|0,A[n+401>>0]=A[t+837>>0]|0,A[n+405>>0]=A[t+857>>0]|0,A[n+390>>0]=A[t+794>>0]|0,A[n+394>>0]=A[t+797>>0]|0,A[n+398>>0]=A[t+800>>0]|0,A[n+402>>0]=A[t+838>>0]|0,A[n+406>>0]=A[t+858>>0]|0,A[n+391>>0]=0,A[n+395>>0]=0,A[n+399>>0]=0,A[n+403>>0]=0,A[n+407>>0]=0,e[n+640>>2]=e[t+1232>>2],15168}function A0e(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function E0e(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0;if(u=H,H=H+16|0,!(A[t+1308>>0]|0)){H=u;return}i[t+928>>2]=0,i[t+992>>2]=0,i[t+1056>>2]=0,e[t+712>>2]=0,e[t+712+4>>2]=0,e[t+712+8>>2]=0,e[t+712+12>>2]=0,mu(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0),Vt[e[(e[t>>2]|0)+44>>2]&255](t),s=+i[t+1284>>2],o=+i[t+1288>>2],a=+i[t+1292>>2],+i[t+696>>2]>=+i[t+680>>2]&&(_=(A[t+1300>>0]|0)==0,l=e[(_?t+1160|0:t+1096|0)>>2]|0,n=e[(_?t+1144|0:t+1080|0)>>2]|0,e[u>>2]=e[(_?t+1128|0:t+1064|0)>>2],e[u+4>>2]=n,e[u+8>>2]=l,i[u+12>>2]=0,Nh(e[t+28>>2]|0,e[t+32>>2]|0,t+176|0,u,s,o,a,s,o,a)),+i[t+700>>2]>=+i[t+684>>2]&&(n=(A[t+1300>>0]|0)==0,_=e[(n?t+1164|0:t+1100|0)>>2]|0,l=e[(n?t+1148|0:t+1084|0)>>2]|0,e[u>>2]=e[(n?t+1132|0:t+1068|0)>>2],e[u+4>>2]=l,e[u+8>>2]=_,i[u+12>>2]=0,Nh(e[t+28>>2]|0,e[t+32>>2]|0,t+260|0,u,s,o,a,s,o,a)),+i[t+704>>2]>=+i[t+688>>2]&&(n=(A[t+1300>>0]|0)==0,_=e[(n?t+1168|0:t+1104|0)>>2]|0,l=e[(n?t+1152|0:t+1088|0)>>2]|0,e[u>>2]=e[(n?t+1136|0:t+1072|0)>>2],e[u+4>>2]=l,e[u+8>>2]=_,i[u+12>>2]=0,Nh(e[t+28>>2]|0,e[t+32>>2]|0,t+344|0,u,s,o,a,s,o,a)),l=0;do{s=+i[t+868+(l<<6)>>2],o=+i[t+868+(l<<6)+4>>2],a=+np(+i[t+1192+(l<<2)>>2],s,o),i[t+868+(l<<6)+52>>2]=a;do if(s>o)e[t+868+(l<<6)+56>>2]=0,n=18;else{if(s>a){if(e[t+868+(l<<6)+56>>2]=1,n=t+868+(l<<6)+48|0,i[n>>2]=a-s,a-s>3.1415927410125732){i[n>>2]=a-s+-6.2831854820251465,n=19;break}if(!(a-s<-3.1415927410125732)){n=19;break}i[n>>2]=a-s+6.2831854820251465,n=19;break}if(n=t+868+(l<<6)+56|0,!(o<a)){e[n>>2]=0,n=18;break}if(e[n>>2]=2,n=t+868+(l<<6)+48|0,i[n>>2]=a-o,a-o>3.1415927410125732){i[n>>2]=a-o+-6.2831854820251465,n=19;break}a-o<-3.1415927410125732&&(i[n>>2]=a-o+6.2831854820251465),n=19}while(!1);(n|0)==18&&(n=0,A[t+868+(l<<6)+44>>0]|0)&&(n=19),(n|0)==19&&(W=t+1208+(l<<4)|0,e[u>>2]=e[W>>2],e[u+4>>2]=e[W+4>>2],e[u+8>>2]=e[W+8>>2],e[u+12>>2]=e[W+12>>2],W=t+428+(l*84|0)|0,n=e[t+28>>2]|0,ne=+i[n+4>>2],X=+i[n+20>>2],q=+i[n+36>>2],Y=+i[n+8>>2],z=+i[n+24>>2],O=+i[n+40>>2],U=+i[n+12>>2],L=+i[n+28>>2],F=+i[n+44>>2],_=e[t+32>>2]|0,B=+i[_+4>>2],N=+i[_+20>>2],D=+i[_+36>>2],M=+i[_+8>>2],w=+i[_+24>>2],C=+i[_+40>>2],g=+i[_+12>>2],d=+i[_+28>>2],s=+i[_+44>>2],e[W>>2]=0,e[W+4>>2]=0,e[W+8>>2]=0,e[W+12>>2]=0,m=+i[u>>2],h=+i[u+4>>2],o=+i[u+8>>2],i[t+428+(l*84|0)+16>>2]=ne*m+X*h+q*o,i[t+428+(l*84|0)+20>>2]=Y*m+z*h+O*o,i[t+428+(l*84|0)+24>>2]=U*m+L*h+F*o,i[t+428+(l*84|0)+28>>2]=0,i[t+428+(l*84|0)+32>>2]=B*-m+N*-h+D*-o,i[t+428+(l*84|0)+36>>2]=M*-m+w*-h+C*-o,i[t+428+(l*84|0)+40>>2]=g*-m+d*-h+s*-o,i[t+428+(l*84|0)+44>>2]=0,$=(ne*m+X*h+q*o)*+i[n+420>>2],V=(Y*m+z*h+O*o)*+i[n+424>>2],k=(U*m+L*h+F*o)*+i[n+428>>2],i[t+428+(l*84|0)+48>>2]=$,i[t+428+(l*84|0)+52>>2]=V,i[t+428+(l*84|0)+56>>2]=k,i[t+428+(l*84|0)+60>>2]=0,E=(B*-m+N*-h+D*-o)*+i[_+420>>2],S=(M*-m+w*-h+C*-o)*+i[_+424>>2],a=(g*-m+d*-h+s*-o)*+i[_+428>>2],i[t+428+(l*84|0)+64>>2]=E,i[t+428+(l*84|0)+68>>2]=S,i[t+428+(l*84|0)+72>>2]=a,i[t+428+(l*84|0)+76>>2]=0,i[t+428+(l*84|0)+80>>2]=(ne*m+X*h+q*o)*$+(Y*m+z*h+O*o)*V+(U*m+L*h+F*o)*k+((B*-m+N*-h+D*-o)*E+(M*-m+w*-h+C*-o)*S+(g*-m+d*-h+s*-o)*a)),l=l+1|0}while((l|0)!=3);H=u}function mu(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0;O=+i[t+48>>2],l=+i[n>>2],z=+i[t+64>>2],u=+i[n+4>>2],Y=+i[t+80>>2],S=+i[n+8>>2],M=+i[t+52>>2],w=+i[t+68>>2],C=+i[t+84>>2],B=+i[t+56>>2],F=+i[t+72>>2],L=+i[t+88>>2],N=+i[n+16>>2],D=+i[n+20>>2],E=+i[n+24>>2],k=+i[n+32>>2],$=+i[n+36>>2],q=+i[n+40>>2],_=+i[t+96>>2],a=+i[t+100>>2],V=+i[t+104>>2],U=+i[n+48>>2]+(l*_+u*a+S*V),o=N*_+D*a+E*V+ +i[n+52>>2],V=k*_+$*a+q*V+ +i[n+56>>2],i[t+1064>>2]=O*l+z*u+Y*S,i[t+1068>>2]=l*M+u*w+S*C,i[t+1072>>2]=l*B+u*F+S*L,i[t+1076>>2]=0,i[t+1080>>2]=O*N+z*D+Y*E,i[t+1084>>2]=M*N+w*D+C*E,i[t+1088>>2]=B*N+F*D+L*E,i[t+1092>>2]=0,i[t+1096>>2]=O*k+z*$+Y*q,i[t+1100>>2]=M*k+w*$+C*q,i[t+1104>>2]=B*k+F*$+L*q,i[t+1108>>2]=0,i[t+1112>>2]=U,i[t+1116>>2]=o,i[t+1120>>2]=V,i[t+1124>>2]=0,V=+i[t+112>>2],o=+i[s>>2],U=+i[t+128>>2],q=+i[s+4>>2],L=+i[t+144>>2],$=+i[s+8>>2],F=+i[t+116>>2],k=+i[t+132>>2],B=+i[t+148>>2],C=+i[t+120>>2],w=+i[t+136>>2],M=+i[t+152>>2],Y=+i[s+16>>2],z=+i[s+20>>2],O=+i[s+24>>2],E=+i[s+32>>2],D=+i[s+36>>2],N=+i[s+40>>2],S=+i[t+160>>2],u=+i[t+164>>2],l=+i[t+168>>2],a=+i[s+48>>2]+(o*S+q*u+$*l),_=Y*S+z*u+O*l+ +i[s+52>>2],l=E*S+D*u+N*l+ +i[s+56>>2],i[t+1128>>2]=V*o+U*q+L*$,i[t+1132>>2]=o*F+q*k+$*B,i[t+1136>>2]=o*C+q*w+$*M,i[t+1140>>2]=0,i[t+1144>>2]=V*Y+U*z+L*O,i[t+1148>>2]=F*Y+k*z+B*O,i[t+1152>>2]=C*Y+w*z+M*O,i[t+1156>>2]=0,i[t+1160>>2]=V*E+U*D+L*N,i[t+1164>>2]=F*E+k*D+B*N,i[t+1168>>2]=C*E+w*D+M*N,i[t+1172>>2]=0,i[t+1176>>2]=a,i[t+1180>>2]=_,i[t+1184>>2]=l,i[t+1188>>2]=0,a=a-+i[t+1112>>2],_=_-+i[t+1116>>2],l=l-+i[t+1120>>2],B=+i[t+1084>>2],k=+i[t+1104>>2],F=+i[t+1088>>2],L=+i[t+1100>>2],U=+i[t+1096>>2],V=+i[t+1080>>2],O=+i[t+1064>>2],z=+i[t+1068>>2],Y=+i[t+1072>>2],$=1/((B*k-F*L)*O+z*(F*U-k*V)+(L*V-B*U)*Y),q=(L*V-B*U)*$,o=l*((F*z-B*Y)*$)+(a*((B*k-F*L)*$)+_*((L*Y-k*z)*$)),u=l*((V*Y-F*O)*$)+(a*((F*U-k*V)*$)+_*((k*O-U*Y)*$)),_=l*((B*O-V*z)*$)+(a*q+_*((U*z-L*O)*$)),i[t+1256>>2]=o,i[t+1260>>2]=u,i[t+1264>>2]=_,i[t+1268>>2]=0,i[t+840>>2]=o,a=+i[t+680>>2],l=+i[t+696>>2];do if(a>l)e[t+856>>2]=0,i[t+824>>2]=0;else{if(a>o){e[t+856>>2]=2,i[t+824>>2]=o-a;break}if(l<o){e[t+856>>2]=1,i[t+824>>2]=o-l;break}else{e[t+856>>2]=0,i[t+824>>2]=0;break}}while(!1);i[t+844>>2]=u,o=+i[t+684>>2],a=+i[t+700>>2];do if(o>a)e[t+860>>2]=0,i[t+828>>2]=0;else{if(o>u){e[t+860>>2]=2,i[t+828>>2]=u-o;break}if(a<u){e[t+860>>2]=1,i[t+828>>2]=u-a;break}else{e[t+860>>2]=0,i[t+828>>2]=0;break}}while(!1);i[t+848>>2]=_,o=+i[t+688>>2],a=+i[t+704>>2];do if(o>a)e[t+864>>2]=0,i[t+832>>2]=0;else{if(o>_){e[t+864>>2]=2,i[t+832>>2]=_-o;break}if(a<_){e[t+864>>2]=1,i[t+832>>2]=_-a;break}else{e[t+864>>2]=0,i[t+832>>2]=0;break}}while(!1);a=+i[t+1128>>2],l=+i[t+1144>>2],u=+i[t+1160>>2],_=+i[t+1132>>2],h=+i[t+1148>>2],d=+i[t+1164>>2],m=(B*k-F*L)*$*_+(L*Y-k*z)*$*h+(F*z-B*Y)*$*d,g=_*((F*U-k*V)*$)+(k*O-U*Y)*$*h+(V*Y-F*O)*$*d,S=u*((B*O-V*z)*$)+(a*q+l*((U*z-L*O)*$)),o=q*+i[t+1136>>2]+(U*z-L*O)*$*+i[t+1152>>2]+(B*O-V*z)*$*(C*E+w*D+M*N);do if(S<1)if(S>-1){i[t+1192>>2]=+gn(+-(_*q+(U*z-L*O)*$*h+(B*O-V*z)*$*d),+o),q=S<-1?-1:S,i[t+1196>>2]=+Sa(+(q>1?1:q)),i[t+1200>>2]=+gn(+-(u*((V*Y-F*O)*$)+(a*((F*U-k*V)*$)+l*((k*O-U*Y)*$))),+(u*((F*z-B*Y)*$)+(a*((B*k-F*L)*$)+l*((L*Y-k*z)*$))));break}else{i[t+1192>>2]=-+gn(+m,+g),i[t+1196>>2]=-1.5707963705062866,i[t+1200>>2]=0;break}else i[t+1192>>2]=+gn(+m,+g),i[t+1196>>2]=1.5707963705062866,i[t+1200>>2]=0;while(!1);i[t+1236>>2]=0,L=k*(a*k-u*Y)-F*(l*Y-a*F),U=Y*(l*Y-a*F)-k*(u*F-l*k),V=F*(u*F-l*k)-Y*(a*k-u*Y),i[t+1220>>2]=0,O=l*(l*Y-a*F)-u*(a*k-u*Y),z=u*(u*F-l*k)-a*(l*Y-a*F),$=a*(a*k-u*Y)-l*(u*F-l*k),i[t+1252>>2]=0,q=1/+at(+(L*L+U*U+V*V)),i[t+1208>>2]=L*q,i[t+1212>>2]=U*q,i[t+1216>>2]=V*q,q=1/+at(+((u*F-l*k)*(u*F-l*k)+(a*k-u*Y)*(a*k-u*Y)+(l*Y-a*F)*(l*Y-a*F))),i[t+1224>>2]=(u*F-l*k)*q,i[t+1228>>2]=(a*k-u*Y)*q,i[t+1232>>2]=(l*Y-a*F)*q,q=1/+at(+(O*O+z*z+$*$)),i[t+1240>>2]=O*q,i[t+1244>>2]=z*q,i[t+1248>>2]=$*q,A[t+1301>>0]|0&&($=+i[(e[t+28>>2]|0)+368>>2],q=+i[(e[t+32>>2]|0)+368>>2],A[t+1280>>0]=($<11920928955078125e-23|q<11920928955078125e-23)&1,q=$+q>0?q/($+q):.5,i[t+1272>>2]=q,i[t+1276>>2]=1-q)}function Nh(t,n,s,o,a,l,u,_,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=+l,u=+u,_=+_,h=+h,d=+d;var m=0;m=H,H=H+128|0,e[m+80>>2]=e[t+4>>2],e[m+80+4>>2]=e[t+20>>2],e[m+80+8>>2]=e[t+36>>2],i[m+80+12>>2]=0,e[m+80+16>>2]=e[t+8>>2],e[m+80+20>>2]=e[t+24>>2],e[m+80+24>>2]=e[t+40>>2],i[m+80+28>>2]=0,e[m+80+32>>2]=e[t+12>>2],e[m+80+36>>2]=e[t+28>>2],e[m+80+40>>2]=e[t+44>>2],i[m+80+44>>2]=0,e[m+32>>2]=e[n+4>>2],e[m+32+4>>2]=e[n+20>>2],e[m+32+8>>2]=e[n+36>>2],i[m+32+12>>2]=0,e[m+32+16>>2]=e[n+8>>2],e[m+32+20>>2]=e[n+24>>2],e[m+32+24>>2]=e[n+40>>2],i[m+32+28>>2]=0,e[m+32+32>>2]=e[n+12>>2],e[m+32+36>>2]=e[n+28>>2],e[m+32+40>>2]=e[n+44>>2],i[m+32+44>>2]=0,l=l-+i[t+56>>2],u=u-+i[t+60>>2],i[m+16>>2]=a-+i[t+52>>2],i[m+16+4>>2]=l,i[m+16+8>>2]=u,i[m+16+12>>2]=0,h=h-+i[n+56>>2],d=d-+i[n+60>>2],i[m>>2]=_-+i[n+52>>2],i[m+4>>2]=h,i[m+8>>2]=d,i[m+12>>2]=0,ip(s,m+80|0,m+32|0,m+16|0,m,o,t+420|0,+i[t+368>>2],n+420|0,+i[n+368>>2]),H=m}function np(t,n,s){t=+t,n=+n,s=+s;var o=0,a=0,l=0;return n>=s?+t:t<n?(o=+an(n-t),o<-3.1415927410125732?o=o+6.2831854820251465:o>3.1415927410125732&&(o=o+-6.2831854820251465),a=+ht(+o),o=+an(s-t),o<-3.1415927410125732?o=o+6.2831854820251465:o>3.1415927410125732&&(o=o+-6.2831854820251465),l=a<+ht(+o),t=l?t:t+6.2831854820251465,+t):(t>s&&(o=+an(t-s),o<-3.1415927410125732?o=o+6.2831854820251465:o>3.1415927410125732&&(o=o+-6.2831854820251465),a=+ht(+o),o=+an(t-n),o<-3.1415927410125732?o=o+6.2831854820251465:o>3.1415927410125732&&(o=o+-6.2831854820251465),l=+ht(+o)<a,t=l?t+-6.2831854820251465:t),+t)}function b0e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0;if(A[t+1308>>0]|0){e[n>>2]=0,e[n+4>>2]=0;return}mu(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0),e[n>>2]=0,e[n+4>>2]=6,(e[t+856>>2]|0)==0&&(A[t+788>>0]|0)==0?(s=0,o=6):(e[n>>2]=1,e[n+4>>2]=5,s=1,o=5),(e[t+860>>2]|0)==0&&(A[t+789>>0]|0)==0||(s=s+1|0,e[n>>2]=s,o=o+-1|0,e[n+4>>2]=o),(e[t+864>>2]|0)==0&&(A[t+790>>0]|0)==0||(s=s+1|0,e[n>>2]=s,o=o+-1|0,e[n+4>>2]=o),h=0;do{l=+i[t+868+(h<<6)>>2],u=+i[t+868+(h<<6)+4>>2],_=+np(+i[t+1192+(h<<2)>>2],l,u),i[t+868+(h<<6)+52>>2]=_;do if(l>u)e[t+868+(h<<6)+56>>2]=0,a=20;else{if(l>_){if(e[t+868+(h<<6)+56>>2]=1,a=t+868+(h<<6)+48|0,i[a>>2]=_-l,_-l>3.1415927410125732){i[a>>2]=_-l+-6.2831854820251465,a=21;break}if(!(_-l<-3.1415927410125732)){a=21;break}i[a>>2]=_-l+6.2831854820251465,a=21;break}if(a=t+868+(h<<6)+56|0,!(u<_)){e[a>>2]=0,a=20;break}if(e[a>>2]=2,a=t+868+(h<<6)+48|0,i[a>>2]=_-u,_-u>3.1415927410125732){i[a>>2]=_-u+-6.2831854820251465,a=21;break}_-u<-3.1415927410125732&&(i[a>>2]=_-u+6.2831854820251465),a=21}while(!1);(a|0)==20&&(a=0,A[t+868+(h<<6)+44>>0]|0&&(a=21)),(a|0)==21&&(s=s+1|0,e[n>>2]=s,o=o+-1|0,e[n+4>>2]=o),h=h+1|0}while((h|0)!=3)}function Dh(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0;if(h=H,H=H+16|0,u=e[t+28>>2]|0,_=e[t+32>>2]|0,!(A[t+1301>>0]|0)){l=0,s=um(t,n,0,u+4|0,_+4|0,u+336|0,_+336|0,u+352|0,_+352|0)|0;do o=t+868+(l<<6)|0,(e[t+868+(l<<6)+56>>2]|0)==0&&(A[t+868+(l<<6)+44>>0]|0)==0||(a=t+1208+(l<<4)|0,e[h>>2]=e[a>>2],e[h+4>>2]=e[a+4>>2],e[h+8>>2]=e[a+8>>2],e[h+12>>2]=e[a+12>>2],a=e[t+1304>>2]>>(l*3|0)+9,a&1||(e[t+868+(l<<6)+28>>2]=e[e[n+32>>2]>>2]),a&2||(e[t+868+(l<<6)+36>>2]=e[e[n+32>>2]>>2]),a&4||(e[t+868+(l<<6)+32>>2]=e[n+4>>2]),s=(rp(t,o,u+4|0,_+4|0,u+336|0,_+336|0,u+352|0,_+352|0,n,s,h,1,0)|0)+s|0),l=l+1|0;while((l|0)!=3);H=h;return}l=0,s=0;do o=t+868+(l<<6)|0,(e[t+868+(l<<6)+56>>2]|0)==0&&(A[t+868+(l<<6)+44>>0]|0)==0||(a=t+1208+(l<<4)|0,e[h>>2]=e[a>>2],e[h+4>>2]=e[a+4>>2],e[h+8>>2]=e[a+8>>2],e[h+12>>2]=e[a+12>>2],a=e[t+1304>>2]>>(l*3|0)+9,a&1||(e[t+868+(l<<6)+28>>2]=e[e[n+32>>2]>>2]),a&2||(e[t+868+(l<<6)+36>>2]=e[e[n+32>>2]>>2]),a&4||(e[t+868+(l<<6)+32>>2]=e[n+4>>2]),s=(rp(t,o,u+4|0,_+4|0,u+336|0,_+336|0,u+352|0,_+352|0,n,s,h,1,0)|0)+s|0),l=l+1|0;while((l|0)!=3);um(t,n,s,u+4|0,_+4|0,u+336|0,_+336|0,u+352|0,_+352|0)|0,H=h}function rp(t,n,s,o,a,l,u,_,h,d,m,g,S){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0,m=m|0,g=g|0,S=S|0;var C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0;if(U=Rt(e[h+24>>2]|0,d)|0,d=A[n+44>>0]|0,L=e[n+56>>2]|0,!(d<<24>>24!=0|(L|0)!=0))return U=0,U|0;O=e[(g|0?h+12|0:h+8|0)>>2]|0,V=e[(g|0?h+20|0:h+16|0)>>2]|0,e[O+(U<<2)>>2]=e[m>>2],e[O+(U+1<<2)>>2]=e[m+4>>2],e[O+(U+2<<2)>>2]=e[m+8>>2],i[V+(U<<2)>>2]=-+i[m>>2],i[V+(U+1<<2)>>2]=-+i[m+4>>2],i[V+(U+2<<2)>>2]=-+i[m+8>>2];do if(!g){if(C=+i[t+1176>>2],!(A[t+1301>>0]|0)){E=C-+i[s+48>>2],B=+i[t+1180>>2]-+i[s+52>>2],k=+i[t+1184>>2]-+i[s+56>>2],N=+i[m+8>>2],M=+i[m+4>>2],D=+i[m>>2],O=e[h+12>>2]|0,i[O+(U<<2)>>2]=B*N-k*M,i[O+(U+1<<2)>>2]=k*D-E*N,i[O+(U+2<<2)>>2]=E*M-B*D,D=+i[t+1176>>2]-+i[o+48>>2],B=+i[t+1180>>2]-+i[o+52>>2],M=+i[t+1184>>2]-+i[o+56>>2],E=+i[m+8>>2],N=+i[m+4>>2],k=+i[m>>2],O=e[h+20>>2]|0,i[O+(U<<2)>>2]=-(B*E-M*N),i[O+(U+1<<2)>>2]=-(M*k-D*E),i[O+(U+2<<2)>>2]=-(D*N-B*k);break}ne=C-+i[o+48>>2],X=+i[t+1180>>2]-+i[o+52>>2],$=+i[t+1184>>2]-+i[o+56>>2],D=+i[m>>2],q=+i[m+4>>2],Y=+i[m+8>>2],te=+i[t+1112>>2]-+i[s+48>>2],E=+i[t+1116>>2]-+i[s+52>>2],C=+i[t+1120>>2]-+i[s+56>>2],N=+i[n+52>>2]-+i[n+48>>2],W=D*(D*te+q*E+Y*C)+D*N-D*(ne*D+X*q+$*Y),z=q*(D*te+q*E+Y*C)+q*N-q*(ne*D+X*q+$*Y),N=Y*(D*te+q*E+Y*C)+Y*N-Y*(ne*D+X*q+$*Y),k=+i[t+1272>>2],B=+i[t+1276>>2],M=Y*(E-q*(D*te+q*E+Y*C)+k*z)-q*(C-Y*(D*te+q*E+Y*C)+k*N),w=D*(C-Y*(D*te+q*E+Y*C)+k*N)-Y*(te-D*(D*te+q*E+Y*C)+k*W),C=q*(te-D*(D*te+q*E+Y*C)+k*W)-D*(E-q*(D*te+q*E+Y*C)+k*z),E=(X-q*(ne*D+X*q+$*Y)-B*z)*Y-($-Y*(ne*D+X*q+$*Y)-B*N)*q,N=($-Y*(ne*D+X*q+$*Y)-B*N)*D-(ne-D*(ne*D+X*q+$*Y)-B*W)*Y,D=(ne-D*(ne*D+X*q+$*Y)-B*W)*q-(X-q*(ne*D+X*q+$*Y)-B*z)*D,(S|0)!=0|(A[t+1280>>0]|0)==0||(E=B*E,N=B*N,D=B*D,M=k*M,w=k*w,C=k*C),O=(e[h+12>>2]|0)+(U<<2)|0,i[O>>2]=M,i[O+4>>2]=w,i[O+8>>2]=C,O=e[h+20>>2]|0,i[O+(U<<2)>>2]=-E,i[O+(U+1<<2)>>2]=-N,i[O+(U+2<<2)>>2]=-D}while(!1);L|0&&+i[n>>2]==+i[n+4>>2]?(d=e[h+28>>2]|0,i[d+(U<<2)>>2]=0,C=0,s=h+28|0):F=11;do if((F|0)==11){if(s=e[h+28>>2]|0,i[s+(U<<2)>>2]=0,!(d<<24>>24)){if(L|0){d=s,C=0,s=h+28|0;break}else d=1;return d|0}if(e[(e[h+32>>2]|0)+(U<<2)>>2]=e[n+28>>2],L|0){d=s,C=+i[s+(U<<2)>>2],s=h+28|0;break}N=+i[n+8>>2],C=g|0?N:-N,w=+i[n+52>>2],M=+i[n>>2],E=+i[n+4>>2],D=+i[h>>2]*+i[n+32>>2];do if(M>E)C=1;else if(M!=E){if(C/D<0)if(w>=M&&M-C/D>w){C=(M-w)/(C/D);break}else{C=w<M?0:1;break}if(C/D>0)if(w<=E&&E-C/D<w){C=(E-w)/(C/D);break}else{C=w>E?0:1;break}else C=0}else C=0;while(!1);return i[s+(U<<2)>>2]=C*N+ +i[s+(U<<2)>>2],i[(e[h+36>>2]|0)+(U<<2)>>2]=-+i[n+12>>2],e[(e[h+40>>2]|0)+(U<<2)>>2]=e[n+12>>2],O=1,O|0}while(!1);return te=+i[h>>2]*+i[n+32>>2]*+i[n+48>>2],i[d+(U<<2)>>2]=C+(g|0?-te:te),e[(e[h+32>>2]|0)+(U<<2)>>2]=e[n+36>>2],+i[n>>2]==+i[n+4>>2]?(i[(e[h+36>>2]|0)+(U<<2)>>2]=-34028234663852886e22,i[(e[h+40>>2]|0)+(U<<2)>>2]=34028234663852886e22,O=1,O|0):(O=e[h+40>>2]|0,i[(e[h+36>>2]|0)+(U<<2)>>2]=(L|0)==1?0:-34028234663852886e22,i[O+(U<<2)>>2]=(L|0)==1?34028234663852886e22:0,w=+i[n+40>>2],w>0?(g|0?(W=+i[m>>2],te=+i[m+4>>2],C=+i[m+8>>2],C=+i[u>>2]*W+ +i[u+4>>2]*te+ +i[u+8>>2]*C-(W*+i[_>>2]+te*+i[_+4>>2]+C*+i[_+8>>2])):(W=+i[m>>2],te=+i[m+4>>2],C=+i[m+8>>2],C=+i[a>>2]*W+ +i[a+4>>2]*te+ +i[a+8>>2]*C-(W*+i[l>>2]+te*+i[l+4>>2]+C*+i[l+8>>2])),(L|0)==1?!(C<0)||(C=-(C*w),d=(e[s>>2]|0)+(U<<2)|0,!(+i[d>>2]<C))?(O=1,O|0):(i[d>>2]=C,O=1,O|0):!(C>0)||(C=-(C*w),d=(e[s>>2]|0)+(U<<2)|0,!(+i[d>>2]>C))?(O=1,O|0):(i[d>>2]=C,O=1,O|0)):(O=1,O|0))}function um(t,n,s,o,a,l,u,_,h){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0;var d=0,m=0,g=0,S=0;S=H,H=H+80|0,i[S+16+60>>2]=0,i[S+16+8>>2]=0,i[S+16+12>>2]=.10000000149011612,i[S+16+16>>2]=300,i[S+16>>2]=1,i[S+16+4>>2]=-1,i[S+16+28>>2]=0,i[S+16+32>>2]=.20000000298023224,i[S+16+36>>2]=0,i[S+16+40>>2]=0,i[S+16+20>>2]=1,i[S+16+24>>2]=.5,e[S+16+56>>2]=0,i[S+16+48>>2]=0,A[S+16+44>>0]=0,g=0;do d=e[t+856+(g<<2)>>2]|0,m=A[t+788+g>>0]|0,(d|0)==0&m<<24>>24==0||(i[S+16+40>>2]=0,e[S+16+56>>2]=d,e[S+16+52>>2]=e[t+840+(g<<2)>>2],e[S+16+48>>2]=e[t+824+(g<<2)>>2],e[S+16+20>>2]=e[t+732>>2],A[S+16+44>>0]=m,e[S+16+4>>2]=e[t+696+(g<<2)>>2],e[S+16+24>>2]=e[t+728>>2],e[S+16>>2]=e[t+680+(g<<2)>>2],i[S+16+16>>2]=0,e[S+16+12>>2]=e[t+808+(g<<2)>>2],e[S+16+8>>2]=e[t+792+(g<<2)>>2],e[S>>2]=e[t+1064+(g<<2)>>2],e[S+4>>2]=e[t+1080+(g<<2)>>2],e[S+8>>2]=e[t+1096+(g<<2)>>2],i[S+12>>2]=0,m=e[t+1304>>2]>>g*3,m&1?d=t+740+(g<<2)|0:d=e[n+32>>2]|0,e[S+16+28>>2]=e[d>>2],m&2?d=t+772+(g<<2)|0:d=e[n+32>>2]|0,e[S+16+36>>2]=e[d>>2],e[S+16+32>>2]=e[((m&4|0)==0?n+4|0:t+756+(g<<2)|0)>>2],A[t+1301>>0]|0?(m=g+1|0,e[t+868+(((m|0)==3?0:m)<<6)+56>>2]|0?d=(e[t+868+(((g+2|0)%3|0)<<6)+56>>2]|0)==0&1:d=1,d=rp(t,S+16|0,o,a,l,u,_,h,n,s,S,0,d)|0):d=rp(t,S+16|0,o,a,l,u,_,h,n,s,S,0,0)|0,s=d+s|0),g=g+1|0;while((g|0)!=3);return H=S,s|0}function N0e(t,n,s,o){if(t=t|0,n=n|0,s=+s,o=o|0,o>>>0<3)switch(n|0){case 2:{i[t+756+(o<<2)>>2]=s,e[t+1304>>2]=e[t+1304>>2]|4<<o*3;return}case 4:{i[t+772+(o<<2)>>2]=s,e[t+1304>>2]=e[t+1304>>2]|2<<o*3;return}case 3:{i[t+740+(o<<2)>>2]=s,e[t+1304>>2]=e[t+1304>>2]|1<<o*3;return}default:return}if(!((o+-3|0)>>>0>=3))switch(n|0){case 2:{i[t+868+(o+-3<<6)+32>>2]=s,e[t+1304>>2]=e[t+1304>>2]|4<<o*3;return}case 4:{i[t+868+(o+-3<<6)+36>>2]=s,e[t+1304>>2]=e[t+1304>>2]|2<<o*3;return}case 3:{i[t+868+(o+-3<<6)+28>>2]=s,e[t+1304>>2]=e[t+1304>>2]|1<<o*3;return}default:return}}function D0e(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;e:do if(s>>>0>=3)if((s+-3|0)>>>0<3)switch(n|0){case 2:{o=+i[t+868+(s+-3<<6)+32>>2];break e}case 4:{o=+i[t+868+(s+-3<<6)+36>>2];break e}case 3:{o=+i[t+868+(s+-3<<6)+28>>2];break e}default:{o=0;break e}}else o=0;else switch(n|0){case 2:{o=+i[t+756+(s<<2)>>2];break e}case 4:{o=+i[t+772+(s<<2)>>2];break e}case 3:{o=+i[t+740+(s<<2)>>2];break e}default:{o=0;break e}}while(!1);return+o}function I0e(t){return t=t|0,252}function fm(t,n,s){return t=t|0,n=n|0,s=s|0,Ra(t,n,s)|0,e[n+52>>2]=e[t+48>>2],e[n+56>>2]=e[t+52>>2],e[n+60>>2]=e[t+56>>2],e[n+64>>2]=e[t+60>>2],e[n+68>>2]=e[t+64>>2],e[n+72>>2]=e[t+68>>2],e[n+76>>2]=e[t+72>>2],e[n+80>>2]=e[t+76>>2],e[n+84>>2]=e[t+80>>2],e[n+88>>2]=e[t+84>>2],e[n+92>>2]=e[t+88>>2],e[n+96>>2]=e[t+92>>2],e[n+100>>2]=e[t+96>>2],e[n+104>>2]=e[t+100>>2],e[n+108>>2]=e[t+104>>2],e[n+112>>2]=e[t+108>>2],e[n+116>>2]=e[t+112>>2],e[n+120>>2]=e[t+116>>2],e[n+124>>2]=e[t+120>>2],e[n+128>>2]=e[t+124>>2],e[n+132>>2]=e[t+128>>2],e[n+136>>2]=e[t+132>>2],e[n+140>>2]=e[t+136>>2],e[n+144>>2]=e[t+140>>2],e[n+148>>2]=e[t+144>>2],e[n+152>>2]=e[t+148>>2],e[n+156>>2]=e[t+152>>2],e[n+160>>2]=e[t+156>>2],e[n+164>>2]=e[t+160>>2],e[n+168>>2]=e[t+164>>2],e[n+172>>2]=e[t+168>>2],e[n+176>>2]=e[t+172>>2],e[n+228>>2]=e[t+868>>2],e[n+212>>2]=e[t+872>>2],e[n+196>>2]=e[t+680>>2],e[n+180>>2]=e[t+696>>2],e[n+232>>2]=e[t+932>>2],e[n+216>>2]=e[t+936>>2],e[n+200>>2]=e[t+684>>2],e[n+184>>2]=e[t+700>>2],e[n+236>>2]=e[t+996>>2],e[n+220>>2]=e[t+1e3>>2],e[n+204>>2]=e[t+688>>2],e[n+188>>2]=e[t+704>>2],t=ee[t+1300>>1]|0,e[n+244>>2]=t&255,e[n+248>>2]=(t&65535)>>>8&65535,15229}function P0e(t){t=t|0;var n=0,s=0,o=0,a=0;n=+i[(e[t+28>>2]|0)+368>>2],s=+i[(e[t+32>>2]|0)+368>>2],s==0?n=1:n=n/(n+s),a=1-n,o=n*+i[t+1116>>2]+a*+i[t+1180>>2],s=n*+i[t+1120>>2]+a*+i[t+1184>>2],i[t+1284>>2]=n*+i[t+1112>>2]+a*+i[t+1176>>2],i[t+1288>>2]=o,i[t+1292>>2]=s,i[t+1296>>2]=0}function L0e(t){return t=t|0,e[t+1304>>2]|0}function pm(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,e[t+4>>2]=6,e[t+8>>2]=-1,e[t+12>>2]=-1,i[t+16>>2]=34028234663852886e22,A[t+20>>0]=1,A[t+21>>0]=0,e[t+24>>2]=-1,e[t+28>>2]=n,e[t+32>>2]=s,i[t+36>>2]=0,i[t+40>>2]=.30000001192092896,e[t+44>>2]=0,e[t>>2]=7240,e[t+48>>2]=e[o>>2],e[t+48+4>>2]=e[o+4>>2],e[t+48+8>>2]=e[o+8>>2],e[t+48+12>>2]=e[o+12>>2],e[t+64>>2]=e[o+16>>2],e[t+64+4>>2]=e[o+16+4>>2],e[t+64+8>>2]=e[o+16+8>>2],e[t+64+12>>2]=e[o+16+12>>2],e[t+80>>2]=e[o+32>>2],e[t+80+4>>2]=e[o+32+4>>2],e[t+80+8>>2]=e[o+32+8>>2],e[t+80+12>>2]=e[o+32+12>>2],e[t+96>>2]=e[o+48>>2],e[t+96+4>>2]=e[o+48+4>>2],e[t+96+8>>2]=e[o+48+8>>2],e[t+96+12>>2]=e[o+48+12>>2],e[t+112>>2]=e[a>>2],e[t+112+4>>2]=e[a+4>>2],e[t+112+8>>2]=e[a+8>>2],e[t+112+12>>2]=e[a+12>>2],e[t+128>>2]=e[a+16>>2],e[t+128+4>>2]=e[a+16+4>>2],e[t+128+8>>2]=e[a+16+8>>2],e[t+128+12>>2]=e[a+16+12>>2],e[t+144>>2]=e[a+32>>2],e[t+144+4>>2]=e[a+32+4>>2],e[t+144+8>>2]=e[a+32+8>>2],e[t+144+12>>2]=e[a+32+12>>2],e[t+160>>2]=e[a+48>>2],e[t+160+4>>2]=e[a+48+4>>2],e[t+160+8>>2]=e[a+48+8>>2],e[t+160+12>>2]=e[a+48+12>>2],o=t+680|0,a=o+48|0;do e[o>>2]=0,o=o+4|0;while((o|0)<(a|0));e[t+740>>2]=0,e[t+740+4>>2]=0,e[t+740+8>>2]=0,e[t+740+12>>2]=0,e[t+756>>2]=1045220557,e[t+760>>2]=1045220557,e[t+764>>2]=1045220557,e[t+768>>2]=0,e[t+768+4>>2]=0,e[t+768+8>>2]=0,e[t+768+12>>2]=0,e[t+768+16>>2]=0,i[t+728>>2]=.699999988079071,i[t+732>>2]=1,i[t+736>>2]=.5,A[t+788>>0]=0,i[t+792>>2]=0,i[t+808>>2]=0,A[t+789>>0]=0,i[t+796>>2]=0,i[t+812>>2]=0,A[t+790>>0]=0,i[t+800>>2]=0,i[t+816>>2]=0,i[t+928>>2]=0,i[t+876>>2]=0,i[t+880>>2]=.10000000149011612,i[t+884>>2]=300,i[t+868>>2]=1,i[t+872>>2]=-1,i[t+896>>2]=0,i[t+900>>2]=.20000000298023224,i[t+904>>2]=0,i[t+908>>2]=0,i[t+888>>2]=1,i[t+892>>2]=.5,e[t+924>>2]=0,i[t+916>>2]=0,A[t+912>>0]=0,i[t+992>>2]=0,i[t+940>>2]=0,i[t+944>>2]=.10000000149011612,i[t+948>>2]=300,i[t+932>>2]=1,i[t+936>>2]=-1,i[t+960>>2]=0,i[t+964>>2]=.20000000298023224,i[t+968>>2]=0,i[t+972>>2]=0,i[t+952>>2]=1,i[t+956>>2]=.5,e[t+988>>2]=0,i[t+980>>2]=0,A[t+976>>0]=0,i[t+1056>>2]=0,i[t+1004>>2]=0,i[t+1008>>2]=.10000000149011612,i[t+1012>>2]=300,i[t+996>>2]=1,i[t+1e3>>2]=-1,i[t+1024>>2]=0,i[t+1028>>2]=.20000000298023224,i[t+1032>>2]=0,i[t+1036>>2]=0,i[t+1016>>2]=1,i[t+1020>>2]=.5,e[t+1052>>2]=0,i[t+1044>>2]=0,A[t+1040>>0]=0,A[t+1300>>0]=l&1,A[t+1301>>0]=1,e[t+1304>>2]=0,A[t+1308>>0]=0,mu(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0)}function _m(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0;l=H,H=H+16|0,A[19880]|0||(A[19880]=1,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,pu(21260,0,0,0,l)),e[5366]=e[5366]|1,i[5407]=0,u=+i[5417]*0,_=+i[5418]*0,i[5412]=+i[5416]*0,i[5413]=u,i[5414]=_,i[5415]=0,e[5420]=0,e[5421]=0,e[5422]=0,e[5423]=0,_=+i[5409]*0,u=+i[5410]*0,i[5461]=+i[5408]*0,i[5462]=_,i[5463]=u,i[5464]=0,e[t+4>>2]=6,e[t+8>>2]=-1,e[t+12>>2]=-1,i[t+16>>2]=34028234663852886e22,A[t+20>>0]=1,A[t+21>>0]=0,e[t+24>>2]=-1,e[t+28>>2]=21260,e[t+32>>2]=n,i[t+36>>2]=0,i[t+40>>2]=.30000001192092896,e[t+44>>2]=0,e[t>>2]=7240,e[t+112>>2]=e[s>>2],e[t+112+4>>2]=e[s+4>>2],e[t+112+8>>2]=e[s+8>>2],e[t+112+12>>2]=e[s+12>>2],e[t+128>>2]=e[s+16>>2],e[t+128+4>>2]=e[s+16+4>>2],e[t+128+8>>2]=e[s+16+8>>2],e[t+128+12>>2]=e[s+16+12>>2],e[t+144>>2]=e[s+32>>2],e[t+144+4>>2]=e[s+32+4>>2],e[t+144+8>>2]=e[s+32+8>>2],e[t+144+12>>2]=e[s+32+12>>2],e[t+160>>2]=e[s+48>>2],e[t+160+4>>2]=e[s+48+4>>2],e[t+160+8>>2]=e[s+48+8>>2],e[t+160+12>>2]=e[s+48+12>>2],s=t+680|0,a=s+48|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(a|0));e[t+740>>2]=0,e[t+740+4>>2]=0,e[t+740+8>>2]=0,e[t+740+12>>2]=0,e[t+756>>2]=1045220557,e[t+760>>2]=1045220557,e[t+764>>2]=1045220557,e[t+768>>2]=0,e[t+768+4>>2]=0,e[t+768+8>>2]=0,e[t+768+12>>2]=0,e[t+768+16>>2]=0,i[t+728>>2]=.699999988079071,i[t+732>>2]=1,i[t+736>>2]=.5,A[t+788>>0]=0,i[t+792>>2]=0,i[t+808>>2]=0,A[t+789>>0]=0,i[t+796>>2]=0,i[t+812>>2]=0,A[t+790>>0]=0,i[t+800>>2]=0,i[t+816>>2]=0,i[t+928>>2]=0,i[t+876>>2]=0,i[t+880>>2]=.10000000149011612,i[t+884>>2]=300,i[t+868>>2]=1,i[t+872>>2]=-1,i[t+896>>2]=0,i[t+900>>2]=.20000000298023224,i[t+904>>2]=0,i[t+908>>2]=0,i[t+888>>2]=1,i[t+892>>2]=.5,e[t+924>>2]=0,i[t+916>>2]=0,A[t+912>>0]=0,i[t+992>>2]=0,i[t+940>>2]=0,i[t+944>>2]=.10000000149011612,i[t+948>>2]=300,i[t+932>>2]=1,i[t+936>>2]=-1,i[t+960>>2]=0,i[t+964>>2]=.20000000298023224,i[t+968>>2]=0,i[t+972>>2]=0,i[t+952>>2]=1,i[t+956>>2]=.5,e[t+988>>2]=0,i[t+980>>2]=0,A[t+976>>0]=0,i[t+1056>>2]=0,i[t+1004>>2]=0,i[t+1008>>2]=.10000000149011612,i[t+1012>>2]=300,i[t+996>>2]=1,i[t+1e3>>2]=-1,i[t+1024>>2]=0,i[t+1028>>2]=.20000000298023224,i[t+1032>>2]=0,i[t+1036>>2]=0,i[t+1016>>2]=1,i[t+1020>>2]=.5,e[t+1052>>2]=0,i[t+1044>>2]=0,A[t+1040>>0]=0,A[t+1300>>0]=o&1,A[t+1301>>0]=1,e[t+1304>>2]=0,A[t+1308>>0]=0,k=+i[t+112>>2],z=+i[n+4>>2],B=+i[t+128>>2],O=+i[n+8>>2],N=+i[t+144>>2],V=+i[n+12>>2],D=+i[t+116>>2],E=+i[t+132>>2],M=+i[t+148>>2],w=+i[t+120>>2],S=+i[t+136>>2],m=+i[t+152>>2],U=+i[n+20>>2],L=+i[n+24>>2],F=+i[n+28>>2],C=+i[n+36>>2],g=+i[n+40>>2],d=+i[n+44>>2],$=+i[t+160>>2],Y=+i[t+164>>2],_=+i[t+168>>2],h=+i[n+52>>2]+(z*$+O*Y+V*_),u=U*$+L*Y+F*_+ +i[n+56>>2],_=C*$+g*Y+d*_+ +i[n+60>>2],i[t+48>>2]=k*z+B*O+N*V,i[t+52>>2]=z*D+O*E+V*M,i[t+56>>2]=z*w+O*S+V*m,i[t+60>>2]=0,i[t+64>>2]=k*U+B*L+N*F,i[t+68>>2]=D*U+E*L+M*F,i[t+72>>2]=w*U+S*L+m*F,i[t+76>>2]=0,i[t+80>>2]=k*C+B*g+N*d,i[t+84>>2]=D*C+E*g+M*d,i[t+88>>2]=w*C+S*g+m*d,i[t+92>>2]=0,i[t+96>>2]=h,i[t+100>>2]=u,i[t+104>>2]=_,i[t+108>>2]=0,mu(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0),H=l}function k0e(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function F0e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;switch(Ih(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0),e[n>>2]=0,e[n+4>>2]=0,e[t+956>>2]|0){case 4:{e[n>>2]=2,s=2;break}case 0:{s=0;break}default:e[n>>2]=1,s=1}switch(A[t+792>>0]|0&&(s=s+1|0,e[n>>2]=s),A[t+798>>0]|0&&(s=s+1|0,e[n>>2]=s),e[t+960>>2]|0){case 4:{s=s+2|0,e[n>>2]=s;break}case 0:break;default:s=s+1|0,e[n>>2]=s}switch(A[t+793>>0]|0&&(s=s+1|0,e[n>>2]=s),A[t+799>>0]|0&&(s=s+1|0,e[n>>2]=s),e[t+964>>2]|0){case 4:{s=s+2|0,e[n>>2]=s;break}case 0:break;default:s=s+1|0,e[n>>2]=s}A[t+794>>0]|0&&(s=s+1|0,e[n>>2]=s),A[t+800>>0]|0&&(s=s+1|0,e[n>>2]=s),u=0;do{o=+i[t+968+(u*88|0)>>2],a=+i[t+968+(u*88|0)+4>>2],l=+np(+i[t+1364+(u<<2)>>2],o,a),i[t+968+(u*88|0)+80>>2]=l;do if(o>a)e[t+968+(u*88|0)+84>>2]=0,i[t+968+(u*88|0)+72>>2]=0;else if(i[t+968+(u*88|0)+72>>2]=l-o,o==a){e[t+968+(u*88|0)+84>>2]=3,s=s+1|0,e[n>>2]=s;break}else{i[t+968+(u*88|0)+76>>2]=l-a,e[t+968+(u*88|0)+84>>2]=4,s=s+2|0,e[n>>2]=s;break}while(!1);A[t+968+(u*88|0)+28>>0]|0&&(s=s+1|0,e[n>>2]=s),A[t+968+(u*88|0)+48>>0]|0&&(s=s+1|0,e[n>>2]=s),u=u+1|0}while((u|0)!=3)}function Ih(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0;ve=+i[t+48>>2],l=+i[n>>2],de=+i[t+64>>2],F=+i[n+4>>2],fe=+i[t+80>>2],o=+i[n+8>>2],V=+i[t+52>>2],U=+i[t+68>>2],L=+i[t+84>>2],re=+i[t+56>>2],ae=+i[t+72>>2],he=+i[t+88>>2],Y=+i[n+16>>2],z=+i[n+20>>2],O=+i[n+24>>2],oe=+i[n+32>>2],k=+i[n+36>>2],M=+i[n+40>>2],_=+i[t+96>>2],a=+i[t+100>>2],xe=+i[t+104>>2],me=+i[n+48>>2]+(l*_+F*a+o*xe),B=Y*_+z*a+O*xe+ +i[n+52>>2],xe=oe*_+k*a+M*xe+ +i[n+56>>2],i[t+1236>>2]=ve*l+de*F+fe*o,i[t+1240>>2]=l*V+F*U+o*L,i[t+1244>>2]=l*re+F*ae+o*he,i[t+1248>>2]=0,i[t+1252>>2]=ve*Y+de*z+fe*O,i[t+1256>>2]=V*Y+U*z+L*O,i[t+1260>>2]=re*Y+ae*z+he*O,i[t+1264>>2]=0,i[t+1268>>2]=ve*oe+de*k+fe*M,i[t+1272>>2]=V*oe+U*k+L*M,i[t+1276>>2]=re*oe+ae*k+he*M,i[t+1280>>2]=0,i[t+1284>>2]=me,i[t+1288>>2]=B,i[t+1292>>2]=xe,i[t+1296>>2]=0,xe=+i[t+112>>2],B=+i[s>>2],me=+i[t+128>>2],M=+i[s+4>>2],he=+i[t+144>>2],k=+i[s+8>>2],ae=+i[t+116>>2],oe=+i[t+132>>2],re=+i[t+148>>2],L=+i[t+120>>2],U=+i[t+136>>2],V=+i[t+152>>2],fe=+i[s+16>>2],de=+i[s+20>>2],ve=+i[s+24>>2],O=+i[s+32>>2],z=+i[s+36>>2],Y=+i[s+40>>2],o=+i[t+160>>2],F=+i[t+164>>2],l=+i[t+168>>2],a=+i[s+48>>2]+(B*o+M*F+k*l),_=fe*o+de*F+ve*l+ +i[s+52>>2],l=O*o+z*F+Y*l+ +i[s+56>>2],i[t+1300>>2]=xe*B+me*M+he*k,i[t+1304>>2]=B*ae+M*oe+k*re,i[t+1308>>2]=B*L+M*U+k*V,i[t+1312>>2]=0,i[t+1316>>2]=xe*fe+me*de+he*ve,i[t+1320>>2]=ae*fe+oe*de+re*ve,i[t+1324>>2]=L*fe+U*de+V*ve,i[t+1328>>2]=0,i[t+1332>>2]=xe*O+me*z+he*Y,i[t+1336>>2]=ae*O+oe*z+re*Y,i[t+1340>>2]=L*O+U*z+V*Y,i[t+1344>>2]=0,i[t+1348>>2]=a,i[t+1352>>2]=_,i[t+1356>>2]=l,i[t+1360>>2]=0,a=a-+i[t+1284>>2],_=_-+i[t+1288>>2],l=l-+i[t+1292>>2],re=+i[t+1256>>2],oe=+i[t+1276>>2],ae=+i[t+1260>>2],he=+i[t+1272>>2],me=+i[t+1268>>2],xe=+i[t+1252>>2],ve=+i[t+1236>>2],de=+i[t+1240>>2],fe=+i[t+1244>>2],k=1/((re*oe-ae*he)*ve+de*(ae*me-oe*xe)+(he*xe-re*me)*fe),M=(re*oe-ae*he)*k,B=(ae*me-oe*xe)*k,F=(he*xe-re*me)*k,o=l*((ae*de-re*fe)*k)+(a*M+_*((he*fe-oe*de)*k)),u=l*((xe*fe-ae*ve)*k)+(a*B+_*((oe*ve-me*fe)*k)),_=l*((re*ve-xe*de)*k)+(a*F+_*((me*de-he*ve)*k)),i[t+1428>>2]=o,i[t+1432>>2]=u,i[t+1436>>2]=_,i[t+1440>>2]=0,i[t+940>>2]=o,a=+i[t+680>>2],l=+i[t+696>>2];do if(a>l)i[t+908>>2]=0,e[t+956>>2]=0;else if(i[t+908>>2]=o-a,a==l){e[t+956>>2]=3;break}else{i[t+924>>2]=o-l,e[t+956>>2]=4;break}while(!1);i[t+944>>2]=u,o=+i[t+684>>2],a=+i[t+700>>2];do if(o>a)i[t+912>>2]=0,e[t+960>>2]=0;else if(i[t+912>>2]=u-o,o==a){e[t+960>>2]=3;break}else{i[t+928>>2]=u-a,e[t+960>>2]=4;break}while(!1);i[t+948>>2]=_,o=+i[t+688>>2],a=+i[t+704>>2];do if(o>a)i[t+916>>2]=0,e[t+964>>2]=0;else if(i[t+916>>2]=_-o,o==a){e[t+964>>2]=3;break}else{i[t+932>>2]=_-a,e[t+964>>2]=4;break}while(!1);switch(X=+i[t+1300>>2],ne=+i[t+1316>>2],W=+i[t+1332>>2],D=W*((ae*de-re*fe)*k)+(X*M+ne*((he*fe-oe*de)*k)),te=+i[t+1304>>2],pe=+i[t+1320>>2],_e=+i[t+1336>>2],N=M*te+(he*fe-oe*de)*k*pe+(ae*de-re*fe)*k*_e,$=+i[t+1308>>2],q=+i[t+1324>>2],_=M*$+(he*fe-oe*de)*k*q+(ae*de-re*fe)*k*(L*O+U*z+V*Y),M=W*((xe*fe-ae*ve)*k)+(X*B+ne*((oe*ve-me*fe)*k)),E=te*B+(oe*ve-me*fe)*k*pe+(xe*fe-ae*ve)*k*_e,a=B*$+(oe*ve-me*fe)*k*q+(xe*fe-ae*ve)*k*(L*O+U*z+V*Y),l=W*((re*ve-xe*de)*k)+(X*F+ne*((me*de-he*ve)*k)),u=te*F+(me*de-he*ve)*k*pe+(re*ve-xe*de)*k*_e,o=F*$+(me*de-he*ve)*k*q+(re*ve-xe*de)*k*(L*O+U*z+V*Y),e[t+1232>>2]|0){case 0:{do if(l<1)if(l>-1){i[t+1364>>2]=+gn(+-u,+o),de=l<-1?-1:l,i[t+1368>>2]=+Sa(+(de>1?1:de)),i[t+1372>>2]=+gn(+-M,+D);break}else{i[t+1364>>2]=-+gn(+N,+E),i[t+1368>>2]=-1.5707963705062866,i[t+1372>>2]=0;break}else i[t+1364>>2]=+gn(+N,+E),i[t+1368>>2]=1.5707963705062866,i[t+1372>>2]=0;while(!1);i[t+1396>>2]=W*ae-ne*oe,i[t+1400>>2]=X*oe-W*fe,i[t+1404>>2]=ne*fe-X*ae,i[t+1408>>2]=0,i[t+1380>>2]=oe*(X*oe-W*fe)-ae*(ne*fe-X*ae),i[t+1384>>2]=fe*(ne*fe-X*ae)-oe*(W*ae-ne*oe),i[t+1388>>2]=ae*(W*ae-ne*oe)-fe*(X*oe-W*fe),i[t+1392>>2]=0,i[t+1412>>2]=ne*(ne*fe-X*ae)-W*(X*oe-W*fe),i[t+1416>>2]=W*(W*ae-ne*oe)-X*(ne*fe-X*ae),i[t+1420>>2]=X*(X*oe-W*fe)-ne*(W*ae-ne*oe),i[t+1424>>2]=0,n=t+1380|0,s=t+1384|0,h=t+1388|0,d=t+1396|0,m=t+1400|0,g=t+1404|0,S=t+1412|0,C=t+1416|0,w=t+1420|0,l=oe*(X*oe-W*fe)-ae*(ne*fe-X*ae),u=fe*(ne*fe-X*ae)-oe*(W*ae-ne*oe),_=ae*(W*ae-ne*oe)-fe*(X*oe-W*fe),M=W*ae-ne*oe,E=X*oe-W*fe,D=ne*fe-X*ae,N=ne*(ne*fe-X*ae)-W*(X*oe-W*fe),a=W*(W*ae-ne*oe)-X*(ne*fe-X*ae),o=X*(X*oe-W*fe)-ne*(W*ae-ne*oe);break}case 1:{do if(M<1)if(M>-1){i[t+1364>>2]=+gn(+a,+E),i[t+1368>>2]=+gn(+l,+D),fe=-M<-1?-1:-M,i[t+1372>>2]=+Sa(+(fe>1?1:fe));break}else{i[t+1364>>2]=-+gn(+-_,+o),i[t+1368>>2]=0,i[t+1372>>2]=1.5707963705062866;break}else i[t+1364>>2]=+gn(+-_,+o),i[t+1368>>2]=0,i[t+1372>>2]=-1.5707963705062866;while(!1);i[t+1412>>2]=ne*he-W*re,i[t+1416>>2]=W*de-X*he,i[t+1420>>2]=X*re-ne*de,i[t+1424>>2]=0,i[t+1380>>2]=re*(X*re-ne*de)-he*(W*de-X*he),i[t+1384>>2]=he*(ne*he-W*re)-de*(X*re-ne*de),i[t+1388>>2]=de*(W*de-X*he)-re*(ne*he-W*re),i[t+1392>>2]=0,i[t+1396>>2]=W*(W*de-X*he)-ne*(X*re-ne*de),i[t+1400>>2]=X*(X*re-ne*de)-W*(ne*he-W*re),i[t+1404>>2]=ne*(ne*he-W*re)-X*(W*de-X*he),i[t+1408>>2]=0,n=t+1380|0,s=t+1384|0,h=t+1388|0,d=t+1396|0,m=t+1400|0,g=t+1404|0,S=t+1412|0,C=t+1416|0,w=t+1420|0,l=re*(X*re-ne*de)-he*(W*de-X*he),u=he*(ne*he-W*re)-de*(X*re-ne*de),_=de*(W*de-X*he)-re*(ne*he-W*re),M=W*(W*de-X*he)-ne*(X*re-ne*de),E=X*(X*re-ne*de)-W*(ne*he-W*re),D=ne*(ne*he-W*re)-X*(W*de-X*he),N=ne*he-W*re,a=W*de-X*he,o=X*re-ne*de;break}case 2:{do if(u<1)if(u>-1){de=-u<-1?-1:-u,i[t+1364>>2]=+Sa(+(de>1?1:de)),i[t+1368>>2]=+gn(+l,+o),i[t+1372>>2]=+gn(+N,+E);break}else{i[t+1364>>2]=1.5707963705062866,i[t+1368>>2]=-+gn(+-M,+D),i[t+1372>>2]=0;break}else i[t+1364>>2]=-1.5707963705062866,i[t+1368>>2]=+gn(+-M,+D),i[t+1372>>2]=0;while(!1);i[t+1380>>2]=pe*oe-_e*ae,i[t+1384>>2]=_e*fe-te*oe,i[t+1388>>2]=te*ae-pe*fe,i[t+1392>>2]=0,i[t+1396>>2]=ae*(te*ae-pe*fe)-oe*(_e*fe-te*oe),i[t+1400>>2]=oe*(pe*oe-_e*ae)-fe*(te*ae-pe*fe),i[t+1404>>2]=fe*(_e*fe-te*oe)-ae*(pe*oe-_e*ae),i[t+1408>>2]=0,i[t+1412>>2]=_e*(_e*fe-te*oe)-pe*(te*ae-pe*fe),i[t+1416>>2]=te*(te*ae-pe*fe)-_e*(pe*oe-_e*ae),i[t+1420>>2]=pe*(pe*oe-_e*ae)-te*(_e*fe-te*oe),i[t+1424>>2]=0,n=t+1380|0,s=t+1384|0,h=t+1388|0,d=t+1396|0,m=t+1400|0,g=t+1404|0,S=t+1412|0,C=t+1416|0,w=t+1420|0,l=pe*oe-_e*ae,u=_e*fe-te*oe,_=te*ae-pe*fe,M=ae*(te*ae-pe*fe)-oe*(_e*fe-te*oe),E=oe*(pe*oe-_e*ae)-fe*(te*ae-pe*fe),D=fe*(_e*fe-te*oe)-ae*(pe*oe-_e*ae),N=_e*(_e*fe-te*oe)-pe*(te*ae-pe*fe),a=te*(te*ae-pe*fe)-_e*(pe*oe-_e*ae),o=pe*(pe*oe-_e*ae)-te*(_e*fe-te*oe);break}case 3:{do if(N<1)if(N>-1){i[t+1364>>2]=+gn(+-u,+E),i[t+1368>>2]=+gn(+-_,+D),fe=N<-1?-1:N,i[t+1372>>2]=+Sa(+(fe>1?1:fe));break}else{i[t+1364>>2]=0,i[t+1368>>2]=-+gn(+a,+o),i[t+1372>>2]=-1.5707963705062866;break}else i[t+1364>>2]=0,i[t+1368>>2]=+gn(+a,+o),i[t+1372>>2]=1.5707963705062866;while(!1);i[t+1412>>2]=xe*_e-me*pe,i[t+1416>>2]=me*te-ve*_e,i[t+1420>>2]=ve*pe-xe*te,i[t+1424>>2]=0,i[t+1380>>2]=pe*(ve*pe-xe*te)-_e*(me*te-ve*_e),i[t+1384>>2]=_e*(xe*_e-me*pe)-te*(ve*pe-xe*te),i[t+1388>>2]=te*(me*te-ve*_e)-pe*(xe*_e-me*pe),i[t+1392>>2]=0,i[t+1396>>2]=me*(me*te-ve*_e)-xe*(ve*pe-xe*te),i[t+1400>>2]=ve*(ve*pe-xe*te)-me*(xe*_e-me*pe),i[t+1404>>2]=xe*(xe*_e-me*pe)-ve*(me*te-ve*_e),i[t+1408>>2]=0,n=t+1380|0,s=t+1384|0,h=t+1388|0,d=t+1396|0,m=t+1400|0,g=t+1404|0,S=t+1412|0,C=t+1416|0,w=t+1420|0,l=pe*(ve*pe-xe*te)-_e*(me*te-ve*_e),u=_e*(xe*_e-me*pe)-te*(ve*pe-xe*te),_=te*(me*te-ve*_e)-pe*(xe*_e-me*pe),M=me*(me*te-ve*_e)-xe*(ve*pe-xe*te),E=ve*(ve*pe-xe*te)-me*(xe*_e-me*pe),D=xe*(xe*_e-me*pe)-ve*(me*te-ve*_e),N=xe*_e-me*pe,a=me*te-ve*_e,o=ve*pe-xe*te;break}case 4:{do if(a<1)if(a>-1){fe=a<-1?-1:a,i[t+1364>>2]=+Sa(+(fe>1?1:fe)),i[t+1368>>2]=+gn(+-_,+o),i[t+1372>>2]=+gn(+-M,+E);break}else{i[t+1364>>2]=-1.5707963705062866,i[t+1368>>2]=0,i[t+1372>>2]=-+gn(+l,+D);break}else i[t+1364>>2]=1.5707963705062866,i[t+1368>>2]=0,i[t+1372>>2]=+gn(+l,+D);while(!1);fe=re*(L*O+U*z+V*Y)-he*q,o=he*$-de*(L*O+U*z+V*Y),i[t+1380>>2]=fe,i[t+1384>>2]=o,i[t+1388>>2]=de*q-re*$,i[t+1392>>2]=0,M=q*(de*q-re*$)-(L*O+U*z+V*Y)*o,E=(L*O+U*z+V*Y)*fe-$*(de*q-re*$),i[t+1396>>2]=M,i[t+1400>>2]=E,i[t+1404>>2]=$*o-q*fe,i[t+1408>>2]=0,i[t+1412>>2]=he*o-re*(de*q-re*$),i[t+1416>>2]=de*(de*q-re*$)-he*fe,i[t+1420>>2]=re*fe-de*o,i[t+1424>>2]=0,n=t+1380|0,s=t+1384|0,h=t+1388|0,d=t+1396|0,m=t+1400|0,g=t+1404|0,S=t+1412|0,C=t+1416|0,w=t+1420|0,l=fe,u=o,_=de*q-re*$,D=$*o-q*fe,N=he*o-re*(de*q-re*$),a=de*(de*q-re*$)-he*fe,o=re*fe-de*o;break}case 5:{do if(_<1)if(_>-1){i[t+1364>>2]=+gn(+a,+o),fe=-_<-1?-1:-_,i[t+1368>>2]=+Sa(+(fe>1?1:fe)),i[t+1372>>2]=+gn(+N,+D);break}else{i[t+1364>>2]=0,i[t+1368>>2]=1.5707963705062866,i[t+1372>>2]=-+gn(+M,+l);break}else i[t+1364>>2]=0,i[t+1368>>2]=-1.5707963705062866,i[t+1372>>2]=+gn(+-M,+-l);while(!1);o=me*q-xe*(L*O+U*z+V*Y),fe=ve*(L*O+U*z+V*Y)-me*$,i[t+1396>>2]=o,i[t+1400>>2]=fe,i[t+1404>>2]=xe*$-ve*q,i[t+1408>>2]=0,l=(L*O+U*z+V*Y)*fe-q*(xe*$-ve*q),u=$*(xe*$-ve*q)-(L*O+U*z+V*Y)*o,i[t+1380>>2]=l,i[t+1384>>2]=u,i[t+1388>>2]=q*o-$*fe,i[t+1392>>2]=0,i[t+1412>>2]=xe*(xe*$-ve*q)-me*fe,i[t+1416>>2]=me*o-ve*(xe*$-ve*q),i[t+1420>>2]=ve*fe-xe*o,i[t+1424>>2]=0,n=t+1380|0,s=t+1384|0,h=t+1388|0,d=t+1396|0,m=t+1400|0,g=t+1404|0,S=t+1412|0,C=t+1416|0,w=t+1420|0,_=q*o-$*fe,M=o,E=fe,D=xe*$-ve*q,N=xe*(xe*$-ve*q)-me*fe,a=me*o-ve*(xe*$-ve*q),o=ve*fe-xe*o;break}default:n=t+1380|0,s=t+1384|0,h=t+1388|0,d=t+1396|0,m=t+1400|0,g=t+1404|0,S=t+1412|0,C=t+1416|0,w=t+1420|0,l=+i[t+1380>>2],u=+i[t+1384>>2],_=+i[t+1388>>2],M=+i[t+1396>>2],E=+i[t+1400>>2],D=+i[t+1404>>2],N=+i[t+1412>>2],a=+i[t+1416>>2],o=+i[t+1420>>2]}de=1/+at(+(l*l+u*u+_*_)),i[n>>2]=l*de,i[s>>2]=u*de,i[h>>2]=_*de,de=1/+at(+(M*M+E*E+D*D)),i[d>>2]=M*de,i[m>>2]=E*de,i[g>>2]=D*de,de=1/+at(+(N*N+a*a+o*o)),i[S>>2]=N*de,i[C>>2]=a*de,i[w>>2]=o*de,de=+i[(e[t+28>>2]|0)+368>>2],fe=+i[(e[t+32>>2]|0)+368>>2],A[t+1452>>0]=(de<11920928955078125e-23|fe<11920928955078125e-23)&1,fe=de+fe>0?fe/(de+fe):.5,i[t+1444>>2]=fe,i[t+1448>>2]=1-fe}function B0e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0;switch(g=H,H=H+112|0,h=e[t+28>>2]|0,d=e[t+32>>2]|0,e[g+16>>2]=e[1836],e[g+16+4>>2]=e[1837],e[g+16+8>>2]=e[1838],e[t+1232>>2]|0){case 0:{e[g+16>>2]=0,e[g+16+4>>2]=1,e[g+16+8>>2]=2,s=0;break}case 1:{e[g+16>>2]=0,e[g+16+4>>2]=2,e[g+16+8>>2]=1,s=0;break}case 2:{e[g+16>>2]=1,e[g+16+4>>2]=0,e[g+16+8>>2]=2,s=1;break}case 3:{e[g+16>>2]=1,e[g+16+4>>2]=2,e[g+16+8>>2]=0,s=1;break}case 4:{e[g+16>>2]=2,e[g+16+4>>2]=0,e[g+16+8>>2]=1,s=2;break}case 5:{e[g+16>>2]=2,e[g+16+4>>2]=1,e[g+16+8>>2]=0,s=2;break}default:s=0}for(o=0,u=0;a=t+968+(s*88|0)|0,(e[t+968+(s*88|0)+84>>2]|0)==0&&(A[t+968+(s*88|0)+28>>0]|0)==0&&(A[t+968+(s*88|0)+48>>0]|0)==0||(l=t+1380+(s<<4)|0,e[g>>2]=e[l>>2],e[g+4>>2]=e[l+4>>2],e[g+8>>2]=e[l+8>>2],e[g+12>>2]=e[l+12>>2],l=e[t+1456>>2]>>(s<<2)+12,l&1||(e[t+968+(s*88|0)+16>>2]=e[e[n+32>>2]>>2]),l&2||(e[t+968+(s*88|0)+12>>2]=e[n+4>>2]),l&4||(e[t+968+(s*88|0)+24>>2]=e[e[n+32>>2]>>2]),l&8||(e[t+968+(s*88|0)+20>>2]=e[n+4>>2]),u=(Fm(t,a,h+4|0,d+4|0,h+336|0,d+336|0,h+352|0,d+352|0,n,u,g,1,0)|0)+u|0),o=o+1|0,(o|0)!=3;)s=e[g+16+(o<<2)>>2]|0;for(i[g+16>>2]=1,i[g+16+4>>2]=-1,i[g+16+8>>2]=0,i[g+16+12>>2]=.20000000298023224,i[g+16+16>>2]=0,i[g+16+20>>2]=.8999999761581421,i[g+16+24>>2]=0,A[g+16+28>>0]=0,i[g+16+32>>2]=0,i[g+16+36>>2]=.10000000149011612,A[g+16+40>>0]=0,i[g+16+44>>2]=0,A[g+16+48>>0]=0,i[g+16+52>>2]=0,A[g+16+56>>0]=0,i[g+16+60>>2]=0,A[g+16+64>>0]=0,_=g+16+68|0,e[_>>2]=0,e[_+4>>2]=0,e[_+8>>2]=0,e[_+12>>2]=0,e[_+16>>2]=0,o=u,u=0;;){if(a=e[t+956+(u<<2)>>2]|0,s=A[t+792+u>>0]|0,l=A[t+798+u>>0]|0,(a|0)==0&s<<24>>24==0?l<<24>>24?(s=0,m=27):s=u+1|0:m=27,(m|0)==27){switch(m=0,e[g+16+8>>2]=e[t+712+(u<<2)>>2],e[g+16+84>>2]=a,e[g+16+80>>2]=e[t+940+(u<<2)>>2],e[g+16+72>>2]=e[t+908+(u<<2)>>2],e[g+16+76>>2]=e[t+924+(u<<2)>>2],A[g+16+28>>0]=s,A[g+16+40>>0]=A[t+795+u>>0]|0,e[g+16+44>>2]=e[t+804+(u<<2)>>2],A[g+16+48>>0]=l,e[g+16+52>>2]=e[t+820+(u<<2)>>2],A[g+16+56>>0]=A[t+836+u>>0]|0,e[g+16+60>>2]=e[t+840+(u<<2)>>2],A[g+16+64>>0]=A[t+856+u>>0]|0,e[_>>2]=e[t+860+(u<<2)>>2],e[g+16+4>>2]=e[t+696+(u<<2)>>2],e[g+16>>2]=e[t+680+(u<<2)>>2],e[g+16+36>>2]=e[t+892+(u<<2)>>2],e[g+16+32>>2]=e[t+876+(u<<2)>>2],e[g>>2]=e[t+1236+(u<<2)>>2],e[g+4>>2]=e[t+1252+(u<<2)>>2],e[g+8>>2]=e[t+1268+(u<<2)>>2],i[g+12>>2]=0,a=e[t+1456>>2]>>(u<<2),a&1?s=t+744+(u<<2)|0:s=e[n+32>>2]|0,e[g+16+16>>2]=e[s>>2],e[g+16+12>>2]=e[((a&2|0)==0?n+4|0:t+728+(u<<2)|0)>>2],a&4?s=t+776+(u<<2)|0:s=e[n+32>>2]|0,e[g+16+24>>2]=e[s>>2],e[g+16+20>>2]=e[((a&8|0)==0?n+4|0:t+760+(u<<2)|0)>>2],s=u+1|0,l=(s|0)==3?0:s,u=(u+2|0)%3|0,a=e[t+968+(l*88|0)+84>>2]|0,a|0){case 2:case 1:{l=1;break}case 3:{S=+i[t+968+(l*88|0)+72>>2],l=S<-.001|S>.001;break}default:(a|0)==4?+i[t+968+(l*88|0)+72>>2]<-.001?l=1:l=+i[t+968+(l*88|0)+76>>2]>.001:l=0}switch(e[t+968+(u*88|0)+84>>2]|0){case 2:case 1:{m=42;break}case 3:{S=+i[t+968+(u*88|0)+72>>2],S<-.001|S>.001?m=42:a=1;break}case 4:{!(+i[t+968+(u*88|0)+72>>2]<-.001)&&!(+i[t+968+(u*88|0)+76>>2]>.001)?a=1:m=42;break}default:a=1}(m|0)==42&&(m=0,a=0),o=(Fm(t,g+16|0,h+4|0,d+4|0,h+336|0,d+336|0,h+352|0,d+352|0,n,o,g,0,l?a:1)|0)+o|0}if((s|0)==3)break;u=s}H=g}function U0e(t,n,s){t=t|0,n=n|0,s=+s;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;if(_=H,H=H+32|0,m=+i[t+60>>2],w=+i[t+76>>2]-m,d=+i[t+64>>2],S=+i[t+80>>2]-d,h=+i[t+68>>2],M=+i[t+84>>2]-h,g=+i[t+92>>2]-m,C=+i[t+96>>2]-d,l=+i[t+100>>2]-h,u=1/+at(+((w*C-S*g)*(w*C-S*g)+((S*l-M*C)*(S*l-M*C)+(M*g-w*l)*(M*g-w*l)))),a=u*(S*l-M*C),l=u*(M*g-w*l),u=(w*C-S*g)*u,h=u*+i[n+8>>2]+(+i[n>>2]*a+ +i[n+4>>2]*l)-(a*m+l*d+u*h),!(h>=-s)|!(h<=s))return t=0,H=_,t|0;for(o=0;;){if(Kt[e[(e[t>>2]|0)+104>>2]&127](t,o,_+16|0,_),m=+i[_+16>>2],M=+i[_>>2]-m,S=+i[_+16+4>>2],g=+i[_+4>>2]-S,d=+i[_+16+8>>2],w=+i[_+8>>2]-d,C=1/+at(+((l*M-a*g)*(l*M-a*g)+((u*g-l*w)*(u*g-l*w)+(a*w-u*M)*(a*w-u*M)))),o=o+1|0,(l*M-a*g)*C*+i[n+8>>2]+(+i[n>>2]*(C*(u*g-l*w))+ +i[n+4>>2]*(C*(a*w-u*M)))-(d*((l*M-a*g)*C)+(m*(C*(u*g-l*w))+S*(C*(a*w-u*M))))<-s){o=0,n=5;break}if((o|0)>=3){o=1,n=5;break}}return(n|0)==5?(H=_,o|0):0}function O0e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0;l=+i[t+60>>2],h=+i[t+76>>2]-l,_=+i[t+64>>2],u=+i[t+80>>2]-_,d=+i[t+68>>2],m=+i[t+84>>2]-d,l=+i[t+92>>2]-l,_=+i[t+96>>2]-_,d=+i[t+100>>2]-d,i[s+12>>2]=0,a=1/+at(+((h*_-u*l)*(h*_-u*l)+((u*d-m*_)*(u*d-m*_)+(m*l-h*d)*(m*l-h*d)))),i[s>>2]=(u*d-m*_)*a,i[s+4>>2]=(m*l-h*d)*a,i[s+8>>2]=(h*_-u*l)*a,e[o>>2]=e[t+60>>2],e[o+4>>2]=e[t+60+4>>2],e[o+8>>2]=e[t+60+8>>2],e[o+12>>2]=e[t+60+12>>2]}function G0e(t){t=t|0;var n=0;e[t>>2]=3720,e[t+12>>2]=3748,n=e[t+60>>2]|0,zt[e[(e[n>>2]|0)+20>>2]&127](n,e[t+76>>2]|0),n=e[t+60>>2]|0,zt[e[(e[n>>2]|0)+16>>2]&127](n,e[t+76>>2]|0),ye(t)}function V0e(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0;if(u=H,H=H+64|0,_=(A[t+8>>0]|0)!=0,l=_?s:n,n=_?n:s,s=e[n+4>>2]|0,((e[s+4>>2]|0)+-21|0)>>>0>=9){H=u;return}if((e[(e[l+4>>2]|0)+4>>2]|0)>=20){H=u;return}h=+Tt[e[(e[s>>2]|0)+48>>2]&15](s),e[a+4>>2]=e[t+76>>2],e[t+16>>2]=l,e[t+20>>2]=n,e[t+64>>2]=o,i[t+68>>2]=h,e[t+56>>2]=a,_=e[n+12>>2]|0,U=+i[_>>2],L=+i[_+16>>2],F=+i[_+32>>2],k=+i[_+4>>2],B=+i[_+20>>2],N=+i[_+36>>2],w=+i[_+8>>2],S=+i[_+24>>2],m=+i[_+40>>2],D=-+i[_+48>>2],E=-+i[_+52>>2],M=-+i[_+56>>2],_=e[l+12>>2]|0,W=+i[_>>2],ne=+i[_+16>>2],X=+i[_+32>>2],q=+i[_+4>>2],$=+i[_+20>>2],Y=+i[_+36>>2],z=+i[_+8>>2],O=+i[_+24>>2],V=+i[_+40>>2],C=+i[_+48>>2],g=+i[_+52>>2],d=+i[_+56>>2],i[u>>2]=U*W+L*ne+F*X,i[u+4>>2]=U*q+L*$+F*Y,i[u+8>>2]=U*z+L*O+F*V,i[u+12>>2]=0,i[u+16>>2]=k*W+B*ne+N*X,i[u+20>>2]=k*q+B*$+N*Y,i[u+24>>2]=k*z+B*O+N*V,i[u+28>>2]=0,i[u+32>>2]=w*W+S*ne+m*X,i[u+36>>2]=w*q+S*$+m*Y,i[u+40>>2]=w*z+S*O+m*V,i[u+44>>2]=0,i[u+48>>2]=U*D+L*E+F*M+(U*C+L*g+F*d),i[u+52>>2]=k*D+B*E+N*M+(k*C+B*g+N*d),i[u+56>>2]=w*D+S*E+m*M+(w*C+S*g+m*d),i[u+60>>2]=0,_=e[(e[t+16>>2]|0)+4>>2]|0,Kt[e[(e[_>>2]|0)+8>>2]&127](_,u,t+24|0,t+40|0),i[t+40>>2]=+i[t+40>>2]+h,i[t+44>>2]=+i[t+44>>2]+h,i[t+48>>2]=+i[t+48>>2]+h,i[t+24>>2]=+i[t+24>>2]-h,i[t+28>>2]=+i[t+28>>2]-h,i[t+32>>2]=+i[t+32>>2]-h,_=e[t+76>>2]|0,o=e[n+8>>2]|0,e[_+740>>2]=e[l+8>>2],e[_+744>>2]=o,Kt[e[(e[s>>2]|0)+64>>2]&127](s,t+12|0,t+24|0,t+40|0),s=e[a+4>>2]|0;do if(e[s+748>>2]|0)if(l=e[s+740>>2]|0,o=e[(e[a+8>>2]|0)+8>>2]|0,n=e[(e[a+12>>2]|0)+8>>2]|0,(l|0)==(o|0)){m2(s,l+4|0,n+4|0);break}else{m2(s,n+4|0,o+4|0);break}while(!1);e[t+16>>2]=0,e[t+20>>2]=0,H=u}function z0e(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0;return fe=H,H=H+240|0,o=(A[t+8>>0]|0)!=0,a=o?s:n,o=o?n:s,ae=+i[a+116>>2]-+i[a+52>>2],xe=+i[a+120>>2]-+i[a+56>>2],ve=+i[a+124>>2]-+i[a+60>>2],de=+i[a+256>>2],ae*ae+xe*xe+ve*ve<de*de||(Y=+i[o+4>>2],$=+i[o+20>>2],q=+i[o+36>>2],X=+i[o+8>>2],ne=+i[o+24>>2],W=+i[o+40>>2],te=+i[o+12>>2],pe=+i[o+28>>2],_e=+i[o+44>>2],u=-+i[o+52>>2],_=-+i[o+56>>2],h=-+i[o+60>>2],he=+i[a+4>>2],me=+i[a+20>>2],re=+i[a+36>>2],oe=+i[a+8>>2],ae=+i[a+24>>2],xe=+i[a+40>>2],ve=+i[a+12>>2],de=+i[a+28>>2],g=+i[a+44>>2],E=+i[a+52>>2],M=+i[a+56>>2],w=+i[a+60>>2],S=Y*u+$*_+q*h+(Y*E+$*M+q*w),C=X*u+ne*_+W*h+(X*E+ne*M+W*w),w=te*u+pe*_+_e*h+(te*E+pe*M+_e*w),M=+i[a+68>>2],E=+i[a+84>>2],D=+i[a+100>>2],N=+i[a+72>>2],B=+i[a+88>>2],k=+i[a+104>>2],F=+i[a+76>>2],L=+i[a+92>>2],U=+i[a+108>>2],d=+i[a+116>>2],m=+i[a+120>>2],z=+i[a+124>>2],V=Y*u+$*_+q*h+(Y*d+$*m+q*z),O=X*u+ne*_+W*h+(X*d+ne*m+W*z),z=te*u+pe*_+_e*h+(te*d+pe*m+_e*z),o=e[o+192>>2]|0,((e[o+4>>2]|0)+-21|0)>>>0>=9)?(Ce=1,H=fe,+Ce):(i[fe+224>>2]=S,i[fe+224+4>>2]=C,i[fe+224+8>>2]=w,i[fe+224+12>>2]=0,V<S?(i[fe+224>>2]=V,l=V):l=S,O<C?(i[fe+224+4>>2]=O,u=O):u=C,z<w?(i[fe+224+8>>2]=z,_=z):_=w,i[fe+208>>2]=S,i[fe+208+4>>2]=C,i[fe+208+8>>2]=w,i[fe+208+12>>2]=0,S<V?(i[fe+208>>2]=V,h=V):h=S,C<O?(i[fe+208+4>>2]=O,d=O):d=C,w<z?(i[fe+208+8>>2]=z,m=z):m=w,we=+i[a+252>>2],i[fe+224>>2]=l-we,i[fe+224+4>>2]=u-we,i[fe+224+8>>2]=_-we,i[fe+208>>2]=we+h,i[fe+208+4>>2]=we+d,i[fe+208+8>>2]=we+m,e[fe>>2]=3904,i[fe+4>>2]=Y*he+$*me+q*re,i[fe+8>>2]=Y*oe+$*ae+q*xe,i[fe+12>>2]=Y*ve+$*de+q*g,i[fe+16>>2]=0,i[fe+20>>2]=X*he+ne*me+W*re,i[fe+24>>2]=X*oe+ne*ae+W*xe,i[fe+28>>2]=X*ve+ne*de+W*g,i[fe+32>>2]=0,i[fe+36>>2]=te*he+pe*me+_e*re,i[fe+40>>2]=te*oe+pe*ae+_e*xe,i[fe+44>>2]=te*ve+pe*de+_e*g,i[fe+48>>2]=0,i[fe+52>>2]=S,i[fe+56>>2]=C,i[fe+60>>2]=w,i[fe+64>>2]=0,i[fe+68>>2]=Y*M+$*E+q*D,i[fe+72>>2]=Y*N+$*B+q*k,i[fe+76>>2]=Y*F+$*L+q*U,i[fe+80>>2]=0,i[fe+84>>2]=X*M+ne*E+W*D,i[fe+88>>2]=X*N+ne*B+W*k,i[fe+92>>2]=X*F+ne*L+W*U,i[fe+96>>2]=0,i[fe+100>>2]=te*M+pe*E+_e*D,i[fe+104>>2]=te*N+pe*B+_e*k,i[fe+108>>2]=te*F+pe*L+_e*U,i[fe+112>>2]=0,i[fe+116>>2]=V,i[fe+120>>2]=O,i[fe+124>>2]=z,i[fe+128>>2]=0,i[fe+196>>2]=we,e[fe+200>>2]=e[a+248>>2],o|0&&(Kt[e[(e[o>>2]|0)+64>>2]&127](o,fe,fe+224|0,fe+208|0),Ce=+i[fe+200>>2],Ce<+i[a+248>>2])?(i[a+248>>2]=Ce,we=Ce,H=fe,+we):(we=1,H=fe,+we))}function W0e(t){t=t|0,ye(t)}function H0e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;if(o=H,H=H+784|0,e[o+720>>2]=1065353216,e[o+720+4>>2]=0,e[o+720+4+4>>2]=0,e[o+720+4+8>>2]=0,e[o+720+4+12>>2]=0,e[o+720+20>>2]=1065353216,e[o+720+24>>2]=0,e[o+720+24+4>>2]=0,e[o+720+24+8>>2]=0,e[o+720+24+12>>2]=0,e[o+720+40>>2]=1065353216,s=o+720+44|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[s+16>>2]=0,e[o+544>>2]=3316,e[o+544+168>>2]=0,i[o+544+172>>2]=0,e[o+544+164>>2]=e[t+200>>2],s=e[t+196>>2]|0,e[o+488+8>>2]=0,e[o+488+12>>2]=-1,e[o+488+16>>2]=1065353216,e[o+488+20>>2]=1065353216,e[o+488+24>>2]=1065353216,i[o+488+28>>2]=0,e[o+488>>2]=6380,e[o+488+4>>2]=8,e[o+488+32>>2]=s,e[o+488+48>>2]=s,e[o+376+8>>2]=0,e[o+376+12>>2]=-1,e[o+376+16>>2]=1065353216,e[o+376+20>>2]=1065353216,e[o+376+24>>2]=1065353216,i[o+376+28>>2]=0,i[o+376+48>>2]=.03999999910593033,e[o+376+56>>2]=0,e[o+376>>2]=3768,e[o+376+4>>2]=1,e[o+376+60>>2]=e[n>>2],e[o+376+60+4>>2]=e[n+4>>2],e[o+376+60+8>>2]=e[n+8>>2],e[o+376+60+12>>2]=e[n+12>>2],e[o+376+76>>2]=e[n+16>>2],e[o+376+76+4>>2]=e[n+16+4>>2],e[o+376+76+8>>2]=e[n+16+8>>2],e[o+376+76+12>>2]=e[n+16+12>>2],e[o+376+92>>2]=e[n+32>>2],e[o+376+92+4>>2]=e[n+32+4>>2],e[o+376+92+8>>2]=e[n+32+8>>2],e[o+376+92+12>>2]=e[n+32+12>>2],i[o+16+308>>2]=9999999747378752e-20,A[o+16+332>>0]=0,e[o>>2]=7024,e[o+4>>2]=o+16,e[o+8>>2]=o+488,e[o+12>>2]=o+376,B6(o,t+4|0,t+68|0,o+720|0,o+720|0,o+544|0)|0&&(a=+i[o+544+164>>2],+i[t+200>>2]>a)&&(i[t+200>>2]=a),e[o+376>>2]=6248,s=e[o+376+56>>2]|0,!s){H=o;return}if(Vt[e[e[s>>2]>>2]&255](s),s=e[o+376+56>>2]|0,!s){H=o;return}e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),H=o}function j0e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+76>>2]|0,!!s){if(o=e[n+4>>2]|0,(o|0)==(e[n+8>>2]|0)&&(l=o|0?o<<1:1,(o|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[n+4>>2]|0):s=0,(o|0)>0){a=0;do e[s+(a<<2)>>2]=e[(e[n+12>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[n+12>>2]|0,a&&(A[n+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[n+4>>2]|0),e[n+12>>2]=0),A[n+16>>0]=1,e[n+12>>2]=s,e[n+8>>2]=l,s=e[t+76>>2]|0}e[(e[n+12>>2]|0)+(o<<2)>>2]=s,e[n+4>>2]=o+1}}function q0e(t){t=t|0}function X0e(t){t=t|0,ye(t)}function $0e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0;return o=e[n>>2]|0,o=I0[e[(e[o>>2]|0)+56>>2]&31](o,36)|0,a=e[n+4>>2]|0,u=e[t+12>>2]|0,l=e[t+8>>2]|0,s=e[t+16>>2]|0,t=e[t+20>>2]|0,e[o+4>>2]=e[n>>2],e[o>>2]=3944,e[o+8>>2]=u,e[o+12>>2]=l,A[o+16>>0]=0,e[o+20>>2]=a,A[o+24>>0]=0,e[o+28>>2]=s,e[o+32>>2]=t,o|0}function Y0e(t){t=t|0;var n=0;e[t>>2]=3944,A[t+16>>0]|0&&(n=e[t+20>>2]|0,n&&(t=e[t+4>>2]|0,zt[e[(e[t>>2]|0)+16>>2]&127](t,n)))}function K0e(t){t=t|0;var n=0,s=0;if(e[t>>2]=3944,!(A[t+16>>0]|0)){ye(t);return}if(n=e[t+20>>2]|0,!n){ye(t);return}s=e[t+4>>2]|0,zt[e[(e[s>>2]|0)+16>>2]&127](s,n),ye(t)}function Z0e(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,ot=0,mt=0,lt=0,pt=0,Nt=0,st=0,Te=0,kt=0,it=0;if(Te=H,H=H+688|0,u=e[t+20>>2]|0,u||(u=e[t+4>>2]|0,u=V0[e[(e[u>>2]|0)+12>>2]&63](u,e[n+8>>2]|0,e[s+8>>2]|0)|0,e[t+20>>2]=u,A[t+16>>0]=1),e[a+4>>2]=u,pt=e[n+4>>2]|0,Nt=e[s+4>>2]|0,l=e[pt+4>>2]|0,_=e[Nt+4>>2]|0,(l|0)==10&(_|0)==10){if(te=+i[u+752>>2],mt=e[pt+56>>2]|0,C=+i[pt+32+(mt<<2)>>2],W=+i[pt+32+(((mt+2|0)%3|0)<<2)>>2],st=e[Nt+56>>2]|0,w=+i[Nt+32+(st<<2)>>2],X=+i[Nt+32+(((st+2|0)%3|0)<<2)>>2],t=e[n+12>>2]|0,l=e[s+12>>2]|0,U=+i[t+(mt<<2)>>2],z=+i[t+16+(mt<<2)>>2],V=+i[t+32+(mt<<2)>>2],g=+i[l+(st<<2)>>2],S=+i[l+16+(st<<2)>>2],N=+i[l+32+(st<<2)>>2],B=+i[l+48>>2]-+i[t+48>>2],k=+i[l+52>>2]-+i[t+52>>2],L=+i[l+56>>2]-+i[t+56>>2],d=1-(U*g+z*S+V*N)*(U*g+z*S+V*N),d!=0?(d=(U*B+z*k+V*L-(U*g+z*S+V*N)*(g*B+S*k+N*L))/d,d<-C?d=-C:d>C&&(d=C)):d=0,m=(U*g+z*S+V*N)*d-(g*B+S*k+N*L),m<-w?(d=(U*g+z*S+V*N)*-w+(U*B+z*k+V*L),d<-C?(d=-C,m=-w):(d>C&&(d=C),m=-w)):m>w&&(d=w*(U*g+z*S+V*N)+(U*B+z*k+V*L),d<-C?(d=-C,m=w):(d>C&&(d=C),m=w)),E=g*m,M=S*m,w=N*m,m=E+(B-U*d),S=M+(k-z*d),d=w+(L-V*d),C=+at(+(d*d+(m*m+S*S))),!(C-W-X>te)){do if(d*d+(m*m+S*S)<=14210854715202004e-30)if(+ht(+V)>.7071067690849304){d=1/+at(+(z*z+V*V)),i[Te+280>>2]=0,i[Te+280+4>>2]=-(V*d),i[Te+280+8>>2]=z*d,g=0,m=-(V*d),d=z*d;break}else{m=1/+at(+(U*U+z*z)),i[Te+280>>2]=-(z*m),i[Te+280+4>>2]=U*m,i[Te+280+8>>2]=0,g=-(z*m),m=U*m,d=0;break}else i[Te+280>>2]=m*-(1/C),i[Te+280+4>>2]=S*-(1/C),i[Te+280+8>>2]=d*-(1/C),i[Te+280+12>>2]=0,g=m*-(1/C),m=S*-(1/C),d=d*-(1/C);while(!1);ot=X*m+(M+ +i[l+52>>2]),lt=X*d+(w+ +i[l+56>>2]),i[Te+264>>2]=X*g+(E+ +i[l+48>>2]),i[Te+264+4>>2]=ot,i[Te+264+8>>2]=lt,i[Te+264+12>>2]=0}if(C-W-X<te&&(D2[e[(e[a>>2]|0)+16>>2]&15](a,Te+280|0,Te+264|0,C-W-X),u=e[a+4>>2]|0),!(e[u+748>>2]|0)){H=Te;return}if(_=e[u+740>>2]|0,h=e[(e[a+8>>2]|0)+8>>2]|0,l=e[(e[a+12>>2]|0)+8>>2]|0,(_|0)==(h|0)){m2(u,_+4|0,l+4|0),H=Te;return}else{m2(u,l+4|0,h+4|0),H=Te;return}}if(i[Te+128+128>>2]=0xde0b6b000000000,O=e[t+8>>2]|0,D=e[t+12>>2]|0,e[Te+48>>2]=6928,e[Te+48+4>>2]=0,e[Te+48+8>>2]=1065353216,e[Te+48+12>>2]=0,i[Te+48+16>>2]=0,e[Te+48+20>>2]=D,e[Te+48+24>>2]=O,e[Te+48+28>>2]=pt,e[Te+48+32>>2]=Nt,e[Te+48+36>>2]=l,e[Te+48+40>>2]=_,i[Te+48+44>>2]=+Tt[e[(e[pt>>2]|0)+48>>2]&15](pt),i[Te+48+48>>2]=+Tt[e[(e[Nt>>2]|0)+48>>2]&15](Nt),A[Te+48+52>>0]=0,e[Te+48+60>>2]=-1,e[Te+48+72>>2]=1,e[Te+48+76>>2]=1,e[Te+48+28>>2]=pt,e[Te+48+32>>2]=Nt,ot=+Tt[e[(e[pt>>2]|0)+48>>2]&15](pt),lt=+Tt[e[(e[Nt>>2]|0)+48>>2]&15](Nt),lt=ot+lt+ +i[(e[t+20>>2]|0)+752>>2],i[Te+128+128>>2]=lt*lt,O=e[n+12>>2]|0,e[Te+128>>2]=e[O>>2],e[Te+128+4>>2]=e[O+4>>2],e[Te+128+8>>2]=e[O+8>>2],e[Te+128+12>>2]=e[O+12>>2],_=Te+128+16|0,e[_>>2]=e[O+16>>2],e[_+4>>2]=e[O+16+4>>2],e[_+8>>2]=e[O+16+8>>2],e[_+12>>2]=e[O+16+12>>2],D=Te+128+32|0,e[D>>2]=e[O+32>>2],e[D+4>>2]=e[O+32+4>>2],e[D+8>>2]=e[O+32+8>>2],e[D+12>>2]=e[O+32+12>>2],F=Te+128+48|0,e[F>>2]=e[O+48>>2],e[F+4>>2]=e[O+48+4>>2],e[F+8>>2]=e[O+48+8>>2],e[F+12>>2]=e[O+48+12>>2],O=Te+128+64|0,l=e[s+12>>2]|0,e[O>>2]=e[l>>2],e[O+4>>2]=e[l+4>>2],e[O+8>>2]=e[l+8>>2],e[O+12>>2]=e[l+12>>2],Y=Te+128+80|0,e[Y>>2]=e[l+16>>2],e[Y+4>>2]=e[l+16+4>>2],e[Y+8>>2]=e[l+16+8>>2],e[Y+12>>2]=e[l+16+12>>2],$=Te+128+96|0,e[$>>2]=e[l+32>>2],e[$+4>>2]=e[l+32+4>>2],e[$+8>>2]=e[l+32+8>>2],e[$+12>>2]=e[l+32+12>>2],q=Te+128+112|0,e[q>>2]=e[l+48>>2],e[q+4>>2]=e[l+48+4>>2],e[q+8>>2]=e[l+48+8>>2],e[q+12>>2]=e[l+48+12>>2],l=e[pt+4>>2]|0,(l|0)<7&&(h=e[Nt+4>>2]|0,(h|0)<7)){e[Te+40>>2]=3972,l?(m=+Tt[e[(e[pt>>2]|0)+48>>2]&15](pt),l=e[Nt+4>>2]|0):(l=h,m=0),l?d=+Tt[e[(e[Nt>>2]|0)+48>>2]&15](Nt):d=0,e[Te>>2]=4e3,e[Te+4>>2]=a,i[Te+24>>2]=m,i[Te+28>>2]=d,A[Te+36>>0]=0,He=e[pt+56>>2]|0;e:do if(He|0){Ke=e[Nt+56>>2]|0;do if(Ke){lt=+i[(e[t+20>>2]|0)+752>>2];t:do if(!(A[o+24>>0]|0))l1(Te+48|0,Te+128|0,Te,e[o+20>>2]|0,0),d=+i[Te+32>>2],d<0&(A[Te+36>>0]|0)!=0&&(g=+i[Te+8>>2],S=+i[Te+16>>2],l=e[Te+20>>2]|0,m=+i[Te+12>>2],mt=111);else{Ae=e[n+12>>2]|0,qe=e[s+12>>2]|0,e[5297]=(e[5297]|0)+1,_e=+i[He+64>>2],we=+i[He+68>>2],d=+i[Ae+4>>2],be=+i[He+72>>2],m=+i[Ae+8>>2],g=+i[Ae+16>>2],S=+i[Ae+20>>2],C=+i[Ae+24>>2],w=+i[Ae+32>>2],M=+i[Ae+36>>2],E=+i[Ae+40>>2],Se=+i[Ke+64>>2],ge=+i[Ke+68>>2],ot=+i[Ke+72>>2],Ze=_e*+i[Ae>>2]+we*d+be*m+ +i[Ae+48>>2]-(Se*+i[qe>>2]+ge*+i[qe+4>>2]+ot*+i[qe+8>>2]+ +i[qe+48>>2]),ut=_e*g+we*S+be*C+ +i[Ae+52>>2]-(Se*+i[qe+16>>2]+ge*+i[qe+20>>2]+ot*+i[qe+24>>2]+ +i[qe+52>>2]),ot=_e*w+we*M+be*E+ +i[Ae+56>>2]-(Se*+i[qe+32>>2]+ge*+i[qe+36>>2]+ot*+i[qe+40>>2]+ +i[qe+56>>2]),_=e[He+28>>2]|0;i:do if((_|0)>0){for(L=m,U=g,k=S,V=0,z=34028234663852886e22,u=0,g=0,S=0,m=0;;){if(ke=e[He+36>>2]|0,be=+i[ke+(u*36|0)+20>>2],Se=+i[ke+(u*36|0)+24>>2],ge=+i[ke+(u*36|0)+28>>2],N=be*+i[Ae>>2]+Se*d+ge*L,C=be*U+Se*k+ge*C,d=be*w+Se*M+ge*E,i[Te+296>>2]=N,i[Te+296+4>>2]=C,i[Te+296+8>>2]=d,i[Te+296+12>>2]=0,Ze*N+ut*C+ot*d<0?(i[Te+296>>2]=-N,i[Te+296+4>>2]=-C,i[Te+296+8>>2]=-d,B=-N,C=-C,d=-d):B=N,e[5295]=(e[5295]|0)+1,Sh(Ae,qe,Ze,ut,ot,B,C,d,He,Ke,z)|0){e[5296]=(e[5296]|0)+1,Mc(He,Ae,Te+296|0,Te+624|0,Te+384|0,Te+360|0,Te+344|0),Mc(Ke,qe,Te+296|0,Te+380|0,Te+376|0,Te+328|0,Te+312|0),w=+i[Te+384>>2],M=+i[Te+380>>2];do if(w<M)l=0,M=V;else{if(E=+i[Te+376>>2],N=+i[Te+624>>2],E<N){l=0,M=V;break}l=1,M=w-M<E-N?w-M:E-N}while(!1);if(!l)break;M<z?(w=M,g=B,S=d,m=C):w=z,B=M,N=w}else B=V,N=z;if(l=u+1|0,(l|0)>=(_|0)){d=N;break i}d=+i[Ae+4>>2],L=+i[Ae+8>>2],U=+i[Ae+16>>2],k=+i[Ae+20>>2],C=+i[Ae+24>>2],w=+i[Ae+32>>2],M=+i[Ae+36>>2],E=+i[Ae+40>>2],V=B,z=N,u=l}break t}else d=34028234663852886e22,g=0,S=0,m=0;while(!1);_=e[Ke+28>>2]|0;i:do if((_|0)>0){for(L=0,u=0;;){if(ke=e[Ke+36>>2]|0,Se=+i[ke+(u*36|0)+20>>2],ge=+i[ke+(u*36|0)+24>>2],M=+i[ke+(u*36|0)+28>>2],C=Se*+i[qe>>2]+ge*+i[qe+4>>2]+M*+i[qe+8>>2],w=Se*+i[qe+16>>2]+ge*+i[qe+20>>2]+M*+i[qe+24>>2],M=Se*+i[qe+32>>2]+ge*+i[qe+36>>2]+M*+i[qe+40>>2],i[Te+296>>2]=C,i[Te+296+4>>2]=w,i[Te+296+8>>2]=M,i[Te+296+12>>2]=0,Ze*C+ut*w+ot*M<0&&(i[Te+296>>2]=-C,i[Te+296+4>>2]=-w,i[Te+296+8>>2]=-M,C=-C,w=-w,M=-M),e[5295]=(e[5295]|0)+1,Sh(Ae,qe,Ze,ut,ot,C,w,M,He,Ke,d)|0){e[5296]=(e[5296]|0)+1,Mc(He,Ae,Te+296|0,Te+624|0,Te+384|0,Te+360|0,Te+344|0),Mc(Ke,qe,Te+296|0,Te+380|0,Te+376|0,Te+328|0,Te+312|0),E=+i[Te+384>>2],N=+i[Te+380>>2];do if(E<N)l=0,E=L;else{if(B=+i[Te+376>>2],k=+i[Te+624>>2],B<k){l=0,E=L;break}l=1,E=E-N<B-k?E-N:B-k}while(!1);if(!l)break;E<d&&(d=E,g=C,S=M,m=w)}else E=L;if(u=u+1|0,(u|0)>=(_|0))break i;L=E}break t}while(!1);l=e[He+48>>2]|0;i:do if((l|0)>0){re=e[Ke+48>>2]|0,C=0,ke=0,Y=-1,O=-1,$=0,q=0,ne=0,he=0,me=0,o=0,h=0,D=0,F=0,oe=0,u=0,_=0,te=0,pe=0,_e=0,E=0,N=0,X=0;n:for(;;){if(Ce=e[He+56>>2]|0,W=+i[Ce+(ke<<4)>>2],we=+i[Ce+(ke<<4)+4>>2],ge=+i[Ce+(ke<<4)+8>>2],be=W*+i[Ae>>2]+we*+i[Ae+4>>2]+ge*+i[Ae+8>>2],Se=W*+i[Ae+16>>2]+we*+i[Ae+20>>2]+ge*+i[Ae+24>>2],ge=W*+i[Ae+32>>2]+we*+i[Ae+36>>2]+ge*+i[Ae+40>>2],(re|0)>0){for(V=C,re=0,we=g,W=S,z=m;;){Ce=e[Ke+56>>2]|0,M=+i[Ce+(re<<4)>>2],B=+i[Ce+(re<<4)+4>>2],U=+i[Ce+(re<<4)+8>>2],k=M*+i[qe>>2]+B*+i[qe+4>>2]+U*+i[qe+8>>2],L=M*+i[qe+16>>2]+B*+i[qe+20>>2]+U*+i[qe+24>>2],U=M*+i[qe+32>>2]+B*+i[qe+36>>2]+U*+i[qe+40>>2],i[Te+296>>2]=Se*U-ge*L,i[Te+296+4>>2]=ge*k-be*U,i[Te+296+8>>2]=be*L-Se*k,i[Te+296+12>>2]=0;do if(+ht(+(Se*U-ge*L))>1e-6)mt=75;else{if(+ht(+(ge*k-be*U))>1e-6){mt=75;break}+ht(+(be*L-Se*k))>1e-6?mt=75:(w=V,g=we,S=W,m=z,ae=$,xe=q,ve=ne,de=he,fe=me,Ce=o)}while(!1);do if((mt|0)==75){if(mt=0,S=1/+at(+((Se*U-ge*L)*(Se*U-ge*L)+(ge*k-be*U)*(ge*k-be*U)+(be*L-Se*k)*(be*L-Se*k))),g=(Se*U-ge*L)*S,i[Te+296>>2]=g,m=(ge*k-be*U)*S,i[Te+296+4>>2]=m,S=(be*L-Se*k)*S,i[Te+296+8>>2]=S,g*Ze+m*ut+ot*S<0&&(i[Te+296>>2]=-g,i[Te+296+4>>2]=-m,i[Te+296+8>>2]=-S,g=-g,m=-m,S=-S),e[5295]=(e[5295]|0)+1,!(Sh(Ae,qe,Ze,ut,ot,g,m,S,He,Ke,d)|0)){w=V,g=we,S=W,m=z,ae=$,xe=q,ve=ne,de=he,fe=me,Ce=o;break}e[5296]=(e[5296]|0)+1,Mc(He,Ae,Te+296|0,Te+624|0,Te+384|0,Te+360|0,Te+344|0),Mc(Ke,qe,Te+296|0,Te+380|0,Te+376|0,Te+328|0,Te+312|0),C=+i[Te+384>>2],w=+i[Te+380>>2];do if(C<w)l=0,C=V;else{if(M=+i[Te+376>>2],B=+i[Te+624>>2],M<B){l=0,C=V;break}if(C-w<M-B){l=1,C=C-w,$=e[Te+344>>2]|0,q=e[Te+344+4>>2]|0,ne=e[Te+344+8>>2]|0,he=e[Te+328>>2]|0,me=e[Te+328+4>>2]|0,o=e[Te+328+8>>2]|0;break}else{l=1,C=M-B,$=e[Te+360>>2]|0,q=e[Te+360+4>>2]|0,ne=e[Te+360+8>>2]|0,he=e[Te+312>>2]|0,me=e[Te+312+4>>2]|0,o=e[Te+312+8>>2]|0;break}}while(!1);if(!l)break n;if(!(C<d)){w=C,g=we,S=W,m=z,ae=$,xe=q,ve=ne,de=he,fe=me,Ce=o;break}w=C,d=C,Y=ke,O=re,ae=$,xe=q,ve=ne,de=he,fe=me,Ce=o,h=$,D=q,F=ne,oe=he,u=me,_=o,te=be,pe=Se,_e=ge,E=k,N=L,X=U}while(!1);if(re=re+1|0,l=e[Ke+48>>2]|0,(re|0)>=(l|0))break;V=w,we=g,W=S,z=m,$=ae,q=xe,ne=ve,he=de,me=fe,o=Ce}re=l,l=e[He+48>>2]|0,C=w,$=ae,q=xe,ne=ve,he=de,me=fe,o=Ce}if(ke=ke+1|0,(ke|0)>=(l|0)){l=oe;break i}}break t}else Y=-1,O=-1,h=0,D=0,F=0,l=0,u=0,_=0,te=0,pe=0,_e=0,E=0,N=0,X=0;while(!1);if((O|Y|0)>-1){W=(e[Z>>2]=l,+i[Z>>2]),U=W-(e[Z>>2]=h,+i[Z>>2]),z=(e[Z>>2]=u,+i[Z>>2]),L=z-(e[Z>>2]=D,+i[Z>>2]),V=(e[Z>>2]=_,+i[Z>>2]),k=V-(e[Z>>2]=F,+i[Z>>2]),C=E*te+N*pe+X*_e,w=U*te+L*pe+k*_e,d=U*E+L*N+k*X;do if(1-C*C==0)M=0;else{if((w-d*C)/(1-C*C)<-10000000150474662e14){M=-10000000150474662e14;break}if(!((w-d*C)/(1-C*C)>10000000150474662e14)){M=(w-d*C)/(1-C*C);break}M=10000000150474662e14}while(!1);d=C*M-d;do if(d<-10000000150474662e14){if(w-C*10000000150474662e14<-10000000150474662e14){C=-10000000150474662e14,d=-10000000150474662e14;break}if(!(w-C*10000000150474662e14>10000000150474662e14)){C=w-C*10000000150474662e14,d=-10000000150474662e14;break}C=10000000150474662e14,d=-10000000150474662e14}else{if(!(d>10000000150474662e14)){C=M;break}if(w+C*10000000150474662e14<-10000000150474662e14){C=-10000000150474662e14,d=10000000150474662e14;break}if(!(w+C*10000000150474662e14>10000000150474662e14)){C=w+C*10000000150474662e14,d=10000000150474662e14;break}C=10000000150474662e14,d=10000000150474662e14}while(!1);B=E*d,N=N*d,E=X*d,M=B+(U-te*C),w=N+(L-pe*C),d=E+(k-_e*C),i[Te+624>>2]=M,i[Te+624+4>>2]=w,i[Te+624+8>>2]=d,i[Te+624+12>>2]=0,M*M+w*w+d*d>11920928955078125e-23&&(C=+at(+(M*M+w*w+d*d)),i[Te+624>>2]=M*(1/C),i[Te+624+4>>2]=1/C*w,i[Te+624+8>>2]=1/C*d,M*(1/C)*Ze+1/C*w*ut+1/C*d*ot<0&&(i[Te+624>>2]=-(M*(1/C)),i[Te+624+4>>2]=-(1/C*w),i[Te+624+8>>2]=-(1/C*d)),i[Te+384>>2]=W+B,i[Te+384+4>>2]=z+N,i[Te+384+8>>2]=V+E,i[Te+384+12>>2]=0,D2[e[(e[a>>2]|0)+16>>2]&15](a,Te+624|0,Te+384|0,-C))}Ze*g+ut*m+ot*S<0?(d=-10000000150474662e14,g=-g,S=-S,l=0,m=-m,mt=111):(d=-10000000150474662e14,l=0,mt=111)}while(!1);if((mt|0)==111){if(re=e[pt+56>>2]|0,o=e[Nt+56>>2]|0,me=e[n+12>>2]|0,he=e[s+12>>2]|0,W=d-lt,V=1/+at(+(g*g+m*m+S*S)),X=g*V,z=m*V,V=S*V,i[Te+624>>2]=X,i[Te+624+4>>2]=z,i[Te+624+8>>2]=V,e[Te+624+12>>2]=l,u=e[o+28>>2]|0,D=e[o+36>>2]|0,(u|0)>0)for(d=+i[he>>2],m=+i[he+4>>2],g=+i[he+8>>2],S=+i[he+16>>2],C=+i[he+20>>2],w=+i[he+24>>2],M=+i[he+32>>2],E=+i[he+36>>2],N=+i[he+40>>2],l=-1,U=-34028234663852886e22,h=0;;)if(B=+i[D+(h*36|0)+20>>2],k=+i[D+(h*36|0)+24>>2],L=+i[D+(h*36|0)+28>>2],_=(B*d+k*m+L*g)*X+(B*S+k*C+L*w)*z+(B*M+k*E+L*N)*V>U,l=_?h:l,h=h+1|0,(h|0)==(u|0)){q=l;break}else U=_?(B*d+k*m+L*g)*X+(B*S+k*C+L*w)*z+(B*M+k*E+L*N)*V:U;else q=-1;A[Te+384+16>>0]=1,ne=Te+384+12|0,e[ne>>2]=0,Y=Te+384+4|0,e[Y>>2]=0,e[Te+384+8>>2]=0,$=e[D+(q*36|0)+4>>2]|0;t:do if(($|0)>0)for(O=D+(q*36|0)+12|0,l=0,_=0,u=0;;){if(n=e[(e[O>>2]|0)+(u<<2)>>2]|0,s=e[o+16>>2]|0,ut=+i[s+(n<<4)>>2],ot=+i[s+(n<<4)+4>>2],g=+i[s+(n<<4)+8>>2],d=ut*+i[he>>2]+ot*+i[he+4>>2]+g*+i[he+8>>2]+ +i[he+48>>2],m=ut*+i[he+16>>2]+ot*+i[he+20>>2]+g*+i[he+24>>2]+ +i[he+52>>2],g=ut*+i[he+32>>2]+ot*+i[he+36>>2]+g*+i[he+40>>2]+ +i[he+56>>2],(l|0)==(_|0))if(F=_|0?_<<1:1,(_|0)<(F|0)){if(F?(e[5637]=(e[5637]|0)+1,l=Xe((F<<4|3)+16|0)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,D=l,l=e[Y>>2]|0):(D=0,l=_),h=e[ne>>2]|0,(l|0)<=0)h&&(mt=126);else{_=0;do n=D+(_<<4)|0,s=h+(_<<4)|0,e[n>>2]=e[s>>2],e[n+4>>2]=e[s+4>>2],e[n+8>>2]=e[s+8>>2],e[n+12>>2]=e[s+12>>2],_=_+1|0;while((_|0)!=(l|0));mt=126}(mt|0)==126&&(mt=0,A[Te+384+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0),l=e[Y>>2]|0),e[ne>>2]=0),A[Te+384+16>>0]=1,e[ne>>2]=D,e[Te+384+8>>2]=F}else l=_;if(n=e[ne>>2]|0,i[n+(l<<4)>>2]=d,i[n+(l<<4)+4>>2]=m,i[n+(l<<4)+8>>2]=g,i[n+(l<<4)+12>>2]=0,l=(e[Y>>2]|0)+1|0,e[Y>>2]=l,u=u+1|0,(u|0)>=($|0))break t;_=e[Te+384+8>>2]|0}while(!1);(q|0)>-1&&F6(Te+624|0,re,me,Te+384|0,W,lt,a),l=e[ne>>2]|0,l|0&&(A[Te+384+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[ne>>2]=0)}if(A[t+16>>0]|0&&(st=e[a+4>>2]|0,e[st+748>>2]|0))if(_=e[st+740>>2]|0,u=e[(e[a+8>>2]|0)+8>>2]|0,l=e[(e[a+12>>2]|0)+8>>2]|0,(_|0)==(u|0)){m2(st,_+4|0,l+4|0);break}else{m2(st,l+4|0,u+4|0);break}}else{if((e[Nt+4>>2]|0)!=1)break e;if(F=Te+624+16|0,A[F>>0]=1,O=Te+624+12|0,e[O>>2]=0,D=Te+624+4|0,e[D>>2]=0,h=Te+624+8|0,e[h>>2]=0,l=e[s+12>>2]|0,ot=+i[Nt+60>>2],lt=+i[Nt+60+4>>2],g=+i[Nt+60+8>>2],d=ot*+i[l>>2]+lt*+i[l+4>>2]+g*+i[l+8>>2]+ +i[l+48>>2],m=ot*+i[l+16>>2]+lt*+i[l+20>>2]+g*+i[l+24>>2]+ +i[l+52>>2],g=ot*+i[l+32>>2]+lt*+i[l+36>>2]+g*+i[l+40>>2]+ +i[l+56>>2],e[5637]=(e[5637]|0)+1,l=Xe(35)|0,l?(e[(l+4+15&-16)+-4>>2]=l,u=l+4+15&-16):u=0,l=e[O>>2]|0,l?(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0),l=e[D>>2]|0,e[O>>2]=0):l=0,A[F>>0]=1,e[O>>2]=u,e[h>>2]=1,i[u+(l<<4)>>2]=d,i[u+(l<<4)+4>>2]=m,i[u+(l<<4)+8>>2]=g,i[u+(l<<4)+12>>2]=0,l=(e[D>>2]|0)+1|0,e[D>>2]=l,st=e[s+12>>2]|0,ot=+i[Nt+60+16>>2],lt=+i[Nt+60+20>>2],g=+i[Nt+60+24>>2],d=ot*+i[st>>2]+lt*+i[st+4>>2]+g*+i[st+8>>2]+ +i[st+48>>2],m=ot*+i[st+16>>2]+lt*+i[st+20>>2]+g*+i[st+24>>2]+ +i[st+52>>2],g=ot*+i[st+32>>2]+lt*+i[st+36>>2]+g*+i[st+40>>2]+ +i[st+56>>2],(l|0)==(e[h>>2]|0)&&(ne=l|0?l<<1:1,(l|0)<(ne|0))){if(ne?(e[5637]=(e[5637]|0)+1,l=Xe((ne<<4|3)+16|0)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,_=l,l=e[D>>2]|0):_=0,(l|0)>0){u=0;do st=_+(u<<4)|0,mt=(e[O>>2]|0)+(u<<4)|0,e[st>>2]=e[mt>>2],e[st+4>>2]=e[mt+4>>2],e[st+8>>2]=e[mt+8>>2],e[st+12>>2]=e[mt+12>>2],u=u+1|0;while((u|0)!=(l|0))}l=e[O>>2]|0,l|0&&(A[F>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[O>>2]=0),A[F>>0]=1,e[O>>2]=_,e[h>>2]=ne,l=e[D>>2]|0}if(st=e[O>>2]|0,i[st+(l<<4)>>2]=d,i[st+(l<<4)+4>>2]=m,i[st+(l<<4)+8>>2]=g,i[st+(l<<4)+12>>2]=0,l=(e[D>>2]|0)+1|0,e[D>>2]=l,st=e[s+12>>2]|0,ot=+i[Nt+60+32>>2],lt=+i[Nt+60+36>>2],g=+i[Nt+60+40>>2],d=ot*+i[st>>2]+lt*+i[st+4>>2]+g*+i[st+8>>2]+ +i[st+48>>2],m=ot*+i[st+16>>2]+lt*+i[st+20>>2]+g*+i[st+24>>2]+ +i[st+52>>2],g=ot*+i[st+32>>2]+lt*+i[st+36>>2]+g*+i[st+40>>2]+ +i[st+56>>2],(l|0)==(e[h>>2]|0)&&(he=l|0?l<<1:1,(l|0)<(he|0))){if(he?(e[5637]=(e[5637]|0)+1,l=Xe((he<<4|3)+16|0)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,_=l,l=e[D>>2]|0):_=0,(l|0)>0){u=0;do st=_+(u<<4)|0,s=(e[O>>2]|0)+(u<<4)|0,e[st>>2]=e[s>>2],e[st+4>>2]=e[s+4>>2],e[st+8>>2]=e[s+8>>2],e[st+12>>2]=e[s+12>>2],u=u+1|0;while((u|0)!=(l|0))}l=e[O>>2]|0,l|0&&(A[F>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[O>>2]=0),A[F>>0]=1,e[O>>2]=_,e[h>>2]=he,l=e[D>>2]|0}st=e[O>>2]|0,i[st+(l<<4)>>2]=d,i[st+(l<<4)+4>>2]=m,i[st+(l<<4)+8>>2]=g,i[st+(l<<4)+12>>2]=0,e[D>>2]=(e[D>>2]|0)+1,S=+i[(e[t+20>>2]|0)+752>>2],l1(Te+48|0,Te+128|0,Te+40|0,e[o+20>>2]|0,0),d=+i[Te+48+4>>2],m=+i[Te+48+8>>2],g=+i[Te+48+12>>2],d*d+m*m+g*g>11920928955078125e-23&&(ot=1/(d*d+m*m+g*g),i[Te+384>>2]=d*ot,i[Te+384+4>>2]=m*ot,i[Te+384+8>>2]=g*ot,i[Te+384+12>>2]=0,ot=+i[Te+48+56>>2],lt=+Tt[e[(e[pt>>2]|0)+48>>2]&15](pt),lt=ot-lt-+Tt[e[(e[Nt>>2]|0)+48>>2]&15](Nt),F6(Te+384|0,e[pt+56>>2]|0,e[n+12>>2]|0,Te+624|0,lt-S,S,a));do if(A[t+16>>0]|0&&(me=e[a+4>>2]|0,e[me+748>>2]|0))if(u=e[me+740>>2]|0,_=e[(e[a+8>>2]|0)+8>>2]|0,l=e[(e[a+12>>2]|0)+8>>2]|0,(u|0)==(_|0)){m2(me,u+4|0,l+4|0);break}else{m2(me,l+4|0,_+4|0);break}while(!1);l=e[O>>2]|0,l|0&&(A[F>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[O>>2]=0)}while(!1);H=Te;return}while(!1)}if(l1(Te+48|0,Te+128|0,a,e[o+20>>2]|0,0),e[t+28>>2]|0&&(e[(e[a+4>>2]|0)+748>>2]|0)<(e[t+32>>2]|0)&&(W=+i[Te+48+4>>2],te=+i[Te+48+8>>2],pe=+i[Te+48+12>>2],W*W+te*te+pe*pe>11920928955078125e-23)&&(U=1/(W*W+te*te+pe*pe),+ht(+(pe*U))>.7071067690849304?(X=1/+at(+(pe*U*(pe*U)+te*U*(te*U))),V=0,z=te*U*X,X=-(pe*U*X)):(X=1/+at(+(W*U*(W*U)+te*U*(te*U))),V=-(te*U*X),z=0,X=W*U*X),L=+Tt[e[(e[pt>>2]|0)+16>>2]&15](pt),B=+Tt[e[(e[Nt>>2]|0)+16>>2]&15](Nt),d=.019999999552965164/(L<B?L:B),L<B?(e[Te+624>>2]=e[Te+128>>2],e[Te+624+4>>2]=e[Te+128+4>>2],e[Te+624+8>>2]=e[Te+128+8>>2],e[Te+624+12>>2]=e[Te+128+12>>2],e[Te+624+16>>2]=e[_>>2],e[Te+624+16+4>>2]=e[_+4>>2],e[Te+624+16+8>>2]=e[_+8>>2],e[Te+624+16+12>>2]=e[_+12>>2],e[Te+624+32>>2]=e[D>>2],e[Te+624+32+4>>2]=e[D+4>>2],e[Te+624+32+8>>2]=e[D+8>>2],e[Te+624+32+12>>2]=e[D+12>>2],e[Te+624+48>>2]=e[F>>2],e[Te+624+48+4>>2]=e[F+4>>2],e[Te+624+48+8>>2]=e[F+8>>2],e[Te+624+48+12>>2]=e[F+12>>2]):(e[Te+624>>2]=e[O>>2],e[Te+624+4>>2]=e[O+4>>2],e[Te+624+8>>2]=e[O+8>>2],e[Te+624+12>>2]=e[O+12>>2],e[Te+624+16>>2]=e[Y>>2],e[Te+624+16+4>>2]=e[Y+4>>2],e[Te+624+16+8>>2]=e[Y+8>>2],e[Te+624+16+12>>2]=e[Y+12>>2],e[Te+624+32>>2]=e[$>>2],e[Te+624+32+4>>2]=e[$+4>>2],e[Te+624+32+8>>2]=e[$+8>>2],e[Te+624+32+12>>2]=e[$+12>>2],e[Te+624+48>>2]=e[q>>2],e[Te+624+48+4>>2]=e[q+4>>2],e[Te+624+48+8>>2]=e[q+8>>2],e[Te+624+48+12>>2]=e[q+12>>2]),l=e[t+28>>2]|0,(l|0)>0)){k=V*V+X*X+z*z,N=(d>.39269909262657166?.39269909262657166:d)*.5,u=0;do k>11920928955078125e-23&&(M=+N2(+N)/+at(+k),C=V*M,w=X*M,M=z*M,E=+C2(+N),S=+(u|0)*(6.2831854820251465/+(l|0))*.5,g=+N2(+S)/+at(+(pe*U*(pe*U)+(W*U*(W*U)+te*U*(te*U)))),d=W*U*g,m=te*U*g,g=pe*U*g,S=+C2(+S),L<B?(ge=g*(C*-g+(w*S+E*-m)-M*-d)+(d*(E*S-C*-d-w*-m-M*-g)+S*(M*-m+(C*S+E*-d)-w*-g))-m*(w*-d+(M*S+E*-g)-C*-m),ut=d*(w*-d+(M*S+E*-g)-C*-m)+(S*(C*-g+(w*S+E*-m)-M*-d)+m*(E*S-C*-d-w*-m-M*-g))-g*(M*-m+(C*S+E*-d)-w*-g),kt=m*(M*-m+(C*S+E*-d)-w*-g)+(g*(E*S-C*-d-w*-m-M*-g)+S*(w*-d+(M*S+E*-g)-C*-m))-d*(C*-g+(w*S+E*-m)-M*-d),be=S*(E*S-C*-d-w*-m-M*-g)-d*(M*-m+(C*S+E*-d)-w*-g)-m*(C*-g+(w*S+E*-m)-M*-d)-g*(w*-d+(M*S+E*-g)-C*-m),Ze=ge*(2/(be*be+(kt*kt+(ge*ge+ut*ut)))),ot=ut*(2/(be*be+(kt*kt+(ge*ge+ut*ut)))),we=kt*(2/(be*be+(kt*kt+(ge*ge+ut*ut)))),st=e[n+12>>2]|0,g=+i[st>>2],S=+i[st+16>>2],C=+i[st+32>>2],w=+i[st+4>>2],M=+i[st+20>>2],E=+i[st+36>>2],_e=+i[st+8>>2],Se=+i[st+24>>2],lt=+i[st+40>>2],i[Te+128>>2]=(1-(ut*ot+kt*we))*g+(ge*ot-be*we)*S+(ge*we+be*ot)*C,i[Te+128+4>>2]=(1-(ut*ot+kt*we))*w+(ge*ot-be*we)*M+(ge*we+be*ot)*E,i[Te+128+8>>2]=(1-(ut*ot+kt*we))*_e+(ge*ot-be*we)*Se+(ge*we+be*ot)*lt,i[Te+128+12>>2]=0,i[Te+128+16>>2]=(ge*ot+be*we)*g+(1-(ge*Ze+kt*we))*S+(ut*we-be*Ze)*C,i[Te+128+20>>2]=(ge*ot+be*we)*w+(1-(ge*Ze+kt*we))*M+(ut*we-be*Ze)*E,i[Te+128+24>>2]=(ge*ot+be*we)*_e+(1-(ge*Ze+kt*we))*Se+(ut*we-be*Ze)*lt,i[Te+128+28>>2]=0,i[Te+128+32>>2]=(ge*we-be*ot)*g+(ut*we+be*Ze)*S+(1-(ge*Ze+ut*ot))*C,i[Te+128+36>>2]=(ge*we-be*ot)*w+(ut*we+be*Ze)*M+(1-(ge*Ze+ut*ot))*E,i[Te+128+40>>2]=(ge*we-be*ot)*_e+(ut*we+be*Ze)*Se+(1-(ge*Ze+ut*ot))*lt,i[Te+128+44>>2]=0,st=e[s+12>>2]|0,e[O>>2]=e[st>>2],e[O+4>>2]=e[st+4>>2],e[O+8>>2]=e[st+8>>2],e[O+12>>2]=e[st+12>>2],e[Y>>2]=e[st+16>>2],e[Y+4>>2]=e[st+16+4>>2],e[Y+8>>2]=e[st+16+8>>2],e[Y+12>>2]=e[st+16+12>>2],e[$>>2]=e[st+32>>2],e[$+4>>2]=e[st+32+4>>2],e[$+8>>2]=e[st+32+8>>2],e[$+12>>2]=e[st+32+12>>2],e[q>>2]=e[st+48>>2],e[q+4>>2]=e[st+48+4>>2],e[q+8>>2]=e[st+48+8>>2],e[q+12>>2]=e[st+48+12>>2]):(st=e[n+12>>2]|0,e[Te+128>>2]=e[st>>2],e[Te+128+4>>2]=e[st+4>>2],e[Te+128+8>>2]=e[st+8>>2],e[Te+128+12>>2]=e[st+12>>2],e[_>>2]=e[st+16>>2],e[_+4>>2]=e[st+16+4>>2],e[_+8>>2]=e[st+16+8>>2],e[_+12>>2]=e[st+16+12>>2],e[D>>2]=e[st+32>>2],e[D+4>>2]=e[st+32+4>>2],e[D+8>>2]=e[st+32+8>>2],e[D+12>>2]=e[st+32+12>>2],e[F>>2]=e[st+48>>2],e[F+4>>2]=e[st+48+4>>2],e[F+8>>2]=e[st+48+8>>2],e[F+12>>2]=e[st+48+12>>2],Ze=g*(C*-g+(w*S+E*-m)-M*-d)+(d*(E*S-C*-d-w*-m-M*-g)+S*(M*-m+(C*S+E*-d)-w*-g))-m*(w*-d+(M*S+E*-g)-C*-m),ot=d*(w*-d+(M*S+E*-g)-C*-m)+(S*(C*-g+(w*S+E*-m)-M*-d)+m*(E*S-C*-d-w*-m-M*-g))-g*(M*-m+(C*S+E*-d)-w*-g),it=m*(M*-m+(C*S+E*-d)-w*-g)+(g*(E*S-C*-d-w*-m-M*-g)+S*(w*-d+(M*S+E*-g)-C*-m))-d*(C*-g+(w*S+E*-m)-M*-d),Se=S*(E*S-C*-d-w*-m-M*-g)-d*(M*-m+(C*S+E*-d)-w*-g)-m*(C*-g+(w*S+E*-m)-M*-d)-g*(w*-d+(M*S+E*-g)-C*-m),ut=Ze*(2/(Se*Se+(it*it+(Ze*Ze+ot*ot)))),lt=ot*(2/(Se*Se+(it*it+(Ze*Ze+ot*ot)))),be=it*(2/(Se*Se+(it*it+(Ze*Ze+ot*ot)))),st=e[s+12>>2]|0,S=+i[st>>2],C=+i[st+16>>2],w=+i[st+32>>2],M=+i[st+4>>2],E=+i[st+20>>2],_e=+i[st+36>>2],we=+i[st+8>>2],ge=+i[st+24>>2],kt=+i[st+40>>2],i[Te+128+64>>2]=(1-(ot*lt+it*be))*S+(Ze*lt-Se*be)*C+(Ze*be+Se*lt)*w,i[Te+128+68>>2]=(1-(ot*lt+it*be))*M+(Ze*lt-Se*be)*E+(Ze*be+Se*lt)*_e,i[Te+128+72>>2]=(1-(ot*lt+it*be))*we+(Ze*lt-Se*be)*ge+(Ze*be+Se*lt)*kt,i[Te+128+76>>2]=0,i[Te+128+80>>2]=(Ze*lt+Se*be)*S+(1-(Ze*ut+it*be))*C+(ot*be-Se*ut)*w,i[Te+128+84>>2]=(Ze*lt+Se*be)*M+(1-(Ze*ut+it*be))*E+(ot*be-Se*ut)*_e,i[Te+128+88>>2]=(Ze*lt+Se*be)*we+(1-(Ze*ut+it*be))*ge+(ot*be-Se*ut)*kt,i[Te+128+92>>2]=0,i[Te+128+96>>2]=(Ze*be-Se*lt)*S+(ot*be+Se*ut)*C+(1-(Ze*ut+ot*lt))*w,i[Te+128+100>>2]=(Ze*be-Se*lt)*M+(ot*be+Se*ut)*E+(1-(Ze*ut+ot*lt))*_e,i[Te+128+104>>2]=(Ze*be-Se*lt)*we+(ot*be+Se*ut)*ge+(1-(Ze*ut+ot*lt))*kt,i[Te+128+108>>2]=0),l=e[o+20>>2]|0,e[Te+384>>2]=4028,e[Te+384+32>>2]=a,e[Te+384+36>>2]=e[Te+128>>2],e[Te+384+36+4>>2]=e[Te+128+4>>2],e[Te+384+36+8>>2]=e[Te+128+8>>2],e[Te+384+36+12>>2]=e[Te+128+12>>2],e[Te+384+52>>2]=e[_>>2],e[Te+384+52+4>>2]=e[_+4>>2],e[Te+384+52+8>>2]=e[_+8>>2],e[Te+384+52+12>>2]=e[_+12>>2],e[Te+384+68>>2]=e[D>>2],e[Te+384+68+4>>2]=e[D+4>>2],e[Te+384+68+8>>2]=e[D+8>>2],e[Te+384+68+12>>2]=e[D+12>>2],e[Te+384+84>>2]=e[F>>2],e[Te+384+84+4>>2]=e[F+4>>2],e[Te+384+84+8>>2]=e[F+8>>2],e[Te+384+84+12>>2]=e[F+12>>2],e[Te+384+100>>2]=e[O>>2],e[Te+384+100+4>>2]=e[O+4>>2],e[Te+384+100+8>>2]=e[O+8>>2],e[Te+384+100+12>>2]=e[O+12>>2],e[Te+384+116>>2]=e[Y>>2],e[Te+384+116+4>>2]=e[Y+4>>2],e[Te+384+116+8>>2]=e[Y+8>>2],e[Te+384+116+12>>2]=e[Y+12>>2],e[Te+384+132>>2]=e[$>>2],e[Te+384+132+4>>2]=e[$+4>>2],e[Te+384+132+8>>2]=e[$+8>>2],e[Te+384+132+12>>2]=e[$+12>>2],e[Te+384+148>>2]=e[q>>2],e[Te+384+148+4>>2]=e[q+4>>2],e[Te+384+148+8>>2]=e[q+8>>2],e[Te+384+148+12>>2]=e[q+12>>2],e[Te+384+164>>2]=e[Te+624>>2],e[Te+384+164+4>>2]=e[Te+624+4>>2],e[Te+384+164+8>>2]=e[Te+624+8>>2],e[Te+384+164+12>>2]=e[Te+624+12>>2],e[Te+384+180>>2]=e[Te+624+16>>2],e[Te+384+180+4>>2]=e[Te+624+16+4>>2],e[Te+384+180+8>>2]=e[Te+624+16+8>>2],e[Te+384+180+12>>2]=e[Te+624+16+12>>2],e[Te+384+196>>2]=e[Te+624+32>>2],e[Te+384+196+4>>2]=e[Te+624+32+4>>2],e[Te+384+196+8>>2]=e[Te+624+32+8>>2],e[Te+384+196+12>>2]=e[Te+624+32+12>>2],e[Te+384+212>>2]=e[Te+624+48>>2],e[Te+384+212+4>>2]=e[Te+624+48+4>>2],e[Te+384+212+8>>2]=e[Te+624+48+8>>2],e[Te+384+212+12>>2]=e[Te+624+48+12>>2],A[Te+384+228>>0]=L<B&1,e[Te+384+232>>2]=l,l1(Te+48|0,Te+128|0,Te+384|0,l,0),l=e[t+28>>2]|0),u=u+1|0;while((u|0)<(l|0))}if(!(A[t+16>>0]|0)){H=Te;return}if(u=e[a+4>>2]|0,!(e[u+748>>2]|0)){H=Te;return}if(_=e[u+740>>2]|0,h=e[(e[a+8>>2]|0)+8>>2]|0,l=e[(e[a+12>>2]|0)+8>>2]|0,(_|0)==(h|0)){m2(u,_+4|0,l+4|0),H=Te;return}else{m2(u,l+4|0,h+4|0),H=Te;return}}function Q0e(t){t=t|0,ye(t)}function J0e(t,n,s){t=t|0,n=n|0,s=s|0}function eie(t,n,s){t=t|0,n=n|0,s=s|0}function tie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o}function iie(t){t=t|0,ye(t)}function nie(t,n,s){t=t|0,n=n|0,s=s|0}function rie(t,n,s){t=t|0,n=n|0,s=s|0}function sie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o;var a=0,l=0,u=0,_=0;if(a=H,H=H+16|0,i[t+32>>2]=o,e[t+8>>2]=e[n>>2],e[t+8+4>>2]=e[n+4>>2],e[t+8+8>>2]=e[n+8>>2],e[t+8+12>>2]=e[n+12>>2],l=+i[t+28>>2],_=+i[s+4>>2]-l*+i[n+4>>2],u=+i[s+8>>2]-l*+i[n+8>>2],i[a>>2]=+i[s>>2]-+i[n>>2]*l,i[a+4>>2]=_,i[a+8>>2]=u,i[a+12>>2]=0,o=+i[t+24>>2]+l+o,i[t+32>>2]=o,!(o<0)){t=t+4|0,t=e[t>>2]|0,s=e[t>>2]|0,s=s+16|0,s=e[s>>2]|0,D2[s&15](t,n,a,o),H=a;return}A[t+36>>0]=1,t=t+4|0,t=e[t>>2]|0,s=e[t>>2]|0,s=s+16|0,s=e[s>>2]|0,D2[s&15](t,n,a,o),H=a}function oie(t){t=t|0,ye(t)}function aie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0;if(m=H,H=H+16|0,_=+i[n>>2],h=+i[n+4>>2],d=+i[n+8>>2],l=+i[s>>2],u=+i[s+4>>2],a=+i[s+8>>2],A[t+228>>0]|0){F=+i[t+36>>2],V=+i[t+52>>2],N=+i[t+68>>2],L=+i[t+40>>2],z=+i[t+56>>2],B=+i[t+72>>2],U=+i[t+44>>2],X=+i[t+60>>2],k=+i[t+76>>2],M=-+i[t+84>>2],E=-+i[t+88>>2],D=-+i[t+92>>2],g=+i[t+164>>2],S=+i[t+168>>2],$=+i[t+172>>2],C=+i[t+180>>2],w=+i[t+184>>2],q=+i[t+188>>2],O=+i[t+196>>2],Y=+i[t+200>>2],ne=+i[t+204>>2],$=(d*o+a)*(N*g+B*S+k*$)+((_*o+l)*(F*g+L*S+U*$)+(h*o+u)*(V*g+z*S+X*$))+(g*(F*M+V*E+N*D)+(L*M+z*E+B*D)*S+(U*M+X*E+k*D)*$+ +i[t+212>>2]),q=(d*o+a)*(N*C+B*w+k*q)+((_*o+l)*(F*C+L*w+U*q)+(h*o+u)*(V*C+z*w+X*q))+((F*M+V*E+N*D)*C+(L*M+z*E+B*D)*w+(U*M+X*E+k*D)*q+ +i[t+216>>2]),ne=(F*M+V*E+N*D)*O+(L*M+z*E+B*D)*Y+(U*M+X*E+k*D)*ne+ +i[t+220>>2]+((d*o+a)*(N*O+B*Y+k*ne)+((_*o+l)*(F*O+L*Y+U*ne)+(h*o+u)*(V*O+z*Y+X*ne))),i[m>>2]=$+_*(_*($-l)+h*(q-u)+d*(ne-a)),i[m+4>>2]=q+h*(_*($-l)+h*(q-u)+d*(ne-a)),X=ne+d*(_*($-l)+h*(q-u)+d*(ne-a)),ne=_*($-l)+h*(q-u)+d*(ne-a),s=m+8|0,i[s>>2]=X,s=m+12|0,i[s>>2]=0,t=t+32|0,t=e[t>>2]|0,s=e[t>>2]|0,s=s+16|0,s=e[s>>2]|0,D2[s&15](t,n,m,ne),H=m;return}else{F=+i[t+100>>2],N=+i[t+116>>2],V=+i[t+132>>2],k=+i[t+104>>2],E=+i[t+120>>2],U=+i[t+136>>2],B=+i[t+108>>2],g=+i[t+124>>2],L=+i[t+140>>2],Y=-+i[t+148>>2],z=-+i[t+152>>2],O=-+i[t+156>>2],ne=+i[t+164>>2],X=+i[t+168>>2],w=+i[t+172>>2],q=+i[t+180>>2],$=+i[t+184>>2],C=+i[t+188>>2],D=+i[t+196>>2],M=+i[t+200>>2],S=+i[t+204>>2],w=a*(V*ne+U*X+L*w)+(l*(F*ne+k*X+B*w)+u*(N*ne+E*X+g*w))+(ne*(F*Y+N*z+V*O)+(k*Y+E*z+U*O)*X+(B*Y+g*z+L*O)*w+ +i[t+212>>2]),C=a*(V*q+U*$+L*C)+(l*(F*q+k*$+B*C)+u*(N*q+E*$+g*C))+((F*Y+N*z+V*O)*q+(k*Y+E*z+U*O)*$+(B*Y+g*z+L*O)*C+ +i[t+216>>2]),S=(F*Y+N*z+V*O)*D+(k*Y+E*z+U*O)*M+(B*Y+g*z+L*O)*S+ +i[t+220>>2]+(a*(V*D+U*M+L*S)+(l*(F*D+k*M+B*S)+u*(N*D+E*M+g*S))),i[m>>2]=w,i[m+4>>2]=C,g=S,o=(_*o+l-w)*+i[n>>2]+(h*o+u-C)*+i[n+4>>2]+(d*o+a-S)*+i[n+8>>2],s=m+8|0,i[s>>2]=g,s=m+12|0,i[s>>2]=0,t=t+32|0,t=e[t>>2]|0,s=e[t>>2]|0,s=s+16|0,s=e[s>>2]|0,D2[s&15](t,n,m,o),H=m;return}}function cie(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0;return o=H,H=H+608|0,g=+i[n+116>>2]-+i[n+52>>2],m=+i[n+120>>2]-+i[n+56>>2],d=+i[n+124>>2]-+i[n+60>>2],l=+i[s+116>>2]-+i[s+52>>2],u=+i[s+120>>2]-+i[s+56>>2],_=+i[s+124>>2]-+i[s+60>>2],h=+i[n+256>>2],g*g+m*m+d*d<h*h&&(g=+i[s+256>>2],l*l+u*u+_*_<g*g)?(g=1,H=o,+g):(t=e[n+192>>2]|0,a=e[s+252>>2]|0,e[o+552+8>>2]=0,e[o+552+12>>2]=-1,e[o+552+16>>2]=1065353216,e[o+552+20>>2]=1065353216,e[o+552+24>>2]=1065353216,i[o+552+28>>2]=0,e[o+552>>2]=6380,e[o+552+4>>2]=8,e[o+552+32>>2]=a,e[o+552+48>>2]=a,e[o+376>>2]=3316,i[o+376+164>>2]=0xde0b6b000000000,e[o+376+168>>2]=0,i[o+376+172>>2]=0,i[o+16+308>>2]=9999999747378752e-20,A[o+16+332>>0]=0,e[o>>2]=6864,e[o+4>>2]=o+16,e[o+8>>2]=t,e[o+12>>2]=o+552,xh(o,n+4|0,n+68|0,s+4|0,s+68|0,o+376|0)|0?(l=+i[o+376+164>>2],+i[n+248>>2]>l&&(i[n+248>>2]=l),+i[s+248>>2]>l&&(i[s+248>>2]=l),l<1?u=l:u=1):u=1,t=e[s+192>>2]|0,a=e[n+252>>2]|0,e[o+552+8>>2]=0,e[o+552+12>>2]=-1,e[o+552+16>>2]=1065353216,e[o+552+20>>2]=1065353216,e[o+552+24>>2]=1065353216,i[o+552+28>>2]=0,e[o+552>>2]=6380,e[o+552+4>>2]=8,e[o+552+32>>2]=a,e[o+552+48>>2]=a,e[o+376>>2]=3316,i[o+376+164>>2]=0xde0b6b000000000,e[o+376+168>>2]=0,i[o+376+172>>2]=0,i[o+16+308>>2]=9999999747378752e-20,A[o+16+332>>0]=0,e[o>>2]=6864,e[o+4>>2]=o+16,e[o+8>>2]=o+552,e[o+12>>2]=t,xh(o,n+4|0,n+68|0,s+4|0,s+68|0,o+376|0)|0?(l=+i[o+376+164>>2],+i[n+248>>2]>l&&(i[n+248>>2]=l),+i[s+248>>2]>l&&(i[s+248>>2]=l),u>l||(l=u)):l=u,g=l,H=o,+g)}function lie(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+20>>2]|0,!!s&&A[t+16>>0]|0){if(o=e[n+4>>2]|0,(o|0)==(e[n+8>>2]|0)&&(l=o|0?o<<1:1,(o|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[n+4>>2]|0):s=0,(o|0)>0){a=0;do e[s+(a<<2)>>2]=e[(e[n+12>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[n+12>>2]|0,a&&(A[n+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[n+4>>2]|0),e[n+12>>2]=0),A[n+16>>0]=1,e[n+12>>2]=s,e[n+8>>2]=l,s=e[t+20>>2]|0}e[(e[n+12>>2]|0)+(o<<2)>>2]=s,e[n+4>>2]=o+1}}function uie(t){t=t|0;var n=0;e[t>>2]=4056,A[t+8>>0]|0&&(n=e[t+12>>2]|0,n&&(t=e[t+4>>2]|0,zt[e[(e[t>>2]|0)+16>>2]&127](t,n)))}function fie(t){t=t|0;var n=0,s=0;if(e[t>>2]=4056,!(A[t+8>>0]|0)){ye(t);return}if(n=e[t+12>>2]|0,!n){ye(t);return}s=e[t+4>>2]|0,zt[e[(e[s>>2]|0)+16>>2]&127](s,n),ye(t)}function pie(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,ot=0,mt=0,lt=0,pt=0;if(X=H,H=H+96|0,!(e[t+12>>2]|0)){H=X;return}if(o=(A[t+16>>0]|0)!=0,te=o?s:n,o=o?n:s,l=e[te+4>>2]|0,u=e[o+4>>2]|0,te=e[te+12>>2]|0,we=+i[te>>2],Ce=+i[te+16>>2],fe=+i[te+32>>2],de=+i[te+4>>2],ve=+i[te+20>>2],m=+i[te+36>>2],_=+i[te+8>>2],C=+i[te+24>>2],k=+i[te+40>>2],me=+i[te+48>>2],he=+i[te+52>>2],_e=+i[te+56>>2],W=e[o+12>>2]|0,xe=+i[W>>2],ae=+i[W+16>>2],g=+i[W+32>>2],oe=+i[W+4>>2],re=+i[W+20>>2],S=+i[W+36>>2],B=+i[W+8>>2],D=+i[W+24>>2],M=+i[W+40>>2],pe=-+i[W+48>>2],z=-+i[W+52>>2],Y=-+i[W+56>>2],$=+i[te>>2],q=+i[te+16>>2],O=+i[te+32>>2],U=+i[te+4>>2],L=+i[te+20>>2],F=+i[te+36>>2],N=+i[te+8>>2],E=+i[te+24>>2],w=+i[te+40>>2],te=e[(e[l>>2]|0)+64>>2]|0,d=-+i[u+52>>2],h=-+i[u+56>>2],V=-+i[u+60>>2],i[X>>2]=(we*xe+Ce*ae+fe*g)*d+(we*oe+Ce*re+fe*S)*h+(we*B+Ce*D+fe*M)*V,i[X+4>>2]=(de*xe+ve*ae+m*g)*d+(de*oe+ve*re+m*S)*h+(de*B+ve*D+m*M)*V,i[X+8>>2]=(_*xe+C*ae+k*g)*d+(_*oe+C*re+k*S)*h+(_*B+C*D+k*M)*V,i[X+12>>2]=0,f0[te&127](X+16|0,l,X),V=+i[X+16>>2],k=+i[X+16+4>>2],C=+i[X+16+8>>2],_=+i[u+52>>2],h=+i[u+56>>2],d=+i[u+60>>2],m=d*(me*B+he*D+_e*M+(B*pe+D*z+M*Y)+((B*$+D*q+M*O)*V+(B*U+D*L+M*F)*k+(B*N+D*E+M*w)*C))+(_*(me*xe+he*ae+_e*g+(xe*pe+ae*z+g*Y)+((xe*$+ae*q+g*O)*V+(xe*U+ae*L+g*F)*k+(xe*N+ae*E+g*w)*C))+h*(me*oe+he*re+_e*S+(oe*pe+re*z+S*Y)+((oe*$+re*q+S*O)*V+(oe*U+re*L+S*F)*k+(oe*N+re*E+S*w)*C)))-+i[u+68>>2],g=me*xe+he*ae+_e*g+(xe*pe+ae*z+g*Y)+((xe*$+ae*q+g*O)*V+(xe*U+ae*L+g*F)*k+(xe*N+ae*E+g*w)*C)-_*m,S=me*oe+he*re+_e*S+(oe*pe+re*z+S*Y)+((oe*$+re*q+S*O)*V+(oe*U+re*L+S*F)*k+(oe*N+re*E+S*w)*C)-h*m,C=me*B+he*D+_e*M+(B*pe+D*z+M*Y)+((B*$+D*q+M*O)*V+(B*U+D*L+M*F)*k+(B*N+D*E+M*w)*C)-d*m,te=e[o+12>>2]|0,w=+i[te>>2],M=+i[te+4>>2],E=+i[te+8>>2],D=+i[te+16>>2],N=+i[te+20>>2],B=+i[te+24>>2],k=+i[te+32>>2],F=+i[te+36>>2],L=+i[te+40>>2],U=+i[te+48>>2],V=+i[te+52>>2],O=+i[te+56>>2],te=e[t+12>>2]|0,W=m<+i[te+752>>2],e[a+4>>2]=te,W&&(te=e[o+12>>2]|0,Ce=_*+i[te+16>>2]+h*+i[te+20>>2]+d*+i[te+24>>2],we=_*+i[te+32>>2]+h*+i[te+36>>2]+d*+i[te+40>>2],i[X+80>>2]=+i[te>>2]*_+ +i[te+4>>2]*h+ +i[te+8>>2]*d,i[X+80+4>>2]=Ce,i[X+80+8>>2]=we,i[X+80+12>>2]=0,i[X+64>>2]=E*C+(w*g+M*S)+U,i[X+64+4>>2]=g*D+S*N+C*B+V,i[X+64+8>>2]=g*k+S*F+C*L+O,i[X+64+12>>2]=0,D2[e[(e[a>>2]|0)+16>>2]&15](a,X+80|0,X+64|0,m)),(e[l+4>>2]|0)<7&&(e[(e[a+4>>2]|0)+748>>2]|0)<(e[t+24>>2]|0)&&(_=+i[u+60>>2],+ht(+_)>.7071067690849304?(d=+i[u+56>>2],we=1/+at(+(_*_+d*d)),h=0,d=d*we,_=-(_*we)):(we=+i[u+52>>2],h=+i[u+56>>2],_=1/+at(+(we*we+h*h)),h=-(h*_),d=0,_=we*_),Y=.019999999552965164/+Tt[e[(e[l>>2]|0)+16>>2]&15](l),Y=(Y>.39269909262657166?.39269909262657166:Y)*.5,z=+N2(+Y)/+at(+(h*h+_*_+d*d)),q=h*z,$=_*z,z=d*z,Y=+C2(+Y),o=e[t+20>>2]|0,(o|0)>0)){l=0;do D=+i[u+52>>2],we=+i[u+56>>2],U=+i[u+60>>2],F=+(l|0)*(6.2831854820251465/+(o|0))*.5,Ce=+N2(+F)/+at(+(D*D+we*we+U*U)),F=+C2(+F),L=z*-(we*Ce)+(q*F+Y*-(D*Ce))-$*-(U*Ce),B=q*-(U*Ce)+($*F+Y*-(we*Ce))-z*-(D*Ce),ge=$*-(D*Ce)+(z*F+Y*-(U*Ce))-q*-(we*Ce),O=Y*F-q*-(D*Ce)-$*-(we*Ce)-z*-(U*Ce),Ke=U*Ce*B+(D*Ce*O+F*L)-we*Ce*ge,He=D*Ce*ge+(F*B+we*Ce*O)-U*Ce*L,ot=we*Ce*L+(U*Ce*O+F*ge)-D*Ce*B,ge=F*O-D*Ce*L-we*Ce*B-U*Ce*ge,o=(A[t+16>>0]|0)!=0,be=o?s:n,o=o?n:s,te=e[be+4>>2]|0,W=e[o+4>>2]|0,be=e[be+12>>2]|0,Ce=+i[be>>2],U=+i[be+4>>2],B=+i[be+8>>2],we=+i[be+16>>2],L=+i[be+20>>2],D=+i[be+24>>2],O=+i[be+32>>2],F=+i[be+36>>2],M=+i[be+40>>2],oe=+i[be+48>>2],ae=+i[be+52>>2],xe=+i[be+56>>2],be=e[o+12>>2]|0,_e=+i[be>>2],he=+i[be+16>>2],g=+i[be+32>>2],me=+i[be+4>>2],re=+i[be+20>>2],S=+i[be+36>>2],N=+i[be+8>>2],E=+i[be+24>>2],w=+i[be+40>>2],ve=-+i[be+48>>2],de=-+i[be+52>>2],fe=-+i[be+56>>2],qe=Ke*(2/(Ke*Ke+He*He+ot*ot+ge*ge)),d=He*(2/(Ke*Ke+He*He+ot*ot+ge*ge)),Se=ot*(2/(Ke*Ke+He*He+ot*ot+ge*ge)),lt=B*(Ke*Se-ge*d)+(U*(Ke*d+ge*Se)+Ce*(1-(He*d+ot*Se))),ut=B*(He*Se+ge*qe)+(Ce*(Ke*d-ge*Se)+U*(1-(Ke*qe+ot*Se))),_=Ce*(Ke*Se+ge*d)+U*(He*Se-ge*qe)+B*(1-(Ke*qe+He*d)),mt=D*(Ke*Se-ge*d)+(L*(Ke*d+ge*Se)+we*(1-(He*d+ot*Se))),Ze=D*(He*Se+ge*qe)+(we*(Ke*d-ge*Se)+L*(1-(Ke*qe+ot*Se))),k=we*(Ke*Se+ge*d)+L*(He*Se-ge*qe)+D*(1-(Ke*qe+He*d)),pt=M*(Ke*Se-ge*d)+(F*(Ke*d+ge*Se)+O*(1-(He*d+ot*Se))),ot=M*(He*Se+ge*qe)+(O*(Ke*d-ge*Se)+F*(1-(Ke*qe+ot*Se))),d=O*(Ke*Se+ge*d)+F*(He*Se-ge*qe)+M*(1-(Ke*qe+He*d)),He=+i[be>>2],qe=+i[be+16>>2],Ke=+i[be+32>>2],ge=+i[be+4>>2],Se=+i[be+20>>2],ke=+i[be+36>>2],h=+i[be+8>>2],C=+i[be+24>>2],m=+i[be+40>>2],be=e[(e[te>>2]|0)+64>>2]|0,Ae=-+i[W+52>>2],pe=-+i[W+56>>2],V=-+i[W+60>>2],i[X+64>>2]=(Ke*pt+(He*lt+qe*mt))*Ae+(ke*pt+(ge*lt+Se*mt))*pe+(m*pt+(h*lt+C*mt))*V,i[X+64+4>>2]=(Ke*ot+(He*ut+qe*Ze))*Ae+(ke*ot+(ge*ut+Se*Ze))*pe+(m*ot+(h*ut+C*Ze))*V,i[X+64+8>>2]=(Ke*d+(He*_+qe*k))*Ae+(ke*d+(ge*_+Se*k))*pe+(m*d+(h*_+C*k))*V,i[X+64+12>>2]=0,f0[be&127](X+80|0,te,X+64|0),V=+i[X+80>>2],k=+i[X+80+4>>2],C=+i[X+80+8>>2],_=+i[W+52>>2],h=+i[W+56>>2],d=+i[W+60>>2],m=d*(oe*N+ae*E+xe*w+(N*ve+E*de+w*fe)+((Ce*N+we*E+O*w)*V+(U*N+L*E+F*w)*k+(B*N+D*E+M*w)*C))+(_*(oe*_e+ae*he+xe*g+(_e*ve+he*de+g*fe)+((Ce*_e+we*he+O*g)*V+(U*_e+L*he+F*g)*k+(B*_e+D*he+M*g)*C))+h*(oe*me+ae*re+xe*S+(me*ve+re*de+S*fe)+((Ce*me+we*re+O*S)*V+(U*me+L*re+F*S)*k+(B*me+D*re+M*S)*C)))-+i[W+68>>2],g=oe*_e+ae*he+xe*g+(_e*ve+he*de+g*fe)+((Ce*_e+we*he+O*g)*V+(U*_e+L*he+F*g)*k+(B*_e+D*he+M*g)*C)-_*m,S=oe*me+ae*re+xe*S+(me*ve+re*de+S*fe)+((Ce*me+we*re+O*S)*V+(U*me+L*re+F*S)*k+(B*me+D*re+M*S)*C)-h*m,C=oe*N+ae*E+xe*w+(N*ve+E*de+w*fe)+((Ce*N+we*E+O*w)*V+(U*N+L*E+F*w)*k+(B*N+D*E+M*w)*C)-d*m,W=e[o+12>>2]|0,w=+i[W>>2],M=+i[W+4>>2],E=+i[W+8>>2],D=+i[W+16>>2],N=+i[W+20>>2],B=+i[W+24>>2],k=+i[W+32>>2],F=+i[W+36>>2],L=+i[W+40>>2],U=+i[W+48>>2],V=+i[W+52>>2],O=+i[W+56>>2],W=e[t+12>>2]|0,te=m<+i[W+752>>2],e[a+4>>2]=W,te&&(be=e[o+12>>2]|0,lt=_*+i[be+16>>2]+h*+i[be+20>>2]+d*+i[be+24>>2],pt=_*+i[be+32>>2]+h*+i[be+36>>2]+d*+i[be+40>>2],i[X+48>>2]=+i[be>>2]*_+ +i[be+4>>2]*h+ +i[be+8>>2]*d,i[X+48+4>>2]=lt,i[X+48+8>>2]=pt,i[X+48+12>>2]=0,i[X+32>>2]=E*C+(w*g+M*S)+U,i[X+32+4>>2]=g*D+S*N+C*B+V,i[X+32+8>>2]=g*k+S*F+C*L+O,i[X+32+12>>2]=0,D2[e[(e[a>>2]|0)+16>>2]&15](a,X+48|0,X+32|0,m)),l=l+1|0,o=e[t+20>>2]|0;while((l|0)<(o|0))}do if(A[t+8>>0]|0&&e[(e[t+12>>2]|0)+748>>2]|0&&(ne=e[a+4>>2]|0,e[ne+748>>2]|0))if(l=e[ne+740>>2]|0,u=e[(e[a+8>>2]|0)+8>>2]|0,o=e[(e[a+12>>2]|0)+8>>2]|0,(l|0)==(u|0)){m2(ne,l+4|0,o+4|0);break}else{m2(ne,o+4|0,u+4|0);break}while(!1);H=X}function _ie(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,1}function hie(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+12>>2]|0,!!s&&A[t+8>>0]|0){if(o=e[n+4>>2]|0,(o|0)==(e[n+8>>2]|0)&&(l=o|0?o<<1:1,(o|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[n+4>>2]|0):s=0,(o|0)>0){a=0;do e[s+(a<<2)>>2]=e[(e[n+12>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[n+12>>2]|0,a&&(A[n+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[n+4>>2]|0),e[n+12>>2]=0),A[n+16>>0]=1,e[n+12>>2]=s,e[n+8>>2]=l,s=e[t+12>>2]|0}e[(e[n+12>>2]|0)+(o<<2)>>2]=s,e[n+4>>2]=o+1}}function hm(t){t=t|0;var n=0,s=0;e[t>>2]=4084,A[t+20>>0]|0&&(n=e[t+16>>2]|0,s=e[n+16>>2]|0,s&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),n=e[t+16>>2]|0),n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0))),A[t+12>>0]|0&&(n=e[t+8>>2]|0,s=e[n+16>>2]|0,s&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),n=e[t+8>>2]|0),n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0))),n=e[t+32>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+32>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+36>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+36>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+40>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+40>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+44>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+44>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+48>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+48>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+52>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+52>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+56>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+56>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+60>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+60>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+76>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+76>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+80>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+80>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+72>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+72>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+88>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+88>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+84>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+84>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+24>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+28>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+28>>2]|0,n&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0))}function die(t){t=t|0,hm(t),ye(t)}function mie(t){return t=t|0,e[t+8>>2]|0}function gie(t){return t=t|0,e[t+16>>2]|0}function xie(t,n,s){t=t|0,n=n|0,s=s|0;do if((n|0)==8&(s|0)==8)n=t+60|0;else{if((n|0)==8&(s|0)==1){n=t+76|0;break}if((n|0)==1&(s|0)==8){n=t+80|0;break}if(!(s|n)){n=t+72|0;break}if((n|0)<20&(s|0)==28){n=t+88|0;break}if((n|0)==28&(s|0)<20){n=t+84|0;break}if((n|0)<20){if((s|0)<20){n=t+32|0;break}if((s+-21|0)>>>0<9){n=t+36|0;break}}else{if((s|0)<20&(n+-21|0)>>>0<9){n=t+40|0;break}if((n|0)==31)if((s|0)==31){n=t+48|0;break}else{n=t+44|0;break}}if((s|0)==31){n=t+52|0;break}else{n=t+56|0;break}}while(!1);return e[n>>2]|0}function yie(t){return t=t|0,e[t+24>>2]|0}function dm(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0;if(e[t>>2]=4084,e[5637]=(e[5637]|0)+1,s=Xe(379)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,i[s+308>>2]=9999999747378752e-20,o=s+332|0,A[o>>0]=A[o>>0]&-16,e[t+24>>2]=s,o=(e[n+20>>2]|0)==0,e[5637]=(e[5637]|0)+1,s=Xe(23)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o?(e[s>>2]=6948,e[t+28>>2]=s,o=t+28|0):(e[s>>2]=6908,e[t+28>>2]=s,o=t+28|0),e[5637]=(e[5637]|0)+1,s=Xe(43)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,_=e[t+24>>2]|0,h=e[o>>2]|0,A[s+4>>0]=0,e[s>>2]=3924,e[s+16>>2]=0,e[s+20>>2]=3,e[s+12>>2]=_,e[s+8>>2]=h,e[t+32>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,A[s+4>>0]=0,e[s>>2]=4116,e[t+36>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,A[s+4>>0]=0,e[s>>2]=4136,e[t+40>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,A[s+4>>0]=0,e[s>>2]=4156,e[t+44>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,A[s+4>>0]=0,e[s>>2]=4176,e[t+48>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,A[s+4>>0]=0,e[s>>2]=4196,e[t+52>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,A[s+4>>0]=0,e[s>>2]=4216,e[t+56>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,A[s+4>>0]=0,e[s>>2]=4236,e[t+60>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,A[s+4>>0]=0,e[s>>2]=4256,e[t+76>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s>>2]=4256,e[t+80>>2]=s,A[s+4>>0]=1,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,A[s+4>>0]=0,e[s>>2]=4276,e[t+72>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(35)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,A[s+4>>0]=0,e[s>>2]=4296,e[s+8>>2]=1,e[s+12>>2]=0,e[t+88>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(35)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s>>2]=4296,e[s+8>>2]=1,e[s+12>>2]=0,e[t+84>>2]=s,A[s+4>>0]=1,h=e[n+16>>2]|0,h=(h|0)>80?h:80,s=e[n>>2]|0,s)A[t+12>>0]=0,e[t+8>>2]=s;else{if(A[t+12>>0]=1,e[5637]=(e[5637]|0)+1,s=Xe(39)|0,s?(e[(s+4+15&-16)+-4>>2]=s,_=s+4+15&-16):_=0,s=e[n+8>>2]|0,e[_>>2]=772,o=_+4|0,e[o>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe((s*772|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[_+16>>2]=s,e[_+12>>2]=s,o=e[o>>2]|0,e[_+8>>2]=o,o+-1|0){a=e[_>>2]|0,l=o+-1|0,u=s;do d=u,u=u+a|0,e[d>>2]=u,l=l+-1|0;while((l|0)!=0);s=s+(Rt(a,o+-1|0)|0)|0}e[s>>2]=0,e[t+8>>2]=_}if(s=e[n+4>>2]|0,s|0){A[t+20>>0]=0,e[t+16>>2]=s;return}if(A[t+20>>0]=1,e[5637]=(e[5637]|0)+1,s=Xe(39)|0,s?(e[(s+4+15&-16)+-4>>2]=s,_=s+4+15&-16):_=0,s=e[n+12>>2]|0,e[_>>2]=h,o=_+4|0,e[o>>2]=s,s=Rt(s,h)|0,e[5637]=(e[5637]|0)+1,s=Xe(s+19|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[_+16>>2]=s,e[_+12>>2]=s,o=e[o>>2]|0,e[_+8>>2]=o,o+-1|0){a=e[_>>2]|0,l=o+-1|0,u=s;do d=u,u=u+a|0,e[d>>2]=u,l=l+-1|0;while((l|0)!=0);s=s+(Rt(a,o+-1|0)|0)|0}e[s>>2]=0,e[t+16>>2]=_}function vie(t){t=t|0}function Sie(t){t=t|0,ye(t)}function Tie(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,t=e[n>>2]|0,t=I0[e[(e[t>>2]|0)+56>>2]&31](t,80)|0,n=e[n>>2]|0,e[t+4>>2]=n,e[t>>2]=3720,A[t+8>>0]=0,e[t+12>>2]=3748,e[t+60>>2]=n,e[t+64>>2]=0,e[t+16>>2]=s,e[t+20>>2]=o,n=V0[e[(e[n>>2]|0)+12>>2]&63](n,e[s+8>>2]|0,e[o+8>>2]|0)|0,e[t+76>>2]=n,o=e[t+60>>2]|0,zt[e[(e[o>>2]|0)+20>>2]&127](o,n),t|0}function Cie(t){t=t|0,ye(t)}function wie(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,t=e[n>>2]|0,t=I0[e[(e[t>>2]|0)+56>>2]&31](t,80)|0,n=e[n>>2]|0,e[t+4>>2]=n,e[t>>2]=3720,A[t+8>>0]=1,e[t+12>>2]=3748,e[t+60>>2]=n,e[t+64>>2]=0,e[t+16>>2]=o,e[t+20>>2]=s,n=V0[e[(e[n>>2]|0)+12>>2]&63](n,e[o+8>>2]|0,e[s+8>>2]|0)|0,e[t+76>>2]=n,o=e[t+60>>2]|0,zt[e[(e[o>>2]|0)+20>>2]&127](o,n),t|0}function Mie(t){t=t|0,ye(t)}function Rie(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,t=e[n>>2]|0,t=I0[e[(e[t>>2]|0)+56>>2]&31](t,44)|0,Mh(t,n,s,o,0),t|0}function Aie(t){t=t|0,ye(t)}function Eie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0;if(d=e[n>>2]|0,d=I0[e[(e[d>>2]|0)+56>>2]&31](d,76)|0,Mh(d,n,s,o,0),e[d>>2]=3656,A[d+64>>0]=1,e[d+60>>2]=0,e[d+52>>2]=0,e[d+56>>2]=0,e[5637]=(e[5637]|0)+1,t=Xe(83)|0,t?(e[(t+4+15&-16)+-4>>2]=t,h=t+4+15&-16):h=0,e[h>>2]=4432,l=h+20|0,A[l>>0]=1,u=h+16|0,e[u>>2]=0,n=h+8|0,e[n>>2]=0,_=h+12|0,e[_>>2]=0,A[h+40>>0]=1,e[h+36>>2]=0,e[h+28>>2]=0,e[h+32>>2]=0,A[h+60>>0]=1,e[h+56>>2]=0,e[h+48>>2]=0,e[h+52>>2]=0,e[5637]=(e[5637]|0)+1,t=Xe(43)|0,t?(e[(t+4+15&-16)+-4>>2]=t,a=t+4+15&-16):a=0,t=e[n>>2]|0,(t|0)>0){n=0;do m=a+(n*12|0)|0,g=(e[u>>2]|0)+(n*12|0)|0,e[m>>2]=e[g>>2],e[m+4>>2]=e[g+4>>2],e[m+8>>2]=e[g+8>>2],n=n+1|0;while((n|0)!=(t|0))}return t=e[u>>2]|0,t?(A[l>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)),e[u>>2]=0,A[l>>0]=1,e[u>>2]=a,e[_>>2]=2,gu(h),g=d+44|0,e[g>>2]=h,g=s+4|0,g=e[g>>2]|0,g=g+72|0,g=e[g>>2]|0,m=d+68|0,e[m>>2]=g,m=o+4|0,m=e[m>>2]|0,m=m+72|0,m=e[m>>2]|0,g=d+72|0,e[g>>2]=m,d|0):(A[l>>0]=1,e[u>>2]=a,e[_>>2]=2,gu(h),g=d+44|0,e[g>>2]=h,g=s+4|0,g=e[g>>2]|0,g=g+72|0,g=e[g>>2]|0,m=d+68|0,e[m>>2]=g,m=o+4|0,m=e[m>>2]|0,m=m+72|0,m=e[m>>2]|0,g=d+72|0,e[g>>2]=m,d|0)}function bie(t){t=t|0,ye(t)}function Nie(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,t=e[n>>2]|0,t=I0[e[(e[t>>2]|0)+56>>2]&31](t,44)|0,Mh(t,n,s,o,1),t|0}function Die(t){t=t|0,ye(t)}function Iie(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,t=e[n>>2]|0,t=I0[e[(e[t>>2]|0)+56>>2]&31](t,8)|0,e[t+4>>2]=e[n>>2],e[t>>2]=4316,t|0}function Pie(t){t=t|0,ye(t)}function Lie(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,t=e[n>>2]|0,t=I0[e[(e[t>>2]|0)+56>>2]&31](t,16)|0,n=e[n>>2]|0,e[t+4>>2]=n,e[t>>2]=4512,A[t+8>>0]=0,e[t+12>>2]=0,e[t+12>>2]=V0[e[(e[n>>2]|0)+12>>2]&63](n,e[s+8>>2]|0,e[o+8>>2]|0)|0,A[t+8>>0]=1,t|0}function kie(t){t=t|0,ye(t)}function Fie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0;return a=e[n>>2]|0,a=I0[e[(e[a>>2]|0)+56>>2]&31](a,20)|0,l=e[n+4>>2]|0,t=A[t+4>>0]|0,n=e[n>>2]|0,e[a+4>>2]=n,e[a>>2]=4540,A[a+8>>0]=0,e[a+12>>2]=l,A[a+16>>0]=t,l|0||(e[a+12>>2]=V0[e[(e[n>>2]|0)+12>>2]&63](n,e[s+8>>2]|0,e[o+8>>2]|0)|0,A[a+8>>0]=1),a|0}function Bie(t){t=t|0,ye(t)}function Uie(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,t=e[n>>2]|0,t=I0[e[(e[t>>2]|0)+56>>2]&31](t,16)|0,n=e[n>>2]|0,e[t+4>>2]=n,e[t>>2]=3016,A[t+8>>0]=0,e[t+12>>2]=0,V0[e[(e[n>>2]|0)+24>>2]&63](n,e[s+8>>2]|0,e[o+8>>2]|0)|0&&(n=e[t+4>>2]|0,e[t+12>>2]=V0[e[(e[n>>2]|0)+12>>2]&63](n,e[s+8>>2]|0,e[o+8>>2]|0)|0,A[t+8>>0]=1),t|0}function Oie(t){t=t|0,ye(t)}function Gie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0;return l=e[n>>2]|0,l=I0[e[(e[l>>2]|0)+56>>2]&31](l,28)|0,_=(A[t+4>>0]|0)==0,u=e[t+8>>2]|0,a=e[t+12>>2]|0,t=e[n>>2]|0,e[l+4>>2]=t,e[l>>2]=4056,A[l+8>>0]=0,e[l+12>>2]=0,_?(A[l+16>>0]=0,e[l+20>>2]=u,e[l+24>>2]=a,V0[e[(e[t>>2]|0)+24>>2]&63](t,e[s+8>>2]|0,e[o+8>>2]|0)|0&&(_=e[l+4>>2]|0,e[l+12>>2]=V0[e[(e[_>>2]|0)+12>>2]&63](_,e[s+8>>2]|0,e[o+8>>2]|0)|0,A[l+8>>0]=1),l|0):(A[l+16>>0]=1,e[l+20>>2]=u,e[l+24>>2]=a,V0[e[(e[t>>2]|0)+24>>2]&63](t,e[o+8>>2]|0,e[s+8>>2]|0)|0&&(_=e[l+4>>2]|0,e[l+12>>2]=V0[e[(e[_>>2]|0)+12>>2]&63](_,e[o+8>>2]|0,e[s+8>>2]|0)|0,A[l+8>>0]=1),l|0)}function Vie(t){t=t|0,ye(t)}function zie(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0}function Wie(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,1}function Hie(t,n){t=t|0,n=n|0}function jie(t){t=t|0;var n=0;if(e[t>>2]=4344,n=e[t+300>>2]|0,n|0&&(A[t+304>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+300>>2]=0),A[t+304>>0]=1,e[t+300>>2]=0,e[t+292>>2]=0,e[t+296>>2]=0,e[t>>2]=3156,n=e[t+276>>2]|0,!n){A[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,t=t+272|0,e[t>>2]=0;return}A[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+276>>2]=0,A[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,t=t+272|0,e[t>>2]=0}function qie(t){t=t|0;var n=0;e[t>>2]=4344,n=e[t+300>>2]|0,n|0&&(A[t+304>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+300>>2]=0),A[t+304>>0]=1,e[t+300>>2]=0,e[t+292>>2]=0,e[t+296>>2]=0,e[t>>2]=3156,n=e[t+276>>2]|0,n|0&&(A[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+276>>2]=0),A[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,e[t+272>>2]=0,e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function Xie(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;a=e[n>>2]|0,n=e[t+292>>2]|0;e:do if((n|0)>0){for(o=e[t+300>>2]|0,s=0;(e[o+(s<<2)>>2]|0)!=(a|0);)if(s=s+1|0,(s|0)>=(n|0))break e;if((s|0)!=(n|0))return}while(!1);if((n|0)==(e[t+296>>2]|0)&&(l=n|0?n<<1:1,(n|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,n=Xe((l<<2|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,o=n,n=e[t+292>>2]|0):o=0,(n|0)>0){s=0;do e[o+(s<<2)>>2]=e[(e[t+300>>2]|0)+(s<<2)>>2],s=s+1|0;while((s|0)!=(n|0))}s=e[t+300>>2]|0,s&&(A[t+304>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),n=e[t+292>>2]|0),e[t+300>>2]=0),A[t+304>>0]=1,e[t+300>>2]=o,e[t+296>>2]=l}e[(e[t+300>>2]|0)+(n<<2)>>2]=a,e[t+292>>2]=n+1}function $ie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0;if(l=e[t+292>>2]|0,!((l|0)<=0)){for(n=e[n>>2]|0,a=e[t+300>>2]|0,s=0;o=a+(s<<2)|0,(e[o>>2]|0)!=(n|0);)if(s=s+1|0,(s|0)>=(l|0)){u=7;break}(u|0)!=7&&((s|0)>=(l|0)||(e[o>>2]=e[a+(l+-1<<2)>>2],e[t+292>>2]=l+-1))}}function mm(t){t=t|0;var n=0;if(e[t>>2]=4388,n=e[t+308>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+308>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t>>2]=4344,n=e[t+300>>2]|0,n|0&&(A[t+304>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+300>>2]=0),A[t+304>>0]=1,e[t+300>>2]=0,e[t+292>>2]=0,e[t+296>>2]=0,e[t>>2]=3156,n=e[t+276>>2]|0,!n){A[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,t=t+272|0,e[t>>2]=0;return}A[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+276>>2]=0,A[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,t=t+272|0,e[t>>2]=0}function Yie(t){t=t|0,mm(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Kie(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0;s||(s=e[t+188>>2]|0),_=e[n>>2]|0,o=e[t+292>>2]|0;e:do if((o|0)>0){for(l=e[t+300>>2]|0,a=0;(e[l+(a<<2)>>2]|0)!=(_|0);)if(a=a+1|0,(a|0)>=(o|0))break e;if((a|0)!=(o|0))return}while(!1);if((o|0)==(e[t+296>>2]|0)&&(u=o|0?o<<1:1,(o|0)<(u|0))){if(u?(e[5637]=(e[5637]|0)+1,o=Xe((u<<2|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,l=o,o=e[t+292>>2]|0):l=0,(o|0)>0){a=0;do e[l+(a<<2)>>2]=e[(e[t+300>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[t+300>>2]|0,a&&(A[t+304>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[t+292>>2]|0),e[t+300>>2]=0),A[t+304>>0]=1,e[t+300>>2]=l,e[t+296>>2]=u}e[(e[t+300>>2]|0)+(o<<2)>>2]=_,e[t+292>>2]=o+1,t=e[t+308>>2]|0,V0[e[(e[t>>2]|0)+8>>2]&63](t,s,n)|0}function Zie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0;if(h=e[n>>2]|0,o||(o=e[t+188>>2]|0),u=e[t+292>>2]|0,!((u|0)<=0)){for(_=e[t+300>>2]|0,a=0;l=_+(a<<2)|0,(e[l>>2]|0)!=(h|0);)if(a=a+1|0,(a|0)>=(u|0)){d=9;break}(d|0)!=9&&((a|0)>=(u|0)||(e[l>>2]=e[_+(u+-1<<2)>>2],e[t+292>>2]=u+-1,d=e[t+308>>2]|0,$2[e[(e[d>>2]|0)+12>>2]&31](d,o,n,s)|0))}}function Qie(t){t=t|0;var n=0;if(e[t+164>>2]=1065353216,e[t+168>>2]=1065353216,e[t+172>>2]=1065353216,i[t+176>>2]=0,e[t+180>>2]=0,i[t+184>>2]=0xde0b6b000000000,e[t+188>>2]=0,e[t+188+4>>2]=0,e[t+188+8>>2]=0,e[t+188+12>>2]=0,e[t+204>>2]=1,e[t+208>>2]=-1,e[t+212>>2]=-1,e[t+216>>2]=1,i[t+220>>2]=0,i[t+224>>2]=.5,i[t+228>>2]=0,i[t+232>>2]=0,e[t+240>>2]=0,e[t+244>>2]=-1,i[t+248>>2]=1,i[t+252>>2]=0,i[t+256>>2]=0,e[t+260>>2]=0,A[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,e[t+272>>2]=0,e[t+284>>2]=0,e[t+4>>2]=1065353216,e[t+8>>2]=0,e[t+8+4>>2]=0,e[t+8+8>>2]=0,e[t+8+12>>2]=0,e[t+24>>2]=1065353216,e[t+28>>2]=0,e[t+28+4>>2]=0,e[t+28+8>>2]=0,e[t+28+12>>2]=0,e[t+44>>2]=1065353216,e[t+48>>2]=0,e[t+48+4>>2]=0,e[t+48+8>>2]=0,e[t+48+12>>2]=0,e[t+48+16>>2]=0,A[t+304>>0]=1,e[t+300>>2]=0,e[t+292>>2]=0,e[t+296>>2]=0,e[t+236>>2]=4,e[t>>2]=4388,e[5637]=(e[5637]|0)+1,n=Xe(91)|0,!n){n=0,lp(n),t=t+308|0,e[t>>2]=n;return}e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16,lp(n),t=t+308|0,e[t>>2]=n}function sp(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l;var u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0;if(W=H,H=H+288|0,e[W+144>>2]=e[s>>2],e[W+144+4>>2]=e[s+4>>2],e[W+144+8>>2]=e[s+8>>2],e[W+144+12>>2]=e[s+12>>2],e[W+144+16>>2]=e[s+16>>2],e[W+144+16+4>>2]=e[s+16+4>>2],e[W+144+16+8>>2]=e[s+16+8>>2],e[W+144+16+12>>2]=e[s+16+12>>2],e[W+144+32>>2]=e[s+32>>2],e[W+144+32+4>>2]=e[s+32+4>>2],e[W+144+32+8>>2]=e[s+32+8>>2],e[W+144+32+12>>2]=e[s+32+12>>2],e[W+144+48>>2]=e[s+48>>2],e[W+144+48+4>>2]=e[s+48+4>>2],e[W+144+48+8>>2]=e[s+48+8>>2],e[W+144+48+12>>2]=e[s+48+12>>2],e[W+80>>2]=e[o>>2],e[W+80+4>>2]=e[o+4>>2],e[W+80+8>>2]=e[o+8>>2],e[W+80+12>>2]=e[o+12>>2],e[W+80+16>>2]=e[o+16>>2],e[W+80+16+4>>2]=e[o+16+4>>2],e[W+80+16+8>>2]=e[o+16+8>>2],e[W+80+16+12>>2]=e[o+16+12>>2],e[W+80+32>>2]=e[o+32>>2],e[W+80+32+4>>2]=e[o+32+4>>2],e[W+80+32+8>>2]=e[o+32+8>>2],e[W+80+32+12>>2]=e[o+32+12>>2],e[W+80+48>>2]=e[o+48>>2],e[W+80+48+4>>2]=e[o+48+4>>2],e[W+80+48+8>>2]=e[o+48+8>>2],e[W+80+48+12>>2]=e[o+48+12>>2],h=+i[W+80+52>>2]-+i[W+144+52>>2],he=+i[W+80+56>>2]-+i[W+144+56>>2],i[W+32>>2]=+i[W+80+48>>2]-+i[W+144+48>>2],i[W+32+4>>2]=h,i[W+32+8>>2]=he,i[W+32+12>>2]=0,Ea(W+144|0,W+80|0,W+224|0,W+208|0),he=+i[W+208>>2],h=he*+i[W+224+4>>2],te=he*+i[W+224+8>>2],i[W+16>>2]=+i[W+224>>2]*he,i[W+16+4>>2]=h,i[W+16+8>>2]=te,i[W+16+12>>2]=0,e[W+224+4>>2]=0,e[W+224+4+4>>2]=0,e[W+224+24>>2]=0,e[W+224+24+4>>2]=0,ne=W+224+44|0,e[ne>>2]=0,e[ne+4>>2]=0,e[ne+8>>2]=0,e[ne+12>>2]=0,e[ne+16>>2]=0,xs(W+144|0,W),te=+i[W>>2],h=+i[W+4>>2],he=+i[W+8>>2],pe=+i[W+12>>2],u=te*(2/(te*te+h*h+he*he+pe*pe)),m=h*(2/(te*te+h*h+he*he+pe*pe)),_e=he*(2/(te*te+h*h+he*he+pe*pe)),i[W+224>>2]=1-(h*m+he*_e),i[W+224+4>>2]=te*m-pe*_e,i[W+224+8>>2]=te*_e+pe*m,i[W+224+12>>2]=0,i[W+224+16>>2]=te*m+pe*_e,i[W+224+20>>2]=1-(te*u+he*_e),i[W+224+24>>2]=h*_e-pe*u,i[W+224+28>>2]=0,i[W+224+32>>2]=te*_e-pe*m,i[W+224+36>>2]=h*_e+pe*u,i[W+224+40>>2]=1-(te*u+h*m),i[ne>>2]=0,K6(n,W+224|0,W+32|0,W+16|0,W+64|0,W+48|0),(e[t+292>>2]|0)<=0){H=W;return}X=0;do{if(g=e[(e[t+300>>2]|0)+(X<<2)>>2]|0,I0[e[(e[a>>2]|0)+8>>2]&31](a,e[g+188>>2]|0)|0&&(V=e[g+192>>2]|0,Kt[e[(e[V>>2]|0)+8>>2]&127](V,g+4|0,W+208|0,W+32|0),S=+i[W+208>>2]+ +i[W+64>>2],C=+i[W+208+4>>2]+ +i[W+64+4>>2],w=+i[W+208+8>>2]+ +i[W+64+8>>2],i[W+208>>2]=S,i[W+208+4>>2]=C,i[W+208+8>>2]=w,i[W+208+12>>2]=0,M=+i[W+32>>2]+ +i[W+48>>2],E=+i[W+32+4>>2]+ +i[W+48+4>>2],D=+i[W+32+8>>2]+ +i[W+48+8>>2],i[W+32>>2]=M,i[W+32+4>>2]=E,i[W+32+8>>2]=D,i[W+32+12>>2]=0,N=+i[s+48>>2]-(M+S)*.5,B=+i[s+52>>2]-(E+C)*.5,k=+i[s+56>>2]-(D+w)*.5,F=+i[o+48>>2]-(M+S)*.5,L=+i[o+52>>2]-(E+C)*.5,U=+i[o+56>>2]-(D+w)*.5,V=N<-((M-S)*.5)|(N>(M-S)*.5?8:0)|(B<-((E-C)*.5)?2:0)|(B>(E-C)*.5?16:0)|(k<-((D-w)*.5)?4:0)|(k>(D-w)*.5?32:0),O=F<-((M-S)*.5)|(F>(M-S)*.5?8:0)|(L<-((E-C)*.5)?2:0)|(L>(E-C)*.5?16:0)|(U<-((D-w)*.5)?4:0)|(U>(D-w)*.5?32:0),(V&O|0)==0)){for(q=1,ne=0,u=0,_=1065353216,m=1;q&V?(h=(-N-m*((M-S)*.5))/(F-N),u<=h&&(u=h)):(q&O|0)!=0&&(z=(-N-m*((M-S)*.5))/(F-N),z<(e[Z>>2]=_,+i[Z>>2]))&&(_=(i[Z>>2]=z,e[Z>>2]|0)),d=q<<1,d&V?(h=(-B-m*((E-C)*.5))/(L-B),u<=h||(h=u)):(d&O|0)!=0&&(Y=(-B-m*((E-C)*.5))/(L-B),Y<(e[Z>>2]=_,+i[Z>>2]))?(h=u,_=(i[Z>>2]=Y,e[Z>>2]|0)):h=u,d=q<<2,d&V?(u=(-k-m*((D-w)*.5))/(U-k),h<=u||(u=h)):(d&O|0)!=0&&($=(-k-m*((D-w)*.5))/(U-k),$<(e[Z>>2]=_,+i[Z>>2]))?(u=h,_=(i[Z>>2]=$,e[Z>>2]|0)):u=h,ne=ne+1|0,(ne|0)!=2;)q=q<<3,m=-1;u<=(e[Z>>2]=_,+i[Z>>2])&&(ne=e[g+192>>2]|0,e[W+224>>2]=0,e[W+224+4>>2]=ne,e[W+224+8>>2]=g,e[W+224+12>>2]=g+4,e[W+224+16>>2]=-1,e[W+224+20>>2]=-1,Ch(n,W+144|0,W+80|0,W+224|0,a,l))}X=X+1|0}while((X|0)<(e[t+292>>2]|0));H=W}function gm(t){t=t|0;var n=0;if(e[t>>2]=4432,n=e[t+56>>2]|0,n|0&&(A[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+56>>2]=0),A[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,n=e[t+36>>2]|0,n|0&&(A[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),A[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,n=e[t+16>>2]|0,!n){A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0;return}A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0}function Jie(t){t=t|0,gm(t),ye(t)}function ene(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0;if(e[4990]=(e[4990]|0)+1,l=((s<<16|n)+~((s<<16|n)<<15)>>10^(s<<16|n)+~((s<<16|n)<<15))*9|0,m=e[t+36>>2]|0,l=m+(((e[t+12>>2]|0)+-1&((l>>6^l)+~((l>>6^l)<<11)>>16^(l>>6^l)+~((l>>6^l)<<11)))<<2)|0,a=e[l>>2]|0,(a|0)==-1)return S=0,S|0;for(g=e[t+16>>2]|0,o=a;d=g+(o*12|0)|0,!((e[d>>2]|0)==(n|0)&&(e[g+(o*12|0)+4>>2]|0)==(s|0));)if(o=e[(e[t+56>>2]|0)+(o<<2)>>2]|0,(o|0)==-1){o=0,S=21;break}if((S|0)==21)return o|0;if(!d)return S=0,S|0;if(h=e[g+(o*12|0)+8>>2]|0,_=(o*12|0)/12|0,n=e[t+56>>2]|0,(a|0)!=(_|0)){for(;s=n+(a<<2)|0,o=e[s>>2]|0,(o|0)!=(_|0);)a=o;o=e[n+(_<<2)>>2]|0,(a|0)==-1?S=11:e[s>>2]=o}else o=e[n+(a<<2)>>2]|0,S=11;if((S|0)==11&&(e[l>>2]=o),l=(e[t+8>>2]|0)+-1|0,(l|0)==(_|0))return e[t+8>>2]=_,S=h,S|0;if(u=e[g+(l*12|0)+4>>2]<<16|e[g+(l*12|0)>>2],u=(u+~(u<<15)>>10^u+~(u<<15))*9|0,u=((u>>6^u)+~((u>>6^u)<<11)>>16^(u>>6^u)+~((u>>6^u)<<11))&(e[t+12>>2]|0)+-1,o=e[m+(u<<2)>>2]|0,n=e[t+56>>2]|0,(o|0)!=(l|0)){for(a=o;s=n+(a<<2)|0,o=e[s>>2]|0,(o|0)!=(l|0);)a=o;o=e[n+(l<<2)>>2]|0,(a|0)==-1?S=19:e[s>>2]=o}else o=e[n+(l<<2)>>2]|0,S=19;return(S|0)==19&&(e[m+(u<<2)>>2]=o),e[d>>2]=e[g+(l*12|0)>>2],e[d+4>>2]=e[g+(l*12|0)+4>>2],e[d+8>>2]=e[g+(l*12|0)+8>>2],S=(e[t+36>>2]|0)+(u<<2)|0,e[(e[t+56>>2]|0)+(_<<2)>>2]=e[S>>2],e[S>>2]=_,e[t+8>>2]=(e[t+8>>2]|0)+-1,S=h,S|0}function tne(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0;e[4991]=(e[4991]|0)+1,h=((s<<16|n)+~((s<<16|n)<<15)>>10^(s<<16|n)+~((s<<16|n)<<15))*9|0,h=(h>>6^h)+~((h>>6^h)<<11)>>16^(h>>6^h)+~((h>>6^h)<<11),d=e[t+12>>2]|0,o=e[(e[t+36>>2]|0)+((d+-1&h)<<2)>>2]|0;e:do if((o|0)!=-1){for(l=e[t+16>>2]|0;a=l+(o*12|0)|0,!((e[a>>2]|0)==(n|0)&&(e[l+(o*12|0)+4>>2]|0)==(s|0));)if(o=e[(e[t+56>>2]|0)+(o<<2)>>2]|0,(o|0)==-1)break e;if(a|0)return t=a,t|0}while(!1);if(_=e[t+8>>2]|0,(_|0)==(d|0))if(l=d|0?d<<1:1,(d|0)<(l|0)){if(l?(e[5637]=(e[5637]|0)+1,o=Xe((l*12|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+8>>2]|0):(o=0,a=d),(a|0)>0){u=0;do m=o+(u*12|0)|0,g=(e[t+16>>2]|0)+(u*12|0)|0,e[m>>2]=e[g>>2],e[m+4>>2]=e[g+4>>2],e[m+8>>2]=e[g+8>>2],u=u+1|0;while((u|0)!=(a|0))}a=e[t+16>>2]|0,a|0&&(A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+16>>2]=0),A[t+20>>0]=1,e[t+16>>2]=o,e[t+12>>2]=l,o=e[t+8>>2]|0}else o=d,l=d;else o=_,l=d;return e[t+8>>2]=o+1,a=e[t+16>>2]|0,(d|0)<(l|0)?(gu(t),o=(e[t+12>>2]|0)+-1&h):o=d+-1&h,e[a+(_*12|0)>>2]=n,e[a+(_*12|0)+4>>2]=s,e[a+(_*12|0)+8>>2]=0,g=(e[t+36>>2]|0)+(o<<2)|0,e[(e[t+56>>2]|0)+(_<<2)>>2]=e[g>>2],e[g>>2]=_,g=a+(_*12|0)|0,g|0}function gu(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0;if(u=e[t+12>>2]|0,_=e[t+28>>2]|0,!((u|0)<=(_|0))){if((u|0)>=(_|0)){do if((e[t+32>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,n=Xe((u<<2|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,s=e[t+28>>2]|0):(n=0,s=_),o=e[t+36>>2]|0,(s|0)<=0){if(!o){A[t+40>>0]=1,e[t+36>>2]=n,e[t+32>>2]=u;break}}else{a=0;do e[n+(a<<2)>>2]=e[o+(a<<2)>>2],a=a+1|0;while((a|0)!=(s|0))}A[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),A[t+40>>0]=1,e[t+36>>2]=n,e[t+32>>2]=u}else n=e[t+36>>2]|0;while(!1);ln(n+(_<<2)|0,0,u-_<<2|0)|0}if(e[t+28>>2]=u,l=e[t+48>>2]|0,(u|0)>(l|0)){do if((e[t+52>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,n=Xe((u<<2|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,s=e[t+48>>2]|0):(n=0,s=l),o=e[t+56>>2]|0,(s|0)<=0){if(!o){A[t+60>>0]=1,e[t+56>>2]=n,e[t+52>>2]=u;break}}else{a=0;do e[n+(a<<2)>>2]=e[o+(a<<2)>>2],a=a+1|0;while((a|0)!=(s|0))}A[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),A[t+60>>0]=1,e[t+56>>2]=n,e[t+52>>2]=u}else n=e[t+56>>2]|0;while(!1);ln(n+(l<<2)|0,0,u-l<<2|0)|0}if(e[t+48>>2]=u,(u|0)>0&&(ln(e[t+36>>2]|0,-1,u<<2|0)|0,ln(e[t+56>>2]|0,-1,u<<2|0)|0),!((_|0)<=0)){n=e[t+16>>2]|0,s=e[t+36>>2]|0,o=e[t+56>>2]|0,a=0;do u=e[n+(a*12|0)+4>>2]<<16|e[n+(a*12|0)>>2],u=(u+~(u<<15)>>10^u+~(u<<15))*9|0,u=s+((((u>>6^u)+~((u>>6^u)<<11)>>16^(u>>6^u)+~((u>>6^u)<<11))&(e[t+12>>2]|0)+-1)<<2)|0,e[o+(a<<2)>>2]=e[u>>2],e[u>>2]=a,a=a+1|0;while((a|0)!=(_|0))}}}function ine(t){return t=t|0,e[t+16>>2]|0}function xm(t){t=t|0;var n=0,s=0,o=0,a=0,l=0;if(n=e[t+16>>2]|0,n|0&&(A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0),A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,n=e[t+36>>2]|0,n|0&&(A[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),A[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,n=e[t+56>>2]|0,n|0&&(A[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+56>>2]=0),A[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,(e[t+12>>2]|0)>=2){gu(t);return}if(e[5637]=(e[5637]|0)+1,n=Xe(43)|0,n?(e[(n+4+15&-16)+-4>>2]=n,o=n+4+15&-16):o=0,n=e[t+8>>2]|0,(n|0)>0){s=0;do a=o+(s*12|0)|0,l=(e[t+16>>2]|0)+(s*12|0)|0,e[a>>2]=e[l>>2],e[a+4>>2]=e[l+4>>2],e[a+8>>2]=e[l+8>>2],s=s+1|0;while((s|0)!=(n|0))}n=e[t+16>>2]|0,n|0&&(A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0),A[t+20>>0]=1,e[t+16>>2]=o,e[t+12>>2]=2,gu(t)}function nne(t){t=t|0,ye(t)}function rne(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0;if(V=H,H=H+192|0,F=e[t+4>>2]|0,+i[F+752>>2]<o){H=V;return}if(U=e[F+740>>2]|0,k=(e[t+8>>2]|0)+8|0,L=e[k>>2]|0,l=+i[s>>2],C=+i[n>>2]*o+l,u=+i[s+4>>2],w=+i[n+4>>2]*o+u,a=+i[s+8>>2],M=+i[n+8>>2]*o+a,B=(e[t+12>>2]|0)+8|0,g=e[B>>2]|0,_=+i[g+52>>2],h=+i[g+56>>2],(U|0)!=(L|0)?(N=M-+i[g+60>>2],l=l-+i[L+52>>2],u=u-+i[L+56>>2],a=a-+i[L+60>>2],E=(C-_)*+i[g+4>>2]+(w-h)*+i[g+20>>2]+N*+i[g+36>>2],D=(C-_)*+i[g+8>>2]+(w-h)*+i[g+24>>2]+N*+i[g+40>>2],N=(C-_)*+i[g+12>>2]+(w-h)*+i[g+28>>2]+N*+i[g+44>>2],d=l*+i[L+4>>2]+u*+i[L+20>>2]+a*+i[L+36>>2],m=l*+i[L+8>>2]+u*+i[L+24>>2]+a*+i[L+40>>2],a=l*+i[L+12>>2]+u*+i[L+28>>2]+a*+i[L+44>>2]):(m=C-+i[U+52>>2],d=w-+i[U+56>>2],N=M-+i[U+60>>2],a=a-+i[g+60>>2],E=m*+i[U+4>>2]+d*+i[U+20>>2]+N*+i[U+36>>2],D=m*+i[U+8>>2]+d*+i[U+24>>2]+N*+i[U+40>>2],N=m*+i[U+12>>2]+d*+i[U+28>>2]+N*+i[U+44>>2],d=(l-_)*+i[g+4>>2]+(u-h)*+i[g+20>>2]+a*+i[g+36>>2],m=(l-_)*+i[g+8>>2]+(u-h)*+i[g+24>>2]+a*+i[g+40>>2],a=(l-_)*+i[g+12>>2]+(u-h)*+i[g+28>>2]+a*+i[g+44>>2]),i[V>>2]=E,i[V+4>>2]=D,i[V+8>>2]=N,i[V+12>>2]=0,i[V+16>>2]=d,i[V+20>>2]=m,i[V+24>>2]=a,i[V+28>>2]=0,e[V+64>>2]=e[n>>2],e[V+64+4>>2]=e[n+4>>2],e[V+64+8>>2]=e[n+8>>2],e[V+64+12>>2]=e[n+12>>2],i[V+80>>2]=o,i[V+84>>2]=0,i[V+88>>2]=0,i[V+92>>2]=0,e[V+112>>2]=0,A[V+116>>0]=0,e[V+120>>2]=0,e[V+120+4>>2]=0,e[V+120+8>>2]=0,e[V+120+12>>2]=0,e[V+120+16>>2]=0,e[V+120+20>>2]=0,e[V+120+24>>2]=0,e[V+120+28>>2]=0,i[V+48>>2]=C,i[V+52>>2]=w,i[V+56>>2]=M,i[V+60>>2]=0,e[V+32>>2]=e[s>>2],e[V+32+4>>2]=e[s+4>>2],e[V+32+8>>2]=e[s+8>>2],e[V+32+12>>2]=e[s+12>>2],a=+i[F+752>>2],s=e[F+748>>2]|0,(s|0)>0)for(S=0,g=-1,_=a*a;a=+i[F+4+(S*184|0)>>2]-E,l=+i[F+4+(S*184|0)+4>>2]-D,u=+i[F+4+(S*184|0)+8>>2]-N,n=a*a+l*l+u*u<_,g=n?S:g,S=S+1|0,(S|0)!=(s|0);)_=n?a*a+l*l+u*u:_;else g=-1;S=e[k>>2]|0,k=e[B>>2]|0,a=+i[S+224>>2]*+i[k+224>>2],a=a<-10?-10:a,i[V+84>>2]=a>10?10:a,i[V+92>>2]=+i[S+228>>2]*+i[k+228>>2],a=+i[S+232>>2]*+i[k+232>>2],a=a<-10?-10:a,i[V+88>>2]=a>10?10:a,a=+i[V+72>>2],k=+ht(+a)>.7071067690849304,_=+i[V+68>>2],k?(N=1/+at(+(a*a+_*_)),d=+i[V+64>>2],h=-(N*_*d),d=d*-(N*a),m=-(N*a),l=(a*a+_*_)*N,u=0,a=N*_):(l=+i[V+64>>2],u=1/+at(+(l*l+_*_)),h=a*-(_*u),d=(l*l+_*_)*u,m=u*l,l=-(u*l*a),u=-(_*u),a=0),i[V+152>>2]=u,i[V+156>>2]=m,i[V+160>>2]=a,i[V+168>>2]=l,i[V+172>>2]=h,i[V+176>>2]=d,B=e[t+20>>2]|0,S=e[t+16>>2]|0,k=e[t+28>>2]|0,t=e[t+24>>2]|0,e[V+96>>2]=(U|0)!=(L|0)?B:S,e[V+100>>2]=(U|0)!=(L|0)?S:B,e[V+104>>2]=(U|0)!=(L|0)?k:t,e[V+108>>2]=(U|0)!=(L|0)?t:k,(g|0)>-1?(t=F+4+(g*184|0)+148|0,U=e[t>>2]|0,s=F+4+(g*184|0)+120|0,n=e[s>>2]|0,B=F+4+(g*184|0)+124|0,S=e[B>>2]|0,L=F+4+(g*184|0)+128|0,k=e[L>>2]|0,O=F+4+(g*184|0)+112|0,z=e[O>>2]|0,Rr(F+4+(g*184|0)|0,V|0,184)|0,e[O>>2]=z,e[s>>2]=n,e[B>>2]=S,e[L>>2]=k,e[t>>2]=U):k6(F,V)|0,H=V}function ym(t){t=t|0;var n=0;if(e[t>>2]=4488,n=e[t+56>>2]|0,n|0&&(A[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+56>>2]=0),A[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,n=e[t+36>>2]|0,n|0&&(A[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),A[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,n=e[t+16>>2]|0,!n){n=t+12|0,A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,e[n>>2]=0;return}A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,n=t+12|0,A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,e[n>>2]=0}function sne(t){t=t|0,ym(t),ye(t)}function one(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0;if(o=e[n+8>>2]|0,(o|0)>0){a=e[n+16>>2]|0,u=0,s=0;do l=e[a+(u<<2)>>2]|0,e[l+204>>2]&3||(e[l+208>>2]=s,s=s+1|0),e[l+212>>2]=-1,i[l+248>>2]=1,u=u+1|0;while((u|0)!=(o|0));u=s}else u=0;if(l=e[t+8>>2]|0,(l|0)<(u|0)){if((e[t+12>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,s=Xe((u<<3|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+8>>2]|0):(s=0,o=l),(o|0)>0){a=0;do d=(e[t+16>>2]|0)+(a<<3)|0,_=e[d+4>>2]|0,h=s+(a<<3)|0,e[h>>2]=e[d>>2],e[h+4>>2]=_,a=a+1|0;while((a|0)!=(o|0))}o=e[t+16>>2]|0,o|0&&(A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+16>>2]=0),A[t+20>>0]=1,e[t+16>>2]=s,e[t+12>>2]=u,o=t+16|0}else o=t+16|0;s=l;do d=(e[o>>2]|0)+(s<<3)|0,e[d>>2]=0,e[d+4>>2]=0,s=s+1|0;while((s|0)!=(u|0))}if(e[t+8>>2]=u,(u|0)>0){s=e[t+16>>2]|0,o=0;do e[s+(o<<3)>>2]=o,e[s+(o<<3)+4>>2]=1,o=o+1|0;while((o|0)!=(u|0))}if(s=e[n+68>>2]|0,s=Ct[e[(e[s>>2]|0)+36>>2]&127](s)|0,h=Ct[e[(e[s>>2]|0)+36>>2]&127](s)|0,!!h&&(n=Ct[e[(e[s>>2]|0)+20>>2]&127](s)|0,!((h|0)<=0))){_=0;do{if(s=e[e[n+(_<<4)>>2]>>2]|0,o=e[e[n+(_<<4)+4>>2]>>2]|0,s|0&&o|0&&(e[s+204>>2]&7|0)==0&&(e[o+204>>2]&7|0)==0){if(l=e[s+208>>2]|0,s=e[o+208>>2]|0,u=e[t+16>>2]|0,o=e[u+(l<<3)>>2]|0,(o|0)!=(l|0)){a=u+(l<<3)|0;do l=u+(o<<3)|0,e[a>>2]=e[l>>2],l=e[l>>2]|0,a=u+(l<<3)|0,o=e[a>>2]|0;while((l|0)!=(o|0))}if(o=e[u+(s<<3)>>2]|0,(o|0)!=(s|0)){a=u+(s<<3)|0;do s=u+(o<<3)|0,e[a>>2]=e[s>>2],s=e[s>>2]|0,a=u+(s<<3)|0,o=e[a>>2]|0;while((s|0)!=(o|0))}(l|0)!=(s|0)&&(e[u+(l<<3)>>2]=s,d=u+(s<<3)+4|0,e[d>>2]=(e[d>>2]|0)+(e[u+(l<<3)+4>>2]|0))}_=_+1|0}while((_|0)!=(h|0))}}function ane(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0;if(d=e[n+8>>2]|0,!((d|0)<=0)){_=e[n+16>>2]|0,h=0,n=0;do{if(u=e[_+(h<<2)>>2]|0,e[u+204>>2]&3)e[u+208>>2]=-1,e[u+212>>2]=-2;else{if(l=e[t+16>>2]|0,o=l+(n<<3)|0,s=e[o>>2]|0,(s|0)==(n|0))s=n;else{a=s;do s=l+(a<<3)|0,e[o>>2]=e[s>>2],s=e[s>>2]|0,o=l+(s<<3)|0,a=e[o>>2]|0;while((s|0)!=(a|0))}e[u+208>>2]=s,e[l+(n<<3)+4>>2]=h,e[u+212>>2]=-1,n=n+1|0}h=h+1|0}while((h|0)!=(d|0))}}function cne(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0;if(E=H,H=H+16|0,$n(12530),a=e[t+28>>2]|0,(a|0)<0){(e[t+32>>2]|0)<0&&(l=e[t+36>>2]|0,l|0&&(A[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+36>>2]=0),A[t+40>>0]=1,e[t+36>>2]=0,e[t+32>>2]=0);do e[(e[t+36>>2]|0)+(a<<2)>>2]=0,a=a+1|0;while((a|0)!=0)}if(e[t+28>>2]=0,_=e[t+8>>2]|0,(_|0)>0){h=e[t+16>>2]|0,m=0;do{if(d=h+(m<<3)|0,a=e[d>>2]|0,(a|0)==(m|0))a=m;else{l=a,u=d;do a=h+(l<<3)|0,e[u>>2]=e[a>>2],a=e[a>>2]|0,u=h+(a<<3)|0,l=e[u>>2]|0;while((a|0)!=(l|0))}e[d>>2]=a,m=m+1|0}while((m|0)!=(_|0));if((_|0)>1&&(Sm(t+4|0,0,_+-1|0),_=e[t+8>>2]|0),(_|0)>0)for(m=e[t+16>>2]|0,l=0;;){for(g=e[m+(l<<3)>>2]|0,w=l;;){if(C=w+1|0,(C|0)>=(_|0)){d=0;break}if((e[m+(C<<3)>>2]|0)==(g|0))w=C;else{d=1;break}}e:do if((l|0)<=(w|0)){for(S=e[s+16>>2]|0,a=1,h=l;u=e[S+(e[m+(h<<3)+4>>2]<<2)>>2]|0,(e[u+208>>2]|0)==(g|0)&&(u=e[u+216>>2]|0,a=(u|0)!=4&(a&(u|0)!=1)),(h|0)<(w|0);)h=h+1|0;if(a)for(a=m;;){if(a=e[S+(e[a+(l<<3)+4>>2]<<2)>>2]|0,(e[a+208>>2]|0)==(g|0)&&(e[a+216>>2]&-2|0)!=4&&(e[a+216>>2]=2),(l|0)>=(w|0))break e;a=e[t+16>>2]|0,l=l+1|0}else for(a=m;;){if(a=e[S+(e[a+(l<<3)+4>>2]<<2)>>2]|0,(e[a+208>>2]|0)==(g|0)&&(e[a+216>>2]|0)==2&&(e[a+216>>2]=3,i[a+220>>2]=0),(l|0)>=(w|0))break e;a=e[t+16>>2]|0,l=l+1|0}}while(!1);if(d)l=C;else break}}if(h=Ct[e[(e[n>>2]|0)+36>>2]&127](n)|0,(h|0)>0){d=0;do{if(_=I0[e[(e[n>>2]|0)+40>>2]&31](n,d)|0,l=e[_+740>>2]|0,u=e[_+744>>2]|0,(l|0)!=0&&(e[l+216>>2]|0)!=2?a=44:a=42,(a|0)==42&&(a=0,u|0)&&(e[u+216>>2]|0)!=2&&(a=44),(a|0)==44&&(a=e[l+204>>2]|0,a&2|0&&(a&4|0)==0&&(e[l+216>>2]|0)!=2&&(e[u+204>>2]&3|0)==0&&((e[u+216>>2]&-2|0)!=4&&(e[u+216>>2]=1),i[u+220>>2]=0),w=e[u+204>>2]|0,w&2|0&&(w&4|a&3|0)==0&&(e[u+216>>2]|0)!=2&&((e[l+216>>2]&-2|0)!=4&&(e[l+216>>2]=1),i[l+220>>2]=0),A[t+64>>0]|0&&V0[e[(e[n>>2]|0)+28>>2]&63](n,l,u)|0)){if(a=e[t+28>>2]|0,(a|0)==(e[t+32>>2]|0)&&(M=a|0?a<<1:1,(a|0)<(M|0))){if(M?(e[5637]=(e[5637]|0)+1,a=Xe((M<<2|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,u=a,a=e[t+28>>2]|0):u=0,(a|0)>0){l=0;do e[u+(l<<2)>>2]=e[(e[t+36>>2]|0)+(l<<2)>>2],l=l+1|0;while((l|0)!=(a|0))}l=e[t+36>>2]|0,l&&(A[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0),a=e[t+28>>2]|0),e[t+36>>2]=0),A[t+40>>0]=1,e[t+36>>2]=u,e[t+32>>2]=M}e[(e[t+36>>2]|0)+(a<<2)>>2]=_,e[t+28>>2]=a+1}d=d+1|0}while((d|0)<(h|0))}a=e[2006]|0,M=(e[a+16>>2]|0)+-1|0,e[a+16>>2]=M;do if(!M){if(e[a+4>>2]|0){if(Tn(E|0,0)|0,M=e[5649]|0,i[a+8>>2]=+i[a+8>>2]+ +(((e[E+4>>2]|0)-(e[M+4>>2]|0)+(((e[E>>2]|0)-(e[M>>2]|0)|0)*1e6|0)-(e[a+12>>2]|0)|0)>>>0)/1e3,e[a+16>>2]|0)break;a=e[2006]|0}e[2006]=e[a+20>>2]}while(!1);if(M=e[t+8>>2]|0,$n(12558),A[t+64>>0]|0){if(C=e[t+28>>2]|0,(C|0)>1&&vm(t+24|0,0,C+-1|0),(M|0)>0)for(g=1,l=0,w=0;;){a=e[t+16>>2]|0,S=e[a+(l<<3)>>2]|0;e:do if((l|0)<(M|0))for(h=e[t+48>>2]|0,u=e[t+52>>2]|0,m=1;;){if(d=e[(e[s+16>>2]|0)+(e[a+(l<<3)+4>>2]<<2)>>2]|0,(h|0)==(u|0))if(h=u|0?u<<1:1,(u|0)<(h|0)){if(h?(e[5637]=(e[5637]|0)+1,a=Xe((h<<2|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,u=e[t+48>>2]|0):a=0,(u|0)>0){_=0;do e[a+(_<<2)>>2]=e[(e[t+56>>2]|0)+(_<<2)>>2],_=_+1|0;while((_|0)!=(u|0))}_=e[t+56>>2]|0,_&&(A[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[_+-4>>2]|0),u=e[t+48>>2]|0),e[t+56>>2]=0),A[t+60>>0]=1,e[t+56>>2]=a,e[t+52>>2]=h,a=u,u=h}else a=u;else a=h;if(e[(e[t+56>>2]|0)+(a<<2)>>2]=d,h=a+1|0,e[t+48>>2]=h,_=e[d+216>>2]|0,_=m&((_|0)==2|(_|0)==5),l=l+1|0,(l|0)>=(M|0)){m=l;break e}if(a=e[t+16>>2]|0,(e[a+(l<<3)>>2]|0)!=(S|0)){m=l;break}else m=_}else m=l,_=1;while(!1);if((w|0)<(C|0))if(d=e[t+36>>2]|0,a=d+(w<<2)|0,u=e[a>>2]|0,l=e[(e[u+740>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+744>>2]|0)+208>>2]|0),(l|0)==(S|0)){h=w;do{if(h=h+1|0,(h|0)>=(C|0))break;u=e[d+(h<<2)>>2]|0,l=e[(e[u+740>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+744>>2]|0)+208>>2]|0)}while((S|0)==(l|0));u=h,l=h-w|0}else u=g,l=0,a=0;else u=g,l=0,a=0;if(_||Lo[e[(e[o>>2]|0)+8>>2]&7](o,e[t+56>>2]|0,e[t+48>>2]|0,a,l,S),w=(l|0)==0?w:u,a=e[t+48>>2]|0,(a|0)<0){(e[t+52>>2]|0)<0&&(l=e[t+56>>2]|0,l|0&&(A[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+56>>2]=0),A[t+60>>0]=1,e[t+56>>2]=0,e[t+52>>2]=0);do e[(e[t+56>>2]|0)+(a<<2)>>2]=0,a=a+1|0;while((a|0)!=0)}if(e[t+48>>2]=0,(m|0)>=(M|0))break;g=u,l=m}}else M=Ct[e[(e[n>>2]|0)+44>>2]&127](n)|0,t=Ct[e[(e[n>>2]|0)+36>>2]&127](n)|0,Lo[e[(e[o>>2]|0)+8>>2]&7](o,e[s+16>>2]|0,e[s+8>>2]|0,M,t,-1);if(a=e[2006]|0,t=(e[a+16>>2]|0)+-1|0,e[a+16>>2]=t,t|0){H=E;return}do if(e[a+4>>2]|0)if(Tn(E|0,0)|0,t=e[5649]|0,i[a+8>>2]=+i[a+8>>2]+ +(((e[E+4>>2]|0)-(e[t+4>>2]|0)+(((e[E>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[a+12>>2]|0)|0)>>>0)/1e3,e[a+16>>2]|0){H=E;return}else{a=e[2006]|0;break}while(!1);e[2006]=e[a+20>>2],H=E}function vm(t,n,s){t=t|0,n=n|0,s=s|0;for(var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;;){for(d=e[t+12>>2]|0,m=e[d+(((n+s|0)/2|0)<<2)>>2]|0,o=n,a=s;;){if(h=e[(e[m+740>>2]|0)+208>>2]|0,(h|0)>-1)for(;u=e[d+(o<<2)>>2]|0,l=e[(e[u+740>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+744>>2]|0)+208>>2]|0),(l|0)<(h|0);)o=o+1|0;else for(_=e[(e[m+744>>2]|0)+208>>2]|0;u=e[d+(o<<2)>>2]|0,l=e[(e[u+740>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+744>>2]|0)+208>>2]|0),(l|0)<(_|0);)o=o+1|0;if((h|0)>-1)for(;u=e[d+(a<<2)>>2]|0,l=e[(e[u+740>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+744>>2]|0)+208>>2]|0),(h|0)<(l|0);)a=a+-1|0;else for(_=e[(e[m+744>>2]|0)+208>>2]|0;u=e[d+(a<<2)>>2]|0,l=e[(e[u+740>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+744>>2]|0)+208>>2]|0),(_|0)<(l|0);)a=a+-1|0;if((o|0)<=(a|0)&&(_=d+(o<<2)|0,h=e[_>>2]|0,e[_>>2]=e[d+(a<<2)>>2],e[(e[t+12>>2]|0)+(a<<2)>>2]=h,o=o+1|0,a=a+-1|0),(o|0)>(a|0))break;d=e[t+12>>2]|0}if((a|0)>(n|0)&&vm(t,n,a),(o|0)<(s|0))n=o;else break}}function lne(t){t=t|0;var n=0;e[t>>2]=4512,A[t+8>>0]|0&&(n=e[t+12>>2]|0,n&&(t=e[t+4>>2]|0,zt[e[(e[t>>2]|0)+16>>2]&127](t,n)))}function une(t){t=t|0;var n=0,s=0;if(e[t>>2]=4512,!(A[t+8>>0]|0)){ye(t);return}if(n=e[t+12>>2]|0,!n){ye(t);return}s=e[t+4>>2]|0,zt[e[(e[s>>2]|0)+16>>2]&127](s,n),ye(t)}function fne(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(C=H,H=H+32|0,S=e[t+12>>2]|0,!S){H=C;return}if(e[a+4>>2]=S,t=e[n+4>>2]|0,w=e[s+4>>2]|0,n=e[n+12>>2]|0,o=e[s+12>>2]|0,l=+i[n+48>>2]-+i[o+48>>2],u=+i[n+52>>2]-+i[o+52>>2],h=+i[n+56>>2]-+i[o+56>>2],d=+at(+(l*l+u*u+h*h)),m=+i[w+32>>2]*+i[w+16>>2],g=+i[t+32>>2]*+i[t+16>>2]+m,d>g){if(!(e[S+748>>2]|0)){H=C;return}if(t=e[S+740>>2]|0,n=e[(e[a+8>>2]|0)+8>>2]|0,o=e[(e[a+12>>2]|0)+8>>2]|0,(t|0)==(n|0)){m2(S,t+4|0,o+4|0),H=C;return}else{m2(S,o+4|0,n+4|0),H=C;return}}e[C+16>>2]=1065353216,e[C+16+4>>2]=0,e[C+16+8>>2]=0,i[C+16+12>>2]=0,d>11920928955078125e-23?(i[C+16>>2]=l*(1/d),i[C+16+4>>2]=u*(1/d),i[C+16+8>>2]=h*(1/d),i[C+16+12>>2]=0,_=l*(1/d),u=u*(1/d),l=h*(1/d)):(_=1,u=0,l=0),u=m*u+ +i[o+52>>2],h=m*l+ +i[o+56>>2],i[C>>2]=m*_+ +i[o+48>>2],i[C+4>>2]=u,i[C+8>>2]=h,i[C+12>>2]=0,D2[e[(e[a>>2]|0)+16>>2]&15](a,C+16|0,C,d-g),t=e[a+4>>2]|0;do if(e[t+748>>2]|0)if(n=e[t+740>>2]|0,s=e[(e[a+8>>2]|0)+8>>2]|0,o=e[(e[a+12>>2]|0)+8>>2]|0,(n|0)==(s|0)){m2(t,n+4|0,o+4|0);break}else{m2(t,o+4|0,s+4|0);break}while(!1);H=C}function pne(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,1}function _ne(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+12>>2]|0,!!s&&A[t+8>>0]|0){if(o=e[n+4>>2]|0,(o|0)==(e[n+8>>2]|0)&&(l=o|0?o<<1:1,(o|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[n+4>>2]|0):s=0,(o|0)>0){a=0;do e[s+(a<<2)>>2]=e[(e[n+12>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[n+12>>2]|0,a&&(A[n+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[n+4>>2]|0),e[n+12>>2]=0),A[n+16>>0]=1,e[n+12>>2]=s,e[n+8>>2]=l,s=e[t+12>>2]|0}e[(e[n+12>>2]|0)+(o<<2)>>2]=s,e[n+4>>2]=o+1}}function hne(t){t=t|0;var n=0;e[t>>2]=4540,A[t+8>>0]|0&&(n=e[t+12>>2]|0,n&&(t=e[t+4>>2]|0,zt[e[(e[t>>2]|0)+16>>2]&127](t,n)))}function dne(t){t=t|0;var n=0,s=0;if(e[t>>2]=4540,!(A[t+8>>0]|0)){ye(t);return}if(n=e[t+12>>2]|0,!n){ye(t);return}s=e[t+4>>2]|0,zt[e[(e[s>>2]|0)+16>>2]&127](s,n),ye(t)}function mne(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0;if(_=H,H=H+160|0,l=e[t+12>>2]|0,!l){H=_;return}h=(A[t+16>>0]|0)!=0,d=h?s:n,s=h?n:s,g=e[d+4>>2]|0,m=e[s+4>>2]|0,e[a+4>>2]=l,n=e[l+752>>2]|0,e[_+136>>2]=4568,e[_+136+4>>2]=g,e[_+136+8>>2]=m,e[_+136+12>>2]=n,i[_+128>>2]=0xde0b6b000000000,n=e[d+12>>2]|0,e[_>>2]=e[n>>2],e[_+4>>2]=e[n+4>>2],e[_+8>>2]=e[n+8>>2],e[_+12>>2]=e[n+12>>2],e[_+16>>2]=e[n+16>>2],e[_+16+4>>2]=e[n+16+4>>2],e[_+16+8>>2]=e[n+16+8>>2],e[_+16+12>>2]=e[n+16+12>>2],e[_+32>>2]=e[n+32>>2],e[_+32+4>>2]=e[n+32+4>>2],e[_+32+8>>2]=e[n+32+8>>2],e[_+32+12>>2]=e[n+32+12>>2],e[_+48>>2]=e[n+48>>2],e[_+48+4>>2]=e[n+48+4>>2],e[_+48+8>>2]=e[n+48+8>>2],e[_+48+12>>2]=e[n+48+12>>2],s=e[s+12>>2]|0,e[_+64>>2]=e[s>>2],e[_+64+4>>2]=e[s+4>>2],e[_+64+8>>2]=e[s+8>>2],e[_+64+12>>2]=e[s+12>>2],e[_+80>>2]=e[s+16>>2],e[_+80+4>>2]=e[s+16+4>>2],e[_+80+8>>2]=e[s+16+8>>2],e[_+80+12>>2]=e[s+16+12>>2],e[_+96>>2]=e[s+32>>2],e[_+96+4>>2]=e[s+32+4>>2],e[_+96+8>>2]=e[s+32+8>>2],e[_+96+12>>2]=e[s+32+12>>2],e[_+112>>2]=e[s+48>>2],e[_+112+4>>2]=e[s+48+4>>2],e[_+112+8>>2]=e[s+48+8>>2],e[_+112+12>>2]=e[s+48+12>>2],Tm(_+136|0,_,a,e[o+20>>2]|0,h);do if(A[t+8>>0]|0&&(u=e[a+4>>2]|0,e[u+748>>2]|0))if(n=e[u+740>>2]|0,s=e[(e[a+8>>2]|0)+8>>2]|0,l=e[(e[a+12>>2]|0)+8>>2]|0,(n|0)==(s|0)){m2(u,n+4|0,l+4|0);break}else{m2(u,l+4|0,s+4|0);break}while(!1);H=_}function gne(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,1}function xne(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+12>>2]|0,!!s&&A[t+8>>0]|0){if(o=e[n+4>>2]|0,(o|0)==(e[n+8>>2]|0)&&(l=o|0?o<<1:1,(o|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[n+4>>2]|0):s=0,(o|0)>0){a=0;do e[s+(a<<2)>>2]=e[(e[n+12>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[n+12>>2]|0,a&&(A[n+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[n+4>>2]|0),e[n+12>>2]=0),A[n+16>>0]=1,e[n+12>>2]=s,e[n+8>>2]=l,s=e[t+12>>2]|0}e[(e[n+12>>2]|0)+(o<<2)>>2]=s,e[n+4>>2]=o+1}}function Sm(t,n,s){t=t|0,n=n|0,s=s|0;for(var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0;;){for(h=e[t+12>>2]|0,d=e[h+(((n+s|0)/2|0)<<3)>>2]|0,o=n,a=s;;){for(;;)if(u=o+1|0,(e[h+(o<<3)>>2]|0)<(d|0))o=u;else{_=a;break}for(;l=h+(_<<3)|0,a=_+-1|0,(d|0)<(e[l>>2]|0);)_=a;if((o|0)>(_|0)?a=_:(o=h+(o<<3)|0,m=e[o>>2]|0,h=e[o+4>>2]|0,g=e[l+4>>2]|0,e[o>>2]=e[l>>2],e[o+4>>2]=g,o=(e[t+12>>2]|0)+(_<<3)|0,e[o>>2]=m,e[o+4>>2]=h,o=u),(o|0)>(a|0))break;h=e[t+12>>2]|0}if((a|0)>(n|0)&&Sm(t,n,a),(o|0)<(s|0))n=o;else break}}function yne(t){t=t|0,ye(t)}function Tm(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0;if(Y=H,H=H+64|0,U=+i[n+48>>2]-+i[n+112>>2],l=+i[n+52>>2]-+i[n+116>>2],z=+i[n+56>>2]-+i[n+120>>2],V=U*+i[n+64>>2]+l*+i[n+80>>2]+z*+i[n+96>>2],O=U*+i[n+68>>2]+l*+i[n+84>>2]+z*+i[n+100>>2],z=U*+i[n+72>>2]+l*+i[n+88>>2]+z*+i[n+104>>2],o=e[t+8>>2]|0,L=e[t+4>>2]|0,l=+i[L+32>>2]*+i[L+16>>2],U=l+ +i[t+12>>2],S=+i[o+76>>2],C=+i[o+60>>2],w=+i[o+80>>2],M=+i[o+64>>2],E=+i[o+84>>2],D=+i[o+68>>2],N=+i[o+92>>2],B=+i[o+96>>2],k=+i[o+100>>2],_=(w-M)*(k-D)-(E-D)*(B-M),d=(E-D)*(N-C)-(S-C)*(k-D),g=(S-C)*(B-M)-(w-M)*(N-C),m=1/+at(+(g*g+(_*_+d*d))),u=(V-C)*(m*_)+(O-M)*(m*d)+m*g*(z-D),u<0?(F=-u,h=-(m*_),u=-(m*d),_=-(m*g)):(F=u,h=m*_,u=m*d,_=m*g),!(F<U)){H=Y;return}if(g=(z-D)*((S-C)*u-(w-M)*h)+((V-C)*((w-M)*_-(E-D)*u)+(O-M)*((E-D)*h-(S-C)*_)),E=(z-E)*((N-S)*u-(B-w)*h)+((V-S)*((B-w)*_-(k-E)*u)+(O-w)*((k-E)*h-(N-S)*_)),k=(z-k)*((C-N)*u-(M-B)*h)+((V-N)*((M-B)*_-(D-k)*u)+(O-B)*((D-k)*h-(C-N)*_)),!(k>0&(g>0&E>0))&&!(k<=0&(g<=0&E<=0))){if((Ct[e[(e[o>>2]|0)+100>>2]&127](o)|0)<=0){H=Y;return}M=0,w=0,C=0,o=0,L=0;do{$=e[t+8>>2]|0,Kt[e[(e[$>>2]|0)+104>>2]&127]($,L,Y+48|0,Y+32|0),d=+i[Y+48>>2],B=+i[Y+48+4>>2],D=+i[Y+48+8>>2],m=+i[Y+32>>2]-d,k=+i[Y+32+4>>2]-B,N=+i[Y+32+8>>2]-D;do if((V-d)*m+(O-B)*k+(z-D)*N>0)if((V-d)*m+(O-B)*k+(z-D)*N<m*m+k*k+N*N){F=((V-d)*m+(O-B)*k+(z-D)*N)/(m*m+k*k+N*N),g=V-d-m*F,S=O-B-k*F,E=z-D-N*F;break}else{g=V-d-m,S=O-B-k,E=z-D-N,F=1;break}else g=V-d,S=O-B,E=z-D,F=0;while(!1);g*g+S*S+E*E<U*U&&(M=d+m*F,w=D+N*F,C=B+k*F,o=1),L=L+1|0,$=e[t+8>>2]|0}while((L|0)<(Ct[e[(e[$>>2]|0)+100>>2]&127]($)|0));if(o&1)S=U*U;else{H=Y;return}}else S=U*U,M=V-F*h,w=z-F*_,C=O-F*u;if(m=V-M,g=O-C,d=z-w,!(m*m+g*g+d*d<S)){H=Y;return}if(m*m+g*g+d*d>11920928955078125e-23&&(u=+at(+(m*m+g*g+d*d)),l=l-u,h=m*(1/u),_=d*(1/u),u=g*(1/u)),l=-l,a){k=+i[n+64>>2],F=+i[n+68>>2],U=+i[n+72>>2],V=k*h+F*u+U*_,g=+i[n+80>>2],S=+i[n+84>>2],E=+i[n+88>>2],O=h*g+u*S+_*E,D=+i[n+96>>2],N=+i[n+100>>2],B=+i[n+104>>2],z=h*D+u*N+_*B,i[Y+48>>2]=-V,i[Y+48+4>>2]=-O,i[Y+48+8>>2]=-z,i[Y+48+12>>2]=0,O=M*g+C*S+w*E+ +i[n+116>>2]+O*l,z=M*D+C*N+w*B+ +i[n+120>>2]+z*l,i[Y+32>>2]=M*k+C*F+w*U+ +i[n+112>>2]+V*l,i[Y+32+4>>2]=O,i[Y+32+8>>2]=z,i[Y+32+12>>2]=0,D2[e[(e[s>>2]|0)+16>>2]&15](s,Y+48|0,Y+32|0,l),H=Y;return}else{$=e[(e[s>>2]|0)+16>>2]|0,F=+i[n+64>>2],U=+i[n+68>>2],V=+i[n+72>>2],D=+i[n+80>>2],N=+i[n+84>>2],O=+i[n+88>>2],B=+i[n+96>>2],k=+i[n+100>>2],z=+i[n+104>>2],i[Y+16>>2]=F*h+U*u+V*_,i[Y+16+4>>2]=h*D+u*N+_*O,i[Y+16+8>>2]=h*B+u*k+_*z,i[Y+16+12>>2]=0,O=M*D+C*N+w*O+ +i[n+116>>2],z=M*B+C*k+w*z+ +i[n+120>>2],i[Y>>2]=M*F+C*U+w*V+ +i[n+112>>2],i[Y+4>>2]=O,i[Y+8>>2]=z,i[Y+12>>2]=0,D2[$&15](s,Y+16|0,Y,l),H=Y;return}}function vne(t){t=t|0;var n=0,s=0;e[t>>2]=6248,n=e[t+56>>2]|0,n|0&&(Vt[e[e[n>>2]>>2]&255](n),s=e[t+56>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function Sne(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0;u=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),m=u+ +i[t+32>>2],h=u+ +i[t+36>>2],u=u+ +i[t+40>>2],N=+ht(+ +i[n>>2]),D=+ht(+ +i[n+4>>2]),E=+ht(+ +i[n+8>>2]),w=+ht(+ +i[n+16>>2]),C=+ht(+ +i[n+20>>2]),S=+ht(+ +i[n+24>>2]),d=+ht(+ +i[n+32>>2]),_=+ht(+ +i[n+36>>2]),l=+ht(+ +i[n+40>>2]),M=+i[n+48>>2],g=+i[n+52>>2],a=+i[n+56>>2],i[s>>2]=M-(m*N+h*D+u*E),i[s+4>>2]=g-(m*w+h*C+u*S),i[s+8>>2]=a-(m*d+h*_+u*l),i[s+12>>2]=0,i[o>>2]=m*N+h*D+u*E+M,i[o+4>>2]=m*w+h*C+u*S+g,i[o+8>>2]=m*d+h*_+u*l+a,i[o+12>>2]=0}function Tne(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;h=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),l=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),s=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),m=(h+ +i[t+32>>2])/+i[t+16>>2],_=(l+ +i[t+36>>2])/+i[t+20>>2],a=(s+ +i[t+40>>2])/+i[t+24>>2],d=+ht(+ +i[n>>2]),u=+ht(+ +i[n+4>>2]),o=+ht(+ +i[n+8>>2]),i[t+16>>2]=d,i[t+20>>2]=u,i[t+24>>2]=o,i[t+28>>2]=0,i[t+32>>2]=m*d-h,i[t+36>>2]=_*u-l,i[t+40>>2]=a*o-s,i[t+44>>2]=0}function Cne(t,n,s){t=t|0,n=+n,s=s|0;var o=0,a=0,l=0,u=0,_=0;u=+i[t+32>>2],a=+i[t+36>>2],_=+i[t+40>>2],l=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),o=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),_=(_+ +Tt[e[(e[t>>2]|0)+48>>2]&15](t))*2,i[s>>2]=n/12*((a+o)*2*((a+o)*2)+_*_),i[s+4>>2]=n/12*((u+l)*2*((u+l)*2)+_*_),i[s+8>>2]=n/12*((u+l)*2*((u+l)*2)+(a+o)*2*((a+o)*2)),i[s+12>>2]=0}function wne(t){return t=t|0,12683}function Mne(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0;l=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),o=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),u=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),l=l+ +i[t+32>>2],o=o+ +i[t+36>>2],u=u+ +i[t+40>>2],i[t+48>>2]=n,a=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),s=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),n=u-+Tt[e[(e[t>>2]|0)+48>>2]&15](t),i[t+32>>2]=l-a,i[t+36>>2]=o-s,i[t+40>>2]=n,i[t+44>>2]=0}function Rne(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0;u=+i[n+32>>2],_=+i[n+36>>2],o=+i[n+40>>2],l=+Tt[e[(e[n>>2]|0)+48>>2]&15](n),a=+Tt[e[(e[n>>2]|0)+48>>2]&15](n),o=o+ +Tt[e[(e[n>>2]|0)+48>>2]&15](n),a=+i[s+4>>2]>=0?_+a:-(_+a),o=+i[s+8>>2]>=0?o:-o,i[t>>2]=+i[s>>2]>=0?u+l:-(u+l),i[t+4>>2]=a,i[t+8>>2]=o,i[t+12>>2]=0}function Ane(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;l=+i[n+32>>2],a=+i[n+36>>2],a=+i[s+4>>2]>=0?a:-a,o=+i[n+40>>2],o=+i[s+8>>2]>=0?o:-o,i[t>>2]=+i[s>>2]>=0?l:-l,i[t+4>>2]=a,i[t+8>>2]=o,i[t+12>>2]=0}function Ene(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0;if(!((o|0)<=0)){a=0;do _=+i[t+32>>2],u=+i[t+36>>2],u=+i[n+(a<<4)+4>>2]>=0?u:-u,l=+i[t+40>>2],l=+i[n+(a<<4)+8>>2]>=0?l:-l,i[s+(a<<4)>>2]=+i[n+(a<<4)>>2]>=0?_:-_,i[s+(a<<4)+4>>2]=u,i[s+(a<<4)+8>>2]=l,i[s+(a<<4)+12>>2]=0,a=a+1|0;while((a|0)!=(o|0))}}function bne(t){return t=t|0,6}function Nne(t,n,s){switch(t=t|0,n=n|0,s=s|0,n|0){case 0:{e[s>>2]=1065353216,e[s+4>>2]=0,e[s+8>>2]=0,i[s+12>>2]=0;return}case 1:{e[s>>2]=-1082130432,e[s+4>>2]=0,e[s+8>>2]=0,i[s+12>>2]=0;return}case 2:{e[s>>2]=0,e[s+4>>2]=1065353216,e[s+8>>2]=0,i[s+12>>2]=0;return}case 3:{e[s>>2]=0,e[s+4>>2]=-1082130432,e[s+8>>2]=0,i[s+12>>2]=0;return}case 4:{e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=1065353216,i[s+12>>2]=0;return}case 5:{e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=-1082130432,i[s+12>>2]=0;return}default:return}}function Dne(t){return t=t|0,8}function Ine(t){return t=t|0,12}function Pne(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;do switch(n|0){case 0:{a=0,n=1;break}case 1:{a=0,n=2;break}case 2:{a=1,n=3;break}case 3:{a=2;break}case 4:{a=0;break}case 5:{a=1;break}case 6:{a=2;break}case 7:{a=3;break}case 8:{a=4,n=5;break}case 9:{a=4,n=6;break}case 10:{a=5,n=7;break}case 11:{a=6,n=7;break}default:a=0,n=0}while(!1);f0[e[(e[t>>2]|0)+108>>2]&127](t,a,s),f0[e[(e[t>>2]|0)+108>>2]&127](t,n,o)}function Lne(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0;_=+i[t+32>>2],l=+i[t+36>>2],o=+i[t+40>>2],u=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),a=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),o=o+ +Tt[e[(e[t>>2]|0)+48>>2]&15](t),i[s>>2]=+(n&1^1|0)*(_+u)-+(n&1|0)*(_+u),i[s+4>>2]=+(n>>>1&1^1|0)*(l+a)-+(n>>>1&1|0)*(l+a),i[s+8>>2]=+(n>>>2&1^1|0)*o-+(n>>>2&1|0)*o,i[s+12>>2]=0}function kne(t){return t=t|0,6}function Fne(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0;a=H,H=H+48|0,f0[e[(e[t>>2]|0)+124>>2]&127](t,a+32|0,o),d=e[a+32>>2]|0,h=e[a+32+4>>2]|0,o=e[a+32+8>>2]|0,e[n>>2]=d,e[n+4>>2]=h,e[n+8>>2]=o,i[n+12>>2]=0,n=e[(e[t>>2]|0)+64>>2]|0,_=(e[Z>>2]=d,-+i[Z>>2]),u=(e[Z>>2]=h,-+i[Z>>2]),l=(e[Z>>2]=o,-+i[Z>>2]),i[a>>2]=_,i[a+4>>2]=u,i[a+8>>2]=l,i[a+12>>2]=0,f0[n&127](a+16|0,t,a),e[s>>2]=e[a+16>>2],e[s+4>>2]=e[a+16+4>>2],e[s+8>>2]=e[a+16+8>>2],e[s+12>>2]=e[a+16+12>>2],H=a}function Bne(t,n,s){t=t|0,n=n|0,s=+s;var o=0,a=0,l=0,u=0;return a=+i[t+32>>2],l=+i[t+36>>2],u=+i[t+40>>2],o=+i[n>>2],!(o<=a+s)||!(o>=-a-s)||(o=+i[n+4>>2],!(o<=l+s))||!(o>=-l-s)||(o=+i[n+8>>2],!(o<=u+s))?(n=0,n|0):(n=o>=-u-s,n|0)}function Une(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;switch(a=+i[t+32>>2],l=+i[t+36>>2],o=+i[t+40>>2],s|0){case 0:{e[n>>2]=1065353216,e[n+4>>2]=0,e[n+8>>2]=0,i[n+12>>2]=-a;return}case 1:{e[n>>2]=-1082130432,e[n+4>>2]=0,e[n+8>>2]=0,i[n+12>>2]=-a;return}case 2:{e[n>>2]=0,e[n+4>>2]=1065353216,e[n+8>>2]=0,i[n+12>>2]=-l;return}case 3:{e[n>>2]=0,e[n+4>>2]=-1082130432,e[n+8>>2]=0,i[n+12>>2]=-l;return}case 4:{e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=1065353216,i[n+12>>2]=-o;return}case 5:{e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=-1082130432,i[n+12>>2]=-o;return}default:return}}function One(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0;e[t+8>>2]=0,e[t+12>>2]=-1,e[t+16>>2]=1065353216,e[t+20>>2]=1065353216,e[t+24>>2]=1065353216,i[t+28>>2]=0,i[t+48>>2]=.03999999910593033,e[t+56>>2]=0,e[t>>2]=4588,e[t+4>>2]=0,l=+i[n>>2],a=+i[n+4>>2],s=+i[n+8>>2],s=+i[n+((l<a?l<s?0:2:a<s?1:2)<<2)>>2]*.10000000149011612,s<.03999999910593033?(_=+Rh(t),u=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),l=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),_=_+ +i[t+32>>2],u=u+ +i[t+36>>2],l=l+ +i[t+40>>2],i[t+48>>2]=s,s=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),a=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),l=l-+Tt[e[(e[t>>2]|0)+48>>2]&15](t),i[t+32>>2]=_-s,i[t+36>>2]=u-a,i[t+40>>2]=l,i[t+44>>2]=0,o=e[t>>2]|0):o=4588,l=+Tt[e[o+48>>2]&15](t),u=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),_=+Tt[e[(e[t>>2]|0)+48>>2]&15](t),u=+i[n+4>>2]*+i[t+20>>2]-u,_=+i[n+8>>2]*+i[t+24>>2]-_,i[t+32>>2]=+i[n>>2]*+i[t+16>>2]-l,i[t+36>>2]=u,i[t+40>>2]=_,i[t+44>>2]=0}function Gne(t){t=t|0;var n=0;e[t>>2]=4724,A[t+65>>0]|0&&(n=e[t+56>>2]|0,Vt[e[e[n>>2]>>2]&255](n),t=e[t+56>>2]|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)))}function Vne(t){t=t|0;var n=0;e[t>>2]=4724,A[t+65>>0]|0&&(n=e[t+56>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+56>>2]|0,n|0)&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function zne(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;u=Ct[e[(e[t>>2]|0)+28>>2]&127](t)|0,l=+i[u>>2]-+i[n>>2],a=+i[u+4>>2]-+i[n+4>>2],o=+i[u+8>>2]-+i[n+8>>2],l*l+a*a+o*o>11920928955078125e-23&&(D6(t,n),(A[t+65>>0]|0)!=0&&(s=e[t+56>>2]|0,Vt[e[e[s>>2]>>2]&255](s),s=e[t+56>>2]|0,(s|0)!=0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),n=t+56|0,e[5637]=(e[5637]|0)+1,s=Xe(191)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s+52>>2]=284,A[s+60>>0]=0,A[s+80>>0]=1,e[s+76>>2]=0,e[s+68>>2]=0,e[s+72>>2]=0,A[s+100>>0]=1,e[s+96>>2]=0,e[s+88>>2]=0,e[s+92>>2]=0,A[s+120>>0]=1,e[s+116>>2]=0,e[s+108>>2]=0,e[s+112>>2]=0,A[s+140>>0]=1,e[s+136>>2]=0,e[s+128>>2]=0,e[s+132>>2]=0,e[s+144>>2]=0,A[s+164>>0]=1,e[s+160>>2]=0,e[s+152>>2]=0,e[s+156>>2]=0,e[s+168>>2]=0,e[s+4>>2]=-8388609,e[s+8>>2]=-8388609,e[s+12>>2]=-8388609,i[s+16>>2]=0,e[s+20>>2]=2139095039,e[s+24>>2]=2139095039,e[s+28>>2]=2139095039,i[s+32>>2]=0,e[s>>2]=6168,e[n>>2]=s,rm(s,e[t+52>>2]|0,(A[t+64>>0]|0)!=0,t+20|0,t+36|0),A[t+65>>0]=1)}function Wne(t){return t=t|0,12712}function Hne(t,n){t=t|0,n=+n,i[t+16>>2]=n}function jne(t){return t=t|0,+ +i[t+16>>2]}function qne(t){return t=t|0,60}function Xne(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,l=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=l,l|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],l=e[t+52>>2]|0,V0[e[(e[l>>2]|0)+56>>2]&63](l,n+12|0,s)|0,e[n+52>>2]=e[t+16>>2];do if((e[t+56>>2]|0)!=0&&((Ct[e[(e[s>>2]|0)+52>>2]&127](s)|0)&1|0)==0)if(o=I0[e[(e[s>>2]|0)+24>>2]&31](s,e[t+56>>2]|0)|0,o){e[n+40>>2]=o,e[n+44>>2]=0;break}else{e[n+40>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+56>>2]|0)|0,e[n+44>>2]=0,o=e[t+56>>2]|0,o=Ct[e[(e[o>>2]|0)+12>>2]&127](o)|0,o=V0[e[(e[s>>2]|0)+16>>2]&63](s,o,1)|0,l=e[t+56>>2]|0,l=V0[e[(e[l>>2]|0)+16>>2]&63](l,e[o+8>>2]|0,s)|0,Qi[e[(e[s>>2]|0)+20>>2]&31](s,o,l,1213612625,e[t+56>>2]|0);break}else a=8;while(!1);return(a|0)==8&&(e[n+40>>2]=0,e[n+44>>2]=0),e[t+60>>2]|0&&((Ct[e[(e[s>>2]|0)+52>>2]&127](s)|0)&2|0)==0?(o=I0[e[(e[s>>2]|0)+24>>2]&31](s,e[t+60>>2]|0)|0,o?(e[n+48>>2]=o,12728):(e[n+48>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+60>>2]|0)|0,n=e[t+60>>2]|0,n=Ct[e[(e[n>>2]|0)+8>>2]&127](n)|0,n=V0[e[(e[s>>2]|0)+16>>2]&63](s,n,1)|0,l=e[t+60>>2]|0,l=V0[e[(e[l>>2]|0)+12>>2]&63](l,e[n+8>>2]|0,s)|0,Qi[e[(e[s>>2]|0)+20>>2]&31](s,n,l,1346456916,e[t+60>>2]|0),12728)):(e[n+48>>2]=0,12728)}function $ne(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0;a=H,H=H+64|0,l=e[t+52>>2]|0,e[a>>2]=4816,e[a+4>>2]=l,e[a+8>>2]=n,Ore(e[t+56>>2]|0,a,s,o),H=a}function Yne(t){t=t|0,ye(t)}function Kne(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;switch(C=H,H=H+32|0,h=e[t+4>>2]|0,Nc[e[(e[h>>2]|0)+16>>2]&3](h,C+28|0,C+24|0,C+20|0,C+16|0,C+12|0,C+8|0,C+4|0,C,n),h=(e[C+12>>2]|0)+(Rt(e[C+8>>2]|0,s)|0)|0,S=e[t+4>>2]|0,_=e[C>>2]|0,_|0){case 3:{o=Le[h+4>>1]|0;break}case 2:{o=e[h+8>>2]|0;break}default:o=It[h+2>>0]|0}switch(g=(e[C+20>>2]|0)==0,d=e[C+28>>2]|0,m=e[C+16>>2]|0,o=d+(Rt(m,o)|0)|0,g?(l=+i[o+8>>2]*+i[S+12>>2],u=+i[o+4>>2]*+i[S+8>>2],a=+i[o>>2]*+i[S+4>>2]):(l=+Mt[o+16>>3]*+i[S+12>>2],u=+Mt[o+8>>3]*+i[S+8>>2],a=+Mt[o>>3]*+i[S+4>>2]),i[t+44>>2]=a,i[t+48>>2]=u,i[t+52>>2]=l,i[t+56>>2]=0,_|0){case 3:{o=Le[h+2>>1]|0;break}case 2:{o=e[h+4>>2]|0;break}default:o=It[h+1>>0]|0}switch(o=d+(Rt(m,o)|0)|0,g?(l=+i[o+8>>2]*+i[S+12>>2],u=+i[o+4>>2]*+i[S+8>>2],a=+i[o>>2]*+i[S+4>>2]):(l=+Mt[o+16>>3]*+i[S+12>>2],u=+Mt[o+8>>3]*+i[S+8>>2],a=+Mt[o>>3]*+i[S+4>>2]),i[t+28>>2]=a,i[t+32>>2]=u,i[t+36>>2]=l,i[t+40>>2]=0,_|0){case 3:{o=Le[h>>1]|0;break}case 2:{o=e[h>>2]|0;break}default:o=It[h>>0]|0}if(o=d+(Rt(m,o)|0)|0,g){u=+i[o+8>>2]*+i[S+12>>2],l=+i[o+4>>2]*+i[S+8>>2],a=+i[o>>2]*+i[S+4>>2],g=t+12|0,i[g>>2]=a,g=t+16|0,i[g>>2]=l,g=t+20|0,i[g>>2]=u,g=t+24|0,i[g>>2]=0,g=t+8|0,g=e[g>>2]|0,m=e[g>>2]|0,m=m+8|0,m=e[m>>2]|0,S=t+12|0,Kt[m&127](g,S,n,s),t=e[t+4>>2]|0,s=e[t>>2]|0,s=s+24|0,s=e[s>>2]|0,zt[s&127](t,n),H=C;return}else{u=+Mt[o+16>>3]*+i[S+12>>2],l=+Mt[o+8>>3]*+i[S+8>>2],a=+Mt[o>>3]*+i[S+4>>2],g=t+12|0,i[g>>2]=a,g=t+16|0,i[g>>2]=l,g=t+20|0,i[g>>2]=u,g=t+24|0,i[g>>2]=0,g=t+8|0,g=e[g>>2]|0,m=e[g>>2]|0,m=m+8|0,m=e[m>>2]|0,S=t+12|0,Kt[m&127](g,S,n,s),t=e[t+4>>2]|0,s=e[t>>2]|0,s=s+24|0,s=e[s>>2]|0,zt[s&127](t,n),H=C;return}}function Zne(t,n,s){t=t|0,n=n|0,s=s|0,f0[e[(e[n>>2]|0)+68>>2]&127](t,n,s)}function Qne(t,n){t=t|0,n=n|0;var s=0,o=0;s=e[t+56>>2]|0,s&&(o=Ct[e[(e[s>>2]|0)+12>>2]&127](s)|0,o=V0[e[(e[n>>2]|0)+16>>2]&63](n,o,1)|0,s=e[t+56>>2]|0,s=V0[e[(e[s>>2]|0)+16>>2]&63](s,e[o+8>>2]|0,n)|0,Qi[e[(e[n>>2]|0)+20>>2]&31](n,o,s,1213612625,e[t+56>>2]|0))}function Jne(t,n){t=t|0,n=n|0;var s=0,o=0;s=e[t+60>>2]|0,s&&(o=Ct[e[(e[s>>2]|0)+8>>2]&127](s)|0,o=V0[e[(e[n>>2]|0)+16>>2]&63](n,o,1)|0,s=e[t+60>>2]|0,s=V0[e[(e[s>>2]|0)+12>>2]&63](s,e[o+8>>2]|0,n)|0,Qi[e[(e[n>>2]|0)+20>>2]&31](n,o,s,1346456916,e[t+60>>2]|0))}function Cm(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;if(a=H,H=H+48|0,e[t+8>>2]=0,e[t+12>>2]=-1,i[t+16>>2]=0,e[t>>2]=6692,e[t+52>>2]=n,e[t+4>>2]=21,Ct[e[(e[n>>2]|0)+40>>2]&127](n)|0?f0[e[(e[n>>2]|0)+48>>2]&127](n,t+20|0,t+36|0):(e[a+32>>2]=0,e[a+32+4>>2]=0,e[a+32+8>>2]=0,e[a+32+12>>2]=0,i[a+32>>2]=1,f0[e[(e[t>>2]|0)+68>>2]&127](a+16|0,t,a+32|0),i[t+36>>2]=+i[a+16>>2]+ +i[t+16>>2],i[a+32>>2]=-1,f0[e[(e[t>>2]|0)+68>>2]&127](a,t,a+32|0),e[a+16>>2]=e[a>>2],e[a+16+4>>2]=e[a+4>>2],e[a+16+8>>2]=e[a+8>>2],e[a+16+12>>2]=e[a+12>>2],i[t+20>>2]=+i[a+16>>2]-+i[t+16>>2],e[a+32>>2]=0,e[a+32+4>>2]=0,e[a+32+8>>2]=0,e[a+32+12>>2]=0,i[a+32+4>>2]=1,f0[e[(e[t>>2]|0)+68>>2]&127](a+16|0,t,a+32|0),i[t+40>>2]=+i[a+16+4>>2]+ +i[t+16>>2],i[a+32+4>>2]=-1,f0[e[(e[t>>2]|0)+68>>2]&127](a,t,a+32|0),e[a+16>>2]=e[a>>2],e[a+16+4>>2]=e[a+4>>2],e[a+16+8>>2]=e[a+8>>2],e[a+16+12>>2]=e[a+12>>2],i[t+24>>2]=+i[a+16+4>>2]-+i[t+16>>2],e[a+32>>2]=0,e[a+32+4>>2]=0,e[a+32+8>>2]=0,e[a+32+12>>2]=0,i[a+32+8>>2]=1,f0[e[(e[t>>2]|0)+68>>2]&127](a+16|0,t,a+32|0),i[t+44>>2]=+i[a+16+8>>2]+ +i[t+16>>2],i[a+32+8>>2]=-1,f0[e[(e[t>>2]|0)+68>>2]&127](a,t,a+32|0),e[a+16>>2]=e[a>>2],e[a+16+4>>2]=e[a+4>>2],e[a+16+8>>2]=e[a+8>>2],e[a+16+12>>2]=e[a+12>>2],i[t+28>>2]=+i[a+16+8>>2]-+i[t+16>>2]),e[t>>2]=4724,e[t+56>>2]=0,e[t+60>>2]=0,A[t+64>>0]=s&1,A[t+65>>0]=0,e[t+4>>2]=21,!o){H=a;return}e[5637]=(e[5637]|0)+1,o=Xe(191)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,e[o+52>>2]=284,A[o+60>>0]=0,A[o+80>>0]=1,e[o+76>>2]=0,e[o+68>>2]=0,e[o+72>>2]=0,A[o+100>>0]=1,e[o+96>>2]=0,e[o+88>>2]=0,e[o+92>>2]=0,A[o+120>>0]=1,e[o+116>>2]=0,e[o+108>>2]=0,e[o+112>>2]=0,A[o+140>>0]=1,e[o+136>>2]=0,e[o+128>>2]=0,e[o+132>>2]=0,e[o+144>>2]=0,A[o+164>>0]=1,e[o+160>>2]=0,e[o+152>>2]=0,e[o+156>>2]=0,e[o+168>>2]=0,e[o+4>>2]=-8388609,e[o+8>>2]=-8388609,e[o+12>>2]=-8388609,i[o+16>>2]=0,e[o+20>>2]=2139095039,e[o+24>>2]=2139095039,e[o+28>>2]=2139095039,i[o+32>>2]=0,e[o>>2]=6168,e[t+56>>2]=o,rm(o,e[t+52>>2]|0,(A[t+64>>0]|0)!=0,t+20|0,t+36|0),A[t+65>>0]=1,H=a}function e2e(t){t=t|0,ye(t)}function t2e(t){t=t|0;var n=0;return n=H,H=H+t|0,H=H+15&-16,n|0}function i2e(){return H|0}function n2e(t){t=t|0,H=t}function r2e(t,n){t=t|0,n=n|0,H=t,xr=n}function s2e(t,n){t=t|0,n=n|0,j8||(j8=t,GI=n)}function hxe(t){t=t|0,A[Z>>0]=A[t>>0],A[Z+1>>0]=A[t+1>>0],A[Z+2>>0]=A[t+2>>0],A[Z+3>>0]=A[t+3>>0]}function dxe(t){t=t|0,A[Z>>0]=A[t>>0],A[Z+1>>0]=A[t+1>>0],A[Z+2>>0]=A[t+2>>0],A[Z+3>>0]=A[t+3>>0],A[Z+4>>0]=A[t+4>>0],A[Z+5>>0]=A[t+5>>0],A[Z+6>>0]=A[t+6>>0],A[Z+7>>0]=A[t+7>>0]}function o2e(t){t=t|0,Ge=t}function a2e(){return Ge|0}function op(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,_=0,h=0;if(e[t>>2]=2552,ee[t+4>>1]=-2,ee[t+6>>1]=-1,e[t+92>>2]=a,e[t+96>>2]=0,A[t+100>>0]=0,e[t+104>>2]=0,e[t+108>>2]=0,a||(e[5637]=(e[5637]|0)+1,a=Xe(91)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,lp(a),e[t+92>>2]=a,A[t+100>>0]=1),l||(e[5637]=(e[5637]|0)+1,a=Xe(43)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a>>2]=2616,A[a+20>>0]=1,e[a+16>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[t+112>>2]=a,e[5637]=(e[5637]|0)+1,a=Xe(215)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,Nm(a,e[t+112>>2]|0),e[t+108>>2]=a,A[a+193>>0]=1),e[t+8>>2]=e[n>>2],e[t+8+4>>2]=e[n+4>>2],e[t+8+8>>2]=e[n+8>>2],e[t+8+12>>2]=e[n+12>>2],e[t+24>>2]=e[s>>2],e[t+24+4>>2]=e[s+4>>2],e[t+24+8>>2]=e[s+8>>2],e[t+24+12>>2]=e[s+12>>2],h=+(Le[t+6>>1]|0),_=h/(+i[t+28>>2]-+i[t+12>>2]),u=h/(+i[t+32>>2]-+i[t+16>>2]),i[t+40>>2]=h/(+i[t+24>>2]-+i[t+8>>2]),i[t+44>>2]=_,i[t+48>>2]=u,i[t+52>>2]=0,n=(o&65535)+1&65535,e[5637]=(e[5637]|0)+1,a=Xe(n<<6|19)|0,a?(e[(a+4+15&-16)+-4>>2]=a,s=a+4+15&-16):s=0,n|0){a=s+(n<<6)|0,l=s;do e[l>>2]=0,e[l+8>>2]=0,l=l+64|0;while((l|0)!=(a|0))}if(e[t+60>>2]=s,ee[t+58>>1]=(o&65535)+1,ee[t+56>>1]=0,ee[t+64>>1]=1,n>>>0>1){a=1,l=1;do ee[s+(a<<6)+48>>1]=a+1,l=l+1<<16>>16,a=l&65535;while(a>>>0<n>>>0)}if(ee[s+(n+-1<<6)+48>>1]=0,e[5637]=(e[5637]|0)+1,a=Xe((n<<3|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[t+80>>2]=a,e[t+68>>2]=a,e[5637]=(e[5637]|0)+1,a=Xe((n<<3|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[t+84>>2]=a,e[t+72>>2]=a,e[5637]=(e[5637]|0)+1,a=Xe((n<<3|3)+16|0)|0,!a){s=0,o=t+88|0,e[o>>2]=s,o=t+76|0,e[o>>2]=s,s=e[t+60>>2]|0,e[s>>2]=0,n=s+48|0,ee[n>>1]=0,n=s+54|0,ee[n>>1]=1,n=e[t+68>>2]|0,ee[n>>1]=0,l=n+2|0,ee[l>>1]=0,l=ee[t+6>>1]|0,a=n+4|0,ee[a>>1]=l,n=n+6|0,ee[n>>1]=0,n=s+50|0,ee[n>>1]=0,n=s+56|0,ee[n>>1]=1,n=e[t+72>>2]|0,ee[n>>1]=0,a=n+2|0,ee[a>>1]=0,a=ee[t+6>>1]|0,l=n+4|0,ee[l>>1]=a,n=n+6|0,ee[n>>1]=0,n=s+52|0,ee[n>>1]=0,s=s+58|0,ee[s>>1]=1,o=e[o>>2]|0,ee[o>>1]=0,s=o+2|0,ee[s>>1]=0,s=ee[t+6>>1]|0,n=o+4|0,ee[n>>1]=s,o=o+6|0,ee[o>>1]=0,e[t>>2]=2488;return}e[(a+4+15&-16)+-4>>2]=a,s=a+4+15&-16,o=t+88|0,e[o>>2]=s,o=t+76|0,e[o>>2]=s,s=e[t+60>>2]|0,e[s>>2]=0,n=s+48|0,ee[n>>1]=0,n=s+54|0,ee[n>>1]=1,n=e[t+68>>2]|0,ee[n>>1]=0,l=n+2|0,ee[l>>1]=0,l=ee[t+6>>1]|0,a=n+4|0,ee[a>>1]=l,n=n+6|0,ee[n>>1]=0,n=s+50|0,ee[n>>1]=0,n=s+56|0,ee[n>>1]=1,n=e[t+72>>2]|0,ee[n>>1]=0,a=n+2|0,ee[a>>1]=0,a=ee[t+6>>1]|0,l=n+4|0,ee[l>>1]=a,n=n+6|0,ee[n>>1]=0,n=s+52|0,ee[n>>1]=0,s=s+58|0,ee[s>>1]=1,o=e[o>>2]|0,ee[o>>1]=0,s=o+2|0,ee[s>>1]=0,s=ee[t+6>>1]|0,n=o+4|0,ee[n>>1]=s,o=o+6|0,ee[o>>1]=0,e[t>>2]=2488}function Ph(t){t=t|0;var n=0;e[t>>2]=2552,e[t+108>>2]|0&&(n=e[t+112>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+112>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+108>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+108>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0))),n=e[t+88>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+84>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+80>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+60>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),A[t+100>>0]|0&&(n=e[t+92>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+92>>2]|0,n&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)))}function c2e(t){t=t|0,Ph(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function l2e(t,n,s,o,a,l,u,_,h){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0;var d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0;if(D=H,H=H+16|0,ap(t,D+6|0,+i[n>>2],+i[n+4>>2],+i[n+8>>2],0),ap(t,D,+i[s>>2],+i[s+4>>2],+i[s+8>>2],1),E=ee[t+64>>1]|0,M=e[t+60>>2]|0,ee[t+64>>1]=ee[M+((E&65535)<<6)+48>>1]|0,d=(ee[t+56>>1]|0)+1<<16>>16,ee[t+56>>1]=d,e[M+((E&65535)<<6)+12>>2]=E&65535,e[M+((E&65535)<<6)>>2]=a,ee[M+((E&65535)<<6)+4>>1]=l,ee[M+((E&65535)<<6)+6>>1]=u,e[M+((E&65535)<<6)+8>>2]=h,g=(d&65535)<<1&65534,ee[M+54>>1]=(Le[M+54>>1]|0)+2,m=e[t+68>>2]|0,h=Le[m+(g+-1<<2)>>1]|Le[m+(g+-1<<2)+2>>1]<<16,ee[m+((g|1)<<2)>>1]=h,ee[m+((g|1)<<2)+2>>1]=h>>>16,m=e[t+68>>2]|0,ee[m+(g+-1<<2)>>1]=ee[D+6>>1]|0,ee[m+(g+-1<<2)+2>>1]=E,ee[m+(g<<2)>>1]=ee[D>>1]|0,ee[m+(g<<2)+2>>1]=E,ee[M+((E&65535)<<6)+48>>1]=g+-1,ee[M+((E&65535)<<6)+54>>1]=(d&65535)<<1,m=(e[t+60>>2]|0)+56|0,ee[m>>1]=(Le[m>>1]|0)+2,m=e[t+72>>2]|0,h=Le[m+(g+-1<<2)>>1]|Le[m+(g+-1<<2)+2>>1]<<16,ee[m+((g|1)<<2)>>1]=h,ee[m+((g|1)<<2)+2>>1]=h>>>16,m=e[t+72>>2]|0,ee[m+(g+-1<<2)>>1]=ee[D+6+2>>1]|0,ee[m+(g+-1<<2)+2>>1]=E,ee[m+(g<<2)>>1]=ee[D+2>>1]|0,ee[m+(g<<2)+2>>1]=E,ee[M+((E&65535)<<6)+50>>1]=g+-1,ee[M+((E&65535)<<6)+56>>1]=(d&65535)<<1,m=(e[t+60>>2]|0)+58|0,ee[m>>1]=(Le[m>>1]|0)+2,m=e[t+76>>2]|0,h=Le[m+(g+-1<<2)>>1]|Le[m+(g+-1<<2)+2>>1]<<16,ee[m+((g|1)<<2)>>1]=h,ee[m+((g|1)<<2)+2>>1]=h>>>16,m=e[t+76>>2]|0,ee[m+(g+-1<<2)>>1]=ee[D+6+4>>1]|0,ee[m+(g+-1<<2)+2>>1]=E,ee[m+(g<<2)>>1]=ee[D+4>>1]|0,ee[m+(g<<2)+2>>1]=E,ee[M+((E&65535)<<6)+52>>1]=g+-1,ee[M+((E&65535)<<6)+58>>1]=(d&65535)<<1,d=e[t+68>>2]|0,g=Le[M+((E&65535)<<6)+48>>1]|0,m=e[t+60>>2]|0,h=ee[d+(g<<2)+-4>>1]|0,(Le[d+(g<<2)>>1]|0)<(h&65535)){for(C=m+((Le[d+(g<<2)+2>>1]|0)<<6)+48|0,S=d+(g<<2)|0,g=d+(g<<2)+-4|0;d=Le[S+-2>>1]|0,h&1?(w=m+(d<<6)+54|0,ee[w>>1]=(ee[w>>1]|0)+1<<16>>16):(w=m+(d<<6)+48|0,ee[w>>1]=(ee[w>>1]|0)+1<<16>>16),ee[C>>1]=(ee[C>>1]|0)+-1<<16>>16,d=Le[S>>1]|Le[S+2>>1]<<16,h=Le[g>>1]|Le[g+2>>1]<<16,ee[S>>1]=h,ee[S+2>>1]=h>>>16,ee[g>>1]=d,ee[g+2>>1]=d>>>16,d=S+-4|0,g=g+-4|0,h=ee[g>>1]|0,!((Le[d>>1]|0)>=(h&65535));)m=e[t+60>>2]|0,S=d;d=e[t+68>>2]|0}h=Le[M+((E&65535)<<6)+54>>1]|0,g=d+(h<<2)|0,m=ee[g+-4>>1]|0;e:do if((Le[g>>1]|0)<(m&65535))for(C=e[t+60>>2]|0,w=C+((Le[d+(h<<2)+2>>1]|0)<<6)+54|0,h=m,S=g,m=g+-4|0;;){if(d=Le[S+-2>>1]|0,h&1?(C=C+(d<<6)+54|0,ee[C>>1]=(ee[C>>1]|0)+1<<16>>16):(C=C+(d<<6)+48|0,ee[C>>1]=(ee[C>>1]|0)+1<<16>>16),ee[w>>1]=(ee[w>>1]|0)+-1<<16>>16,d=Le[S>>1]|Le[S+2>>1]<<16,h=Le[m>>1]|Le[m+2>>1]<<16,ee[S>>1]=h,ee[S+2>>1]=h>>>16,ee[m>>1]=d,ee[m+2>>1]=d>>>16,d=S+-4|0,m=m+-4|0,h=ee[m>>1]|0,(Le[d>>1]|0)>=(h&65535))break e;C=e[t+60>>2]|0,S=d}while(!1);if(d=e[t+72>>2]|0,g=Le[M+((E&65535)<<6)+50>>1]|0,m=e[t+60>>2]|0,h=ee[d+(g<<2)+-4>>1]|0,(Le[d+(g<<2)>>1]|0)<(h&65535)){for(C=m+((Le[d+(g<<2)+2>>1]|0)<<6)+50|0,S=d+(g<<2)|0,g=d+(g<<2)+-4|0;d=Le[S+-2>>1]|0,h&1?(w=m+(d<<6)+56|0,ee[w>>1]=(ee[w>>1]|0)+1<<16>>16):(w=m+(d<<6)+50|0,ee[w>>1]=(ee[w>>1]|0)+1<<16>>16),ee[C>>1]=(ee[C>>1]|0)+-1<<16>>16,d=Le[S>>1]|Le[S+2>>1]<<16,h=Le[g>>1]|Le[g+2>>1]<<16,ee[S>>1]=h,ee[S+2>>1]=h>>>16,ee[g>>1]=d,ee[g+2>>1]=d>>>16,d=S+-4|0,g=g+-4|0,h=ee[g>>1]|0,!((Le[d>>1]|0)>=(h&65535));)m=e[t+60>>2]|0,S=d;d=e[t+72>>2]|0}h=Le[M+((E&65535)<<6)+56>>1]|0,g=d+(h<<2)|0,m=ee[g+-4>>1]|0;e:do if((Le[g>>1]|0)<(m&65535))for(C=e[t+60>>2]|0,w=C+((Le[d+(h<<2)+2>>1]|0)<<6)+56|0,h=m,S=g,m=g+-4|0;;){if(d=Le[S+-2>>1]|0,h&1?(C=C+(d<<6)+56|0,ee[C>>1]=(ee[C>>1]|0)+1<<16>>16):(C=C+(d<<6)+50|0,ee[C>>1]=(ee[C>>1]|0)+1<<16>>16),ee[w>>1]=(ee[w>>1]|0)+-1<<16>>16,d=Le[S>>1]|Le[S+2>>1]<<16,h=Le[m>>1]|Le[m+2>>1]<<16,ee[S>>1]=h,ee[S+2>>1]=h>>>16,ee[m>>1]=d,ee[m+2>>1]=d>>>16,d=S+-4|0,m=m+-4|0,h=ee[m>>1]|0,(Le[d>>1]|0)>=(h&65535))break e;C=e[t+60>>2]|0,S=d}while(!1);return wm(t,2,ee[M+((E&65535)<<6)+52>>1]|0),Mm(t,2,ee[M+((E&65535)<<6)+58>>1]|0,_),d=e[t+60>>2]|0,h=e[t+108>>2]|0,h?(e[d+((E&65535)<<6)+60>>2]=Hh[e[(e[h>>2]|0)+8>>2]&3](h,n,s,o,a,l,u,_,0)|0,a=d+((E&65535)<<6)|0,H=D,a|0):(a=d+((E&65535)<<6)|0,H=D,a|0)}function u2e(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;o=e[t+108>>2]|0,o|0&&f0[e[(e[o>>2]|0)+12>>2]&127](o,e[n+60>>2]|0,s),C=e[n+12>>2]|0,S=e[t+60>>2]|0,g=e[t+92>>2]|0,Ct[e[(e[g>>2]|0)+56>>2]&127](g)|0||(g=e[t+92>>2]|0,f0[e[(e[g>>2]|0)+16>>2]&127](g,S+((C&65535)<<6)|0,s)),d=Le[t+56>>1]|0,o=e[t+60>>2]|0,ee[o+54>>1]=(Le[o+54>>1]|0)+65534,ee[o+56>>1]=(Le[o+56>>1]|0)+65534,ee[o+58>>1]=(Le[o+58>>1]|0)+65534,o=ee[t+6>>1]|0,g=0;do{if(h=t+68+(g<<2)|0,m=e[h>>2]|0,s=Le[S+((C&65535)<<6)+54+(g<<1)>>1]|0,ee[m+(s<<2)>>1]=o,n=ee[m+(s<<2)+6>>1]|0,!(n<<16>>16))s=m;else{for(_=(e[t+60>>2]|0)+((Le[m+(s<<2)+2>>1]|0)<<6)+54+(g<<1)|0,l=m+(s<<2)|0;u=l,l=l+4|0,a=ee[l>>1]|0,!((o&65535)<(a&65535));)if(s=e[t+60>>2]|0,o=n&65535,a&1?(a=s+(o<<6)+54+(g<<1)|0,ee[a>>1]=(ee[a>>1]|0)+-1<<16>>16):(a=s+(o<<6)+48+(g<<1)|0,ee[a>>1]=(ee[a>>1]|0)+-1<<16>>16),ee[_>>1]=(ee[_>>1]|0)+1<<16>>16,o=Le[u>>1]|Le[u+2>>1]<<16,n=Le[l>>1]|Le[l+2>>1]<<16,ee[u>>1]=n,ee[u+2>>1]=n>>>16,ee[l>>1]=o,ee[l+2>>1]=o>>>16,n=ee[u+10>>1]|0,n<<16>>16)o=o&65535;else break;o=ee[t+6>>1]|0,s=e[h>>2]|0}if(n=Le[S+((C&65535)<<6)+48+(g<<1)>>1]|0,ee[m+(n<<2)>>1]=o,l=s+(n<<2)|0,a=ee[l+6>>1]|0,a<<16>>16){for(_=(e[t+60>>2]|0)+((Le[s+(n<<2)+2>>1]|0)<<6)+48+(g<<1)|0,o=ee[l>>1]|0;u=l,l=l+4|0,s=ee[l>>1]|0,!((o&65535)<(s&65535));)if(n=e[t+60>>2]|0,o=a&65535,s&1?(h=n+(o<<6)+54+(g<<1)|0,ee[h>>1]=(ee[h>>1]|0)+-1<<16>>16):(h=n+(o<<6)+48+(g<<1)|0,ee[h>>1]=(ee[h>>1]|0)+-1<<16>>16),ee[_>>1]=(ee[_>>1]|0)+1<<16>>16,o=Le[u>>1]|Le[u+2>>1]<<16,a=Le[l>>1]|Le[l+2>>1]<<16,ee[u>>1]=a,ee[u+2>>1]=a>>>16,ee[l>>1]=o,ee[l+2>>1]=o>>>16,a=ee[u+10>>1]|0,a<<16>>16)o=o&65535;else break;o=ee[t+6>>1]|0}ee[m+((d<<1)+-1<<2)+2>>1]=0,ee[m+((d<<1)+-1<<2)>>1]=o,g=g+1|0}while((g|0)!=3);ee[(e[t+60>>2]|0)+((C&65535)<<6)+48>>1]=ee[t+64>>1]|0,ee[t+64>>1]=C,ee[t+56>>1]=(ee[t+56>>1]|0)+-1<<16>>16}function f2e(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0;q=H,H=H+16|0,e[n+16>>2]=e[s>>2],e[n+16+4>>2]=e[s+4>>2],e[n+16+8>>2]=e[s+8>>2],e[n+16+12>>2]=e[s+12>>2],e[n+32>>2]=e[o>>2],e[n+32+4>>2]=e[o+4>>2],e[n+32+8>>2]=e[o+8>>2],e[n+32+12>>2]=e[o+12>>2],V=e[t+60>>2]|0,O=e[n+12>>2]&65535,ap(t,q+6|0,+i[s>>2],+i[s+4>>2],+i[s+8>>2],0),ap(t,q,+i[o>>2],+i[o+4>>2],+i[o+8>>2],1),$=0;do{w=ee[V+(O<<6)+48+($<<1)>>1]|0,D=ee[V+(O<<6)+54+($<<1)>>1]|0,g=ee[q+6+($<<1)>>1]|0,u=t+68+($<<2)|0,C=e[u>>2]|0,_=(g&65535)-(Le[C+((w&65535)<<2)>>1]|0)|0,S=ee[q+($<<1)>>1]|0,B=(S&65535)-(Le[C+((D&65535)<<2)>>1]|0)|0,ee[C+((w&65535)<<2)>>1]=g,ee[C+((D&65535)<<2)>>1]=S,(_|0)<0&&wm(t,$,w);e:do if((B|0)>0&&(k=e[u>>2]|0,F=e[t+60>>2]|0,L=Le[k+((D&65535)<<2)+2>>1]|0,U=ee[k+((D&65535)<<2)+6>>1]|0,U<<16>>16)){h=1<<$&3,d=F+(L<<6)+54+($<<1)|0,l=U,S=k+((D&65535)<<2)|0;do{if(C=S,S=S+4|0,m=ee[S>>1]|0,(Le[C>>1]|0)<(m&65535))break e;g=e[t+60>>2]|0,l=l&65535,m&1?(g=g+(l<<6)+54+($<<1)|0,ee[g>>1]=(ee[g>>1]|0)+-1<<16>>16):((Le[F+(L<<6)+54+(h<<1)>>1]|0)>=(Le[g+(l<<6)+48+(h<<1)>>1]|0)&&(Le[g+(l<<6)+54+(h<<1)>>1]|0)>=(Le[F+(L<<6)+48+(h<<1)>>1]|0)&&(Le[F+(L<<6)+54+((1<<h&3)<<1)>>1]|0)>=(Le[g+(l<<6)+48+((1<<h&3)<<1)>>1]|0)&&(Le[g+(l<<6)+54+((1<<h&3)<<1)>>1]|0)>=(Le[F+(L<<6)+48+((1<<h&3)<<1)>>1]|0)&&(Y=e[t+92>>2]|0,z=g+((Le[C+2>>1]|0)<<6)|0,V0[e[(e[Y>>2]|0)+8>>2]&63](Y,z,g+(l<<6)|0)|0,Y=e[t+96>>2]|0,Y|0)&&V0[e[(e[Y>>2]|0)+8>>2]&63](Y,z,g+(l<<6)|0)|0,g=g+(l<<6)+48+($<<1)|0,ee[g>>1]=(ee[g>>1]|0)+-1<<16>>16),ee[d>>1]=(ee[d>>1]|0)+1<<16>>16,l=Le[C>>1]|Le[C+2>>1]<<16,g=Le[S>>1]|Le[S+2>>1]<<16,ee[C>>1]=g,ee[C+2>>1]=g>>>16,ee[S>>1]=l,ee[S+2>>1]=l>>>16,l=ee[C+10>>1]|0}while(l<<16>>16!=0)}while(!1);e:do if((_|0)>0&&(M=e[u>>2]|0,E=ee[M+((w&65535)<<2)+6>>1]|0,E<<16>>16)){m=(e[t+60>>2]|0)+((Le[M+((w&65535)<<2)+2>>1]|0)<<6)+48+($<<1)|0,g=1<<$&3,u=E,h=M+((w&65535)<<2)|0;do{if(d=h,h=h+4|0,l=ee[h>>1]|0,(Le[d>>1]|0)<(l&65535))break e;_=e[t+60>>2]|0,u=u&65535,l&1?(l=Le[d+2>>1]|0,(Le[_+(l<<6)+54+(g<<1)>>1]|0)>=(Le[_+(u<<6)+48+(g<<1)>>1]|0)&&(Le[_+(u<<6)+54+(g<<1)>>1]|0)>=(Le[_+(l<<6)+48+(g<<1)>>1]|0)&&(Le[_+(l<<6)+54+((1<<g&3)<<1)>>1]|0)>=(Le[_+(u<<6)+48+((1<<g&3)<<1)>>1]|0)&&(Le[_+(u<<6)+54+((1<<g&3)<<1)>>1]|0)>=(Le[_+(l<<6)+48+((1<<g&3)<<1)>>1]|0)&&(N=e[t+92>>2]|0,$2[e[(e[N>>2]|0)+12>>2]&31](N,_+(l<<6)|0,_+(u<<6)|0,a)|0,N=e[t+96>>2]|0,N|0)&&$2[e[(e[N>>2]|0)+12>>2]&31](N,_+(l<<6)|0,_+(u<<6)|0,a)|0,w=_+(u<<6)+54+($<<1)|0,ee[w>>1]=(ee[w>>1]|0)+-1<<16>>16):(w=_+(u<<6)+48+($<<1)|0,ee[w>>1]=(ee[w>>1]|0)+-1<<16>>16),ee[m>>1]=(ee[m>>1]|0)+1<<16>>16,u=Le[d>>1]|Le[d+2>>1]<<16,w=Le[h>>1]|Le[h+2>>1]<<16,ee[d>>1]=w,ee[d+2>>1]=w>>>16,ee[h>>1]=u,ee[h+2>>1]=u>>>16,u=ee[d+10>>1]|0}while(u<<16>>16!=0)}while(!1);(B|0)<0&&Mm(t,$,D,a),$=$+1|0}while(($|0)!=3);if(l=e[t+108>>2]|0,!l){H=q;return}Qi[e[(e[l>>2]|0)+16>>2]&31](l,e[n+60>>2]|0,s,o,a),H=q}function p2e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,e[s>>2]=e[n+16>>2],e[s+4>>2]=e[n+16+4>>2],e[s+8>>2]=e[n+16+8>>2],e[s+12>>2]=e[n+16+12>>2],e[o>>2]=e[n+32>>2],e[o+4>>2]=e[n+32+4>>2],e[o+8>>2]=e[n+32+8>>2],e[o+12>>2]=e[n+32+12>>2]}function _2e(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0;if(u=e[t+108>>2]|0,u|0){Lo[e[(e[u>>2]|0)+24>>2]&7](u,n,s,o,a,l);return}if(u=ee[t+56>>1]|0,!((u&65535)<<1>>>0<=1)){n=1,a=1;do l=e[t+68>>2]|0,ee[l+(n<<2)>>1]&1&&(I0[e[(e[o>>2]|0)+8>>2]&31](o,(e[t+60>>2]|0)+((Le[l+(n<<2)+2>>1]|0)<<6)|0)|0,u=ee[t+56>>1]|0),a=a+1<<16>>16,n=a&65535;while(n>>>0<((u&65535)<<1|1)>>>0)}}function h2e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0;if(a=e[t+108>>2]|0,a|0){Kt[e[(e[a>>2]|0)+28>>2]&127](a,n,s,o);return}if(a=ee[t+56>>1]|0,!((a&65535)<<1>>>0<=1)){u=1,h=1;do l=e[t+68>>2]|0,ee[l+(u<<2)>>1]&1&&(_=e[t+60>>2]|0,u=Le[l+(u<<2)+2>>1]|0,!(+i[n>>2]>+i[_+(u<<6)+32>>2])&&!(+i[s>>2]<+i[_+(u<<6)+16>>2])?l=1:l=0,!(+i[n+8>>2]>+i[_+(u<<6)+40>>2])&&!(+i[s+8>>2]<+i[_+(u<<6)+24>>2])||(l=0),!(+i[n+4>>2]>+i[_+(u<<6)+36>>2])&&!(+i[s+4>>2]<+i[_+(u<<6)+20>>2]|l^1)&&(I0[e[(e[o>>2]|0)+8>>2]&31](o,_+(u<<6)|0)|0,a=ee[t+56>>1]|0)),h=h+1<<16>>16,u=h&65535;while(u>>>0<((a&65535)<<1|1)>>>0)}}function d2e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;if(S=H,H=H+32|0,g=e[t+92>>2]|0,!(Ct[e[(e[g>>2]|0)+56>>2]&127](g)|0)){H=S;return}if(g=e[t+92>>2]|0,g=Ct[e[(e[g>>2]|0)+28>>2]&127](g)|0,s=e[g+4>>2]|0,(s|0)>1&&(Ac(g,0,s+-1|0),s=e[g+4>>2]|0),o=s-(e[t+104>>2]|0)|0,e[S+16>>2]=0,e[S+16+4>>2]=0,e[S+16+8>>2]=0,e[S+16+12>>2]=0,Rm(g,o,S+16|0),e[t+104>>2]=0,o=e[g+4>>2]|0,(o|0)>0){for(s=0,h=0,d=0,l=0;_=e[g+12>>2]|0,u=_+(h<<4)|0,C=d,d=e[u>>2]|0,_=_+(h<<4)+4|0,a=e[_>>2]|0,(d|0)==(C|0)&(a|0)==(l|0)?(a=l,m=13):(C=d+54|0,l=d+48|0,(Le[C>>1]|0)>=(Le[a+48>>1]|0)&&(Le[a+54>>1]|0)>=(Le[l>>1]|0)&&(Le[C+2>>1]|0)>=(Le[a+48+2>>1]|0)&&(Le[a+54+2>>1]|0)>=(Le[l+2>>1]|0)&&(Le[C+4>>1]|0)>=(Le[a+52>>1]|0)&&(Le[a+54+4>>1]|0)>=(Le[d+52>>1]|0)||(m=13)),(m|0)==13&&(m=0,s=e[t+92>>2]|0,f0[e[(e[s>>2]|0)+32>>2]&127](s,u,n),e[u>>2]=0,e[_>>2]=0,s=(e[t+104>>2]|0)+1|0,e[t+104>>2]=s,e[4984]=(e[4984]|0)+-1,o=e[g+4>>2]|0),h=h+1|0,!((h|0)>=(o|0));)l=a;(o|0)>1&&(Ac(g,0,o+-1|0),o=e[g+4>>2]|0,s=e[t+104>>2]|0)}else s=0;e[S>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,e[S+12>>2]=0,Rm(g,o-s|0,S),e[t+104>>2]=0,H=S}function m2e(t){return t=t|0,e[t+92>>2]|0}function g2e(t){return t=t|0,e[t+92>>2]|0}function x2e(t,n,s){t=t|0,n=n|0,s=s|0,e[n>>2]=e[t+8>>2],e[n+4>>2]=e[t+8+4>>2],e[n+8>>2]=e[t+8+8>>2],e[n+12>>2]=e[t+8+12>>2],e[s>>2]=e[t+24>>2],e[s+4>>2]=e[t+24+4>>2],e[s+8>>2]=e[t+24+8>>2],e[s+12>>2]=e[t+24+12>>2]}function y2e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;if(n=e[t+56>>2]|0,!((n&65535)<<16>>16)){if(ee[t+64>>1]=1,a=e[t+60>>2]|0,(n>>>16&65535)>1)for(s=1,n=1;ee[a+(s<<6)+48>>1]=s+1,o=n+1<<16>>16,n=ee[t+58>>1]|0,(o&65535)<(n&65535);)s=o&65535,n=o;else n=n>>>16&65535;ee[a+((n&65535)+-1<<6)+48>>1]=0}}function v2e(t){t=t|0}function mxe(t){t=t|0;var n=0,s=0;s=H,H=H+32|0,VI(t|0)|0,$8(23316,3)|0&&Io(19340,s),t=X8(e[5830]|0)|0,t|0&&(n=e[t>>2]|0,n|0)&&(e[n+48>>2]&-256|0)==1126902528&&(e[n+48+4>>2]|0)==1129074247&&(x2[e[n+12>>2]&3](),Io(19664,s+8|0)),n=e[2054]|0,e[2054]=n+0,x2[n&3](),Io(19664,s+16|0)}function S2e(t){t=t|0,Ph(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function T2e(t){t=t|0;var n=0;e[t>>2]=2616,n=e[t+16>>2]|0,n|0&&(A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0),A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0}function C2e(t){t=t|0;var n=0;if(e[t>>2]=2616,n=e[t+16>>2]|0,!n){ye(t);return}if(!(A[t+20>>0]|0)){ye(t);return}e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),ye(t)}function w2e(t,n,s){return t=t|0,n=n|0,s=s|0,0}function M2e(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,0}function R2e(t,n,s){t=t|0,n=n|0,s=s|0}function A2e(t){return t=t|0,e[t+16>>2]|0}function E2e(t){return t=t|0,e[t+16>>2]|0}function b2e(t){return t=t|0,t+4|0}function N2e(t,n,s){t=t|0,n=n|0,s=s|0}function D2e(t){return t=t|0,0}function I2e(t,n,s){t=t|0,n=n|0,s=s|0}function P2e(t,n){t=t|0,n=n|0}function L2e(t,n,s){t=t|0,n=n|0,s=s|0}function k2e(t,n,s){return t=t|0,n=n|0,s=s|0,0}function F2e(t){return t=t|0,1}function B2e(t,n){t=t|0,n=n|0}function U2e(t,n){t=t|0,n=n|0}function ap(t,n,s,o,a,l){t=t|0,n=n|0,s=+s,o=+o,a=+a,l=l|0;var u=0,_=0;s=(s-+i[t+8>>2])*+i[t+40>>2],o=(o-+i[t+12>>2])*+i[t+44>>2],a=(a-+i[t+16>>2])*+i[t+48>>2];do if(s<=0)u=l;else if(u=ee[t+6>>1]|0,_=ee[t+4>>1]|0,s>=+(u&65535)){u=_&u&65535|l;break}else{u=_&(~~s&65535)&65535|l;break}while(!1);ee[n>>1]=u;do if(o<=0)u=l;else if(u=ee[t+6>>1]|0,_=ee[t+4>>1]|0,o>=+(u&65535)){u=_&u&65535|l;break}else{u=_&(~~o&65535)&65535|l;break}while(!1);if(ee[n+2>>1]=u,a<=0){l=l&65535,n=n+4|0,ee[n>>1]=l;return}if(_=ee[t+6>>1]|0,u=ee[t+4>>1]|0,a>=+(_&65535)){l=u&_&65535|l,l=l&65535,n=n+4|0,ee[n>>1]=l;return}else{l=u&(~~a&65535)&65535|l,l=l&65535,n=n+4|0,ee[n>>1]=l;return}}function wm(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;if(a=e[t+68+(n<<2)>>2]|0,d=e[t+60>>2]|0,m=Le[a+((s&65535)<<2)+2>>1]|0,o=ee[a+((s&65535)<<2)+-4>>1]|0,!((Le[a+((s&65535)<<2)>>1]|0)>=(o&65535)))for(u=d,l=a+((s&65535)<<2)|0,s=a+((s&65535)<<2)+-4|0;a=Le[l+-2>>1]|0,o&1?((Le[d+(m<<6)+54+((1<<n&3)<<1)>>1]|0)>=(Le[u+(a<<6)+48+((1<<n&3)<<1)>>1]|0)&&(Le[u+(a<<6)+54+((1<<n&3)<<1)>>1]|0)>=(Le[d+(m<<6)+48+((1<<n&3)<<1)>>1]|0)&&(Le[d+(m<<6)+54+((1<<(1<<n&3)&3)<<1)>>1]|0)>=(Le[u+(a<<6)+48+((1<<(1<<n&3)&3)<<1)>>1]|0)&&(Le[u+(a<<6)+54+((1<<(1<<n&3)&3)<<1)>>1]|0)>=(Le[d+(m<<6)+48+((1<<(1<<n&3)&3)<<1)>>1]|0)&&(h=e[t+92>>2]|0,_=u+(a<<6)|0,V0[e[(e[h>>2]|0)+8>>2]&63](h,d+(m<<6)|0,_)|0,h=e[t+96>>2]|0,h|0)&&V0[e[(e[h>>2]|0)+8>>2]&63](h,d+(m<<6)|0,_)|0,u=u+(a<<6)+54+(n<<1)|0,ee[u>>1]=(ee[u>>1]|0)+1<<16>>16):(u=u+(a<<6)+48+(n<<1)|0,ee[u>>1]=(ee[u>>1]|0)+1<<16>>16),ee[d+(m<<6)+48+(n<<1)>>1]=(ee[d+(m<<6)+48+(n<<1)>>1]|0)+-1<<16>>16,a=Le[l>>1]|Le[l+2>>1]<<16,o=Le[s>>1]|Le[s+2>>1]<<16,ee[l>>1]=o,ee[l+2>>1]=o>>>16,ee[s>>1]=a,ee[s+2>>1]=a>>>16,a=l+-4|0,s=s+-4|0,o=ee[s>>1]|0,!((Le[a>>1]|0)>=(o&65535));)u=e[t+60>>2]|0,l=a}function Mm(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0;if(l=e[t+68+(n<<2)>>2]|0,a=ee[l+((s&65535)<<2)+-4>>1]|0,!((Le[l+((s&65535)<<2)>>1]|0)>=(a&65535)))for(_=e[t+60>>2]|0,h=_+((Le[l+((s&65535)<<2)+2>>1]|0)<<6)+54+(n<<1)|0,u=l+((s&65535)<<2)|0,s=l+((s&65535)<<2)+-4|0;l=Le[u+-2>>1]|0,a&1?(_=_+(l<<6)+54+(n<<1)|0,ee[_>>1]=(ee[_>>1]|0)+1<<16>>16):(a=Le[u+2>>1]|0,(Le[_+(a<<6)+54+((1<<n&3)<<1)>>1]|0)>=(Le[_+(l<<6)+48+((1<<n&3)<<1)>>1]|0)&&(Le[_+(l<<6)+54+((1<<n&3)<<1)>>1]|0)>=(Le[_+(a<<6)+48+((1<<n&3)<<1)>>1]|0)&&(Le[_+(a<<6)+54+((1<<(1<<n&3)&3)<<1)>>1]|0)>=(Le[_+(l<<6)+48+((1<<(1<<n&3)&3)<<1)>>1]|0)&&(Le[_+(l<<6)+54+((1<<(1<<n&3)&3)<<1)>>1]|0)>=(Le[_+(a<<6)+48+((1<<(1<<n&3)&3)<<1)>>1]|0)&&(g=e[t+92>>2]|0,d=_+(a<<6)|0,m=_+(l<<6)|0,$2[e[(e[g>>2]|0)+12>>2]&31](g,d,m,o)|0,g=e[t+96>>2]|0,g|0)&&$2[e[(e[g>>2]|0)+12>>2]&31](g,d,m,o)|0,_=_+(l<<6)+48+(n<<1)|0,ee[_>>1]=(ee[_>>1]|0)+1<<16>>16),ee[h>>1]=(ee[h>>1]|0)+-1<<16>>16,l=Le[u>>1]|Le[u+2>>1]<<16,a=Le[s>>1]|Le[s+2>>1]<<16,ee[u>>1]=a,ee[u+2>>1]=a>>>16,ee[s>>1]=l,ee[s+2>>1]=l>>>16,l=u+-4|0,s=s+-4|0,a=ee[s>>1]|0,!((Le[l>>1]|0)>=(a&65535));)_=e[t+60>>2]|0,u=l}function Rm(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0;if(u=e[t+4>>2]|0,(u|0)>=(n|0)){e[t+4>>2]=n;return}if((e[t+8>>2]|0)<(n|0)){if(n?(e[5637]=(e[5637]|0)+1,o=Xe((n<<4|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+4>>2]|0):(o=0,a=u),(a|0)>0){l=0;do _=e[t+12>>2]|0,e[o+(l<<4)>>2]=e[_+(l<<4)>>2],e[o+(l<<4)+4>>2]=e[_+(l<<4)+4>>2],e[o+(l<<4)+8>>2]=e[_+(l<<4)+8>>2],e[o+(l<<4)+12>>2]=e[_+(l<<4)+12>>2],l=l+1|0;while((l|0)!=(a|0))}a=e[t+12>>2]|0,a|0&&(A[t+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+12>>2]=0),A[t+16>>0]=1,e[t+12>>2]=o,e[t+8>>2]=n,a=t+12|0}else a=t+12|0;o=u;do _=e[a>>2]|0,e[_+(o<<4)>>2]=e[s>>2],e[_+(o<<4)+4>>2]=e[s+4>>2],e[_+(o<<4)+8>>2]=e[s+8>>2],e[_+(o<<4)+12>>2]=e[s+12>>2],o=o+1|0;while((o|0)!=(n|0));e[t+4>>2]=n}function Ac(t,n,s){t=t|0,n=n|0,s=s|0;for(var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;;){for(w=(n+s|0)/2|0,g=e[t+12>>2]|0,S=e[g+(w<<4)>>2]|0,C=e[g+(w<<4)+4>>2]|0,w=e[g+(w<<4)+8>>2]|0,o=n,a=s;;){e:do if(S){if(m=e[S+12>>2]|0,!C)for(;;){_=e[g+(o<<4)>>2]|0,_?l=e[_+12>>2]|0:l=-1,h=e[g+(o<<4)+4>>2]|0,h?u=e[h+12>>2]|0:u=-1;do if((l|0)<=(m|0)){if(l=(u|0)>-1,l|(_|0)==(S|0)^1){if((_|0)==(S|0)&l)break;break e}if(h|0||(e[g+(o<<4)+8>>2]|0)>>>0<=w>>>0)break e}while(!1);o=o+1|0}for(d=e[C+12>>2]|0;;){_=e[g+(o<<4)>>2]|0,_?l=e[_+12>>2]|0:l=-1,h=e[g+(o<<4)+4>>2]|0,h?u=e[h+12>>2]|0:u=-1;do if((l|0)<=(m|0)){if(l=(u|0)>(d|0),l|(_|0)==(S|0)^1){if((_|0)==(S|0)&l)break;break e}if((h|0)!=(C|0)||(e[g+(o<<4)+8>>2]|0)>>>0<=w>>>0)break e}while(!1);o=o+1|0}}else for(;;){h=e[g+(o<<4)>>2]|0,h?l=e[h+12>>2]|0:l=-1,d=e[g+(o<<4)+4>>2]|0,d?u=e[d+12>>2]|0:u=-1,C?_=e[C+12>>2]|0:_=-1;do if((l|0)<=-1){if(l=(u|0)>(_|0),l|(h|0)==0^1){if((h|0)==0&l)break;break e}if((d|0)!=(C|0)||(e[g+(o<<4)+8>>2]|0)>>>0<=w>>>0)break e}while(!1);o=o+1|0}while(!1);e:do if(S){if(m=e[S+12>>2]|0,!C)for(;;){_=e[g+(a<<4)>>2]|0,_?l=e[_+12>>2]|0:l=-1,h=e[g+(a<<4)+4>>2]|0,h?u=e[h+12>>2]|0:u=-1;do if((m|0)<=(l|0)){if(l=(u|0)<-1,l|(S|0)==(_|0)^1){if((S|0)==(_|0)&l)break;break e}if(h|0||w>>>0<=(e[g+(a<<4)+8>>2]|0)>>>0)break e}while(!1);a=a+-1|0}for(d=e[C+12>>2]|0;;){_=e[g+(a<<4)>>2]|0,_?l=e[_+12>>2]|0:l=-1,h=e[g+(a<<4)+4>>2]|0,h?u=e[h+12>>2]|0:u=-1;do if((m|0)<=(l|0)){if(l=(d|0)>(u|0),l|(S|0)==(_|0)^1){if((S|0)==(_|0)&l)break;break e}if((C|0)!=(h|0)||w>>>0<=(e[g+(a<<4)+8>>2]|0)>>>0)break e}while(!1);a=a+-1|0}}else for(;;){h=e[g+(a<<4)>>2]|0,h?l=e[h+12>>2]|0:l=-1,C?u=e[C+12>>2]|0:u=-1,d=e[g+(a<<4)+4>>2]|0,d?_=e[d+12>>2]|0:_=-1;do if((l|0)>=-1){if(l=(u|0)>(_|0),l|(h|0)==0^1){if((h|0)==0&l)break;break e}if((C|0)!=(d|0)||w>>>0<=(e[g+(a<<4)+8>>2]|0)>>>0)break e}while(!1);a=a+-1|0}while(!1);if((o|0)<=(a|0)&&(u=g+(o<<4)|0,_=e[u>>2]|0,h=e[g+(o<<4)+4>>2]|0,d=e[g+(o<<4)+8>>2]|0,m=e[g+(o<<4)+12>>2]|0,g=g+(a<<4)|0,e[u>>2]=e[g>>2],e[u+4>>2]=e[g+4>>2],e[u+8>>2]=e[g+8>>2],e[u+12>>2]=e[g+12>>2],g=e[t+12>>2]|0,e[g+(a<<4)>>2]=_,e[g+(a<<4)+4>>2]=h,e[g+(a<<4)+8>>2]=d,e[g+(a<<4)+12>>2]=m,o=o+1|0,a=a+-1|0),(o|0)>(a|0))break;g=e[t+12>>2]|0}if((a|0)>(n|0)&&Ac(t,n,a),(o|0)<(s|0))n=o;else break}}function O2e(t){t=t|0}function Lh(t){t=t|0;var n=0;if(n=e[t>>2]|0,n|0&&xu(t,n),n=e[t+4>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+4>>2]=0,e[t+8>>2]=-1,n=e[t+32>>2]|0,n|0&&(A[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+32>>2]=0),A[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0,e[t+16>>2]=0,n=e[t+52>>2]|0,!n){A[t+56>>0]=1,e[t+52>>2]=0,e[t+44>>2]=0,e[t+48>>2]=0,A[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0;return}if(!(A[t+56>>0]|0)){A[t+56>>0]=1,e[t+52>>2]=0,e[t+44>>2]=0,e[t+48>>2]=0,A[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0;return}if(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),n=e[t+32>>2]|0,A[t+56>>0]=1,e[t+52>>2]=0,e[t+44>>2]=0,e[t+48>>2]=0,!n){A[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0;return}A[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+32>>2]=0,A[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0}function xu(t,n){t=t|0,n=n|0;var s=0;if(e[n+40>>2]|0&&(xu(t,e[n+36>>2]|0),xu(t,e[n+40>>2]|0)),(e[t>>2]|0)==(n|0)&&(e[t>>2]=0),s=e[t+4>>2]|0,!s){e[t+4>>2]=n;return}e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),e[t+4>>2]=n}function Am(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0;if(g=H,H=H+32|0,(n|0)<0&&(n=e[t+12>>2]|0),s=e[t>>2]|0,!((n|0)>0&(s|0)!=0)){H=g;return}for(;;){if(o=s+40|0,e[o>>2]|0)for(m=0;d=(e[t+16>>2]|0)>>>m&1,a=s+32|0,l=e[a>>2]|0,l>>>0>s>>>0&&(u=(e[l+40>>2]|0)==(s|0)&1,_=e[l+36+((u^1)<<2)>>2]|0,h=e[l+32>>2]|0,h?e[h+36+(((e[h+40>>2]|0)==(l|0)&1)<<2)>>2]=s:e[t>>2]=s,e[_+32>>2]=s,e[l+32>>2]=s,e[a>>2]=h,h=s+36|0,e[l+36>>2]=e[h>>2],e[l+40>>2]=e[o>>2],e[(e[h>>2]|0)+32>>2]=l,e[(e[o>>2]|0)+32>>2]=l,e[s+36+(u<<2)>>2]=l,e[s+36+((u^1)<<2)>>2]=_,e[g>>2]=e[l>>2],e[g+4>>2]=e[l+4>>2],e[g+8>>2]=e[l+8>>2],e[g+12>>2]=e[l+12>>2],e[g+16>>2]=e[l+16>>2],e[g+20>>2]=e[l+20>>2],e[g+24>>2]=e[l+24>>2],e[g+28>>2]=e[l+28>>2],e[l>>2]=e[s>>2],e[l+4>>2]=e[s+4>>2],e[l+8>>2]=e[s+8>>2],e[l+12>>2]=e[s+12>>2],e[l+16>>2]=e[s+16>>2],e[l+20>>2]=e[s+20>>2],e[l+24>>2]=e[s+24>>2],e[l+28>>2]=e[s+28>>2],e[s>>2]=e[g>>2],e[s+4>>2]=e[g+4>>2],e[s+8>>2]=e[g+8>>2],e[s+12>>2]=e[g+12>>2],e[s+16>>2]=e[g+16>>2],e[s+20>>2]=e[g+20>>2],e[s+24>>2]=e[g+24>>2],e[s+28>>2]=e[g+28>>2],s=l),s=e[s+36+(d<<2)>>2]|0,o=s+40|0,e[o>>2]|0;)m=m+1&31;if(f1(t,s)|0?o=e[t>>2]|0:o=0,j1(t,o,s),e[t+16>>2]=(e[t+16>>2]|0)+1,n=n+-1|0,!n)break;s=e[t>>2]|0}H=g}function f1(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0;if((e[t>>2]|0)==(n|0))return e[t>>2]=0,t=0,t|0;if(o=e[n+32>>2]|0,s=e[o+32>>2]|0,n=e[o+36+(((e[o+40>>2]|0)!=(n|0)&1)<<2)>>2]|0,!s)return e[t>>2]=n,e[n+32>>2]=0,s=e[t+4>>2]|0,s?(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),s=e[t>>2]|0):s=n,e[t+4>>2]=o,t=s,t|0;e[s+36+(((e[s+40>>2]|0)==(o|0)&1)<<2)>>2]=n,e[n+32>>2]=s,n=e[t+4>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+4>>2]=o;do{if(E=+i[s>>2],F=s+4|0,w=+i[F>>2],B=s+8|0,S=+i[B>>2],L=s+16|0,m=+i[L>>2],k=s+20|0,u=+i[k>>2],o=s+24|0,h=+i[o>>2],N=e[s+36>>2]|0,n=e[s+40>>2]|0,D=+i[N>>2],M=+i[n>>2],M=D<M?D:M,i[s>>2]=M,D=+i[N+16>>2],d=+i[n+16>>2],d=D>d?D:d,i[L>>2]=d,D=+i[N+4>>2],C=+i[n+4>>2],C=D<C?D:C,i[F>>2]=C,D=+i[N+20>>2],l=+i[n+20>>2],l=D>l?D:l,i[k>>2]=l,D=+i[N+8>>2],g=+i[n+8>>2],g=D<g?D:g,i[B>>2]=g,D=+i[N+24>>2],_=+i[n+24>>2],_=D>_?D:_,i[o>>2]=_,!(E!=M|w!=C|S!=g|m!=d)&&!(h!=_|u!=l)){a=14;break}s=e[s+32>>2]|0}while((s|0)!=0);return(a|0)==14?s|0:(L=e[t>>2]|0,L|0)}function j1(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(!(e[t>>2]|0)){e[t>>2]=s,e[s+32>>2]=0;return}if(o=e[n+40>>2]|0,!o)S=n;else{h=+i[s>>2]+ +i[s+16>>2],u=+i[s+4>>2]+ +i[s+20>>2],_=+i[s+8>>2]+ +i[s+24>>2];do C=e[n+36>>2]|0,g=+ht(+(h-(+i[C>>2]+ +i[C+16>>2])))+ +ht(+(u-(+i[C+4>>2]+ +i[C+20>>2])))+ +ht(+(_-(+i[C+8>>2]+ +i[C+24>>2]))),n=e[n+36+((!(g<+ht(+(h-(+i[o>>2]+ +i[o+16>>2])))+ +ht(+(u-(+i[o+4>>2]+ +i[o+20>>2])))+ +ht(+(_-(+i[o+8>>2]+ +i[o+24>>2]))))&1)<<2)>>2]|0,o=e[n+40>>2]|0;while((o|0)!=0);S=n}if(C=S+32|0,o=e[C>>2]|0,n=e[t+4>>2]|0,n)e[t+4>>2]=0;else{e[5637]=(e[5637]|0)+1,n=Xe(63)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,a=n,l=a+44|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(l|0))}if(e[n+32>>2]=o,e[n+36>>2]=0,a=n+40|0,e[a>>2]=0,w=+i[s>>2],g=+i[S>>2],g=w<g?w:g,i[n>>2]=g,w=+i[s+16>>2],h=+i[S+16>>2],h=w>h?w:h,i[n+16>>2]=h,w=+i[s+4>>2],m=+i[S+4>>2],m=w<m?w:m,i[n+4>>2]=m,w=+i[s+20>>2],_=+i[S+20>>2],_=w>_?w:_,i[n+20>>2]=_,w=+i[s+8>>2],d=+i[S+8>>2],d=w<d?w:d,i[n+8>>2]=d,w=+i[s+24>>2],u=+i[S+24>>2],u=w>u?w:u,i[n+24>>2]=u,!o){e[n+36>>2]=S,e[C>>2]=n,e[a>>2]=s,e[s+32>>2]=n,e[t>>2]=n;return}for(e[o+36+(((e[(e[C>>2]|0)+40>>2]|0)==(S|0)&1)<<2)>>2]=n,e[n+36>>2]=S,e[C>>2]=n,e[a>>2]=s,e[s+32>>2]=n;;){if(n=o+4|0,+i[o>>2]<=g&&+i[n>>2]<=m&&+i[o+8>>2]<=d&&+i[o+16>>2]>=h&&+i[o+20>>2]>=_&&+i[o+24>>2]>=u){n=21;break}if(s=e[o+36>>2]|0,t=e[o+40>>2]|0,w=+i[s>>2],g=+i[t>>2],g=w<g?w:g,i[o>>2]=g,w=+i[s+16>>2],h=+i[t+16>>2],h=w>h?w:h,i[o+16>>2]=h,w=+i[s+4>>2],m=+i[t+4>>2],m=w<m?w:m,i[n>>2]=m,w=+i[s+20>>2],_=+i[t+20>>2],_=w>_?w:_,i[o+20>>2]=_,w=+i[s+8>>2],d=+i[t+8>>2],d=w<d?w:d,i[o+8>>2]=d,w=+i[s+24>>2],u=+i[t+24>>2],u=w>u?w:u,i[o+24>>2]=u,o=e[o+32>>2]|0,!o){n=21;break}}n|0}function G2e(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=+a;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(S=+i[s>>2],+i[n>>2]<=S){if(u=+i[s+4>>2],+i[n+4>>2]<=u&&+i[n+8>>2]<=+i[s+8>>2]&&+i[n+16>>2]>=+i[s+16>>2]&&+i[n+20>>2]>=+i[s+20>>2]&&+i[n+24>>2]>=+i[s+24>>2])return s=0,s|0;l=s+4|0}else l=s+4|0,u=+i[s+4>>2];i[s>>2]=S-a,m=u-a,i[l>>2]=m,C=+i[s+8>>2]-a,i[s+8>>2]=C,u=+i[s+16>>2]+a,i[s+16>>2]=u,g=+i[s+20>>2]+a,i[s+20>>2]=g,w=+i[s+24>>2]+a,i[s+24>>2]=w,d=+i[o>>2],d>0?i[s+16>>2]=d+u:i[s>>2]=d+(S-a),u=+i[o+4>>2],u>0?i[s+20>>2]=u+g:i[l>>2]=u+m,u=+i[o+8>>2],u>0?i[s+24>>2]=u+w:i[s+8>>2]=u+C,l=f1(t,n)|0;e:do if(l){if(_=e[t+8>>2]|0,(_|0)<=-1){l=e[t>>2]|0;break}if((_|0)>0)for(h=0;;){if(o=e[l+32>>2]|0,h=h+1|0,!o)break e;if((h|0)>=(_|0)){l=o;break}else l=o}}else l=0;while(!1);return e[n>>2]=e[s>>2],e[n+4>>2]=e[s+4>>2],e[n+8>>2]=e[s+8>>2],e[n+12>>2]=e[s+12>>2],e[n+16>>2]=e[s+16>>2],e[n+20>>2]=e[s+20>>2],e[n+24>>2]=e[s+24>>2],e[n+28>>2]=e[s+28>>2],j1(t,l,n),s=1,s|0}function V2e(t,n,s){t=t|0,n=n|0,s=s|0}function z2e(t,n,s){t=t|0,n=n|0,s=+s,zt[e[(e[t>>2]|0)+12>>2]&127](t,n)}function W2e(t,n){return t=t|0,n=n|0,1}function H2e(t,n){return t=t|0,n=n|0,1}function Em(t){t=t|0;var n=0;e[t>>2]=2692,A[t+192>>0]|0&&(n=e[t+136>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+136>>2]|0,n|0)&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),Lh(t+64|0),Lh(t+4|0)}function j2e(t){t=t|0,Em(t),ye(t)}function q2e(t,n,s,o,a,l,u,_,h){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0;var d=0,m=0;if(m=H,H=H+48|0,e[5637]=(e[5637]|0)+1,o=Xe(83)|0,o?(e[(o+4+15&-16)+-4>>2]=o,d=o+4+15&-16):d=0,e[d>>2]=a,ee[d+4>>1]=l,ee[d+6>>1]=u,l=d+16|0,e[l>>2]=e[n>>2],e[l+4>>2]=e[n+4>>2],e[l+8>>2]=e[n+8>>2],e[l+12>>2]=e[n+12>>2],l=d+32|0,e[l>>2]=e[s>>2],e[l+4>>2]=e[s+4>>2],e[l+8>>2]=e[s+8>>2],e[l+12>>2]=e[s+12>>2],e[d+8>>2]=0,l=d+56|0,e[l>>2]=0,u=d+52|0,e[u>>2]=0,e[m+16>>2]=e[n>>2],e[m+16+4>>2]=e[n+4>>2],e[m+16+8>>2]=e[n+8>>2],e[m+16+12>>2]=e[n+12>>2],e[m+16+16>>2]=e[s>>2],e[m+16+16+4>>2]=e[s+4>>2],e[m+16+16+8>>2]=e[s+8>>2],e[m+16+16+12>>2]=e[s+12>>2],e[d+60>>2]=e[t+144>>2],o=(e[t+188>>2]|0)+1|0,e[t+188>>2]=o,e[d+12>>2]=o,o=e[t+8>>2]|0,o)e[t+8>>2]=0;else{e[5637]=(e[5637]|0)+1,o=Xe(63)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,_=o,h=_+44|0;do e[_>>2]=0,_=_+4|0;while((_|0)<(h|0))}return e[o+32>>2]=0,e[o+36>>2]=d,e[o+40>>2]=0,e[o>>2]=e[m+16>>2],e[o+4>>2]=e[m+16+4>>2],e[o+8>>2]=e[m+16+8>>2],e[o+12>>2]=e[m+16+12>>2],e[o+16>>2]=e[m+16+16>>2],e[o+20>>2]=e[m+16+20>>2],e[o+24>>2]=e[m+16+24>>2],e[o+28>>2]=e[m+16+28>>2],j1(t+4|0,e[t+4>>2]|0,o),e[t+16>>2]=(e[t+16>>2]|0)+1,e[d+48>>2]=o,_=t+124+(e[t+144>>2]<<2)|0,e[u>>2]=0,e[l>>2]=e[_>>2],o=e[_>>2]|0,o|0&&(e[o+52>>2]=d),e[_>>2]=d,A[t+193>>0]|0?(H=m,d|0):(e[m>>2]=2756,e[m+4>>2]=t,e[m+8>>2]=d,yu(e[t+4>>2]|0,m+16|0,m),yu(e[t+64>>2]|0,m+16|0,m),H=m,d|0)}function X2e(t){t=t|0}function $2e(t){t=t|0,ye(t)}function Y2e(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;(n|0)!=(s|0)&&(o=e[(e[t+4>>2]|0)+136>>2]|0,V0[e[(e[o>>2]|0)+8>>2]&63](o,e[n+36>>2]|0,e[s+36>>2]|0)|0,t=(e[t+4>>2]|0)+160|0,e[t>>2]=(e[t>>2]|0)+1)}function K2e(t,n){t=t|0,n=n|0,f0[e[(e[t>>2]|0)+8>>2]&127](t,n,e[(e[t+8>>2]|0)+48>>2]|0)}function yu(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0;if(t){for(g=+i[n>>2],S=+i[n+4>>2],w=+i[n+8>>2],E=+i[n+16>>2],m=+i[n+20>>2],d=+i[n+24>>2],e[5637]=(e[5637]|0)+1,n=Xe(275)|0,e[(n+4+15&-16)+-4>>2]=n,e[(n+4+15&-16)>>2]=t,h=1,t=64,n=n+4+15&-16;;){o=h+-1|0,u=e[n+(o<<2)>>2]|0;do if(+i[u>>2]<=E&&+i[u+16>>2]>=g&&+i[u+4>>2]<=m&&+i[u+20>>2]>=S&&+i[u+8>>2]<=d&&+i[u+24>>2]>=w){if(!(e[u+40>>2]|0)){zt[e[(e[s>>2]|0)+12>>2]&127](s,u);break}_=e[u+36>>2]|0;do if((o|0)==(t|0)&&(C=t|0?t<<1:1,(h|0)<=(C|0))){if((C|0)!=0&&(e[5637]=(e[5637]|0)+1,M=Xe((C<<2|3)+16|0)|0,(M|0)!=0)?(e[(M+4+15&-16)+-4>>2]=M,l=M+4+15&-16):l=0,(h|0)<=1){if(!n){t=C,n=l;break}}else{a=0;do e[l+(a<<2)>>2]=e[n+(a<<2)>>2],a=a+1|0;while((a|0)!=(t|0))}e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),t=C,n=l}while(!1);e[n+(o<<2)>>2]=_,l=e[u+40>>2]|0;do if((h|0)==(t|0))if(t=h|0?h<<1:1,(h|0)<(t|0)){if((t|0)!=0&&(e[5637]=(e[5637]|0)+1,D=Xe((t<<2|3)+16|0)|0,(D|0)!=0)?(e[(D+4+15&-16)+-4>>2]=D,a=D+4+15&-16):a=0,(h|0)<=0){if(!n){n=a;break}}else{o=0;do e[a+(o<<2)>>2]=e[n+(o<<2)>>2],o=o+1|0;while((o|0)!=(h|0))}e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),n=a}else t=h;while(!1);e[n+(h<<2)>>2]=l,o=h+1|0}while(!1);if((o|0)>0)h=o;else break}n&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0))}}function Z2e(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;(e[n+60>>2]|0)==2?(o=e[n+48>>2]|0,f1(t+64|0,o)|0,a=e[t+68>>2]|0,a|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+68>>2]=o,e[t+76>>2]=(e[t+76>>2]|0)+-1):(o=e[n+48>>2]|0,f1(t+4|0,o)|0,a=e[t+8>>2]|0,a|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+8>>2]=o,e[t+16>>2]=(e[t+16>>2]|0)+-1),o=e[n+52>>2]|0,a=e[n+56>>2]|0,o?e[o+56>>2]=a:e[t+124+(e[n+60>>2]<<2)>>2]=a,o=e[n+56>>2]|0,o|0&&(e[o+52>>2]=e[n+52>>2]),a=e[t+136>>2]|0,f0[e[(e[a>>2]|0)+16>>2]&127](a,n,s),e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),A[t+194>>0]=1}function Q2e(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0;w=H,H=H+48|0,e[w+16>>2]=e[s>>2],e[w+16+4>>2]=e[s+4>>2],e[w+16+8>>2]=e[s+8>>2],e[w+16+12>>2]=e[s+12>>2],e[w+16+16>>2]=e[o>>2],e[w+16+16+4>>2]=e[o+4>>2],e[w+16+16+8>>2]=e[o+8>>2],e[w+16+16+12>>2]=e[o+12>>2];do if((e[n+60>>2]|0)==2){if(a=e[n+48>>2]|0,f1(t+64|0,a)|0,l=e[t+68>>2]|0,l|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+68>>2]=a,e[t+76>>2]=(e[t+76>>2]|0)+-1,a=e[t+8>>2]|0,a)e[t+8>>2]=0;else{e[5637]=(e[5637]|0)+1,a=Xe(63)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,l=a,u=l+44|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(u|0))}e[a+32>>2]=0,e[a+36>>2]=n,e[a+40>>2]=0,e[a>>2]=e[w+16>>2],e[a+4>>2]=e[w+16+4>>2],e[a+8>>2]=e[w+16+8>>2],e[a+12>>2]=e[w+16+12>>2],e[a+16>>2]=e[w+16+16>>2],e[a+20>>2]=e[w+16+20>>2],e[a+24>>2]=e[w+16+24>>2],e[a+28>>2]=e[w+16+28>>2],j1(t+4|0,e[t+4>>2]|0,a),e[t+16>>2]=(e[t+16>>2]|0)+1,e[n+48>>2]=a,u=1}else{if(e[t+168>>2]=(e[t+168>>2]|0)+1,C=e[n+48>>2]|0,+i[C>>2]<=+i[w+16+16>>2]&&+i[C+16>>2]>=+i[w+16>>2]&&+i[C+4>>2]<=+i[w+16+20>>2]&&+i[C+20>>2]>=+i[w+16+4>>2]&&+i[C+8>>2]<=+i[w+16+24>>2]&&+i[C+24>>2]>=+i[w+16+8>>2]){_=+i[n+16>>2],M=+i[s>>2]-_,h=+i[n+20>>2],m=+i[s+4>>2]-h,d=+i[n+24>>2],g=+i[s+8>>2]-d,E=+i[t+140>>2],_=(+i[n+32>>2]-_)*.5*E,h=(+i[n+36>>2]-h)*.5*E,d=E*((+i[n+40>>2]-d)*.5),i[w>>2]=_,i[w+4>>2]=h,i[w+8>>2]=d,i[w+12>>2]=0,M<0&&(i[w>>2]=-_),m<0&&(i[w+4>>2]=-h),g<0&&(i[w+8>>2]=-d),G2e(t+4|0,C,w+16|0,w,.05000000074505806)|0?(e[t+172>>2]=(e[t+172>>2]|0)+1,a=1):a=0,u=a;break}a=f1(t+4|0,C)|0;e:do if(a){if(u=e[t+12>>2]|0,(u|0)<=-1){a=e[t+4>>2]|0;break}if((u|0)>0)for(S=0;;){if(l=e[a+32>>2]|0,S=S+1|0,!l)break e;if((S|0)>=(u|0)){a=l;break}else a=l}}else a=0;while(!1);e[C>>2]=e[w+16>>2],e[C+4>>2]=e[w+16+4>>2],e[C+8>>2]=e[w+16+8>>2],e[C+12>>2]=e[w+16+12>>2],e[C+16>>2]=e[w+16+16>>2],e[C+20>>2]=e[w+16+20>>2],e[C+24>>2]=e[w+16+24>>2],e[C+28>>2]=e[w+16+28>>2],j1(t+4|0,a,C),e[t+172>>2]=(e[t+172>>2]|0)+1,u=1}while(!1);if(a=e[n+52>>2]|0,l=e[n+56>>2]|0,a?e[a+56>>2]=l:e[t+124+(e[n+60>>2]<<2)>>2]=l,a=e[n+56>>2]|0,a|0&&(e[a+52>>2]=e[n+52>>2]),e[n+16>>2]=e[s>>2],e[n+16+4>>2]=e[s+4>>2],e[n+16+8>>2]=e[s+8>>2],e[n+16+12>>2]=e[s+12>>2],e[n+32>>2]=e[o>>2],e[n+32+4>>2]=e[o+4>>2],e[n+32+8>>2]=e[o+8>>2],e[n+32+12>>2]=e[o+12>>2],a=e[t+144>>2]|0,e[n+60>>2]=a,e[n+52>>2]=0,e[n+56>>2]=e[t+124+(a<<2)>>2],l=e[t+124+(a<<2)>>2]|0,l|0&&(e[l+52>>2]=n),e[t+124+(a<<2)>>2]=n,!u){H=w;return}if(A[t+194>>0]=1,A[t+193>>0]|0){H=w;return}e[w>>2]=2756,e[w+4>>2]=t,cp(t+64|0,e[t+64>>2]|0,e[n+48>>2]|0,w),cp(t+4|0,e[t+4>>2]|0,e[n+48>>2]|0,w),H=w}function cp(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0;if((n|0)!=0&(s|0)!=0){if((e[t+24>>2]|0)<128&&(e[t+28>>2]|0)<128){if(e[5637]=(e[5637]|0)+1,a=Xe(1043)|0,a?(e[(a+4+15&-16)+-4>>2]=a,u=a+4+15&-16):u=0,a=e[t+24>>2]|0,(a|0)>0){l=0;do h=(e[t+32>>2]|0)+(l<<3)|0,d=e[h+4>>2]|0,m=u+(l<<3)|0,e[m>>2]=e[h>>2],e[m+4>>2]=d,l=l+1|0;while((l|0)!=(a|0))}a=e[t+32>>2]|0,a|0&&(A[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+32>>2]=0),A[t+36>>0]=1,e[t+32>>2]=u,e[t+28>>2]=128}for(e[t+24>>2]=128,m=e[t+32>>2]|0,e[m>>2]=n,e[m+4>>2]=s,m=1,u=124;;){if(a=m+-1|0,l=e[t+32>>2]|0,h=e[l+(a<<3)>>2]|0,d=e[l+(a<<3)+4>>2]|0,(a|0)>(u|0)){if(s=e[t+24>>2]|0,(s|0)<(s<<1|0)&&(e[t+28>>2]|0)<(s<<1|0)){if(s){if(e[5637]=(e[5637]|0)+1,l=Xe((s<<4|3)+16|0)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,u=e[t+24>>2]|0,(u|0)>0){n=0;do S=(e[t+32>>2]|0)+(n<<3)|0,g=e[S+4>>2]|0,_=l+(n<<3)|0,e[_>>2]=e[S>>2],e[_+4>>2]=g,n=n+1|0;while((n|0)!=(u|0))}}else l=0;u=e[t+32>>2]|0,u|0&&(A[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[t+32>>2]=0),A[t+36>>0]=1,e[t+32>>2]=l,e[t+28>>2]=s<<1}e[t+24>>2]=s<<1,u=(s<<1)+-4|0}do if((h|0)==(d|0))e[h+40>>2]|0&&(S=e[h+36>>2]|0,e[l+(a<<3)>>2]=S,e[l+(a<<3)+4>>2]=S,a=m+1|0,S=e[t+32>>2]|0,g=e[h+40>>2]|0,e[S+(m<<3)>>2]=g,e[S+(m<<3)+4>>2]=g,S=e[t+32>>2]|0,g=e[h+40>>2]|0,e[S+(a<<3)>>2]=e[h+36>>2],e[S+(a<<3)+4>>2]=g,a=m+2|0);else if(+i[h>>2]<=+i[d+16>>2]&&+i[h+16>>2]>=+i[d>>2]&&+i[h+4>>2]<=+i[d+20>>2]&&+i[h+20>>2]>=+i[d+4>>2]&&+i[h+8>>2]<=+i[d+24>>2]&&+i[h+24>>2]>=+i[d+8>>2])if(n=(e[d+40>>2]|0)!=0,e[h+40>>2]|0)if(s=l+(a<<3)|0,_=e[h+36>>2]|0,n){S=e[d+36>>2]|0,e[s>>2]=_,e[l+(a<<3)+4>>2]=S,S=m+1|0,a=e[t+32>>2]|0,g=e[d+36>>2]|0,e[a+(m<<3)>>2]=e[h+40>>2],e[a+(m<<3)+4>>2]=g,a=m+2|0,g=e[t+32>>2]|0,_=e[d+40>>2]|0,e[g+(S<<3)>>2]=e[h+36>>2],e[g+(S<<3)+4>>2]=_,S=e[t+32>>2]|0,g=e[d+40>>2]|0,e[S+(a<<3)>>2]=e[h+40>>2],e[S+(a<<3)+4>>2]=g,a=m+3|0;break}else{e[s>>2]=_,e[l+(a<<3)+4>>2]=d,a=e[t+32>>2]|0,e[a+(m<<3)>>2]=e[h+40>>2],e[a+(m<<3)+4>>2]=d,a=m+1|0;break}else if(n){S=e[d+36>>2]|0,e[l+(a<<3)>>2]=h,e[l+(a<<3)+4>>2]=S,a=e[t+32>>2]|0,S=e[d+40>>2]|0,e[a+(m<<3)>>2]=h,e[a+(m<<3)+4>>2]=S,a=m+1|0;break}else{f0[e[(e[o>>2]|0)+8>>2]&127](o,h,d);break}while(!1);if(a)m=a;else break}}}function J2e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,e[s>>2]=e[n+16>>2],e[s+4>>2]=e[n+16+4>>2],e[s+8>>2]=e[n+16+8>>2],e[s+12>>2]=e[n+16+12>>2],e[o>>2]=e[n+32>>2],e[o+4>>2]=e[n+32+4>>2],e[o+8>>2]=e[n+32+8>>2],e[o+12>>2]=e[n+32+12>>2]}function ere(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,s=H,H=H+16|0,e[s>>2]=2792,e[s+4>>2]=o,bm(t+4|0,e[t+4>>2]|0,n,o+4|0,o+20|0,+i[o+32>>2],a,l,s),bm(t+64|0,e[t+64>>2]|0,n,o+4|0,o+20|0,+i[o+32>>2],a,l,s),H=s}function tre(t){t=t|0,ye(t)}function ire(t,n){t=t|0,n=n|0,t=e[t+4>>2]|0,I0[e[(e[t>>2]|0)+8>>2]&31](t,e[n+36>>2]|0)|0}function bm(t,n,s,o,a,l,u,_,h){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l,u=u|0,_=_|0,h=h|0;var d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0;if(O=H,H=H+32|0,!n){H=O;return}if(S=e[t+44>>2]|0,(S|0)<128){if((e[t+48>>2]|0)<128){if(e[5637]=(e[5637]|0)+1,d=Xe(531)|0,d?(e[(d+4+15&-16)+-4>>2]=d,g=d+4+15&-16):g=0,d=e[t+44>>2]|0,(d|0)>0){m=0;do e[g+(m<<2)>>2]=e[(e[t+52>>2]|0)+(m<<2)>>2],m=m+1|0;while((m|0)!=(d|0))}d=e[t+52>>2]|0,d|0&&(A[t+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[d+-4>>2]|0)),e[t+52>>2]=0),A[t+56>>0]=1,e[t+52>>2]=g,e[t+48>>2]=128,m=t+52|0}else m=t+52|0;d=S;do e[(e[m>>2]|0)+(d<<2)>>2]=0,d=d+1|0;while((d|0)!=128);k=t+48|0}else m=t+52|0,k=t+48|0;for(e[t+44>>2]=128,e[e[m>>2]>>2]=n,B=1,d=126;;){g=B+-1|0,S=e[m>>2]|0,N=e[S+(g<<2)>>2]|0,M=+i[N+4>>2]-+i[_+4>>2],C=+i[N+8>>2]-+i[_+8>>2],i[O>>2]=+i[N>>2]-+i[_>>2],i[O+4>>2]=M,i[O+8>>2]=C,i[O+12>>2]=0,C=+i[N+20>>2]-+i[u+4>>2],M=+i[N+24>>2]-+i[u+8>>2],i[O+16>>2]=+i[N+16>>2]-+i[u>>2],i[O+20>>2]=C,i[O+24>>2]=M,i[O+28>>2]=0,D=e[a>>2]|0,M=+i[s>>2],C=+i[o>>2],w=(+i[O+(D<<4)>>2]-M)*C,M=C*(+i[O+(1-D<<4)>>2]-M),D=e[a+4>>2]|0,C=+i[s+4>>2],z=+i[o+4>>2],E=(+i[O+(D<<4)+4>>2]-C)*z,C=z*(+i[O+(1-D<<4)+4>>2]-C);do if(!(E>M|w>C)&&(F=E>w?E:w,V=C<M?C:M,D=e[a+8>>2]|0,U=+i[s+8>>2],z=+i[o+8>>2],L=(+i[O+(D<<4)+8>>2]-U)*z,U=z*(+i[O+(1-D<<4)+8>>2]-U),!(L>V|F>U))&&(U<V?U:V)>0&&(L>F?L:F)<l){if(!(e[N+40>>2]|0)){zt[e[(e[h>>2]|0)+12>>2]&127](h,N);break}if((g|0)>(d|0)){if(D=e[t+44>>2]|0,(D|0)<(D<<1|0)){if((e[k>>2]|0)<(D<<1|0)){if(D){if(e[5637]=(e[5637]|0)+1,d=Xe((D<<3|3)+16|0)|0,d?(e[(d+4+15&-16)+-4>>2]=d,d=d+4+15&-16):d=0,S=e[t+44>>2]|0,(S|0)>0){n=0;do e[d+(n<<2)>>2]=e[(e[m>>2]|0)+(n<<2)>>2],n=n+1|0;while((n|0)!=(S|0))}}else d=0;S=e[m>>2]|0,S|0&&(A[t+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[S+-4>>2]|0)),e[m>>2]=0),A[t+56>>0]=1,e[m>>2]=d,e[k>>2]=D<<1,S=D}else d=S,S=D;do e[d+(S<<2)>>2]=0,S=S+1|0,d=e[m>>2]|0;while((S|0)!=(D<<1|0))}else d=S;e[t+44>>2]=D<<1,S=d,d=(D<<1)+-2|0}e[S+(g<<2)>>2]=e[N+36>>2],e[(e[m>>2]|0)+(B<<2)>>2]=e[N+40>>2],g=B+1|0}while(!1);if(g)B=g;else break}H=O}function nre(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;a=H,H=H+48|0,e[a+32>>2]=2828,e[a+32+4>>2]=o,e[a>>2]=e[n>>2],e[a+4>>2]=e[n+4>>2],e[a+8>>2]=e[n+8>>2],e[a+12>>2]=e[n+12>>2],e[a+16>>2]=e[s>>2],e[a+16+4>>2]=e[s+4>>2],e[a+16+8>>2]=e[s+8>>2],e[a+16+12>>2]=e[s+12>>2],yu(e[t+4>>2]|0,a,a+32|0),yu(e[t+64>>2]|0,a,a+32|0),H=a}function rre(t){t=t|0,ye(t)}function sre(t,n){t=t|0,n=n|0,t=e[t+4>>2]|0,I0[e[(e[t>>2]|0)+8>>2]&31](t,e[n+36>>2]|0)|0}function ore(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;if(C=H,H=H+32|0,Am(t+4|0,((Rt(e[t+152>>2]|0,e[t+16>>2]|0)|0)/100|0)+1|0),e[t+164>>2]|0&&(g=((Rt(e[t+148>>2]|0,e[t+76>>2]|0)|0)/100|0)+1|0,Am(t+64|0,g),g=(e[t+164>>2]|0)-g|0,e[t+164>>2]=(g|0)<0?0:g),s=((e[t+144>>2]|0)+1|0)%2|0,e[t+144>>2]=s,s=e[t+124+(s<<2)>>2]|0,s|0){do{if(_=s+56|0,h=s,s=e[_>>2]|0,u=e[h+52>>2]|0,l=s,u?e[u+56>>2]=l:e[t+124+(e[h+60>>2]<<2)>>2]=l,l=e[_>>2]|0,l|0&&(e[l+52>>2]=e[h+52>>2]),e[h+52>>2]=0,e[_>>2]=e[t+132>>2],l=e[t+132>>2]|0,l|0&&(e[l+52>>2]=h),e[t+132>>2]=h,l=e[h+48>>2]|0,f1(t+4|0,l)|0,u=e[t+8>>2]|0,u|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[t+8>>2]=l,e[t+16>>2]=(e[t+16>>2]|0)+-1,e[C>>2]=e[h+16>>2],e[C+4>>2]=e[h+16+4>>2],e[C+8>>2]=e[h+16+8>>2],e[C+12>>2]=e[h+16+12>>2],e[C+16>>2]=e[h+32>>2],e[C+16+4>>2]=e[h+32+4>>2],e[C+16+8>>2]=e[h+32+8>>2],e[C+16+12>>2]=e[h+32+12>>2],l=e[t+68>>2]|0,l)e[t+68>>2]=0;else{e[5637]=(e[5637]|0)+1,l=Xe(63)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,u=l,_=u+44|0;do e[u>>2]=0,u=u+4|0;while((u|0)<(_|0))}e[l+32>>2]=0,e[l+36>>2]=h,e[l+40>>2]=0,e[l>>2]=e[C>>2],e[l+4>>2]=e[C+4>>2],e[l+8>>2]=e[C+8>>2],e[l+12>>2]=e[C+12>>2],e[l+16>>2]=e[C+16>>2],e[l+20>>2]=e[C+20>>2],e[l+24>>2]=e[C+24>>2],e[l+28>>2]=e[C+28>>2],j1(t+64|0,e[t+64>>2]|0,l),u=(e[t+76>>2]|0)+1|0,e[t+76>>2]=u,e[h+48>>2]=l,e[h+60>>2]=2}while((s|0)!=0);e[t+164>>2]=u,A[t+194>>0]=1}if(e[C>>2]=2756,e[C+4>>2]=t,A[t+193>>0]|0&&(cp(t+4|0,e[t+4>>2]|0,e[t+64>>2]|0,C),A[t+193>>0]|0)&&(g=e[t+4>>2]|0,cp(t+4|0,g,g,C)),A[t+194>>0]|0&&(d=e[t+136>>2]|0,d=Ct[e[(e[d>>2]|0)+28>>2]&127](d)|0,o=e[d+4>>2]|0,(o|0)>0)){if(s=(Rt(e[t+156>>2]|0,o)|0)/100|0,g=e[t+160>>2]|0,s=(g|0)>(s|0)?g:s,s=(o|0)<(s|0)?o:s,(s|0)>0){l=0;do _=((e[t+184>>2]|0)+l|0)%(o|0)|0,m=e[d+12>>2]|0,u=e[m+(_<<4)>>2]|0,_=e[m+(_<<4)+4>>2]|0,m=e[u+48>>2]|0,g=e[_+48>>2]|0,+i[m>>2]<=+i[g+16>>2]&&+i[m+16>>2]>=+i[g>>2]&&+i[m+4>>2]<=+i[g+20>>2]&&+i[m+20>>2]>=+i[g+4>>2]&&+i[m+8>>2]<=+i[g+24>>2]&&+i[m+24>>2]>=+i[g+8>>2]||(o=e[t+136>>2]|0,$2[e[(e[o>>2]|0)+12>>2]&31](o,u,_,n)|0,o=e[d+4>>2]|0,l=l+-1|0,s=s+-1|0),l=l+1|0;while((l|0)<(s|0));(o|0)>0?S=37:s=0}else S=37;(S|0)==37&&(s=((e[t+184>>2]|0)+s|0)%(o|0)|0),e[t+184>>2]=s}if(e[t+180>>2]=(e[t+180>>2]|0)+1,e[t+160>>2]=1,A[t+194>>0]=0,o=e[t+168>>2]|0,s=e[t+172>>2]|0,o?a=+(s>>>0)/+(o>>>0):a=0,i[t+176>>2]=a,e[t+172>>2]=s>>>1,e[t+168>>2]=o>>>1,g=e[t+136>>2]|0,!(Ct[e[(e[g>>2]|0)+56>>2]&127](g)|0)){H=C;return}for(g=e[t+136>>2]|0,g=Ct[e[(e[g>>2]|0)+28>>2]&127](g)|0,s=e[g+4>>2]|0,(s|0)>1?(Ac(g,0,s+-1|0),l=0,u=0,_=0,o=0,S=44):(l=0,m=0,d=0,o=0);(S|0)==44&&(S=0,s=e[g+4>>2]|0,m=u,d=_),!((l|0)>=(s|0));)h=e[g+12>>2]|0,u=h+(l<<4)|0,_=e[u>>2]|0,h=h+(l<<4)+4|0,s=e[h>>2]|0,(_|0)==(d|0)&(s|0)==(o|0)?(s=o,S=53):(o=e[_+48>>2]|0,d=e[s+48>>2]|0,+i[o>>2]<=+i[d+16>>2]&&+i[o+16>>2]>=+i[d>>2]&&+i[o+4>>2]<=+i[d+20>>2]&&+i[o+20>>2]>=+i[d+4>>2]&&+i[o+8>>2]<=+i[d+24>>2]&&+i[o+24>>2]>=+i[d+8>>2]?(o=s,s=m):S=53),(S|0)==53&&(o=e[t+136>>2]|0,f0[e[(e[o>>2]|0)+32>>2]&127](o,u,n),e[u>>2]=0,e[h>>2]=0,o=s,s=m+1|0),l=l+1|0,u=s,S=44;if((s|0)>1?(Ac(g,0,s+-1|0),u=e[g+4>>2]|0):u=s,_=u-m|0,(m|0)<0){if((e[g+8>>2]|0)<(_|0)){if((u|0)!=(m|0))if(e[5637]=(e[5637]|0)+1,s=Xe((_<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[g+4>>2]|0,(o|0)>0){l=0;do S=e[g+12>>2]|0,e[s+(l<<4)>>2]=e[S+(l<<4)>>2],e[s+(l<<4)+4>>2]=e[S+(l<<4)+4>>2],e[s+(l<<4)+8>>2]=e[S+(l<<4)+8>>2],e[s+(l<<4)+12>>2]=e[S+(l<<4)+12>>2],l=l+1|0;while((l|0)!=(o|0));o=g+12|0}else o=g+12|0;else s=0,o=g+12|0;l=e[o>>2]|0,l|0&&(A[g+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[o>>2]=0),A[g+16>>0]=1,e[o>>2]=s,e[g+8>>2]=_}else o=g+12|0;s=u;do S=(e[o>>2]|0)+(s<<4)|0,s=s+1|0,e[S>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,e[S+12>>2]=0;while((s|0)!=(_|0))}e[g+4>>2]=_,H=C}function are(t){return t=t|0,e[t+136>>2]|0}function cre(t){return t=t|0,e[t+136>>2]|0}function lre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0;m=e[t+4>>2]|0,t=e[t+64>>2]|0;do if(!m)t?(o=+i[t>>2],g=+i[t+12>>2],_=+i[t+16>>2],d=+i[t+20>>2],l=+i[t+24>>2],h=+i[t+28>>2],u=+i[t+4>>2],a=+i[t+8>>2]):(o=0,g=0,_=0,d=0,l=0,h=0,u=0,a=0);else{if(o=+i[m>>2],!t){g=+i[m+12>>2],_=+i[m+16>>2],d=+i[m+20>>2],l=+i[m+24>>2],h=+i[m+28>>2],u=+i[m+4>>2],a=+i[m+8>>2];break}h=+i[t>>2],o=o<h?o:h,h=+i[m+16>>2],_=+i[t+16>>2],_=h>_?h:_,h=+i[m+4>>2],u=+i[t+4>>2],u=h<u?h:u,h=+i[m+20>>2],d=+i[t+20>>2],d=h>d?h:d,h=+i[m+8>>2],a=+i[t+8>>2],a=h<a?h:a,h=+i[m+24>>2],l=+i[t+24>>2],h>l?(g=0,l=h,h=0):(g=0,h=0)}while(!1);i[n>>2]=o,i[n+4>>2]=u,i[n+8>>2]=a,i[n+12>>2]=g,i[s>>2]=_,i[s+4>>2]=d,i[s+8>>2]=l,i[s+12>>2]=h}function ure(t,n){t=t|0,n=n|0,(e[t+16>>2]|0)==(0-(e[t+76>>2]|0)|0)&&(n=e[t+4>>2]|0,n|0&&xu(t+4|0,n),n=e[t+8>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+8>>2]=0,e[t+12>>2]=-1,n=e[t+36>>2]|0,n|0&&(A[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),A[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,e[t+20>>2]=0,n=e[t+64>>2]|0,n|0&&xu(t+64|0,n),n=e[t+68>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+68>>2]=0,e[t+72>>2]=-1,n=e[t+96>>2]|0,n|0&&(A[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+96>>2]=0),A[t+100>>0]=1,e[t+96>>2]=0,e[t+88>>2]=0,e[t+92>>2]=0,e[t+80>>2]=0,A[t+193>>0]=0,A[t+194>>0]=1,e[t+144>>2]=0,e[t+164>>2]=0,e[t+148>>2]=1,e[t+152>>2]=0,e[t+156>>2]=10,e[t+160>>2]=1,e[t+124>>2]=0,e[t+124+4>>2]=0,e[t+124+8>>2]=0,e[t+168>>2]=0,e[t+168+4>>2]=0,e[t+168+8>>2]=0,e[t+168+12>>2]=0,e[t+168+16>>2]=0,e[t+168+20>>2]=0)}function fre(t){t=t|0}function Nm(t,n){t=t|0,n=n|0;var s=0;if(e[t>>2]=2692,A[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,A[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=-1,e[t+16>>2]=0,e[t+20>>2]=0,A[t+100>>0]=1,e[t+96>>2]=0,e[t+88>>2]=0,e[t+92>>2]=0,A[t+120>>0]=1,e[t+116>>2]=0,e[t+108>>2]=0,e[t+112>>2]=0,e[t+64>>2]=0,e[t+68>>2]=0,e[t+72>>2]=-1,e[t+76>>2]=0,e[t+80>>2]=0,A[t+193>>0]=0,A[t+194>>0]=1,A[t+192>>0]=(n|0)!=0^1,i[t+140>>2]=0,e[t+144>>2]=0,e[t+164>>2]=0,e[t+148>>2]=1,e[t+152>>2]=0,e[t+156>>2]=10,e[t+160>>2]=1,e[t+168>>2]=0,e[t+172>>2]=0,i[t+176>>2]=0,n|0){s=n,n=t+136|0,e[n>>2]=s,n=t+188|0,e[n>>2]=0,n=t+180|0,e[n>>2]=0,n=t+184|0,e[n>>2]=0,t=t+124|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0;return}e[5637]=(e[5637]|0)+1,n=Xe(91)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,lp(n),s=t+136|0,e[s>>2]=n,s=t+188|0,e[s>>2]=0,s=t+180|0,e[s>>2]=0,s=t+184|0,e[s>>2]=0,s=t+124|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0}function pre(t){t=t|0}function Dm(t){t=t|0;var n=0;if(e[t>>2]=2864,n=e[t+60>>2]|0,n|0&&(A[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+60>>2]=0),A[t+64>>0]=1,e[t+60>>2]=0,e[t+52>>2]=0,e[t+56>>2]=0,n=e[t+40>>2]|0,n|0&&(A[t+44>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+40>>2]=0),A[t+44>>0]=1,e[t+40>>2]=0,e[t+32>>2]=0,e[t+36>>2]=0,n=e[t+16>>2]|0,!n){A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0;return}A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0}function _re(t){t=t|0,Dm(t),ye(t)}function hre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;if(e[4986]=(e[4986]|0)+1,o=e[t+24>>2]|0,o){if(!(V0[e[(e[o>>2]|0)+8>>2]&63](o,n,s)|0))return t=0,t|0}else if(o=e[n+4>>2]|0,!((ee[s+6>>1]&(o&65535))<<16>>16)||!((ee[s+4>>1]&(o>>>16&65535))<<16>>16))return t=0,t|0;h=(e[n+12>>2]|0)>(e[s+12>>2]|0),d=h?s:n,a=e[d+12>>2]|0,h=h?n:s,n=e[h+12>>2]|0,u=((n<<16|a)+~((n<<16|a)<<15)>>10^(n<<16|a)+~((n<<16|a)<<15))*9|0,u=(u>>6^u)+~((u>>6^u)<<11)>>16^(u>>6^u)+~((u>>6^u)<<11),_=e[t+12>>2]|0,o=e[(e[t+40>>2]|0)+((u&_+-1)<<2)>>2]|0;e:do if((o|0)!=-1){for(s=e[t+16>>2]|0;!((e[(e[s+(o<<4)>>2]|0)+12>>2]|0)==(a|0)&&(e[(e[s+(o<<4)+4>>2]|0)+12>>2]|0)==(n|0));)if(o=e[(e[t+60>>2]|0)+(o<<2)>>2]|0,(o|0)==-1)break e;if(o=s+(o<<4)|0,o|0)return t=o,t|0}while(!1);if(l=e[t+8>>2]|0,(l|0)==(_|0))if(o=_|0?_<<1:1,(_|0)<(o|0)){if(o?(e[5637]=(e[5637]|0)+1,n=Xe((o<<4|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,s=e[t+8>>2]|0):(n=0,s=_),(s|0)>0){a=0;do m=e[t+16>>2]|0,e[n+(a<<4)>>2]=e[m+(a<<4)>>2],e[n+(a<<4)+4>>2]=e[m+(a<<4)+4>>2],e[n+(a<<4)+8>>2]=e[m+(a<<4)+8>>2],e[n+(a<<4)+12>>2]=e[m+(a<<4)+12>>2],a=a+1|0;while((a|0)!=(s|0))}a=e[t+16>>2]|0,a&&(A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),s=e[t+8>>2]|0),e[t+16>>2]=0),A[t+20>>0]=1,e[t+16>>2]=n,e[t+12>>2]=o}else s=_,o=_;else s=l,o=_;return e[t+8>>2]=s+1,s=e[t+16>>2]|0,n=e[t+68>>2]|0,n&&(V0[e[(e[n>>2]|0)+8>>2]&63](n,d,h)|0,o=e[t+12>>2]|0),(_|0)<(o|0)?(kh(t),o=(e[t+12>>2]|0)+-1&u):o=u&_+-1,m=(e[d+12>>2]|0)<(e[h+12>>2]|0),e[s+(l<<4)>>2]=m?d:h,e[s+(l<<4)+4>>2]=m?h:d,e[s+(l<<4)+8>>2]=0,e[s+(l<<4)+8+4>>2]=0,m=(e[t+40>>2]|0)+(o<<2)|0,e[(e[t+60>>2]|0)+(l<<2)>>2]=e[m>>2],e[m>>2]=l,m=s+(l<<4)|0,m|0}function kh(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0;if(u=e[t+12>>2]|0,_=e[t+32>>2]|0,!((u|0)<=(_|0))){if((u|0)>=(_|0)){do if((e[t+36>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,n=Xe((u<<2|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,s=e[t+32>>2]|0):(n=0,s=_),o=e[t+40>>2]|0,(s|0)<=0){if(!o){A[t+44>>0]=1,e[t+40>>2]=n,e[t+36>>2]=u;break}}else{a=0;do e[n+(a<<2)>>2]=e[o+(a<<2)>>2],a=a+1|0;while((a|0)!=(s|0))}A[t+44>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),A[t+44>>0]=1,e[t+40>>2]=n,e[t+36>>2]=u}else n=e[t+40>>2]|0;while(!1);ln(n+(_<<2)|0,0,u-_<<2|0)|0}if(e[t+32>>2]=u,l=e[t+52>>2]|0,(u|0)>(l|0)){do if((e[t+56>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,n=Xe((u<<2|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,s=e[t+52>>2]|0):(n=0,s=l),o=e[t+60>>2]|0,(s|0)<=0){if(!o){A[t+64>>0]=1,e[t+60>>2]=n,e[t+56>>2]=u;break}}else{a=0;do e[n+(a<<2)>>2]=e[o+(a<<2)>>2],a=a+1|0;while((a|0)!=(s|0))}A[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),A[t+64>>0]=1,e[t+60>>2]=n,e[t+56>>2]=u}else n=e[t+60>>2]|0;while(!1);ln(n+(l<<2)|0,0,u-l<<2|0)|0}if(e[t+52>>2]=u,(u|0)>0&&(ln(e[t+40>>2]|0,-1,u<<2|0)|0,ln(e[t+60>>2]|0,-1,u<<2|0)|0),!((_|0)<=0)){n=e[t+16>>2]|0,s=e[t+40>>2]|0,o=e[t+60>>2]|0,a=0;do u=e[(e[n+(a<<4)+4>>2]|0)+12>>2]<<16|e[(e[n+(a<<4)>>2]|0)+12>>2],u=(u+~(u<<15)>>10^u+~(u<<15))*9|0,u=s+((((u>>6^u)+~((u>>6^u)<<11)>>16^(u>>6^u)+~((u>>6^u)<<11))&(e[t+12>>2]|0)+-1)<<2)|0,e[o+(a<<2)>>2]=e[u>>2],e[u>>2]=a,a=a+1|0;while((a|0)!=(_|0))}}}function dre(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0;if(e[4985]=(e[4985]|0)+1,h=(e[n+12>>2]|0)>(e[s+12>>2]|0),m=h?s:n,u=e[m+12>>2]|0,h=h?n:s,a=e[h+12>>2]|0,_=((a<<16|u)+~((a<<16|u)<<15)>>10^(a<<16|u)+~((a<<16|u)<<15))*9|0,_=((_>>6^_)+~((_>>6^_)<<11)>>16^(_>>6^_)+~((_>>6^_)<<11))&(e[t+12>>2]|0)+-1,n=e[(e[t+40>>2]|0)+(_<<2)>>2]|0,(n|0)==-1)return C=0,C|0;for(l=e[t+16>>2]|0,s=n;!((e[(e[l+(s<<4)>>2]|0)+12>>2]|0)==(u|0)&&(e[(e[l+(s<<4)+4>>2]|0)+12>>2]|0)==(a|0));)if(n=e[(e[t+60>>2]|0)+(s<<2)>>2]|0,(n|0)==-1){n=0,C=24;break}else s=n;if((C|0)==24)return n|0;if(n=l+(s<<4)|0,!n)return C=0,C|0;if(f0[e[(e[t>>2]|0)+32>>2]&127](t,n,o),S=e[l+(s<<4)+12>>2]|0,g=n-(e[t+16>>2]|0)>>4,u=(e[t+40>>2]|0)+(_<<2)|0,n=e[u>>2]|0,s=e[t+60>>2]|0,(n|0)!=(g|0)){for(l=n;a=s+(l<<2)|0,n=e[a>>2]|0,(n|0)!=(g|0);)l=n;n=e[s+(g<<2)>>2]|0,(l|0)==-1?C=12:e[a>>2]=n}else n=e[s+(g<<2)>>2]|0,C=12;if((C|0)==12&&(e[u>>2]=n),d=(e[t+8>>2]|0)+-1|0,n=e[t+68>>2]|0,n|0&&$2[e[(e[n>>2]|0)+12>>2]&31](n,m,h,o)|0,(d|0)==(g|0))return e[t+8>>2]=(e[t+8>>2]|0)+-1,C=S,C|0;if(h=e[t+16>>2]|0,u=e[(e[h+(d<<4)+4>>2]|0)+12>>2]<<16|e[(e[h+(d<<4)>>2]|0)+12>>2],u=(u+~(u<<15)>>10^u+~(u<<15))*9|0,u=((u>>6^u)+~((u>>6^u)<<11)>>16^(u>>6^u)+~((u>>6^u)<<11))&(e[t+12>>2]|0)+-1,_=(e[t+40>>2]|0)+(u<<2)|0,n=e[_>>2]|0,s=e[t+60>>2]|0,(n|0)!=(d|0)){for(l=n;a=s+(l<<2)|0,n=e[a>>2]|0,(n|0)!=(d|0);)l=n;n=e[s+(d<<2)>>2]|0,(l|0)==-1?C=22:e[a>>2]=n}else n=e[s+(d<<2)>>2]|0,C=22;return(C|0)==22&&(e[_>>2]=n),e[h+(g<<4)>>2]=e[h+(d<<4)>>2],e[h+(g<<4)+4>>2]=e[h+(d<<4)+4>>2],e[h+(g<<4)+8>>2]=e[h+(d<<4)+8>>2],e[h+(g<<4)+12>>2]=e[h+(d<<4)+12>>2],C=(e[t+40>>2]|0)+(u<<2)|0,e[(e[t+60>>2]|0)+(g<<2)>>2]=e[C>>2],e[C>>2]=g,e[t+8>>2]=(e[t+8>>2]|0)+-1,C=S,C|0}function mre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;o=H,H=H+16|0,e[o>>2]=2940,e[o+4>>2]=n,f0[e[(e[t>>2]|0)+48>>2]&127](t,o,s),H=o}function gre(t){t=t|0}function xre(t){t=t|0,ye(t)}function yre(t,n){return t=t|0,n=n|0,t=e[t+4>>2]|0,((e[n>>2]|0)==(t|0)?1:(e[n+4>>2]|0)==(t|0))|0}function vre(t){return t=t|0,e[t+16>>2]|0}function Sre(t){return t=t|0,e[t+16>>2]|0}function Tre(t){return t=t|0,t+4|0}function Cre(t,n,s){t=t|0,n=n|0,s=s|0,t=e[n+8>>2]|0,(s|0)!=0&(t|0)!=0&&(Vt[e[e[t>>2]>>2]&255](t),zt[e[(e[s>>2]|0)+60>>2]&127](s,e[n+8>>2]|0),e[n+8>>2]=0)}function wre(t){return t=t|0,e[t+8>>2]|0}function Mre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;o=H,H=H+16|0,e[o>>2]=2960,e[o+4>>2]=n,e[o+8>>2]=t,e[o+12>>2]=s,f0[e[(e[t>>2]|0)+48>>2]&127](t,o,s),H=o}function Rre(t){t=t|0,ye(t)}function Are(t,n){t=t|0,n=n|0;var s=0;return s=e[t+4>>2]|0,(e[n>>2]|0)!=(s|0)&&(e[n+4>>2]|0)!=(s|0)||(s=e[t+8>>2]|0,f0[e[(e[s>>2]|0)+32>>2]&127](s,n,e[t+12>>2]|0)),0}function Ere(t,n){t=t|0,n=n|0,e[t+24>>2]=n}function bre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;if(!((e[t+8>>2]|0)<=0)){l=0;e:for(;;){for(;o=e[t+16>>2]|0,a=o+(l<<4)|0,!!(I0[e[(e[n>>2]|0)+8>>2]&31](n,a)|0);)if($2[e[(e[t>>2]|0)+12>>2]&31](t,e[a>>2]|0,e[o+(l<<4)+4>>2]|0,s)|0,e[4984]=(e[4984]|0)+-1,(l|0)>=(e[t+8>>2]|0)){o=7;break e}if(l=l+1|0,(l|0)>=(e[t+8>>2]|0)){o=7;break}}o|0}}function Nre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;if(e[4987]=(e[4987]|0)+1,o=(e[n+12>>2]|0)>(e[s+12>>2]|0),a=e[(o?s:n)+12>>2]|0,o=e[(o?n:s)+12>>2]|0,n=((o<<16|a)+~((o<<16|a)<<15)>>10^(o<<16|a)+~((o<<16|a)<<15))*9|0,n=((n>>6^n)+~((n>>6^n)<<11)>>16^(n>>6^n)+~((n>>6^n)<<11))&(e[t+12>>2]|0)+-1,(n|0)>=(e[t+32>>2]|0)||(n=e[(e[t+40>>2]|0)+(n<<2)>>2]|0,(n|0)==-1))return l=0,l|0;for(s=e[t+16>>2]|0;!((e[(e[s+(n<<4)>>2]|0)+12>>2]|0)==(a|0)&&(e[(e[s+(n<<4)+4>>2]|0)+12>>2]|0)==(o|0));)if(n=e[(e[t+60>>2]|0)+(n<<2)>>2]|0,(n|0)==-1){n=0,l=8;break}return(l|0)==8?n|0:(l=s+(n<<4)|0,l|0)}function Dre(t){return t=t|0,0}function Ire(t,n){t=t|0,n=n|0,e[t+68>>2]=n}function Pre(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0;if(S=H,H=H+32|0,A[S+16>>0]=1,e[S+12>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,s=e[t+8>>2]|0,(s|0)>0){a=0,l=0,o=0,m=0;do{if(h=e[t+16>>2]|0,d=h+(m<<4)|0,(a|0)==(o|0))if(_=o|0?o<<1:1,(o|0)<(_|0)){if(_?(e[5637]=(e[5637]|0)+1,s=Xe((_<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,l=s+4+15&-16,o=a):(l=0,o=a)):l=0,(o|0)>0){s=0;do u=e[S+12>>2]|0,e[l+(s<<4)>>2]=e[u+(s<<4)>>2],e[l+(s<<4)+4>>2]=e[u+(s<<4)+4>>2],e[l+(s<<4)+8>>2]=e[u+(s<<4)+8>>2],e[l+(s<<4)+12>>2]=e[u+(s<<4)+12>>2],s=s+1|0;while((s|0)!=(o|0))}s=e[S+12>>2]|0,s?(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),e[S+12>>2]=0):a=o,A[S+16>>0]=1,e[S+12>>2]=l,e[S+8>>2]=_,u=a,o=_,s=e[t+8>>2]|0}else u=o;else u=a;e[l+(u<<4)>>2]=e[d>>2],e[l+(u<<4)+4>>2]=e[h+(m<<4)+4>>2],e[l+(u<<4)+8>>2]=e[h+(m<<4)+8>>2],e[l+(u<<4)+12>>2]=e[h+(m<<4)+12>>2],a=u+1|0,m=m+1|0}while((m|0)<(s|0));if(e[S+4>>2]=a,(u|0)>-1)for(s=e[S+12>>2]|0,o=0;$2[e[(e[t>>2]|0)+12>>2]&31](t,e[s+(o<<4)>>2]|0,e[s+(o<<4)+4>>2]|0,n)|0,(o|0)<(u|0);)o=o+1|0}else a=0;if((e[t+52>>2]|0)>0){s=e[t+60>>2]|0,o=0;do e[s+(o<<2)>>2]=-1,o=o+1|0;while((o|0)<(e[t+52>>2]|0))}if((a|0)<=1?(a|0)>0?g=24:s=e[S+12>>2]|0:(Ac(S,0,a+-1|0),g=24),(g|0)==24){s=e[S+12>>2]|0,o=0;do V0[e[(e[t>>2]|0)+8>>2]&63](t,e[s+(o<<4)>>2]|0,e[s+(o<<4)+4>>2]|0)|0,o=o+1|0;while((o|0)<(a|0))}if(!s){H=S;return}e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),e[S+12>>2]=0,H=S}function lp(t){t=t|0;var n=0,s=0,o=0,a=0;if(e[t>>2]=2864,A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[t+24>>2]=0,A[t+44>>0]=1,e[t+40>>2]=0,e[t+32>>2]=0,e[t+36>>2]=0,A[t+64>>0]=1,e[t+60>>2]=0,e[t+52>>2]=0,e[t+56>>2]=0,e[t+68>>2]=0,e[5637]=(e[5637]|0)+1,n=Xe(51)|0,n?(e[(n+4+15&-16)+-4>>2]=n,o=n+4+15&-16):o=0,n=e[t+8>>2]|0,(n|0)>0){s=0;do a=e[t+16>>2]|0,e[o+(s<<4)>>2]=e[a+(s<<4)>>2],e[o+(s<<4)+4>>2]=e[a+(s<<4)+4>>2],e[o+(s<<4)+8>>2]=e[a+(s<<4)+8>>2],e[o+(s<<4)+12>>2]=e[a+(s<<4)+12>>2],s=s+1|0;while((s|0)!=(n|0))}if(n=e[t+16>>2]|0,!n){A[t+20>>0]=1,e[t+16>>2]=o,e[t+12>>2]=2,kh(t);return}A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,A[t+20>>0]=1,e[t+16>>2]=o,e[t+12>>2]=2,kh(t)}function up(t){t=t|0;var n=0;if(e[t>>2]=2980,n=e[t+160>>2]|0,n|0&&(A[t+164>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+160>>2]=0),A[t+164>>0]=1,e[t+160>>2]=0,e[t+152>>2]=0,e[t+156>>2]=0,n=e[t+136>>2]|0,n|0&&(A[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+136>>2]=0),A[t+140>>0]=1,e[t+136>>2]=0,e[t+128>>2]=0,e[t+132>>2]=0,n=e[t+116>>2]|0,n|0&&(A[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+116>>2]=0),A[t+120>>0]=1,e[t+116>>2]=0,e[t+108>>2]=0,e[t+112>>2]=0,n=e[t+96>>2]|0,n|0&&(A[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+96>>2]=0),A[t+100>>0]=1,e[t+96>>2]=0,e[t+88>>2]=0,e[t+92>>2]=0,n=e[t+76>>2]|0,!n){A[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,t=t+72|0,e[t>>2]=0;return}A[t+80>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+76>>2]=0,A[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,t=t+72|0,e[t>>2]=0}function Lre(t){t=t|0,up(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Im(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0;if(e[t+168>>2]=e[t+152>>2],e[n>>2]=2980,e[n+52>>2]=284,A[n+60>>0]=0,A[n+80>>0]=1,e[n+76>>2]=0,e[n+68>>2]=0,e[n+72>>2]=0,A[n+100>>0]=1,e[n+96>>2]=0,e[n+88>>2]=0,e[n+92>>2]=0,A[n+120>>0]=1,e[n+116>>2]=0,e[n+108>>2]=0,e[n+112>>2]=0,A[n+140>>0]=1,e[n+136>>2]=0,e[n+128>>2]=0,e[n+132>>2]=0,e[n+144>>2]=0,A[n+164>>0]=1,e[n+160>>2]=0,e[n+152>>2]=0,e[n+156>>2]=0,e[n+168>>2]=0,e[n+4>>2]=-8388609,e[n+8>>2]=-8388609,e[n+12>>2]=-8388609,i[n+16>>2]=0,e[n+20>>2]=2139095039,e[n+24>>2]=2139095039,e[n+28>>2]=2139095039,i[n+32>>2]=0,s=e[t+56>>2]|0,o?(e[n+56>>2]=Po(s|0)|0,A[n+4>>0]=A[t+4+3>>0]|0,A[n+5>>0]=A[t+4+2>>0]|0,A[n+6>>0]=A[t+4+1>>0]|0,A[n+7>>0]=A[t+4>>0]|0,A[n+8>>0]=A[t+8+3>>0]|0,A[n+9>>0]=A[t+8+2>>0]|0,A[n+10>>0]=A[t+8+1>>0]|0,A[n+11>>0]=A[t+8>>0]|0,A[n+12>>0]=A[t+12+3>>0]|0,A[n+13>>0]=A[t+12+2>>0]|0,A[n+14>>0]=A[t+12+1>>0]|0,A[n+15>>0]=A[t+12>>0]|0,A[n+16>>0]=A[t+16+3>>0]|0,A[n+17>>0]=A[t+16+2>>0]|0,A[n+18>>0]=A[t+16+1>>0]|0,A[n+19>>0]=A[t+16>>0]|0,A[n+20>>0]=A[t+20+3>>0]|0,A[n+21>>0]=A[t+20+2>>0]|0,A[n+22>>0]=A[t+20+1>>0]|0,A[n+23>>0]=A[t+20>>0]|0,A[n+24>>0]=A[t+24+3>>0]|0,A[n+25>>0]=A[t+24+2>>0]|0,A[n+26>>0]=A[t+24+1>>0]|0,A[n+27>>0]=A[t+24>>0]|0,A[n+28>>0]=A[t+28+3>>0]|0,A[n+29>>0]=A[t+28+2>>0]|0,A[n+30>>0]=A[t+28+1>>0]|0,A[n+31>>0]=A[t+28>>0]|0,A[n+32>>0]=A[t+32+3>>0]|0,A[n+33>>0]=A[t+32+2>>0]|0,A[n+34>>0]=A[t+32+1>>0]|0,A[n+35>>0]=A[t+32>>0]|0,A[n+36>>0]=A[t+36+3>>0]|0,A[n+37>>0]=A[t+36+2>>0]|0,A[n+38>>0]=A[t+36+1>>0]|0,A[n+39>>0]=A[t+36>>0]|0,A[n+40>>0]=A[t+40+3>>0]|0,A[n+41>>0]=A[t+40+2>>0]|0,A[n+42>>0]=A[t+40+1>>0]|0,A[n+43>>0]=A[t+40>>0]|0,A[n+44>>0]=A[t+44+3>>0]|0,A[n+45>>0]=A[t+44+2>>0]|0,A[n+46>>0]=A[t+44+1>>0]|0,A[n+47>>0]=A[t+44>>0]|0,A[n+48>>0]=A[t+48+3>>0]|0,A[n+49>>0]=A[t+48+2>>0]|0,A[n+50>>0]=A[t+48+1>>0]|0,A[n+51>>0]=A[t+48>>0]|0,e[n+144>>2]=Po(e[t+144>>2]|0)|0,s=Po(e[t+168>>2]|0)|0):(e[n+56>>2]=s,e[n+4>>2]=e[t+4>>2],e[n+4+4>>2]=e[t+4+4>>2],e[n+4+8>>2]=e[t+4+8>>2],e[n+4+12>>2]=e[t+4+12>>2],e[n+20>>2]=e[t+20>>2],e[n+20+4>>2]=e[t+20+4>>2],e[n+20+8>>2]=e[t+20+8>>2],e[n+20+12>>2]=e[t+20+12>>2],e[n+36>>2]=e[t+36>>2],e[n+36+4>>2]=e[t+36+4>>2],e[n+36+8>>2]=e[t+36+8>>2],e[n+36+12>>2]=e[t+36+12>>2],e[n+144>>2]=e[t+144>>2],s=e[t+168>>2]|0),e[n+168>>2]=s,A[n+60>>0]=A[t+60>>0]|0,u=e[t+56>>2]|0,A[t+60>>0]|0){if(s=e[n+136>>2]|0,s|0&&(A[n+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[n+136>>2]=0),e[n+128>>2]=0,e[n+128+4>>2]=0,e[n+128+8>>2]=0,A[n+128+12>>0]=0,e[n+136>>2]=n+172,e[n+128>>2]=u,e[n+132>>2]=u,o){if((u|0)>0){s=e[t+136>>2]|0,a=0;do d=Le[s+(a<<4)>>1]|0,ee[n+172+(a<<4)>>1]=d>>>8|d<<8,d=Le[s+(a<<4)+2>>1]|0,ee[n+172+(a<<4)+2>>1]=d>>>8|d<<8,d=Le[s+(a<<4)+4>>1]|0,ee[n+172+(a<<4)+4>>1]=d>>>8|d<<8,d=Le[s+(a<<4)+6>>1]|0,ee[n+172+(a<<4)+6>>1]=d>>>8|d<<8,d=Le[s+(a<<4)+8>>1]|0,ee[n+172+(a<<4)+8>>1]=d>>>8|d<<8,d=Le[s+(a<<4)+10>>1]|0,ee[n+172+(a<<4)+10>>1]=d>>>8|d<<8,e[n+172+(a<<4)+12>>2]=Po(e[s+(a<<4)+12>>2]|0)|0,a=a+1|0;while((a|0)!=(u|0))}}else if((u|0)>0){s=e[t+136>>2]|0,a=0;do ee[n+172+(a<<4)>>1]=ee[s+(a<<4)>>1]|0,ee[n+172+(a<<4)+2>>1]=ee[s+(a<<4)+2>>1]|0,ee[n+172+(a<<4)+4>>1]=ee[s+(a<<4)+4>>1]|0,ee[n+172+(a<<4)+6>>1]=ee[s+(a<<4)+6>>1]|0,ee[n+172+(a<<4)+8>>1]=ee[s+(a<<4)+8>>1]|0,ee[n+172+(a<<4)+10>>1]=ee[s+(a<<4)+10>>1]|0,e[n+172+(a<<4)+12>>2]=e[s+(a<<4)+12>>2],a=a+1|0;while((a|0)!=(u|0))}e[n+136>>2]|0&&(e[n+136>>2]=0),e[n+128>>2]=0,e[n+128+4>>2]=0,e[n+128+8>>2]=0,A[n+128+12>>0]=0,s=u<<4}else{if(s=e[n+96>>2]|0,s|0&&(A[n+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[n+96>>2]=0),e[n+88>>2]=0,e[n+88+4>>2]=0,e[n+88+8>>2]=0,A[n+88+12>>0]=0,e[n+96>>2]=n+172,e[n+88>>2]=u,e[n+92>>2]=u,o)if((u|0)>0){a=e[t+96>>2]|0,s=n+172|0,l=0;do _=a+(l<<6)|0,d=s+(l<<6)|0,A[d>>0]=A[_+3>>0]|0,A[d+1>>0]=A[_+2>>0]|0,A[d+2>>0]=A[_+1>>0]|0,A[d+3>>0]=A[_>>0]|0,d=a+(l<<6)+4|0,_=s+(l<<6)+4|0,A[_>>0]=A[d+3>>0]|0,A[_+1>>0]=A[d+2>>0]|0,A[_+2>>0]=A[d+1>>0]|0,A[_+3>>0]=A[d>>0]|0,_=a+(l<<6)+8|0,d=s+(l<<6)+8|0,A[d>>0]=A[_+3>>0]|0,A[d+1>>0]=A[_+2>>0]|0,A[d+2>>0]=A[_+1>>0]|0,A[d+3>>0]=A[_>>0]|0,d=a+(l<<6)+12|0,s=s+(l<<6)+12|0,A[s>>0]=A[d+3>>0]|0,A[s+1>>0]=A[d+2>>0]|0,A[s+2>>0]=A[d+1>>0]|0,A[s+3>>0]=A[d>>0]|0,s=e[t+96>>2]|0,d=s+(l<<6)+16|0,_=e[n+96>>2]|0,h=_+(l<<6)+16|0,A[h>>0]=A[d+3>>0]|0,A[h+1>>0]=A[d+2>>0]|0,A[h+2>>0]=A[d+1>>0]|0,A[h+3>>0]=A[d>>0]|0,h=s+(l<<6)+20|0,d=_+(l<<6)+20|0,A[d>>0]=A[h+3>>0]|0,A[d+1>>0]=A[h+2>>0]|0,A[d+2>>0]=A[h+1>>0]|0,A[d+3>>0]=A[h>>0]|0,d=s+(l<<6)+24|0,h=_+(l<<6)+24|0,A[h>>0]=A[d+3>>0]|0,A[h+1>>0]=A[d+2>>0]|0,A[h+2>>0]=A[d+1>>0]|0,A[h+3>>0]=A[d>>0]|0,s=s+(l<<6)+28|0,_=_+(l<<6)+28|0,A[_>>0]=A[s+3>>0]|0,A[_+1>>0]=A[s+2>>0]|0,A[_+2>>0]=A[s+1>>0]|0,A[_+3>>0]=A[s>>0]|0,a=e[t+96>>2]|0,_=Po(e[a+(l<<6)+32>>2]|0)|0,s=e[n+96>>2]|0,e[s+(l<<6)+32>>2]=_,e[s+(l<<6)+36>>2]=Po(e[a+(l<<6)+36>>2]|0)|0,e[s+(l<<6)+40>>2]=Po(e[a+(l<<6)+40>>2]|0)|0,l=l+1|0;while((l|0)!=(u|0))}else s=n+172|0;else if((u|0)>0){s=n+172|0,a=e[t+96>>2]|0,l=0;do s=s+(l<<6)|0,d=a+(l<<6)|0,e[s>>2]=e[d>>2],e[s+4>>2]=e[d+4>>2],e[s+8>>2]=e[d+8>>2],e[s+12>>2]=e[d+12>>2],s=(e[n+96>>2]|0)+(l<<6)+16|0,d=(e[t+96>>2]|0)+(l<<6)+16|0,e[s>>2]=e[d>>2],e[s+4>>2]=e[d+4>>2],e[s+8>>2]=e[d+8>>2],e[s+12>>2]=e[d+12>>2],a=e[t+96>>2]|0,s=e[n+96>>2]|0,e[s+(l<<6)+32>>2]=e[a+(l<<6)+32>>2],e[s+(l<<6)+36>>2]=e[a+(l<<6)+36>>2],e[s+(l<<6)+40>>2]=e[a+(l<<6)+40>>2],l=l+1|0;while((l|0)!=(u|0))}else s=n+172|0;s|0&&(A[n+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[n+96>>2]=0),e[n+88>>2]=0,e[n+88+4>>2]=0,e[n+88+8>>2]=0,A[n+88+12>>0]=0,s=u<<6}if(u=n+172+s|0,s=e[t+168>>2]|0,a=e[n+160>>2]|0,a|0&&(A[n+164>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[n+160>>2]=0),e[n+152>>2]=0,e[n+152+4>>2]=0,e[n+152+8>>2]=0,A[n+152+12>>0]=0,e[n+160>>2]=u,e[n+152>>2]=s,e[n+156>>2]=s,l=e[t+168>>2]|0,o){if((l|0)>0){s=e[t+160>>2]|0,a=0;do d=Le[s+(a<<5)>>1]|0,ee[u+(a<<5)>>1]=d>>>8|d<<8,d=Le[s+(a<<5)+2>>1]|0,ee[u+(a<<5)+2>>1]=d>>>8|d<<8,d=Le[s+(a<<5)+4>>1]|0,ee[u+(a<<5)+4>>1]=d>>>8|d<<8,d=Le[s+(a<<5)+6>>1]|0,ee[u+(a<<5)+6>>1]=d>>>8|d<<8,d=Le[s+(a<<5)+8>>1]|0,ee[u+(a<<5)+8>>1]=d>>>8|d<<8,d=Le[s+(a<<5)+10>>1]|0,ee[u+(a<<5)+10>>1]=d>>>8|d<<8,e[u+(a<<5)+12>>2]=Po(e[s+(a<<5)+12>>2]|0)|0,e[u+(a<<5)+16>>2]=Po(e[s+(a<<5)+16>>2]|0)|0,a=a+1|0;while((a|0)!=(l|0))}}else if((l|0)>0){s=e[t+160>>2]|0,a=0;do ee[u+(a<<5)>>1]=ee[s+(a<<5)>>1]|0,ee[u+(a<<5)+2>>1]=ee[s+(a<<5)+2>>1]|0,ee[u+(a<<5)+4>>1]=ee[s+(a<<5)+4>>1]|0,ee[u+(a<<5)+6>>1]=ee[s+(a<<5)+6>>1]|0,ee[u+(a<<5)+8>>1]=ee[s+(a<<5)+8>>1]|0,ee[u+(a<<5)+10>>1]=ee[s+(a<<5)+10>>1]|0,e[u+(a<<5)+12>>2]=e[s+(a<<5)+12>>2],e[u+(a<<5)+16>>2]=e[s+(a<<5)+16>>2],e[u+(a<<5)+20>>2]=0,e[u+(a<<5)+24>>2]=0,e[u+(a<<5)+28>>2]=0,a=a+1|0;while((a|0)<(e[t+168>>2]|0))}return e[n+160>>2]|0?(e[n+160>>2]=0,e[n>>2]=0,e[n+152>>2]=0,e[n+152+4>>2]=0,e[n+152+8>>2]=0,A[n+152+12>>0]=0,1):(e[n>>2]=0,e[n+152>>2]=0,e[n+152+4>>2]=0,e[n+152+8>>2]=0,A[n+152+12>>0]=0,1)}function kre(t){return t=t|0,84}function Fre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0;if(e[n+16>>2]=e[t+20>>2],e[n+20>>2]=e[t+24>>2],e[n+24>>2]=e[t+28>>2],e[n+28>>2]=e[t+32>>2],e[n>>2]=e[t+4>>2],e[n+4>>2]=e[t+8>>2],e[n+8>>2]=e[t+12>>2],e[n+12>>2]=e[t+16>>2],e[n+32>>2]=e[t+36>>2],e[n+36>>2]=e[t+40>>2],e[n+40>>2]=e[t+44>>2],e[n+44>>2]=e[t+48>>2],e[n+48>>2]=e[t+56>>2],e[n+52>>2]=It[t+60>>0],_=e[t+88>>2]|0,e[n+56>>2]=_,_){if(_=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+96>>2]|0)|0,e[n+64>>2]=_,_|0){if(a=e[t+88>>2]|0,_=V0[e[(e[s>>2]|0)+16>>2]&63](s,48,a)|0,(a|0)>0)for(o=e[t+96>>2]|0,l=0,u=e[_+8>>2]|0;e[u+16>>2]=e[o+(l<<6)+16>>2],e[u+20>>2]=e[o+(l<<6)+20>>2],e[u+24>>2]=e[o+(l<<6)+24>>2],e[u+28>>2]=e[o+(l<<6)+28>>2],e[u>>2]=e[o+(l<<6)>>2],e[u+4>>2]=e[o+(l<<6)+4>>2],e[u+8>>2]=e[o+(l<<6)+8>>2],e[u+12>>2]=e[o+(l<<6)+12>>2],e[u+32>>2]=e[o+(l<<6)+32>>2],e[u+36>>2]=e[o+(l<<6)+36>>2],e[u+40>>2]=e[o+(l<<6)+40>>2],l=l+1|0,(l|0)!=(a|0);)u=u+48|0;else o=e[t+96>>2]|0;Qi[e[(e[s>>2]|0)+20>>2]&31](s,_,8969,1497453121,o)}}else e[n+64>>2]=0;if(_=e[t+128>>2]|0,e[n+60>>2]=_,_){if(_=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+136>>2]|0)|0,e[n+68>>2]=_,_|0){if(a=e[t+128>>2]|0,_=V0[e[(e[s>>2]|0)+16>>2]&63](s,16,a)|0,(a|0)>0)for(o=e[t+136>>2]|0,l=0,u=e[_+8>>2]|0;e[u+12>>2]=e[o+(l<<4)+12>>2],ee[u+6>>1]=ee[o+(l<<4)+6>>1]|0,ee[u+8>>1]=ee[o+(l<<4)+8>>1]|0,ee[u+10>>1]=ee[o+(l<<4)+10>>1]|0,ee[u>>1]=ee[o+(l<<4)>>1]|0,ee[u+2>>1]=ee[o+(l<<4)+2>>1]|0,ee[u+4>>1]=ee[o+(l<<4)+4>>1]|0,l=l+1|0,(l|0)!=(a|0);)u=u+16|0;else o=e[t+136>>2]|0;Qi[e[(e[s>>2]|0)+20>>2]&31](s,_,8992,1497453121,o)}}else e[n+68>>2]=0;if(e[n+76>>2]=e[t+144>>2],_=e[t+152>>2]|0,e[n+80>>2]=_,!_)return e[n+72>>2]=0,9036;if(_=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+160>>2]|0)|0,e[n+72>>2]=_,!_)return 9036;if(u=e[t+152>>2]|0,_=V0[e[(e[s>>2]|0)+16>>2]&63](s,20,u)|0,(u|0)>0)for(o=e[t+160>>2]|0,a=0,l=e[_+8>>2]|0;ee[l+14>>1]=ee[o+(a<<5)+6>>1]|0,ee[l+16>>1]=ee[o+(a<<5)+8>>1]|0,ee[l+18>>1]=ee[o+(a<<5)+10>>1]|0,ee[l+8>>1]=ee[o+(a<<5)>>1]|0,ee[l+10>>1]=ee[o+(a<<5)+2>>1]|0,ee[l+12>>1]=ee[o+(a<<5)+4>>1]|0,e[l>>2]=e[o+(a<<5)+12>>2],e[l+4>>2]=e[o+(a<<5)+16>>2],a=a+1|0,(a|0)!=(u|0);)l=l+20|0;else o=e[t+160>>2]|0;return Qi[e[(e[s>>2]|0)+20>>2]&31](s,_,9015,1497453121,o),9036}function Bre(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;m=H,H=H+112|0,e[t+20>>2]=e[n+16>>2],e[t+24>>2]=e[n+20>>2],e[t+28>>2]=e[n+24>>2],e[t+32>>2]=e[n+28>>2],e[t+4>>2]=e[n>>2],e[t+8>>2]=e[n+4>>2],e[t+12>>2]=e[n+8>>2],e[t+16>>2]=e[n+12>>2],e[t+36>>2]=e[n+32>>2],e[t+40>>2]=e[n+36>>2],e[t+44>>2]=e[n+40>>2],e[t+48>>2]=e[n+44>>2],e[t+56>>2]=e[n+48>>2],A[t+60>>0]=(e[n+52>>2]|0)!=0&1,d=e[n+56>>2]|0,l=m+48|0,_=l+64|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(_|0));if(h=e[t+88>>2]|0,(h|0)<(d|0)){if((e[t+92>>2]|0)<(d|0)){if(d?(e[5637]=(e[5637]|0)+1,s=Xe(d<<6|19)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+88>>2]|0):(s=0,o=h),(o|0)>0){a=0;do{l=s+(a<<6)|0,u=(e[t+96>>2]|0)+(a<<6)|0,_=l+64|0;do e[l>>2]=e[u>>2],l=l+4|0,u=u+4|0;while((l|0)<(_|0));a=a+1|0}while((a|0)!=(o|0))}o=e[t+96>>2]|0,o|0&&(A[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+96>>2]=0),A[t+100>>0]=1,e[t+96>>2]=s,e[t+92>>2]=d,o=t+96|0}else o=t+96|0;s=h;do{l=(e[o>>2]|0)+(s<<6)|0,u=m+48|0,_=l+64|0;do e[l>>2]=e[u>>2],l=l+4|0,u=u+4|0;while((l|0)<(_|0));s=s+1|0}while((s|0)!=(d|0))}if(e[t+88>>2]=d,(d|0)>0)for(s=e[t+96>>2]|0,o=0,a=e[n+64>>2]|0;e[s+(o<<6)+16>>2]=e[a+16>>2],e[s+(o<<6)+20>>2]=e[a+20>>2],e[s+(o<<6)+24>>2]=e[a+24>>2],e[s+(o<<6)+28>>2]=e[a+28>>2],e[s+(o<<6)>>2]=e[a>>2],e[s+(o<<6)+4>>2]=e[a+4>>2],e[s+(o<<6)+8>>2]=e[a+8>>2],e[s+(o<<6)+12>>2]=e[a+12>>2],e[s+(o<<6)+32>>2]=e[a+32>>2],e[s+(o<<6)+36>>2]=e[a+36>>2],e[s+(o<<6)+40>>2]=e[a+40>>2],o=o+1|0,(o|0)!=(d|0);)a=a+48|0;if(u=e[n+60>>2]|0,e[m+32>>2]=0,e[m+32+4>>2]=0,e[m+32+8>>2]=0,e[m+32+12>>2]=0,l=e[t+128>>2]|0,(l|0)<(u|0)){if((e[t+132>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,s=Xe((u<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+128>>2]|0):(s=0,o=l),(o|0)>0){a=0;do d=s+(a<<4)|0,h=(e[t+136>>2]|0)+(a<<4)|0,e[d>>2]=e[h>>2],e[d+4>>2]=e[h+4>>2],e[d+8>>2]=e[h+8>>2],e[d+12>>2]=e[h+12>>2],a=a+1|0;while((a|0)!=(o|0))}o=e[t+136>>2]|0,o|0&&(A[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+136>>2]=0),A[t+140>>0]=1,e[t+136>>2]=s,e[t+132>>2]=u,o=t+136|0}else o=t+136|0;s=l;do d=(e[o>>2]|0)+(s<<4)|0,e[d>>2]=e[m+32>>2],e[d+4>>2]=e[m+32+4>>2],e[d+8>>2]=e[m+32+8>>2],e[d+12>>2]=e[m+32+12>>2],s=s+1|0;while((s|0)!=(u|0))}if(e[t+128>>2]=u,(u|0)>0)for(s=e[t+136>>2]|0,o=0,a=e[n+68>>2]|0;e[s+(o<<4)+12>>2]=e[a+12>>2],ee[s+(o<<4)+6>>1]=ee[a+6>>1]|0,ee[s+(o<<4)+8>>1]=ee[a+8>>1]|0,ee[s+(o<<4)+10>>1]=ee[a+10>>1]|0,ee[s+(o<<4)>>1]=ee[a>>1]|0,ee[s+(o<<4)+2>>1]=ee[a+2>>1]|0,ee[s+(o<<4)+4>>1]=ee[a+4>>1]|0,o=o+1|0,(o|0)!=(u|0);)a=a+16|0;if(e[t+144>>2]=e[n+76>>2],u=e[n+80>>2]|0,l=e[t+152>>2]|0,(l|0)<(u|0)){if((e[t+156>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,s=Xe(u<<5|19)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+152>>2]|0):(s=0,o=l),(o|0)>0){a=0;do d=s+(a<<5)|0,h=(e[t+160>>2]|0)+(a<<5)|0,e[d>>2]=e[h>>2],e[d+4>>2]=e[h+4>>2],e[d+8>>2]=e[h+8>>2],e[d+12>>2]=e[h+12>>2],e[d+16>>2]=e[h+16>>2],e[d+20>>2]=e[h+20>>2],e[d+24>>2]=e[h+24>>2],e[d+28>>2]=e[h+28>>2],a=a+1|0;while((a|0)!=(o|0))}o=e[t+160>>2]|0,o|0&&(A[t+164>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+160>>2]=0),A[t+164>>0]=1,e[t+160>>2]=s,e[t+156>>2]=u,o=t+160|0}else o=t+160|0;s=l;do d=(e[o>>2]|0)+(s<<5)|0,e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],e[d+16>>2]=e[m+16>>2],e[d+20>>2]=e[m+20>>2],e[d+24>>2]=e[m+24>>2],e[d+28>>2]=e[m+28>>2],s=s+1|0;while((s|0)!=(u|0))}if(e[t+152>>2]=u,(u|0)<=0){H=m;return}for(o=e[t+160>>2]|0,a=0,s=e[n+72>>2]|0;ee[o+(a<<5)+6>>1]=ee[s+14>>1]|0,ee[o+(a<<5)+8>>1]=ee[s+16>>1]|0,ee[o+(a<<5)+10>>1]=ee[s+18>>1]|0,ee[o+(a<<5)>>1]=ee[s+8>>1]|0,ee[o+(a<<5)+2>>1]=ee[s+10>>1]|0,ee[o+(a<<5)+4>>1]=ee[s+12>>1]|0,e[o+(a<<5)+12>>2]=e[s>>2],e[o+(a<<5)+16>>2]=e[s+4>>2],a=a+1|0,(a|0)!=(u|0);)s=s+20|0;H=m}function Ure(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;m=H,H=H+112|0,i[t+20>>2]=+Mt[n+32>>3],i[t+24>>2]=+Mt[n+40>>3],i[t+28>>2]=+Mt[n+48>>3],i[t+32>>2]=+Mt[n+56>>3],i[t+4>>2]=+Mt[n>>3],i[t+8>>2]=+Mt[n+8>>3],i[t+12>>2]=+Mt[n+16>>3],i[t+16>>2]=+Mt[n+24>>3],i[t+36>>2]=+Mt[n+64>>3],i[t+40>>2]=+Mt[n+72>>3],i[t+44>>2]=+Mt[n+80>>3],i[t+48>>2]=+Mt[n+88>>3],e[t+56>>2]=e[n+96>>2],A[t+60>>0]=(e[n+100>>2]|0)!=0&1,d=e[n+104>>2]|0,l=m+48|0,_=l+64|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(_|0));if(h=e[t+88>>2]|0,(h|0)<(d|0)){if((e[t+92>>2]|0)<(d|0)){if(d?(e[5637]=(e[5637]|0)+1,s=Xe(d<<6|19)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+88>>2]|0):(s=0,o=h),(o|0)>0){a=0;do{l=s+(a<<6)|0,u=(e[t+96>>2]|0)+(a<<6)|0,_=l+64|0;do e[l>>2]=e[u>>2],l=l+4|0,u=u+4|0;while((l|0)<(_|0));a=a+1|0}while((a|0)!=(o|0))}o=e[t+96>>2]|0,o|0&&(A[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+96>>2]=0),A[t+100>>0]=1,e[t+96>>2]=s,e[t+92>>2]=d,o=t+96|0}else o=t+96|0;s=h;do{l=(e[o>>2]|0)+(s<<6)|0,u=m+48|0,_=l+64|0;do e[l>>2]=e[u>>2],l=l+4|0,u=u+4|0;while((l|0)<(_|0));s=s+1|0}while((s|0)!=(d|0))}if(e[t+88>>2]=d,(d|0)>0)for(s=e[t+96>>2]|0,o=0,a=e[n+112>>2]|0;i[s+(o<<6)+16>>2]=+Mt[a+32>>3],i[s+(o<<6)+20>>2]=+Mt[a+40>>3],i[s+(o<<6)+24>>2]=+Mt[a+48>>3],i[s+(o<<6)+28>>2]=+Mt[a+56>>3],i[s+(o<<6)>>2]=+Mt[a>>3],i[s+(o<<6)+4>>2]=+Mt[a+8>>3],i[s+(o<<6)+8>>2]=+Mt[a+16>>3],i[s+(o<<6)+12>>2]=+Mt[a+24>>3],e[s+(o<<6)+32>>2]=e[a+64>>2],e[s+(o<<6)+36>>2]=e[a+68>>2],e[s+(o<<6)+40>>2]=e[a+72>>2],o=o+1|0,(o|0)!=(d|0);)a=a+80|0;if(u=e[n+108>>2]|0,e[m+32>>2]=0,e[m+32+4>>2]=0,e[m+32+8>>2]=0,e[m+32+12>>2]=0,l=e[t+128>>2]|0,(l|0)<(u|0)){if((e[t+132>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,s=Xe((u<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+128>>2]|0):(s=0,o=l),(o|0)>0){a=0;do d=s+(a<<4)|0,h=(e[t+136>>2]|0)+(a<<4)|0,e[d>>2]=e[h>>2],e[d+4>>2]=e[h+4>>2],e[d+8>>2]=e[h+8>>2],e[d+12>>2]=e[h+12>>2],a=a+1|0;while((a|0)!=(o|0))}o=e[t+136>>2]|0,o|0&&(A[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+136>>2]=0),A[t+140>>0]=1,e[t+136>>2]=s,e[t+132>>2]=u,o=t+136|0}else o=t+136|0;s=l;do d=(e[o>>2]|0)+(s<<4)|0,e[d>>2]=e[m+32>>2],e[d+4>>2]=e[m+32+4>>2],e[d+8>>2]=e[m+32+8>>2],e[d+12>>2]=e[m+32+12>>2],s=s+1|0;while((s|0)!=(u|0))}if(e[t+128>>2]=u,(u|0)>0)for(s=e[t+136>>2]|0,o=0,a=e[n+116>>2]|0;e[s+(o<<4)+12>>2]=e[a+12>>2],ee[s+(o<<4)+6>>1]=ee[a+6>>1]|0,ee[s+(o<<4)+8>>1]=ee[a+8>>1]|0,ee[s+(o<<4)+10>>1]=ee[a+10>>1]|0,ee[s+(o<<4)>>1]=ee[a>>1]|0,ee[s+(o<<4)+2>>1]=ee[a+2>>1]|0,ee[s+(o<<4)+4>>1]=ee[a+4>>1]|0,o=o+1|0,(o|0)!=(u|0);)a=a+16|0;if(e[t+144>>2]=e[n+120>>2],u=e[n+124>>2]|0,l=e[t+152>>2]|0,(l|0)<(u|0)){if((e[t+156>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,s=Xe(u<<5|19)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+152>>2]|0):(s=0,o=l),(o|0)>0){a=0;do d=s+(a<<5)|0,h=(e[t+160>>2]|0)+(a<<5)|0,e[d>>2]=e[h>>2],e[d+4>>2]=e[h+4>>2],e[d+8>>2]=e[h+8>>2],e[d+12>>2]=e[h+12>>2],e[d+16>>2]=e[h+16>>2],e[d+20>>2]=e[h+20>>2],e[d+24>>2]=e[h+24>>2],e[d+28>>2]=e[h+28>>2],a=a+1|0;while((a|0)!=(o|0))}o=e[t+160>>2]|0,o|0&&(A[t+164>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+160>>2]=0),A[t+164>>0]=1,e[t+160>>2]=s,e[t+156>>2]=u,o=t+160|0}else o=t+160|0;s=l;do d=(e[o>>2]|0)+(s<<5)|0,e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],e[d+16>>2]=e[m+16>>2],e[d+20>>2]=e[m+20>>2],e[d+24>>2]=e[m+24>>2],e[d+28>>2]=e[m+28>>2],s=s+1|0;while((s|0)!=(u|0))}if(e[t+152>>2]=u,(u|0)<=0){H=m;return}for(o=e[t+160>>2]|0,a=0,s=e[n+128>>2]|0;ee[o+(a<<5)+6>>1]=ee[s+14>>1]|0,ee[o+(a<<5)+8>>1]=ee[s+16>>1]|0,ee[o+(a<<5)+10>>1]=ee[s+18>>1]|0,ee[o+(a<<5)>>1]=ee[s+8>>1]|0,ee[o+(a<<5)+2>>1]=ee[s+10>>1]|0,ee[o+(a<<5)+4>>1]=ee[s+12>>1]|0,e[o+(a<<5)+12>>2]=e[s>>2],e[o+(a<<5)+16>>2]=e[s+4>>2],a=a+1|0,(a|0)!=(u|0);)s=s+20|0;H=m}function Fh(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0;if(X=H,H=H+112|0,Y=e[t+56>>2]|0,(s-n|0)==1){if(A[t+60>>0]|0)q=(e[t+136>>2]|0)+(Y<<4)|0,$=(e[t+116>>2]|0)+(n<<4)|0,e[q>>2]=e[$>>2],e[q+4>>2]=e[$+4>>2],e[q+8>>2]=e[$+8>>2],e[q+12>>2]=e[$+12>>2];else{d=(e[t+96>>2]|0)+(Y<<6)|0,m=(e[t+76>>2]|0)+(n<<6)|0,g=d+64|0;do e[d>>2]=e[m>>2],d=d+4|0,m=m+4|0;while((d|0)<(g|0))}e[t+56>>2]=(e[t+56>>2]|0)+1,H=X;return}if((s|0)>(n|0)){if(u=(A[t+60>>0]|0)==0,u){o=e[t+76>>2]|0,a=n,_=0,h=0,l=0;do _=_+(+i[o+(a<<6)+16>>2]+ +i[o+(a<<6)>>2])*.5,l=l+(+i[o+(a<<6)+20>>2]+ +i[o+(a<<6)+4>>2])*.5,h=h+(+i[o+(a<<6)+24>>2]+ +i[o+(a<<6)+8>>2])*.5,a=a+1|0;while((a|0)!=(s|0))}else{o=e[t+116>>2]|0,S=+i[t+36>>2],C=+i[t+40>>2],w=+i[t+44>>2],D=+i[t+4>>2],N=+i[t+8>>2],B=+i[t+12>>2],a=n,_=0,h=0,l=0;do _=_+(+(Le[o+(a<<4)+6>>1]|0)/S+D+(+(Le[o+(a<<4)>>1]|0)/S+D))*.5,l=l+(+(Le[o+(a<<4)+8>>1]|0)/C+N+(+(Le[o+(a<<4)+2>>1]|0)/C+N))*.5,h=h+(+(Le[o+(a<<4)+10>>1]|0)/w+B+(+(Le[o+(a<<4)+4>>1]|0)/w+B))*.5,a=a+1|0;while((a|0)!=(s|0))}if(L=1/+(s-n|0),V=L*_,U=L*l,L=L*h,u){o=e[t+76>>2]|0,a=n,h=0,_=0,l=0;do D=(+i[o+(a<<6)+16>>2]+ +i[o+(a<<6)>>2])*.5-V,N=(+i[o+(a<<6)+20>>2]+ +i[o+(a<<6)+4>>2])*.5-U,B=(+i[o+(a<<6)+24>>2]+ +i[o+(a<<6)+8>>2])*.5-L,h=h+D*D,l=l+N*N,_=_+B*B,a=a+1|0;while((a|0)!=(s|0));S=+(s-n|0)}else{o=e[t+116>>2]|0,S=+i[t+36>>2],C=+i[t+40>>2],w=+i[t+44>>2],D=+i[t+4>>2],N=+i[t+8>>2],B=+i[t+12>>2],a=n,h=0,_=0,l=0;do te=(+(Le[o+(a<<4)+6>>1]|0)/S+D+(+(Le[o+(a<<4)>>1]|0)/S+D))*.5-V,W=(+(Le[o+(a<<4)+8>>1]|0)/C+N+(+(Le[o+(a<<4)+2>>1]|0)/C+N))*.5-U,ne=(+(Le[o+(a<<4)+10>>1]|0)/w+B+(+(Le[o+(a<<4)+4>>1]|0)/w+B))*.5-L,h=h+te*te,l=l+W*W,_=_+ne*ne,a=a+1|0;while((a|0)!=(s|0));S=+(s-n|0)}}else S=+(s-n|0),h=0,_=0,l=0;if(te=1/(S+-1),W=te*h,ne=te*l,te=te*_,E=W<ne?ne<te?2:1:W<te?2:0,e[X+16>>2]=0,e[X+16+4>>2]=0,e[X+16+8>>2]=0,e[X+16+12>>2]=0,(s|0)>(n|0)){if(A[t+60>>0]|0){o=e[t+116>>2]|0,S=+i[t+36>>2],C=+i[t+40>>2],w=+i[t+44>>2],D=+i[t+4>>2],N=+i[t+8>>2],B=+i[t+12>>2],h=0,_=0,l=0,a=n;do h=(+(Le[o+(a<<4)+6>>1]|0)/S+D+(+(Le[o+(a<<4)>>1]|0)/S+D))*.5+h,_=(+(Le[o+(a<<4)+8>>1]|0)/C+N+(+(Le[o+(a<<4)+2>>1]|0)/C+N))*.5+_,l=(+(Le[o+(a<<4)+10>>1]|0)/w+B+(+(Le[o+(a<<4)+4>>1]|0)/w+B))*.5+l,a=a+1|0;while((a|0)!=(s|0))}else{o=e[t+76>>2]|0,h=0,_=0,l=0,a=n;do h=(+i[o+(a<<6)+16>>2]+ +i[o+(a<<6)>>2])*.5+h,_=(+i[o+(a<<6)+20>>2]+ +i[o+(a<<6)+4>>2])*.5+_,l=(+i[o+(a<<6)+24>>2]+ +i[o+(a<<6)+8>>2])*.5+l,a=a+1|0;while((a|0)!=(s|0))}i[X+16>>2]=h,i[X+16+4>>2]=_,i[X+16+8>>2]=l,o=X+16|0}else o=X+16|0,h=0,_=0,l=0;if(i[o>>2]=1/+(s-n|0)*h,i[X+16+4>>2]=1/+(s-n|0)*_,i[X+16+8>>2]=1/+(s-n|0)*l,D=+i[X+16+(E<<2)>>2],(s|0)>(n|0)){M=n,o=n;do{if(a=(A[t+60>>0]|0)==0,a?(z=e[t+76>>2]|0,l=+i[z+(M<<6)>>2],_=+i[z+(M<<6)+16>>2],h=+i[z+(M<<6)+4>>2],S=+i[z+(M<<6)+20>>2],C=+i[z+(M<<6)+8>>2],w=+i[z+(M<<6)+24>>2]):(z=e[t+116>>2]|0,h=+i[t+36>>2],C=+i[t+40>>2],te=+i[t+44>>2],_=+i[t+4>>2],S=+i[t+8>>2],w=+i[t+12>>2],l=+(Le[z+(M<<4)>>1]|0)/h+_,_=+(Le[z+(M<<4)+6>>1]|0)/h+_,h=+(Le[z+(M<<4)+2>>1]|0)/C+S,S=+(Le[z+(M<<4)+8>>1]|0)/C+S,C=+(Le[z+(M<<4)+4>>1]|0)/te+w,w=+(Le[z+(M<<4)+10>>1]|0)/te+w),i[X>>2]=(_+l)*.5,i[X+4>>2]=(S+h)*.5,i[X+8>>2]=(w+C)*.5,i[X+12>>2]=0,+i[X+(E<<2)>>2]>D){if(a){a=e[t+76>>2]|0,u=a+(M<<6)|0,d=X+48|0,m=u,g=d+64|0;do e[d>>2]=e[m>>2],d=d+4|0,m=m+4|0;while((d|0)<(g|0));d=u,m=a+(o<<6)|0,g=d+64|0;do e[d>>2]=e[m>>2],d=d+4|0,m=m+4|0;while((d|0)<(g|0));d=(e[t+76>>2]|0)+(o<<6)|0,m=X+48|0,g=d+64|0;do e[d>>2]=e[m>>2],d=d+4|0,m=m+4|0;while((d|0)<(g|0))}else O=e[t+116>>2]|0,z=O+(M<<4)|0,e[X+48>>2]=e[z>>2],e[X+48+4>>2]=e[z+4>>2],e[X+48+8>>2]=e[z+8>>2],e[X+48+12>>2]=e[z+12>>2],O=O+(o<<4)|0,e[z>>2]=e[O>>2],e[z+4>>2]=e[O+4>>2],e[z+8>>2]=e[O+8>>2],e[z+12>>2]=e[O+12>>2],z=(e[t+116>>2]|0)+(o<<4)|0,e[z>>2]=e[X+48>>2],e[z+4>>2]=e[X+48+4>>2],e[z+8>>2]=e[X+48+8>>2],e[z+12>>2]=e[X+48+12>>2];o=o+1|0}M=M+1|0}while((M|0)!=(s|0))}else o=n;if((o|0)>(((s-n|0)/3|0)+n|0)&&(o|0)<(s+-1-((s-n|0)/3|0)|0)||(o=(s-n>>1)+n|0),z=e[t+56>>2]|0,A[t+60>>0]|0?(O=e[t+136>>2]|0,W=(+i[t+24>>2]-+i[t+8>>2])*+i[t+40>>2],te=(+i[t+28>>2]-+i[t+12>>2])*+i[t+44>>2],ee[O+(z<<4)>>1]=~~((+i[t+20>>2]-+i[t+4>>2])*+i[t+36>>2])&65534,ee[O+(z<<4)+2>>1]=~~W&65534,ee[O+(z<<4)+4>>1]=~~te&65534):(O=(e[t+96>>2]|0)+(z<<6)|0,e[O>>2]=e[t+20>>2],e[O+4>>2]=e[t+20+4>>2],e[O+8>>2]=e[t+20+8>>2],e[O+12>>2]=e[t+20+12>>2]),a=e[t+56>>2]|0,A[t+60>>0]|0?(O=e[t+136>>2]|0,ne=+i[t+4>>2],W=+i[t+8>>2],te=+i[t+12>>2],W=(W-W)*+i[t+40>>2],te=(te-te)*+i[t+44>>2],ee[O+(a<<4)+6>>1]=~~((ne-ne)*+i[t+36>>2]+1)&65535|1,ee[O+(a<<4)+8>>1]=~~(W+1)&65535|1,ee[O+(a<<4)+10>>1]=~~(te+1)&65535|1):(O=(e[t+96>>2]|0)+(a<<6)+16|0,e[O>>2]=e[t+4>>2],e[O+4>>2]=e[t+4+4>>2],e[O+8>>2]=e[t+4+8>>2],e[O+12>>2]=e[t+4+12>>2]),O=e[t+56>>2]|0,(s|0)>(n|0)){k=A[t+60>>0]|0,F=n;do k<<24>>24?(m=e[t+116>>2]|0,S=+i[t+36>>2],V=+i[t+40>>2],N=+i[t+44>>2],C=+i[t+4>>2],ne=+i[t+8>>2],B=+i[t+12>>2],w=+i[t+4>>2],W=+i[t+8>>2],L=+i[t+12>>2],D=+i[t+36>>2],te=+i[t+40>>2],U=+i[t+44>>2],g=~~((+(Le[m+(F<<4)>>1]|0)/S+C-w)*D)&65534,a=~~((+(Le[m+(F<<4)+4>>1]|0)/N+B-L)*U)&65534,d=~~((+(Le[m+(F<<4)+2>>1]|0)/V+ne-W)*te)&65534,M=(~~((+(Le[m+(F<<4)+6>>1]|0)/S+C-w)*D+1)&65535|1)&65535,u=(~~((+(Le[m+(F<<4)+10>>1]|0)/N+B-L)*U+1)&65535|1)&65535,m=(~~((+(Le[m+(F<<4)+8>>1]|0)/V+ne-W)*te+1)&65535|1)&65535,E=e[t+136>>2]|0,(Le[E+(O<<4)>>1]|0)>(g&65535)&&(ee[E+(O<<4)>>1]=g),(Le[E+(O<<4)+6>>1]|0)<(M&65535)&&(ee[E+(O<<4)+6>>1]=M),(Le[E+(O<<4)+2>>1]|0)>(d&65535)&&(ee[E+(O<<4)+2>>1]=d),(Le[E+(O<<4)+8>>1]|0)<(m&65535)&&(ee[E+(O<<4)+8>>1]=m),(Le[E+(O<<4)+4>>1]|0)>(a&65535)&&(ee[E+(O<<4)+4>>1]=a),(Le[E+(O<<4)+10>>1]|0)<(u&65535)&&(ee[E+(O<<4)+10>>1]=u)):(a=e[t+76>>2]|0,l=+i[a+(F<<6)>>2],_=+i[a+(F<<6)+4>>2],h=+i[a+(F<<6)+8>>2],S=+i[a+(F<<6)+12>>2],C=+i[a+(F<<6)+16>>2],w=+i[a+(F<<6)+20>>2],D=+i[a+(F<<6)+24>>2],N=+i[a+(F<<6)+28>>2],a=e[t+96>>2]|0,l<+i[a+(O<<6)>>2]&&(i[a+(O<<6)>>2]=l),_<+i[a+(O<<6)+4>>2]&&(i[a+(O<<6)+4>>2]=_),h<+i[a+(O<<6)+8>>2]&&(i[a+(O<<6)+8>>2]=h),S<+i[a+(O<<6)+12>>2]&&(i[a+(O<<6)+12>>2]=S),+i[a+(O<<6)+16>>2]<C&&(i[a+(O<<6)+16>>2]=C),+i[a+(O<<6)+20>>2]<w&&(i[a+(O<<6)+20>>2]=w),+i[a+(O<<6)+24>>2]<D&&(i[a+(O<<6)+24>>2]=D),+i[a+(O<<6)+28>>2]<N&&(i[a+(O<<6)+28>>2]=N)),F=F+1|0;while((F|0)!=(s|0))}if(e[t+56>>2]=O+1,Fh(t,n,o),k=e[t+56>>2]|0,Fh(t,o,s),E=(e[t+56>>2]|0)-Y|0,o=A[t+60>>0]|0,o<<24>>24!=0&(E<<4|0)>2048){if(g=e[t+136>>2]|0,d=e[g+(O+1<<4)+12>>2]|0,d=(d|0)>-1?1:0-d|0,M=e[g+(k<<4)+12>>2]|0,M=(M|0)>-1?1:0-M|0,(d<<4|0)<2049){if(m=e[t+152>>2]|0,(m|0)==(e[t+156>>2]|0)&&($=m|0?m<<1:1,(m|0)<($|0))){if($?(e[5637]=(e[5637]|0)+1,o=Xe($<<5|19)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+152>>2]|0):(o=0,a=m),(a|0)>0){u=0;do s=o+(u<<5)|0,Y=(e[t+160>>2]|0)+(u<<5)|0,e[s>>2]=e[Y>>2],e[s+4>>2]=e[Y+4>>2],e[s+8>>2]=e[Y+8>>2],e[s+12>>2]=e[Y+12>>2],e[s+16>>2]=e[Y+16>>2],e[s+20>>2]=e[Y+20>>2],e[s+24>>2]=e[Y+24>>2],e[s+28>>2]=e[Y+28>>2],u=u+1|0;while((u|0)!=(a|0))}a=e[t+160>>2]|0,a|0&&(A[t+164>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+160>>2]=0),A[t+164>>0]=1,e[t+160>>2]=o,e[t+156>>2]=$,o=e[t+152>>2]|0}else o=m;e[t+152>>2]=o+1,$=(e[t+160>>2]|0)+(m<<5)|0,e[$>>2]=e[X+48>>2],e[$+4>>2]=e[X+48+4>>2],e[$+8>>2]=e[X+48+8>>2],e[$+12>>2]=e[X+48+12>>2],e[$+16>>2]=e[X+48+16>>2],e[$+20>>2]=e[X+48+20>>2],e[$+24>>2]=e[X+48+24>>2],e[$+28>>2]=e[X+48+28>>2],$=e[t+160>>2]|0,ee[$+(m<<5)>>1]=ee[g+(O+1<<4)>>1]|0,ee[$+(m<<5)+2>>1]=ee[g+(O+1<<4)+2>>1]|0,ee[$+(m<<5)+4>>1]=ee[g+(O+1<<4)+4>>1]|0,ee[$+(m<<5)+6>>1]=ee[g+(O+1<<4)+6>>1]|0,ee[$+(m<<5)+8>>1]=ee[g+(O+1<<4)+8>>1]|0,ee[$+(m<<5)+10>>1]=ee[g+(O+1<<4)+10>>1]|0,e[$+(m<<5)+12>>2]=O+1,e[$+(m<<5)+16>>2]=d}if((M<<4|0)<2049){if(d=e[t+152>>2]|0,(d|0)==(e[t+156>>2]|0)&&(q=d|0?d<<1:1,(d|0)<(q|0))){if(q?(e[5637]=(e[5637]|0)+1,o=Xe(q<<5|19)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+152>>2]|0):(o=0,a=d),(a|0)>0){u=0;do $=o+(u<<5)|0,s=(e[t+160>>2]|0)+(u<<5)|0,e[$>>2]=e[s>>2],e[$+4>>2]=e[s+4>>2],e[$+8>>2]=e[s+8>>2],e[$+12>>2]=e[s+12>>2],e[$+16>>2]=e[s+16>>2],e[$+20>>2]=e[s+20>>2],e[$+24>>2]=e[s+24>>2],e[$+28>>2]=e[s+28>>2],u=u+1|0;while((u|0)!=(a|0))}a=e[t+160>>2]|0,a|0&&(A[t+164>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+160>>2]=0),A[t+164>>0]=1,e[t+160>>2]=o,e[t+156>>2]=q,o=e[t+152>>2]|0}else o=d;e[t+152>>2]=o+1,q=(e[t+160>>2]|0)+(d<<5)|0,e[q>>2]=e[X+16>>2],e[q+4>>2]=e[X+16+4>>2],e[q+8>>2]=e[X+16+8>>2],e[q+12>>2]=e[X+16+12>>2],e[q+16>>2]=e[X+16+16>>2],e[q+20>>2]=e[X+16+20>>2],e[q+24>>2]=e[X+16+24>>2],e[q+28>>2]=e[X+16+28>>2],q=e[t+160>>2]|0,ee[q+(d<<5)>>1]=ee[g+(k<<4)>>1]|0,ee[q+(d<<5)+2>>1]=ee[g+(k<<4)+2>>1]|0,ee[q+(d<<5)+4>>1]=ee[g+(k<<4)+4>>1]|0,ee[q+(d<<5)+6>>1]=ee[g+(k<<4)+6>>1]|0,ee[q+(d<<5)+8>>1]=ee[g+(k<<4)+8>>1]|0,ee[q+(d<<5)+10>>1]=ee[g+(k<<4)+10>>1]|0,e[q+(d<<5)+12>>2]=k,e[q+(d<<5)+16>>2]=M}e[t+168>>2]=e[t+152>>2],o=A[t+60>>0]|0}if(o<<24>>24){e[(e[t+136>>2]|0)+(z<<4)+12>>2]=0-E,H=X;return}else{e[(e[t+96>>2]|0)+(z<<6)+32>>2]=E,H=X;return}}function Ore(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0;if(D=H,H=H+16|0,!(A[t+60>>0]|0)){if(a=e[t+56>>2]|0,(a|0)>0)for(l=a,h=0,g=e[t+96>>2]|0,a=0;a=a+1|0,!(+i[s>>2]>+i[g+16>>2])&&!(+i[o>>2]<+i[g>>2])?u=1:u=0,!(+i[s+8>>2]>+i[g+24>>2])&&!(+i[o+8>>2]<+i[g+8>>2])||(u=0),!(+i[s+4>>2]>+i[g+20>>2])&&!(+i[o+4>>2]<+i[g+4>>2])?(_=e[g+32>>2]|0,u&(_|0)==-1?(f0[e[(e[n>>2]|0)+8>>2]&127](n,e[g+36>>2]|0,e[g+40>>2]|0),l=e[t+56>>2]|0,m=43):(d=(_|0)==-1,m=42)):(_=e[g+32>>2]|0,d=(_|0)==-1,u=0,m=42),(m|0)==42&&(m=0,d|u?m=43:(h=_+h|0,u=g+(_<<6)|0)),(m|0)==43&&(h=h+1|0,u=g+64|0),(h|0)<(l|0);)g=u;else a=0;if((e[4988]|0)>=(a|0)){H=D;return}e[4988]=a,H=D;return}switch(V=+i[s>>2],$=+i[s+4>>2],k=+i[s+8>>2],Y=+i[t+4>>2],V=V<Y?Y:V,B=+i[t+8>>2],$=$<B?B:$,U=+i[t+12>>2],k=k<U?U:k,q=+i[t+20>>2],F=+i[t+24>>2],O=+i[t+28>>2],z=+i[t+36>>2],N=+i[t+40>>2],L=+i[t+44>>2],E=~~(((q<V?q:V)-Y)*z)&65534,ee[D+6>>1]=E,w=~~(((O<k?O:k)-U)*L)&65534,M=~~(((F<$?F:$)-B)*N)&65534,ee[D+6+2>>1]=M,ee[D+6+4>>1]=w,$=+i[o>>2],k=+i[o+4>>2],V=+i[o+8>>2],$=$<Y?Y:$,k=k<B?B:k,V=V<U?U:V,C=(~~(((q<$?q:$)-Y)*z+1)&65535|1)&65535,ee[D>>1]=C,o=(~~(((O<V?O:V)-U)*L+1)&65535|1)&65535,S=(~~(((F<k?F:k)-B)*N+1)&65535|1)&65535,ee[D+2>>1]=S,ee[D+4>>1]=o,e[t+144>>2]|0){case 0:{if(m=e[t+56>>2]|0,(m|0)>0){l=0,u=e[t+136>>2]|0,a=0;do a=a+1|0,_=((C&65535)>=(Le[u>>1]|0)?(E&65535)<=(Le[u+6>>1]|0):0)&(w&65535)<=(Le[u+10>>1]|0)&(o&65535)>=(Le[u+4>>1]|0)&(M&65535)<=(Le[u+8>>1]|0)&(S&65535)>=(Le[u+2>>1]|0),h=u+12|0,d=e[h>>2]|0,(d|0)>-1&_&&f0[e[(e[n>>2]|0)+8>>2]&127](n,d>>21,d&2097151),_|(d|0)>-1?(l=l+1|0,u=u+16|0):(t=e[h>>2]|0,l=l-t|0,u=u+(0-t<<4)|0);while((l|0)<(m|0))}else a=0;(e[4988]|0)<(a|0)&&(e[4988]=a);break}case 1:{if((e[t+152>>2]|0)>0){s=0;do{if(a=e[t+160>>2]|0,((C&65535)>=(Le[a+(s<<5)>>1]|0)?(E&65535)<=(Le[a+(s<<5)+6>>1]|0):0)&(w&65535)<=(Le[a+(s<<5)+10>>1]|0)&(o&65535)>=(Le[a+(s<<5)+4>>1]|0)&(M&65535)<=(Le[a+(s<<5)+8>>1]|0)&(S&65535)>=(Le[a+(s<<5)+2>>1]|0)){if(g=e[a+(s<<5)+12>>2]|0,m=e[a+(s<<5)+16>>2]|0,(m|0)>0){l=g,u=(e[t+136>>2]|0)+(g<<4)|0,a=0;do a=a+1|0,_=((C&65535)>=(Le[u>>1]|0)?(E&65535)<=(Le[u+6>>1]|0):0)&(w&65535)<=(Le[u+10>>1]|0)&(o&65535)>=(Le[u+4>>1]|0)&(M&65535)<=(Le[u+8>>1]|0)&(S&65535)>=(Le[u+2>>1]|0),h=u+12|0,d=e[h>>2]|0,(d|0)>-1&_&&f0[e[(e[n>>2]|0)+8>>2]&127](n,d>>21,d&2097151),_|(d|0)>-1?(l=l+1|0,u=u+16|0):(d=e[h>>2]|0,l=l-d|0,u=u+(0-d<<4)|0);while((l|0)<(m+g|0))}else a=0;(e[4988]|0)<(a|0)&&(e[4988]=a)}s=s+1|0}while((s|0)<(e[t+152>>2]|0))}break}case 2:{Pm(e[t+136>>2]|0,n,D+6|0,D);break}default:}H=D}function Pm(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;for(var a=0,l=0,u=0;;){if(a=e[t+12>>2]|0,!(((Le[o>>1]|0)>=(Le[t>>1]|0)?(Le[s>>1]|0)<=(Le[t+6>>1]|0):0)&(Le[s+4>>1]|0)<=(Le[t+10>>1]|0)&(Le[o+4>>1]|0)>=(Le[t+4>>1]|0)&(Le[s+2>>1]|0)<=(Le[t+8>>1]|0)&(Le[o+2>>1]|0)>=(Le[t+2>>1]|0))){l=6;break}if((a|0)>-1)break;u=t+16|0,Pm(u,n,s,o),a=e[t+28>>2]|0,t=(a|0)>-1?t+32|0:u+(0-a<<4)|0}(l|0)!=6&&f0[e[(e[n>>2]|0)+8>>2]&127](n,a>>21,a&2097151)}function Lm(t,n,s,o,a,l,u,_){t=t|0,n=n|0,s=s|0,o=+o,a=+a,l=+l,u=u|0,_=_|0;var h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0;de=H,H=H+32|0,q=+i[s>>2],ne=+i[s+4>>2],xe=+i[s+8>>2],E=+i[u>>2],D=+i[u+4>>2],B=+i[u+8>>2],S=+i[_>>2],C=+i[_+4>>2],M=+i[_+8>>2],X=1/+at(+((o-q)*(o-q)+(a-ne)*(a-ne)+(l-xe)*(l-xe))),W=(o-q)*X==0?0xde0b6b000000000:1/((o-q)*X),te=(a-ne)*X==0?0xde0b6b000000000:1/((a-ne)*X),pe=(l-xe)*X==0?0xde0b6b000000000:1/((l-xe)*X),_e=(q>o?o:q)+E,he=(ne>a?a:ne)+D,me=(xe>l?l:xe)+B,re=(q<o?o:q)+S,oe=(ne<a?a:ne)+C,ae=(xe<l?l:xe)+M,d=e[t+56>>2]|0;e:do if((d|0)>0)for(k=0,F=e[t+96>>2]|0,h=0;;){if(h=h+1|0,e[de>>2]=e[F>>2],e[de+4>>2]=e[F+4>>2],e[de+8>>2]=e[F+8>>2],e[de+12>>2]=e[F+12>>2],N=F+16|0,e[de+16>>2]=e[N>>2],e[de+16+4>>2]=e[N+4>>2],e[de+16+8>>2]=e[N+8>>2],e[de+16+12>>2]=e[N+12>>2],i[de>>2]=+i[de>>2]-S,i[de+4>>2]=+i[de+4>>2]-C,i[de+8>>2]=+i[de+8>>2]-M,i[de+16>>2]=+i[de+16>>2]-E,i[de+20>>2]=+i[de+20>>2]-D,i[de+24>>2]=+i[de+24>>2]-B,!(_e>+i[N>>2])&&!(re<+i[F>>2])?m=1:m=0,!(me>+i[F+24>>2])&&!(ae<+i[F+8>>2])||(m=0),!(he>+i[F+20>>2])&&!(oe<+i[F+4>>2]|m^1)&&(U=+i[s>>2],L=W*(+i[de+((W<0&1)<<4)>>2]-U),U=W*(+i[de+((W<0^1)<<4)>>2]-U),O=+i[s+4>>2],V=te*(+i[de+((te<0&1)<<4)+4>>2]-O),O=te*(+i[de+((te<0^1)<<4)+4>>2]-O),!(V>U|L>O))&&(z=V>L?V:L,ve=O<U?O:U,$=+i[s+8>>2],Y=pe*(+i[de+((pe<0&1)<<4)+8>>2]-$),$=pe*(+i[de+((pe<0^1)<<4)+8>>2]-$),!(Y>ve|z>$))?(m=($<ve?$:ve)>0?(Y>z?Y:z)<(l-xe)*((l-xe)*X)+((o-q)*((o-q)*X)+(a-ne)*((a-ne)*X)):0,g=e[F+32>>2]|0,m&(g|0)==-1?(f0[e[(e[n>>2]|0)+8>>2]&127](n,e[F+36>>2]|0,e[F+40>>2]|0),d=e[t+56>>2]|0,N=17):(w=(g|0)==-1,N=16)):(g=e[F+32>>2]|0,w=(g|0)==-1,m=0,N=16),(N|0)==16&&(N=0,w|m?N=17:(w=g+k|0,m=F+(g<<6)|0)),(N|0)==17&&(w=k+1|0,m=F+64|0),(w|0)>=(d|0))break e;S=+i[_>>2],C=+i[_+4>>2],M=+i[_+8>>2],E=+i[u>>2],D=+i[u+4>>2],B=+i[u+8>>2],k=w,F=m}else h=0;while(!1);if((e[4988]|0)>=(h|0)){H=de;return}e[4988]=h,H=de}function km(t,n,s,o,a,l,u,_,h){t=t|0,n=n|0,s=s|0,o=+o,a=+a,l=+l,u=u|0,_=_|0,h=h|0;var d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0,ke=0,Ae=0,qe=0;if(xe=H,H=H+32|0,$=+i[s>>2],he=+i[s+4>>2],re=+i[s+8>>2],X=1/+at(+((o-$)*(o-$)+(a-he)*(a-he)+(l-re)*(l-re))),pe=(o-$)*X==0?0xde0b6b000000000:1/((o-$)*X),_e=(a-he)*X==0?0xde0b6b000000000:1/((a-he)*X),me=(l-re)*X==0?0xde0b6b000000000:1/((l-re)*X),qe=($>o?o:$)+ +i[u>>2],ke=(he>a?a:he)+ +i[u+4>>2],Ae=(re>l?l:re)+ +i[u+8>>2],Se=($<o?o:$)+ +i[_>>2],w=(he<a?a:he)+ +i[_+4>>2],fe=(re<l?l:re)+ +i[_+8>>2],be=+i[t+4>>2],qe=qe<be?be:qe,M=+i[t+8>>2],ke=ke<M?M:ke,de=+i[t+12>>2],Ae=Ae<de?de:Ae,ge=+i[t+20>>2],C=+i[t+24>>2],Ce=+i[t+28>>2],we=+i[t+36>>2],E=+i[t+40>>2],ve=+i[t+44>>2],oe=~~(((ge<qe?ge:qe)-be)*we)&65534,O=~~(((Ce<Ae?Ce:Ae)-de)*ve)&65534,Y=~~(((C<ke?C:ke)-M)*E)&65534,Se=Se<be?be:Se,w=w<M?M:w,fe=fe<de?de:fe,q=(~~(((ge<Se?ge:Se)-be)*we+1)&65535|1)&65535,V=(~~(((Ce<fe?Ce:fe)-de)*ve+1)&65535|1)&65535,z=(~~(((C<w?C:w)-M)*E+1)&65535|1)&65535,(h|0)>0){m=0,g=e[t+136>>2]|0,d=0;do{d=d+1|0,S=g+6|0,D=ee[g>>1]|0,N=g+10|0,B=ee[g+4>>1]|0,k=g+8|0,F=ee[g+2>>1]|0,L=g+12|0,U=(e[L>>2]|0)>-1;do if(((q&65535)>=(D&65535)?(oe&65535)<=(Le[S>>1]|0):0)&(O&65535)<=(Le[N>>1]|0)&(V&65535)>=(B&65535)&(Y&65535)<=(Le[k>>1]|0)&(z&65535)>=(F&65535)){if(Se=+i[t+36>>2],ke=+i[t+40>>2],qe=+i[t+44>>2],ge=+i[t+4>>2],Ae=+i[t+8>>2],M=+i[t+12>>2],i[xe+12>>2]=0,E=+(Le[S>>1]|0)/Se+ge,C=+(Le[k>>1]|0)/ke+Ae,w=+(Le[N>>1]|0)/qe+M,i[xe+28>>2]=0,i[xe>>2]=+(D&65535)/Se+ge-+i[_>>2],i[xe+4>>2]=+(F&65535)/ke+Ae-+i[_+4>>2],i[xe+8>>2]=+(B&65535)/qe+M-+i[_+8>>2],i[xe+16>>2]=E-+i[u>>2],i[xe+20>>2]=C-+i[u+4>>2],i[xe+24>>2]=w-+i[u+8>>2],w=+i[s>>2],C=pe*(+i[xe+((pe<0&1)<<4)>>2]-w),w=pe*(+i[xe+((pe<0^1)<<4)>>2]-w),E=+i[s+4>>2],M=_e*(+i[xe+((_e<0&1)<<4)+4>>2]-E),E=_e*(+i[xe+((_e<0^1)<<4)+4>>2]-E),!(M>w|C>E)&&(ne=M>C?M:C,ae=E<w?E:w,te=+i[s+8>>2],W=me*(+i[xe+((me<0&1)<<4)+8>>2]-te),te=me*(+i[xe+((me<0^1)<<4)+8>>2]-te),!(W>ae|ne>te))){if(S=(te<ae?te:ae)>0?(W>ne?W:ne)<(l-re)*((l-re)*X)+((o-$)*((o-$)*X)+(a-he)*((a-he)*X)):0,!(U&S)){D=9;break}D=e[L>>2]|0,f0[e[(e[n>>2]|0)+8>>2]&127](n,D>>21,D&2097151),D=10;break}S=0,D=9}else S=0,D=9;while(!1);(D|0)==9&&(D=0,U|S?D=10:(U=e[L>>2]|0,m=m-U|0,g=g+(0-U<<4)|0)),(D|0)==10&&(m=m+1|0,g=g+16|0)}while((m|0)<(h|0))}else d=0;if((e[4988]|0)>=(d|0)){H=xe;return}e[4988]=d,H=xe}function Gre(t){t=t|0;var n=0;e[t>>2]=3016,A[t+8>>0]|0&&(n=e[t+12>>2]|0,n&&(t=e[t+4>>2]|0,zt[e[(e[t>>2]|0)+16>>2]&127](t,n)))}function Vre(t){t=t|0;var n=0,s=0;if(e[t>>2]=3016,!(A[t+8>>0]|0)){ye(t);return}if(n=e[t+12>>2]|0,!n){ye(t);return}s=e[t+4>>2]|0,zt[e[(e[s>>2]|0)+16>>2]&127](s,n),ye(t)}function zre(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,_=0,h=0,d=0;if(_=H,H=H+144|0,l=e[t+12>>2]|0,!l){H=_;return}d=e[n+4>>2]|0,h=e[s+4>>2]|0,e[a+4>>2]=l,i[_+12+128>>2]=0xde0b6b000000000,n=e[n+12>>2]|0,e[_+12>>2]=e[n>>2],e[_+12+4>>2]=e[n+4>>2],e[_+12+8>>2]=e[n+8>>2],e[_+12+12>>2]=e[n+12>>2],e[_+12+16>>2]=e[n+16>>2],e[_+12+16+4>>2]=e[n+16+4>>2],e[_+12+16+8>>2]=e[n+16+8>>2],e[_+12+16+12>>2]=e[n+16+12>>2],e[_+12+32>>2]=e[n+32>>2],e[_+12+32+4>>2]=e[n+32+4>>2],e[_+12+32+8>>2]=e[n+32+8>>2],e[_+12+32+12>>2]=e[n+32+12>>2],e[_+12+48>>2]=e[n+48>>2],e[_+12+48+4>>2]=e[n+48+4>>2],e[_+12+48+8>>2]=e[n+48+8>>2],e[_+12+48+12>>2]=e[n+48+12>>2],s=e[s+12>>2]|0,e[_+12+64>>2]=e[s>>2],e[_+12+64+4>>2]=e[s+4>>2],e[_+12+64+8>>2]=e[s+8>>2],e[_+12+64+12>>2]=e[s+12>>2],e[_+12+80>>2]=e[s+16>>2],e[_+12+80+4>>2]=e[s+16+4>>2],e[_+12+80+8>>2]=e[s+16+8>>2],e[_+12+80+12>>2]=e[s+16+12>>2],e[_+12+96>>2]=e[s+32>>2],e[_+12+96+4>>2]=e[s+32+4>>2],e[_+12+96+8>>2]=e[s+32+8>>2],e[_+12+96+12>>2]=e[s+32+12>>2],e[_+12+112>>2]=e[s+48>>2],e[_+12+112+4>>2]=e[s+48+4>>2],e[_+12+112+8>>2]=e[s+48+8>>2],e[_+12+112+12>>2]=e[s+48+12>>2],e[_>>2]=3044,e[_+4>>2]=d,e[_+8>>2]=h,U6(_,_+12|0,a,e[o+20>>2]|0,0);do if(A[t+8>>0]|0&&(u=e[a+4>>2]|0,e[u+748>>2]|0))if(n=e[u+740>>2]|0,s=e[(e[a+8>>2]|0)+8>>2]|0,l=e[(e[a+12>>2]|0)+8>>2]|0,(n|0)==(s|0)){m2(u,n+4|0,l+4|0);break}else{m2(u,l+4|0,s+4|0);break}while(!1);H=_}function Wre(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,1}function Hre(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+12>>2]|0,!!s&&A[t+8>>0]|0){if(o=e[n+4>>2]|0,(o|0)==(e[n+8>>2]|0)&&(l=o|0?o<<1:1,(o|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[n+4>>2]|0):s=0,(o|0)>0){a=0;do e[s+(a<<2)>>2]=e[(e[n+12>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[n+12>>2]|0,a&&(A[n+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[n+4>>2]|0),e[n+12>>2]=0),A[n+16>>0]=1,e[n+12>>2]=s,e[n+8>>2]=l,s=e[t+12>>2]|0}e[(e[n+12>>2]|0)+(o<<2)>>2]=s,e[n+4>>2]=o+1}}function jre(t){t=t|0}function qre(t){t=t|0,ye(t)}function Fm(t,n,s,o,a,l,u,_,h,d,m,g,S){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0,m=m|0,g=g|0,S=S|0;var C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0;switch(D=Rt(e[h+24>>2]|0,d)|0,e[n+84>>2]|0){case 4:{w=+i[m>>2],M=+i[m+4>>2],C=+i[m+8>>2],g|0?E=+i[u>>2]*w+ +i[u+4>>2]*M+ +i[u+8>>2]*C-(w*+i[_>>2]+M*+i[_+4>>2]+C*+i[_+8>>2]):E=+i[a>>2]*w+ +i[a+4>>2]*M+ +i[a+8>>2]*C-(w*+i[l>>2]+M*+i[l+4>>2]+C*+i[l+8>>2]),Ec(t,s,o,h,D,m,g,S),M=g|0?-1:1,C=M*(+i[h>>2]*+i[n+12>>2]*+i[n+72>>2]),d=(e[h+28>>2]|0)+(D<<2)|0,i[d>>2]=C,w=C-E*+i[n+12>>2],g|0?w>0&&(N=-(E*+i[n+8>>2]),C<N)&&(i[d>>2]=N):w<0&&(B=-(E*+i[n+8>>2]),C>B)&&(i[d>>2]=B),i[(e[h+36>>2]|0)+(D<<2)>>2]=g|0?0:-34028234663852886e22,i[(e[h+40>>2]|0)+(D<<2)>>2]=g|0?34028234663852886e22:0,e[(e[h+32>>2]|0)+(D<<2)>>2]=e[n+16>>2],D=(e[h+24>>2]|0)+D|0,Ec(t,s,o,h,D,m,g,S),C=M*(+i[h>>2]*+i[n+12>>2]*+i[n+76>>2]),d=(e[h+28>>2]|0)+(D<<2)|0,i[d>>2]=C,w=C-E*+i[n+12>>2],g|0?w<0&&(F=-(E*+i[n+8>>2]),C>F)&&(i[d>>2]=F):w>0&&(U=-(E*+i[n+8>>2]),C<U)&&(i[d>>2]=U),i[(e[h+36>>2]|0)+(D<<2)>>2]=g|0?-34028234663852886e22:0,i[(e[h+40>>2]|0)+(D<<2)>>2]=g|0?0:34028234663852886e22,e[(e[h+32>>2]|0)+(D<<2)>>2]=e[n+16>>2],d=2,D=(e[h+24>>2]|0)+D|0;break}case 3:{Ec(t,s,o,h,D,m,g,S),i[(e[h+28>>2]|0)+(D<<2)>>2]=(g|0?-1:1)*(+i[h>>2]*+i[n+12>>2]*+i[n+72>>2]),i[(e[h+36>>2]|0)+(D<<2)>>2]=-34028234663852886e22,i[(e[h+40>>2]|0)+(D<<2)>>2]=34028234663852886e22,e[(e[h+32>>2]|0)+(D<<2)>>2]=e[n+16>>2],d=1,D=(e[h+24>>2]|0)+D|0;break}default:d=0}do if(!(A[n+28>>0]|0))k=d;else{if(A[n+40>>0]|0)k=n+32|0,L=n+80|0;else{Ec(t,s,o,h,D,m,g,S),B=+i[n+32>>2],C=g|0?B:-B,w=+i[n+80>>2],M=+i[n>>2],E=+i[n+4>>2],N=+i[h>>2]*+i[n+20>>2];do if(M>E)C=1;else if(M!=E){if(C/N<0)if(w>=M&&M-C/N>w){C=(M-w)/(C/N);break}else{C=w<M?0:1;break}if(C/N>0)if(w<=E&&E-C/N<w){C=(E-w)/(C/N);break}else{C=w>E?0:1;break}else C=0}else C=0;while(!1);if(i[(e[h+28>>2]|0)+(D<<2)>>2]=C*B,i[(e[h+36>>2]|0)+(D<<2)>>2]=-+i[n+36>>2],e[(e[h+40>>2]|0)+(D<<2)>>2]=e[n+36>>2],e[(e[h+32>>2]|0)+(D<<2)>>2]=e[n+24>>2],D=(e[h+24>>2]|0)+D|0,d=d+1|0,!(A[n+28>>0]|0)){k=d;break}if(A[n+40>>0]|0)k=n+32|0,L=n+80|0;else{k=d;break}}w=+i[L>>2]-+i[n+44>>2],Ec(t,s,o,h,D,m,g,S),N=+i[k>>2],N=w<0?-N:N;do if(w!=0){M=+i[n>>2],C=+i[n+4>>2];do if(M>C)w>0?C=+i[n+44>>2]:C=-34028234663852886e22,w<0?(E=+i[n+44>>2],M=C):(E=34028234663852886e22,M=C);else{if(w>0&&(V=+i[n+44>>2],V>M)&&(M=V),w<0&&(O=+i[n+44>>2],O<C)){E=O;break}E=C}while(!1);if(C=+i[L>>2],w=+i[h>>2]*+i[n+20>>2],M>E)C=1;else if(M!=E){if(-N/w<0)if(C>=M&&M- -N/w>C){C=(M-C)/(-N/w);break}else{C=C<M?0:1;break}if(-N/w>0)if(C<=E&&E- -N/w<C){C=(E-C)/(-N/w);break}else{C=C>E?0:1;break}else C=0}else C=0}else C=0;while(!1);i[(e[h+28>>2]|0)+(D<<2)>>2]=(g|0?-1:1)*(N*C),i[(e[h+36>>2]|0)+(D<<2)>>2]=-+i[n+36>>2],e[(e[h+40>>2]|0)+(D<<2)>>2]=e[n+36>>2],e[(e[h+32>>2]|0)+(D<<2)>>2]=e[n+24>>2],k=d+1|0,D=(e[h+24>>2]|0)+D|0}while(!1);return A[n+48>>0]|0?(F=+i[n+80>>2]-+i[n+68>>2],Ec(t,s,o,h,D,m,g,S),N=1/+i[h>>2],B=+i[n+60>>2],C=+i[n+52>>2],M=+i[m>>2],E=+i[m+4>>2],w=+i[m+8>>2],g|0?M=+i[u>>2]*M+ +i[u+4>>2]*E+ +i[u+8>>2]*w-(M*+i[_>>2]+E*+i[_+4>>2]+w*+i[_+8>>2]):M=+i[a>>2]*M+ +i[a+4>>2]*E+ +i[a+8>>2]*w-(M*+i[l>>2]+E*+i[l+4>>2]+w*+i[l+8>>2]),w=1/+i[(e[t+28>>2]|0)+368>>2],O=1/+i[(e[t+32>>2]|0)+368>>2],w=w>O?O:w,(A[n+56>>0]|0)!=0&&N*+at(+(C/w))>.25&&(C=1/N/N*.0625*w),U=g|0?-1:1,V=N*(U*(M*(B*N>w&(A[n+64>>0]|0)!=0?w/N:B))),O=N*(F*C)-V,i[(e[h+28>>2]|0)+(D<<2)>>2]=M+U*O,C=O<-V?O:-V,M=O<-V?-V:O,d=e[h+40>>2]|0,g|0?(w=-C<0?0:-C,C=-M>0?0:-M):(w=M<0?0:M,C=C>0?0:C),i[(e[h+36>>2]|0)+(D<<2)>>2]=C,i[d+(D<<2)>>2]=w,i[(e[h+32>>2]|0)+(D<<2)>>2]=0,h=k+1|0,h|0):(h=k,h|0)}function Ec(t,n,s,o,a,l,u,_){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0;var h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0;F=e[(u|0?o+12|0:o+8|0)>>2]|0,k=e[(u|0?o+20|0:o+16|0)>>2]|0,e[F+(a<<2)>>2]=e[l>>2],e[F+(a+1<<2)>>2]=e[l+4>>2],e[F+(a+2<<2)>>2]=e[l+8>>2],i[k+(a<<2)>>2]=-+i[l>>2],i[k+(a+1<<2)>>2]=-+i[l+4>>2],i[k+(a+2<<2)>>2]=-+i[l+8>>2],!(u|0)&&(m=+i[t+1348>>2]-+i[s+48>>2],h=+i[t+1352>>2]-+i[s+52>>2],d=+i[t+1356>>2]-+i[s+56>>2],N=+i[t+1284>>2]-+i[n+48>>2],B=+i[t+1288>>2]-+i[n+52>>2],w=+i[t+1292>>2]-+i[n+56>>2],M=+i[l+8>>2],D=+i[l+4>>2],E=+i[l>>2],(_|0)!=0|(A[t+1452>>0]|0)==0?(C=m*D-h*E,S=h*M-d*D,m=d*E-m*M,g=B*M-w*D,d=w*E-N*M,h=N*D-B*E):(L=+i[t+1444>>2],g=+i[t+1448>>2],C=g*(m*D-h*E),S=g*(h*M-d*D),m=g*(d*E-m*M),g=L*(B*M-w*D),d=L*(w*E-N*M),h=L*(N*D-B*E)),F=(e[o+12>>2]|0)+(a<<2)|0,i[F>>2]=g,i[F+4>>2]=d,i[F+8>>2]=h,F=e[o+20>>2]|0,i[F+(a<<2)>>2]=-S,i[F+(a+1<<2)>>2]=-m,i[F+(a+2<<2)>>2]=-C)}function Xre(t,n,s,o){if(t=t|0,n=n|0,s=+s,o=o|0,o>>>0<3)switch(n|0){case 2:{i[t+728+(o<<2)>>2]=s,e[t+1456>>2]=e[t+1456>>2]|2<<(o<<2);return}case 4:{i[t+744+(o<<2)>>2]=s,e[t+1456>>2]=e[t+1456>>2]|1<<(o<<2);return}case 1:{i[t+760+(o<<2)>>2]=s,e[t+1456>>2]=e[t+1456>>2]|8<<(o<<2);return}case 3:{i[t+776+(o<<2)>>2]=s,e[t+1456>>2]=e[t+1456>>2]|4<<(o<<2);return}default:return}if(!((o+-3|0)>>>0>=3))switch(n|0){case 2:{i[t+968+((o+-3|0)*88|0)+12>>2]=s,e[t+1456>>2]=e[t+1456>>2]|2<<(o<<2);return}case 4:{i[t+968+((o+-3|0)*88|0)+16>>2]=s,e[t+1456>>2]=e[t+1456>>2]|1<<(o<<2);return}case 1:{i[t+968+((o+-3|0)*88|0)+20>>2]=s,e[t+1456>>2]=e[t+1456>>2]|8<<(o<<2);return}case 3:{i[t+968+((o+-3|0)*88|0)+24>>2]=s,e[t+1456>>2]=e[t+1456>>2]|4<<(o<<2);return}default:return}}function $re(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;e:do if(s>>>0>=3)if((s+-3|0)>>>0<3)switch(n|0){case 2:{o=+i[t+968+((s+-3|0)*88|0)+12>>2];break e}case 4:{o=+i[t+968+((s+-3|0)*88|0)+16>>2];break e}case 1:{o=+i[t+968+((s+-3|0)*88|0)+20>>2];break e}case 3:{o=+i[t+968+((s+-3|0)*88|0)+24>>2];break e}default:{o=0;break e}}else o=0;else switch(n|0){case 2:{o=+i[t+728+(s<<2)>>2];break e}case 4:{o=+i[t+744+(s<<2)>>2];break e}case 1:{o=+i[t+760+(s<<2)>>2];break e}case 3:{o=+i[t+776+(s<<2)>>2];break e}default:{o=0;break e}}while(!1);return+o}function Yre(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Kre(t,n){t=t|0,n=n|0;var s=0,o=0;if(A[t+1309>>0]|0&&(s=(+i[t+1256>>2]-+i[t+1316>>2])*+i[t+1340>>2],i[t+792>>2]=s*(+i[n>>2]*+i[t+1364>>2]/+(e[n+48>>2]|0)),s=+ht(+s),i[t+808>>2]=s/+i[n>>2]),A[t+1310>>0]|0&&(s=(+i[t+1260>>2]-+i[t+1320>>2])*+i[t+1344>>2],i[t+796>>2]=s*(+i[n>>2]*+i[t+1368>>2]/+(e[n+48>>2]|0)),s=+ht(+s),i[t+812>>2]=s/+i[n>>2]),A[t+1311>>0]|0&&(s=(+i[t+1264>>2]-+i[t+1324>>2])*+i[t+1348>>2],i[t+800>>2]=s*(+i[n>>2]*+i[t+1372>>2]/+(e[n+48>>2]|0)),s=+ht(+s),i[t+816>>2]=s/+i[n>>2]),A[t+1312>>0]|0&&(o=-((+i[t+1192>>2]-+i[t+1328>>2])*+i[t+1352>>2]),s=+i[n>>2],i[t+876>>2]=s*+i[t+1376>>2]/+(e[n+48>>2]|0)*o,i[t+880>>2]=+ht(+o)/s),A[t+1313>>0]|0&&(s=-((+i[t+1196>>2]-+i[t+1332>>2])*+i[t+1356>>2]),o=+i[n>>2],i[t+940>>2]=o*+i[t+1380>>2]/+(e[n+48>>2]|0)*s,i[t+944>>2]=+ht(+s)/o),!(A[t+1314>>0]|0)){Dh(t,n);return}s=-((+i[t+1200>>2]-+i[t+1336>>2])*+i[t+1360>>2]),o=+i[n>>2],i[t+1004>>2]=o*+i[t+1384>>2]/+(e[n+48>>2]|0)*s,i[t+1008>>2]=+ht(+s)/o,Dh(t,n)}function Zre(t){return t=t|0,348}function Qre(t,n,s){return t=t|0,n=n|0,s=s|0,fm(t,n,s)|0,e[n+276>>2]=e[t+1316>>2],e[n+324>>2]=e[t+1364>>2],e[n+252>>2]=It[t+1309>>0],e[n+300>>2]=e[t+1340>>2],e[n+280>>2]=e[t+1320>>2],e[n+328>>2]=e[t+1368>>2],e[n+256>>2]=It[t+1310>>0],e[n+304>>2]=e[t+1344>>2],e[n+284>>2]=e[t+1324>>2],e[n+332>>2]=e[t+1372>>2],e[n+260>>2]=It[t+1311>>0],e[n+308>>2]=e[t+1348>>2],e[n+288>>2]=e[t+1328>>2],e[n+336>>2]=e[t+1376>>2],e[n+264>>2]=It[t+1312>>0],e[n+312>>2]=e[t+1352>>2],e[n+292>>2]=e[t+1332>>2],e[n+340>>2]=e[t+1380>>2],e[n+268>>2]=It[t+1313>>0],e[n+316>>2]=e[t+1356>>2],e[n+296>>2]=e[t+1336>>2],e[n+344>>2]=e[t+1384>>2],e[n+272>>2]=It[t+1314>>0],e[n+320>>2]=e[t+1360>>2],15322}function Jre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0;N=+i[n>>2],D=+i[n+4>>2],E=+i[n+8>>2],M=1/+at(+(N*N+D*D+E*E)),L=+i[s>>2],F=+i[s+4>>2],k=+i[s+8>>2],B=1/+at(+(L*L+F*F+k*k)),O=E*M*(F*B)-D*M*(k*B),V=N*M*(k*B)-E*M*(L*B),U=D*M*(L*B)-N*M*(F*B),s=e[t+28>>2]|0,o=+i[s+4>>2],l=+i[s+20>>2],_=+i[s+36>>2],a=+i[s+8>>2],u=+i[s+24>>2],h=+i[s+40>>2],d=+i[s+12>>2],g=+i[s+28>>2],C=+i[s+44>>2],m=-+i[s+52>>2],S=-+i[s+56>>2],w=-+i[s+60>>2],i[t+48>>2]=U*_+(o*O+l*V),i[t+52>>2]=o*(L*B)+F*B*l+k*B*_,i[t+56>>2]=N*M*o+D*M*l+E*M*_,i[t+60>>2]=0,i[t+64>>2]=O*a+V*u+U*h,i[t+68>>2]=L*B*a+F*B*u+k*B*h,i[t+72>>2]=N*M*a+D*M*u+E*M*h,i[t+76>>2]=0,i[t+80>>2]=O*d+V*g+U*C,i[t+84>>2]=L*B*d+F*B*g+k*B*C,i[t+88>>2]=N*M*d+D*M*g+E*M*C,i[t+92>>2]=0,i[t+96>>2]=o*0+l*0+_*0+(o*m+l*S+_*w),i[t+100>>2]=a*0+u*0+h*0+(a*m+u*S+h*w),i[t+104>>2]=d*0+g*0+C*0+(d*m+g*S+C*w),i[t+108>>2]=0,s=e[t+32>>2]|0,w=+i[s+4>>2],C=+i[s+20>>2],S=+i[s+36>>2],g=+i[s+8>>2],m=+i[s+24>>2],d=+i[s+40>>2],h=+i[s+12>>2],u=+i[s+28>>2],a=+i[s+44>>2],_=-+i[s+52>>2],l=-+i[s+56>>2],o=-+i[s+60>>2],i[t+112>>2]=O*w+V*C+U*S,i[t+116>>2]=L*B*w+F*B*C+k*B*S,i[t+120>>2]=N*M*w+D*M*C+E*M*S,i[t+124>>2]=0,i[t+128>>2]=O*g+V*m+U*d,i[t+132>>2]=L*B*g+F*B*m+k*B*d,i[t+136>>2]=N*M*g+D*M*m+E*M*d,i[t+140>>2]=0,i[t+144>>2]=O*h+V*u+U*a,i[t+148>>2]=L*B*h+F*B*u+k*B*a,i[t+152>>2]=N*M*h+D*M*u+E*M*a,i[t+156>>2]=0,i[t+160>>2]=w*0+C*0+S*0+(w*_+C*l+S*o),i[t+164>>2]=g*0+m*0+d*0+(g*_+m*l+d*o),i[t+168>>2]=h*0+u*0+a*0+(h*_+u*l+a*o),i[t+172>>2]=0,mu(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0)}function ese(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function tse(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0;if(N=H,H=H+176|0,!(A[t+738>>0]|0)){H=N;return}if(i[t+36>>2]=0,i[t+744>>2]=0,!(A[t+736>>0]|0))for(s=e[t+28>>2]|0,_=+i[t+600>>2],h=+i[t+604>>2],C=+i[t+608>>2],M=_*+i[s+20>>2]+h*+i[s+24>>2]+C*+i[s+28>>2]+ +i[s+56>>2],o=e[t+32>>2]|0,d=+i[t+664>>2],m=+i[t+668>>2],w=+i[t+672>>2],g=+i[o+52>>2],n=+i[o+56>>2],E=d*+i[o+20>>2]+m*+i[o+24>>2]+w*+i[o+28>>2]+n,D=d*+i[o+36>>2]+m*+i[o+40>>2]+w*+i[o+44>>2]+ +i[o+60>>2],S=_*+i[s+4>>2]+h*+i[s+8>>2]+C*+i[s+12>>2]+ +i[s+52>>2],C=_*+i[s+36>>2]+h*+i[s+40>>2]+C*+i[s+44>>2]+ +i[s+60>>2],w=d*+i[o+4>>2]+m*+i[o+8>>2]+w*+i[o+12>>2]+g,(w-S)*(w-S)+(E-M)*(E-M)+(D-C)*(D-C)>11920928955078125e-23?(l=1/+at(+((w-S)*(w-S)+(E-M)*(E-M)+(D-C)*(D-C))),i[N+128>>2]=(w-S)*l,i[N+128+4>>2]=(E-M)*l,i[N+128+8>>2]=(D-C)*l,e[N+128+12>>2]=0,d=(D-C)*l,a=(E-M)*l,l=(w-S)*l):(e[N+128>>2]=1065353216,e[N+128+4>>2]=0,e[N+128+8>>2]=0,i[N+128+12>>2]=0,d=0,a=0,l=1),+ht(+d)>.7071067690849304?(k=d*d+a*a,B=1/+at(+k),_=-(B*d),d=B*a,m=-(d*l),u=l*_,h=0,a=k*B,l=d):(_=l*l+a*a,u=1/+at(+_),h=-(a*u),a=u*l,m=d*h,u=_*u,_=a,a=-(a*d),l=0),i[N+128+16>>2]=h,i[N+128+20>>2]=_,i[N+128+24>>2]=l,i[N+128+32>>2]=a,i[N+128+36>>2]=m,i[N+128+40>>2]=u,a=g,s=0;F=e[t+28>>2]|0,e[N+80>>2]=e[F+4>>2],e[N+80+4>>2]=e[F+20>>2],e[N+80+8>>2]=e[F+36>>2],i[N+80+12>>2]=0,e[N+80+16>>2]=e[F+8>>2],e[N+80+20>>2]=e[F+24>>2],e[N+80+24>>2]=e[F+40>>2],i[N+80+28>>2]=0,e[N+80+32>>2]=e[F+12>>2],e[N+80+36>>2]=e[F+28>>2],e[N+80+40>>2]=e[F+44>>2],i[N+80+44>>2]=0,e[N+32>>2]=e[o+4>>2],e[N+32+4>>2]=e[o+20>>2],e[N+32+8>>2]=e[o+36>>2],i[N+32+12>>2]=0,e[N+32+16>>2]=e[o+8>>2],e[N+32+20>>2]=e[o+24>>2],e[N+32+24>>2]=e[o+40>>2],i[N+32+28>>2]=0,e[N+32+32>>2]=e[o+12>>2],e[N+32+36>>2]=e[o+28>>2],e[N+32+40>>2]=e[o+44>>2],i[N+32+44>>2]=0,B=M-+i[F+56>>2],k=C-+i[F+60>>2],i[N+16>>2]=S-+i[F+52>>2],i[N+16+4>>2]=B,i[N+16+8>>2]=k,i[N+16+12>>2]=0,k=D-+i[o+60>>2],i[N>>2]=w-a,i[N+4>>2]=E-n,i[N+8>>2]=k,i[N+12>>2]=0,F=e[t+28>>2]|0,o=e[t+32>>2]|0,ip(t+48+(s*84|0)|0,N+80|0,N+32|0,N+16|0,N,N+128+(s<<4)|0,F+420|0,+i[F+368>>2],o+420|0,+i[o+368>>2]),s=s+1|0,(s|0)!=3;)F=e[t+32>>2]|0,o=F,a=+i[F+52>>2],n=+i[F+56>>2];a=+i[t+560>>2],l=+i[t+576>>2],u=+i[t+592>>2],+ht(+u)>.7071067690849304?(g=1/+at(+(u*u+l*l)),n=a*-(u*g),_=0,h=l*g,d=-(u*g),m=(u*u+l*l)*g,g=-(a*(l*g))):(g=1/+at(+(a*a+l*l)),n=(a*a+l*l)*g,_=-(l*g),h=0,d=a*g,m=-(u*(a*g)),g=u*-(l*g)),o=e[t+28>>2]|0,X=+i[o+4>>2],q=+i[o+8>>2],E=+i[o+12>>2],me=_*X+d*q+h*E,$=+i[o+20>>2],Y=+i[o+24>>2],B=+i[o+28>>2],oe=_*$+d*Y+h*B,z=+i[o+36>>2],w=+i[o+40>>2],V=+i[o+44>>2],ve=_*z+d*w+h*V,U=m*X+g*q+n*E,W=m*$+g*Y+n*B,te=m*z+g*w+n*V,s=e[t+32>>2]|0,L=+i[s+4>>2],_=+i[s+20>>2],h=+i[s+36>>2],S=+i[s+8>>2],C=+i[s+24>>2],D=+i[s+40>>2],_e=+i[s+12>>2],re=+i[s+28>>2],xe=+i[s+44>>2],e[t+300>>2]=0,e[t+300+4>>2]=0,e[t+300+8>>2]=0,e[t+300+12>>2]=0,i[t+316>>2]=me*X+oe*$+ve*z,i[t+320>>2]=me*q+oe*Y+ve*w,i[t+324>>2]=me*E+oe*B+ve*V,i[t+328>>2]=0,i[t+332>>2]=L*-me+_*-oe+h*-ve,i[t+336>>2]=S*-me+C*-oe+D*-ve,i[t+340>>2]=_e*-me+re*-oe+xe*-ve,i[t+344>>2]=0,O=(me*X+oe*$+ve*z)*+i[o+420>>2],ne=(me*q+oe*Y+ve*w)*+i[o+424>>2],n=(me*E+oe*B+ve*V)*+i[o+428>>2],i[t+348>>2]=O,i[t+352>>2]=ne,i[t+356>>2]=n,i[t+360>>2]=0,g=(L*-me+_*-oe+h*-ve)*+i[s+420>>2],k=(S*-me+C*-oe+D*-ve)*+i[s+424>>2],de=(_e*-me+re*-oe+xe*-ve)*+i[s+428>>2],i[t+364>>2]=g,i[t+368>>2]=k,i[t+372>>2]=de,i[t+376>>2]=0,i[t+380>>2]=(me*X+oe*$+ve*z)*O+(me*q+oe*Y+ve*w)*ne+(me*E+oe*B+ve*V)*n+((L*-me+_*-oe+h*-ve)*g+(S*-me+C*-oe+D*-ve)*k+(_e*-me+re*-oe+xe*-ve)*de),s=e[t+28>>2]|0,de=+i[s+4>>2],ve=+i[s+20>>2],xe=+i[s+36>>2],oe=+i[s+8>>2],re=+i[s+24>>2],me=+i[s+40>>2],_e=+i[s+12>>2],k=+i[s+28>>2],D=+i[s+44>>2],o=e[t+32>>2]|0,C=+i[o+4>>2],S=+i[o+20>>2],g=+i[o+36>>2],h=+i[o+8>>2],_=+i[o+24>>2],L=+i[o+40>>2],n=+i[o+12>>2],ne=+i[o+28>>2],O=+i[o+44>>2],e[t+384>>2]=0,e[t+384+4>>2]=0,e[t+384+8>>2]=0,e[t+384+12>>2]=0,i[t+400>>2]=U*de+W*ve+te*xe,i[t+404>>2]=U*oe+W*re+te*me,i[t+408>>2]=U*_e+W*k+te*D,i[t+412>>2]=0,i[t+416>>2]=C*-U+S*-W+g*-te,i[t+420>>2]=h*-U+_*-W+L*-te,i[t+424>>2]=n*-U+ne*-W+O*-te,i[t+428>>2]=0,ae=(U*de+W*ve+te*xe)*+i[s+420>>2],he=(U*oe+W*re+te*me)*+i[s+424>>2],M=(U*_e+W*k+te*D)*+i[s+428>>2],i[t+432>>2]=ae,i[t+436>>2]=he,i[t+440>>2]=M,i[t+444>>2]=0,d=(C*-U+S*-W+g*-te)*+i[o+420>>2],m=(h*-U+_*-W+L*-te)*+i[o+424>>2],pe=(n*-U+ne*-W+O*-te)*+i[o+428>>2],i[t+448>>2]=d,i[t+452>>2]=m,i[t+456>>2]=pe,i[t+460>>2]=0,i[t+464>>2]=(U*de+W*ve+te*xe)*ae+(U*oe+W*re+te*me)*he+(U*_e+W*k+te*D)*M+((C*-U+S*-W+g*-te)*d+(h*-U+_*-W+L*-te)*m+(n*-U+ne*-W+O*-te)*pe),o=e[t+28>>2]|0,pe=+i[o+4>>2],te=+i[o+20>>2],O=+i[o+36>>2],W=+i[o+8>>2],ne=+i[o+24>>2],U=+i[o+40>>2],n=+i[o+12>>2],m=+i[o+28>>2],L=+i[o+44>>2],s=e[t+32>>2]|0,_=+i[s+4>>2],h=+i[s+20>>2],d=+i[s+36>>2],g=+i[s+8>>2],S=+i[s+24>>2],C=+i[s+40>>2],M=+i[s+12>>2],D=+i[s+28>>2],k=+i[s+44>>2],e[t+468>>2]=0,e[t+468+4>>2]=0,e[t+468+8>>2]=0,e[t+468+12>>2]=0,O=(X*a+q*l+E*u)*pe+($*a+Y*l+B*u)*te+(z*a+w*l+V*u)*O,U=(X*a+q*l+E*u)*W+($*a+Y*l+B*u)*ne+(z*a+w*l+V*u)*U,L=(X*a+q*l+E*u)*n+($*a+Y*l+B*u)*m+(z*a+w*l+V*u)*L,i[t+484>>2]=O,i[t+488>>2]=U,i[t+492>>2]=L,i[t+496>>2]=0,E=-(X*a+q*l+E*u),B=-($*a+Y*l+B*u),a=-(z*a+w*l+V*u),i[t+500>>2]=_*E+h*B+d*a,i[t+504>>2]=g*E+S*B+C*a,i[t+508>>2]=M*E+D*B+k*a,i[t+512>>2]=0,V=O*+i[o+420>>2],l=U*+i[o+424>>2],u=L*+i[o+428>>2],i[t+516>>2]=V,i[t+520>>2]=l,i[t+524>>2]=u,i[t+528>>2]=0,m=(_*E+h*B+d*a)*+i[s+420>>2],w=(g*E+S*B+C*a)*+i[s+424>>2],n=(M*E+D*B+k*a)*+i[s+428>>2],i[t+532>>2]=m,i[t+536>>2]=w,i[t+540>>2]=n,i[t+544>>2]=0,i[t+548>>2]=O*V+U*l+L*u+((_*E+h*B+d*a)*m+(g*E+S*B+C*a)*w+(M*E+D*B+k*a)*n),i[t+724>>2]=0,s=e[t+28>>2]|0,o=e[t+32>>2]|0,n=+Bm(t,s+4|0,o+4|0),i[t+728>>2]=n,i[t+708>>2]=0,i[t+712>>2]=0,A[t+716>>0]=0,a=+i[t+692>>2];do if(a>=0){if(n=+an(n-+i[t+688>>2]),n<-3.1415927410125732?n=n+6.2831854820251465:n>3.1415927410125732&&(n=n+-6.2831854820251465),n<-a){A[t+716>>0]=1,i[t+708>>2]=-(n+a),i[t+712>>2]=1;break}n>a&&(A[t+716>>0]=1,i[t+708>>2]=a-n,i[t+712>>2]=-1)}while(!1);oe=+i[t+560>>2],ae=+i[t+576>>2],de=+i[t+592>>2],xe=oe*+i[s+4>>2]+ae*+i[s+8>>2]+de*+i[s+12>>2],ve=oe*+i[s+20>>2]+ae*+i[s+24>>2]+de*+i[s+28>>2],de=oe*+i[s+36>>2]+ae*+i[s+40>>2]+de*+i[s+44>>2],i[t+720>>2]=1/(xe*(xe*+i[s+288>>2]+ve*+i[s+304>>2]+de*+i[s+320>>2])+ve*(xe*+i[s+292>>2]+ve*+i[s+308>>2]+de*+i[s+324>>2])+de*(xe*+i[s+296>>2]+ve*+i[s+312>>2]+de*+i[s+328>>2])+(xe*(xe*+i[o+288>>2]+ve*+i[o+304>>2]+de*+i[o+320>>2])+ve*(xe*+i[o+292>>2]+ve*+i[o+308>>2]+de*+i[o+324>>2])+de*(xe*+i[o+296>>2]+ve*+i[o+312>>2]+de*+i[o+328>>2]))),H=N}function Bm(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0;return k=+i[t+552>>2],B=+i[t+568>>2],N=+i[t+584>>2],D=+i[n>>2],E=+i[n+4>>2],M=+i[n+8>>2],C=+i[n+16>>2],S=+i[n+20>>2],g=+i[n+24>>2],d=+i[n+32>>2],_=+i[n+36>>2],l=+i[n+40>>2],h=+i[t+556>>2],u=+i[t+572>>2],a=+i[t+588>>2],L=+i[t+620>>2],F=+i[t+636>>2],o=+i[t+652>>2],w=L*+i[s>>2]+F*+i[s+4>>2]+o*+i[s+8>>2],m=L*+i[s+16>>2]+F*+i[s+20>>2]+o*+i[s+24>>2],o=L*+i[s+32>>2]+F*+i[s+36>>2]+o*+i[s+40>>2],o=+gn(+((k*D+B*E+N*M)*w+(k*C+B*S+N*g)*m+(k*d+B*_+N*l)*o),+((D*h+E*u+M*a)*w+(C*h+S*u+g*a)*m+(d*h+_*u+l*a)*o)),+(o*+i[t+732>>2])}function ise(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;if(A[t+738>>0]|0){e[n>>2]=0,e[n+4>>2]=0;return}e[n>>2]=5,e[n+4>>2]=1,s=+Bm(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0),i[t+728>>2]=s,i[t+708>>2]=0,i[t+712>>2]=0,A[t+716>>0]=0,o=+i[t+692>>2];do if(o>=0){if(s=+an(s-+i[t+688>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),s<-o){A[t+716>>0]=1,i[t+708>>2]=-(s+o),i[t+712>>2]=1;break}s>o?(A[t+716>>0]=1,i[t+708>>2]=o-s,i[t+712>>2]=-1):a=12}else a=12;while(!1);(a|0)==12&&(A[t+737>>0]|0)==0||(e[n>>2]=6,e[n+4>>2]=0)}function nse(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,ot=0,mt=0,lt=0,pt=0,Nt=0,st=0,Te=0,kt=0,it=0,X0=0,Z0=0;if(X0=e[t+28>>2]|0,Z0=e[t+32>>2]|0,w=e[n+24>>2]|0,!(A[t+739>>0]|0)){if(L=+i[t+552>>2],ve=+i[X0+4>>2],U=+i[t+568>>2],de=+i[X0+8>>2],V=+i[t+584>>2],fe=+i[X0+12>>2],O=+i[t+556>>2],z=+i[t+572>>2],Y=+i[t+588>>2],Ce=+i[t+560>>2],we=+i[t+576>>2],be=+i[t+592>>2],Se=+i[X0+20>>2],ge=+i[X0+24>>2],ke=+i[X0+28>>2],Ae=+i[X0+36>>2],qe=+i[X0+40>>2],He=+i[X0+44>>2],h=+i[t+600>>2],m=+i[t+604>>2],C=+i[t+608>>2],E=+i[X0+52>>2],D=+i[X0+56>>2],N=+i[X0+60>>2],$=+i[Z0+4>>2],q=+i[Z0+8>>2],X=+i[Z0+12>>2],ne=+i[t+624>>2],W=+i[t+640>>2],te=+i[t+656>>2],pe=+i[Z0+20>>2],_e=+i[Z0+24>>2],he=+i[Z0+28>>2],me=+i[Z0+36>>2],re=+i[Z0+40>>2],oe=+i[Z0+44>>2],kt=+i[t+664>>2],it=+i[t+668>>2],F=+i[t+672>>2],B=+i[Z0+52>>2]+($*kt+q*it+X*F),k=pe*kt+_e*it+he*F+ +i[Z0+56>>2],F=me*kt+re*it+oe*F+ +i[Z0+60>>2],ae=ee[t+736>>1]|0,(ae&255)<<24>>24?(a=w<<1,s=E,o=D,u=N):(a=e[n+8>>2]|0,i[a>>2]=1,i[a+(w+1<<2)>>2]=1,i[a+((w<<1)+2<<2)>>2]=1,a=e[n+16>>2]|0,i[a>>2]=-1,i[a+(w+1<<2)>>2]=-1,i[a+((w<<1)+2<<2)>>2]=-1,a=w<<1,s=+i[X0+52>>2],o=+i[X0+56>>2],u=+i[X0+60>>2]),_=E+(ve*h+de*m+fe*C)-s,s=Se*h+ge*m+ke*C+D-o,it=Ae*h+qe*m+He*C+N-u,d=e[n+12>>2]|0,S=d+(a<<2)|0,e[d>>2]=0,i[d+4>>2]=it,i[d+8>>2]=-s,i[d+12>>2]=0,i[d+(w<<2)>>2]=-it,e[d+(w<<2)+4>>2]=0,i[d+(w<<2)+8>>2]=_,i[d+(w<<2)+12>>2]=0,i[S>>2]=s,i[S+4>>2]=-_,e[S+8>>2]=0,i[S+12>>2]=0,_=B-+i[Z0+52>>2],s=k-+i[Z0+56>>2],it=F-+i[Z0+60>>2],S=e[n+20>>2]|0,xe=S+(a<<2)|0,e[S>>2]=0,i[S+4>>2]=-it,i[S+8>>2]=s,i[S+12>>2]=0,i[S+(w<<2)>>2]=it,e[S+(w<<2)+4>>2]=0,i[S+(w<<2)+8>>2]=-_,i[S+(w<<2)+12>>2]=0,i[xe>>2]=-s,i[xe+4>>2]=_,e[xe+8>>2]=0,i[xe+12>>2]=0,xe=e[t+748>>2]|0,_=+i[((xe&8|0)==0?n+4|0:t+756|0)>>2],s=_*+i[n>>2],M=e[n+28>>2]|0,(ae&255)<<24>>24||(i[M>>2]=s*(B-(E+(ve*h+de*m+fe*C))),i[M+(w<<2)>>2]=s*(k-(Se*h+ge*m+ke*C+D)),i[M+(w<<1<<2)>>2]=s*(F-(Ae*h+qe*m+He*C+N))),w=e[n+24>>2]|0,i[d+(w*3<<2)>>2]=L*ve+U*de+V*fe,i[d+((w*3|0)+1<<2)>>2]=L*Se+U*ge+V*ke,i[d+((w*3|0)+2<<2)>>2]=L*Ae+U*qe+V*He,i[d+(w<<2<<2)>>2]=ve*O+de*z+fe*Y,i[d+((w<<2|1)<<2)>>2]=O*Se+z*ge+Y*ke,i[d+((w<<2|2)<<2)>>2]=O*Ae+z*qe+Y*He,i[S+(w*3<<2)>>2]=-(L*ve+U*de+V*fe),i[S+((w*3|0)+1<<2)>>2]=-(L*Se+U*ge+V*ke),i[S+((w*3|0)+2<<2)>>2]=-(L*Ae+U*qe+V*He),i[S+(w<<2<<2)>>2]=-(ve*O+de*z+fe*Y),i[S+((w<<2|1)<<2)>>2]=-(O*Se+z*ge+Y*ke),i[S+((w<<2|2)<<2)>>2]=-(O*Ae+z*qe+Y*He),kt=(Ce*Se+we*ge+be*ke)*(ne*me+W*re+te*oe)-(Ce*Ae+we*qe+be*He)*(ne*pe+W*_e+te*he),it=(Ce*Ae+we*qe+be*He)*($*ne+q*W+X*te)-(ve*Ce+de*we+fe*be)*(ne*me+W*re+te*oe),Te=(ve*Ce+de*we+fe*be)*(ne*pe+W*_e+te*he)-(Ce*Se+we*ge+be*ke)*($*ne+q*W+X*te),i[M+(w*3<<2)>>2]=((L*Ae+U*qe+V*He)*Te+((L*ve+U*de+V*fe)*kt+(L*Se+U*ge+V*ke)*it))*s,i[M+(w<<2<<2)>>2]=((O*Ae+z*qe+Y*He)*Te+((ve*O+de*z+fe*Y)*kt+(O*Se+z*ge+Y*ke)*it))*s,A[t+716>>0]|0?(C=+i[t+708>>2]*+i[t+732>>2],g=C>0?1:2):(g=0,C=0),l=(g|0)!=0,!((ae&65535)>>>8&65535|g))return;if(i[d+(w*5<<2)>>2]=ve*Ce+de*we+fe*be,i[d+((w*5|0)+1<<2)>>2]=Ce*Se+we*ge+be*ke,i[d+((w*5|0)+2<<2)>>2]=Ce*Ae+we*qe+be*He,i[S+(w*5<<2)>>2]=-(ve*Ce+de*we+fe*be),i[S+((w*5|0)+1<<2)>>2]=-(Ce*Se+we*ge+be*ke),i[S+((w*5|0)+2<<2)>>2]=-(Ce*Ae+we*qe+be*He),o=+i[t+688>>2],u=+i[t+692>>2],s=+an(o-u),s<-3.1415927410125732?m=s+6.2831854820251465:s>3.1415927410125732?m=s+-6.2831854820251465:m=s,s=+an(o+u),s<-3.1415927410125732?h=s+6.2831854820251465:s>3.1415927410125732?h=s+-6.2831854820251465:h=s,a=m==h,d=M+(w*5<<2)|0,i[d>>2]=0,xe&2&&(_=+i[t+764>>2]),!((ae&65535)>>>8<<16>>16==0|l&a)){xe&4|0&&(e[(e[n+32>>2]|0)+(w*5<<2)>>2]=e[t+752>>2]),o=+i[t+728>>2],u=+i[t+680>>2],s=m>h?1:0;do if(!(m>=h)){if(s=u/(_*+i[n>>2]),s<0)if(o>=m&m-s>o){s=(m-o)/s;break}else{s=o<m?0:1;break}if(s>0)if(o<=h&h-s<o){s=(h-o)/s;break}else{s=o>h?0:1;break}else s=0}while(!1);i[d>>2]=s*u*+i[t+732>>2]+ +i[d>>2],i[(e[n+36>>2]|0)+(w*5<<2)>>2]=-+i[t+684>>2],e[(e[n+40>>2]|0)+(w*5<<2)>>2]=e[t+684>>2]}if(!l)return;i[d>>2]=+i[d>>2]+C*(_*+i[n>>2]),xe&1|0&&(e[(e[n+32>>2]|0)+(w*5<<2)>>2]=e[t+760>>2]);do if(a)i[(e[n+36>>2]|0)+(w*5<<2)>>2]=-34028234663852886e22,i[(e[n+40>>2]|0)+(w*5<<2)>>2]=34028234663852886e22;else if(l=(e[n+36>>2]|0)+(w*5<<2)|0,a=e[n+40>>2]|0,(g|0)==1){i[l>>2]=0,i[a+(w*5<<2)>>2]=34028234663852886e22;break}else{i[l>>2]=-34028234663852886e22,i[a+(w*5<<2)>>2]=0;break}while(!1);o=+i[t+704>>2];do if(o>0)if(s=(ve*Ce+de*we+fe*be)*+i[X0+352>>2]+(Ce*Se+we*ge+be*ke)*+i[X0+356>>2]+(Ce*Ae+we*qe+be*He)*+i[X0+360>>2]-((ve*Ce+de*we+fe*be)*+i[Z0+352>>2]+(Ce*Se+we*ge+be*ke)*+i[Z0+356>>2]+(Ce*Ae+we*qe+be*He)*+i[Z0+360>>2]),(g|0)==1){if(!(s<0)||!(+i[d>>2]<-(o*s)))break;i[d>>2]=-(o*s);break}else{if(!(s>0)||!(+i[d>>2]>-(o*s)))break;i[d>>2]=-(o*s);break}while(!1);i[d>>2]=+i[t+700>>2]*+i[d>>2];return}if(Ce=+i[X0+4>>2],we=+i[X0+8>>2],be=+i[X0+12>>2],E=+i[t+556>>2],B=+i[t+572>>2],F=+i[t+588>>2],Se=+i[t+560>>2],ge=+i[t+576>>2],ke=+i[t+592>>2],Ae=+i[X0+20>>2],qe=+i[X0+24>>2],He=+i[X0+28>>2],Ke=+i[X0+36>>2],Ze=+i[X0+40>>2],ut=+i[X0+44>>2],mt=+i[t+600>>2],ot=+i[t+604>>2],m=+i[t+608>>2],o=+i[X0+52>>2]+(Ce*mt+we*ot+be*m),N=Ae*mt+qe*ot+He*m+ +i[X0+56>>2],m=Ke*mt+Ze*ot+ut*m+ +i[X0+60>>2],ot=+i[Z0+4>>2],mt=+i[Z0+8>>2],lt=+i[Z0+12>>2],pt=+i[t+624>>2],Nt=+i[t+640>>2],he=+i[t+656>>2],me=+i[Z0+20>>2],re=+i[Z0+24>>2],oe=+i[Z0+28>>2],ve=+i[Z0+36>>2],de=+i[Z0+40>>2],fe=+i[Z0+44>>2],C=+i[t+664>>2],k=+i[t+668>>2],u=+i[t+672>>2],s=+i[Z0+52>>2],D=+i[Z0+56>>2],h=+i[Z0+60>>2],ne=s+(ot*C+mt*k+lt*u)-o,W=me*C+re*k+oe*u+D-N,te=ve*C+de*k+fe*u+h-m,L=+i[(e[t+28>>2]|0)+368>>2],U=+i[(e[t+32>>2]|0)+368>>2],X=L+U>0?U/(L+U):.5,st=(Ce*Se+we*ge+be*ke)*X+(ot*pt+mt*Nt+lt*he)*(1-X),Te=(Se*Ae+ge*qe+ke*He)*X+(pt*me+Nt*re+he*oe)*(1-X),kt=(Se*Ke+ge*Ze+ke*ut)*X+(pt*ve+Nt*de+he*fe)*(1-X),it=1/+at(+(st*st+Te*Te+kt*kt)),V=(s+(ot*C+mt*k+lt*u)-s)*(st*it)+(me*C+re*k+oe*u+D-D)*(Te*it)+(ve*C+de*k+fe*u+h-h)*(kt*it),s=s+(ot*C+mt*k+lt*u)-s-st*it*V,D=me*C+re*k+oe*u+D-D-Te*it*V,h=ve*C+de*k+fe*u+h-h-kt*it*V,o=o-+i[X0+52>>2],N=N-+i[X0+56>>2],m=m-+i[X0+60>>2],u=st*it*(o*(st*it)+N*(Te*it)+m*(kt*it)),k=Te*it*(o*(st*it)+N*(Te*it)+m*(kt*it)),C=kt*it*(o*(st*it)+N*(Te*it)+m*(kt*it)),$=o-u+X*(u-st*it*V),q=N-k+X*(k-Te*it*V),Y=m-C+X*(C-kt*it*V),O=s-(1-X)*(u-st*it*V),z=D-(1-X)*(k-Te*it*V),V=h-(1-X)*(C-kt*it*V),_=(X*s+(1-X)*(o-u))*(X*s+(1-X)*(o-u))+(X*D+(1-X)*(N-k))*(X*D+(1-X)*(N-k))+(X*h+(1-X)*(m-C))*(X*h+(1-X)*(m-C)),_>11920928955078125e-23?(F=1/+at(+_),_e=(X*s+(1-X)*(o-u))*F,pe=F*(X*h+(1-X)*(m-C)),N=F*(X*D+(1-X)*(N-k))):(_e=Ce*E+we*B+be*F,pe=E*Ke+B*Ze+F*ut,N=E*Ae+B*qe+F*He),C=Te*it*pe-kt*it*N,E=kt*it*_e-pe*(st*it),D=N*(st*it)-Te*it*_e,xe=e[n+12>>2]|0,i[xe>>2]=q*pe-Y*N,i[xe+4>>2]=Y*_e-$*pe,i[xe+8>>2]=$*N-q*_e,xe=e[n+20>>2]|0,i[xe>>2]=-(z*pe-V*N),i[xe+4>>2]=-(V*_e-O*pe),i[xe+8>>2]=-(O*N-z*_e),L<11920928955078125e-23|U<11920928955078125e-23&&(A[t+716>>0]|0)!=0?(s=(1-X)*(z*D-V*E),o=(1-X)*(V*C-O*D),u=(1-X)*(O*E-z*C),_=X*(q*D-Y*E),h=X*(Y*C-$*D),m=X*($*E-q*C)):(s=z*D-V*E,o=V*C-O*D,u=O*E-z*C,_=q*D-Y*E,h=Y*C-$*D,m=$*E-q*C),xe=(e[n+12>>2]|0)+(w<<2)|0,i[xe>>2]=_,i[xe+4>>2]=h,i[xe+8>>2]=m,xe=e[n+20>>2]|0,i[xe+(w<<2)>>2]=-s,i[xe+(w+1<<2)>>2]=-o,i[xe+(w+2<<2)>>2]=-u,L<11920928955078125e-23|U<11920928955078125e-23?(m=(1-X)*(z*(kt*it)-V*(Te*it)),h=(1-X)*(V*(st*it)-O*(kt*it)),_=(1-X)*(O*(Te*it)-z*(st*it)),u=X*(q*(kt*it)-Y*(Te*it)),o=X*(Y*(st*it)-$*(kt*it)),s=X*($*(Te*it)-q*(st*it))):(m=z*(kt*it)-V*(Te*it),h=V*(st*it)-O*(kt*it),_=O*(Te*it)-z*(st*it),u=q*(kt*it)-Y*(Te*it),o=Y*(st*it)-$*(kt*it),s=$*(Te*it)-q*(st*it)),a=(e[n+12>>2]|0)+(w<<1<<2)|0,i[a>>2]=u,i[a+4>>2]=o,i[a+8>>2]=s,a=e[n+20>>2]|0,i[a+(w<<1<<2)>>2]=-m,i[a+((w<<1|1)<<2)>>2]=-h,i[a+((w<<1)+2<<2)>>2]=-_,h=+i[((e[t+748>>2]&8|0)==0?n+4|0:t+756|0)>>2],s=h*+i[n>>2],A[t+736>>0]|0?(s=-_e,o=-C,u=-E,_=-D,g=e[n+28>>2]|0):(g=e[n+8>>2]|0,i[g>>2]=_e,i[g+4>>2]=N,i[g+8>>2]=pe,g=(e[n+8>>2]|0)+(w<<2)|0,i[g>>2]=C,i[g+4>>2]=E,i[g+8>>2]=D,g=(e[n+8>>2]|0)+(w<<1<<2)|0,i[g>>2]=st*it,i[g+4>>2]=Te*it,i[g+8>>2]=kt*it,g=e[n+16>>2]|0,o=-_e,i[g>>2]=o,i[g+4>>2]=-N,i[g+8>>2]=-pe,g=e[n+16>>2]|0,i[g+(w<<2)>>2]=-C,i[g+(w+1<<2)>>2]=-E,i[g+(w+2<<2)>>2]=-D,g=e[n+16>>2]|0,i[g+(w<<1<<2)>>2]=-(st*it),i[g+((w<<1|1)<<2)>>2]=-(Te*it),i[g+((w<<1)+2<<2)>>2]=-(kt*it),g=e[n+28>>2]|0,i[g>>2]=s*(ne*_e+W*N+te*pe),i[g+(w<<2)>>2]=s*(ne*C+W*E+te*D),i[g+(w<<1<<2)>>2]=s*(ne*(st*it)+W*(Te*it)+te*(kt*it)),s=o,o=-C,u=-E,_=-D,a=e[n+20>>2]|0),l=e[n+12>>2]|0,i[l+(w*3<<2)>>2]=_e,i[l+((w*3|0)+1<<2)>>2]=N,i[l+((w*3|0)+2<<2)>>2]=pe,i[l+(w<<2<<2)>>2]=C,i[l+((w<<2|1)<<2)>>2]=E,i[l+((w<<2|2)<<2)>>2]=D,i[a+(w*3<<2)>>2]=s,i[a+((w*3|0)+1<<2)>>2]=-N,i[a+((w*3|0)+2<<2)>>2]=-pe,i[a+(w<<2<<2)>>2]=o,i[a+((w<<2|1)<<2)>>2]=u,i[a+((w<<2|2)<<2)>>2]=_,W=h*+i[n>>2],te=(Se*Ae+ge*qe+ke*He)*(pt*ve+Nt*de+he*fe)-(Se*Ke+ge*Ze+ke*ut)*(pt*me+Nt*re+he*oe),ut=(Se*Ke+ge*Ze+ke*ut)*(ot*pt+mt*Nt+lt*he)-(Ce*Se+we*ge+be*ke)*(pt*ve+Nt*de+he*fe),Nt=(Ce*Se+we*ge+be*ke)*(pt*me+Nt*re+he*oe)-(Se*Ae+ge*qe+ke*He)*(ot*pt+mt*Nt+lt*he),i[g+(w*3<<2)>>2]=W*(te*_e+ut*N+Nt*pe),i[g+(w<<2<<2)>>2]=W*(te*C+ut*E+Nt*D),A[t+716>>0]|0?(C=+i[t+708>>2]*+i[t+732>>2],M=C>0?1:2):(M=0,C=0),d=A[t+737>>0]|0,S=(M|0)!=0,!!(d&255|M)){if(w=(e[n+24>>2]|0)*5|0,i[l+(w<<2)>>2]=st*it,i[l+(w+1<<2)>>2]=Te*it,i[l+(w+2<<2)>>2]=kt*it,i[a+(w<<2)>>2]=-(st*it),i[a+(w+1<<2)>>2]=-(Te*it),i[a+(w+2<<2)>>2]=-(kt*it),o=+i[t+688>>2],u=+i[t+692>>2],s=+an(o-u),s<-3.1415927410125732?m=s+6.2831854820251465:s>3.1415927410125732?m=s+-6.2831854820251465:m=s,s=+an(o+u),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),l=m==s,g=g+(w<<2)|0,i[g>>2]=0,a=e[t+748>>2]|0,a&2&&(h=+i[t+764>>2]),!(d<<24>>24==0|S&l)){a&4|0&&(e[(e[n+32>>2]|0)+(w<<2)>>2]=e[t+752>>2]),u=+i[t+728>>2],_=+i[t+680>>2],o=m>s?1:0;do if(m>=s)s=o;else{if(o=_/(h*+i[n>>2]),o<0)if(u>=m&m-o>u){s=(m-u)/o;break}else{s=u<m?0:1;break}if(o>0)if(u<=s&s-o<u){s=(s-u)/o;break}else{s=u>s?0:1;break}else s=0}while(!1);i[g>>2]=s*_*+i[t+732>>2]+ +i[g>>2],i[(e[n+36>>2]|0)+(w<<2)>>2]=-+i[t+684>>2],e[(e[n+40>>2]|0)+(w<<2)>>2]=e[t+684>>2]}if(S){i[g>>2]=+i[g>>2]+C*(h*+i[n>>2]),a&1|0&&(e[(e[n+32>>2]|0)+(w<<2)>>2]=e[t+760>>2]);do if(l)i[(e[n+36>>2]|0)+(w<<2)>>2]=-34028234663852886e22,i[(e[n+40>>2]|0)+(w<<2)>>2]=34028234663852886e22;else if(l=(e[n+36>>2]|0)+(w<<2)|0,a=e[n+40>>2]|0,(M|0)==1){i[l>>2]=0,i[a+(w<<2)>>2]=34028234663852886e22;break}else{i[l>>2]=-34028234663852886e22,i[a+(w<<2)>>2]=0;break}while(!1);o=+i[t+704>>2];do if(o>0)if(s=+i[X0+352>>2]*(st*it)+ +i[X0+356>>2]*(Te*it)+ +i[X0+360>>2]*(kt*it)-(st*it*+i[Z0+352>>2]+Te*it*+i[Z0+356>>2]+kt*it*+i[Z0+360>>2]),(M|0)==1){if(!(s<0)||!(+i[g>>2]<-(o*s)))break;i[g>>2]=-(o*s);break}else{if(!(s>0)||!(+i[g>>2]>-(o*s)))break;i[g>>2]=-(o*s);break}while(!1);i[g>>2]=+i[t+700>>2]*+i[g>>2]}}}function rse(t,n,s,o){switch(t=t|0,n=n|0,s=+s,o=o|0,o|0){case 5:case-1:break;default:return}switch(n|0){case 2:{i[t+764>>2]=s,e[t+748>>2]=e[t+748>>2]|2;return}case 4:{i[t+760>>2]=s,e[t+748>>2]=e[t+748>>2]|1;return}case 3:{i[t+752>>2]=s,e[t+748>>2]=e[t+748>>2]|4;return}case 1:{i[t+756>>2]=s,e[t+748>>2]=e[t+748>>2]|8;return}default:return}}function sse(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;e:do switch(s|0){case 5:case-1:switch(n|0){case 2:{o=+i[t+764>>2];break e}case 4:{o=+i[t+760>>2];break e}case 3:{o=+i[t+752>>2];break e}case 1:{o=+i[t+756>>2];break e}default:{o=0;break e}}default:o=0}while(!1);return+o}function ose(t){return t=t|0,220}function ase(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0;return Ra(t,n,s)|0,e[n+52>>2]=e[t+552>>2],e[n+56>>2]=e[t+556>>2],e[n+60>>2]=e[t+560>>2],e[n+64>>2]=e[t+564>>2],e[n+68>>2]=e[t+568>>2],e[n+72>>2]=e[t+572>>2],e[n+76>>2]=e[t+576>>2],e[n+80>>2]=e[t+580>>2],e[n+84>>2]=e[t+584>>2],e[n+88>>2]=e[t+588>>2],e[n+92>>2]=e[t+592>>2],e[n+96>>2]=e[t+596>>2],e[n+100>>2]=e[t+600>>2],e[n+104>>2]=e[t+604>>2],e[n+108>>2]=e[t+608>>2],e[n+112>>2]=e[t+612>>2],e[n+116>>2]=e[t+616>>2],e[n+120>>2]=e[t+620>>2],e[n+124>>2]=e[t+624>>2],e[n+128>>2]=e[t+628>>2],e[n+132>>2]=e[t+632>>2],e[n+136>>2]=e[t+636>>2],e[n+140>>2]=e[t+640>>2],e[n+144>>2]=e[t+644>>2],e[n+148>>2]=e[t+648>>2],e[n+152>>2]=e[t+652>>2],e[n+156>>2]=e[t+656>>2],e[n+160>>2]=e[t+660>>2],e[n+164>>2]=e[t+664>>2],e[n+168>>2]=e[t+668>>2],e[n+172>>2]=e[t+672>>2],e[n+176>>2]=e[t+676>>2],s=ee[t+736>>1]|0,e[n+184>>2]=s&255,e[n+188>>2]=(s&65535)>>>8&65535,e[n+196>>2]=e[t+684>>2],e[n+192>>2]=e[t+680>>2],e[n+180>>2]=It[t+740>>0],a=+i[t+688>>2],l=+i[t+692>>2],o=+an(a-l),o<-3.1415927410125732?o=o+6.2831854820251465:o>3.1415927410125732&&(o=o+-6.2831854820251465),i[n+200>>2]=o,o=+an(a+l),o<-3.1415927410125732?(l=o+6.2831854820251465,s=n+204|0,i[s>>2]=l,s=t+696|0,s=e[s>>2]|0,u=n+208|0,e[u>>2]=s,u=t+700|0,u=e[u>>2]|0,s=n+212|0,e[s>>2]=u,s=t+704|0,s=e[s>>2]|0,t=n+216|0,e[t>>2]=s,15376):o>3.1415927410125732?(l=o+-6.2831854820251465,u=n+204|0,i[u>>2]=l,u=t+696|0,u=e[u>>2]|0,s=n+208|0,e[s>>2]=u,s=t+700|0,s=e[s>>2]|0,u=n+212|0,e[u>>2]=s,t=t+704|0,t=e[t>>2]|0,u=n+216|0,e[u>>2]=t,15376):(l=o,u=n+204|0,i[u>>2]=l,u=t+696|0,u=e[u>>2]|0,s=n+208|0,e[s>>2]=u,s=t+700|0,s=e[s>>2]|0,u=n+212|0,e[u>>2]=s,t=t+704|0,t=e[t>>2]|0,u=n+216|0,e[u>>2]=t,15376)}function cse(t){return t=t|0,e[t+748>>2]|0}function Um(t,n,s,o,a,l,u,_){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0;var h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0;e[t+4>>2]=4,e[t+8>>2]=-1,e[t+12>>2]=-1,i[t+16>>2]=34028234663852886e22,A[t+20>>0]=1,A[t+21>>0]=0,e[t+24>>2]=-1,e[t+28>>2]=n,e[t+32>>2]=s,i[t+36>>2]=0,i[t+40>>2]=.30000001192092896,e[t+44>>2]=0,e[t>>2]=7428,i[t+688>>2]=0,i[t+692>>2]=-1,i[t+696>>2]=.8999999761581421,i[t+700>>2]=.30000001192092896,i[t+704>>2]=1,i[t+708>>2]=0,i[t+712>>2]=0,A[t+716>>0]=0,A[t+736>>0]=0,A[t+737>>0]=0,A[t+738>>0]=0,A[t+739>>0]=1,A[t+740>>0]=_&1,e[t+748>>2]=0,e[t+748+4>>2]=0,e[t+748+8>>2]=0,e[t+748+12>>2]=0,e[t+748+16>>2]=0,e[t+600>>2]=e[o>>2],e[t+600+4>>2]=e[o+4>>2],e[t+600+8>>2]=e[o+8>>2],e[t+600+12>>2]=e[o+12>>2],h=+i[n+4>>2],d=+i[n+20>>2],m=+i[n+36>>2],g=+i[l>>2],S=+i[l+4>>2],C=+i[l+8>>2];do if(h*g+d*S+m*C>=.9999998807907104)E=(i[Z>>2]=-+i[n+12>>2],e[Z>>2]|0),D=(i[Z>>2]=-+i[n+28>>2],e[Z>>2]|0),M=(i[Z>>2]=-+i[n+44>>2],e[Z>>2]|0),s=e[n+8>>2]|0,_=e[n+40>>2]|0,o=e[n+24>>2]|0;else if(h*g+d*S+m*C<=-.9999998807907104){E=e[n+12>>2]|0,D=e[n+28>>2]|0,M=e[n+44>>2]|0,s=e[n+8>>2]|0,_=e[n+40>>2]|0,o=e[n+24>>2]|0;break}else{s=(i[Z>>2]=m*S-d*C,e[Z>>2]|0),o=(i[Z>>2]=h*C-m*g,e[Z>>2]|0),_=(i[Z>>2]=d*g-h*S,e[Z>>2]|0),E=(i[Z>>2]=C*(h*C-m*g)-S*(d*g-h*S),e[Z>>2]|0),D=(i[Z>>2]=g*(d*g-h*S)-C*(m*S-d*C),e[Z>>2]|0),M=(i[Z>>2]=S*(m*S-d*C)-g*(h*C-m*g),e[Z>>2]|0);break}while(!1);e[t+552>>2]=E,e[t+556>>2]=s,e[t+560>>2]=e[l>>2],i[t+564>>2]=0,e[t+568>>2]=D,e[t+572>>2]=o,e[t+576>>2]=e[l+4>>2],i[t+580>>2]=0,e[t+584>>2]=M,e[t+588>>2]=_,e[t+592>>2]=e[l+8>>2],i[t+596>>2]=0,m=+i[l+4>>2],S=+i[u+8>>2],h=+i[l+8>>2],C=+i[u+4>>2],w=+i[u>>2],d=+i[l>>2];do if(S*h+(m*C+w*d)<-.9999998807907104)if(+ht(+h)>.7071067690849304){d=1/+at(+(m*m+h*h)),s=0,g=0,h=-(h*d),o=(i[Z>>2]=m*d,e[Z>>2]|0);break}else{h=1/+at(+(m*m+d*d)),s=(i[Z>>2]=-(m*h),e[Z>>2]|0),g=0,h=d*h,o=0;break}else N=+at(+((S*h+(m*C+w*d)+1)*2)),s=(i[Z>>2]=(m*S-h*C)*(1/N),e[Z>>2]|0),g=N*.5,h=(h*w-S*d)*(1/N),o=(i[Z>>2]=(C*d-m*w)*(1/N),e[Z>>2]|0);while(!1);m=(e[Z>>2]=E,+i[Z>>2]),L=(e[Z>>2]=M,+i[Z>>2]),F=(e[Z>>2]=o,+i[Z>>2]),N=(e[Z>>2]=D,+i[Z>>2]),U=m*g+L*h-N*F,d=(e[Z>>2]=s,+i[Z>>2]),B=N*g+m*F-L*d,k=L*g+N*d-m*h,L=-(m*d)-N*h-L*F,h=-h,N=B*-F+(g*U+L*-d)-k*h,m=k*-d+(g*B+L*h)-U*-F,g=U*h+(L*-F+g*k)-B*-d,e[t+664>>2]=e[a>>2],e[t+664+4>>2]=e[a+4>>2],e[t+664+8>>2]=e[a+8>>2],e[t+664+12>>2]=e[a+12>>2],i[t+616>>2]=N,i[t+620>>2]=C*g-S*m,e[t+624>>2]=e[u>>2],i[t+628>>2]=0,i[t+632>>2]=m,i[t+636>>2]=S*N-w*g,e[t+640>>2]=e[u+4>>2],i[t+644>>2]=0,i[t+648>>2]=g,i[t+652>>2]=w*m-C*N,e[t+656>>2]=e[u+8>>2],i[t+660>>2]=0,i[t+732>>2]=A[t+740>>0]|0?-1:1}function Om(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0;dh(t,4,n),e[t>>2]=7428,e[t+552>>2]=e[s>>2],e[t+552+4>>2]=e[s+4>>2],e[t+552+8>>2]=e[s+8>>2],e[t+552+12>>2]=e[s+12>>2],e[t+568>>2]=e[s+16>>2],e[t+568+4>>2]=e[s+16+4>>2],e[t+568+8>>2]=e[s+16+8>>2],e[t+568+12>>2]=e[s+16+12>>2],e[t+584>>2]=e[s+32>>2],e[t+584+4>>2]=e[s+32+4>>2],e[t+584+8>>2]=e[s+32+8>>2],e[t+584+12>>2]=e[s+32+12>>2],e[t+600>>2]=e[s+48>>2],e[t+600+4>>2]=e[s+48+4>>2],e[t+600+8>>2]=e[s+48+8>>2],e[t+600+12>>2]=e[s+48+12>>2],e[t+616>>2]=e[s>>2],e[t+616+4>>2]=e[s+4>>2],e[t+616+8>>2]=e[s+8>>2],e[t+616+12>>2]=e[s+12>>2],e[t+632>>2]=e[s+16>>2],e[t+632+4>>2]=e[s+16+4>>2],e[t+632+8>>2]=e[s+16+8>>2],e[t+632+12>>2]=e[s+16+12>>2],e[t+648>>2]=e[s+32>>2],e[t+648+4>>2]=e[s+32+4>>2],e[t+648+8>>2]=e[s+32+8>>2],e[t+648+12>>2]=e[s+32+12>>2],e[t+664>>2]=e[s+48>>2],e[t+664+4>>2]=e[s+48+4>>2],e[t+664+8>>2]=e[s+48+8>>2],e[t+664+12>>2]=e[s+48+12>>2],i[t+688>>2]=0,i[t+692>>2]=-1,i[t+696>>2]=.8999999761581421,i[t+700>>2]=.30000001192092896,i[t+704>>2]=1,i[t+708>>2]=0,i[t+712>>2]=0,A[t+716>>0]=0,A[t+736>>0]=0,A[t+737>>0]=0,A[t+738>>0]=0,A[t+739>>0]=1,A[t+740>>0]=o&1,e[t+748>>2]=0,e[t+748+4>>2]=0,e[t+748+8>>2]=0,e[t+748+12>>2]=0,e[t+748+16>>2]=0,s=e[t+28>>2]|0,h=+i[t+600>>2],_=+i[t+604>>2],u=+i[t+608>>2],l=h*+i[s+20>>2]+_*+i[s+24>>2]+u*+i[s+28>>2]+ +i[s+56>>2],a=h*+i[s+36>>2]+_*+i[s+40>>2]+u*+i[s+44>>2]+ +i[s+60>>2],i[t+664>>2]=h*+i[s+4>>2]+_*+i[s+8>>2]+u*+i[s+12>>2]+ +i[s+52>>2],i[t+668>>2]=l,i[t+672>>2]=a,i[t+676>>2]=0,i[t+732>>2]=o?-1:1}function lse(t,n,s){t=t|0,n=n|0,s=s|0}function use(t,n,s){t=t|0,n=n|0,s=s|0}function fse(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function pse(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0;s=H,H=H+144|0,i[t+36>>2]=0,e[s+128>>2]=0,e[s+128+4>>2]=0,e[s+128+8>>2]=0,e[s+128+12>>2]=0,n=0;do o=s+128+(n<<2)|0,i[o>>2]=1,L=e[t+28>>2]|0,X=e[L+4>>2]|0,e[s+80>>2]=X,Y=e[L+20>>2]|0,e[s+80+4>>2]=Y,V=e[L+36>>2]|0,e[s+80+8>>2]=V,i[s+80+12>>2]=0,q=e[L+8>>2]|0,e[s+80+16>>2]=q,z=e[L+24>>2]|0,e[s+80+20>>2]=z,U=e[L+40>>2]|0,e[s+80+24>>2]=U,i[s+80+28>>2]=0,$=e[L+12>>2]|0,e[s+80+32>>2]=$,O=e[L+28>>2]|0,e[s+80+36>>2]=O,F=e[L+44>>2]|0,e[s+80+40>>2]=F,i[s+80+44>>2]=0,a=e[t+32>>2]|0,k=e[a+4>>2]|0,e[s+32>>2]=k,D=e[a+20>>2]|0,e[s+32+4>>2]=D,w=e[a+36>>2]|0,e[s+32+8>>2]=w,i[s+32+12>>2]=0,B=e[a+8>>2]|0,e[s+32+16>>2]=B,E=e[a+24>>2]|0,e[s+32+20>>2]=E,C=e[a+40>>2]|0,e[s+32+24>>2]=C,i[s+32+28>>2]=0,N=e[a+12>>2]|0,e[s+32+32>>2]=N,M=e[a+28>>2]|0,e[s+32+36>>2]=M,l=e[a+44>>2]|0,e[s+32+40>>2]=l,i[s+32+44>>2]=0,g=+i[t+300>>2],h=g*(e[Z>>2]=X,+i[Z>>2]),u=+i[t+304>>2],h=h+u*(e[Z>>2]=q,+i[Z>>2]),_=+i[t+308>>2],h=h+_*(e[Z>>2]=$,+i[Z>>2]),S=g*(e[Z>>2]=Y,+i[Z>>2]),S=S+u*(e[Z>>2]=z,+i[Z>>2]),S=S+_*(e[Z>>2]=O,+i[Z>>2]),g=g*(e[Z>>2]=V,+i[Z>>2]),u=g+u*(e[Z>>2]=U,+i[Z>>2]),g=+i[L+52>>2],m=+i[L+56>>2],d=+i[L+60>>2],d=u+_*(e[Z>>2]=F,+i[Z>>2])+d-d,i[s+16>>2]=h+g-g,i[s+16+4>>2]=S+m-m,i[s+16+8>>2]=d,i[s+16+12>>2]=0,d=+i[t+316>>2],m=d*(e[Z>>2]=k,+i[Z>>2]),S=+i[t+320>>2],m=m+S*(e[Z>>2]=B,+i[Z>>2]),g=+i[t+324>>2],m=m+g*(e[Z>>2]=N,+i[Z>>2]),h=d*(e[Z>>2]=D,+i[Z>>2]),h=h+S*(e[Z>>2]=E,+i[Z>>2]),h=h+g*(e[Z>>2]=M,+i[Z>>2]),d=d*(e[Z>>2]=w,+i[Z>>2]),S=d+S*(e[Z>>2]=C,+i[Z>>2]),d=+i[a+52>>2],_=+i[a+56>>2],u=+i[a+60>>2],u=S+g*(e[Z>>2]=l,+i[Z>>2])+u-u,i[s>>2]=m+d-d,i[s+4>>2]=h+_-_,i[s+8>>2]=u,i[s+12>>2]=0,l=e[t+28>>2]|0,a=e[t+32>>2]|0,ip(t+48+(n*84|0)|0,s+80|0,s+32|0,s+16|0,s,s+128|0,l+420|0,+i[l+368>>2],a+420|0,+i[a+368>>2]),i[o>>2]=0,n=n+1|0;while((n|0)!=3);H=s}function _se(t,n){t=t|0,n=n|0,t=(A[t+344>>0]|0)==0?3:0,e[n>>2]=t,e[n+4>>2]=t}function hse(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(_=e[t+28>>2]|0,h=e[t+32>>2]|0,a=e[n+8>>2]|0,i[a>>2]=1,l=e[n+24>>2]|0,i[a+(l+1<<2)>>2]=1,i[a+((l<<1)+2<<2)>>2]=1,d=+i[t+300>>2],w=+i[t+304>>2],o=+i[t+308>>2],S=+i[_+4>>2]*d+ +i[_+8>>2]*w+ +i[_+12>>2]*o,m=d*+i[_+20>>2]+w*+i[_+24>>2]+o*+i[_+28>>2],o=d*+i[_+36>>2]+w*+i[_+40>>2]+o*+i[_+44>>2],a=e[n+12>>2]|0,e[a>>2]=0,i[a+4>>2]=o,i[a+8>>2]=-m,i[a+12>>2]=0,i[a+(l<<2)>>2]=-o,e[a+(l<<2)+4>>2]=0,i[a+(l<<2)+8>>2]=S,i[a+(l<<2)+12>>2]=0,i[a+(l<<1<<2)>>2]=m,i[a+(l<<1<<2)+4>>2]=-S,e[a+(l<<1<<2)+8>>2]=0,i[a+(l<<1<<2)+12>>2]=0,a=e[n+16>>2]|0,i[a>>2]=-1,i[a+(l+1<<2)>>2]=-1,i[a+((l<<1)+2<<2)>>2]=-1,w=+i[t+316>>2],d=+i[t+320>>2],s=+i[t+324>>2],C=+i[h+4>>2]*w+ +i[h+8>>2]*d+ +i[h+12>>2]*s,g=w*+i[h+20>>2]+d*+i[h+24>>2]+s*+i[h+28>>2],s=w*+i[h+36>>2]+d*+i[h+40>>2]+s*+i[h+44>>2],l=e[n+20>>2]|0,a=e[n+24>>2]|0,e[l>>2]=0,i[l+4>>2]=-s,i[l+8>>2]=g,i[l+12>>2]=0,i[l+(a<<2)>>2]=s,e[l+(a<<2)+4>>2]=0,i[l+(a<<2)+8>>2]=-C,i[l+(a<<2)+12>>2]=0,i[l+(a<<1<<2)>>2]=-g,i[l+(a<<1<<2)+4>>2]=C,e[l+(a<<1<<2)+8>>2]=0,i[l+(a<<1<<2)+12>>2]=0,a=e[t+332>>2]|0,d=+i[((a&1|0)==0?n+4|0:t+336|0)>>2]*+i[n>>2],l=e[n+24>>2]|0,u=e[n+28>>2]|0,i[u>>2]=d*(C+ +i[h+52>>2]-S-+i[_+52>>2]),i[u+(l<<2)>>2]=d*(g+ +i[h+56>>2]-m-+i[_+56>>2]),i[u+(l<<1<<2)>>2]=d*(s+ +i[h+60>>2]-o-+i[_+60>>2]),a&2|0&&(h=e[n+24>>2]|0,_=e[n+32>>2]|0,e[_>>2]=e[t+340>>2],e[_+(h<<2)>>2]=e[t+340>>2],e[_+(h<<1<<2)>>2]=e[t+340>>2]),o=+i[t+356>>2],o>0?(i[e[n+36>>2]>>2]=-o,i[e[n+40>>2]>>2]=o,s=+i[t+356>>2]):s=o,s>0&&(h=e[n+24>>2]|0,i[(e[n+36>>2]|0)+(h<<2)>>2]=-o,i[(e[n+40>>2]|0)+(h<<2)>>2]=o,s=+i[t+356>>2]),!(s>0)){_=t+352|0,_=e[_>>2]|0,h=n+52|0,e[h>>2]=_;return}_=e[n+24>>2]<<1,i[(e[n+36>>2]|0)+(_<<2)>>2]=-o,i[(e[n+40>>2]|0)+(_<<2)>>2]=o,_=t+352|0,_=e[_>>2]|0,h=n+52|0,e[h>>2]=_}function dse(t,n,s,o){if(t=t|0,n=n|0,s=+s,o=o|0,(o|0)==-1)switch(n|0){case 2:case 1:{i[t+336>>2]=s,e[t+332>>2]=e[t+332>>2]|1;return}case 4:case 3:{i[t+340>>2]=s,e[t+332>>2]=e[t+332>>2]|2;return}default:return}}function mse(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;e:do if((s|0)==-1)switch(n|0){case 2:case 1:{o=+i[t+336>>2];break e}case 4:case 3:{o=+i[t+340>>2];break e}default:{o=34028234663852886e22;break e}}else o=34028234663852886e22;while(!1);return+o}function gse(t){return t=t|0,84}function xse(t,n,s){return t=t|0,n=n|0,s=s|0,Ra(t,n,s)|0,e[n+52>>2]=e[t+300>>2],e[n+56>>2]=e[t+304>>2],e[n+60>>2]=e[t+308>>2],e[n+64>>2]=e[t+312>>2],e[n+68>>2]=e[t+316>>2],e[n+72>>2]=e[t+320>>2],e[n+76>>2]=e[t+324>>2],e[n+80>>2]=e[t+328>>2],15429}function yse(t){return t=t|0,e[t+332>>2]|0}function Gm(t){t=t|0;var n=0;if(e[t>>2]=7540,n=e[t+176>>2]|0,n|0&&(A[t+180>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+176>>2]=0),A[t+180>>0]=1,e[t+176>>2]=0,e[t+168>>2]=0,e[t+172>>2]=0,n=e[t+156>>2]|0,n|0&&(A[t+160>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+156>>2]=0),A[t+160>>0]=1,e[t+156>>2]=0,e[t+148>>2]=0,e[t+152>>2]=0,n=e[t+136>>2]|0,n|0&&(A[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+136>>2]=0),A[t+140>>0]=1,e[t+136>>2]=0,e[t+128>>2]=0,e[t+132>>2]=0,n=e[t+116>>2]|0,n|0&&(A[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+116>>2]=0),A[t+120>>0]=1,e[t+116>>2]=0,e[t+108>>2]=0,e[t+112>>2]=0,n=e[t+96>>2]|0,n|0&&(A[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+96>>2]=0),A[t+100>>0]=1,e[t+96>>2]=0,e[t+88>>2]=0,e[t+92>>2]=0,n=e[t+76>>2]|0,n|0&&(A[t+80>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+76>>2]=0),A[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,e[t+72>>2]=0,n=e[t+56>>2]|0,n|0&&(A[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+56>>2]=0),A[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,n=e[t+36>>2]|0,n|0&&(A[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),A[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,n=e[t+16>>2]|0,!n){A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0;return}A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,A[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0}function vse(t){t=t|0,Gm(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Sse(t,n,s,o,a,l,u,_,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0;var m=0;if(m=H,H=H+16|0,$n(15521),+Gh[e[(e[t>>2]|0)+44>>2]&3](t,n,s,o,a,l,u,_,h),+Gh[e[(e[t>>2]|0)+48>>2]&3](t,n,s,o,a,l,u,_,h),+Km[e[(e[t>>2]|0)+36>>2]&1](t,n,s,_),d=e[2006]|0,t=(e[d+16>>2]|0)+-1|0,e[d+16>>2]=t,t|0)return H=m,0;do if(e[d+4>>2]|0){if(Tn(m|0,0)|0,t=e[5649]|0,i[d+8>>2]=+i[d+8>>2]+ +(((e[m+4>>2]|0)-(e[t+4>>2]|0)+(((e[m>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[d+12>>2]|0)|0)>>>0)/1e3,e[d+16>>2]|0)return H=m,0;d=e[2006]|0;break}while(!1);return e[2006]=e[d+20>>2],H=m,0}function Tse(t){t=t|0,e[t+200>>2]=0}function Cse(t){return t=t|0,1}function wse(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;if((s|0)>0)a=0;else return;do Mse(t,e[n+(a<<2)>>2]|0,o),a=a+1|0;while((a|0)!=(s|0))}function Mse(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Ce=0,we=0,be=0,Se=0,ge=0,ke=0,Ae=0;if(Se=H,H=H+80|0,ae=e[n+740>>2]|0,de=e[n+744>>2]|0,fe=p1(t,ae,+i[s+12>>2])|0,Ce=p1(t,de,+i[s+12>>2])|0,xe=e[t+16>>2]|0,ne=+i[xe+(fe*244|0)+128>>2],W=+i[xe+(fe*244|0)+132>>2],te=+i[xe+(fe*244|0)+136>>2],ne*ne+W*W+te*te<14210854715202004e-30&&(ne=+i[xe+(Ce*244|0)+128>>2],W=+i[xe+(Ce*244|0)+132>>2],te=+i[xe+(Ce*244|0)+136>>2],ne*ne+W*W+te*te<14210854715202004e-30)){H=Se;return}if((e[n+748>>2]|0)<=0){H=Se;return}we=0,o=1;do{if(re=n+4+(we*184|0)|0,U=n+4+(we*184|0)+80|0,+i[U>>2]<=+i[n+756>>2]){if(oe=e[t+28>>2]|0,(oe|0)==(e[t+32>>2]|0)&&(ve=oe|0?oe<<1:1,(oe|0)<(ve|0))){if(ve?(e[5637]=(e[5637]|0)+1,a=Xe((ve*152|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,l=e[t+28>>2]|0):(a=0,l=oe),(l|0)>0){h=0;do Rr(a+(h*152|0)|0,(e[t+36>>2]|0)+(h*152|0)|0,152)|0,h=h+1|0;while((h|0)!=(l|0))}l=e[t+36>>2]|0,l|0&&(A[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+36>>2]=0),A[t+40>>0]=1,e[t+36>>2]=a,e[t+32>>2]=ve,a=e[t+28>>2]|0}else a=oe;e[t+28>>2]=a+1,me=e[t+36>>2]|0,z=(e[ae+236>>2]&2|0)==0?0:ae,Y=(e[de+236>>2]&2|0)==0?0:de,e[me+(oe*152|0)+144>>2]=fe,e[me+(oe*152|0)+148>>2]=Ce,e[me+(oe*152|0)+132>>2]=re,B=+i[n+4+(we*184|0)+48>>2]-+i[ae+52>>2],k=+i[n+4+(we*184|0)+52>>2]-+i[ae+56>>2],N=+i[n+4+(we*184|0)+56>>2]-+i[ae+60>>2],i[Se+64>>2]=B,i[Se+64+4>>2]=k,i[Se+64+8>>2]=N,i[Se+64+12>>2]=0,L=+i[n+4+(we*184|0)+32>>2]-+i[de+52>>2],V=+i[n+4+(we*184|0)+36>>2]-+i[de+56>>2],F=+i[n+4+(we*184|0)+40>>2]-+i[de+60>>2],i[Se+48>>2]=L,i[Se+48+4>>2]=V,i[Se+48+8>>2]=F,i[Se+48+12>>2]=0,e[xe+(fe*244|0)+240>>2]|0?(W=+i[xe+(fe*244|0)+192>>2]+ +i[xe+(fe*244|0)+224>>2],te=+i[xe+(fe*244|0)+196>>2]+ +i[xe+(fe*244|0)+228>>2],ne=+i[xe+(fe*244|0)+200>>2]+ +i[xe+(fe*244|0)+232>>2],a=(i[Z>>2]=+i[xe+(fe*244|0)+176>>2]+ +i[xe+(fe*244|0)+208>>2]+(te*N-ne*k),e[Z>>2]|0),h=(i[Z>>2]=+i[xe+(fe*244|0)+180>>2]+ +i[xe+(fe*244|0)+212>>2]+(ne*B-W*N),e[Z>>2]|0),g=(i[Z>>2]=+i[xe+(fe*244|0)+184>>2]+ +i[xe+(fe*244|0)+216>>2]+(W*k-te*B),e[Z>>2]|0)):(a=0,h=0,g=0),e[xe+(Ce*244|0)+240>>2]|0?(W=+i[xe+(Ce*244|0)+192>>2]+ +i[xe+(Ce*244|0)+224>>2],te=+i[xe+(Ce*244|0)+196>>2]+ +i[xe+(Ce*244|0)+228>>2],ne=+i[xe+(Ce*244|0)+200>>2]+ +i[xe+(Ce*244|0)+232>>2],l=(i[Z>>2]=+i[xe+(Ce*244|0)+176>>2]+ +i[xe+(Ce*244|0)+208>>2]+(te*F-ne*V),e[Z>>2]|0),m=(i[Z>>2]=+i[xe+(Ce*244|0)+180>>2]+ +i[xe+(Ce*244|0)+212>>2]+(ne*L-W*F),e[Z>>2]|0),S=(i[Z>>2]=+i[xe+(Ce*244|0)+184>>2]+ +i[xe+(Ce*244|0)+216>>2]+(W*V-te*L),e[Z>>2]|0)):(l=0,m=0,S=0),te=(e[Z>>2]=a,+i[Z>>2]),te=te-(e[Z>>2]=l,+i[Z>>2]),W=(e[Z>>2]=h,+i[Z>>2]),W=W-(e[Z>>2]=m,+i[Z>>2]),$=(e[Z>>2]=g,+i[Z>>2]),$=$-(e[Z>>2]=S,+i[Z>>2]),pe=n+4+(we*184|0)+64|0,q=+i[pe>>2],_e=n+4+(we*184|0)+68|0,X=+i[_e>>2],he=n+4+(we*184|0)+72|0,ne=+i[he>>2],S=e[t+16>>2]|0,m=e[S+(fe*244|0)+240>>2]|0,g=e[S+(Ce*244|0)+240>>2]|0,m|0?(h=(i[Z>>2]=((k*ne-N*X)*+i[m+288>>2]+(N*q-ne*B)*+i[m+292>>2]+(X*B-k*q)*+i[m+296>>2])*+i[m+568>>2],e[Z>>2]|0),a=(i[Z>>2]=((k*ne-N*X)*+i[m+304>>2]+(N*q-ne*B)*+i[m+308>>2]+(X*B-k*q)*+i[m+312>>2])*+i[m+572>>2],e[Z>>2]|0),l=(i[Z>>2]=((k*ne-N*X)*+i[m+320>>2]+(N*q-ne*B)*+i[m+324>>2]+(X*B-k*q)*+i[m+328>>2])*+i[m+576>>2],e[Z>>2]|0)):(h=0,a=0,l=0),e[me+(oe*152|0)+64>>2]=h,e[me+(oe*152|0)+68>>2]=a,e[me+(oe*152|0)+72>>2]=l,i[me+(oe*152|0)+76>>2]=0,M=+i[he>>2],E=+i[_e>>2],D=+i[pe>>2],w=(e[Z>>2]=a,+i[Z>>2]),C=(e[Z>>2]=l,+i[Z>>2]),_=(e[Z>>2]=h,+i[Z>>2]),g|0?(a=(i[Z>>2]=(+i[g+288>>2]*-(V*M-F*E)+ +i[g+292>>2]*-(F*D-M*L)+ +i[g+296>>2]*-(E*L-V*D))*+i[g+568>>2],e[Z>>2]|0),l=(i[Z>>2]=(+i[g+304>>2]*-(V*M-F*E)+ +i[g+308>>2]*-(F*D-M*L)+ +i[g+312>>2]*-(E*L-V*D))*+i[g+572>>2],e[Z>>2]|0),h=(i[Z>>2]=(+i[g+320>>2]*-(V*M-F*E)+ +i[g+324>>2]*-(F*D-M*L)+ +i[g+328>>2]*-(E*L-V*D))*+i[g+576>>2],e[Z>>2]|0)):(a=0,l=0,h=0),e[me+(oe*152|0)+80>>2]=a,e[me+(oe*152|0)+84>>2]=l,e[me+(oe*152|0)+88>>2]=h,i[me+(oe*152|0)+92>>2]=0,d=(e[Z>>2]=a,+i[Z>>2]),u=(e[Z>>2]=l,+i[Z>>2]),m|0?_=+i[m+368>>2]+((w*N-C*k)*+i[pe>>2]+(C*B-N*_)*+i[_e>>2]+(k*_-w*B)*+i[he>>2]):_=0,g|0?(O=(e[Z>>2]=h,-+i[Z>>2]),u=+i[g+368>>2]+((F*-u-V*O)*+i[pe>>2]+(L*O-F*-d)*+i[_e>>2]+(V*-d-L*-u)*+i[he>>2])):u=0,i[me+(oe*152|0)+108>>2]=1/(_+u),m|0?(e[me+(oe*152|0)+16>>2]=e[pe>>2],e[me+(oe*152|0)+16+4>>2]=e[pe+4>>2],e[me+(oe*152|0)+16+8>>2]=e[pe+8>>2],e[me+(oe*152|0)+16+12>>2]=e[pe+12>>2],i[me+(oe*152|0)>>2]=k*ne-N*X,i[me+(oe*152|0)+4>>2]=N*q-ne*B,i[me+(oe*152|0)+8>>2]=X*B-k*q,i[me+(oe*152|0)+12>>2]=0):(e[me+(oe*152|0)>>2]=0,e[me+(oe*152|0)+4>>2]=0,e[me+(oe*152|0)+8>>2]=0,e[me+(oe*152|0)+12>>2]=0,e[me+(oe*152|0)+16>>2]=0,e[me+(oe*152|0)+20>>2]=0,e[me+(oe*152|0)+24>>2]=0,e[me+(oe*152|0)+28>>2]=0),g|0?(w=-+i[_e>>2],O=-+i[he>>2],i[me+(oe*152|0)+48>>2]=-+i[pe>>2],i[me+(oe*152|0)+52>>2]=w,i[me+(oe*152|0)+56>>2]=O,i[me+(oe*152|0)+60>>2]=0,i[me+(oe*152|0)+32>>2]=-(V*M-F*E),i[me+(oe*152|0)+36>>2]=-(F*D-M*L),i[me+(oe*152|0)+40>>2]=-(E*L-V*D),i[me+(oe*152|0)+44>>2]=0):(e[me+(oe*152|0)+32>>2]=0,e[me+(oe*152|0)+32+4>>2]=0,e[me+(oe*152|0)+32+8>>2]=0,e[me+(oe*152|0)+32+12>>2]=0,e[me+(oe*152|0)+32+16>>2]=0,e[me+(oe*152|0)+32+20>>2]=0,e[me+(oe*152|0)+32+24>>2]=0,e[me+(oe*152|0)+32+28>>2]=0),O=+i[U>>2]+ +i[s+56>>2],m|0?(C=+i[m+356>>2],w=+i[m+360>>2],D=+i[m+352>>2],M=C*N-w*k+ +i[m+336>>2],w=+i[m+340>>2]+(w*B-N*D),C=k*D-C*B+ +i[m+344>>2]):(M=0,w=0,C=0),g|0?(u=+i[g+356>>2],_=+i[g+360>>2],k=+i[g+352>>2],d=u*F-_*V+ +i[g+336>>2],_=+i[g+340>>2]+(_*L-F*k),u=V*k-u*L+ +i[g+344>>2]):(d=0,_=0,u=0),L=(M-d)*+i[pe>>2]+(w-_)*+i[_e>>2]+(C-u)*+i[he>>2],e[me+(oe*152|0)+104>>2]=e[n+4+(we*184|0)+84>>2],L=-(L*+i[n+4+(we*184|0)+92>>2]),L=L<=0?0:L;do if(e[s+64>>2]&4){u=+i[n+4+(we*184|0)+120>>2]*+i[s+60>>2],i[me+(oe*152|0)+100>>2]=u;do if(m|0){if(!(e[S+(fe*244|0)+240>>2]|0))break;V=u*(+i[me+(oe*152|0)+20>>2]*+i[S+(fe*244|0)+132>>2]*+i[m+376>>2])*+i[S+(fe*244|0)+116>>2],F=u*(+i[me+(oe*152|0)+24>>2]*+i[S+(fe*244|0)+136>>2]*+i[m+380>>2])*+i[S+(fe*244|0)+120>>2],i[S+(fe*244|0)+64>>2]=+i[S+(fe*244|0)+112>>2]*(u*(+i[me+(oe*152|0)+16>>2]*+i[S+(fe*244|0)+128>>2]*+i[m+372>>2]))+ +i[S+(fe*244|0)+64>>2],i[S+(fe*244|0)+68>>2]=V+ +i[S+(fe*244|0)+68>>2],i[S+(fe*244|0)+72>>2]=F+ +i[S+(fe*244|0)+72>>2],F=u*+i[S+(fe*244|0)+100>>2]*+i[me+(oe*152|0)+68>>2],V=u*+i[S+(fe*244|0)+104>>2]*+i[me+(oe*152|0)+72>>2],i[S+(fe*244|0)+80>>2]=u*+i[S+(fe*244|0)+96>>2]*+i[me+(oe*152|0)+64>>2]+ +i[S+(fe*244|0)+80>>2],i[S+(fe*244|0)+84>>2]=F+ +i[S+(fe*244|0)+84>>2],i[S+(fe*244|0)+88>>2]=V+ +i[S+(fe*244|0)+88>>2]}while(!1);if(g|0){if(u=+i[me+(oe*152|0)+100>>2],!(e[S+(Ce*244|0)+240>>2]|0))break;V=+i[me+(oe*152|0)+88>>2],F=+i[me+(oe*152|0)+84>>2],k=+i[me+(oe*152|0)+80>>2],N=u*(+i[me+(oe*152|0)+52>>2]*+i[S+(Ce*244|0)+132>>2]*+i[g+376>>2])*+i[S+(Ce*244|0)+116>>2],B=u*(+i[me+(oe*152|0)+56>>2]*+i[S+(Ce*244|0)+136>>2]*+i[g+380>>2])*+i[S+(Ce*244|0)+120>>2],i[S+(Ce*244|0)+64>>2]=+i[S+(Ce*244|0)+112>>2]*(u*(+i[me+(oe*152|0)+48>>2]*+i[S+(Ce*244|0)+128>>2]*+i[g+372>>2]))+ +i[S+(Ce*244|0)+64>>2],i[S+(Ce*244|0)+68>>2]=N+ +i[S+(Ce*244|0)+68>>2],i[S+(Ce*244|0)+72>>2]=B+ +i[S+(Ce*244|0)+72>>2],F=F*(+i[S+(Ce*244|0)+100>>2]*-u),V=V*(+i[S+(Ce*244|0)+104>>2]*-u),i[S+(Ce*244|0)+80>>2]=+i[S+(Ce*244|0)+80>>2]-k*(+i[S+(Ce*244|0)+96>>2]*-u),i[S+(Ce*244|0)+84>>2]=+i[S+(Ce*244|0)+84>>2]-F,i[S+(Ce*244|0)+88>>2]=+i[S+(Ce*244|0)+88>>2]-V}}else i[me+(oe*152|0)+100>>2]=0;while(!1);i[me+(oe*152|0)+96>>2]=0,e[S+(fe*244|0)+240>>2]|0?(u=+i[S+(fe*244|0)+208>>2],_=+i[S+(fe*244|0)+212>>2],d=+i[S+(fe*244|0)+216>>2],E=+i[S+(fe*244|0)+224>>2],D=+i[S+(fe*244|0)+228>>2],N=+i[S+(fe*244|0)+232>>2]):(u=0,_=0,d=0,E=0,D=0,N=0),e[S+(Ce*244|0)+240>>2]|0?(C=+i[S+(Ce*244|0)+208>>2],w=+i[S+(Ce*244|0)+212>>2],M=+i[S+(Ce*244|0)+216>>2],B=+i[S+(Ce*244|0)+224>>2],k=+i[S+(Ce*244|0)+228>>2],F=+i[S+(Ce*244|0)+232>>2]):(C=0,w=0,M=0,B=0,k=0,F=0),u=L-((u+ +i[S+(fe*244|0)+176>>2])*+i[me+(oe*152|0)+16>>2]+(_+ +i[S+(fe*244|0)+180>>2])*+i[me+(oe*152|0)+20>>2]+(d+ +i[S+(fe*244|0)+184>>2])*+i[me+(oe*152|0)+24>>2]+((E+ +i[S+(fe*244|0)+192>>2])*+i[me+(oe*152|0)>>2]+(D+ +i[S+(fe*244|0)+196>>2])*+i[me+(oe*152|0)+4>>2]+(N+ +i[S+(fe*244|0)+200>>2])*+i[me+(oe*152|0)+8>>2])+((C+ +i[S+(Ce*244|0)+176>>2])*+i[me+(oe*152|0)+48>>2]+(w+ +i[S+(Ce*244|0)+180>>2])*+i[me+(oe*152|0)+52>>2]+(M+ +i[S+(Ce*244|0)+184>>2])*+i[me+(oe*152|0)+56>>2]+((B+ +i[S+(Ce*244|0)+192>>2])*+i[me+(oe*152|0)+32>>2]+(k+ +i[S+(Ce*244|0)+196>>2])*+i[me+(oe*152|0)+36>>2]+(F+ +i[S+(Ce*244|0)+200>>2])*+i[me+(oe*152|0)+40>>2]))),a=(e[s+44>>2]|0)==0,_=+i[s+12>>2],O>0?(d=0,u=u-O/_):d=-(O*+i[(a|O>+i[s+48>>2]?s+32|0:s+36|0)>>2])/_,V=+i[me+(oe*152|0)+108>>2],_=d*V,u=u*V,a|O>+i[s+48>>2]?(i[me+(oe*152|0)+112>>2]=_+u,i[me+(oe*152|0)+128>>2]=0):(i[me+(oe*152|0)+112>>2]=u,i[me+(oe*152|0)+128>>2]=_),i[me+(oe*152|0)+116>>2]=0,i[me+(oe*152|0)+120>>2]=0,i[me+(oe*152|0)+124>>2]=1e10,e[me+(oe*152|0)+140>>2]=e[t+68>>2],z?(l=e[z+352>>2]|0,g=e[z+356>>2]|0,S=e[z+360>>2]|0):(l=0,g=0,S=0),Y?(a=e[Y+352>>2]|0,h=e[Y+356>>2]|0,m=e[Y+360>>2]|0):(a=0,h=0,m=0),d=(e[Z>>2]=a,+i[Z>>2]),d=d-(e[Z>>2]=l,+i[Z>>2]),_=(e[Z>>2]=h,+i[Z>>2]),_=_-(e[Z>>2]=g,+i[Z>>2]),C=(e[Z>>2]=m,+i[Z>>2]),C=C-(e[Z>>2]=S,+i[Z>>2]),i[Se+32>>2]=d,i[Se+32+4>>2]=_,i[Se+32+8>>2]=C,i[Se+32+12>>2]=0;do if((o|0)>0&&+i[n+4+(we*184|0)+88>>2]>0){if(o=o+-1|0,u=+at(+(d*d+_*_+C*C)),u>+i[s+80>>2]){d=d*(1/u),i[Se+32>>2]=d,_=_*(1/u),i[Se+32+4>>2]=_,u=C*(1/u),i[Se+32+8>>2]=u;do if(ae){if(!(e[ae+180>>2]&2))break;w=+i[ae+4>>2],D=+i[ae+20>>2],k=+i[ae+36>>2],M=+i[ae+8>>2],N=+i[ae+24>>2],L=+i[ae+40>>2],E=+i[ae+12>>2],B=+i[ae+28>>2],O=+i[ae+44>>2],F=(w*d+D*_+u*k)*+i[ae+164>>2],V=(d*M+_*N+u*L)*+i[ae+168>>2],u=(d*E+_*B+u*O)*+i[ae+172>>2],i[Se+32>>2]=w*F+M*V+E*u,i[Se+32+4>>2]=D*F+N*V+B*u,i[Se+32+8>>2]=k*F+L*V+O*u,i[Se+32+12>>2]=0,d=w*F+M*V+E*u,_=D*F+N*V+B*u,u=k*F+L*V+O*u}while(!1);do if(de){if(!(e[de+180>>2]&2))break;D=+i[de+4>>2],k=+i[de+20>>2],w=+i[de+36>>2],N=+i[de+8>>2],L=+i[de+24>>2],M=+i[de+40>>2],B=+i[de+12>>2],O=+i[de+28>>2],E=+i[de+44>>2],F=(D*d+k*_+w*u)*+i[de+164>>2],V=(d*N+_*L+u*M)*+i[de+168>>2],_=(d*B+_*O+u*E)*+i[de+172>>2],i[Se+32>>2]=D*F+N*V+B*_,i[Se+32+4>>2]=k*F+L*V+O*_,i[Se+32+8>>2]=w*F+M*V+E*_,i[Se+32+12>>2]=0,u=w*F+M*V+E*_,d=D*F+N*V+B*_,_=k*F+L*V+O*_}while(!1);if(!(+at(+(d*d+_*_+u*u))>.001))break;fp(t,Se+32|0,fe,Ce,oe,re);break}fp(t,pe,fe,Ce,oe,re),u=+i[he>>2],+ht(+u)>.7071067690849304?(O=+i[_e>>2],V=1/+at(+(u*u+O*O)),i[Se+16>>2]=0,i[Se+16+4>>2]=-(V*u),i[Se+16+8>>2]=V*O,i[Se>>2]=(u*u+O*O)*V,d=+i[pe>>2],i[Se+4>>2]=-(V*O*d),E=d*-(V*u),_=0,C=-(V*u),M=V*O,w=(u*u+O*O)*V,d=-(V*O*d)):(w=+i[pe>>2],O=+i[_e>>2],d=1/+at(+(w*w+O*O)),i[Se+16>>2]=-(O*d),i[Se+16+4>>2]=d*w,i[Se+16+8>>2]=0,i[Se>>2]=-(d*w*u),i[Se+4>>2]=u*-(O*d),E=(w*w+O*O)*d,_=-(O*d),C=d*w,M=0,w=-(d*w*u),d=u*-(O*d)),i[Se+8>>2]=E;do if(!ae)u=M;else{if(!(e[ae+180>>2]&2)){u=M;break}Ae=+i[ae+4>>2],D=+i[ae+20>>2],k=+i[ae+36>>2],ke=+i[ae+8>>2],N=+i[ae+24>>2],L=+i[ae+40>>2],ge=+i[ae+12>>2],B=+i[ae+28>>2],O=+i[ae+44>>2],F=(Ae*_+D*C+k*M)*+i[ae+164>>2],V=(_*ke+C*N+M*L)*+i[ae+168>>2],u=(_*ge+C*B+M*O)*+i[ae+172>>2],i[Se+16>>2]=Ae*F+ke*V+ge*u,i[Se+16+4>>2]=D*F+N*V+B*u,i[Se+16+8>>2]=k*F+L*V+O*u,i[Se+16+12>>2]=0,_=Ae*F+ke*V+ge*u,C=D*F+N*V+B*u,u=k*F+L*V+O*u}while(!1);do if(!de)M=u;else{if(!(e[de+180>>2]&2)){M=u;break}D=+i[de+4>>2],k=+i[de+20>>2],V=+i[de+36>>2],N=+i[de+8>>2],F=+i[de+24>>2],ge=+i[de+40>>2],B=+i[de+12>>2],L=+i[de+28>>2],Ae=+i[de+44>>2],O=(D*_+k*C+V*u)*+i[de+164>>2],ke=(_*N+C*F+u*ge)*+i[de+168>>2],M=(_*B+C*L+u*Ae)*+i[de+172>>2],i[Se+16>>2]=D*O+N*ke+B*M,i[Se+16+4>>2]=k*O+F*ke+L*M,i[Se+16+8>>2]=V*O+ge*ke+Ae*M,i[Se+16+12>>2]=0,_=D*O+N*ke+B*M,C=k*O+F*ke+L*M,M=V*O+ge*ke+Ae*M}while(!1);do if(!ae)u=E;else{if(!(e[ae+180>>2]&2)){u=E;break}D=+i[ae+4>>2],k=+i[ae+20>>2],V=+i[ae+36>>2],N=+i[ae+8>>2],F=+i[ae+24>>2],ge=+i[ae+40>>2],B=+i[ae+12>>2],L=+i[ae+28>>2],Ae=+i[ae+44>>2],O=(D*w+k*d+V*E)*+i[ae+164>>2],ke=(w*N+d*F+E*ge)*+i[ae+168>>2],u=(w*B+d*L+E*Ae)*+i[ae+172>>2],i[Se>>2]=D*O+N*ke+B*u,i[Se+4>>2]=k*O+F*ke+L*u,i[Se+8>>2]=V*O+ge*ke+Ae*u,i[Se+12>>2]=0,w=D*O+N*ke+B*u,d=k*O+F*ke+L*u,u=V*O+ge*ke+Ae*u}while(!1);do if(de){if(!(e[de+180>>2]&2))break;D=+i[de+4>>2],k=+i[de+20>>2],V=+i[de+36>>2],N=+i[de+8>>2],F=+i[de+24>>2],ge=+i[de+40>>2],B=+i[de+12>>2],L=+i[de+28>>2],Ae=+i[de+44>>2],O=(D*w+k*d+V*u)*+i[de+164>>2],ke=(w*N+d*F+u*ge)*+i[de+168>>2],u=(w*B+d*L+u*Ae)*+i[de+172>>2],i[Se>>2]=D*O+N*ke+B*u,i[Se+4>>2]=k*O+F*ke+L*u,i[Se+8>>2]=V*O+ge*ke+Ae*u,i[Se+12>>2]=0,w=D*O+N*ke+B*u,d=k*O+F*ke+L*u,u=V*O+ge*ke+Ae*u}while(!1);+at(+(_*_+C*C+M*M))>.001&&fp(t,Se+16|0,fe,Ce,oe,re),+at(+(w*w+d*d+u*u))>.001&&fp(t,Se,fe,Ce,oe,re)}while(!1);do if(!(e[s+64>>2]&32))be=95;else{if(!(A[n+4+(we*184|0)+116>>0]|0)){be=95;break}if(bc(t,n+4+(we*184|0)+152|0,fe,Ce,oe,re,Se+64|0,Se+48|0,1,+i[n+4+(we*184|0)+132>>2],+i[n+4+(we*184|0)+140>>2]),!(e[s+64>>2]&16))break;bc(t,n+4+(we*184|0)+168|0,fe,Ce,oe,re,Se+64|0,Se+48|0,1,+i[n+4+(we*184|0)+136>>2],+i[n+4+(we*184|0)+144>>2])}while(!1);do if((be|0)==95){if(be=0,U=n+4+(we*184|0)+152|0,u=+i[pe>>2],D=+i[_e>>2],E=+i[he>>2],_=te-(te*q+W*X+$*ne)*u,w=W-(te*q+W*X+$*ne)*D,C=$-(te*q+W*X+$*ne)*E,i[n+4+(we*184|0)+152>>2]=_,g=n+4+(we*184|0)+156|0,i[g>>2]=w,S=n+4+(we*184|0)+160|0,i[S>>2]=C,a=n+4+(we*184|0)+164|0,i[a>>2]=0,(e[s+64>>2]&64|0)==0&&_*_+w*w+C*C>11920928955078125e-23){u=1/+at(+(_*_+w*w+C*C)),i[U>>2]=_*u,i[g>>2]=u*w,i[S>>2]=u*C;do if(!ae)d=_*u,_=u*w,u=u*C;else{if(!(e[ae+180>>2]&1)){d=_*u,_=u*w,u=u*C;break}O=+i[ae+4>>2],q=+i[ae+20>>2],W=+i[ae+36>>2],$=+i[ae+8>>2],X=+i[ae+24>>2],ge=+i[ae+40>>2],d=+i[ae+12>>2],ne=+i[ae+28>>2],Ae=+i[ae+44>>2],te=(O*(_*u)+q*(u*w)+u*C*W)*+i[ae+164>>2],ke=(_*u*$+u*w*X+u*C*ge)*+i[ae+168>>2],u=(_*u*d+u*w*ne+u*C*Ae)*+i[ae+172>>2],i[U>>2]=O*te+$*ke+d*u,i[g>>2]=q*te+X*ke+ne*u,i[S>>2]=W*te+ge*ke+Ae*u,i[a>>2]=0,d=O*te+$*ke+d*u,_=q*te+X*ke+ne*u,u=W*te+ge*ke+Ae*u}while(!1);do if(de|0){if(!(e[de+180>>2]&1))break;L=+i[de+4>>2],$=+i[de+20>>2],ne=+i[de+36>>2],V=+i[de+8>>2],q=+i[de+24>>2],te=+i[de+40>>2],O=+i[de+12>>2],X=+i[de+28>>2],ke=+i[de+44>>2],W=(L*d+$*_+ne*u)*+i[de+164>>2],ge=(d*V+_*q+u*te)*+i[de+168>>2],Ae=(d*O+_*X+u*ke)*+i[de+172>>2],i[U>>2]=L*W+V*ge+O*Ae,i[g>>2]=$*W+q*ge+X*Ae,i[S>>2]=ne*W+te*ge+ke*Ae,i[a>>2]=0}while(!1);if(bc(t,U,fe,Ce,oe,re,Se+64|0,Se+48|0,1,0,0),!(e[s+64>>2]&16))break;m=n+4+(we*184|0)+168|0,ke=+i[g>>2],d=+i[he>>2],W=+i[S>>2],te=+i[_e>>2],Ae=+i[pe>>2],ge=+i[U>>2],i[n+4+(we*184|0)+168>>2]=ke*d-W*te,a=n+4+(we*184|0)+172|0,l=n+4+(we*184|0)+176|0,h=n+4+(we*184|0)+180|0,i[h>>2]=0,_=1/+at(+((ke*d-W*te)*(ke*d-W*te)+(W*Ae-d*ge)*(W*Ae-d*ge)+(te*ge-ke*Ae)*(te*ge-ke*Ae))),u=(ke*d-W*te)*_,i[m>>2]=u,d=(W*Ae-d*ge)*_,i[a>>2]=d,_=(te*ge-ke*Ae)*_,i[l>>2]=_;do if(ae){if(!(e[ae+180>>2]&1))break;V=+i[ae+4>>2],q=+i[ae+20>>2],W=+i[ae+36>>2],O=+i[ae+8>>2],X=+i[ae+24>>2],ge=+i[ae+40>>2],$=+i[ae+12>>2],ne=+i[ae+28>>2],Ae=+i[ae+44>>2],te=(V*u+q*d+_*W)*+i[ae+164>>2],ke=(u*O+d*X+_*ge)*+i[ae+168>>2],_=(u*$+d*ne+_*Ae)*+i[ae+172>>2],i[m>>2]=V*te+O*ke+$*_,i[a>>2]=q*te+X*ke+ne*_,i[l>>2]=W*te+ge*ke+Ae*_,i[h>>2]=0,u=V*te+O*ke+$*_,d=q*te+X*ke+ne*_,_=W*te+ge*ke+Ae*_}while(!1);do if(de|0){if(!(e[de+180>>2]&1))break;L=+i[de+4>>2],$=+i[de+20>>2],ne=+i[de+36>>2],V=+i[de+8>>2],q=+i[de+24>>2],te=+i[de+40>>2],O=+i[de+12>>2],X=+i[de+28>>2],ke=+i[de+44>>2],W=(L*u+$*d+ne*_)*+i[de+164>>2],ge=(u*V+d*q+_*te)*+i[de+168>>2],Ae=(u*O+d*X+_*ke)*+i[de+172>>2],i[m>>2]=L*W+V*ge+O*Ae,i[a>>2]=$*W+q*ge+X*Ae,i[l>>2]=ne*W+te*ge+ke*Ae,i[h>>2]=0}while(!1);bc(t,m,fe,Ce,oe,re,Se+64|0,Se+48|0,1,0,0);break}m=n+4+(we*184|0)+168|0,+ht(+E)>.7071067690849304?(Ae=1/+at(+(E*E+D*D)),i[U>>2]=0,i[g>>2]=-(Ae*E),i[S>>2]=Ae*D,w=-(Ae*D*u),M=u*-(Ae*E),C=(E*E+D*D)*Ae,d=0,_=-(Ae*E),u=Ae*D):(_=1/+at(+(u*u+D*D)),i[U>>2]=-(D*_),i[g>>2]=_*u,i[S>>2]=0,w=E*-(D*_),M=(u*u+D*D)*_,C=-(_*u*E),d=-(D*_),_=_*u,u=0),i[m>>2]=C,h=n+4+(we*184|0)+172|0,i[h>>2]=w,l=n+4+(we*184|0)+176|0,i[l>>2]=M;do if(ae){if(!(e[ae+180>>2]&1))break;V=+i[ae+4>>2],q=+i[ae+20>>2],W=+i[ae+36>>2],O=+i[ae+8>>2],X=+i[ae+24>>2],ge=+i[ae+40>>2],$=+i[ae+12>>2],ne=+i[ae+28>>2],Ae=+i[ae+44>>2],te=(V*d+q*_+W*u)*+i[ae+164>>2],ke=(d*O+_*X+u*ge)*+i[ae+168>>2],u=(d*$+_*ne+u*Ae)*+i[ae+172>>2],i[U>>2]=V*te+O*ke+$*u,i[g>>2]=q*te+X*ke+ne*u,i[S>>2]=W*te+ge*ke+Ae*u,i[a>>2]=0,d=V*te+O*ke+$*u,_=q*te+X*ke+ne*u,u=W*te+ge*ke+Ae*u}while(!1);do if(de|0){if(!(e[de+180>>2]&1))break;L=+i[de+4>>2],$=+i[de+20>>2],ne=+i[de+36>>2],V=+i[de+8>>2],q=+i[de+24>>2],te=+i[de+40>>2],O=+i[de+12>>2],X=+i[de+28>>2],ke=+i[de+44>>2],W=(L*d+$*_+ne*u)*+i[de+164>>2],ge=(d*V+_*q+u*te)*+i[de+168>>2],Ae=(d*O+_*X+u*ke)*+i[de+172>>2],i[U>>2]=L*W+V*ge+O*Ae,i[g>>2]=$*W+q*ge+X*Ae,i[S>>2]=ne*W+te*ge+ke*Ae,i[a>>2]=0}while(!1);if(bc(t,U,fe,Ce,oe,re,Se+64|0,Se+48|0,1,0,0),a=e[s+64>>2]|0,a&16){do if(ae|0){if(!(e[ae+180>>2]&1))break;L=+i[ae+4>>2],k=+i[m>>2],$=+i[ae+20>>2],F=+i[h>>2],ne=+i[ae+36>>2],Ae=+i[l>>2],V=+i[ae+8>>2],q=+i[ae+24>>2],te=+i[ae+40>>2],O=+i[ae+12>>2],X=+i[ae+28>>2],ke=+i[ae+44>>2],W=(L*k+$*F+ne*Ae)*+i[ae+164>>2],ge=(k*V+F*q+Ae*te)*+i[ae+168>>2],Ae=(k*O+F*X+Ae*ke)*+i[ae+172>>2],i[m>>2]=L*W+V*ge+O*Ae,i[h>>2]=$*W+q*ge+X*Ae,i[l>>2]=ne*W+te*ge+ke*Ae,i[n+4+(we*184|0)+180>>2]=0}while(!1);do if(de|0){if(!(e[de+180>>2]&1))break;L=+i[de+4>>2],k=+i[m>>2],$=+i[de+20>>2],F=+i[h>>2],ne=+i[de+36>>2],Ae=+i[l>>2],V=+i[de+8>>2],q=+i[de+24>>2],te=+i[de+40>>2],O=+i[de+12>>2],X=+i[de+28>>2],ke=+i[de+44>>2],W=(L*k+$*F+ne*Ae)*+i[de+164>>2],ge=(k*V+F*q+Ae*te)*+i[de+168>>2],Ae=(k*O+F*X+Ae*ke)*+i[de+172>>2],i[m>>2]=L*W+V*ge+O*Ae,i[h>>2]=$*W+q*ge+X*Ae,i[l>>2]=ne*W+te*ge+ke*Ae,i[n+4+(we*184|0)+180>>2]=0}while(!1);bc(t,m,fe,Ce,oe,re,Se+64|0,Se+48|0,1,0,0),a=e[s+64>>2]|0}if((a&80|0)!=80)break;A[n+4+(we*184|0)+116>>0]=1}while(!1);S=e[t+16>>2]|0,l=e[S+(fe*244|0)+240>>2]|0,h=e[S+(Ce*244|0)+240>>2]|0,m=e[me+(oe*152|0)+140>>2]|0,g=e[t+76>>2]|0,a=e[s+64>>2]|0;do if(!(a&4))i[g+(m*152|0)+100>>2]=0;else{if(u=+i[n+4+(we*184|0)+124>>2]*+i[s+60>>2],i[g+(m*152|0)+100>>2]=u,l|0&&(ge=+i[l+368>>2],Ae=u*(ge*+i[g+(m*152|0)+20>>2]*+i[l+376>>2])*+i[S+(fe*244|0)+116>>2],ke=u*(ge*+i[g+(m*152|0)+24>>2]*+i[l+380>>2])*+i[S+(fe*244|0)+120>>2],i[S+(fe*244|0)+64>>2]=+i[S+(fe*244|0)+112>>2]*(u*(ge*+i[g+(m*152|0)+16>>2]*+i[l+372>>2]))+ +i[S+(fe*244|0)+64>>2],i[S+(fe*244|0)+68>>2]=Ae+ +i[S+(fe*244|0)+68>>2],i[S+(fe*244|0)+72>>2]=ke+ +i[S+(fe*244|0)+72>>2],ke=u*+i[S+(fe*244|0)+100>>2]*+i[g+(m*152|0)+68>>2],Ae=u*+i[S+(fe*244|0)+104>>2]*+i[g+(m*152|0)+72>>2],i[S+(fe*244|0)+80>>2]=u*+i[S+(fe*244|0)+96>>2]*+i[g+(m*152|0)+64>>2]+ +i[S+(fe*244|0)+80>>2],i[S+(fe*244|0)+84>>2]=ke+ +i[S+(fe*244|0)+84>>2],i[S+(fe*244|0)+88>>2]=Ae+ +i[S+(fe*244|0)+88>>2]),!h||(u=+i[h+368>>2],_=+i[g+(m*152|0)+100>>2],!(e[S+(Ce*244|0)+240>>2]|0)))break;Ae=+i[g+(m*152|0)+88>>2],ke=+i[g+(m*152|0)+84>>2],ge=+i[g+(m*152|0)+80>>2],W=_*(u*+i[g+(m*152|0)+52>>2]*+i[h+376>>2])*+i[S+(Ce*244|0)+116>>2],te=_*(u*+i[g+(m*152|0)+56>>2]*+i[h+380>>2])*+i[S+(Ce*244|0)+120>>2],i[S+(Ce*244|0)+64>>2]=+i[S+(Ce*244|0)+112>>2]*(_*(u*+i[g+(m*152|0)+48>>2]*+i[h+372>>2]))+ +i[S+(Ce*244|0)+64>>2],i[S+(Ce*244|0)+68>>2]=W+ +i[S+(Ce*244|0)+68>>2],i[S+(Ce*244|0)+72>>2]=te+ +i[S+(Ce*244|0)+72>>2],ke=ke*(+i[S+(Ce*244|0)+100>>2]*-_),Ae=Ae*(+i[S+(Ce*244|0)+104>>2]*-_),i[S+(Ce*244|0)+80>>2]=+i[S+(Ce*244|0)+80>>2]-ge*(+i[S+(Ce*244|0)+96>>2]*-_),i[S+(Ce*244|0)+84>>2]=+i[S+(Ce*244|0)+84>>2]-ke,i[S+(Ce*244|0)+88>>2]=+i[S+(Ce*244|0)+88>>2]-Ae}while(!1);do if(a&16|0){if(!(a&4)){i[g+((m+1|0)*152|0)+100>>2]=0;break}_=+i[n+4+(we*184|0)+128>>2]*+i[s+60>>2],i[g+((m+1|0)*152|0)+100>>2]=_;do if(l|0){if(u=+i[l+368>>2],!(e[S+(fe*244|0)+240>>2]|0))break;Ae=_*(u*+i[g+((m+1|0)*152|0)+20>>2])*+i[S+(fe*244|0)+116>>2],ke=_*(u*+i[g+((m+1|0)*152|0)+24>>2])*+i[S+(fe*244|0)+120>>2],i[S+(fe*244|0)+64>>2]=+i[S+(fe*244|0)+112>>2]*(_*(u*+i[g+((m+1|0)*152|0)+16>>2]))+ +i[S+(fe*244|0)+64>>2],i[S+(fe*244|0)+68>>2]=Ae+ +i[S+(fe*244|0)+68>>2],i[S+(fe*244|0)+72>>2]=ke+ +i[S+(fe*244|0)+72>>2],ke=_*+i[S+(fe*244|0)+100>>2]*+i[g+((m+1|0)*152|0)+68>>2],Ae=_*+i[S+(fe*244|0)+104>>2]*+i[g+((m+1|0)*152|0)+72>>2],i[S+(fe*244|0)+80>>2]=_*+i[S+(fe*244|0)+96>>2]*+i[g+((m+1|0)*152|0)+64>>2]+ +i[S+(fe*244|0)+80>>2],i[S+(fe*244|0)+84>>2]=ke+ +i[S+(fe*244|0)+84>>2],i[S+(fe*244|0)+88>>2]=Ae+ +i[S+(fe*244|0)+88>>2]}while(!1);if(!h||(u=+i[h+368>>2],_=+i[g+((m+1|0)*152|0)+100>>2],!(e[S+(Ce*244|0)+240>>2]|0)))break;Ae=+i[g+((m+1|0)*152|0)+88>>2],ke=+i[g+((m+1|0)*152|0)+84>>2],ge=+i[g+((m+1|0)*152|0)+80>>2],W=_*(u*+i[g+((m+1|0)*152|0)+52>>2])*+i[S+(Ce*244|0)+116>>2],te=_*(u*+i[g+((m+1|0)*152|0)+56>>2])*+i[S+(Ce*244|0)+120>>2],i[S+(Ce*244|0)+64>>2]=+i[S+(Ce*244|0)+112>>2]*(_*(u*+i[g+((m+1|0)*152|0)+48>>2]))+ +i[S+(Ce*244|0)+64>>2],i[S+(Ce*244|0)+68>>2]=W+ +i[S+(Ce*244|0)+68>>2],i[S+(Ce*244|0)+72>>2]=te+ +i[S+(Ce*244|0)+72>>2],ke=ke*(+i[S+(Ce*244|0)+100>>2]*-_),Ae=Ae*(+i[S+(Ce*244|0)+104>>2]*-_),i[S+(Ce*244|0)+80>>2]=+i[S+(Ce*244|0)+80>>2]-ge*(+i[S+(Ce*244|0)+96>>2]*-_),i[S+(Ce*244|0)+84>>2]=+i[S+(Ce*244|0)+84>>2]-ke,i[S+(Ce*244|0)+88>>2]=+i[S+(Ce*244|0)+88>>2]-Ae}while(!1)}we=we+1|0}while((we|0)<(e[n+748>>2]|0));H=Se}function p1(t,n,s){t=t|0,n=n|0,s=+s;var o=0,a=0,l=0;if(a=H,H=H+496|0,o=e[n+212>>2]|0,(o|0)>-1)return t=o,H=a,t|0;l=(e[n+236>>2]&2|0)==0,o=l?0:n;do if(!l){if(+i[o+368>>2]==0&&(e[o+204>>2]&2|0)==0)break;return l=e[t+8>>2]|0,ln(a+244|0,0,244)|0,zm(Vm(t+4|0,a+244|0)|0,n,s),e[n+212>>2]=l,H=a,l|0}while(!1);return o=e[t+188>>2]|0,(o|0)>=0?(l=o,H=a,l|0):(e[t+188>>2]=e[t+8>>2],ln(a|0,0,244)|0,zm(Vm(t+4|0,a)|0,0,s),l=e[t+188>>2]|0,H=a,l|0)}function Vm(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,_=0,h=0,d=0;if(u=e[t+4>>2]|0,(u|0)==(e[t+8>>2]|0)&&(l=u|0?u<<1:1,(u|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l*244|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+4>>2]|0):(s=0,o=u),(o|0)>0){a=0;do h=s+(a*244|0)|0,_=e[t+12>>2]|0,d=_+(a*244|0)|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],h=s+(a*244|0)+16|0,d=_+(a*244|0)+16|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],h=s+(a*244|0)+32|0,d=_+(a*244|0)+32|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],h=s+(a*244|0)+48|0,d=_+(a*244|0)+48|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],Rr(s+(a*244|0)+64|0,_+(a*244|0)+64|0,180)|0,a=a+1|0;while((a|0)!=(o|0))}o=e[t+12>>2]|0,o|0&&(A[t+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+12>>2]=0),A[t+16>>0]=1,e[t+12>>2]=s,e[t+8>>2]=l,s=e[t+4>>2]|0}else s=u;return e[t+4>>2]=s+1,d=e[t+12>>2]|0,e[d+(u*244|0)>>2]=e[n>>2],e[d+(u*244|0)+4>>2]=e[n+4>>2],e[d+(u*244|0)+8>>2]=e[n+8>>2],e[d+(u*244|0)+12>>2]=e[n+12>>2],e[d+(u*244|0)+16>>2]=e[n+16>>2],e[d+(u*244|0)+16+4>>2]=e[n+16+4>>2],e[d+(u*244|0)+16+8>>2]=e[n+16+8>>2],e[d+(u*244|0)+16+12>>2]=e[n+16+12>>2],e[d+(u*244|0)+32>>2]=e[n+32>>2],e[d+(u*244|0)+32+4>>2]=e[n+32+4>>2],e[d+(u*244|0)+32+8>>2]=e[n+32+8>>2],e[d+(u*244|0)+32+12>>2]=e[n+32+12>>2],e[d+(u*244|0)+48>>2]=e[n+48>>2],e[d+(u*244|0)+48+4>>2]=e[n+48+4>>2],e[d+(u*244|0)+48+8>>2]=e[n+48+8>>2],e[d+(u*244|0)+48+12>>2]=e[n+48+12>>2],Rr(d+(u*244|0)+64|0,n+64|0,180)|0,(e[t+12>>2]|0)+(u*244|0)|0}function zm(t,n,s){t=t|0,n=n|0,s=+s;var o=0,a=0,l=0,u=0,_=0,h=0,d=0,m=0;if(n?n=(e[n+236>>2]&2|0)==0?0:n:n=0,e[t+64>>2]=0,e[t+64+4>>2]=0,e[t+64+8>>2]=0,e[t+64+12>>2]=0,e[t+64+16>>2]=0,e[t+64+20>>2]=0,e[t+64+24>>2]=0,e[t+64+28>>2]=0,e[t+144>>2]=0,e[t+144+4>>2]=0,e[t+144+8>>2]=0,e[t+144+12>>2]=0,e[t+144+16>>2]=0,e[t+144+20>>2]=0,e[t+144+24>>2]=0,e[t+144+28>>2]=0,n){o=n+4|0,e[t>>2]=e[o>>2],e[t+4>>2]=e[o+4>>2],e[t+8>>2]=e[o+8>>2],e[t+12>>2]=e[o+12>>2],o=n+20|0,e[t+16>>2]=e[o>>2],e[t+16+4>>2]=e[o+4>>2],e[t+16+8>>2]=e[o+8>>2],e[t+16+12>>2]=e[o+12>>2],o=n+36|0,e[t+32>>2]=e[o>>2],e[t+32+4>>2]=e[o+4>>2],e[t+32+8>>2]=e[o+8>>2],e[t+32+12>>2]=e[o+12>>2],o=n+52|0,e[t+48>>2]=e[o>>2],e[t+48+4>>2]=e[o+4>>2],e[t+48+8>>2]=e[o+8>>2],e[t+48+12>>2]=e[o+12>>2],o=n+368|0,h=+i[o>>2],d=n+372|0,_=h*+i[n+376>>2],u=h*+i[n+380>>2],i[t+128>>2]=h*+i[d>>2],i[t+132>>2]=_,i[t+136>>2]=u,i[t+140>>2]=0,e[t+240>>2]=n,m=n+568|0,e[t+96>>2]=e[m>>2],e[t+96+4>>2]=e[m+4>>2],e[t+96+8>>2]=e[m+8>>2],e[t+96+12>>2]=e[m+12>>2],e[t+112>>2]=e[d>>2],e[t+112+4>>2]=e[d+4>>2],e[t+112+8>>2]=e[d+8>>2],e[t+112+12>>2]=e[d+12>>2],d=n+336|0,e[t+176>>2]=e[d>>2],e[t+176+4>>2]=e[d+4>>2],e[t+176+8>>2]=e[d+8>>2],e[t+176+12>>2]=e[d+12>>2],d=n+352|0,e[t+192>>2]=e[d>>2],e[t+192+4>>2]=e[d+4>>2],e[t+192+8>>2]=e[d+8>>2],e[t+192+12>>2]=e[d+12>>2],u=+i[o>>2],_=u*+i[n+440>>2]*s,h=u*+i[n+444>>2]*s,i[t+208>>2]=u*+i[n+436>>2]*s,i[t+212>>2]=_,i[t+216>>2]=h,i[t+220>>2]=0,h=+i[n+452>>2],_=+i[n+456>>2],u=+i[n+460>>2],l=(h*+i[n+292>>2]+_*+i[n+308>>2]+u*+i[n+324>>2])*s,a=(h*+i[n+296>>2]+_*+i[n+312>>2]+u*+i[n+328>>2])*s,i[t+224>>2]=(+i[n+288>>2]*h+ +i[n+304>>2]*_+ +i[n+320>>2]*u)*s,i[t+228>>2]=l,i[t+232>>2]=a,t=t+236|0,i[t>>2]=0;return}else{e[t>>2]=1065353216,e[t+4>>2]=0,e[t+4+4>>2]=0,e[t+4+8>>2]=0,e[t+4+12>>2]=0,e[t+20>>2]=1065353216,e[t+24>>2]=0,e[t+24+4>>2]=0,e[t+24+8>>2]=0,e[t+24+12>>2]=0,e[t+40>>2]=1065353216,e[t+44>>2]=0,e[t+44+4>>2]=0,e[t+44+8>>2]=0,e[t+44+12>>2]=0,e[t+44+16>>2]=0,e[t+240>>2]=0,e[t+128>>2]=0,e[t+128+4>>2]=0,e[t+128+8>>2]=0,e[t+128+12>>2]=0,e[t+96>>2]=1065353216,e[t+100>>2]=1065353216,e[t+104>>2]=1065353216,i[t+108>>2]=0,e[t+112>>2]=1065353216,e[t+116>>2]=1065353216,e[t+120>>2]=1065353216,i[t+124>>2]=0,n=t+176|0,o=n+60|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(o|0));t=t+236|0,i[t>>2]=0;return}}function fp(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0;if(O=e[t+88>>2]|0,(O|0)==(e[t+92>>2]|0)&&(m=O|0?O<<1:1,(O|0)<(m|0))){if(m?(e[5637]=(e[5637]|0)+1,u=Xe((m*152|3)+16|0)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,_=e[t+88>>2]|0):(u=0,_=O),(_|0)>0){h=0;do Rr(u+(h*152|0)|0,(e[t+96>>2]|0)+(h*152|0)|0,152)|0,h=h+1|0;while((h|0)!=(_|0))}_=e[t+96>>2]|0,_|0&&(A[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[_+-4>>2]|0)),e[t+96>>2]=0),A[t+100>>0]=1,e[t+96>>2]=u,e[t+92>>2]=m,u=e[t+88>>2]|0}else u=O;if(e[t+88>>2]=u+1,V=e[t+96>>2]|0,e[V+(O*152|0)+140>>2]=a,e[V+(O*152|0)+16>>2]=0,e[V+(O*152|0)+16+4>>2]=0,e[V+(O*152|0)+16+8>>2]=0,e[V+(O*152|0)+16+12>>2]=0,i[V+(O*152|0)+48>>2]=-0,i[V+(O*152|0)+52>>2]=-0,i[V+(O*152|0)+56>>2]=-0,i[V+(O*152|0)+60>>2]=0,t=e[t+16>>2]|0,m=e[t+(s*244|0)+240>>2]|0,U=e[t+(o*244|0)+240>>2]|0,e[V+(O*152|0)+144>>2]=s,e[V+(O*152|0)+148>>2]=o,a=e[l+88>>2]|0,e[V+(O*152|0)+104>>2]=a,e[V+(O*152|0)+132>>2]=0,i[V+(O*152|0)+100>>2]=0,i[V+(O*152|0)+96>>2]=0,B=-+i[n>>2],k=-+i[n+4>>2],F=-+i[n+8>>2],i[V+(O*152|0)>>2]=B,i[V+(O*152|0)+4>>2]=k,i[V+(O*152|0)+8>>2]=F,i[V+(O*152|0)+12>>2]=0,L=(e[Z>>2]=a,+i[Z>>2]),m|0?(u=(i[Z>>2]=(+i[m+288>>2]*B+ +i[m+292>>2]*k+ +i[m+296>>2]*F)*+i[m+568>>2],e[Z>>2]|0),_=(i[Z>>2]=(+i[m+304>>2]*B+ +i[m+308>>2]*k+ +i[m+312>>2]*F)*+i[m+572>>2],e[Z>>2]|0),h=(i[Z>>2]=(+i[m+320>>2]*B+ +i[m+324>>2]*k+ +i[m+328>>2]*F)*+i[m+576>>2],e[Z>>2]|0)):(u=0,_=0,h=0),e[V+(O*152|0)+64>>2]=u,e[V+(O*152|0)+68>>2]=_,e[V+(O*152|0)+72>>2]=h,i[V+(O*152|0)+76>>2]=0,E=+i[n>>2],D=+i[n+4>>2],N=+i[n+8>>2],n=e[n+12>>2]|0,i[V+(O*152|0)+32>>2]=E,i[V+(O*152|0)+36>>2]=D,i[V+(O*152|0)+40>>2]=N,e[V+(O*152|0)+44>>2]=n,U|0?(u=(i[Z>>2]=(E*+i[U+288>>2]+D*+i[U+292>>2]+N*+i[U+296>>2])*+i[U+568>>2],e[Z>>2]|0),_=(i[Z>>2]=(E*+i[U+304>>2]+D*+i[U+308>>2]+N*+i[U+312>>2])*+i[U+572>>2],e[Z>>2]|0),h=(i[Z>>2]=(E*+i[U+320>>2]+D*+i[U+324>>2]+N*+i[U+328>>2])*+i[U+576>>2],e[Z>>2]|0)):(u=0,_=0,h=0),e[V+(O*152|0)+80>>2]=u,e[V+(O*152|0)+84>>2]=_,e[V+(O*152|0)+88>>2]=h,i[V+(O*152|0)+92>>2]=0,m|0?(d=+i[m+288>>2]*B+ +i[m+292>>2]*k+ +i[m+296>>2]*F,g=+i[m+304>>2]*B+ +i[m+308>>2]*k+ +i[m+312>>2]*F,S=+i[m+320>>2]*B+ +i[m+324>>2]*k+ +i[m+328>>2]*F):(d=0,g=0,S=0),U|0?(C=+i[U+288>>2]*E+ +i[U+292>>2]*D+ +i[U+296>>2]*N,w=E*+i[U+304>>2]+D*+i[U+308>>2]+N*+i[U+312>>2],M=E*+i[U+320>>2]+D*+i[U+324>>2]+N*+i[U+328>>2]):(C=0,w=0,M=0),w=1/(d*B+g*k+S*F+0+(C*E+w*D+M*N)),i[V+(O*152|0)+108>>2]=w,m|0?(g=+i[t+(s*244|0)+192>>2],S=+i[t+(s*244|0)+196>>2],C=+i[t+(s*244|0)+200>>2],d=(+i[t+(s*244|0)+176>>2]+ +i[t+(s*244|0)+208>>2])*0+(+i[t+(s*244|0)+180>>2]+ +i[t+(s*244|0)+212>>2])*0+(+i[t+(s*244|0)+184>>2]+ +i[t+(s*244|0)+216>>2])*0):(g=0,S=0,C=0,d=0),d=d+(g*B+S*k+C*F),!U){M=0,B=0,F=0,k=-0,E=M*E,B=B*D,B=E+B,F=F*N,F=B+F,F=k+F,F=d+F,F=0-F,F=w*F,o=V+(O*152|0)+112|0,i[o>>2]=F,o=V+(O*152|0)+116|0,i[o>>2]=0,L=-L,o=V+(O*152|0)+120|0,i[o>>2]=L,o=V+(O*152|0)+124|0,e[o>>2]=a;return}M=+i[t+(o*244|0)+192>>2],B=+i[t+(o*244|0)+196>>2],F=+i[t+(o*244|0)+200>>2],k=(+i[t+(o*244|0)+176>>2]+ +i[t+(o*244|0)+208>>2])*-0+(+i[t+(o*244|0)+180>>2]+ +i[t+(o*244|0)+212>>2])*-0+(+i[t+(o*244|0)+184>>2]+ +i[t+(o*244|0)+216>>2])*-0,E=M*E,B=B*D,B=E+B,F=F*N,F=B+F,F=k+F,F=d+F,F=0-F,F=w*F,o=V+(O*152|0)+112|0,i[o>>2]=F,o=V+(O*152|0)+116|0,i[o>>2]=0,L=-L,o=V+(O*152|0)+120|0,i[o>>2]=L,o=V+(O*152|0)+124|0,e[o>>2]=a}function bc(t,n,s,o,a,l,u,_,h,d,m){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=+h,d=+d,m=+m;var g=0,S=0,C=0,w=0,M=0,E=0,D=0,N=0,B=0,k=0,F=0,L=0,U=0,V=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,pe=0,_e=0,he=0,me=0,re=0,oe=0;if(_e=e[t+68>>2]|0,(_e|0)==(e[t+72>>2]|0)&&(M=_e|0?_e<<1:1,(_e|0)<(M|0))){if(M?(e[5637]=(e[5637]|0)+1,g=Xe((M*152|3)+16|0)|0,g?(e[(g+4+15&-16)+-4>>2]=g,g=g+4+15&-16):g=0,S=e[t+68>>2]|0):(g=0,S=_e),(S|0)>0){C=0;do Rr(g+(C*152|0)|0,(e[t+76>>2]|0)+(C*152|0)|0,152)|0,C=C+1|0;while((C|0)!=(S|0))}S=e[t+76>>2]|0,S|0&&(A[t+80>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[S+-4>>2]|0)),e[t+76>>2]=0),A[t+80>>0]=1,e[t+76>>2]=g,e[t+72>>2]=M,g=e[t+68>>2]|0}else g=_e;if(e[t+68>>2]=g+1,pe=e[t+76>>2]|0,e[pe+(_e*152|0)+140>>2]=a,C=e[t+16>>2]|0,g=e[C+(s*244|0)+240>>2]|0,M=e[C+(o*244|0)+240>>2]|0,e[pe+(_e*152|0)+144>>2]=s,e[pe+(_e*152|0)+148>>2]=o,S=e[l+84>>2]|0,e[pe+(_e*152|0)+104>>2]=S,e[pe+(_e*152|0)+132>>2]=0,i[pe+(_e*152|0)+100>>2]=0,i[pe+(_e*152|0)+96>>2]=0,te=(e[Z>>2]=S,+i[Z>>2]),g|0?(e[pe+(_e*152|0)+16>>2]=e[n>>2],e[pe+(_e*152|0)+16+4>>2]=e[n+4>>2],e[pe+(_e*152|0)+16+8>>2]=e[n+8>>2],e[pe+(_e*152|0)+16+12>>2]=e[n+12>>2],W=+i[u+4>>2],O=+i[pe+(_e*152|0)+24>>2],q=+i[u+8>>2],X=+i[pe+(_e*152|0)+20>>2],z=+i[pe+(_e*152|0)+16>>2],ne=+i[u>>2],i[pe+(_e*152|0)>>2]=W*O-q*X,i[pe+(_e*152|0)+4>>2]=q*z-O*ne,i[pe+(_e*152|0)+8>>2]=X*ne-W*z,i[pe+(_e*152|0)+12>>2]=0,D=((W*O-q*X)*+i[g+288>>2]+(q*z-O*ne)*+i[g+292>>2]+(X*ne-W*z)*+i[g+296>>2])*+i[g+568>>2],w=((W*O-q*X)*+i[g+304>>2]+(q*z-O*ne)*+i[g+308>>2]+(X*ne-W*z)*+i[g+312>>2])*+i[g+572>>2],E=((W*O-q*X)*+i[g+320>>2]+(q*z-O*ne)*+i[g+324>>2]+(X*ne-W*z)*+i[g+328>>2])*+i[g+576>>2],i[pe+(_e*152|0)+64>>2]=D,i[pe+(_e*152|0)+68>>2]=w,i[pe+(_e*152|0)+72>>2]=E,i[pe+(_e*152|0)+76>>2]=0,F=z,L=X,U=O,V=W*O-q*X,O=q*z-O*ne,z=X*ne-W*z):(e[pe+(_e*152|0)+64>>2]=0,e[pe+(_e*152|0)+64+4>>2]=0,e[pe+(_e*152|0)+64+8>>2]=0,e[pe+(_e*152|0)+64+12>>2]=0,e[pe+(_e*152|0)>>2]=0,e[pe+(_e*152|0)+4>>2]=0,e[pe+(_e*152|0)+8>>2]=0,e[pe+(_e*152|0)+12>>2]=0,e[pe+(_e*152|0)+16>>2]=0,e[pe+(_e*152|0)+20>>2]=0,e[pe+(_e*152|0)+24>>2]=0,e[pe+(_e*152|0)+28>>2]=0,w=0,E=0,D=0,F=0,L=0,U=0,V=0,O=0,z=0),M|0?(W=-+i[n>>2],me=-+i[n+4>>2],ne=-+i[n+8>>2],i[pe+(_e*152|0)+48>>2]=W,i[pe+(_e*152|0)+52>>2]=me,i[pe+(_e*152|0)+56>>2]=ne,i[pe+(_e*152|0)+60>>2]=0,he=+i[_+4>>2],oe=+i[_+8>>2],re=+i[_>>2],i[pe+(_e*152|0)+32>>2]=he*ne-oe*me,i[pe+(_e*152|0)+36>>2]=oe*W-re*ne,i[pe+(_e*152|0)+40>>2]=re*me-he*W,i[pe+(_e*152|0)+44>>2]=0,N=((he*ne-oe*me)*+i[M+288>>2]+(oe*W-re*ne)*+i[M+292>>2]+(re*me-he*W)*+i[M+296>>2])*+i[M+568>>2],B=((he*ne-oe*me)*+i[M+304>>2]+(oe*W-re*ne)*+i[M+308>>2]+(re*me-he*W)*+i[M+312>>2])*+i[M+572>>2],k=((he*ne-oe*me)*+i[M+320>>2]+(oe*W-re*ne)*+i[M+324>>2]+(re*me-he*W)*+i[M+328>>2])*+i[M+576>>2],i[pe+(_e*152|0)+80>>2]=N,i[pe+(_e*152|0)+84>>2]=B,i[pe+(_e*152|0)+88>>2]=k,i[pe+(_e*152|0)+92>>2]=0,Y=W,$=me,q=ne,X=he*ne-oe*me,ne=oe*W-re*ne,W=re*me-he*W):(e[pe+(_e*152|0)+80>>2]=0,e[pe+(_e*152|0)+80+4>>2]=0,e[pe+(_e*152|0)+80+8>>2]=0,e[pe+(_e*152|0)+80+12>>2]=0,e[pe+(_e*152|0)+32>>2]=0,e[pe+(_e*152|0)+32+4>>2]=0,e[pe+(_e*152|0)+32+8>>2]=0,e[pe+(_e*152|0)+32+12>>2]=0,e[pe+(_e*152|0)+32+16>>2]=0,e[pe+(_e*152|0)+32+20>>2]=0,e[pe+(_e*152|0)+32+24>>2]=0,e[pe+(_e*152|0)+32+28>>2]=0,N=0,B=0,k=0,Y=0,$=0,q=0,X=0,ne=0,W=0),g|0?(me=+i[u+8>>2],re=+i[u+4>>2],oe=+i[u>>2],E=+i[g+368>>2]+((w*me-E*re)*+i[n>>2]+(E*oe-me*D)*+i[n+4>>2]+(re*D-w*oe)*+i[n+8>>2])):E=0,M|0?(re=-N,w=-B,k=-k,he=+i[_+8>>2],me=+i[_+4>>2],oe=+i[_>>2],w=+i[M+368>>2]+((he*w-me*k)*+i[n>>2]+(oe*k-he*re)*+i[n+4>>2]+(me*re-oe*w)*+i[n+8>>2])):w=0,B=h/(E+w),i[pe+(_e*152|0)+108>>2]=B,g|0?(E=+i[C+(s*244|0)+192>>2],D=+i[C+(s*244|0)+196>>2],N=+i[C+(s*244|0)+200>>2],w=(+i[C+(s*244|0)+176>>2]+ +i[C+(s*244|0)+208>>2])*F+(+i[C+(s*244|0)+180>>2]+ +i[C+(s*244|0)+212>>2])*L+(+i[C+(s*244|0)+184>>2]+ +i[C+(s*244|0)+216>>2])*U):(E=0,D=0,N=0,w=F*0+L*0+U*0),w=w+(E*V+D*O+N*z),M|0){he=+i[C+(o*244|0)+192>>2],me=+i[C+(o*244|0)+196>>2],oe=+i[C+(o*244|0)+200>>2],re=(+i[C+(o*244|0)+176>>2]+ +i[C+(o*244|0)+208>>2])*Y+(+i[C+(o*244|0)+180>>2]+ +i[C+(o*244|0)+212>>2])*$+(+i[C+(o*244|0)+184>>2]+ +i[C+(o*244|0)+216>>2])*q,he=he*X,me=me*ne,me=he+me,oe=oe*W,oe=me+oe,oe=re+oe,oe=w+oe,oe=d-oe,oe=B*oe,o=pe+(_e*152|0)+112|0,i[o>>2]=oe,o=pe+(_e*152|0)+128|0,i[o>>2]=0,o=pe+(_e*152|0)+116|0,i[o>>2]=m,oe=-te,o=pe+(_e*152|0)+120|0,i[o>>2]=oe,o=pe+(_e*152|0)+124|0,e[o>>2]=S;return}else{he=0,me=0,oe=0,re=Y*0+$*0+q*0,he=he*X,me=me*ne,me=he+me,oe=oe*W,oe=me+oe,oe=re+oe,oe=w+oe,oe=d-oe,oe=B*oe,o=pe+(_e*152|0)+112|0,i[o>>2]=oe,o=pe+(_e*152|0)+128|0,i[o>>2]=0,o=pe+(_e*152|0)+116|0,i[o>>2]=m,oe=-te,o=pe+(_e*152|0)+120|0,i[o>>2]=oe,o=pe+(_e*152|0)+124|0,e[o>>2]=S;return}}function Rse(t,n,s,o,a,l,u,_,h){if(t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,!!(e[_+44>>2]|0))if(n=e[_+20>>2]|0,e[_+64>>2]&256){if((n|0)<=0)return;h=0;do{if(l=e[t+28>>2]|0,(l|0)>0){n=0;do a=e[(e[t+116>>2]|0)+(n<<2)>>2]|0,u=e[t+36>>2]|0,s=e[t+16>>2]|0,Wm(s+((e[u+(a*152|0)+144>>2]|0)*244|0)|0,s+((e[u+(a*152|0)+148>>2]|0)*244|0)|0,u+(a*152|0)|0),n=n+1|0;while((n|0)!=(l|0));n=e[_+20>>2]|0}h=h+1|0}while((h|0)<(n|0));return}else{if((n|0)<=0)return;h=0;do{if(l=e[t+28>>2]|0,(l|0)>0){n=0;do a=e[(e[t+116>>2]|0)+(n<<2)>>2]|0,u=e[t+36>>2]|0,s=e[t+16>>2]|0,Wm(s+((e[u+(a*152|0)+144>>2]|0)*244|0)|0,s+((e[u+(a*152|0)+148>>2]|0)*244|0)|0,u+(a*152|0)|0),n=n+1|0;while((n|0)!=(l|0));n=e[_+20>>2]|0}h=h+1|0}while((h|0)<(n|0));return}}function Wm(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0;o=+i[s+128>>2],o!=0&&(e[5314]=(e[5314]|0)+1,h=+i[s+96>>2],a=+i[s+16>>2],l=+i[s+20>>2],u=+i[s+24>>2],_=+i[s+108>>2],_=o-h*+i[s+116>>2]-(a*+i[t+144>>2]+l*+i[t+148>>2]+u*+i[t+152>>2]+(+i[s>>2]*+i[t+160>>2]+ +i[s+4>>2]*+i[t+164>>2]+ +i[s+8>>2]*+i[t+168>>2]))*_-_*(+i[s+48>>2]*+i[n+144>>2]+ +i[s+52>>2]*+i[n+148>>2]+ +i[s+56>>2]*+i[n+152>>2]+(+i[s+32>>2]*+i[n+160>>2]+ +i[s+36>>2]*+i[n+164>>2]+ +i[s+40>>2]*+i[n+168>>2])),d=+i[s+120>>2],o=h+_<d?d-h:_,i[s+96>>2]=h+_<d?d:h+_,e[t+240>>2]|0&&(d=o*(l*+i[t+132>>2])*+i[t+116>>2],h=o*(u*+i[t+136>>2])*+i[t+120>>2],i[t+144>>2]=+i[t+112>>2]*(o*(a*+i[t+128>>2]))+ +i[t+144>>2],i[t+148>>2]=d+ +i[t+148>>2],i[t+152>>2]=h+ +i[t+152>>2],h=o*+i[t+100>>2]*+i[s+68>>2],d=o*+i[t+104>>2]*+i[s+72>>2],i[t+160>>2]=o*+i[t+96>>2]*+i[s+64>>2]+ +i[t+160>>2],i[t+164>>2]=h+ +i[t+164>>2],i[t+168>>2]=d+ +i[t+168>>2]),e[n+240>>2]|0&&(d=o*(+i[s+52>>2]*+i[n+132>>2])*+i[n+116>>2],h=o*(+i[s+56>>2]*+i[n+136>>2])*+i[n+120>>2],i[n+144>>2]=+i[n+112>>2]*(o*(+i[s+48>>2]*+i[n+128>>2]))+ +i[n+144>>2],i[n+148>>2]=d+ +i[n+148>>2],i[n+152>>2]=h+ +i[n+152>>2],h=o*+i[n+100>>2]*+i[s+84>>2],d=o*+i[n+104>>2]*+i[s+88>>2],i[n+160>>2]=o*+i[n+96>>2]*+i[s+80>>2]+ +i[n+160>>2],i[n+164>>2]=h+ +i[n+164>>2],i[n+168>>2]=d+ +i[n+168>>2]))}function Ase(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,_=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;S=H,H=H+80|0,l=e[t+28>>2]|0,n=e[o+64>>2]|0;e:do if((n&4|0)!=0&(l|0)>0){if(u=e[t+36>>2]|0,a=e[t+76>>2]|0,n&16)s=a,n=0;else for(n=0;;)if(_=e[u+(n*152|0)+132>>2]|0,e[_+120>>2]=e[u+(n*152|0)+100>>2],e[_+124>>2]=e[a+((e[u+(n*152|0)+140>>2]|0)*152|0)+100>>2],n=n+1|0,(n|0)==(l|0))break e;for(;;){if(_=e[u+(n*152|0)+132>>2]|0,e[_+120>>2]=e[u+(n*152|0)+100>>2],C=e[u+(n*152|0)+140>>2]|0,e[_+124>>2]=e[a+(C*152|0)+100>>2],e[_+128>>2]=e[s+((C+1|0)*152|0)+100>>2],n=n+1|0,(n|0)==(l|0))break e;s=e[t+76>>2]|0}}while(!1);if(s=e[t+48>>2]|0,(s|0)>0){_=0;do a=e[t+56>>2]|0,l=e[a+(_*152|0)+132>>2]|0,u=e[l+44>>2]|0,n=a+(_*152|0)+100|0,u|0&&(g=+i[n>>2],C=e[l+28>>2]|0,m=1/+i[o+12>>2],d=g*+i[a+(_*152|0)+20>>2]*+i[C+376>>2]*m,h=g*+i[a+(_*152|0)+24>>2]*+i[C+380>>2]*m,i[u>>2]=+i[u>>2]+ +i[a+(_*152|0)+16>>2]*g*+i[C+372>>2]*m,i[u+4>>2]=d+ +i[u+4>>2],i[u+8>>2]=h+ +i[u+8>>2],h=+i[n>>2],C=e[l+32>>2]|0,d=1/+i[o+12>>2],m=h*+i[a+(_*152|0)+52>>2]*+i[C+376>>2]*d,g=h*+i[a+(_*152|0)+56>>2]*+i[C+380>>2]*d,i[u+32>>2]=+i[u+32>>2]+ +i[a+(_*152|0)+48>>2]*h*+i[C+372>>2]*d,i[u+36>>2]=m+ +i[u+36>>2],i[u+40>>2]=g+ +i[u+40>>2],C=e[l+28>>2]|0,g=+i[n>>2],m=1/+i[o+12>>2],d=+i[a+(_*152|0)+4>>2]*+i[C+572>>2]*g*m,h=g*(+i[a+(_*152|0)+8>>2]*+i[C+576>>2])*m,i[u+16>>2]=+i[u+16>>2]+ +i[a+(_*152|0)>>2]*+i[C+568>>2]*g*m,i[u+20>>2]=d+ +i[u+20>>2],i[u+24>>2]=h+ +i[u+24>>2],C=e[l+32>>2]|0,h=+i[n>>2],d=1/+i[o+12>>2],m=+i[a+(_*152|0)+36>>2]*+i[C+572>>2]*h*d,g=h*(+i[a+(_*152|0)+40>>2]*+i[C+576>>2])*d,i[u+48>>2]=+i[u+48>>2]+ +i[a+(_*152|0)+32>>2]*+i[C+568>>2]*h*d,i[u+52>>2]=m+ +i[u+52>>2],i[u+56>>2]=g+ +i[u+56>>2]),C=e[n>>2]|0,e[l+36>>2]=C,g=+ht((e[Z>>2]=C,+ +i[Z>>2])),g>=+i[l+16>>2]&&(A[l+20>>0]=0),_=_+1|0;while((_|0)!=(s|0))}if(n=e[t+8>>2]|0,(n|0)>0){u=0;do s=e[t+16>>2]|0,a=s+(u*244|0)|0,l=e[s+(u*244|0)+240>>2]|0,l&&(e[o+44>>2]|0?(d=+i[o+12>>2],m=+i[o+52>>2],C=s+(u*244|0)+176|0,i[C>>2]=+i[s+(u*244|0)+64>>2]+ +i[C>>2],C=s+(u*244|0)+180|0,i[C>>2]=+i[s+(u*244|0)+68>>2]+ +i[C>>2],C=s+(u*244|0)+184|0,i[C>>2]=+i[s+(u*244|0)+72>>2]+ +i[C>>2],C=s+(u*244|0)+192|0,i[C>>2]=+i[s+(u*244|0)+80>>2]+ +i[C>>2],C=s+(u*244|0)+196|0,i[C>>2]=+i[s+(u*244|0)+84>>2]+ +i[C>>2],C=s+(u*244|0)+200|0,i[C>>2]=+i[s+(u*244|0)+88>>2]+ +i[C>>2],g=+i[s+(u*244|0)+144>>2],h=+i[s+(u*244|0)+148>>2],!(g!=0|h!=0)&&+i[s+(u*244|0)+152>>2]==0&&+i[s+(u*244|0)+160>>2]==0&&+i[s+(u*244|0)+164>>2]==0&&+i[s+(u*244|0)+168>>2]==0?n=l:(M=+i[s+(u*244|0)+164>>2]*m,w=+i[s+(u*244|0)+168>>2]*m,i[S>>2]=+i[s+(u*244|0)+160>>2]*m,i[S+4>>2]=M,i[S+8>>2]=w,i[S+12>>2]=0,oo(a,g,h,+i[s+(u*244|0)+152>>2],S,d,S+16|0),e[a>>2]=e[S+16>>2],e[a+4>>2]=e[S+16+4>>2],e[a+8>>2]=e[S+16+8>>2],e[a+12>>2]=e[S+16+12>>2],n=s+(u*244|0)+16|0,e[n>>2]=e[S+16+16>>2],e[n+4>>2]=e[S+16+16+4>>2],e[n+8>>2]=e[S+16+16+8>>2],e[n+12>>2]=e[S+16+16+12>>2],n=s+(u*244|0)+32|0,e[n>>2]=e[S+16+32>>2],e[n+4>>2]=e[S+16+32+4>>2],e[n+8>>2]=e[S+16+32+8>>2],e[n+12>>2]=e[S+16+32+12>>2],n=s+(u*244|0)+48|0,e[n>>2]=e[S+16+48>>2],e[n+4>>2]=e[S+16+48+4>>2],e[n+8>>2]=e[S+16+48+8>>2],e[n+12>>2]=e[S+16+48+12>>2],n=e[t+16>>2]|0,s=n,n=e[n+(u*244|0)+240>>2]|0),a=s,d=+i[s+(u*244|0)+176>>2],m=+i[s+(u*244|0)+180>>2],h=+i[s+(u*244|0)+184>>2]):(a=s+(u*244|0)+176|0,d=+i[s+(u*244|0)+64>>2]+ +i[a>>2],i[a>>2]=d,a=s+(u*244|0)+180|0,m=+i[s+(u*244|0)+68>>2]+ +i[a>>2],i[a>>2]=m,a=s+(u*244|0)+184|0,h=+i[s+(u*244|0)+72>>2]+ +i[a>>2],i[a>>2]=h,a=s+(u*244|0)+192|0,i[a>>2]=+i[s+(u*244|0)+80>>2]+ +i[a>>2],a=s+(u*244|0)+196|0,i[a>>2]=+i[s+(u*244|0)+84>>2]+ +i[a>>2],a=s+(u*244|0)+200|0,i[a>>2]=+i[s+(u*244|0)+88>>2]+ +i[a>>2],a=s,n=l),M=d+ +i[a+(u*244|0)+208>>2],w=m+ +i[a+(u*244|0)+212>>2],g=h+ +i[a+(u*244|0)+216>>2],_=n+284|0,e[_>>2]=(e[_>>2]|0)+1,i[n+336>>2]=M,i[n+340>>2]=w,i[n+344>>2]=g,i[n+348>>2]=0,_=e[t+16>>2]|0,C=e[_+(u*244|0)+240>>2]|0,g=+i[_+(u*244|0)+192>>2]+ +i[_+(u*244|0)+224>>2],w=+i[_+(u*244|0)+196>>2]+ +i[_+(u*244|0)+228>>2],M=+i[_+(u*244|0)+200>>2]+ +i[_+(u*244|0)+232>>2],e[C+284>>2]=(e[C+284>>2]|0)+1,i[C+352>>2]=g,i[C+356>>2]=w,i[C+360>>2]=M,i[C+364>>2]=0,e[o+44>>2]|0&&(_=e[t+16>>2]|0,C=e[_+(u*244|0)+240>>2]|0,l=_+(u*244|0)|0,e[C+284>>2]=(e[C+284>>2]|0)+1,e[C+4>>2]=e[l>>2],e[C+4+4>>2]=e[l+4>>2],e[C+4+8>>2]=e[l+8>>2],e[C+4+12>>2]=e[l+12>>2],l=_+(u*244|0)+16|0,e[C+20>>2]=e[l>>2],e[C+20+4>>2]=e[l+4>>2],e[C+20+8>>2]=e[l+8>>2],e[C+20+12>>2]=e[l+12>>2],l=_+(u*244|0)+32|0,e[C+36>>2]=e[l>>2],e[C+36+4>>2]=e[l+4>>2],e[C+36+8>>2]=e[l+8>>2],e[C+36+12>>2]=e[l+12>>2],_=_+(u*244|0)+48|0,e[C+52>>2]=e[_>>2],e[C+52+4>>2]=e[_+4>>2],e[C+52+8>>2]=e[_+8>>2],e[C+52+12>>2]=e[_+12>>2]),e[(e[(e[t+16>>2]|0)+(u*244|0)+240>>2]|0)+212>>2]=-1,n=e[t+8>>2]|0),u=u+1|0;while((u|0)<(n|0))}return(e[t+28>>2]|0)<0&&(e[t+32>>2]|0)<0&&(n=e[t+36>>2]|0,n|0&&(A[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),A[t+40>>0]=1,e[t+36>>2]=0,e[t+32>>2]=0),e[t+28>>2]=0,(e[t+48>>2]|0)<0&&(e[t+52>>2]|0)<0&&(n=e[t+56>>2]|0,n|0&&(A[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+56>>2]=0),A[t+60>>0]=1,e[t+56>>2]=0,e[t+52>>2]=0),e[t+48>>2]=0,(e[t+68>>2]|0)<0&&(e[t+72>>2]|0)<0&&(n=e[t+76>>2]|0,n|0&&(A[t+80>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+76>>2]=0),A[t+80>>0]=1,e[t+76>>2]=0,e[t+72>>2]=0),e[t+68>>2]=0,(e[t+88>>2]|0)<0&&(e[t+92>>2]|0)<0&&(n=e[t+96>>2]|0,n|0&&(A[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+96>>2]=0),A[t+100>>0]=1,e[t+96>>2]=0,e[t+92>>2]=0),e[t+88>>2]=0,(e[t+8>>2]|0)>=0||(e[t+12>>2]|0)>=0?(e[t+8>>2]=0,H=S,0):(n=e[t+16>>2]|0,n|0&&(A[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0),A[t+20>>0]=1,e[t+16>>2]=0,e[t+12>>2]=0,e[t+8>>2]=0,H=S,0)}function Ese(t,n,s,o,a,l,u,_,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,_=_|0,h=h|0,d=d|0;var m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0;if(g=e[t+48>>2]|0,C=e[t+28>>2]|0,w=e[t+68>>2]|0,e[h+64>>2]&1|0){if((g|0)>0){o=e[t+136>>2]|0,d=e[t+200>>2]|0,S=0;do a=o+(S<<2)|0,l=e[a>>2]|0,S=S+1|0,d=(Rt(d,1664525)|0)+1013904223|0,S>>>0<65537?(s=d>>>16^d,S>>>0<257&&(S>>>0<17?(s=(s>>>8^s)>>>4^(s>>>8^s),S>>>0<5&&(S>>>0<3?s=(s>>>2^s)>>>1^(s>>>2^s):s=s>>>2^s)):s=s>>>8^s)):s=d,s=o+(((s>>>0)%(S>>>0)|0)<<2)|0,e[a>>2]=e[s>>2],e[s>>2]=l;while((S|0)!=(g|0));e[t+200>>2]=d}if((e[h+20>>2]|0)>(n|0)){if((C|0)>0){o=e[t+116>>2]|0,d=e[t+200>>2]|0,g=0;do a=o+(g<<2)|0,l=e[a>>2]|0,g=g+1|0,d=(Rt(d,1664525)|0)+1013904223|0,g>>>0<65537?(s=d>>>16^d,g>>>0<257&&(g>>>0<17?(s=(s>>>8^s)>>>4^(s>>>8^s),g>>>0<5&&(g>>>0<3?s=(s>>>2^s)>>>1^(s>>>2^s):s=s>>>2^s)):s=s>>>8^s)):s=d,S=o+(((s>>>0)%(g>>>0)|0)<<2)|0,e[a>>2]=e[S>>2],e[S>>2]=l;while((g|0)!=(C|0));e[t+200>>2]=d}if((w|0)>0){o=e[t+156>>2]|0,d=e[t+200>>2]|0,g=0;do a=o+(g<<2)|0,l=e[a>>2]|0,g=g+1|0,d=(Rt(d,1664525)|0)+1013904223|0,g>>>0<65537?(s=d>>>16^d,g>>>0<257&&(g>>>0<17?(s=(s>>>8^s)>>>4^(s>>>8^s),g>>>0<5&&(g>>>0<3?s=(s>>>2^s)>>>1^(s>>>2^s):s=s>>>2^s)):s=s>>>8^s)):s=d,C=o+(((s>>>0)%(g>>>0)|0)<<2)|0,e[a>>2]=e[C>>2],e[C>>2]=l;while((g|0)!=(w|0));e[t+200>>2]=d}}}if(s=e[t+48>>2]|0,!(e[h+64>>2]&256)){if((s|0)>0){l=0;do o=e[(e[t+136>>2]|0)+(l<<2)>>2]|0,a=e[t+56>>2]|0,(e[a+(o*152|0)+136>>2]|0)>(n|0)&&(s=e[t+16>>2]|0,+_1(s+((e[a+(o*152|0)+144>>2]|0)*244|0)|0,s+((e[a+(o*152|0)+148>>2]|0)*244|0)|0,a+(o*152|0)|0),s=e[t+48>>2]|0),l=l+1|0;while((l|0)<(s|0))}if((e[h+20>>2]|0)<=(n|0))return 0;if((_|0)>0){a=0;do s=u+(a<<2)|0,o=e[s>>2]|0,A[o+20>>0]|0&&(n=p1(t,e[o+28>>2]|0,+i[h+12>>2])|0,E=p1(t,e[(e[s>>2]|0)+32>>2]|0,+i[h+12>>2])|0,M=e[t+16>>2]|0,w=e[s>>2]|0,D2[e[(e[w>>2]|0)+24>>2]&15](w,M+(n*244|0)|0,M+(E*244|0)|0,+i[h+12>>2])),a=a+1|0;while((a|0)!=(_|0))}if(s=e[t+28>>2]|0,(s|0)>0){o=0;do h=e[(e[t+116>>2]|0)+(o<<2)>>2]|0,_=e[t+36>>2]|0,u=e[t+16>>2]|0,+pp(u+((e[_+(h*152|0)+144>>2]|0)*244|0)|0,u+((e[_+(h*152|0)+148>>2]|0)*244|0)|0,_+(h*152|0)|0),o=o+1|0;while((o|0)!=(s|0))}if(s=e[t+68>>2]|0,(s|0)>0){l=0;do o=e[(e[t+156>>2]|0)+(l<<2)>>2]|0,a=e[t+76>>2]|0,m=+i[(e[t+36>>2]|0)+((e[a+(o*152|0)+140>>2]|0)*152|0)+100>>2],m>0&&(m=m*+i[a+(o*152|0)+104>>2],i[a+(o*152|0)+120>>2]=-m,i[a+(o*152|0)+124>>2]=m,h=e[t+16>>2]|0,+_1(h+((e[a+(o*152|0)+144>>2]|0)*244|0)|0,h+((e[a+(o*152|0)+148>>2]|0)*244|0)|0,a+(o*152|0)|0)),l=l+1|0;while((l|0)!=(s|0))}if(s=e[t+88>>2]|0,(s|0)<=0)return 0;a=0;do o=e[t+96>>2]|0,m=+i[(e[t+36>>2]|0)+((e[o+(a*152|0)+140>>2]|0)*152|0)+100>>2],m>0&&(D=+i[o+(a*152|0)+104>>2],m=m*D>D?D:m*D,i[o+(a*152|0)+120>>2]=-m,i[o+(a*152|0)+124>>2]=m,h=e[t+16>>2]|0,+_1(h+((e[o+(a*152|0)+144>>2]|0)*244|0)|0,h+((e[o+(a*152|0)+148>>2]|0)*244|0)|0,o+(a*152|0)|0)),a=a+1|0;while((a|0)!=(s|0));return 0}if((s|0)>0){l=0;do o=e[(e[t+136>>2]|0)+(l<<2)>>2]|0,a=e[t+56>>2]|0,(e[a+(o*152|0)+136>>2]|0)>(n|0)&&(s=e[t+16>>2]|0,+_1(s+((e[a+(o*152|0)+144>>2]|0)*244|0)|0,s+((e[a+(o*152|0)+148>>2]|0)*244|0)|0,a+(o*152|0)|0),s=e[t+48>>2]|0),l=l+1|0;while((l|0)<(s|0))}if((e[h+20>>2]|0)<=(n|0))return 0;if((_|0)>0){a=0;do s=u+(a<<2)|0,o=e[s>>2]|0,A[o+20>>0]|0&&(C=p1(t,e[o+28>>2]|0,+i[h+12>>2])|0,n=p1(t,e[(e[s>>2]|0)+32>>2]|0,+i[h+12>>2])|0,w=e[t+16>>2]|0,S=e[s>>2]|0,D2[e[(e[S>>2]|0)+24>>2]&15](S,w+(C*244|0)|0,w+(n*244|0)|0,+i[h+12>>2])),a=a+1|0;while((a|0)!=(_|0))}if(s=e[h+64>>2]|0,g=e[t+28>>2]|0,s&512|0){if((g|0)<=0)return 0;d=0;do o=e[(e[t+116>>2]|0)+(d<<2)>>2]|0,a=e[t+36>>2]|0,l=e[t+16>>2]|0,+pp(l+((e[a+(o*152|0)+144>>2]|0)*244|0)|0,l+((e[a+(o*152|0)+148>>2]|0)*244|0)|0,a+(o*152|0)|0),m=+i[a+(o*152|0)+100>>2],o=Rt(d,(s>>>4&1)+1|0)|0,a=e[(e[t+156>>2]|0)+(o<<2)>>2]|0,l=e[t+76>>2]|0,m>0&&(D=m*+i[l+(a*152|0)+104>>2],i[l+(a*152|0)+120>>2]=-D,i[l+(a*152|0)+124>>2]=D,_=e[t+16>>2]|0,+_1(_+((e[l+(a*152|0)+144>>2]|0)*244|0)|0,_+((e[l+(a*152|0)+148>>2]|0)*244|0)|0,l+(a*152|0)|0)),e[h+64>>2]&16|0&&(M=e[(e[t+156>>2]|0)+(o+1<<2)>>2]|0,E=e[t+76>>2]|0,m>0)&&(D=m*+i[E+(M*152|0)+104>>2],i[E+(M*152|0)+120>>2]=-D,i[E+(M*152|0)+124>>2]=D,_=e[t+16>>2]|0,+_1(_+((e[E+(M*152|0)+144>>2]|0)*244|0)|0,_+((e[E+(M*152|0)+148>>2]|0)*244|0)|0,E+(M*152|0)|0)),d=d+1|0;while((d|0)!=(g|0));return 0}if((g|0)>0){s=0;do h=e[(e[t+116>>2]|0)+(s<<2)>>2]|0,_=e[t+36>>2]|0,u=e[t+16>>2]|0,+pp(u+((e[_+(h*152|0)+144>>2]|0)*244|0)|0,u+((e[_+(h*152|0)+148>>2]|0)*244|0)|0,_+(h*152|0)|0),s=s+1|0;while((s|0)!=(g|0))}if(s=e[t+68>>2]|0,(s|0)>0){l=0;do o=e[(e[t+156>>2]|0)+(l<<2)>>2]|0,a=e[t+76>>2]|0,m=+i[(e[t+36>>2]|0)+((e[a+(o*152|0)+140>>2]|0)*152|0)+100>>2],m>0&&(D=m*+i[a+(o*152|0)+104>>2],i[a+(o*152|0)+120>>2]=-D,i[a+(o*152|0)+124>>2]=D,h=e[t+16>>2]|0,+_1(h+((e[a+(o*152|0)+144>>2]|0)*244|0)|0,h+((e[a+(o*152|0)+148>>2]|0)*244|0)|0,a+(o*152|0)|0)),l=l+1|0;while((l|0)!=(s|0))}if(s=e[t+88>>2]|0,(s|0)<=0)return 0;a=0;do o=e[t+96>>2]|0,m=+i[(e[t+36>>2]|0)+((e[o+(a*152|0)+140>>2]|0)*152|0)+100>>2],m>0&&(D=+i[o+(a*152|0)+104>>2],D=m*D>D?D:m*D,i[o+(a*152|0)+120>>2]=-D,i[o+(a*152|0)+124>>2]=D,h=e[t+16>>2]|0,+_1(h+((e[o+(a*152|0)+144>>2]|0)*244|0)|0,h+((e[o+(a*152|0)+148>>2]|0)*244|0)|0,o+(a*152|0)|0)),a=a+1|0;while((a|0)!=(s|0));return 0}function _1(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0;l=+i[s+100>>2],h=+i[s+16>>2],u=+i[s+20>>2],_=+i[s+24>>2],o=+i[s+108>>2],o=+i[s+112>>2]-l*+i[s+116>>2]-(h*+i[t+64>>2]+u*+i[t+68>>2]+_*+i[t+72>>2]+(+i[s>>2]*+i[t+80>>2]+ +i[s+4>>2]*+i[t+84>>2]+ +i[s+8>>2]*+i[t+88>>2]))*o-o*(+i[s+48>>2]*+i[n+64>>2]+ +i[s+52>>2]*+i[n+68>>2]+ +i[s+56>>2]*+i[n+72>>2]+(+i[s+32>>2]*+i[n+80>>2]+ +i[s+36>>2]*+i[n+84>>2]+ +i[s+40>>2]*+i[n+88>>2])),a=+i[s+120>>2];do if(l+o<a)i[s+100>>2]=a,o=a-l;else if(a=+i[s+124>>2],l+o>a){i[s+100>>2]=a,o=a-l;break}else{i[s+100>>2]=l+o;break}while(!1);return e[t+240>>2]|0&&(u=o*(u*+i[t+132>>2])*+i[t+116>>2],_=o*(_*+i[t+136>>2])*+i[t+120>>2],i[t+64>>2]=+i[t+112>>2]*(o*(h*+i[t+128>>2]))+ +i[t+64>>2],i[t+68>>2]=u+ +i[t+68>>2],i[t+72>>2]=_+ +i[t+72>>2],_=o*+i[t+100>>2]*+i[s+68>>2],h=o*+i[t+104>>2]*+i[s+72>>2],i[t+80>>2]=o*+i[t+96>>2]*+i[s+64>>2]+ +i[t+80>>2],i[t+84>>2]=_+ +i[t+84>>2],i[t+88>>2]=h+ +i[t+88>>2]),e[n+240>>2]|0&&(h=o*(+i[s+52>>2]*+i[n+132>>2])*+i[n+116>>2],_=o*(+i[s+56>>2]*+i[n+136>>2])*+i[n+120>>2],i[n+64>>2]=+i[n+112>>2]*(o*(+i[s+48>>2]*+i[n+128>>2]))+ +i[n+64>>2],i[n+68>>2]=h+ +i[n+68>>2],i[n+72>>2]=_+ +i[n+72>>2],_=o*+i[n+100>>2]*+i[s+84>>2],h=o*+i[n+104>>2]*+i[s+88>>2],i[n+80>>2]=o*+i[n+96>>2]*+i[s+80>>2]+ +i[n+80>>2],i[n+84>>2]=_+ +i[n+84>>2],i[n+88>>2]=h+ +i[n+88>>2]),+o}function pp(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,_=0,h=0,d=0;return h=+i[s+100>>2],l=+i[s+16>>2],o=+i[s+20>>2],a=+i[s+24>>2],_=+i[s+108>>2],_=+i[s+112>>2]-h*+i[s+116>>2]-(l*+i[t+64>>2]+o*+i[t+68>>2]+a*+i[t+72>>2]+(+i[s>>2]*+i[t+80>>2]+ +i[s+4>>2]*+i[t+84>>2]+ +i[s+8>>2]*+i[t+88>>2]))*_-_*(+i[s+48>>2]*+i[n+64>>2]+ +i[s+52>>2]*+i[n+68>>2]+ +i[s+56>>2]*+i[n+72>>2]+(+i[s+32>>2]*+i[n+80>>2]+ +i[s+36>>2]*+i[n+84>>2]+ +i[s+40>>2]*+i[n+88>>2])),d=+i[s+120>>2],u=h+_<d?d-h:_,i[s+100>>2]=h+_<d?d:h+_,e[t+240>>2]|0&&(d=u*(o*+i[t+132>>2])*+i[t+116>>2],h=u*(a*+i[t+136>>2])*+i[t+120>>2],i[t+64>>2]=+i[t+112>>2]*(u*(l*+i[t+128>>2]))+ +i[t+64>>2],i[t+68>>2]=d+ +i[t+68>>2],i[t+72>>2]=h+ +i[t+72>>2],h=u*+i[t+100>>2]*+i[s+68>>2],d=u*+i[t+104>>2]*+i[s+72>>2],i[t+80>>2]=u*+i[t+96>>2]*+i[s+64>>2]+ +i[t+80>>2],i[t+84>>2]=h+ +i[t+84>>2],i[t+88>>2]=d+ +i[t+88>>2]),e[n+240>>2]|0&&(d=u*(+i[s+52>>2]*+i[n+132>>2])*+i[n+116>>2],h=u*(+i[s+56>>2]*+i[n+136>>2])*+i[n+120>>2],i[n+64>>2]=+i[n+112>>2]*(u*(+i[s+48>>2]*+i[n+128>>2]))+ +i[n+64>>2],i[n+68>>2]=d+ +i[n+68>>2],i[n+72>>2]=h+ +i[n+72>>2],h=u*+i[n+100>>2]*+i[s+84>>2],d=u*+i[n+104>>2]*+i[s+88>>2],i[n+80>>2]=u*+i[n+96>>2]*+i[s+80>>2]+ +i[n+80>>2],i[n+84>>2]=h+ +i[n+84>>2],i[n+88>>2]=d+ +i[n+88>>2]),+u}var Qi=[Yr,f2e,Q2e,zre,U6,q6,MQ,V0e,Z0e,pie,zie,fne,mne,Tm,l1,bG,MG,FG,Yr,Yr,Yr,Yr,Yr,Yr,Yr,Yr,Yr,Yr,Yr,Yr,Yr,Yr],g2=[Fr,UZ,VQ,Mne,Hne,lJ,IJ,$ee,bte,TY,CY,DY,IY,PY,BY,jV,qV,Fr,Fr,Fr,Fr,Fr,Fr,Fr,Fr,Fr,Fr,Fr,Fr,Fr,Fr,Fr],Vt=[tn,Ph,c2e,v2e,S2e,T2e,C2e,Em,j2e,fre,X2e,$2e,tre,rre,Dm,_re,gre,xre,Rre,up,Lre,Gre,Vre,jre,qre,YK,KK,rZ,dZ,mZ,ep,SZ,TZ,CZ,G6,eQ,AZ,EZ,DZ,IZ,kZ,FZ,VZ,zZ,ZY,WZ,jZ,XZ,YZ,KZ,iQ,rQ,oQ,aQ,uQ,pQ,hQ,dQ,tp,yQ,vQ,Y6,wQ,RQ,DQ,G0e,IQ,PQ,xte,kQ,W0e,q0e,X0e,Y0e,K0e,Q0e,iie,oie,uie,fie,hm,die,vie,Sie,Cie,Mie,Aie,bie,Die,Pie,kie,Bie,Oie,O2e,Vie,jie,qie,mm,Yie,gm,Jie,nne,ym,sne,lne,une,hne,dne,yne,vne,Gne,Vne,pre,Yne,e2e,tJ,Cee,nJ,mJ,xJ,Z6,RJ,BJ,UJ,YJ,QJ,tee,iee,tm,Tee,Ree,QY,Iee,zee,tte,ote,fte,pte,hte,mte,yte,Mte,Lte,kte,JY,eK,N6,fK,hK,dK,SK,wK,DK,RK,AK,IK,kK,FK,UK,OK,VK,qK,$K,Hte,jte,r0e,e0e,a0e,_0e,h0e,c0e,l0e,A0e,E0e,P0e,k0e,w0e,Yre,ese,tse,fse,pse,Gm,vse,Tse,O$,T6,$$,Y$,aY,gY,bY,kY,wY,RY,M6,UY,X$,GY,b6,jY,$V,YV,ZV,Uz,Oz,eX,tX,YP,KP,vG,AG,TG,CG,SG,DG,IG,LG,hG,yG,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn],Hm=[NV],zt=[d2,d2e,y2e,P2e,B2e,U2e,ore,ure,K2e,ire,sre,Ere,Ire,Pre,Bre,Ure,Hre,JK,eZ,pZ,gZ,vZ,wZ,H6,tQ,OZ,$Z,CQ,SQ,NQ,EQ,j0e,yee,GQ,MJ,lie,hie,Hie,ane,_ne,xne,Tne,zne,Qne,Jne,sJ,cJ,EJ,FJ,GJ,WJ,ZJ,eee,nee,Aee,Hee,Xee,Bte,nK,rK,oK,aK,pK,_K,D6,Xte,$te,Kte,Zte,Qte,o0e,d0e,m0e,b0e,Dh,F0e,B0e,Kre,ise,nse,_se,hse,G$,V$,Z$,Q$,iY,nY,rY,sY,oY,cY,uY,fY,xY,yY,vY,SY,NY,LY,FY,WY,XY,iX,nX,d2,d2,d2,d2,d2,d2,d2,d2,d2,d2,d2,d2,d2,d2,d2,d2,d2,d2,d2,d2,d2,d2,d2],jm=[c6,BK,GK,c6],Ct=[Cn,m2e,g2e,A2e,E2e,b2e,D2e,F2e,are,cre,vre,Sre,Tre,wre,Dre,kre,oZ,cZ,lZ,uZ,yZ,MZ,BQ,OQ,zQ,qQ,$Q,YQ,QQ,mie,gie,yie,ine,wne,bne,Dne,Ine,kne,gK,Wne,qne,aJ,uJ,hJ,gJ,yJ,bJ,DJ,LJ,zJ,HJ,KJ,JJ,ree,see,fee,pee,dee,Eee,bee,kee,Fee,Oee,qee,Yee,ite,ate,Ete,Ute,Gte,Vte,sK,cK,YY,yK,CJ,n0e,s0e,v0e,p0e,I0e,L0e,M0e,Zre,ose,cse,gse,yse,Cse,H$,q$,pY,_Y,mY,VY,pG,PG,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn,Cn],Bh=[l6,x0e,N0e,Xre,rse,dse,z$,l6],_p=[DV],Uh=[IV],$2=[gs,M2e,dre,Im,ZK,$0e,Tie,wie,Rie,Eie,Nie,Iie,Lie,Fie,Uie,Gie,_te,KV,QP,gs,gs,gs,gs,gs,gs,gs,gs,gs,gs,gs,gs,gs],B2=[Tc,UQ,Cne,xK,oJ,NJ,VJ,vte,jee,Ate,Ote,Tc,Tc,Tc,Tc,Tc],hp=[PV,Vz],q1=[LV],Oh=[Ca,Wre,TQ,bQ,z0e,cie,_ie,Wie,pne,gne,Ca,Ca,Ca,Ca,Ca,Ca],V0=[Un,w2e,k2e,hre,Nre,Fre,QK,tZ,iZ,O6,WQ,xie,ene,tne,Xne,fJ,kJ,jJ,oee,Kee,zte,KY,wJ,S0e,Ra,fm,R0e,Qre,ase,xse,j$,zY,ZP,_G,dG,e6,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un],Lo=[u6,_2e,ere,OY,EG,wG,kG,u6],bse=[Yf,U0e,Bne,gee,Vee,Yf,Yf,Yf],Tt=[z1,SJ,Rh,jne,PJ,ete,ste,ute,Nte,z1,z1,z1,z1,z1,z1,z1],qm=[kV,Zf,xh,B6],Xm=[f6,nQ,sQ,f6],$m=[FV],Nse=[p6,wee,lee,p6],Ym=[BV,Rse],Nc=[_6,tK,iK,_6],I0=[js,W2e,H2e,yre,Are,aZ,fZ,sZ,xZ,BZ,ZZ,cQ,fQ,_Q,Cte,t0e,hY,dY,AY,QV,Gz,js,js,js,js,js,js,js,js,js,js,js],ko=[h6,QZ,lQ,i0e,y0e,D0e,$re,sse,mse,W$,MY,EY,JV,_1,pp,h6],vu=[d6,Sse,Ese,d6],Dse=[UV,u0e],Gh=[m6,B$,U$,m6],Vh=[OV,TJ],zh=[GV],Wh=[g6,HZ,qZ,g6],Km=[VV,Ase],Hh=[x6,l2e,q2e,x6],D2=[wa,xQ,tie,sie,aie,rne,NK,HK,g0e,f0e,wa,wa,wa,wa,wa,wa],f0=[fi,u2e,x2e,R2e,N2e,I2e,L2e,Z2e,lre,Y2e,V2e,mre,Cre,Mre,bre,GZ,mQ,gQ,AQ,vJ,vee,HQ,XQ,ZQ,J0e,eie,nie,rie,Xie,Kie,one,Rne,Ane,Nne,Lne,Une,CK,Zne,Kne,eJ,iJ,pJ,dJ,qJ,XJ,aee,cee,hee,Nee,Dee,Uee,Zee,Qee,nte,cte,Ste,Dte,Ite,lK,uK,EK,bK,zK,WK,T0e,Jre,lse,use,tY,JP,hZ,W1,Mee,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi,fi],x2=[zV,WV,gG,xG],sr=[ch,z2e,qte,Yte,Jte,qY,ch,ch],dp=[HV,eY],Kt=[q0,p2e,h2e,J2e,nre,nZ,RZ,LZ,W6,bZ,NZ,PZ,jK,XK,LQ,FQ,jQ,See,KQ,JQ,O0e,H0e,$ie,Zie,Sne,Ene,Pne,Fne,mK,$ne,rJ,_J,AJ,OJ,$J,wte,uee,_ee,mee,Lee,Bee,Gee,Pee,Wee,Jee,rte,lte,dte,gte,Tte,Rte,Pte,Fte,Wte,$Y,vK,TK,MK,wse,K$,lY,XV,NG,RG,BG,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0,q0];return{_emscripten_bind_btCylinderShape___destroy___0:Oq,_emscripten_bind_btGeneric6DofConstraint_enableFeedback_1:b$,_emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1:uL,_emscripten_bind_btDispatcherInfo_set_m_useContinuous_1:s$,_emscripten_bind_btCollisionObject_isActive_0:BH,_emscripten_bind_btVehicleTuning_set_m_frictionSlip_1:CO,_emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4:SX,_emscripten_bind_btCapsuleShapeX_getMargin_0:uH,_emscripten_bind_btCompoundShape_getMargin_0:gj,_emscripten_bind_RaycastInfo_set_m_wheelDirectionWS_1:VW,_emscripten_bind_btContactSolverInfo___destroy___0:oq,_emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0:Rz,_emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0:lk,_emscripten_bind_btQuaternion_setX_1:sF,_emscripten_bind_btCylinderShapeZ_getMargin_0:Fq,_emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0:qX,_emscripten_bind_btQuaternion_setZ_1:aF,_emscripten_bind_btCapsuleShapeZ_getMargin_0:mH,_emscripten_bind_btKinematicCharacterController_setMaxSlope_1:EL,_emscripten_bind_btQuadWord_z_0:Jk,_emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0:TO,_emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0:OO,_emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0:GO,_emscripten_bind_btGeneric6DofSpring2Constraint_getBreakingImpulseThreshold_0:tP,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1:GF,_emscripten_bind_RaycastInfo_get_m_wheelAxleWS_0:IW,_emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0:IF,_emscripten_bind_btCollisionDispatcher___destroy___0:RH,_emscripten_bind_btRigidBody_applyCentralImpulse_1:tB,_emscripten_bind_btConvexHullShape_getMargin_0:mq,_emscripten_bind_btDefaultMotionState_getWorldTransform_1:oX,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1:FX,_emscripten_bind_btRaycastVehicle_getNumWheels_0:mF,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3:UX,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2:BX,_emscripten_bind_btVector3_op_mul_1:WU,_emscripten_bind_btDynamicsWorld_rayTest_3:w$,_emscripten_bind_btRaycastVehicle_updateWheelTransform_2:CF,_emscripten_bind_btQuadWord_x_0:Zk,_emscripten_bind_btCollisionObject_isKinematicObject_0:UH,_emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1:qO,_emscripten_bind_ConvexResultCallback___destroy___0:qz,_emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1:TP,_emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1:xz,_emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1:sG,_emscripten_bind_btRigidBody_getCenterOfMassTransform_0:lB,_emscripten_bind_btGhostObject_isKinematicObject_0:kP,_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5:_P,_emscripten_bind_btCapsuleShape___destroy___0:yH,_emscripten_bind_btCollisionObject_activate_1:IH,_emscripten_bind_btCollisionObject_activate_0:DH,_emscripten_bind_btGeneric6DofSpring2Constraint_getRotationalLimitMotor_1:iP,_emscripten_bind_btKinematicCharacterController_setUpAxis_1:bL,_emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1:n$,_emscripten_bind_btGeneric6DofSpring2Constraint_setAngularUpperLimit_1:sP,_emscripten_bind_btTranslationalLimitMotor2___destroy___0:vU,_emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1:AH,_emscripten_bind_btVector3_setX_1:qU,_emscripten_bind_btCollisionConfiguration___destroy___0:MH,_emscripten_bind_btCapsuleShapeZ_setMargin_1:xH,_emscripten_bind_btHingeConstraint_enableFeedback_1:cL,_emscripten_bind_btSphereShape___destroy___0:eU,_emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1:D$,_emscripten_bind_btManifoldPoint_set_m_localPointB_1:HL,_emscripten_bind_btVector3_setZ_1:$U,_emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1:NL,_emscripten_bind_btQuaternion_setValue_4:nF,_emscripten_bind_btDynamicsWorld_getBroadphase_0:y$,_emscripten_bind_LocalShapeInfo___destroy___0:pW,_emscripten_bind_btPoint2PointConstraint_get_m_setting_0:Gk,_emscripten_bind_btQuadWord_setY_1:$k,_emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1:YF,_emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0:aX,_emscripten_bind_btSliderConstraint_btSliderConstraint_5:qB,_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3:vX,_emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0:ak,_emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0:NX,_emscripten_bind_btCylinderShape_setMargin_1:Hq,_emscripten_bind_btCollisionWorld___destroy___0:JH,_emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0:sW,_emscripten_bind_btBoxShape_btBoxShape_1:KW,_emscripten_bind_btPersistentManifold_getBody1_0:Nk,_emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1:Iz,_emscripten_bind_RaycastInfo_set_m_isInContact_1:UW,_emscripten_bind_btKinematicCharacterController_setGravity_1:ML,_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5:E$,_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3:A$,_emscripten_bind_btQuaternion_setY_1:oF,_emscripten_bind_btWheelInfo_get_m_rollInfluence_0:BO,_emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1:kU,_emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1:oH,_emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1:Vk,_emscripten_bind_btDynamicsWorld_getDispatchInfo_0:v$,_emscripten_bind_btCompoundShape_removeChildShapeByIndex_1:yj,_emscripten_bind_btGeneric6DofSpring2Constraint_enableSpring_2:eP,_emscripten_bind_btVector3_length_0:GU,_emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2:wq,_emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1:Cq,_emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1:yz,_emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1:CW,_emscripten_bind_btBoxShape_getMargin_0:QW,_emscripten_bind_btPairCachingGhostObject___destroy___0:rk,_emscripten_bind_btPairCachingGhostObject_activate_0:sk,_emscripten_bind_btPairCachingGhostObject_activate_1:ok,_emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0:aq,_emscripten_bind_btPairCachingGhostObject_forceActivationState_1:ck,_emscripten_bind_btDefaultMotionState___destroy___0:Qq,_emscripten_bind_btDispatcherInfo_get_m_stepCount_0:jX,_emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1:HF,_emscripten_bind_btQuadWord_setW_1:qk,_emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0:LF,_emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2:cH,_emscripten_bind_LocalShapeInfo_set_m_shapePart_1:dW,_emscripten_bind_btRigidBody_setLinearFactor_1:bB,_emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1:o$,_emscripten_bind_btWheelInfo_get_m_engineForce_0:IO,_emscripten_bind_btRaycastVehicle_setSteeringValue_2:TF,_emscripten_enum_RotateOrder_RO_YXZ:cG,_emscripten_bind_btPoint2PointConstraint___destroy___0:Pk,_emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1:I$,_emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2:xX,_emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1:gX,_emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1:jF,_malloc:Xe,_emscripten_bind_btDispatcherInfo_get_m_useEpa_0:KX,_memmove:ah,_emscripten_bind_btTransform_btTransform_2:_U,_emscripten_bind_btTransform_btTransform_0:pU,_emscripten_bind_btVector3_op_sub_1:HU,_emscripten_bind_btWheelInfo_set_m_wheelsRadius_1:rG,_emscripten_bind_btDispatcherInfo_set_m_enableSPU_1:e$,_emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1:iG,_emscripten_bind_btCollisionObject_setActivationState_1:OH,_emscripten_bind_btPersistentManifold___destroy___0:Ak,_emscripten_bind_btConstraintSetting_get_m_impulseClamp_0:eq,_emscripten_bind_btCylinderShapeZ___destroy___0:Pq,_emscripten_bind_btMatrix3x3___destroy___0:$L,_emscripten_bind_ConvexResultCallback_hasHit_0:Kz,_emscripten_bind_btCollisionShape_calculateLocalInertia_2:ZH,_emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1:yP,_emscripten_bind_btCollisionWorld_convexSweepTest_5:sj,_emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1:Lz,_emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2:lH,_emscripten_bind_btConstraintSetting_set_m_damping_1:iq,_emscripten_bind_btVehicleRaycaster___destroy___0:dO,_emscripten_bind_btRigidBody_setCcdMotionThreshold_1:SB,_emscripten_bind_btConvexHullShape_setMargin_1:xq,_emscripten_bind_btRigidBody_applyForce_2:iB,_emscripten_bind_btConeShapeZ_calculateLocalInertia_2:Dj,_emscripten_bind_btConstraintSetting_set_m_tau_1:rq,_emscripten_bind_btConvexHullShape_calculateLocalInertia_2:dq,_emscripten_bind_RaycastInfo_get_m_contactPointWS_0:AW,_emscripten_bind_btSphereShape_calculateLocalInertia_2:iU,_emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0:DO,_emscripten_bind_btDynamicsWorld_contactTest_2:g$,_emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0:Ez,_emscripten_bind_btGhostObject_setFriction_1:WP,_emscripten_bind_btCollisionWorld_rayTest_3:uj,_emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1:TB,_emscripten_bind_btCylinderShapeZ_setMargin_1:Uq,_emscripten_bind_btRigidBody_setFriction_1:EB,_emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1:uW,_emscripten_bind_btGhostObject_setWorldTransform_1:qP,_emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1:LX,_emscripten_bind_btTranslationalLimitMotor2_set_m_currentLinearDiff_1:TU,_emscripten_bind_btConvexHullShape___destroy___0:fq,_emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0:MX,_emscripten_bind_btVector4_setX_1:cO,_emscripten_bind_btKinematicCharacterController_jump_0:vL,_emscripten_bind_btWheelInfo_set_m_raycastInfo_1:ZO,_emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1:Xj,_emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1:Rq,_emscripten_bind_btRigidBody_upcast_1:BB,_emscripten_bind_btCollisionObject_getWorldTransform_0:FH,_emscripten_bind_btVector4_setZ_1:uO,_emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1:XL,___cxa_can_catch:UG,_emscripten_bind_btTransform_getBasis_0:hU,_emscripten_bind_btPairCachingGhostObject_setFriction_1:Ck,_emscripten_bind_btManifoldPoint___destroy___0:LL,_emscripten_bind_btDispatcherInfo_set_m_useEpa_1:a$,_emscripten_bind_btCollisionDispatcher_getNumManifolds_0:bH,_emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1:jO,_emscripten_bind_ClosestRayResultCallback___destroy___0:Sz,_emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2:CP,_emscripten_bind_btCylinderShapeX_setMargin_1:Iq,_emscripten_bind_btQuadWord_w_0:Kk,_emscripten_bind_btGhostObject_setCcdMotionThreshold_1:UP,_emscripten_bind_btDiscreteDynamicsWorld_contactTest_2:CX,_emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_3:ZI,_emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2:sH,_emscripten_bind_btCompoundShape_getNumChildShapes_0:xj,_emscripten_bind_btGhostObject_btGhostObject_0:AP,_emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2:nz,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1:OF,_emscripten_bind_btManifoldPoint_set_m_localPointA_1:WL,_emscripten_bind_LocalConvexResult___destroy___0:tW,_emscripten_bind_btVector3_dot_1:OU,_emscripten_bind_btVector4_op_add_1:rO,_emscripten_bind_btWheelInfo___destroy___0:bO,_emscripten_bind_btTransform_setRotation_1:yU,_emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0:fk,_emscripten_bind_btPoint2PointConstraint_enableFeedback_1:Fk,_emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1:Nz,_emscripten_bind_btAxisSweep3_btAxisSweep3_2:jW,_emscripten_bind_btAxisSweep3_btAxisSweep3_3:qW,_emscripten_bind_btDynamicsWorld___destroy___0:f$,_emscripten_bind_btVector3_setY_1:XU,_emscripten_bind_btAxisSweep3_btAxisSweep3_4:XW,_emscripten_bind_btAxisSweep3_btAxisSweep3_5:$W,_emscripten_bind_btQuadWord_setX_1:Xk,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0:DF,_emscripten_bind_btGhostObject_isActive_0:LP,_emscripten_bind_btOverlappingPairCache___destroy___0:tk,_emscripten_bind_btVector3_normalize_0:VU,_emscripten_bind_btConstraintSetting___destroy___0:Zj,_emscripten_bind_RayResultCallback___destroy___0:gW,_emscripten_bind_RaycastInfo_get_m_contactNormalWS_0:RW,_emscripten_bind_btTranslationalLimitMotor2_get_m_currentLinearDiff_0:SU,_emscripten_bind_btPersistentManifold_getBody0_0:bk,_emscripten_bind_btConeShapeX_btConeShapeX_2:Rj,_emscripten_bind_btQuaternion_z_0:fF,_emscripten_bind_btConeTwistConstraint_enableFeedback_1:Gj,_emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2:cU,_emscripten_bind_btCapsuleShapeZ_setLocalScaling_1:gH,_emscripten_bind_btRigidBody_applyTorque_1:sB,_emscripten_bind_btSliderConstraint_setUpperLinLimit_1:JB,_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2:Uj,_emscripten_bind_btConcaveShape___destroy___0:Tj,_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4:Oj,_emscripten_bind_btQuaternion_x_0:lF,_emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1:lW,_emscripten_bind_btConcaveShape_setLocalScaling_1:wj,_emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0:RX,_emscripten_bind_btConeShapeX_setLocalScaling_1:Ej,_emscripten_bind_btCylinderShapeZ_setLocalScaling_1:Bq,_emscripten_bind_btConvexHullShape_btConvexHullShape_0:hq,_emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1:YO,_emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1:Dz,_emscripten_bind_btRotationalLimitMotor2___destroy___0:OB,_emscripten_bind_btGhostObject___destroy___0:wP,_emscripten_bind_btGhostObject_setContactProcessingThreshold_1:zP,_emscripten_bind_btCollisionWorld_getBroadphase_0:oj,_emscripten_bind_btQuaternion___destroy___0:eF,_emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1:EH,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_2:sX,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_0:Jq,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_1:rX,_pthread_self:VG,_emscripten_bind_btCompoundShape_getChildShape_1:mj,_emscripten_bind_btKinematicCharacterController_canJump_0:mL,_emscripten_bind_btVector4_length_0:iO,_emscripten_bind_btRigidBody_isActive_0:dB,_emscripten_bind_btRaycastVehicle_btRaycastVehicle_3:dF,_emscripten_bind_btMotionState_setWorldTransform_1:ek,_emscripten_bind_btCylinderShape_setLocalScaling_1:Wq,_emscripten_bind_btPairCachingGhostObject_getWorldTransform_0:_k,_emscripten_bind_btCompoundShape_calculateLocalInertia_2:dj,_emscripten_bind_btCollisionWorld_getDispatchInfo_0:aj,_emscripten_bind_btRigidBody_setCollisionShape_1:MB,_emscripten_bind_btConeShapeX___destroy___0:Mj,_emscripten_bind_btCollisionObject_getCollisionFlags_0:LH,_emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1:t$,_emscripten_bind_btConeTwistConstraint_enableMotor_1:Vj,_emscripten_bind_btRaycastVehicle_setCoordinateSystem_3:SF,_emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4:dL,_emscripten_bind_btPairCachingGhostObject_setRestitution_1:wk,_emscripten_bind_btBroadphaseInterface___destroy___0:tH,_emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0:$B,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1:VF,_emscripten_bind_btCollisionObject_setContactProcessingThreshold_1:jH,_emscripten_bind_btCompoundShape___destroy___0:fj,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0:AF,_emscripten_bind_btCapsuleShapeX_setMargin_1:pH,_emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0:zB,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1:WF,_emscripten_bind_btRigidBody_getCollisionFlags_0:uB,_emscripten_bind_btCollisionShape_setLocalScaling_1:QH,_emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0:sz,_emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0:iW,_emscripten_bind_btMatrix3x3_setEulerZYX_3:ZL,_emscripten_bind_btRigidBody_setRollingFriction_1:LB,_emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0:VX,_emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0:Mz,_emscripten_bind_btRigidBody_setMotionState_1:IB,_emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0:yW,_emscripten_bind_btCollisionWorld_getDispatcher_0:cj,_emscripten_bind_btVector4_dot_1:tO,_emscripten_bind_btCollisionObject_setRollingFriction_1:$H,_emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1:TW,_emscripten_bind_btTriangleMesh_btTriangleMesh_1:NU,_emscripten_bind_btRotationalLimitMotor2_get_m_currentPosition_0:GB,_i64Subtract:Wi,_emscripten_bind_btCylinderShapeX_getMargin_0:Nq,_emscripten_bind_btRigidBody_setDamping_2:AB,_emscripten_bind_btDynamicsWorld_getDispatcher_0:S$,_emscripten_bind_btGhostObject_setCollisionFlags_1:GP,_emscripten_bind_btMatrix3x3_getRotation_1:YL,_emscripten_bind_btWheelInfo_set_m_engineForce_1:XO,_emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1:$j,_emscripten_bind_btPersistentManifold_getNumContacts_0:Ik,_emscripten_bind_btCylinderShapeX_setLocalScaling_1:Dq,_emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0:qq,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0:NF,_emscripten_bind_btCompoundShape_setLocalScaling_1:vj,_emscripten_bind_btOverlappingPairCallback___destroy___0:nk,_emscripten_bind_btDynamicsWorld_convexSweepTest_5:x$,_emscripten_bind_btCylinderShape_calculateLocalInertia_2:Vq,_emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1:yk,_emscripten_bind_btRigidBody_getCollisionShape_0:fB,_emscripten_bind_btRigidBody_setContactProcessingThreshold_1:RB,_emscripten_bind_btRigidBody_getLinearVelocity_0:pB,_emscripten_bind_btRigidBody_applyImpulse_2:nB,_emscripten_bind_btConcaveShape_calculateLocalInertia_2:Cj,_emscripten_bind_RaycastInfo_get_m_groundObject_0:EW,_emscripten_bind_btRigidBody_setWorldTransform_1:FB,_emscripten_bind_btRigidBody_setAngularVelocity_1:yB,_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3:pP,_emscripten_bind_btConvexShape_setLocalScaling_1:Sq,_emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2:wU,_free:ye,_emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1:Tk,_emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1:k$,_emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0:Cz,_emscripten_bind_RayResultCallback_hasHit_0:SW,_bitshift64Shl:n6,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0:EF,_emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0:SO,_emscripten_bind_btRaycastVehicle_getWheelTransformWS_1:yF,_emscripten_bind_btQuaternion_normalize_0:iF,_emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0:lz,_emscripten_bind_btQuadWord_setZ_1:Yk,_emscripten_bind_btConeShapeZ_setLocalScaling_1:Ij,_emscripten_bind_btPairCachingGhostObject_setActivationState_1:mk,_emscripten_bind_btGeneric6DofSpringConstraint___destroy___0:fP,_emscripten_bind_btConvexTriangleMeshShape___destroy___0:Tq,_emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1:MO,_emscripten_bind_btGhostObject_setRollingFriction_1:jP,_emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1:Lq,_emscripten_bind_btRigidBody_getAngularVelocity_0:cB,_emscripten_bind_btCompoundShape_btCompoundShape_0:_j,_emscripten_bind_btCompoundShape_btCompoundShape_1:hj,_emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1:ik,_emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2:aU,_emscripten_bind_btSphereShape_getMargin_0:nU,_emscripten_bind_btDispatcherInfo_get_m_useContinuous_0:$X,_emscripten_bind_btRigidBody_updateInertiaTensor_0:UB,_emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2:gk,_emscripten_bind_btTransform_setOrigin_1:xU,_emscripten_bind_ClosestRayResultCallback_hasHit_0:bz,_emscripten_bind_btCompoundShape_addChildShape_2:pj,_emscripten_bind_btDispatcher___destroy___0:c$,_emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0:vO,_emscripten_bind_btDiscreteDynamicsWorld___destroy___0:pX,_emscripten_bind_btConvexShape___destroy___0:yq,_emscripten_bind_btGeneric6DofSpring2Constraint_setLinearLowerLimit_1:cP,_emscripten_bind_btCapsuleShapeX_setLocalScaling_1:fH,_emscripten_bind_btQuadWord_y_0:Qk,_emscripten_bind_btCollisionObject_setRestitution_1:XH,_emscripten_bind_btRigidBody_applyCentralForce_1:eB,_emscripten_bind_LocalConvexResult_get_m_hitFraction_0:nW,_emscripten_bind_btDispatcherInfo_get_m_enableSPU_0:WX,_emscripten_bind_btQuaternion_w_0:cF,_emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0:$z,_emscripten_bind_btTransform_getRotation_0:mU,_emscripten_bind_btHingeConstraint_btHingeConstraint_6:sL,_emscripten_bind_btHingeConstraint_btHingeConstraint_7:oL,_emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0:rW,_emscripten_bind_btHingeConstraint_btHingeConstraint_5:rL,_emscripten_bind_btHingeConstraint_btHingeConstraint_2:tL,_emscripten_bind_btHingeConstraint_btHingeConstraint_3:iL,_emscripten_bind_RaycastInfo___destroy___0:MW,_emscripten_bind_btBoxShape_setMargin_1:eH,_emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0:uz,_emscripten_bind_btMatrix3x3_getRow_1:KL,_emscripten_bind_btTypedConstraint___destroy___0:IU,_emscripten_bind_btCylinderShapeX_btCylinderShapeX_1:Eq,_emscripten_enum_RotateOrder_RO_XYZ:oG,_emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1:xP,_emscripten_bind_btConeTwistConstraint_setDamping_1:jj,_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1:yX,_bitshift64Ashr:r6,_emscripten_bind_btQuaternion_btQuaternion_4:tF,_emscripten_bind_btSphereShape_btSphereShape_1:tU,_emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0:HO,_emscripten_bind_btQuaternion_y_0:uF,_emscripten_bind_btCollisionWorld_addCollisionObject_1:ej,_emscripten_bind_btCollisionWorld_addCollisionObject_2:tj,_emscripten_bind_btCollisionWorld_addCollisionObject_3:ij,_emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1:hz,_emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1:Hj,_emscripten_bind_RaycastInfo_get_m_isInContact_0:NW,_emscripten_bind_btGeneric6DofSpring2Constraint_setLinearUpperLimit_1:lP,_emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0:oz,_emscripten_bind_btCapsuleShape_setMargin_1:wH,_emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1:fX,_emscripten_bind_ConcreteContactResultCallback_addSingleResult_7:Wz,_emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0:zL,_emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0:WB,_emscripten_bind_btActionInterface___destroy___0:WW,_emscripten_bind_btDefaultMotionState_setWorldTransform_1:cX,_emscripten_bind_btCollisionWorld_contactTest_2:rj,_emscripten_bind_RayResultCallback_get_m_collisionObject_0:vW,_emscripten_bind_btPoint2PointConstraint_getPivotInA_0:Uk,_emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0:cz,_emscripten_bind_btVector4_setY_1:lO,_emscripten_bind_btCompoundShape_setMargin_1:Sj,_emscripten_bind_btGhostObject_setRestitution_1:HP,_emscripten_bind_btDynamicsWorld_addCollisionObject_1:_$,_emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0:az,_emscripten_bind_btDynamicsWorld_addCollisionObject_3:d$,_emscripten_bind_btDynamicsWorld_addCollisionObject_2:h$,_emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0:AX,_emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0:kO,_emscripten_bind_btVector4_op_mul_1:sO,_emscripten_bind_btCylinderShape_btCylinderShape_1:Gq,_emscripten_bind_btRotationalLimitMotor2_set_m_currentPosition_1:VB,_emscripten_bind_btVector3___destroy___0:FU,_bitshift64Lshr:Xf,_emscripten_bind_btRigidBody_setAngularFactor_1:xB,_emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2:kq,_emscripten_bind_btWheelInfo_set_m_steering_1:JO,_emscripten_bind_btMotionState_getWorldTransform_1:JL,_emscripten_bind_btDynamicsWorld_getSolverInfo_0:C$,_emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1:JX,_emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1:QX,_emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_5:QI,_emscripten_bind_btVector3_x_0:YU,___cxa_is_pointer_type:OG,_emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3:MF,_emscripten_bind_btCollisionObject_getCollisionShape_0:kH,_emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4:RF,_emscripten_bind_btBoxShape_calculateLocalInertia_2:ZW,_emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1:KF,_emscripten_bind_btVector3_z_0:ZU,_emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1:lX,_emscripten_bind_ClosestConvexResultCallback___destroy___0:rz,_emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0:Kq,_emscripten_bind_btCollisionObject_setFriction_1:qH,_emscripten_bind_btDefaultCollisionConfiguration___destroy___0:Xq,_emscripten_bind_btRigidBody_setMassProps_2:DB,_emscripten_bind_btVector3_setValue_3:jU,_emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1:xk,_emscripten_bind_RaycastInfo_get_m_suspensionLength_0:DW,_emscripten_bind_btGhostObject_getCollisionFlags_0:bP,_emscripten_bind_btCapsuleShapeX___destroy___0:aH,_emscripten_bind_btHingeConstraint_setLimit_4:fL,_emscripten_bind_btHingeConstraint_setLimit_5:pL,_emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0:zO,_emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1:KO,_emscripten_bind_btConeShape_setLocalScaling_1:Fj,_emscripten_bind_btKinematicCharacterController_setJumpSpeed_1:RL,_emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0:LU,_emscripten_bind_btGhostObject_getCollisionShape_0:NP,_emscripten_bind_btCollisionObject_setAnisotropicFriction_2:GH,_emscripten_bind_btBoxShape___destroy___0:YW,_emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0:NO,_emscripten_bind_btPersistentManifold_getContactPoint_1:Dk,_emscripten_bind_btVector3_btVector3_0:BU,_emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0:mP,_emscripten_bind_btConeShapeX_calculateLocalInertia_2:Aj,_emscripten_bind_RaycastInfo_set_m_groundObject_1:FW,_emscripten_bind_btGhostObject_activate_1:RP,_emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2:dP,_emscripten_bind_btManifoldPoint_getPositionWorldOnB_0:BL,_emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0:VL,_emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1:hP,_emscripten_bind_btSphereShape_setMargin_1:sU,_emscripten_bind_btRigidBodyConstructionInfo___destroy___0:wF,_emscripten_bind_btConeShapeZ_btConeShapeZ_2:Nj,_emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1:lq,_emscripten_bind_btSliderConstraint_setUpperAngLimit_1:QB,_emscripten_bind_btDynamicsWorld_contactPairTest_3:m$,_emscripten_bind_btCollisionWorld_getPairCache_0:lj,_emscripten_bind_btConeTwistConstraint_setMotorTarget_1:Kj,_emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1:mz,_emscripten_bind_btWheelInfo_set_m_rollInfluence_1:QO,_emscripten_bind_btRigidBody_getWorldTransform_0:hB,_emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0:Zq,_emscripten_bind_btGhostObject_forceActivationState_1:EP,_emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0:Bz,_emscripten_bind_VoidPtr___destroy___0:zW,_emscripten_bind_btSliderConstraint_setLowerAngLimit_1:KB,_emscripten_bind_btVector4_op_sub_1:oO,_emscripten_bind_RaycastInfo_set_m_contactPointWS_1:kW,_emscripten_bind_btConeShape_btConeShape_2:Lj,_emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0:Az,_emscripten_bind_btRaycastVehicle_getRigidBody_0:gF,_emscripten_enum_RotateOrder_RO_YZX:lG,_emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0:xW,_emscripten_bind_btWheelInfo_get_m_steering_0:UO,_emscripten_bind_btConstraintSetting_get_m_tau_0:tq,_emscripten_bind_btSliderConstraint___destroy___0:HB,_emscripten_bind_btCollisionObject_setCollisionShape_1:HH,_emscripten_bind_btCollisionShape___destroy___0:KH,_emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0:Xz,_emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0:zX,_emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0:UF,_emscripten_bind_btPairCachingGhostObject_setCollisionShape_1:Sk,_emscripten_bind_btKinematicCharacterController_warp_1:PL,_emscripten_bind_btAxisSweep3___destroy___0:HW,_emscripten_bind_btTriangleMesh___destroy___0:RU,_emscripten_bind_btKinematicCharacterController_preStep_1:CL,_emscripten_bind_btRaycastVehicle_applyEngineForce_2:hF,_emscripten_bind_btRaycastVehicle_setBrake_2:vF,_emscripten_bind_ConcreteContactResultCallback___destroy___0:zz,_emscripten_bind_RaycastInfo_set_m_wheelAxleWS_1:GW,_emscripten_bind_btGeneric6DofSpring2Constraint_setAngularLowerLimit_1:rP,_emscripten_bind_btCollisionObject___destroy___0:NH,_emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1:AO,_emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1:$F,_emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1:Yj,_emscripten_bind_btDispatcherInfo_set_m_timeStep_1:r$,_emscripten_bind_btVector3_btVector3_3:UU,_emscripten_bind_RaycastInfo_set_m_contactNormalWS_1:LW,_emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1:qF,_emscripten_bind_btDiscreteDynamicsWorld_getGravity_0:EX,_emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0:fz,_emscripten_bind_btRigidBody_isKinematicObject_0:mB,_emscripten_bind_btGeneric6DofSpring2Constraint_setStiffness_2:uP,_emscripten_bind_RaycastInfo_get_m_hardPointWS_0:bW,_emscripten_bind_btConeTwistConstraint___destroy___0:Bj,_emscripten_bind_btQuadWord___destroy___0:jk,_emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1:kz,_emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2:vP,_emscripten_bind_RaycastInfo_get_m_wheelDirectionWS_0:PW,_emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1:YB,_emscripten_bind_btGhostObject_setAnisotropicFriction_2:BP,_emscripten_bind_btConstraintSolver___destroy___0:sq,_emscripten_bind_btDbvtBroadphase___destroy___0:jq,_emscripten_bind_btCapsuleShape_btCapsuleShape_2:vH,_emscripten_bind_btTypedConstraint_enableFeedback_1:PU,_emscripten_bind_btGhostObject_activate_0:MP,_emscripten_bind_btCapsuleShape_setLocalScaling_1:CH,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0:bF,_emscripten_bind_btRigidBody_setAnisotropicFriction_2:vB,_emscripten_bind_btTriangleMeshShape_setLocalScaling_1:MU,_emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1:Zz,_emscripten_bind_btVector3_op_add_1:zU,_emscripten_bind_btPersistentManifold_btPersistentManifold_0:Ek,_emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0:Yz,_emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2:vz,_emscripten_bind_btVector4___destroy___0:QU,_emscripten_bind_btPairCachingGhostObject_isKinematicObject_0:dk,_emscripten_bind_btConstraintSetting_get_m_damping_0:Jj,_i64Add:$t,_emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1:uq,_emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1:wO,_emscripten_bind_btCollisionObject_setCcdMotionThreshold_1:VH,_emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0:$q,_emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1:Yq,_emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3:hL,_emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0:PF,_emscripten_bind_btPoint2PointConstraint_getPivotInB_0:Ok,_emscripten_bind_btKinematicCharacterController_playerStep_2:TL,_emscripten_bind_btDispatcherInfo___destroy___0:OX,_emscripten_bind_btCapsuleShape_getMargin_0:TH,_emscripten_bind_btCylinderShape_getMargin_0:zq,_emscripten_bind_btStaticPlaneShape_setLocalScaling_1:lU,_emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2:Mq,_emscripten_bind_ContactResultCallback_addSingleResult_7:jz,_emscripten_bind_btGhostObject_getWorldTransform_0:PP,_emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0:bX,_emscripten_bind_LocalConvexResult_set_m_hitFraction_1:cW,_emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2:dH,_emscripten_bind_btDispatcherInfo_get_m_timeStep_0:XX,_emscripten_bind_btWheelInfo_get_m_frictionSlip_0:PO,_emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1:RO,_emscripten_bind_btConstraintSetting_set_m_impulseClamp_1:nq,_emscripten_bind_btMotionState___destroy___0:QL,_emscripten_bind_btVector4_z_0:hO,_emscripten_bind_btCollisionObject_setCollisionFlags_1:WH,_emscripten_bind_btGeneric6DofSpring2Constraint_getTranslationalLimitMotor_0:nP,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1:hX,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2:dX,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3:mX,_emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1:tG,_emscripten_bind_RaycastInfo_set_m_suspensionLength_1:OW,_emscripten_bind_btDispatcher_getManifoldByIndexInternal_1:l$,_emscripten_bind_btVector4_setValue_4:aO,_emscripten_bind_btVector4_normalize_0:nO,_emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1:mW,_emscripten_bind_btPairCachingGhostObject_setWorldTransform_1:Rk,_emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0:lL,_emscripten_bind_btConeTwistConstraint_setAngularOnly_1:Wj,_emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1:OP,_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4:kk,_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2:Lk,_emscripten_bind_btGhostObject_getNumOverlappingObjects_0:DP,_emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1:Qz,_emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1:pk,_emscripten_bind_btGeneric6DofSpring2Constraint_setDamping_2:aP,_emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1:P$,_emscripten_bind_btPoint2PointConstraint_setPivotA_1:zk,_emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1:gz,_memcpy:Rr,_emscripten_bind_btCapsuleShape_calculateLocalInertia_2:SH,_emscripten_bind_btVector3_y_0:KU,_emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0:xO,_emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2:nH,_emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3:rH,_emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0:hW,_emscripten_bind_btGhostObject_setCollisionShape_1:VP,_emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1:ZX,_emscripten_bind_btQuaternion_setW_1:rF,_emscripten_bind_btPairCachingGhostObject_setRollingFriction_1:Mk,_emscripten_bind_btDiscreteDynamicsWorld_setGravity_1:kX,_emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1:EO,_emscripten_bind_btGeneric6DofSpring2Constraint___destroy___0:F$,_emscripten_bind_btCollisionObject_forceActivationState_1:PH,_emscripten_bind_btKinematicCharacterController_onGround_0:SL,_emscripten_bind_btRaycastVehicle_getWheelInfo_1:xF,_emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0:N$,_emscripten_bind_btConeTwistConstraint_setLimit_2:qj,_emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1:dz,_emscripten_bind_btRigidBody___destroy___0:ZF,_emscripten_bind_btStridingMeshInterface___destroy___0:uU,_emscripten_bind_btRigidBody_setSleepingThresholds_2:kB,_emscripten_bind_btCollisionObject_setWorldTransform_1:YH,_emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0:oW,_emscripten_bind_btManifoldPoint_get_m_localPointA_0:UL,_emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0:kF,_emscripten_bind_btGeneric6DofSpring2Constraint_enableFeedback_1:JI,_emscripten_bind_btDispatcher_getNumManifolds_0:u$,_emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0:FF,_emscripten_bind_btRigidBody_activate_1:JF,_emscripten_bind_btRigidBody_activate_0:QF,_emscripten_bind_btRaycastVehicle___destroy___0:pF,_emscripten_bind_btGhostObject_setActivationState_1:FP,_emscripten_bind_btCollisionWorld_contactPairTest_3:nj,_emscripten_bind_btCylinderShapeX___destroy___0:Aq,_emscripten_bind_btManifoldPoint_getPositionWorldOnA_0:FL,_emscripten_bind_ContactResultCallback___destroy___0:Hz,_emscripten_bind_btDispatcherInfo_set_m_stepCount_1:i$,_emscripten_bind_btVector4_x_0:pO,_emscripten_bind_btConstraintSetting_btConstraintSetting_0:Qj,_emscripten_bind_btRigidBody_getMotionState_0:_B,_emscripten_bind_btKinematicCharacterController_getGhostObject_0:gL,_emscripten_bind_btRigidBody_btRigidBody_1:oB,_emscripten_bind_btTriangleMeshShape___destroy___0:CU,_emscripten_bind_btKinematicCharacterController_setWalkDirection_1:IL,_emscripten_bind_btDynamicsWorld_removeAction_1:M$,_emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0:BF,_emscripten_bind_btTransform_setIdentity_0:gU,_emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1:jL,_emscripten_bind_btKinematicCharacterController_getGravity_0:xL,_emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0:zj,_emscripten_bind_btDiscreteDynamicsWorld_addAction_1:_X,_emscripten_bind_btHingeConstraint_btHingeConstraint_4:nL,_emscripten_bind_LocalShapeInfo_get_m_shapePart_0:_W,_emscripten_bind_btConeShape_calculateLocalInertia_2:kj,_emscripten_bind_btCylinderShapeX_calculateLocalInertia_2:bq,_emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1:Jz,_llvm_bswap_i32:Po,_emscripten_enum_RotateOrder_RO_XZY:aG,_emscripten_bind_btSphereShape_setLocalScaling_1:rU,_emscripten_bind_btVector4_w_0:fO,_emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0:GL,_emscripten_bind_btBvhTriangleMeshShape___destroy___0:iH,_emscripten_bind_LocalConvexResult_LocalConvexResult_5:eW,_emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1:_z,_emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1:PX,_emscripten_bind_btVector4_y_0:_O,_emscripten_bind_btGeneric6DofConstraint___destroy___0:R$,_emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0:yO,_emscripten_bind_btConvexHullShape_addPoint_1:pq,_emscripten_bind_btConvexHullShape_addPoint_2:_q,_emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0:Bk,_emscripten_bind_btTransform_getOrigin_0:dU,_emscripten_enum_RotateOrder_RO_ZYX:fG,_emscripten_bind_btHingeConstraint___destroy___0:eL,_emscripten_bind_btConvexShape_calculateLocalInertia_2:vq,_memset:ln,_emscripten_bind_btKinematicCharacterController___destroy___0:_L,_emscripten_bind_btConvexHullShape_setLocalScaling_1:gq,_emscripten_bind_btTriangleMesh_btTriangleMesh_0:bU,_emscripten_bind_btPairCachingGhostObject_getCollisionShape_0:uk,_emscripten_bind_btTriangleMesh_btTriangleMesh_2:DU,_emscripten_bind_btTransform___destroy___0:fU,_emscripten_bind_btWheelInfo_set_m_frictionSlip_1:$O,_emscripten_bind_btHingeConstraint_enableAngularMotor_3:aL,_emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1:qL,_emscripten_bind_btRigidBody_setCenterOfMassTransform_1:CB,_emscripten_bind_btManifoldPoint_get_m_localPointB_0:OL,_emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3:TX,_emscripten_bind_btSliderConstraint_setLowerLinLimit_1:ZB,_emscripten_bind_btPoint2PointConstraint_set_m_setting_1:Hk,_emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1:zH,_emscripten_bind_btWheelInfo_get_m_wheelsRadius_0:WO,_emscripten_bind_btRigidBody_setLinearVelocity_1:NB,_emscripten_bind_btVehicleTuning_btVehicleTuning_0:mO,_emscripten_bind_RayResultCallback_set_m_collisionObject_1:wW,_emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1:Fz,_emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0:Tz,_emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1:nG,_emscripten_bind_btDynamicsWorld_addAction_1:p$,_emscripten_bind_btDiscreteDynamicsWorld_removeAction_1:IX,_emscripten_bind_btDefaultVehicleRaycaster___destroy___0:uX,_emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1:XF,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1:zF,_emscripten_bind_btKinematicCharacterController_setFallSpeed_1:wL,_emscripten_bind_btRigidBody_setActivationState_1:gB,_emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0:VO,_emscripten_bind_ClosestConvexResultCallback_hasHit_0:pz,_emscripten_bind_btCapsuleShapeZ___destroy___0:_H,_emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0:LO,_emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0:wz,_emscripten_bind_btTriangleMesh_addTriangle_3:AU,_emscripten_bind_btGhostObject_getOverlappingObject_1:IP,_emscripten_bind_btTriangleMesh_addTriangle_4:EU,_emscripten_bind_btRigidBody_applyTorqueImpulse_1:rB,_emscripten_bind_btRigidBody_setCollisionFlags_1:wB,_emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1:eG,_emscripten_bind_btConeShape___destroy___0:Pj,_emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2:hH,_emscripten_bind_btGeneric6DofSpring2Constraint_setBreakingImpulseThreshold_1:oP,_emscripten_bind_btSliderConstraint_btSliderConstraint_3:jB,_emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0:GX,_emscripten_bind_RaycastInfo_set_m_hardPointWS_1:BW,_emscripten_bind_btRigidBody_forceActivationState_1:aB,_emscripten_bind_btPoint2PointConstraint_setPivotB_1:Wk,_emscripten_bind_btManifoldPoint_getDistance_0:kL,_emscripten_bind_btGhostPairCallback___destroy___0:XP,_emscripten_bind_btKinematicCharacterController_getMaxSlope_0:yL,_emscripten_bind_btSliderConstraint_enableFeedback_1:XB,_emscripten_bind_btRaycastVehicle_addWheel_7:_F,_emscripten_bind_btPairCachingGhostObject_isActive_0:hk,_emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1:fW,_emscripten_bind_btStaticPlaneShape___destroy___0:oU,_emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0:YX,_emscripten_bind_btBoxShape_setLocalScaling_1:JW,_emscripten_bind_btConeShapeZ___destroy___0:bj,_emscripten_bind_btDynamicsWorld_getPairCache_0:T$,_emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5:wX,_emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2:DL,_emscripten_bind_btRigidBody_setRestitution_1:PB,_emscripten_bind_btVector4_btVector4_0:JU,_emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0:HX,_emscripten_bind_btVector4_btVector4_4:eO,_emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1:L$,_emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1:SP,_emscripten_enum_RotateOrder_RO_ZXY:uG,_emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1:aW,_emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1:vk,_emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1:gP,_emscripten_bind_btDiscreteDynamicsWorld_rayTest_3:DX,_emscripten_bind_btWheelInfo_get_m_raycastInfo_0:FO,_emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0:cq,_emscripten_bind_btGhostPairCallback_btGhostPairCallback_0:$P,_emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1:AL,_emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1:Pz,_emscripten_bind_btVehicleTuning_get_m_frictionSlip_0:gO,__GLOBAL__sub_I_btConeTwistConstraint_cpp:C0e,__GLOBAL__sub_I_btQuickprof_cpp:iz,runPostSets:GG,stackAlloc:t2e,stackSave:i2e,stackRestore:n2e,establishStackSpace:r2e,setThrew:s2e,setTempRet0:o2e,getTempRet0:a2e,dynCall_viiiii:WG,dynCall_vid:HG,dynCall_vi:jG,dynCall_viiidii:qG,dynCall_vii:XG,dynCall_iiiiiiiiiii:$G,dynCall_ii:YG,dynCall_viidi:KG,dynCall_viddiii:ZG,dynCall_vidii:QG,dynCall_iiiii:JG,dynCall_vidi:eV,dynCall_diiiiiiii:tV,dynCall_viiiiddddiid:iV,dynCall_diiiii:nV,dynCall_iiii:rV,dynCall_viiiiii:sV,dynCall_iiid:oV,dynCall_di:aV,dynCall_iiiiiii:cV,dynCall_diiidii:lV,dynCall_viidii:uV,dynCall_viiiiiii:fV,dynCall_viiiiiiiii:pV,dynCall_viiiiiiiiii:_V,dynCall_iii:hV,dynCall_diii:dV,dynCall_diiiiiiiiii:mV,dynCall_viiiid:gV,dynCall_diiiiiiiii:xV,dynCall_did:yV,dynCall_viiiidddddidi:vV,dynCall_diidii:SV,dynCall_diiii:TV,dynCall_iiiiiiiiii:CV,dynCall_viiid:wV,dynCall_viii:MV,dynCall_v:RV,dynCall_viid:AV,dynCall_iidid:EV,dynCall_viiii:bV}})(p.asmGlobalArg,p.asmLibraryArg,e0),Ov=p._emscripten_bind_btCylinderShape___destroy___0=J._emscripten_bind_btCylinderShape___destroy___0,Gv=p._emscripten_bind_btGeneric6DofConstraint_enableFeedback_1=J._emscripten_bind_btGeneric6DofConstraint_enableFeedback_1,Vv=p._emscripten_bind_btDispatcherInfo_get_m_enableSPU_0=J._emscripten_bind_btDispatcherInfo_get_m_enableSPU_0,zv=p._emscripten_bind_btDispatcherInfo_set_m_useContinuous_1=J._emscripten_bind_btDispatcherInfo_set_m_useContinuous_1,Wv=p._emscripten_bind_btCollisionObject_isActive_0=J._emscripten_bind_btCollisionObject_isActive_0,Hv=p._emscripten_bind_btVehicleTuning_set_m_frictionSlip_1=J._emscripten_bind_btVehicleTuning_set_m_frictionSlip_1,jv=p._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4=J._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4,qv=p._emscripten_bind_btCapsuleShapeX_getMargin_0=J._emscripten_bind_btCapsuleShapeX_getMargin_0,Xv=p._emscripten_bind_btCompoundShape_getMargin_0=J._emscripten_bind_btCompoundShape_getMargin_0,$v=p._emscripten_bind_RaycastInfo_set_m_wheelDirectionWS_1=J._emscripten_bind_RaycastInfo_set_m_wheelDirectionWS_1,Yv=p._emscripten_bind_btAxisSweep3___destroy___0=J._emscripten_bind_btAxisSweep3___destroy___0,Kv=p._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0=J._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0,Zv=p._emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1,Qv=p._emscripten_bind_btQuaternion_setX_1=J._emscripten_bind_btQuaternion_setX_1,Jv=p._emscripten_bind_btCylinderShapeZ_getMargin_0=J._emscripten_bind_btCylinderShapeZ_getMargin_0,e9=p._emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0=J._emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0,t9=p._emscripten_bind_btQuaternion_setZ_1=J._emscripten_bind_btQuaternion_setZ_1,i9=p._emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0=J._emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0,n9=p._emscripten_bind_btKinematicCharacterController_setMaxSlope_1=J._emscripten_bind_btKinematicCharacterController_setMaxSlope_1,r9=p._emscripten_bind_btQuadWord_z_0=J._emscripten_bind_btQuadWord_z_0,s9=p._emscripten_bind_btTransform_setIdentity_0=J._emscripten_bind_btTransform_setIdentity_0,o9=p._emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0=J._emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0,a9=p._emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0=J._emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0,c9=p._emscripten_bind_btGeneric6DofSpring2Constraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btGeneric6DofSpring2Constraint_getBreakingImpulseThreshold_0,l9=p._emscripten_bind_btQuaternion_setW_1=J._emscripten_bind_btQuaternion_setW_1,u9=p._emscripten_bind_RaycastInfo_get_m_wheelAxleWS_0=J._emscripten_bind_RaycastInfo_get_m_wheelAxleWS_0,f9=p._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0,p9=p._emscripten_bind_btCollisionDispatcher___destroy___0=J._emscripten_bind_btCollisionDispatcher___destroy___0,_9=p._emscripten_bind_btRigidBody_applyCentralImpulse_1=J._emscripten_bind_btRigidBody_applyCentralImpulse_1,h9=p._emscripten_bind_btConvexHullShape_getMargin_0=J._emscripten_bind_btConvexHullShape_getMargin_0,d9=p._emscripten_bind_btDefaultMotionState_getWorldTransform_1=J._emscripten_bind_btDefaultMotionState_getWorldTransform_1,m9=p._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1=J._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1,g9=p._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3=J._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3,x9=p._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2=J._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2,y9=p._emscripten_bind_btVector3_op_mul_1=J._emscripten_bind_btVector3_op_mul_1,v9=p._emscripten_bind_btDynamicsWorld_rayTest_3=J._emscripten_bind_btDynamicsWorld_rayTest_3,S9=p._emscripten_bind_btRaycastVehicle_updateWheelTransform_2=J._emscripten_bind_btRaycastVehicle_updateWheelTransform_2,T9=p._emscripten_bind_btQuadWord_x_0=J._emscripten_bind_btQuadWord_x_0,C9=p._emscripten_bind_btCollisionObject_isKinematicObject_0=J._emscripten_bind_btCollisionObject_isKinematicObject_0,w9=p._emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1=J._emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1,M9=p._emscripten_bind_btSphereShape___destroy___0=J._emscripten_bind_btSphereShape___destroy___0,R9=p._emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1=J._emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1,A9=p._emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1=J._emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1,E9=p._emscripten_bind_btRigidBody_getCenterOfMassTransform_0=J._emscripten_bind_btRigidBody_getCenterOfMassTransform_0,b9=p._emscripten_bind_btGhostObject_isKinematicObject_0=J._emscripten_bind_btGhostObject_isKinematicObject_0,N9=p._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5=J._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5,D9=p._emscripten_bind_btCapsuleShape___destroy___0=J._emscripten_bind_btCapsuleShape___destroy___0,I9=p._emscripten_bind_btCollisionObject_activate_1=J._emscripten_bind_btCollisionObject_activate_1,P9=p._emscripten_bind_btCollisionObject_activate_0=J._emscripten_bind_btCollisionObject_activate_0,L9=p._emscripten_bind_btGeneric6DofSpring2Constraint_getRotationalLimitMotor_1=J._emscripten_bind_btGeneric6DofSpring2Constraint_getRotationalLimitMotor_1,k9=p._emscripten_bind_btKinematicCharacterController_setUpAxis_1=J._emscripten_bind_btKinematicCharacterController_setUpAxis_1,F9=p._emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1=J._emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1,B9=p._emscripten_bind_btGeneric6DofSpring2Constraint_setAngularUpperLimit_1=J._emscripten_bind_btGeneric6DofSpring2Constraint_setAngularUpperLimit_1,U9=p._emscripten_bind_btTranslationalLimitMotor2___destroy___0=J._emscripten_bind_btTranslationalLimitMotor2___destroy___0,O9=p._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1=J._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1,G9=p._emscripten_bind_btVector3_setX_1=J._emscripten_bind_btVector3_setX_1,V9=p._emscripten_bind_btCollisionConfiguration___destroy___0=J._emscripten_bind_btCollisionConfiguration___destroy___0,z9=p._emscripten_bind_btCapsuleShapeZ_setMargin_1=J._emscripten_bind_btCapsuleShapeZ_setMargin_1,W9=p._emscripten_bind_btHingeConstraint_enableFeedback_1=J._emscripten_bind_btHingeConstraint_enableFeedback_1,H9=p._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1=J._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1,j9=p._emscripten_bind_btManifoldPoint_set_m_localPointB_1=J._emscripten_bind_btManifoldPoint_set_m_localPointB_1,q9=p._emscripten_bind_btVector3_setZ_1=J._emscripten_bind_btVector3_setZ_1,X9=p._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1=J._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1,$9=p._emscripten_bind_btQuaternion_setValue_4=J._emscripten_bind_btQuaternion_setValue_4,Y9=p._emscripten_bind_btDynamicsWorld_getBroadphase_0=J._emscripten_bind_btDynamicsWorld_getBroadphase_0,K9=p._emscripten_bind_LocalShapeInfo___destroy___0=J._emscripten_bind_LocalShapeInfo___destroy___0,Z9=p._emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0=J._emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0,Q9=p._emscripten_bind_btQuadWord_setY_1=J._emscripten_bind_btQuadWord_setY_1,J9=p._emscripten_bind_btRigidBody_isKinematicObject_0=J._emscripten_bind_btRigidBody_isKinematicObject_0,eS=p._emscripten_bind_ContactResultCallback_addSingleResult_7=J._emscripten_bind_ContactResultCallback_addSingleResult_7,tS=p._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1,iS=p._emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0=J._emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0,nS=p._emscripten_bind_btConeTwistConstraint_setDamping_1=J._emscripten_bind_btConeTwistConstraint_setDamping_1,rS=p._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0=J._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0,sS=p._emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0=J._emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0,oS=p._emscripten_bind_btCylinderShape_setMargin_1=J._emscripten_bind_btCylinderShape_setMargin_1,aS=p._emscripten_bind_btCollisionWorld___destroy___0=J._emscripten_bind_btCollisionWorld___destroy___0,cS=p._emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0=J._emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0,lS=p._emscripten_bind_btBoxShape_btBoxShape_1=J._emscripten_bind_btBoxShape_btBoxShape_1,uS=p._emscripten_bind_btPersistentManifold_getBody1_0=J._emscripten_bind_btPersistentManifold_getBody1_0,fS=p._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1=J._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1,pS=p._emscripten_bind_RaycastInfo_set_m_isInContact_1=J._emscripten_bind_RaycastInfo_set_m_isInContact_1,_S=p._emscripten_bind_btKinematicCharacterController_setGravity_1=J._emscripten_bind_btKinematicCharacterController_setGravity_1,hS=p._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1=J._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1,dS=p._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5=J._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5,mS=p._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3=J._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3,gS=p._emscripten_bind_LocalShapeInfo_get_m_shapePart_0=J._emscripten_bind_LocalShapeInfo_get_m_shapePart_0,xS=p.__GLOBAL__sub_I_btConeTwistConstraint_cpp=J.__GLOBAL__sub_I_btConeTwistConstraint_cpp,yS=p._emscripten_bind_btWheelInfo_get_m_rollInfluence_0=J._emscripten_bind_btWheelInfo_get_m_rollInfluence_0,vS=p._emscripten_bind_btVector4_setValue_4=J._emscripten_bind_btVector4_setValue_4,SS=p._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1=J._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1,TS=p._emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1,CS=p._emscripten_bind_btDynamicsWorld_getDispatchInfo_0=J._emscripten_bind_btDynamicsWorld_getDispatchInfo_0,wS=p._emscripten_bind_btCompoundShape_removeChildShapeByIndex_1=J._emscripten_bind_btCompoundShape_removeChildShapeByIndex_1,MS=p._emscripten_bind_btGeneric6DofSpring2Constraint_enableSpring_2=J._emscripten_bind_btGeneric6DofSpring2Constraint_enableSpring_2,RS=p._emscripten_bind_btVector3_length_0=J._emscripten_bind_btVector3_length_0,AS=p._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2=J._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2,ES=p._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1=J._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1,bS=p._emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1=J._emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1,NS=p._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1=J._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1,DS=p._emscripten_bind_btBoxShape_getMargin_0=J._emscripten_bind_btBoxShape_getMargin_0,IS=p._emscripten_bind_btPairCachingGhostObject___destroy___0=J._emscripten_bind_btPairCachingGhostObject___destroy___0,PS=p._emscripten_bind_btDynamicsWorld_addCollisionObject_3=J._emscripten_bind_btDynamicsWorld_addCollisionObject_3,LS=p._emscripten_bind_btPairCachingGhostObject_activate_0=J._emscripten_bind_btPairCachingGhostObject_activate_0,kS=p._emscripten_bind_btPairCachingGhostObject_activate_1=J._emscripten_bind_btPairCachingGhostObject_activate_1,BS=p._emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0=J._emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0,US=p._emscripten_bind_btPairCachingGhostObject_forceActivationState_1=J._emscripten_bind_btPairCachingGhostObject_forceActivationState_1,OS=p._emscripten_bind_btDefaultMotionState___destroy___0=J._emscripten_bind_btDefaultMotionState___destroy___0,GS=p._emscripten_bind_btDispatcherInfo_get_m_stepCount_0=J._emscripten_bind_btDispatcherInfo_get_m_stepCount_0,VS=p._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1,zS=p._emscripten_bind_btQuadWord_setW_1=J._emscripten_bind_btQuadWord_setW_1,WS=p._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0,HS=p._emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2=J._emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2,jS=p._emscripten_bind_LocalShapeInfo_set_m_shapePart_1=J._emscripten_bind_LocalShapeInfo_set_m_shapePart_1,qS=p._emscripten_bind_btRigidBody_setLinearFactor_1=J._emscripten_bind_btRigidBody_setLinearFactor_1,XS=p._emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1=J._emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1,$S=p._emscripten_bind_btWheelInfo_get_m_engineForce_0=J._emscripten_bind_btWheelInfo_get_m_engineForce_0,YS=p._emscripten_bind_btRaycastVehicle_setSteeringValue_2=J._emscripten_bind_btRaycastVehicle_setSteeringValue_2,KS=p._emscripten_enum_RotateOrder_RO_YXZ=J._emscripten_enum_RotateOrder_RO_YXZ,ZS=p._emscripten_bind_btPoint2PointConstraint___destroy___0=J._emscripten_bind_btPoint2PointConstraint___destroy___0,QS=p._emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1=J._emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1,JS=p._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2=J._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2,e7=p._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1=J._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1,t7=p._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1,n1=p._malloc=J._malloc,i7=p._emscripten_bind_btDispatcherInfo_get_m_useEpa_0=J._emscripten_bind_btDispatcherInfo_get_m_useEpa_0,n7=p._emscripten_bind_btTransform_btTransform_2=J._emscripten_bind_btTransform_btTransform_2,r7=p._emscripten_bind_btTransform_btTransform_0=J._emscripten_bind_btTransform_btTransform_0,s7=p._emscripten_bind_btVector3_op_sub_1=J._emscripten_bind_btVector3_op_sub_1,o7=p._emscripten_bind_btWheelInfo_set_m_wheelsRadius_1=J._emscripten_bind_btWheelInfo_set_m_wheelsRadius_1,a7=p._emscripten_bind_btDispatcherInfo_set_m_enableSPU_1=J._emscripten_bind_btDispatcherInfo_set_m_enableSPU_1,c7=p._emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1=J._emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1,l7=p._emscripten_bind_btCollisionObject_setActivationState_1=J._emscripten_bind_btCollisionObject_setActivationState_1,u7=p._emscripten_bind_btPersistentManifold___destroy___0=J._emscripten_bind_btPersistentManifold___destroy___0,f7=p._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0=J._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0,p7=p._emscripten_bind_btCylinderShapeZ___destroy___0=J._emscripten_bind_btCylinderShapeZ___destroy___0,_7=p._emscripten_bind_btMatrix3x3___destroy___0=J._emscripten_bind_btMatrix3x3___destroy___0,h7=p._emscripten_bind_ConvexResultCallback_hasHit_0=J._emscripten_bind_ConvexResultCallback_hasHit_0,d7=p._emscripten_bind_btCollisionShape_calculateLocalInertia_2=J._emscripten_bind_btCollisionShape_calculateLocalInertia_2,m7=p._emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1,g7=p._emscripten_bind_btCollisionWorld_convexSweepTest_5=J._emscripten_bind_btCollisionWorld_convexSweepTest_5,x7=p._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1=J._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1,y7=p._emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2=J._emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2,v7=p._emscripten_bind_btConstraintSetting_set_m_damping_1=J._emscripten_bind_btConstraintSetting_set_m_damping_1,S7=p._emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1=J._emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1,T7=p._emscripten_bind_btRigidBody_setCcdMotionThreshold_1=J._emscripten_bind_btRigidBody_setCcdMotionThreshold_1,C7=p._emscripten_bind_btConvexHullShape_setMargin_1=J._emscripten_bind_btConvexHullShape_setMargin_1,w7=p._emscripten_bind_btRigidBody_applyForce_2=J._emscripten_bind_btRigidBody_applyForce_2,M7=p._emscripten_bind_btConeShapeZ_calculateLocalInertia_2=J._emscripten_bind_btConeShapeZ_calculateLocalInertia_2,R7=p._emscripten_bind_btConstraintSetting_set_m_tau_1=J._emscripten_bind_btConstraintSetting_set_m_tau_1,A7=p._emscripten_bind_btConvexHullShape_calculateLocalInertia_2=J._emscripten_bind_btConvexHullShape_calculateLocalInertia_2,E7=p._emscripten_bind_RaycastInfo_get_m_contactPointWS_0=J._emscripten_bind_RaycastInfo_get_m_contactPointWS_0,b7=p._emscripten_bind_btSphereShape_calculateLocalInertia_2=J._emscripten_bind_btSphereShape_calculateLocalInertia_2,N7=p._emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1,D7=p._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1=J._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1,I7=p._pthread_self=J._pthread_self,P7=p._emscripten_bind_btGhostObject_setFriction_1=J._emscripten_bind_btGhostObject_setFriction_1,L7=p._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0=J._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0,k7=p._emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1=J._emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1,F7=p._emscripten_bind_btCylinderShapeZ_setMargin_1=J._emscripten_bind_btCylinderShapeZ_setMargin_1,B7=p._emscripten_bind_btRigidBody_setFriction_1=J._emscripten_bind_btRigidBody_setFriction_1,U7=p._emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1=J._emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1,O7=p._emscripten_bind_btGhostObject_setWorldTransform_1=J._emscripten_bind_btGhostObject_setWorldTransform_1,G7=p._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1=J._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1,V7=p._emscripten_bind_btTranslationalLimitMotor2_set_m_currentLinearDiff_1=J._emscripten_bind_btTranslationalLimitMotor2_set_m_currentLinearDiff_1,z7=p._emscripten_bind_btConvexHullShape___destroy___0=J._emscripten_bind_btConvexHullShape___destroy___0,W7=p._emscripten_bind_RaycastInfo_set_m_suspensionLength_1=J._emscripten_bind_RaycastInfo_set_m_suspensionLength_1,H7=p._emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0=J._emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0,j7=p._emscripten_bind_btDiscreteDynamicsWorld_addAction_1=J._emscripten_bind_btDiscreteDynamicsWorld_addAction_1,q7=p._emscripten_bind_btVector4_setX_1=J._emscripten_bind_btVector4_setX_1,X7=p._emscripten_bind_btKinematicCharacterController_jump_0=J._emscripten_bind_btKinematicCharacterController_jump_0,$7=p._emscripten_bind_btWheelInfo_set_m_raycastInfo_1=J._emscripten_bind_btWheelInfo_set_m_raycastInfo_1,Y7=p._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1=J._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1,K7=p._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1=J._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1,Z7=p._emscripten_bind_btRigidBody_upcast_1=J._emscripten_bind_btRigidBody_upcast_1,Q7=p._emscripten_bind_btCollisionObject_getWorldTransform_0=J._emscripten_bind_btCollisionObject_getWorldTransform_0,J7=p._emscripten_bind_btVector4_setZ_1=J._emscripten_bind_btVector4_setZ_1,eT=p._emscripten_bind_btQuadWord_y_0=J._emscripten_bind_btQuadWord_y_0,tT=p._emscripten_bind_btTransform_getBasis_0=J._emscripten_bind_btTransform_getBasis_0,iT=p._emscripten_bind_btPairCachingGhostObject_setFriction_1=J._emscripten_bind_btPairCachingGhostObject_setFriction_1,nT=p._emscripten_bind_btDispatcherInfo_set_m_useEpa_1=J._emscripten_bind_btDispatcherInfo_set_m_useEpa_1,rT=p._emscripten_bind_btCollisionDispatcher_getNumManifolds_0=J._emscripten_bind_btCollisionDispatcher_getNumManifolds_0,sT=p._emscripten_bind_btVehicleRaycaster___destroy___0=J._emscripten_bind_btVehicleRaycaster___destroy___0,oT=p._emscripten_bind_ClosestRayResultCallback___destroy___0=J._emscripten_bind_ClosestRayResultCallback___destroy___0,aT=p._emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0=J._emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0,cT=p._emscripten_bind_btCylinderShapeX_setMargin_1=J._emscripten_bind_btCylinderShapeX_setMargin_1,lT=p._emscripten_bind_btQuadWord_w_0=J._emscripten_bind_btQuadWord_w_0,uT=p._emscripten_bind_btPersistentManifold_getNumContacts_0=J._emscripten_bind_btPersistentManifold_getNumContacts_0,fT=p._emscripten_bind_btDynamicsWorld_contactTest_2=J._emscripten_bind_btDynamicsWorld_contactTest_2,pT=p._emscripten_bind_btDiscreteDynamicsWorld_contactTest_2=J._emscripten_bind_btDiscreteDynamicsWorld_contactTest_2,_T=p._emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_3=J._emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_3,hT=p._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2=J._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2,dT=p._emscripten_bind_btCompoundShape_getNumChildShapes_0=J._emscripten_bind_btCompoundShape_getNumChildShapes_0,mT=p._emscripten_bind_btGhostObject_btGhostObject_0=J._emscripten_bind_btGhostObject_btGhostObject_0,gT=p._emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2=J._emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2,xT=p._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1,yT=p._emscripten_bind_btManifoldPoint_set_m_localPointA_1=J._emscripten_bind_btManifoldPoint_set_m_localPointA_1,vT=p._emscripten_bind_LocalConvexResult___destroy___0=J._emscripten_bind_LocalConvexResult___destroy___0,ST=p._emscripten_bind_btVector3_dot_1=J._emscripten_bind_btVector3_dot_1,TT=p._emscripten_bind_btVector4_op_add_1=J._emscripten_bind_btVector4_op_add_1,CT=p._emscripten_bind_btWheelInfo___destroy___0=J._emscripten_bind_btWheelInfo___destroy___0,wT=p._emscripten_bind_btHingeConstraint_btHingeConstraint_4=J._emscripten_bind_btHingeConstraint_btHingeConstraint_4,MT=p._emscripten_bind_btTransform_setRotation_1=J._emscripten_bind_btTransform_setRotation_1,RT=p._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0=J._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0,AT=p._emscripten_bind_btPoint2PointConstraint_enableFeedback_1=J._emscripten_bind_btPoint2PointConstraint_enableFeedback_1,ET=p._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1=J._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1,bT=p._emscripten_bind_btAxisSweep3_btAxisSweep3_2=J._emscripten_bind_btAxisSweep3_btAxisSweep3_2,NT=p._emscripten_bind_btAxisSweep3_btAxisSweep3_3=J._emscripten_bind_btAxisSweep3_btAxisSweep3_3,DT=p._emscripten_bind_btDynamicsWorld___destroy___0=J._emscripten_bind_btDynamicsWorld___destroy___0,IT=p._emscripten_bind_btVector3_setY_1=J._emscripten_bind_btVector3_setY_1,PT=p._emscripten_bind_btAxisSweep3_btAxisSweep3_4=J._emscripten_bind_btAxisSweep3_btAxisSweep3_4,LT=p._emscripten_bind_btAxisSweep3_btAxisSweep3_5=J._emscripten_bind_btAxisSweep3_btAxisSweep3_5,kT=p._emscripten_bind_btQuadWord_setX_1=J._emscripten_bind_btQuadWord_setX_1,FT=p._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0,BT=p._emscripten_bind_btGhostObject_isActive_0=J._emscripten_bind_btGhostObject_isActive_0,UT=p._emscripten_bind_btOverlappingPairCache___destroy___0=J._emscripten_bind_btOverlappingPairCache___destroy___0,OT=p._emscripten_bind_btVector3_normalize_0=J._emscripten_bind_btVector3_normalize_0,GT=p._emscripten_bind_btConstraintSetting___destroy___0=J._emscripten_bind_btConstraintSetting___destroy___0,VT=p._emscripten_bind_RayResultCallback___destroy___0=J._emscripten_bind_RayResultCallback___destroy___0,zT=p._emscripten_bind_RaycastInfo_get_m_contactNormalWS_0=J._emscripten_bind_RaycastInfo_get_m_contactNormalWS_0,WT=p._emscripten_bind_btTranslationalLimitMotor2_get_m_currentLinearDiff_0=J._emscripten_bind_btTranslationalLimitMotor2_get_m_currentLinearDiff_0,HT=p._emscripten_bind_btPersistentManifold_getBody0_0=J._emscripten_bind_btPersistentManifold_getBody0_0,jT=p._emscripten_bind_btConeShapeX_btConeShapeX_2=J._emscripten_bind_btConeShapeX_btConeShapeX_2,qT=p._emscripten_bind_btConeTwistConstraint_enableFeedback_1=J._emscripten_bind_btConeTwistConstraint_enableFeedback_1,XT=p._emscripten_bind_btCapsuleShapeZ_setLocalScaling_1=J._emscripten_bind_btCapsuleShapeZ_setLocalScaling_1,$T=p._emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0=J._emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0,YT=p._emscripten_bind_btSliderConstraint_setUpperLinLimit_1=J._emscripten_bind_btSliderConstraint_setUpperLinLimit_1,KT=p._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2=J._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2,ZT=p._emscripten_bind_btConcaveShape___destroy___0=J._emscripten_bind_btConcaveShape___destroy___0,QT=p._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4=J._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4,JT=p._emscripten_bind_btQuaternion_x_0=J._emscripten_bind_btQuaternion_x_0,eC=p._emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1=J._emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1,tC=p._emscripten_bind_btConcaveShape_setLocalScaling_1=J._emscripten_bind_btConcaveShape_setLocalScaling_1,iC=p._emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0=J._emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0,nC=p._emscripten_bind_btConeShapeX_setLocalScaling_1=J._emscripten_bind_btConeShapeX_setLocalScaling_1,rC=p._emscripten_bind_btGeneric6DofSpring2Constraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btGeneric6DofSpring2Constraint_setBreakingImpulseThreshold_1,sC=p._emscripten_bind_btQuaternion_z_0=J._emscripten_bind_btQuaternion_z_0,oC=p._emscripten_bind_btConvexHullShape_btConvexHullShape_0=J._emscripten_bind_btConvexHullShape_btConvexHullShape_0,aC=p._emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1=J._emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1,cC=p._emscripten_bind_btConstraintSetting_get_m_damping_0=J._emscripten_bind_btConstraintSetting_get_m_damping_0,lC=p._emscripten_bind_btRotationalLimitMotor2___destroy___0=J._emscripten_bind_btRotationalLimitMotor2___destroy___0,uC=p._emscripten_bind_btGhostObject___destroy___0=J._emscripten_bind_btGhostObject___destroy___0,fC=p._emscripten_bind_btGhostObject_setContactProcessingThreshold_1=J._emscripten_bind_btGhostObject_setContactProcessingThreshold_1,pC=p._emscripten_bind_btCollisionWorld_getBroadphase_0=J._emscripten_bind_btCollisionWorld_getBroadphase_0,_C=p._emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1=J._emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1,hC=p._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2=J._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2,dC=p._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0=J._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0,mC=p._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1=J._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1,gC=p._emscripten_bind_btCompoundShape_getChildShape_1=J._emscripten_bind_btCompoundShape_getChildShape_1,xC=p._emscripten_bind_btKinematicCharacterController_canJump_0=J._emscripten_bind_btKinematicCharacterController_canJump_0,yC=p._emscripten_bind_btRigidBody_isActive_0=J._emscripten_bind_btRigidBody_isActive_0,vC=p._emscripten_bind_btRaycastVehicle_btRaycastVehicle_3=J._emscripten_bind_btRaycastVehicle_btRaycastVehicle_3,SC=p._emscripten_bind_btMotionState_setWorldTransform_1=J._emscripten_bind_btMotionState_setWorldTransform_1,TC=p._emscripten_bind_btCylinderShape_setLocalScaling_1=J._emscripten_bind_btCylinderShape_setLocalScaling_1,CC=p._emscripten_bind_btCollisionWorld_rayTest_3=J._emscripten_bind_btCollisionWorld_rayTest_3,wC=p._emscripten_bind_btCompoundShape_calculateLocalInertia_2=J._emscripten_bind_btCompoundShape_calculateLocalInertia_2,MC=p._emscripten_bind_btCollisionWorld_getDispatchInfo_0=J._emscripten_bind_btCollisionWorld_getDispatchInfo_0,RC=p._emscripten_bind_btRigidBody_setCollisionShape_1=J._emscripten_bind_btRigidBody_setCollisionShape_1,AC=p._emscripten_bind_btConeShapeX___destroy___0=J._emscripten_bind_btConeShapeX___destroy___0,EC=p._emscripten_bind_btCollisionObject_getCollisionFlags_0=J._emscripten_bind_btCollisionObject_getCollisionFlags_0,bC=p._emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1=J._emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1,NC=p._emscripten_bind_btConeTwistConstraint_enableMotor_1=J._emscripten_bind_btConeTwistConstraint_enableMotor_1,DC=p._emscripten_bind_btRaycastVehicle_setCoordinateSystem_3=J._emscripten_bind_btRaycastVehicle_setCoordinateSystem_3,IC=p._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0=J._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0,PC=p._emscripten_bind_btPairCachingGhostObject_setRestitution_1=J._emscripten_bind_btPairCachingGhostObject_setRestitution_1,LC=p._emscripten_bind_ConvexResultCallback___destroy___0=J._emscripten_bind_ConvexResultCallback___destroy___0,kC=p._emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0,FC=p._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1,BC=p._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3=J._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3,UC=p._emscripten_bind_btCollisionObject_setContactProcessingThreshold_1=J._emscripten_bind_btCollisionObject_setContactProcessingThreshold_1,OC=p._emscripten_bind_btGhostObject_setCcdMotionThreshold_1=J._emscripten_bind_btGhostObject_setCcdMotionThreshold_1,GC=p._emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0=J._emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0,VC=p._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0,zC=p._emscripten_bind_btCapsuleShapeX_setMargin_1=J._emscripten_bind_btCapsuleShapeX_setMargin_1,WC=p._emscripten_bind_btGeneric6DofSpring2Constraint_setStiffness_2=J._emscripten_bind_btGeneric6DofSpring2Constraint_setStiffness_2,HC=p._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0=J._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0,jC=p._emscripten_bind_LocalConvexResult_LocalConvexResult_5=J._emscripten_bind_LocalConvexResult_LocalConvexResult_5,qC=p._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1,XC=p._emscripten_bind_btRigidBody_getCollisionFlags_0=J._emscripten_bind_btRigidBody_getCollisionFlags_0,$C=p._emscripten_bind_btCollisionShape_setLocalScaling_1=J._emscripten_bind_btCollisionShape_setLocalScaling_1,YC=p._emscripten_bind_btRigidBody_applyTorque_1=J._emscripten_bind_btRigidBody_applyTorque_1,KC=p._emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0=J._emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0,ZC=p._emscripten_bind_btMatrix3x3_setEulerZYX_3=J._emscripten_bind_btMatrix3x3_setEulerZYX_3,QC=p._emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0=J._emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0,JC=p._emscripten_bind_btConvexHullShape_setLocalScaling_1=J._emscripten_bind_btConvexHullShape_setLocalScaling_1,ew=p._emscripten_bind_btRigidBody_setMotionState_1=J._emscripten_bind_btRigidBody_setMotionState_1,tw=p._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0=J._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0,iw=p._emscripten_bind_btCollisionWorld_getDispatcher_0=J._emscripten_bind_btCollisionWorld_getDispatcher_0,nw=p._emscripten_bind_btVector4_dot_1=J._emscripten_bind_btVector4_dot_1,rw=p._emscripten_bind_btCollisionObject_setRollingFriction_1=J._emscripten_bind_btCollisionObject_setRollingFriction_1,sw=p._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1=J._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1,ow=p._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0=J._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0,aw=p._emscripten_bind_btRotationalLimitMotor2_get_m_currentPosition_0=J._emscripten_bind_btRotationalLimitMotor2_get_m_currentPosition_0,cw=p._i64Subtract=J._i64Subtract,lw=p._emscripten_bind_btRaycastVehicle_getWheelTransformWS_1=J._emscripten_bind_btRaycastVehicle_getWheelTransformWS_1,uw=p._emscripten_bind_btRigidBody_setDamping_2=J._emscripten_bind_btRigidBody_setDamping_2,fw=p._emscripten_bind_btDynamicsWorld_getDispatcher_0=J._emscripten_bind_btDynamicsWorld_getDispatcher_0,pw=p._emscripten_bind_btGhostObject_setCollisionFlags_1=J._emscripten_bind_btGhostObject_setCollisionFlags_1,_w=p._emscripten_bind_btMatrix3x3_getRotation_1=J._emscripten_bind_btMatrix3x3_getRotation_1,hw=p._emscripten_bind_btWheelInfo_set_m_engineForce_1=J._emscripten_bind_btWheelInfo_set_m_engineForce_1,dw=p._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1=J._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1,mw=p._emscripten_bind_btCylinderShapeX_setLocalScaling_1=J._emscripten_bind_btCylinderShapeX_setLocalScaling_1,gw=p._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0=J._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0,xw=p._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0,yw=p._emscripten_bind_btCompoundShape_setLocalScaling_1=J._emscripten_bind_btCompoundShape_setLocalScaling_1,vw=p._emscripten_bind_btOverlappingPairCallback___destroy___0=J._emscripten_bind_btOverlappingPairCallback___destroy___0,Sw=p._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0=J._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0,Tw=p._emscripten_bind_btCylinderShape_calculateLocalInertia_2=J._emscripten_bind_btCylinderShape_calculateLocalInertia_2,Cw=p._emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1=J._emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1,ww=p._emscripten_bind_btHingeConstraint_enableAngularMotor_3=J._emscripten_bind_btHingeConstraint_enableAngularMotor_3,Mw=p._emscripten_bind_btRigidBody_setContactProcessingThreshold_1=J._emscripten_bind_btRigidBody_setContactProcessingThreshold_1,Rw=p._emscripten_bind_btRigidBody_getLinearVelocity_0=J._emscripten_bind_btRigidBody_getLinearVelocity_0,Aw=p._emscripten_bind_btRigidBody_applyImpulse_2=J._emscripten_bind_btRigidBody_applyImpulse_2,Ew=p._emscripten_bind_btConcaveShape_calculateLocalInertia_2=J._emscripten_bind_btConcaveShape_calculateLocalInertia_2,bw=p._emscripten_bind_RaycastInfo_get_m_groundObject_0=J._emscripten_bind_RaycastInfo_get_m_groundObject_0,Nw=p._emscripten_bind_btRigidBody_setWorldTransform_1=J._emscripten_bind_btRigidBody_setWorldTransform_1,Dw=p._emscripten_bind_btRigidBody_setAngularVelocity_1=J._emscripten_bind_btRigidBody_setAngularVelocity_1,Iw=p._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3=J._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3,Pw=p._emscripten_bind_btConvexShape_setLocalScaling_1=J._emscripten_bind_btConvexShape_setLocalScaling_1,Lw=p._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2=J._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2,kw=p._emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1=J._emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1,Fw=p._emscripten_bind_btCompoundShape___destroy___0=J._emscripten_bind_btCompoundShape___destroy___0,Bw=p._emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1=J._emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1,Uw=p._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0=J._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0,Ow=p._emscripten_bind_RayResultCallback_hasHit_0=J._emscripten_bind_RayResultCallback_hasHit_0,Gw=p._bitshift64Shl=J._bitshift64Shl,Vw=p._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0,zw=p._emscripten_bind_btCylinderShapeX_getMargin_0=J._emscripten_bind_btCylinderShapeX_getMargin_0,Ww=p._emscripten_bind_btQuaternion_normalize_0=J._emscripten_bind_btQuaternion_normalize_0,Hw=p._emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0=J._emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0,jw=p._emscripten_bind_btWheelInfo_get_m_frictionSlip_0=J._emscripten_bind_btWheelInfo_get_m_frictionSlip_0,qw=p._emscripten_bind_btConeShapeZ_setLocalScaling_1=J._emscripten_bind_btConeShapeZ_setLocalScaling_1,Xw=p._emscripten_bind_btPairCachingGhostObject_setActivationState_1=J._emscripten_bind_btPairCachingGhostObject_setActivationState_1,$w=p._emscripten_bind_btGeneric6DofSpringConstraint___destroy___0=J._emscripten_bind_btGeneric6DofSpringConstraint___destroy___0,Yw=p._emscripten_bind_btRaycastVehicle_getNumWheels_0=J._emscripten_bind_btRaycastVehicle_getNumWheels_0,Kw=p._emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1=J._emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1,Zw=p._emscripten_bind_btGhostObject_setRollingFriction_1=J._emscripten_bind_btGhostObject_setRollingFriction_1,Qw=p._emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1=J._emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1,Jw=p._emscripten_bind_btPoint2PointConstraint_set_m_setting_1=J._emscripten_bind_btPoint2PointConstraint_set_m_setting_1,eM=p._emscripten_bind_btCompoundShape_btCompoundShape_0=J._emscripten_bind_btCompoundShape_btCompoundShape_0,tM=p._emscripten_bind_btCompoundShape_btCompoundShape_1=J._emscripten_bind_btCompoundShape_btCompoundShape_1,iM=p._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1=J._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1,nM=p._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2=J._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2,rM=p.__GLOBAL__sub_I_btQuickprof_cpp=J.__GLOBAL__sub_I_btQuickprof_cpp,sM=p._emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1=J._emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1,oM=p._emscripten_bind_btDispatcherInfo_get_m_useContinuous_0=J._emscripten_bind_btDispatcherInfo_get_m_useContinuous_0,aM=p._emscripten_bind_btRigidBody_updateInertiaTensor_0=J._emscripten_bind_btRigidBody_updateInertiaTensor_0,cM=p._emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2=J._emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2,lM=p._emscripten_bind_btTransform_setOrigin_1=J._emscripten_bind_btTransform_setOrigin_1,uM=p._emscripten_bind_ClosestRayResultCallback_hasHit_0=J._emscripten_bind_ClosestRayResultCallback_hasHit_0,fM=p._emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0=J._emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0,pM=p._emscripten_bind_btCompoundShape_addChildShape_2=J._emscripten_bind_btCompoundShape_addChildShape_2,_M=p._emscripten_bind_btDispatcher___destroy___0=J._emscripten_bind_btDispatcher___destroy___0,hM=p._emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0=J._emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0,dM=p._emscripten_bind_btDiscreteDynamicsWorld___destroy___0=J._emscripten_bind_btDiscreteDynamicsWorld___destroy___0,mM=p._emscripten_bind_btConvexShape___destroy___0=J._emscripten_bind_btConvexShape___destroy___0,gM=p._memmove=J._memmove,xM=p._emscripten_bind_btCapsuleShapeX_setLocalScaling_1=J._emscripten_bind_btCapsuleShapeX_setLocalScaling_1,yM=p._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1=J._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1,vM=p._emscripten_bind_btCollisionObject_setRestitution_1=J._emscripten_bind_btCollisionObject_setRestitution_1,SM=p._emscripten_bind_btRigidBody_applyCentralForce_1=J._emscripten_bind_btRigidBody_applyCentralForce_1,TM=p._emscripten_bind_LocalConvexResult_get_m_hitFraction_0=J._emscripten_bind_LocalConvexResult_get_m_hitFraction_0,CM=p._emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1,wM=p._emscripten_bind_btQuaternion_w_0=J._emscripten_bind_btQuaternion_w_0,MM=p._emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0=J._emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0,RM=p._emscripten_bind_btTransform_getRotation_0=J._emscripten_bind_btTransform_getRotation_0,AM=p._emscripten_bind_btHingeConstraint_btHingeConstraint_6=J._emscripten_bind_btHingeConstraint_btHingeConstraint_6,EM=p._emscripten_bind_btHingeConstraint_btHingeConstraint_7=J._emscripten_bind_btHingeConstraint_btHingeConstraint_7,bM=p._emscripten_bind_btCapsuleShapeZ_getMargin_0=J._emscripten_bind_btCapsuleShapeZ_getMargin_0,NM=p._emscripten_bind_btHingeConstraint_btHingeConstraint_5=J._emscripten_bind_btHingeConstraint_btHingeConstraint_5,DM=p._emscripten_bind_btHingeConstraint_btHingeConstraint_2=J._emscripten_bind_btHingeConstraint_btHingeConstraint_2,IM=p._emscripten_bind_btHingeConstraint_btHingeConstraint_3=J._emscripten_bind_btHingeConstraint_btHingeConstraint_3,PM=p._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1,LM=p._emscripten_bind_btBoxShape_setMargin_1=J._emscripten_bind_btBoxShape_setMargin_1,kM=p._emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0=J._emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0,FM=p._emscripten_bind_btMatrix3x3_getRow_1=J._emscripten_bind_btMatrix3x3_getRow_1,BM=p._emscripten_bind_btTypedConstraint___destroy___0=J._emscripten_bind_btTypedConstraint___destroy___0,UM=p._emscripten_bind_btCylinderShapeX_btCylinderShapeX_1=J._emscripten_bind_btCylinderShapeX_btCylinderShapeX_1,OM=p._emscripten_enum_RotateOrder_RO_XYZ=J._emscripten_enum_RotateOrder_RO_XYZ,GM=p._emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1=J._emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1,VM=p._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3=J._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3,zM=p._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1=J._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1,WM=p._bitshift64Ashr=J._bitshift64Ashr,HM=p._emscripten_bind_btQuaternion_btQuaternion_4=J._emscripten_bind_btQuaternion_btQuaternion_4,jM=p._emscripten_bind_btDiscreteDynamicsWorld_removeAction_1=J._emscripten_bind_btDiscreteDynamicsWorld_removeAction_1,qM=p._emscripten_bind_btSphereShape_btSphereShape_1=J._emscripten_bind_btSphereShape_btSphereShape_1,XM=p._emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0=J._emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0,$M=p._emscripten_bind_btQuaternion_y_0=J._emscripten_bind_btQuaternion_y_0,YM=p._emscripten_bind_btCollisionWorld_addCollisionObject_1=J._emscripten_bind_btCollisionWorld_addCollisionObject_1,KM=p._emscripten_bind_btCollisionWorld_addCollisionObject_2=J._emscripten_bind_btCollisionWorld_addCollisionObject_2,ZM=p._emscripten_bind_btCollisionWorld_addCollisionObject_3=J._emscripten_bind_btCollisionWorld_addCollisionObject_3,QM=p._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1=J._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1,JM=p._emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1,eR=p._emscripten_bind_RaycastInfo_get_m_isInContact_0=J._emscripten_bind_RaycastInfo_get_m_isInContact_0,tR=p._emscripten_bind_btGeneric6DofSpring2Constraint_setLinearUpperLimit_1=J._emscripten_bind_btGeneric6DofSpring2Constraint_setLinearUpperLimit_1,iR=p._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0=J._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0,nR=p._emscripten_bind_btCapsuleShape_setMargin_1=J._emscripten_bind_btCapsuleShape_setMargin_1,rR=p._emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1=J._emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1,sR=p._emscripten_bind_btPoint2PointConstraint_get_m_setting_0=J._emscripten_bind_btPoint2PointConstraint_get_m_setting_0,oR=p._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0=J._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0,aR=p._emscripten_bind_btActionInterface___destroy___0=J._emscripten_bind_btActionInterface___destroy___0,cR=p._emscripten_bind_btDefaultMotionState_setWorldTransform_1=J._emscripten_bind_btDefaultMotionState_setWorldTransform_1,lR=p._emscripten_bind_btCollisionWorld_contactTest_2=J._emscripten_bind_btCollisionWorld_contactTest_2,uR=p._emscripten_bind_RayResultCallback_get_m_collisionObject_0=J._emscripten_bind_RayResultCallback_get_m_collisionObject_0,fR=p._emscripten_bind_btPoint2PointConstraint_getPivotInA_0=J._emscripten_bind_btPoint2PointConstraint_getPivotInA_0,pR=p._emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2=J._emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2,_R=p._emscripten_bind_btVector4_setY_1=J._emscripten_bind_btVector4_setY_1,hR=p._emscripten_bind_btCompoundShape_setMargin_1=J._emscripten_bind_btCompoundShape_setMargin_1,dR=p._emscripten_bind_ClosestConvexResultCallback___destroy___0=J._emscripten_bind_ClosestConvexResultCallback___destroy___0,mR=p._emscripten_bind_btDynamicsWorld_addCollisionObject_1=J._emscripten_bind_btDynamicsWorld_addCollisionObject_1,gR=p._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0=J._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0;p.___cxa_can_catch=J.___cxa_can_catch;var xR=p._emscripten_bind_btDynamicsWorld_addCollisionObject_2=J._emscripten_bind_btDynamicsWorld_addCollisionObject_2,yR=p._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0=J._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0,vR=p._emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0=J._emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0,SR=p._emscripten_bind_btVector4_op_mul_1=J._emscripten_bind_btVector4_op_mul_1,TR=p._emscripten_bind_btCylinderShape_btCylinderShape_1=J._emscripten_bind_btCylinderShape_btCylinderShape_1,CR=p._emscripten_bind_btVector3___destroy___0=J._emscripten_bind_btVector3___destroy___0,wR=p._emscripten_bind_RaycastInfo___destroy___0=J._emscripten_bind_RaycastInfo___destroy___0,MR=p._emscripten_bind_btRigidBody_setAngularFactor_1=J._emscripten_bind_btRigidBody_setAngularFactor_1,RR=p._emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2=J._emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2,AR=p._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1=J._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1,ER=p._emscripten_bind_btMotionState_getWorldTransform_1=J._emscripten_bind_btMotionState_getWorldTransform_1,bR=p._emscripten_bind_btDynamicsWorld_getSolverInfo_0=J._emscripten_bind_btDynamicsWorld_getSolverInfo_0,NR=p._emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1=J._emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1,DR=p._emscripten_bind_btSphereShape_getMargin_0=J._emscripten_bind_btSphereShape_getMargin_0,IR=p._emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_5=J._emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_5,PR=p._emscripten_bind_btVector3_x_0=J._emscripten_bind_btVector3_x_0;p.___cxa_is_pointer_type=J.___cxa_is_pointer_type;var LR=p._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3=J._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3,kR=p._emscripten_bind_btCollisionObject_getCollisionShape_0=J._emscripten_bind_btCollisionObject_getCollisionShape_0,FR=p._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4=J._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4,BR=p._emscripten_bind_btManifoldPoint___destroy___0=J._emscripten_bind_btManifoldPoint___destroy___0,UR=p._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1,OR=p._emscripten_bind_btVector4_length_0=J._emscripten_bind_btVector4_length_0,GR=p._emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1=J._emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1,VR=p._emscripten_bind_btGhostObject_setRestitution_1=J._emscripten_bind_btGhostObject_setRestitution_1,zR=p._emscripten_bind_btConeTwistConstraint_setAngularOnly_1=J._emscripten_bind_btConeTwistConstraint_setAngularOnly_1,WR=p._emscripten_bind_btCollisionObject_setFriction_1=J._emscripten_bind_btCollisionObject_setFriction_1,HR=p._emscripten_bind_btDefaultCollisionConfiguration___destroy___0=J._emscripten_bind_btDefaultCollisionConfiguration___destroy___0,jR=p._emscripten_bind_btRigidBody_setMassProps_2=J._emscripten_bind_btRigidBody_setMassProps_2,qR=p._emscripten_bind_btVector3_setValue_3=J._emscripten_bind_btVector3_setValue_3,XR=p._emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1=J._emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1,$R=p._emscripten_bind_RaycastInfo_get_m_suspensionLength_0=J._emscripten_bind_RaycastInfo_get_m_suspensionLength_0,YR=p._emscripten_bind_btGhostObject_getCollisionFlags_0=J._emscripten_bind_btGhostObject_getCollisionFlags_0,KR=p._emscripten_bind_btCapsuleShapeX___destroy___0=J._emscripten_bind_btCapsuleShapeX___destroy___0,ZR=p._emscripten_bind_btKinematicCharacterController_setFallSpeed_1=J._emscripten_bind_btKinematicCharacterController_setFallSpeed_1,QR=p._emscripten_bind_btHingeConstraint_setLimit_4=J._emscripten_bind_btHingeConstraint_setLimit_4,JR=p._emscripten_bind_btHingeConstraint_setLimit_5=J._emscripten_bind_btHingeConstraint_setLimit_5,eA=p._emscripten_bind_btDefaultVehicleRaycaster___destroy___0=J._emscripten_bind_btDefaultVehicleRaycaster___destroy___0,tA=p._emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1=J._emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1,iA=p._emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1=J._emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1,nA=p._emscripten_bind_btGhostObject_getNumOverlappingObjects_0=J._emscripten_bind_btGhostObject_getNumOverlappingObjects_0,rA=p._emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0,sA=p._emscripten_bind_btGhostObject_getCollisionShape_0=J._emscripten_bind_btGhostObject_getCollisionShape_0,oA=p._emscripten_bind_btCollisionObject_setAnisotropicFriction_2=J._emscripten_bind_btCollisionObject_setAnisotropicFriction_2,aA=p._emscripten_bind_btBoxShape___destroy___0=J._emscripten_bind_btBoxShape___destroy___0,cA=p._emscripten_bind_btPersistentManifold_getContactPoint_1=J._emscripten_bind_btPersistentManifold_getContactPoint_1,lA=p._emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0,uA=p._emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1=J._emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1,fA=p._emscripten_bind_RaycastInfo_set_m_groundObject_1=J._emscripten_bind_RaycastInfo_set_m_groundObject_1,pA=p._emscripten_bind_btGhostObject_activate_1=J._emscripten_bind_btGhostObject_activate_1,_A=p._emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2=J._emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2,hA=p._emscripten_bind_btManifoldPoint_getPositionWorldOnB_0=J._emscripten_bind_btManifoldPoint_getPositionWorldOnB_0,dA=p._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0=J._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0,mA=p._emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1=J._emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1,gA=p._emscripten_bind_btSphereShape_setMargin_1=J._emscripten_bind_btSphereShape_setMargin_1,xA=p._emscripten_bind_btGeneric6DofSpring2Constraint_setDamping_2=J._emscripten_bind_btGeneric6DofSpring2Constraint_setDamping_2,yA=p._emscripten_bind_btConeShapeZ_btConeShapeZ_2=J._emscripten_bind_btConeShapeZ_btConeShapeZ_2,vA=p._emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1=J._emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1,SA=p._emscripten_bind_btSliderConstraint_setUpperAngLimit_1=J._emscripten_bind_btSliderConstraint_setUpperAngLimit_1,TA=p._emscripten_bind_btDynamicsWorld_contactPairTest_3=J._emscripten_bind_btDynamicsWorld_contactPairTest_3,CA=p._emscripten_bind_btCollisionWorld_getPairCache_0=J._emscripten_bind_btCollisionWorld_getPairCache_0,wA=p._emscripten_bind_btConeTwistConstraint_setMotorTarget_1=J._emscripten_bind_btConeTwistConstraint_setMotorTarget_1,MA=p._emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1=J._emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1,RA=p._emscripten_bind_btWheelInfo_set_m_rollInfluence_1=J._emscripten_bind_btWheelInfo_set_m_rollInfluence_1,AA=p._emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1,EA=p._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0=J._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0,bA=p._emscripten_bind_btGhostObject_forceActivationState_1=J._emscripten_bind_btGhostObject_forceActivationState_1,NA=p._emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0=J._emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0,DA=p._emscripten_bind_VoidPtr___destroy___0=J._emscripten_bind_VoidPtr___destroy___0,IA=p._emscripten_bind_RaycastInfo_set_m_contactNormalWS_1=J._emscripten_bind_RaycastInfo_set_m_contactNormalWS_1,PA=p._emscripten_bind_btSliderConstraint_setLowerAngLimit_1=J._emscripten_bind_btSliderConstraint_setLowerAngLimit_1,LA=p._emscripten_bind_RaycastInfo_set_m_contactPointWS_1=J._emscripten_bind_RaycastInfo_set_m_contactPointWS_1,kA=p._emscripten_bind_btConeShape_btConeShape_2=J._emscripten_bind_btConeShape_btConeShape_2,FA=p._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0=J._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0,BA=p._emscripten_bind_btRaycastVehicle_getRigidBody_0=J._emscripten_bind_btRaycastVehicle_getRigidBody_0,UA=p._emscripten_enum_RotateOrder_RO_YZX=J._emscripten_enum_RotateOrder_RO_YZX,OA=p._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0=J._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0,GA=p._emscripten_bind_btWheelInfo_get_m_steering_0=J._emscripten_bind_btWheelInfo_get_m_steering_0,VA=p._emscripten_bind_btConstraintSetting_get_m_tau_0=J._emscripten_bind_btConstraintSetting_get_m_tau_0,zA=p._emscripten_bind_btConeShape_setLocalScaling_1=J._emscripten_bind_btConeShape_setLocalScaling_1,WA=p._emscripten_bind_btCollisionObject_setCollisionShape_1=J._emscripten_bind_btCollisionObject_setCollisionShape_1,HA=p._emscripten_bind_btCollisionShape___destroy___0=J._emscripten_bind_btCollisionShape___destroy___0,jA=p._emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0=J._emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0,qA=p._emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0=J._emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0,XA=p._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0,$A=p._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1=J._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1,YA=p._emscripten_bind_btKinematicCharacterController_warp_1=J._emscripten_bind_btKinematicCharacterController_warp_1,KA=p._emscripten_bind_btContactSolverInfo___destroy___0=J._emscripten_bind_btContactSolverInfo___destroy___0,ZA=p._emscripten_bind_btTriangleMesh___destroy___0=J._emscripten_bind_btTriangleMesh___destroy___0,QA=p._emscripten_bind_btKinematicCharacterController_preStep_1=J._emscripten_bind_btKinematicCharacterController_preStep_1,JA=p._emscripten_bind_btRaycastVehicle_applyEngineForce_2=J._emscripten_bind_btRaycastVehicle_applyEngineForce_2,eE=p._emscripten_bind_btRaycastVehicle_setBrake_2=J._emscripten_bind_btRaycastVehicle_setBrake_2,tE=p._emscripten_bind_ConcreteContactResultCallback___destroy___0=J._emscripten_bind_ConcreteContactResultCallback___destroy___0,iE=p._emscripten_bind_RaycastInfo_set_m_wheelAxleWS_1=J._emscripten_bind_RaycastInfo_set_m_wheelAxleWS_1,nE=p._emscripten_bind_btGeneric6DofSpring2Constraint_setAngularLowerLimit_1=J._emscripten_bind_btGeneric6DofSpring2Constraint_setAngularLowerLimit_1,rE=p._emscripten_bind_btCollisionObject___destroy___0=J._emscripten_bind_btCollisionObject___destroy___0,sE=p._emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1=J._emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1,oE=p._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1,aE=p._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1=J._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1,cE=p._emscripten_bind_btDispatcherInfo_set_m_timeStep_1=J._emscripten_bind_btDispatcherInfo_set_m_timeStep_1,lE=p._emscripten_bind_btVector3_btVector3_3=J._emscripten_bind_btVector3_btVector3_3,uE=p._emscripten_bind_btVector3_btVector3_0=J._emscripten_bind_btVector3_btVector3_0,fE=p._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1,pE=p._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0=J._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0,_E=p._emscripten_bind_btVector3_z_0=J._emscripten_bind_btVector3_z_0,hE=p._emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0=J._emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0,dE=p._emscripten_bind_btBroadphaseInterface___destroy___0=J._emscripten_bind_btBroadphaseInterface___destroy___0,mE=p._emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0=J._emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0,gE=p._emscripten_bind_ConcreteContactResultCallback_addSingleResult_7=J._emscripten_bind_ConcreteContactResultCallback_addSingleResult_7,xE=p._emscripten_bind_RaycastInfo_get_m_hardPointWS_0=J._emscripten_bind_RaycastInfo_get_m_hardPointWS_0,yE=p._emscripten_bind_btConeTwistConstraint___destroy___0=J._emscripten_bind_btConeTwistConstraint___destroy___0,vE=p._emscripten_bind_btQuadWord___destroy___0=J._emscripten_bind_btQuadWord___destroy___0,SE=p._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1=J._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1,TE=p._emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2=J._emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2,CE=p._emscripten_bind_RaycastInfo_get_m_wheelDirectionWS_0=J._emscripten_bind_RaycastInfo_get_m_wheelDirectionWS_0,wE=p._emscripten_bind_btRigidBody_setCenterOfMassTransform_1=J._emscripten_bind_btRigidBody_setCenterOfMassTransform_1,ME=p._emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0=J._emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0,RE=p._emscripten_bind_btGhostObject_setAnisotropicFriction_2=J._emscripten_bind_btGhostObject_setAnisotropicFriction_2,AE=p._emscripten_bind_btConstraintSolver___destroy___0=J._emscripten_bind_btConstraintSolver___destroy___0,EE=p._emscripten_bind_btDbvtBroadphase___destroy___0=J._emscripten_bind_btDbvtBroadphase___destroy___0,bE=p._emscripten_bind_btCapsuleShape_btCapsuleShape_2=J._emscripten_bind_btCapsuleShape_btCapsuleShape_2,NE=p._emscripten_bind_btTypedConstraint_enableFeedback_1=J._emscripten_bind_btTypedConstraint_enableFeedback_1,DE=p._emscripten_bind_btGhostObject_activate_0=J._emscripten_bind_btGhostObject_activate_0,IE=p._emscripten_bind_btCapsuleShape_setLocalScaling_1=J._emscripten_bind_btCapsuleShape_setLocalScaling_1,PE=p._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0,LE=p._emscripten_bind_btRigidBody_setAnisotropicFriction_2=J._emscripten_bind_btRigidBody_setAnisotropicFriction_2,kE=p._emscripten_bind_btTriangleMeshShape_setLocalScaling_1=J._emscripten_bind_btTriangleMeshShape_setLocalScaling_1,FE=p._emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1=J._emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1,BE=p._emscripten_bind_btVector3_op_add_1=J._emscripten_bind_btVector3_op_add_1,UE=p._emscripten_bind_btPersistentManifold_btPersistentManifold_0=J._emscripten_bind_btPersistentManifold_btPersistentManifold_0,OE=p._emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0=J._emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0,GE=p._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2=J._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2,VE=p._emscripten_bind_btVector4___destroy___0=J._emscripten_bind_btVector4___destroy___0,zE=p._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0=J._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0,WE=p._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1=J._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1,HE=p._i64Add=J._i64Add,jE=p._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2=J._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2,qE=p._emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1=J._emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1,XE=p._emscripten_bind_btCollisionObject_setCcdMotionThreshold_1=J._emscripten_bind_btCollisionObject_setCcdMotionThreshold_1,$E=p._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4=J._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4,YE=p._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1=J._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1,KE=p._emscripten_bind_btQuadWord_setZ_1=J._emscripten_bind_btQuadWord_setZ_1,ZE=p._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0,QE=p._emscripten_bind_btPoint2PointConstraint_getPivotInB_0=J._emscripten_bind_btPoint2PointConstraint_getPivotInB_0,JE=p._emscripten_bind_btKinematicCharacterController_playerStep_2=J._emscripten_bind_btKinematicCharacterController_playerStep_2,eb=p._emscripten_bind_btDispatcherInfo___destroy___0=J._emscripten_bind_btDispatcherInfo___destroy___0,tb=p._emscripten_bind_btCapsuleShape_getMargin_0=J._emscripten_bind_btCapsuleShape_getMargin_0,ib=p._emscripten_bind_btCylinderShape_getMargin_0=J._emscripten_bind_btCylinderShape_getMargin_0,nb=p._emscripten_bind_btStaticPlaneShape_setLocalScaling_1=J._emscripten_bind_btStaticPlaneShape_setLocalScaling_1,rb=p._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2=J._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2,sb=p._emscripten_bind_btQuaternion___destroy___0=J._emscripten_bind_btQuaternion___destroy___0,ob=p._emscripten_bind_btGhostObject_getWorldTransform_0=J._emscripten_bind_btGhostObject_getWorldTransform_0,ab=p._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0=J._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0,cb=p._emscripten_bind_LocalConvexResult_set_m_hitFraction_1=J._emscripten_bind_LocalConvexResult_set_m_hitFraction_1,lb=p._emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2=J._emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2,ub=p._emscripten_bind_btDispatcherInfo_get_m_timeStep_0=J._emscripten_bind_btDispatcherInfo_get_m_timeStep_0,fb=p._emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1=J._emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1,pb=p._emscripten_bind_btBoxShape_calculateLocalInertia_2=J._emscripten_bind_btBoxShape_calculateLocalInertia_2,_b=p._emscripten_bind_btMotionState___destroy___0=J._emscripten_bind_btMotionState___destroy___0,hb=p._emscripten_bind_btGeneric6DofSpring2Constraint___destroy___0=J._emscripten_bind_btGeneric6DofSpring2Constraint___destroy___0,db=p._emscripten_bind_btCollisionObject_setCollisionFlags_1=J._emscripten_bind_btCollisionObject_setCollisionFlags_1,mb=p._emscripten_bind_btGeneric6DofSpring2Constraint_getTranslationalLimitMotor_0=J._emscripten_bind_btGeneric6DofSpring2Constraint_getTranslationalLimitMotor_0,gb=p._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1=J._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1,xb=p._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2=J._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2,yb=p._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3=J._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3,vb=p._emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1=J._emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1,Sb=p._emscripten_bind_btConvexTriangleMeshShape___destroy___0=J._emscripten_bind_btConvexTriangleMeshShape___destroy___0,Tb=p._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1=J._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1,Cb=p._emscripten_bind_btRaycastVehicle_getWheelInfo_1=J._emscripten_bind_btRaycastVehicle_getWheelInfo_1,wb=p._bitshift64Lshr=J._bitshift64Lshr,Mb=p._emscripten_bind_btWheelInfo_set_m_steering_1=J._emscripten_bind_btWheelInfo_set_m_steering_1,Rb=p._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1=J._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1,Ab=p._emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0,Eb=p._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0=J._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0,bb=p._emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1=J._emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1,Nb=p._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4=J._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4,Db=p._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2=J._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2,Ib=p._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1=J._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1,Pb=p._emscripten_bind_btConeShapeX_calculateLocalInertia_2=J._emscripten_bind_btConeShapeX_calculateLocalInertia_2,Lb=p._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1=J._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1,kb=p._emscripten_bind_btRigidBodyConstructionInfo___destroy___0=J._emscripten_bind_btRigidBodyConstructionInfo___destroy___0,Fb=p._emscripten_bind_btRigidBody_getWorldTransform_0=J._emscripten_bind_btRigidBody_getWorldTransform_0,Bb=p._emscripten_bind_btPoint2PointConstraint_setPivotA_1=J._emscripten_bind_btPoint2PointConstraint_setPivotA_1,Ub=p._emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1=J._emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1,Ob=p._memcpy=J._memcpy,Gb=p._emscripten_bind_btCapsuleShape_calculateLocalInertia_2=J._emscripten_bind_btCapsuleShape_calculateLocalInertia_2,Vb=p._emscripten_bind_btVector3_y_0=J._emscripten_bind_btVector3_y_0,zb=p._emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0=J._emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0,Wb=p._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2=J._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2,Hb=p._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3=J._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3,jb=p._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0=J._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0,qb=p._emscripten_bind_btGhostObject_setCollisionShape_1=J._emscripten_bind_btGhostObject_setCollisionShape_1,Xb=p._emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1=J._emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1,$b=p._emscripten_bind_btRigidBody_setRollingFriction_1=J._emscripten_bind_btRigidBody_setRollingFriction_1,Yb=p._emscripten_bind_btPairCachingGhostObject_setRollingFriction_1=J._emscripten_bind_btPairCachingGhostObject_setRollingFriction_1,Kb=p._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1=J._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1,Zb=p._emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1=J._emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1,Qb=p._emscripten_bind_btVector4_z_0=J._emscripten_bind_btVector4_z_0,Jb=p._emscripten_bind_btCollisionObject_forceActivationState_1=J._emscripten_bind_btCollisionObject_forceActivationState_1,eN=p._emscripten_bind_btKinematicCharacterController_onGround_0=J._emscripten_bind_btKinematicCharacterController_onGround_0,ih=p._free=J._free,tN=p._emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0,iN=p._emscripten_bind_btConeTwistConstraint_setLimit_2=J._emscripten_bind_btConeTwistConstraint_setLimit_2,nN=p._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1=J._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1,rN=p._emscripten_bind_btRigidBody___destroy___0=J._emscripten_bind_btRigidBody___destroy___0,sN=p._emscripten_bind_btStridingMeshInterface___destroy___0=J._emscripten_bind_btStridingMeshInterface___destroy___0;p.runPostSets=J.runPostSets;var oN=p._emscripten_bind_btRigidBody_setSleepingThresholds_2=J._emscripten_bind_btRigidBody_setSleepingThresholds_2,aN=p._emscripten_bind_btCollisionObject_setWorldTransform_1=J._emscripten_bind_btCollisionObject_setWorldTransform_1,cN=p._emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0=J._emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0,lN=p._emscripten_bind_btManifoldPoint_get_m_localPointA_0=J._emscripten_bind_btManifoldPoint_get_m_localPointA_0,uN=p._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0,fN=p._emscripten_bind_btGeneric6DofSpring2Constraint_enableFeedback_1=J._emscripten_bind_btGeneric6DofSpring2Constraint_enableFeedback_1,pN=p._emscripten_bind_btDispatcher_getNumManifolds_0=J._emscripten_bind_btDispatcher_getNumManifolds_0,_N=p._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0,hN=p._emscripten_bind_btRigidBody_activate_1=J._emscripten_bind_btRigidBody_activate_1,dN=p._emscripten_bind_btRigidBody_activate_0=J._emscripten_bind_btRigidBody_activate_0,mN=p._emscripten_bind_btRaycastVehicle___destroy___0=J._emscripten_bind_btRaycastVehicle___destroy___0,gN=p._emscripten_bind_btGhostObject_setActivationState_1=J._emscripten_bind_btGhostObject_setActivationState_1,xN=p._emscripten_bind_btCollisionWorld_contactPairTest_3=J._emscripten_bind_btCollisionWorld_contactPairTest_3,yN=p._emscripten_bind_btCylinderShapeX___destroy___0=J._emscripten_bind_btCylinderShapeX___destroy___0,vN=p._emscripten_bind_btManifoldPoint_getPositionWorldOnA_0=J._emscripten_bind_btManifoldPoint_getPositionWorldOnA_0,SN=p._emscripten_bind_ContactResultCallback___destroy___0=J._emscripten_bind_ContactResultCallback___destroy___0,TN=p._emscripten_bind_btDispatcherInfo_set_m_stepCount_1=J._emscripten_bind_btDispatcherInfo_set_m_stepCount_1,CN=p._emscripten_bind_btVector4_x_0=J._emscripten_bind_btVector4_x_0,wN=p._emscripten_bind_btConstraintSetting_btConstraintSetting_0=J._emscripten_bind_btConstraintSetting_btConstraintSetting_0,MN=p._emscripten_bind_btRigidBody_getMotionState_0=J._emscripten_bind_btRigidBody_getMotionState_0,RN=p._emscripten_bind_btKinematicCharacterController_getGhostObject_0=J._emscripten_bind_btKinematicCharacterController_getGhostObject_0,AN=p._emscripten_bind_btRigidBody_btRigidBody_1=J._emscripten_bind_btRigidBody_btRigidBody_1,EN=p._emscripten_bind_btTriangleMeshShape___destroy___0=J._emscripten_bind_btTriangleMeshShape___destroy___0,bN=p._emscripten_bind_btKinematicCharacterController_setWalkDirection_1=J._emscripten_bind_btKinematicCharacterController_setWalkDirection_1,NN=p._emscripten_bind_btDynamicsWorld_removeAction_1=J._emscripten_bind_btDynamicsWorld_removeAction_1,DN=p._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0,IN=p._emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0=J._emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0,PN=p._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1=J._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1,LN=p._emscripten_bind_btKinematicCharacterController_getGravity_0=J._emscripten_bind_btKinematicCharacterController_getGravity_0,kN=p._emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0,FN=p._emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1=J._emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1,BN=p._emscripten_bind_btVector4_normalize_0=J._emscripten_bind_btVector4_normalize_0,UN=p._emscripten_bind_btQuaternion_setY_1=J._emscripten_bind_btQuaternion_setY_1,ON=p._emscripten_bind_btConeShape_calculateLocalInertia_2=J._emscripten_bind_btConeShape_calculateLocalInertia_2,GN=p._emscripten_bind_btCylinderShapeX_calculateLocalInertia_2=J._emscripten_bind_btCylinderShapeX_calculateLocalInertia_2,VN=p._emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1=J._emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1,zN=p._llvm_bswap_i32=J._llvm_bswap_i32,WN=p._emscripten_enum_RotateOrder_RO_XZY=J._emscripten_enum_RotateOrder_RO_XZY,HN=p._emscripten_bind_btSphereShape_setLocalScaling_1=J._emscripten_bind_btSphereShape_setLocalScaling_1,jN=p._emscripten_bind_btVector4_w_0=J._emscripten_bind_btVector4_w_0,qN=p._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0=J._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0,XN=p._emscripten_bind_btBvhTriangleMeshShape___destroy___0=J._emscripten_bind_btBvhTriangleMeshShape___destroy___0,$N=p._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0=J._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0,YN=p._emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1=J._emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1,KN=p._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1=J._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1,ZN=p._emscripten_bind_btVector4_y_0=J._emscripten_bind_btVector4_y_0,QN=p._emscripten_bind_btGeneric6DofConstraint___destroy___0=J._emscripten_bind_btGeneric6DofConstraint___destroy___0,JN=p._emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0=J._emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0,eD=p._emscripten_bind_btConvexHullShape_addPoint_1=J._emscripten_bind_btConvexHullShape_addPoint_1,tD=p._emscripten_bind_btConvexHullShape_addPoint_2=J._emscripten_bind_btConvexHullShape_addPoint_2,iD=p._emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0,nD=p._emscripten_bind_btTransform_getOrigin_0=J._emscripten_bind_btTransform_getOrigin_0,rD=p._emscripten_enum_RotateOrder_RO_ZYX=J._emscripten_enum_RotateOrder_RO_ZYX,sD=p._emscripten_bind_btHingeConstraint___destroy___0=J._emscripten_bind_btHingeConstraint___destroy___0,oD=p._emscripten_bind_btConvexShape_calculateLocalInertia_2=J._emscripten_bind_btConvexShape_calculateLocalInertia_2,aD=p._memset=J._memset,cD=p._emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1=J._emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1,lD=p._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0=J._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0,uD=p._emscripten_bind_btTriangleMesh_btTriangleMesh_0=J._emscripten_bind_btTriangleMesh_btTriangleMesh_0,fD=p._emscripten_bind_btTriangleMesh_btTriangleMesh_1=J._emscripten_bind_btTriangleMesh_btTriangleMesh_1,pD=p._emscripten_bind_btTriangleMesh_btTriangleMesh_2=J._emscripten_bind_btTriangleMesh_btTriangleMesh_2,_D=p._emscripten_bind_btWheelInfo_set_m_frictionSlip_1=J._emscripten_bind_btWheelInfo_set_m_frictionSlip_1,hD=p._emscripten_bind_btRigidBody_getCollisionShape_0=J._emscripten_bind_btRigidBody_getCollisionShape_0,dD=p._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1=J._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1,mD=p._emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0=J._emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0,gD=p._emscripten_bind_btManifoldPoint_get_m_localPointB_0=J._emscripten_bind_btManifoldPoint_get_m_localPointB_0,xD=p._emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3=J._emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3,yD=p._emscripten_bind_btSliderConstraint_setLowerLinLimit_1=J._emscripten_bind_btSliderConstraint_setLowerLinLimit_1,vD=p._emscripten_bind_btRigidBody_getAngularVelocity_0=J._emscripten_bind_btRigidBody_getAngularVelocity_0,SD=p._emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1=J._emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1,TD=p._emscripten_bind_btWheelInfo_get_m_wheelsRadius_0=J._emscripten_bind_btWheelInfo_get_m_wheelsRadius_0,CD=p._emscripten_bind_btRigidBody_setLinearVelocity_1=J._emscripten_bind_btRigidBody_setLinearVelocity_1,wD=p._emscripten_bind_btVehicleTuning_btVehicleTuning_0=J._emscripten_bind_btVehicleTuning_btVehicleTuning_0,MD=p._emscripten_bind_RayResultCallback_set_m_collisionObject_1=J._emscripten_bind_RayResultCallback_set_m_collisionObject_1,RD=p._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1=J._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1,AD=p._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0=J._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0,ED=p._emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1=J._emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1,bD=p._emscripten_bind_btDynamicsWorld_addAction_1=J._emscripten_bind_btDynamicsWorld_addAction_1,ND=p._emscripten_bind_btVector4_op_sub_1=J._emscripten_bind_btVector4_op_sub_1,DD=p._emscripten_bind_RaycastInfo_set_m_hardPointWS_1=J._emscripten_bind_RaycastInfo_set_m_hardPointWS_1,ID=p._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0=J._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0,PD=p._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1,LD=p._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1,kD=p._emscripten_bind_btGeneric6DofSpring2Constraint_setLinearLowerLimit_1=J._emscripten_bind_btGeneric6DofSpring2Constraint_setLinearLowerLimit_1,FD=p._emscripten_bind_btRigidBody_setActivationState_1=J._emscripten_bind_btRigidBody_setActivationState_1,BD=p._emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0=J._emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0,UD=p._emscripten_bind_ClosestConvexResultCallback_hasHit_0=J._emscripten_bind_ClosestConvexResultCallback_hasHit_0,OD=p._emscripten_bind_btCapsuleShapeZ___destroy___0=J._emscripten_bind_btCapsuleShapeZ___destroy___0,GD=p._emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0=J._emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0,VD=p._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0=J._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0,zD=p._emscripten_bind_btTriangleMesh_addTriangle_3=J._emscripten_bind_btTriangleMesh_addTriangle_3,WD=p._emscripten_bind_btGhostObject_getOverlappingObject_1=J._emscripten_bind_btGhostObject_getOverlappingObject_1,HD=p._emscripten_bind_btTriangleMesh_addTriangle_4=J._emscripten_bind_btTriangleMesh_addTriangle_4,jD=p._emscripten_bind_btRigidBody_applyTorqueImpulse_1=J._emscripten_bind_btRigidBody_applyTorqueImpulse_1,qD=p._emscripten_bind_btRigidBody_setCollisionFlags_1=J._emscripten_bind_btRigidBody_setCollisionFlags_1,XD=p._emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1=J._emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1,$D=p._emscripten_bind_btConeShape___destroy___0=J._emscripten_bind_btConeShape___destroy___0,YD=p._emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2=J._emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2,KD=p._emscripten_bind_btSliderConstraint_btSliderConstraint_5=J._emscripten_bind_btSliderConstraint_btSliderConstraint_5,ZD=p._emscripten_bind_btSliderConstraint_btSliderConstraint_3=J._emscripten_bind_btSliderConstraint_btSliderConstraint_3,QD=p._emscripten_bind_btTransform___destroy___0=J._emscripten_bind_btTransform___destroy___0,JD=p._emscripten_bind_btDynamicsWorld_convexSweepTest_5=J._emscripten_bind_btDynamicsWorld_convexSweepTest_5,eI=p._emscripten_bind_btSliderConstraint___destroy___0=J._emscripten_bind_btSliderConstraint___destroy___0,tI=p._emscripten_bind_btRigidBody_forceActivationState_1=J._emscripten_bind_btRigidBody_forceActivationState_1,iI=p._emscripten_bind_btPoint2PointConstraint_setPivotB_1=J._emscripten_bind_btPoint2PointConstraint_setPivotB_1,nI=p._emscripten_bind_btManifoldPoint_getDistance_0=J._emscripten_bind_btManifoldPoint_getDistance_0,rI=p._emscripten_bind_btGhostPairCallback___destroy___0=J._emscripten_bind_btGhostPairCallback___destroy___0,sI=p._emscripten_bind_btKinematicCharacterController_getMaxSlope_0=J._emscripten_bind_btKinematicCharacterController_getMaxSlope_0,oI=p._emscripten_bind_btSliderConstraint_enableFeedback_1=J._emscripten_bind_btSliderConstraint_enableFeedback_1,aI=p._emscripten_bind_btRaycastVehicle_addWheel_7=J._emscripten_bind_btRaycastVehicle_addWheel_7,cI=p._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1=J._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1,lI=p._emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1=J._emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1,uI=p._emscripten_bind_btStaticPlaneShape___destroy___0=J._emscripten_bind_btStaticPlaneShape___destroy___0,fI=p._emscripten_bind_btCylinderShapeZ_setLocalScaling_1=J._emscripten_bind_btCylinderShapeZ_setLocalScaling_1,pI=p._emscripten_bind_btBoxShape_setLocalScaling_1=J._emscripten_bind_btBoxShape_setLocalScaling_1,_I=p._emscripten_bind_btConeShapeZ___destroy___0=J._emscripten_bind_btConeShapeZ___destroy___0,hI=p._emscripten_bind_btDynamicsWorld_getPairCache_0=J._emscripten_bind_btDynamicsWorld_getPairCache_0,dI=p._emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5=J._emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5,mI=p._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2=J._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2,gI=p._emscripten_bind_btRigidBody_setRestitution_1=J._emscripten_bind_btRigidBody_setRestitution_1,xI=p._emscripten_bind_btVector4_btVector4_0=J._emscripten_bind_btVector4_btVector4_0,yI=p._emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0=J._emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0,vI=p._emscripten_bind_btVector4_btVector4_4=J._emscripten_bind_btVector4_btVector4_4,SI=p._emscripten_bind_btKinematicCharacterController___destroy___0=J._emscripten_bind_btKinematicCharacterController___destroy___0,TI=p._emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1=J._emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1,CI=p._emscripten_enum_RotateOrder_RO_ZXY=J._emscripten_enum_RotateOrder_RO_ZXY,wI=p._emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1=J._emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1,MI=p._emscripten_bind_btRotationalLimitMotor2_set_m_currentPosition_1=J._emscripten_bind_btRotationalLimitMotor2_set_m_currentPosition_1,RI=p._emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1=J._emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1,AI=p._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3=J._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3,EI=p._emscripten_bind_btWheelInfo_get_m_raycastInfo_0=J._emscripten_bind_btWheelInfo_get_m_raycastInfo_0,bI=p._emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0=J._emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0,NI=p._emscripten_bind_btGhostPairCallback_btGhostPairCallback_0=J._emscripten_bind_btGhostPairCallback_btGhostPairCallback_0,DI=p._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1=J._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1,II=p._emscripten_bind_btPairCachingGhostObject_isActive_0=J._emscripten_bind_btPairCachingGhostObject_isActive_0,PI=p._emscripten_bind_btVehicleTuning_get_m_frictionSlip_0=J._emscripten_bind_btVehicleTuning_get_m_frictionSlip_0;p.dynCall_viiiii=J.dynCall_viiiii,p.dynCall_vid=J.dynCall_vid,p.dynCall_vi=J.dynCall_vi,p.dynCall_viiidii=J.dynCall_viiidii,p.dynCall_vii=J.dynCall_vii,p.dynCall_iiiiiiiiiii=J.dynCall_iiiiiiiiiii,p.dynCall_ii=J.dynCall_ii,p.dynCall_viidi=J.dynCall_viidi,p.dynCall_viddiii=J.dynCall_viddiii,p.dynCall_vidii=J.dynCall_vidii,p.dynCall_iiiii=J.dynCall_iiiii,p.dynCall_vidi=J.dynCall_vidi,p.dynCall_diiiiiiii=J.dynCall_diiiiiiii,p.dynCall_viiiiddddiid=J.dynCall_viiiiddddiid,p.dynCall_diiiii=J.dynCall_diiiii,p.dynCall_iiii=J.dynCall_iiii,p.dynCall_viiiiii=J.dynCall_viiiiii,p.dynCall_iiid=J.dynCall_iiid,p.dynCall_di=J.dynCall_di,p.dynCall_iiiiiii=J.dynCall_iiiiiii,p.dynCall_diiidii=J.dynCall_diiidii,p.dynCall_viidii=J.dynCall_viidii,p.dynCall_viiiiiii=J.dynCall_viiiiiii,p.dynCall_viiiiiiiii=J.dynCall_viiiiiiiii,p.dynCall_viiiiiiiiii=J.dynCall_viiiiiiiiii,p.dynCall_iii=J.dynCall_iii,p.dynCall_diii=J.dynCall_diii,p.dynCall_diiiiiiiiii=J.dynCall_diiiiiiiiii,p.dynCall_viiiid=J.dynCall_viiiid,p.dynCall_diiiiiiiii=J.dynCall_diiiiiiiii,p.dynCall_did=J.dynCall_did,p.dynCall_viiiidddddidi=J.dynCall_viiiidddddidi,p.dynCall_diidii=J.dynCall_diidii,p.dynCall_diiii=J.dynCall_diiii,p.dynCall_iiiiiiiiii=J.dynCall_iiiiiiiiii,p.dynCall_viiid=J.dynCall_viiid,p.dynCall_viii=J.dynCall_viii,p.dynCall_v=J.dynCall_v,p.dynCall_viid=J.dynCall_viid,p.dynCall_iidid=J.dynCall_iidid,p.dynCall_viiii=J.dynCall_viiii,ce.stackAlloc=J.stackAlloc,ce.stackSave=J.stackSave,ce.stackRestore=J.stackRestore,ce.establishStackSpace=J.establishStackSpace,ce.setTempRet0=J.setTempRet0,ce.getTempRet0=J.getTempRet0;function yc(x){this.name="ExitStatus",this.message="Program terminated with exit("+x+")",this.status=x}yc.prototype=new Error,yc.prototype.constructor=yc;var LI;Rs=function x(){p.calledRun||nh(),p.calledRun||(Rs=x)},p.callMain=p.callMain=function(I){I=I||[],Si();var le=I.length+1;function A(){for(var Le=0;Le<3;Le++)ee.push(0)}var ee=[ft(yn(p.thisProgram),"i8",We)];A();for(var e=0;e<le-1;e=e+1)ee.push(ft(yn(I[e]),"i8",We)),A();ee.push(0),ee=ft(ee,"i32",We);try{var It=p._main(le,ee,0);z8(It,!0)}catch(Le){if(Le instanceof yc)return;if(Le=="SimulateInfiniteLoop"){p.noExitRuntime=!0;return}else throw Le&&typeof Le=="object"&&Le.stack&&p.printErr("exception thrown: "+[Le,Le.stack]),Le}finally{}};function nh(x){if(x=x||p.arguments,Gs>0||(D0(),Gs>0)||p.calledRun)return;function I(){p.calledRun||(p.calledRun=!0,!ue&&(Si(),rt(),p.onRuntimeInitialized&&p.onRuntimeInitialized(),p._main&&H8&&p.callMain(x),d0()))}p.setStatus?(p.setStatus("Running..."),setTimeout((function(){setTimeout((function(){p.setStatus("")}),1),I()}),1)):I()}p.run=p.run=nh;function z8(x,I){if(!(I&&p.noExitRuntime))throw p.noExitRuntime||(ue=!0,oi=LI,S0(),p.onExit&&p.onExit(x)),P?process.exit(x):G&&typeof quit=="function"&&quit(x),new yc(x)}p.exit=p.exit=z8;var W8=[];function As(x){x!==void 0?(p.print(x),p.printErr(x),x=JSON.stringify(x)):x="",ue=!0;var I=`
If this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.`,le="abort("+x+") at "+y0()+I;throw W8&&W8.forEach((function(A){le=A(le,x)})),le}if(p.abort=p.abort=As,p.preInit)for(typeof p.preInit=="function"&&(p.preInit=[p.preInit]);p.preInit.length>0;)p.preInit.pop()();var H8=!0;p.noInitialRun&&(H8=!1),p.noExitRuntime=!0,nh();function Ci(){}Ci.prototype=Object.create(Ci.prototype),Ci.prototype.constructor=Ci,Ci.prototype.__class__=Ci,Ci.__cache__={},p.WrapperObject=Ci;function o0(x){return(x||Ci).__cache__}p.getCache=o0;function p0(x,I){var le=o0(I),A=le[x];return A||(A=Object.create((I||Ci).prototype),A.ptr=x,le[x]=A)}p.wrapPointer=p0;function kI(x,I){return p0(x.ptr,I)}p.castObject=kI,p.NULL=p0(0);function FI(x){if(!x.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";x.__destroy__(),delete o0(x.__class__)[x.ptr]}p.destroy=FI;function BI(x,I){return x.ptr===I.ptr}p.compare=BI;function UI(x){return x.ptr}p.getPointer=UI;function OI(x){return x.__class__}p.getClass=OI;function jn(){throw"cannot construct a btCollisionShape, no constructor in IDL"}jn.prototype=Object.create(Ci.prototype),jn.prototype.constructor=jn,jn.prototype.__class__=jn,jn.__cache__={},p.btCollisionShape=jn,jn.prototype.setLocalScaling=jn.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),$C(I,x)}),jn.prototype.calculateLocalInertia=jn.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),d7(le,x,I)}),jn.prototype.__destroy__=jn.prototype.__destroy__=(function(){var x=this.ptr;HA(x)});function gi(){throw"cannot construct a btCollisionObject, no constructor in IDL"}gi.prototype=Object.create(Ci.prototype),gi.prototype.constructor=gi,gi.prototype.__class__=gi,gi.__cache__={},p.btCollisionObject=gi,gi.prototype.setAnisotropicFriction=gi.prototype.setAnisotropicFriction=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),oA(le,x,I)}),gi.prototype.getCollisionShape=gi.prototype.getCollisionShape=(function(){var x=this.ptr;return p0(kR(x),jn)}),gi.prototype.setContactProcessingThreshold=gi.prototype.setContactProcessingThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),UC(I,x)}),gi.prototype.setActivationState=gi.prototype.setActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),l7(I,x)}),gi.prototype.forceActivationState=gi.prototype.forceActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Jb(I,x)}),gi.prototype.activate=gi.prototype.activate=(function(x){var I=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),x===void 0){P9(I);return}I9(I,x)}),gi.prototype.isActive=gi.prototype.isActive=(function(){var x=this.ptr;return!!Wv(x)}),gi.prototype.isKinematicObject=gi.prototype.isKinematicObject=(function(){var x=this.ptr;return!!C9(x)}),gi.prototype.setRestitution=gi.prototype.setRestitution=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),vM(I,x)}),gi.prototype.setFriction=gi.prototype.setFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),WR(I,x)}),gi.prototype.setRollingFriction=gi.prototype.setRollingFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),rw(I,x)}),gi.prototype.getWorldTransform=gi.prototype.getWorldTransform=(function(){var x=this.ptr;return p0(Q7(x),An)}),gi.prototype.getCollisionFlags=gi.prototype.getCollisionFlags=(function(){var x=this.ptr;return EC(x)}),gi.prototype.setCollisionFlags=gi.prototype.setCollisionFlags=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),db(I,x)}),gi.prototype.setWorldTransform=gi.prototype.setWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),aN(I,x)}),gi.prototype.setCollisionShape=gi.prototype.setCollisionShape=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),WA(I,x)}),gi.prototype.setCcdMotionThreshold=gi.prototype.setCcdMotionThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),XE(I,x)}),gi.prototype.setCcdSweptSphereRadius=gi.prototype.setCcdSweptSphereRadius=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),SD(I,x)}),gi.prototype.__destroy__=gi.prototype.__destroy__=(function(){var x=this.ptr;rE(x)});function jr(){throw"cannot construct a btConcaveShape, no constructor in IDL"}jr.prototype=Object.create(jn.prototype),jr.prototype.constructor=jr,jr.prototype.__class__=jr,jr.__cache__={},p.btConcaveShape=jr,jr.prototype.setLocalScaling=jr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),tC(I,x)}),jr.prototype.calculateLocalInertia=jr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),Ew(le,x,I)}),jr.prototype.__destroy__=jr.prototype.__destroy__=(function(){var x=this.ptr;ZT(x)});function Gn(){throw"cannot construct a btCollisionWorld, no constructor in IDL"}Gn.prototype=Object.create(Ci.prototype),Gn.prototype.constructor=Gn,Gn.prototype.__class__=Gn,Gn.__cache__={},p.btCollisionWorld=Gn,Gn.prototype.getDispatcher=Gn.prototype.getDispatcher=(function(){var x=this.ptr;return p0(iw(x),Mr)}),Gn.prototype.rayTest=Gn.prototype.rayTest=(function(x,I,le){var A=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),CC(A,x,I,le)}),Gn.prototype.getPairCache=Gn.prototype.getPairCache=(function(){var x=this.ptr;return p0(CA(x),hs)}),Gn.prototype.getDispatchInfo=Gn.prototype.getDispatchInfo=(function(){var x=this.ptr;return p0(MC(x),ui)}),Gn.prototype.addCollisionObject=Gn.prototype.addCollisionObject=(function(x,I,le){var A=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),I===void 0){YM(A,x);return}if(le===void 0){KM(A,x,I);return}ZM(A,x,I,le)}),Gn.prototype.getBroadphase=Gn.prototype.getBroadphase=(function(){var x=this.ptr;return p0(pC(x),Hs)}),Gn.prototype.convexSweepTest=Gn.prototype.convexSweepTest=(function(x,I,le,A,ee){var e=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),g7(e,x,I,le,A,ee)}),Gn.prototype.contactPairTest=Gn.prototype.contactPairTest=(function(x,I,le){var A=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),xN(A,x,I,le)}),Gn.prototype.contactTest=Gn.prototype.contactTest=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),lR(le,x,I)}),Gn.prototype.__destroy__=Gn.prototype.__destroy__=(function(){var x=this.ptr;aS(x)});function L2(){throw"cannot construct a btTypedConstraint, no constructor in IDL"}L2.prototype=Object.create(Ci.prototype),L2.prototype.constructor=L2,L2.prototype.__class__=L2,L2.__cache__={},p.btTypedConstraint=L2,L2.prototype.enableFeedback=L2.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),NE(I,x)}),L2.prototype.getBreakingImpulseThreshold=L2.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return rA(x)}),L2.prototype.setBreakingImpulseThreshold=L2.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Zv(I,x)}),L2.prototype.__destroy__=L2.prototype.__destroy__=(function(){var x=this.ptr;BM(x)});function W2(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=bE(x,I),o0(W2)[this.ptr]=this}W2.prototype=Object.create(jn.prototype),W2.prototype.constructor=W2,W2.prototype.__class__=W2,W2.__cache__={},p.btCapsuleShape=W2,W2.prototype.setMargin=W2.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),nR(I,x)}),W2.prototype.getMargin=W2.prototype.getMargin=(function(){var x=this.ptr;return tb(x)}),W2.prototype.setLocalScaling=W2.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),IE(I,x)}),W2.prototype.calculateLocalInertia=W2.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),Gb(le,x,I)}),W2.prototype.__destroy__=W2.prototype.__destroy__=(function(){var x=this.ptr;D9(x)});function qn(x,I,le,A,ee){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),A===void 0){this.ptr=mS(x,I,le),o0(qn)[this.ptr]=this;return}if(ee===void 0){this.ptr=_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_4(x,I,le,A),o0(qn)[this.ptr]=this;return}this.ptr=dS(x,I,le,A,ee),o0(qn)[this.ptr]=this}qn.prototype=Object.create(L2.prototype),qn.prototype.constructor=qn,qn.prototype.__class__=qn,qn.__cache__={},p.btGeneric6DofConstraint=qn,qn.prototype.setLinearLowerLimit=qn.prototype.setLinearLowerLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),cD(I,x)}),qn.prototype.setLinearUpperLimit=qn.prototype.setLinearUpperLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Bw(I,x)}),qn.prototype.setAngularLowerLimit=qn.prototype.setAngularLowerLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),FN(I,x)}),qn.prototype.setAngularUpperLimit=qn.prototype.setAngularUpperLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),QS(I,x)}),qn.prototype.enableFeedback=qn.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Gv(I,x)}),qn.prototype.getBreakingImpulseThreshold=qn.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return tN(x)}),qn.prototype.setBreakingImpulseThreshold=qn.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),AA(I,x)}),qn.prototype.__destroy__=qn.prototype.__destroy__=(function(){var x=this.ptr;QN(x)});function Mo(){throw"cannot construct a btStridingMeshInterface, no constructor in IDL"}Mo.prototype=Object.create(Ci.prototype),Mo.prototype.constructor=Mo,Mo.prototype.__class__=Mo,Mo.__cache__={},p.btStridingMeshInterface=Mo,Mo.prototype.__destroy__=Mo.prototype.__destroy__=(function(){var x=this.ptr;sN(x)});function _2(){throw"cannot construct a ConvexResultCallback, no constructor in IDL"}_2.prototype=Object.create(Ci.prototype),_2.prototype.constructor=_2,_2.prototype.__class__=_2,_2.__cache__={},p.ConvexResultCallback=_2,_2.prototype.hasHit=_2.prototype.hasHit=(function(){var x=this.ptr;return!!h7(x)}),_2.prototype.get_m_collisionFilterGroup=_2.prototype.get_m_collisionFilterGroup=(function(){var x=this.ptr;return MM(x)}),_2.prototype.set_m_collisionFilterGroup=_2.prototype.set_m_collisionFilterGroup=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),uA(I,x)}),_2.prototype.get_m_collisionFilterMask=_2.prototype.get_m_collisionFilterMask=(function(){var x=this.ptr;return OE(x)}),_2.prototype.set_m_collisionFilterMask=_2.prototype.set_m_collisionFilterMask=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),VN(I,x)}),_2.prototype.get_m_closestHitFraction=_2.prototype.get_m_closestHitFraction=(function(){var x=this.ptr;return jA(x)}),_2.prototype.set_m_closestHitFraction=_2.prototype.set_m_closestHitFraction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),FE(I,x)}),_2.prototype.__destroy__=_2.prototype.__destroy__=(function(){var x=this.ptr;LC(x)});function qr(){throw"cannot construct a btMotionState, no constructor in IDL"}qr.prototype=Object.create(Ci.prototype),qr.prototype.constructor=qr,qr.prototype.__class__=qr,qr.__cache__={},p.btMotionState=qr,qr.prototype.getWorldTransform=qr.prototype.getWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),ER(I,x)}),qr.prototype.setWorldTransform=qr.prototype.setWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),SC(I,x)}),qr.prototype.__destroy__=qr.prototype.__destroy__=(function(){var x=this.ptr;_b(x)});function Lr(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=kA(x,I),o0(Lr)[this.ptr]=this}Lr.prototype=Object.create(jn.prototype),Lr.prototype.constructor=Lr,Lr.prototype.__class__=Lr,Lr.__cache__={},p.btConeShape=Lr,Lr.prototype.setLocalScaling=Lr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),zA(I,x)}),Lr.prototype.calculateLocalInertia=Lr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),ON(le,x,I)}),Lr.prototype.__destroy__=Lr.prototype.__destroy__=(function(){var x=this.ptr;$D(x)});function as(){throw"cannot construct a btConvexShape, no constructor in IDL"}as.prototype=Object.create(jn.prototype),as.prototype.constructor=as,as.prototype.__class__=as,as.__cache__={},p.btConvexShape=as,as.prototype.setLocalScaling=as.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Pw(I,x)}),as.prototype.calculateLocalInertia=as.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),oD(le,x,I)}),as.prototype.__destroy__=as.prototype.__destroy__=(function(){var x=this.ptr;mM(x)});function zs(){throw"cannot construct a ContactResultCallback, no constructor in IDL"}zs.prototype=Object.create(Ci.prototype),zs.prototype.constructor=zs,zs.prototype.__class__=zs,zs.__cache__={},p.ContactResultCallback=zs,zs.prototype.addSingleResult=zs.prototype.addSingleResult=(function(x,I,le,A,ee,e,It){var Le=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),e&&typeof e=="object"&&(e=e.ptr),It&&typeof It=="object"&&(It=It.ptr),eS(Le,x,I,le,A,ee,e,It)}),zs.prototype.__destroy__=zs.prototype.__destroy__=(function(){var x=this.ptr;SN(x)});function cs(){throw"cannot construct a btTriangleMeshShape, no constructor in IDL"}cs.prototype=Object.create(jr.prototype),cs.prototype.constructor=cs,cs.prototype.__class__=cs,cs.__cache__={},p.btTriangleMeshShape=cs,cs.prototype.setLocalScaling=cs.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),kE(I,x)}),cs.prototype.calculateLocalInertia=cs.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),Lw(le,x,I)}),cs.prototype.__destroy__=cs.prototype.__destroy__=(function(){var x=this.ptr;EN(x)});function Mr(){throw"cannot construct a btDispatcher, no constructor in IDL"}Mr.prototype=Object.create(Ci.prototype),Mr.prototype.constructor=Mr,Mr.prototype.__class__=Mr,Mr.__cache__={},p.btDispatcher=Mr,Mr.prototype.getNumManifolds=Mr.prototype.getNumManifolds=(function(){var x=this.ptr;return pN(x)}),Mr.prototype.getManifoldByIndexInternal=Mr.prototype.getManifoldByIndexInternal=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(Tb(I,x),q2)}),Mr.prototype.__destroy__=Mr.prototype.__destroy__=(function(){var x=this.ptr;_M(x)});function _n(){throw"cannot construct a btDynamicsWorld, no constructor in IDL"}_n.prototype=Object.create(Gn.prototype),_n.prototype.constructor=_n,_n.prototype.__class__=_n,_n.__cache__={},p.btDynamicsWorld=_n,_n.prototype.addAction=_n.prototype.addAction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),bD(I,x)}),_n.prototype.removeAction=_n.prototype.removeAction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),NN(I,x)}),_n.prototype.getSolverInfo=_n.prototype.getSolverInfo=(function(){var x=this.ptr;return p0(bR(x),nr)}),_n.prototype.getDispatcher=_n.prototype.getDispatcher=(function(){var x=this.ptr;return p0(fw(x),Mr)}),_n.prototype.rayTest=_n.prototype.rayTest=(function(x,I,le){var A=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),v9(A,x,I,le)}),_n.prototype.getPairCache=_n.prototype.getPairCache=(function(){var x=this.ptr;return p0(hI(x),hs)}),_n.prototype.getDispatchInfo=_n.prototype.getDispatchInfo=(function(){var x=this.ptr;return p0(CS(x),ui)}),_n.prototype.addCollisionObject=_n.prototype.addCollisionObject=(function(x,I,le){var A=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),I===void 0){mR(A,x);return}if(le===void 0){xR(A,x,I);return}PS(A,x,I,le)}),_n.prototype.getBroadphase=_n.prototype.getBroadphase=(function(){var x=this.ptr;return p0(Y9(x),Hs)}),_n.prototype.convexSweepTest=_n.prototype.convexSweepTest=(function(x,I,le,A,ee){var e=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),JD(e,x,I,le,A,ee)}),_n.prototype.contactPairTest=_n.prototype.contactPairTest=(function(x,I,le){var A=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),TA(A,x,I,le)}),_n.prototype.contactTest=_n.prototype.contactTest=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),fT(le,x,I)}),_n.prototype.__destroy__=_n.prototype.__destroy__=(function(){var x=this.ptr;DT(x)});function h2(){throw"cannot construct a RayResultCallback, no constructor in IDL"}h2.prototype=Object.create(Ci.prototype),h2.prototype.constructor=h2,h2.prototype.__class__=h2,h2.__cache__={},p.RayResultCallback=h2,h2.prototype.hasHit=h2.prototype.hasHit=(function(){var x=this.ptr;return!!Ow(x)}),h2.prototype.get_m_collisionFilterGroup=h2.prototype.get_m_collisionFilterGroup=(function(){var x=this.ptr;return OA(x)}),h2.prototype.set_m_collisionFilterGroup=h2.prototype.set_m_collisionFilterGroup=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),sw(I,x)}),h2.prototype.get_m_collisionFilterMask=h2.prototype.get_m_collisionFilterMask=(function(){var x=this.ptr;return tw(x)}),h2.prototype.set_m_collisionFilterMask=h2.prototype.set_m_collisionFilterMask=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),NS(I,x)}),h2.prototype.get_m_collisionObject=h2.prototype.get_m_collisionObject=(function(){var x=this.ptr;return p0(uR(x),gi)}),h2.prototype.set_m_collisionObject=h2.prototype.set_m_collisionObject=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),MD(I,x)}),h2.prototype.__destroy__=h2.prototype.__destroy__=(function(){var x=this.ptr;VT(x)});function T0(x,I,le){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),x===void 0){this.ptr=uE(),o0(T0)[this.ptr]=this;return}if(I===void 0){this.ptr=_emscripten_bind_btVector3_btVector3_1(x),o0(T0)[this.ptr]=this;return}if(le===void 0){this.ptr=_emscripten_bind_btVector3_btVector3_2(x,I),o0(T0)[this.ptr]=this;return}this.ptr=lE(x,I,le),o0(T0)[this.ptr]=this}T0.prototype=Object.create(Ci.prototype),T0.prototype.constructor=T0,T0.prototype.__class__=T0,T0.__cache__={},p.btVector3=T0,T0.prototype.length=T0.prototype.length=(function(){var x=this.ptr;return RS(x)}),T0.prototype.x=T0.prototype.x=(function(){var x=this.ptr;return PR(x)}),T0.prototype.y=T0.prototype.y=(function(){var x=this.ptr;return Vb(x)}),T0.prototype.z=T0.prototype.z=(function(){var x=this.ptr;return _E(x)}),T0.prototype.setX=T0.prototype.setX=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),G9(I,x)}),T0.prototype.setY=T0.prototype.setY=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),IT(I,x)}),T0.prototype.setZ=T0.prototype.setZ=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),q9(I,x)}),T0.prototype.setValue=T0.prototype.setValue=(function(x,I,le){var A=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),qR(A,x,I,le)}),T0.prototype.normalize=T0.prototype.normalize=(function(){var x=this.ptr;OT(x)}),T0.prototype.dot=T0.prototype.dot=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),ST(I,x)}),T0.prototype.op_mul=T0.prototype.op_mul=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(y9(I,x),T0)}),T0.prototype.op_add=T0.prototype.op_add=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(BE(I,x),T0)}),T0.prototype.op_sub=T0.prototype.op_sub=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(s7(I,x),T0)}),T0.prototype.__destroy__=T0.prototype.__destroy__=(function(){var x=this.ptr;CR(x)});function Ro(){throw"cannot construct a btVehicleRaycaster, no constructor in IDL"}Ro.prototype=Object.create(Ci.prototype),Ro.prototype.constructor=Ro,Ro.prototype.__class__=Ro,Ro.__cache__={},p.btVehicleRaycaster=Ro,Ro.prototype.__destroy__=Ro.prototype.__destroy__=(function(){var x=this.ptr;sT(x)});function Mi(){this.ptr=mT(),o0(Mi)[this.ptr]=this}Mi.prototype=Object.create(gi.prototype),Mi.prototype.constructor=Mi,Mi.prototype.__class__=Mi,Mi.__cache__={},p.btGhostObject=Mi,Mi.prototype.getNumOverlappingObjects=Mi.prototype.getNumOverlappingObjects=(function(){var x=this.ptr;return nA(x)}),Mi.prototype.getOverlappingObject=Mi.prototype.getOverlappingObject=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(WD(I,x),gi)}),Mi.prototype.setAnisotropicFriction=Mi.prototype.setAnisotropicFriction=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),RE(le,x,I)}),Mi.prototype.getCollisionShape=Mi.prototype.getCollisionShape=(function(){var x=this.ptr;return p0(sA(x),jn)}),Mi.prototype.setContactProcessingThreshold=Mi.prototype.setContactProcessingThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),fC(I,x)}),Mi.prototype.setActivationState=Mi.prototype.setActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),gN(I,x)}),Mi.prototype.forceActivationState=Mi.prototype.forceActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),bA(I,x)}),Mi.prototype.activate=Mi.prototype.activate=(function(x){var I=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),x===void 0){DE(I);return}pA(I,x)}),Mi.prototype.isActive=Mi.prototype.isActive=(function(){var x=this.ptr;return!!BT(x)}),Mi.prototype.isKinematicObject=Mi.prototype.isKinematicObject=(function(){var x=this.ptr;return!!b9(x)}),Mi.prototype.setRestitution=Mi.prototype.setRestitution=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),VR(I,x)}),Mi.prototype.setFriction=Mi.prototype.setFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),P7(I,x)}),Mi.prototype.setRollingFriction=Mi.prototype.setRollingFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Zw(I,x)}),Mi.prototype.getWorldTransform=Mi.prototype.getWorldTransform=(function(){var x=this.ptr;return p0(ob(x),An)}),Mi.prototype.getCollisionFlags=Mi.prototype.getCollisionFlags=(function(){var x=this.ptr;return YR(x)}),Mi.prototype.setCollisionFlags=Mi.prototype.setCollisionFlags=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),pw(I,x)}),Mi.prototype.setWorldTransform=Mi.prototype.setWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),O7(I,x)}),Mi.prototype.setCollisionShape=Mi.prototype.setCollisionShape=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),qb(I,x)}),Mi.prototype.setCcdMotionThreshold=Mi.prototype.setCcdMotionThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),OC(I,x)}),Mi.prototype.setCcdSweptSphereRadius=Mi.prototype.setCcdSweptSphereRadius=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),bb(I,x)}),Mi.prototype.__destroy__=Mi.prototype.__destroy__=(function(){var x=this.ptr;uC(x)});function Jn(){throw"cannot construct a btQuadWord, no constructor in IDL"}Jn.prototype=Object.create(Ci.prototype),Jn.prototype.constructor=Jn,Jn.prototype.__class__=Jn,Jn.__cache__={},p.btQuadWord=Jn,Jn.prototype.x=Jn.prototype.x=(function(){var x=this.ptr;return T9(x)}),Jn.prototype.y=Jn.prototype.y=(function(){var x=this.ptr;return eT(x)}),Jn.prototype.z=Jn.prototype.z=(function(){var x=this.ptr;return r9(x)}),Jn.prototype.w=Jn.prototype.w=(function(){var x=this.ptr;return lT(x)}),Jn.prototype.setX=Jn.prototype.setX=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),kT(I,x)}),Jn.prototype.setY=Jn.prototype.setY=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Q9(I,x)}),Jn.prototype.setZ=Jn.prototype.setZ=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),KE(I,x)}),Jn.prototype.setW=Jn.prototype.setW=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),zS(I,x)}),Jn.prototype.__destroy__=Jn.prototype.__destroy__=(function(){var x=this.ptr;vE(x)});function H2(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=TR(x),o0(H2)[this.ptr]=this}H2.prototype=Object.create(jn.prototype),H2.prototype.constructor=H2,H2.prototype.__class__=H2,H2.__cache__={},p.btCylinderShape=H2,H2.prototype.setMargin=H2.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),oS(I,x)}),H2.prototype.getMargin=H2.prototype.getMargin=(function(){var x=this.ptr;return ib(x)}),H2.prototype.setLocalScaling=H2.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),TC(I,x)}),H2.prototype.calculateLocalInertia=H2.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),Tw(le,x,I)}),H2.prototype.__destroy__=H2.prototype.__destroy__=(function(){var x=this.ptr;Ov(x)});function ro(){throw"cannot construct a btActionInterface, no constructor in IDL"}ro.prototype=Object.create(Ci.prototype),ro.prototype.constructor=ro,ro.prototype.__class__=ro,ro.__cache__={},p.btActionInterface=ro,ro.prototype.__destroy__=ro.prototype.__destroy__=(function(){var x=this.ptr;aR(x)});function kr(){throw"cannot construct a btMatrix3x3, no constructor in IDL"}kr.prototype=Object.create(Ci.prototype),kr.prototype.constructor=kr,kr.prototype.__class__=kr,kr.__cache__={},p.btMatrix3x3=kr,kr.prototype.setEulerZYX=kr.prototype.setEulerZYX=(function(x,I,le){var A=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),ZC(A,x,I,le)}),kr.prototype.getRotation=kr.prototype.getRotation=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),_w(I,x)}),kr.prototype.getRow=kr.prototype.getRow=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(FM(I,x),T0)}),kr.prototype.__destroy__=kr.prototype.__destroy__=(function(){var x=this.ptr;_7(x)});function Ws(){this.ptr=NA(),o0(Ws)[this.ptr]=this}Ws.prototype=Object.create(zs.prototype),Ws.prototype.constructor=Ws,Ws.prototype.__class__=Ws,Ws.__cache__={},p.ConcreteContactResultCallback=Ws,Ws.prototype.addSingleResult=Ws.prototype.addSingleResult=(function(x,I,le,A,ee,e,It){var Le=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),e&&typeof e=="object"&&(e=e.ptr),It&&typeof It=="object"&&(It=It.ptr),gE(Le,x,I,le,A,ee,e,It)}),Ws.prototype.__destroy__=Ws.prototype.__destroy__=(function(){var x=this.ptr;tE(x)});function Xr(x,I,le){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),le===void 0){this.ptr=Wb(x,I),o0(Xr)[this.ptr]=this;return}this.ptr=Hb(x,I,le),o0(Xr)[this.ptr]=this}Xr.prototype=Object.create(cs.prototype),Xr.prototype.constructor=Xr,Xr.prototype.__class__=Xr,Xr.__cache__={},p.btBvhTriangleMeshShape=Xr,Xr.prototype.setLocalScaling=Xr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),SS(I,x)}),Xr.prototype.calculateLocalInertia=Xr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),hT(le,x,I)}),Xr.prototype.__destroy__=Xr.prototype.__destroy__=(function(){var x=this.ptr;XN(x)});function Ao(){this.ptr=gw(),o0(Ao)[this.ptr]=this}Ao.prototype=Object.create(Ci.prototype),Ao.prototype.constructor=Ao,Ao.prototype.__class__=Ao,Ao.__cache__={},p.btDbvtBroadphase=Ao,Ao.prototype.__destroy__=Ao.prototype.__destroy__=(function(){var x=this.ptr;EE(x)});function r1(){throw"cannot construct a VoidPtr, no constructor in IDL"}r1.prototype=Object.create(Ci.prototype),r1.prototype.constructor=r1,r1.prototype.__class__=r1,r1.__cache__={},p.VoidPtr=r1,r1.prototype.__destroy__=r1.prototype.__destroy__=(function(){var x=this.ptr;DA(x)});function Eo(){this.ptr=oR(),o0(Eo)[this.ptr]=this}Eo.prototype=Object.create(Ci.prototype),Eo.prototype.constructor=Eo,Eo.prototype.__class__=Eo,Eo.__cache__={},p.btSequentialImpulseConstraintSolver=Eo,Eo.prototype.__destroy__=Eo.prototype.__destroy__=(function(){var x=this.ptr;HC(x)});function ui(){throw"cannot construct a btDispatcherInfo, no constructor in IDL"}ui.prototype=Object.create(Ci.prototype),ui.prototype.constructor=ui,ui.prototype.__class__=ui,ui.__cache__={},p.btDispatcherInfo=ui,ui.prototype.get_m_timeStep=ui.prototype.get_m_timeStep=(function(){var x=this.ptr;return ub(x)}),ui.prototype.set_m_timeStep=ui.prototype.set_m_timeStep=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),cE(I,x)}),ui.prototype.get_m_stepCount=ui.prototype.get_m_stepCount=(function(){var x=this.ptr;return GS(x)}),ui.prototype.set_m_stepCount=ui.prototype.set_m_stepCount=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),TN(I,x)}),ui.prototype.get_m_dispatchFunc=ui.prototype.get_m_dispatchFunc=(function(){var x=this.ptr;return qA(x)}),ui.prototype.set_m_dispatchFunc=ui.prototype.set_m_dispatchFunc=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),NR(I,x)}),ui.prototype.get_m_timeOfImpact=ui.prototype.get_m_timeOfImpact=(function(){var x=this.ptr;return e9(x)}),ui.prototype.set_m_timeOfImpact=ui.prototype.set_m_timeOfImpact=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),F9(I,x)}),ui.prototype.get_m_useContinuous=ui.prototype.get_m_useContinuous=(function(){var x=this.ptr;return!!oM(x)}),ui.prototype.set_m_useContinuous=ui.prototype.set_m_useContinuous=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),zv(I,x)}),ui.prototype.get_m_enableSatConvex=ui.prototype.get_m_enableSatConvex=(function(){var x=this.ptr;return!!yI(x)}),ui.prototype.set_m_enableSatConvex=ui.prototype.set_m_enableSatConvex=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),bC(I,x)}),ui.prototype.get_m_enableSPU=ui.prototype.get_m_enableSPU=(function(){var x=this.ptr;return!!Vv(x)}),ui.prototype.set_m_enableSPU=ui.prototype.set_m_enableSPU=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),a7(I,x)}),ui.prototype.get_m_useEpa=ui.prototype.get_m_useEpa=(function(){var x=this.ptr;return!!i7(x)}),ui.prototype.set_m_useEpa=ui.prototype.set_m_useEpa=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),nT(I,x)}),ui.prototype.get_m_allowedCcdPenetration=ui.prototype.get_m_allowedCcdPenetration=(function(){var x=this.ptr;return GC(x)}),ui.prototype.set_m_allowedCcdPenetration=ui.prototype.set_m_allowedCcdPenetration=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Xb(I,x)}),ui.prototype.get_m_useConvexConservativeDistanceUtil=ui.prototype.get_m_useConvexConservativeDistanceUtil=(function(){var x=this.ptr;return!!fM(x)}),ui.prototype.set_m_useConvexConservativeDistanceUtil=ui.prototype.set_m_useConvexConservativeDistanceUtil=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),XS(I,x)}),ui.prototype.get_m_convexConservativeDistanceThreshold=ui.prototype.get_m_convexConservativeDistanceThreshold=(function(){var x=this.ptr;return QC(x)}),ui.prototype.set_m_convexConservativeDistanceThreshold=ui.prototype.set_m_convexConservativeDistanceThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),sM(I,x)}),ui.prototype.__destroy__=ui.prototype.__destroy__=(function(){var x=this.ptr;eb(x)});function s1(){throw"cannot construct a btCollisionConfiguration, no constructor in IDL"}s1.prototype=Object.create(Ci.prototype),s1.prototype.constructor=s1,s1.prototype.__class__=s1,s1.__cache__={},p.btCollisionConfiguration=s1,s1.prototype.__destroy__=s1.prototype.__destroy__=(function(){var x=this.ptr;V9(x)});function Es(x,I,le,A,ee){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),le===void 0){this.ptr=bT(x,I),o0(Es)[this.ptr]=this;return}if(A===void 0){this.ptr=NT(x,I,le),o0(Es)[this.ptr]=this;return}if(ee===void 0){this.ptr=PT(x,I,le,A),o0(Es)[this.ptr]=this;return}this.ptr=LT(x,I,le,A,ee),o0(Es)[this.ptr]=this}Es.prototype=Object.create(Ci.prototype),Es.prototype.constructor=Es,Es.prototype.__class__=Es,Es.__cache__={},p.btAxisSweep3=Es,Es.prototype.__destroy__=Es.prototype.__destroy__=(function(){var x=this.ptr;Yv(x)});function Ri(){this.ptr=rS(),o0(Ri)[this.ptr]=this}Ri.prototype=Object.create(Mi.prototype),Ri.prototype.constructor=Ri,Ri.prototype.__class__=Ri,Ri.__cache__={},p.btPairCachingGhostObject=Ri,Ri.prototype.setAnisotropicFriction=Ri.prototype.setAnisotropicFriction=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),cM(le,x,I)}),Ri.prototype.getCollisionShape=Ri.prototype.getCollisionShape=(function(){var x=this.ptr;return p0(ow(x),jn)}),Ri.prototype.setContactProcessingThreshold=Ri.prototype.setContactProcessingThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),kw(I,x)}),Ri.prototype.setActivationState=Ri.prototype.setActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Xw(I,x)}),Ri.prototype.forceActivationState=Ri.prototype.forceActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),US(I,x)}),Ri.prototype.activate=Ri.prototype.activate=(function(x){var I=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),x===void 0){LS(I);return}kS(I,x)}),Ri.prototype.isActive=Ri.prototype.isActive=(function(){var x=this.ptr;return!!II(x)}),Ri.prototype.isKinematicObject=Ri.prototype.isKinematicObject=(function(){var x=this.ptr;return!!zE(x)}),Ri.prototype.setRestitution=Ri.prototype.setRestitution=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),PC(I,x)}),Ri.prototype.setFriction=Ri.prototype.setFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),iT(I,x)}),Ri.prototype.setRollingFriction=Ri.prototype.setRollingFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Yb(I,x)}),Ri.prototype.getWorldTransform=Ri.prototype.getWorldTransform=(function(){var x=this.ptr;return p0(L7(x),An)}),Ri.prototype.getCollisionFlags=Ri.prototype.getCollisionFlags=(function(){var x=this.ptr;return ID(x)}),Ri.prototype.setCollisionFlags=Ri.prototype.setCollisionFlags=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),yM(I,x)}),Ri.prototype.setWorldTransform=Ri.prototype.setWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Rb(I,x)}),Ri.prototype.setCollisionShape=Ri.prototype.setCollisionShape=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),$A(I,x)}),Ri.prototype.setCcdMotionThreshold=Ri.prototype.setCcdMotionThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),XR(I,x)}),Ri.prototype.setCcdSweptSphereRadius=Ri.prototype.setCcdSweptSphereRadius=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Cw(I,x)}),Ri.prototype.getNumOverlappingObjects=Ri.prototype.getNumOverlappingObjects=(function(){var x=this.ptr;return RT(x)}),Ri.prototype.getOverlappingObject=Ri.prototype.getOverlappingObject=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(Lb(I,x),gi)}),Ri.prototype.__destroy__=Ri.prototype.__destroy__=(function(){var x=this.ptr;IS(x)});function ii(x,I,le,A){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),A===void 0){this.ptr=LR(x,I,le),o0(ii)[this.ptr]=this;return}this.ptr=FR(x,I,le,A),o0(ii)[this.ptr]=this}ii.prototype=Object.create(Ci.prototype),ii.prototype.constructor=ii,ii.prototype.__class__=ii,ii.__cache__={},p.btRigidBodyConstructionInfo=ii,ii.prototype.get_m_linearDamping=ii.prototype.get_m_linearDamping=(function(){var x=this.ptr;return uN(x)}),ii.prototype.set_m_linearDamping=ii.prototype.set_m_linearDamping=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),PD(I,x)}),ii.prototype.get_m_angularDamping=ii.prototype.get_m_angularDamping=(function(){var x=this.ptr;return f9(x)}),ii.prototype.set_m_angularDamping=ii.prototype.set_m_angularDamping=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),VS(I,x)}),ii.prototype.get_m_friction=ii.prototype.get_m_friction=(function(){var x=this.ptr;return WS(x)}),ii.prototype.set_m_friction=ii.prototype.set_m_friction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),fE(I,x)}),ii.prototype.get_m_rollingFriction=ii.prototype.get_m_rollingFriction=(function(){var x=this.ptr;return XA(x)}),ii.prototype.set_m_rollingFriction=ii.prototype.set_m_rollingFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),UR(I,x)}),ii.prototype.get_m_restitution=ii.prototype.get_m_restitution=(function(){var x=this.ptr;return DN(x)}),ii.prototype.set_m_restitution=ii.prototype.set_m_restitution=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),tS(I,x)}),ii.prototype.get_m_linearSleepingThreshold=ii.prototype.get_m_linearSleepingThreshold=(function(){var x=this.ptr;return _N(x)}),ii.prototype.set_m_linearSleepingThreshold=ii.prototype.set_m_linearSleepingThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),oE(I,x)}),ii.prototype.get_m_angularSleepingThreshold=ii.prototype.get_m_angularSleepingThreshold=(function(){var x=this.ptr;return ZE(x)}),ii.prototype.set_m_angularSleepingThreshold=ii.prototype.set_m_angularSleepingThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),t7(I,x)}),ii.prototype.get_m_additionalDamping=ii.prototype.get_m_additionalDamping=(function(){var x=this.ptr;return!!xw(x)}),ii.prototype.set_m_additionalDamping=ii.prototype.set_m_additionalDamping=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),LD(I,x)}),ii.prototype.get_m_additionalDampingFactor=ii.prototype.get_m_additionalDampingFactor=(function(){var x=this.ptr;return PE(x)}),ii.prototype.set_m_additionalDampingFactor=ii.prototype.set_m_additionalDampingFactor=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),FC(I,x)}),ii.prototype.get_m_additionalLinearDampingThresholdSqr=ii.prototype.get_m_additionalLinearDampingThresholdSqr=(function(){var x=this.ptr;return FT(x)}),ii.prototype.set_m_additionalLinearDampingThresholdSqr=ii.prototype.set_m_additionalLinearDampingThresholdSqr=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),qC(I,x)}),ii.prototype.get_m_additionalAngularDampingThresholdSqr=ii.prototype.get_m_additionalAngularDampingThresholdSqr=(function(){var x=this.ptr;return Vw(x)}),ii.prototype.set_m_additionalAngularDampingThresholdSqr=ii.prototype.set_m_additionalAngularDampingThresholdSqr=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),PM(I,x)}),ii.prototype.get_m_additionalAngularDampingFactor=ii.prototype.get_m_additionalAngularDampingFactor=(function(){var x=this.ptr;return VC(x)}),ii.prototype.set_m_additionalAngularDampingFactor=ii.prototype.set_m_additionalAngularDampingFactor=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),xT(I,x)}),ii.prototype.__destroy__=ii.prototype.__destroy__=(function(){var x=this.ptr;kb(x)});function Vi(){throw"cannot construct a RaycastInfo, no constructor in IDL"}Vi.prototype=Object.create(Ci.prototype),Vi.prototype.constructor=Vi,Vi.prototype.__class__=Vi,Vi.__cache__={},p.RaycastInfo=Vi,Vi.prototype.get_m_contactNormalWS=Vi.prototype.get_m_contactNormalWS=(function(){var x=this.ptr;return p0(zT(x),T0)}),Vi.prototype.set_m_contactNormalWS=Vi.prototype.set_m_contactNormalWS=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),IA(I,x)}),Vi.prototype.get_m_contactPointWS=Vi.prototype.get_m_contactPointWS=(function(){var x=this.ptr;return p0(E7(x),T0)}),Vi.prototype.set_m_contactPointWS=Vi.prototype.set_m_contactPointWS=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),LA(I,x)}),Vi.prototype.get_m_suspensionLength=Vi.prototype.get_m_suspensionLength=(function(){var x=this.ptr;return $R(x)}),Vi.prototype.set_m_suspensionLength=Vi.prototype.set_m_suspensionLength=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),W7(I,x)}),Vi.prototype.get_m_hardPointWS=Vi.prototype.get_m_hardPointWS=(function(){var x=this.ptr;return p0(xE(x),T0)}),Vi.prototype.set_m_hardPointWS=Vi.prototype.set_m_hardPointWS=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),DD(I,x)}),Vi.prototype.get_m_wheelDirectionWS=Vi.prototype.get_m_wheelDirectionWS=(function(){var x=this.ptr;return p0(CE(x),T0)}),Vi.prototype.set_m_wheelDirectionWS=Vi.prototype.set_m_wheelDirectionWS=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),$v(I,x)}),Vi.prototype.get_m_wheelAxleWS=Vi.prototype.get_m_wheelAxleWS=(function(){var x=this.ptr;return p0(u9(x),T0)}),Vi.prototype.set_m_wheelAxleWS=Vi.prototype.set_m_wheelAxleWS=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),iE(I,x)}),Vi.prototype.get_m_isInContact=Vi.prototype.get_m_isInContact=(function(){var x=this.ptr;return!!eR(x)}),Vi.prototype.set_m_isInContact=Vi.prototype.set_m_isInContact=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),pS(I,x)}),Vi.prototype.get_m_groundObject=Vi.prototype.get_m_groundObject=(function(){var x=this.ptr;return bw(x)}),Vi.prototype.set_m_groundObject=Vi.prototype.set_m_groundObject=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),fA(I,x)}),Vi.prototype.__destroy__=Vi.prototype.__destroy__=(function(){var x=this.ptr;wR(x)});function sn(){throw"cannot construct a btManifoldPoint, no constructor in IDL"}sn.prototype=Object.create(Ci.prototype),sn.prototype.constructor=sn,sn.prototype.__class__=sn,sn.__cache__={},p.btManifoldPoint=sn,sn.prototype.getPositionWorldOnA=sn.prototype.getPositionWorldOnA=(function(){var x=this.ptr;return p0(vN(x),T0)}),sn.prototype.getPositionWorldOnB=sn.prototype.getPositionWorldOnB=(function(){var x=this.ptr;return p0(hA(x),T0)}),sn.prototype.getDistance=sn.prototype.getDistance=(function(){var x=this.ptr;return nI(x)}),sn.prototype.get_m_localPointA=sn.prototype.get_m_localPointA=(function(){var x=this.ptr;return p0(lN(x),T0)}),sn.prototype.set_m_localPointA=sn.prototype.set_m_localPointA=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),yT(I,x)}),sn.prototype.get_m_localPointB=sn.prototype.get_m_localPointB=(function(){var x=this.ptr;return p0(gD(x),T0)}),sn.prototype.set_m_localPointB=sn.prototype.set_m_localPointB=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),j9(I,x)}),sn.prototype.get_m_positionWorldOnB=sn.prototype.get_m_positionWorldOnB=(function(){var x=this.ptr;return p0(Sw(x),T0)}),sn.prototype.set_m_positionWorldOnB=sn.prototype.set_m_positionWorldOnB=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),H9(I,x)}),sn.prototype.get_m_positionWorldOnA=sn.prototype.get_m_positionWorldOnA=(function(){var x=this.ptr;return p0(dA(x),T0)}),sn.prototype.set_m_positionWorldOnA=sn.prototype.set_m_positionWorldOnA=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),dD(I,x)}),sn.prototype.get_m_normalWorldOnB=sn.prototype.get_m_normalWorldOnB=(function(){var x=this.ptr;return p0(qN(x),T0)}),sn.prototype.set_m_normalWorldOnB=sn.prototype.set_m_normalWorldOnB=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),PN(I,x)}),sn.prototype.__destroy__=sn.prototype.__destroy__=(function(){var x=this.ptr;BR(x)});function Hs(){throw"cannot construct a btBroadphaseInterface, no constructor in IDL"}Hs.prototype=Object.create(Ci.prototype),Hs.prototype.constructor=Hs,Hs.prototype.__class__=Hs,Hs.__cache__={},p.btBroadphaseInterface=Hs,Hs.prototype.__destroy__=Hs.prototype.__destroy__=(function(){var x=this.ptr;dE(x)});function Ni(x,I,le,A){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),this.ptr=jv(x,I,le,A),o0(Ni)[this.ptr]=this}Ni.prototype=Object.create(_n.prototype),Ni.prototype.constructor=Ni,Ni.prototype.__class__=Ni,Ni.__cache__={},p.btDiscreteDynamicsWorld=Ni,Ni.prototype.setGravity=Ni.prototype.setGravity=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Kb(I,x)}),Ni.prototype.getGravity=Ni.prototype.getGravity=(function(){var x=this.ptr;return p0(pE(x),T0)}),Ni.prototype.addRigidBody=Ni.prototype.addRigidBody=(function(x,I,le){var A=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),I===void 0){zM(A,x);return}if(le===void 0){_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_2(A,x,I);return}VM(A,x,I,le)}),Ni.prototype.removeRigidBody=Ni.prototype.removeRigidBody=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),G7(I,x)}),Ni.prototype.addConstraint=Ni.prototype.addConstraint=(function(x,I){var le=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),I===void 0){e7(le,x);return}JS(le,x,I)}),Ni.prototype.removeConstraint=Ni.prototype.removeConstraint=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),KN(I,x)}),Ni.prototype.stepSimulation=Ni.prototype.stepSimulation=(function(x,I,le){var A=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),I===void 0?m9(A,x):le===void 0?x9(A,x,I):g9(A,x,I,le)}),Ni.prototype.getDispatcher=Ni.prototype.getDispatcher=(function(){var x=this.ptr;return p0(yR(x),Mr)}),Ni.prototype.rayTest=Ni.prototype.rayTest=(function(x,I,le){var A=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),AI(A,x,I,le)}),Ni.prototype.getPairCache=Ni.prototype.getPairCache=(function(){var x=this.ptr;return p0(ab(x),hs)}),Ni.prototype.getDispatchInfo=Ni.prototype.getDispatchInfo=(function(){var x=this.ptr;return p0(iC(x),ui)}),Ni.prototype.addCollisionObject=Ni.prototype.addCollisionObject=(function(x,I,le){var A=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),I===void 0){gb(A,x);return}if(le===void 0){xb(A,x,I);return}yb(A,x,I,le)}),Ni.prototype.getBroadphase=Ni.prototype.getBroadphase=(function(){var x=this.ptr;return p0(H7(x),Hs)}),Ni.prototype.convexSweepTest=Ni.prototype.convexSweepTest=(function(x,I,le,A,ee){var e=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),dI(e,x,I,le,A,ee)}),Ni.prototype.contactPairTest=Ni.prototype.contactPairTest=(function(x,I,le){var A=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),xD(A,x,I,le)}),Ni.prototype.contactTest=Ni.prototype.contactTest=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),pT(le,x,I)}),Ni.prototype.addAction=Ni.prototype.addAction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),j7(I,x)}),Ni.prototype.removeAction=Ni.prototype.removeAction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),jM(I,x)}),Ni.prototype.getSolverInfo=Ni.prototype.getSolverInfo=(function(){var x=this.ptr;return p0(sS(x),nr)}),Ni.prototype.__destroy__=Ni.prototype.__destroy__=(function(){var x=this.ptr;dM(x)});function $r(x,I){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),I===void 0){this.ptr=ES(x),o0($r)[this.ptr]=this;return}this.ptr=AS(x,I),o0($r)[this.ptr]=this}$r.prototype=Object.create(as.prototype),$r.prototype.constructor=$r,$r.prototype.__class__=$r,$r.__cache__={},p.btConvexTriangleMeshShape=$r,$r.prototype.setLocalScaling=$r.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),K7(I,x)}),$r.prototype.calculateLocalInertia=$r.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),rb(le,x,I)}),$r.prototype.__destroy__=$r.prototype.__destroy__=(function(){var x=this.ptr;Sb(x)});function Dn(x,I,le,A){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),le===void 0){this.ptr=Db(x,I),o0(Dn)[this.ptr]=this;return}if(A===void 0){this.ptr=_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_3(x,I,le),o0(Dn)[this.ptr]=this;return}this.ptr=Nb(x,I,le,A),o0(Dn)[this.ptr]=this}Dn.prototype=Object.create(L2.prototype),Dn.prototype.constructor=Dn,Dn.prototype.__class__=Dn,Dn.__cache__={},p.btPoint2PointConstraint=Dn,Dn.prototype.setPivotA=Dn.prototype.setPivotA=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Bb(I,x)}),Dn.prototype.setPivotB=Dn.prototype.setPivotB=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),iI(I,x)}),Dn.prototype.getPivotInA=Dn.prototype.getPivotInA=(function(){var x=this.ptr;return p0(fR(x),T0)}),Dn.prototype.getPivotInB=Dn.prototype.getPivotInB=(function(){var x=this.ptr;return p0(QE(x),T0)}),Dn.prototype.enableFeedback=Dn.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),AT(I,x)}),Dn.prototype.getBreakingImpulseThreshold=Dn.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return iD(x)}),Dn.prototype.setBreakingImpulseThreshold=Dn.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),TS(I,x)}),Dn.prototype.get_m_setting=Dn.prototype.get_m_setting=(function(){var x=this.ptr;return p0(sR(x),T2)}),Dn.prototype.set_m_setting=Dn.prototype.set_m_setting=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Jw(I,x)}),Dn.prototype.__destroy__=Dn.prototype.__destroy__=(function(){var x=this.ptr;ZS(x)});function e2(x,I,le,A,ee){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),A===void 0){this.ptr=ZD(x,I,le),o0(e2)[this.ptr]=this;return}if(ee===void 0){this.ptr=_emscripten_bind_btSliderConstraint_btSliderConstraint_4(x,I,le,A),o0(e2)[this.ptr]=this;return}this.ptr=KD(x,I,le,A,ee),o0(e2)[this.ptr]=this}e2.prototype=Object.create(L2.prototype),e2.prototype.constructor=e2,e2.prototype.__class__=e2,e2.__cache__={},p.btSliderConstraint=e2,e2.prototype.setLowerLinLimit=e2.prototype.setLowerLinLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),yD(I,x)}),e2.prototype.setUpperLinLimit=e2.prototype.setUpperLinLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),YT(I,x)}),e2.prototype.setLowerAngLimit=e2.prototype.setLowerAngLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),PA(I,x)}),e2.prototype.setUpperAngLimit=e2.prototype.setUpperAngLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),SA(I,x)}),e2.prototype.enableFeedback=e2.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),oI(I,x)}),e2.prototype.getBreakingImpulseThreshold=e2.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return kC(x)}),e2.prototype.setBreakingImpulseThreshold=e2.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),N7(I,x)}),e2.prototype.__destroy__=e2.prototype.__destroy__=(function(){var x=this.ptr;eI(x)});function hn(x,I,le,A){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),le===void 0){this.ptr=KT(x,I),o0(hn)[this.ptr]=this;return}if(A===void 0){this.ptr=_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_3(x,I,le),o0(hn)[this.ptr]=this;return}this.ptr=QT(x,I,le,A),o0(hn)[this.ptr]=this}hn.prototype=Object.create(L2.prototype),hn.prototype.constructor=hn,hn.prototype.__class__=hn,hn.__cache__={},p.btConeTwistConstraint=hn,hn.prototype.setLimit=hn.prototype.setLimit=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),iN(le,x,I)}),hn.prototype.setAngularOnly=hn.prototype.setAngularOnly=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),zR(I,x)}),hn.prototype.setDamping=hn.prototype.setDamping=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),nS(I,x)}),hn.prototype.enableMotor=hn.prototype.enableMotor=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),NC(I,x)}),hn.prototype.setMaxMotorImpulse=hn.prototype.setMaxMotorImpulse=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),dw(I,x)}),hn.prototype.setMaxMotorImpulseNormalized=hn.prototype.setMaxMotorImpulseNormalized=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Y7(I,x)}),hn.prototype.setMotorTarget=hn.prototype.setMotorTarget=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),wA(I,x)}),hn.prototype.setMotorTargetInConstraintSpace=hn.prototype.setMotorTargetInConstraintSpace=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),aE(I,x)}),hn.prototype.enableFeedback=hn.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),qT(I,x)}),hn.prototype.getBreakingImpulseThreshold=hn.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return kN(x)}),hn.prototype.setBreakingImpulseThreshold=hn.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),JM(I,x)}),hn.prototype.__destroy__=hn.prototype.__destroy__=(function(){var x=this.ptr;yE(x)});function so(x){if(x&&typeof x=="object"&&(x=x.ptr),x===void 0){this.ptr=IC(),o0(so)[this.ptr]=this;return}this.ptr=YE(x),o0(so)[this.ptr]=this}so.prototype=Object.create(Ci.prototype),so.prototype.constructor=so,so.prototype.__class__=so,so.__cache__={},p.btDefaultCollisionConfiguration=so,so.prototype.__destroy__=so.prototype.__destroy__=(function(){var x=this.ptr;HR(x)});function ls(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=yA(x,I),o0(ls)[this.ptr]=this}ls.prototype=Object.create(Lr.prototype),ls.prototype.constructor=ls,ls.prototype.__class__=ls,ls.__cache__={},p.btConeShapeZ=ls,ls.prototype.setLocalScaling=ls.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),qw(I,x)}),ls.prototype.calculateLocalInertia=ls.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),M7(le,x,I)}),ls.prototype.__destroy__=ls.prototype.__destroy__=(function(){var x=this.ptr;_I(x)});function us(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=jT(x,I),o0(us)[this.ptr]=this}us.prototype=Object.create(Lr.prototype),us.prototype.constructor=us,us.prototype.__class__=us,us.__cache__={},p.btConeShapeX=us,us.prototype.setLocalScaling=us.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),nC(I,x)}),us.prototype.calculateLocalInertia=us.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),Pb(le,x,I)}),us.prototype.__destroy__=us.prototype.__destroy__=(function(){var x=this.ptr;AC(x)});function fs(x,I){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),x===void 0){this.ptr=uD(),o0(fs)[this.ptr]=this;return}if(I===void 0){this.ptr=fD(x),o0(fs)[this.ptr]=this;return}this.ptr=pD(x,I),o0(fs)[this.ptr]=this}fs.prototype=Object.create(Mo.prototype),fs.prototype.constructor=fs,fs.prototype.__class__=fs,fs.__cache__={},p.btTriangleMesh=fs,fs.prototype.addTriangle=fs.prototype.addTriangle=(function(x,I,le,A){var ee=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),A===void 0){zD(ee,x,I,le);return}HD(ee,x,I,le,A)}),fs.prototype.__destroy__=fs.prototype.__destroy__=(function(){var x=this.ptr;ZA(x)});function j2(){this.ptr=oC(),o0(j2)[this.ptr]=this}j2.prototype=Object.create(jn.prototype),j2.prototype.constructor=j2,j2.prototype.__class__=j2,j2.__cache__={},p.btConvexHullShape=j2,j2.prototype.addPoint=j2.prototype.addPoint=(function(x,I){var le=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),I===void 0){eD(le,x);return}tD(le,x,I)}),j2.prototype.setMargin=j2.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),C7(I,x)}),j2.prototype.getMargin=j2.prototype.getMargin=(function(){var x=this.ptr;return h9(x)}),j2.prototype.setLocalScaling=j2.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),JC(I,x)}),j2.prototype.calculateLocalInertia=j2.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),A7(le,x,I)}),j2.prototype.__destroy__=j2.prototype.__destroy__=(function(){var x=this.ptr;z7(x)});function q2(){this.ptr=UE(),o0(q2)[this.ptr]=this}q2.prototype=Object.create(Ci.prototype),q2.prototype.constructor=q2,q2.prototype.__class__=q2,q2.__cache__={},p.btPersistentManifold=q2,q2.prototype.getBody0=q2.prototype.getBody0=(function(){var x=this.ptr;return p0(HT(x),gi)}),q2.prototype.getBody1=q2.prototype.getBody1=(function(){var x=this.ptr;return p0(uS(x),gi)}),q2.prototype.getNumContacts=q2.prototype.getNumContacts=(function(){var x=this.ptr;return uT(x)}),q2.prototype.getContactPoint=q2.prototype.getContactPoint=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(cA(I,x),sn)}),q2.prototype.__destroy__=q2.prototype.__destroy__=(function(){var x=this.ptr;u7(x)});function fr(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=lS(x),o0(fr)[this.ptr]=this}fr.prototype=Object.create(jn.prototype),fr.prototype.constructor=fr,fr.prototype.__class__=fr,fr.__cache__={},p.btBoxShape=fr,fr.prototype.setMargin=fr.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),LM(I,x)}),fr.prototype.getMargin=fr.prototype.getMargin=(function(){var x=this.ptr;return DS(x)}),fr.prototype.setLocalScaling=fr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),pI(I,x)}),fr.prototype.calculateLocalInertia=fr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),pb(le,x,I)}),fr.prototype.__destroy__=fr.prototype.__destroy__=(function(){var x=this.ptr;aA(x)});function ps(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=O9(x),o0(ps)[this.ptr]=this}ps.prototype=Object.create(Mr.prototype),ps.prototype.constructor=ps,ps.prototype.__class__=ps,ps.__cache__={},p.btCollisionDispatcher=ps,ps.prototype.getNumManifolds=ps.prototype.getNumManifolds=(function(){var x=this.ptr;return rT(x)}),ps.prototype.getManifoldByIndexInternal=ps.prototype.getManifoldByIndexInternal=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(D7(I,x),q2)}),ps.prototype.__destroy__=ps.prototype.__destroy__=(function(){var x=this.ptr;p9(x)});function vn(){this.ptr=wD(),o0(vn)[this.ptr]=this}vn.prototype=Object.create(Ci.prototype),vn.prototype.constructor=vn,vn.prototype.__class__=vn,vn.__cache__={},p.btVehicleTuning=vn,vn.prototype.get_m_suspensionStiffness=vn.prototype.get_m_suspensionStiffness=(function(){var x=this.ptr;return IN(x)}),vn.prototype.set_m_suspensionStiffness=vn.prototype.set_m_suspensionStiffness=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Zb(I,x)}),vn.prototype.get_m_suspensionCompression=vn.prototype.get_m_suspensionCompression=(function(){var x=this.ptr;return hM(x)}),vn.prototype.set_m_suspensionCompression=vn.prototype.set_m_suspensionCompression=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),fb(I,x)}),vn.prototype.get_m_suspensionDamping=vn.prototype.get_m_suspensionDamping=(function(){var x=this.ptr;return mE(x)}),vn.prototype.set_m_suspensionDamping=vn.prototype.set_m_suspensionDamping=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),sE(I,x)}),vn.prototype.get_m_maxSuspensionTravelCm=vn.prototype.get_m_maxSuspensionTravelCm=(function(){var x=this.ptr;return JN(x)}),vn.prototype.set_m_maxSuspensionTravelCm=vn.prototype.set_m_maxSuspensionTravelCm=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Kw(I,x)}),vn.prototype.get_m_frictionSlip=vn.prototype.get_m_frictionSlip=(function(){var x=this.ptr;return PI(x)}),vn.prototype.set_m_frictionSlip=vn.prototype.set_m_frictionSlip=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Hv(I,x)}),vn.prototype.get_m_maxSuspensionForce=vn.prototype.get_m_maxSuspensionForce=(function(){var x=this.ptr;return zb(x)}),vn.prototype.set_m_maxSuspensionForce=vn.prototype.set_m_maxSuspensionForce=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),qE(I,x)});function Xn(x){if(x&&typeof x=="object"&&(x=x.ptr),x===void 0){this.ptr=eM(),o0(Xn)[this.ptr]=this;return}this.ptr=tM(x),o0(Xn)[this.ptr]=this}Xn.prototype=Object.create(jn.prototype),Xn.prototype.constructor=Xn,Xn.prototype.__class__=Xn,Xn.__cache__={},p.btCompoundShape=Xn,Xn.prototype.addChildShape=Xn.prototype.addChildShape=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),pM(le,x,I)}),Xn.prototype.removeChildShapeByIndex=Xn.prototype.removeChildShapeByIndex=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),wS(I,x)}),Xn.prototype.getNumChildShapes=Xn.prototype.getNumChildShapes=(function(){var x=this.ptr;return dT(x)}),Xn.prototype.getChildShape=Xn.prototype.getChildShape=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(gC(I,x),jn)}),Xn.prototype.setMargin=Xn.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),hR(I,x)}),Xn.prototype.getMargin=Xn.prototype.getMargin=(function(){var x=this.ptr;return Xv(x)}),Xn.prototype.setLocalScaling=Xn.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),yw(I,x)}),Xn.prototype.calculateLocalInertia=Xn.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),wC(le,x,I)}),Xn.prototype.__destroy__=Xn.prototype.__destroy__=(function(){var x=this.ptr;Fw(x)});function va(){throw"cannot construct a btCollisionObjectWrapper, no constructor in IDL"}va.prototype=Object.create(Ci.prototype),va.prototype.constructor=va,va.prototype.__class__=va,va.__cache__={},p.btCollisionObjectWrapper=va;function $i(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=gT(x,I),o0($i)[this.ptr]=this}$i.prototype=Object.create(_2.prototype),$i.prototype.constructor=$i,$i.prototype.__class__=$i,$i.__cache__={},p.ClosestConvexResultCallback=$i,$i.prototype.hasHit=$i.prototype.hasHit=(function(){var x=this.ptr;return!!UD(x)}),$i.prototype.get_m_convexFromWorld=$i.prototype.get_m_convexFromWorld=(function(){var x=this.ptr;return p0(aT(x),T0)}),$i.prototype.set_m_convexFromWorld=$i.prototype.set_m_convexFromWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),MA(I,x)}),$i.prototype.get_m_convexToWorld=$i.prototype.get_m_convexToWorld=(function(){var x=this.ptr;return p0(Hw(x),T0)}),$i.prototype.set_m_convexToWorld=$i.prototype.set_m_convexToWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Ub(I,x)}),$i.prototype.get_m_hitNormalWorld=$i.prototype.get_m_hitNormalWorld=(function(){var x=this.ptr;return p0(kM(x),T0)}),$i.prototype.set_m_hitNormalWorld=$i.prototype.set_m_hitNormalWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),A9(I,x)}),$i.prototype.get_m_hitPointWorld=$i.prototype.get_m_hitPointWorld=(function(){var x=this.ptr;return p0(hE(x),T0)}),$i.prototype.set_m_hitPointWorld=$i.prototype.set_m_hitPointWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),bS(I,x)}),$i.prototype.get_m_collisionFilterGroup=$i.prototype.get_m_collisionFilterGroup=(function(){var x=this.ptr;return iR(x)}),$i.prototype.set_m_collisionFilterGroup=$i.prototype.set_m_collisionFilterGroup=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),QM(I,x)}),$i.prototype.get_m_collisionFilterMask=$i.prototype.get_m_collisionFilterMask=(function(){var x=this.ptr;return gR(x)}),$i.prototype.set_m_collisionFilterMask=$i.prototype.set_m_collisionFilterMask=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),nN(I,x)}),$i.prototype.get_m_closestHitFraction=$i.prototype.get_m_closestHitFraction=(function(){var x=this.ptr;return $T(x)}),$i.prototype.set_m_closestHitFraction=$i.prototype.set_m_closestHitFraction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),YN(I,x)}),$i.prototype.__destroy__=$i.prototype.__destroy__=(function(){var x=this.ptr;dR(x)});function X2(x,I){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),x===void 0){this.ptr=dC(),o0(X2)[this.ptr]=this;return}if(I===void 0){this.ptr=mC(x),o0(X2)[this.ptr]=this;return}this.ptr=hC(x,I),o0(X2)[this.ptr]=this}X2.prototype=Object.create(qr.prototype),X2.prototype.constructor=X2,X2.prototype.__class__=X2,X2.__cache__={},p.btDefaultMotionState=X2,X2.prototype.getWorldTransform=X2.prototype.getWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),d9(I,x)}),X2.prototype.setWorldTransform=X2.prototype.setWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),cR(I,x)}),X2.prototype.get_m_graphicsWorldTrans=X2.prototype.get_m_graphicsWorldTrans=(function(){var x=this.ptr;return p0(iS(x),An)}),X2.prototype.set_m_graphicsWorldTrans=X2.prototype.set_m_graphicsWorldTrans=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),GR(I,x)}),X2.prototype.__destroy__=X2.prototype.__destroy__=(function(){var x=this.ptr;OS(x)});function Yi(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=GE(x,I),o0(Yi)[this.ptr]=this}Yi.prototype=Object.create(h2.prototype),Yi.prototype.constructor=Yi,Yi.prototype.__class__=Yi,Yi.__cache__={},p.ClosestRayResultCallback=Yi,Yi.prototype.hasHit=Yi.prototype.hasHit=(function(){var x=this.ptr;return!!uM(x)}),Yi.prototype.get_m_rayFromWorld=Yi.prototype.get_m_rayFromWorld=(function(){var x=this.ptr;return p0(FA(x),T0)}),Yi.prototype.set_m_rayFromWorld=Yi.prototype.set_m_rayFromWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),SE(I,x)}),Yi.prototype.get_m_rayToWorld=Yi.prototype.get_m_rayToWorld=(function(){var x=this.ptr;return p0($N(x),T0)}),Yi.prototype.set_m_rayToWorld=Yi.prototype.set_m_rayToWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),RD(I,x)}),Yi.prototype.get_m_hitNormalWorld=Yi.prototype.get_m_hitNormalWorld=(function(){var x=this.ptr;return p0(lD(x),T0)}),Yi.prototype.set_m_hitNormalWorld=Yi.prototype.set_m_hitNormalWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),cI(I,x)}),Yi.prototype.get_m_hitPointWorld=Yi.prototype.get_m_hitPointWorld=(function(){var x=this.ptr;return p0(Kv(x),T0)}),Yi.prototype.set_m_hitPointWorld=Yi.prototype.set_m_hitPointWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),x7(I,x)}),Yi.prototype.get_m_collisionFilterGroup=Yi.prototype.get_m_collisionFilterGroup=(function(){var x=this.ptr;return AD(x)}),Yi.prototype.set_m_collisionFilterGroup=Yi.prototype.set_m_collisionFilterGroup=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),ET(I,x)}),Yi.prototype.get_m_collisionFilterMask=Yi.prototype.get_m_collisionFilterMask=(function(){var x=this.ptr;return Uw(x)}),Yi.prototype.set_m_collisionFilterMask=Yi.prototype.set_m_collisionFilterMask=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),WE(I,x)}),Yi.prototype.get_m_collisionObject=Yi.prototype.get_m_collisionObject=(function(){var x=this.ptr;return p0(VD(x),gi)}),Yi.prototype.set_m_collisionObject=Yi.prototype.set_m_collisionObject=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),fS(I,x)}),Yi.prototype.__destroy__=Yi.prototype.__destroy__=(function(){var x=this.ptr;oT(x)});function on(x,I,le,A,ee){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),A===void 0){this.ptr=_T(x,I,le),o0(on)[this.ptr]=this;return}if(ee===void 0){this.ptr=_emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_4(x,I,le,A),o0(on)[this.ptr]=this;return}this.ptr=IR(x,I,le,A,ee),o0(on)[this.ptr]=this}on.prototype=Object.create(L2.prototype),on.prototype.constructor=on,on.prototype.__class__=on,on.__cache__={},p.btGeneric6DofSpring2Constraint=on,on.prototype.setLinearLowerLimit=on.prototype.setLinearLowerLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),kD(I,x)}),on.prototype.setLinearUpperLimit=on.prototype.setLinearUpperLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),tR(I,x)}),on.prototype.setAngularLowerLimit=on.prototype.setAngularLowerLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),nE(I,x)}),on.prototype.setAngularUpperLimit=on.prototype.setAngularUpperLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),B9(I,x)}),on.prototype.enableSpring=on.prototype.enableSpring=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),MS(le,x,I)}),on.prototype.setStiffness=on.prototype.setStiffness=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),WC(le,x,I)}),on.prototype.setDamping=on.prototype.setDamping=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),xA(le,x,I)}),on.prototype.getTranslationalLimitMotor=on.prototype.getTranslationalLimitMotor=(function(){var x=this.ptr;return p0(mb(x),ds)}),on.prototype.getRotationalLimitMotor=on.prototype.getRotationalLimitMotor=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(L9(I,x),ms)}),on.prototype.enableFeedback=on.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),fN(I,x)}),on.prototype.getBreakingImpulseThreshold=on.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return c9(x)}),on.prototype.setBreakingImpulseThreshold=on.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),rC(I,x)}),on.prototype.__destroy__=on.prototype.__destroy__=(function(){var x=this.ptr;hb(x)});function pr(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=HS(x,I),o0(pr)[this.ptr]=this}pr.prototype=Object.create(W2.prototype),pr.prototype.constructor=pr,pr.prototype.__class__=pr,pr.__cache__={},p.btCapsuleShapeX=pr,pr.prototype.setMargin=pr.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),zC(I,x)}),pr.prototype.getMargin=pr.prototype.getMargin=(function(){var x=this.ptr;return qv(x)}),pr.prototype.setLocalScaling=pr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),xM(I,x)}),pr.prototype.calculateLocalInertia=pr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),y7(le,x,I)}),pr.prototype.__destroy__=pr.prototype.__destroy__=(function(){var x=this.ptr;KR(x)});function Rn(x,I,le,A){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),this.ptr=HM(x,I,le,A),o0(Rn)[this.ptr]=this}Rn.prototype=Object.create(Jn.prototype),Rn.prototype.constructor=Rn,Rn.prototype.__class__=Rn,Rn.__cache__={},p.btQuaternion=Rn,Rn.prototype.setValue=Rn.prototype.setValue=(function(x,I,le,A){var ee=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),$9(ee,x,I,le,A)}),Rn.prototype.normalize=Rn.prototype.normalize=(function(){var x=this.ptr;Ww(x)}),Rn.prototype.x=Rn.prototype.x=(function(){var x=this.ptr;return JT(x)}),Rn.prototype.y=Rn.prototype.y=(function(){var x=this.ptr;return $M(x)}),Rn.prototype.z=Rn.prototype.z=(function(){var x=this.ptr;return sC(x)}),Rn.prototype.w=Rn.prototype.w=(function(){var x=this.ptr;return wM(x)}),Rn.prototype.setX=Rn.prototype.setX=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Qv(I,x)}),Rn.prototype.setY=Rn.prototype.setY=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),UN(I,x)}),Rn.prototype.setZ=Rn.prototype.setZ=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),t9(I,x)}),Rn.prototype.setW=Rn.prototype.setW=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),l9(I,x)}),Rn.prototype.__destroy__=Rn.prototype.__destroy__=(function(){var x=this.ptr;sb(x)});function _r(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=YD(x,I),o0(_r)[this.ptr]=this}_r.prototype=Object.create(W2.prototype),_r.prototype.constructor=_r,_r.prototype.__class__=_r,_r.__cache__={},p.btCapsuleShapeZ=_r,_r.prototype.setMargin=_r.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),z9(I,x)}),_r.prototype.getMargin=_r.prototype.getMargin=(function(){var x=this.ptr;return bM(x)}),_r.prototype.setLocalScaling=_r.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),XT(I,x)}),_r.prototype.calculateLocalInertia=_r.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),lb(le,x,I)}),_r.prototype.__destroy__=_r.prototype.__destroy__=(function(){var x=this.ptr;OD(x)});function bo(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=rR(x),o0(bo)[this.ptr]=this}bo.prototype=Object.create(Ro.prototype),bo.prototype.constructor=bo,bo.prototype.__class__=bo,bo.__cache__={},p.btDefaultVehicleRaycaster=bo,bo.prototype.__destroy__=bo.prototype.__destroy__=(function(){var x=this.ptr;eA(x)});function P0(){throw"cannot construct a btWheelInfo, no constructor in IDL"}P0.prototype=Object.create(Ci.prototype),P0.prototype.constructor=P0,P0.prototype.__class__=P0,P0.__cache__={},p.btWheelInfo=P0,P0.prototype.get_m_suspensionStiffness=P0.prototype.get_m_suspensionStiffness=(function(){var x=this.ptr;return a9(x)}),P0.prototype.set_m_suspensionStiffness=P0.prototype.set_m_suspensionStiffness=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),vb(I,x)}),P0.prototype.get_m_frictionSlip=P0.prototype.get_m_frictionSlip=(function(){var x=this.ptr;return jw(x)}),P0.prototype.set_m_frictionSlip=P0.prototype.set_m_frictionSlip=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),_D(I,x)}),P0.prototype.get_m_engineForce=P0.prototype.get_m_engineForce=(function(){var x=this.ptr;return $S(x)}),P0.prototype.set_m_engineForce=P0.prototype.set_m_engineForce=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),hw(I,x)}),P0.prototype.get_m_rollInfluence=P0.prototype.get_m_rollInfluence=(function(){var x=this.ptr;return yS(x)}),P0.prototype.set_m_rollInfluence=P0.prototype.set_m_rollInfluence=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),RA(I,x)}),P0.prototype.get_m_suspensionRestLength1=P0.prototype.get_m_suspensionRestLength1=(function(){var x=this.ptr;return o9(x)}),P0.prototype.set_m_suspensionRestLength1=P0.prototype.set_m_suspensionRestLength1=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),XD(I,x)}),P0.prototype.get_m_wheelsRadius=P0.prototype.get_m_wheelsRadius=(function(){var x=this.ptr;return TD(x)}),P0.prototype.set_m_wheelsRadius=P0.prototype.set_m_wheelsRadius=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),o7(I,x)}),P0.prototype.get_m_wheelsDampingCompression=P0.prototype.get_m_wheelsDampingCompression=(function(){var x=this.ptr;return BD(x)}),P0.prototype.set_m_wheelsDampingCompression=P0.prototype.set_m_wheelsDampingCompression=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),c7(I,x)}),P0.prototype.get_m_wheelsDampingRelaxation=P0.prototype.get_m_wheelsDampingRelaxation=(function(){var x=this.ptr;return mD(x)}),P0.prototype.set_m_wheelsDampingRelaxation=P0.prototype.set_m_wheelsDampingRelaxation=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),ED(I,x)}),P0.prototype.get_m_steering=P0.prototype.get_m_steering=(function(){var x=this.ptr;return GA(x)}),P0.prototype.set_m_steering=P0.prototype.set_m_steering=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Mb(I,x)}),P0.prototype.get_m_maxSuspensionForce=P0.prototype.get_m_maxSuspensionForce=(function(){var x=this.ptr;return GD(x)}),P0.prototype.set_m_maxSuspensionForce=P0.prototype.set_m_maxSuspensionForce=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),aC(I,x)}),P0.prototype.get_m_maxSuspensionTravelCm=P0.prototype.get_m_maxSuspensionTravelCm=(function(){var x=this.ptr;return vR(x)}),P0.prototype.set_m_maxSuspensionTravelCm=P0.prototype.set_m_maxSuspensionTravelCm=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),tA(I,x)}),P0.prototype.get_m_wheelsSuspensionForce=P0.prototype.get_m_wheelsSuspensionForce=(function(){var x=this.ptr;return XM(x)}),P0.prototype.set_m_wheelsSuspensionForce=P0.prototype.set_m_wheelsSuspensionForce=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),iA(I,x)}),P0.prototype.get_m_bIsFrontWheel=P0.prototype.get_m_bIsFrontWheel=(function(){var x=this.ptr;return!!Z9(x)}),P0.prototype.set_m_bIsFrontWheel=P0.prototype.set_m_bIsFrontWheel=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),S7(I,x)}),P0.prototype.get_m_raycastInfo=P0.prototype.get_m_raycastInfo=(function(){var x=this.ptr;return p0(EI(x),Vi)}),P0.prototype.set_m_raycastInfo=P0.prototype.set_m_raycastInfo=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),$7(I,x)}),P0.prototype.get_m_chassisConnectionPointCS=P0.prototype.get_m_chassisConnectionPointCS=(function(){var x=this.ptr;return p0(ME(x),T0)}),P0.prototype.set_m_chassisConnectionPointCS=P0.prototype.set_m_chassisConnectionPointCS=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),w9(I,x)}),P0.prototype.__destroy__=P0.prototype.__destroy__=(function(){var x=this.ptr;CT(x)});function zi(x,I,le,A){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),x===void 0){this.ptr=xI(),o0(zi)[this.ptr]=this;return}if(I===void 0){this.ptr=_emscripten_bind_btVector4_btVector4_1(x),o0(zi)[this.ptr]=this;return}if(le===void 0){this.ptr=_emscripten_bind_btVector4_btVector4_2(x,I),o0(zi)[this.ptr]=this;return}if(A===void 0){this.ptr=_emscripten_bind_btVector4_btVector4_3(x,I,le),o0(zi)[this.ptr]=this;return}this.ptr=vI(x,I,le,A),o0(zi)[this.ptr]=this}zi.prototype=Object.create(T0.prototype),zi.prototype.constructor=zi,zi.prototype.__class__=zi,zi.__cache__={},p.btVector4=zi,zi.prototype.w=zi.prototype.w=(function(){var x=this.ptr;return jN(x)}),zi.prototype.setValue=zi.prototype.setValue=(function(x,I,le,A){var ee=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),vS(ee,x,I,le,A)}),zi.prototype.length=zi.prototype.length=(function(){var x=this.ptr;return OR(x)}),zi.prototype.x=zi.prototype.x=(function(){var x=this.ptr;return CN(x)}),zi.prototype.y=zi.prototype.y=(function(){var x=this.ptr;return ZN(x)}),zi.prototype.z=zi.prototype.z=(function(){var x=this.ptr;return Qb(x)}),zi.prototype.setX=zi.prototype.setX=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),q7(I,x)}),zi.prototype.setY=zi.prototype.setY=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),_R(I,x)}),zi.prototype.setZ=zi.prototype.setZ=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),J7(I,x)}),zi.prototype.normalize=zi.prototype.normalize=(function(){var x=this.ptr;BN(x)}),zi.prototype.dot=zi.prototype.dot=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),nw(I,x)}),zi.prototype.op_mul=zi.prototype.op_mul=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(SR(I,x),T0)}),zi.prototype.op_add=zi.prototype.op_add=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(TT(I,x),T0)}),zi.prototype.op_sub=zi.prototype.op_sub=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(ND(I,x),T0)}),zi.prototype.__destroy__=zi.prototype.__destroy__=(function(){var x=this.ptr;VE(x)});function Di(x,I,le,A){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),A===void 0){this.ptr=BC(x,I,le),o0(Di)[this.ptr]=this;return}this.ptr=$E(x,I,le,A),o0(Di)[this.ptr]=this}Di.prototype=Object.create(ro.prototype),Di.prototype.constructor=Di,Di.prototype.__class__=Di,Di.__cache__={},p.btKinematicCharacterController=Di,Di.prototype.setUpAxis=Di.prototype.setUpAxis=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),k9(I,x)}),Di.prototype.setWalkDirection=Di.prototype.setWalkDirection=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),bN(I,x)}),Di.prototype.setVelocityForTimeInterval=Di.prototype.setVelocityForTimeInterval=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),mI(le,x,I)}),Di.prototype.warp=Di.prototype.warp=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),YA(I,x)}),Di.prototype.preStep=Di.prototype.preStep=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),QA(I,x)}),Di.prototype.playerStep=Di.prototype.playerStep=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),JE(le,x,I)}),Di.prototype.setFallSpeed=Di.prototype.setFallSpeed=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),ZR(I,x)}),Di.prototype.setJumpSpeed=Di.prototype.setJumpSpeed=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Ib(I,x)}),Di.prototype.setMaxJumpHeight=Di.prototype.setMaxJumpHeight=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),DI(I,x)}),Di.prototype.canJump=Di.prototype.canJump=(function(){var x=this.ptr;return!!xC(x)}),Di.prototype.jump=Di.prototype.jump=(function(){var x=this.ptr;X7(x)}),Di.prototype.setGravity=Di.prototype.setGravity=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),_S(I,x)}),Di.prototype.getGravity=Di.prototype.getGravity=(function(){var x=this.ptr;return LN(x)}),Di.prototype.setMaxSlope=Di.prototype.setMaxSlope=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),n9(I,x)}),Di.prototype.getMaxSlope=Di.prototype.getMaxSlope=(function(){var x=this.ptr;return sI(x)}),Di.prototype.getGhostObject=Di.prototype.getGhostObject=(function(){var x=this.ptr;return p0(RN(x),Ri)}),Di.prototype.setUseGhostSweepTest=Di.prototype.setUseGhostSweepTest=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),X9(I,x)}),Di.prototype.onGround=Di.prototype.onGround=(function(){var x=this.ptr;return!!eN(x)}),Di.prototype.__destroy__=Di.prototype.__destroy__=(function(){var x=this.ptr;SI(x)});function _s(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=nM(x,I),o0(_s)[this.ptr]=this}_s.prototype=Object.create(jr.prototype),_s.prototype.constructor=_s,_s.prototype.__class__=_s,_s.__cache__={},p.btStaticPlaneShape=_s,_s.prototype.setLocalScaling=_s.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),nb(I,x)}),_s.prototype.calculateLocalInertia=_s.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),jE(le,x,I)}),_s.prototype.__destroy__=_s.prototype.__destroy__=(function(){var x=this.ptr;uI(x)});function nr(){throw"cannot construct a btContactSolverInfo, no constructor in IDL"}nr.prototype=Object.create(Ci.prototype),nr.prototype.constructor=nr,nr.prototype.__class__=nr,nr.__cache__={},p.btContactSolverInfo=nr,nr.prototype.get_m_splitImpulse=nr.prototype.get_m_splitImpulse=(function(){var x=this.ptr;return!!bI(x)}),nr.prototype.set_m_splitImpulse=nr.prototype.set_m_splitImpulse=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),_C(I,x)}),nr.prototype.get_m_splitImpulsePenetrationThreshold=nr.prototype.get_m_splitImpulsePenetrationThreshold=(function(){var x=this.ptr;return BS(x)}),nr.prototype.set_m_splitImpulsePenetrationThreshold=nr.prototype.set_m_splitImpulsePenetrationThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),vA(I,x)}),nr.prototype.__destroy__=nr.prototype.__destroy__=(function(){var x=this.ptr;KA(x)});function hs(){throw"cannot construct a btOverlappingPairCache, no constructor in IDL"}hs.prototype=Object.create(Ci.prototype),hs.prototype.constructor=hs,hs.prototype.__class__=hs,hs.__cache__={},p.btOverlappingPairCache=hs,hs.prototype.setInternalGhostPairCallback=hs.prototype.setInternalGhostPairCallback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),iM(I,x)}),hs.prototype.__destroy__=hs.prototype.__destroy__=(function(){var x=this.ptr;UT(x)});function hr(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=qM(x),o0(hr)[this.ptr]=this}hr.prototype=Object.create(jn.prototype),hr.prototype.constructor=hr,hr.prototype.__class__=hr,hr.__cache__={},p.btSphereShape=hr,hr.prototype.setMargin=hr.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),gA(I,x)}),hr.prototype.getMargin=hr.prototype.getMargin=(function(){var x=this.ptr;return DR(x)}),hr.prototype.setLocalScaling=hr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),HN(I,x)}),hr.prototype.calculateLocalInertia=hr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),b7(le,x,I)}),hr.prototype.__destroy__=hr.prototype.__destroy__=(function(){var x=this.ptr;M9(x)});function No(){this.ptr=EA(),o0(No)[this.ptr]=this}No.prototype=Object.create(Ci.prototype),No.prototype.constructor=No,No.prototype.__class__=No,No.__cache__={},p.btDefaultCollisionConstructionInfo=No,No.prototype.__destroy__=No.prototype.__destroy__=(function(){var x=this.ptr;Eb(x)});function a2(x,I,le,A,ee,e,It){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),e&&typeof e=="object"&&(e=e.ptr),It&&typeof It=="object"&&(It=It.ptr),le===void 0){this.ptr=DM(x,I),o0(a2)[this.ptr]=this;return}if(A===void 0){this.ptr=IM(x,I,le),o0(a2)[this.ptr]=this;return}if(ee===void 0){this.ptr=wT(x,I,le,A),o0(a2)[this.ptr]=this;return}if(e===void 0){this.ptr=NM(x,I,le,A,ee),o0(a2)[this.ptr]=this;return}if(It===void 0){this.ptr=AM(x,I,le,A,ee,e),o0(a2)[this.ptr]=this;return}this.ptr=EM(x,I,le,A,ee,e,It),o0(a2)[this.ptr]=this}a2.prototype=Object.create(L2.prototype),a2.prototype.constructor=a2,a2.prototype.__class__=a2,a2.__cache__={},p.btHingeConstraint=a2,a2.prototype.setLimit=a2.prototype.setLimit=(function(x,I,le,A,ee){var e=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),ee===void 0){QR(e,x,I,le,A);return}JR(e,x,I,le,A,ee)}),a2.prototype.enableAngularMotor=a2.prototype.enableAngularMotor=(function(x,I,le){var A=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),ww(A,x,I,le)}),a2.prototype.enableFeedback=a2.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),W9(I,x)}),a2.prototype.getBreakingImpulseThreshold=a2.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return Ab(x)}),a2.prototype.setBreakingImpulseThreshold=a2.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),CM(I,x)}),a2.prototype.__destroy__=a2.prototype.__destroy__=(function(){var x=this.ptr;sD(x)});function T2(){this.ptr=wN(),o0(T2)[this.ptr]=this}T2.prototype=Object.create(Ci.prototype),T2.prototype.constructor=T2,T2.prototype.__class__=T2,T2.__cache__={},p.btConstraintSetting=T2,T2.prototype.get_m_tau=T2.prototype.get_m_tau=(function(){var x=this.ptr;return VA(x)}),T2.prototype.set_m_tau=T2.prototype.set_m_tau=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),R7(I,x)}),T2.prototype.get_m_damping=T2.prototype.get_m_damping=(function(){var x=this.ptr;return cC(x)}),T2.prototype.set_m_damping=T2.prototype.set_m_damping=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),v7(I,x)}),T2.prototype.get_m_impulseClamp=T2.prototype.get_m_impulseClamp=(function(){var x=this.ptr;return f7(x)}),T2.prototype.set_m_impulseClamp=T2.prototype.set_m_impulseClamp=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),hS(I,x)}),T2.prototype.__destroy__=T2.prototype.__destroy__=(function(){var x=this.ptr;GT(x)});function ds(){throw"cannot construct a btTranslationalLimitMotor2, no constructor in IDL"}ds.prototype=Object.create(Ci.prototype),ds.prototype.constructor=ds,ds.prototype.__class__=ds,ds.__cache__={},p.btTranslationalLimitMotor2=ds,ds.prototype.get_m_currentLinearDiff=ds.prototype.get_m_currentLinearDiff=(function(){var x=this.ptr;return p0(WT(x),T0)}),ds.prototype.set_m_currentLinearDiff=ds.prototype.set_m_currentLinearDiff=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),V7(I,x)}),ds.prototype.__destroy__=ds.prototype.__destroy__=(function(){var x=this.ptr;U9(x)});function dr(){throw"cannot construct a LocalShapeInfo, no constructor in IDL"}dr.prototype=Object.create(Ci.prototype),dr.prototype.constructor=dr,dr.prototype.__class__=dr,dr.__cache__={},p.LocalShapeInfo=dr,dr.prototype.get_m_shapePart=dr.prototype.get_m_shapePart=(function(){var x=this.ptr;return gS(x)}),dr.prototype.set_m_shapePart=dr.prototype.set_m_shapePart=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),jS(I,x)}),dr.prototype.get_m_triangleIndex=dr.prototype.get_m_triangleIndex=(function(){var x=this.ptr;return jb(x)}),dr.prototype.set_m_triangleIndex=dr.prototype.set_m_triangleIndex=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),AR(I,x)}),dr.prototype.__destroy__=dr.prototype.__destroy__=(function(){var x=this.ptr;K9(x)});function o1(){throw"cannot construct a btConstraintSolver, no constructor in IDL"}o1.prototype=Object.create(Ci.prototype),o1.prototype.constructor=o1,o1.prototype.__class__=o1,o1.__cache__={},p.btConstraintSolver=o1,o1.prototype.__destroy__=o1.prototype.__destroy__=(function(){var x=this.ptr;AE(x)});function Sn(x,I,le,A,ee){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),A===void 0){this.ptr=Iw(x,I,le),o0(Sn)[this.ptr]=this;return}if(ee===void 0){this.ptr=_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_4(x,I,le,A),o0(Sn)[this.ptr]=this;return}this.ptr=N9(x,I,le,A,ee),o0(Sn)[this.ptr]=this}Sn.prototype=Object.create(qn.prototype),Sn.prototype.constructor=Sn,Sn.prototype.__class__=Sn,Sn.__cache__={},p.btGeneric6DofSpringConstraint=Sn,Sn.prototype.enableSpring=Sn.prototype.enableSpring=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),_A(le,x,I)}),Sn.prototype.setStiffness=Sn.prototype.setStiffness=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),pR(le,x,I)}),Sn.prototype.setDamping=Sn.prototype.setDamping=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),TE(le,x,I)}),Sn.prototype.setLinearLowerLimit=Sn.prototype.setLinearLowerLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),TI(I,x)}),Sn.prototype.setLinearUpperLimit=Sn.prototype.setLinearUpperLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),R9(I,x)}),Sn.prototype.setAngularLowerLimit=Sn.prototype.setAngularLowerLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),RI(I,x)}),Sn.prototype.setAngularUpperLimit=Sn.prototype.setAngularUpperLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),GM(I,x)}),Sn.prototype.enableFeedback=Sn.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),mA(I,x)}),Sn.prototype.getBreakingImpulseThreshold=Sn.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return lA(x)}),Sn.prototype.setBreakingImpulseThreshold=Sn.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),m7(I,x)}),Sn.prototype.__destroy__=Sn.prototype.__destroy__=(function(){var x=this.ptr;$w(x)});function In(x,I,le,A,ee){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),this.ptr=jC(x,I,le,A,ee),o0(In)[this.ptr]=this}In.prototype=Object.create(Ci.prototype),In.prototype.constructor=In,In.prototype.__class__=In,In.__cache__={},p.LocalConvexResult=In,In.prototype.get_m_hitCollisionObject=In.prototype.get_m_hitCollisionObject=(function(){var x=this.ptr;return p0(KC(x),gi)}),In.prototype.set_m_hitCollisionObject=In.prototype.set_m_hitCollisionObject=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),wI(I,x)}),In.prototype.get_m_localShapeInfo=In.prototype.get_m_localShapeInfo=(function(){var x=this.ptr;return p0(cN(x),dr)}),In.prototype.set_m_localShapeInfo=In.prototype.set_m_localShapeInfo=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),lI(I,x)}),In.prototype.get_m_hitNormalLocal=In.prototype.get_m_hitNormalLocal=(function(){var x=this.ptr;return p0(i9(x),T0)}),In.prototype.set_m_hitNormalLocal=In.prototype.set_m_hitNormalLocal=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),eC(I,x)}),In.prototype.get_m_hitPointLocal=In.prototype.get_m_hitPointLocal=(function(){var x=this.ptr;return p0(cS(x),T0)}),In.prototype.set_m_hitPointLocal=In.prototype.set_m_hitPointLocal=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),U7(I,x)}),In.prototype.get_m_hitFraction=In.prototype.get_m_hitFraction=(function(){var x=this.ptr;return TM(x)}),In.prototype.set_m_hitFraction=In.prototype.set_m_hitFraction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),cb(I,x)}),In.prototype.__destroy__=In.prototype.__destroy__=(function(){var x=this.ptr;vT(x)});function a1(){throw"cannot construct a btOverlappingPairCallback, no constructor in IDL"}a1.prototype=Object.create(Ci.prototype),a1.prototype.constructor=a1,a1.prototype.__class__=a1,a1.__cache__={},p.btOverlappingPairCallback=a1,a1.prototype.__destroy__=a1.prototype.__destroy__=(function(){var x=this.ptr;vw(x)});function u0(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=AN(x),o0(u0)[this.ptr]=this}u0.prototype=Object.create(gi.prototype),u0.prototype.constructor=u0,u0.prototype.__class__=u0,u0.__cache__={},p.btRigidBody=u0,u0.prototype.getCenterOfMassTransform=u0.prototype.getCenterOfMassTransform=(function(){var x=this.ptr;return p0(E9(x),An)}),u0.prototype.setCenterOfMassTransform=u0.prototype.setCenterOfMassTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),wE(I,x)}),u0.prototype.setSleepingThresholds=u0.prototype.setSleepingThresholds=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),oN(le,x,I)}),u0.prototype.setDamping=u0.prototype.setDamping=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),uw(le,x,I)}),u0.prototype.setMassProps=u0.prototype.setMassProps=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),jR(le,x,I)}),u0.prototype.setLinearFactor=u0.prototype.setLinearFactor=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),qS(I,x)}),u0.prototype.applyTorque=u0.prototype.applyTorque=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),YC(I,x)}),u0.prototype.applyForce=u0.prototype.applyForce=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),w7(le,x,I)}),u0.prototype.applyCentralForce=u0.prototype.applyCentralForce=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),SM(I,x)}),u0.prototype.applyTorqueImpulse=u0.prototype.applyTorqueImpulse=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),jD(I,x)}),u0.prototype.applyImpulse=u0.prototype.applyImpulse=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),Aw(le,x,I)}),u0.prototype.applyCentralImpulse=u0.prototype.applyCentralImpulse=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),_9(I,x)}),u0.prototype.updateInertiaTensor=u0.prototype.updateInertiaTensor=(function(){var x=this.ptr;aM(x)}),u0.prototype.getLinearVelocity=u0.prototype.getLinearVelocity=(function(){var x=this.ptr;return p0(Rw(x),T0)}),u0.prototype.getAngularVelocity=u0.prototype.getAngularVelocity=(function(){var x=this.ptr;return p0(vD(x),T0)}),u0.prototype.setLinearVelocity=u0.prototype.setLinearVelocity=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),CD(I,x)}),u0.prototype.setAngularVelocity=u0.prototype.setAngularVelocity=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Dw(I,x)}),u0.prototype.getMotionState=u0.prototype.getMotionState=(function(){var x=this.ptr;return p0(MN(x),qr)}),u0.prototype.setMotionState=u0.prototype.setMotionState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),ew(I,x)}),u0.prototype.setAngularFactor=u0.prototype.setAngularFactor=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),MR(I,x)}),u0.prototype.upcast=u0.prototype.upcast=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(Z7(I,x),u0)}),u0.prototype.setAnisotropicFriction=u0.prototype.setAnisotropicFriction=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),LE(le,x,I)}),u0.prototype.getCollisionShape=u0.prototype.getCollisionShape=(function(){var x=this.ptr;return p0(hD(x),jn)}),u0.prototype.setContactProcessingThreshold=u0.prototype.setContactProcessingThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Mw(I,x)}),u0.prototype.setActivationState=u0.prototype.setActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),FD(I,x)}),u0.prototype.forceActivationState=u0.prototype.forceActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),tI(I,x)}),u0.prototype.activate=u0.prototype.activate=(function(x){var I=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),x===void 0){dN(I);return}hN(I,x)}),u0.prototype.isActive=u0.prototype.isActive=(function(){var x=this.ptr;return!!yC(x)}),u0.prototype.isKinematicObject=u0.prototype.isKinematicObject=(function(){var x=this.ptr;return!!J9(x)}),u0.prototype.setRestitution=u0.prototype.setRestitution=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),gI(I,x)}),u0.prototype.setFriction=u0.prototype.setFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),B7(I,x)}),u0.prototype.setRollingFriction=u0.prototype.setRollingFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),$b(I,x)}),u0.prototype.getWorldTransform=u0.prototype.getWorldTransform=(function(){var x=this.ptr;return p0(Fb(x),An)}),u0.prototype.getCollisionFlags=u0.prototype.getCollisionFlags=(function(){var x=this.ptr;return XC(x)}),u0.prototype.setCollisionFlags=u0.prototype.setCollisionFlags=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),qD(I,x)}),u0.prototype.setWorldTransform=u0.prototype.setWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Nw(I,x)}),u0.prototype.setCollisionShape=u0.prototype.setCollisionShape=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),RC(I,x)}),u0.prototype.setCcdMotionThreshold=u0.prototype.setCcdMotionThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),T7(I,x)}),u0.prototype.setCcdSweptSphereRadius=u0.prototype.setCcdSweptSphereRadius=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),k7(I,x)}),u0.prototype.__destroy__=u0.prototype.__destroy__=(function(){var x=this.ptr;rN(x)});function mr(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=UM(x),o0(mr)[this.ptr]=this}mr.prototype=Object.create(H2.prototype),mr.prototype.constructor=mr,mr.prototype.__class__=mr,mr.__cache__={},p.btCylinderShapeX=mr,mr.prototype.setMargin=mr.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),cT(I,x)}),mr.prototype.getMargin=mr.prototype.getMargin=(function(){var x=this.ptr;return zw(x)}),mr.prototype.setLocalScaling=mr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),mw(I,x)}),mr.prototype.calculateLocalInertia=mr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),GN(le,x,I)}),mr.prototype.__destroy__=mr.prototype.__destroy__=(function(){var x=this.ptr;yN(x)});function gr(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=Qw(x),o0(gr)[this.ptr]=this}gr.prototype=Object.create(H2.prototype),gr.prototype.constructor=gr,gr.prototype.__class__=gr,gr.__cache__={},p.btCylinderShapeZ=gr,gr.prototype.setMargin=gr.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),F7(I,x)}),gr.prototype.getMargin=gr.prototype.getMargin=(function(){var x=this.ptr;return Jv(x)}),gr.prototype.setLocalScaling=gr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),fI(I,x)}),gr.prototype.calculateLocalInertia=gr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),RR(le,x,I)}),gr.prototype.__destroy__=gr.prototype.__destroy__=(function(){var x=this.ptr;p7(x)});function An(x,I){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),x===void 0){this.ptr=r7(),o0(An)[this.ptr]=this;return}if(I===void 0){this.ptr=_emscripten_bind_btTransform_btTransform_1(x),o0(An)[this.ptr]=this;return}this.ptr=n7(x,I),o0(An)[this.ptr]=this}An.prototype=Object.create(Ci.prototype),An.prototype.constructor=An,An.prototype.__class__=An,An.__cache__={},p.btTransform=An,An.prototype.setIdentity=An.prototype.setIdentity=(function(){var x=this.ptr;s9(x)}),An.prototype.setOrigin=An.prototype.setOrigin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),lM(I,x)}),An.prototype.setRotation=An.prototype.setRotation=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),MT(I,x)}),An.prototype.getOrigin=An.prototype.getOrigin=(function(){var x=this.ptr;return p0(nD(x),T0)}),An.prototype.getRotation=An.prototype.getRotation=(function(){var x=this.ptr;return p0(RM(x),Rn)}),An.prototype.getBasis=An.prototype.getBasis=(function(){var x=this.ptr;return p0(tT(x),kr)}),An.prototype.__destroy__=An.prototype.__destroy__=(function(){var x=this.ptr;QD(x)});function Pn(x,I,le){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),this.ptr=vC(x,I,le),o0(Pn)[this.ptr]=this}Pn.prototype=Object.create(ro.prototype),Pn.prototype.constructor=Pn,Pn.prototype.__class__=Pn,Pn.__cache__={},p.btRaycastVehicle=Pn,Pn.prototype.applyEngineForce=Pn.prototype.applyEngineForce=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),JA(le,x,I)}),Pn.prototype.setSteeringValue=Pn.prototype.setSteeringValue=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),YS(le,x,I)}),Pn.prototype.getWheelTransformWS=Pn.prototype.getWheelTransformWS=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(lw(I,x),An)}),Pn.prototype.updateWheelTransform=Pn.prototype.updateWheelTransform=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),S9(le,x,I)}),Pn.prototype.addWheel=Pn.prototype.addWheel=(function(x,I,le,A,ee,e,It){var Le=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),A&&typeof A=="object"&&(A=A.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),e&&typeof e=="object"&&(e=e.ptr),It&&typeof It=="object"&&(It=It.ptr),p0(aI(Le,x,I,le,A,ee,e,It),P0)}),Pn.prototype.getNumWheels=Pn.prototype.getNumWheels=(function(){var x=this.ptr;return Yw(x)}),Pn.prototype.getRigidBody=Pn.prototype.getRigidBody=(function(){var x=this.ptr;return p0(BA(x),u0)}),Pn.prototype.getWheelInfo=Pn.prototype.getWheelInfo=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),p0(Cb(I,x),P0)}),Pn.prototype.setBrake=Pn.prototype.setBrake=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),eE(le,x,I)}),Pn.prototype.setCoordinateSystem=Pn.prototype.setCoordinateSystem=(function(x,I,le){var A=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),DC(A,x,I,le)}),Pn.prototype.__destroy__=Pn.prototype.__destroy__=(function(){var x=this.ptr;mN(x)});function Do(){this.ptr=NI(),o0(Do)[this.ptr]=this}Do.prototype=Object.create(Ci.prototype),Do.prototype.constructor=Do,Do.prototype.__class__=Do,Do.__cache__={},p.btGhostPairCallback=Do,Do.prototype.__destroy__=Do.prototype.__destroy__=(function(){var x=this.ptr;rI(x)});function ms(){throw"cannot construct a btRotationalLimitMotor2, no constructor in IDL"}return ms.prototype=Object.create(Ci.prototype),ms.prototype.constructor=ms,ms.prototype.__class__=ms,ms.__cache__={},p.btRotationalLimitMotor2=ms,ms.prototype.get_m_currentPosition=ms.prototype.get_m_currentPosition=(function(){var x=this.ptr;return aw(x)}),ms.prototype.set_m_currentPosition=ms.prototype.set_m_currentPosition=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),MI(I,x)}),ms.prototype.__destroy__=ms.prototype.__destroy__=(function(){var x=this.ptr;lC(x)}),(function(){function x(){p.RO_XYZ=OM(),p.RO_XZY=WN(),p.RO_YXZ=KS(),p.RO_YZX=UA(),p.RO_ZXY=CI(),p.RO_ZYX=rD()}p.calledRun?x():Zt(x)})(),p};return c()})})(__)),__.exports}var d5e=h5e();const s_=c5e(d5e);let Ln=null;const m5e=async()=>{if(typeof s_=="function")try{Ln=await s_()}catch{Ln=s_()}else Ln=s_;Ln.btVector3||console.warn("Ammo.btVector3 is missing. Ammo object:",Ln);const v=new Ln.btDefaultCollisionConfiguration,r=new Ln.btCollisionDispatcher(v),c=new Ln.btDbvtBroadphase,f=new Ln.btSequentialImpulseConstraintSolver,p=new Ln.btDiscreteDynamicsWorld(r,c,f,v);return p.setGravity(new Ln.btVector3(0,-20,0)),p},Wf=()=>{if(!Ln)throw new Error("Ammo not initialized. Call initPhysics first.");return Ln},g5e=(v,r)=>{v.stepSimulation(r,10,1/60)},x5e=(v,r,c=null)=>{let f=-5,p=25,y=25,T=1;c?(f=c.position.y,p=c.width,y=c.depth,T=c.height,Av(r,p,T,y,c.position.x,f,c.position.z,0)):zu(v,r,25,1,25,0,-5,0,0,16777215,"images/wood.jpg");const R=100,b=p/2,P=y/2,G=f+R/2;zu(v,r,1,R,y,b+.5,G,0,0,0,null,!0),zu(v,r,1,R,y,-b-.5,G,0,0,0,null,!0),zu(v,r,p,R,1,0,G,P+.5,0,0,null,!0),zu(v,r,p,R,1,0,G,-P-.5,0,0,null,!0)},Av=(v,r,c,f,p,y,T,R)=>{const b=new Ln.btBoxShape(new Ln.btVector3(r*.5,c*.5,f*.5)),P=new Ln.btTransform;P.setIdentity(),P.setOrigin(new Ln.btVector3(p,y,T));const G=new Ln.btDefaultMotionState(P),j=new Ln.btVector3(0,0,0),K=new Ln.btRigidBodyConstructionInfo(R,G,b,j),Q=new Ln.btRigidBody(K);Q.setFriction(.6),Q.setRestitution(.5),v.addRigidBody(Q)},zu=(v,r,c,f,p,y,T,R,b,P,G,j=!1)=>{let K;if(G){const ce=new l8().load(G);K=new Vl({map:ce})}else K=new Vl({color:P});j&&(K.visible=!1,K.transparent=!0,K.opacity=0);const Q=new B1(c,f,p),ie=new G2(Q,K);ie.position.set(y,T,R),ie.castShadow=!0,ie.receiveShadow=!0,v.add(ie),Av(r,c,f,p,y,T,R,b)},y5e=(v,r,c,f,p)=>{c.setMargin(.01);const T=new Ln.btTransform;T.setIdentity(),T.setOrigin(new Ln.btVector3(f.x,f.y,f.z));const R=new eo;R.setFromEuler(new Wr(p.x,p.y,p.z));const b=new Ln.btQuaternion(R.x,R.y,R.z,R.w);T.setRotation(b);const P=new Ln.btDefaultMotionState(T),G=new Ln.btVector3(0,0,0);c.calculateLocalInertia(5,G);const j=new Ln.btRigidBodyConstructionInfo(5,P,c,G),K=new Ln.btRigidBody(j);return K.setFriction(.6),K.setRollingFriction(.1),K.setRestitution(.3),K.setDamping(.05,.1),K.setActivationState(4),v.addRigidBody(K),K},v5e=v=>{const r=new Ln.btConvexHullShape,f=v.geometry.attributes.position;for(let p=0;p<f.count;p++){const y=new nt;y.fromBufferAttribute(f,p),y.applyMatrix4(v.matrixWorld);const T=new Ln.btVector3(y.x,y.y,y.z);r.addPoint(T)}return r};class Wg extends y1e{constructor(r){super(r)}parse(r){function c(ct){switch(ct.image_type){case K:case ce:if(ct.colormap_length>256||ct.colormap_size!==24||ct.colormap_type!==1)throw new Error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case Q:case ie:case ue:case se:if(ct.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case j:throw new Error("THREE.TGALoader: No data.");default:throw new Error("THREE.TGALoader: Invalid type "+ct.image_type)}if(ct.width<=0||ct.height<=0)throw new Error("THREE.TGALoader: Invalid image size.");if(ct.pixel_size!==8&&ct.pixel_size!==16&&ct.pixel_size!==24&&ct.pixel_size!==32)throw new Error("THREE.TGALoader: Invalid pixel size "+ct.pixel_size)}function f(ct,Wt,vt,Ht,Qt){let a0,G0;const C0=vt.pixel_size>>3,w0=vt.width*vt.height*C0;if(Wt&&(G0=Qt.subarray(Ht,Ht+=vt.colormap_length*(vt.colormap_size>>3))),ct){a0=new Uint8Array(w0);let y0,dt,wt,e0=0;const B0=new Uint8Array(C0);for(;e0<w0;)if(y0=Qt[Ht++],dt=(y0&127)+1,y0&128){for(wt=0;wt<C0;++wt)B0[wt]=Qt[Ht++];for(wt=0;wt<dt;++wt)a0.set(B0,e0+wt*C0);e0+=C0*dt}else{for(dt*=C0,wt=0;wt<dt;++wt)a0[e0+wt]=Qt[Ht++];e0+=dt}}else a0=Qt.subarray(Ht,Ht+=Wt?vt.width*vt.height:w0);return{pixel_data:a0,palettes:G0}}function p(ct,Wt,vt,Ht,Qt,a0,G0,C0,w0){const y0=w0;let dt,wt=0,e0,B0;const A0=Ie.width;for(B0=Wt;B0!==Ht;B0+=vt)for(e0=Qt;e0!==G0;e0+=a0,wt++)dt=C0[wt],ct[(e0+A0*B0)*4+3]=255,ct[(e0+A0*B0)*4+2]=y0[dt*3+0],ct[(e0+A0*B0)*4+1]=y0[dt*3+1],ct[(e0+A0*B0)*4+0]=y0[dt*3+2];return ct}function y(ct,Wt,vt,Ht,Qt,a0,G0,C0){let w0,y0=0,dt,wt;const e0=Ie.width;for(wt=Wt;wt!==Ht;wt+=vt)for(dt=Qt;dt!==G0;dt+=a0,y0+=2)w0=C0[y0+0]+(C0[y0+1]<<8),ct[(dt+e0*wt)*4+0]=(w0&31744)>>7,ct[(dt+e0*wt)*4+1]=(w0&992)>>2,ct[(dt+e0*wt)*4+2]=(w0&31)<<3,ct[(dt+e0*wt)*4+3]=w0&32768?0:255;return ct}function T(ct,Wt,vt,Ht,Qt,a0,G0,C0){let w0=0,y0,dt;const wt=Ie.width;for(dt=Wt;dt!==Ht;dt+=vt)for(y0=Qt;y0!==G0;y0+=a0,w0+=3)ct[(y0+wt*dt)*4+3]=255,ct[(y0+wt*dt)*4+2]=C0[w0+0],ct[(y0+wt*dt)*4+1]=C0[w0+1],ct[(y0+wt*dt)*4+0]=C0[w0+2];return ct}function R(ct,Wt,vt,Ht,Qt,a0,G0,C0){let w0=0,y0,dt;const wt=Ie.width;for(dt=Wt;dt!==Ht;dt+=vt)for(y0=Qt;y0!==G0;y0+=a0,w0+=4)ct[(y0+wt*dt)*4+2]=C0[w0+0],ct[(y0+wt*dt)*4+1]=C0[w0+1],ct[(y0+wt*dt)*4+0]=C0[w0+2],ct[(y0+wt*dt)*4+3]=C0[w0+3];return ct}function b(ct,Wt,vt,Ht,Qt,a0,G0,C0){let w0,y0=0,dt,wt;const e0=Ie.width;for(wt=Wt;wt!==Ht;wt+=vt)for(dt=Qt;dt!==G0;dt+=a0,y0++)w0=C0[y0],ct[(dt+e0*wt)*4+0]=w0,ct[(dt+e0*wt)*4+1]=w0,ct[(dt+e0*wt)*4+2]=w0,ct[(dt+e0*wt)*4+3]=255;return ct}function P(ct,Wt,vt,Ht,Qt,a0,G0,C0){let w0=0,y0,dt;const wt=Ie.width;for(dt=Wt;dt!==Ht;dt+=vt)for(y0=Qt;y0!==G0;y0+=a0,w0+=2)ct[(y0+wt*dt)*4+0]=C0[w0+0],ct[(y0+wt*dt)*4+1]=C0[w0+0],ct[(y0+wt*dt)*4+2]=C0[w0+0],ct[(y0+wt*dt)*4+3]=C0[w0+1];return ct}function G(ct,Wt,vt,Ht,Qt){let a0,G0,C0,w0,y0,dt;switch((Ie.flags&Ne)>>De){default:case Be:a0=0,C0=1,y0=Wt,G0=0,w0=1,dt=vt;break;case Oe:a0=0,C0=1,y0=Wt,G0=vt-1,w0=-1,dt=-1;break;case We:a0=Wt-1,C0=-1,y0=-1,G0=0,w0=1,dt=vt;break;case je:a0=Wt-1,C0=-1,y0=-1,G0=vt-1,w0=-1,dt=-1;break}if(yt)switch(Ie.pixel_size){case 8:b(ct,G0,w0,dt,a0,C0,y0,Ht);break;case 16:P(ct,G0,w0,dt,a0,C0,y0,Ht);break;default:throw new Error("THREE.TGALoader: Format not supported.")}else switch(Ie.pixel_size){case 8:p(ct,G0,w0,dt,a0,C0,y0,Ht,Qt);break;case 16:y(ct,G0,w0,dt,a0,C0,y0,Ht);break;case 24:T(ct,G0,w0,dt,a0,C0,y0,Ht);break;case 32:R(ct,G0,w0,dt,a0,C0,y0,Ht);break;default:throw new Error("THREE.TGALoader: Format not supported.")}return ct}const j=0,K=1,Q=2,ie=3,ce=9,ue=10,se=11,Ne=48,De=4,Oe=0,je=1,Be=2,We=3;if(r.length<19)throw new Error("THREE.TGALoader: Not enough data to contain header.");let $e=0;const Ee=new Uint8Array(r),Ie={id_length:Ee[$e++],colormap_type:Ee[$e++],image_type:Ee[$e++],colormap_index:Ee[$e++]|Ee[$e++]<<8,colormap_length:Ee[$e++]|Ee[$e++]<<8,colormap_size:Ee[$e++],origin:[Ee[$e++]|Ee[$e++]<<8,Ee[$e++]|Ee[$e++]<<8],width:Ee[$e++]|Ee[$e++]<<8,height:Ee[$e++]|Ee[$e++]<<8,pixel_size:Ee[$e++],flags:Ee[$e++]};if(c(Ie),Ie.id_length+$e>r.length)throw new Error("THREE.TGALoader: No data.");$e+=Ie.id_length;let Je=!1,ft=!1,yt=!1;switch(Ie.image_type){case ce:Je=!0,ft=!0;break;case K:ft=!0;break;case ue:Je=!0;break;case Q:break;case se:Je=!0,yt=!0;break;case ie:yt=!0;break}const Et=new Uint8Array(Ie.width*Ie.height*4),Dt=f(Je,ft,Ie,$e,Ee);return G(Et,Ie.width,Ie.height,Dt.pixel_data,Dt.palettes),{data:Et,width:Ie.width,height:Ie.height,flipY:!0,generateMipmaps:!0,minFilter:Vr}}}class S5e extends sc{load(r,c,f,p){const y=this,T=y.path===""?R1e.extractUrlBase(r):y.path,R=new gx(y.manager);R.setPath(y.path),R.setRequestHeader(y.requestHeader),R.setWithCredentials(y.withCredentials),R.load(r,function(b){try{c(y.parse(b,T))}catch(P){p?p(P):console.error(P),y.manager.itemError(r)}},f,p)}parse(r,c){function f(Re,Me){const Ve=[],Fe=Re.childNodes;for(let ze=0,Pt=Fe.length;ze<Pt;ze++){const qt=Fe[ze];qt.nodeName===Me&&Ve.push(qt)}return Ve}function p(Re){if(Re.length===0)return[];const Me=Re.trim().split(/\s+/),Ve=new Array(Me.length);for(let Fe=0,ze=Me.length;Fe<ze;Fe++)Ve[Fe]=Me[Fe];return Ve}function y(Re){if(Re.length===0)return[];const Me=Re.trim().split(/\s+/),Ve=new Array(Me.length);for(let Fe=0,ze=Me.length;Fe<ze;Fe++)Ve[Fe]=parseFloat(Me[Fe]);return Ve}function T(Re){if(Re.length===0)return[];const Me=Re.trim().split(/\s+/),Ve=new Array(Me.length);for(let Fe=0,ze=Me.length;Fe<ze;Fe++)Ve[Fe]=parseInt(Me[Fe]);return Ve}function R(Re){return Re.substring(1)}function b(){return"three_default_"+ya++}function P(Re){return Object.keys(Re).length===0}function G(Re){return{unit:j(f(Re,"unit")[0]),upAxis:K(f(Re,"up_axis")[0])}}function j(Re){return Re!==void 0&&Re.hasAttribute("meter")===!0?parseFloat(Re.getAttribute("meter")):1}function K(Re){return Re!==void 0?Re.textContent:"Y_UP"}function Q(Re,Me,Ve,Fe){const ze=f(Re,Me)[0];if(ze!==void 0){const Pt=f(ze,Ve);for(let qt=0;qt<Pt.length;qt++)Fe(Pt[qt])}}function ie(Re,Me){for(const Ve in Re){const Fe=Re[Ve];Fe.build=Me(Re[Ve])}}function ce(Re,Me){return Re.build!==void 0||(Re.build=Me(Re)),Re.build}function ue(Re){const Me={sources:{},samplers:{},channels:{}};let Ve=!1;for(let Fe=0,ze=Re.childNodes.length;Fe<ze;Fe++){const Pt=Re.childNodes[Fe];if(Pt.nodeType!==1)continue;let qt;switch(Pt.nodeName){case"source":qt=Pt.getAttribute("id"),Me.sources[qt]=d0(Pt);break;case"sampler":qt=Pt.getAttribute("id"),Me.samplers[qt]=se(Pt);break;case"channel":qt=Pt.getAttribute("target"),Me.channels[qt]=Ne(Pt);break;case"animation":ue(Pt),Ve=!0;break;default:console.log(Pt)}}Ve===!1&&(ti.animations[Re.getAttribute("id")||Ga.generateUUID()]=Me)}function se(Re){const Me={inputs:{}};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"input":const Pt=R(ze.getAttribute("source")),qt=ze.getAttribute("semantic");Me.inputs[qt]=Pt;break}}return Me}function Ne(Re){const Me={};let Fe=Re.getAttribute("target").split("/");const ze=Fe.shift();let Pt=Fe.shift();const qt=Pt.indexOf("(")!==-1,k0=Pt.indexOf(".")!==-1;if(k0)Fe=Pt.split("."),Pt=Fe.shift(),Me.member=Fe.shift();else if(qt){const x0=Pt.split("(");Pt=x0.shift();for(let E0=0;E0<x0.length;E0++)x0[E0]=parseInt(x0[E0].replace(/\)/,""));Me.indices=x0}return Me.id=ze,Me.sid=Pt,Me.arraySyntax=qt,Me.memberSyntax=k0,Me.sampler=R(Re.getAttribute("source")),Me}function De(Re){const Me=[],Ve=Re.channels,Fe=Re.samplers,ze=Re.sources;for(const Pt in Ve)if(Ve.hasOwnProperty(Pt)){const qt=Ve[Pt],k0=Fe[qt.sampler],x0=k0.inputs.INPUT,E0=k0.inputs.OUTPUT,J0=ze[x0],n0=ze[E0],K0=je(qt,J0,n0);Ie(K0,Me)}return Me}function Oe(Re){return ce(ti.animations[Re],De)}function je(Re,Me,Ve){const Fe=ti.nodes[Re.id],ze=Y0(Fe.id),Pt=Fe.transforms[Re.sid],qt=Fe.matrix.clone().transpose();let k0,x0,E0,J0,n0,K0;const j0={};switch(Pt){case"matrix":for(E0=0,J0=Me.array.length;E0<J0;E0++)if(k0=Me.array[E0],x0=E0*Ve.stride,j0[k0]===void 0&&(j0[k0]={}),Re.arraySyntax===!0){const o2=Ve.array[x0],Mn=Re.indices[0]+4*Re.indices[1];j0[k0][Mn]=o2}else for(n0=0,K0=Ve.stride;n0<K0;n0++)j0[k0][n0]=Ve.array[x0+n0];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Pt);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Pt);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Pt);break}const mi=Be(j0,qt);return{name:ze.uuid,keyframes:mi}}function Be(Re,Me){const Ve=[];for(const ze in Re)Ve.push({time:parseFloat(ze),value:Re[ze]});Ve.sort(Fe);for(let ze=0;ze<16;ze++)Je(Ve,ze,Me.elements[ze]);return Ve;function Fe(ze,Pt){return ze.time-Pt.time}}const We=new nt,$e=new nt,Ee=new eo;function Ie(Re,Me){const Ve=Re.keyframes,Fe=Re.name,ze=[],Pt=[],qt=[],k0=[];for(let x0=0,E0=Ve.length;x0<E0;x0++){const J0=Ve[x0],n0=J0.time,K0=J0.value;Ue.fromArray(K0).transpose(),Ue.decompose(We,Ee,$e),ze.push(n0),Pt.push(We.x,We.y,We.z),qt.push(Ee.x,Ee.y,Ee.z,Ee.w),k0.push($e.x,$e.y,$e.z)}return Pt.length>0&&Me.push(new zl(Fe+".position",ze,Pt)),qt.length>0&&Me.push(new Ff(Fe+".quaternion",ze,qt)),k0.length>0&&Me.push(new zl(Fe+".scale",ze,k0)),Me}function Je(Re,Me,Ve){let Fe,ze=!0,Pt,qt;for(Pt=0,qt=Re.length;Pt<qt;Pt++)Fe=Re[Pt],Fe.value[Me]===void 0?Fe.value[Me]=null:ze=!1;if(ze===!0)for(Pt=0,qt=Re.length;Pt<qt;Pt++)Fe=Re[Pt],Fe.value[Me]=Ve;else ft(Re,Me)}function ft(Re,Me){let Ve,Fe;for(let ze=0,Pt=Re.length;ze<Pt;ze++){const qt=Re[ze];if(qt.value[Me]===null){if(Ve=yt(Re,ze,Me),Fe=Et(Re,ze,Me),Ve===null){qt.value[Me]=Fe.value[Me];continue}if(Fe===null){qt.value[Me]=Ve.value[Me];continue}Dt(qt,Ve,Fe,Me)}}}function yt(Re,Me,Ve){for(;Me>=0;){const Fe=Re[Me];if(Fe.value[Ve]!==null)return Fe;Me--}return null}function Et(Re,Me,Ve){for(;Me<Re.length;){const Fe=Re[Me];if(Fe.value[Ve]!==null)return Fe;Me++}return null}function Dt(Re,Me,Ve,Fe){if(Ve.time-Me.time===0){Re.value[Fe]=Me.value[Fe];return}Re.value[Fe]=(Re.time-Me.time)*(Ve.value[Fe]-Me.value[Fe])/(Ve.time-Me.time)+Me.value[Fe]}function ct(Re){const Me={name:Re.getAttribute("id")||"default",start:parseFloat(Re.getAttribute("start")||0),end:parseFloat(Re.getAttribute("end")||0),animations:[]};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"instance_animation":Me.animations.push(R(ze.getAttribute("url")));break}}ti.clips[Re.getAttribute("id")]=Me}function Wt(Re){const Me=[],Ve=Re.name,Fe=Re.end-Re.start||-1,ze=Re.animations;for(let Pt=0,qt=ze.length;Pt<qt;Pt++){const k0=Oe(ze[Pt]);for(let x0=0,E0=k0.length;x0<E0;x0++)Me.push(k0[x0])}return new D3(Ve,Fe,Me)}function vt(Re){return ce(ti.clips[Re],Wt)}function Ht(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"skin":Me.id=R(ze.getAttribute("source")),Me.skin=Qt(ze);break;case"morph":Me.id=R(ze.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}ti.controllers[Re.getAttribute("id")]=Me}function Qt(Re){const Me={sources:{}};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"bind_shape_matrix":Me.bindShapeMatrix=y(ze.textContent);break;case"source":const Pt=ze.getAttribute("id");Me.sources[Pt]=d0(ze);break;case"joints":Me.joints=a0(ze);break;case"vertex_weights":Me.vertexWeights=G0(ze);break}}return Me}function a0(Re){const Me={inputs:{}};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"input":const Pt=ze.getAttribute("semantic"),qt=R(ze.getAttribute("source"));Me.inputs[Pt]=qt;break}}return Me}function G0(Re){const Me={inputs:{}};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"input":const Pt=ze.getAttribute("semantic"),qt=R(ze.getAttribute("source")),k0=parseInt(ze.getAttribute("offset"));Me.inputs[Pt]={id:qt,offset:k0};break;case"vcount":Me.vcount=T(ze.textContent);break;case"v":Me.v=T(ze.textContent);break}}return Me}function C0(Re){const Me={id:Re.id},Ve=ti.geometries[Me.id];return Re.skin!==void 0&&(Me.skin=w0(Re.skin),Ve.sources.skinIndices=Me.skin.indices,Ve.sources.skinWeights=Me.skin.weights),Me}function w0(Re){const Ve={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},Fe=Re.sources,ze=Re.vertexWeights,Pt=ze.vcount,qt=ze.v,k0=ze.inputs.JOINT.offset,x0=ze.inputs.WEIGHT.offset,E0=Re.sources[Re.joints.inputs.JOINT],J0=Re.sources[Re.joints.inputs.INV_BIND_MATRIX],n0=Fe[ze.inputs.WEIGHT.id].array;let K0=0,j0,mi,ai;for(j0=0,ai=Pt.length;j0<ai;j0++){const Mn=Pt[j0],fn=[];for(mi=0;mi<Mn;mi++){const pn=qt[K0+k0],no=qt[K0+x0],Pr=n0[no];fn.push({index:pn,weight:Pr}),K0+=2}for(fn.sort(o2),mi=0;mi<4;mi++){const pn=fn[mi];pn!==void 0?(Ve.indices.array.push(pn.index),Ve.weights.array.push(pn.weight)):(Ve.indices.array.push(0),Ve.weights.array.push(0))}}for(Re.bindShapeMatrix?Ve.bindMatrix=new wi().fromArray(Re.bindShapeMatrix).transpose():Ve.bindMatrix=new wi().identity(),j0=0,ai=E0.array.length;j0<ai;j0++){const Mn=E0.array[j0],fn=new wi().fromArray(J0.array,j0*J0.stride).transpose();Ve.joints.push({name:Mn,boneInverse:fn})}return Ve;function o2(Mn,fn){return fn.weight-Mn.weight}}function y0(Re){return ce(ti.controllers[Re],C0)}function dt(Re){const Me={init_from:f(Re,"init_from")[0].textContent};ti.images[Re.getAttribute("id")]=Me}function wt(Re){return Re.build!==void 0?Re.build:Re.init_from}function e0(Re){const Me=ti.images[Re];return Me!==void 0?ce(Me,wt):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",Re),null)}function B0(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"profile_COMMON":Me.profile=A0(ze);break}}ti.effects[Re.getAttribute("id")]=Me}function A0(Re){const Me={surfaces:{},samplers:{}};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"newparam":Bi(ze,Me);break;case"technique":Me.technique=Fn(ze);break;case"extra":Me.extra=Bn(ze);break}}return Me}function Bi(Re,Me){const Ve=Re.getAttribute("sid");for(let Fe=0,ze=Re.childNodes.length;Fe<ze;Fe++){const Pt=Re.childNodes[Fe];if(Pt.nodeType===1)switch(Pt.nodeName){case"surface":Me.surfaces[Ve]=A2(Pt);break;case"sampler2D":Me.samplers[Ve]=ei(Pt);break}}}function A2(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"init_from":Me.init_from=ze.textContent;break}}return Me}function ei(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"source":Me.source=ze.textContent;break}}return Me}function Fn(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"constant":case"lambert":case"blinn":case"phong":Me.type=ze.nodeName,Me.parameters=tt(ze);break;case"extra":Me.extra=Bn(ze);break}}return Me}function tt(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":Me[ze.nodeName]=ki(ze);break;case"transparent":Me[ze.nodeName]={opaque:ze.hasAttribute("opaque")?ze.getAttribute("opaque"):"A_ONE",data:ki(ze)};break}}return Me}function ki(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"color":Me[ze.nodeName]=y(ze.textContent);break;case"float":Me[ze.nodeName]=parseFloat(ze.textContent);break;case"texture":Me[ze.nodeName]={id:ze.getAttribute("texture"),extra:qi(ze)};break}}return Me}function qi(Re){const Me={technique:{}};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"extra":wn(ze,Me);break}}return Me}function wn(Re,Me){for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"technique":N0(ze,Me);break}}}function N0(Re,Me){for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":Me.technique[ze.nodeName]=parseFloat(ze.textContent);break;case"wrapU":case"wrapV":ze.textContent.toUpperCase()==="TRUE"?Me.technique[ze.nodeName]=1:ze.textContent.toUpperCase()==="FALSE"?Me.technique[ze.nodeName]=0:Me.technique[ze.nodeName]=parseInt(ze.textContent);break;case"bump":Me[ze.nodeName]=oi(ze);break}}}function Bn(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"technique":Me.technique=si(ze);break}}return Me}function si(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"double_sided":Me[ze.nodeName]=parseInt(ze.textContent);break;case"bump":Me[ze.nodeName]=oi(ze);break}}return Me}function oi(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"texture":Me[ze.nodeName]={id:ze.getAttribute("texture"),texcoord:ze.getAttribute("texcoord"),extra:qi(ze)};break}}return Me}function Ye(Re){return Re}function Pe(Re){return ce(ti.effects[Re],Ye)}function St(Re){const Me={name:Re.getAttribute("name")};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"instance_effect":Me.url=R(ze.getAttribute("url"));break}}ti.materials[Re.getAttribute("id")]=Me}function Yt(Re){let Me,Ve=Re.slice((Re.lastIndexOf(".")-1>>>0)+2);switch(Ve=Ve.toLowerCase(),Ve){case"tga":Me=z2;break;default:Me=On}return Me}function Jt(Re){const Me=Pe(Re.url),Ve=Me.profile.technique;let Fe;switch(Ve.type){case"phong":case"blinn":Fe=new ld;break;case"lambert":Fe=new hx;break;default:Fe=new ho;break}Fe.name=Re.name||"";function ze(x0,E0=null){const J0=Me.profile.samplers[x0.id];let n0=null;if(J0!==void 0){const K0=Me.profile.surfaces[J0.source];n0=e0(K0.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),n0=e0(x0.id);if(n0!==null){const K0=Yt(n0);if(K0!==void 0){const j0=K0.load(n0),mi=x0.extra;if(mi!==void 0&&mi.technique!==void 0&&P(mi.technique)===!1){const ai=mi.technique;j0.wrapS=ai.wrapU?ks:Cr,j0.wrapT=ai.wrapV?ks:Cr,j0.offset.set(ai.offsetU||0,ai.offsetV||0),j0.repeat.set(ai.repeatU||1,ai.repeatV||1)}else j0.wrapS=ks,j0.wrapT=ks;return E0!==null&&(j0.colorSpace=E0),j0}else return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",n0),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",x0.id),null}const Pt=Ve.parameters;for(const x0 in Pt){const E0=Pt[x0];switch(x0){case"diffuse":E0.color&&Fe.color.fromArray(E0.color),E0.texture&&(Fe.map=ze(E0.texture,w2));break;case"specular":E0.color&&Fe.specular&&Fe.specular.fromArray(E0.color),E0.texture&&(Fe.specularMap=ze(E0.texture));break;case"bump":E0.texture&&(Fe.normalMap=ze(E0.texture));break;case"ambient":E0.texture&&(Fe.lightMap=ze(E0.texture,w2));break;case"shininess":E0.float&&Fe.shininess&&(Fe.shininess=E0.float);break;case"emission":E0.color&&Fe.emissive&&Fe.emissive.fromArray(E0.color),E0.texture&&(Fe.emissiveMap=ze(E0.texture,w2));break}}pi.colorSpaceToWorking(Fe.color,w2),Fe.specular&&pi.colorSpaceToWorking(Fe.specular,w2),Fe.emissive&&pi.colorSpaceToWorking(Fe.emissive,w2);let qt=Pt.transparent,k0=Pt.transparency;if(k0===void 0&&qt&&(k0={float:1}),qt===void 0&&k0&&(qt={opaque:"A_ONE",data:{color:[1,1,1,1]}}),qt&&k0)if(qt.data.texture)Fe.transparent=!0;else{const x0=qt.data.color;switch(qt.opaque){case"A_ONE":Fe.opacity=x0[3]*k0.float;break;case"RGB_ZERO":Fe.opacity=1-x0[0]*k0.float;break;case"A_ZERO":Fe.opacity=1-x0[3]*k0.float;break;case"RGB_ONE":Fe.opacity=x0[0]*k0.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',qt.opaque)}Fe.opacity<1&&(Fe.transparent=!0)}if(Ve.extra!==void 0&&Ve.extra.technique!==void 0){const x0=Ve.extra.technique;for(const E0 in x0){const J0=x0[E0];switch(E0){case"double_sided":Fe.side=J0===1?Nr:Cs;break;case"bump":Fe.normalMap=ze(J0.texture),Fe.normalScale=new O0(1,1);break}}}return Fe}function Ut(Re){return ce(ti.materials[Re],Jt)}function z0(Re){const Me={name:Re.getAttribute("name")};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"optics":Me.optics=g0(ze);break}}ti.cameras[Re.getAttribute("id")]=Me}function g0(Re){for(let Me=0;Me<Re.childNodes.length;Me++){const Ve=Re.childNodes[Me];switch(Ve.nodeName){case"technique_common":return ci(Ve)}}return{}}function ci(Re){const Me={};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];switch(Fe.nodeName){case"perspective":case"orthographic":Me.technique=Fe.nodeName,Me.parameters=$0(Fe);break}}return Me}function $0(Re){const Me={};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];switch(Fe.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":Me[Fe.nodeName]=parseFloat(Fe.textContent);break}}return Me}function t0(Re){let Me;switch(Re.optics.technique){case"perspective":Me=new Z2(Re.optics.parameters.yfov,Re.optics.parameters.aspect_ratio,Re.optics.parameters.znear,Re.optics.parameters.zfar);break;case"orthographic":let Ve=Re.optics.parameters.ymag,Fe=Re.optics.parameters.xmag;const ze=Re.optics.parameters.aspect_ratio;Fe=Fe===void 0?Ve*ze:Fe,Ve=Ve===void 0?Fe/ze:Ve,Fe*=.5,Ve*=.5,Me=new Bf(-Fe,Fe,Ve,-Ve,Re.optics.parameters.znear,Re.optics.parameters.zfar);break;default:Me=new Z2;break}return Me.name=Re.name||"",Me}function c0(Re){const Me=ti.cameras[Re];return Me!==void 0?ce(Me,t0):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",Re),null)}function yi(Re){let Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"technique_common":Me=li(ze);break}}ti.lights[Re.getAttribute("id")]=Me}function li(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"directional":case"point":case"spot":case"ambient":Me.technique=ze.nodeName,Me.parameters=D0(ze)}}return Me}function D0(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"color":const Pt=y(ze.textContent);Me.color=new ri().fromArray(Pt),pi.colorSpaceToWorking(Me.color,w2);break;case"falloff_angle":Me.falloffAngle=parseFloat(ze.textContent);break;case"quadratic_attenuation":const qt=parseFloat(ze.textContent);Me.distance=qt?Math.sqrt(1/qt):0;break}}return Me}function Si(Re){let Me;switch(Re.technique){case"directional":Me=new f8;break;case"point":Me=new yx;break;case"spot":Me=new F_;break;case"ambient":Me=new vx;break}return Re.parameters.color&&Me.color.copy(Re.parameters.color),Re.parameters.distance&&(Me.distance=Re.parameters.distance),Me}function rt(Re){const Me=ti.lights[Re];return Me!==void 0?ce(Me,Si):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",Re),null)}function S0(Re){const Me={name:Re.getAttribute("name"),sources:{},vertices:{},primitives:[]},Ve=f(Re,"mesh")[0];if(Ve!==void 0){for(let Fe=0;Fe<Ve.childNodes.length;Fe++){const ze=Ve.childNodes[Fe];if(ze.nodeType!==1)continue;const Pt=ze.getAttribute("id");switch(ze.nodeName){case"source":Me.sources[Pt]=d0(ze);break;case"vertices":Me.vertices=m0(ze);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",ze.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":Me.primitives.push(s0(ze));break;default:console.log(ze)}}ti.geometries[Re.getAttribute("id")]=Me}}function d0(Re){const Me={array:[],stride:3};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"float_array":Me.array=y(Fe.textContent);break;case"Name_array":Me.array=p(Fe.textContent);break;case"technique_common":const ze=f(Fe,"accessor")[0];ze!==void 0&&(Me.stride=parseInt(ze.getAttribute("stride")));break}}return Me}function m0(Re){const Me={};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];Fe.nodeType===1&&(Me[Fe.getAttribute("semantic")]=R(Fe.getAttribute("source")))}return Me}function s0(Re){const Me={type:Re.nodeName,material:Re.getAttribute("material"),count:parseInt(Re.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"input":const Pt=R(ze.getAttribute("source")),qt=ze.getAttribute("semantic"),k0=parseInt(ze.getAttribute("offset")),x0=parseInt(ze.getAttribute("set")),E0=x0>0?qt+x0:qt;Me.inputs[E0]={id:Pt,offset:k0},Me.stride=Math.max(Me.stride,k0+1),qt==="TEXCOORD"&&(Me.hasUV=!0);break;case"vcount":Me.vcount=T(ze.textContent);break;case"p":Me.p=T(ze.textContent);break}}return Me}function Zt(Re){const Me={};for(let Ve=0;Ve<Re.length;Ve++){const Fe=Re[Ve];Me[Fe.type]===void 0&&(Me[Fe.type]=[]),Me[Fe.type].push(Fe)}return Me}function W0(Re){let Me=0;for(let Ve=0,Fe=Re.length;Ve<Fe;Ve++)Re[Ve].hasUV===!0&&Me++;Me>0&&Me<Re.length&&(Re.uvsNeedsFix=!0)}function Ai(Re){const Me={},Ve=Re.sources,Fe=Re.vertices,ze=Re.primitives;if(ze.length===0)return{};const Pt=Zt(ze);for(const qt in Pt){const k0=Pt[qt];W0(k0),Me[qt]=yn(k0,Ve,Fe)}return Me}function yn(Re,Me,Ve){const Fe={},ze={array:[],stride:0},Pt={array:[],stride:0},qt={array:[],stride:0},k0={array:[],stride:0},x0={array:[],stride:0},E0={array:[],stride:4},J0={array:[],stride:4},n0=new os,K0=[];let j0=0;for(let mi=0;mi<Re.length;mi++){const ai=Re[mi],o2=ai.inputs;let Mn=0;switch(ai.type){case"lines":case"linestrips":Mn=ai.count*2;break;case"triangles":Mn=ai.count*3;break;case"polylist":for(let fn=0;fn<ai.count;fn++){const pn=ai.vcount[fn];switch(pn){case 3:Mn+=3;break;case 4:Mn+=6;break;default:Mn+=(pn-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknown primitive type:",ai.type)}n0.addGroup(j0,Mn,mi),j0+=Mn,ai.material&&K0.push(ai.material);for(const fn in o2){const pn=o2[fn];switch(fn){case"VERTEX":for(const no in Ve){const Pr=Ve[no];switch(no){case"POSITION":const G1=ze.array.length;if(Gi(ai,Me[Pr],pn.offset,ze.array),ze.stride=Me[Pr].stride,Me.skinWeights&&Me.skinIndices&&(Gi(ai,Me.skinIndices,pn.offset,E0.array),Gi(ai,Me.skinWeights,pn.offset,J0.array)),ai.hasUV===!1&&Re.uvsNeedsFix===!0){const th=(ze.array.length-G1)/ze.stride;for(let Hf=0;Hf<th;Hf++)qt.array.push(0,0)}break;case"NORMAL":Gi(ai,Me[Pr],pn.offset,Pt.array),Pt.stride=Me[Pr].stride;break;case"COLOR":Gi(ai,Me[Pr],pn.offset,x0.array),x0.stride=Me[Pr].stride;break;case"TEXCOORD":Gi(ai,Me[Pr],pn.offset,qt.array),qt.stride=Me[Pr].stride;break;case"TEXCOORD1":Gi(ai,Me[Pr],pn.offset,k0.array),qt.stride=Me[Pr].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',no)}}break;case"NORMAL":Gi(ai,Me[pn.id],pn.offset,Pt.array),Pt.stride=Me[pn.id].stride;break;case"COLOR":Gi(ai,Me[pn.id],pn.offset,x0.array,!0),x0.stride=Me[pn.id].stride;break;case"TEXCOORD":Gi(ai,Me[pn.id],pn.offset,qt.array),qt.stride=Me[pn.id].stride;break;case"TEXCOORD1":Gi(ai,Me[pn.id],pn.offset,k0.array),k0.stride=Me[pn.id].stride;break}}}return ze.array.length>0&&n0.setAttribute("position",new y2(ze.array,ze.stride)),Pt.array.length>0&&n0.setAttribute("normal",new y2(Pt.array,Pt.stride)),x0.array.length>0&&n0.setAttribute("color",new y2(x0.array,x0.stride)),qt.array.length>0&&n0.setAttribute("uv",new y2(qt.array,qt.stride)),k0.array.length>0&&n0.setAttribute("uv1",new y2(k0.array,k0.stride)),E0.array.length>0&&n0.setAttribute("skinIndex",new y2(E0.array,E0.stride)),J0.array.length>0&&n0.setAttribute("skinWeight",new y2(J0.array,J0.stride)),Fe.data=n0,Fe.type=Re[0].type,Fe.materialKeys=K0,Fe}function Gi(Re,Me,Ve,Fe,ze=!1){const Pt=Re.p,qt=Re.stride,k0=Re.vcount;function x0(n0){let K0=Pt[n0+Ve]*J0;const j0=K0+J0;for(;K0<j0;K0++)Fe.push(E0[K0]);if(ze){const mi=Fe.length-J0-1;tr.setRGB(Fe[mi+0],Fe[mi+1],Fe[mi+2],w2),Fe[mi+0]=tr.r,Fe[mi+1]=tr.g,Fe[mi+2]=tr.b}}const E0=Me.array,J0=Me.stride;if(Re.vcount!==void 0){let n0=0;for(let K0=0,j0=k0.length;K0<j0;K0++){const mi=k0[K0];if(mi===4){const ai=n0+qt*0,o2=n0+qt*1,Mn=n0+qt*2,fn=n0+qt*3;x0(ai),x0(o2),x0(fn),x0(o2),x0(Mn),x0(fn)}else if(mi===3){const ai=n0+qt*0,o2=n0+qt*1,Mn=n0+qt*2;x0(ai),x0(o2),x0(Mn)}else if(mi>4)for(let ai=1,o2=mi-2;ai<=o2;ai++){const Mn=n0+qt*0,fn=n0+qt*ai,pn=n0+qt*(ai+1);x0(Mn),x0(fn),x0(pn)}n0+=qt*mi}}else for(let n0=0,K0=Pt.length;n0<K0;n0+=qt)x0(n0)}function wr(Re){return ce(ti.geometries[Re],Ai)}function Ir(Re){const Me={name:Re.getAttribute("name")||"",joints:{},links:[]};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"technique_common":hc(Fe,Me);break}}ti.kinematicsModels[Re.getAttribute("id")]=Me}function pc(Re){return Re.build!==void 0?Re.build:Re}function _c(Re){return ce(ti.kinematicsModels[Re],pc)}function hc(Re,Me){for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"joint":Me.joints[Fe.getAttribute("sid")]=io(Fe);break;case"link":Me.links.push(xa(Fe));break}}}function io(Re){let Me;for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"prismatic":case"revolute":Me=ga(Fe);break}}return Me}function ga(Re){const Me={sid:Re.getAttribute("sid"),name:Re.getAttribute("name")||"",axis:new nt,limits:{min:0,max:0},type:Re.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"axis":const ze=y(Fe.textContent);Me.axis.fromArray(ze);break;case"limits":const Pt=Fe.getElementsByTagName("max")[0],qt=Fe.getElementsByTagName("min")[0];Me.limits.max=parseFloat(Pt.textContent),Me.limits.min=parseFloat(qt.textContent);break}}return Me.limits.min>=Me.limits.max&&(Me.static=!0),Me.middlePosition=(Me.limits.min+Me.limits.max)/2,Me}function xa(Re){const Me={sid:Re.getAttribute("sid"),name:Re.getAttribute("name")||"",attachments:[],transforms:[]};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"attachment_full":Me.attachments.push(Gs(Fe));break;case"matrix":case"translate":case"rotate":Me.transforms.push(Rs(Fe));break}}return Me}function Gs(Re){const Me={joint:Re.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"link":Me.links.push(xa(Fe));break;case"matrix":case"translate":case"rotate":Me.transforms.push(Rs(Fe));break}}return Me}function Rs(Re){const Me={type:Re.nodeName},Ve=y(Re.textContent);switch(Me.type){case"matrix":Me.obj=new wi,Me.obj.fromArray(Ve).transpose();break;case"translate":Me.obj=new nt,Me.obj.fromArray(Ve);break;case"rotate":Me.obj=new nt,Me.obj.fromArray(Ve),Me.angle=Ga.degToRad(Ve[3]);break}return Me}function dc(Re){const Me={name:Re.getAttribute("name")||"",rigidBodies:{}};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"rigid_body":Me.rigidBodies[Fe.getAttribute("name")]={},O1(Fe,Me.rigidBodies[Fe.getAttribute("name")]);break}}ti.physicsModels[Re.getAttribute("id")]=Me}function O1(Re,Me){for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"technique_common":mc(Fe,Me);break}}}function mc(Re,Me){for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"inertia":Me.inertia=y(Fe.textContent);break;case"mass":Me.mass=y(Fe.textContent)[0];break}}}function gc(Re){const Me={bindJointAxis:[]};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"bind_joint_axis":Me.bindJointAxis.push(lu(Fe));break}}ti.kinematicsScenes[R(Re.getAttribute("url"))]=Me}function lu(Re){const Me={target:Re.getAttribute("target").split("/").pop()};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"axis":const ze=Fe.getElementsByTagName("param")[0];Me.axis=ze.textContent;const Pt=Me.axis.split("inst_").pop().split("axis")[0];Me.jointIndex=Pt.substring(0,Pt.length-1);break}}return Me}function Co(Re){return Re.build!==void 0?Re.build:Re}function E2(Re){return ce(ti.kinematicsScenes[Re],Co)}function uu(){const Re=Object.keys(ti.kinematicsModels)[0],Me=Object.keys(ti.kinematicsScenes)[0],Ve=Object.keys(ti.visualScenes)[0];if(Re===void 0||Me===void 0)return;const Fe=_c(Re),ze=E2(Me),Pt=Hn(Ve),qt=ze.bindJointAxis,k0={};for(let J0=0,n0=qt.length;J0<n0;J0++){const K0=qt[J0],j0=cn.querySelector('[sid="'+K0.target+'"]');if(j0){const mi=j0.parentElement;x0(K0.jointIndex,mi)}}function x0(J0,n0){const K0=n0.getAttribute("name"),j0=Fe.joints[J0];Pt.traverse(function(mi){mi.name===K0&&(k0[J0]={object:mi,transforms:i1(n0),joint:j0,position:j0.zeroPosition})})}const E0=new wi;ir={joints:Fe&&Fe.joints,getJointValue:function(J0){const n0=k0[J0];if(n0)return n0.position;console.warn("THREE.ColladaLoader: Joint "+J0+" doesn't exist.")},setJointValue:function(J0,n0){const K0=k0[J0];if(K0){const j0=K0.joint;if(n0>j0.limits.max||n0<j0.limits.min)console.warn("THREE.ColladaLoader: Joint "+J0+" value "+n0+" outside of limits (min: "+j0.limits.min+", max: "+j0.limits.max+").");else if(j0.static)console.warn("THREE.ColladaLoader: Joint "+J0+" is static.");else{const mi=K0.object,ai=j0.axis,o2=K0.transforms;Ue.identity();for(let Mn=0;Mn<o2.length;Mn++){const fn=o2[Mn];if(fn.sid&&fn.sid.indexOf(J0)!==-1)switch(j0.type){case"revolute":Ue.multiply(E0.makeRotationAxis(ai,Ga.degToRad(n0)));break;case"prismatic":Ue.multiply(E0.makeTranslation(ai.x*n0,ai.y*n0,ai.z*n0));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+j0.type);break}else switch(fn.type){case"matrix":Ue.multiply(fn.obj);break;case"translate":Ue.multiply(E0.makeTranslation(fn.obj.x,fn.obj.y,fn.obj.z));break;case"scale":Ue.scale(fn.obj);break;case"rotate":Ue.multiply(E0.makeRotationAxis(fn.obj,fn.angle));break}}mi.matrix.copy(Ue),mi.matrix.decompose(mi.position,mi.quaternion,mi.scale),k0[J0].position=n0}}else console.log("THREE.ColladaLoader: "+J0+" does not exist.")}}}function i1(Re){const Me=[],Ve=cn.querySelector('[id="'+Re.id+'"]');for(let Fe=0;Fe<Ve.childNodes.length;Fe++){const ze=Ve.childNodes[Fe];if(ze.nodeType!==1)continue;let Pt,qt;switch(ze.nodeName){case"matrix":Pt=y(ze.textContent);const k0=new wi().fromArray(Pt).transpose();Me.push({sid:ze.getAttribute("sid"),type:ze.nodeName,obj:k0});break;case"translate":case"scale":Pt=y(ze.textContent),qt=new nt().fromArray(Pt),Me.push({sid:ze.getAttribute("sid"),type:ze.nodeName,obj:qt});break;case"rotate":Pt=y(ze.textContent),qt=new nt().fromArray(Pt);const x0=Ga.degToRad(Pt[3]);Me.push({sid:ze.getAttribute("sid"),type:ze.nodeName,obj:qt,angle:x0});break}}return Me}function fu(Re){const Me=Re.getElementsByTagName("node");for(let Ve=0;Ve<Me.length;Ve++){const Fe=Me[Ve];Fe.hasAttribute("id")===!1&&Fe.setAttribute("id",b())}}const Ue=new wi,_t=new nt;function At(Re){const Me={name:Re.getAttribute("name")||"",type:Re.getAttribute("type"),id:Re.getAttribute("id"),sid:Re.getAttribute("sid"),matrix:new wi,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType!==1)continue;let ze;switch(Fe.nodeName){case"node":Me.nodes.push(Fe.getAttribute("id")),At(Fe);break;case"instance_camera":Me.instanceCameras.push(R(Fe.getAttribute("url")));break;case"instance_controller":Me.instanceControllers.push(bt(Fe));break;case"instance_light":Me.instanceLights.push(R(Fe.getAttribute("url")));break;case"instance_geometry":Me.instanceGeometries.push(bt(Fe));break;case"instance_node":Me.instanceNodes.push(R(Fe.getAttribute("url")));break;case"matrix":ze=y(Fe.textContent),Me.matrix.multiply(Ue.fromArray(ze).transpose()),Me.transforms[Fe.getAttribute("sid")]=Fe.nodeName;break;case"translate":ze=y(Fe.textContent),_t.fromArray(ze),Me.matrix.multiply(Ue.makeTranslation(_t.x,_t.y,_t.z)),Me.transforms[Fe.getAttribute("sid")]=Fe.nodeName;break;case"rotate":ze=y(Fe.textContent);const Pt=Ga.degToRad(ze[3]);Me.matrix.multiply(Ue.makeRotationAxis(_t.fromArray(ze),Pt)),Me.transforms[Fe.getAttribute("sid")]=Fe.nodeName;break;case"scale":ze=y(Fe.textContent),Me.matrix.scale(_t.fromArray(ze)),Me.transforms[Fe.getAttribute("sid")]=Fe.nodeName;break;case"extra":break;default:console.log(Fe)}}return Ti(Me.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",Me.id):ti.nodes[Me.id]=Me,Me}function bt(Re){const Me={id:R(Re.getAttribute("url")),materials:{},skeletons:[]};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];switch(Fe.nodeName){case"bind_material":const ze=Fe.getElementsByTagName("instance_material");for(let Pt=0;Pt<ze.length;Pt++){const qt=ze[Pt],k0=qt.getAttribute("symbol"),x0=qt.getAttribute("target");Me.materials[k0]=R(x0)}break;case"skeleton":Me.skeletons.push(R(Fe.textContent));break}}return Me}function xt(Re,Me){const Ve=[],Fe=[];let ze,Pt,qt;for(ze=0;ze<Re.length;ze++){const E0=Re[ze];let J0;if(Ti(E0))J0=Y0(E0),l0(J0,Me,Ve);else if(Qn(E0)){const K0=ti.visualScenes[E0].children;for(let j0=0;j0<K0.length;j0++){const mi=K0[j0];if(mi.type==="JOINT"){const ai=Y0(mi.id);l0(ai,Me,Ve)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",E0)}for(ze=0;ze<Me.length;ze++)for(Pt=0;Pt<Ve.length;Pt++)if(qt=Ve[Pt],qt.bone.name===Me[ze].name){Fe[ze]=qt,qt.processed=!0;break}for(ze=0;ze<Ve.length;ze++)qt=Ve[ze],qt.processed===!1&&(Fe.push(qt),qt.processed=!0);const k0=[],x0=[];for(ze=0;ze<Fe.length;ze++)qt=Fe[ze],k0.push(qt.bone),x0.push(qt.boneInverse);return new s8(k0,x0)}function l0(Re,Me,Ve){Re.traverse(function(Fe){if(Fe.isBone===!0){let ze;for(let Pt=0;Pt<Me.length;Pt++){const qt=Me[Pt];if(qt.name===Fe.name){ze=qt.boneInverse;break}}ze===void 0&&(ze=new wi),Ve.push({bone:Fe,boneInverse:ze,processed:!1})}})}function M0(Re){const Me=[],Ve=Re.matrix,Fe=Re.nodes,ze=Re.type,Pt=Re.instanceCameras,qt=Re.instanceControllers,k0=Re.instanceLights,x0=Re.instanceGeometries,E0=Re.instanceNodes;for(let n0=0,K0=Fe.length;n0<K0;n0++)Me.push(Y0(Fe[n0]));for(let n0=0,K0=Pt.length;n0<K0;n0++){const j0=c0(Pt[n0]);j0!==null&&Me.push(j0.clone())}for(let n0=0,K0=qt.length;n0<K0;n0++){const j0=qt[n0],mi=y0(j0.id),ai=wr(mi.id),o2=di(ai,j0.materials),Mn=j0.skeletons,fn=mi.skin.joints,pn=xt(Mn,fn);for(let no=0,Pr=o2.length;no<Pr;no++){const G1=o2[no];G1.isSkinnedMesh&&(G1.bind(pn,mi.skin.bindMatrix),G1.normalizeSkinWeights()),Me.push(G1)}}for(let n0=0,K0=k0.length;n0<K0;n0++){const j0=rt(k0[n0]);j0!==null&&Me.push(j0.clone())}for(let n0=0,K0=x0.length;n0<K0;n0++){const j0=x0[n0],mi=wr(j0.id),ai=di(mi,j0.materials);for(let o2=0,Mn=ai.length;o2<Mn;o2++)Me.push(ai[o2])}for(let n0=0,K0=E0.length;n0<K0;n0++)Me.push(Y0(E0[n0]).clone());let J0;if(Fe.length===0&&Me.length===1)J0=Me[0];else{J0=ze==="JOINT"?new ux:new el;for(let n0=0;n0<Me.length;n0++)J0.add(Me[n0])}return J0.name=ze==="JOINT"?Re.sid:Re.name,J0.matrix.copy(Ve),J0.matrix.decompose(J0.position,J0.quaternion,J0.scale),J0}const H0=new ho({name:sc.DEFAULT_MATERIAL_NAME,color:16711935});function L0(Re,Me){const Ve=[];for(let Fe=0,ze=Re.length;Fe<ze;Fe++){const Pt=Me[Re[Fe]];Pt===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",Re[Fe]),Ve.push(H0)):Ve.push(Ut(Pt))}return Ve}function di(Re,Me){const Ve=[];for(const Fe in Re){const ze=Re[Fe],Pt=L0(ze.materialKeys,Me);if(Pt.length===0&&(Fe==="lines"||Fe==="linestrips"?Pt.push(new yf):Pt.push(new ld)),Fe==="lines"||Fe==="linestrips")for(let E0=0,J0=Pt.length;E0<J0;E0++){const n0=Pt[E0];if(n0.isMeshPhongMaterial===!0||n0.isMeshLambertMaterial===!0){const K0=new yf;K0.color.copy(n0.color),K0.opacity=n0.opacity,K0.transparent=n0.transparent,Pt[E0]=K0}}const qt=ze.data.attributes.skinIndex!==void 0,k0=Pt.length===1?Pt[0]:Pt;let x0;switch(Fe){case"lines":x0=new Zoe(ze.data,k0);break;case"linestrips":x0=new fx(ze.data,k0);break;case"triangles":case"polylist":qt?x0=new joe(ze.data,k0):x0=new G2(ze.data,k0);break}Ve.push(x0)}return Ve}function Ti(Re){return ti.nodes[Re]!==void 0}function Y0(Re){return ce(ti.nodes[Re],M0)}function Ui(Re){const Me={name:Re.getAttribute("name"),children:[]};fu(Re);const Ve=f(Re,"node");for(let Fe=0;Fe<Ve.length;Fe++)Me.children.push(At(Ve[Fe]));ti.visualScenes[Re.getAttribute("id")]=Me}function mn(Re){const Me=new el;Me.name=Re.name;const Ve=Re.children;for(let Fe=0;Fe<Ve.length;Fe++){const ze=Ve[Fe];Me.add(Y0(ze.id))}return Me}function Qn(Re){return ti.visualScenes[Re]!==void 0}function Hn(Re){return ce(ti.visualScenes[Re],mn)}function bi(Re){const Me=f(Re,"instance_visual_scene")[0];return Hn(R(Me.getAttribute("url")))}function _i(){const Re=ti.clips;if(P(Re)===!0){if(P(ti.animations)===!1){const Me=[];for(const Ve in ti.animations){const Fe=Oe(Ve);for(let ze=0,Pt=Fe.length;ze<Pt;ze++)Me.push(Fe[ze])}b2.push(new D3("default",-1,Me))}}else for(const Me in Re)b2.push(vt(Me))}function Nn(Re){let Me="";const Ve=[Re];for(;Ve.length;){const Fe=Ve.shift();Fe.nodeType===Node.TEXT_NODE?Me+=Fe.textContent:(Me+=`
`,Ve.push(...Fe.childNodes))}return Me.trim()}if(r.length===0)return{scene:new If};const en=new DOMParser().parseFromString(r,"application/xml"),cn=f(en,"COLLADA")[0],Vs=en.getElementsByTagName("parsererror")[0];if(Vs!==void 0){const Re=f(Vs,"div")[0];let Me;return Re?Me=Re.textContent:Me=Nn(Vs),console.error(`THREE.ColladaLoader: Failed to parse collada file.
`,Me),null}const p2=cn.getAttribute("version");console.debug("THREE.ColladaLoader: File version",p2);const wo=G(f(cn,"asset")[0]),On=new l8(this.manager);On.setPath(this.resourcePath||c).setCrossOrigin(this.crossOrigin);let z2;Wg&&(z2=new Wg(this.manager),z2.setPath(this.resourcePath||c));const tr=new ri,b2=[];let ir={},ya=0;const ti={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};Q(cn,"library_animations","animation",ue),Q(cn,"library_animation_clips","animation_clip",ct),Q(cn,"library_controllers","controller",Ht),Q(cn,"library_images","image",dt),Q(cn,"library_effects","effect",B0),Q(cn,"library_materials","material",St),Q(cn,"library_cameras","camera",z0),Q(cn,"library_lights","light",yi),Q(cn,"library_geometries","geometry",S0),Q(cn,"library_nodes","node",At),Q(cn,"library_visual_scenes","visual_scene",Ui),Q(cn,"library_kinematics_models","kinematics_model",Ir),Q(cn,"library_physics_models","physics_model",dc),Q(cn,"scene","instance_kinematics_scene",gc),ie(ti.animations,De),ie(ti.clips,Wt),ie(ti.controllers,C0),ie(ti.images,wt),ie(ti.effects,Ye),ie(ti.materials,Jt),ie(ti.cameras,t0),ie(ti.lights,Si),ie(ti.geometries,Ai),ie(ti.visualScenes,mn),_i(),uu();const xc=bi(f(cn,"scene")[0]);return xc.animations=b2,wo.upAxis==="Z_UP"&&(console.warn("THREE.ColladaLoader: You are loading an asset with a Z-UP coordinate system. The loader just rotates the asset to transform it into Y-UP. The vertex data are not converted, see #24289."),xc.rotation.set(-Math.PI/2,0,0)),xc.scale.multiplyScalar(wo.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),b2},kinematics:ir,library:ti,scene:xc}}}let bd={},Yl=[];const T5e=new S5e,C5e=[{type:"d4",file:"die_4.dae"},{type:"d6",file:"die_6.dae"},{type:"d8",file:"die_8.dae"},{type:"d10",file:"die_10.dae"},{type:"d12",file:"die_12.dae"},{type:"d20",file:"die_20.dae"}],br=()=>{const v=new Uint32Array(1);return window.crypto.getRandomValues(v),v[0]/4294967296},w5e=async()=>{const v=C5e.map(r=>new Promise((c,f)=>{let p=!1;const y=`./images/${r.file}`,T=setTimeout(()=>{console.warn(`Timeout loading ${y}`),p=!0,c()},15e3);T5e.load(y,R=>{if(p)return;clearTimeout(T);let b=null;if(R.scene.traverse(P=>{P.isMesh&&(b=P)}),b){const P=b.geometry.clone();P.center(),b.updateMatrixWorld(!0),P.applyMatrix4(b.matrixWorld),P.rotateX(-Math.PI/2),P.center();let G=b.material;G?G=Array.isArray(G)?G.map(K=>K.clone()):G.clone():G=new Vl({color:16711935});const j=new G2(P,G);j.position.set(0,0,0),j.rotation.set(0,0,0),j.scale.set(1,1,1),bd[r.type]=j,j.castShadow=!0,j.receiveShadow=!0,bd[r.type].userData.physicsShape=v5e(j),c()}else c()},void 0,R=>{p||(clearTimeout(T),c())})}));await Promise.all(v),console.log("All dice models loaded")},Ev=(v,r,c=null)=>{c||(c={d4:1,d6:1,d8:1,d10:1,d12:1,d20:1});const f=[];Object.keys(c).forEach(p=>{const y=c[p];for(let T=0;T<y;T++)f.push(p)}),f.forEach((p,y)=>{const T=bd[p];if(!T)return;const R=T.clone(),b=(br()-.5)*5,P=5+y*1.5,G=(br()-.5)*5;R.position.set(b,P,G),R.rotation.set(br()*Math.PI*2,br()*Math.PI*2,br()*Math.PI*2),v.add(R);const j=y5e(r,R,T.userData.physicsShape,{x:b,y:P,z:G},R.rotation);R.userData.body=j,Yl.push({mesh:R,body:j})})},M5e=()=>{const v=Wf(),r=new v.btTransform;Yl.forEach(c=>{const f=c.body,p=c.mesh;if(f&&f.getMotionState()){f.getMotionState().getWorldTransform(r);const y=r.getOrigin(),T=r.getRotation();p.position.set(y.x(),y.y(),y.z()),p.quaternion.set(T.x(),T.y(),T.z(),T.w())}}),v.destroy(r)},R5e=(v,r)=>{Yl.forEach(c=>{v.remove(c.mesh),r.removeRigidBody(c.body)}),Yl=[]},A5e=(v,r,c)=>{R5e(v,r),Ev(v,r,c)},E5e=(v,r)=>{const c=Wf(),f=new c.btTransform;Yl.forEach((p,y)=>{const T=p.body;T.setLinearVelocity(new c.btVector3(0,0,0)),T.setAngularVelocity(new c.btVector3(0,0,0));const R=(br()-.5)*4,b=8+y*.5+br()*3,P=(br()-.5)*4;f.setIdentity(),f.setOrigin(new c.btVector3(R,b,P));const G=new eo;G.setFromEuler(new Wr(br()*Math.PI*2,br()*Math.PI*2,br()*Math.PI*2)),f.setRotation(new c.btQuaternion(G.x,G.y,G.z,G.w)),T.setWorldTransform(f),T.getMotionState().setWorldTransform(f),T.activate();const j=(br()-.5)*80,K=br()*20-25,Q=(br()-.5)*80,ie=(br()-.5)*400,ce=(br()-.5)*400,ue=(br()-.5)*400;T.applyCentralImpulse(new c.btVector3(j,K,Q)),T.applyTorqueImpulse(new c.btVector3(ie,ce,ue))}),c.destroy(f)},b5e=(v,r)=>{const c=document.createElement("div");c.style.position="absolute",c.style.top="10px",c.style.right="10px",c.style.backgroundColor="rgba(0, 0, 0, 0.5)",c.style.padding="10px",c.style.color="white",c.style.fontFamily="sans-serif",c.style.borderRadius="5px",c.style.display="flex",c.style.flexDirection="column",c.style.gap="5px";const f=["d4","d6","d8","d10","d12","d20"],p={},y={d4:1,d6:1,d8:1,d10:1,d12:1,d20:1};f.forEach(R=>{const b=document.createElement("div");b.style.display="flex",b.style.justifyContent="space-between",b.style.alignItems="center";const P=document.createElement("label");P.textContent=R.toUpperCase()+": ",P.style.marginRight="10px";const G=document.createElement("input");G.type="number",G.min="0",G.max="10",G.value=y[R],G.style.width="40px",G.style.marginLeft="5px",G.addEventListener("change",()=>{y[R]=parseInt(G.value)||0,v(y)}),p[R]=G,b.appendChild(P),b.appendChild(G),c.appendChild(b)});const T=document.createElement("button");return T.textContent="Roll All",T.style.marginTop="10px",T.style.cursor="pointer",T.addEventListener("click",()=>{r()}),c.appendChild(T),document.body.appendChild(c),{updateCounts:R=>{Object.keys(R).forEach(b=>{p[b]&&(p[b].value=R[b],y[b]=R[b])})}}};let $a,Rf,Ja=null,go=null;new nt;new nt(0,1,0);const N5e=(v,r,c,f)=>{$a=new b1e,Rf=new O0,c.addEventListener("pointerdown",p=>D5e(p,v,r,f)),window.addEventListener("pointermove",p=>I5e(p,v)),window.addEventListener("pointerup",()=>P5e(f))};function D5e(v,r,c,f){if(v.button!==0)return;bv(v),$a.setFromCamera(Rf,r);const p=Yl.map(T=>T.mesh),y=$a.intersectObjects(p);if(y.length>0){const T=y[0],R=T.object,b=T.point;R.userData.body&&(Ja=R,L5e(R.userData.body,b,f))}}function I5e(v,r){if(bv(v),go){$a.setFromCamera(Rf,r),$a.ray.origin.y/-$a.ray.direction.y;const c=new po;c.setFromNormalAndCoplanarPoint(r.getWorldDirection(new nt),Ja.position);const f=new nt;if($a.ray.intersectPlane(c,f),f){const p=Wf();go.setPivotB(new p.btVector3(f.x,f.y,f.z))}}}function P5e(v){if(go){const r=Wf();v.removeConstraint(go),r.destroy(go),go=null,Ja=null}}function bv(v){Rf.x=v.clientX/window.innerWidth*2-1,Rf.y=-(v.clientY/window.innerHeight)*2+1}function L5e(v,r,c){const f=Wf(),p=v.getWorldTransform();new f.btTransform().setIdentity(),new f.btVector3(r.x,r.y,r.z),p.getOrigin(),p.getRotation();const T=Ja.worldToLocal(r.clone()),R=new f.btVector3(T.x,T.y,T.z);go=new f.btPoint2PointConstraint(v,R);const b=typeof go.get_m_setting=="function"?go.get_m_setting():go.m_setting||null;b&&(typeof b.set_m_impulseClamp=="function"?(b.set_m_impulseClamp(100),b.set_m_tau(.001),b.set_m_damping(1)):(b.m_impulseClamp=100,b.m_tau=.001,b.m_damping=1)),c.addConstraint(go),v.activate()}const k5e=()=>{Ja&&Ja.userData.body&&Ja.userData.body.activate()};function F5e(v){const p={x:0,y:-2,z:0},T=new l8().load("images/wood.jpg");T.wrapS=ks,T.wrapT=ks,T.repeat.set(4,4),T.colorSpace=w2;const R=new Vl({map:T,roughness:.8,metalness:.1,color:9127187}),b=new B1(25,1,25),P=new G2(b,R);return P.position.set(p.x,p.y,p.z),P.castShadow=!0,P.receiveShadow=!0,v.add(P),{mesh:P,width:25,height:1,depth:25,position:p}}let na,Wo,Xs,qa,Nv;B5e();async function B5e(){Wo=new If,Wo.background=new ri(12571109),na=new Z2(80,window.innerWidth/window.innerHeight,.1,1e3),na.position.set(5,5,-5),na.lookAt(0,-3,0);const v=new xx(16777215,4473924);v.position.set(0,20,0),Wo.add(v);const r=new f8(16777215);r.position.set(-10,10,-10),r.castShadow=!0,r.shadow.camera.top=10,r.shadow.camera.bottom=-10,r.shadow.camera.left=-10,r.shadow.camera.right=10,r.shadow.camera.near=.1,r.shadow.camera.far=40,Wo.add(r);try{Xs=new X3e({antialias:!0}),await Xs.init(),console.log("Using WebGPU")}catch(f){console.warn("WebGPU not supported, falling back to WebGL2",f),Xs=new gfe({antialias:!0})}Xs.setPixelRatio(window.devicePixelRatio),Xs.setSize(window.innerWidth,window.innerHeight),Xs.shadowMap.enabled=!0,document.body.appendChild(Xs.domElement);const c=new Y3e(na,Xs.domElement);c.target.set(0,-3,0),c.update();try{qa=await m5e();const f=F5e(Wo);x5e(Wo,qa,f)}catch(f){console.error("Failed to initialize physics",f);return}await w5e(),Ev(Wo,qa),b5e(f=>{A5e(Wo,qa,f)},()=>{E5e()}),N5e(na,Wo,Xs.domElement,qa),Nv=new A1e,window.addEventListener("resize",U5e),Xs.setAnimationLoop(O5e)}function U5e(){na.aspect=window.innerWidth/window.innerHeight,na.updateProjectionMatrix(),Xs.setSize(window.innerWidth,window.innerHeight)}function O5e(){const v=Nv.getDelta();qa&&(g5e(qa,v),M5e(),k5e()),Xs.render(Wo,na)}
