(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))f(_);new MutationObserver(_=>{for(const y of _)if(y.type==="childList")for(const T of y.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&f(T)}).observe(document,{childList:!0,subtree:!0});function c(_){const y={};return _.integrity&&(y.integrity=_.integrity),_.referrerPolicy&&(y.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?y.credentials="include":_.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function f(_){if(_.ep)return;_.ep=!0;const y=c(_);fetch(_.href,y)}})();const Ul="181",Sg=0,W4=1,Cg=2,cse=0,hd=1,lse=2,Ns=3,ys=0,Kn=1,Ar=2,vs=0,Ds=1,il=2,nl=3,rl=4,$c=5,Fr=100,dd=101,md=102,Tg=103,wg=104,h1=200,gd=201,xd=202,yd=203,qu=204,Xu=205,vd=206,Sd=207,Cd=208,Td=209,wd=210,use=211,fse=212,_se=213,pse=214,$u=0,Yu=1,Ku=2,na=3,Zu=4,Qu=5,Ju=6,ef=7,mf=0,Mg=1,Rg=2,Jr=0,Ag=1,Eg=2,Ng=3,bg=4,hse=5,Dg=6,Ig=7,Pm="attached",dse="detached",Md=300,Go=301,Vo=302,sl=303,ol=304,Ha=306,co=1e3,Sr=1001,ja=1002,n2=1003,Rd=1004,v1=1005,r2=1006,Yc=1007,Ur=1008,T2=1009,Ga=1010,Va=1011,lo=1012,vr=1013,Yn=1014,I2=1015,K2=1016,dp=1017,mp=1018,Is=1020,gp=35902,xp=35899,Ad=1021,gf=1022,w2=1023,Ps=1026,Ls=1027,xf=1028,Ol=1029,uo=1030,Gl=1031,mse=1032,Vl=1033,Q1=33776,J1=33777,ea=33778,ta=33779,tf=35840,nf=35841,rf=35842,sf=35843,al=36196,cl=37492,ll=37496,ul=37808,fl=37809,_l=37810,pl=37811,hl=37812,dl=37813,ml=37814,gl=37815,xl=37816,yl=37817,vl=37818,Sl=37819,Cl=37820,Tl=37821,wl=36492,H4=36494,j4=36495,Ml=36283,Rl=36284,Al=36285,El=36286,ep=2300,q4=2301,Dh=2302,Lm=2400,km=2401,Fm=2402,gse=2500,xse=3200,yse=3201,M1=0,Pg=1,ms="",D2="srgb",qa="srgb-linear",Nl="linear",N0="srgb",vse=0,Da=7680,Sse=7681,Cse=7682,Tse=7683,wse=34055,Mse=34056,Rse=5386,Ase=512,Ese=513,Nse=514,bse=515,Dse=516,Ise=517,Pse=518,X4=519,Ed=512,yp=513,Nd=514,vp=515,bd=516,Dd=517,Id=518,Pd=519,tp=35044,Wc=35048,Bm="300 es",es=2e3,ra=2001,Bo={COMPUTE:"compute",RENDER:"render"};function Ld(v){for(let r=v.length-1;r>=0;--r)if(v[r]>=65535)return!0;return!1}function of(v){return document.createElementNS("http://www.w3.org/1999/xhtml",v)}function Lg(){const v=of("canvas");return v.style.display="block",v}const Um={};function af(...v){const r="THREE."+v.shift();console.log(r,...v)}function jt(...v){const r="THREE."+v.shift();console.warn(r,...v)}function r0(...v){const r="THREE."+v.shift();console.error(r,...v)}function a2(...v){const r=v.join(" ");r in Um||(Um[r]=!0,jt(...v))}function Lse(v,r,c){return new Promise(function(f,_){function y(){switch(v.clientWaitSync(r,v.SYNC_FLUSH_COMMANDS_BIT,0)){case v.WAIT_FAILED:_();break;case v.TIMEOUT_EXPIRED:setTimeout(y,c);break;default:f()}}setTimeout(y,c)})}class N1{addEventListener(r,c){this._listeners===void 0&&(this._listeners={});const f=this._listeners;f[r]===void 0&&(f[r]=[]),f[r].indexOf(c)===-1&&f[r].push(c)}hasEventListener(r,c){const f=this._listeners;return f===void 0?!1:f[r]!==void 0&&f[r].indexOf(c)!==-1}removeEventListener(r,c){const f=this._listeners;if(f===void 0)return;const _=f[r];if(_!==void 0){const y=_.indexOf(c);y!==-1&&_.splice(y,1)}}dispatchEvent(r){const c=this._listeners;if(c===void 0)return;const f=c[r.type];if(f!==void 0){r.target=this;const _=f.slice(0);for(let y=0,T=_.length;y<T;y++)_[y].call(this,r);r.target=null}}}const Lr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Om=1234567;const ku=Math.PI/180,Xa=180/Math.PI;function fo(){const v=Math.random()*4294967295|0,r=Math.random()*4294967295|0,c=Math.random()*4294967295|0,f=Math.random()*4294967295|0;return(Lr[v&255]+Lr[v>>8&255]+Lr[v>>16&255]+Lr[v>>24&255]+"-"+Lr[r&255]+Lr[r>>8&255]+"-"+Lr[r>>16&15|64]+Lr[r>>24&255]+"-"+Lr[c&63|128]+Lr[c>>8&255]+"-"+Lr[c>>16&255]+Lr[c>>24&255]+Lr[f&255]+Lr[f>>8&255]+Lr[f>>16&255]+Lr[f>>24&255]).toLowerCase()}function Ji(v,r,c){return Math.max(r,Math.min(c,v))}function kd(v,r){return(v%r+r)%r}function kse(v,r,c,f,_){return f+(v-r)*(_-f)/(c-r)}function Fse(v,r,c){return v!==r?(c-v)/(r-v):0}function Fu(v,r,c){return(1-c)*v+c*r}function Bse(v,r,c,f){return Fu(v,r,1-Math.exp(-c*f))}function Use(v,r=1){return r-Math.abs(kd(v,r*2)-r)}function Ose(v,r,c){return v<=r?0:v>=c?1:(v=(v-r)/(c-r),v*v*(3-2*v))}function Gse(v,r,c){return v<=r?0:v>=c?1:(v=(v-r)/(c-r),v*v*v*(v*(v*6-15)+10))}function Vse(v,r){return v+Math.floor(Math.random()*(r-v+1))}function zse(v,r){return v+Math.random()*(r-v)}function Wse(v){return v*(.5-Math.random())}function Hse(v){v!==void 0&&(Om=v);let r=Om+=1831565813;return r=Math.imul(r^r>>>15,r|1),r^=r+Math.imul(r^r>>>7,r|61),((r^r>>>14)>>>0)/4294967296}function jse(v){return v*ku}function qse(v){return v*Xa}function Xse(v){return(v&v-1)===0&&v!==0}function $se(v){return Math.pow(2,Math.ceil(Math.log(v)/Math.LN2))}function Yse(v){return Math.pow(2,Math.floor(Math.log(v)/Math.LN2))}function Kse(v,r,c,f,_){const y=Math.cos,T=Math.sin,A=y(c/2),N=T(c/2),k=y((r+f)/2),V=T((r+f)/2),j=y((r-f)/2),K=T((r-f)/2),Q=y((f-r)/2),ie=T((f-r)/2);switch(_){case"XYX":v.set(A*V,N*j,N*K,A*k);break;case"YZY":v.set(N*K,A*V,N*j,A*k);break;case"ZXZ":v.set(N*j,N*K,A*V,A*k);break;case"XZX":v.set(A*V,N*ie,N*Q,A*k);break;case"YXY":v.set(N*Q,A*V,N*ie,A*k);break;case"ZYZ":v.set(N*ie,N*Q,A*V,A*k);break;default:jt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+_)}}function Qr(v,r){switch(r.constructor){case Float32Array:return v;case Uint32Array:return v/4294967295;case Uint16Array:return v/65535;case Uint8Array:return v/255;case Int32Array:return Math.max(v/2147483647,-1);case Int16Array:return Math.max(v/32767,-1);case Int8Array:return Math.max(v/127,-1);default:throw new Error("Invalid component type.")}}function ji(v,r){switch(r.constructor){case Float32Array:return v;case Uint32Array:return Math.round(v*4294967295);case Uint16Array:return Math.round(v*65535);case Uint8Array:return Math.round(v*255);case Int32Array:return Math.round(v*2147483647);case Int16Array:return Math.round(v*32767);case Int8Array:return Math.round(v*127);default:throw new Error("Invalid component type.")}}const zc={DEG2RAD:ku,RAD2DEG:Xa,generateUUID:fo,clamp:Ji,euclideanModulo:kd,mapLinear:kse,inverseLerp:Fse,lerp:Fu,damp:Bse,pingpong:Use,smoothstep:Ose,smootherstep:Gse,randInt:Vse,randFloat:zse,randFloatSpread:Wse,seededRandom:Hse,degToRad:jse,radToDeg:qse,isPowerOfTwo:Xse,ceilPowerOfTwo:$se,floorPowerOfTwo:Yse,setQuaternionFromProperEuler:Kse,normalize:ji,denormalize:Qr};class _i{constructor(r=0,c=0){_i.prototype.isVector2=!0,this.x=r,this.y=c}get width(){return this.x}set width(r){this.x=r}get height(){return this.y}set height(r){this.y=r}set(r,c){return this.x=r,this.y=c,this}setScalar(r){return this.x=r,this.y=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setComponent(r,c){switch(r){case 0:this.x=c;break;case 1:this.y=c;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y)}copy(r){return this.x=r.x,this.y=r.y,this}add(r){return this.x+=r.x,this.y+=r.y,this}addScalar(r){return this.x+=r,this.y+=r,this}addVectors(r,c){return this.x=r.x+c.x,this.y=r.y+c.y,this}addScaledVector(r,c){return this.x+=r.x*c,this.y+=r.y*c,this}sub(r){return this.x-=r.x,this.y-=r.y,this}subScalar(r){return this.x-=r,this.y-=r,this}subVectors(r,c){return this.x=r.x-c.x,this.y=r.y-c.y,this}multiply(r){return this.x*=r.x,this.y*=r.y,this}multiplyScalar(r){return this.x*=r,this.y*=r,this}divide(r){return this.x/=r.x,this.y/=r.y,this}divideScalar(r){return this.multiplyScalar(1/r)}applyMatrix3(r){const c=this.x,f=this.y,_=r.elements;return this.x=_[0]*c+_[3]*f+_[6],this.y=_[1]*c+_[4]*f+_[7],this}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this}clamp(r,c){return this.x=Ji(this.x,r.x,c.x),this.y=Ji(this.y,r.y,c.y),this}clampScalar(r,c){return this.x=Ji(this.x,r,c),this.y=Ji(this.y,r,c),this}clampLength(r,c){const f=this.length();return this.divideScalar(f||1).multiplyScalar(Ji(f,r,c))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(r){return this.x*r.x+this.y*r.y}cross(r){return this.x*r.y-this.y*r.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(r){const c=Math.sqrt(this.lengthSq()*r.lengthSq());if(c===0)return Math.PI/2;const f=this.dot(r)/c;return Math.acos(Ji(f,-1,1))}distanceTo(r){return Math.sqrt(this.distanceToSquared(r))}distanceToSquared(r){const c=this.x-r.x,f=this.y-r.y;return c*c+f*f}manhattanDistanceTo(r){return Math.abs(this.x-r.x)+Math.abs(this.y-r.y)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,c){return this.x+=(r.x-this.x)*c,this.y+=(r.y-this.y)*c,this}lerpVectors(r,c,f){return this.x=r.x+(c.x-r.x)*f,this.y=r.y+(c.y-r.y)*f,this}equals(r){return r.x===this.x&&r.y===this.y}fromArray(r,c=0){return this.x=r[c],this.y=r[c+1],this}toArray(r=[],c=0){return r[c]=this.x,r[c+1]=this.y,r}fromBufferAttribute(r,c){return this.x=r.getX(c),this.y=r.getY(c),this}rotateAround(r,c){const f=Math.cos(c),_=Math.sin(c),y=this.x-r.x,T=this.y-r.y;return this.x=y*f-T*_+r.x,this.y=y*_+T*f+r.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class b1{constructor(r=0,c=0,f=0,_=1){this.isQuaternion=!0,this._x=r,this._y=c,this._z=f,this._w=_}static slerpFlat(r,c,f,_,y,T,A){let N=f[_+0],k=f[_+1],V=f[_+2],j=f[_+3],K=y[T+0],Q=y[T+1],ie=y[T+2],ce=y[T+3];if(A<=0){r[c+0]=N,r[c+1]=k,r[c+2]=V,r[c+3]=j;return}if(A>=1){r[c+0]=K,r[c+1]=Q,r[c+2]=ie,r[c+3]=ce;return}if(j!==ce||N!==K||k!==Q||V!==ie){let ue=N*K+k*Q+V*ie+j*ce;ue<0&&(K=-K,Q=-Q,ie=-ie,ce=-ce,ue=-ue);let re=1-A;if(ue<.9995){const be=Math.acos(ue),De=Math.sin(be);re=Math.sin(re*be)/De,A=Math.sin(A*be)/De,N=N*re+K*A,k=k*re+Q*A,V=V*re+ie*A,j=j*re+ce*A}else{N=N*re+K*A,k=k*re+Q*A,V=V*re+ie*A,j=j*re+ce*A;const be=1/Math.sqrt(N*N+k*k+V*V+j*j);N*=be,k*=be,V*=be,j*=be}}r[c]=N,r[c+1]=k,r[c+2]=V,r[c+3]=j}static multiplyQuaternionsFlat(r,c,f,_,y,T){const A=f[_],N=f[_+1],k=f[_+2],V=f[_+3],j=y[T],K=y[T+1],Q=y[T+2],ie=y[T+3];return r[c]=A*ie+V*j+N*Q-k*K,r[c+1]=N*ie+V*K+k*j-A*Q,r[c+2]=k*ie+V*Q+A*K-N*j,r[c+3]=V*ie-A*j-N*K-k*Q,r}get x(){return this._x}set x(r){this._x=r,this._onChangeCallback()}get y(){return this._y}set y(r){this._y=r,this._onChangeCallback()}get z(){return this._z}set z(r){this._z=r,this._onChangeCallback()}get w(){return this._w}set w(r){this._w=r,this._onChangeCallback()}set(r,c,f,_){return this._x=r,this._y=c,this._z=f,this._w=_,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(r){return this._x=r.x,this._y=r.y,this._z=r.z,this._w=r.w,this._onChangeCallback(),this}setFromEuler(r,c=!0){const f=r._x,_=r._y,y=r._z,T=r._order,A=Math.cos,N=Math.sin,k=A(f/2),V=A(_/2),j=A(y/2),K=N(f/2),Q=N(_/2),ie=N(y/2);switch(T){case"XYZ":this._x=K*V*j+k*Q*ie,this._y=k*Q*j-K*V*ie,this._z=k*V*ie+K*Q*j,this._w=k*V*j-K*Q*ie;break;case"YXZ":this._x=K*V*j+k*Q*ie,this._y=k*Q*j-K*V*ie,this._z=k*V*ie-K*Q*j,this._w=k*V*j+K*Q*ie;break;case"ZXY":this._x=K*V*j-k*Q*ie,this._y=k*Q*j+K*V*ie,this._z=k*V*ie+K*Q*j,this._w=k*V*j-K*Q*ie;break;case"ZYX":this._x=K*V*j-k*Q*ie,this._y=k*Q*j+K*V*ie,this._z=k*V*ie-K*Q*j,this._w=k*V*j+K*Q*ie;break;case"YZX":this._x=K*V*j+k*Q*ie,this._y=k*Q*j+K*V*ie,this._z=k*V*ie-K*Q*j,this._w=k*V*j-K*Q*ie;break;case"XZY":this._x=K*V*j-k*Q*ie,this._y=k*Q*j-K*V*ie,this._z=k*V*ie+K*Q*j,this._w=k*V*j+K*Q*ie;break;default:jt("Quaternion: .setFromEuler() encountered an unknown order: "+T)}return c===!0&&this._onChangeCallback(),this}setFromAxisAngle(r,c){const f=c/2,_=Math.sin(f);return this._x=r.x*_,this._y=r.y*_,this._z=r.z*_,this._w=Math.cos(f),this._onChangeCallback(),this}setFromRotationMatrix(r){const c=r.elements,f=c[0],_=c[4],y=c[8],T=c[1],A=c[5],N=c[9],k=c[2],V=c[6],j=c[10],K=f+A+j;if(K>0){const Q=.5/Math.sqrt(K+1);this._w=.25/Q,this._x=(V-N)*Q,this._y=(y-k)*Q,this._z=(T-_)*Q}else if(f>A&&f>j){const Q=2*Math.sqrt(1+f-A-j);this._w=(V-N)/Q,this._x=.25*Q,this._y=(_+T)/Q,this._z=(y+k)/Q}else if(A>j){const Q=2*Math.sqrt(1+A-f-j);this._w=(y-k)/Q,this._x=(_+T)/Q,this._y=.25*Q,this._z=(N+V)/Q}else{const Q=2*Math.sqrt(1+j-f-A);this._w=(T-_)/Q,this._x=(y+k)/Q,this._y=(N+V)/Q,this._z=.25*Q}return this._onChangeCallback(),this}setFromUnitVectors(r,c){let f=r.dot(c)+1;return f<1e-8?(f=0,Math.abs(r.x)>Math.abs(r.z)?(this._x=-r.y,this._y=r.x,this._z=0,this._w=f):(this._x=0,this._y=-r.z,this._z=r.y,this._w=f)):(this._x=r.y*c.z-r.z*c.y,this._y=r.z*c.x-r.x*c.z,this._z=r.x*c.y-r.y*c.x,this._w=f),this.normalize()}angleTo(r){return 2*Math.acos(Math.abs(Ji(this.dot(r),-1,1)))}rotateTowards(r,c){const f=this.angleTo(r);if(f===0)return this;const _=Math.min(1,c/f);return this.slerp(r,_),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(r){return this._x*r._x+this._y*r._y+this._z*r._z+this._w*r._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let r=this.length();return r===0?(this._x=0,this._y=0,this._z=0,this._w=1):(r=1/r,this._x=this._x*r,this._y=this._y*r,this._z=this._z*r,this._w=this._w*r),this._onChangeCallback(),this}multiply(r){return this.multiplyQuaternions(this,r)}premultiply(r){return this.multiplyQuaternions(r,this)}multiplyQuaternions(r,c){const f=r._x,_=r._y,y=r._z,T=r._w,A=c._x,N=c._y,k=c._z,V=c._w;return this._x=f*V+T*A+_*k-y*N,this._y=_*V+T*N+y*A-f*k,this._z=y*V+T*k+f*N-_*A,this._w=T*V-f*A-_*N-y*k,this._onChangeCallback(),this}slerp(r,c){if(c<=0)return this;if(c>=1)return this.copy(r);let f=r._x,_=r._y,y=r._z,T=r._w,A=this.dot(r);A<0&&(f=-f,_=-_,y=-y,T=-T,A=-A);let N=1-c;if(A<.9995){const k=Math.acos(A),V=Math.sin(k);N=Math.sin(N*k)/V,c=Math.sin(c*k)/V,this._x=this._x*N+f*c,this._y=this._y*N+_*c,this._z=this._z*N+y*c,this._w=this._w*N+T*c,this._onChangeCallback()}else this._x=this._x*N+f*c,this._y=this._y*N+_*c,this._z=this._z*N+y*c,this._w=this._w*N+T*c,this.normalize();return this}slerpQuaternions(r,c,f){return this.copy(r).slerp(c,f)}random(){const r=2*Math.PI*Math.random(),c=2*Math.PI*Math.random(),f=Math.random(),_=Math.sqrt(1-f),y=Math.sqrt(f);return this.set(_*Math.sin(r),_*Math.cos(r),y*Math.sin(c),y*Math.cos(c))}equals(r){return r._x===this._x&&r._y===this._y&&r._z===this._z&&r._w===this._w}fromArray(r,c=0){return this._x=r[c],this._y=r[c+1],this._z=r[c+2],this._w=r[c+3],this._onChangeCallback(),this}toArray(r=[],c=0){return r[c]=this._x,r[c+1]=this._y,r[c+2]=this._z,r[c+3]=this._w,r}fromBufferAttribute(r,c){return this._x=r.getX(c),this._y=r.getY(c),this._z=r.getZ(c),this._w=r.getW(c),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(r){return this._onChangeCallback=r,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class at{constructor(r=0,c=0,f=0){at.prototype.isVector3=!0,this.x=r,this.y=c,this.z=f}set(r,c,f){return f===void 0&&(f=this.z),this.x=r,this.y=c,this.z=f,this}setScalar(r){return this.x=r,this.y=r,this.z=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setZ(r){return this.z=r,this}setComponent(r,c){switch(r){case 0:this.x=c;break;case 1:this.y=c;break;case 2:this.z=c;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(r){return this.x=r.x,this.y=r.y,this.z=r.z,this}add(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z,this}addScalar(r){return this.x+=r,this.y+=r,this.z+=r,this}addVectors(r,c){return this.x=r.x+c.x,this.y=r.y+c.y,this.z=r.z+c.z,this}addScaledVector(r,c){return this.x+=r.x*c,this.y+=r.y*c,this.z+=r.z*c,this}sub(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z,this}subScalar(r){return this.x-=r,this.y-=r,this.z-=r,this}subVectors(r,c){return this.x=r.x-c.x,this.y=r.y-c.y,this.z=r.z-c.z,this}multiply(r){return this.x*=r.x,this.y*=r.y,this.z*=r.z,this}multiplyScalar(r){return this.x*=r,this.y*=r,this.z*=r,this}multiplyVectors(r,c){return this.x=r.x*c.x,this.y=r.y*c.y,this.z=r.z*c.z,this}applyEuler(r){return this.applyQuaternion(Gm.setFromEuler(r))}applyAxisAngle(r,c){return this.applyQuaternion(Gm.setFromAxisAngle(r,c))}applyMatrix3(r){const c=this.x,f=this.y,_=this.z,y=r.elements;return this.x=y[0]*c+y[3]*f+y[6]*_,this.y=y[1]*c+y[4]*f+y[7]*_,this.z=y[2]*c+y[5]*f+y[8]*_,this}applyNormalMatrix(r){return this.applyMatrix3(r).normalize()}applyMatrix4(r){const c=this.x,f=this.y,_=this.z,y=r.elements,T=1/(y[3]*c+y[7]*f+y[11]*_+y[15]);return this.x=(y[0]*c+y[4]*f+y[8]*_+y[12])*T,this.y=(y[1]*c+y[5]*f+y[9]*_+y[13])*T,this.z=(y[2]*c+y[6]*f+y[10]*_+y[14])*T,this}applyQuaternion(r){const c=this.x,f=this.y,_=this.z,y=r.x,T=r.y,A=r.z,N=r.w,k=2*(T*_-A*f),V=2*(A*c-y*_),j=2*(y*f-T*c);return this.x=c+N*k+T*j-A*V,this.y=f+N*V+A*k-y*j,this.z=_+N*j+y*V-T*k,this}project(r){return this.applyMatrix4(r.matrixWorldInverse).applyMatrix4(r.projectionMatrix)}unproject(r){return this.applyMatrix4(r.projectionMatrixInverse).applyMatrix4(r.matrixWorld)}transformDirection(r){const c=this.x,f=this.y,_=this.z,y=r.elements;return this.x=y[0]*c+y[4]*f+y[8]*_,this.y=y[1]*c+y[5]*f+y[9]*_,this.z=y[2]*c+y[6]*f+y[10]*_,this.normalize()}divide(r){return this.x/=r.x,this.y/=r.y,this.z/=r.z,this}divideScalar(r){return this.multiplyScalar(1/r)}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this.z=Math.min(this.z,r.z),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this.z=Math.max(this.z,r.z),this}clamp(r,c){return this.x=Ji(this.x,r.x,c.x),this.y=Ji(this.y,r.y,c.y),this.z=Ji(this.z,r.z,c.z),this}clampScalar(r,c){return this.x=Ji(this.x,r,c),this.y=Ji(this.y,r,c),this.z=Ji(this.z,r,c),this}clampLength(r,c){const f=this.length();return this.divideScalar(f||1).multiplyScalar(Ji(f,r,c))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(r){return this.x*r.x+this.y*r.y+this.z*r.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,c){return this.x+=(r.x-this.x)*c,this.y+=(r.y-this.y)*c,this.z+=(r.z-this.z)*c,this}lerpVectors(r,c,f){return this.x=r.x+(c.x-r.x)*f,this.y=r.y+(c.y-r.y)*f,this.z=r.z+(c.z-r.z)*f,this}cross(r){return this.crossVectors(this,r)}crossVectors(r,c){const f=r.x,_=r.y,y=r.z,T=c.x,A=c.y,N=c.z;return this.x=_*N-y*A,this.y=y*T-f*N,this.z=f*A-_*T,this}projectOnVector(r){const c=r.lengthSq();if(c===0)return this.set(0,0,0);const f=r.dot(this)/c;return this.copy(r).multiplyScalar(f)}projectOnPlane(r){return Ih.copy(this).projectOnVector(r),this.sub(Ih)}reflect(r){return this.sub(Ih.copy(r).multiplyScalar(2*this.dot(r)))}angleTo(r){const c=Math.sqrt(this.lengthSq()*r.lengthSq());if(c===0)return Math.PI/2;const f=this.dot(r)/c;return Math.acos(Ji(f,-1,1))}distanceTo(r){return Math.sqrt(this.distanceToSquared(r))}distanceToSquared(r){const c=this.x-r.x,f=this.y-r.y,_=this.z-r.z;return c*c+f*f+_*_}manhattanDistanceTo(r){return Math.abs(this.x-r.x)+Math.abs(this.y-r.y)+Math.abs(this.z-r.z)}setFromSpherical(r){return this.setFromSphericalCoords(r.radius,r.phi,r.theta)}setFromSphericalCoords(r,c,f){const _=Math.sin(c)*r;return this.x=_*Math.sin(f),this.y=Math.cos(c)*r,this.z=_*Math.cos(f),this}setFromCylindrical(r){return this.setFromCylindricalCoords(r.radius,r.theta,r.y)}setFromCylindricalCoords(r,c,f){return this.x=r*Math.sin(c),this.y=f,this.z=r*Math.cos(c),this}setFromMatrixPosition(r){const c=r.elements;return this.x=c[12],this.y=c[13],this.z=c[14],this}setFromMatrixScale(r){const c=this.setFromMatrixColumn(r,0).length(),f=this.setFromMatrixColumn(r,1).length(),_=this.setFromMatrixColumn(r,2).length();return this.x=c,this.y=f,this.z=_,this}setFromMatrixColumn(r,c){return this.fromArray(r.elements,c*4)}setFromMatrix3Column(r,c){return this.fromArray(r.elements,c*3)}setFromEuler(r){return this.x=r._x,this.y=r._y,this.z=r._z,this}setFromColor(r){return this.x=r.r,this.y=r.g,this.z=r.b,this}equals(r){return r.x===this.x&&r.y===this.y&&r.z===this.z}fromArray(r,c=0){return this.x=r[c],this.y=r[c+1],this.z=r[c+2],this}toArray(r=[],c=0){return r[c]=this.x,r[c+1]=this.y,r[c+2]=this.z,r}fromBufferAttribute(r,c){return this.x=r.getX(c),this.y=r.getY(c),this.z=r.getZ(c),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const r=Math.random()*Math.PI*2,c=Math.random()*2-1,f=Math.sqrt(1-c*c);return this.x=f*Math.cos(r),this.y=c,this.z=f*Math.sin(r),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ih=new at,Gm=new b1;class Pi{constructor(r,c,f,_,y,T,A,N,k){Pi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],r!==void 0&&this.set(r,c,f,_,y,T,A,N,k)}set(r,c,f,_,y,T,A,N,k){const V=this.elements;return V[0]=r,V[1]=_,V[2]=A,V[3]=c,V[4]=y,V[5]=N,V[6]=f,V[7]=T,V[8]=k,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(r){const c=this.elements,f=r.elements;return c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=f[6],c[7]=f[7],c[8]=f[8],this}extractBasis(r,c,f){return r.setFromMatrix3Column(this,0),c.setFromMatrix3Column(this,1),f.setFromMatrix3Column(this,2),this}setFromMatrix4(r){const c=r.elements;return this.set(c[0],c[4],c[8],c[1],c[5],c[9],c[2],c[6],c[10]),this}multiply(r){return this.multiplyMatrices(this,r)}premultiply(r){return this.multiplyMatrices(r,this)}multiplyMatrices(r,c){const f=r.elements,_=c.elements,y=this.elements,T=f[0],A=f[3],N=f[6],k=f[1],V=f[4],j=f[7],K=f[2],Q=f[5],ie=f[8],ce=_[0],ue=_[3],re=_[6],be=_[1],De=_[4],Oe=_[7],je=_[2],Be=_[5],We=_[8];return y[0]=T*ce+A*be+N*je,y[3]=T*ue+A*De+N*Be,y[6]=T*re+A*Oe+N*We,y[1]=k*ce+V*be+j*je,y[4]=k*ue+V*De+j*Be,y[7]=k*re+V*Oe+j*We,y[2]=K*ce+Q*be+ie*je,y[5]=K*ue+Q*De+ie*Be,y[8]=K*re+Q*Oe+ie*We,this}multiplyScalar(r){const c=this.elements;return c[0]*=r,c[3]*=r,c[6]*=r,c[1]*=r,c[4]*=r,c[7]*=r,c[2]*=r,c[5]*=r,c[8]*=r,this}determinant(){const r=this.elements,c=r[0],f=r[1],_=r[2],y=r[3],T=r[4],A=r[5],N=r[6],k=r[7],V=r[8];return c*T*V-c*A*k-f*y*V+f*A*N+_*y*k-_*T*N}invert(){const r=this.elements,c=r[0],f=r[1],_=r[2],y=r[3],T=r[4],A=r[5],N=r[6],k=r[7],V=r[8],j=V*T-A*k,K=A*N-V*y,Q=k*y-T*N,ie=c*j+f*K+_*Q;if(ie===0)return this.set(0,0,0,0,0,0,0,0,0);const ce=1/ie;return r[0]=j*ce,r[1]=(_*k-V*f)*ce,r[2]=(A*f-_*T)*ce,r[3]=K*ce,r[4]=(V*c-_*N)*ce,r[5]=(_*y-A*c)*ce,r[6]=Q*ce,r[7]=(f*N-k*c)*ce,r[8]=(T*c-f*y)*ce,this}transpose(){let r;const c=this.elements;return r=c[1],c[1]=c[3],c[3]=r,r=c[2],c[2]=c[6],c[6]=r,r=c[5],c[5]=c[7],c[7]=r,this}getNormalMatrix(r){return this.setFromMatrix4(r).invert().transpose()}transposeIntoArray(r){const c=this.elements;return r[0]=c[0],r[1]=c[3],r[2]=c[6],r[3]=c[1],r[4]=c[4],r[5]=c[7],r[6]=c[2],r[7]=c[5],r[8]=c[8],this}setUvTransform(r,c,f,_,y,T,A){const N=Math.cos(y),k=Math.sin(y);return this.set(f*N,f*k,-f*(N*T+k*A)+T+r,-_*k,_*N,-_*(-k*T+N*A)+A+c,0,0,1),this}scale(r,c){return this.premultiply(Ph.makeScale(r,c)),this}rotate(r){return this.premultiply(Ph.makeRotation(-r)),this}translate(r,c){return this.premultiply(Ph.makeTranslation(r,c)),this}makeTranslation(r,c){return r.isVector2?this.set(1,0,r.x,0,1,r.y,0,0,1):this.set(1,0,r,0,1,c,0,0,1),this}makeRotation(r){const c=Math.cos(r),f=Math.sin(r);return this.set(c,-f,0,f,c,0,0,0,1),this}makeScale(r,c){return this.set(r,0,0,0,c,0,0,0,1),this}equals(r){const c=this.elements,f=r.elements;for(let _=0;_<9;_++)if(c[_]!==f[_])return!1;return!0}fromArray(r,c=0){for(let f=0;f<9;f++)this.elements[f]=r[f+c];return this}toArray(r=[],c=0){const f=this.elements;return r[c]=f[0],r[c+1]=f[1],r[c+2]=f[2],r[c+3]=f[3],r[c+4]=f[4],r[c+5]=f[5],r[c+6]=f[6],r[c+7]=f[7],r[c+8]=f[8],r}clone(){return new this.constructor().fromArray(this.elements)}}const Ph=new Pi,Vm=new Pi().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),zm=new Pi().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Zse(){const v={enabled:!0,workingColorSpace:qa,spaces:{},convert:function(_,y,T){return this.enabled===!1||y===T||!y||!T||(this.spaces[y].transfer===N0&&(_.r=C1(_.r),_.g=C1(_.g),_.b=C1(_.b)),this.spaces[y].primaries!==this.spaces[T].primaries&&(_.applyMatrix3(this.spaces[y].toXYZ),_.applyMatrix3(this.spaces[T].fromXYZ)),this.spaces[T].transfer===N0&&(_.r=Kc(_.r),_.g=Kc(_.g),_.b=Kc(_.b))),_},workingToColorSpace:function(_,y){return this.convert(_,this.workingColorSpace,y)},colorSpaceToWorking:function(_,y){return this.convert(_,y,this.workingColorSpace)},getPrimaries:function(_){return this.spaces[_].primaries},getTransfer:function(_){return _===ms?Nl:this.spaces[_].transfer},getToneMappingMode:function(_){return this.spaces[_].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(_,y=this.workingColorSpace){return _.fromArray(this.spaces[y].luminanceCoefficients)},define:function(_){Object.assign(this.spaces,_)},_getMatrix:function(_,y,T){return _.copy(this.spaces[y].toXYZ).multiply(this.spaces[T].fromXYZ)},_getDrawingBufferColorSpace:function(_){return this.spaces[_].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(_=this.workingColorSpace){return this.spaces[_].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(_,y){return a2("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),v.workingToColorSpace(_,y)},toWorkingColorSpace:function(_,y){return a2("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),v.colorSpaceToWorking(_,y)}},r=[.64,.33,.3,.6,.15,.06],c=[.2126,.7152,.0722],f=[.3127,.329];return v.define({[qa]:{primaries:r,whitePoint:f,transfer:Nl,toXYZ:Vm,fromXYZ:zm,luminanceCoefficients:c,workingColorSpaceConfig:{unpackColorSpace:D2},outputColorSpaceConfig:{drawingBufferColorSpace:D2}},[D2]:{primaries:r,whitePoint:f,transfer:N0,toXYZ:Vm,fromXYZ:zm,luminanceCoefficients:c,outputColorSpaceConfig:{drawingBufferColorSpace:D2}}}),v}const fi=Zse();function C1(v){return v<.04045?v*.0773993808:Math.pow(v*.9478672986+.0521327014,2.4)}function Kc(v){return v<.0031308?v*12.92:1.055*Math.pow(v,.41666)-.055}let Sc;class Qse{static getDataURL(r,c="image/png"){if(/^data:/i.test(r.src)||typeof HTMLCanvasElement>"u")return r.src;let f;if(r instanceof HTMLCanvasElement)f=r;else{Sc===void 0&&(Sc=of("canvas")),Sc.width=r.width,Sc.height=r.height;const _=Sc.getContext("2d");r instanceof ImageData?_.putImageData(r,0,0):_.drawImage(r,0,0,r.width,r.height),f=Sc}return f.toDataURL(c)}static sRGBToLinear(r){if(typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap){const c=of("canvas");c.width=r.width,c.height=r.height;const f=c.getContext("2d");f.drawImage(r,0,0,r.width,r.height);const _=f.getImageData(0,0,r.width,r.height),y=_.data;for(let T=0;T<y.length;T++)y[T]=C1(y[T]/255)*255;return f.putImageData(_,0,0),c}else if(r.data){const c=r.data.slice(0);for(let f=0;f<c.length;f++)c instanceof Uint8Array||c instanceof Uint8ClampedArray?c[f]=Math.floor(C1(c[f]/255)*255):c[f]=C1(c[f]);return{data:c,width:r.width,height:r.height}}else return jt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),r}}let Jse=0;class Fd{constructor(r=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Jse++}),this.uuid=fo(),this.data=r,this.dataReady=!0,this.version=0}getSize(r){const c=this.data;return typeof HTMLVideoElement<"u"&&c instanceof HTMLVideoElement?r.set(c.videoWidth,c.videoHeight,0):c instanceof VideoFrame?r.set(c.displayHeight,c.displayWidth,0):c!==null?r.set(c.width,c.height,c.depth||0):r.set(0,0,0),r}set needsUpdate(r){r===!0&&this.version++}toJSON(r){const c=r===void 0||typeof r=="string";if(!c&&r.images[this.uuid]!==void 0)return r.images[this.uuid];const f={uuid:this.uuid,url:""},_=this.data;if(_!==null){let y;if(Array.isArray(_)){y=[];for(let T=0,A=_.length;T<A;T++)_[T].isDataTexture?y.push(Lh(_[T].image)):y.push(Lh(_[T]))}else y=Lh(_);f.url=y}return c||(r.images[this.uuid]=f),f}}function Lh(v){return typeof HTMLImageElement<"u"&&v instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&v instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&v instanceof ImageBitmap?Qse.getDataURL(v):v.data?{data:Array.from(v.data),width:v.width,height:v.height,type:v.data.constructor.name}:(jt("Texture: Unable to serialize Texture."),{})}let eoe=0;const kh=new at;class Z2 extends N1{constructor(r=Z2.DEFAULT_IMAGE,c=Z2.DEFAULT_MAPPING,f=Sr,_=Sr,y=r2,T=Ur,A=w2,N=T2,k=Z2.DEFAULT_ANISOTROPY,V=ms){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:eoe++}),this.uuid=fo(),this.name="",this.source=new Fd(r),this.mipmaps=[],this.mapping=c,this.channel=0,this.wrapS=f,this.wrapT=_,this.magFilter=y,this.minFilter=T,this.anisotropy=k,this.format=A,this.internalFormat=null,this.type=N,this.offset=new _i(0,0),this.repeat=new _i(1,1),this.center=new _i(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Pi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=V,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(r&&r.depth&&r.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(kh).x}get height(){return this.source.getSize(kh).y}get depth(){return this.source.getSize(kh).z}get image(){return this.source.data}set image(r=null){this.source.data=r}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(r,c){this.updateRanges.push({start:r,count:c})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(r){return this.name=r.name,this.source=r.source,this.mipmaps=r.mipmaps.slice(0),this.mapping=r.mapping,this.channel=r.channel,this.wrapS=r.wrapS,this.wrapT=r.wrapT,this.magFilter=r.magFilter,this.minFilter=r.minFilter,this.anisotropy=r.anisotropy,this.format=r.format,this.internalFormat=r.internalFormat,this.type=r.type,this.offset.copy(r.offset),this.repeat.copy(r.repeat),this.center.copy(r.center),this.rotation=r.rotation,this.matrixAutoUpdate=r.matrixAutoUpdate,this.matrix.copy(r.matrix),this.generateMipmaps=r.generateMipmaps,this.premultiplyAlpha=r.premultiplyAlpha,this.flipY=r.flipY,this.unpackAlignment=r.unpackAlignment,this.colorSpace=r.colorSpace,this.renderTarget=r.renderTarget,this.isRenderTargetTexture=r.isRenderTargetTexture,this.isArrayTexture=r.isArrayTexture,this.userData=JSON.parse(JSON.stringify(r.userData)),this.needsUpdate=!0,this}setValues(r){for(const c in r){const f=r[c];if(f===void 0){jt(`Texture.setValues(): parameter '${c}' has value of undefined.`);continue}const _=this[c];if(_===void 0){jt(`Texture.setValues(): property '${c}' does not exist.`);continue}_&&f&&_.isVector2&&f.isVector2||_&&f&&_.isVector3&&f.isVector3||_&&f&&_.isMatrix3&&f.isMatrix3?_.copy(f):this[c]=f}}toJSON(r){const c=r===void 0||typeof r=="string";if(!c&&r.textures[this.uuid]!==void 0)return r.textures[this.uuid];const f={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(r).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(f.userData=this.userData),c||(r.textures[this.uuid]=f),f}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(r){if(this.mapping!==Md)return r;if(r.applyMatrix3(this.matrix),r.x<0||r.x>1)switch(this.wrapS){case co:r.x=r.x-Math.floor(r.x);break;case Sr:r.x=r.x<0?0:1;break;case ja:Math.abs(Math.floor(r.x)%2)===1?r.x=Math.ceil(r.x)-r.x:r.x=r.x-Math.floor(r.x);break}if(r.y<0||r.y>1)switch(this.wrapT){case co:r.y=r.y-Math.floor(r.y);break;case Sr:r.y=r.y<0?0:1;break;case ja:Math.abs(Math.floor(r.y)%2)===1?r.y=Math.ceil(r.y)-r.y:r.y=r.y-Math.floor(r.y);break}return this.flipY&&(r.y=1-r.y),r}set needsUpdate(r){r===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(r){r===!0&&this.pmremVersion++}}Z2.DEFAULT_IMAGE=null;Z2.DEFAULT_MAPPING=Md;Z2.DEFAULT_ANISOTROPY=1;class hi{constructor(r=0,c=0,f=0,_=1){hi.prototype.isVector4=!0,this.x=r,this.y=c,this.z=f,this.w=_}get width(){return this.z}set width(r){this.z=r}get height(){return this.w}set height(r){this.w=r}set(r,c,f,_){return this.x=r,this.y=c,this.z=f,this.w=_,this}setScalar(r){return this.x=r,this.y=r,this.z=r,this.w=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setZ(r){return this.z=r,this}setW(r){return this.w=r,this}setComponent(r,c){switch(r){case 0:this.x=c;break;case 1:this.y=c;break;case 2:this.z=c;break;case 3:this.w=c;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(r){return this.x=r.x,this.y=r.y,this.z=r.z,this.w=r.w!==void 0?r.w:1,this}add(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z,this.w+=r.w,this}addScalar(r){return this.x+=r,this.y+=r,this.z+=r,this.w+=r,this}addVectors(r,c){return this.x=r.x+c.x,this.y=r.y+c.y,this.z=r.z+c.z,this.w=r.w+c.w,this}addScaledVector(r,c){return this.x+=r.x*c,this.y+=r.y*c,this.z+=r.z*c,this.w+=r.w*c,this}sub(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z,this.w-=r.w,this}subScalar(r){return this.x-=r,this.y-=r,this.z-=r,this.w-=r,this}subVectors(r,c){return this.x=r.x-c.x,this.y=r.y-c.y,this.z=r.z-c.z,this.w=r.w-c.w,this}multiply(r){return this.x*=r.x,this.y*=r.y,this.z*=r.z,this.w*=r.w,this}multiplyScalar(r){return this.x*=r,this.y*=r,this.z*=r,this.w*=r,this}applyMatrix4(r){const c=this.x,f=this.y,_=this.z,y=this.w,T=r.elements;return this.x=T[0]*c+T[4]*f+T[8]*_+T[12]*y,this.y=T[1]*c+T[5]*f+T[9]*_+T[13]*y,this.z=T[2]*c+T[6]*f+T[10]*_+T[14]*y,this.w=T[3]*c+T[7]*f+T[11]*_+T[15]*y,this}divide(r){return this.x/=r.x,this.y/=r.y,this.z/=r.z,this.w/=r.w,this}divideScalar(r){return this.multiplyScalar(1/r)}setAxisAngleFromQuaternion(r){this.w=2*Math.acos(r.w);const c=Math.sqrt(1-r.w*r.w);return c<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=r.x/c,this.y=r.y/c,this.z=r.z/c),this}setAxisAngleFromRotationMatrix(r){let c,f,_,y;const N=r.elements,k=N[0],V=N[4],j=N[8],K=N[1],Q=N[5],ie=N[9],ce=N[2],ue=N[6],re=N[10];if(Math.abs(V-K)<.01&&Math.abs(j-ce)<.01&&Math.abs(ie-ue)<.01){if(Math.abs(V+K)<.1&&Math.abs(j+ce)<.1&&Math.abs(ie+ue)<.1&&Math.abs(k+Q+re-3)<.1)return this.set(1,0,0,0),this;c=Math.PI;const De=(k+1)/2,Oe=(Q+1)/2,je=(re+1)/2,Be=(V+K)/4,We=(j+ce)/4,$e=(ie+ue)/4;return De>Oe&&De>je?De<.01?(f=0,_=.707106781,y=.707106781):(f=Math.sqrt(De),_=Be/f,y=We/f):Oe>je?Oe<.01?(f=.707106781,_=0,y=.707106781):(_=Math.sqrt(Oe),f=Be/_,y=$e/_):je<.01?(f=.707106781,_=.707106781,y=0):(y=Math.sqrt(je),f=We/y,_=$e/y),this.set(f,_,y,c),this}let be=Math.sqrt((ue-ie)*(ue-ie)+(j-ce)*(j-ce)+(K-V)*(K-V));return Math.abs(be)<.001&&(be=1),this.x=(ue-ie)/be,this.y=(j-ce)/be,this.z=(K-V)/be,this.w=Math.acos((k+Q+re-1)/2),this}setFromMatrixPosition(r){const c=r.elements;return this.x=c[12],this.y=c[13],this.z=c[14],this.w=c[15],this}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this.z=Math.min(this.z,r.z),this.w=Math.min(this.w,r.w),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this.z=Math.max(this.z,r.z),this.w=Math.max(this.w,r.w),this}clamp(r,c){return this.x=Ji(this.x,r.x,c.x),this.y=Ji(this.y,r.y,c.y),this.z=Ji(this.z,r.z,c.z),this.w=Ji(this.w,r.w,c.w),this}clampScalar(r,c){return this.x=Ji(this.x,r,c),this.y=Ji(this.y,r,c),this.z=Ji(this.z,r,c),this.w=Ji(this.w,r,c),this}clampLength(r,c){const f=this.length();return this.divideScalar(f||1).multiplyScalar(Ji(f,r,c))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(r){return this.x*r.x+this.y*r.y+this.z*r.z+this.w*r.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,c){return this.x+=(r.x-this.x)*c,this.y+=(r.y-this.y)*c,this.z+=(r.z-this.z)*c,this.w+=(r.w-this.w)*c,this}lerpVectors(r,c,f){return this.x=r.x+(c.x-r.x)*f,this.y=r.y+(c.y-r.y)*f,this.z=r.z+(c.z-r.z)*f,this.w=r.w+(c.w-r.w)*f,this}equals(r){return r.x===this.x&&r.y===this.y&&r.z===this.z&&r.w===this.w}fromArray(r,c=0){return this.x=r[c],this.y=r[c+1],this.z=r[c+2],this.w=r[c+3],this}toArray(r=[],c=0){return r[c]=this.x,r[c+1]=this.y,r[c+2]=this.z,r[c+3]=this.w,r}fromBufferAttribute(r,c){return this.x=r.getX(c),this.y=r.getY(c),this.z=r.getZ(c),this.w=r.getW(c),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Qa extends N1{constructor(r=1,c=1,f={}){super(),f=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:r2,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},f),this.isRenderTarget=!0,this.width=r,this.height=c,this.depth=f.depth,this.scissor=new hi(0,0,r,c),this.scissorTest=!1,this.viewport=new hi(0,0,r,c);const _={width:r,height:c,depth:f.depth},y=new Z2(_);this.textures=[];const T=f.count;for(let A=0;A<T;A++)this.textures[A]=y.clone(),this.textures[A].isRenderTargetTexture=!0,this.textures[A].renderTarget=this;this._setTextureOptions(f),this.depthBuffer=f.depthBuffer,this.stencilBuffer=f.stencilBuffer,this.resolveDepthBuffer=f.resolveDepthBuffer,this.resolveStencilBuffer=f.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=f.depthTexture,this.samples=f.samples,this.multiview=f.multiview}_setTextureOptions(r={}){const c={minFilter:r2,generateMipmaps:!1,flipY:!1,internalFormat:null};r.mapping!==void 0&&(c.mapping=r.mapping),r.wrapS!==void 0&&(c.wrapS=r.wrapS),r.wrapT!==void 0&&(c.wrapT=r.wrapT),r.wrapR!==void 0&&(c.wrapR=r.wrapR),r.magFilter!==void 0&&(c.magFilter=r.magFilter),r.minFilter!==void 0&&(c.minFilter=r.minFilter),r.format!==void 0&&(c.format=r.format),r.type!==void 0&&(c.type=r.type),r.anisotropy!==void 0&&(c.anisotropy=r.anisotropy),r.colorSpace!==void 0&&(c.colorSpace=r.colorSpace),r.flipY!==void 0&&(c.flipY=r.flipY),r.generateMipmaps!==void 0&&(c.generateMipmaps=r.generateMipmaps),r.internalFormat!==void 0&&(c.internalFormat=r.internalFormat);for(let f=0;f<this.textures.length;f++)this.textures[f].setValues(c)}get texture(){return this.textures[0]}set texture(r){this.textures[0]=r}set depthTexture(r){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),r!==null&&(r.renderTarget=this),this._depthTexture=r}get depthTexture(){return this._depthTexture}setSize(r,c,f=1){if(this.width!==r||this.height!==c||this.depth!==f){this.width=r,this.height=c,this.depth=f;for(let _=0,y=this.textures.length;_<y;_++)this.textures[_].image.width=r,this.textures[_].image.height=c,this.textures[_].image.depth=f,this.textures[_].isData3DTexture!==!0&&(this.textures[_].isArrayTexture=this.textures[_].image.depth>1);this.dispose()}this.viewport.set(0,0,r,c),this.scissor.set(0,0,r,c)}clone(){return new this.constructor().copy(this)}copy(r){this.width=r.width,this.height=r.height,this.depth=r.depth,this.scissor.copy(r.scissor),this.scissorTest=r.scissorTest,this.viewport.copy(r.viewport),this.textures.length=0;for(let c=0,f=r.textures.length;c<f;c++){this.textures[c]=r.textures[c].clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;const _=Object.assign({},r.textures[c].image);this.textures[c].source=new Fd(_)}return this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,r.depthTexture!==null&&(this.depthTexture=r.depthTexture.clone()),this.samples=r.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class $a extends Qa{constructor(r=1,c=1,f={}){super(r,c,f),this.isWebGLRenderTarget=!0}}class Bd extends Z2{constructor(r=null,c=1,f=1,_=1){super(null),this.isDataArrayTexture=!0,this.image={data:r,width:c,height:f,depth:_},this.magFilter=n2,this.minFilter=n2,this.wrapR=Sr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(r){this.layerUpdates.add(r)}clearLayerUpdates(){this.layerUpdates.clear()}}class toe extends Z2{constructor(r=null,c=1,f=1,_=1){super(null),this.isData3DTexture=!0,this.image={data:r,width:c,height:f,depth:_},this.magFilter=n2,this.minFilter=n2,this.wrapR=Sr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class zl{constructor(r=new at(1/0,1/0,1/0),c=new at(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=r,this.max=c}set(r,c){return this.min.copy(r),this.max.copy(c),this}setFromArray(r){this.makeEmpty();for(let c=0,f=r.length;c<f;c+=3)this.expandByPoint(eo.fromArray(r,c));return this}setFromBufferAttribute(r){this.makeEmpty();for(let c=0,f=r.count;c<f;c++)this.expandByPoint(eo.fromBufferAttribute(r,c));return this}setFromPoints(r){this.makeEmpty();for(let c=0,f=r.length;c<f;c++)this.expandByPoint(r[c]);return this}setFromCenterAndSize(r,c){const f=eo.copy(c).multiplyScalar(.5);return this.min.copy(r).sub(f),this.max.copy(r).add(f),this}setFromObject(r,c=!1){return this.makeEmpty(),this.expandByObject(r,c)}clone(){return new this.constructor().copy(this)}copy(r){return this.min.copy(r.min),this.max.copy(r.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(r){return this.isEmpty()?r.set(0,0,0):r.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(r){return this.isEmpty()?r.set(0,0,0):r.subVectors(this.max,this.min)}expandByPoint(r){return this.min.min(r),this.max.max(r),this}expandByVector(r){return this.min.sub(r),this.max.add(r),this}expandByScalar(r){return this.min.addScalar(-r),this.max.addScalar(r),this}expandByObject(r,c=!1){r.updateWorldMatrix(!1,!1);const f=r.geometry;if(f!==void 0){const y=f.getAttribute("position");if(c===!0&&y!==void 0&&r.isInstancedMesh!==!0)for(let T=0,A=y.count;T<A;T++)r.isMesh===!0?r.getVertexPosition(T,eo):eo.fromBufferAttribute(y,T),eo.applyMatrix4(r.matrixWorld),this.expandByPoint(eo);else r.boundingBox!==void 0?(r.boundingBox===null&&r.computeBoundingBox(),n_.copy(r.boundingBox)):(f.boundingBox===null&&f.computeBoundingBox(),n_.copy(f.boundingBox)),n_.applyMatrix4(r.matrixWorld),this.union(n_)}const _=r.children;for(let y=0,T=_.length;y<T;y++)this.expandByObject(_[y],c);return this}containsPoint(r){return r.x>=this.min.x&&r.x<=this.max.x&&r.y>=this.min.y&&r.y<=this.max.y&&r.z>=this.min.z&&r.z<=this.max.z}containsBox(r){return this.min.x<=r.min.x&&r.max.x<=this.max.x&&this.min.y<=r.min.y&&r.max.y<=this.max.y&&this.min.z<=r.min.z&&r.max.z<=this.max.z}getParameter(r,c){return c.set((r.x-this.min.x)/(this.max.x-this.min.x),(r.y-this.min.y)/(this.max.y-this.min.y),(r.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(r){return r.max.x>=this.min.x&&r.min.x<=this.max.x&&r.max.y>=this.min.y&&r.min.y<=this.max.y&&r.max.z>=this.min.z&&r.min.z<=this.max.z}intersectsSphere(r){return this.clampPoint(r.center,eo),eo.distanceToSquared(r.center)<=r.radius*r.radius}intersectsPlane(r){let c,f;return r.normal.x>0?(c=r.normal.x*this.min.x,f=r.normal.x*this.max.x):(c=r.normal.x*this.max.x,f=r.normal.x*this.min.x),r.normal.y>0?(c+=r.normal.y*this.min.y,f+=r.normal.y*this.max.y):(c+=r.normal.y*this.max.y,f+=r.normal.y*this.min.y),r.normal.z>0?(c+=r.normal.z*this.min.z,f+=r.normal.z*this.max.z):(c+=r.normal.z*this.max.z,f+=r.normal.z*this.min.z),c<=-r.constant&&f>=-r.constant}intersectsTriangle(r){if(this.isEmpty())return!1;this.getCenter(lu),r_.subVectors(this.max,lu),Cc.subVectors(r.a,lu),Tc.subVectors(r.b,lu),wc.subVectors(r.c,lu),G1.subVectors(Tc,Cc),V1.subVectors(wc,Tc),Ca.subVectors(Cc,wc);let c=[0,-G1.z,G1.y,0,-V1.z,V1.y,0,-Ca.z,Ca.y,G1.z,0,-G1.x,V1.z,0,-V1.x,Ca.z,0,-Ca.x,-G1.y,G1.x,0,-V1.y,V1.x,0,-Ca.y,Ca.x,0];return!Fh(c,Cc,Tc,wc,r_)||(c=[1,0,0,0,1,0,0,0,1],!Fh(c,Cc,Tc,wc,r_))?!1:(s_.crossVectors(G1,V1),c=[s_.x,s_.y,s_.z],Fh(c,Cc,Tc,wc,r_))}clampPoint(r,c){return c.copy(r).clamp(this.min,this.max)}distanceToPoint(r){return this.clampPoint(r,eo).distanceTo(r)}getBoundingSphere(r){return this.isEmpty()?r.makeEmpty():(this.getCenter(r.center),r.radius=this.getSize(eo).length()*.5),r}intersect(r){return this.min.max(r.min),this.max.min(r.max),this.isEmpty()&&this.makeEmpty(),this}union(r){return this.min.min(r.min),this.max.max(r.max),this}applyMatrix4(r){return this.isEmpty()?this:(s1[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(r),s1[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(r),s1[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(r),s1[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(r),s1[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(r),s1[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(r),s1[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(r),s1[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(r),this.setFromPoints(s1),this)}translate(r){return this.min.add(r),this.max.add(r),this}equals(r){return r.min.equals(this.min)&&r.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(r){return this.min.fromArray(r.min),this.max.fromArray(r.max),this}}const s1=[new at,new at,new at,new at,new at,new at,new at,new at],eo=new at,n_=new zl,Cc=new at,Tc=new at,wc=new at,G1=new at,V1=new at,Ca=new at,lu=new at,r_=new at,s_=new at,Ta=new at;function Fh(v,r,c,f,_){for(let y=0,T=v.length-3;y<=T;y+=3){Ta.fromArray(v,y);const A=_.x*Math.abs(Ta.x)+_.y*Math.abs(Ta.y)+_.z*Math.abs(Ta.z),N=r.dot(Ta),k=c.dot(Ta),V=f.dot(Ta);if(Math.max(-Math.max(N,k,V),Math.min(N,k,V))>A)return!1}return!0}const ioe=new zl,uu=new at,Bh=new at;class Ja{constructor(r=new at,c=-1){this.isSphere=!0,this.center=r,this.radius=c}set(r,c){return this.center.copy(r),this.radius=c,this}setFromPoints(r,c){const f=this.center;c!==void 0?f.copy(c):ioe.setFromPoints(r).getCenter(f);let _=0;for(let y=0,T=r.length;y<T;y++)_=Math.max(_,f.distanceToSquared(r[y]));return this.radius=Math.sqrt(_),this}copy(r){return this.center.copy(r.center),this.radius=r.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(r){return r.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(r){return r.distanceTo(this.center)-this.radius}intersectsSphere(r){const c=this.radius+r.radius;return r.center.distanceToSquared(this.center)<=c*c}intersectsBox(r){return r.intersectsSphere(this)}intersectsPlane(r){return Math.abs(r.distanceToPoint(this.center))<=this.radius}clampPoint(r,c){const f=this.center.distanceToSquared(r);return c.copy(r),f>this.radius*this.radius&&(c.sub(this.center).normalize(),c.multiplyScalar(this.radius).add(this.center)),c}getBoundingBox(r){return this.isEmpty()?(r.makeEmpty(),r):(r.set(this.center,this.center),r.expandByScalar(this.radius),r)}applyMatrix4(r){return this.center.applyMatrix4(r),this.radius=this.radius*r.getMaxScaleOnAxis(),this}translate(r){return this.center.add(r),this}expandByPoint(r){if(this.isEmpty())return this.center.copy(r),this.radius=0,this;uu.subVectors(r,this.center);const c=uu.lengthSq();if(c>this.radius*this.radius){const f=Math.sqrt(c),_=(f-this.radius)*.5;this.center.addScaledVector(uu,_/f),this.radius+=_}return this}union(r){return r.isEmpty()?this:this.isEmpty()?(this.copy(r),this):(this.center.equals(r.center)===!0?this.radius=Math.max(this.radius,r.radius):(Bh.subVectors(r.center,this.center).setLength(r.radius),this.expandByPoint(uu.copy(r.center).add(Bh)),this.expandByPoint(uu.copy(r.center).sub(Bh))),this)}equals(r){return r.center.equals(this.center)&&r.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(r){return this.radius=r.radius,this.center.fromArray(r.center),this}}const o1=new at,Uh=new at,o_=new at,z1=new at,Oh=new at,a_=new at,Gh=new at;class Ud{constructor(r=new at,c=new at(0,0,-1)){this.origin=r,this.direction=c}set(r,c){return this.origin.copy(r),this.direction.copy(c),this}copy(r){return this.origin.copy(r.origin),this.direction.copy(r.direction),this}at(r,c){return c.copy(this.origin).addScaledVector(this.direction,r)}lookAt(r){return this.direction.copy(r).sub(this.origin).normalize(),this}recast(r){return this.origin.copy(this.at(r,o1)),this}closestPointToPoint(r,c){c.subVectors(r,this.origin);const f=c.dot(this.direction);return f<0?c.copy(this.origin):c.copy(this.origin).addScaledVector(this.direction,f)}distanceToPoint(r){return Math.sqrt(this.distanceSqToPoint(r))}distanceSqToPoint(r){const c=o1.subVectors(r,this.origin).dot(this.direction);return c<0?this.origin.distanceToSquared(r):(o1.copy(this.origin).addScaledVector(this.direction,c),o1.distanceToSquared(r))}distanceSqToSegment(r,c,f,_){Uh.copy(r).add(c).multiplyScalar(.5),o_.copy(c).sub(r).normalize(),z1.copy(this.origin).sub(Uh);const y=r.distanceTo(c)*.5,T=-this.direction.dot(o_),A=z1.dot(this.direction),N=-z1.dot(o_),k=z1.lengthSq(),V=Math.abs(1-T*T);let j,K,Q,ie;if(V>0)if(j=T*N-A,K=T*A-N,ie=y*V,j>=0)if(K>=-ie)if(K<=ie){const ce=1/V;j*=ce,K*=ce,Q=j*(j+T*K+2*A)+K*(T*j+K+2*N)+k}else K=y,j=Math.max(0,-(T*K+A)),Q=-j*j+K*(K+2*N)+k;else K=-y,j=Math.max(0,-(T*K+A)),Q=-j*j+K*(K+2*N)+k;else K<=-ie?(j=Math.max(0,-(-T*y+A)),K=j>0?-y:Math.min(Math.max(-y,-N),y),Q=-j*j+K*(K+2*N)+k):K<=ie?(j=0,K=Math.min(Math.max(-y,-N),y),Q=K*(K+2*N)+k):(j=Math.max(0,-(T*y+A)),K=j>0?y:Math.min(Math.max(-y,-N),y),Q=-j*j+K*(K+2*N)+k);else K=T>0?-y:y,j=Math.max(0,-(T*K+A)),Q=-j*j+K*(K+2*N)+k;return f&&f.copy(this.origin).addScaledVector(this.direction,j),_&&_.copy(Uh).addScaledVector(o_,K),Q}intersectSphere(r,c){o1.subVectors(r.center,this.origin);const f=o1.dot(this.direction),_=o1.dot(o1)-f*f,y=r.radius*r.radius;if(_>y)return null;const T=Math.sqrt(y-_),A=f-T,N=f+T;return N<0?null:A<0?this.at(N,c):this.at(A,c)}intersectsSphere(r){return r.radius<0?!1:this.distanceSqToPoint(r.center)<=r.radius*r.radius}distanceToPlane(r){const c=r.normal.dot(this.direction);if(c===0)return r.distanceToPoint(this.origin)===0?0:null;const f=-(this.origin.dot(r.normal)+r.constant)/c;return f>=0?f:null}intersectPlane(r,c){const f=this.distanceToPlane(r);return f===null?null:this.at(f,c)}intersectsPlane(r){const c=r.distanceToPoint(this.origin);return c===0||r.normal.dot(this.direction)*c<0}intersectBox(r,c){let f,_,y,T,A,N;const k=1/this.direction.x,V=1/this.direction.y,j=1/this.direction.z,K=this.origin;return k>=0?(f=(r.min.x-K.x)*k,_=(r.max.x-K.x)*k):(f=(r.max.x-K.x)*k,_=(r.min.x-K.x)*k),V>=0?(y=(r.min.y-K.y)*V,T=(r.max.y-K.y)*V):(y=(r.max.y-K.y)*V,T=(r.min.y-K.y)*V),f>T||y>_||((y>f||isNaN(f))&&(f=y),(T<_||isNaN(_))&&(_=T),j>=0?(A=(r.min.z-K.z)*j,N=(r.max.z-K.z)*j):(A=(r.max.z-K.z)*j,N=(r.min.z-K.z)*j),f>N||A>_)||((A>f||f!==f)&&(f=A),(N<_||_!==_)&&(_=N),_<0)?null:this.at(f>=0?f:_,c)}intersectsBox(r){return this.intersectBox(r,o1)!==null}intersectTriangle(r,c,f,_,y){Oh.subVectors(c,r),a_.subVectors(f,r),Gh.crossVectors(Oh,a_);let T=this.direction.dot(Gh),A;if(T>0){if(_)return null;A=1}else if(T<0)A=-1,T=-T;else return null;z1.subVectors(this.origin,r);const N=A*this.direction.dot(a_.crossVectors(z1,a_));if(N<0)return null;const k=A*this.direction.dot(Oh.cross(z1));if(k<0||N+k>T)return null;const V=-A*z1.dot(Gh);return V<0?null:this.at(V/T,y)}applyMatrix4(r){return this.origin.applyMatrix4(r),this.direction.transformDirection(r),this}equals(r){return r.origin.equals(this.origin)&&r.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ri{constructor(r,c,f,_,y,T,A,N,k,V,j,K,Q,ie,ce,ue){Ri.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r!==void 0&&this.set(r,c,f,_,y,T,A,N,k,V,j,K,Q,ie,ce,ue)}set(r,c,f,_,y,T,A,N,k,V,j,K,Q,ie,ce,ue){const re=this.elements;return re[0]=r,re[4]=c,re[8]=f,re[12]=_,re[1]=y,re[5]=T,re[9]=A,re[13]=N,re[2]=k,re[6]=V,re[10]=j,re[14]=K,re[3]=Q,re[7]=ie,re[11]=ce,re[15]=ue,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ri().fromArray(this.elements)}copy(r){const c=this.elements,f=r.elements;return c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=f[6],c[7]=f[7],c[8]=f[8],c[9]=f[9],c[10]=f[10],c[11]=f[11],c[12]=f[12],c[13]=f[13],c[14]=f[14],c[15]=f[15],this}copyPosition(r){const c=this.elements,f=r.elements;return c[12]=f[12],c[13]=f[13],c[14]=f[14],this}setFromMatrix3(r){const c=r.elements;return this.set(c[0],c[3],c[6],0,c[1],c[4],c[7],0,c[2],c[5],c[8],0,0,0,0,1),this}extractBasis(r,c,f){return r.setFromMatrixColumn(this,0),c.setFromMatrixColumn(this,1),f.setFromMatrixColumn(this,2),this}makeBasis(r,c,f){return this.set(r.x,c.x,f.x,0,r.y,c.y,f.y,0,r.z,c.z,f.z,0,0,0,0,1),this}extractRotation(r){const c=this.elements,f=r.elements,_=1/Mc.setFromMatrixColumn(r,0).length(),y=1/Mc.setFromMatrixColumn(r,1).length(),T=1/Mc.setFromMatrixColumn(r,2).length();return c[0]=f[0]*_,c[1]=f[1]*_,c[2]=f[2]*_,c[3]=0,c[4]=f[4]*y,c[5]=f[5]*y,c[6]=f[6]*y,c[7]=0,c[8]=f[8]*T,c[9]=f[9]*T,c[10]=f[10]*T,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,this}makeRotationFromEuler(r){const c=this.elements,f=r.x,_=r.y,y=r.z,T=Math.cos(f),A=Math.sin(f),N=Math.cos(_),k=Math.sin(_),V=Math.cos(y),j=Math.sin(y);if(r.order==="XYZ"){const K=T*V,Q=T*j,ie=A*V,ce=A*j;c[0]=N*V,c[4]=-N*j,c[8]=k,c[1]=Q+ie*k,c[5]=K-ce*k,c[9]=-A*N,c[2]=ce-K*k,c[6]=ie+Q*k,c[10]=T*N}else if(r.order==="YXZ"){const K=N*V,Q=N*j,ie=k*V,ce=k*j;c[0]=K+ce*A,c[4]=ie*A-Q,c[8]=T*k,c[1]=T*j,c[5]=T*V,c[9]=-A,c[2]=Q*A-ie,c[6]=ce+K*A,c[10]=T*N}else if(r.order==="ZXY"){const K=N*V,Q=N*j,ie=k*V,ce=k*j;c[0]=K-ce*A,c[4]=-T*j,c[8]=ie+Q*A,c[1]=Q+ie*A,c[5]=T*V,c[9]=ce-K*A,c[2]=-T*k,c[6]=A,c[10]=T*N}else if(r.order==="ZYX"){const K=T*V,Q=T*j,ie=A*V,ce=A*j;c[0]=N*V,c[4]=ie*k-Q,c[8]=K*k+ce,c[1]=N*j,c[5]=ce*k+K,c[9]=Q*k-ie,c[2]=-k,c[6]=A*N,c[10]=T*N}else if(r.order==="YZX"){const K=T*N,Q=T*k,ie=A*N,ce=A*k;c[0]=N*V,c[4]=ce-K*j,c[8]=ie*j+Q,c[1]=j,c[5]=T*V,c[9]=-A*V,c[2]=-k*V,c[6]=Q*j+ie,c[10]=K-ce*j}else if(r.order==="XZY"){const K=T*N,Q=T*k,ie=A*N,ce=A*k;c[0]=N*V,c[4]=-j,c[8]=k*V,c[1]=K*j+ce,c[5]=T*V,c[9]=Q*j-ie,c[2]=ie*j-Q,c[6]=A*V,c[10]=ce*j+K}return c[3]=0,c[7]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,this}makeRotationFromQuaternion(r){return this.compose(noe,r,roe)}lookAt(r,c,f){const _=this.elements;return Ms.subVectors(r,c),Ms.lengthSq()===0&&(Ms.z=1),Ms.normalize(),W1.crossVectors(f,Ms),W1.lengthSq()===0&&(Math.abs(f.z)===1?Ms.x+=1e-4:Ms.z+=1e-4,Ms.normalize(),W1.crossVectors(f,Ms)),W1.normalize(),c_.crossVectors(Ms,W1),_[0]=W1.x,_[4]=c_.x,_[8]=Ms.x,_[1]=W1.y,_[5]=c_.y,_[9]=Ms.y,_[2]=W1.z,_[6]=c_.z,_[10]=Ms.z,this}multiply(r){return this.multiplyMatrices(this,r)}premultiply(r){return this.multiplyMatrices(r,this)}multiplyMatrices(r,c){const f=r.elements,_=c.elements,y=this.elements,T=f[0],A=f[4],N=f[8],k=f[12],V=f[1],j=f[5],K=f[9],Q=f[13],ie=f[2],ce=f[6],ue=f[10],re=f[14],be=f[3],De=f[7],Oe=f[11],je=f[15],Be=_[0],We=_[4],$e=_[8],Ee=_[12],Ie=_[1],Je=_[5],ft=_[9],yt=_[13],Et=_[2],Dt=_[6],ct=_[10],Wt=_[14],vt=_[3],Ht=_[7],Qt=_[11],a0=_[15];return y[0]=T*Be+A*Ie+N*Et+k*vt,y[4]=T*We+A*Je+N*Dt+k*Ht,y[8]=T*$e+A*ft+N*ct+k*Qt,y[12]=T*Ee+A*yt+N*Wt+k*a0,y[1]=V*Be+j*Ie+K*Et+Q*vt,y[5]=V*We+j*Je+K*Dt+Q*Ht,y[9]=V*$e+j*ft+K*ct+Q*Qt,y[13]=V*Ee+j*yt+K*Wt+Q*a0,y[2]=ie*Be+ce*Ie+ue*Et+re*vt,y[6]=ie*We+ce*Je+ue*Dt+re*Ht,y[10]=ie*$e+ce*ft+ue*ct+re*Qt,y[14]=ie*Ee+ce*yt+ue*Wt+re*a0,y[3]=be*Be+De*Ie+Oe*Et+je*vt,y[7]=be*We+De*Je+Oe*Dt+je*Ht,y[11]=be*$e+De*ft+Oe*ct+je*Qt,y[15]=be*Ee+De*yt+Oe*Wt+je*a0,this}multiplyScalar(r){const c=this.elements;return c[0]*=r,c[4]*=r,c[8]*=r,c[12]*=r,c[1]*=r,c[5]*=r,c[9]*=r,c[13]*=r,c[2]*=r,c[6]*=r,c[10]*=r,c[14]*=r,c[3]*=r,c[7]*=r,c[11]*=r,c[15]*=r,this}determinant(){const r=this.elements,c=r[0],f=r[4],_=r[8],y=r[12],T=r[1],A=r[5],N=r[9],k=r[13],V=r[2],j=r[6],K=r[10],Q=r[14],ie=r[3],ce=r[7],ue=r[11],re=r[15];return ie*(+y*N*j-_*k*j-y*A*K+f*k*K+_*A*Q-f*N*Q)+ce*(+c*N*Q-c*k*K+y*T*K-_*T*Q+_*k*V-y*N*V)+ue*(+c*k*j-c*A*Q-y*T*j+f*T*Q+y*A*V-f*k*V)+re*(-_*A*V-c*N*j+c*A*K+_*T*j-f*T*K+f*N*V)}transpose(){const r=this.elements;let c;return c=r[1],r[1]=r[4],r[4]=c,c=r[2],r[2]=r[8],r[8]=c,c=r[6],r[6]=r[9],r[9]=c,c=r[3],r[3]=r[12],r[12]=c,c=r[7],r[7]=r[13],r[13]=c,c=r[11],r[11]=r[14],r[14]=c,this}setPosition(r,c,f){const _=this.elements;return r.isVector3?(_[12]=r.x,_[13]=r.y,_[14]=r.z):(_[12]=r,_[13]=c,_[14]=f),this}invert(){const r=this.elements,c=r[0],f=r[1],_=r[2],y=r[3],T=r[4],A=r[5],N=r[6],k=r[7],V=r[8],j=r[9],K=r[10],Q=r[11],ie=r[12],ce=r[13],ue=r[14],re=r[15],be=j*ue*k-ce*K*k+ce*N*Q-A*ue*Q-j*N*re+A*K*re,De=ie*K*k-V*ue*k-ie*N*Q+T*ue*Q+V*N*re-T*K*re,Oe=V*ce*k-ie*j*k+ie*A*Q-T*ce*Q-V*A*re+T*j*re,je=ie*j*N-V*ce*N-ie*A*K+T*ce*K+V*A*ue-T*j*ue,Be=c*be+f*De+_*Oe+y*je;if(Be===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const We=1/Be;return r[0]=be*We,r[1]=(ce*K*y-j*ue*y-ce*_*Q+f*ue*Q+j*_*re-f*K*re)*We,r[2]=(A*ue*y-ce*N*y+ce*_*k-f*ue*k-A*_*re+f*N*re)*We,r[3]=(j*N*y-A*K*y-j*_*k+f*K*k+A*_*Q-f*N*Q)*We,r[4]=De*We,r[5]=(V*ue*y-ie*K*y+ie*_*Q-c*ue*Q-V*_*re+c*K*re)*We,r[6]=(ie*N*y-T*ue*y-ie*_*k+c*ue*k+T*_*re-c*N*re)*We,r[7]=(T*K*y-V*N*y+V*_*k-c*K*k-T*_*Q+c*N*Q)*We,r[8]=Oe*We,r[9]=(ie*j*y-V*ce*y-ie*f*Q+c*ce*Q+V*f*re-c*j*re)*We,r[10]=(T*ce*y-ie*A*y+ie*f*k-c*ce*k-T*f*re+c*A*re)*We,r[11]=(V*A*y-T*j*y-V*f*k+c*j*k+T*f*Q-c*A*Q)*We,r[12]=je*We,r[13]=(V*ce*_-ie*j*_+ie*f*K-c*ce*K-V*f*ue+c*j*ue)*We,r[14]=(ie*A*_-T*ce*_-ie*f*N+c*ce*N+T*f*ue-c*A*ue)*We,r[15]=(T*j*_-V*A*_+V*f*N-c*j*N-T*f*K+c*A*K)*We,this}scale(r){const c=this.elements,f=r.x,_=r.y,y=r.z;return c[0]*=f,c[4]*=_,c[8]*=y,c[1]*=f,c[5]*=_,c[9]*=y,c[2]*=f,c[6]*=_,c[10]*=y,c[3]*=f,c[7]*=_,c[11]*=y,this}getMaxScaleOnAxis(){const r=this.elements,c=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],f=r[4]*r[4]+r[5]*r[5]+r[6]*r[6],_=r[8]*r[8]+r[9]*r[9]+r[10]*r[10];return Math.sqrt(Math.max(c,f,_))}makeTranslation(r,c,f){return r.isVector3?this.set(1,0,0,r.x,0,1,0,r.y,0,0,1,r.z,0,0,0,1):this.set(1,0,0,r,0,1,0,c,0,0,1,f,0,0,0,1),this}makeRotationX(r){const c=Math.cos(r),f=Math.sin(r);return this.set(1,0,0,0,0,c,-f,0,0,f,c,0,0,0,0,1),this}makeRotationY(r){const c=Math.cos(r),f=Math.sin(r);return this.set(c,0,f,0,0,1,0,0,-f,0,c,0,0,0,0,1),this}makeRotationZ(r){const c=Math.cos(r),f=Math.sin(r);return this.set(c,-f,0,0,f,c,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(r,c){const f=Math.cos(c),_=Math.sin(c),y=1-f,T=r.x,A=r.y,N=r.z,k=y*T,V=y*A;return this.set(k*T+f,k*A-_*N,k*N+_*A,0,k*A+_*N,V*A+f,V*N-_*T,0,k*N-_*A,V*N+_*T,y*N*N+f,0,0,0,0,1),this}makeScale(r,c,f){return this.set(r,0,0,0,0,c,0,0,0,0,f,0,0,0,0,1),this}makeShear(r,c,f,_,y,T){return this.set(1,f,y,0,r,1,T,0,c,_,1,0,0,0,0,1),this}compose(r,c,f){const _=this.elements,y=c._x,T=c._y,A=c._z,N=c._w,k=y+y,V=T+T,j=A+A,K=y*k,Q=y*V,ie=y*j,ce=T*V,ue=T*j,re=A*j,be=N*k,De=N*V,Oe=N*j,je=f.x,Be=f.y,We=f.z;return _[0]=(1-(ce+re))*je,_[1]=(Q+Oe)*je,_[2]=(ie-De)*je,_[3]=0,_[4]=(Q-Oe)*Be,_[5]=(1-(K+re))*Be,_[6]=(ue+be)*Be,_[7]=0,_[8]=(ie+De)*We,_[9]=(ue-be)*We,_[10]=(1-(K+ce))*We,_[11]=0,_[12]=r.x,_[13]=r.y,_[14]=r.z,_[15]=1,this}decompose(r,c,f){const _=this.elements;let y=Mc.set(_[0],_[1],_[2]).length();const T=Mc.set(_[4],_[5],_[6]).length(),A=Mc.set(_[8],_[9],_[10]).length();this.determinant()<0&&(y=-y),r.x=_[12],r.y=_[13],r.z=_[14],to.copy(this);const k=1/y,V=1/T,j=1/A;return to.elements[0]*=k,to.elements[1]*=k,to.elements[2]*=k,to.elements[4]*=V,to.elements[5]*=V,to.elements[6]*=V,to.elements[8]*=j,to.elements[9]*=j,to.elements[10]*=j,c.setFromRotationMatrix(to),f.x=y,f.y=T,f.z=A,this}makePerspective(r,c,f,_,y,T,A=es,N=!1){const k=this.elements,V=2*y/(c-r),j=2*y/(f-_),K=(c+r)/(c-r),Q=(f+_)/(f-_);let ie,ce;if(N)ie=y/(T-y),ce=T*y/(T-y);else if(A===es)ie=-(T+y)/(T-y),ce=-2*T*y/(T-y);else if(A===ra)ie=-T/(T-y),ce=-T*y/(T-y);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+A);return k[0]=V,k[4]=0,k[8]=K,k[12]=0,k[1]=0,k[5]=j,k[9]=Q,k[13]=0,k[2]=0,k[6]=0,k[10]=ie,k[14]=ce,k[3]=0,k[7]=0,k[11]=-1,k[15]=0,this}makeOrthographic(r,c,f,_,y,T,A=es,N=!1){const k=this.elements,V=2/(c-r),j=2/(f-_),K=-(c+r)/(c-r),Q=-(f+_)/(f-_);let ie,ce;if(N)ie=1/(T-y),ce=T/(T-y);else if(A===es)ie=-2/(T-y),ce=-(T+y)/(T-y);else if(A===ra)ie=-1/(T-y),ce=-y/(T-y);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+A);return k[0]=V,k[4]=0,k[8]=0,k[12]=K,k[1]=0,k[5]=j,k[9]=0,k[13]=Q,k[2]=0,k[6]=0,k[10]=ie,k[14]=ce,k[3]=0,k[7]=0,k[11]=0,k[15]=1,this}equals(r){const c=this.elements,f=r.elements;for(let _=0;_<16;_++)if(c[_]!==f[_])return!1;return!0}fromArray(r,c=0){for(let f=0;f<16;f++)this.elements[f]=r[f+c];return this}toArray(r=[],c=0){const f=this.elements;return r[c]=f[0],r[c+1]=f[1],r[c+2]=f[2],r[c+3]=f[3],r[c+4]=f[4],r[c+5]=f[5],r[c+6]=f[6],r[c+7]=f[7],r[c+8]=f[8],r[c+9]=f[9],r[c+10]=f[10],r[c+11]=f[11],r[c+12]=f[12],r[c+13]=f[13],r[c+14]=f[14],r[c+15]=f[15],r}}const Mc=new at,to=new Ri,noe=new at(0,0,0),roe=new at(1,1,1),W1=new at,c_=new at,Ms=new at,Wm=new Ri,Hm=new b1;class ts{constructor(r=0,c=0,f=0,_=ts.DEFAULT_ORDER){this.isEuler=!0,this._x=r,this._y=c,this._z=f,this._order=_}get x(){return this._x}set x(r){this._x=r,this._onChangeCallback()}get y(){return this._y}set y(r){this._y=r,this._onChangeCallback()}get z(){return this._z}set z(r){this._z=r,this._onChangeCallback()}get order(){return this._order}set order(r){this._order=r,this._onChangeCallback()}set(r,c,f,_=this._order){return this._x=r,this._y=c,this._z=f,this._order=_,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(r){return this._x=r._x,this._y=r._y,this._z=r._z,this._order=r._order,this._onChangeCallback(),this}setFromRotationMatrix(r,c=this._order,f=!0){const _=r.elements,y=_[0],T=_[4],A=_[8],N=_[1],k=_[5],V=_[9],j=_[2],K=_[6],Q=_[10];switch(c){case"XYZ":this._y=Math.asin(Ji(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(-V,Q),this._z=Math.atan2(-T,y)):(this._x=Math.atan2(K,k),this._z=0);break;case"YXZ":this._x=Math.asin(-Ji(V,-1,1)),Math.abs(V)<.9999999?(this._y=Math.atan2(A,Q),this._z=Math.atan2(N,k)):(this._y=Math.atan2(-j,y),this._z=0);break;case"ZXY":this._x=Math.asin(Ji(K,-1,1)),Math.abs(K)<.9999999?(this._y=Math.atan2(-j,Q),this._z=Math.atan2(-T,k)):(this._y=0,this._z=Math.atan2(N,y));break;case"ZYX":this._y=Math.asin(-Ji(j,-1,1)),Math.abs(j)<.9999999?(this._x=Math.atan2(K,Q),this._z=Math.atan2(N,y)):(this._x=0,this._z=Math.atan2(-T,k));break;case"YZX":this._z=Math.asin(Ji(N,-1,1)),Math.abs(N)<.9999999?(this._x=Math.atan2(-V,k),this._y=Math.atan2(-j,y)):(this._x=0,this._y=Math.atan2(A,Q));break;case"XZY":this._z=Math.asin(-Ji(T,-1,1)),Math.abs(T)<.9999999?(this._x=Math.atan2(K,k),this._y=Math.atan2(A,y)):(this._x=Math.atan2(-V,Q),this._y=0);break;default:jt("Euler: .setFromRotationMatrix() encountered an unknown order: "+c)}return this._order=c,f===!0&&this._onChangeCallback(),this}setFromQuaternion(r,c,f){return Wm.makeRotationFromQuaternion(r),this.setFromRotationMatrix(Wm,c,f)}setFromVector3(r,c=this._order){return this.set(r.x,r.y,r.z,c)}reorder(r){return Hm.setFromEuler(this),this.setFromQuaternion(Hm,r)}equals(r){return r._x===this._x&&r._y===this._y&&r._z===this._z&&r._order===this._order}fromArray(r){return this._x=r[0],this._y=r[1],this._z=r[2],r[3]!==void 0&&(this._order=r[3]),this._onChangeCallback(),this}toArray(r=[],c=0){return r[c]=this._x,r[c+1]=this._y,r[c+2]=this._z,r[c+3]=this._order,r}_onChange(r){return this._onChangeCallback=r,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ts.DEFAULT_ORDER="XYZ";class kg{constructor(){this.mask=1}set(r){this.mask=(1<<r|0)>>>0}enable(r){this.mask|=1<<r|0}enableAll(){this.mask=-1}toggle(r){this.mask^=1<<r|0}disable(r){this.mask&=~(1<<r|0)}disableAll(){this.mask=0}test(r){return(this.mask&r.mask)!==0}isEnabled(r){return(this.mask&(1<<r|0))!==0}}let soe=0;const jm=new at,Rc=new b1,a1=new Ri,l_=new at,fu=new at,ooe=new at,aoe=new b1,qm=new at(1,0,0),Xm=new at(0,1,0),$m=new at(0,0,1),Ym={type:"added"},coe={type:"removed"},Ac={type:"childadded",child:null},Vh={type:"childremoved",child:null};class U2 extends N1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:soe++}),this.uuid=fo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=U2.DEFAULT_UP.clone();const r=new at,c=new ts,f=new b1,_=new at(1,1,1);function y(){f.setFromEuler(c,!1)}function T(){c.setFromQuaternion(f,void 0,!1)}c._onChange(y),f._onChange(T),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:c},quaternion:{configurable:!0,enumerable:!0,value:f},scale:{configurable:!0,enumerable:!0,value:_},modelViewMatrix:{value:new Ri},normalMatrix:{value:new Pi}}),this.matrix=new Ri,this.matrixWorld=new Ri,this.matrixAutoUpdate=U2.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=U2.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new kg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(r){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(r),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(r){return this.quaternion.premultiply(r),this}setRotationFromAxisAngle(r,c){this.quaternion.setFromAxisAngle(r,c)}setRotationFromEuler(r){this.quaternion.setFromEuler(r,!0)}setRotationFromMatrix(r){this.quaternion.setFromRotationMatrix(r)}setRotationFromQuaternion(r){this.quaternion.copy(r)}rotateOnAxis(r,c){return Rc.setFromAxisAngle(r,c),this.quaternion.multiply(Rc),this}rotateOnWorldAxis(r,c){return Rc.setFromAxisAngle(r,c),this.quaternion.premultiply(Rc),this}rotateX(r){return this.rotateOnAxis(qm,r)}rotateY(r){return this.rotateOnAxis(Xm,r)}rotateZ(r){return this.rotateOnAxis($m,r)}translateOnAxis(r,c){return jm.copy(r).applyQuaternion(this.quaternion),this.position.add(jm.multiplyScalar(c)),this}translateX(r){return this.translateOnAxis(qm,r)}translateY(r){return this.translateOnAxis(Xm,r)}translateZ(r){return this.translateOnAxis($m,r)}localToWorld(r){return this.updateWorldMatrix(!0,!1),r.applyMatrix4(this.matrixWorld)}worldToLocal(r){return this.updateWorldMatrix(!0,!1),r.applyMatrix4(a1.copy(this.matrixWorld).invert())}lookAt(r,c,f){r.isVector3?l_.copy(r):l_.set(r,c,f);const _=this.parent;this.updateWorldMatrix(!0,!1),fu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?a1.lookAt(fu,l_,this.up):a1.lookAt(l_,fu,this.up),this.quaternion.setFromRotationMatrix(a1),_&&(a1.extractRotation(_.matrixWorld),Rc.setFromRotationMatrix(a1),this.quaternion.premultiply(Rc.invert()))}add(r){if(arguments.length>1){for(let c=0;c<arguments.length;c++)this.add(arguments[c]);return this}return r===this?(r0("Object3D.add: object can't be added as a child of itself.",r),this):(r&&r.isObject3D?(r.removeFromParent(),r.parent=this,this.children.push(r),r.dispatchEvent(Ym),Ac.child=r,this.dispatchEvent(Ac),Ac.child=null):r0("Object3D.add: object not an instance of THREE.Object3D.",r),this)}remove(r){if(arguments.length>1){for(let f=0;f<arguments.length;f++)this.remove(arguments[f]);return this}const c=this.children.indexOf(r);return c!==-1&&(r.parent=null,this.children.splice(c,1),r.dispatchEvent(coe),Vh.child=r,this.dispatchEvent(Vh),Vh.child=null),this}removeFromParent(){const r=this.parent;return r!==null&&r.remove(this),this}clear(){return this.remove(...this.children)}attach(r){return this.updateWorldMatrix(!0,!1),a1.copy(this.matrixWorld).invert(),r.parent!==null&&(r.parent.updateWorldMatrix(!0,!1),a1.multiply(r.parent.matrixWorld)),r.applyMatrix4(a1),r.removeFromParent(),r.parent=this,this.children.push(r),r.updateWorldMatrix(!1,!0),r.dispatchEvent(Ym),Ac.child=r,this.dispatchEvent(Ac),Ac.child=null,this}getObjectById(r){return this.getObjectByProperty("id",r)}getObjectByName(r){return this.getObjectByProperty("name",r)}getObjectByProperty(r,c){if(this[r]===c)return this;for(let f=0,_=this.children.length;f<_;f++){const T=this.children[f].getObjectByProperty(r,c);if(T!==void 0)return T}}getObjectsByProperty(r,c,f=[]){this[r]===c&&f.push(this);const _=this.children;for(let y=0,T=_.length;y<T;y++)_[y].getObjectsByProperty(r,c,f);return f}getWorldPosition(r){return this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(r){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(fu,r,ooe),r}getWorldScale(r){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(fu,aoe,r),r}getWorldDirection(r){this.updateWorldMatrix(!0,!1);const c=this.matrixWorld.elements;return r.set(c[8],c[9],c[10]).normalize()}raycast(){}traverse(r){r(this);const c=this.children;for(let f=0,_=c.length;f<_;f++)c[f].traverse(r)}traverseVisible(r){if(this.visible===!1)return;r(this);const c=this.children;for(let f=0,_=c.length;f<_;f++)c[f].traverseVisible(r)}traverseAncestors(r){const c=this.parent;c!==null&&(r(c),c.traverseAncestors(r))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(r){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||r)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,r=!0);const c=this.children;for(let f=0,_=c.length;f<_;f++)c[f].updateMatrixWorld(r)}updateWorldMatrix(r,c){const f=this.parent;if(r===!0&&f!==null&&f.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),c===!0){const _=this.children;for(let y=0,T=_.length;y<T;y++)_[y].updateWorldMatrix(!1,!0)}}toJSON(r){const c=r===void 0||typeof r=="string",f={};c&&(r={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},f.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const _={};_.uuid=this.uuid,_.type=this.type,this.name!==""&&(_.name=this.name),this.castShadow===!0&&(_.castShadow=!0),this.receiveShadow===!0&&(_.receiveShadow=!0),this.visible===!1&&(_.visible=!1),this.frustumCulled===!1&&(_.frustumCulled=!1),this.renderOrder!==0&&(_.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(_.userData=this.userData),_.layers=this.layers.mask,_.matrix=this.matrix.toArray(),_.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(_.matrixAutoUpdate=!1),this.isInstancedMesh&&(_.type="InstancedMesh",_.count=this.count,_.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(_.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(_.type="BatchedMesh",_.perObjectFrustumCulled=this.perObjectFrustumCulled,_.sortObjects=this.sortObjects,_.drawRanges=this._drawRanges,_.reservedRanges=this._reservedRanges,_.geometryInfo=this._geometryInfo.map(A=>({...A,boundingBox:A.boundingBox?A.boundingBox.toJSON():void 0,boundingSphere:A.boundingSphere?A.boundingSphere.toJSON():void 0})),_.instanceInfo=this._instanceInfo.map(A=>({...A})),_.availableInstanceIds=this._availableInstanceIds.slice(),_.availableGeometryIds=this._availableGeometryIds.slice(),_.nextIndexStart=this._nextIndexStart,_.nextVertexStart=this._nextVertexStart,_.geometryCount=this._geometryCount,_.maxInstanceCount=this._maxInstanceCount,_.maxVertexCount=this._maxVertexCount,_.maxIndexCount=this._maxIndexCount,_.geometryInitialized=this._geometryInitialized,_.matricesTexture=this._matricesTexture.toJSON(r),_.indirectTexture=this._indirectTexture.toJSON(r),this._colorsTexture!==null&&(_.colorsTexture=this._colorsTexture.toJSON(r)),this.boundingSphere!==null&&(_.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(_.boundingBox=this.boundingBox.toJSON()));function y(A,N){return A[N.uuid]===void 0&&(A[N.uuid]=N.toJSON(r)),N.uuid}if(this.isScene)this.background&&(this.background.isColor?_.background=this.background.toJSON():this.background.isTexture&&(_.background=this.background.toJSON(r).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(_.environment=this.environment.toJSON(r).uuid);else if(this.isMesh||this.isLine||this.isPoints){_.geometry=y(r.geometries,this.geometry);const A=this.geometry.parameters;if(A!==void 0&&A.shapes!==void 0){const N=A.shapes;if(Array.isArray(N))for(let k=0,V=N.length;k<V;k++){const j=N[k];y(r.shapes,j)}else y(r.shapes,N)}}if(this.isSkinnedMesh&&(_.bindMode=this.bindMode,_.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(y(r.skeletons,this.skeleton),_.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const A=[];for(let N=0,k=this.material.length;N<k;N++)A.push(y(r.materials,this.material[N]));_.material=A}else _.material=y(r.materials,this.material);if(this.children.length>0){_.children=[];for(let A=0;A<this.children.length;A++)_.children.push(this.children[A].toJSON(r).object)}if(this.animations.length>0){_.animations=[];for(let A=0;A<this.animations.length;A++){const N=this.animations[A];_.animations.push(y(r.animations,N))}}if(c){const A=T(r.geometries),N=T(r.materials),k=T(r.textures),V=T(r.images),j=T(r.shapes),K=T(r.skeletons),Q=T(r.animations),ie=T(r.nodes);A.length>0&&(f.geometries=A),N.length>0&&(f.materials=N),k.length>0&&(f.textures=k),V.length>0&&(f.images=V),j.length>0&&(f.shapes=j),K.length>0&&(f.skeletons=K),Q.length>0&&(f.animations=Q),ie.length>0&&(f.nodes=ie)}return f.object=_,f;function T(A){const N=[];for(const k in A){const V=A[k];delete V.metadata,N.push(V)}return N}}clone(r){return new this.constructor().copy(this,r)}copy(r,c=!0){if(this.name=r.name,this.up.copy(r.up),this.position.copy(r.position),this.rotation.order=r.rotation.order,this.quaternion.copy(r.quaternion),this.scale.copy(r.scale),this.matrix.copy(r.matrix),this.matrixWorld.copy(r.matrixWorld),this.matrixAutoUpdate=r.matrixAutoUpdate,this.matrixWorldAutoUpdate=r.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=r.matrixWorldNeedsUpdate,this.layers.mask=r.layers.mask,this.visible=r.visible,this.castShadow=r.castShadow,this.receiveShadow=r.receiveShadow,this.frustumCulled=r.frustumCulled,this.renderOrder=r.renderOrder,this.animations=r.animations.slice(),this.userData=JSON.parse(JSON.stringify(r.userData)),c===!0)for(let f=0;f<r.children.length;f++){const _=r.children[f];this.add(_.clone())}return this}}U2.DEFAULT_UP=new at(0,1,0);U2.DEFAULT_MATRIX_AUTO_UPDATE=!0;U2.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const io=new at,c1=new at,zh=new at,l1=new at,Ec=new at,Nc=new at,Km=new at,Wh=new at,Hh=new at,jh=new at,qh=new hi,Xh=new hi,$h=new hi;class so{constructor(r=new at,c=new at,f=new at){this.a=r,this.b=c,this.c=f}static getNormal(r,c,f,_){_.subVectors(f,c),io.subVectors(r,c),_.cross(io);const y=_.lengthSq();return y>0?_.multiplyScalar(1/Math.sqrt(y)):_.set(0,0,0)}static getBarycoord(r,c,f,_,y){io.subVectors(_,c),c1.subVectors(f,c),zh.subVectors(r,c);const T=io.dot(io),A=io.dot(c1),N=io.dot(zh),k=c1.dot(c1),V=c1.dot(zh),j=T*k-A*A;if(j===0)return y.set(0,0,0),null;const K=1/j,Q=(k*N-A*V)*K,ie=(T*V-A*N)*K;return y.set(1-Q-ie,ie,Q)}static containsPoint(r,c,f,_){return this.getBarycoord(r,c,f,_,l1)===null?!1:l1.x>=0&&l1.y>=0&&l1.x+l1.y<=1}static getInterpolation(r,c,f,_,y,T,A,N){return this.getBarycoord(r,c,f,_,l1)===null?(N.x=0,N.y=0,"z"in N&&(N.z=0),"w"in N&&(N.w=0),null):(N.setScalar(0),N.addScaledVector(y,l1.x),N.addScaledVector(T,l1.y),N.addScaledVector(A,l1.z),N)}static getInterpolatedAttribute(r,c,f,_,y,T){return qh.setScalar(0),Xh.setScalar(0),$h.setScalar(0),qh.fromBufferAttribute(r,c),Xh.fromBufferAttribute(r,f),$h.fromBufferAttribute(r,_),T.setScalar(0),T.addScaledVector(qh,y.x),T.addScaledVector(Xh,y.y),T.addScaledVector($h,y.z),T}static isFrontFacing(r,c,f,_){return io.subVectors(f,c),c1.subVectors(r,c),io.cross(c1).dot(_)<0}set(r,c,f){return this.a.copy(r),this.b.copy(c),this.c.copy(f),this}setFromPointsAndIndices(r,c,f,_){return this.a.copy(r[c]),this.b.copy(r[f]),this.c.copy(r[_]),this}setFromAttributeAndIndices(r,c,f,_){return this.a.fromBufferAttribute(r,c),this.b.fromBufferAttribute(r,f),this.c.fromBufferAttribute(r,_),this}clone(){return new this.constructor().copy(this)}copy(r){return this.a.copy(r.a),this.b.copy(r.b),this.c.copy(r.c),this}getArea(){return io.subVectors(this.c,this.b),c1.subVectors(this.a,this.b),io.cross(c1).length()*.5}getMidpoint(r){return r.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(r){return so.getNormal(this.a,this.b,this.c,r)}getPlane(r){return r.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(r,c){return so.getBarycoord(r,this.a,this.b,this.c,c)}getInterpolation(r,c,f,_,y){return so.getInterpolation(r,this.a,this.b,this.c,c,f,_,y)}containsPoint(r){return so.containsPoint(r,this.a,this.b,this.c)}isFrontFacing(r){return so.isFrontFacing(this.a,this.b,this.c,r)}intersectsBox(r){return r.intersectsTriangle(this)}closestPointToPoint(r,c){const f=this.a,_=this.b,y=this.c;let T,A;Ec.subVectors(_,f),Nc.subVectors(y,f),Wh.subVectors(r,f);const N=Ec.dot(Wh),k=Nc.dot(Wh);if(N<=0&&k<=0)return c.copy(f);Hh.subVectors(r,_);const V=Ec.dot(Hh),j=Nc.dot(Hh);if(V>=0&&j<=V)return c.copy(_);const K=N*j-V*k;if(K<=0&&N>=0&&V<=0)return T=N/(N-V),c.copy(f).addScaledVector(Ec,T);jh.subVectors(r,y);const Q=Ec.dot(jh),ie=Nc.dot(jh);if(ie>=0&&Q<=ie)return c.copy(y);const ce=Q*k-N*ie;if(ce<=0&&k>=0&&ie<=0)return A=k/(k-ie),c.copy(f).addScaledVector(Nc,A);const ue=V*ie-Q*j;if(ue<=0&&j-V>=0&&Q-ie>=0)return Km.subVectors(y,_),A=(j-V)/(j-V+(Q-ie)),c.copy(_).addScaledVector(Km,A);const re=1/(ue+ce+K);return T=ce*re,A=K*re,c.copy(f).addScaledVector(Ec,T).addScaledVector(Nc,A)}equals(r){return r.a.equals(this.a)&&r.b.equals(this.b)&&r.c.equals(this.c)}}const Fg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},H1={h:0,s:0,l:0},u_={h:0,s:0,l:0};function Yh(v,r,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?v+(r-v)*6*c:c<1/2?r:c<2/3?v+(r-v)*6*(2/3-c):v}class ni{constructor(r,c,f){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(r,c,f)}set(r,c,f){if(c===void 0&&f===void 0){const _=r;_&&_.isColor?this.copy(_):typeof _=="number"?this.setHex(_):typeof _=="string"&&this.setStyle(_)}else this.setRGB(r,c,f);return this}setScalar(r){return this.r=r,this.g=r,this.b=r,this}setHex(r,c=D2){return r=Math.floor(r),this.r=(r>>16&255)/255,this.g=(r>>8&255)/255,this.b=(r&255)/255,fi.colorSpaceToWorking(this,c),this}setRGB(r,c,f,_=fi.workingColorSpace){return this.r=r,this.g=c,this.b=f,fi.colorSpaceToWorking(this,_),this}setHSL(r,c,f,_=fi.workingColorSpace){if(r=kd(r,1),c=Ji(c,0,1),f=Ji(f,0,1),c===0)this.r=this.g=this.b=f;else{const y=f<=.5?f*(1+c):f+c-f*c,T=2*f-y;this.r=Yh(T,y,r+1/3),this.g=Yh(T,y,r),this.b=Yh(T,y,r-1/3)}return fi.colorSpaceToWorking(this,_),this}setStyle(r,c=D2){function f(y){y!==void 0&&parseFloat(y)<1&&jt("Color: Alpha component of "+r+" will be ignored.")}let _;if(_=/^(\w+)\(([^\)]*)\)/.exec(r)){let y;const T=_[1],A=_[2];switch(T){case"rgb":case"rgba":if(y=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A))return f(y[4]),this.setRGB(Math.min(255,parseInt(y[1],10))/255,Math.min(255,parseInt(y[2],10))/255,Math.min(255,parseInt(y[3],10))/255,c);if(y=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A))return f(y[4]),this.setRGB(Math.min(100,parseInt(y[1],10))/100,Math.min(100,parseInt(y[2],10))/100,Math.min(100,parseInt(y[3],10))/100,c);break;case"hsl":case"hsla":if(y=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A))return f(y[4]),this.setHSL(parseFloat(y[1])/360,parseFloat(y[2])/100,parseFloat(y[3])/100,c);break;default:jt("Color: Unknown color model "+r)}}else if(_=/^\#([A-Fa-f\d]+)$/.exec(r)){const y=_[1],T=y.length;if(T===3)return this.setRGB(parseInt(y.charAt(0),16)/15,parseInt(y.charAt(1),16)/15,parseInt(y.charAt(2),16)/15,c);if(T===6)return this.setHex(parseInt(y,16),c);jt("Color: Invalid hex color "+r)}else if(r&&r.length>0)return this.setColorName(r,c);return this}setColorName(r,c=D2){const f=Fg[r.toLowerCase()];return f!==void 0?this.setHex(f,c):jt("Color: Unknown color "+r),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(r){return this.r=r.r,this.g=r.g,this.b=r.b,this}copySRGBToLinear(r){return this.r=C1(r.r),this.g=C1(r.g),this.b=C1(r.b),this}copyLinearToSRGB(r){return this.r=Kc(r.r),this.g=Kc(r.g),this.b=Kc(r.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(r=D2){return fi.workingToColorSpace(kr.copy(this),r),Math.round(Ji(kr.r*255,0,255))*65536+Math.round(Ji(kr.g*255,0,255))*256+Math.round(Ji(kr.b*255,0,255))}getHexString(r=D2){return("000000"+this.getHex(r).toString(16)).slice(-6)}getHSL(r,c=fi.workingColorSpace){fi.workingToColorSpace(kr.copy(this),c);const f=kr.r,_=kr.g,y=kr.b,T=Math.max(f,_,y),A=Math.min(f,_,y);let N,k;const V=(A+T)/2;if(A===T)N=0,k=0;else{const j=T-A;switch(k=V<=.5?j/(T+A):j/(2-T-A),T){case f:N=(_-y)/j+(_<y?6:0);break;case _:N=(y-f)/j+2;break;case y:N=(f-_)/j+4;break}N/=6}return r.h=N,r.s=k,r.l=V,r}getRGB(r,c=fi.workingColorSpace){return fi.workingToColorSpace(kr.copy(this),c),r.r=kr.r,r.g=kr.g,r.b=kr.b,r}getStyle(r=D2){fi.workingToColorSpace(kr.copy(this),r);const c=kr.r,f=kr.g,_=kr.b;return r!==D2?`color(${r} ${c.toFixed(3)} ${f.toFixed(3)} ${_.toFixed(3)})`:`rgb(${Math.round(c*255)},${Math.round(f*255)},${Math.round(_*255)})`}offsetHSL(r,c,f){return this.getHSL(H1),this.setHSL(H1.h+r,H1.s+c,H1.l+f)}add(r){return this.r+=r.r,this.g+=r.g,this.b+=r.b,this}addColors(r,c){return this.r=r.r+c.r,this.g=r.g+c.g,this.b=r.b+c.b,this}addScalar(r){return this.r+=r,this.g+=r,this.b+=r,this}sub(r){return this.r=Math.max(0,this.r-r.r),this.g=Math.max(0,this.g-r.g),this.b=Math.max(0,this.b-r.b),this}multiply(r){return this.r*=r.r,this.g*=r.g,this.b*=r.b,this}multiplyScalar(r){return this.r*=r,this.g*=r,this.b*=r,this}lerp(r,c){return this.r+=(r.r-this.r)*c,this.g+=(r.g-this.g)*c,this.b+=(r.b-this.b)*c,this}lerpColors(r,c,f){return this.r=r.r+(c.r-r.r)*f,this.g=r.g+(c.g-r.g)*f,this.b=r.b+(c.b-r.b)*f,this}lerpHSL(r,c){this.getHSL(H1),r.getHSL(u_);const f=Fu(H1.h,u_.h,c),_=Fu(H1.s,u_.s,c),y=Fu(H1.l,u_.l,c);return this.setHSL(f,_,y),this}setFromVector3(r){return this.r=r.x,this.g=r.y,this.b=r.z,this}applyMatrix3(r){const c=this.r,f=this.g,_=this.b,y=r.elements;return this.r=y[0]*c+y[3]*f+y[6]*_,this.g=y[1]*c+y[4]*f+y[7]*_,this.b=y[2]*c+y[5]*f+y[8]*_,this}equals(r){return r.r===this.r&&r.g===this.g&&r.b===this.b}fromArray(r,c=0){return this.r=r[c],this.g=r[c+1],this.b=r[c+2],this}toArray(r=[],c=0){return r[c]=this.r,r[c+1]=this.g,r[c+2]=this.b,r}fromBufferAttribute(r,c){return this.r=r.getX(c),this.g=r.getY(c),this.b=r.getZ(c),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const kr=new ni;ni.NAMES=Fg;let loe=0;class Gr extends N1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:loe++}),this.uuid=fo(),this.name="",this.type="Material",this.blending=Ds,this.side=ys,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=qu,this.blendDst=Xu,this.blendEquation=Fr,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ni(0,0,0),this.blendAlpha=0,this.depthFunc=na,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=X4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Da,this.stencilZFail=Da,this.stencilZPass=Da,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(r){this._alphaTest>0!=r>0&&this.version++,this._alphaTest=r}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(r){if(r!==void 0)for(const c in r){const f=r[c];if(f===void 0){jt(`Material: parameter '${c}' has value of undefined.`);continue}const _=this[c];if(_===void 0){jt(`Material: '${c}' is not a property of THREE.${this.type}.`);continue}_&&_.isColor?_.set(f):_&&_.isVector3&&f&&f.isVector3?_.copy(f):this[c]=f}}toJSON(r){const c=r===void 0||typeof r=="string";c&&(r={textures:{},images:{}});const f={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};f.uuid=this.uuid,f.type=this.type,this.name!==""&&(f.name=this.name),this.color&&this.color.isColor&&(f.color=this.color.getHex()),this.roughness!==void 0&&(f.roughness=this.roughness),this.metalness!==void 0&&(f.metalness=this.metalness),this.sheen!==void 0&&(f.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(f.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(f.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(f.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(f.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(f.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(f.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(f.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(f.shininess=this.shininess),this.clearcoat!==void 0&&(f.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(f.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(f.clearcoatMap=this.clearcoatMap.toJSON(r).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(f.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(r).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(f.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(r).uuid,f.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(f.sheenColorMap=this.sheenColorMap.toJSON(r).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(f.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(r).uuid),this.dispersion!==void 0&&(f.dispersion=this.dispersion),this.iridescence!==void 0&&(f.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(f.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(f.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(f.iridescenceMap=this.iridescenceMap.toJSON(r).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(f.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(r).uuid),this.anisotropy!==void 0&&(f.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(f.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(f.anisotropyMap=this.anisotropyMap.toJSON(r).uuid),this.map&&this.map.isTexture&&(f.map=this.map.toJSON(r).uuid),this.matcap&&this.matcap.isTexture&&(f.matcap=this.matcap.toJSON(r).uuid),this.alphaMap&&this.alphaMap.isTexture&&(f.alphaMap=this.alphaMap.toJSON(r).uuid),this.lightMap&&this.lightMap.isTexture&&(f.lightMap=this.lightMap.toJSON(r).uuid,f.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(f.aoMap=this.aoMap.toJSON(r).uuid,f.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(f.bumpMap=this.bumpMap.toJSON(r).uuid,f.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(f.normalMap=this.normalMap.toJSON(r).uuid,f.normalMapType=this.normalMapType,f.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(f.displacementMap=this.displacementMap.toJSON(r).uuid,f.displacementScale=this.displacementScale,f.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(f.roughnessMap=this.roughnessMap.toJSON(r).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(f.metalnessMap=this.metalnessMap.toJSON(r).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(f.emissiveMap=this.emissiveMap.toJSON(r).uuid),this.specularMap&&this.specularMap.isTexture&&(f.specularMap=this.specularMap.toJSON(r).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(f.specularIntensityMap=this.specularIntensityMap.toJSON(r).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(f.specularColorMap=this.specularColorMap.toJSON(r).uuid),this.envMap&&this.envMap.isTexture&&(f.envMap=this.envMap.toJSON(r).uuid,this.combine!==void 0&&(f.combine=this.combine)),this.envMapRotation!==void 0&&(f.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(f.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(f.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(f.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(f.gradientMap=this.gradientMap.toJSON(r).uuid),this.transmission!==void 0&&(f.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(f.transmissionMap=this.transmissionMap.toJSON(r).uuid),this.thickness!==void 0&&(f.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(f.thicknessMap=this.thicknessMap.toJSON(r).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(f.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(f.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(f.size=this.size),this.shadowSide!==null&&(f.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(f.sizeAttenuation=this.sizeAttenuation),this.blending!==Ds&&(f.blending=this.blending),this.side!==ys&&(f.side=this.side),this.vertexColors===!0&&(f.vertexColors=!0),this.opacity<1&&(f.opacity=this.opacity),this.transparent===!0&&(f.transparent=!0),this.blendSrc!==qu&&(f.blendSrc=this.blendSrc),this.blendDst!==Xu&&(f.blendDst=this.blendDst),this.blendEquation!==Fr&&(f.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(f.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(f.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(f.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(f.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(f.blendAlpha=this.blendAlpha),this.depthFunc!==na&&(f.depthFunc=this.depthFunc),this.depthTest===!1&&(f.depthTest=this.depthTest),this.depthWrite===!1&&(f.depthWrite=this.depthWrite),this.colorWrite===!1&&(f.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(f.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==X4&&(f.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(f.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(f.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Da&&(f.stencilFail=this.stencilFail),this.stencilZFail!==Da&&(f.stencilZFail=this.stencilZFail),this.stencilZPass!==Da&&(f.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(f.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(f.rotation=this.rotation),this.polygonOffset===!0&&(f.polygonOffset=!0),this.polygonOffsetFactor!==0&&(f.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(f.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(f.linewidth=this.linewidth),this.dashSize!==void 0&&(f.dashSize=this.dashSize),this.gapSize!==void 0&&(f.gapSize=this.gapSize),this.scale!==void 0&&(f.scale=this.scale),this.dithering===!0&&(f.dithering=!0),this.alphaTest>0&&(f.alphaTest=this.alphaTest),this.alphaHash===!0&&(f.alphaHash=!0),this.alphaToCoverage===!0&&(f.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(f.premultipliedAlpha=!0),this.forceSinglePass===!0&&(f.forceSinglePass=!0),this.wireframe===!0&&(f.wireframe=!0),this.wireframeLinewidth>1&&(f.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(f.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(f.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(f.flatShading=!0),this.visible===!1&&(f.visible=!1),this.toneMapped===!1&&(f.toneMapped=!1),this.fog===!1&&(f.fog=!1),Object.keys(this.userData).length>0&&(f.userData=this.userData);function _(y){const T=[];for(const A in y){const N=y[A];delete N.metadata,T.push(N)}return T}if(c){const y=_(r.textures),T=_(r.images);y.length>0&&(f.textures=y),T.length>0&&(f.images=T)}return f}clone(){return new this.constructor().copy(this)}copy(r){this.name=r.name,this.blending=r.blending,this.side=r.side,this.vertexColors=r.vertexColors,this.opacity=r.opacity,this.transparent=r.transparent,this.blendSrc=r.blendSrc,this.blendDst=r.blendDst,this.blendEquation=r.blendEquation,this.blendSrcAlpha=r.blendSrcAlpha,this.blendDstAlpha=r.blendDstAlpha,this.blendEquationAlpha=r.blendEquationAlpha,this.blendColor.copy(r.blendColor),this.blendAlpha=r.blendAlpha,this.depthFunc=r.depthFunc,this.depthTest=r.depthTest,this.depthWrite=r.depthWrite,this.stencilWriteMask=r.stencilWriteMask,this.stencilFunc=r.stencilFunc,this.stencilRef=r.stencilRef,this.stencilFuncMask=r.stencilFuncMask,this.stencilFail=r.stencilFail,this.stencilZFail=r.stencilZFail,this.stencilZPass=r.stencilZPass,this.stencilWrite=r.stencilWrite;const c=r.clippingPlanes;let f=null;if(c!==null){const _=c.length;f=new Array(_);for(let y=0;y!==_;++y)f[y]=c[y].clone()}return this.clippingPlanes=f,this.clipIntersection=r.clipIntersection,this.clipShadows=r.clipShadows,this.shadowSide=r.shadowSide,this.colorWrite=r.colorWrite,this.precision=r.precision,this.polygonOffset=r.polygonOffset,this.polygonOffsetFactor=r.polygonOffsetFactor,this.polygonOffsetUnits=r.polygonOffsetUnits,this.dithering=r.dithering,this.alphaTest=r.alphaTest,this.alphaHash=r.alphaHash,this.alphaToCoverage=r.alphaToCoverage,this.premultipliedAlpha=r.premultipliedAlpha,this.forceSinglePass=r.forceSinglePass,this.visible=r.visible,this.toneMapped=r.toneMapped,this.userData=JSON.parse(JSON.stringify(r.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(r){r===!0&&this.version++}}class oo extends Gr{constructor(r){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ni(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ts,this.combine=mf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.fog=r.fog,this}}const x1=uoe();function uoe(){const v=new ArrayBuffer(4),r=new Float32Array(v),c=new Uint32Array(v),f=new Uint32Array(512),_=new Uint32Array(512);for(let N=0;N<256;++N){const k=N-127;k<-27?(f[N]=0,f[N|256]=32768,_[N]=24,_[N|256]=24):k<-14?(f[N]=1024>>-k-14,f[N|256]=1024>>-k-14|32768,_[N]=-k-1,_[N|256]=-k-1):k<=15?(f[N]=k+15<<10,f[N|256]=k+15<<10|32768,_[N]=13,_[N|256]=13):k<128?(f[N]=31744,f[N|256]=64512,_[N]=24,_[N|256]=24):(f[N]=31744,f[N|256]=64512,_[N]=13,_[N|256]=13)}const y=new Uint32Array(2048),T=new Uint32Array(64),A=new Uint32Array(64);for(let N=1;N<1024;++N){let k=N<<13,V=0;for(;(k&8388608)===0;)k<<=1,V-=8388608;k&=-8388609,V+=947912704,y[N]=k|V}for(let N=1024;N<2048;++N)y[N]=939524096+(N-1024<<13);for(let N=1;N<31;++N)T[N]=N<<23;T[31]=1199570944,T[32]=2147483648;for(let N=33;N<63;++N)T[N]=2147483648+(N-32<<23);T[63]=3347054592;for(let N=1;N<64;++N)N!==32&&(A[N]=1024);return{floatView:r,uint32View:c,baseTable:f,shiftTable:_,mantissaTable:y,exponentTable:T,offsetTable:A}}function Rs(v){Math.abs(v)>65504&&jt("DataUtils.toHalfFloat(): Value out of range."),v=Ji(v,-65504,65504),x1.floatView[0]=v;const r=x1.uint32View[0],c=r>>23&511;return x1.baseTable[c]+((r&8388607)>>x1.shiftTable[c])}function f_(v){const r=v>>10;return x1.uint32View[0]=x1.mantissaTable[x1.offsetTable[r]+(v&1023)]+x1.exponentTable[r],x1.floatView[0]}const X2=new at,__=new _i;let foe=0;class Or{constructor(r,c,f=!1){if(Array.isArray(r))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:foe++}),this.name="",this.array=r,this.itemSize=c,this.count=r!==void 0?r.length/c:0,this.normalized=f,this.usage=tp,this.updateRanges=[],this.gpuType=I2,this.version=0}onUploadCallback(){}set needsUpdate(r){r===!0&&this.version++}setUsage(r){return this.usage=r,this}addUpdateRange(r,c){this.updateRanges.push({start:r,count:c})}clearUpdateRanges(){this.updateRanges.length=0}copy(r){return this.name=r.name,this.array=new r.array.constructor(r.array),this.itemSize=r.itemSize,this.count=r.count,this.normalized=r.normalized,this.usage=r.usage,this.gpuType=r.gpuType,this}copyAt(r,c,f){r*=this.itemSize,f*=c.itemSize;for(let _=0,y=this.itemSize;_<y;_++)this.array[r+_]=c.array[f+_];return this}copyArray(r){return this.array.set(r),this}applyMatrix3(r){if(this.itemSize===2)for(let c=0,f=this.count;c<f;c++)__.fromBufferAttribute(this,c),__.applyMatrix3(r),this.setXY(c,__.x,__.y);else if(this.itemSize===3)for(let c=0,f=this.count;c<f;c++)X2.fromBufferAttribute(this,c),X2.applyMatrix3(r),this.setXYZ(c,X2.x,X2.y,X2.z);return this}applyMatrix4(r){for(let c=0,f=this.count;c<f;c++)X2.fromBufferAttribute(this,c),X2.applyMatrix4(r),this.setXYZ(c,X2.x,X2.y,X2.z);return this}applyNormalMatrix(r){for(let c=0,f=this.count;c<f;c++)X2.fromBufferAttribute(this,c),X2.applyNormalMatrix(r),this.setXYZ(c,X2.x,X2.y,X2.z);return this}transformDirection(r){for(let c=0,f=this.count;c<f;c++)X2.fromBufferAttribute(this,c),X2.transformDirection(r),this.setXYZ(c,X2.x,X2.y,X2.z);return this}set(r,c=0){return this.array.set(r,c),this}getComponent(r,c){let f=this.array[r*this.itemSize+c];return this.normalized&&(f=Qr(f,this.array)),f}setComponent(r,c,f){return this.normalized&&(f=ji(f,this.array)),this.array[r*this.itemSize+c]=f,this}getX(r){let c=this.array[r*this.itemSize];return this.normalized&&(c=Qr(c,this.array)),c}setX(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize]=c,this}getY(r){let c=this.array[r*this.itemSize+1];return this.normalized&&(c=Qr(c,this.array)),c}setY(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize+1]=c,this}getZ(r){let c=this.array[r*this.itemSize+2];return this.normalized&&(c=Qr(c,this.array)),c}setZ(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize+2]=c,this}getW(r){let c=this.array[r*this.itemSize+3];return this.normalized&&(c=Qr(c,this.array)),c}setW(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize+3]=c,this}setXY(r,c,f){return r*=this.itemSize,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array)),this.array[r+0]=c,this.array[r+1]=f,this}setXYZ(r,c,f,_){return r*=this.itemSize,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array),_=ji(_,this.array)),this.array[r+0]=c,this.array[r+1]=f,this.array[r+2]=_,this}setXYZW(r,c,f,_,y){return r*=this.itemSize,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array),_=ji(_,this.array),y=ji(y,this.array)),this.array[r+0]=c,this.array[r+1]=f,this.array[r+2]=_,this.array[r+3]=y,this}onUpload(r){return this.onUploadCallback=r,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const r={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(r.name=this.name),this.usage!==tp&&(r.usage=this.usage),r}}class Od extends Or{constructor(r,c,f){super(new Uint16Array(r),c,f)}}class Gd extends Or{constructor(r,c,f){super(new Uint32Array(r),c,f)}}class Bg extends Or{constructor(r,c,f){super(new Uint16Array(r),c,f),this.isFloat16BufferAttribute=!0}getX(r){let c=f_(this.array[r*this.itemSize]);return this.normalized&&(c=Qr(c,this.array)),c}setX(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize]=Rs(c),this}getY(r){let c=f_(this.array[r*this.itemSize+1]);return this.normalized&&(c=Qr(c,this.array)),c}setY(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize+1]=Rs(c),this}getZ(r){let c=f_(this.array[r*this.itemSize+2]);return this.normalized&&(c=Qr(c,this.array)),c}setZ(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize+2]=Rs(c),this}getW(r){let c=f_(this.array[r*this.itemSize+3]);return this.normalized&&(c=Qr(c,this.array)),c}setW(r,c){return this.normalized&&(c=ji(c,this.array)),this.array[r*this.itemSize+3]=Rs(c),this}setXY(r,c,f){return r*=this.itemSize,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array)),this.array[r+0]=Rs(c),this.array[r+1]=Rs(f),this}setXYZ(r,c,f,_){return r*=this.itemSize,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array),_=ji(_,this.array)),this.array[r+0]=Rs(c),this.array[r+1]=Rs(f),this.array[r+2]=Rs(_),this}setXYZW(r,c,f,_,y){return r*=this.itemSize,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array),_=ji(_,this.array),y=ji(y,this.array)),this.array[r+0]=Rs(c),this.array[r+1]=Rs(f),this.array[r+2]=Rs(_),this.array[r+3]=Rs(y),this}}class x2 extends Or{constructor(r,c,f){super(new Float32Array(r),c,f)}}let _oe=0;const Vs=new Ri,Kh=new U2,bc=new at,As=new zl,_u=new zl,yr=new at;class ns extends N1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_oe++}),this.uuid=fo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(r){return Array.isArray(r)?this.index=new(Ld(r)?Gd:Od)(r,1):this.index=r,this}setIndirect(r){return this.indirect=r,this}getIndirect(){return this.indirect}getAttribute(r){return this.attributes[r]}setAttribute(r,c){return this.attributes[r]=c,this}deleteAttribute(r){return delete this.attributes[r],this}hasAttribute(r){return this.attributes[r]!==void 0}addGroup(r,c,f=0){this.groups.push({start:r,count:c,materialIndex:f})}clearGroups(){this.groups=[]}setDrawRange(r,c){this.drawRange.start=r,this.drawRange.count=c}applyMatrix4(r){const c=this.attributes.position;c!==void 0&&(c.applyMatrix4(r),c.needsUpdate=!0);const f=this.attributes.normal;if(f!==void 0){const y=new Pi().getNormalMatrix(r);f.applyNormalMatrix(y),f.needsUpdate=!0}const _=this.attributes.tangent;return _!==void 0&&(_.transformDirection(r),_.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(r){return Vs.makeRotationFromQuaternion(r),this.applyMatrix4(Vs),this}rotateX(r){return Vs.makeRotationX(r),this.applyMatrix4(Vs),this}rotateY(r){return Vs.makeRotationY(r),this.applyMatrix4(Vs),this}rotateZ(r){return Vs.makeRotationZ(r),this.applyMatrix4(Vs),this}translate(r,c,f){return Vs.makeTranslation(r,c,f),this.applyMatrix4(Vs),this}scale(r,c,f){return Vs.makeScale(r,c,f),this.applyMatrix4(Vs),this}lookAt(r){return Kh.lookAt(r),Kh.updateMatrix(),this.applyMatrix4(Kh.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(bc).negate(),this.translate(bc.x,bc.y,bc.z),this}setFromPoints(r){const c=this.getAttribute("position");if(c===void 0){const f=[];for(let _=0,y=r.length;_<y;_++){const T=r[_];f.push(T.x,T.y,T.z||0)}this.setAttribute("position",new x2(f,3))}else{const f=Math.min(r.length,c.count);for(let _=0;_<f;_++){const y=r[_];c.setXYZ(_,y.x,y.y,y.z||0)}r.length>c.count&&jt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),c.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zl);const r=this.attributes.position,c=this.morphAttributes.position;if(r&&r.isGLBufferAttribute){r0("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new at(-1/0,-1/0,-1/0),new at(1/0,1/0,1/0));return}if(r!==void 0){if(this.boundingBox.setFromBufferAttribute(r),c)for(let f=0,_=c.length;f<_;f++){const y=c[f];As.setFromBufferAttribute(y),this.morphTargetsRelative?(yr.addVectors(this.boundingBox.min,As.min),this.boundingBox.expandByPoint(yr),yr.addVectors(this.boundingBox.max,As.max),this.boundingBox.expandByPoint(yr)):(this.boundingBox.expandByPoint(As.min),this.boundingBox.expandByPoint(As.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&r0('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ja);const r=this.attributes.position,c=this.morphAttributes.position;if(r&&r.isGLBufferAttribute){r0("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new at,1/0);return}if(r){const f=this.boundingSphere.center;if(As.setFromBufferAttribute(r),c)for(let y=0,T=c.length;y<T;y++){const A=c[y];_u.setFromBufferAttribute(A),this.morphTargetsRelative?(yr.addVectors(As.min,_u.min),As.expandByPoint(yr),yr.addVectors(As.max,_u.max),As.expandByPoint(yr)):(As.expandByPoint(_u.min),As.expandByPoint(_u.max))}As.getCenter(f);let _=0;for(let y=0,T=r.count;y<T;y++)yr.fromBufferAttribute(r,y),_=Math.max(_,f.distanceToSquared(yr));if(c)for(let y=0,T=c.length;y<T;y++){const A=c[y],N=this.morphTargetsRelative;for(let k=0,V=A.count;k<V;k++)yr.fromBufferAttribute(A,k),N&&(bc.fromBufferAttribute(r,k),yr.add(bc)),_=Math.max(_,f.distanceToSquared(yr))}this.boundingSphere.radius=Math.sqrt(_),isNaN(this.boundingSphere.radius)&&r0('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const r=this.index,c=this.attributes;if(r===null||c.position===void 0||c.normal===void 0||c.uv===void 0){r0("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const f=c.position,_=c.normal,y=c.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Or(new Float32Array(4*f.count),4));const T=this.getAttribute("tangent"),A=[],N=[];for(let $e=0;$e<f.count;$e++)A[$e]=new at,N[$e]=new at;const k=new at,V=new at,j=new at,K=new _i,Q=new _i,ie=new _i,ce=new at,ue=new at;function re($e,Ee,Ie){k.fromBufferAttribute(f,$e),V.fromBufferAttribute(f,Ee),j.fromBufferAttribute(f,Ie),K.fromBufferAttribute(y,$e),Q.fromBufferAttribute(y,Ee),ie.fromBufferAttribute(y,Ie),V.sub(k),j.sub(k),Q.sub(K),ie.sub(K);const Je=1/(Q.x*ie.y-ie.x*Q.y);isFinite(Je)&&(ce.copy(V).multiplyScalar(ie.y).addScaledVector(j,-Q.y).multiplyScalar(Je),ue.copy(j).multiplyScalar(Q.x).addScaledVector(V,-ie.x).multiplyScalar(Je),A[$e].add(ce),A[Ee].add(ce),A[Ie].add(ce),N[$e].add(ue),N[Ee].add(ue),N[Ie].add(ue))}let be=this.groups;be.length===0&&(be=[{start:0,count:r.count}]);for(let $e=0,Ee=be.length;$e<Ee;++$e){const Ie=be[$e],Je=Ie.start,ft=Ie.count;for(let yt=Je,Et=Je+ft;yt<Et;yt+=3)re(r.getX(yt+0),r.getX(yt+1),r.getX(yt+2))}const De=new at,Oe=new at,je=new at,Be=new at;function We($e){je.fromBufferAttribute(_,$e),Be.copy(je);const Ee=A[$e];De.copy(Ee),De.sub(je.multiplyScalar(je.dot(Ee))).normalize(),Oe.crossVectors(Be,Ee);const Je=Oe.dot(N[$e])<0?-1:1;T.setXYZW($e,De.x,De.y,De.z,Je)}for(let $e=0,Ee=be.length;$e<Ee;++$e){const Ie=be[$e],Je=Ie.start,ft=Ie.count;for(let yt=Je,Et=Je+ft;yt<Et;yt+=3)We(r.getX(yt+0)),We(r.getX(yt+1)),We(r.getX(yt+2))}}computeVertexNormals(){const r=this.index,c=this.getAttribute("position");if(c!==void 0){let f=this.getAttribute("normal");if(f===void 0)f=new Or(new Float32Array(c.count*3),3),this.setAttribute("normal",f);else for(let K=0,Q=f.count;K<Q;K++)f.setXYZ(K,0,0,0);const _=new at,y=new at,T=new at,A=new at,N=new at,k=new at,V=new at,j=new at;if(r)for(let K=0,Q=r.count;K<Q;K+=3){const ie=r.getX(K+0),ce=r.getX(K+1),ue=r.getX(K+2);_.fromBufferAttribute(c,ie),y.fromBufferAttribute(c,ce),T.fromBufferAttribute(c,ue),V.subVectors(T,y),j.subVectors(_,y),V.cross(j),A.fromBufferAttribute(f,ie),N.fromBufferAttribute(f,ce),k.fromBufferAttribute(f,ue),A.add(V),N.add(V),k.add(V),f.setXYZ(ie,A.x,A.y,A.z),f.setXYZ(ce,N.x,N.y,N.z),f.setXYZ(ue,k.x,k.y,k.z)}else for(let K=0,Q=c.count;K<Q;K+=3)_.fromBufferAttribute(c,K+0),y.fromBufferAttribute(c,K+1),T.fromBufferAttribute(c,K+2),V.subVectors(T,y),j.subVectors(_,y),V.cross(j),f.setXYZ(K+0,V.x,V.y,V.z),f.setXYZ(K+1,V.x,V.y,V.z),f.setXYZ(K+2,V.x,V.y,V.z);this.normalizeNormals(),f.needsUpdate=!0}}normalizeNormals(){const r=this.attributes.normal;for(let c=0,f=r.count;c<f;c++)yr.fromBufferAttribute(r,c),yr.normalize(),r.setXYZ(c,yr.x,yr.y,yr.z)}toNonIndexed(){function r(A,N){const k=A.array,V=A.itemSize,j=A.normalized,K=new k.constructor(N.length*V);let Q=0,ie=0;for(let ce=0,ue=N.length;ce<ue;ce++){A.isInterleavedBufferAttribute?Q=N[ce]*A.data.stride+A.offset:Q=N[ce]*V;for(let re=0;re<V;re++)K[ie++]=k[Q++]}return new Or(K,V,j)}if(this.index===null)return jt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const c=new ns,f=this.index.array,_=this.attributes;for(const A in _){const N=_[A],k=r(N,f);c.setAttribute(A,k)}const y=this.morphAttributes;for(const A in y){const N=[],k=y[A];for(let V=0,j=k.length;V<j;V++){const K=k[V],Q=r(K,f);N.push(Q)}c.morphAttributes[A]=N}c.morphTargetsRelative=this.morphTargetsRelative;const T=this.groups;for(let A=0,N=T.length;A<N;A++){const k=T[A];c.addGroup(k.start,k.count,k.materialIndex)}return c}toJSON(){const r={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),Object.keys(this.userData).length>0&&(r.userData=this.userData),this.parameters!==void 0){const N=this.parameters;for(const k in N)N[k]!==void 0&&(r[k]=N[k]);return r}r.data={attributes:{}};const c=this.index;c!==null&&(r.data.index={type:c.array.constructor.name,array:Array.prototype.slice.call(c.array)});const f=this.attributes;for(const N in f){const k=f[N];r.data.attributes[N]=k.toJSON(r.data)}const _={};let y=!1;for(const N in this.morphAttributes){const k=this.morphAttributes[N],V=[];for(let j=0,K=k.length;j<K;j++){const Q=k[j];V.push(Q.toJSON(r.data))}V.length>0&&(_[N]=V,y=!0)}y&&(r.data.morphAttributes=_,r.data.morphTargetsRelative=this.morphTargetsRelative);const T=this.groups;T.length>0&&(r.data.groups=JSON.parse(JSON.stringify(T)));const A=this.boundingSphere;return A!==null&&(r.data.boundingSphere=A.toJSON()),r}clone(){return new this.constructor().copy(this)}copy(r){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const c={};this.name=r.name;const f=r.index;f!==null&&this.setIndex(f.clone());const _=r.attributes;for(const k in _){const V=_[k];this.setAttribute(k,V.clone(c))}const y=r.morphAttributes;for(const k in y){const V=[],j=y[k];for(let K=0,Q=j.length;K<Q;K++)V.push(j[K].clone(c));this.morphAttributes[k]=V}this.morphTargetsRelative=r.morphTargetsRelative;const T=r.groups;for(let k=0,V=T.length;k<V;k++){const j=T[k];this.addGroup(j.start,j.count,j.materialIndex)}const A=r.boundingBox;A!==null&&(this.boundingBox=A.clone());const N=r.boundingSphere;return N!==null&&(this.boundingSphere=N.clone()),this.drawRange.start=r.drawRange.start,this.drawRange.count=r.drawRange.count,this.userData=r.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Zm=new Ri,wa=new Ud,p_=new Ja,Qm=new at,h_=new at,d_=new at,m_=new at,Zh=new at,g_=new at,Jm=new at,x_=new at;class Q2 extends U2{constructor(r=new ns,c=new oo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=r,this.material=c,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(r,c){return super.copy(r,c),r.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=r.morphTargetInfluences.slice()),r.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},r.morphTargetDictionary)),this.material=Array.isArray(r.material)?r.material.slice():r.material,this.geometry=r.geometry,this}updateMorphTargets(){const c=this.geometry.morphAttributes,f=Object.keys(c);if(f.length>0){const _=c[f[0]];if(_!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let y=0,T=_.length;y<T;y++){const A=_[y].name||String(y);this.morphTargetInfluences.push(0),this.morphTargetDictionary[A]=y}}}}getVertexPosition(r,c){const f=this.geometry,_=f.attributes.position,y=f.morphAttributes.position,T=f.morphTargetsRelative;c.fromBufferAttribute(_,r);const A=this.morphTargetInfluences;if(y&&A){g_.set(0,0,0);for(let N=0,k=y.length;N<k;N++){const V=A[N],j=y[N];V!==0&&(Zh.fromBufferAttribute(j,r),T?g_.addScaledVector(Zh,V):g_.addScaledVector(Zh.sub(c),V))}c.add(g_)}return c}raycast(r,c){const f=this.geometry,_=this.material,y=this.matrixWorld;_!==void 0&&(f.boundingSphere===null&&f.computeBoundingSphere(),p_.copy(f.boundingSphere),p_.applyMatrix4(y),wa.copy(r.ray).recast(r.near),!(p_.containsPoint(wa.origin)===!1&&(wa.intersectSphere(p_,Qm)===null||wa.origin.distanceToSquared(Qm)>(r.far-r.near)**2))&&(Zm.copy(y).invert(),wa.copy(r.ray).applyMatrix4(Zm),!(f.boundingBox!==null&&wa.intersectsBox(f.boundingBox)===!1)&&this._computeIntersections(r,c,wa)))}_computeIntersections(r,c,f){let _;const y=this.geometry,T=this.material,A=y.index,N=y.attributes.position,k=y.attributes.uv,V=y.attributes.uv1,j=y.attributes.normal,K=y.groups,Q=y.drawRange;if(A!==null)if(Array.isArray(T))for(let ie=0,ce=K.length;ie<ce;ie++){const ue=K[ie],re=T[ue.materialIndex],be=Math.max(ue.start,Q.start),De=Math.min(A.count,Math.min(ue.start+ue.count,Q.start+Q.count));for(let Oe=be,je=De;Oe<je;Oe+=3){const Be=A.getX(Oe),We=A.getX(Oe+1),$e=A.getX(Oe+2);_=y_(this,re,r,f,k,V,j,Be,We,$e),_&&(_.faceIndex=Math.floor(Oe/3),_.face.materialIndex=ue.materialIndex,c.push(_))}}else{const ie=Math.max(0,Q.start),ce=Math.min(A.count,Q.start+Q.count);for(let ue=ie,re=ce;ue<re;ue+=3){const be=A.getX(ue),De=A.getX(ue+1),Oe=A.getX(ue+2);_=y_(this,T,r,f,k,V,j,be,De,Oe),_&&(_.faceIndex=Math.floor(ue/3),c.push(_))}}else if(N!==void 0)if(Array.isArray(T))for(let ie=0,ce=K.length;ie<ce;ie++){const ue=K[ie],re=T[ue.materialIndex],be=Math.max(ue.start,Q.start),De=Math.min(N.count,Math.min(ue.start+ue.count,Q.start+Q.count));for(let Oe=be,je=De;Oe<je;Oe+=3){const Be=Oe,We=Oe+1,$e=Oe+2;_=y_(this,re,r,f,k,V,j,Be,We,$e),_&&(_.faceIndex=Math.floor(Oe/3),_.face.materialIndex=ue.materialIndex,c.push(_))}}else{const ie=Math.max(0,Q.start),ce=Math.min(N.count,Q.start+Q.count);for(let ue=ie,re=ce;ue<re;ue+=3){const be=ue,De=ue+1,Oe=ue+2;_=y_(this,T,r,f,k,V,j,be,De,Oe),_&&(_.faceIndex=Math.floor(ue/3),c.push(_))}}}}function poe(v,r,c,f,_,y,T,A){let N;if(r.side===Kn?N=f.intersectTriangle(T,y,_,!0,A):N=f.intersectTriangle(_,y,T,r.side===ys,A),N===null)return null;x_.copy(A),x_.applyMatrix4(v.matrixWorld);const k=c.ray.origin.distanceTo(x_);return k<c.near||k>c.far?null:{distance:k,point:x_.clone(),object:v}}function y_(v,r,c,f,_,y,T,A,N,k){v.getVertexPosition(A,h_),v.getVertexPosition(N,d_),v.getVertexPosition(k,m_);const V=poe(v,r,c,f,h_,d_,m_,Jm);if(V){const j=new at;so.getBarycoord(Jm,h_,d_,m_,j),_&&(V.uv=so.getInterpolatedAttribute(_,A,N,k,j,new _i)),y&&(V.uv1=so.getInterpolatedAttribute(y,A,N,k,j,new _i)),T&&(V.normal=so.getInterpolatedAttribute(T,A,N,k,j,new at),V.normal.dot(f.direction)>0&&V.normal.multiplyScalar(-1));const K={a:A,b:N,c:k,normal:new at,materialIndex:0};so.getNormal(h_,d_,m_,K.normal),V.face=K,V.barycoord=j}return V}class oa extends ns{constructor(r=1,c=1,f=1,_=1,y=1,T=1){super(),this.type="BoxGeometry",this.parameters={width:r,height:c,depth:f,widthSegments:_,heightSegments:y,depthSegments:T};const A=this;_=Math.floor(_),y=Math.floor(y),T=Math.floor(T);const N=[],k=[],V=[],j=[];let K=0,Q=0;ie("z","y","x",-1,-1,f,c,r,T,y,0),ie("z","y","x",1,-1,f,c,-r,T,y,1),ie("x","z","y",1,1,r,f,c,_,T,2),ie("x","z","y",1,-1,r,f,-c,_,T,3),ie("x","y","z",1,-1,r,c,f,_,y,4),ie("x","y","z",-1,-1,r,c,-f,_,y,5),this.setIndex(N),this.setAttribute("position",new x2(k,3)),this.setAttribute("normal",new x2(V,3)),this.setAttribute("uv",new x2(j,2));function ie(ce,ue,re,be,De,Oe,je,Be,We,$e,Ee){const Ie=Oe/We,Je=je/$e,ft=Oe/2,yt=je/2,Et=Be/2,Dt=We+1,ct=$e+1;let Wt=0,vt=0;const Ht=new at;for(let Qt=0;Qt<ct;Qt++){const a0=Qt*Je-yt;for(let O0=0;O0<Dt;O0++){const T0=O0*Ie-ft;Ht[ce]=T0*be,Ht[ue]=a0*De,Ht[re]=Et,k.push(Ht.x,Ht.y,Ht.z),Ht[ce]=0,Ht[ue]=0,Ht[re]=Be>0?1:-1,V.push(Ht.x,Ht.y,Ht.z),j.push(O0/We),j.push(1-Qt/$e),Wt+=1}}for(let Qt=0;Qt<$e;Qt++)for(let a0=0;a0<We;a0++){const O0=K+a0+Dt*Qt,T0=K+a0+Dt*(Qt+1),w0=K+(a0+1)+Dt*(Qt+1),y0=K+(a0+1)+Dt*Qt;N.push(O0,T0,y0),N.push(T0,w0,y0),vt+=6}A.addGroup(Q,vt,Ee),Q+=vt,K+=Wt}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new oa(r.width,r.height,r.depth,r.widthSegments,r.heightSegments,r.depthSegments)}}function bl(v){const r={};for(const c in v){r[c]={};for(const f in v[c]){const _=v[c][f];_&&(_.isColor||_.isMatrix3||_.isMatrix4||_.isVector2||_.isVector3||_.isVector4||_.isTexture||_.isQuaternion)?_.isRenderTargetTexture?(jt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),r[c][f]=null):r[c][f]=_.clone():Array.isArray(_)?r[c][f]=_.slice():r[c][f]=_}}return r}function Yr(v){const r={};for(let c=0;c<v.length;c++){const f=bl(v[c]);for(const _ in f)r[_]=f[_]}return r}function hoe(v){const r=[];for(let c=0;c<v.length;c++)r.push(v[c].clone());return r}function Ug(v){const r=v.getRenderTarget();return r===null?v.outputColorSpace:r.isXRRenderTarget===!0?r.texture.colorSpace:fi.workingColorSpace}const doe={clone:bl,merge:Yr};var moe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,goe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class R1 extends Gr{constructor(r){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=moe,this.fragmentShader=goe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,r!==void 0&&this.setValues(r)}copy(r){return super.copy(r),this.fragmentShader=r.fragmentShader,this.vertexShader=r.vertexShader,this.uniforms=bl(r.uniforms),this.uniformsGroups=hoe(r.uniformsGroups),this.defines=Object.assign({},r.defines),this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.fog=r.fog,this.lights=r.lights,this.clipping=r.clipping,this.extensions=Object.assign({},r.extensions),this.glslVersion=r.glslVersion,this}toJSON(r){const c=super.toJSON(r);c.glslVersion=this.glslVersion,c.uniforms={};for(const _ in this.uniforms){const T=this.uniforms[_].value;T&&T.isTexture?c.uniforms[_]={type:"t",value:T.toJSON(r).uuid}:T&&T.isColor?c.uniforms[_]={type:"c",value:T.getHex()}:T&&T.isVector2?c.uniforms[_]={type:"v2",value:T.toArray()}:T&&T.isVector3?c.uniforms[_]={type:"v3",value:T.toArray()}:T&&T.isVector4?c.uniforms[_]={type:"v4",value:T.toArray()}:T&&T.isMatrix3?c.uniforms[_]={type:"m3",value:T.toArray()}:T&&T.isMatrix4?c.uniforms[_]={type:"m4",value:T.toArray()}:c.uniforms[_]={value:T}}Object.keys(this.defines).length>0&&(c.defines=this.defines),c.vertexShader=this.vertexShader,c.fragmentShader=this.fragmentShader,c.lights=this.lights,c.clipping=this.clipping;const f={};for(const _ in this.extensions)this.extensions[_]===!0&&(f[_]=!0);return Object.keys(f).length>0&&(c.extensions=f),c}}class Vd extends U2{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ri,this.projectionMatrix=new Ri,this.projectionMatrixInverse=new Ri,this.coordinateSystem=es,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(r,c){return super.copy(r,c),this.matrixWorldInverse.copy(r.matrixWorldInverse),this.projectionMatrix.copy(r.projectionMatrix),this.projectionMatrixInverse.copy(r.projectionMatrixInverse),this.coordinateSystem=r.coordinateSystem,this}getWorldDirection(r){return super.getWorldDirection(r).negate()}updateMatrixWorld(r){super.updateMatrixWorld(r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(r,c){super.updateWorldMatrix(r,c),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const j1=new at,e3=new _i,t3=new _i;class Y2 extends Vd{constructor(r=50,c=1,f=.1,_=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=r,this.zoom=1,this.near=f,this.far=_,this.focus=10,this.aspect=c,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(r,c){return super.copy(r,c),this.fov=r.fov,this.zoom=r.zoom,this.near=r.near,this.far=r.far,this.focus=r.focus,this.aspect=r.aspect,this.view=r.view===null?null:Object.assign({},r.view),this.filmGauge=r.filmGauge,this.filmOffset=r.filmOffset,this}setFocalLength(r){const c=.5*this.getFilmHeight()/r;this.fov=Xa*2*Math.atan(c),this.updateProjectionMatrix()}getFocalLength(){const r=Math.tan(ku*.5*this.fov);return .5*this.getFilmHeight()/r}getEffectiveFOV(){return Xa*2*Math.atan(Math.tan(ku*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(r,c,f){j1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),c.set(j1.x,j1.y).multiplyScalar(-r/j1.z),j1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),f.set(j1.x,j1.y).multiplyScalar(-r/j1.z)}getViewSize(r,c){return this.getViewBounds(r,e3,t3),c.subVectors(t3,e3)}setViewOffset(r,c,f,_,y,T){this.aspect=r/c,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=c,this.view.offsetX=f,this.view.offsetY=_,this.view.width=y,this.view.height=T,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const r=this.near;let c=r*Math.tan(ku*.5*this.fov)/this.zoom,f=2*c,_=this.aspect*f,y=-.5*_;const T=this.view;if(this.view!==null&&this.view.enabled){const N=T.fullWidth,k=T.fullHeight;y+=T.offsetX*_/N,c-=T.offsetY*f/k,_*=T.width/N,f*=T.height/k}const A=this.filmOffset;A!==0&&(y+=r*A/this.getFilmWidth()),this.projectionMatrix.makePerspective(y,y+_,c,c-f,r,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(r){const c=super.toJSON(r);return c.object.fov=this.fov,c.object.zoom=this.zoom,c.object.near=this.near,c.object.far=this.far,c.object.focus=this.focus,c.object.aspect=this.aspect,this.view!==null&&(c.object.view=Object.assign({},this.view)),c.object.filmGauge=this.filmGauge,c.object.filmOffset=this.filmOffset,c}}const Dc=-90,Ic=1;class Og extends U2{constructor(r,c,f){super(),this.type="CubeCamera",this.renderTarget=f,this.coordinateSystem=null,this.activeMipmapLevel=0;const _=new Y2(Dc,Ic,r,c);_.layers=this.layers,this.add(_);const y=new Y2(Dc,Ic,r,c);y.layers=this.layers,this.add(y);const T=new Y2(Dc,Ic,r,c);T.layers=this.layers,this.add(T);const A=new Y2(Dc,Ic,r,c);A.layers=this.layers,this.add(A);const N=new Y2(Dc,Ic,r,c);N.layers=this.layers,this.add(N);const k=new Y2(Dc,Ic,r,c);k.layers=this.layers,this.add(k)}updateCoordinateSystem(){const r=this.coordinateSystem,c=this.children.concat(),[f,_,y,T,A,N]=c;for(const k of c)this.remove(k);if(r===es)f.up.set(0,1,0),f.lookAt(1,0,0),_.up.set(0,1,0),_.lookAt(-1,0,0),y.up.set(0,0,-1),y.lookAt(0,1,0),T.up.set(0,0,1),T.lookAt(0,-1,0),A.up.set(0,1,0),A.lookAt(0,0,1),N.up.set(0,1,0),N.lookAt(0,0,-1);else if(r===ra)f.up.set(0,-1,0),f.lookAt(-1,0,0),_.up.set(0,-1,0),_.lookAt(1,0,0),y.up.set(0,0,1),y.lookAt(0,1,0),T.up.set(0,0,-1),T.lookAt(0,-1,0),A.up.set(0,-1,0),A.lookAt(0,0,1),N.up.set(0,-1,0),N.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+r);for(const k of c)this.add(k),k.updateMatrixWorld()}update(r,c){this.parent===null&&this.updateMatrixWorld();const{renderTarget:f,activeMipmapLevel:_}=this;this.coordinateSystem!==r.coordinateSystem&&(this.coordinateSystem=r.coordinateSystem,this.updateCoordinateSystem());const[y,T,A,N,k,V]=this.children,j=r.getRenderTarget(),K=r.getActiveCubeFace(),Q=r.getActiveMipmapLevel(),ie=r.xr.enabled;r.xr.enabled=!1;const ce=f.texture.generateMipmaps;f.texture.generateMipmaps=!1,r.setRenderTarget(f,0,_),r.render(c,y),r.setRenderTarget(f,1,_),r.render(c,T),r.setRenderTarget(f,2,_),r.render(c,A),r.setRenderTarget(f,3,_),r.render(c,N),r.setRenderTarget(f,4,_),r.render(c,k),f.texture.generateMipmaps=ce,r.setRenderTarget(f,5,_),r.render(c,V),r.setRenderTarget(j,K,Q),r.xr.enabled=ie,f.texture.needsPMREMUpdate=!0}}class yf extends Z2{constructor(r=[],c=Go,f,_,y,T,A,N,k,V){super(r,c,f,_,y,T,A,N,k,V),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(r){this.image=r}}class Gg extends $a{constructor(r=1,c={}){super(r,r,c),this.isWebGLCubeRenderTarget=!0;const f={width:r,height:r,depth:1},_=[f,f,f,f,f,f];this.texture=new yf(_),this._setTextureOptions(c),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(r,c){this.texture.type=c.type,this.texture.colorSpace=c.colorSpace,this.texture.generateMipmaps=c.generateMipmaps,this.texture.minFilter=c.minFilter,this.texture.magFilter=c.magFilter;const f={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},_=new oa(5,5,5),y=new R1({name:"CubemapFromEquirect",uniforms:bl(f.uniforms),vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,side:Kn,blending:vs});y.uniforms.tEquirect.value=c;const T=new Q2(_,y),A=c.minFilter;return c.minFilter===Ur&&(c.minFilter=r2),new Og(1,10,this).update(r,T),c.minFilter=A,T.geometry.dispose(),T.material.dispose(),this}clear(r,c=!0,f=!0,_=!0){const y=r.getRenderTarget();for(let T=0;T<6;T++)r.setRenderTarget(this,T),r.clear(c,f,_);r.setRenderTarget(y)}}class Hc extends U2{constructor(){super(),this.isGroup=!0,this.type="Group"}}const xoe={type:"move"};class q_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Hc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Hc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new at,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new at),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Hc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new at,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new at),this._grip}dispatchEvent(r){return this._targetRay!==null&&this._targetRay.dispatchEvent(r),this._grip!==null&&this._grip.dispatchEvent(r),this._hand!==null&&this._hand.dispatchEvent(r),this}connect(r){if(r&&r.hand){const c=this._hand;if(c)for(const f of r.hand.values())this._getHandJoint(c,f)}return this.dispatchEvent({type:"connected",data:r}),this}disconnect(r){return this.dispatchEvent({type:"disconnected",data:r}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(r,c,f){let _=null,y=null,T=null;const A=this._targetRay,N=this._grip,k=this._hand;if(r&&c.session.visibilityState!=="visible-blurred"){if(k&&r.hand){T=!0;for(const ce of r.hand.values()){const ue=c.getJointPose(ce,f),re=this._getHandJoint(k,ce);ue!==null&&(re.matrix.fromArray(ue.transform.matrix),re.matrix.decompose(re.position,re.rotation,re.scale),re.matrixWorldNeedsUpdate=!0,re.jointRadius=ue.radius),re.visible=ue!==null}const V=k.joints["index-finger-tip"],j=k.joints["thumb-tip"],K=V.position.distanceTo(j.position),Q=.02,ie=.005;k.inputState.pinching&&K>Q+ie?(k.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:r.handedness,target:this})):!k.inputState.pinching&&K<=Q-ie&&(k.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:r.handedness,target:this}))}else N!==null&&r.gripSpace&&(y=c.getPose(r.gripSpace,f),y!==null&&(N.matrix.fromArray(y.transform.matrix),N.matrix.decompose(N.position,N.rotation,N.scale),N.matrixWorldNeedsUpdate=!0,y.linearVelocity?(N.hasLinearVelocity=!0,N.linearVelocity.copy(y.linearVelocity)):N.hasLinearVelocity=!1,y.angularVelocity?(N.hasAngularVelocity=!0,N.angularVelocity.copy(y.angularVelocity)):N.hasAngularVelocity=!1));A!==null&&(_=c.getPose(r.targetRaySpace,f),_===null&&y!==null&&(_=y),_!==null&&(A.matrix.fromArray(_.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,_.linearVelocity?(A.hasLinearVelocity=!0,A.linearVelocity.copy(_.linearVelocity)):A.hasLinearVelocity=!1,_.angularVelocity?(A.hasAngularVelocity=!0,A.angularVelocity.copy(_.angularVelocity)):A.hasAngularVelocity=!1,this.dispatchEvent(xoe)))}return A!==null&&(A.visible=_!==null),N!==null&&(N.visible=y!==null),k!==null&&(k.visible=T!==null),this}_getHandJoint(r,c){if(r.joints[c.jointName]===void 0){const f=new Hc;f.matrixAutoUpdate=!1,f.visible=!1,r.joints[c.jointName]=f,r.add(f)}return r.joints[c.jointName]}}class vf extends U2{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ts,this.environmentIntensity=1,this.environmentRotation=new ts,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(r,c){return super.copy(r,c),r.background!==null&&(this.background=r.background.clone()),r.environment!==null&&(this.environment=r.environment.clone()),r.fog!==null&&(this.fog=r.fog.clone()),this.backgroundBlurriness=r.backgroundBlurriness,this.backgroundIntensity=r.backgroundIntensity,this.backgroundRotation.copy(r.backgroundRotation),this.environmentIntensity=r.environmentIntensity,this.environmentRotation.copy(r.environmentRotation),r.overrideMaterial!==null&&(this.overrideMaterial=r.overrideMaterial.clone()),this.matrixAutoUpdate=r.matrixAutoUpdate,this}toJSON(r){const c=super.toJSON(r);return this.fog!==null&&(c.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(c.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(c.object.backgroundIntensity=this.backgroundIntensity),c.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(c.object.environmentIntensity=this.environmentIntensity),c.object.environmentRotation=this.environmentRotation.toArray(),c}}class Vg{constructor(r,c){this.isInterleavedBuffer=!0,this.array=r,this.stride=c,this.count=r!==void 0?r.length/c:0,this.usage=tp,this.updateRanges=[],this.version=0,this.uuid=fo()}onUploadCallback(){}set needsUpdate(r){r===!0&&this.version++}setUsage(r){return this.usage=r,this}addUpdateRange(r,c){this.updateRanges.push({start:r,count:c})}clearUpdateRanges(){this.updateRanges.length=0}copy(r){return this.array=new r.array.constructor(r.array),this.count=r.count,this.stride=r.stride,this.usage=r.usage,this}copyAt(r,c,f){r*=this.stride,f*=c.stride;for(let _=0,y=this.stride;_<y;_++)this.array[r+_]=c.array[f+_];return this}set(r,c=0){return this.array.set(r,c),this}clone(r){r.arrayBuffers===void 0&&(r.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fo()),r.arrayBuffers[this.array.buffer._uuid]===void 0&&(r.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const c=new this.array.constructor(r.arrayBuffers[this.array.buffer._uuid]),f=new this.constructor(c,this.stride);return f.setUsage(this.usage),f}onUpload(r){return this.onUploadCallback=r,this}toJSON(r){return r.arrayBuffers===void 0&&(r.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fo()),r.arrayBuffers[this.array.buffer._uuid]===void 0&&(r.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const $r=new at;class zd{constructor(r,c,f,_=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=r,this.itemSize=c,this.offset=f,this.normalized=_}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(r){this.data.needsUpdate=r}applyMatrix4(r){for(let c=0,f=this.data.count;c<f;c++)$r.fromBufferAttribute(this,c),$r.applyMatrix4(r),this.setXYZ(c,$r.x,$r.y,$r.z);return this}applyNormalMatrix(r){for(let c=0,f=this.count;c<f;c++)$r.fromBufferAttribute(this,c),$r.applyNormalMatrix(r),this.setXYZ(c,$r.x,$r.y,$r.z);return this}transformDirection(r){for(let c=0,f=this.count;c<f;c++)$r.fromBufferAttribute(this,c),$r.transformDirection(r),this.setXYZ(c,$r.x,$r.y,$r.z);return this}getComponent(r,c){let f=this.array[r*this.data.stride+this.offset+c];return this.normalized&&(f=Qr(f,this.array)),f}setComponent(r,c,f){return this.normalized&&(f=ji(f,this.array)),this.data.array[r*this.data.stride+this.offset+c]=f,this}setX(r,c){return this.normalized&&(c=ji(c,this.array)),this.data.array[r*this.data.stride+this.offset]=c,this}setY(r,c){return this.normalized&&(c=ji(c,this.array)),this.data.array[r*this.data.stride+this.offset+1]=c,this}setZ(r,c){return this.normalized&&(c=ji(c,this.array)),this.data.array[r*this.data.stride+this.offset+2]=c,this}setW(r,c){return this.normalized&&(c=ji(c,this.array)),this.data.array[r*this.data.stride+this.offset+3]=c,this}getX(r){let c=this.data.array[r*this.data.stride+this.offset];return this.normalized&&(c=Qr(c,this.array)),c}getY(r){let c=this.data.array[r*this.data.stride+this.offset+1];return this.normalized&&(c=Qr(c,this.array)),c}getZ(r){let c=this.data.array[r*this.data.stride+this.offset+2];return this.normalized&&(c=Qr(c,this.array)),c}getW(r){let c=this.data.array[r*this.data.stride+this.offset+3];return this.normalized&&(c=Qr(c,this.array)),c}setXY(r,c,f){return r=r*this.data.stride+this.offset,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array)),this.data.array[r+0]=c,this.data.array[r+1]=f,this}setXYZ(r,c,f,_){return r=r*this.data.stride+this.offset,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array),_=ji(_,this.array)),this.data.array[r+0]=c,this.data.array[r+1]=f,this.data.array[r+2]=_,this}setXYZW(r,c,f,_,y){return r=r*this.data.stride+this.offset,this.normalized&&(c=ji(c,this.array),f=ji(f,this.array),_=ji(_,this.array),y=ji(y,this.array)),this.data.array[r+0]=c,this.data.array[r+1]=f,this.data.array[r+2]=_,this.data.array[r+3]=y,this}clone(r){if(r===void 0){af("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const c=[];for(let f=0;f<this.count;f++){const _=f*this.data.stride+this.offset;for(let y=0;y<this.itemSize;y++)c.push(this.data.array[_+y])}return new Or(new this.array.constructor(c),this.itemSize,this.normalized)}else return r.interleavedBuffers===void 0&&(r.interleavedBuffers={}),r.interleavedBuffers[this.data.uuid]===void 0&&(r.interleavedBuffers[this.data.uuid]=this.data.clone(r)),new zd(r.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(r){if(r===void 0){af("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const c=[];for(let f=0;f<this.count;f++){const _=f*this.data.stride+this.offset;for(let y=0;y<this.itemSize;y++)c.push(this.data.array[_+y])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:c,normalized:this.normalized}}else return r.interleavedBuffers===void 0&&(r.interleavedBuffers={}),r.interleavedBuffers[this.data.uuid]===void 0&&(r.interleavedBuffers[this.data.uuid]=this.data.toJSON(r)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class yoe extends Gr{constructor(r){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ni(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.alphaMap=r.alphaMap,this.rotation=r.rotation,this.sizeAttenuation=r.sizeAttenuation,this.fog=r.fog,this}}const i3=new at,n3=new hi,r3=new hi,voe=new at,s3=new Ri,v_=new at,Qh=new Ja,o3=new Ri,Jh=new Ud;class Soe extends Q2{constructor(r,c){super(r,c),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Pm,this.bindMatrix=new Ri,this.bindMatrixInverse=new Ri,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const r=this.geometry;this.boundingBox===null&&(this.boundingBox=new zl),this.boundingBox.makeEmpty();const c=r.getAttribute("position");for(let f=0;f<c.count;f++)this.getVertexPosition(f,v_),this.boundingBox.expandByPoint(v_)}computeBoundingSphere(){const r=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ja),this.boundingSphere.makeEmpty();const c=r.getAttribute("position");for(let f=0;f<c.count;f++)this.getVertexPosition(f,v_),this.boundingSphere.expandByPoint(v_)}copy(r,c){return super.copy(r,c),this.bindMode=r.bindMode,this.bindMatrix.copy(r.bindMatrix),this.bindMatrixInverse.copy(r.bindMatrixInverse),this.skeleton=r.skeleton,r.boundingBox!==null&&(this.boundingBox=r.boundingBox.clone()),r.boundingSphere!==null&&(this.boundingSphere=r.boundingSphere.clone()),this}raycast(r,c){const f=this.material,_=this.matrixWorld;f!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Qh.copy(this.boundingSphere),Qh.applyMatrix4(_),r.ray.intersectsSphere(Qh)!==!1&&(o3.copy(_).invert(),Jh.copy(r.ray).applyMatrix4(o3),!(this.boundingBox!==null&&Jh.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(r,c,Jh)))}getVertexPosition(r,c){return super.getVertexPosition(r,c),this.applyBoneTransform(r,c),c}bind(r,c){this.skeleton=r,c===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),c=this.matrixWorld),this.bindMatrix.copy(c),this.bindMatrixInverse.copy(c).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const r=new hi,c=this.geometry.attributes.skinWeight;for(let f=0,_=c.count;f<_;f++){r.fromBufferAttribute(c,f);const y=1/r.manhattanLength();y!==1/0?r.multiplyScalar(y):r.set(1,0,0,0),c.setXYZW(f,r.x,r.y,r.z,r.w)}}updateMatrixWorld(r){super.updateMatrixWorld(r),this.bindMode===Pm?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===dse?this.bindMatrixInverse.copy(this.bindMatrix).invert():jt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(r,c){const f=this.skeleton,_=this.geometry;n3.fromBufferAttribute(_.attributes.skinIndex,r),r3.fromBufferAttribute(_.attributes.skinWeight,r),i3.copy(c).applyMatrix4(this.bindMatrix),c.set(0,0,0);for(let y=0;y<4;y++){const T=r3.getComponent(y);if(T!==0){const A=n3.getComponent(y);s3.multiplyMatrices(f.bones[A].matrixWorld,f.boneInverses[A]),c.addScaledVector(voe.copy(i3).applyMatrix4(s3),T)}}return c.applyMatrix4(this.bindMatrixInverse)}}class zg extends U2{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Sf extends Z2{constructor(r=null,c=1,f=1,_,y,T,A,N,k=n2,V=n2,j,K){super(null,T,A,N,k,V,_,y,j,K),this.isDataTexture=!0,this.image={data:r,width:c,height:f},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const a3=new Ri,Coe=new Ri;class Wd{constructor(r=[],c=[]){this.uuid=fo(),this.bones=r.slice(0),this.boneInverses=c,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const r=this.bones,c=this.boneInverses;if(this.boneMatrices=new Float32Array(r.length*16),c.length===0)this.calculateInverses();else if(r.length!==c.length){jt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let f=0,_=this.bones.length;f<_;f++)this.boneInverses.push(new Ri)}}calculateInverses(){this.boneInverses.length=0;for(let r=0,c=this.bones.length;r<c;r++){const f=new Ri;this.bones[r]&&f.copy(this.bones[r].matrixWorld).invert(),this.boneInverses.push(f)}}pose(){for(let r=0,c=this.bones.length;r<c;r++){const f=this.bones[r];f&&f.matrixWorld.copy(this.boneInverses[r]).invert()}for(let r=0,c=this.bones.length;r<c;r++){const f=this.bones[r];f&&(f.parent&&f.parent.isBone?(f.matrix.copy(f.parent.matrixWorld).invert(),f.matrix.multiply(f.matrixWorld)):f.matrix.copy(f.matrixWorld),f.matrix.decompose(f.position,f.quaternion,f.scale))}}update(){const r=this.bones,c=this.boneInverses,f=this.boneMatrices,_=this.boneTexture;for(let y=0,T=r.length;y<T;y++){const A=r[y]?r[y].matrixWorld:Coe;a3.multiplyMatrices(A,c[y]),a3.toArray(f,y*16)}_!==null&&(_.needsUpdate=!0)}clone(){return new Wd(this.bones,this.boneInverses)}computeBoneTexture(){let r=Math.sqrt(this.bones.length*4);r=Math.ceil(r/4)*4,r=Math.max(r,4);const c=new Float32Array(r*r*4);c.set(this.boneMatrices);const f=new Sf(c,r,r,w2,I2);return f.needsUpdate=!0,this.boneMatrices=c,this.boneTexture=f,this}getBoneByName(r){for(let c=0,f=this.bones.length;c<f;c++){const _=this.bones[c];if(_.name===r)return _}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(r,c){this.uuid=r.uuid;for(let f=0,_=r.bones.length;f<_;f++){const y=r.bones[f];let T=c[y];T===void 0&&(jt("Skeleton: No bone found with UUID:",y),T=new zg),this.bones.push(T),this.boneInverses.push(new Ri().fromArray(r.boneInverses[f]))}return this.init(),this}toJSON(){const r={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};r.uuid=this.uuid;const c=this.bones,f=this.boneInverses;for(let _=0,y=c.length;_<y;_++){const T=c[_];r.bones.push(T.uuid);const A=f[_];r.boneInverses.push(A.toArray())}return r}}class Toe extends Or{constructor(r,c,f,_=1){super(r,c,f),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=_}copy(r){return super.copy(r),this.meshPerAttribute=r.meshPerAttribute,this}toJSON(){const r=super.toJSON();return r.meshPerAttribute=this.meshPerAttribute,r.isInstancedBufferAttribute=!0,r}}const e4=new at,woe=new at,Moe=new Pi;class d1{constructor(r=new at(1,0,0),c=0){this.isPlane=!0,this.normal=r,this.constant=c}set(r,c){return this.normal.copy(r),this.constant=c,this}setComponents(r,c,f,_){return this.normal.set(r,c,f),this.constant=_,this}setFromNormalAndCoplanarPoint(r,c){return this.normal.copy(r),this.constant=-c.dot(this.normal),this}setFromCoplanarPoints(r,c,f){const _=e4.subVectors(f,c).cross(woe.subVectors(r,c)).normalize();return this.setFromNormalAndCoplanarPoint(_,r),this}copy(r){return this.normal.copy(r.normal),this.constant=r.constant,this}normalize(){const r=1/this.normal.length();return this.normal.multiplyScalar(r),this.constant*=r,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(r){return this.normal.dot(r)+this.constant}distanceToSphere(r){return this.distanceToPoint(r.center)-r.radius}projectPoint(r,c){return c.copy(r).addScaledVector(this.normal,-this.distanceToPoint(r))}intersectLine(r,c){const f=r.delta(e4),_=this.normal.dot(f);if(_===0)return this.distanceToPoint(r.start)===0?c.copy(r.start):null;const y=-(r.start.dot(this.normal)+this.constant)/_;return y<0||y>1?null:c.copy(r.start).addScaledVector(f,y)}intersectsLine(r){const c=this.distanceToPoint(r.start),f=this.distanceToPoint(r.end);return c<0&&f>0||f<0&&c>0}intersectsBox(r){return r.intersectsPlane(this)}intersectsSphere(r){return r.intersectsPlane(this)}coplanarPoint(r){return r.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(r,c){const f=c||Moe.getNormalMatrix(r),_=this.coplanarPoint(e4).applyMatrix4(r),y=this.normal.applyMatrix3(f).normalize();return this.constant=-_.dot(y),this}translate(r){return this.constant-=r.dot(this.normal),this}equals(r){return r.normal.equals(this.normal)&&r.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ma=new Ja,Roe=new _i(.5,.5),S_=new at;class Cf{constructor(r=new d1,c=new d1,f=new d1,_=new d1,y=new d1,T=new d1){this.planes=[r,c,f,_,y,T]}set(r,c,f,_,y,T){const A=this.planes;return A[0].copy(r),A[1].copy(c),A[2].copy(f),A[3].copy(_),A[4].copy(y),A[5].copy(T),this}copy(r){const c=this.planes;for(let f=0;f<6;f++)c[f].copy(r.planes[f]);return this}setFromProjectionMatrix(r,c=es,f=!1){const _=this.planes,y=r.elements,T=y[0],A=y[1],N=y[2],k=y[3],V=y[4],j=y[5],K=y[6],Q=y[7],ie=y[8],ce=y[9],ue=y[10],re=y[11],be=y[12],De=y[13],Oe=y[14],je=y[15];if(_[0].setComponents(k-T,Q-V,re-ie,je-be).normalize(),_[1].setComponents(k+T,Q+V,re+ie,je+be).normalize(),_[2].setComponents(k+A,Q+j,re+ce,je+De).normalize(),_[3].setComponents(k-A,Q-j,re-ce,je-De).normalize(),f)_[4].setComponents(N,K,ue,Oe).normalize(),_[5].setComponents(k-N,Q-K,re-ue,je-Oe).normalize();else if(_[4].setComponents(k-N,Q-K,re-ue,je-Oe).normalize(),c===es)_[5].setComponents(k+N,Q+K,re+ue,je+Oe).normalize();else if(c===ra)_[5].setComponents(N,K,ue,Oe).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+c);return this}intersectsObject(r){if(r.boundingSphere!==void 0)r.boundingSphere===null&&r.computeBoundingSphere(),Ma.copy(r.boundingSphere).applyMatrix4(r.matrixWorld);else{const c=r.geometry;c.boundingSphere===null&&c.computeBoundingSphere(),Ma.copy(c.boundingSphere).applyMatrix4(r.matrixWorld)}return this.intersectsSphere(Ma)}intersectsSprite(r){Ma.center.set(0,0,0);const c=Roe.distanceTo(r.center);return Ma.radius=.7071067811865476+c,Ma.applyMatrix4(r.matrixWorld),this.intersectsSphere(Ma)}intersectsSphere(r){const c=this.planes,f=r.center,_=-r.radius;for(let y=0;y<6;y++)if(c[y].distanceToPoint(f)<_)return!1;return!0}intersectsBox(r){const c=this.planes;for(let f=0;f<6;f++){const _=c[f];if(S_.x=_.normal.x>0?r.max.x:r.min.x,S_.y=_.normal.y>0?r.max.y:r.min.y,S_.z=_.normal.z>0?r.max.z:r.min.z,_.distanceToPoint(S_)<0)return!1}return!0}containsPoint(r){const c=this.planes;for(let f=0;f<6;f++)if(c[f].distanceToPoint(r)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Eo=new Ri,No=new Cf;class Hd{constructor(){this.coordinateSystem=es}intersectsObject(r,c){if(!c.isArrayCamera||c.cameras.length===0)return!1;for(let f=0;f<c.cameras.length;f++){const _=c.cameras[f];if(Eo.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),No.setFromProjectionMatrix(Eo,_.coordinateSystem,_.reversedDepth),No.intersectsObject(r))return!0}return!1}intersectsSprite(r,c){if(!c||!c.cameras||c.cameras.length===0)return!1;for(let f=0;f<c.cameras.length;f++){const _=c.cameras[f];if(Eo.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),No.setFromProjectionMatrix(Eo,_.coordinateSystem,_.reversedDepth),No.intersectsSprite(r))return!0}return!1}intersectsSphere(r,c){if(!c||!c.cameras||c.cameras.length===0)return!1;for(let f=0;f<c.cameras.length;f++){const _=c.cameras[f];if(Eo.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),No.setFromProjectionMatrix(Eo,_.coordinateSystem,_.reversedDepth),No.intersectsSphere(r))return!0}return!1}intersectsBox(r,c){if(!c||!c.cameras||c.cameras.length===0)return!1;for(let f=0;f<c.cameras.length;f++){const _=c.cameras[f];if(Eo.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),No.setFromProjectionMatrix(Eo,_.coordinateSystem,_.reversedDepth),No.intersectsBox(r))return!0}return!1}containsPoint(r,c){if(!c||!c.cameras||c.cameras.length===0)return!1;for(let f=0;f<c.cameras.length;f++){const _=c.cameras[f];if(Eo.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),No.setFromProjectionMatrix(Eo,_.coordinateSystem,_.reversedDepth),No.containsPoint(r))return!0}return!1}clone(){return new Hd}}class cf extends Gr{constructor(r){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ni(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.linewidth=r.linewidth,this.linecap=r.linecap,this.linejoin=r.linejoin,this.fog=r.fog,this}}const ip=new at,np=new at,c3=new Ri,pu=new Ud,C_=new Ja,t4=new at,l3=new at;class Wg extends U2{constructor(r=new ns,c=new cf){super(),this.isLine=!0,this.type="Line",this.geometry=r,this.material=c,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(r,c){return super.copy(r,c),this.material=Array.isArray(r.material)?r.material.slice():r.material,this.geometry=r.geometry,this}computeLineDistances(){const r=this.geometry;if(r.index===null){const c=r.attributes.position,f=[0];for(let _=1,y=c.count;_<y;_++)ip.fromBufferAttribute(c,_-1),np.fromBufferAttribute(c,_),f[_]=f[_-1],f[_]+=ip.distanceTo(np);r.setAttribute("lineDistance",new x2(f,1))}else jt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(r,c){const f=this.geometry,_=this.matrixWorld,y=r.params.Line.threshold,T=f.drawRange;if(f.boundingSphere===null&&f.computeBoundingSphere(),C_.copy(f.boundingSphere),C_.applyMatrix4(_),C_.radius+=y,r.ray.intersectsSphere(C_)===!1)return;c3.copy(_).invert(),pu.copy(r.ray).applyMatrix4(c3);const A=y/((this.scale.x+this.scale.y+this.scale.z)/3),N=A*A,k=this.isLineSegments?2:1,V=f.index,K=f.attributes.position;if(V!==null){const Q=Math.max(0,T.start),ie=Math.min(V.count,T.start+T.count);for(let ce=Q,ue=ie-1;ce<ue;ce+=k){const re=V.getX(ce),be=V.getX(ce+1),De=T_(this,r,pu,N,re,be,ce);De&&c.push(De)}if(this.isLineLoop){const ce=V.getX(ie-1),ue=V.getX(Q),re=T_(this,r,pu,N,ce,ue,ie-1);re&&c.push(re)}}else{const Q=Math.max(0,T.start),ie=Math.min(K.count,T.start+T.count);for(let ce=Q,ue=ie-1;ce<ue;ce+=k){const re=T_(this,r,pu,N,ce,ce+1,ce);re&&c.push(re)}if(this.isLineLoop){const ce=T_(this,r,pu,N,ie-1,Q,ie-1);ce&&c.push(ce)}}}updateMorphTargets(){const c=this.geometry.morphAttributes,f=Object.keys(c);if(f.length>0){const _=c[f[0]];if(_!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let y=0,T=_.length;y<T;y++){const A=_[y].name||String(y);this.morphTargetInfluences.push(0),this.morphTargetDictionary[A]=y}}}}}function T_(v,r,c,f,_,y,T){const A=v.geometry.attributes.position;if(ip.fromBufferAttribute(A,_),np.fromBufferAttribute(A,y),c.distanceSqToSegment(ip,np,t4,l3)>f)return;t4.applyMatrix4(v.matrixWorld);const k=r.ray.origin.distanceTo(t4);if(!(k<r.near||k>r.far))return{distance:k,point:l3.clone().applyMatrix4(v.matrixWorld),index:T,face:null,faceIndex:null,barycoord:null,object:v}}const u3=new at,f3=new at;class Aoe extends Wg{constructor(r,c){super(r,c),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const r=this.geometry;if(r.index===null){const c=r.attributes.position,f=[];for(let _=0,y=c.count;_<y;_+=2)u3.fromBufferAttribute(c,_),f3.fromBufferAttribute(c,_+1),f[_]=_===0?0:f[_-1],f[_+1]=f[_]+u3.distanceTo(f3);r.setAttribute("lineDistance",new x2(f,1))}else jt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Eoe extends Gr{constructor(r){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ni(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.alphaMap=r.alphaMap,this.size=r.size,this.sizeAttenuation=r.sizeAttenuation,this.fog=r.fog,this}}class Hg extends Z2{constructor(r,c){super({width:r,height:c}),this.isFramebufferTexture=!0,this.magFilter=n2,this.minFilter=n2,this.generateMipmaps=!1,this.needsUpdate=!0}}class qs extends Z2{constructor(r,c,f=Yn,_,y,T,A=n2,N=n2,k,V=Ps,j=1){if(V!==Ps&&V!==Ls)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const K={width:r,height:c,depth:j};super(K,_,y,T,A,N,V,f,k),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(r){return super.copy(r),this.source=new Fd(Object.assign({},r.image)),this.compareFunction=r.compareFunction,this}toJSON(r){const c=super.toJSON(r);return this.compareFunction!==null&&(c.compareFunction=this.compareFunction),c}}class jg extends Z2{constructor(r=null){super(),this.sourceTexture=r,this.isExternalTexture=!0}copy(r){return super.copy(r),this.sourceTexture=r.sourceTexture,this}}class jd extends ns{constructor(r=1,c=1,f=1,_=32,y=1,T=!1,A=0,N=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:r,radiusBottom:c,height:f,radialSegments:_,heightSegments:y,openEnded:T,thetaStart:A,thetaLength:N};const k=this;_=Math.floor(_),y=Math.floor(y);const V=[],j=[],K=[],Q=[];let ie=0;const ce=[],ue=f/2;let re=0;be(),T===!1&&(r>0&&De(!0),c>0&&De(!1)),this.setIndex(V),this.setAttribute("position",new x2(j,3)),this.setAttribute("normal",new x2(K,3)),this.setAttribute("uv",new x2(Q,2));function be(){const Oe=new at,je=new at;let Be=0;const We=(c-r)/f;for(let $e=0;$e<=y;$e++){const Ee=[],Ie=$e/y,Je=Ie*(c-r)+r;for(let ft=0;ft<=_;ft++){const yt=ft/_,Et=yt*N+A,Dt=Math.sin(Et),ct=Math.cos(Et);je.x=Je*Dt,je.y=-Ie*f+ue,je.z=Je*ct,j.push(je.x,je.y,je.z),Oe.set(Dt,We,ct).normalize(),K.push(Oe.x,Oe.y,Oe.z),Q.push(yt,1-Ie),Ee.push(ie++)}ce.push(Ee)}for(let $e=0;$e<_;$e++)for(let Ee=0;Ee<y;Ee++){const Ie=ce[Ee][$e],Je=ce[Ee+1][$e],ft=ce[Ee+1][$e+1],yt=ce[Ee][$e+1];(r>0||Ee!==0)&&(V.push(Ie,Je,yt),Be+=3),(c>0||Ee!==y-1)&&(V.push(Je,ft,yt),Be+=3)}k.addGroup(re,Be,0),re+=Be}function De(Oe){const je=ie,Be=new _i,We=new at;let $e=0;const Ee=Oe===!0?r:c,Ie=Oe===!0?1:-1;for(let ft=1;ft<=_;ft++)j.push(0,ue*Ie,0),K.push(0,Ie,0),Q.push(.5,.5),ie++;const Je=ie;for(let ft=0;ft<=_;ft++){const Et=ft/_*N+A,Dt=Math.cos(Et),ct=Math.sin(Et);We.x=Ee*ct,We.y=ue*Ie,We.z=Ee*Dt,j.push(We.x,We.y,We.z),K.push(0,Ie,0),Be.x=Dt*.5+.5,Be.y=ct*.5*Ie+.5,Q.push(Be.x,Be.y),ie++}for(let ft=0;ft<_;ft++){const yt=je+ft,Et=Je+ft;Oe===!0?V.push(Et,Et+1,yt):V.push(Et+1,Et,yt),$e+=3}k.addGroup(re,$e,Oe===!0?1:2),re+=$e}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new jd(r.radiusTop,r.radiusBottom,r.height,r.radialSegments,r.heightSegments,r.openEnded,r.thetaStart,r.thetaLength)}}class Tf extends ns{constructor(r=1,c=1,f=1,_=1){super(),this.type="PlaneGeometry",this.parameters={width:r,height:c,widthSegments:f,heightSegments:_};const y=r/2,T=c/2,A=Math.floor(f),N=Math.floor(_),k=A+1,V=N+1,j=r/A,K=c/N,Q=[],ie=[],ce=[],ue=[];for(let re=0;re<V;re++){const be=re*K-T;for(let De=0;De<k;De++){const Oe=De*j-y;ie.push(Oe,-be,0),ce.push(0,0,1),ue.push(De/A),ue.push(1-re/N)}}for(let re=0;re<N;re++)for(let be=0;be<A;be++){const De=be+k*re,Oe=be+k*(re+1),je=be+1+k*(re+1),Be=be+1+k*re;Q.push(De,Oe,Be),Q.push(Oe,je,Be)}this.setIndex(Q),this.setAttribute("position",new x2(ie,3)),this.setAttribute("normal",new x2(ce,3)),this.setAttribute("uv",new x2(ue,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new Tf(r.width,r.height,r.widthSegments,r.heightSegments)}}class qd extends ns{constructor(r=1,c=32,f=16,_=0,y=Math.PI*2,T=0,A=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:r,widthSegments:c,heightSegments:f,phiStart:_,phiLength:y,thetaStart:T,thetaLength:A},c=Math.max(3,Math.floor(c)),f=Math.max(2,Math.floor(f));const N=Math.min(T+A,Math.PI);let k=0;const V=[],j=new at,K=new at,Q=[],ie=[],ce=[],ue=[];for(let re=0;re<=f;re++){const be=[],De=re/f;let Oe=0;re===0&&T===0?Oe=.5/c:re===f&&N===Math.PI&&(Oe=-.5/c);for(let je=0;je<=c;je++){const Be=je/c;j.x=-r*Math.cos(_+Be*y)*Math.sin(T+De*A),j.y=r*Math.cos(T+De*A),j.z=r*Math.sin(_+Be*y)*Math.sin(T+De*A),ie.push(j.x,j.y,j.z),K.copy(j).normalize(),ce.push(K.x,K.y,K.z),ue.push(Be+Oe,1-De),be.push(k++)}V.push(be)}for(let re=0;re<f;re++)for(let be=0;be<c;be++){const De=V[re][be+1],Oe=V[re][be],je=V[re+1][be],Be=V[re+1][be+1];(re!==0||T>0)&&Q.push(De,Oe,Be),(re!==f-1||N<Math.PI)&&Q.push(Oe,je,Be)}this.setIndex(Q),this.setAttribute("position",new x2(ie,3)),this.setAttribute("normal",new x2(ce,3)),this.setAttribute("uv",new x2(ue,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new qd(r.radius,r.widthSegments,r.heightSegments,r.phiStart,r.phiLength,r.thetaStart,r.thetaLength)}}class Noe extends Gr{constructor(r){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ni(0),this.transparent=!0,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.fog=r.fog,this}}class lf extends Gr{constructor(r){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ni(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ni(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=M1,this.normalScale=new _i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ts,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.defines={STANDARD:""},this.color.copy(r.color),this.roughness=r.roughness,this.metalness=r.metalness,this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.roughnessMap=r.roughnessMap,this.metalnessMap=r.metalnessMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.envMapIntensity=r.envMapIntensity,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.flatShading=r.flatShading,this.fog=r.fog,this}}class boe extends lf{constructor(r){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new _i(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ji(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(c){this.ior=(1+.4*c)/(1-.4*c)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ni(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ni(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ni(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(r)}get anisotropy(){return this._anisotropy}set anisotropy(r){this._anisotropy>0!=r>0&&this.version++,this._anisotropy=r}get clearcoat(){return this._clearcoat}set clearcoat(r){this._clearcoat>0!=r>0&&this.version++,this._clearcoat=r}get iridescence(){return this._iridescence}set iridescence(r){this._iridescence>0!=r>0&&this.version++,this._iridescence=r}get dispersion(){return this._dispersion}set dispersion(r){this._dispersion>0!=r>0&&this.version++,this._dispersion=r}get sheen(){return this._sheen}set sheen(r){this._sheen>0!=r>0&&this.version++,this._sheen=r}get transmission(){return this._transmission}set transmission(r){this._transmission>0!=r>0&&this.version++,this._transmission=r}copy(r){return super.copy(r),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=r.anisotropy,this.anisotropyRotation=r.anisotropyRotation,this.anisotropyMap=r.anisotropyMap,this.clearcoat=r.clearcoat,this.clearcoatMap=r.clearcoatMap,this.clearcoatRoughness=r.clearcoatRoughness,this.clearcoatRoughnessMap=r.clearcoatRoughnessMap,this.clearcoatNormalMap=r.clearcoatNormalMap,this.clearcoatNormalScale.copy(r.clearcoatNormalScale),this.dispersion=r.dispersion,this.ior=r.ior,this.iridescence=r.iridescence,this.iridescenceMap=r.iridescenceMap,this.iridescenceIOR=r.iridescenceIOR,this.iridescenceThicknessRange=[...r.iridescenceThicknessRange],this.iridescenceThicknessMap=r.iridescenceThicknessMap,this.sheen=r.sheen,this.sheenColor.copy(r.sheenColor),this.sheenColorMap=r.sheenColorMap,this.sheenRoughness=r.sheenRoughness,this.sheenRoughnessMap=r.sheenRoughnessMap,this.transmission=r.transmission,this.transmissionMap=r.transmissionMap,this.thickness=r.thickness,this.thicknessMap=r.thicknessMap,this.attenuationDistance=r.attenuationDistance,this.attenuationColor.copy(r.attenuationColor),this.specularIntensity=r.specularIntensity,this.specularIntensityMap=r.specularIntensityMap,this.specularColor.copy(r.specularColor),this.specularColorMap=r.specularColorMap,this}}class $4 extends Gr{constructor(r){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ni(16777215),this.specular=new ni(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ni(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=M1,this.normalScale=new _i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ts,this.combine=mf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.specular.copy(r.specular),this.shininess=r.shininess,this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.flatShading=r.flatShading,this.fog=r.fog,this}}class Doe extends Gr{constructor(r){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ni(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ni(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=M1,this.normalScale=new _i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.gradientMap=r.gradientMap,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.alphaMap=r.alphaMap,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.fog=r.fog,this}}class Ioe extends Gr{constructor(r){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=M1,this.normalScale=new _i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(r)}copy(r){return super.copy(r),this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.flatShading=r.flatShading,this}}class qg extends Gr{constructor(r){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ni(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ni(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=M1,this.normalScale=new _i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ts,this.combine=mf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.flatShading=r.flatShading,this.fog=r.fog,this}}class Poe extends Gr{constructor(r){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=xse,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(r)}copy(r){return super.copy(r),this.depthPacking=r.depthPacking,this.map=r.map,this.alphaMap=r.alphaMap,this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this}}class Loe extends Gr{constructor(r){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(r)}copy(r){return super.copy(r),this.map=r.map,this.alphaMap=r.alphaMap,this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this}}class koe extends Gr{constructor(r){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ni(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=M1,this.normalScale=new _i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.defines={MATCAP:""},this.color.copy(r.color),this.matcap=r.matcap,this.map=r.map,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.alphaMap=r.alphaMap,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.flatShading=r.flatShading,this.fog=r.fog,this}}class Foe extends cf{constructor(r){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(r)}copy(r){return super.copy(r),this.scale=r.scale,this.dashSize=r.dashSize,this.gapSize=r.gapSize,this}}function w_(v,r){return!v||v.constructor===r?v:typeof r.BYTES_PER_ELEMENT=="number"?new r(v):Array.prototype.slice.call(v)}function Boe(v){return ArrayBuffer.isView(v)&&!(v instanceof DataView)}function Uoe(v){function r(_,y){return v[_]-v[y]}const c=v.length,f=new Array(c);for(let _=0;_!==c;++_)f[_]=_;return f.sort(r),f}function _3(v,r,c){const f=v.length,_=new v.constructor(f);for(let y=0,T=0;T!==f;++y){const A=c[y]*r;for(let N=0;N!==r;++N)_[T++]=v[A+N]}return _}function Xg(v,r,c,f){let _=1,y=v[0];for(;y!==void 0&&y[f]===void 0;)y=v[_++];if(y===void 0)return;let T=y[f];if(T!==void 0)if(Array.isArray(T))do T=y[f],T!==void 0&&(r.push(y.time),c.push(...T)),y=v[_++];while(y!==void 0);else if(T.toArray!==void 0)do T=y[f],T!==void 0&&(r.push(y.time),T.toArray(c,c.length)),y=v[_++];while(y!==void 0);else do T=y[f],T!==void 0&&(r.push(y.time),c.push(T)),y=v[_++];while(y!==void 0)}class Sp{constructor(r,c,f,_){this.parameterPositions=r,this._cachedIndex=0,this.resultBuffer=_!==void 0?_:new c.constructor(f),this.sampleValues=c,this.valueSize=f,this.settings=null,this.DefaultSettings_={}}evaluate(r){const c=this.parameterPositions;let f=this._cachedIndex,_=c[f],y=c[f-1];e:{t:{let T;i:{n:if(!(r<_)){for(let A=f+2;;){if(_===void 0){if(r<y)break n;return f=c.length,this._cachedIndex=f,this.copySampleValue_(f-1)}if(f===A)break;if(y=_,_=c[++f],r<_)break t}T=c.length;break i}if(!(r>=y)){const A=c[1];r<A&&(f=2,y=A);for(let N=f-2;;){if(y===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(f===N)break;if(_=y,y=c[--f-1],r>=y)break t}T=f,f=0;break i}break e}for(;f<T;){const A=f+T>>>1;r<c[A]?T=A:f=A+1}if(_=c[f],y=c[f-1],y===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(_===void 0)return f=c.length,this._cachedIndex=f,this.copySampleValue_(f-1)}this._cachedIndex=f,this.intervalChanged_(f,y,_)}return this.interpolate_(f,y,r,_)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(r){const c=this.resultBuffer,f=this.sampleValues,_=this.valueSize,y=r*_;for(let T=0;T!==_;++T)c[T]=f[y+T];return c}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Ooe extends Sp{constructor(r,c,f,_){super(r,c,f,_),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Lm,endingEnd:Lm}}intervalChanged_(r,c,f){const _=this.parameterPositions;let y=r-2,T=r+1,A=_[y],N=_[T];if(A===void 0)switch(this.getSettings_().endingStart){case km:y=r,A=2*c-f;break;case Fm:y=_.length-2,A=c+_[y]-_[y+1];break;default:y=r,A=f}if(N===void 0)switch(this.getSettings_().endingEnd){case km:T=r,N=2*f-c;break;case Fm:T=1,N=f+_[1]-_[0];break;default:T=r-1,N=c}const k=(f-c)*.5,V=this.valueSize;this._weightPrev=k/(c-A),this._weightNext=k/(N-f),this._offsetPrev=y*V,this._offsetNext=T*V}interpolate_(r,c,f,_){const y=this.resultBuffer,T=this.sampleValues,A=this.valueSize,N=r*A,k=N-A,V=this._offsetPrev,j=this._offsetNext,K=this._weightPrev,Q=this._weightNext,ie=(f-c)/(_-c),ce=ie*ie,ue=ce*ie,re=-K*ue+2*K*ce-K*ie,be=(1+K)*ue+(-1.5-2*K)*ce+(-.5+K)*ie+1,De=(-1-Q)*ue+(1.5+Q)*ce+.5*ie,Oe=Q*ue-Q*ce;for(let je=0;je!==A;++je)y[je]=re*T[V+je]+be*T[k+je]+De*T[N+je]+Oe*T[j+je];return y}}class Goe extends Sp{constructor(r,c,f,_){super(r,c,f,_)}interpolate_(r,c,f,_){const y=this.resultBuffer,T=this.sampleValues,A=this.valueSize,N=r*A,k=N-A,V=(f-c)/(_-c),j=1-V;for(let K=0;K!==A;++K)y[K]=T[k+K]*j+T[N+K]*V;return y}}class Voe extends Sp{constructor(r,c,f,_){super(r,c,f,_)}interpolate_(r){return this.copySampleValue_(r-1)}}class po{constructor(r,c,f,_){if(r===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(c===void 0||c.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+r);this.name=r,this.times=w_(c,this.TimeBufferType),this.values=w_(f,this.ValueBufferType),this.setInterpolation(_||this.DefaultInterpolation)}static toJSON(r){const c=r.constructor;let f;if(c.toJSON!==this.toJSON)f=c.toJSON(r);else{f={name:r.name,times:w_(r.times,Array),values:w_(r.values,Array)};const _=r.getInterpolation();_!==r.DefaultInterpolation&&(f.interpolation=_)}return f.type=r.ValueTypeName,f}InterpolantFactoryMethodDiscrete(r){return new Voe(this.times,this.values,this.getValueSize(),r)}InterpolantFactoryMethodLinear(r){return new Goe(this.times,this.values,this.getValueSize(),r)}InterpolantFactoryMethodSmooth(r){return new Ooe(this.times,this.values,this.getValueSize(),r)}setInterpolation(r){let c;switch(r){case ep:c=this.InterpolantFactoryMethodDiscrete;break;case q4:c=this.InterpolantFactoryMethodLinear;break;case Dh:c=this.InterpolantFactoryMethodSmooth;break}if(c===void 0){const f="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(r!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(f);return jt("KeyframeTrack:",f),this}return this.createInterpolant=c,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ep;case this.InterpolantFactoryMethodLinear:return q4;case this.InterpolantFactoryMethodSmooth:return Dh}}getValueSize(){return this.values.length/this.times.length}shift(r){if(r!==0){const c=this.times;for(let f=0,_=c.length;f!==_;++f)c[f]+=r}return this}scale(r){if(r!==1){const c=this.times;for(let f=0,_=c.length;f!==_;++f)c[f]*=r}return this}trim(r,c){const f=this.times,_=f.length;let y=0,T=_-1;for(;y!==_&&f[y]<r;)++y;for(;T!==-1&&f[T]>c;)--T;if(++T,y!==0||T!==_){y>=T&&(T=Math.max(T,1),y=T-1);const A=this.getValueSize();this.times=f.slice(y,T),this.values=this.values.slice(y*A,T*A)}return this}validate(){let r=!0;const c=this.getValueSize();c-Math.floor(c)!==0&&(r0("KeyframeTrack: Invalid value size in track.",this),r=!1);const f=this.times,_=this.values,y=f.length;y===0&&(r0("KeyframeTrack: Track is empty.",this),r=!1);let T=null;for(let A=0;A!==y;A++){const N=f[A];if(typeof N=="number"&&isNaN(N)){r0("KeyframeTrack: Time is not a valid number.",this,A,N),r=!1;break}if(T!==null&&T>N){r0("KeyframeTrack: Out of order keys.",this,A,N,T),r=!1;break}T=N}if(_!==void 0&&Boe(_))for(let A=0,N=_.length;A!==N;++A){const k=_[A];if(isNaN(k)){r0("KeyframeTrack: Value is not a valid number.",this,A,k),r=!1;break}}return r}optimize(){const r=this.times.slice(),c=this.values.slice(),f=this.getValueSize(),_=this.getInterpolation()===Dh,y=r.length-1;let T=1;for(let A=1;A<y;++A){let N=!1;const k=r[A],V=r[A+1];if(k!==V&&(A!==1||k!==r[0]))if(_)N=!0;else{const j=A*f,K=j-f,Q=j+f;for(let ie=0;ie!==f;++ie){const ce=c[j+ie];if(ce!==c[K+ie]||ce!==c[Q+ie]){N=!0;break}}}if(N){if(A!==T){r[T]=r[A];const j=A*f,K=T*f;for(let Q=0;Q!==f;++Q)c[K+Q]=c[j+Q]}++T}}if(y>0){r[T]=r[y];for(let A=y*f,N=T*f,k=0;k!==f;++k)c[N+k]=c[A+k];++T}return T!==r.length?(this.times=r.slice(0,T),this.values=c.slice(0,T*f)):(this.times=r,this.values=c),this}clone(){const r=this.times.slice(),c=this.values.slice(),f=this.constructor,_=new f(this.name,r,c);return _.createInterpolant=this.createInterpolant,_}}po.prototype.ValueTypeName="";po.prototype.TimeBufferType=Float32Array;po.prototype.ValueBufferType=Float32Array;po.prototype.DefaultInterpolation=q4;class Wl extends po{constructor(r,c,f){super(r,c,f)}}Wl.prototype.ValueTypeName="bool";Wl.prototype.ValueBufferType=Array;Wl.prototype.DefaultInterpolation=ep;Wl.prototype.InterpolantFactoryMethodLinear=void 0;Wl.prototype.InterpolantFactoryMethodSmooth=void 0;class $g extends po{constructor(r,c,f,_){super(r,c,f,_)}}$g.prototype.ValueTypeName="color";class rp extends po{constructor(r,c,f,_){super(r,c,f,_)}}rp.prototype.ValueTypeName="number";class zoe extends Sp{constructor(r,c,f,_){super(r,c,f,_)}interpolate_(r,c,f,_){const y=this.resultBuffer,T=this.sampleValues,A=this.valueSize,N=(f-c)/(_-c);let k=r*A;for(let V=k+A;k!==V;k+=4)b1.slerpFlat(y,0,T,k-A,T,k,N);return y}}class wf extends po{constructor(r,c,f,_){super(r,c,f,_)}InterpolantFactoryMethodLinear(r){return new zoe(this.times,this.values,this.getValueSize(),r)}}wf.prototype.ValueTypeName="quaternion";wf.prototype.InterpolantFactoryMethodSmooth=void 0;class Hl extends po{constructor(r,c,f){super(r,c,f)}}Hl.prototype.ValueTypeName="string";Hl.prototype.ValueBufferType=Array;Hl.prototype.DefaultInterpolation=ep;Hl.prototype.InterpolantFactoryMethodLinear=void 0;Hl.prototype.InterpolantFactoryMethodSmooth=void 0;class Dl extends po{constructor(r,c,f,_){super(r,c,f,_)}}Dl.prototype.ValueTypeName="vector";class p3{constructor(r="",c=-1,f=[],_=gse){this.name=r,this.tracks=f,this.duration=c,this.blendMode=_,this.uuid=fo(),this.userData={},this.duration<0&&this.resetDuration()}static parse(r){const c=[],f=r.tracks,_=1/(r.fps||1);for(let T=0,A=f.length;T!==A;++T)c.push(Hoe(f[T]).scale(_));const y=new this(r.name,r.duration,c,r.blendMode);return y.uuid=r.uuid,y.userData=JSON.parse(r.userData||"{}"),y}static toJSON(r){const c=[],f=r.tracks,_={name:r.name,duration:r.duration,tracks:c,uuid:r.uuid,blendMode:r.blendMode,userData:JSON.stringify(r.userData)};for(let y=0,T=f.length;y!==T;++y)c.push(po.toJSON(f[y]));return _}static CreateFromMorphTargetSequence(r,c,f,_){const y=c.length,T=[];for(let A=0;A<y;A++){let N=[],k=[];N.push((A+y-1)%y,A,(A+1)%y),k.push(0,1,0);const V=Uoe(N);N=_3(N,1,V),k=_3(k,1,V),!_&&N[0]===0&&(N.push(y),k.push(k[0])),T.push(new rp(".morphTargetInfluences["+c[A].name+"]",N,k).scale(1/f))}return new this(r,-1,T)}static findByName(r,c){let f=r;if(!Array.isArray(r)){const _=r;f=_.geometry&&_.geometry.animations||_.animations}for(let _=0;_<f.length;_++)if(f[_].name===c)return f[_];return null}static CreateClipsFromMorphTargetSequences(r,c,f){const _={},y=/^([\w-]*?)([\d]+)$/;for(let A=0,N=r.length;A<N;A++){const k=r[A],V=k.name.match(y);if(V&&V.length>1){const j=V[1];let K=_[j];K||(_[j]=K=[]),K.push(k)}}const T=[];for(const A in _)T.push(this.CreateFromMorphTargetSequence(A,_[A],c,f));return T}static parseAnimation(r,c){if(jt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!r)return r0("AnimationClip: No animation in JSONLoader data."),null;const f=function(j,K,Q,ie,ce){if(Q.length!==0){const ue=[],re=[];Xg(Q,ue,re,ie),ue.length!==0&&ce.push(new j(K,ue,re))}},_=[],y=r.name||"default",T=r.fps||30,A=r.blendMode;let N=r.length||-1;const k=r.hierarchy||[];for(let j=0;j<k.length;j++){const K=k[j].keys;if(!(!K||K.length===0))if(K[0].morphTargets){const Q={};let ie;for(ie=0;ie<K.length;ie++)if(K[ie].morphTargets)for(let ce=0;ce<K[ie].morphTargets.length;ce++)Q[K[ie].morphTargets[ce]]=-1;for(const ce in Q){const ue=[],re=[];for(let be=0;be!==K[ie].morphTargets.length;++be){const De=K[ie];ue.push(De.time),re.push(De.morphTarget===ce?1:0)}_.push(new rp(".morphTargetInfluence["+ce+"]",ue,re))}N=Q.length*T}else{const Q=".bones["+c[j].name+"]";f(Dl,Q+".position",K,"pos",_),f(wf,Q+".quaternion",K,"rot",_),f(Dl,Q+".scale",K,"scl",_)}}return _.length===0?null:new this(y,N,_,A)}resetDuration(){const r=this.tracks;let c=0;for(let f=0,_=r.length;f!==_;++f){const y=this.tracks[f];c=Math.max(c,y.times[y.times.length-1])}return this.duration=c,this}trim(){for(let r=0;r<this.tracks.length;r++)this.tracks[r].trim(0,this.duration);return this}validate(){let r=!0;for(let c=0;c<this.tracks.length;c++)r=r&&this.tracks[c].validate();return r}optimize(){for(let r=0;r<this.tracks.length;r++)this.tracks[r].optimize();return this}clone(){const r=[];for(let f=0;f<this.tracks.length;f++)r.push(this.tracks[f].clone());const c=new this.constructor(this.name,this.duration,r,this.blendMode);return c.userData=JSON.parse(JSON.stringify(this.userData)),c}toJSON(){return this.constructor.toJSON(this)}}function Woe(v){switch(v.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return rp;case"vector":case"vector2":case"vector3":case"vector4":return Dl;case"color":return $g;case"quaternion":return wf;case"bool":case"boolean":return Wl;case"string":return Hl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+v)}function Hoe(v){if(v.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const r=Woe(v.type);if(v.times===void 0){const c=[],f=[];Xg(v.keys,c,f,"value"),v.times=c,v.values=f}return r.parse!==void 0?r.parse(v):new r(v.name,v.times,v.values,v.interpolation)}const Bu={enabled:!1,files:{},add:function(v,r){this.enabled!==!1&&(this.files[v]=r)},get:function(v){if(this.enabled!==!1)return this.files[v]},remove:function(v){delete this.files[v]},clear:function(){this.files={}}};class joe{constructor(r,c,f){const _=this;let y=!1,T=0,A=0,N;const k=[];this.onStart=void 0,this.onLoad=r,this.onProgress=c,this.onError=f,this._abortController=null,this.itemStart=function(V){A++,y===!1&&_.onStart!==void 0&&_.onStart(V,T,A),y=!0},this.itemEnd=function(V){T++,_.onProgress!==void 0&&_.onProgress(V,T,A),T===A&&(y=!1,_.onLoad!==void 0&&_.onLoad())},this.itemError=function(V){_.onError!==void 0&&_.onError(V)},this.resolveURL=function(V){return N?N(V):V},this.setURLModifier=function(V){return N=V,this},this.addHandler=function(V,j){return k.push(V,j),this},this.removeHandler=function(V){const j=k.indexOf(V);return j!==-1&&k.splice(j,2),this},this.getHandler=function(V){for(let j=0,K=k.length;j<K;j+=2){const Q=k[j],ie=k[j+1];if(Q.global&&(Q.lastIndex=0),Q.test(V))return ie}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const qoe=new joe;class Ya{constructor(r){this.manager=r!==void 0?r:qoe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(r,c){const f=this;return new Promise(function(_,y){f.load(r,_,c,y)})}parse(){}setCrossOrigin(r){return this.crossOrigin=r,this}setWithCredentials(r){return this.withCredentials=r,this}setPath(r){return this.path=r,this}setResourcePath(r){return this.resourcePath=r,this}setRequestHeader(r){return this.requestHeader=r,this}abort(){return this}}Ya.DEFAULT_MATERIAL_NAME="__DEFAULT";const u1={};class Xoe extends Error{constructor(r,c){super(r),this.response=c}}class Yg extends Ya{constructor(r){super(r),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(r,c,f,_){r===void 0&&(r=""),this.path!==void 0&&(r=this.path+r),r=this.manager.resolveURL(r);const y=Bu.get(`file:${r}`);if(y!==void 0)return this.manager.itemStart(r),setTimeout(()=>{c&&c(y),this.manager.itemEnd(r)},0),y;if(u1[r]!==void 0){u1[r].push({onLoad:c,onProgress:f,onError:_});return}u1[r]=[],u1[r].push({onLoad:c,onProgress:f,onError:_});const T=new Request(r,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),A=this.mimeType,N=this.responseType;fetch(T).then(k=>{if(k.status===200||k.status===0){if(k.status===0&&jt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||k.body===void 0||k.body.getReader===void 0)return k;const V=u1[r],j=k.body.getReader(),K=k.headers.get("X-File-Size")||k.headers.get("Content-Length"),Q=K?parseInt(K):0,ie=Q!==0;let ce=0;const ue=new ReadableStream({start(re){be();function be(){j.read().then(({done:De,value:Oe})=>{if(De)re.close();else{ce+=Oe.byteLength;const je=new ProgressEvent("progress",{lengthComputable:ie,loaded:ce,total:Q});for(let Be=0,We=V.length;Be<We;Be++){const $e=V[Be];$e.onProgress&&$e.onProgress(je)}re.enqueue(Oe),be()}},De=>{re.error(De)})}}});return new Response(ue)}else throw new Xoe(`fetch for "${k.url}" responded with ${k.status}: ${k.statusText}`,k)}).then(k=>{switch(N){case"arraybuffer":return k.arrayBuffer();case"blob":return k.blob();case"document":return k.text().then(V=>new DOMParser().parseFromString(V,A));case"json":return k.json();default:if(A==="")return k.text();{const j=/charset="?([^;"\s]*)"?/i.exec(A),K=j&&j[1]?j[1].toLowerCase():void 0,Q=new TextDecoder(K);return k.arrayBuffer().then(ie=>Q.decode(ie))}}}).then(k=>{Bu.add(`file:${r}`,k);const V=u1[r];delete u1[r];for(let j=0,K=V.length;j<K;j++){const Q=V[j];Q.onLoad&&Q.onLoad(k)}}).catch(k=>{const V=u1[r];if(V===void 0)throw this.manager.itemError(r),k;delete u1[r];for(let j=0,K=V.length;j<K;j++){const Q=V[j];Q.onError&&Q.onError(k)}this.manager.itemError(r)}).finally(()=>{this.manager.itemEnd(r)}),this.manager.itemStart(r)}setResponseType(r){return this.responseType=r,this}setMimeType(r){return this.mimeType=r,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}const Pc=new WeakMap;class $oe extends Ya{constructor(r){super(r)}load(r,c,f,_){this.path!==void 0&&(r=this.path+r),r=this.manager.resolveURL(r);const y=this,T=Bu.get(`image:${r}`);if(T!==void 0){if(T.complete===!0)y.manager.itemStart(r),setTimeout(function(){c&&c(T),y.manager.itemEnd(r)},0);else{let j=Pc.get(T);j===void 0&&(j=[],Pc.set(T,j)),j.push({onLoad:c,onError:_})}return T}const A=of("img");function N(){V(),c&&c(this);const j=Pc.get(this)||[];for(let K=0;K<j.length;K++){const Q=j[K];Q.onLoad&&Q.onLoad(this)}Pc.delete(this),y.manager.itemEnd(r)}function k(j){V(),_&&_(j),Bu.remove(`image:${r}`);const K=Pc.get(this)||[];for(let Q=0;Q<K.length;Q++){const ie=K[Q];ie.onError&&ie.onError(j)}Pc.delete(this),y.manager.itemError(r),y.manager.itemEnd(r)}function V(){A.removeEventListener("load",N,!1),A.removeEventListener("error",k,!1)}return A.addEventListener("load",N,!1),A.addEventListener("error",k,!1),r.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(A.crossOrigin=this.crossOrigin),Bu.add(`image:${r}`,A),y.manager.itemStart(r),A.src=r,A}}class Yoe extends Ya{constructor(r){super(r)}load(r,c,f,_){const y=this,T=new Sf,A=new Yg(this.manager);return A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setPath(this.path),A.setWithCredentials(y.withCredentials),A.load(r,function(N){let k;try{k=y.parse(N)}catch(V){if(_!==void 0)_(V);else{V(V);return}}k.image!==void 0?T.image=k.image:k.data!==void 0&&(T.image.width=k.width,T.image.height=k.height,T.image.data=k.data),T.wrapS=k.wrapS!==void 0?k.wrapS:Sr,T.wrapT=k.wrapT!==void 0?k.wrapT:Sr,T.magFilter=k.magFilter!==void 0?k.magFilter:r2,T.minFilter=k.minFilter!==void 0?k.minFilter:r2,T.anisotropy=k.anisotropy!==void 0?k.anisotropy:1,k.colorSpace!==void 0&&(T.colorSpace=k.colorSpace),k.flipY!==void 0&&(T.flipY=k.flipY),k.format!==void 0&&(T.format=k.format),k.type!==void 0&&(T.type=k.type),k.mipmaps!==void 0&&(T.mipmaps=k.mipmaps,T.minFilter=Ur),k.mipmapCount===1&&(T.minFilter=r2),k.generateMipmaps!==void 0&&(T.generateMipmaps=k.generateMipmaps),T.needsUpdate=!0,c&&c(T,k)},f,_),T}}class Kg extends Ya{constructor(r){super(r)}load(r,c,f,_){const y=new Z2,T=new $oe(this.manager);return T.setCrossOrigin(this.crossOrigin),T.setPath(this.path),T.load(r,function(A){y.image=A,y.needsUpdate=!0,c!==void 0&&c(y)},f,_),y}}class ec extends U2{constructor(r,c=1){super(),this.isLight=!0,this.type="Light",this.color=new ni(r),this.intensity=c}dispose(){}copy(r,c){return super.copy(r,c),this.color.copy(r.color),this.intensity=r.intensity,this}toJSON(r){const c=super.toJSON(r);return c.object.color=this.color.getHex(),c.object.intensity=this.intensity,this.groundColor!==void 0&&(c.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(c.object.distance=this.distance),this.angle!==void 0&&(c.object.angle=this.angle),this.decay!==void 0&&(c.object.decay=this.decay),this.penumbra!==void 0&&(c.object.penumbra=this.penumbra),this.shadow!==void 0&&(c.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(c.object.target=this.target.uuid),c}}class Zg extends ec{constructor(r,c,f){super(r,f),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(U2.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ni(c)}copy(r,c){return super.copy(r,c),this.groundColor.copy(r.groundColor),this}}const i4=new Ri,h3=new at,d3=new at;class Xd{constructor(r){this.camera=r,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new _i(512,512),this.mapType=T2,this.map=null,this.mapPass=null,this.matrix=new Ri,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Cf,this._frameExtents=new _i(1,1),this._viewportCount=1,this._viewports=[new hi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(r){const c=this.camera,f=this.matrix;h3.setFromMatrixPosition(r.matrixWorld),c.position.copy(h3),d3.setFromMatrixPosition(r.target.matrixWorld),c.lookAt(d3),c.updateMatrixWorld(),i4.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i4,c.coordinateSystem,c.reversedDepth),c.reversedDepth?f.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):f.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),f.multiply(i4)}getViewport(r){return this._viewports[r]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(r){return this.camera=r.camera.clone(),this.intensity=r.intensity,this.bias=r.bias,this.radius=r.radius,this.autoUpdate=r.autoUpdate,this.needsUpdate=r.needsUpdate,this.normalBias=r.normalBias,this.blurSamples=r.blurSamples,this.mapSize.copy(r.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const r={};return this.intensity!==1&&(r.intensity=this.intensity),this.bias!==0&&(r.bias=this.bias),this.normalBias!==0&&(r.normalBias=this.normalBias),this.radius!==1&&(r.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(r.mapSize=this.mapSize.toArray()),r.camera=this.camera.toJSON(!1).object,delete r.camera.matrix,r}}class Koe extends Xd{constructor(){super(new Y2(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(r){const c=this.camera,f=Xa*2*r.angle*this.focus,_=this.mapSize.width/this.mapSize.height*this.aspect,y=r.distance||c.far;(f!==c.fov||_!==c.aspect||y!==c.far)&&(c.fov=f,c.aspect=_,c.far=y,c.updateProjectionMatrix()),super.updateMatrices(r)}copy(r){return super.copy(r),this.focus=r.focus,this}}class Cp extends ec{constructor(r,c,f=0,_=Math.PI/3,y=0,T=2){super(r,c),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(U2.DEFAULT_UP),this.updateMatrix(),this.target=new U2,this.distance=f,this.angle=_,this.penumbra=y,this.decay=T,this.map=null,this.shadow=new Koe}get power(){return this.intensity*Math.PI}set power(r){this.intensity=r/Math.PI}dispose(){this.shadow.dispose()}copy(r,c){return super.copy(r,c),this.distance=r.distance,this.angle=r.angle,this.penumbra=r.penumbra,this.decay=r.decay,this.target=r.target.clone(),this.shadow=r.shadow.clone(),this}}const m3=new Ri,hu=new at,n4=new at;class Zoe extends Xd{constructor(){super(new Y2(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new _i(4,2),this._viewportCount=6,this._viewports=[new hi(2,1,1,1),new hi(0,1,1,1),new hi(3,1,1,1),new hi(1,1,1,1),new hi(3,0,1,1),new hi(1,0,1,1)],this._cubeDirections=[new at(1,0,0),new at(-1,0,0),new at(0,0,1),new at(0,0,-1),new at(0,1,0),new at(0,-1,0)],this._cubeUps=[new at(0,1,0),new at(0,1,0),new at(0,1,0),new at(0,1,0),new at(0,0,1),new at(0,0,-1)]}updateMatrices(r,c=0){const f=this.camera,_=this.matrix,y=r.distance||f.far;y!==f.far&&(f.far=y,f.updateProjectionMatrix()),hu.setFromMatrixPosition(r.matrixWorld),f.position.copy(hu),n4.copy(f.position),n4.add(this._cubeDirections[c]),f.up.copy(this._cubeUps[c]),f.lookAt(n4),f.updateMatrixWorld(),_.makeTranslation(-hu.x,-hu.y,-hu.z),m3.multiplyMatrices(f.projectionMatrix,f.matrixWorldInverse),this._frustum.setFromProjectionMatrix(m3,f.coordinateSystem,f.reversedDepth)}}class Qg extends ec{constructor(r,c,f=0,_=2){super(r,c),this.isPointLight=!0,this.type="PointLight",this.distance=f,this.decay=_,this.shadow=new Zoe}get power(){return this.intensity*4*Math.PI}set power(r){this.intensity=r/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(r,c){return super.copy(r,c),this.distance=r.distance,this.decay=r.decay,this.shadow=r.shadow.clone(),this}}class Mf extends Vd{constructor(r=-1,c=1,f=1,_=-1,y=.1,T=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=r,this.right=c,this.top=f,this.bottom=_,this.near=y,this.far=T,this.updateProjectionMatrix()}copy(r,c){return super.copy(r,c),this.left=r.left,this.right=r.right,this.top=r.top,this.bottom=r.bottom,this.near=r.near,this.far=r.far,this.zoom=r.zoom,this.view=r.view===null?null:Object.assign({},r.view),this}setViewOffset(r,c,f,_,y,T){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=c,this.view.offsetX=f,this.view.offsetY=_,this.view.width=y,this.view.height=T,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const r=(this.right-this.left)/(2*this.zoom),c=(this.top-this.bottom)/(2*this.zoom),f=(this.right+this.left)/2,_=(this.top+this.bottom)/2;let y=f-r,T=f+r,A=_+c,N=_-c;if(this.view!==null&&this.view.enabled){const k=(this.right-this.left)/this.view.fullWidth/this.zoom,V=(this.top-this.bottom)/this.view.fullHeight/this.zoom;y+=k*this.view.offsetX,T=y+k*this.view.width,A-=V*this.view.offsetY,N=A-V*this.view.height}this.projectionMatrix.makeOrthographic(y,T,A,N,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(r){const c=super.toJSON(r);return c.object.zoom=this.zoom,c.object.left=this.left,c.object.right=this.right,c.object.top=this.top,c.object.bottom=this.bottom,c.object.near=this.near,c.object.far=this.far,this.view!==null&&(c.object.view=Object.assign({},this.view)),c}}class Qoe extends Xd{constructor(){super(new Mf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class $d extends ec{constructor(r,c){super(r,c),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(U2.DEFAULT_UP),this.updateMatrix(),this.target=new U2,this.shadow=new Qoe}dispose(){this.shadow.dispose()}copy(r){return super.copy(r),this.target=r.target.clone(),this.shadow=r.shadow.clone(),this}}class Jg extends ec{constructor(r,c){super(r,c),this.isAmbientLight=!0,this.type="AmbientLight"}}class Joe extends ec{constructor(r,c,f=10,_=10){super(r,c),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=f,this.height=_}get power(){return this.intensity*this.width*this.height*Math.PI}set power(r){this.intensity=r/(this.width*this.height*Math.PI)}copy(r){return super.copy(r),this.width=r.width,this.height=r.height,this}toJSON(r){const c=super.toJSON(r);return c.object.width=this.width,c.object.height=this.height,c}}class e1e{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let r=0;r<9;r++)this.coefficients.push(new at)}set(r){for(let c=0;c<9;c++)this.coefficients[c].copy(r[c]);return this}zero(){for(let r=0;r<9;r++)this.coefficients[r].set(0,0,0);return this}getAt(r,c){const f=r.x,_=r.y,y=r.z,T=this.coefficients;return c.copy(T[0]).multiplyScalar(.282095),c.addScaledVector(T[1],.488603*_),c.addScaledVector(T[2],.488603*y),c.addScaledVector(T[3],.488603*f),c.addScaledVector(T[4],1.092548*(f*_)),c.addScaledVector(T[5],1.092548*(_*y)),c.addScaledVector(T[6],.315392*(3*y*y-1)),c.addScaledVector(T[7],1.092548*(f*y)),c.addScaledVector(T[8],.546274*(f*f-_*_)),c}getIrradianceAt(r,c){const f=r.x,_=r.y,y=r.z,T=this.coefficients;return c.copy(T[0]).multiplyScalar(.886227),c.addScaledVector(T[1],2*.511664*_),c.addScaledVector(T[2],2*.511664*y),c.addScaledVector(T[3],2*.511664*f),c.addScaledVector(T[4],2*.429043*f*_),c.addScaledVector(T[5],2*.429043*_*y),c.addScaledVector(T[6],.743125*y*y-.247708),c.addScaledVector(T[7],2*.429043*f*y),c.addScaledVector(T[8],.429043*(f*f-_*_)),c}add(r){for(let c=0;c<9;c++)this.coefficients[c].add(r.coefficients[c]);return this}addScaledSH(r,c){for(let f=0;f<9;f++)this.coefficients[f].addScaledVector(r.coefficients[f],c);return this}scale(r){for(let c=0;c<9;c++)this.coefficients[c].multiplyScalar(r);return this}lerp(r,c){for(let f=0;f<9;f++)this.coefficients[f].lerp(r.coefficients[f],c);return this}equals(r){for(let c=0;c<9;c++)if(!this.coefficients[c].equals(r.coefficients[c]))return!1;return!0}copy(r){return this.set(r.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(r,c=0){const f=this.coefficients;for(let _=0;_<9;_++)f[_].fromArray(r,c+_*3);return this}toArray(r=[],c=0){const f=this.coefficients;for(let _=0;_<9;_++)f[_].toArray(r,c+_*3);return r}static getBasisAt(r,c){const f=r.x,_=r.y,y=r.z;c[0]=.282095,c[1]=.488603*_,c[2]=.488603*y,c[3]=.488603*f,c[4]=1.092548*f*_,c[5]=1.092548*_*y,c[6]=.315392*(3*y*y-1),c[7]=1.092548*f*y,c[8]=.546274*(f*f-_*_)}}class t1e extends ec{constructor(r=new e1e,c=1){super(void 0,c),this.isLightProbe=!0,this.sh=r}copy(r){return super.copy(r),this.sh.copy(r.sh),this}fromJSON(r){return this.intensity=r.intensity,this.sh.fromArray(r.sh),this}toJSON(r){const c=super.toJSON(r);return c.object.sh=this.sh.toArray(),c}}class i1e{static extractUrlBase(r){const c=r.lastIndexOf("/");return c===-1?"./":r.slice(0,c+1)}static resolveURL(r,c){return typeof r!="string"||r===""?"":(/^https?:\/\//i.test(c)&&/^\//.test(r)&&(c=c.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(r)||/^data:.*,.*$/i.test(r)||/^blob:.*$/i.test(r)?r:c+r)}}class ex extends Y2{constructor(r=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=r}}class n1e{constructor(r=!0){this.autoStart=r,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let r=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const c=performance.now();r=(c-this.oldTime)/1e3,this.oldTime=c,this.elapsedTime+=r}return r}}class r1e extends Vg{constructor(r,c,f=1){super(r,c),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=f}copy(r){return super.copy(r),this.meshPerAttribute=r.meshPerAttribute,this}clone(r){const c=super.clone(r);return c.meshPerAttribute=this.meshPerAttribute,c}toJSON(r){const c=super.toJSON(r);return c.isInstancedInterleavedBuffer=!0,c.meshPerAttribute=this.meshPerAttribute,c}}class Tp{constructor(r,c,f,_){Tp.prototype.isMatrix2=!0,this.elements=[1,0,0,1],r!==void 0&&this.set(r,c,f,_)}identity(){return this.set(1,0,0,1),this}fromArray(r,c=0){for(let f=0;f<4;f++)this.elements[f]=r[f+c];return this}set(r,c,f,_){const y=this.elements;return y[0]=r,y[2]=c,y[1]=f,y[3]=_,this}}function Y4(v,r,c,f){const _=s1e(f);switch(c){case Ad:return v*r;case xf:return v*r/_.components*_.byteLength;case Ol:return v*r/_.components*_.byteLength;case uo:return v*r*2/_.components*_.byteLength;case Gl:return v*r*2/_.components*_.byteLength;case gf:return v*r*3/_.components*_.byteLength;case w2:return v*r*4/_.components*_.byteLength;case Vl:return v*r*4/_.components*_.byteLength;case Q1:case J1:return Math.floor((v+3)/4)*Math.floor((r+3)/4)*8;case ea:case ta:return Math.floor((v+3)/4)*Math.floor((r+3)/4)*16;case nf:case sf:return Math.max(v,16)*Math.max(r,8)/4;case tf:case rf:return Math.max(v,8)*Math.max(r,8)/2;case al:case cl:return Math.floor((v+3)/4)*Math.floor((r+3)/4)*8;case ll:return Math.floor((v+3)/4)*Math.floor((r+3)/4)*16;case ul:return Math.floor((v+3)/4)*Math.floor((r+3)/4)*16;case fl:return Math.floor((v+4)/5)*Math.floor((r+3)/4)*16;case _l:return Math.floor((v+4)/5)*Math.floor((r+4)/5)*16;case pl:return Math.floor((v+5)/6)*Math.floor((r+4)/5)*16;case hl:return Math.floor((v+5)/6)*Math.floor((r+5)/6)*16;case dl:return Math.floor((v+7)/8)*Math.floor((r+4)/5)*16;case ml:return Math.floor((v+7)/8)*Math.floor((r+5)/6)*16;case gl:return Math.floor((v+7)/8)*Math.floor((r+7)/8)*16;case xl:return Math.floor((v+9)/10)*Math.floor((r+4)/5)*16;case yl:return Math.floor((v+9)/10)*Math.floor((r+5)/6)*16;case vl:return Math.floor((v+9)/10)*Math.floor((r+7)/8)*16;case Sl:return Math.floor((v+9)/10)*Math.floor((r+9)/10)*16;case Cl:return Math.floor((v+11)/12)*Math.floor((r+9)/10)*16;case Tl:return Math.floor((v+11)/12)*Math.floor((r+11)/12)*16;case wl:case H4:case j4:return Math.ceil(v/4)*Math.ceil(r/4)*16;case Ml:case Rl:return Math.ceil(v/4)*Math.ceil(r/4)*8;case Al:case El:return Math.ceil(v/4)*Math.ceil(r/4)*16}throw new Error(`Unable to determine texture byte length for ${c} format.`)}function s1e(v){switch(v){case T2:case Ga:return{byteLength:1,components:1};case lo:case Va:case K2:return{byteLength:2,components:1};case dp:case mp:return{byteLength:2,components:4};case Yn:case vr:case I2:return{byteLength:4,components:1};case gp:case xp:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${v}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ul}}));typeof window<"u"&&(window.__THREE__?jt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ul);function tx(){let v=null,r=!1,c=null,f=null;function _(y,T){c(y,T),f=v.requestAnimationFrame(_)}return{start:function(){r!==!0&&c!==null&&(f=v.requestAnimationFrame(_),r=!0)},stop:function(){v.cancelAnimationFrame(f),r=!1},setAnimationLoop:function(y){c=y},setContext:function(y){v=y}}}function o1e(v){const r=new WeakMap;function c(A,N){const k=A.array,V=A.usage,j=k.byteLength,K=v.createBuffer();v.bindBuffer(N,K),v.bufferData(N,k,V),A.onUploadCallback();let Q;if(k instanceof Float32Array)Q=v.FLOAT;else if(typeof Float16Array<"u"&&k instanceof Float16Array)Q=v.HALF_FLOAT;else if(k instanceof Uint16Array)A.isFloat16BufferAttribute?Q=v.HALF_FLOAT:Q=v.UNSIGNED_SHORT;else if(k instanceof Int16Array)Q=v.SHORT;else if(k instanceof Uint32Array)Q=v.UNSIGNED_INT;else if(k instanceof Int32Array)Q=v.INT;else if(k instanceof Int8Array)Q=v.BYTE;else if(k instanceof Uint8Array)Q=v.UNSIGNED_BYTE;else if(k instanceof Uint8ClampedArray)Q=v.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+k);return{buffer:K,type:Q,bytesPerElement:k.BYTES_PER_ELEMENT,version:A.version,size:j}}function f(A,N,k){const V=N.array,j=N.updateRanges;if(v.bindBuffer(k,A),j.length===0)v.bufferSubData(k,0,V);else{j.sort((Q,ie)=>Q.start-ie.start);let K=0;for(let Q=1;Q<j.length;Q++){const ie=j[K],ce=j[Q];ce.start<=ie.start+ie.count+1?ie.count=Math.max(ie.count,ce.start+ce.count-ie.start):(++K,j[K]=ce)}j.length=K+1;for(let Q=0,ie=j.length;Q<ie;Q++){const ce=j[Q];v.bufferSubData(k,ce.start*V.BYTES_PER_ELEMENT,V,ce.start,ce.count)}N.clearUpdateRanges()}N.onUploadCallback()}function _(A){return A.isInterleavedBufferAttribute&&(A=A.data),r.get(A)}function y(A){A.isInterleavedBufferAttribute&&(A=A.data);const N=r.get(A);N&&(v.deleteBuffer(N.buffer),r.delete(A))}function T(A,N){if(A.isInterleavedBufferAttribute&&(A=A.data),A.isGLBufferAttribute){const V=r.get(A);(!V||V.version<A.version)&&r.set(A,{buffer:A.buffer,type:A.type,bytesPerElement:A.elementSize,version:A.version});return}const k=r.get(A);if(k===void 0)r.set(A,c(A,N));else if(k.version<A.version){if(k.size!==A.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");f(k.buffer,A,N),k.version=A.version}}return{get:_,remove:y,update:T}}var a1e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,c1e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,l1e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,u1e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,f1e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,_1e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,p1e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,h1e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,d1e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,m1e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,g1e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,x1e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,y1e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,v1e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,S1e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,C1e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,T1e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,w1e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,M1e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,R1e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,A1e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,E1e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,N1e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,b1e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,D1e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,I1e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,P1e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,L1e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,k1e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,F1e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,B1e="gl_FragColor = linearToOutputTexel( gl_FragColor );",U1e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,O1e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,G1e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,V1e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,z1e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,W1e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,H1e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,j1e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,q1e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,X1e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,$1e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Y1e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,K1e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Z1e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Q1e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,J1e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,eae=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,tae=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,iae=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,nae=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,rae=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,sae=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,oae=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,aae=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cae=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,lae=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,uae=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,fae=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,_ae=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,pae=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,hae=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,dae=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,mae=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,gae=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,xae=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,yae=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,vae=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Sae=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Cae=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Tae=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,wae=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Mae=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Rae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Aae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Eae=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Nae=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,bae=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Dae=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Iae=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Pae=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Lae=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,kae=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Fae=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Bae=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Uae=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Oae=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Gae=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Vae=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,zae=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Wae=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Hae=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,jae=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,qae=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Xae=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,$ae=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Yae=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Kae=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Zae=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Qae=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Jae=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,ece=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,tce=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,ice=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,nce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,sce=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const oce=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ace=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,lce=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fce=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_ce=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,pce=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,hce=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,dce=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,mce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,gce=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,xce=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,yce=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vce=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Sce=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cce=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tce=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wce=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Mce=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rce=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Ace=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Ece=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Nce=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bce=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Dce=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ice=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pce=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lce=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,kce=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Fce=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bce=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Uce=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Oce=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ki={alphahash_fragment:a1e,alphahash_pars_fragment:c1e,alphamap_fragment:l1e,alphamap_pars_fragment:u1e,alphatest_fragment:f1e,alphatest_pars_fragment:_1e,aomap_fragment:p1e,aomap_pars_fragment:h1e,batching_pars_vertex:d1e,batching_vertex:m1e,begin_vertex:g1e,beginnormal_vertex:x1e,bsdfs:y1e,iridescence_fragment:v1e,bumpmap_pars_fragment:S1e,clipping_planes_fragment:C1e,clipping_planes_pars_fragment:T1e,clipping_planes_pars_vertex:w1e,clipping_planes_vertex:M1e,color_fragment:R1e,color_pars_fragment:A1e,color_pars_vertex:E1e,color_vertex:N1e,common:b1e,cube_uv_reflection_fragment:D1e,defaultnormal_vertex:I1e,displacementmap_pars_vertex:P1e,displacementmap_vertex:L1e,emissivemap_fragment:k1e,emissivemap_pars_fragment:F1e,colorspace_fragment:B1e,colorspace_pars_fragment:U1e,envmap_fragment:O1e,envmap_common_pars_fragment:G1e,envmap_pars_fragment:V1e,envmap_pars_vertex:z1e,envmap_physical_pars_fragment:J1e,envmap_vertex:W1e,fog_vertex:H1e,fog_pars_vertex:j1e,fog_fragment:q1e,fog_pars_fragment:X1e,gradientmap_pars_fragment:$1e,lightmap_pars_fragment:Y1e,lights_lambert_fragment:K1e,lights_lambert_pars_fragment:Z1e,lights_pars_begin:Q1e,lights_toon_fragment:eae,lights_toon_pars_fragment:tae,lights_phong_fragment:iae,lights_phong_pars_fragment:nae,lights_physical_fragment:rae,lights_physical_pars_fragment:sae,lights_fragment_begin:oae,lights_fragment_maps:aae,lights_fragment_end:cae,logdepthbuf_fragment:lae,logdepthbuf_pars_fragment:uae,logdepthbuf_pars_vertex:fae,logdepthbuf_vertex:_ae,map_fragment:pae,map_pars_fragment:hae,map_particle_fragment:dae,map_particle_pars_fragment:mae,metalnessmap_fragment:gae,metalnessmap_pars_fragment:xae,morphinstance_vertex:yae,morphcolor_vertex:vae,morphnormal_vertex:Sae,morphtarget_pars_vertex:Cae,morphtarget_vertex:Tae,normal_fragment_begin:wae,normal_fragment_maps:Mae,normal_pars_fragment:Rae,normal_pars_vertex:Aae,normal_vertex:Eae,normalmap_pars_fragment:Nae,clearcoat_normal_fragment_begin:bae,clearcoat_normal_fragment_maps:Dae,clearcoat_pars_fragment:Iae,iridescence_pars_fragment:Pae,opaque_fragment:Lae,packing:kae,premultiplied_alpha_fragment:Fae,project_vertex:Bae,dithering_fragment:Uae,dithering_pars_fragment:Oae,roughnessmap_fragment:Gae,roughnessmap_pars_fragment:Vae,shadowmap_pars_fragment:zae,shadowmap_pars_vertex:Wae,shadowmap_vertex:Hae,shadowmask_pars_fragment:jae,skinbase_vertex:qae,skinning_pars_vertex:Xae,skinning_vertex:$ae,skinnormal_vertex:Yae,specularmap_fragment:Kae,specularmap_pars_fragment:Zae,tonemapping_fragment:Qae,tonemapping_pars_fragment:Jae,transmission_fragment:ece,transmission_pars_fragment:tce,uv_pars_fragment:ice,uv_pars_vertex:nce,uv_vertex:rce,worldpos_vertex:sce,background_vert:oce,background_frag:ace,backgroundCube_vert:cce,backgroundCube_frag:lce,cube_vert:uce,cube_frag:fce,depth_vert:_ce,depth_frag:pce,distanceRGBA_vert:hce,distanceRGBA_frag:dce,equirect_vert:mce,equirect_frag:gce,linedashed_vert:xce,linedashed_frag:yce,meshbasic_vert:vce,meshbasic_frag:Sce,meshlambert_vert:Cce,meshlambert_frag:Tce,meshmatcap_vert:wce,meshmatcap_frag:Mce,meshnormal_vert:Rce,meshnormal_frag:Ace,meshphong_vert:Ece,meshphong_frag:Nce,meshphysical_vert:bce,meshphysical_frag:Dce,meshtoon_vert:Ice,meshtoon_frag:Pce,points_vert:Lce,points_frag:kce,shadow_vert:Fce,shadow_frag:Bce,sprite_vert:Uce,sprite_frag:Oce},R0={common:{diffuse:{value:new ni(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Pi},alphaMap:{value:null},alphaMapTransform:{value:new Pi},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Pi}},envmap:{envMap:{value:null},envMapRotation:{value:new Pi},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Pi}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Pi}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Pi},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Pi},normalScale:{value:new _i(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Pi},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Pi}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Pi}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Pi}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ni(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ni(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Pi},alphaTest:{value:0},uvTransform:{value:new Pi}},sprite:{diffuse:{value:new ni(16777215)},opacity:{value:1},center:{value:new _i(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Pi},alphaMap:{value:null},alphaMapTransform:{value:new Pi},alphaTest:{value:0}}},Fo={basic:{uniforms:Yr([R0.common,R0.specularmap,R0.envmap,R0.aomap,R0.lightmap,R0.fog]),vertexShader:Ki.meshbasic_vert,fragmentShader:Ki.meshbasic_frag},lambert:{uniforms:Yr([R0.common,R0.specularmap,R0.envmap,R0.aomap,R0.lightmap,R0.emissivemap,R0.bumpmap,R0.normalmap,R0.displacementmap,R0.fog,R0.lights,{emissive:{value:new ni(0)}}]),vertexShader:Ki.meshlambert_vert,fragmentShader:Ki.meshlambert_frag},phong:{uniforms:Yr([R0.common,R0.specularmap,R0.envmap,R0.aomap,R0.lightmap,R0.emissivemap,R0.bumpmap,R0.normalmap,R0.displacementmap,R0.fog,R0.lights,{emissive:{value:new ni(0)},specular:{value:new ni(1118481)},shininess:{value:30}}]),vertexShader:Ki.meshphong_vert,fragmentShader:Ki.meshphong_frag},standard:{uniforms:Yr([R0.common,R0.envmap,R0.aomap,R0.lightmap,R0.emissivemap,R0.bumpmap,R0.normalmap,R0.displacementmap,R0.roughnessmap,R0.metalnessmap,R0.fog,R0.lights,{emissive:{value:new ni(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ki.meshphysical_vert,fragmentShader:Ki.meshphysical_frag},toon:{uniforms:Yr([R0.common,R0.aomap,R0.lightmap,R0.emissivemap,R0.bumpmap,R0.normalmap,R0.displacementmap,R0.gradientmap,R0.fog,R0.lights,{emissive:{value:new ni(0)}}]),vertexShader:Ki.meshtoon_vert,fragmentShader:Ki.meshtoon_frag},matcap:{uniforms:Yr([R0.common,R0.bumpmap,R0.normalmap,R0.displacementmap,R0.fog,{matcap:{value:null}}]),vertexShader:Ki.meshmatcap_vert,fragmentShader:Ki.meshmatcap_frag},points:{uniforms:Yr([R0.points,R0.fog]),vertexShader:Ki.points_vert,fragmentShader:Ki.points_frag},dashed:{uniforms:Yr([R0.common,R0.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ki.linedashed_vert,fragmentShader:Ki.linedashed_frag},depth:{uniforms:Yr([R0.common,R0.displacementmap]),vertexShader:Ki.depth_vert,fragmentShader:Ki.depth_frag},normal:{uniforms:Yr([R0.common,R0.bumpmap,R0.normalmap,R0.displacementmap,{opacity:{value:1}}]),vertexShader:Ki.meshnormal_vert,fragmentShader:Ki.meshnormal_frag},sprite:{uniforms:Yr([R0.sprite,R0.fog]),vertexShader:Ki.sprite_vert,fragmentShader:Ki.sprite_frag},background:{uniforms:{uvTransform:{value:new Pi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ki.background_vert,fragmentShader:Ki.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Pi}},vertexShader:Ki.backgroundCube_vert,fragmentShader:Ki.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ki.cube_vert,fragmentShader:Ki.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ki.equirect_vert,fragmentShader:Ki.equirect_frag},distanceRGBA:{uniforms:Yr([R0.common,R0.displacementmap,{referencePosition:{value:new at},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ki.distanceRGBA_vert,fragmentShader:Ki.distanceRGBA_frag},shadow:{uniforms:Yr([R0.lights,R0.fog,{color:{value:new ni(0)},opacity:{value:1}}]),vertexShader:Ki.shadow_vert,fragmentShader:Ki.shadow_frag}};Fo.physical={uniforms:Yr([Fo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Pi},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Pi},clearcoatNormalScale:{value:new _i(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Pi},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Pi},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Pi},sheen:{value:0},sheenColor:{value:new ni(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Pi},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Pi},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Pi},transmissionSamplerSize:{value:new _i},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Pi},attenuationDistance:{value:0},attenuationColor:{value:new ni(0)},specularColor:{value:new ni(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Pi},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Pi},anisotropyVector:{value:new _i},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Pi}}]),vertexShader:Ki.meshphysical_vert,fragmentShader:Ki.meshphysical_frag};const M_={r:0,b:0,g:0},Ra=new ts,Gce=new Ri;function Vce(v,r,c,f,_,y,T){const A=new ni(0);let N=y===!0?0:1,k,V,j=null,K=0,Q=null;function ie(De){let Oe=De.isScene===!0?De.background:null;return Oe&&Oe.isTexture&&(Oe=(De.backgroundBlurriness>0?c:r).get(Oe)),Oe}function ce(De){let Oe=!1;const je=ie(De);je===null?re(A,N):je&&je.isColor&&(re(je,1),Oe=!0);const Be=v.xr.getEnvironmentBlendMode();Be==="additive"?f.buffers.color.setClear(0,0,0,1,T):Be==="alpha-blend"&&f.buffers.color.setClear(0,0,0,0,T),(v.autoClear||Oe)&&(f.buffers.depth.setTest(!0),f.buffers.depth.setMask(!0),f.buffers.color.setMask(!0),v.clear(v.autoClearColor,v.autoClearDepth,v.autoClearStencil))}function ue(De,Oe){const je=ie(Oe);je&&(je.isCubeTexture||je.mapping===Ha)?(V===void 0&&(V=new Q2(new oa(1,1,1),new R1({name:"BackgroundCubeMaterial",uniforms:bl(Fo.backgroundCube.uniforms),vertexShader:Fo.backgroundCube.vertexShader,fragmentShader:Fo.backgroundCube.fragmentShader,side:Kn,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),V.geometry.deleteAttribute("normal"),V.geometry.deleteAttribute("uv"),V.onBeforeRender=function(Be,We,$e){this.matrixWorld.copyPosition($e.matrixWorld)},Object.defineProperty(V.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),_.update(V)),Ra.copy(Oe.backgroundRotation),Ra.x*=-1,Ra.y*=-1,Ra.z*=-1,je.isCubeTexture&&je.isRenderTargetTexture===!1&&(Ra.y*=-1,Ra.z*=-1),V.material.uniforms.envMap.value=je,V.material.uniforms.flipEnvMap.value=je.isCubeTexture&&je.isRenderTargetTexture===!1?-1:1,V.material.uniforms.backgroundBlurriness.value=Oe.backgroundBlurriness,V.material.uniforms.backgroundIntensity.value=Oe.backgroundIntensity,V.material.uniforms.backgroundRotation.value.setFromMatrix4(Gce.makeRotationFromEuler(Ra)),V.material.toneMapped=fi.getTransfer(je.colorSpace)!==N0,(j!==je||K!==je.version||Q!==v.toneMapping)&&(V.material.needsUpdate=!0,j=je,K=je.version,Q=v.toneMapping),V.layers.enableAll(),De.unshift(V,V.geometry,V.material,0,0,null)):je&&je.isTexture&&(k===void 0&&(k=new Q2(new Tf(2,2),new R1({name:"BackgroundMaterial",uniforms:bl(Fo.background.uniforms),vertexShader:Fo.background.vertexShader,fragmentShader:Fo.background.fragmentShader,side:ys,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),k.geometry.deleteAttribute("normal"),Object.defineProperty(k.material,"map",{get:function(){return this.uniforms.t2D.value}}),_.update(k)),k.material.uniforms.t2D.value=je,k.material.uniforms.backgroundIntensity.value=Oe.backgroundIntensity,k.material.toneMapped=fi.getTransfer(je.colorSpace)!==N0,je.matrixAutoUpdate===!0&&je.updateMatrix(),k.material.uniforms.uvTransform.value.copy(je.matrix),(j!==je||K!==je.version||Q!==v.toneMapping)&&(k.material.needsUpdate=!0,j=je,K=je.version,Q=v.toneMapping),k.layers.enableAll(),De.unshift(k,k.geometry,k.material,0,0,null))}function re(De,Oe){De.getRGB(M_,Ug(v)),f.buffers.color.setClear(M_.r,M_.g,M_.b,Oe,T)}function be(){V!==void 0&&(V.geometry.dispose(),V.material.dispose(),V=void 0),k!==void 0&&(k.geometry.dispose(),k.material.dispose(),k=void 0)}return{getClearColor:function(){return A},setClearColor:function(De,Oe=1){A.set(De),N=Oe,re(A,N)},getClearAlpha:function(){return N},setClearAlpha:function(De){N=De,re(A,N)},render:ce,addToRenderList:ue,dispose:be}}function zce(v,r){const c=v.getParameter(v.MAX_VERTEX_ATTRIBS),f={},_=K(null);let y=_,T=!1;function A(Ie,Je,ft,yt,Et){let Dt=!1;const ct=j(yt,ft,Je);y!==ct&&(y=ct,k(y.object)),Dt=Q(Ie,yt,ft,Et),Dt&&ie(Ie,yt,ft,Et),Et!==null&&r.update(Et,v.ELEMENT_ARRAY_BUFFER),(Dt||T)&&(T=!1,Oe(Ie,Je,ft,yt),Et!==null&&v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,r.get(Et).buffer))}function N(){return v.createVertexArray()}function k(Ie){return v.bindVertexArray(Ie)}function V(Ie){return v.deleteVertexArray(Ie)}function j(Ie,Je,ft){const yt=ft.wireframe===!0;let Et=f[Ie.id];Et===void 0&&(Et={},f[Ie.id]=Et);let Dt=Et[Je.id];Dt===void 0&&(Dt={},Et[Je.id]=Dt);let ct=Dt[yt];return ct===void 0&&(ct=K(N()),Dt[yt]=ct),ct}function K(Ie){const Je=[],ft=[],yt=[];for(let Et=0;Et<c;Et++)Je[Et]=0,ft[Et]=0,yt[Et]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Je,enabledAttributes:ft,attributeDivisors:yt,object:Ie,attributes:{},index:null}}function Q(Ie,Je,ft,yt){const Et=y.attributes,Dt=Je.attributes;let ct=0;const Wt=ft.getAttributes();for(const vt in Wt)if(Wt[vt].location>=0){const Qt=Et[vt];let a0=Dt[vt];if(a0===void 0&&(vt==="instanceMatrix"&&Ie.instanceMatrix&&(a0=Ie.instanceMatrix),vt==="instanceColor"&&Ie.instanceColor&&(a0=Ie.instanceColor)),Qt===void 0||Qt.attribute!==a0||a0&&Qt.data!==a0.data)return!0;ct++}return y.attributesNum!==ct||y.index!==yt}function ie(Ie,Je,ft,yt){const Et={},Dt=Je.attributes;let ct=0;const Wt=ft.getAttributes();for(const vt in Wt)if(Wt[vt].location>=0){let Qt=Dt[vt];Qt===void 0&&(vt==="instanceMatrix"&&Ie.instanceMatrix&&(Qt=Ie.instanceMatrix),vt==="instanceColor"&&Ie.instanceColor&&(Qt=Ie.instanceColor));const a0={};a0.attribute=Qt,Qt&&Qt.data&&(a0.data=Qt.data),Et[vt]=a0,ct++}y.attributes=Et,y.attributesNum=ct,y.index=yt}function ce(){const Ie=y.newAttributes;for(let Je=0,ft=Ie.length;Je<ft;Je++)Ie[Je]=0}function ue(Ie){re(Ie,0)}function re(Ie,Je){const ft=y.newAttributes,yt=y.enabledAttributes,Et=y.attributeDivisors;ft[Ie]=1,yt[Ie]===0&&(v.enableVertexAttribArray(Ie),yt[Ie]=1),Et[Ie]!==Je&&(v.vertexAttribDivisor(Ie,Je),Et[Ie]=Je)}function be(){const Ie=y.newAttributes,Je=y.enabledAttributes;for(let ft=0,yt=Je.length;ft<yt;ft++)Je[ft]!==Ie[ft]&&(v.disableVertexAttribArray(ft),Je[ft]=0)}function De(Ie,Je,ft,yt,Et,Dt,ct){ct===!0?v.vertexAttribIPointer(Ie,Je,ft,Et,Dt):v.vertexAttribPointer(Ie,Je,ft,yt,Et,Dt)}function Oe(Ie,Je,ft,yt){ce();const Et=yt.attributes,Dt=ft.getAttributes(),ct=Je.defaultAttributeValues;for(const Wt in Dt){const vt=Dt[Wt];if(vt.location>=0){let Ht=Et[Wt];if(Ht===void 0&&(Wt==="instanceMatrix"&&Ie.instanceMatrix&&(Ht=Ie.instanceMatrix),Wt==="instanceColor"&&Ie.instanceColor&&(Ht=Ie.instanceColor)),Ht!==void 0){const Qt=Ht.normalized,a0=Ht.itemSize,O0=r.get(Ht);if(O0===void 0)continue;const T0=O0.buffer,w0=O0.type,y0=O0.bytesPerElement,dt=w0===v.INT||w0===v.UNSIGNED_INT||Ht.gpuType===vr;if(Ht.isInterleavedBufferAttribute){const wt=Ht.data,e0=wt.stride,B0=Ht.offset;if(wt.isInstancedInterleavedBuffer){for(let A0=0;A0<vt.locationSize;A0++)re(vt.location+A0,wt.meshPerAttribute);Ie.isInstancedMesh!==!0&&yt._maxInstanceCount===void 0&&(yt._maxInstanceCount=wt.meshPerAttribute*wt.count)}else for(let A0=0;A0<vt.locationSize;A0++)ue(vt.location+A0);v.bindBuffer(v.ARRAY_BUFFER,T0);for(let A0=0;A0<vt.locationSize;A0++)De(vt.location+A0,a0/vt.locationSize,w0,Qt,e0*y0,(B0+a0/vt.locationSize*A0)*y0,dt)}else{if(Ht.isInstancedBufferAttribute){for(let wt=0;wt<vt.locationSize;wt++)re(vt.location+wt,Ht.meshPerAttribute);Ie.isInstancedMesh!==!0&&yt._maxInstanceCount===void 0&&(yt._maxInstanceCount=Ht.meshPerAttribute*Ht.count)}else for(let wt=0;wt<vt.locationSize;wt++)ue(vt.location+wt);v.bindBuffer(v.ARRAY_BUFFER,T0);for(let wt=0;wt<vt.locationSize;wt++)De(vt.location+wt,a0/vt.locationSize,w0,Qt,a0*y0,a0/vt.locationSize*wt*y0,dt)}}else if(ct!==void 0){const Qt=ct[Wt];if(Qt!==void 0)switch(Qt.length){case 2:v.vertexAttrib2fv(vt.location,Qt);break;case 3:v.vertexAttrib3fv(vt.location,Qt);break;case 4:v.vertexAttrib4fv(vt.location,Qt);break;default:v.vertexAttrib1fv(vt.location,Qt)}}}}be()}function je(){$e();for(const Ie in f){const Je=f[Ie];for(const ft in Je){const yt=Je[ft];for(const Et in yt)V(yt[Et].object),delete yt[Et];delete Je[ft]}delete f[Ie]}}function Be(Ie){if(f[Ie.id]===void 0)return;const Je=f[Ie.id];for(const ft in Je){const yt=Je[ft];for(const Et in yt)V(yt[Et].object),delete yt[Et];delete Je[ft]}delete f[Ie.id]}function We(Ie){for(const Je in f){const ft=f[Je];if(ft[Ie.id]===void 0)continue;const yt=ft[Ie.id];for(const Et in yt)V(yt[Et].object),delete yt[Et];delete ft[Ie.id]}}function $e(){Ee(),T=!0,y!==_&&(y=_,k(y.object))}function Ee(){_.geometry=null,_.program=null,_.wireframe=!1}return{setup:A,reset:$e,resetDefaultState:Ee,dispose:je,releaseStatesOfGeometry:Be,releaseStatesOfProgram:We,initAttributes:ce,enableAttribute:ue,disableUnusedAttributes:be}}function Wce(v,r,c){let f;function _(k){f=k}function y(k,V){v.drawArrays(f,k,V),c.update(V,f,1)}function T(k,V,j){j!==0&&(v.drawArraysInstanced(f,k,V,j),c.update(V,f,j))}function A(k,V,j){if(j===0)return;r.get("WEBGL_multi_draw").multiDrawArraysWEBGL(f,k,0,V,0,j);let Q=0;for(let ie=0;ie<j;ie++)Q+=V[ie];c.update(Q,f,1)}function N(k,V,j,K){if(j===0)return;const Q=r.get("WEBGL_multi_draw");if(Q===null)for(let ie=0;ie<k.length;ie++)T(k[ie],V[ie],K[ie]);else{Q.multiDrawArraysInstancedWEBGL(f,k,0,V,0,K,0,j);let ie=0;for(let ce=0;ce<j;ce++)ie+=V[ce]*K[ce];c.update(ie,f,1)}}this.setMode=_,this.render=y,this.renderInstances=T,this.renderMultiDraw=A,this.renderMultiDrawInstances=N}function Hce(v,r,c,f){let _;function y(){if(_!==void 0)return _;if(r.has("EXT_texture_filter_anisotropic")===!0){const We=r.get("EXT_texture_filter_anisotropic");_=v.getParameter(We.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else _=0;return _}function T(We){return!(We!==w2&&f.convert(We)!==v.getParameter(v.IMPLEMENTATION_COLOR_READ_FORMAT))}function A(We){const $e=We===K2&&(r.has("EXT_color_buffer_half_float")||r.has("EXT_color_buffer_float"));return!(We!==T2&&f.convert(We)!==v.getParameter(v.IMPLEMENTATION_COLOR_READ_TYPE)&&We!==I2&&!$e)}function N(We){if(We==="highp"){if(v.getShaderPrecisionFormat(v.VERTEX_SHADER,v.HIGH_FLOAT).precision>0&&v.getShaderPrecisionFormat(v.FRAGMENT_SHADER,v.HIGH_FLOAT).precision>0)return"highp";We="mediump"}return We==="mediump"&&v.getShaderPrecisionFormat(v.VERTEX_SHADER,v.MEDIUM_FLOAT).precision>0&&v.getShaderPrecisionFormat(v.FRAGMENT_SHADER,v.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let k=c.precision!==void 0?c.precision:"highp";const V=N(k);V!==k&&(jt("WebGLRenderer:",k,"not supported, using",V,"instead."),k=V);const j=c.logarithmicDepthBuffer===!0,K=c.reversedDepthBuffer===!0&&r.has("EXT_clip_control"),Q=v.getParameter(v.MAX_TEXTURE_IMAGE_UNITS),ie=v.getParameter(v.MAX_VERTEX_TEXTURE_IMAGE_UNITS),ce=v.getParameter(v.MAX_TEXTURE_SIZE),ue=v.getParameter(v.MAX_CUBE_MAP_TEXTURE_SIZE),re=v.getParameter(v.MAX_VERTEX_ATTRIBS),be=v.getParameter(v.MAX_VERTEX_UNIFORM_VECTORS),De=v.getParameter(v.MAX_VARYING_VECTORS),Oe=v.getParameter(v.MAX_FRAGMENT_UNIFORM_VECTORS),je=ie>0,Be=v.getParameter(v.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:y,getMaxPrecision:N,textureFormatReadable:T,textureTypeReadable:A,precision:k,logarithmicDepthBuffer:j,reversedDepthBuffer:K,maxTextures:Q,maxVertexTextures:ie,maxTextureSize:ce,maxCubemapSize:ue,maxAttributes:re,maxVertexUniforms:be,maxVaryings:De,maxFragmentUniforms:Oe,vertexTextures:je,maxSamples:Be}}function jce(v){const r=this;let c=null,f=0,_=!1,y=!1;const T=new d1,A=new Pi,N={value:null,needsUpdate:!1};this.uniform=N,this.numPlanes=0,this.numIntersection=0,this.init=function(j,K){const Q=j.length!==0||K||f!==0||_;return _=K,f=j.length,Q},this.beginShadows=function(){y=!0,V(null)},this.endShadows=function(){y=!1},this.setGlobalState=function(j,K){c=V(j,K,0)},this.setState=function(j,K,Q){const ie=j.clippingPlanes,ce=j.clipIntersection,ue=j.clipShadows,re=v.get(j);if(!_||ie===null||ie.length===0||y&&!ue)y?V(null):k();else{const be=y?0:f,De=be*4;let Oe=re.clippingState||null;N.value=Oe,Oe=V(ie,K,De,Q);for(let je=0;je!==De;++je)Oe[je]=c[je];re.clippingState=Oe,this.numIntersection=ce?this.numPlanes:0,this.numPlanes+=be}};function k(){N.value!==c&&(N.value=c,N.needsUpdate=f>0),r.numPlanes=f,r.numIntersection=0}function V(j,K,Q,ie){const ce=j!==null?j.length:0;let ue=null;if(ce!==0){if(ue=N.value,ie!==!0||ue===null){const re=Q+ce*4,be=K.matrixWorldInverse;A.getNormalMatrix(be),(ue===null||ue.length<re)&&(ue=new Float32Array(re));for(let De=0,Oe=Q;De!==ce;++De,Oe+=4)T.copy(j[De]).applyMatrix4(be,A),T.normal.toArray(ue,Oe),ue[Oe+3]=T.constant}N.value=ue,N.needsUpdate=!0}return r.numPlanes=ce,r.numIntersection=0,ue}}function qce(v){let r=new WeakMap;function c(T,A){return A===sl?T.mapping=Go:A===ol&&(T.mapping=Vo),T}function f(T){if(T&&T.isTexture){const A=T.mapping;if(A===sl||A===ol)if(r.has(T)){const N=r.get(T).texture;return c(N,T.mapping)}else{const N=T.image;if(N&&N.height>0){const k=new Gg(N.height);return k.fromEquirectangularTexture(v,T),r.set(T,k),T.addEventListener("dispose",_),c(k.texture,T.mapping)}else return null}}return T}function _(T){const A=T.target;A.removeEventListener("dispose",_);const N=r.get(A);N!==void 0&&(r.delete(A),N.dispose())}function y(){r=new WeakMap}return{get:f,dispose:y}}const K1=4,g3=[.125,.215,.35,.446,.526,.582],La=20,Xce=256,du=new Mf,x3=new ni;let r4=null,s4=0,o4=0,a4=!1;const $ce=new at;let y3=class{constructor(r){this._renderer=r,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(r,c=0,f=.1,_=100,y={}){const{size:T=256,position:A=$ce}=y;r4=this._renderer.getRenderTarget(),s4=this._renderer.getActiveCubeFace(),o4=this._renderer.getActiveMipmapLevel(),a4=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(T);const N=this._allocateTargets();return N.depthBuffer=!0,this._sceneToCubeUV(r,f,_,N,A),c>0&&this._blur(N,0,0,c),this._applyPMREM(N),this._cleanup(N),N}fromEquirectangular(r,c=null){return this._fromTexture(r,c)}fromCubemap(r,c=null){return this._fromTexture(r,c)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=C3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=S3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(r){this._lodMax=Math.floor(Math.log2(r)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let r=0;r<this._lodMeshes.length;r++)this._lodMeshes[r].geometry.dispose()}_cleanup(r){this._renderer.setRenderTarget(r4,s4,o4),this._renderer.xr.enabled=a4,r.scissorTest=!1,Lc(r,0,0,r.width,r.height)}_fromTexture(r,c){r.mapping===Go||r.mapping===Vo?this._setSize(r.image.length===0?16:r.image[0].width||r.image[0].image.width):this._setSize(r.image.width/4),r4=this._renderer.getRenderTarget(),s4=this._renderer.getActiveCubeFace(),o4=this._renderer.getActiveMipmapLevel(),a4=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const f=c||this._allocateTargets();return this._textureToCubeUV(r,f),this._applyPMREM(f),this._cleanup(f),f}_allocateTargets(){const r=3*Math.max(this._cubeSize,112),c=4*this._cubeSize,f={magFilter:r2,minFilter:r2,generateMipmaps:!1,type:K2,format:w2,colorSpace:qa,depthBuffer:!1},_=v3(r,c,f);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==r||this._pingPongRenderTarget.height!==c){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=v3(r,c,f);const{_lodMax:y}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=Yce(y)),this._blurMaterial=Zce(y,r,c),this._ggxMaterial=Kce(y,r,c)}return _}_compileMaterial(r){const c=new Q2(new ns,r);this._renderer.compile(c,du)}_sceneToCubeUV(r,c,f,_,y){const N=new Y2(90,1,c,f),k=[1,-1,1,1,1,1],V=[1,1,1,-1,-1,-1],j=this._renderer,K=j.autoClear,Q=j.toneMapping;j.getClearColor(x3),j.toneMapping=Jr,j.autoClear=!1,j.state.buffers.depth.getReversed()&&(j.setRenderTarget(_),j.clearDepth(),j.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Q2(new oa,new oo({name:"PMREM.Background",side:Kn,depthWrite:!1,depthTest:!1})));const ce=this._backgroundBox,ue=ce.material;let re=!1;const be=r.background;be?be.isColor&&(ue.color.copy(be),r.background=null,re=!0):(ue.color.copy(x3),re=!0);for(let De=0;De<6;De++){const Oe=De%3;Oe===0?(N.up.set(0,k[De],0),N.position.set(y.x,y.y,y.z),N.lookAt(y.x+V[De],y.y,y.z)):Oe===1?(N.up.set(0,0,k[De]),N.position.set(y.x,y.y,y.z),N.lookAt(y.x,y.y+V[De],y.z)):(N.up.set(0,k[De],0),N.position.set(y.x,y.y,y.z),N.lookAt(y.x,y.y,y.z+V[De]));const je=this._cubeSize;Lc(_,Oe*je,De>2?je:0,je,je),j.setRenderTarget(_),re&&j.render(ce,N),j.render(r,N)}j.toneMapping=Q,j.autoClear=K,r.background=be}_textureToCubeUV(r,c){const f=this._renderer,_=r.mapping===Go||r.mapping===Vo;_?(this._cubemapMaterial===null&&(this._cubemapMaterial=C3()),this._cubemapMaterial.uniforms.flipEnvMap.value=r.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=S3());const y=_?this._cubemapMaterial:this._equirectMaterial,T=this._lodMeshes[0];T.material=y;const A=y.uniforms;A.envMap.value=r;const N=this._cubeSize;Lc(c,0,0,3*N,2*N),f.setRenderTarget(c),f.render(T,du)}_applyPMREM(r){const c=this._renderer,f=c.autoClear;c.autoClear=!1;const _=this._lodMeshes.length;for(let y=1;y<_;y++)this._applyGGXFilter(r,y-1,y);c.autoClear=f}_applyGGXFilter(r,c,f){const _=this._renderer,y=this._pingPongRenderTarget,T=this._ggxMaterial,A=this._lodMeshes[f];A.material=T;const N=T.uniforms,k=f/(this._lodMeshes.length-1),V=c/(this._lodMeshes.length-1),j=Math.sqrt(k*k-V*V),K=.05+k*.95,Q=j*K,{_lodMax:ie}=this,ce=this._sizeLods[f],ue=3*ce*(f>ie-K1?f-ie+K1:0),re=4*(this._cubeSize-ce);N.envMap.value=r.texture,N.roughness.value=Q,N.mipInt.value=ie-c,Lc(y,ue,re,3*ce,2*ce),_.setRenderTarget(y),_.render(A,du),N.envMap.value=y.texture,N.roughness.value=0,N.mipInt.value=ie-f,Lc(r,ue,re,3*ce,2*ce),_.setRenderTarget(r),_.render(A,du)}_blur(r,c,f,_,y){const T=this._pingPongRenderTarget;this._halfBlur(r,T,c,f,_,"latitudinal",y),this._halfBlur(T,r,f,f,_,"longitudinal",y)}_halfBlur(r,c,f,_,y,T,A){const N=this._renderer,k=this._blurMaterial;T!=="latitudinal"&&T!=="longitudinal"&&r0("blur direction must be either latitudinal or longitudinal!");const V=3,j=this._lodMeshes[_];j.material=k;const K=k.uniforms,Q=this._sizeLods[f]-1,ie=isFinite(y)?Math.PI/(2*Q):2*Math.PI/(2*La-1),ce=y/ie,ue=isFinite(y)?1+Math.floor(V*ce):La;ue>La&&jt(`sigmaRadians, ${y}, is too large and will clip, as it requested ${ue} samples when the maximum is set to ${La}`);const re=[];let be=0;for(let We=0;We<La;++We){const $e=We/ce,Ee=Math.exp(-$e*$e/2);re.push(Ee),We===0?be+=Ee:We<ue&&(be+=2*Ee)}for(let We=0;We<re.length;We++)re[We]=re[We]/be;K.envMap.value=r.texture,K.samples.value=ue,K.weights.value=re,K.latitudinal.value=T==="latitudinal",A&&(K.poleAxis.value=A);const{_lodMax:De}=this;K.dTheta.value=ie,K.mipInt.value=De-f;const Oe=this._sizeLods[_],je=3*Oe*(_>De-K1?_-De+K1:0),Be=4*(this._cubeSize-Oe);Lc(c,je,Be,3*Oe,2*Oe),N.setRenderTarget(c),N.render(j,du)}};function Yce(v){const r=[],c=[],f=[];let _=v;const y=v-K1+1+g3.length;for(let T=0;T<y;T++){const A=Math.pow(2,_);r.push(A);let N=1/A;T>v-K1?N=g3[T-v+K1-1]:T===0&&(N=0),c.push(N);const k=1/(A-2),V=-k,j=1+k,K=[V,V,j,V,j,j,V,V,j,j,V,j],Q=6,ie=6,ce=3,ue=2,re=1,be=new Float32Array(ce*ie*Q),De=new Float32Array(ue*ie*Q),Oe=new Float32Array(re*ie*Q);for(let Be=0;Be<Q;Be++){const We=Be%3*2/3-1,$e=Be>2?0:-1,Ee=[We,$e,0,We+2/3,$e,0,We+2/3,$e+1,0,We,$e,0,We+2/3,$e+1,0,We,$e+1,0];be.set(Ee,ce*ie*Be),De.set(K,ue*ie*Be);const Ie=[Be,Be,Be,Be,Be,Be];Oe.set(Ie,re*ie*Be)}const je=new ns;je.setAttribute("position",new Or(be,ce)),je.setAttribute("uv",new Or(De,ue)),je.setAttribute("faceIndex",new Or(Oe,re)),f.push(new Q2(je,null)),_>K1&&_--}return{lodMeshes:f,sizeLods:r,sigmas:c}}function v3(v,r,c){const f=new $a(v,r,c);return f.texture.mapping=Ha,f.texture.name="PMREM.cubeUv",f.scissorTest=!0,f}function Lc(v,r,c,f,_){v.viewport.set(r,c,f,_),v.scissor.set(r,c,f,_)}function Kce(v,r,c){return new R1({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:Xce,CUBEUV_TEXEL_WIDTH:1/r,CUBEUV_TEXEL_HEIGHT:1/c,CUBEUV_MAX_MIP:`${v}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:wp(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:vs,depthTest:!1,depthWrite:!1})}function Zce(v,r,c){const f=new Float32Array(La),_=new at(0,1,0);return new R1({name:"SphericalGaussianBlur",defines:{n:La,CUBEUV_TEXEL_WIDTH:1/r,CUBEUV_TEXEL_HEIGHT:1/c,CUBEUV_MAX_MIP:`${v}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:f},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:_}},vertexShader:wp(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:vs,depthTest:!1,depthWrite:!1})}function S3(){return new R1({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:wp(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:vs,depthTest:!1,depthWrite:!1})}function C3(){return new R1({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:wp(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:vs,depthTest:!1,depthWrite:!1})}function wp(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Qce(v){let r=new WeakMap,c=null;function f(A){if(A&&A.isTexture){const N=A.mapping,k=N===sl||N===ol,V=N===Go||N===Vo;if(k||V){let j=r.get(A);const K=j!==void 0?j.texture.pmremVersion:0;if(A.isRenderTargetTexture&&A.pmremVersion!==K)return c===null&&(c=new y3(v)),j=k?c.fromEquirectangular(A,j):c.fromCubemap(A,j),j.texture.pmremVersion=A.pmremVersion,r.set(A,j),j.texture;if(j!==void 0)return j.texture;{const Q=A.image;return k&&Q&&Q.height>0||V&&Q&&_(Q)?(c===null&&(c=new y3(v)),j=k?c.fromEquirectangular(A):c.fromCubemap(A),j.texture.pmremVersion=A.pmremVersion,r.set(A,j),A.addEventListener("dispose",y),j.texture):null}}}return A}function _(A){let N=0;const k=6;for(let V=0;V<k;V++)A[V]!==void 0&&N++;return N===k}function y(A){const N=A.target;N.removeEventListener("dispose",y);const k=r.get(N);k!==void 0&&(r.delete(N),k.dispose())}function T(){r=new WeakMap,c!==null&&(c.dispose(),c=null)}return{get:f,dispose:T}}function Jce(v){const r={};function c(f){if(r[f]!==void 0)return r[f];const _=v.getExtension(f);return r[f]=_,_}return{has:function(f){return c(f)!==null},init:function(){c("EXT_color_buffer_float"),c("WEBGL_clip_cull_distance"),c("OES_texture_float_linear"),c("EXT_color_buffer_half_float"),c("WEBGL_multisampled_render_to_texture"),c("WEBGL_render_shared_exponent")},get:function(f){const _=c(f);return _===null&&a2("WebGLRenderer: "+f+" extension not supported."),_}}}function ele(v,r,c,f){const _={},y=new WeakMap;function T(j){const K=j.target;K.index!==null&&r.remove(K.index);for(const ie in K.attributes)r.remove(K.attributes[ie]);K.removeEventListener("dispose",T),delete _[K.id];const Q=y.get(K);Q&&(r.remove(Q),y.delete(K)),f.releaseStatesOfGeometry(K),K.isInstancedBufferGeometry===!0&&delete K._maxInstanceCount,c.memory.geometries--}function A(j,K){return _[K.id]===!0||(K.addEventListener("dispose",T),_[K.id]=!0,c.memory.geometries++),K}function N(j){const K=j.attributes;for(const Q in K)r.update(K[Q],v.ARRAY_BUFFER)}function k(j){const K=[],Q=j.index,ie=j.attributes.position;let ce=0;if(Q!==null){const be=Q.array;ce=Q.version;for(let De=0,Oe=be.length;De<Oe;De+=3){const je=be[De+0],Be=be[De+1],We=be[De+2];K.push(je,Be,Be,We,We,je)}}else if(ie!==void 0){const be=ie.array;ce=ie.version;for(let De=0,Oe=be.length/3-1;De<Oe;De+=3){const je=De+0,Be=De+1,We=De+2;K.push(je,Be,Be,We,We,je)}}else return;const ue=new(Ld(K)?Gd:Od)(K,1);ue.version=ce;const re=y.get(j);re&&r.remove(re),y.set(j,ue)}function V(j){const K=y.get(j);if(K){const Q=j.index;Q!==null&&K.version<Q.version&&k(j)}else k(j);return y.get(j)}return{get:A,update:N,getWireframeAttribute:V}}function tle(v,r,c){let f;function _(K){f=K}let y,T;function A(K){y=K.type,T=K.bytesPerElement}function N(K,Q){v.drawElements(f,Q,y,K*T),c.update(Q,f,1)}function k(K,Q,ie){ie!==0&&(v.drawElementsInstanced(f,Q,y,K*T,ie),c.update(Q,f,ie))}function V(K,Q,ie){if(ie===0)return;r.get("WEBGL_multi_draw").multiDrawElementsWEBGL(f,Q,0,y,K,0,ie);let ue=0;for(let re=0;re<ie;re++)ue+=Q[re];c.update(ue,f,1)}function j(K,Q,ie,ce){if(ie===0)return;const ue=r.get("WEBGL_multi_draw");if(ue===null)for(let re=0;re<K.length;re++)k(K[re]/T,Q[re],ce[re]);else{ue.multiDrawElementsInstancedWEBGL(f,Q,0,y,K,0,ce,0,ie);let re=0;for(let be=0;be<ie;be++)re+=Q[be]*ce[be];c.update(re,f,1)}}this.setMode=_,this.setIndex=A,this.render=N,this.renderInstances=k,this.renderMultiDraw=V,this.renderMultiDrawInstances=j}function ile(v){const r={geometries:0,textures:0},c={frame:0,calls:0,triangles:0,points:0,lines:0};function f(y,T,A){switch(c.calls++,T){case v.TRIANGLES:c.triangles+=A*(y/3);break;case v.LINES:c.lines+=A*(y/2);break;case v.LINE_STRIP:c.lines+=A*(y-1);break;case v.LINE_LOOP:c.lines+=A*y;break;case v.POINTS:c.points+=A*y;break;default:r0("WebGLInfo: Unknown draw mode:",T);break}}function _(){c.calls=0,c.triangles=0,c.points=0,c.lines=0}return{memory:r,render:c,programs:null,autoReset:!0,reset:_,update:f}}function nle(v,r,c){const f=new WeakMap,_=new hi;function y(T,A,N){const k=T.morphTargetInfluences,V=A.morphAttributes.position||A.morphAttributes.normal||A.morphAttributes.color,j=V!==void 0?V.length:0;let K=f.get(A);if(K===void 0||K.count!==j){let Ie=function(){$e.dispose(),f.delete(A),A.removeEventListener("dispose",Ie)};var Q=Ie;K!==void 0&&K.texture.dispose();const ie=A.morphAttributes.position!==void 0,ce=A.morphAttributes.normal!==void 0,ue=A.morphAttributes.color!==void 0,re=A.morphAttributes.position||[],be=A.morphAttributes.normal||[],De=A.morphAttributes.color||[];let Oe=0;ie===!0&&(Oe=1),ce===!0&&(Oe=2),ue===!0&&(Oe=3);let je=A.attributes.position.count*Oe,Be=1;je>r.maxTextureSize&&(Be=Math.ceil(je/r.maxTextureSize),je=r.maxTextureSize);const We=new Float32Array(je*Be*4*j),$e=new Bd(We,je,Be,j);$e.type=I2,$e.needsUpdate=!0;const Ee=Oe*4;for(let Je=0;Je<j;Je++){const ft=re[Je],yt=be[Je],Et=De[Je],Dt=je*Be*4*Je;for(let ct=0;ct<ft.count;ct++){const Wt=ct*Ee;ie===!0&&(_.fromBufferAttribute(ft,ct),We[Dt+Wt+0]=_.x,We[Dt+Wt+1]=_.y,We[Dt+Wt+2]=_.z,We[Dt+Wt+3]=0),ce===!0&&(_.fromBufferAttribute(yt,ct),We[Dt+Wt+4]=_.x,We[Dt+Wt+5]=_.y,We[Dt+Wt+6]=_.z,We[Dt+Wt+7]=0),ue===!0&&(_.fromBufferAttribute(Et,ct),We[Dt+Wt+8]=_.x,We[Dt+Wt+9]=_.y,We[Dt+Wt+10]=_.z,We[Dt+Wt+11]=Et.itemSize===4?_.w:1)}}K={count:j,texture:$e,size:new _i(je,Be)},f.set(A,K),A.addEventListener("dispose",Ie)}if(T.isInstancedMesh===!0&&T.morphTexture!==null)N.getUniforms().setValue(v,"morphTexture",T.morphTexture,c);else{let ie=0;for(let ue=0;ue<k.length;ue++)ie+=k[ue];const ce=A.morphTargetsRelative?1:1-ie;N.getUniforms().setValue(v,"morphTargetBaseInfluence",ce),N.getUniforms().setValue(v,"morphTargetInfluences",k)}N.getUniforms().setValue(v,"morphTargetsTexture",K.texture,c),N.getUniforms().setValue(v,"morphTargetsTextureSize",K.size)}return{update:y}}function rle(v,r,c,f){let _=new WeakMap;function y(N){const k=f.render.frame,V=N.geometry,j=r.get(N,V);if(_.get(j)!==k&&(r.update(j),_.set(j,k)),N.isInstancedMesh&&(N.hasEventListener("dispose",A)===!1&&N.addEventListener("dispose",A),_.get(N)!==k&&(c.update(N.instanceMatrix,v.ARRAY_BUFFER),N.instanceColor!==null&&c.update(N.instanceColor,v.ARRAY_BUFFER),_.set(N,k))),N.isSkinnedMesh){const K=N.skeleton;_.get(K)!==k&&(K.update(),_.set(K,k))}return j}function T(){_=new WeakMap}function A(N){const k=N.target;k.removeEventListener("dispose",A),c.remove(k.instanceMatrix),k.instanceColor!==null&&c.remove(k.instanceColor)}return{update:y,dispose:T}}const ix=new Z2,T3=new qs(1,1),nx=new Bd,rx=new toe,sx=new yf,w3=[],M3=[],R3=new Float32Array(16),A3=new Float32Array(9),E3=new Float32Array(4);function jl(v,r,c){const f=v[0];if(f<=0||f>0)return v;const _=r*c;let y=w3[_];if(y===void 0&&(y=new Float32Array(_),w3[_]=y),r!==0){f.toArray(y,0);for(let T=1,A=0;T!==r;++T)A+=c,v[T].toArray(y,A)}return y}function sr(v,r){if(v.length!==r.length)return!1;for(let c=0,f=v.length;c<f;c++)if(v[c]!==r[c])return!1;return!0}function or(v,r){for(let c=0,f=r.length;c<f;c++)v[c]=r[c]}function Mp(v,r){let c=M3[r];c===void 0&&(c=new Int32Array(r),M3[r]=c);for(let f=0;f!==r;++f)c[f]=v.allocateTextureUnit();return c}function sle(v,r){const c=this.cache;c[0]!==r&&(v.uniform1f(this.addr,r),c[0]=r)}function ole(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y)&&(v.uniform2f(this.addr,r.x,r.y),c[0]=r.x,c[1]=r.y);else{if(sr(c,r))return;v.uniform2fv(this.addr,r),or(c,r)}}function ale(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y||c[2]!==r.z)&&(v.uniform3f(this.addr,r.x,r.y,r.z),c[0]=r.x,c[1]=r.y,c[2]=r.z);else if(r.r!==void 0)(c[0]!==r.r||c[1]!==r.g||c[2]!==r.b)&&(v.uniform3f(this.addr,r.r,r.g,r.b),c[0]=r.r,c[1]=r.g,c[2]=r.b);else{if(sr(c,r))return;v.uniform3fv(this.addr,r),or(c,r)}}function cle(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y||c[2]!==r.z||c[3]!==r.w)&&(v.uniform4f(this.addr,r.x,r.y,r.z,r.w),c[0]=r.x,c[1]=r.y,c[2]=r.z,c[3]=r.w);else{if(sr(c,r))return;v.uniform4fv(this.addr,r),or(c,r)}}function lle(v,r){const c=this.cache,f=r.elements;if(f===void 0){if(sr(c,r))return;v.uniformMatrix2fv(this.addr,!1,r),or(c,r)}else{if(sr(c,f))return;E3.set(f),v.uniformMatrix2fv(this.addr,!1,E3),or(c,f)}}function ule(v,r){const c=this.cache,f=r.elements;if(f===void 0){if(sr(c,r))return;v.uniformMatrix3fv(this.addr,!1,r),or(c,r)}else{if(sr(c,f))return;A3.set(f),v.uniformMatrix3fv(this.addr,!1,A3),or(c,f)}}function fle(v,r){const c=this.cache,f=r.elements;if(f===void 0){if(sr(c,r))return;v.uniformMatrix4fv(this.addr,!1,r),or(c,r)}else{if(sr(c,f))return;R3.set(f),v.uniformMatrix4fv(this.addr,!1,R3),or(c,f)}}function _le(v,r){const c=this.cache;c[0]!==r&&(v.uniform1i(this.addr,r),c[0]=r)}function ple(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y)&&(v.uniform2i(this.addr,r.x,r.y),c[0]=r.x,c[1]=r.y);else{if(sr(c,r))return;v.uniform2iv(this.addr,r),or(c,r)}}function hle(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y||c[2]!==r.z)&&(v.uniform3i(this.addr,r.x,r.y,r.z),c[0]=r.x,c[1]=r.y,c[2]=r.z);else{if(sr(c,r))return;v.uniform3iv(this.addr,r),or(c,r)}}function dle(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y||c[2]!==r.z||c[3]!==r.w)&&(v.uniform4i(this.addr,r.x,r.y,r.z,r.w),c[0]=r.x,c[1]=r.y,c[2]=r.z,c[3]=r.w);else{if(sr(c,r))return;v.uniform4iv(this.addr,r),or(c,r)}}function mle(v,r){const c=this.cache;c[0]!==r&&(v.uniform1ui(this.addr,r),c[0]=r)}function gle(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y)&&(v.uniform2ui(this.addr,r.x,r.y),c[0]=r.x,c[1]=r.y);else{if(sr(c,r))return;v.uniform2uiv(this.addr,r),or(c,r)}}function xle(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y||c[2]!==r.z)&&(v.uniform3ui(this.addr,r.x,r.y,r.z),c[0]=r.x,c[1]=r.y,c[2]=r.z);else{if(sr(c,r))return;v.uniform3uiv(this.addr,r),or(c,r)}}function yle(v,r){const c=this.cache;if(r.x!==void 0)(c[0]!==r.x||c[1]!==r.y||c[2]!==r.z||c[3]!==r.w)&&(v.uniform4ui(this.addr,r.x,r.y,r.z,r.w),c[0]=r.x,c[1]=r.y,c[2]=r.z,c[3]=r.w);else{if(sr(c,r))return;v.uniform4uiv(this.addr,r),or(c,r)}}function vle(v,r,c){const f=this.cache,_=c.allocateTextureUnit();f[0]!==_&&(v.uniform1i(this.addr,_),f[0]=_);let y;this.type===v.SAMPLER_2D_SHADOW?(T3.compareFunction=vp,y=T3):y=ix,c.setTexture2D(r||y,_)}function Sle(v,r,c){const f=this.cache,_=c.allocateTextureUnit();f[0]!==_&&(v.uniform1i(this.addr,_),f[0]=_),c.setTexture3D(r||rx,_)}function Cle(v,r,c){const f=this.cache,_=c.allocateTextureUnit();f[0]!==_&&(v.uniform1i(this.addr,_),f[0]=_),c.setTextureCube(r||sx,_)}function Tle(v,r,c){const f=this.cache,_=c.allocateTextureUnit();f[0]!==_&&(v.uniform1i(this.addr,_),f[0]=_),c.setTexture2DArray(r||nx,_)}function wle(v){switch(v){case 5126:return sle;case 35664:return ole;case 35665:return ale;case 35666:return cle;case 35674:return lle;case 35675:return ule;case 35676:return fle;case 5124:case 35670:return _le;case 35667:case 35671:return ple;case 35668:case 35672:return hle;case 35669:case 35673:return dle;case 5125:return mle;case 36294:return gle;case 36295:return xle;case 36296:return yle;case 35678:case 36198:case 36298:case 36306:case 35682:return vle;case 35679:case 36299:case 36307:return Sle;case 35680:case 36300:case 36308:case 36293:return Cle;case 36289:case 36303:case 36311:case 36292:return Tle}}function Mle(v,r){v.uniform1fv(this.addr,r)}function Rle(v,r){const c=jl(r,this.size,2);v.uniform2fv(this.addr,c)}function Ale(v,r){const c=jl(r,this.size,3);v.uniform3fv(this.addr,c)}function Ele(v,r){const c=jl(r,this.size,4);v.uniform4fv(this.addr,c)}function Nle(v,r){const c=jl(r,this.size,4);v.uniformMatrix2fv(this.addr,!1,c)}function ble(v,r){const c=jl(r,this.size,9);v.uniformMatrix3fv(this.addr,!1,c)}function Dle(v,r){const c=jl(r,this.size,16);v.uniformMatrix4fv(this.addr,!1,c)}function Ile(v,r){v.uniform1iv(this.addr,r)}function Ple(v,r){v.uniform2iv(this.addr,r)}function Lle(v,r){v.uniform3iv(this.addr,r)}function kle(v,r){v.uniform4iv(this.addr,r)}function Fle(v,r){v.uniform1uiv(this.addr,r)}function Ble(v,r){v.uniform2uiv(this.addr,r)}function Ule(v,r){v.uniform3uiv(this.addr,r)}function Ole(v,r){v.uniform4uiv(this.addr,r)}function Gle(v,r,c){const f=this.cache,_=r.length,y=Mp(c,_);sr(f,y)||(v.uniform1iv(this.addr,y),or(f,y));for(let T=0;T!==_;++T)c.setTexture2D(r[T]||ix,y[T])}function Vle(v,r,c){const f=this.cache,_=r.length,y=Mp(c,_);sr(f,y)||(v.uniform1iv(this.addr,y),or(f,y));for(let T=0;T!==_;++T)c.setTexture3D(r[T]||rx,y[T])}function zle(v,r,c){const f=this.cache,_=r.length,y=Mp(c,_);sr(f,y)||(v.uniform1iv(this.addr,y),or(f,y));for(let T=0;T!==_;++T)c.setTextureCube(r[T]||sx,y[T])}function Wle(v,r,c){const f=this.cache,_=r.length,y=Mp(c,_);sr(f,y)||(v.uniform1iv(this.addr,y),or(f,y));for(let T=0;T!==_;++T)c.setTexture2DArray(r[T]||nx,y[T])}function Hle(v){switch(v){case 5126:return Mle;case 35664:return Rle;case 35665:return Ale;case 35666:return Ele;case 35674:return Nle;case 35675:return ble;case 35676:return Dle;case 5124:case 35670:return Ile;case 35667:case 35671:return Ple;case 35668:case 35672:return Lle;case 35669:case 35673:return kle;case 5125:return Fle;case 36294:return Ble;case 36295:return Ule;case 36296:return Ole;case 35678:case 36198:case 36298:case 36306:case 35682:return Gle;case 35679:case 36299:case 36307:return Vle;case 35680:case 36300:case 36308:case 36293:return zle;case 36289:case 36303:case 36311:case 36292:return Wle}}class jle{constructor(r,c,f){this.id=r,this.addr=f,this.cache=[],this.type=c.type,this.setValue=wle(c.type)}}class qle{constructor(r,c,f){this.id=r,this.addr=f,this.cache=[],this.type=c.type,this.size=c.size,this.setValue=Hle(c.type)}}class Xle{constructor(r){this.id=r,this.seq=[],this.map={}}setValue(r,c,f){const _=this.seq;for(let y=0,T=_.length;y!==T;++y){const A=_[y];A.setValue(r,c[A.id],f)}}}const c4=/(\w+)(\])?(\[|\.)?/g;function N3(v,r){v.seq.push(r),v.map[r.id]=r}function $le(v,r,c){const f=v.name,_=f.length;for(c4.lastIndex=0;;){const y=c4.exec(f),T=c4.lastIndex;let A=y[1];const N=y[2]==="]",k=y[3];if(N&&(A=A|0),k===void 0||k==="["&&T+2===_){N3(c,k===void 0?new jle(A,v,r):new qle(A,v,r));break}else{let j=c.map[A];j===void 0&&(j=new Xle(A),N3(c,j)),c=j}}}class X_{constructor(r,c){this.seq=[],this.map={};const f=r.getProgramParameter(c,r.ACTIVE_UNIFORMS);for(let _=0;_<f;++_){const y=r.getActiveUniform(c,_),T=r.getUniformLocation(c,y.name);$le(y,T,this)}}setValue(r,c,f,_){const y=this.map[c];y!==void 0&&y.setValue(r,f,_)}setOptional(r,c,f){const _=c[f];_!==void 0&&this.setValue(r,f,_)}static upload(r,c,f,_){for(let y=0,T=c.length;y!==T;++y){const A=c[y],N=f[A.id];N.needsUpdate!==!1&&A.setValue(r,N.value,_)}}static seqWithValue(r,c){const f=[];for(let _=0,y=r.length;_!==y;++_){const T=r[_];T.id in c&&f.push(T)}return f}}function b3(v,r,c){const f=v.createShader(r);return v.shaderSource(f,c),v.compileShader(f),f}const Yle=37297;let Kle=0;function Zle(v,r){const c=v.split(`
`),f=[],_=Math.max(r-6,0),y=Math.min(r+6,c.length);for(let T=_;T<y;T++){const A=T+1;f.push(`${A===r?">":" "} ${A}: ${c[T]}`)}return f.join(`
`)}const D3=new Pi;function Qle(v){fi._getMatrix(D3,fi.workingColorSpace,v);const r=`mat3( ${D3.elements.map(c=>c.toFixed(4))} )`;switch(fi.getTransfer(v)){case Nl:return[r,"LinearTransferOETF"];case N0:return[r,"sRGBTransferOETF"];default:return jt("WebGLProgram: Unsupported color space: ",v),[r,"LinearTransferOETF"]}}function I3(v,r,c){const f=v.getShaderParameter(r,v.COMPILE_STATUS),y=(v.getShaderInfoLog(r)||"").trim();if(f&&y==="")return"";const T=/ERROR: 0:(\d+)/.exec(y);if(T){const A=parseInt(T[1]);return c.toUpperCase()+`

`+y+`

`+Zle(v.getShaderSource(r),A)}else return y}function Jle(v,r){const c=Qle(r);return[`vec4 ${v}( vec4 value ) {`,`	return ${c[1]}( vec4( value.rgb * ${c[0]}, value.a ) );`,"}"].join(`
`)}function eue(v,r){let c;switch(r){case Ag:c="Linear";break;case Eg:c="Reinhard";break;case Ng:c="Cineon";break;case bg:c="ACESFilmic";break;case Dg:c="AgX";break;case Ig:c="Neutral";break;case hse:c="Custom";break;default:jt("WebGLProgram: Unsupported toneMapping:",r),c="Linear"}return"vec3 "+v+"( vec3 color ) { return "+c+"ToneMapping( color ); }"}const R_=new at;function tue(){fi.getLuminanceCoefficients(R_);const v=R_.x.toFixed(4),r=R_.y.toFixed(4),c=R_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${v}, ${r}, ${c} );`,"	return dot( weights, rgb );","}"].join(`
`)}function iue(v){return[v.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",v.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Du).join(`
`)}function nue(v){const r=[];for(const c in v){const f=v[c];f!==!1&&r.push("#define "+c+" "+f)}return r.join(`
`)}function rue(v,r){const c={},f=v.getProgramParameter(r,v.ACTIVE_ATTRIBUTES);for(let _=0;_<f;_++){const y=v.getActiveAttrib(r,_),T=y.name;let A=1;y.type===v.FLOAT_MAT2&&(A=2),y.type===v.FLOAT_MAT3&&(A=3),y.type===v.FLOAT_MAT4&&(A=4),c[T]={type:y.type,location:v.getAttribLocation(r,T),locationSize:A}}return c}function Du(v){return v!==""}function P3(v,r){const c=r.numSpotLightShadows+r.numSpotLightMaps-r.numSpotLightShadowsWithMaps;return v.replace(/NUM_DIR_LIGHTS/g,r.numDirLights).replace(/NUM_SPOT_LIGHTS/g,r.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,r.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,c).replace(/NUM_RECT_AREA_LIGHTS/g,r.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,r.numPointLights).replace(/NUM_HEMI_LIGHTS/g,r.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,r.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,r.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,r.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,r.numPointLightShadows)}function L3(v,r){return v.replace(/NUM_CLIPPING_PLANES/g,r.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,r.numClippingPlanes-r.numClipIntersection)}const sue=/^[ \t]*#include +<([\w\d./]+)>/gm;function K4(v){return v.replace(sue,aue)}const oue=new Map;function aue(v,r){let c=Ki[r];if(c===void 0){const f=oue.get(r);if(f!==void 0)c=Ki[f],jt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',r,f);else throw new Error("Can not resolve #include <"+r+">")}return K4(c)}const cue=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function k3(v){return v.replace(cue,lue)}function lue(v,r,c,f){let _="";for(let y=parseInt(r);y<parseInt(c);y++)_+=f.replace(/\[\s*i\s*\]/g,"[ "+y+" ]").replace(/UNROLLED_LOOP_INDEX/g,y);return _}function F3(v){let r=`precision ${v.precision} float;
	precision ${v.precision} int;
	precision ${v.precision} sampler2D;
	precision ${v.precision} samplerCube;
	precision ${v.precision} sampler3D;
	precision ${v.precision} sampler2DArray;
	precision ${v.precision} sampler2DShadow;
	precision ${v.precision} samplerCubeShadow;
	precision ${v.precision} sampler2DArrayShadow;
	precision ${v.precision} isampler2D;
	precision ${v.precision} isampler3D;
	precision ${v.precision} isamplerCube;
	precision ${v.precision} isampler2DArray;
	precision ${v.precision} usampler2D;
	precision ${v.precision} usampler3D;
	precision ${v.precision} usamplerCube;
	precision ${v.precision} usampler2DArray;
	`;return v.precision==="highp"?r+=`
#define HIGH_PRECISION`:v.precision==="mediump"?r+=`
#define MEDIUM_PRECISION`:v.precision==="lowp"&&(r+=`
#define LOW_PRECISION`),r}function uue(v){let r="SHADOWMAP_TYPE_BASIC";return v.shadowMapType===hd?r="SHADOWMAP_TYPE_PCF":v.shadowMapType===lse?r="SHADOWMAP_TYPE_PCF_SOFT":v.shadowMapType===Ns&&(r="SHADOWMAP_TYPE_VSM"),r}function fue(v){let r="ENVMAP_TYPE_CUBE";if(v.envMap)switch(v.envMapMode){case Go:case Vo:r="ENVMAP_TYPE_CUBE";break;case Ha:r="ENVMAP_TYPE_CUBE_UV";break}return r}function _ue(v){let r="ENVMAP_MODE_REFLECTION";if(v.envMap)switch(v.envMapMode){case Vo:r="ENVMAP_MODE_REFRACTION";break}return r}function pue(v){let r="ENVMAP_BLENDING_NONE";if(v.envMap)switch(v.combine){case mf:r="ENVMAP_BLENDING_MULTIPLY";break;case Mg:r="ENVMAP_BLENDING_MIX";break;case Rg:r="ENVMAP_BLENDING_ADD";break}return r}function hue(v){const r=v.envMapCubeUVHeight;if(r===null)return null;const c=Math.log2(r)-2,f=1/r;return{texelWidth:1/(3*Math.max(Math.pow(2,c),112)),texelHeight:f,maxMip:c}}function due(v,r,c,f){const _=v.getContext(),y=c.defines;let T=c.vertexShader,A=c.fragmentShader;const N=uue(c),k=fue(c),V=_ue(c),j=pue(c),K=hue(c),Q=iue(c),ie=nue(y),ce=_.createProgram();let ue,re,be=c.glslVersion?"#version "+c.glslVersion+`
`:"";c.isRawShaderMaterial?(ue=["#define SHADER_TYPE "+c.shaderType,"#define SHADER_NAME "+c.shaderName,ie].filter(Du).join(`
`),ue.length>0&&(ue+=`
`),re=["#define SHADER_TYPE "+c.shaderType,"#define SHADER_NAME "+c.shaderName,ie].filter(Du).join(`
`),re.length>0&&(re+=`
`)):(ue=[F3(c),"#define SHADER_TYPE "+c.shaderType,"#define SHADER_NAME "+c.shaderName,ie,c.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",c.batching?"#define USE_BATCHING":"",c.batchingColor?"#define USE_BATCHING_COLOR":"",c.instancing?"#define USE_INSTANCING":"",c.instancingColor?"#define USE_INSTANCING_COLOR":"",c.instancingMorph?"#define USE_INSTANCING_MORPH":"",c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+V:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",c.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",c.displacementMap?"#define USE_DISPLACEMENTMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.anisotropy?"#define USE_ANISOTROPY":"",c.anisotropyMap?"#define USE_ANISOTROPYMAP":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",c.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",c.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.alphaHash?"#define USE_ALPHAHASH":"",c.transmission?"#define USE_TRANSMISSION":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.thicknessMap?"#define USE_THICKNESSMAP":"",c.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",c.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",c.mapUv?"#define MAP_UV "+c.mapUv:"",c.alphaMapUv?"#define ALPHAMAP_UV "+c.alphaMapUv:"",c.lightMapUv?"#define LIGHTMAP_UV "+c.lightMapUv:"",c.aoMapUv?"#define AOMAP_UV "+c.aoMapUv:"",c.emissiveMapUv?"#define EMISSIVEMAP_UV "+c.emissiveMapUv:"",c.bumpMapUv?"#define BUMPMAP_UV "+c.bumpMapUv:"",c.normalMapUv?"#define NORMALMAP_UV "+c.normalMapUv:"",c.displacementMapUv?"#define DISPLACEMENTMAP_UV "+c.displacementMapUv:"",c.metalnessMapUv?"#define METALNESSMAP_UV "+c.metalnessMapUv:"",c.roughnessMapUv?"#define ROUGHNESSMAP_UV "+c.roughnessMapUv:"",c.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+c.anisotropyMapUv:"",c.clearcoatMapUv?"#define CLEARCOATMAP_UV "+c.clearcoatMapUv:"",c.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+c.clearcoatNormalMapUv:"",c.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+c.clearcoatRoughnessMapUv:"",c.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+c.iridescenceMapUv:"",c.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+c.iridescenceThicknessMapUv:"",c.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+c.sheenColorMapUv:"",c.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+c.sheenRoughnessMapUv:"",c.specularMapUv?"#define SPECULARMAP_UV "+c.specularMapUv:"",c.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+c.specularColorMapUv:"",c.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+c.specularIntensityMapUv:"",c.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+c.transmissionMapUv:"",c.thicknessMapUv?"#define THICKNESSMAP_UV "+c.thicknessMapUv:"",c.vertexTangents&&c.flatShading===!1?"#define USE_TANGENT":"",c.vertexColors?"#define USE_COLOR":"",c.vertexAlphas?"#define USE_COLOR_ALPHA":"",c.vertexUv1s?"#define USE_UV1":"",c.vertexUv2s?"#define USE_UV2":"",c.vertexUv3s?"#define USE_UV3":"",c.pointsUvs?"#define USE_POINTS_UV":"",c.flatShading?"#define FLAT_SHADED":"",c.skinning?"#define USE_SKINNING":"",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals&&c.flatShading===!1?"#define USE_MORPHNORMALS":"",c.morphColors?"#define USE_MORPHCOLORS":"",c.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+c.morphTextureStride:"",c.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+c.morphTargetsCount:"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+N:"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",c.numLightProbes>0?"#define USE_LIGHT_PROBES":"",c.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",c.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Du).join(`
`),re=[F3(c),"#define SHADER_TYPE "+c.shaderType,"#define SHADER_NAME "+c.shaderName,ie,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",c.map?"#define USE_MAP":"",c.matcap?"#define USE_MATCAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+k:"",c.envMap?"#define "+V:"",c.envMap?"#define "+j:"",K?"#define CUBEUV_TEXEL_WIDTH "+K.texelWidth:"",K?"#define CUBEUV_TEXEL_HEIGHT "+K.texelHeight:"",K?"#define CUBEUV_MAX_MIP "+K.maxMip+".0":"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",c.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.anisotropy?"#define USE_ANISOTROPY":"",c.anisotropyMap?"#define USE_ANISOTROPYMAP":"",c.clearcoat?"#define USE_CLEARCOAT":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.dispersion?"#define USE_DISPERSION":"",c.iridescence?"#define USE_IRIDESCENCE":"",c.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",c.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",c.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.alphaTest?"#define USE_ALPHATEST":"",c.alphaHash?"#define USE_ALPHAHASH":"",c.sheen?"#define USE_SHEEN":"",c.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",c.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",c.transmission?"#define USE_TRANSMISSION":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.thicknessMap?"#define USE_THICKNESSMAP":"",c.vertexTangents&&c.flatShading===!1?"#define USE_TANGENT":"",c.vertexColors||c.instancingColor||c.batchingColor?"#define USE_COLOR":"",c.vertexAlphas?"#define USE_COLOR_ALPHA":"",c.vertexUv1s?"#define USE_UV1":"",c.vertexUv2s?"#define USE_UV2":"",c.vertexUv3s?"#define USE_UV3":"",c.pointsUvs?"#define USE_POINTS_UV":"",c.gradientMap?"#define USE_GRADIENTMAP":"",c.flatShading?"#define FLAT_SHADED":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+N:"",c.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",c.numLightProbes>0?"#define USE_LIGHT_PROBES":"",c.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",c.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",c.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",c.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",c.toneMapping!==Jr?"#define TONE_MAPPING":"",c.toneMapping!==Jr?Ki.tonemapping_pars_fragment:"",c.toneMapping!==Jr?eue("toneMapping",c.toneMapping):"",c.dithering?"#define DITHERING":"",c.opaque?"#define OPAQUE":"",Ki.colorspace_pars_fragment,Jle("linearToOutputTexel",c.outputColorSpace),tue(),c.useDepthPacking?"#define DEPTH_PACKING "+c.depthPacking:"",`
`].filter(Du).join(`
`)),T=K4(T),T=P3(T,c),T=L3(T,c),A=K4(A),A=P3(A,c),A=L3(A,c),T=k3(T),A=k3(A),c.isRawShaderMaterial!==!0&&(be=`#version 300 es
`,ue=[Q,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+ue,re=["#define varying in",c.glslVersion===Bm?"":"layout(location = 0) out highp vec4 pc_fragColor;",c.glslVersion===Bm?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+re);const De=be+ue+T,Oe=be+re+A,je=b3(_,_.VERTEX_SHADER,De),Be=b3(_,_.FRAGMENT_SHADER,Oe);_.attachShader(ce,je),_.attachShader(ce,Be),c.index0AttributeName!==void 0?_.bindAttribLocation(ce,0,c.index0AttributeName):c.morphTargets===!0&&_.bindAttribLocation(ce,0,"position"),_.linkProgram(ce);function We(Je){if(v.debug.checkShaderErrors){const ft=_.getProgramInfoLog(ce)||"",yt=_.getShaderInfoLog(je)||"",Et=_.getShaderInfoLog(Be)||"",Dt=ft.trim(),ct=yt.trim(),Wt=Et.trim();let vt=!0,Ht=!0;if(_.getProgramParameter(ce,_.LINK_STATUS)===!1)if(vt=!1,typeof v.debug.onShaderError=="function")v.debug.onShaderError(_,ce,je,Be);else{const Qt=I3(_,je,"vertex"),a0=I3(_,Be,"fragment");r0("THREE.WebGLProgram: Shader Error "+_.getError()+" - VALIDATE_STATUS "+_.getProgramParameter(ce,_.VALIDATE_STATUS)+`

Material Name: `+Je.name+`
Material Type: `+Je.type+`

Program Info Log: `+Dt+`
`+Qt+`
`+a0)}else Dt!==""?jt("WebGLProgram: Program Info Log:",Dt):(ct===""||Wt==="")&&(Ht=!1);Ht&&(Je.diagnostics={runnable:vt,programLog:Dt,vertexShader:{log:ct,prefix:ue},fragmentShader:{log:Wt,prefix:re}})}_.deleteShader(je),_.deleteShader(Be),$e=new X_(_,ce),Ee=rue(_,ce)}let $e;this.getUniforms=function(){return $e===void 0&&We(this),$e};let Ee;this.getAttributes=function(){return Ee===void 0&&We(this),Ee};let Ie=c.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return Ie===!1&&(Ie=_.getProgramParameter(ce,Yle)),Ie},this.destroy=function(){f.releaseStatesOfProgram(this),_.deleteProgram(ce),this.program=void 0},this.type=c.shaderType,this.name=c.shaderName,this.id=Kle++,this.cacheKey=r,this.usedTimes=1,this.program=ce,this.vertexShader=je,this.fragmentShader=Be,this}let mue=0;class gue{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(r){const c=r.vertexShader,f=r.fragmentShader,_=this._getShaderStage(c),y=this._getShaderStage(f),T=this._getShaderCacheForMaterial(r);return T.has(_)===!1&&(T.add(_),_.usedTimes++),T.has(y)===!1&&(T.add(y),y.usedTimes++),this}remove(r){const c=this.materialCache.get(r);for(const f of c)f.usedTimes--,f.usedTimes===0&&this.shaderCache.delete(f.code);return this.materialCache.delete(r),this}getVertexShaderID(r){return this._getShaderStage(r.vertexShader).id}getFragmentShaderID(r){return this._getShaderStage(r.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(r){const c=this.materialCache;let f=c.get(r);return f===void 0&&(f=new Set,c.set(r,f)),f}_getShaderStage(r){const c=this.shaderCache;let f=c.get(r);return f===void 0&&(f=new xue(r),c.set(r,f)),f}}class xue{constructor(r){this.id=mue++,this.code=r,this.usedTimes=0}}function yue(v,r,c,f,_,y,T){const A=new kg,N=new gue,k=new Set,V=[],j=_.logarithmicDepthBuffer,K=_.vertexTextures;let Q=_.precision;const ie={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function ce(Ee){return k.add(Ee),Ee===0?"uv":`uv${Ee}`}function ue(Ee,Ie,Je,ft,yt){const Et=ft.fog,Dt=yt.geometry,ct=Ee.isMeshStandardMaterial?ft.environment:null,Wt=(Ee.isMeshStandardMaterial?c:r).get(Ee.envMap||ct),vt=Wt&&Wt.mapping===Ha?Wt.image.height:null,Ht=ie[Ee.type];Ee.precision!==null&&(Q=_.getMaxPrecision(Ee.precision),Q!==Ee.precision&&jt("WebGLProgram.getParameters:",Ee.precision,"not supported, using",Q,"instead."));const Qt=Dt.morphAttributes.position||Dt.morphAttributes.normal||Dt.morphAttributes.color,a0=Qt!==void 0?Qt.length:0;let O0=0;Dt.morphAttributes.position!==void 0&&(O0=1),Dt.morphAttributes.normal!==void 0&&(O0=2),Dt.morphAttributes.color!==void 0&&(O0=3);let T0,w0,y0,dt;if(Ht){const Gi=Fo[Ht];T0=Gi.vertexShader,w0=Gi.fragmentShader}else T0=Ee.vertexShader,w0=Ee.fragmentShader,N.update(Ee),y0=N.getVertexShaderID(Ee),dt=N.getFragmentShaderID(Ee);const wt=v.getRenderTarget(),e0=v.state.buffers.depth.getReversed(),B0=yt.isInstancedMesh===!0,A0=yt.isBatchedMesh===!0,Bi=!!Ee.map,M2=!!Ee.matcap,J0=!!Wt,Fn=!!Ee.aoMap,tt=!!Ee.lightMap,ki=!!Ee.bumpMap,qi=!!Ee.normalMap,wn=!!Ee.displacementMap,b0=!!Ee.emissiveMap,Bn=!!Ee.metalnessMap,ri=!!Ee.roughnessMap,si=Ee.anisotropy>0,Ye=Ee.clearcoat>0,Pe=Ee.dispersion>0,St=Ee.iridescence>0,Yt=Ee.sheen>0,Jt=Ee.transmission>0,Ut=si&&!!Ee.anisotropyMap,V0=Ye&&!!Ee.clearcoatMap,g0=Ye&&!!Ee.clearcoatNormalMap,ai=Ye&&!!Ee.clearcoatRoughnessMap,X0=St&&!!Ee.iridescenceMap,t0=St&&!!Ee.iridescenceThicknessMap,c0=Yt&&!!Ee.sheenColorMap,yi=Yt&&!!Ee.sheenRoughnessMap,ci=!!Ee.specularMap,D0=!!Ee.specularColorMap,Si=!!Ee.specularIntensityMap,nt=Jt&&!!Ee.transmissionMap,S0=Jt&&!!Ee.thicknessMap,d0=!!Ee.gradientMap,m0=!!Ee.alphaMap,s0=Ee.alphaTest>0,Zt=!!Ee.alphaHash,z0=!!Ee.extensions;let Ai=Jr;Ee.toneMapped&&(wt===null||wt.isXRRenderTarget===!0)&&(Ai=v.toneMapping);const yn={shaderID:Ht,shaderType:Ee.type,shaderName:Ee.name,vertexShader:T0,fragmentShader:w0,defines:Ee.defines,customVertexShaderID:y0,customFragmentShaderID:dt,isRawShaderMaterial:Ee.isRawShaderMaterial===!0,glslVersion:Ee.glslVersion,precision:Q,batching:A0,batchingColor:A0&&yt._colorsTexture!==null,instancing:B0,instancingColor:B0&&yt.instanceColor!==null,instancingMorph:B0&&yt.morphTexture!==null,supportsVertexTextures:K,outputColorSpace:wt===null?v.outputColorSpace:wt.isXRRenderTarget===!0?wt.texture.colorSpace:qa,alphaToCoverage:!!Ee.alphaToCoverage,map:Bi,matcap:M2,envMap:J0,envMapMode:J0&&Wt.mapping,envMapCubeUVHeight:vt,aoMap:Fn,lightMap:tt,bumpMap:ki,normalMap:qi,displacementMap:K&&wn,emissiveMap:b0,normalMapObjectSpace:qi&&Ee.normalMapType===Pg,normalMapTangentSpace:qi&&Ee.normalMapType===M1,metalnessMap:Bn,roughnessMap:ri,anisotropy:si,anisotropyMap:Ut,clearcoat:Ye,clearcoatMap:V0,clearcoatNormalMap:g0,clearcoatRoughnessMap:ai,dispersion:Pe,iridescence:St,iridescenceMap:X0,iridescenceThicknessMap:t0,sheen:Yt,sheenColorMap:c0,sheenRoughnessMap:yi,specularMap:ci,specularColorMap:D0,specularIntensityMap:Si,transmission:Jt,transmissionMap:nt,thicknessMap:S0,gradientMap:d0,opaque:Ee.transparent===!1&&Ee.blending===Ds&&Ee.alphaToCoverage===!1,alphaMap:m0,alphaTest:s0,alphaHash:Zt,combine:Ee.combine,mapUv:Bi&&ce(Ee.map.channel),aoMapUv:Fn&&ce(Ee.aoMap.channel),lightMapUv:tt&&ce(Ee.lightMap.channel),bumpMapUv:ki&&ce(Ee.bumpMap.channel),normalMapUv:qi&&ce(Ee.normalMap.channel),displacementMapUv:wn&&ce(Ee.displacementMap.channel),emissiveMapUv:b0&&ce(Ee.emissiveMap.channel),metalnessMapUv:Bn&&ce(Ee.metalnessMap.channel),roughnessMapUv:ri&&ce(Ee.roughnessMap.channel),anisotropyMapUv:Ut&&ce(Ee.anisotropyMap.channel),clearcoatMapUv:V0&&ce(Ee.clearcoatMap.channel),clearcoatNormalMapUv:g0&&ce(Ee.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ai&&ce(Ee.clearcoatRoughnessMap.channel),iridescenceMapUv:X0&&ce(Ee.iridescenceMap.channel),iridescenceThicknessMapUv:t0&&ce(Ee.iridescenceThicknessMap.channel),sheenColorMapUv:c0&&ce(Ee.sheenColorMap.channel),sheenRoughnessMapUv:yi&&ce(Ee.sheenRoughnessMap.channel),specularMapUv:ci&&ce(Ee.specularMap.channel),specularColorMapUv:D0&&ce(Ee.specularColorMap.channel),specularIntensityMapUv:Si&&ce(Ee.specularIntensityMap.channel),transmissionMapUv:nt&&ce(Ee.transmissionMap.channel),thicknessMapUv:S0&&ce(Ee.thicknessMap.channel),alphaMapUv:m0&&ce(Ee.alphaMap.channel),vertexTangents:!!Dt.attributes.tangent&&(qi||si),vertexColors:Ee.vertexColors,vertexAlphas:Ee.vertexColors===!0&&!!Dt.attributes.color&&Dt.attributes.color.itemSize===4,pointsUvs:yt.isPoints===!0&&!!Dt.attributes.uv&&(Bi||m0),fog:!!Et,useFog:Ee.fog===!0,fogExp2:!!Et&&Et.isFogExp2,flatShading:Ee.flatShading===!0&&Ee.wireframe===!1,sizeAttenuation:Ee.sizeAttenuation===!0,logarithmicDepthBuffer:j,reversedDepthBuffer:e0,skinning:yt.isSkinnedMesh===!0,morphTargets:Dt.morphAttributes.position!==void 0,morphNormals:Dt.morphAttributes.normal!==void 0,morphColors:Dt.morphAttributes.color!==void 0,morphTargetsCount:a0,morphTextureStride:O0,numDirLights:Ie.directional.length,numPointLights:Ie.point.length,numSpotLights:Ie.spot.length,numSpotLightMaps:Ie.spotLightMap.length,numRectAreaLights:Ie.rectArea.length,numHemiLights:Ie.hemi.length,numDirLightShadows:Ie.directionalShadowMap.length,numPointLightShadows:Ie.pointShadowMap.length,numSpotLightShadows:Ie.spotShadowMap.length,numSpotLightShadowsWithMaps:Ie.numSpotLightShadowsWithMaps,numLightProbes:Ie.numLightProbes,numClippingPlanes:T.numPlanes,numClipIntersection:T.numIntersection,dithering:Ee.dithering,shadowMapEnabled:v.shadowMap.enabled&&Je.length>0,shadowMapType:v.shadowMap.type,toneMapping:Ai,decodeVideoTexture:Bi&&Ee.map.isVideoTexture===!0&&fi.getTransfer(Ee.map.colorSpace)===N0,decodeVideoTextureEmissive:b0&&Ee.emissiveMap.isVideoTexture===!0&&fi.getTransfer(Ee.emissiveMap.colorSpace)===N0,premultipliedAlpha:Ee.premultipliedAlpha,doubleSided:Ee.side===Ar,flipSided:Ee.side===Kn,useDepthPacking:Ee.depthPacking>=0,depthPacking:Ee.depthPacking||0,index0AttributeName:Ee.index0AttributeName,extensionClipCullDistance:z0&&Ee.extensions.clipCullDistance===!0&&f.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(z0&&Ee.extensions.multiDraw===!0||A0)&&f.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:f.has("KHR_parallel_shader_compile"),customProgramCacheKey:Ee.customProgramCacheKey()};return yn.vertexUv1s=k.has(1),yn.vertexUv2s=k.has(2),yn.vertexUv3s=k.has(3),k.clear(),yn}function re(Ee){const Ie=[];if(Ee.shaderID?Ie.push(Ee.shaderID):(Ie.push(Ee.customVertexShaderID),Ie.push(Ee.customFragmentShaderID)),Ee.defines!==void 0)for(const Je in Ee.defines)Ie.push(Je),Ie.push(Ee.defines[Je]);return Ee.isRawShaderMaterial===!1&&(be(Ie,Ee),De(Ie,Ee),Ie.push(v.outputColorSpace)),Ie.push(Ee.customProgramCacheKey),Ie.join()}function be(Ee,Ie){Ee.push(Ie.precision),Ee.push(Ie.outputColorSpace),Ee.push(Ie.envMapMode),Ee.push(Ie.envMapCubeUVHeight),Ee.push(Ie.mapUv),Ee.push(Ie.alphaMapUv),Ee.push(Ie.lightMapUv),Ee.push(Ie.aoMapUv),Ee.push(Ie.bumpMapUv),Ee.push(Ie.normalMapUv),Ee.push(Ie.displacementMapUv),Ee.push(Ie.emissiveMapUv),Ee.push(Ie.metalnessMapUv),Ee.push(Ie.roughnessMapUv),Ee.push(Ie.anisotropyMapUv),Ee.push(Ie.clearcoatMapUv),Ee.push(Ie.clearcoatNormalMapUv),Ee.push(Ie.clearcoatRoughnessMapUv),Ee.push(Ie.iridescenceMapUv),Ee.push(Ie.iridescenceThicknessMapUv),Ee.push(Ie.sheenColorMapUv),Ee.push(Ie.sheenRoughnessMapUv),Ee.push(Ie.specularMapUv),Ee.push(Ie.specularColorMapUv),Ee.push(Ie.specularIntensityMapUv),Ee.push(Ie.transmissionMapUv),Ee.push(Ie.thicknessMapUv),Ee.push(Ie.combine),Ee.push(Ie.fogExp2),Ee.push(Ie.sizeAttenuation),Ee.push(Ie.morphTargetsCount),Ee.push(Ie.morphAttributeCount),Ee.push(Ie.numDirLights),Ee.push(Ie.numPointLights),Ee.push(Ie.numSpotLights),Ee.push(Ie.numSpotLightMaps),Ee.push(Ie.numHemiLights),Ee.push(Ie.numRectAreaLights),Ee.push(Ie.numDirLightShadows),Ee.push(Ie.numPointLightShadows),Ee.push(Ie.numSpotLightShadows),Ee.push(Ie.numSpotLightShadowsWithMaps),Ee.push(Ie.numLightProbes),Ee.push(Ie.shadowMapType),Ee.push(Ie.toneMapping),Ee.push(Ie.numClippingPlanes),Ee.push(Ie.numClipIntersection),Ee.push(Ie.depthPacking)}function De(Ee,Ie){A.disableAll(),Ie.supportsVertexTextures&&A.enable(0),Ie.instancing&&A.enable(1),Ie.instancingColor&&A.enable(2),Ie.instancingMorph&&A.enable(3),Ie.matcap&&A.enable(4),Ie.envMap&&A.enable(5),Ie.normalMapObjectSpace&&A.enable(6),Ie.normalMapTangentSpace&&A.enable(7),Ie.clearcoat&&A.enable(8),Ie.iridescence&&A.enable(9),Ie.alphaTest&&A.enable(10),Ie.vertexColors&&A.enable(11),Ie.vertexAlphas&&A.enable(12),Ie.vertexUv1s&&A.enable(13),Ie.vertexUv2s&&A.enable(14),Ie.vertexUv3s&&A.enable(15),Ie.vertexTangents&&A.enable(16),Ie.anisotropy&&A.enable(17),Ie.alphaHash&&A.enable(18),Ie.batching&&A.enable(19),Ie.dispersion&&A.enable(20),Ie.batchingColor&&A.enable(21),Ie.gradientMap&&A.enable(22),Ee.push(A.mask),A.disableAll(),Ie.fog&&A.enable(0),Ie.useFog&&A.enable(1),Ie.flatShading&&A.enable(2),Ie.logarithmicDepthBuffer&&A.enable(3),Ie.reversedDepthBuffer&&A.enable(4),Ie.skinning&&A.enable(5),Ie.morphTargets&&A.enable(6),Ie.morphNormals&&A.enable(7),Ie.morphColors&&A.enable(8),Ie.premultipliedAlpha&&A.enable(9),Ie.shadowMapEnabled&&A.enable(10),Ie.doubleSided&&A.enable(11),Ie.flipSided&&A.enable(12),Ie.useDepthPacking&&A.enable(13),Ie.dithering&&A.enable(14),Ie.transmission&&A.enable(15),Ie.sheen&&A.enable(16),Ie.opaque&&A.enable(17),Ie.pointsUvs&&A.enable(18),Ie.decodeVideoTexture&&A.enable(19),Ie.decodeVideoTextureEmissive&&A.enable(20),Ie.alphaToCoverage&&A.enable(21),Ee.push(A.mask)}function Oe(Ee){const Ie=ie[Ee.type];let Je;if(Ie){const ft=Fo[Ie];Je=doe.clone(ft.uniforms)}else Je=Ee.uniforms;return Je}function je(Ee,Ie){let Je;for(let ft=0,yt=V.length;ft<yt;ft++){const Et=V[ft];if(Et.cacheKey===Ie){Je=Et,++Je.usedTimes;break}}return Je===void 0&&(Je=new due(v,Ie,Ee,y),V.push(Je)),Je}function Be(Ee){if(--Ee.usedTimes===0){const Ie=V.indexOf(Ee);V[Ie]=V[V.length-1],V.pop(),Ee.destroy()}}function We(Ee){N.remove(Ee)}function $e(){N.dispose()}return{getParameters:ue,getProgramCacheKey:re,getUniforms:Oe,acquireProgram:je,releaseProgram:Be,releaseShaderCache:We,programs:V,dispose:$e}}function vue(){let v=new WeakMap;function r(T){return v.has(T)}function c(T){let A=v.get(T);return A===void 0&&(A={},v.set(T,A)),A}function f(T){v.delete(T)}function _(T,A,N){v.get(T)[A]=N}function y(){v=new WeakMap}return{has:r,get:c,remove:f,update:_,dispose:y}}function Sue(v,r){return v.groupOrder!==r.groupOrder?v.groupOrder-r.groupOrder:v.renderOrder!==r.renderOrder?v.renderOrder-r.renderOrder:v.material.id!==r.material.id?v.material.id-r.material.id:v.z!==r.z?v.z-r.z:v.id-r.id}function B3(v,r){return v.groupOrder!==r.groupOrder?v.groupOrder-r.groupOrder:v.renderOrder!==r.renderOrder?v.renderOrder-r.renderOrder:v.z!==r.z?r.z-v.z:v.id-r.id}function U3(){const v=[];let r=0;const c=[],f=[],_=[];function y(){r=0,c.length=0,f.length=0,_.length=0}function T(j,K,Q,ie,ce,ue){let re=v[r];return re===void 0?(re={id:j.id,object:j,geometry:K,material:Q,groupOrder:ie,renderOrder:j.renderOrder,z:ce,group:ue},v[r]=re):(re.id=j.id,re.object=j,re.geometry=K,re.material=Q,re.groupOrder=ie,re.renderOrder=j.renderOrder,re.z=ce,re.group=ue),r++,re}function A(j,K,Q,ie,ce,ue){const re=T(j,K,Q,ie,ce,ue);Q.transmission>0?f.push(re):Q.transparent===!0?_.push(re):c.push(re)}function N(j,K,Q,ie,ce,ue){const re=T(j,K,Q,ie,ce,ue);Q.transmission>0?f.unshift(re):Q.transparent===!0?_.unshift(re):c.unshift(re)}function k(j,K){c.length>1&&c.sort(j||Sue),f.length>1&&f.sort(K||B3),_.length>1&&_.sort(K||B3)}function V(){for(let j=r,K=v.length;j<K;j++){const Q=v[j];if(Q.id===null)break;Q.id=null,Q.object=null,Q.geometry=null,Q.material=null,Q.group=null}}return{opaque:c,transmissive:f,transparent:_,init:y,push:A,unshift:N,finish:V,sort:k}}function Cue(){let v=new WeakMap;function r(f,_){const y=v.get(f);let T;return y===void 0?(T=new U3,v.set(f,[T])):_>=y.length?(T=new U3,y.push(T)):T=y[_],T}function c(){v=new WeakMap}return{get:r,dispose:c}}function Tue(){const v={};return{get:function(r){if(v[r.id]!==void 0)return v[r.id];let c;switch(r.type){case"DirectionalLight":c={direction:new at,color:new ni};break;case"SpotLight":c={position:new at,direction:new at,color:new ni,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":c={position:new at,color:new ni,distance:0,decay:0};break;case"HemisphereLight":c={direction:new at,skyColor:new ni,groundColor:new ni};break;case"RectAreaLight":c={color:new ni,position:new at,halfWidth:new at,halfHeight:new at};break}return v[r.id]=c,c}}}function wue(){const v={};return{get:function(r){if(v[r.id]!==void 0)return v[r.id];let c;switch(r.type){case"DirectionalLight":c={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _i};break;case"SpotLight":c={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _i};break;case"PointLight":c={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _i,shadowCameraNear:1,shadowCameraFar:1e3};break}return v[r.id]=c,c}}}let Mue=0;function Rue(v,r){return(r.castShadow?2:0)-(v.castShadow?2:0)+(r.map?1:0)-(v.map?1:0)}function Aue(v){const r=new Tue,c=wue(),f={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let k=0;k<9;k++)f.probe.push(new at);const _=new at,y=new Ri,T=new Ri;function A(k){let V=0,j=0,K=0;for(let Ee=0;Ee<9;Ee++)f.probe[Ee].set(0,0,0);let Q=0,ie=0,ce=0,ue=0,re=0,be=0,De=0,Oe=0,je=0,Be=0,We=0;k.sort(Rue);for(let Ee=0,Ie=k.length;Ee<Ie;Ee++){const Je=k[Ee],ft=Je.color,yt=Je.intensity,Et=Je.distance,Dt=Je.shadow&&Je.shadow.map?Je.shadow.map.texture:null;if(Je.isAmbientLight)V+=ft.r*yt,j+=ft.g*yt,K+=ft.b*yt;else if(Je.isLightProbe){for(let ct=0;ct<9;ct++)f.probe[ct].addScaledVector(Je.sh.coefficients[ct],yt);We++}else if(Je.isDirectionalLight){const ct=r.get(Je);if(ct.color.copy(Je.color).multiplyScalar(Je.intensity),Je.castShadow){const Wt=Je.shadow,vt=c.get(Je);vt.shadowIntensity=Wt.intensity,vt.shadowBias=Wt.bias,vt.shadowNormalBias=Wt.normalBias,vt.shadowRadius=Wt.radius,vt.shadowMapSize=Wt.mapSize,f.directionalShadow[Q]=vt,f.directionalShadowMap[Q]=Dt,f.directionalShadowMatrix[Q]=Je.shadow.matrix,be++}f.directional[Q]=ct,Q++}else if(Je.isSpotLight){const ct=r.get(Je);ct.position.setFromMatrixPosition(Je.matrixWorld),ct.color.copy(ft).multiplyScalar(yt),ct.distance=Et,ct.coneCos=Math.cos(Je.angle),ct.penumbraCos=Math.cos(Je.angle*(1-Je.penumbra)),ct.decay=Je.decay,f.spot[ce]=ct;const Wt=Je.shadow;if(Je.map&&(f.spotLightMap[je]=Je.map,je++,Wt.updateMatrices(Je),Je.castShadow&&Be++),f.spotLightMatrix[ce]=Wt.matrix,Je.castShadow){const vt=c.get(Je);vt.shadowIntensity=Wt.intensity,vt.shadowBias=Wt.bias,vt.shadowNormalBias=Wt.normalBias,vt.shadowRadius=Wt.radius,vt.shadowMapSize=Wt.mapSize,f.spotShadow[ce]=vt,f.spotShadowMap[ce]=Dt,Oe++}ce++}else if(Je.isRectAreaLight){const ct=r.get(Je);ct.color.copy(ft).multiplyScalar(yt),ct.halfWidth.set(Je.width*.5,0,0),ct.halfHeight.set(0,Je.height*.5,0),f.rectArea[ue]=ct,ue++}else if(Je.isPointLight){const ct=r.get(Je);if(ct.color.copy(Je.color).multiplyScalar(Je.intensity),ct.distance=Je.distance,ct.decay=Je.decay,Je.castShadow){const Wt=Je.shadow,vt=c.get(Je);vt.shadowIntensity=Wt.intensity,vt.shadowBias=Wt.bias,vt.shadowNormalBias=Wt.normalBias,vt.shadowRadius=Wt.radius,vt.shadowMapSize=Wt.mapSize,vt.shadowCameraNear=Wt.camera.near,vt.shadowCameraFar=Wt.camera.far,f.pointShadow[ie]=vt,f.pointShadowMap[ie]=Dt,f.pointShadowMatrix[ie]=Je.shadow.matrix,De++}f.point[ie]=ct,ie++}else if(Je.isHemisphereLight){const ct=r.get(Je);ct.skyColor.copy(Je.color).multiplyScalar(yt),ct.groundColor.copy(Je.groundColor).multiplyScalar(yt),f.hemi[re]=ct,re++}}ue>0&&(v.has("OES_texture_float_linear")===!0?(f.rectAreaLTC1=R0.LTC_FLOAT_1,f.rectAreaLTC2=R0.LTC_FLOAT_2):(f.rectAreaLTC1=R0.LTC_HALF_1,f.rectAreaLTC2=R0.LTC_HALF_2)),f.ambient[0]=V,f.ambient[1]=j,f.ambient[2]=K;const $e=f.hash;($e.directionalLength!==Q||$e.pointLength!==ie||$e.spotLength!==ce||$e.rectAreaLength!==ue||$e.hemiLength!==re||$e.numDirectionalShadows!==be||$e.numPointShadows!==De||$e.numSpotShadows!==Oe||$e.numSpotMaps!==je||$e.numLightProbes!==We)&&(f.directional.length=Q,f.spot.length=ce,f.rectArea.length=ue,f.point.length=ie,f.hemi.length=re,f.directionalShadow.length=be,f.directionalShadowMap.length=be,f.pointShadow.length=De,f.pointShadowMap.length=De,f.spotShadow.length=Oe,f.spotShadowMap.length=Oe,f.directionalShadowMatrix.length=be,f.pointShadowMatrix.length=De,f.spotLightMatrix.length=Oe+je-Be,f.spotLightMap.length=je,f.numSpotLightShadowsWithMaps=Be,f.numLightProbes=We,$e.directionalLength=Q,$e.pointLength=ie,$e.spotLength=ce,$e.rectAreaLength=ue,$e.hemiLength=re,$e.numDirectionalShadows=be,$e.numPointShadows=De,$e.numSpotShadows=Oe,$e.numSpotMaps=je,$e.numLightProbes=We,f.version=Mue++)}function N(k,V){let j=0,K=0,Q=0,ie=0,ce=0;const ue=V.matrixWorldInverse;for(let re=0,be=k.length;re<be;re++){const De=k[re];if(De.isDirectionalLight){const Oe=f.directional[j];Oe.direction.setFromMatrixPosition(De.matrixWorld),_.setFromMatrixPosition(De.target.matrixWorld),Oe.direction.sub(_),Oe.direction.transformDirection(ue),j++}else if(De.isSpotLight){const Oe=f.spot[Q];Oe.position.setFromMatrixPosition(De.matrixWorld),Oe.position.applyMatrix4(ue),Oe.direction.setFromMatrixPosition(De.matrixWorld),_.setFromMatrixPosition(De.target.matrixWorld),Oe.direction.sub(_),Oe.direction.transformDirection(ue),Q++}else if(De.isRectAreaLight){const Oe=f.rectArea[ie];Oe.position.setFromMatrixPosition(De.matrixWorld),Oe.position.applyMatrix4(ue),T.identity(),y.copy(De.matrixWorld),y.premultiply(ue),T.extractRotation(y),Oe.halfWidth.set(De.width*.5,0,0),Oe.halfHeight.set(0,De.height*.5,0),Oe.halfWidth.applyMatrix4(T),Oe.halfHeight.applyMatrix4(T),ie++}else if(De.isPointLight){const Oe=f.point[K];Oe.position.setFromMatrixPosition(De.matrixWorld),Oe.position.applyMatrix4(ue),K++}else if(De.isHemisphereLight){const Oe=f.hemi[ce];Oe.direction.setFromMatrixPosition(De.matrixWorld),Oe.direction.transformDirection(ue),ce++}}}return{setup:A,setupView:N,state:f}}function O3(v){const r=new Aue(v),c=[],f=[];function _(V){k.camera=V,c.length=0,f.length=0}function y(V){c.push(V)}function T(V){f.push(V)}function A(){r.setup(c)}function N(V){r.setupView(c,V)}const k={lightsArray:c,shadowsArray:f,camera:null,lights:r,transmissionRenderTarget:{}};return{init:_,state:k,setupLights:A,setupLightsView:N,pushLight:y,pushShadow:T}}function Eue(v){let r=new WeakMap;function c(_,y=0){const T=r.get(_);let A;return T===void 0?(A=new O3(v),r.set(_,[A])):y>=T.length?(A=new O3(v),T.push(A)):A=T[y],A}function f(){r=new WeakMap}return{get:c,dispose:f}}const Nue=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,bue=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Due(v,r,c){let f=new Cf;const _=new _i,y=new _i,T=new hi,A=new Poe({depthPacking:yse}),N=new Loe,k={},V=c.maxTextureSize,j={[ys]:Kn,[Kn]:ys,[Ar]:Ar},K=new R1({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _i},radius:{value:4}},vertexShader:Nue,fragmentShader:bue}),Q=K.clone();Q.defines.HORIZONTAL_PASS=1;const ie=new ns;ie.setAttribute("position",new Or(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ce=new Q2(ie,K),ue=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=hd;let re=this.type;this.render=function(Be,We,$e){if(ue.enabled===!1||ue.autoUpdate===!1&&ue.needsUpdate===!1||Be.length===0)return;const Ee=v.getRenderTarget(),Ie=v.getActiveCubeFace(),Je=v.getActiveMipmapLevel(),ft=v.state;ft.setBlending(vs),ft.buffers.depth.getReversed()===!0?ft.buffers.color.setClear(0,0,0,0):ft.buffers.color.setClear(1,1,1,1),ft.buffers.depth.setTest(!0),ft.setScissorTest(!1);const yt=re!==Ns&&this.type===Ns,Et=re===Ns&&this.type!==Ns;for(let Dt=0,ct=Be.length;Dt<ct;Dt++){const Wt=Be[Dt],vt=Wt.shadow;if(vt===void 0){jt("WebGLShadowMap:",Wt,"has no shadow.");continue}if(vt.autoUpdate===!1&&vt.needsUpdate===!1)continue;_.copy(vt.mapSize);const Ht=vt.getFrameExtents();if(_.multiply(Ht),y.copy(vt.mapSize),(_.x>V||_.y>V)&&(_.x>V&&(y.x=Math.floor(V/Ht.x),_.x=y.x*Ht.x,vt.mapSize.x=y.x),_.y>V&&(y.y=Math.floor(V/Ht.y),_.y=y.y*Ht.y,vt.mapSize.y=y.y)),vt.map===null||yt===!0||Et===!0){const a0=this.type!==Ns?{minFilter:n2,magFilter:n2}:{};vt.map!==null&&vt.map.dispose(),vt.map=new $a(_.x,_.y,a0),vt.map.texture.name=Wt.name+".shadowMap",vt.camera.updateProjectionMatrix()}v.setRenderTarget(vt.map),v.clear();const Qt=vt.getViewportCount();for(let a0=0;a0<Qt;a0++){const O0=vt.getViewport(a0);T.set(y.x*O0.x,y.y*O0.y,y.x*O0.z,y.y*O0.w),ft.viewport(T),vt.updateMatrices(Wt,a0),f=vt.getFrustum(),Oe(We,$e,vt.camera,Wt,this.type)}vt.isPointLightShadow!==!0&&this.type===Ns&&be(vt,$e),vt.needsUpdate=!1}re=this.type,ue.needsUpdate=!1,v.setRenderTarget(Ee,Ie,Je)};function be(Be,We){const $e=r.update(ce);K.defines.VSM_SAMPLES!==Be.blurSamples&&(K.defines.VSM_SAMPLES=Be.blurSamples,Q.defines.VSM_SAMPLES=Be.blurSamples,K.needsUpdate=!0,Q.needsUpdate=!0),Be.mapPass===null&&(Be.mapPass=new $a(_.x,_.y)),K.uniforms.shadow_pass.value=Be.map.texture,K.uniforms.resolution.value=Be.mapSize,K.uniforms.radius.value=Be.radius,v.setRenderTarget(Be.mapPass),v.clear(),v.renderBufferDirect(We,null,$e,K,ce,null),Q.uniforms.shadow_pass.value=Be.mapPass.texture,Q.uniforms.resolution.value=Be.mapSize,Q.uniforms.radius.value=Be.radius,v.setRenderTarget(Be.map),v.clear(),v.renderBufferDirect(We,null,$e,Q,ce,null)}function De(Be,We,$e,Ee){let Ie=null;const Je=$e.isPointLight===!0?Be.customDistanceMaterial:Be.customDepthMaterial;if(Je!==void 0)Ie=Je;else if(Ie=$e.isPointLight===!0?N:A,v.localClippingEnabled&&We.clipShadows===!0&&Array.isArray(We.clippingPlanes)&&We.clippingPlanes.length!==0||We.displacementMap&&We.displacementScale!==0||We.alphaMap&&We.alphaTest>0||We.map&&We.alphaTest>0||We.alphaToCoverage===!0){const ft=Ie.uuid,yt=We.uuid;let Et=k[ft];Et===void 0&&(Et={},k[ft]=Et);let Dt=Et[yt];Dt===void 0&&(Dt=Ie.clone(),Et[yt]=Dt,We.addEventListener("dispose",je)),Ie=Dt}if(Ie.visible=We.visible,Ie.wireframe=We.wireframe,Ee===Ns?Ie.side=We.shadowSide!==null?We.shadowSide:We.side:Ie.side=We.shadowSide!==null?We.shadowSide:j[We.side],Ie.alphaMap=We.alphaMap,Ie.alphaTest=We.alphaToCoverage===!0?.5:We.alphaTest,Ie.map=We.map,Ie.clipShadows=We.clipShadows,Ie.clippingPlanes=We.clippingPlanes,Ie.clipIntersection=We.clipIntersection,Ie.displacementMap=We.displacementMap,Ie.displacementScale=We.displacementScale,Ie.displacementBias=We.displacementBias,Ie.wireframeLinewidth=We.wireframeLinewidth,Ie.linewidth=We.linewidth,$e.isPointLight===!0&&Ie.isMeshDistanceMaterial===!0){const ft=v.properties.get(Ie);ft.light=$e}return Ie}function Oe(Be,We,$e,Ee,Ie){if(Be.visible===!1)return;if(Be.layers.test(We.layers)&&(Be.isMesh||Be.isLine||Be.isPoints)&&(Be.castShadow||Be.receiveShadow&&Ie===Ns)&&(!Be.frustumCulled||f.intersectsObject(Be))){Be.modelViewMatrix.multiplyMatrices($e.matrixWorldInverse,Be.matrixWorld);const yt=r.update(Be),Et=Be.material;if(Array.isArray(Et)){const Dt=yt.groups;for(let ct=0,Wt=Dt.length;ct<Wt;ct++){const vt=Dt[ct],Ht=Et[vt.materialIndex];if(Ht&&Ht.visible){const Qt=De(Be,Ht,Ee,Ie);Be.onBeforeShadow(v,Be,We,$e,yt,Qt,vt),v.renderBufferDirect($e,null,yt,Qt,Be,vt),Be.onAfterShadow(v,Be,We,$e,yt,Qt,vt)}}}else if(Et.visible){const Dt=De(Be,Et,Ee,Ie);Be.onBeforeShadow(v,Be,We,$e,yt,Dt,null),v.renderBufferDirect($e,null,yt,Dt,Be,null),Be.onAfterShadow(v,Be,We,$e,yt,Dt,null)}}const ft=Be.children;for(let yt=0,Et=ft.length;yt<Et;yt++)Oe(ft[yt],We,$e,Ee,Ie)}function je(Be){Be.target.removeEventListener("dispose",je);for(const $e in k){const Ee=k[$e],Ie=Be.target.uuid;Ie in Ee&&(Ee[Ie].dispose(),delete Ee[Ie])}}}const Iue={[$u]:Yu,[Ku]:Ju,[Zu]:ef,[na]:Qu,[Yu]:$u,[Ju]:Ku,[ef]:Zu,[Qu]:na};function Pue(v,r){function c(){let nt=!1;const S0=new hi;let d0=null;const m0=new hi(0,0,0,0);return{setMask:function(s0){d0!==s0&&!nt&&(v.colorMask(s0,s0,s0,s0),d0=s0)},setLocked:function(s0){nt=s0},setClear:function(s0,Zt,z0,Ai,yn){yn===!0&&(s0*=Ai,Zt*=Ai,z0*=Ai),S0.set(s0,Zt,z0,Ai),m0.equals(S0)===!1&&(v.clearColor(s0,Zt,z0,Ai),m0.copy(S0))},reset:function(){nt=!1,d0=null,m0.set(-1,0,0,0)}}}function f(){let nt=!1,S0=!1,d0=null,m0=null,s0=null;return{setReversed:function(Zt){if(S0!==Zt){const z0=r.get("EXT_clip_control");Zt?z0.clipControlEXT(z0.LOWER_LEFT_EXT,z0.ZERO_TO_ONE_EXT):z0.clipControlEXT(z0.LOWER_LEFT_EXT,z0.NEGATIVE_ONE_TO_ONE_EXT),S0=Zt;const Ai=s0;s0=null,this.setClear(Ai)}},getReversed:function(){return S0},setTest:function(Zt){Zt?wt(v.DEPTH_TEST):e0(v.DEPTH_TEST)},setMask:function(Zt){d0!==Zt&&!nt&&(v.depthMask(Zt),d0=Zt)},setFunc:function(Zt){if(S0&&(Zt=Iue[Zt]),m0!==Zt){switch(Zt){case $u:v.depthFunc(v.NEVER);break;case Yu:v.depthFunc(v.ALWAYS);break;case Ku:v.depthFunc(v.LESS);break;case na:v.depthFunc(v.LEQUAL);break;case Zu:v.depthFunc(v.EQUAL);break;case Qu:v.depthFunc(v.GEQUAL);break;case Ju:v.depthFunc(v.GREATER);break;case ef:v.depthFunc(v.NOTEQUAL);break;default:v.depthFunc(v.LEQUAL)}m0=Zt}},setLocked:function(Zt){nt=Zt},setClear:function(Zt){s0!==Zt&&(S0&&(Zt=1-Zt),v.clearDepth(Zt),s0=Zt)},reset:function(){nt=!1,d0=null,m0=null,s0=null,S0=!1}}}function _(){let nt=!1,S0=null,d0=null,m0=null,s0=null,Zt=null,z0=null,Ai=null,yn=null;return{setTest:function(Gi){nt||(Gi?wt(v.STENCIL_TEST):e0(v.STENCIL_TEST))},setMask:function(Gi){S0!==Gi&&!nt&&(v.stencilMask(Gi),S0=Gi)},setFunc:function(Gi,Cr,Nr){(d0!==Gi||m0!==Cr||s0!==Nr)&&(v.stencilFunc(Gi,Cr,Nr),d0=Gi,m0=Cr,s0=Nr)},setOp:function(Gi,Cr,Nr){(Zt!==Gi||z0!==Cr||Ai!==Nr)&&(v.stencilOp(Gi,Cr,Nr),Zt=Gi,z0=Cr,Ai=Nr)},setLocked:function(Gi){nt=Gi},setClear:function(Gi){yn!==Gi&&(v.clearStencil(Gi),yn=Gi)},reset:function(){nt=!1,S0=null,d0=null,m0=null,s0=null,Zt=null,z0=null,Ai=null,yn=null}}}const y=new c,T=new f,A=new _,N=new WeakMap,k=new WeakMap;let V={},j={},K=new WeakMap,Q=[],ie=null,ce=!1,ue=null,re=null,be=null,De=null,Oe=null,je=null,Be=null,We=new ni(0,0,0),$e=0,Ee=!1,Ie=null,Je=null,ft=null,yt=null,Et=null;const Dt=v.getParameter(v.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ct=!1,Wt=0;const vt=v.getParameter(v.VERSION);vt.indexOf("WebGL")!==-1?(Wt=parseFloat(/^WebGL (\d)/.exec(vt)[1]),ct=Wt>=1):vt.indexOf("OpenGL ES")!==-1&&(Wt=parseFloat(/^OpenGL ES (\d)/.exec(vt)[1]),ct=Wt>=2);let Ht=null,Qt={};const a0=v.getParameter(v.SCISSOR_BOX),O0=v.getParameter(v.VIEWPORT),T0=new hi().fromArray(a0),w0=new hi().fromArray(O0);function y0(nt,S0,d0,m0){const s0=new Uint8Array(4),Zt=v.createTexture();v.bindTexture(nt,Zt),v.texParameteri(nt,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(nt,v.TEXTURE_MAG_FILTER,v.NEAREST);for(let z0=0;z0<d0;z0++)nt===v.TEXTURE_3D||nt===v.TEXTURE_2D_ARRAY?v.texImage3D(S0,0,v.RGBA,1,1,m0,0,v.RGBA,v.UNSIGNED_BYTE,s0):v.texImage2D(S0+z0,0,v.RGBA,1,1,0,v.RGBA,v.UNSIGNED_BYTE,s0);return Zt}const dt={};dt[v.TEXTURE_2D]=y0(v.TEXTURE_2D,v.TEXTURE_2D,1),dt[v.TEXTURE_CUBE_MAP]=y0(v.TEXTURE_CUBE_MAP,v.TEXTURE_CUBE_MAP_POSITIVE_X,6),dt[v.TEXTURE_2D_ARRAY]=y0(v.TEXTURE_2D_ARRAY,v.TEXTURE_2D_ARRAY,1,1),dt[v.TEXTURE_3D]=y0(v.TEXTURE_3D,v.TEXTURE_3D,1,1),y.setClear(0,0,0,1),T.setClear(1),A.setClear(0),wt(v.DEPTH_TEST),T.setFunc(na),ki(!1),qi(W4),wt(v.CULL_FACE),Fn(vs);function wt(nt){V[nt]!==!0&&(v.enable(nt),V[nt]=!0)}function e0(nt){V[nt]!==!1&&(v.disable(nt),V[nt]=!1)}function B0(nt,S0){return j[nt]!==S0?(v.bindFramebuffer(nt,S0),j[nt]=S0,nt===v.DRAW_FRAMEBUFFER&&(j[v.FRAMEBUFFER]=S0),nt===v.FRAMEBUFFER&&(j[v.DRAW_FRAMEBUFFER]=S0),!0):!1}function A0(nt,S0){let d0=Q,m0=!1;if(nt){d0=K.get(S0),d0===void 0&&(d0=[],K.set(S0,d0));const s0=nt.textures;if(d0.length!==s0.length||d0[0]!==v.COLOR_ATTACHMENT0){for(let Zt=0,z0=s0.length;Zt<z0;Zt++)d0[Zt]=v.COLOR_ATTACHMENT0+Zt;d0.length=s0.length,m0=!0}}else d0[0]!==v.BACK&&(d0[0]=v.BACK,m0=!0);m0&&v.drawBuffers(d0)}function Bi(nt){return ie!==nt?(v.useProgram(nt),ie=nt,!0):!1}const M2={[Fr]:v.FUNC_ADD,[dd]:v.FUNC_SUBTRACT,[md]:v.FUNC_REVERSE_SUBTRACT};M2[Tg]=v.MIN,M2[wg]=v.MAX;const J0={[h1]:v.ZERO,[gd]:v.ONE,[xd]:v.SRC_COLOR,[qu]:v.SRC_ALPHA,[wd]:v.SRC_ALPHA_SATURATE,[Cd]:v.DST_COLOR,[vd]:v.DST_ALPHA,[yd]:v.ONE_MINUS_SRC_COLOR,[Xu]:v.ONE_MINUS_SRC_ALPHA,[Td]:v.ONE_MINUS_DST_COLOR,[Sd]:v.ONE_MINUS_DST_ALPHA,[use]:v.CONSTANT_COLOR,[fse]:v.ONE_MINUS_CONSTANT_COLOR,[_se]:v.CONSTANT_ALPHA,[pse]:v.ONE_MINUS_CONSTANT_ALPHA};function Fn(nt,S0,d0,m0,s0,Zt,z0,Ai,yn,Gi){if(nt===vs){ce===!0&&(e0(v.BLEND),ce=!1);return}if(ce===!1&&(wt(v.BLEND),ce=!0),nt!==$c){if(nt!==ue||Gi!==Ee){if((re!==Fr||Oe!==Fr)&&(v.blendEquation(v.FUNC_ADD),re=Fr,Oe=Fr),Gi)switch(nt){case Ds:v.blendFuncSeparate(v.ONE,v.ONE_MINUS_SRC_ALPHA,v.ONE,v.ONE_MINUS_SRC_ALPHA);break;case il:v.blendFunc(v.ONE,v.ONE);break;case nl:v.blendFuncSeparate(v.ZERO,v.ONE_MINUS_SRC_COLOR,v.ZERO,v.ONE);break;case rl:v.blendFuncSeparate(v.DST_COLOR,v.ONE_MINUS_SRC_ALPHA,v.ZERO,v.ONE);break;default:r0("WebGLState: Invalid blending: ",nt);break}else switch(nt){case Ds:v.blendFuncSeparate(v.SRC_ALPHA,v.ONE_MINUS_SRC_ALPHA,v.ONE,v.ONE_MINUS_SRC_ALPHA);break;case il:v.blendFuncSeparate(v.SRC_ALPHA,v.ONE,v.ONE,v.ONE);break;case nl:r0("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case rl:r0("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:r0("WebGLState: Invalid blending: ",nt);break}be=null,De=null,je=null,Be=null,We.set(0,0,0),$e=0,ue=nt,Ee=Gi}return}s0=s0||S0,Zt=Zt||d0,z0=z0||m0,(S0!==re||s0!==Oe)&&(v.blendEquationSeparate(M2[S0],M2[s0]),re=S0,Oe=s0),(d0!==be||m0!==De||Zt!==je||z0!==Be)&&(v.blendFuncSeparate(J0[d0],J0[m0],J0[Zt],J0[z0]),be=d0,De=m0,je=Zt,Be=z0),(Ai.equals(We)===!1||yn!==$e)&&(v.blendColor(Ai.r,Ai.g,Ai.b,yn),We.copy(Ai),$e=yn),ue=nt,Ee=!1}function tt(nt,S0){nt.side===Ar?e0(v.CULL_FACE):wt(v.CULL_FACE);let d0=nt.side===Kn;S0&&(d0=!d0),ki(d0),nt.blending===Ds&&nt.transparent===!1?Fn(vs):Fn(nt.blending,nt.blendEquation,nt.blendSrc,nt.blendDst,nt.blendEquationAlpha,nt.blendSrcAlpha,nt.blendDstAlpha,nt.blendColor,nt.blendAlpha,nt.premultipliedAlpha),T.setFunc(nt.depthFunc),T.setTest(nt.depthTest),T.setMask(nt.depthWrite),y.setMask(nt.colorWrite);const m0=nt.stencilWrite;A.setTest(m0),m0&&(A.setMask(nt.stencilWriteMask),A.setFunc(nt.stencilFunc,nt.stencilRef,nt.stencilFuncMask),A.setOp(nt.stencilFail,nt.stencilZFail,nt.stencilZPass)),b0(nt.polygonOffset,nt.polygonOffsetFactor,nt.polygonOffsetUnits),nt.alphaToCoverage===!0?wt(v.SAMPLE_ALPHA_TO_COVERAGE):e0(v.SAMPLE_ALPHA_TO_COVERAGE)}function ki(nt){Ie!==nt&&(nt?v.frontFace(v.CW):v.frontFace(v.CCW),Ie=nt)}function qi(nt){nt!==Sg?(wt(v.CULL_FACE),nt!==Je&&(nt===W4?v.cullFace(v.BACK):nt===Cg?v.cullFace(v.FRONT):v.cullFace(v.FRONT_AND_BACK))):e0(v.CULL_FACE),Je=nt}function wn(nt){nt!==ft&&(ct&&v.lineWidth(nt),ft=nt)}function b0(nt,S0,d0){nt?(wt(v.POLYGON_OFFSET_FILL),(yt!==S0||Et!==d0)&&(v.polygonOffset(S0,d0),yt=S0,Et=d0)):e0(v.POLYGON_OFFSET_FILL)}function Bn(nt){nt?wt(v.SCISSOR_TEST):e0(v.SCISSOR_TEST)}function ri(nt){nt===void 0&&(nt=v.TEXTURE0+Dt-1),Ht!==nt&&(v.activeTexture(nt),Ht=nt)}function si(nt,S0,d0){d0===void 0&&(Ht===null?d0=v.TEXTURE0+Dt-1:d0=Ht);let m0=Qt[d0];m0===void 0&&(m0={type:void 0,texture:void 0},Qt[d0]=m0),(m0.type!==nt||m0.texture!==S0)&&(Ht!==d0&&(v.activeTexture(d0),Ht=d0),v.bindTexture(nt,S0||dt[nt]),m0.type=nt,m0.texture=S0)}function Ye(){const nt=Qt[Ht];nt!==void 0&&nt.type!==void 0&&(v.bindTexture(nt.type,null),nt.type=void 0,nt.texture=void 0)}function Pe(){try{v.compressedTexImage2D(...arguments)}catch(nt){nt("WebGLState:",nt)}}function St(){try{v.compressedTexImage3D(...arguments)}catch(nt){nt("WebGLState:",nt)}}function Yt(){try{v.texSubImage2D(...arguments)}catch(nt){nt("WebGLState:",nt)}}function Jt(){try{v.texSubImage3D(...arguments)}catch(nt){nt("WebGLState:",nt)}}function Ut(){try{v.compressedTexSubImage2D(...arguments)}catch(nt){nt("WebGLState:",nt)}}function V0(){try{v.compressedTexSubImage3D(...arguments)}catch(nt){nt("WebGLState:",nt)}}function g0(){try{v.texStorage2D(...arguments)}catch(nt){nt("WebGLState:",nt)}}function ai(){try{v.texStorage3D(...arguments)}catch(nt){nt("WebGLState:",nt)}}function X0(){try{v.texImage2D(...arguments)}catch(nt){nt("WebGLState:",nt)}}function t0(){try{v.texImage3D(...arguments)}catch(nt){nt("WebGLState:",nt)}}function c0(nt){T0.equals(nt)===!1&&(v.scissor(nt.x,nt.y,nt.z,nt.w),T0.copy(nt))}function yi(nt){w0.equals(nt)===!1&&(v.viewport(nt.x,nt.y,nt.z,nt.w),w0.copy(nt))}function ci(nt,S0){let d0=k.get(S0);d0===void 0&&(d0=new WeakMap,k.set(S0,d0));let m0=d0.get(nt);m0===void 0&&(m0=v.getUniformBlockIndex(S0,nt.name),d0.set(nt,m0))}function D0(nt,S0){const m0=k.get(S0).get(nt);N.get(S0)!==m0&&(v.uniformBlockBinding(S0,m0,nt.__bindingPointIndex),N.set(S0,m0))}function Si(){v.disable(v.BLEND),v.disable(v.CULL_FACE),v.disable(v.DEPTH_TEST),v.disable(v.POLYGON_OFFSET_FILL),v.disable(v.SCISSOR_TEST),v.disable(v.STENCIL_TEST),v.disable(v.SAMPLE_ALPHA_TO_COVERAGE),v.blendEquation(v.FUNC_ADD),v.blendFunc(v.ONE,v.ZERO),v.blendFuncSeparate(v.ONE,v.ZERO,v.ONE,v.ZERO),v.blendColor(0,0,0,0),v.colorMask(!0,!0,!0,!0),v.clearColor(0,0,0,0),v.depthMask(!0),v.depthFunc(v.LESS),T.setReversed(!1),v.clearDepth(1),v.stencilMask(4294967295),v.stencilFunc(v.ALWAYS,0,4294967295),v.stencilOp(v.KEEP,v.KEEP,v.KEEP),v.clearStencil(0),v.cullFace(v.BACK),v.frontFace(v.CCW),v.polygonOffset(0,0),v.activeTexture(v.TEXTURE0),v.bindFramebuffer(v.FRAMEBUFFER,null),v.bindFramebuffer(v.DRAW_FRAMEBUFFER,null),v.bindFramebuffer(v.READ_FRAMEBUFFER,null),v.useProgram(null),v.lineWidth(1),v.scissor(0,0,v.canvas.width,v.canvas.height),v.viewport(0,0,v.canvas.width,v.canvas.height),V={},Ht=null,Qt={},j={},K=new WeakMap,Q=[],ie=null,ce=!1,ue=null,re=null,be=null,De=null,Oe=null,je=null,Be=null,We=new ni(0,0,0),$e=0,Ee=!1,Ie=null,Je=null,ft=null,yt=null,Et=null,T0.set(0,0,v.canvas.width,v.canvas.height),w0.set(0,0,v.canvas.width,v.canvas.height),y.reset(),T.reset(),A.reset()}return{buffers:{color:y,depth:T,stencil:A},enable:wt,disable:e0,bindFramebuffer:B0,drawBuffers:A0,useProgram:Bi,setBlending:Fn,setMaterial:tt,setFlipSided:ki,setCullFace:qi,setLineWidth:wn,setPolygonOffset:b0,setScissorTest:Bn,activeTexture:ri,bindTexture:si,unbindTexture:Ye,compressedTexImage2D:Pe,compressedTexImage3D:St,texImage2D:X0,texImage3D:t0,updateUBOMapping:ci,uniformBlockBinding:D0,texStorage2D:g0,texStorage3D:ai,texSubImage2D:Yt,texSubImage3D:Jt,compressedTexSubImage2D:Ut,compressedTexSubImage3D:V0,scissor:c0,viewport:yi,reset:Si}}function Lue(v,r,c,f,_,y,T){const A=r.has("WEBGL_multisampled_render_to_texture")?r.get("WEBGL_multisampled_render_to_texture"):null,N=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),k=new _i,V=new WeakMap;let j;const K=new WeakMap;let Q=!1;try{Q=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ie(Ye,Pe){return Q?new OffscreenCanvas(Ye,Pe):of("canvas")}function ce(Ye,Pe,St){let Yt=1;const Jt=si(Ye);if((Jt.width>St||Jt.height>St)&&(Yt=St/Math.max(Jt.width,Jt.height)),Yt<1)if(typeof HTMLImageElement<"u"&&Ye instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Ye instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Ye instanceof ImageBitmap||typeof VideoFrame<"u"&&Ye instanceof VideoFrame){const Ut=Math.floor(Yt*Jt.width),V0=Math.floor(Yt*Jt.height);j===void 0&&(j=ie(Ut,V0));const g0=Pe?ie(Ut,V0):j;return g0.width=Ut,g0.height=V0,g0.getContext("2d").drawImage(Ye,0,0,Ut,V0),jt("WebGLRenderer: Texture has been resized from ("+Jt.width+"x"+Jt.height+") to ("+Ut+"x"+V0+")."),g0}else return"data"in Ye&&jt("WebGLRenderer: Image in DataTexture is too big ("+Jt.width+"x"+Jt.height+")."),Ye;return Ye}function ue(Ye){return Ye.generateMipmaps}function re(Ye){v.generateMipmap(Ye)}function be(Ye){return Ye.isWebGLCubeRenderTarget?v.TEXTURE_CUBE_MAP:Ye.isWebGL3DRenderTarget?v.TEXTURE_3D:Ye.isWebGLArrayRenderTarget||Ye.isCompressedArrayTexture?v.TEXTURE_2D_ARRAY:v.TEXTURE_2D}function De(Ye,Pe,St,Yt,Jt=!1){if(Ye!==null){if(v[Ye]!==void 0)return v[Ye];jt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ye+"'")}let Ut=Pe;if(Pe===v.RED&&(St===v.FLOAT&&(Ut=v.R32F),St===v.HALF_FLOAT&&(Ut=v.R16F),St===v.UNSIGNED_BYTE&&(Ut=v.R8)),Pe===v.RED_INTEGER&&(St===v.UNSIGNED_BYTE&&(Ut=v.R8UI),St===v.UNSIGNED_SHORT&&(Ut=v.R16UI),St===v.UNSIGNED_INT&&(Ut=v.R32UI),St===v.BYTE&&(Ut=v.R8I),St===v.SHORT&&(Ut=v.R16I),St===v.INT&&(Ut=v.R32I)),Pe===v.RG&&(St===v.FLOAT&&(Ut=v.RG32F),St===v.HALF_FLOAT&&(Ut=v.RG16F),St===v.UNSIGNED_BYTE&&(Ut=v.RG8)),Pe===v.RG_INTEGER&&(St===v.UNSIGNED_BYTE&&(Ut=v.RG8UI),St===v.UNSIGNED_SHORT&&(Ut=v.RG16UI),St===v.UNSIGNED_INT&&(Ut=v.RG32UI),St===v.BYTE&&(Ut=v.RG8I),St===v.SHORT&&(Ut=v.RG16I),St===v.INT&&(Ut=v.RG32I)),Pe===v.RGB_INTEGER&&(St===v.UNSIGNED_BYTE&&(Ut=v.RGB8UI),St===v.UNSIGNED_SHORT&&(Ut=v.RGB16UI),St===v.UNSIGNED_INT&&(Ut=v.RGB32UI),St===v.BYTE&&(Ut=v.RGB8I),St===v.SHORT&&(Ut=v.RGB16I),St===v.INT&&(Ut=v.RGB32I)),Pe===v.RGBA_INTEGER&&(St===v.UNSIGNED_BYTE&&(Ut=v.RGBA8UI),St===v.UNSIGNED_SHORT&&(Ut=v.RGBA16UI),St===v.UNSIGNED_INT&&(Ut=v.RGBA32UI),St===v.BYTE&&(Ut=v.RGBA8I),St===v.SHORT&&(Ut=v.RGBA16I),St===v.INT&&(Ut=v.RGBA32I)),Pe===v.RGB&&(St===v.UNSIGNED_INT_5_9_9_9_REV&&(Ut=v.RGB9_E5),St===v.UNSIGNED_INT_10F_11F_11F_REV&&(Ut=v.R11F_G11F_B10F)),Pe===v.RGBA){const V0=Jt?Nl:fi.getTransfer(Yt);St===v.FLOAT&&(Ut=v.RGBA32F),St===v.HALF_FLOAT&&(Ut=v.RGBA16F),St===v.UNSIGNED_BYTE&&(Ut=V0===N0?v.SRGB8_ALPHA8:v.RGBA8),St===v.UNSIGNED_SHORT_4_4_4_4&&(Ut=v.RGBA4),St===v.UNSIGNED_SHORT_5_5_5_1&&(Ut=v.RGB5_A1)}return(Ut===v.R16F||Ut===v.R32F||Ut===v.RG16F||Ut===v.RG32F||Ut===v.RGBA16F||Ut===v.RGBA32F)&&r.get("EXT_color_buffer_float"),Ut}function Oe(Ye,Pe){let St;return Ye?Pe===null||Pe===Yn||Pe===Is?St=v.DEPTH24_STENCIL8:Pe===I2?St=v.DEPTH32F_STENCIL8:Pe===lo&&(St=v.DEPTH24_STENCIL8,jt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Pe===null||Pe===Yn||Pe===Is?St=v.DEPTH_COMPONENT24:Pe===I2?St=v.DEPTH_COMPONENT32F:Pe===lo&&(St=v.DEPTH_COMPONENT16),St}function je(Ye,Pe){return ue(Ye)===!0||Ye.isFramebufferTexture&&Ye.minFilter!==n2&&Ye.minFilter!==r2?Math.log2(Math.max(Pe.width,Pe.height))+1:Ye.mipmaps!==void 0&&Ye.mipmaps.length>0?Ye.mipmaps.length:Ye.isCompressedTexture&&Array.isArray(Ye.image)?Pe.mipmaps.length:1}function Be(Ye){const Pe=Ye.target;Pe.removeEventListener("dispose",Be),$e(Pe),Pe.isVideoTexture&&V.delete(Pe)}function We(Ye){const Pe=Ye.target;Pe.removeEventListener("dispose",We),Ie(Pe)}function $e(Ye){const Pe=f.get(Ye);if(Pe.__webglInit===void 0)return;const St=Ye.source,Yt=K.get(St);if(Yt){const Jt=Yt[Pe.__cacheKey];Jt.usedTimes--,Jt.usedTimes===0&&Ee(Ye),Object.keys(Yt).length===0&&K.delete(St)}f.remove(Ye)}function Ee(Ye){const Pe=f.get(Ye);v.deleteTexture(Pe.__webglTexture);const St=Ye.source,Yt=K.get(St);delete Yt[Pe.__cacheKey],T.memory.textures--}function Ie(Ye){const Pe=f.get(Ye);if(Ye.depthTexture&&(Ye.depthTexture.dispose(),f.remove(Ye.depthTexture)),Ye.isWebGLCubeRenderTarget)for(let Yt=0;Yt<6;Yt++){if(Array.isArray(Pe.__webglFramebuffer[Yt]))for(let Jt=0;Jt<Pe.__webglFramebuffer[Yt].length;Jt++)v.deleteFramebuffer(Pe.__webglFramebuffer[Yt][Jt]);else v.deleteFramebuffer(Pe.__webglFramebuffer[Yt]);Pe.__webglDepthbuffer&&v.deleteRenderbuffer(Pe.__webglDepthbuffer[Yt])}else{if(Array.isArray(Pe.__webglFramebuffer))for(let Yt=0;Yt<Pe.__webglFramebuffer.length;Yt++)v.deleteFramebuffer(Pe.__webglFramebuffer[Yt]);else v.deleteFramebuffer(Pe.__webglFramebuffer);if(Pe.__webglDepthbuffer&&v.deleteRenderbuffer(Pe.__webglDepthbuffer),Pe.__webglMultisampledFramebuffer&&v.deleteFramebuffer(Pe.__webglMultisampledFramebuffer),Pe.__webglColorRenderbuffer)for(let Yt=0;Yt<Pe.__webglColorRenderbuffer.length;Yt++)Pe.__webglColorRenderbuffer[Yt]&&v.deleteRenderbuffer(Pe.__webglColorRenderbuffer[Yt]);Pe.__webglDepthRenderbuffer&&v.deleteRenderbuffer(Pe.__webglDepthRenderbuffer)}const St=Ye.textures;for(let Yt=0,Jt=St.length;Yt<Jt;Yt++){const Ut=f.get(St[Yt]);Ut.__webglTexture&&(v.deleteTexture(Ut.__webglTexture),T.memory.textures--),f.remove(St[Yt])}f.remove(Ye)}let Je=0;function ft(){Je=0}function yt(){const Ye=Je;return Ye>=_.maxTextures&&jt("WebGLTextures: Trying to use "+Ye+" texture units while this GPU supports only "+_.maxTextures),Je+=1,Ye}function Et(Ye){const Pe=[];return Pe.push(Ye.wrapS),Pe.push(Ye.wrapT),Pe.push(Ye.wrapR||0),Pe.push(Ye.magFilter),Pe.push(Ye.minFilter),Pe.push(Ye.anisotropy),Pe.push(Ye.internalFormat),Pe.push(Ye.format),Pe.push(Ye.type),Pe.push(Ye.generateMipmaps),Pe.push(Ye.premultiplyAlpha),Pe.push(Ye.flipY),Pe.push(Ye.unpackAlignment),Pe.push(Ye.colorSpace),Pe.join()}function Dt(Ye,Pe){const St=f.get(Ye);if(Ye.isVideoTexture&&Bn(Ye),Ye.isRenderTargetTexture===!1&&Ye.isExternalTexture!==!0&&Ye.version>0&&St.__version!==Ye.version){const Yt=Ye.image;if(Yt===null)jt("WebGLRenderer: Texture marked for update but no image data found.");else if(Yt.complete===!1)jt("WebGLRenderer: Texture marked for update but image is incomplete");else{dt(St,Ye,Pe);return}}else Ye.isExternalTexture&&(St.__webglTexture=Ye.sourceTexture?Ye.sourceTexture:null);c.bindTexture(v.TEXTURE_2D,St.__webglTexture,v.TEXTURE0+Pe)}function ct(Ye,Pe){const St=f.get(Ye);if(Ye.isRenderTargetTexture===!1&&Ye.version>0&&St.__version!==Ye.version){dt(St,Ye,Pe);return}else Ye.isExternalTexture&&(St.__webglTexture=Ye.sourceTexture?Ye.sourceTexture:null);c.bindTexture(v.TEXTURE_2D_ARRAY,St.__webglTexture,v.TEXTURE0+Pe)}function Wt(Ye,Pe){const St=f.get(Ye);if(Ye.isRenderTargetTexture===!1&&Ye.version>0&&St.__version!==Ye.version){dt(St,Ye,Pe);return}c.bindTexture(v.TEXTURE_3D,St.__webglTexture,v.TEXTURE0+Pe)}function vt(Ye,Pe){const St=f.get(Ye);if(Ye.version>0&&St.__version!==Ye.version){wt(St,Ye,Pe);return}c.bindTexture(v.TEXTURE_CUBE_MAP,St.__webglTexture,v.TEXTURE0+Pe)}const Ht={[co]:v.REPEAT,[Sr]:v.CLAMP_TO_EDGE,[ja]:v.MIRRORED_REPEAT},Qt={[n2]:v.NEAREST,[Rd]:v.NEAREST_MIPMAP_NEAREST,[v1]:v.NEAREST_MIPMAP_LINEAR,[r2]:v.LINEAR,[Yc]:v.LINEAR_MIPMAP_NEAREST,[Ur]:v.LINEAR_MIPMAP_LINEAR},a0={[Ed]:v.NEVER,[Pd]:v.ALWAYS,[yp]:v.LESS,[vp]:v.LEQUAL,[Nd]:v.EQUAL,[Id]:v.GEQUAL,[bd]:v.GREATER,[Dd]:v.NOTEQUAL};function O0(Ye,Pe){if(Pe.type===I2&&r.has("OES_texture_float_linear")===!1&&(Pe.magFilter===r2||Pe.magFilter===Yc||Pe.magFilter===v1||Pe.magFilter===Ur||Pe.minFilter===r2||Pe.minFilter===Yc||Pe.minFilter===v1||Pe.minFilter===Ur)&&jt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),v.texParameteri(Ye,v.TEXTURE_WRAP_S,Ht[Pe.wrapS]),v.texParameteri(Ye,v.TEXTURE_WRAP_T,Ht[Pe.wrapT]),(Ye===v.TEXTURE_3D||Ye===v.TEXTURE_2D_ARRAY)&&v.texParameteri(Ye,v.TEXTURE_WRAP_R,Ht[Pe.wrapR]),v.texParameteri(Ye,v.TEXTURE_MAG_FILTER,Qt[Pe.magFilter]),v.texParameteri(Ye,v.TEXTURE_MIN_FILTER,Qt[Pe.minFilter]),Pe.compareFunction&&(v.texParameteri(Ye,v.TEXTURE_COMPARE_MODE,v.COMPARE_REF_TO_TEXTURE),v.texParameteri(Ye,v.TEXTURE_COMPARE_FUNC,a0[Pe.compareFunction])),r.has("EXT_texture_filter_anisotropic")===!0){if(Pe.magFilter===n2||Pe.minFilter!==v1&&Pe.minFilter!==Ur||Pe.type===I2&&r.has("OES_texture_float_linear")===!1)return;if(Pe.anisotropy>1||f.get(Pe).__currentAnisotropy){const St=r.get("EXT_texture_filter_anisotropic");v.texParameterf(Ye,St.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Pe.anisotropy,_.getMaxAnisotropy())),f.get(Pe).__currentAnisotropy=Pe.anisotropy}}}function T0(Ye,Pe){let St=!1;Ye.__webglInit===void 0&&(Ye.__webglInit=!0,Pe.addEventListener("dispose",Be));const Yt=Pe.source;let Jt=K.get(Yt);Jt===void 0&&(Jt={},K.set(Yt,Jt));const Ut=Et(Pe);if(Ut!==Ye.__cacheKey){Jt[Ut]===void 0&&(Jt[Ut]={texture:v.createTexture(),usedTimes:0},T.memory.textures++,St=!0),Jt[Ut].usedTimes++;const V0=Jt[Ye.__cacheKey];V0!==void 0&&(Jt[Ye.__cacheKey].usedTimes--,V0.usedTimes===0&&Ee(Pe)),Ye.__cacheKey=Ut,Ye.__webglTexture=Jt[Ut].texture}return St}function w0(Ye,Pe,St){return Math.floor(Math.floor(Ye/St)/Pe)}function y0(Ye,Pe,St,Yt){const Ut=Ye.updateRanges;if(Ut.length===0)c.texSubImage2D(v.TEXTURE_2D,0,0,0,Pe.width,Pe.height,St,Yt,Pe.data);else{Ut.sort((t0,c0)=>t0.start-c0.start);let V0=0;for(let t0=1;t0<Ut.length;t0++){const c0=Ut[V0],yi=Ut[t0],ci=c0.start+c0.count,D0=w0(yi.start,Pe.width,4),Si=w0(c0.start,Pe.width,4);yi.start<=ci+1&&D0===Si&&w0(yi.start+yi.count-1,Pe.width,4)===D0?c0.count=Math.max(c0.count,yi.start+yi.count-c0.start):(++V0,Ut[V0]=yi)}Ut.length=V0+1;const g0=v.getParameter(v.UNPACK_ROW_LENGTH),ai=v.getParameter(v.UNPACK_SKIP_PIXELS),X0=v.getParameter(v.UNPACK_SKIP_ROWS);v.pixelStorei(v.UNPACK_ROW_LENGTH,Pe.width);for(let t0=0,c0=Ut.length;t0<c0;t0++){const yi=Ut[t0],ci=Math.floor(yi.start/4),D0=Math.ceil(yi.count/4),Si=ci%Pe.width,nt=Math.floor(ci/Pe.width),S0=D0,d0=1;v.pixelStorei(v.UNPACK_SKIP_PIXELS,Si),v.pixelStorei(v.UNPACK_SKIP_ROWS,nt),c.texSubImage2D(v.TEXTURE_2D,0,Si,nt,S0,d0,St,Yt,Pe.data)}Ye.clearUpdateRanges(),v.pixelStorei(v.UNPACK_ROW_LENGTH,g0),v.pixelStorei(v.UNPACK_SKIP_PIXELS,ai),v.pixelStorei(v.UNPACK_SKIP_ROWS,X0)}}function dt(Ye,Pe,St){let Yt=v.TEXTURE_2D;(Pe.isDataArrayTexture||Pe.isCompressedArrayTexture)&&(Yt=v.TEXTURE_2D_ARRAY),Pe.isData3DTexture&&(Yt=v.TEXTURE_3D);const Jt=T0(Ye,Pe),Ut=Pe.source;c.bindTexture(Yt,Ye.__webglTexture,v.TEXTURE0+St);const V0=f.get(Ut);if(Ut.version!==V0.__version||Jt===!0){c.activeTexture(v.TEXTURE0+St);const g0=fi.getPrimaries(fi.workingColorSpace),ai=Pe.colorSpace===ms?null:fi.getPrimaries(Pe.colorSpace),X0=Pe.colorSpace===ms||g0===ai?v.NONE:v.BROWSER_DEFAULT_WEBGL;v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,Pe.flipY),v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Pe.premultiplyAlpha),v.pixelStorei(v.UNPACK_ALIGNMENT,Pe.unpackAlignment),v.pixelStorei(v.UNPACK_COLORSPACE_CONVERSION_WEBGL,X0);let t0=ce(Pe.image,!1,_.maxTextureSize);t0=ri(Pe,t0);const c0=y.convert(Pe.format,Pe.colorSpace),yi=y.convert(Pe.type);let ci=De(Pe.internalFormat,c0,yi,Pe.colorSpace,Pe.isVideoTexture);O0(Yt,Pe);let D0;const Si=Pe.mipmaps,nt=Pe.isVideoTexture!==!0,S0=V0.__version===void 0||Jt===!0,d0=Ut.dataReady,m0=je(Pe,t0);if(Pe.isDepthTexture)ci=Oe(Pe.format===Ls,Pe.type),S0&&(nt?c.texStorage2D(v.TEXTURE_2D,1,ci,t0.width,t0.height):c.texImage2D(v.TEXTURE_2D,0,ci,t0.width,t0.height,0,c0,yi,null));else if(Pe.isDataTexture)if(Si.length>0){nt&&S0&&c.texStorage2D(v.TEXTURE_2D,m0,ci,Si[0].width,Si[0].height);for(let s0=0,Zt=Si.length;s0<Zt;s0++)D0=Si[s0],nt?d0&&c.texSubImage2D(v.TEXTURE_2D,s0,0,0,D0.width,D0.height,c0,yi,D0.data):c.texImage2D(v.TEXTURE_2D,s0,ci,D0.width,D0.height,0,c0,yi,D0.data);Pe.generateMipmaps=!1}else nt?(S0&&c.texStorage2D(v.TEXTURE_2D,m0,ci,t0.width,t0.height),d0&&y0(Pe,t0,c0,yi)):c.texImage2D(v.TEXTURE_2D,0,ci,t0.width,t0.height,0,c0,yi,t0.data);else if(Pe.isCompressedTexture)if(Pe.isCompressedArrayTexture){nt&&S0&&c.texStorage3D(v.TEXTURE_2D_ARRAY,m0,ci,Si[0].width,Si[0].height,t0.depth);for(let s0=0,Zt=Si.length;s0<Zt;s0++)if(D0=Si[s0],Pe.format!==w2)if(c0!==null)if(nt){if(d0)if(Pe.layerUpdates.size>0){const z0=Y4(D0.width,D0.height,Pe.format,Pe.type);for(const Ai of Pe.layerUpdates){const yn=D0.data.subarray(Ai*z0/D0.data.BYTES_PER_ELEMENT,(Ai+1)*z0/D0.data.BYTES_PER_ELEMENT);c.compressedTexSubImage3D(v.TEXTURE_2D_ARRAY,s0,0,0,Ai,D0.width,D0.height,1,c0,yn)}Pe.clearLayerUpdates()}else c.compressedTexSubImage3D(v.TEXTURE_2D_ARRAY,s0,0,0,0,D0.width,D0.height,t0.depth,c0,D0.data)}else c.compressedTexImage3D(v.TEXTURE_2D_ARRAY,s0,ci,D0.width,D0.height,t0.depth,0,D0.data,0,0);else jt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else nt?d0&&c.texSubImage3D(v.TEXTURE_2D_ARRAY,s0,0,0,0,D0.width,D0.height,t0.depth,c0,yi,D0.data):c.texImage3D(v.TEXTURE_2D_ARRAY,s0,ci,D0.width,D0.height,t0.depth,0,c0,yi,D0.data)}else{nt&&S0&&c.texStorage2D(v.TEXTURE_2D,m0,ci,Si[0].width,Si[0].height);for(let s0=0,Zt=Si.length;s0<Zt;s0++)D0=Si[s0],Pe.format!==w2?c0!==null?nt?d0&&c.compressedTexSubImage2D(v.TEXTURE_2D,s0,0,0,D0.width,D0.height,c0,D0.data):c.compressedTexImage2D(v.TEXTURE_2D,s0,ci,D0.width,D0.height,0,D0.data):jt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):nt?d0&&c.texSubImage2D(v.TEXTURE_2D,s0,0,0,D0.width,D0.height,c0,yi,D0.data):c.texImage2D(v.TEXTURE_2D,s0,ci,D0.width,D0.height,0,c0,yi,D0.data)}else if(Pe.isDataArrayTexture)if(nt){if(S0&&c.texStorage3D(v.TEXTURE_2D_ARRAY,m0,ci,t0.width,t0.height,t0.depth),d0)if(Pe.layerUpdates.size>0){const s0=Y4(t0.width,t0.height,Pe.format,Pe.type);for(const Zt of Pe.layerUpdates){const z0=t0.data.subarray(Zt*s0/t0.data.BYTES_PER_ELEMENT,(Zt+1)*s0/t0.data.BYTES_PER_ELEMENT);c.texSubImage3D(v.TEXTURE_2D_ARRAY,0,0,0,Zt,t0.width,t0.height,1,c0,yi,z0)}Pe.clearLayerUpdates()}else c.texSubImage3D(v.TEXTURE_2D_ARRAY,0,0,0,0,t0.width,t0.height,t0.depth,c0,yi,t0.data)}else c.texImage3D(v.TEXTURE_2D_ARRAY,0,ci,t0.width,t0.height,t0.depth,0,c0,yi,t0.data);else if(Pe.isData3DTexture)nt?(S0&&c.texStorage3D(v.TEXTURE_3D,m0,ci,t0.width,t0.height,t0.depth),d0&&c.texSubImage3D(v.TEXTURE_3D,0,0,0,0,t0.width,t0.height,t0.depth,c0,yi,t0.data)):c.texImage3D(v.TEXTURE_3D,0,ci,t0.width,t0.height,t0.depth,0,c0,yi,t0.data);else if(Pe.isFramebufferTexture){if(S0)if(nt)c.texStorage2D(v.TEXTURE_2D,m0,ci,t0.width,t0.height);else{let s0=t0.width,Zt=t0.height;for(let z0=0;z0<m0;z0++)c.texImage2D(v.TEXTURE_2D,z0,ci,s0,Zt,0,c0,yi,null),s0>>=1,Zt>>=1}}else if(Si.length>0){if(nt&&S0){const s0=si(Si[0]);c.texStorage2D(v.TEXTURE_2D,m0,ci,s0.width,s0.height)}for(let s0=0,Zt=Si.length;s0<Zt;s0++)D0=Si[s0],nt?d0&&c.texSubImage2D(v.TEXTURE_2D,s0,0,0,c0,yi,D0):c.texImage2D(v.TEXTURE_2D,s0,ci,c0,yi,D0);Pe.generateMipmaps=!1}else if(nt){if(S0){const s0=si(t0);c.texStorage2D(v.TEXTURE_2D,m0,ci,s0.width,s0.height)}d0&&c.texSubImage2D(v.TEXTURE_2D,0,0,0,c0,yi,t0)}else c.texImage2D(v.TEXTURE_2D,0,ci,c0,yi,t0);ue(Pe)&&re(Yt),V0.__version=Ut.version,Pe.onUpdate&&Pe.onUpdate(Pe)}Ye.__version=Pe.version}function wt(Ye,Pe,St){if(Pe.image.length!==6)return;const Yt=T0(Ye,Pe),Jt=Pe.source;c.bindTexture(v.TEXTURE_CUBE_MAP,Ye.__webglTexture,v.TEXTURE0+St);const Ut=f.get(Jt);if(Jt.version!==Ut.__version||Yt===!0){c.activeTexture(v.TEXTURE0+St);const V0=fi.getPrimaries(fi.workingColorSpace),g0=Pe.colorSpace===ms?null:fi.getPrimaries(Pe.colorSpace),ai=Pe.colorSpace===ms||V0===g0?v.NONE:v.BROWSER_DEFAULT_WEBGL;v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,Pe.flipY),v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Pe.premultiplyAlpha),v.pixelStorei(v.UNPACK_ALIGNMENT,Pe.unpackAlignment),v.pixelStorei(v.UNPACK_COLORSPACE_CONVERSION_WEBGL,ai);const X0=Pe.isCompressedTexture||Pe.image[0].isCompressedTexture,t0=Pe.image[0]&&Pe.image[0].isDataTexture,c0=[];for(let Zt=0;Zt<6;Zt++)!X0&&!t0?c0[Zt]=ce(Pe.image[Zt],!0,_.maxCubemapSize):c0[Zt]=t0?Pe.image[Zt].image:Pe.image[Zt],c0[Zt]=ri(Pe,c0[Zt]);const yi=c0[0],ci=y.convert(Pe.format,Pe.colorSpace),D0=y.convert(Pe.type),Si=De(Pe.internalFormat,ci,D0,Pe.colorSpace),nt=Pe.isVideoTexture!==!0,S0=Ut.__version===void 0||Yt===!0,d0=Jt.dataReady;let m0=je(Pe,yi);O0(v.TEXTURE_CUBE_MAP,Pe);let s0;if(X0){nt&&S0&&c.texStorage2D(v.TEXTURE_CUBE_MAP,m0,Si,yi.width,yi.height);for(let Zt=0;Zt<6;Zt++){s0=c0[Zt].mipmaps;for(let z0=0;z0<s0.length;z0++){const Ai=s0[z0];Pe.format!==w2?ci!==null?nt?d0&&c.compressedTexSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,z0,0,0,Ai.width,Ai.height,ci,Ai.data):c.compressedTexImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,z0,Si,Ai.width,Ai.height,0,Ai.data):jt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):nt?d0&&c.texSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,z0,0,0,Ai.width,Ai.height,ci,D0,Ai.data):c.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,z0,Si,Ai.width,Ai.height,0,ci,D0,Ai.data)}}}else{if(s0=Pe.mipmaps,nt&&S0){s0.length>0&&m0++;const Zt=si(c0[0]);c.texStorage2D(v.TEXTURE_CUBE_MAP,m0,Si,Zt.width,Zt.height)}for(let Zt=0;Zt<6;Zt++)if(t0){nt?d0&&c.texSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,0,0,0,c0[Zt].width,c0[Zt].height,ci,D0,c0[Zt].data):c.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,0,Si,c0[Zt].width,c0[Zt].height,0,ci,D0,c0[Zt].data);for(let z0=0;z0<s0.length;z0++){const yn=s0[z0].image[Zt].image;nt?d0&&c.texSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,z0+1,0,0,yn.width,yn.height,ci,D0,yn.data):c.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,z0+1,Si,yn.width,yn.height,0,ci,D0,yn.data)}}else{nt?d0&&c.texSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,0,0,0,ci,D0,c0[Zt]):c.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,0,Si,ci,D0,c0[Zt]);for(let z0=0;z0<s0.length;z0++){const Ai=s0[z0];nt?d0&&c.texSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,z0+1,0,0,ci,D0,Ai.image[Zt]):c.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,z0+1,Si,ci,D0,Ai.image[Zt])}}}ue(Pe)&&re(v.TEXTURE_CUBE_MAP),Ut.__version=Jt.version,Pe.onUpdate&&Pe.onUpdate(Pe)}Ye.__version=Pe.version}function e0(Ye,Pe,St,Yt,Jt,Ut){const V0=y.convert(St.format,St.colorSpace),g0=y.convert(St.type),ai=De(St.internalFormat,V0,g0,St.colorSpace),X0=f.get(Pe),t0=f.get(St);if(t0.__renderTarget=Pe,!X0.__hasExternalTextures){const c0=Math.max(1,Pe.width>>Ut),yi=Math.max(1,Pe.height>>Ut);Jt===v.TEXTURE_3D||Jt===v.TEXTURE_2D_ARRAY?c.texImage3D(Jt,Ut,ai,c0,yi,Pe.depth,0,V0,g0,null):c.texImage2D(Jt,Ut,ai,c0,yi,0,V0,g0,null)}c.bindFramebuffer(v.FRAMEBUFFER,Ye),b0(Pe)?A.framebufferTexture2DMultisampleEXT(v.FRAMEBUFFER,Yt,Jt,t0.__webglTexture,0,wn(Pe)):(Jt===v.TEXTURE_2D||Jt>=v.TEXTURE_CUBE_MAP_POSITIVE_X&&Jt<=v.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&v.framebufferTexture2D(v.FRAMEBUFFER,Yt,Jt,t0.__webglTexture,Ut),c.bindFramebuffer(v.FRAMEBUFFER,null)}function B0(Ye,Pe,St){if(v.bindRenderbuffer(v.RENDERBUFFER,Ye),Pe.depthBuffer){const Yt=Pe.depthTexture,Jt=Yt&&Yt.isDepthTexture?Yt.type:null,Ut=Oe(Pe.stencilBuffer,Jt),V0=Pe.stencilBuffer?v.DEPTH_STENCIL_ATTACHMENT:v.DEPTH_ATTACHMENT,g0=wn(Pe);b0(Pe)?A.renderbufferStorageMultisampleEXT(v.RENDERBUFFER,g0,Ut,Pe.width,Pe.height):St?v.renderbufferStorageMultisample(v.RENDERBUFFER,g0,Ut,Pe.width,Pe.height):v.renderbufferStorage(v.RENDERBUFFER,Ut,Pe.width,Pe.height),v.framebufferRenderbuffer(v.FRAMEBUFFER,V0,v.RENDERBUFFER,Ye)}else{const Yt=Pe.textures;for(let Jt=0;Jt<Yt.length;Jt++){const Ut=Yt[Jt],V0=y.convert(Ut.format,Ut.colorSpace),g0=y.convert(Ut.type),ai=De(Ut.internalFormat,V0,g0,Ut.colorSpace),X0=wn(Pe);St&&b0(Pe)===!1?v.renderbufferStorageMultisample(v.RENDERBUFFER,X0,ai,Pe.width,Pe.height):b0(Pe)?A.renderbufferStorageMultisampleEXT(v.RENDERBUFFER,X0,ai,Pe.width,Pe.height):v.renderbufferStorage(v.RENDERBUFFER,ai,Pe.width,Pe.height)}}v.bindRenderbuffer(v.RENDERBUFFER,null)}function A0(Ye,Pe){if(Pe&&Pe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(c.bindFramebuffer(v.FRAMEBUFFER,Ye),!(Pe.depthTexture&&Pe.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Yt=f.get(Pe.depthTexture);Yt.__renderTarget=Pe,(!Yt.__webglTexture||Pe.depthTexture.image.width!==Pe.width||Pe.depthTexture.image.height!==Pe.height)&&(Pe.depthTexture.image.width=Pe.width,Pe.depthTexture.image.height=Pe.height,Pe.depthTexture.needsUpdate=!0),Dt(Pe.depthTexture,0);const Jt=Yt.__webglTexture,Ut=wn(Pe);if(Pe.depthTexture.format===Ps)b0(Pe)?A.framebufferTexture2DMultisampleEXT(v.FRAMEBUFFER,v.DEPTH_ATTACHMENT,v.TEXTURE_2D,Jt,0,Ut):v.framebufferTexture2D(v.FRAMEBUFFER,v.DEPTH_ATTACHMENT,v.TEXTURE_2D,Jt,0);else if(Pe.depthTexture.format===Ls)b0(Pe)?A.framebufferTexture2DMultisampleEXT(v.FRAMEBUFFER,v.DEPTH_STENCIL_ATTACHMENT,v.TEXTURE_2D,Jt,0,Ut):v.framebufferTexture2D(v.FRAMEBUFFER,v.DEPTH_STENCIL_ATTACHMENT,v.TEXTURE_2D,Jt,0);else throw new Error("Unknown depthTexture format")}function Bi(Ye){const Pe=f.get(Ye),St=Ye.isWebGLCubeRenderTarget===!0;if(Pe.__boundDepthTexture!==Ye.depthTexture){const Yt=Ye.depthTexture;if(Pe.__depthDisposeCallback&&Pe.__depthDisposeCallback(),Yt){const Jt=()=>{delete Pe.__boundDepthTexture,delete Pe.__depthDisposeCallback,Yt.removeEventListener("dispose",Jt)};Yt.addEventListener("dispose",Jt),Pe.__depthDisposeCallback=Jt}Pe.__boundDepthTexture=Yt}if(Ye.depthTexture&&!Pe.__autoAllocateDepthBuffer){if(St)throw new Error("target.depthTexture not supported in Cube render targets");const Yt=Ye.texture.mipmaps;Yt&&Yt.length>0?A0(Pe.__webglFramebuffer[0],Ye):A0(Pe.__webglFramebuffer,Ye)}else if(St){Pe.__webglDepthbuffer=[];for(let Yt=0;Yt<6;Yt++)if(c.bindFramebuffer(v.FRAMEBUFFER,Pe.__webglFramebuffer[Yt]),Pe.__webglDepthbuffer[Yt]===void 0)Pe.__webglDepthbuffer[Yt]=v.createRenderbuffer(),B0(Pe.__webglDepthbuffer[Yt],Ye,!1);else{const Jt=Ye.stencilBuffer?v.DEPTH_STENCIL_ATTACHMENT:v.DEPTH_ATTACHMENT,Ut=Pe.__webglDepthbuffer[Yt];v.bindRenderbuffer(v.RENDERBUFFER,Ut),v.framebufferRenderbuffer(v.FRAMEBUFFER,Jt,v.RENDERBUFFER,Ut)}}else{const Yt=Ye.texture.mipmaps;if(Yt&&Yt.length>0?c.bindFramebuffer(v.FRAMEBUFFER,Pe.__webglFramebuffer[0]):c.bindFramebuffer(v.FRAMEBUFFER,Pe.__webglFramebuffer),Pe.__webglDepthbuffer===void 0)Pe.__webglDepthbuffer=v.createRenderbuffer(),B0(Pe.__webglDepthbuffer,Ye,!1);else{const Jt=Ye.stencilBuffer?v.DEPTH_STENCIL_ATTACHMENT:v.DEPTH_ATTACHMENT,Ut=Pe.__webglDepthbuffer;v.bindRenderbuffer(v.RENDERBUFFER,Ut),v.framebufferRenderbuffer(v.FRAMEBUFFER,Jt,v.RENDERBUFFER,Ut)}}c.bindFramebuffer(v.FRAMEBUFFER,null)}function M2(Ye,Pe,St){const Yt=f.get(Ye);Pe!==void 0&&e0(Yt.__webglFramebuffer,Ye,Ye.texture,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,0),St!==void 0&&Bi(Ye)}function J0(Ye){const Pe=Ye.texture,St=f.get(Ye),Yt=f.get(Pe);Ye.addEventListener("dispose",We);const Jt=Ye.textures,Ut=Ye.isWebGLCubeRenderTarget===!0,V0=Jt.length>1;if(V0||(Yt.__webglTexture===void 0&&(Yt.__webglTexture=v.createTexture()),Yt.__version=Pe.version,T.memory.textures++),Ut){St.__webglFramebuffer=[];for(let g0=0;g0<6;g0++)if(Pe.mipmaps&&Pe.mipmaps.length>0){St.__webglFramebuffer[g0]=[];for(let ai=0;ai<Pe.mipmaps.length;ai++)St.__webglFramebuffer[g0][ai]=v.createFramebuffer()}else St.__webglFramebuffer[g0]=v.createFramebuffer()}else{if(Pe.mipmaps&&Pe.mipmaps.length>0){St.__webglFramebuffer=[];for(let g0=0;g0<Pe.mipmaps.length;g0++)St.__webglFramebuffer[g0]=v.createFramebuffer()}else St.__webglFramebuffer=v.createFramebuffer();if(V0)for(let g0=0,ai=Jt.length;g0<ai;g0++){const X0=f.get(Jt[g0]);X0.__webglTexture===void 0&&(X0.__webglTexture=v.createTexture(),T.memory.textures++)}if(Ye.samples>0&&b0(Ye)===!1){St.__webglMultisampledFramebuffer=v.createFramebuffer(),St.__webglColorRenderbuffer=[],c.bindFramebuffer(v.FRAMEBUFFER,St.__webglMultisampledFramebuffer);for(let g0=0;g0<Jt.length;g0++){const ai=Jt[g0];St.__webglColorRenderbuffer[g0]=v.createRenderbuffer(),v.bindRenderbuffer(v.RENDERBUFFER,St.__webglColorRenderbuffer[g0]);const X0=y.convert(ai.format,ai.colorSpace),t0=y.convert(ai.type),c0=De(ai.internalFormat,X0,t0,ai.colorSpace,Ye.isXRRenderTarget===!0),yi=wn(Ye);v.renderbufferStorageMultisample(v.RENDERBUFFER,yi,c0,Ye.width,Ye.height),v.framebufferRenderbuffer(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0+g0,v.RENDERBUFFER,St.__webglColorRenderbuffer[g0])}v.bindRenderbuffer(v.RENDERBUFFER,null),Ye.depthBuffer&&(St.__webglDepthRenderbuffer=v.createRenderbuffer(),B0(St.__webglDepthRenderbuffer,Ye,!0)),c.bindFramebuffer(v.FRAMEBUFFER,null)}}if(Ut){c.bindTexture(v.TEXTURE_CUBE_MAP,Yt.__webglTexture),O0(v.TEXTURE_CUBE_MAP,Pe);for(let g0=0;g0<6;g0++)if(Pe.mipmaps&&Pe.mipmaps.length>0)for(let ai=0;ai<Pe.mipmaps.length;ai++)e0(St.__webglFramebuffer[g0][ai],Ye,Pe,v.COLOR_ATTACHMENT0,v.TEXTURE_CUBE_MAP_POSITIVE_X+g0,ai);else e0(St.__webglFramebuffer[g0],Ye,Pe,v.COLOR_ATTACHMENT0,v.TEXTURE_CUBE_MAP_POSITIVE_X+g0,0);ue(Pe)&&re(v.TEXTURE_CUBE_MAP),c.unbindTexture()}else if(V0){for(let g0=0,ai=Jt.length;g0<ai;g0++){const X0=Jt[g0],t0=f.get(X0);let c0=v.TEXTURE_2D;(Ye.isWebGL3DRenderTarget||Ye.isWebGLArrayRenderTarget)&&(c0=Ye.isWebGL3DRenderTarget?v.TEXTURE_3D:v.TEXTURE_2D_ARRAY),c.bindTexture(c0,t0.__webglTexture),O0(c0,X0),e0(St.__webglFramebuffer,Ye,X0,v.COLOR_ATTACHMENT0+g0,c0,0),ue(X0)&&re(c0)}c.unbindTexture()}else{let g0=v.TEXTURE_2D;if((Ye.isWebGL3DRenderTarget||Ye.isWebGLArrayRenderTarget)&&(g0=Ye.isWebGL3DRenderTarget?v.TEXTURE_3D:v.TEXTURE_2D_ARRAY),c.bindTexture(g0,Yt.__webglTexture),O0(g0,Pe),Pe.mipmaps&&Pe.mipmaps.length>0)for(let ai=0;ai<Pe.mipmaps.length;ai++)e0(St.__webglFramebuffer[ai],Ye,Pe,v.COLOR_ATTACHMENT0,g0,ai);else e0(St.__webglFramebuffer,Ye,Pe,v.COLOR_ATTACHMENT0,g0,0);ue(Pe)&&re(g0),c.unbindTexture()}Ye.depthBuffer&&Bi(Ye)}function Fn(Ye){const Pe=Ye.textures;for(let St=0,Yt=Pe.length;St<Yt;St++){const Jt=Pe[St];if(ue(Jt)){const Ut=be(Ye),V0=f.get(Jt).__webglTexture;c.bindTexture(Ut,V0),re(Ut),c.unbindTexture()}}}const tt=[],ki=[];function qi(Ye){if(Ye.samples>0){if(b0(Ye)===!1){const Pe=Ye.textures,St=Ye.width,Yt=Ye.height;let Jt=v.COLOR_BUFFER_BIT;const Ut=Ye.stencilBuffer?v.DEPTH_STENCIL_ATTACHMENT:v.DEPTH_ATTACHMENT,V0=f.get(Ye),g0=Pe.length>1;if(g0)for(let X0=0;X0<Pe.length;X0++)c.bindFramebuffer(v.FRAMEBUFFER,V0.__webglMultisampledFramebuffer),v.framebufferRenderbuffer(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0+X0,v.RENDERBUFFER,null),c.bindFramebuffer(v.FRAMEBUFFER,V0.__webglFramebuffer),v.framebufferTexture2D(v.DRAW_FRAMEBUFFER,v.COLOR_ATTACHMENT0+X0,v.TEXTURE_2D,null,0);c.bindFramebuffer(v.READ_FRAMEBUFFER,V0.__webglMultisampledFramebuffer);const ai=Ye.texture.mipmaps;ai&&ai.length>0?c.bindFramebuffer(v.DRAW_FRAMEBUFFER,V0.__webglFramebuffer[0]):c.bindFramebuffer(v.DRAW_FRAMEBUFFER,V0.__webglFramebuffer);for(let X0=0;X0<Pe.length;X0++){if(Ye.resolveDepthBuffer&&(Ye.depthBuffer&&(Jt|=v.DEPTH_BUFFER_BIT),Ye.stencilBuffer&&Ye.resolveStencilBuffer&&(Jt|=v.STENCIL_BUFFER_BIT)),g0){v.framebufferRenderbuffer(v.READ_FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.RENDERBUFFER,V0.__webglColorRenderbuffer[X0]);const t0=f.get(Pe[X0]).__webglTexture;v.framebufferTexture2D(v.DRAW_FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,t0,0)}v.blitFramebuffer(0,0,St,Yt,0,0,St,Yt,Jt,v.NEAREST),N===!0&&(tt.length=0,ki.length=0,tt.push(v.COLOR_ATTACHMENT0+X0),Ye.depthBuffer&&Ye.resolveDepthBuffer===!1&&(tt.push(Ut),ki.push(Ut),v.invalidateFramebuffer(v.DRAW_FRAMEBUFFER,ki)),v.invalidateFramebuffer(v.READ_FRAMEBUFFER,tt))}if(c.bindFramebuffer(v.READ_FRAMEBUFFER,null),c.bindFramebuffer(v.DRAW_FRAMEBUFFER,null),g0)for(let X0=0;X0<Pe.length;X0++){c.bindFramebuffer(v.FRAMEBUFFER,V0.__webglMultisampledFramebuffer),v.framebufferRenderbuffer(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0+X0,v.RENDERBUFFER,V0.__webglColorRenderbuffer[X0]);const t0=f.get(Pe[X0]).__webglTexture;c.bindFramebuffer(v.FRAMEBUFFER,V0.__webglFramebuffer),v.framebufferTexture2D(v.DRAW_FRAMEBUFFER,v.COLOR_ATTACHMENT0+X0,v.TEXTURE_2D,t0,0)}c.bindFramebuffer(v.DRAW_FRAMEBUFFER,V0.__webglMultisampledFramebuffer)}else if(Ye.depthBuffer&&Ye.resolveDepthBuffer===!1&&N){const Pe=Ye.stencilBuffer?v.DEPTH_STENCIL_ATTACHMENT:v.DEPTH_ATTACHMENT;v.invalidateFramebuffer(v.DRAW_FRAMEBUFFER,[Pe])}}}function wn(Ye){return Math.min(_.maxSamples,Ye.samples)}function b0(Ye){const Pe=f.get(Ye);return Ye.samples>0&&r.has("WEBGL_multisampled_render_to_texture")===!0&&Pe.__useRenderToTexture!==!1}function Bn(Ye){const Pe=T.render.frame;V.get(Ye)!==Pe&&(V.set(Ye,Pe),Ye.update())}function ri(Ye,Pe){const St=Ye.colorSpace,Yt=Ye.format,Jt=Ye.type;return Ye.isCompressedTexture===!0||Ye.isVideoTexture===!0||St!==qa&&St!==ms&&(fi.getTransfer(St)===N0?(Yt!==w2||Jt!==T2)&&jt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):r0("WebGLTextures: Unsupported texture color space:",St)),Pe}function si(Ye){return typeof HTMLImageElement<"u"&&Ye instanceof HTMLImageElement?(k.width=Ye.naturalWidth||Ye.width,k.height=Ye.naturalHeight||Ye.height):typeof VideoFrame<"u"&&Ye instanceof VideoFrame?(k.width=Ye.displayWidth,k.height=Ye.displayHeight):(k.width=Ye.width,k.height=Ye.height),k}this.allocateTextureUnit=yt,this.resetTextureUnits=ft,this.setTexture2D=Dt,this.setTexture2DArray=ct,this.setTexture3D=Wt,this.setTextureCube=vt,this.rebindTextures=M2,this.setupRenderTarget=J0,this.updateRenderTargetMipmap=Fn,this.updateMultisampleRenderTarget=qi,this.setupDepthRenderbuffer=Bi,this.setupFrameBufferTexture=e0,this.useMultisampledRTT=b0}function kue(v,r){function c(f,_=ms){let y;const T=fi.getTransfer(_);if(f===T2)return v.UNSIGNED_BYTE;if(f===dp)return v.UNSIGNED_SHORT_4_4_4_4;if(f===mp)return v.UNSIGNED_SHORT_5_5_5_1;if(f===gp)return v.UNSIGNED_INT_5_9_9_9_REV;if(f===xp)return v.UNSIGNED_INT_10F_11F_11F_REV;if(f===Ga)return v.BYTE;if(f===Va)return v.SHORT;if(f===lo)return v.UNSIGNED_SHORT;if(f===vr)return v.INT;if(f===Yn)return v.UNSIGNED_INT;if(f===I2)return v.FLOAT;if(f===K2)return v.HALF_FLOAT;if(f===Ad)return v.ALPHA;if(f===gf)return v.RGB;if(f===w2)return v.RGBA;if(f===Ps)return v.DEPTH_COMPONENT;if(f===Ls)return v.DEPTH_STENCIL;if(f===xf)return v.RED;if(f===Ol)return v.RED_INTEGER;if(f===uo)return v.RG;if(f===Gl)return v.RG_INTEGER;if(f===Vl)return v.RGBA_INTEGER;if(f===Q1||f===J1||f===ea||f===ta)if(T===N0)if(y=r.get("WEBGL_compressed_texture_s3tc_srgb"),y!==null){if(f===Q1)return y.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(f===J1)return y.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(f===ea)return y.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(f===ta)return y.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(y=r.get("WEBGL_compressed_texture_s3tc"),y!==null){if(f===Q1)return y.COMPRESSED_RGB_S3TC_DXT1_EXT;if(f===J1)return y.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(f===ea)return y.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(f===ta)return y.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(f===tf||f===nf||f===rf||f===sf)if(y=r.get("WEBGL_compressed_texture_pvrtc"),y!==null){if(f===tf)return y.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(f===nf)return y.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(f===rf)return y.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(f===sf)return y.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(f===al||f===cl||f===ll)if(y=r.get("WEBGL_compressed_texture_etc"),y!==null){if(f===al||f===cl)return T===N0?y.COMPRESSED_SRGB8_ETC2:y.COMPRESSED_RGB8_ETC2;if(f===ll)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:y.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(f===ul||f===fl||f===_l||f===pl||f===hl||f===dl||f===ml||f===gl||f===xl||f===yl||f===vl||f===Sl||f===Cl||f===Tl)if(y=r.get("WEBGL_compressed_texture_astc"),y!==null){if(f===ul)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:y.COMPRESSED_RGBA_ASTC_4x4_KHR;if(f===fl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:y.COMPRESSED_RGBA_ASTC_5x4_KHR;if(f===_l)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:y.COMPRESSED_RGBA_ASTC_5x5_KHR;if(f===pl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:y.COMPRESSED_RGBA_ASTC_6x5_KHR;if(f===hl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:y.COMPRESSED_RGBA_ASTC_6x6_KHR;if(f===dl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:y.COMPRESSED_RGBA_ASTC_8x5_KHR;if(f===ml)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:y.COMPRESSED_RGBA_ASTC_8x6_KHR;if(f===gl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:y.COMPRESSED_RGBA_ASTC_8x8_KHR;if(f===xl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:y.COMPRESSED_RGBA_ASTC_10x5_KHR;if(f===yl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:y.COMPRESSED_RGBA_ASTC_10x6_KHR;if(f===vl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:y.COMPRESSED_RGBA_ASTC_10x8_KHR;if(f===Sl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:y.COMPRESSED_RGBA_ASTC_10x10_KHR;if(f===Cl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:y.COMPRESSED_RGBA_ASTC_12x10_KHR;if(f===Tl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:y.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(f===wl||f===H4||f===j4)if(y=r.get("EXT_texture_compression_bptc"),y!==null){if(f===wl)return T===N0?y.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:y.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(f===H4)return y.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(f===j4)return y.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(f===Ml||f===Rl||f===Al||f===El)if(y=r.get("EXT_texture_compression_rgtc"),y!==null){if(f===Ml)return y.COMPRESSED_RED_RGTC1_EXT;if(f===Rl)return y.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(f===Al)return y.COMPRESSED_RED_GREEN_RGTC2_EXT;if(f===El)return y.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return f===Is?v.UNSIGNED_INT_24_8:v[f]!==void 0?v[f]:null}return{convert:c}}const Fue=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Bue=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Uue{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(r,c){if(this.texture===null){const f=new jg(r.texture);(r.depthNear!==c.depthNear||r.depthFar!==c.depthFar)&&(this.depthNear=r.depthNear,this.depthFar=r.depthFar),this.texture=f}}getMesh(r){if(this.texture!==null&&this.mesh===null){const c=r.cameras[0].viewport,f=new R1({vertexShader:Fue,fragmentShader:Bue,uniforms:{depthColor:{value:this.texture},depthWidth:{value:c.z},depthHeight:{value:c.w}}});this.mesh=new Q2(new Tf(20,20),f)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Oue extends N1{constructor(r,c){super();const f=this;let _=null,y=1,T=null,A="local-floor",N=1,k=null,V=null,j=null,K=null,Q=null,ie=null;const ce=typeof XRWebGLBinding<"u",ue=new Uue,re={},be=c.getContextAttributes();let De=null,Oe=null;const je=[],Be=[],We=new _i;let $e=null;const Ee=new Y2;Ee.viewport=new hi;const Ie=new Y2;Ie.viewport=new hi;const Je=[Ee,Ie],ft=new ex;let yt=null,Et=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(dt){let wt=je[dt];return wt===void 0&&(wt=new q_,je[dt]=wt),wt.getTargetRaySpace()},this.getControllerGrip=function(dt){let wt=je[dt];return wt===void 0&&(wt=new q_,je[dt]=wt),wt.getGripSpace()},this.getHand=function(dt){let wt=je[dt];return wt===void 0&&(wt=new q_,je[dt]=wt),wt.getHandSpace()};function Dt(dt){const wt=Be.indexOf(dt.inputSource);if(wt===-1)return;const e0=je[wt];e0!==void 0&&(e0.update(dt.inputSource,dt.frame,k||T),e0.dispatchEvent({type:dt.type,data:dt.inputSource}))}function ct(){_.removeEventListener("select",Dt),_.removeEventListener("selectstart",Dt),_.removeEventListener("selectend",Dt),_.removeEventListener("squeeze",Dt),_.removeEventListener("squeezestart",Dt),_.removeEventListener("squeezeend",Dt),_.removeEventListener("end",ct),_.removeEventListener("inputsourceschange",Wt);for(let dt=0;dt<je.length;dt++){const wt=Be[dt];wt!==null&&(Be[dt]=null,je[dt].disconnect(wt))}yt=null,Et=null,ue.reset();for(const dt in re)delete re[dt];r.setRenderTarget(De),Q=null,K=null,j=null,_=null,Oe=null,y0.stop(),f.isPresenting=!1,r.setPixelRatio($e),r.setSize(We.width,We.height,!1),f.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(dt){y=dt,f.isPresenting===!0&&jt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(dt){A=dt,f.isPresenting===!0&&jt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return k||T},this.setReferenceSpace=function(dt){k=dt},this.getBaseLayer=function(){return K!==null?K:Q},this.getBinding=function(){return j===null&&ce&&(j=new XRWebGLBinding(_,c)),j},this.getFrame=function(){return ie},this.getSession=function(){return _},this.setSession=async function(dt){if(_=dt,_!==null){if(De=r.getRenderTarget(),_.addEventListener("select",Dt),_.addEventListener("selectstart",Dt),_.addEventListener("selectend",Dt),_.addEventListener("squeeze",Dt),_.addEventListener("squeezestart",Dt),_.addEventListener("squeezeend",Dt),_.addEventListener("end",ct),_.addEventListener("inputsourceschange",Wt),be.xrCompatible!==!0&&await c.makeXRCompatible(),$e=r.getPixelRatio(),r.getSize(We),ce&&"createProjectionLayer"in XRWebGLBinding.prototype){let e0=null,B0=null,A0=null;be.depth&&(A0=be.stencil?c.DEPTH24_STENCIL8:c.DEPTH_COMPONENT24,e0=be.stencil?Ls:Ps,B0=be.stencil?Is:Yn);const Bi={colorFormat:c.RGBA8,depthFormat:A0,scaleFactor:y};j=this.getBinding(),K=j.createProjectionLayer(Bi),_.updateRenderState({layers:[K]}),r.setPixelRatio(1),r.setSize(K.textureWidth,K.textureHeight,!1),Oe=new $a(K.textureWidth,K.textureHeight,{format:w2,type:T2,depthTexture:new qs(K.textureWidth,K.textureHeight,B0,void 0,void 0,void 0,void 0,void 0,void 0,e0),stencilBuffer:be.stencil,colorSpace:r.outputColorSpace,samples:be.antialias?4:0,resolveDepthBuffer:K.ignoreDepthValues===!1,resolveStencilBuffer:K.ignoreDepthValues===!1})}else{const e0={antialias:be.antialias,alpha:!0,depth:be.depth,stencil:be.stencil,framebufferScaleFactor:y};Q=new XRWebGLLayer(_,c,e0),_.updateRenderState({baseLayer:Q}),r.setPixelRatio(1),r.setSize(Q.framebufferWidth,Q.framebufferHeight,!1),Oe=new $a(Q.framebufferWidth,Q.framebufferHeight,{format:w2,type:T2,colorSpace:r.outputColorSpace,stencilBuffer:be.stencil,resolveDepthBuffer:Q.ignoreDepthValues===!1,resolveStencilBuffer:Q.ignoreDepthValues===!1})}Oe.isXRRenderTarget=!0,this.setFoveation(N),k=null,T=await _.requestReferenceSpace(A),y0.setContext(_),y0.start(),f.isPresenting=!0,f.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(_!==null)return _.environmentBlendMode},this.getDepthTexture=function(){return ue.getDepthTexture()};function Wt(dt){for(let wt=0;wt<dt.removed.length;wt++){const e0=dt.removed[wt],B0=Be.indexOf(e0);B0>=0&&(Be[B0]=null,je[B0].disconnect(e0))}for(let wt=0;wt<dt.added.length;wt++){const e0=dt.added[wt];let B0=Be.indexOf(e0);if(B0===-1){for(let Bi=0;Bi<je.length;Bi++)if(Bi>=Be.length){Be.push(e0),B0=Bi;break}else if(Be[Bi]===null){Be[Bi]=e0,B0=Bi;break}if(B0===-1)break}const A0=je[B0];A0&&A0.connect(e0)}}const vt=new at,Ht=new at;function Qt(dt,wt,e0){vt.setFromMatrixPosition(wt.matrixWorld),Ht.setFromMatrixPosition(e0.matrixWorld);const B0=vt.distanceTo(Ht),A0=wt.projectionMatrix.elements,Bi=e0.projectionMatrix.elements,M2=A0[14]/(A0[10]-1),J0=A0[14]/(A0[10]+1),Fn=(A0[9]+1)/A0[5],tt=(A0[9]-1)/A0[5],ki=(A0[8]-1)/A0[0],qi=(Bi[8]+1)/Bi[0],wn=M2*ki,b0=M2*qi,Bn=B0/(-ki+qi),ri=Bn*-ki;if(wt.matrixWorld.decompose(dt.position,dt.quaternion,dt.scale),dt.translateX(ri),dt.translateZ(Bn),dt.matrixWorld.compose(dt.position,dt.quaternion,dt.scale),dt.matrixWorldInverse.copy(dt.matrixWorld).invert(),A0[10]===-1)dt.projectionMatrix.copy(wt.projectionMatrix),dt.projectionMatrixInverse.copy(wt.projectionMatrixInverse);else{const si=M2+Bn,Ye=J0+Bn,Pe=wn-ri,St=b0+(B0-ri),Yt=Fn*J0/Ye*si,Jt=tt*J0/Ye*si;dt.projectionMatrix.makePerspective(Pe,St,Yt,Jt,si,Ye),dt.projectionMatrixInverse.copy(dt.projectionMatrix).invert()}}function a0(dt,wt){wt===null?dt.matrixWorld.copy(dt.matrix):dt.matrixWorld.multiplyMatrices(wt.matrixWorld,dt.matrix),dt.matrixWorldInverse.copy(dt.matrixWorld).invert()}this.updateCamera=function(dt){if(_===null)return;let wt=dt.near,e0=dt.far;ue.texture!==null&&(ue.depthNear>0&&(wt=ue.depthNear),ue.depthFar>0&&(e0=ue.depthFar)),ft.near=Ie.near=Ee.near=wt,ft.far=Ie.far=Ee.far=e0,(yt!==ft.near||Et!==ft.far)&&(_.updateRenderState({depthNear:ft.near,depthFar:ft.far}),yt=ft.near,Et=ft.far),ft.layers.mask=dt.layers.mask|6,Ee.layers.mask=ft.layers.mask&3,Ie.layers.mask=ft.layers.mask&5;const B0=dt.parent,A0=ft.cameras;a0(ft,B0);for(let Bi=0;Bi<A0.length;Bi++)a0(A0[Bi],B0);A0.length===2?Qt(ft,Ee,Ie):ft.projectionMatrix.copy(Ee.projectionMatrix),O0(dt,ft,B0)};function O0(dt,wt,e0){e0===null?dt.matrix.copy(wt.matrixWorld):(dt.matrix.copy(e0.matrixWorld),dt.matrix.invert(),dt.matrix.multiply(wt.matrixWorld)),dt.matrix.decompose(dt.position,dt.quaternion,dt.scale),dt.updateMatrixWorld(!0),dt.projectionMatrix.copy(wt.projectionMatrix),dt.projectionMatrixInverse.copy(wt.projectionMatrixInverse),dt.isPerspectiveCamera&&(dt.fov=Xa*2*Math.atan(1/dt.projectionMatrix.elements[5]),dt.zoom=1)}this.getCamera=function(){return ft},this.getFoveation=function(){if(!(K===null&&Q===null))return N},this.setFoveation=function(dt){N=dt,K!==null&&(K.fixedFoveation=dt),Q!==null&&Q.fixedFoveation!==void 0&&(Q.fixedFoveation=dt)},this.hasDepthSensing=function(){return ue.texture!==null},this.getDepthSensingMesh=function(){return ue.getMesh(ft)},this.getCameraTexture=function(dt){return re[dt]};let T0=null;function w0(dt,wt){if(V=wt.getViewerPose(k||T),ie=wt,V!==null){const e0=V.views;Q!==null&&(r.setRenderTargetFramebuffer(Oe,Q.framebuffer),r.setRenderTarget(Oe));let B0=!1;e0.length!==ft.cameras.length&&(ft.cameras.length=0,B0=!0);for(let J0=0;J0<e0.length;J0++){const Fn=e0[J0];let tt=null;if(Q!==null)tt=Q.getViewport(Fn);else{const qi=j.getViewSubImage(K,Fn);tt=qi.viewport,J0===0&&(r.setRenderTargetTextures(Oe,qi.colorTexture,qi.depthStencilTexture),r.setRenderTarget(Oe))}let ki=Je[J0];ki===void 0&&(ki=new Y2,ki.layers.enable(J0),ki.viewport=new hi,Je[J0]=ki),ki.matrix.fromArray(Fn.transform.matrix),ki.matrix.decompose(ki.position,ki.quaternion,ki.scale),ki.projectionMatrix.fromArray(Fn.projectionMatrix),ki.projectionMatrixInverse.copy(ki.projectionMatrix).invert(),ki.viewport.set(tt.x,tt.y,tt.width,tt.height),J0===0&&(ft.matrix.copy(ki.matrix),ft.matrix.decompose(ft.position,ft.quaternion,ft.scale)),B0===!0&&ft.cameras.push(ki)}const A0=_.enabledFeatures;if(A0&&A0.includes("depth-sensing")&&_.depthUsage=="gpu-optimized"&&ce){j=f.getBinding();const J0=j.getDepthInformation(e0[0]);J0&&J0.isValid&&J0.texture&&ue.init(J0,_.renderState)}if(A0&&A0.includes("camera-access")&&ce){r.state.unbindTexture(),j=f.getBinding();for(let J0=0;J0<e0.length;J0++){const Fn=e0[J0].camera;if(Fn){let tt=re[Fn];tt||(tt=new jg,re[Fn]=tt);const ki=j.getCameraImage(Fn);tt.sourceTexture=ki}}}}for(let e0=0;e0<je.length;e0++){const B0=Be[e0],A0=je[e0];B0!==null&&A0!==void 0&&A0.update(B0,wt,k||T)}T0&&T0(dt,wt),wt.detectedPlanes&&f.dispatchEvent({type:"planesdetected",data:wt}),ie=null}const y0=new tx;y0.setAnimationLoop(w0),this.setAnimationLoop=function(dt){T0=dt},this.dispose=function(){}}}const Aa=new ts,Gue=new Ri;function Vue(v,r){function c(ue,re){ue.matrixAutoUpdate===!0&&ue.updateMatrix(),re.value.copy(ue.matrix)}function f(ue,re){re.color.getRGB(ue.fogColor.value,Ug(v)),re.isFog?(ue.fogNear.value=re.near,ue.fogFar.value=re.far):re.isFogExp2&&(ue.fogDensity.value=re.density)}function _(ue,re,be,De,Oe){re.isMeshBasicMaterial||re.isMeshLambertMaterial?y(ue,re):re.isMeshToonMaterial?(y(ue,re),j(ue,re)):re.isMeshPhongMaterial?(y(ue,re),V(ue,re)):re.isMeshStandardMaterial?(y(ue,re),K(ue,re),re.isMeshPhysicalMaterial&&Q(ue,re,Oe)):re.isMeshMatcapMaterial?(y(ue,re),ie(ue,re)):re.isMeshDepthMaterial?y(ue,re):re.isMeshDistanceMaterial?(y(ue,re),ce(ue,re)):re.isMeshNormalMaterial?y(ue,re):re.isLineBasicMaterial?(T(ue,re),re.isLineDashedMaterial&&A(ue,re)):re.isPointsMaterial?N(ue,re,be,De):re.isSpriteMaterial?k(ue,re):re.isShadowMaterial?(ue.color.value.copy(re.color),ue.opacity.value=re.opacity):re.isShaderMaterial&&(re.uniformsNeedUpdate=!1)}function y(ue,re){ue.opacity.value=re.opacity,re.color&&ue.diffuse.value.copy(re.color),re.emissive&&ue.emissive.value.copy(re.emissive).multiplyScalar(re.emissiveIntensity),re.map&&(ue.map.value=re.map,c(re.map,ue.mapTransform)),re.alphaMap&&(ue.alphaMap.value=re.alphaMap,c(re.alphaMap,ue.alphaMapTransform)),re.bumpMap&&(ue.bumpMap.value=re.bumpMap,c(re.bumpMap,ue.bumpMapTransform),ue.bumpScale.value=re.bumpScale,re.side===Kn&&(ue.bumpScale.value*=-1)),re.normalMap&&(ue.normalMap.value=re.normalMap,c(re.normalMap,ue.normalMapTransform),ue.normalScale.value.copy(re.normalScale),re.side===Kn&&ue.normalScale.value.negate()),re.displacementMap&&(ue.displacementMap.value=re.displacementMap,c(re.displacementMap,ue.displacementMapTransform),ue.displacementScale.value=re.displacementScale,ue.displacementBias.value=re.displacementBias),re.emissiveMap&&(ue.emissiveMap.value=re.emissiveMap,c(re.emissiveMap,ue.emissiveMapTransform)),re.specularMap&&(ue.specularMap.value=re.specularMap,c(re.specularMap,ue.specularMapTransform)),re.alphaTest>0&&(ue.alphaTest.value=re.alphaTest);const be=r.get(re),De=be.envMap,Oe=be.envMapRotation;De&&(ue.envMap.value=De,Aa.copy(Oe),Aa.x*=-1,Aa.y*=-1,Aa.z*=-1,De.isCubeTexture&&De.isRenderTargetTexture===!1&&(Aa.y*=-1,Aa.z*=-1),ue.envMapRotation.value.setFromMatrix4(Gue.makeRotationFromEuler(Aa)),ue.flipEnvMap.value=De.isCubeTexture&&De.isRenderTargetTexture===!1?-1:1,ue.reflectivity.value=re.reflectivity,ue.ior.value=re.ior,ue.refractionRatio.value=re.refractionRatio),re.lightMap&&(ue.lightMap.value=re.lightMap,ue.lightMapIntensity.value=re.lightMapIntensity,c(re.lightMap,ue.lightMapTransform)),re.aoMap&&(ue.aoMap.value=re.aoMap,ue.aoMapIntensity.value=re.aoMapIntensity,c(re.aoMap,ue.aoMapTransform))}function T(ue,re){ue.diffuse.value.copy(re.color),ue.opacity.value=re.opacity,re.map&&(ue.map.value=re.map,c(re.map,ue.mapTransform))}function A(ue,re){ue.dashSize.value=re.dashSize,ue.totalSize.value=re.dashSize+re.gapSize,ue.scale.value=re.scale}function N(ue,re,be,De){ue.diffuse.value.copy(re.color),ue.opacity.value=re.opacity,ue.size.value=re.size*be,ue.scale.value=De*.5,re.map&&(ue.map.value=re.map,c(re.map,ue.uvTransform)),re.alphaMap&&(ue.alphaMap.value=re.alphaMap,c(re.alphaMap,ue.alphaMapTransform)),re.alphaTest>0&&(ue.alphaTest.value=re.alphaTest)}function k(ue,re){ue.diffuse.value.copy(re.color),ue.opacity.value=re.opacity,ue.rotation.value=re.rotation,re.map&&(ue.map.value=re.map,c(re.map,ue.mapTransform)),re.alphaMap&&(ue.alphaMap.value=re.alphaMap,c(re.alphaMap,ue.alphaMapTransform)),re.alphaTest>0&&(ue.alphaTest.value=re.alphaTest)}function V(ue,re){ue.specular.value.copy(re.specular),ue.shininess.value=Math.max(re.shininess,1e-4)}function j(ue,re){re.gradientMap&&(ue.gradientMap.value=re.gradientMap)}function K(ue,re){ue.metalness.value=re.metalness,re.metalnessMap&&(ue.metalnessMap.value=re.metalnessMap,c(re.metalnessMap,ue.metalnessMapTransform)),ue.roughness.value=re.roughness,re.roughnessMap&&(ue.roughnessMap.value=re.roughnessMap,c(re.roughnessMap,ue.roughnessMapTransform)),re.envMap&&(ue.envMapIntensity.value=re.envMapIntensity)}function Q(ue,re,be){ue.ior.value=re.ior,re.sheen>0&&(ue.sheenColor.value.copy(re.sheenColor).multiplyScalar(re.sheen),ue.sheenRoughness.value=re.sheenRoughness,re.sheenColorMap&&(ue.sheenColorMap.value=re.sheenColorMap,c(re.sheenColorMap,ue.sheenColorMapTransform)),re.sheenRoughnessMap&&(ue.sheenRoughnessMap.value=re.sheenRoughnessMap,c(re.sheenRoughnessMap,ue.sheenRoughnessMapTransform))),re.clearcoat>0&&(ue.clearcoat.value=re.clearcoat,ue.clearcoatRoughness.value=re.clearcoatRoughness,re.clearcoatMap&&(ue.clearcoatMap.value=re.clearcoatMap,c(re.clearcoatMap,ue.clearcoatMapTransform)),re.clearcoatRoughnessMap&&(ue.clearcoatRoughnessMap.value=re.clearcoatRoughnessMap,c(re.clearcoatRoughnessMap,ue.clearcoatRoughnessMapTransform)),re.clearcoatNormalMap&&(ue.clearcoatNormalMap.value=re.clearcoatNormalMap,c(re.clearcoatNormalMap,ue.clearcoatNormalMapTransform),ue.clearcoatNormalScale.value.copy(re.clearcoatNormalScale),re.side===Kn&&ue.clearcoatNormalScale.value.negate())),re.dispersion>0&&(ue.dispersion.value=re.dispersion),re.iridescence>0&&(ue.iridescence.value=re.iridescence,ue.iridescenceIOR.value=re.iridescenceIOR,ue.iridescenceThicknessMinimum.value=re.iridescenceThicknessRange[0],ue.iridescenceThicknessMaximum.value=re.iridescenceThicknessRange[1],re.iridescenceMap&&(ue.iridescenceMap.value=re.iridescenceMap,c(re.iridescenceMap,ue.iridescenceMapTransform)),re.iridescenceThicknessMap&&(ue.iridescenceThicknessMap.value=re.iridescenceThicknessMap,c(re.iridescenceThicknessMap,ue.iridescenceThicknessMapTransform))),re.transmission>0&&(ue.transmission.value=re.transmission,ue.transmissionSamplerMap.value=be.texture,ue.transmissionSamplerSize.value.set(be.width,be.height),re.transmissionMap&&(ue.transmissionMap.value=re.transmissionMap,c(re.transmissionMap,ue.transmissionMapTransform)),ue.thickness.value=re.thickness,re.thicknessMap&&(ue.thicknessMap.value=re.thicknessMap,c(re.thicknessMap,ue.thicknessMapTransform)),ue.attenuationDistance.value=re.attenuationDistance,ue.attenuationColor.value.copy(re.attenuationColor)),re.anisotropy>0&&(ue.anisotropyVector.value.set(re.anisotropy*Math.cos(re.anisotropyRotation),re.anisotropy*Math.sin(re.anisotropyRotation)),re.anisotropyMap&&(ue.anisotropyMap.value=re.anisotropyMap,c(re.anisotropyMap,ue.anisotropyMapTransform))),ue.specularIntensity.value=re.specularIntensity,ue.specularColor.value.copy(re.specularColor),re.specularColorMap&&(ue.specularColorMap.value=re.specularColorMap,c(re.specularColorMap,ue.specularColorMapTransform)),re.specularIntensityMap&&(ue.specularIntensityMap.value=re.specularIntensityMap,c(re.specularIntensityMap,ue.specularIntensityMapTransform))}function ie(ue,re){re.matcap&&(ue.matcap.value=re.matcap)}function ce(ue,re){const be=r.get(re).light;ue.referencePosition.value.setFromMatrixPosition(be.matrixWorld),ue.nearDistance.value=be.shadow.camera.near,ue.farDistance.value=be.shadow.camera.far}return{refreshFogUniforms:f,refreshMaterialUniforms:_}}function zue(v,r,c,f){let _={},y={},T=[];const A=v.getParameter(v.MAX_UNIFORM_BUFFER_BINDINGS);function N(be,De){const Oe=De.program;f.uniformBlockBinding(be,Oe)}function k(be,De){let Oe=_[be.id];Oe===void 0&&(ie(be),Oe=V(be),_[be.id]=Oe,be.addEventListener("dispose",ue));const je=De.program;f.updateUBOMapping(be,je);const Be=r.render.frame;y[be.id]!==Be&&(K(be),y[be.id]=Be)}function V(be){const De=j();be.__bindingPointIndex=De;const Oe=v.createBuffer(),je=be.__size,Be=be.usage;return v.bindBuffer(v.UNIFORM_BUFFER,Oe),v.bufferData(v.UNIFORM_BUFFER,je,Be),v.bindBuffer(v.UNIFORM_BUFFER,null),v.bindBufferBase(v.UNIFORM_BUFFER,De,Oe),Oe}function j(){for(let be=0;be<A;be++)if(T.indexOf(be)===-1)return T.push(be),be;return r0("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function K(be){const De=_[be.id],Oe=be.uniforms,je=be.__cache;v.bindBuffer(v.UNIFORM_BUFFER,De);for(let Be=0,We=Oe.length;Be<We;Be++){const $e=Array.isArray(Oe[Be])?Oe[Be]:[Oe[Be]];for(let Ee=0,Ie=$e.length;Ee<Ie;Ee++){const Je=$e[Ee];if(Q(Je,Be,Ee,je)===!0){const ft=Je.__offset,yt=Array.isArray(Je.value)?Je.value:[Je.value];let Et=0;for(let Dt=0;Dt<yt.length;Dt++){const ct=yt[Dt],Wt=ce(ct);typeof ct=="number"||typeof ct=="boolean"?(Je.__data[0]=ct,v.bufferSubData(v.UNIFORM_BUFFER,ft+Et,Je.__data)):ct.isMatrix3?(Je.__data[0]=ct.elements[0],Je.__data[1]=ct.elements[1],Je.__data[2]=ct.elements[2],Je.__data[3]=0,Je.__data[4]=ct.elements[3],Je.__data[5]=ct.elements[4],Je.__data[6]=ct.elements[5],Je.__data[7]=0,Je.__data[8]=ct.elements[6],Je.__data[9]=ct.elements[7],Je.__data[10]=ct.elements[8],Je.__data[11]=0):(ct.toArray(Je.__data,Et),Et+=Wt.storage/Float32Array.BYTES_PER_ELEMENT)}v.bufferSubData(v.UNIFORM_BUFFER,ft,Je.__data)}}}v.bindBuffer(v.UNIFORM_BUFFER,null)}function Q(be,De,Oe,je){const Be=be.value,We=De+"_"+Oe;if(je[We]===void 0)return typeof Be=="number"||typeof Be=="boolean"?je[We]=Be:je[We]=Be.clone(),!0;{const $e=je[We];if(typeof Be=="number"||typeof Be=="boolean"){if($e!==Be)return je[We]=Be,!0}else if($e.equals(Be)===!1)return $e.copy(Be),!0}return!1}function ie(be){const De=be.uniforms;let Oe=0;const je=16;for(let We=0,$e=De.length;We<$e;We++){const Ee=Array.isArray(De[We])?De[We]:[De[We]];for(let Ie=0,Je=Ee.length;Ie<Je;Ie++){const ft=Ee[Ie],yt=Array.isArray(ft.value)?ft.value:[ft.value];for(let Et=0,Dt=yt.length;Et<Dt;Et++){const ct=yt[Et],Wt=ce(ct),vt=Oe%je,Ht=vt%Wt.boundary,Qt=vt+Ht;Oe+=Ht,Qt!==0&&je-Qt<Wt.storage&&(Oe+=je-Qt),ft.__data=new Float32Array(Wt.storage/Float32Array.BYTES_PER_ELEMENT),ft.__offset=Oe,Oe+=Wt.storage}}}const Be=Oe%je;return Be>0&&(Oe+=je-Be),be.__size=Oe,be.__cache={},this}function ce(be){const De={boundary:0,storage:0};return typeof be=="number"||typeof be=="boolean"?(De.boundary=4,De.storage=4):be.isVector2?(De.boundary=8,De.storage=8):be.isVector3||be.isColor?(De.boundary=16,De.storage=12):be.isVector4?(De.boundary=16,De.storage=16):be.isMatrix3?(De.boundary=48,De.storage=48):be.isMatrix4?(De.boundary=64,De.storage=64):be.isTexture?jt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):jt("WebGLRenderer: Unsupported uniform value type.",be),De}function ue(be){const De=be.target;De.removeEventListener("dispose",ue);const Oe=T.indexOf(De.__bindingPointIndex);T.splice(Oe,1),v.deleteBuffer(_[De.id]),delete _[De.id],delete y[De.id]}function re(){for(const be in _)v.deleteBuffer(_[be]);T=[],_={},y={}}return{bind:N,update:k,dispose:re}}const Wue=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let f1=null;function Hue(){return f1===null&&(f1=new Sf(Wue,32,32,uo,K2),f1.minFilter=r2,f1.magFilter=r2,f1.wrapS=Sr,f1.wrapT=Sr,f1.generateMipmaps=!1,f1.needsUpdate=!0),f1}class jue{constructor(r={}){const{canvas:c=Lg(),context:f=null,depth:_=!0,stencil:y=!1,alpha:T=!1,antialias:A=!1,premultipliedAlpha:N=!0,preserveDrawingBuffer:k=!1,powerPreference:V="default",failIfMajorPerformanceCaveat:j=!1,reversedDepthBuffer:K=!1}=r;this.isWebGLRenderer=!0;let Q;if(f!==null){if(typeof WebGLRenderingContext<"u"&&f instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");Q=f.getContextAttributes().alpha}else Q=T;const ie=new Set([Vl,Gl,Ol]),ce=new Set([T2,Yn,lo,Is,dp,mp]),ue=new Uint32Array(4),re=new Int32Array(4);let be=null,De=null;const Oe=[],je=[];this.domElement=c,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Jr,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const Be=this;let We=!1;this._outputColorSpace=D2;let $e=0,Ee=0,Ie=null,Je=-1,ft=null;const yt=new hi,Et=new hi;let Dt=null;const ct=new ni(0);let Wt=0,vt=c.width,Ht=c.height,Qt=1,a0=null,O0=null;const T0=new hi(0,0,vt,Ht),w0=new hi(0,0,vt,Ht);let y0=!1;const dt=new Cf;let wt=!1,e0=!1;const B0=new Ri,A0=new at,Bi=new hi,M2={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let J0=!1;function Fn(){return Ie===null?Qt:1}let tt=f;function ki(Ue,pt){return c.getContext(Ue,pt)}try{const Ue={alpha:!0,depth:_,stencil:y,antialias:A,premultipliedAlpha:N,preserveDrawingBuffer:k,powerPreference:V,failIfMajorPerformanceCaveat:j};if("setAttribute"in c&&c.setAttribute("data-engine",`three.js r${Ul}`),c.addEventListener("webglcontextlost",s0,!1),c.addEventListener("webglcontextrestored",Zt,!1),c.addEventListener("webglcontextcreationerror",z0,!1),tt===null){const pt="webgl2";if(tt=ki(pt,Ue),tt===null)throw ki(pt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Ue){throw Ue("WebGLRenderer: "+Ue.message),Ue}let qi,wn,b0,Bn,ri,si,Ye,Pe,St,Yt,Jt,Ut,V0,g0,ai,X0,t0,c0,yi,ci,D0,Si,nt,S0;function d0(){qi=new Jce(tt),qi.init(),Si=new kue(tt,qi),wn=new Hce(tt,qi,r,Si),b0=new Pue(tt,qi),wn.reversedDepthBuffer&&K&&b0.buffers.depth.setReversed(!0),Bn=new ile(tt),ri=new vue,si=new Lue(tt,qi,b0,ri,wn,Si,Bn),Ye=new qce(Be),Pe=new Qce(Be),St=new o1e(tt),nt=new zce(tt,St),Yt=new ele(tt,St,Bn,nt),Jt=new rle(tt,Yt,St,Bn),yi=new nle(tt,wn,si),X0=new jce(ri),Ut=new yue(Be,Ye,Pe,qi,wn,nt,X0),V0=new Vue(Be,ri),g0=new Cue,ai=new Eue(qi),c0=new Vce(Be,Ye,Pe,b0,Jt,Q,N),t0=new Due(Be,Jt,wn),S0=new zue(tt,Bn,wn,b0),ci=new Wce(tt,qi,Bn),D0=new tle(tt,qi,Bn),Bn.programs=Ut.programs,Be.capabilities=wn,Be.extensions=qi,Be.properties=ri,Be.renderLists=g0,Be.shadowMap=t0,Be.state=b0,Be.info=Bn}d0();const m0=new Oue(Be,tt);this.xr=m0,this.getContext=function(){return tt},this.getContextAttributes=function(){return tt.getContextAttributes()},this.forceContextLoss=function(){const Ue=qi.get("WEBGL_lose_context");Ue&&Ue.loseContext()},this.forceContextRestore=function(){const Ue=qi.get("WEBGL_lose_context");Ue&&Ue.restoreContext()},this.getPixelRatio=function(){return Qt},this.setPixelRatio=function(Ue){Ue!==void 0&&(Qt=Ue,this.setSize(vt,Ht,!1))},this.getSize=function(Ue){return Ue.set(vt,Ht)},this.setSize=function(Ue,pt,At=!0){if(m0.isPresenting){jt("WebGLRenderer: Can't change size while VR device is presenting.");return}vt=Ue,Ht=pt,c.width=Math.floor(Ue*Qt),c.height=Math.floor(pt*Qt),At===!0&&(c.style.width=Ue+"px",c.style.height=pt+"px"),this.setViewport(0,0,Ue,pt)},this.getDrawingBufferSize=function(Ue){return Ue.set(vt*Qt,Ht*Qt).floor()},this.setDrawingBufferSize=function(Ue,pt,At){vt=Ue,Ht=pt,Qt=At,c.width=Math.floor(Ue*At),c.height=Math.floor(pt*At),this.setViewport(0,0,Ue,pt)},this.getCurrentViewport=function(Ue){return Ue.copy(yt)},this.getViewport=function(Ue){return Ue.copy(T0)},this.setViewport=function(Ue,pt,At,Nt){Ue.isVector4?T0.set(Ue.x,Ue.y,Ue.z,Ue.w):T0.set(Ue,pt,At,Nt),b0.viewport(yt.copy(T0).multiplyScalar(Qt).round())},this.getScissor=function(Ue){return Ue.copy(w0)},this.setScissor=function(Ue,pt,At,Nt){Ue.isVector4?w0.set(Ue.x,Ue.y,Ue.z,Ue.w):w0.set(Ue,pt,At,Nt),b0.scissor(Et.copy(w0).multiplyScalar(Qt).round())},this.getScissorTest=function(){return y0},this.setScissorTest=function(Ue){b0.setScissorTest(y0=Ue)},this.setOpaqueSort=function(Ue){a0=Ue},this.setTransparentSort=function(Ue){O0=Ue},this.getClearColor=function(Ue){return Ue.copy(c0.getClearColor())},this.setClearColor=function(){c0.setClearColor(...arguments)},this.getClearAlpha=function(){return c0.getClearAlpha()},this.setClearAlpha=function(){c0.setClearAlpha(...arguments)},this.clear=function(Ue=!0,pt=!0,At=!0){let Nt=0;if(Ue){let xt=!1;if(Ie!==null){const l0=Ie.texture.format;xt=ie.has(l0)}if(xt){const l0=Ie.texture.type,M0=ce.has(l0),W0=c0.getClearColor(),L0=c0.getClearAlpha(),di=W0.r,Ci=W0.g,$0=W0.b;M0?(ue[0]=di,ue[1]=Ci,ue[2]=$0,ue[3]=L0,tt.clearBufferuiv(tt.COLOR,0,ue)):(re[0]=di,re[1]=Ci,re[2]=$0,re[3]=L0,tt.clearBufferiv(tt.COLOR,0,re))}else Nt|=tt.COLOR_BUFFER_BIT}pt&&(Nt|=tt.DEPTH_BUFFER_BIT),At&&(Nt|=tt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),tt.clear(Nt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){c.removeEventListener("webglcontextlost",s0,!1),c.removeEventListener("webglcontextrestored",Zt,!1),c.removeEventListener("webglcontextcreationerror",z0,!1),c0.dispose(),g0.dispose(),ai.dispose(),ri.dispose(),Ye.dispose(),Pe.dispose(),Jt.dispose(),nt.dispose(),S0.dispose(),Ut.dispose(),m0.dispose(),m0.removeEventListener("sessionstart",nc),m0.removeEventListener("sessionend",rc),Ys.stop()};function s0(Ue){Ue.preventDefault(),af("WebGLRenderer: Context Lost."),We=!0}function Zt(){af("WebGLRenderer: Context Restored."),We=!1;const Ue=Bn.autoReset,pt=t0.enabled,At=t0.autoUpdate,Nt=t0.needsUpdate,xt=t0.type;d0(),Bn.autoReset=Ue,t0.enabled=pt,t0.autoUpdate=At,t0.needsUpdate=Nt,t0.type=xt}function z0(Ue){r0("WebGLRenderer: A WebGL context could not be created. Reason: ",Ue.statusMessage)}function Ai(Ue){const pt=Ue.target;pt.removeEventListener("dispose",Ai),yn(pt)}function yn(Ue){Gi(Ue),ri.remove(Ue)}function Gi(Ue){const pt=ri.get(Ue).programs;pt!==void 0&&(pt.forEach(function(At){Ut.releaseProgram(At)}),Ue.isShaderMaterial&&Ut.releaseShaderCache(Ue))}this.renderBufferDirect=function(Ue,pt,At,Nt,xt,l0){pt===null&&(pt=M2);const M0=xt.isMesh&&xt.matrixWorld.determinant()<0,W0=Zl(Ue,pt,At,Nt,xt);b0.setMaterial(Nt,M0);let L0=At.index,di=1;if(Nt.wireframe===!0){if(L0=Yt.getWireframeAttribute(At),L0===void 0)return;di=2}const Ci=At.drawRange,$0=At.attributes.position;let Ui=Ci.start*di,mn=(Ci.start+Ci.count)*di;l0!==null&&(Ui=Math.max(Ui,l0.start*di),mn=Math.min(mn,(l0.start+l0.count)*di)),L0!==null?(Ui=Math.max(Ui,0),mn=Math.min(mn,L0.count)):$0!=null&&(Ui=Math.max(Ui,0),mn=Math.min(mn,$0.count));const Zn=mn-Ui;if(Zn<0||Zn===1/0)return;nt.setup(xt,Nt,W0,At,L0);let Wn,Ni=ci;if(L0!==null&&(Wn=St.get(L0),Ni=D0,Ni.setIndex(Wn)),xt.isMesh)Nt.wireframe===!0?(b0.setLineWidth(Nt.wireframeLinewidth*Fn()),Ni.setMode(tt.LINES)):Ni.setMode(tt.TRIANGLES);else if(xt.isLine){let pi=Nt.linewidth;pi===void 0&&(pi=1),b0.setLineWidth(pi*Fn()),xt.isLineSegments?Ni.setMode(tt.LINES):xt.isLineLoop?Ni.setMode(tt.LINE_LOOP):Ni.setMode(tt.LINE_STRIP)}else xt.isPoints?Ni.setMode(tt.POINTS):xt.isSprite&&Ni.setMode(tt.TRIANGLES);if(xt.isBatchedMesh)if(xt._multiDrawInstances!==null)a2("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Ni.renderMultiDrawInstances(xt._multiDrawStarts,xt._multiDrawCounts,xt._multiDrawCount,xt._multiDrawInstances);else if(qi.get("WEBGL_multi_draw"))Ni.renderMultiDraw(xt._multiDrawStarts,xt._multiDrawCounts,xt._multiDrawCount);else{const pi=xt._multiDrawStarts,bn=xt._multiDrawCounts,en=xt._multiDrawCount,cn=L0?St.get(L0).bytesPerElement:1,Fs=ri.get(Nt).currentProgram.getUniforms();for(let f2=0;f2<en;f2++)Fs.setValue(tt,"_gl_DrawID",f2),Ni.render(pi[f2]/cn,bn[f2])}else if(xt.isInstancedMesh)Ni.renderInstances(Ui,Zn,xt.count);else if(At.isInstancedBufferGeometry){const pi=At._maxInstanceCount!==void 0?At._maxInstanceCount:1/0,bn=Math.min(At.instanceCount,pi);Ni.renderInstances(Ui,Zn,bn)}else Ni.render(Ui,Zn)};function Cr(Ue,pt,At){Ue.transparent===!0&&Ue.side===Ar&&Ue.forceSinglePass===!1?(Ue.side=Kn,Ue.needsUpdate=!0,I1(Ue,pt,At),Ue.side=ys,Ue.needsUpdate=!0,I1(Ue,pt,At),Ue.side=Ar):I1(Ue,pt,At)}this.compile=function(Ue,pt,At=null){At===null&&(At=Ue),De=ai.get(At),De.init(pt),je.push(De),At.traverseVisible(function(xt){xt.isLight&&xt.layers.test(pt.layers)&&(De.pushLight(xt),xt.castShadow&&De.pushShadow(xt))}),Ue!==At&&Ue.traverseVisible(function(xt){xt.isLight&&xt.layers.test(pt.layers)&&(De.pushLight(xt),xt.castShadow&&De.pushShadow(xt))}),De.setupLights();const Nt=new Set;return Ue.traverse(function(xt){if(!(xt.isMesh||xt.isPoints||xt.isLine||xt.isSprite))return;const l0=xt.material;if(l0)if(Array.isArray(l0))for(let M0=0;M0<l0.length;M0++){const W0=l0[M0];Cr(W0,At,xt),Nt.add(W0)}else Cr(l0,At,xt),Nt.add(l0)}),De=je.pop(),Nt},this.compileAsync=function(Ue,pt,At=null){const Nt=this.compile(Ue,pt,At);return new Promise(xt=>{function l0(){if(Nt.forEach(function(M0){ri.get(M0).currentProgram.isReady()&&Nt.delete(M0)}),Nt.size===0){xt(Ue);return}setTimeout(l0,10)}qi.get("KHR_parallel_shader_compile")!==null?l0():setTimeout(l0,10)})};let Nr=null;function ic(Ue){Nr&&Nr(Ue)}function nc(){Ys.stop()}function rc(){Ys.start()}const Ys=new tx;Ys.setAnimationLoop(ic),typeof self<"u"&&Ys.setContext(self),this.setAnimationLoop=function(Ue){Nr=Ue,m0.setAnimationLoop(Ue),Ue===null?Ys.stop():Ys.start()},m0.addEventListener("sessionstart",nc),m0.addEventListener("sessionend",rc),this.render=function(Ue,pt){if(pt!==void 0&&pt.isCamera!==!0){r0("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(We===!0)return;if(Ue.matrixWorldAutoUpdate===!0&&Ue.updateMatrixWorld(),pt.parent===null&&pt.matrixWorldAutoUpdate===!0&&pt.updateMatrixWorld(),m0.enabled===!0&&m0.isPresenting===!0&&(m0.cameraAutoUpdate===!0&&m0.updateCamera(pt),pt=m0.getCamera()),Ue.isScene===!0&&Ue.onBeforeRender(Be,Ue,pt,Ie),De=ai.get(Ue,je.length),De.init(pt),je.push(De),B0.multiplyMatrices(pt.projectionMatrix,pt.matrixWorldInverse),dt.setFromProjectionMatrix(B0,es,pt.reversedDepth),e0=this.localClippingEnabled,wt=X0.init(this.clippingPlanes,e0),be=g0.get(Ue,Oe.length),be.init(),Oe.push(be),m0.enabled===!0&&m0.isPresenting===!0){const l0=Be.xr.getDepthSensingMesh();l0!==null&&ua(l0,pt,-1/0,Be.sortObjects)}ua(Ue,pt,0,Be.sortObjects),be.finish(),Be.sortObjects===!0&&be.sort(a0,O0),J0=m0.enabled===!1||m0.isPresenting===!1||m0.hasDepthSensing()===!1,J0&&c0.addToRenderList(be,Ue),this.info.render.frame++,wt===!0&&X0.beginShadows();const At=De.state.shadowsArray;t0.render(At,Ue,pt),wt===!0&&X0.endShadows(),this.info.autoReset===!0&&this.info.reset();const Nt=be.opaque,xt=be.transmissive;if(De.setupLights(),pt.isArrayCamera){const l0=pt.cameras;if(xt.length>0)for(let M0=0,W0=l0.length;M0<W0;M0++){const L0=l0[M0];ks(Nt,xt,Ue,L0)}J0&&c0.render(Ue);for(let M0=0,W0=l0.length;M0<W0;M0++){const L0=l0[M0];fa(be,Ue,L0,L0.viewport)}}else xt.length>0&&ks(Nt,xt,Ue,pt),J0&&c0.render(Ue),fa(be,Ue,pt);Ie!==null&&Ee===0&&(si.updateMultisampleRenderTarget(Ie),si.updateRenderTargetMipmap(Ie)),Ue.isScene===!0&&Ue.onAfterRender(Be,Ue,pt),nt.resetDefaultState(),Je=-1,ft=null,je.pop(),je.length>0?(De=je[je.length-1],wt===!0&&X0.setGlobalState(Be.clippingPlanes,De.state.camera)):De=null,Oe.pop(),Oe.length>0?be=Oe[Oe.length-1]:be=null};function ua(Ue,pt,At,Nt){if(Ue.visible===!1)return;if(Ue.layers.test(pt.layers)){if(Ue.isGroup)At=Ue.renderOrder;else if(Ue.isLOD)Ue.autoUpdate===!0&&Ue.update(pt);else if(Ue.isLight)De.pushLight(Ue),Ue.castShadow&&De.pushShadow(Ue);else if(Ue.isSprite){if(!Ue.frustumCulled||dt.intersectsSprite(Ue)){Nt&&Bi.setFromMatrixPosition(Ue.matrixWorld).applyMatrix4(B0);const M0=Jt.update(Ue),W0=Ue.material;W0.visible&&be.push(Ue,M0,W0,At,Bi.z,null)}}else if((Ue.isMesh||Ue.isLine||Ue.isPoints)&&(!Ue.frustumCulled||dt.intersectsObject(Ue))){const M0=Jt.update(Ue),W0=Ue.material;if(Nt&&(Ue.boundingSphere!==void 0?(Ue.boundingSphere===null&&Ue.computeBoundingSphere(),Bi.copy(Ue.boundingSphere.center)):(M0.boundingSphere===null&&M0.computeBoundingSphere(),Bi.copy(M0.boundingSphere.center)),Bi.applyMatrix4(Ue.matrixWorld).applyMatrix4(B0)),Array.isArray(W0)){const L0=M0.groups;for(let di=0,Ci=L0.length;di<Ci;di++){const $0=L0[di],Ui=W0[$0.materialIndex];Ui&&Ui.visible&&be.push(Ue,M0,Ui,At,Bi.z,$0)}}else W0.visible&&be.push(Ue,M0,W0,At,Bi.z,null)}}const l0=Ue.children;for(let M0=0,W0=l0.length;M0<W0;M0++)ua(l0[M0],pt,At,Nt)}function fa(Ue,pt,At,Nt){const{opaque:xt,transmissive:l0,transparent:M0}=Ue;De.setupLightsView(At),wt===!0&&X0.setGlobalState(Be.clippingPlanes,At),Nt&&b0.viewport(yt.copy(Nt)),xt.length>0&&Cs(xt,pt,At),l0.length>0&&Cs(l0,pt,At),M0.length>0&&Cs(M0,pt,At),b0.buffers.depth.setTest(!0),b0.buffers.depth.setMask(!0),b0.buffers.color.setMask(!0),b0.setPolygonOffset(!1)}function ks(Ue,pt,At,Nt){if((At.isScene===!0?At.overrideMaterial:null)!==null)return;De.state.transmissionRenderTarget[Nt.id]===void 0&&(De.state.transmissionRenderTarget[Nt.id]=new $a(1,1,{generateMipmaps:!0,type:qi.has("EXT_color_buffer_half_float")||qi.has("EXT_color_buffer_float")?K2:T2,minFilter:Ur,samples:4,stencilBuffer:y,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:fi.workingColorSpace}));const l0=De.state.transmissionRenderTarget[Nt.id],M0=Nt.viewport||yt;l0.setSize(M0.z*Be.transmissionResolutionScale,M0.w*Be.transmissionResolutionScale);const W0=Be.getRenderTarget(),L0=Be.getActiveCubeFace(),di=Be.getActiveMipmapLevel();Be.setRenderTarget(l0),Be.getClearColor(ct),Wt=Be.getClearAlpha(),Wt<1&&Be.setClearColor(16777215,.5),Be.clear(),J0&&c0.render(At);const Ci=Be.toneMapping;Be.toneMapping=Jr;const $0=Nt.viewport;if(Nt.viewport!==void 0&&(Nt.viewport=void 0),De.setupLightsView(Nt),wt===!0&&X0.setGlobalState(Be.clippingPlanes,Nt),Cs(Ue,At,Nt),si.updateMultisampleRenderTarget(l0),si.updateRenderTargetMipmap(l0),qi.has("WEBGL_multisampled_render_to_texture")===!1){let Ui=!1;for(let mn=0,Zn=pt.length;mn<Zn;mn++){const Wn=pt[mn],{object:Ni,geometry:pi,material:bn,group:en}=Wn;if(bn.side===Ar&&Ni.layers.test(Nt.layers)){const cn=bn.side;bn.side=Kn,bn.needsUpdate=!0,sc(Ni,At,Nt,pi,bn,en),bn.side=cn,bn.needsUpdate=!0,Ui=!0}}Ui===!0&&(si.updateMultisampleRenderTarget(l0),si.updateRenderTargetMipmap(l0))}Be.setRenderTarget(W0,L0,di),Be.setClearColor(ct,Wt),$0!==void 0&&(Nt.viewport=$0),Be.toneMapping=Ci}function Cs(Ue,pt,At){const Nt=pt.isScene===!0?pt.overrideMaterial:null;for(let xt=0,l0=Ue.length;xt<l0;xt++){const M0=Ue[xt],{object:W0,geometry:L0,group:di}=M0;let Ci=M0.material;Ci.allowOverride===!0&&Nt!==null&&(Ci=Nt),W0.layers.test(At.layers)&&sc(W0,pt,At,L0,Ci,di)}}function sc(Ue,pt,At,Nt,xt,l0){Ue.onBeforeRender(Be,pt,At,Nt,xt,l0),Ue.modelViewMatrix.multiplyMatrices(At.matrixWorldInverse,Ue.matrixWorld),Ue.normalMatrix.getNormalMatrix(Ue.modelViewMatrix),xt.onBeforeRender(Be,pt,At,Nt,Ue,l0),xt.transparent===!0&&xt.side===Ar&&xt.forceSinglePass===!1?(xt.side=Kn,xt.needsUpdate=!0,Be.renderBufferDirect(At,pt,Nt,xt,Ue,l0),xt.side=ys,xt.needsUpdate=!0,Be.renderBufferDirect(At,pt,Nt,xt,Ue,l0),xt.side=Ar):Be.renderBufferDirect(At,pt,Nt,xt,Ue,l0),Ue.onAfterRender(Be,pt,At,Nt,xt,l0)}function I1(Ue,pt,At){pt.isScene!==!0&&(pt=M2);const Nt=ri.get(Ue),xt=De.state.lights,l0=De.state.shadowsArray,M0=xt.state.version,W0=Ut.getParameters(Ue,xt.state,l0,pt,At),L0=Ut.getProgramCacheKey(W0);let di=Nt.programs;Nt.environment=Ue.isMeshStandardMaterial?pt.environment:null,Nt.fog=pt.fog,Nt.envMap=(Ue.isMeshStandardMaterial?Pe:Ye).get(Ue.envMap||Nt.environment),Nt.envMapRotation=Nt.environment!==null&&Ue.envMap===null?pt.environmentRotation:Ue.envMapRotation,di===void 0&&(Ue.addEventListener("dispose",Ai),di=new Map,Nt.programs=di);let Ci=di.get(L0);if(Ci!==void 0){if(Nt.currentProgram===Ci&&Nt.lightsStateVersion===M0)return ac(Ue,W0),Ci}else W0.uniforms=Ut.getUniforms(Ue),Ue.onBeforeCompile(W0,Be),Ci=Ut.acquireProgram(W0,L0),di.set(L0,Ci),Nt.uniforms=W0.uniforms;const $0=Nt.uniforms;return(!Ue.isShaderMaterial&&!Ue.isRawShaderMaterial||Ue.clipping===!0)&&($0.clippingPlanes=X0.uniform),ac(Ue,W0),Nt.needsLights=R2(Ue),Nt.lightsStateVersion=M0,Nt.needsLights&&($0.ambientLightColor.value=xt.state.ambient,$0.lightProbe.value=xt.state.probe,$0.directionalLights.value=xt.state.directional,$0.directionalLightShadows.value=xt.state.directionalShadow,$0.spotLights.value=xt.state.spot,$0.spotLightShadows.value=xt.state.spotShadow,$0.rectAreaLights.value=xt.state.rectArea,$0.ltc_1.value=xt.state.rectAreaLTC1,$0.ltc_2.value=xt.state.rectAreaLTC2,$0.pointLights.value=xt.state.point,$0.pointLightShadows.value=xt.state.pointShadow,$0.hemisphereLights.value=xt.state.hemi,$0.directionalShadowMap.value=xt.state.directionalShadowMap,$0.directionalShadowMatrix.value=xt.state.directionalShadowMatrix,$0.spotShadowMap.value=xt.state.spotShadowMap,$0.spotLightMatrix.value=xt.state.spotLightMatrix,$0.spotLightMap.value=xt.state.spotLightMap,$0.pointShadowMap.value=xt.state.pointShadowMap,$0.pointShadowMatrix.value=xt.state.pointShadowMatrix),Nt.currentProgram=Ci,Nt.uniformsList=null,Ci}function oc(Ue){if(Ue.uniformsList===null){const pt=Ue.currentProgram.getUniforms();Ue.uniformsList=X_.seqWithValue(pt.seq,Ue.uniforms)}return Ue.uniformsList}function ac(Ue,pt){const At=ri.get(Ue);At.outputColorSpace=pt.outputColorSpace,At.batching=pt.batching,At.batchingColor=pt.batchingColor,At.instancing=pt.instancing,At.instancingColor=pt.instancingColor,At.instancingMorph=pt.instancingMorph,At.skinning=pt.skinning,At.morphTargets=pt.morphTargets,At.morphNormals=pt.morphNormals,At.morphColors=pt.morphColors,At.morphTargetsCount=pt.morphTargetsCount,At.numClippingPlanes=pt.numClippingPlanes,At.numIntersection=pt.numClipIntersection,At.vertexAlphas=pt.vertexAlphas,At.vertexTangents=pt.vertexTangents,At.toneMapping=pt.toneMapping}function Zl(Ue,pt,At,Nt,xt){pt.isScene!==!0&&(pt=M2),si.resetTextureUnits();const l0=pt.fog,M0=Nt.isMeshStandardMaterial?pt.environment:null,W0=Ie===null?Be.outputColorSpace:Ie.isXRRenderTarget===!0?Ie.texture.colorSpace:qa,L0=(Nt.isMeshStandardMaterial?Pe:Ye).get(Nt.envMap||M0),di=Nt.vertexColors===!0&&!!At.attributes.color&&At.attributes.color.itemSize===4,Ci=!!At.attributes.tangent&&(!!Nt.normalMap||Nt.anisotropy>0),$0=!!At.morphAttributes.position,Ui=!!At.morphAttributes.normal,mn=!!At.morphAttributes.color;let Zn=Jr;Nt.toneMapped&&(Ie===null||Ie.isXRRenderTarget===!0)&&(Zn=Be.toneMapping);const Wn=At.morphAttributes.position||At.morphAttributes.normal||At.morphAttributes.color,Ni=Wn!==void 0?Wn.length:0,pi=ri.get(Nt),bn=De.state.lights;if(wt===!0&&(e0===!0||Ue!==ft)){const A2=Ue===ft&&Nt.id===Je;X0.setState(Nt,Ue,A2)}let en=!1;Nt.version===pi.__version?(pi.needsLights&&pi.lightsStateVersion!==bn.state.version||pi.outputColorSpace!==W0||xt.isBatchedMesh&&pi.batching===!1||!xt.isBatchedMesh&&pi.batching===!0||xt.isBatchedMesh&&pi.batchingColor===!0&&xt.colorTexture===null||xt.isBatchedMesh&&pi.batchingColor===!1&&xt.colorTexture!==null||xt.isInstancedMesh&&pi.instancing===!1||!xt.isInstancedMesh&&pi.instancing===!0||xt.isSkinnedMesh&&pi.skinning===!1||!xt.isSkinnedMesh&&pi.skinning===!0||xt.isInstancedMesh&&pi.instancingColor===!0&&xt.instanceColor===null||xt.isInstancedMesh&&pi.instancingColor===!1&&xt.instanceColor!==null||xt.isInstancedMesh&&pi.instancingMorph===!0&&xt.morphTexture===null||xt.isInstancedMesh&&pi.instancingMorph===!1&&xt.morphTexture!==null||pi.envMap!==L0||Nt.fog===!0&&pi.fog!==l0||pi.numClippingPlanes!==void 0&&(pi.numClippingPlanes!==X0.numPlanes||pi.numIntersection!==X0.numIntersection)||pi.vertexAlphas!==di||pi.vertexTangents!==Ci||pi.morphTargets!==$0||pi.morphNormals!==Ui||pi.morphColors!==mn||pi.toneMapping!==Zn||pi.morphTargetsCount!==Ni)&&(en=!0):(en=!0,pi.__version=Nt.version);let cn=pi.currentProgram;en===!0&&(cn=I1(Nt,pt,xt));let Fs=!1,f2=!1,mo=!1;const On=cn.getUniforms(),G2=pi.uniforms;if(b0.useProgram(cn.program)&&(Fs=!0,f2=!0,mo=!0),Nt.id!==Je&&(Je=Nt.id,f2=!0),Fs||ft!==Ue){b0.buffers.depth.getReversed()&&Ue.reversedDepth!==!0&&(Ue._reversedDepth=!0,Ue.updateProjectionMatrix()),On.setValue(tt,"projectionMatrix",Ue.projectionMatrix),On.setValue(tt,"viewMatrix",Ue.matrixWorldInverse);const tr=On.map.cameraPosition;tr!==void 0&&tr.setValue(tt,A0.setFromMatrixPosition(Ue.matrixWorld)),wn.logarithmicDepthBuffer&&On.setValue(tt,"logDepthBufFC",2/(Math.log(Ue.far+1)/Math.LN2)),(Nt.isMeshPhongMaterial||Nt.isMeshToonMaterial||Nt.isMeshLambertMaterial||Nt.isMeshBasicMaterial||Nt.isMeshStandardMaterial||Nt.isShaderMaterial)&&On.setValue(tt,"isOrthographic",Ue.isOrthographicCamera===!0),ft!==Ue&&(ft=Ue,f2=!0,mo=!0)}if(xt.isSkinnedMesh){On.setOptional(tt,xt,"bindMatrix"),On.setOptional(tt,xt,"bindMatrixInverse");const A2=xt.skeleton;A2&&(A2.boneTexture===null&&A2.computeBoneTexture(),On.setValue(tt,"boneTexture",A2.boneTexture,si))}xt.isBatchedMesh&&(On.setOptional(tt,xt,"batchingTexture"),On.setValue(tt,"batchingTexture",xt._matricesTexture,si),On.setOptional(tt,xt,"batchingIdTexture"),On.setValue(tt,"batchingIdTexture",xt._indirectTexture,si),On.setOptional(tt,xt,"batchingColorTexture"),xt._colorsTexture!==null&&On.setValue(tt,"batchingColorTexture",xt._colorsTexture,si));const er=At.morphAttributes;if((er.position!==void 0||er.normal!==void 0||er.color!==void 0)&&yi.update(xt,At,cn),(f2||pi.receiveShadow!==xt.receiveShadow)&&(pi.receiveShadow=xt.receiveShadow,On.setValue(tt,"receiveShadow",xt.receiveShadow)),Nt.isMeshGouraudMaterial&&Nt.envMap!==null&&(G2.envMap.value=L0,G2.flipEnvMap.value=L0.isCubeTexture&&L0.isRenderTargetTexture===!1?-1:1),Nt.isMeshStandardMaterial&&Nt.envMap===null&&pt.environment!==null&&(G2.envMapIntensity.value=pt.environmentIntensity),G2.dfgLUT!==void 0&&(G2.dfgLUT.value=Hue()),f2&&(On.setValue(tt,"toneMappingExposure",Be.toneMappingExposure),pi.needsLights&&ho(G2,mo),l0&&Nt.fog===!0&&V0.refreshFogUniforms(G2,l0),V0.refreshMaterialUniforms(G2,Nt,Qt,Ht,De.state.transmissionRenderTarget[Ue.id]),X_.upload(tt,oc(pi),G2,si)),Nt.isShaderMaterial&&Nt.uniformsNeedUpdate===!0&&(X_.upload(tt,oc(pi),G2,si),Nt.uniformsNeedUpdate=!1),Nt.isSpriteMaterial&&On.setValue(tt,"center",xt.center),On.setValue(tt,"modelViewMatrix",xt.modelViewMatrix),On.setValue(tt,"normalMatrix",xt.normalMatrix),On.setValue(tt,"modelMatrix",xt.matrixWorld),Nt.isShaderMaterial||Nt.isRawShaderMaterial){const A2=Nt.uniformsGroups;for(let tr=0,_a=A2.length;tr<_a;tr++){const ei=A2[tr];S0.update(ei,cn),S0.bind(ei,cn)}}return cn}function ho(Ue,pt){Ue.ambientLightColor.needsUpdate=pt,Ue.lightProbe.needsUpdate=pt,Ue.directionalLights.needsUpdate=pt,Ue.directionalLightShadows.needsUpdate=pt,Ue.pointLights.needsUpdate=pt,Ue.pointLightShadows.needsUpdate=pt,Ue.spotLights.needsUpdate=pt,Ue.spotLightShadows.needsUpdate=pt,Ue.rectAreaLights.needsUpdate=pt,Ue.hemisphereLights.needsUpdate=pt}function R2(Ue){return Ue.isMeshLambertMaterial||Ue.isMeshToonMaterial||Ue.isMeshPhongMaterial||Ue.isMeshStandardMaterial||Ue.isShadowMaterial||Ue.isShaderMaterial&&Ue.lights===!0}this.getActiveCubeFace=function(){return $e},this.getActiveMipmapLevel=function(){return Ee},this.getRenderTarget=function(){return Ie},this.setRenderTargetTextures=function(Ue,pt,At){const Nt=ri.get(Ue);Nt.__autoAllocateDepthBuffer=Ue.resolveDepthBuffer===!1,Nt.__autoAllocateDepthBuffer===!1&&(Nt.__useRenderToTexture=!1),ri.get(Ue.texture).__webglTexture=pt,ri.get(Ue.depthTexture).__webglTexture=Nt.__autoAllocateDepthBuffer?void 0:At,Nt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Ue,pt){const At=ri.get(Ue);At.__webglFramebuffer=pt,At.__useDefaultFramebuffer=pt===void 0};const Ql=tt.createFramebuffer();this.setRenderTarget=function(Ue,pt=0,At=0){Ie=Ue,$e=pt,Ee=At;let Nt=!0,xt=null,l0=!1,M0=!1;if(Ue){const L0=ri.get(Ue);if(L0.__useDefaultFramebuffer!==void 0)b0.bindFramebuffer(tt.FRAMEBUFFER,null),Nt=!1;else if(L0.__webglFramebuffer===void 0)si.setupRenderTarget(Ue);else if(L0.__hasExternalTextures)si.rebindTextures(Ue,ri.get(Ue.texture).__webglTexture,ri.get(Ue.depthTexture).__webglTexture);else if(Ue.depthBuffer){const $0=Ue.depthTexture;if(L0.__boundDepthTexture!==$0){if($0!==null&&ri.has($0)&&(Ue.width!==$0.image.width||Ue.height!==$0.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");si.setupDepthRenderbuffer(Ue)}}const di=Ue.texture;(di.isData3DTexture||di.isDataArrayTexture||di.isCompressedArrayTexture)&&(M0=!0);const Ci=ri.get(Ue).__webglFramebuffer;Ue.isWebGLCubeRenderTarget?(Array.isArray(Ci[pt])?xt=Ci[pt][At]:xt=Ci[pt],l0=!0):Ue.samples>0&&si.useMultisampledRTT(Ue)===!1?xt=ri.get(Ue).__webglMultisampledFramebuffer:Array.isArray(Ci)?xt=Ci[At]:xt=Ci,yt.copy(Ue.viewport),Et.copy(Ue.scissor),Dt=Ue.scissorTest}else yt.copy(T0).multiplyScalar(Qt).floor(),Et.copy(w0).multiplyScalar(Qt).floor(),Dt=y0;if(At!==0&&(xt=Ql),b0.bindFramebuffer(tt.FRAMEBUFFER,xt)&&Nt&&b0.drawBuffers(Ue,xt),b0.viewport(yt),b0.scissor(Et),b0.setScissorTest(Dt),l0){const L0=ri.get(Ue.texture);tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_CUBE_MAP_POSITIVE_X+pt,L0.__webglTexture,At)}else if(M0){const L0=pt;for(let di=0;di<Ue.textures.length;di++){const Ci=ri.get(Ue.textures[di]);tt.framebufferTextureLayer(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0+di,Ci.__webglTexture,At,L0)}}else if(Ue!==null&&At!==0){const L0=ri.get(Ue.texture);tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,L0.__webglTexture,At)}Je=-1},this.readRenderTargetPixels=function(Ue,pt,At,Nt,xt,l0,M0,W0=0){if(!(Ue&&Ue.isWebGLRenderTarget)){r0("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let L0=ri.get(Ue).__webglFramebuffer;if(Ue.isWebGLCubeRenderTarget&&M0!==void 0&&(L0=L0[M0]),L0){b0.bindFramebuffer(tt.FRAMEBUFFER,L0);try{const di=Ue.textures[W0],Ci=di.format,$0=di.type;if(!wn.textureFormatReadable(Ci)){r0("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!wn.textureTypeReadable($0)){r0("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}pt>=0&&pt<=Ue.width-Nt&&At>=0&&At<=Ue.height-xt&&(Ue.textures.length>1&&tt.readBuffer(tt.COLOR_ATTACHMENT0+W0),tt.readPixels(pt,At,Nt,xt,Si.convert(Ci),Si.convert($0),l0))}finally{const di=Ie!==null?ri.get(Ie).__webglFramebuffer:null;b0.bindFramebuffer(tt.FRAMEBUFFER,di)}}},this.readRenderTargetPixelsAsync=async function(Ue,pt,At,Nt,xt,l0,M0,W0=0){if(!(Ue&&Ue.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let L0=ri.get(Ue).__webglFramebuffer;if(Ue.isWebGLCubeRenderTarget&&M0!==void 0&&(L0=L0[M0]),L0)if(pt>=0&&pt<=Ue.width-Nt&&At>=0&&At<=Ue.height-xt){b0.bindFramebuffer(tt.FRAMEBUFFER,L0);const di=Ue.textures[W0],Ci=di.format,$0=di.type;if(!wn.textureFormatReadable(Ci))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!wn.textureTypeReadable($0))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ui=tt.createBuffer();tt.bindBuffer(tt.PIXEL_PACK_BUFFER,Ui),tt.bufferData(tt.PIXEL_PACK_BUFFER,l0.byteLength,tt.STREAM_READ),Ue.textures.length>1&&tt.readBuffer(tt.COLOR_ATTACHMENT0+W0),tt.readPixels(pt,At,Nt,xt,Si.convert(Ci),Si.convert($0),0);const mn=Ie!==null?ri.get(Ie).__webglFramebuffer:null;b0.bindFramebuffer(tt.FRAMEBUFFER,mn);const Zn=tt.fenceSync(tt.SYNC_GPU_COMMANDS_COMPLETE,0);return tt.flush(),await Lse(tt,Zn,4),tt.bindBuffer(tt.PIXEL_PACK_BUFFER,Ui),tt.getBufferSubData(tt.PIXEL_PACK_BUFFER,0,l0),tt.deleteBuffer(Ui),tt.deleteSync(Zn),l0}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Ue,pt=null,At=0){const Nt=Math.pow(2,-At),xt=Math.floor(Ue.image.width*Nt),l0=Math.floor(Ue.image.height*Nt),M0=pt!==null?pt.x:0,W0=pt!==null?pt.y:0;si.setTexture2D(Ue,0),tt.copyTexSubImage2D(tt.TEXTURE_2D,At,0,0,M0,W0,xt,l0),b0.unbindTexture()};const Xo=tt.createFramebuffer(),Jl=tt.createFramebuffer();this.copyTextureToTexture=function(Ue,pt,At=null,Nt=null,xt=0,l0=null){l0===null&&(xt!==0?(a2("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),l0=xt,xt=0):l0=0);let M0,W0,L0,di,Ci,$0,Ui,mn,Zn;const Wn=Ue.isCompressedTexture?Ue.mipmaps[l0]:Ue.image;if(At!==null)M0=At.max.x-At.min.x,W0=At.max.y-At.min.y,L0=At.isBox3?At.max.z-At.min.z:1,di=At.min.x,Ci=At.min.y,$0=At.isBox3?At.min.z:0;else{const er=Math.pow(2,-xt);M0=Math.floor(Wn.width*er),W0=Math.floor(Wn.height*er),Ue.isDataArrayTexture?L0=Wn.depth:Ue.isData3DTexture?L0=Math.floor(Wn.depth*er):L0=1,di=0,Ci=0,$0=0}Nt!==null?(Ui=Nt.x,mn=Nt.y,Zn=Nt.z):(Ui=0,mn=0,Zn=0);const Ni=Si.convert(pt.format),pi=Si.convert(pt.type);let bn;pt.isData3DTexture?(si.setTexture3D(pt,0),bn=tt.TEXTURE_3D):pt.isDataArrayTexture||pt.isCompressedArrayTexture?(si.setTexture2DArray(pt,0),bn=tt.TEXTURE_2D_ARRAY):(si.setTexture2D(pt,0),bn=tt.TEXTURE_2D),tt.pixelStorei(tt.UNPACK_FLIP_Y_WEBGL,pt.flipY),tt.pixelStorei(tt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pt.premultiplyAlpha),tt.pixelStorei(tt.UNPACK_ALIGNMENT,pt.unpackAlignment);const en=tt.getParameter(tt.UNPACK_ROW_LENGTH),cn=tt.getParameter(tt.UNPACK_IMAGE_HEIGHT),Fs=tt.getParameter(tt.UNPACK_SKIP_PIXELS),f2=tt.getParameter(tt.UNPACK_SKIP_ROWS),mo=tt.getParameter(tt.UNPACK_SKIP_IMAGES);tt.pixelStorei(tt.UNPACK_ROW_LENGTH,Wn.width),tt.pixelStorei(tt.UNPACK_IMAGE_HEIGHT,Wn.height),tt.pixelStorei(tt.UNPACK_SKIP_PIXELS,di),tt.pixelStorei(tt.UNPACK_SKIP_ROWS,Ci),tt.pixelStorei(tt.UNPACK_SKIP_IMAGES,$0);const On=Ue.isDataArrayTexture||Ue.isData3DTexture,G2=pt.isDataArrayTexture||pt.isData3DTexture;if(Ue.isDepthTexture){const er=ri.get(Ue),A2=ri.get(pt),tr=ri.get(er.__renderTarget),_a=ri.get(A2.__renderTarget);b0.bindFramebuffer(tt.READ_FRAMEBUFFER,tr.__webglFramebuffer),b0.bindFramebuffer(tt.DRAW_FRAMEBUFFER,_a.__webglFramebuffer);for(let ei=0;ei<L0;ei++)On&&(tt.framebufferTextureLayer(tt.READ_FRAMEBUFFER,tt.COLOR_ATTACHMENT0,ri.get(Ue).__webglTexture,xt,$0+ei),tt.framebufferTextureLayer(tt.DRAW_FRAMEBUFFER,tt.COLOR_ATTACHMENT0,ri.get(pt).__webglTexture,l0,Zn+ei)),tt.blitFramebuffer(di,Ci,M0,W0,Ui,mn,M0,W0,tt.DEPTH_BUFFER_BIT,tt.NEAREST);b0.bindFramebuffer(tt.READ_FRAMEBUFFER,null),b0.bindFramebuffer(tt.DRAW_FRAMEBUFFER,null)}else if(xt!==0||Ue.isRenderTargetTexture||ri.has(Ue)){const er=ri.get(Ue),A2=ri.get(pt);b0.bindFramebuffer(tt.READ_FRAMEBUFFER,Xo),b0.bindFramebuffer(tt.DRAW_FRAMEBUFFER,Jl);for(let tr=0;tr<L0;tr++)On?tt.framebufferTextureLayer(tt.READ_FRAMEBUFFER,tt.COLOR_ATTACHMENT0,er.__webglTexture,xt,$0+tr):tt.framebufferTexture2D(tt.READ_FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,er.__webglTexture,xt),G2?tt.framebufferTextureLayer(tt.DRAW_FRAMEBUFFER,tt.COLOR_ATTACHMENT0,A2.__webglTexture,l0,Zn+tr):tt.framebufferTexture2D(tt.DRAW_FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,A2.__webglTexture,l0),xt!==0?tt.blitFramebuffer(di,Ci,M0,W0,Ui,mn,M0,W0,tt.COLOR_BUFFER_BIT,tt.NEAREST):G2?tt.copyTexSubImage3D(bn,l0,Ui,mn,Zn+tr,di,Ci,M0,W0):tt.copyTexSubImage2D(bn,l0,Ui,mn,di,Ci,M0,W0);b0.bindFramebuffer(tt.READ_FRAMEBUFFER,null),b0.bindFramebuffer(tt.DRAW_FRAMEBUFFER,null)}else G2?Ue.isDataTexture||Ue.isData3DTexture?tt.texSubImage3D(bn,l0,Ui,mn,Zn,M0,W0,L0,Ni,pi,Wn.data):pt.isCompressedArrayTexture?tt.compressedTexSubImage3D(bn,l0,Ui,mn,Zn,M0,W0,L0,Ni,Wn.data):tt.texSubImage3D(bn,l0,Ui,mn,Zn,M0,W0,L0,Ni,pi,Wn):Ue.isDataTexture?tt.texSubImage2D(tt.TEXTURE_2D,l0,Ui,mn,M0,W0,Ni,pi,Wn.data):Ue.isCompressedTexture?tt.compressedTexSubImage2D(tt.TEXTURE_2D,l0,Ui,mn,Wn.width,Wn.height,Ni,Wn.data):tt.texSubImage2D(tt.TEXTURE_2D,l0,Ui,mn,M0,W0,Ni,pi,Wn);tt.pixelStorei(tt.UNPACK_ROW_LENGTH,en),tt.pixelStorei(tt.UNPACK_IMAGE_HEIGHT,cn),tt.pixelStorei(tt.UNPACK_SKIP_PIXELS,Fs),tt.pixelStorei(tt.UNPACK_SKIP_ROWS,f2),tt.pixelStorei(tt.UNPACK_SKIP_IMAGES,mo),l0===0&&pt.generateMipmaps&&tt.generateMipmap(bn),b0.unbindTexture()},this.initRenderTarget=function(Ue){ri.get(Ue).__webglFramebuffer===void 0&&si.setupRenderTarget(Ue)},this.initTexture=function(Ue){Ue.isCubeTexture?si.setTextureCube(Ue,0):Ue.isData3DTexture?si.setTexture3D(Ue,0):Ue.isDataArrayTexture||Ue.isCompressedArrayTexture?si.setTexture2DArray(Ue,0):si.setTexture2D(Ue,0),b0.unbindTexture()},this.resetState=function(){$e=0,Ee=0,Ie=null,b0.reset(),nt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return es}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(r){this._outputColorSpace=r;const c=this.getContext();c.drawingBufferColorSpace=fi._getDrawingBufferColorSpace(r),c.unpackColorSpace=fi._getUnpackColorSpace()}}const que=["alphaMap","alphaTest","anisotropy","anisotropyMap","anisotropyRotation","aoMap","aoMapIntensity","attenuationColor","attenuationDistance","bumpMap","clearcoat","clearcoatMap","clearcoatNormalMap","clearcoatNormalScale","clearcoatRoughness","color","dispersion","displacementMap","emissive","emissiveIntensity","emissiveMap","envMap","envMapIntensity","gradientMap","ior","iridescence","iridescenceIOR","iridescenceMap","iridescenceThicknessMap","lightMap","lightMapIntensity","map","matcap","metalness","metalnessMap","normalMap","normalScale","opacity","roughness","roughnessMap","sheen","sheenColor","sheenColorMap","sheenRoughnessMap","shininess","specular","specularColor","specularColorMap","specularIntensity","specularIntensityMap","specularMap","thickness","transmission","transmissionMap"],l4=new WeakMap;class Xue{constructor(r){this.renderObjects=new WeakMap,this.hasNode=this.containsNode(r),this.hasAnimation=r.object.isSkinnedMesh===!0,this.refreshUniforms=que,this.renderId=0}firstInitialization(r){return this.renderObjects.has(r)===!1?(this.getRenderObjectData(r),!0):!1}needsVelocity(r){const c=r.getMRT();return c!==null&&c.has("velocity")}getRenderObjectData(r){let c=this.renderObjects.get(r);if(c===void 0){const{geometry:f,material:_,object:y}=r;if(c={material:this.getMaterialData(_),geometry:{id:f.id,attributes:this.getAttributesData(f.attributes),indexVersion:f.index?f.index.version:null,drawRange:{start:f.drawRange.start,count:f.drawRange.count}},worldMatrix:y.matrixWorld.clone()},y.center&&(c.center=y.center.clone()),y.morphTargetInfluences&&(c.morphTargetInfluences=y.morphTargetInfluences.slice()),r.bundle!==null&&(c.version=r.bundle.version),c.material.transmission>0){const{width:T,height:A}=r.context;c.bufferWidth=T,c.bufferHeight=A}c.lights=this.getLightsData(r.lightsNode.getLights()),this.renderObjects.set(r,c)}return c}getAttributesData(r){const c={};for(const f in r){const _=r[f];c[f]={version:_.version}}return c}containsNode(r){const c=r.material;for(const f in c)if(c[f]&&c[f].isNode)return!0;return r.renderer.overrideNodes.modelViewMatrix!==null||r.renderer.overrideNodes.modelNormalViewMatrix!==null}getMaterialData(r){const c={};for(const f of this.refreshUniforms){const _=r[f];_!=null&&(typeof _=="object"&&_.clone!==void 0?_.isTexture===!0?c[f]={id:_.id,version:_.version}:c[f]=_.clone():c[f]=_)}return c}equals(r,c){const{object:f,material:_,geometry:y}=r,T=this.getRenderObjectData(r);if(T.worldMatrix.equals(f.matrixWorld)!==!0)return T.worldMatrix.copy(f.matrixWorld),!1;const A=T.material;for(const ue in A){const re=A[ue],be=_[ue];if(re.equals!==void 0){if(re.equals(be)===!1)return re.copy(be),!1}else if(be.isTexture===!0){if(re.id!==be.id||re.version!==be.version)return re.id=be.id,re.version=be.version,!1}else if(re!==be)return A[ue]=be,!1}if(A.transmission>0){const{width:ue,height:re}=r.context;if(T.bufferWidth!==ue||T.bufferHeight!==re)return T.bufferWidth=ue,T.bufferHeight=re,!1}const N=T.geometry,k=y.attributes,V=N.attributes,j=Object.keys(V),K=Object.keys(k);if(N.id!==y.id)return N.id=y.id,!1;if(j.length!==K.length)return T.geometry.attributes=this.getAttributesData(k),!1;for(const ue of j){const re=V[ue],be=k[ue];if(be===void 0)return delete V[ue],!1;if(re.version!==be.version)return re.version=be.version,!1}const Q=y.index,ie=N.indexVersion,ce=Q?Q.version:null;if(ie!==ce)return N.indexVersion=ce,!1;if(N.drawRange.start!==y.drawRange.start||N.drawRange.count!==y.drawRange.count)return N.drawRange.start=y.drawRange.start,N.drawRange.count=y.drawRange.count,!1;if(T.morphTargetInfluences){let ue=!1;for(let re=0;re<T.morphTargetInfluences.length;re++)T.morphTargetInfluences[re]!==f.morphTargetInfluences[re]&&(T.morphTargetInfluences[re]=f.morphTargetInfluences[re],ue=!0);if(ue)return!1}if(T.lights){for(let ue=0;ue<c.length;ue++)if(T.lights[ue].map!==c[ue].map)return!1}return T.center&&T.center.equals(f.center)===!1?(T.center.copy(f.center),!0):(r.bundle!==null&&(T.version=r.bundle.version),!0)}getLightsData(r){const c=[];for(const f of r)f.isSpotLight===!0&&f.map!==null&&c.push({map:f.map.version});return c}getLights(r,c){if(l4.has(r)){const _=l4.get(r);if(_.renderId===c)return _.lightsData}const f=this.getLightsData(r.getLights());return l4.set(r,{renderId:c,lightsData:f}),f}needsRefresh(r,c){if(this.hasNode||this.hasAnimation||this.firstInitialization(r)||this.needsVelocity(c.renderer))return!0;const{renderId:f}=c;if(this.renderId!==f)return this.renderId=f,!0;const _=r.object.static===!0,y=r.bundle!==null&&r.bundle.static===!0&&this.getRenderObjectData(r).version===r.bundle.version;if(_||y)return!1;const T=this.getLights(r.lightsNode,f);return this.equals(r,T)!==!0}}function Yd(v,r=0){let c=3735928559^r,f=1103547991^r;if(v instanceof Array)for(let _=0,y;_<v.length;_++)y=v[_],c=Math.imul(c^y,2654435761),f=Math.imul(f^y,1597334677);else for(let _=0,y;_<v.length;_++)y=v.charCodeAt(_),c=Math.imul(c^y,2654435761),f=Math.imul(f^y,1597334677);return c=Math.imul(c^c>>>16,2246822507),c^=Math.imul(f^f>>>13,3266489909),f=Math.imul(f^f>>>16,2246822507),f^=Math.imul(c^c>>>13,3266489909),4294967296*(2097151&f)+(c>>>0)}const Rp=v=>Yd(v),Rf=v=>Yd(v),Uu=(...v)=>Yd(v),$ue=new Map([[1,"float"],[2,"vec2"],[3,"vec3"],[4,"vec4"],[9,"mat3"],[16,"mat4"]]),G3=new WeakMap;function Yue(v){return $ue.get(v)}function sp(v){if(v==null)return null;const r=typeof v;return v.isNode===!0?"node":r==="number"?"float":r==="boolean"?"bool":r==="string"?"string":r==="function"?"shader":v.isVector2===!0?"vec2":v.isVector3===!0?"vec3":v.isVector4===!0?"vec4":v.isMatrix2===!0?"mat2":v.isMatrix3===!0?"mat3":v.isMatrix4===!0?"mat4":v.isColor===!0?"color":v instanceof ArrayBuffer?"ArrayBuffer":null}function Kd(v,...r){const c=v?v.slice(-4):void 0;return r.length===1&&(c==="vec2"?r=[r[0],r[0]]:c==="vec3"?r=[r[0],r[0],r[0]]:c==="vec4"&&(r=[r[0],r[0],r[0],r[0]])),v==="color"?new ni(...r):c==="vec2"?new _i(...r):c==="vec3"?new at(...r):c==="vec4"?new hi(...r):c==="mat2"?new Tp(...r):c==="mat3"?new Pi(...r):c==="mat4"?new Ri(...r):v==="bool"?r[0]||!1:v==="float"||v==="int"||v==="uint"?r[0]||0:v==="string"?r[0]||"":v==="ArrayBuffer"?Zue(r[0]):null}function ox(v){let r=G3.get(v);return r===void 0&&(r={},G3.set(v,r)),r}function Kue(v){let r="";const c=new Uint8Array(v);for(let f=0;f<c.length;f++)r+=String.fromCharCode(c[f]);return btoa(r)}function Zue(v){return Uint8Array.from(atob(v),r=>r.charCodeAt(0)).buffer}const A_={VERTEX:"vertex"},Fi={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},Uo={READ_ONLY:"readOnly",WRITE_ONLY:"writeOnly",READ_WRITE:"readWrite"},Que=["fragment","vertex"],V3=["setup","analyze","generate"],z3=[...Que,"compute"],ql=["x","y","z","w"],Jue={analyze:"setup",generate:"analyze"};let efe=0,Z0=class extends N1{static get type(){return"Node"}constructor(r=null){super(),this.nodeType=r,this.updateType=Fi.NONE,this.updateBeforeType=Fi.NONE,this.updateAfterType=Fi.NONE,this.uuid=zc.generateUUID(),this.version=0,this.name="",this.global=!1,this.parents=!1,this.isNode=!0,this._beforeNodes=null,this._cacheKey=null,this._cacheKeyVersion=0,Object.defineProperty(this,"id",{value:efe++})}set needsUpdate(r){r===!0&&this.version++}get type(){return this.constructor.type}onUpdate(r,c){return this.updateType=c,this.update=r.bind(this),this}onFrameUpdate(r){return this.onUpdate(r,Fi.FRAME)}onRenderUpdate(r){return this.onUpdate(r,Fi.RENDER)}onObjectUpdate(r){return this.onUpdate(r,Fi.OBJECT)}onReference(r){return this.updateReference=r.bind(this),this}updateReference(){return this}isGlobal(){return this.global}*getChildren(){for(const{childNode:r}of this._getChildren())yield r}dispose(){this.dispatchEvent({type:"dispose"})}traverse(r){r(this);for(const c of this.getChildren())c.traverse(r)}_getChildren(r=new Set){const c=[];r.add(this);for(const f of Object.getOwnPropertyNames(this)){const _=this[f];if(!(f.startsWith("_")===!0||r.has(_))){if(Array.isArray(_)===!0)for(let y=0;y<_.length;y++){const T=_[y];T&&T.isNode===!0&&c.push({property:f,index:y,childNode:T})}else if(_&&_.isNode===!0)c.push({property:f,childNode:_});else if(_&&Object.getPrototypeOf(_)===Object.prototype)for(const y in _){if(y.startsWith("_")===!0)continue;const T=_[y];T&&T.isNode===!0&&c.push({property:f,index:y,childNode:T})}}}return c}getCacheKey(r=!1,c=null){if(r=r||this.version!==this._cacheKeyVersion,r===!0||this._cacheKey===null){c===null&&(c=new Set);const f=[];for(const{property:_,childNode:y}of this._getChildren(c))f.push(Rp(_.slice(0,-4)),y.getCacheKey(r,c));this._cacheKey=Uu(Rf(f),this.customCacheKey()),this._cacheKeyVersion=this.version}return this._cacheKey}customCacheKey(){return this.id}getScope(){return this}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getUpdateAfterType(){return this.updateAfterType}getElementType(r){const c=this.getNodeType(r);return r.getElementType(c)}getMemberType(){return"void"}getNodeType(r){const c=r.getNodeProperties(this);return c.outputNode?c.outputNode.getNodeType(r):this.nodeType}getShared(r){const c=this.getHash(r);return r.getNodeFromHash(c)||this}getArrayCount(){return null}setup(r){const c=r.getNodeProperties(this);let f=0;for(const _ of this.getChildren())c["node"+f++]=_;return c.outputNode||null}analyze(r,c=null){const f=r.increaseUsage(this);if(this.parents===!0){const _=r.getDataFromNode(this,"any");_.stages=_.stages||{},_.stages[r.shaderStage]=_.stages[r.shaderStage]||[],_.stages[r.shaderStage].push(c)}if(f===1){const _=r.getNodeProperties(this);for(const y of Object.values(_))y&&y.isNode===!0&&y.build(r,this)}}generate(r,c){const{outputNode:f}=r.getNodeProperties(this);if(f&&f.isNode===!0)return f.build(r,c)}updateBefore(){jt("Abstract function.")}updateAfter(){jt("Abstract function.")}update(){jt("Abstract function.")}before(r){return this._beforeNodes===null&&(this._beforeNodes=[]),this._beforeNodes.push(r),this}build(r,c=null){const f=this.getShared(r);if(this!==f)return f.build(r,c);if(this._beforeNodes!==null){const N=this._beforeNodes;this._beforeNodes=null;for(const k of N)k.build(r,c);this._beforeNodes=N}const _=r.getDataFromNode(this);_.buildStages=_.buildStages||{},_.buildStages[r.buildStage]=!0;const y=Jue[r.buildStage];if(y&&_.buildStages[y]!==!0){const N=r.getBuildStage();r.setBuildStage(y),this.build(r),r.setBuildStage(N)}r.addNode(this),r.addChain(this);let T=null;const A=r.getBuildStage();if(A==="setup"){this.updateReference(r);const N=r.getNodeProperties(this);if(N.initialized!==!0){N.initialized=!0,N.outputNode=this.setup(r)||N.outputNode||null;for(const k of Object.values(N))if(k&&k.isNode===!0){if(k.parents===!0){const V=r.getNodeProperties(k);V.parents=V.parents||[],V.parents.push(this)}k.build(r)}}T=N.outputNode}else if(A==="analyze")this.analyze(r,c);else if(A==="generate"){if(this.generate.length<2){const k=this.getNodeType(r),V=r.getDataFromNode(this);T=V.snippet,T===void 0?V.generated===void 0?(V.generated=!0,T=this.generate(r)||"",V.snippet=T):(jt("Node: Recursion detected.",this),T="/* Recursion detected. */"):V.flowCodes!==void 0&&r.context.nodeBlock!==void 0&&r.addFlowCodeHierarchy(this,r.context.nodeBlock),T=r.format(T,k,c)}else T=this.generate(r,c)||"";T===""&&c!==null&&c!=="void"&&c!=="OutputType"&&(r0(`TSL: Invalid generated code, expected a "${c}".`),T=r.generateConst(c))}return r.removeChain(this),r.addSequentialNode(this),T}getSerializeChildren(){return this._getChildren()}serialize(r){const c=this.getSerializeChildren(),f={};for(const{property:_,index:y,childNode:T}of c)y!==void 0?(f[_]===void 0&&(f[_]=Number.isInteger(y)?[]:{}),f[_][y]=T.toJSON(r.meta).uuid):f[_]=T.toJSON(r.meta).uuid;Object.keys(f).length>0&&(r.inputNodes=f)}deserialize(r){if(r.inputNodes!==void 0){const c=r.meta.nodes;for(const f in r.inputNodes)if(Array.isArray(r.inputNodes[f])){const _=[];for(const y of r.inputNodes[f])_.push(c[y]);this[f]=_}else if(typeof r.inputNodes[f]=="object"){const _={};for(const y in r.inputNodes[f]){const T=r.inputNodes[f][y];_[y]=c[T]}this[f]=_}else{const _=r.inputNodes[f];this[f]=c[_]}}}toJSON(r){const{uuid:c,type:f}=this,_=r===void 0||typeof r=="string";_&&(r={textures:{},images:{},nodes:{}});let y=r.nodes[c];y===void 0&&(y={uuid:c,type:f,meta:r,metadata:{version:4.7,type:"Node",generator:"Node.toJSON"}},_!==!0&&(r.nodes[y.uuid]=y),this.serialize(y),delete y.meta);function T(A){const N=[];for(const k in A){const V=A[k];delete V.metadata,N.push(V)}return N}if(_){const A=T(r.textures),N=T(r.images),k=T(r.nodes);A.length>0&&(y.textures=A),N.length>0&&(y.images=N),k.length>0&&(y.nodes=k)}return y}};class Af extends Z0{static get type(){return"ArrayElementNode"}constructor(r,c){super(),this.node=r,this.indexNode=c,this.isArrayElementNode=!0}getNodeType(r){return this.node.getElementType(r)}generate(r){const c=this.indexNode.getNodeType(r),f=this.node.build(r),_=this.indexNode.build(r,!r.isVector(c)&&r.isInteger(c)?c:"uint");return`${f}[ ${_} ]`}}class ax extends Z0{static get type(){return"ConvertNode"}constructor(r,c){super(),this.node=r,this.convertTo=c}getNodeType(r){const c=this.node.getNodeType(r);let f=null;for(const _ of this.convertTo.split("|"))(f===null||r.getTypeLength(c)===r.getTypeLength(_))&&(f=_);return f}serialize(r){super.serialize(r),r.convertTo=this.convertTo}deserialize(r){super.deserialize(r),this.convertTo=r.convertTo}generate(r,c){const f=this.node,_=this.getNodeType(r),y=f.build(r,_);return r.format(y,_,c)}}class cr extends Z0{static get type(){return"TempNode"}constructor(r=null){super(r),this.isTempNode=!0}hasDependencies(r){return r.getDataFromNode(this).usageCount>1}build(r,c){if(r.getBuildStage()==="generate"){const _=r.getVectorType(this.getNodeType(r,c)),y=r.getDataFromNode(this);if(y.propertyName!==void 0)return r.format(y.propertyName,_,c);if(_!=="void"&&c!=="void"&&this.hasDependencies(r)){const T=super.build(r,_),A=r.getVarFromNode(this,null,_),N=r.getPropertyName(A);return r.addLineFlowCode(`${N} = ${T}`,this),y.snippet=T,y.propertyName=N,r.format(y.propertyName,_,c)}}return super.build(r,c)}}class tfe extends cr{static get type(){return"JoinNode"}constructor(r=[],c=null){super(c),this.nodes=r}getNodeType(r){return this.nodeType!==null?r.getVectorType(this.nodeType):r.getTypeFromLength(this.nodes.reduce((c,f)=>c+r.getTypeLength(f.getNodeType(r)),0))}generate(r,c){const f=this.getNodeType(r),_=r.getTypeLength(f),y=this.nodes,T=r.getComponentType(f),A=[];let N=0;for(const V of y){if(N>=_){r0(`TSL: Length of parameters exceeds maximum length of function '${f}()' type.`);break}let j=V.getNodeType(r),K=r.getTypeLength(j),Q;if(N+K>_&&(r0(`TSL: Length of '${f}()' data exceeds maximum length of output type.`),K=_-N,j=r.getTypeFromLength(K)),N+=K,Q=V.build(r,j),r.getComponentType(j)!==T){const ce=r.getTypeFromLength(K,T);Q=r.format(Q,j,ce)}A.push(Q)}const k=`${r.getType(f)}( ${A.join(", ")} )`;return r.format(k,f,c)}}const ife=ql.join("");class nfe extends Z0{static get type(){return"SplitNode"}constructor(r,c="x"){super(),this.node=r,this.components=c,this.isSplitNode=!0}getVectorLength(){let r=this.components.length;for(const c of this.components)r=Math.max(ql.indexOf(c)+1,r);return r}getComponentType(r){return r.getComponentType(this.node.getNodeType(r))}getNodeType(r){return r.getTypeFromLength(this.components.length,this.getComponentType(r))}getScope(){return this.node.getScope()}generate(r,c){const f=this.node,_=r.getTypeLength(f.getNodeType(r));let y=null;if(_>1){let T=null;this.getVectorLength()>=_&&(T=r.getTypeFromLength(this.getVectorLength(),this.getComponentType(r)));const N=f.build(r,T);this.components.length===_&&this.components===ife.slice(0,this.components.length)?y=r.format(N,T,c):y=r.format(`${N}.${this.components}`,this.getNodeType(r),c)}else y=f.build(r,c);return y}serialize(r){super.serialize(r),r.components=this.components}deserialize(r){super.deserialize(r),this.components=r.components}}class rfe extends cr{static get type(){return"SetNode"}constructor(r,c,f){super(),this.sourceNode=r,this.components=c,this.targetNode=f}getNodeType(r){return this.sourceNode.getNodeType(r)}generate(r){const{sourceNode:c,components:f,targetNode:_}=this,y=this.getNodeType(r),T=r.getComponentType(_.getNodeType(r)),A=r.getTypeFromLength(f.length,T),N=_.build(r,A),k=c.build(r,y),V=r.getTypeLength(y),j=[];for(let K=0;K<V;K++){const Q=ql[K];Q===f[0]?(j.push(N),K+=f.length-1):j.push(k+"."+Q)}return`${r.getType(y)}( ${j.join(", ")} )`}}class sfe extends cr{static get type(){return"FlipNode"}constructor(r,c){super(),this.sourceNode=r,this.components=c}getNodeType(r){return this.sourceNode.getNodeType(r)}generate(r){const{components:c,sourceNode:f}=this,_=this.getNodeType(r),y=f.build(r),T=r.getVarFromNode(this),A=r.getPropertyName(T);r.addLineFlowCode(A+" = "+y,this);const N=r.getTypeLength(_),k=[];let V=0;for(let j=0;j<N;j++){const K=ql[j];K===c[V]?(k.push("1.0 - "+(A+"."+K)),V++):k.push(A+"."+K)}return`${r.getType(_)}( ${k.join(", ")} )`}}class Zd extends Z0{static get type(){return"InputNode"}constructor(r,c=null){super(c),this.isInputNode=!0,this.value=r,this.precision=null}getNodeType(){return this.nodeType===null?sp(this.value):this.nodeType}getInputType(r){return this.getNodeType(r)}setPrecision(r){return this.precision=r,this}serialize(r){super.serialize(r),r.value=this.value,this.value&&this.value.toArray&&(r.value=this.value.toArray()),r.valueType=sp(this.value),r.nodeType=this.nodeType,r.valueType==="ArrayBuffer"&&(r.value=Kue(r.value)),r.precision=this.precision}deserialize(r){super.deserialize(r),this.nodeType=r.nodeType,this.value=Array.isArray(r.value)?Kd(r.valueType,...r.value):r.value,this.precision=r.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(r.value))}generate(){jt("Abstract function.")}}const W3=/float|u?int/;class jo extends Zd{static get type(){return"ConstNode"}constructor(r,c=null){super(r,c),this.isConstNode=!0}generateConst(r){return r.generateConst(this.getNodeType(r),this.value)}generate(r,c){const f=this.getNodeType(r);return W3.test(f)&&W3.test(c)?r.generateConst(c,this.value):r.format(this.generateConst(r),f,c)}}class ofe extends Z0{static get type(){return"MemberNode"}constructor(r,c){super(),this.structNode=r,this.property=c,this.isMemberNode=!0}hasMember(r){return this.structNode.isMemberNode&&this.structNode.hasMember(r)===!1?!1:this.structNode.getMemberType(r,this.property)!=="void"}getNodeType(r){return this.hasMember(r)===!1?"float":this.structNode.getMemberType(r,this.property)}getMemberType(r,c){if(this.hasMember(r)===!1)return"float";const f=this.getNodeType(r);return r.getStructTypeNode(f).getMemberType(r,c)}generate(r){if(this.hasMember(r)===!1){jt(`TSL: Member "${this.property}" does not exist in struct.`);const f=this.getNodeType(r);return r.generateConst(f)}return this.structNode.build(r)+"."+this.property}}let Ka=null;const Z4=new Map;function Bt(v,r){if(Z4.has(v)){jt(`TSL: Redefinition of method chaining '${v}'.`);return}if(typeof r!="function")throw new Error(`THREE.TSL: Node element ${v} is not a function`);Z4.set(v,r),v!=="assign"&&(Z0.prototype[v]=function(...c){return this.isStackNode?this.addToStack(r(...c)):r(this,...c)},Z0.prototype[v+"Assign"]=function(...c){return this.isStackNode?this.assign(c[0],r(...c)):this.assign(r(this,...c))})}const afe=v=>v.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),H3=v=>afe(v).split("").sort().join("");Z0.prototype.assign=function(...v){if(this.isStackNode!==!0)return Ka!==null?Ka.assign(this,...v):r0("TSL: No stack defined for assign operation. Make sure the assign is inside a Fn()."),this;{const r=Z4.get("assign");return this.addToStack(r(...v))}};Z0.prototype.toVarIntent=function(){return this};Z0.prototype.get=function(v){return new ofe(this,v)};const Ou={};function E_(v,r,c){Ou[v]=Ou[r]=Ou[c]={get(){this._cache=this._cache||{};let T=this._cache[v];return T===void 0&&(T=new nfe(this,v),this._cache[v]=T),T},set(T){this[v].assign(n0(T))}};const f=v.toUpperCase(),_=r.toUpperCase(),y=c.toUpperCase();Z0.prototype["set"+f]=Z0.prototype["set"+_]=Z0.prototype["set"+y]=function(T){const A=H3(v);return new rfe(this,A,n0(T))},Z0.prototype["flip"+f]=Z0.prototype["flip"+_]=Z0.prototype["flip"+y]=function(){const T=H3(v);return new sfe(this,T)}}const bo=["x","y","z","w"],Do=["r","g","b","a"],Io=["s","t","p","q"];for(let v=0;v<4;v++){let r=bo[v],c=Do[v],f=Io[v];E_(r,c,f);for(let _=0;_<4;_++){r=bo[v]+bo[_],c=Do[v]+Do[_],f=Io[v]+Io[_],E_(r,c,f);for(let y=0;y<4;y++){r=bo[v]+bo[_]+bo[y],c=Do[v]+Do[_]+Do[y],f=Io[v]+Io[_]+Io[y],E_(r,c,f);for(let T=0;T<4;T++)r=bo[v]+bo[_]+bo[y]+bo[T],c=Do[v]+Do[_]+Do[y]+Do[T],f=Io[v]+Io[_]+Io[y]+Io[T],E_(r,c,f)}}}for(let v=0;v<32;v++)Ou[v]={get(){this._cache=this._cache||{};let r=this._cache[v];return r===void 0&&(r=new Af(this,new jo(v,"uint")),this._cache[v]=r),r},set(r){this[v].assign(n0(r))}};Object.defineProperties(Z0.prototype,Ou);const j3=new WeakMap,cfe=function(v,r=null){const c=sp(v);return c==="node"?v:r===null&&(c==="float"||c==="boolean")||c&&c!=="shader"&&c!=="string"?n0(Q4(v,r)):c==="shader"?v.isFn?v:Xt(v):v},lfe=function(v,r=null){for(const c in v)v[c]=n0(v[c],r);return v},ufe=function(v,r=null){const c=v.length;for(let f=0;f<c;f++)v[f]=n0(v[f],r);return v},cx=function(v,r=null,c=null,f=null){function _(V){return f!==null?(V=n0(Object.assign(V,f)),f.intent===!0&&(V=V.toVarIntent())):V=n0(V),V}let y,T=r,A,N;function k(V){let j;return T?j=/[a-z]/i.test(T)?T+"()":T:j=v.type,A!==void 0&&V.length<A?(r0(`TSL: "${j}" parameter length is less than minimum required.`),V.concat(new Array(A-V.length).fill(0))):N!==void 0&&V.length>N?(r0(`TSL: "${j}" parameter length exceeds limit.`),V.slice(0,N)):V}return r===null?y=(...V)=>_(new v(...Zc(k(V)))):c!==null?(c=n0(c),y=(...V)=>_(new v(r,...Zc(k(V)),c))):y=(...V)=>_(new v(r,...Zc(k(V)))),y.setParameterLength=(...V)=>(V.length===1?A=N=V[0]:V.length===2&&([A,N]=V),y),y.setName=V=>(T=V,y),y},ffe=function(v,...r){return n0(new v(...Zc(r)))};class _fe extends Z0{constructor(r,c){super(),this.shaderNode=r,this.rawInputs=c,this.isShaderCallNodeInternal=!0}getNodeType(r){return this.shaderNode.nodeType||this.getOutputNode(r).getNodeType(r)}getElementType(r){return this.getOutputNode(r).getElementType(r)}getMemberType(r,c){return this.getOutputNode(r).getMemberType(r,c)}call(r){const{shaderNode:c,rawInputs:f}=this,_=r.getNodeProperties(c),y=r.getClosestSubBuild(c.subBuilds)||"",T=y||"default";if(_[T])return _[T];const A=r.subBuildFn,N=r.fnCall;r.subBuildFn=y,r.fnCall=this;let k=null;if(c.layout){let V=j3.get(r.constructor);V===void 0&&(V=new WeakMap,j3.set(r.constructor,V));let j=V.get(c);j===void 0&&(j=n0(r.buildFunctionNode(c)),V.set(c,j)),r.addInclude(j);const K=f?pfe(f):null;k=n0(j.call(K))}else{const V=new Proxy(r,{get:(ce,ue,re)=>{let be;return Symbol.iterator===ue?be=function*(){yield void 0}:be=Reflect.get(ce,ue,re),be}}),j=f?hfe(f):null,K=Array.isArray(f)?f.length>0:f!==null,Q=c.jsFunc,ie=K||Q.length>1?Q(j,V):Q(V);k=n0(ie)}return r.subBuildFn=A,r.fnCall=N,c.once&&(_[T]=k),k}setupOutput(r){return r.addStack(),r.stack.outputNode=this.call(r),r.removeStack()}getOutputNode(r){const c=r.getNodeProperties(this),f=r.getSubBuildOutput(this);return c[f]=c[f]||this.setupOutput(r),c[f].subBuild=r.getClosestSubBuild(this),c[f]}build(r,c=null){let f=null;const _=r.getBuildStage(),y=r.getNodeProperties(this),T=r.getSubBuildOutput(this),A=this.getOutputNode(r),N=r.fnCall;if(r.fnCall=this,_==="setup"){const k=r.getSubBuildProperty("initialized",this);if(y[k]!==!0&&(y[k]=!0,y[T]=this.getOutputNode(r),y[T].build(r),this.shaderNode.subBuilds))for(const V of r.chaining){const j=r.getDataFromNode(V,"any");j.subBuilds=j.subBuilds||new Set;for(const K of this.shaderNode.subBuilds)j.subBuilds.add(K)}f=y[T]}else _==="analyze"?A.build(r,c):_==="generate"&&(f=A.build(r,c)||"");return r.fnCall=N,f}}function pfe(v){let r;return t8(v),v[0]&&(v[0].isNode||Object.getPrototypeOf(v[0])!==Object.prototype)?r=[...v]:r=v[0],r}function hfe(v){let r=0;return t8(v),new Proxy(v,{get:(c,f,_)=>{let y;if(f==="length")return y=v.length,y;if(Symbol.iterator===f)y=function*(){for(const T of v)yield n0(T)};else{if(v.length>0)if(Object.getPrototypeOf(v[0])===Object.prototype){const T=v[0];T[f]===void 0?y=T[r++]:y=Reflect.get(T,f,_)}else v[0]instanceof Z0&&(v[f]===void 0?y=v[r++]:y=Reflect.get(v,f,_));else y=Reflect.get(c,f,_);y=n0(y)}return y}})}class dfe extends Z0{constructor(r,c){super(c),this.jsFunc=r,this.layout=null,this.global=!0,this.once=!1}setLayout(r){return this.layout=r,this}getLayout(){return this.layout}call(r=null){return new _fe(this,r)}setup(){return this.call()}}const mfe=[!1,!0],gfe=[0,1,2,3],xfe=[-1,-2],lx=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],Qd=new Map;for(const v of mfe)Qd.set(v,new jo(v));const Jd=new Map;for(const v of gfe)Jd.set(v,new jo(v,"uint"));const e8=new Map([...Jd].map(v=>new jo(v.value,"int")));for(const v of xfe)e8.set(v,new jo(v,"int"));const Ap=new Map([...e8].map(v=>new jo(v.value)));for(const v of lx)Ap.set(v,new jo(v));for(const v of lx)Ap.set(-v,new jo(-v));const Ep={bool:Qd,uint:Jd,ints:e8,float:Ap},q3=new Map([...Qd,...Ap]),Q4=(v,r)=>q3.has(v)?q3.get(v):v.isNode===!0?v:new jo(v,r),J2=function(v,r=null){return(...c)=>{for(const _ of c)if(_===void 0)return r0(`TSL: Invalid parameter for the type "${v}".`),n0(new jo(0,v));if((c.length===0||!["bool","float","int","uint"].includes(v)&&c.every(_=>{const y=typeof _;return y!=="object"&&y!=="function"}))&&(c=[Kd(v,...c)]),c.length===1&&r!==null&&r.has(c[0]))return N_(r.get(c[0]));if(c.length===1){const _=Q4(c[0],v);return _.nodeType===v?N_(_):N_(new ax(_,v))}const f=c.map(_=>Q4(_));return N_(new tfe(f,v))}},X3=v=>typeof v=="object"&&v!==null?v.value:v,yfe=v=>v!=null?v.nodeType||v.convertTo||(typeof v=="string"?v:null):null;function Iu(v,r){return new dfe(v,r)}const n0=(v,r=null)=>cfe(v,r),N_=(v,r=null)=>n0(v,r).toVarIntent(),t8=(v,r=null)=>new lfe(v,r),Zc=(v,r=null)=>new ufe(v,r),xn=(v,r=null,c=null,f=null)=>new cx(v,r,c,f),h0=(v,...r)=>new ffe(v,...r),F0=(v,r=null,c=null,f={})=>new cx(v,r,c,{...f,intent:!0});let vfe=0;class Sfe extends Z0{constructor(r,c=null){super();let f=null;c!==null&&(typeof c=="object"?f=c.return:(typeof c=="string"?f=c:r0("TSL: Invalid layout type."),c=null)),this.shaderNode=new Iu(r,f),c!==null&&this.setLayout(c),this.isFn=!0}setLayout(r){const c=this.shaderNode.nodeType;if(typeof r.inputs!="object"){const f={name:"fn"+vfe++,type:c,inputs:[]};for(const _ in r)_!=="return"&&f.inputs.push({name:_,type:r[_]});r=f}return this.shaderNode.setLayout(r),this}getNodeType(r){return this.shaderNode.getNodeType(r)||"float"}call(...r){const c=this.shaderNode.call(r);return this.shaderNode.nodeType==="void"&&c.toStack(),c.toVarIntent()}once(r=null){return this.shaderNode.once=!0,this.shaderNode.subBuilds=r,this}generate(r){const c=this.getNodeType(r);return r0('TSL: "Fn()" was declared but not invoked. Try calling it like "Fn()( ...params )".'),r.generateConst(c)}}function Xt(v,r=null){const c=new Sfe(v,r);return new Proxy(()=>{},{apply(f,_,y){return c.call(...y)},get(f,_,y){return Reflect.get(c,_,y)},set(f,_,y,T){return Reflect.set(c,_,y,T)}})}const op=v=>{Ka=v},ux=()=>Ka,u2=(...v)=>Ka.If(...v);function fx(v){return Ka&&Ka.addToStack(v),v}Bt("toStack",fx);const Cfe=new J2("color"),Lt=new J2("float",Ep.float),i2=new J2("int",Ep.ints),b2=new J2("uint",Ep.uint),i8=new J2("bool",Ep.bool),p0=new J2("vec2"),m1=new J2("ivec2"),Tfe=new J2("uvec2"),wfe=new J2("bvec2"),Gt=new J2("vec3"),Mfe=new J2("ivec3"),Rfe=new J2("uvec3"),Afe=new J2("bvec3"),Li=new J2("vec4"),Efe=new J2("ivec4"),Nfe=new J2("uvec4"),bfe=new J2("bvec4"),n8=new J2("mat2"),is=new J2("mat3"),Qc=new J2("mat4");Bt("toColor",Cfe);Bt("toFloat",Lt);Bt("toInt",i2);Bt("toUint",b2);Bt("toBool",i8);Bt("toVec2",p0);Bt("toIVec2",m1);Bt("toUVec2",Tfe);Bt("toBVec2",wfe);Bt("toVec3",Gt);Bt("toIVec3",Mfe);Bt("toUVec3",Rfe);Bt("toBVec3",Afe);Bt("toVec4",Li);Bt("toIVec4",Efe);Bt("toUVec4",Nfe);Bt("toBVec4",bfe);Bt("toMat2",n8);Bt("toMat3",is);Bt("toMat4",Qc);const Dfe=xn(Af).setParameterLength(2),Ife=(v,r)=>n0(new ax(n0(v),r));Bt("element",Dfe);Bt("convert",Ife);Bt("append",v=>(jt("TSL: .append() has been renamed to .toStack()."),fx(v)));class kn extends Z0{static get type(){return"PropertyNode"}constructor(r,c=null,f=!1){super(r),this.name=c,this.varying=f,this.isPropertyNode=!0,this.global=!0}customCacheKey(){return Rp(this.type+":"+(this.name||"")+":"+(this.varying?"1":"0"))}getHash(r){return this.name||super.getHash(r)}generate(r){let c;return this.varying===!0?(c=r.getVaryingFromNode(this,this.name),c.needsInterpolation=!0):c=r.getVarFromNode(this,this.name),r.getPropertyName(c)}}const ia=(v,r)=>n0(new kn(v,r)),ap=(v,r)=>n0(new kn(v,r,!0)),un=h0(kn,"vec4","DiffuseColor"),$3=h0(kn,"vec3","EmissiveColor"),y1=h0(kn,"float","Roughness"),cp=h0(kn,"float","Metalness"),J4=h0(kn,"float","Clearcoat"),lp=h0(kn,"float","ClearcoatRoughness"),jc=h0(kn,"vec3","Sheen"),r8=h0(kn,"float","SheenRoughness"),s8=h0(kn,"float","Iridescence"),_x=h0(kn,"float","IridescenceIOR"),px=h0(kn,"float","IridescenceThickness"),ed=h0(kn,"float","AlphaT"),Ia=h0(kn,"float","Anisotropy"),$_=h0(kn,"vec3","AnisotropyT"),Jc=h0(kn,"vec3","AnisotropyB"),ro=h0(kn,"color","SpecularColor"),up=h0(kn,"float","SpecularF90"),td=h0(kn,"float","Shininess"),Gu=h0(kn,"vec4","Output"),u4=h0(kn,"float","dashSize"),Y3=h0(kn,"float","gapSize"),Y_=h0(kn,"float","IOR"),id=h0(kn,"float","Transmission"),hx=h0(kn,"float","Thickness"),dx=h0(kn,"float","AttenuationDistance"),mx=h0(kn,"color","AttenuationColor"),gx=h0(kn,"float","Dispersion");class xx extends Z0{static get type(){return"UniformGroupNode"}constructor(r,c=!1,f=1){super("string"),this.name=r,this.shared=c,this.order=f,this.isUniformGroup=!0}serialize(r){super.serialize(r),r.name=this.name,r.version=this.version,r.shared=this.shared}deserialize(r){super.deserialize(r),this.name=r.name,this.version=r.version,this.shared=r.shared}}const Pfe=v=>new xx(v),o8=(v,r=0)=>new xx(v,!0,r),Lfe=o8("frame"),xi=o8("render"),yx=Pfe("object");class Ef extends Zd{static get type(){return"UniformNode"}constructor(r,c=null){super(r,c),this.isUniformNode=!0,this.name="",this.groupNode=yx}setName(r){return this.name=r,this}label(r){return jt('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(r)}setGroup(r){return this.groupNode=r,this}getGroup(){return this.groupNode}getUniformHash(r){return this.getHash(r)}onUpdate(r,c){return r=r.bind(this),super.onUpdate(f=>{const _=r(f,this);_!==void 0&&(this.value=_)},c)}getInputType(r){let c=super.getInputType(r);return c==="bool"&&(c="uint"),c}generate(r,c){const f=this.getNodeType(r),_=this.getUniformHash(r);let y=r.getNodeFromHash(_);y===void 0&&(r.setHashNode(this,_),y=this);const T=y.getInputType(r),A=r.getUniformFromNode(y,T,r.shaderStage,this.name||r.context.nodeName),N=r.getPropertyName(A);r.context.nodeName!==void 0&&delete r.context.nodeName;let k=N;if(f==="bool"){const V=r.getDataFromNode(this);let j=V.propertyName;if(j===void 0){const K=r.getVarFromNode(this,null,"bool");j=r.getPropertyName(K),V.propertyName=j,k=r.format(N,T,f),r.addLineFlowCode(`${j} = ${k}`,this)}k=j}return r.format(k,f,c)}}const vi=(v,r)=>{const c=yfe(r||v);return c===v&&(v=Kd(c)),v=v&&v.isNode===!0?v.node&&v.node.value||v.value:v,n0(new Ef(v,c))};class K3 extends cr{static get type(){return"ArrayNode"}constructor(r,c,f=null){super(r),this.count=c,this.values=f,this.isArrayNode=!0}getArrayCount(){return this.count}getNodeType(r){return this.nodeType===null&&(this.nodeType=this.values[0].getNodeType(r)),this.nodeType}getElementType(r){return this.getNodeType(r)}generate(r){const c=this.getNodeType(r);return r.generateArray(c,this.count,this.values)}}const kfe=(...v)=>{let r;if(v.length===1){const c=v[0];r=new K3(null,c.length,c)}else{const c=v[0],f=v[1];r=new K3(c,f)}return n0(r)};Bt("toArray",(v,r)=>kfe(Array(r).fill(v)));class Ffe extends cr{static get type(){return"AssignNode"}constructor(r,c){super(),this.targetNode=r,this.sourceNode=c,this.isAssignNode=!0}hasDependencies(){return!1}getNodeType(r,c){return c!=="void"?this.targetNode.getNodeType(r):"void"}needsSplitAssign(r){const{targetNode:c}=this;if(r.isAvailable("swizzleAssign")===!1&&c.isSplitNode&&c.components.length>1){const f=r.getTypeLength(c.node.getNodeType(r));return ql.join("").slice(0,f)!==c.components}return!1}setup(r){const{targetNode:c,sourceNode:f}=this,_=c.getScope(),y=r.getNodeProperties(_);y.assign=!0;const T=r.getNodeProperties(this);T.sourceNode=f,T.targetNode=c.context({assign:!0})}generate(r,c){const{targetNode:f,sourceNode:_}=r.getNodeProperties(this),y=this.needsSplitAssign(r),T=f.build(r),A=f.getNodeType(r),N=_.build(r,A),k=_.getNodeType(r),V=r.getDataFromNode(this);let j;if(V.initialized===!0)c!=="void"&&(j=T);else if(y){const K=r.getVarFromNode(this,null,A),Q=r.getPropertyName(K);r.addLineFlowCode(`${Q} = ${N}`,this);const ie=f.node,ue=ie.node.context({assign:!0}).build(r);for(let re=0;re<ie.components.length;re++){const be=ie.components[re];r.addLineFlowCode(`${ue}.${be} = ${Q}[ ${re} ]`,this)}c!=="void"&&(j=T)}else j=`${T} = ${N}`,(c==="void"||k==="void")&&(r.addLineFlowCode(j,this),c!=="void"&&(j=T));return V.initialized=!0,r.format(j,A,c)}}const Bfe=xn(Ffe).setParameterLength(2);Bt("assign",Bfe);class Ufe extends cr{static get type(){return"FunctionCallNode"}constructor(r=null,c={}){super(),this.functionNode=r,this.parameters=c}setParameters(r){return this.parameters=r,this}getParameters(){return this.parameters}getNodeType(r){return this.functionNode.getNodeType(r)}getMemberType(r,c){return this.functionNode.getMemberType(r,c)}generate(r){const c=[],f=this.functionNode,_=f.getInputs(r),y=this.parameters,T=(N,k)=>{const V=k.type,j=V==="pointer";let K;return j?K="&"+N.build(r):K=N.build(r,V),K};if(Array.isArray(y)){if(y.length>_.length)r0("TSL: The number of provided parameters exceeds the expected number of inputs in 'Fn()'."),y.length=_.length;else if(y.length<_.length)for(r0("TSL: The number of provided parameters is less than the expected number of inputs in 'Fn()'.");y.length<_.length;)y.push(Lt(0));for(let N=0;N<y.length;N++)c.push(T(y[N],_[N]))}else for(const N of _){const k=y[N.name];k!==void 0?c.push(T(k,N)):(r0(`TSL: Input '${N.name}' not found in 'Fn()'.`),c.push(T(Lt(0),N)))}return`${f.build(r,"property")}( ${c.join(", ")} )`}}const Ofe=(v,...r)=>(r=r.length>1||r[0]&&r[0].isNode===!0?Zc(r):t8(r[0]),new Ufe(n0(v),r));Bt("call",Ofe);const Gfe={"==":"equal","!=":"notEqual","<":"lessThan",">":"greaterThan","<=":"lessThanEqual",">=":"greaterThanEqual","%":"mod"};class v2 extends cr{static get type(){return"OperatorNode"}constructor(r,c,f,..._){if(super(),_.length>0){let y=new v2(r,c,f);for(let T=0;T<_.length-1;T++)y=new v2(r,y,_[T]);c=y,f=_[_.length-1]}this.op=r,this.aNode=c,this.bNode=f,this.isOperatorNode=!0}getOperatorMethod(r,c){return r.getMethod(Gfe[this.op],c)}getNodeType(r,c=null){const f=this.op,_=this.aNode,y=this.bNode,T=_.getNodeType(r),A=y?y.getNodeType(r):null;if(T==="void"||A==="void")return c||"void";if(f==="%")return T;if(f==="~"||f==="&"||f==="|"||f==="^"||f===">>"||f==="<<")return r.getIntegerType(T);if(f==="!"||f==="&&"||f==="||"||f==="^^")return"bool";if(f==="=="||f==="!="||f==="<"||f===">"||f==="<="||f===">="){const N=Math.max(r.getTypeLength(T),r.getTypeLength(A));return N>1?`bvec${N}`:"bool"}else{if(r.isMatrix(T)){if(A==="float")return T;if(r.isVector(A))return r.getVectorFromMatrix(T);if(r.isMatrix(A))return T}else if(r.isMatrix(A)){if(T==="float")return A;if(r.isVector(T))return r.getVectorFromMatrix(A)}return r.getTypeLength(A)>r.getTypeLength(T)?A:T}}generate(r,c){const f=this.op,{aNode:_,bNode:y}=this,T=this.getNodeType(r,c);let A=null,N=null;T!=="void"?(A=_.getNodeType(r),N=y?y.getNodeType(r):null,f==="<"||f===">"||f==="<="||f===">="||f==="=="||f==="!="?r.isVector(A)?N=A:r.isVector(N)?A=N:A!==N&&(A=N="float"):f===">>"||f==="<<"?(A=T,N=r.changeComponentType(N,"uint")):f==="%"?(A=T,N=r.isInteger(A)&&r.isInteger(N)?N:A):r.isMatrix(A)?N==="float"?N="float":r.isVector(N)?N=r.getVectorFromMatrix(A):r.isMatrix(N)||(A=N=T):r.isMatrix(N)?A==="float"?A="float":r.isVector(A)?A=r.getVectorFromMatrix(N):A=N=T:A=N=T):A=N=T;const k=_.build(r,A),V=y?y.build(r,N):null,j=r.getFunctionOperator(f);if(c!=="void"){const K=r.renderer.coordinateSystem===es;if(f==="=="||f==="!="||f==="<"||f===">"||f==="<="||f===">=")return K?r.isVector(A)?r.format(`${this.getOperatorMethod(r,c)}( ${k}, ${V} )`,T,c):r.format(`( ${k} ${f} ${V} )`,T,c):r.format(`( ${k} ${f} ${V} )`,T,c);if(f==="%")return r.isInteger(N)?r.format(`( ${k} % ${V} )`,T,c):r.format(`${this.getOperatorMethod(r,T)}( ${k}, ${V} )`,T,c);if(f==="!"||f==="~")return r.format(`(${f}${k})`,A,c);if(j)return r.format(`${j}( ${k}, ${V} )`,T,c);if(r.isMatrix(A)&&N==="float")return r.format(`( ${V} ${f} ${k} )`,T,c);if(A==="float"&&r.isMatrix(N))return r.format(`${k} ${f} ${V}`,T,c);{let Q=`( ${k} ${f} ${V} )`;return!K&&T==="bool"&&r.isVector(A)&&r.isVector(N)&&(Q=`all${Q}`),r.format(Q,T,c)}}else if(A!=="void")return j?r.format(`${j}( ${k}, ${V} )`,T,c):r.isMatrix(A)&&N==="float"?r.format(`${V} ${f} ${k}`,T,c):r.format(`${k} ${f} ${V}`,T,c)}serialize(r){super.serialize(r),r.op=this.op}deserialize(r){super.deserialize(r),this.op=r.op}}const Ss=F0(v2,"+").setParameterLength(2,1/0).setName("add"),Zr=F0(v2,"-").setParameterLength(2,1/0).setName("sub"),Oi=F0(v2,"*").setParameterLength(2,1/0).setName("mul"),zo=F0(v2,"/").setParameterLength(2,1/0).setName("div"),a8=F0(v2,"%").setParameterLength(2).setName("mod"),vx=F0(v2,"==").setParameterLength(2).setName("equal"),Vfe=F0(v2,"!=").setParameterLength(2).setName("notEqual"),zfe=F0(v2,"<").setParameterLength(2).setName("lessThan"),Wfe=F0(v2,">").setParameterLength(2).setName("greaterThan"),Hfe=F0(v2,"<=").setParameterLength(2).setName("lessThanEqual"),jfe=F0(v2,">=").setParameterLength(2).setName("greaterThanEqual"),qfe=F0(v2,"&&").setParameterLength(2,1/0).setName("and"),Xfe=F0(v2,"||").setParameterLength(2,1/0).setName("or"),$fe=F0(v2,"!").setParameterLength(1).setName("not"),Yfe=F0(v2,"^^").setParameterLength(2).setName("xor"),Kfe=F0(v2,"&").setParameterLength(2).setName("bitAnd"),Zfe=F0(v2,"~").setParameterLength(1).setName("bitNot"),Qfe=F0(v2,"|").setParameterLength(2).setName("bitOr"),Jfe=F0(v2,"^").setParameterLength(2).setName("bitXor"),e_e=F0(v2,"<<").setParameterLength(2).setName("shiftLeft"),t_e=F0(v2,">>").setParameterLength(2).setName("shiftRight"),i_e=Xt(([v])=>(v.addAssign(1),v)),n_e=Xt(([v])=>(v.subAssign(1),v)),r_e=Xt(([v])=>{const r=i2(v).toConst();return v.addAssign(1),r}),s_e=Xt(([v])=>{const r=i2(v).toConst();return v.subAssign(1),r});Bt("add",Ss);Bt("sub",Zr);Bt("mul",Oi);Bt("div",zo);Bt("mod",a8);Bt("equal",vx);Bt("notEqual",Vfe);Bt("lessThan",zfe);Bt("greaterThan",Wfe);Bt("lessThanEqual",Hfe);Bt("greaterThanEqual",jfe);Bt("and",qfe);Bt("or",Xfe);Bt("not",$fe);Bt("xor",Yfe);Bt("bitAnd",Kfe);Bt("bitNot",Zfe);Bt("bitOr",Qfe);Bt("bitXor",Jfe);Bt("shiftLeft",e_e);Bt("shiftRight",t_e);Bt("incrementBefore",i_e);Bt("decrementBefore",n_e);Bt("increment",r_e);Bt("decrement",s_e);const o_e=(v,r)=>(jt('TSL: "modInt()" is deprecated. Use "mod( int( ... ) )" instead.'),a8(i2(v),i2(r)));Bt("modInt",o_e);class gt extends cr{static get type(){return"MathNode"}constructor(r,c,f=null,_=null){if(super(),(r===gt.MAX||r===gt.MIN)&&arguments.length>3){let y=new gt(r,c,f);for(let T=2;T<arguments.length-1;T++)y=new gt(r,y,arguments[T]);c=y,f=arguments[arguments.length-1],_=null}this.method=r,this.aNode=c,this.bNode=f,this.cNode=_,this.isMathNode=!0}getInputType(r){const c=this.aNode.getNodeType(r),f=this.bNode?this.bNode.getNodeType(r):null,_=this.cNode?this.cNode.getNodeType(r):null,y=r.isMatrix(c)?0:r.getTypeLength(c),T=r.isMatrix(f)?0:r.getTypeLength(f),A=r.isMatrix(_)?0:r.getTypeLength(_);return y>T&&y>A?c:T>A?f:A>y?_:c}getNodeType(r){const c=this.method;return c===gt.LENGTH||c===gt.DISTANCE||c===gt.DOT?"float":c===gt.CROSS?"vec3":c===gt.ALL||c===gt.ANY?"bool":c===gt.EQUALS?r.changeComponentType(this.aNode.getNodeType(r),"bool"):this.getInputType(r)}setup(r){const{aNode:c,bNode:f,method:_}=this;let y=null;if(_===gt.ONE_MINUS)y=Zr(1,c);else if(_===gt.RECIPROCAL)y=zo(1,c);else if(_===gt.DIFFERENCE)y=bs(Zr(c,f));else if(_===gt.TRANSFORM_DIRECTION){let T=c,A=f;r.isMatrix(T.getNodeType(r))?A=Li(Gt(A),0):T=Li(Gt(T),0);const N=Oi(T,A).xyz;y=Oo(N)}return y!==null?y:super.setup(r)}generate(r,c){if(r.getNodeProperties(this).outputNode)return super.generate(r,c);let _=this.method;const y=this.getNodeType(r),T=this.getInputType(r),A=this.aNode,N=this.bNode,k=this.cNode,V=r.renderer.coordinateSystem;if(_===gt.NEGATE)return r.format("( - "+A.build(r,T)+" )",y,c);{const j=[];return _===gt.CROSS?j.push(A.build(r,y),N.build(r,y)):V===es&&_===gt.STEP?j.push(A.build(r,r.getTypeLength(A.getNodeType(r))===1?"float":T),N.build(r,T)):V===es&&(_===gt.MIN||_===gt.MAX)?j.push(A.build(r,T),N.build(r,r.getTypeLength(N.getNodeType(r))===1?"float":T)):_===gt.REFRACT?j.push(A.build(r,T),N.build(r,T),k.build(r,"float")):_===gt.MIX?j.push(A.build(r,T),N.build(r,T),k.build(r,r.getTypeLength(k.getNodeType(r))===1?"float":T)):(V===ra&&_===gt.ATAN&&N!==null&&(_="atan2"),r.shaderStage!=="fragment"&&(_===gt.DFDX||_===gt.DFDY)&&(jt(`TSL: '${_}' is not supported in the ${r.shaderStage} stage.`),_="/*"+_+"*/"),j.push(A.build(r,T)),N!==null&&j.push(N.build(r,T)),k!==null&&j.push(k.build(r,T))),r.format(`${r.getMethod(_,y)}( ${j.join(", ")} )`,y,c)}}serialize(r){super.serialize(r),r.method=this.method}deserialize(r){super.deserialize(r),this.method=r.method}}gt.ALL="all";gt.ANY="any";gt.RADIANS="radians";gt.DEGREES="degrees";gt.EXP="exp";gt.EXP2="exp2";gt.LOG="log";gt.LOG2="log2";gt.SQRT="sqrt";gt.INVERSE_SQRT="inversesqrt";gt.FLOOR="floor";gt.CEIL="ceil";gt.NORMALIZE="normalize";gt.FRACT="fract";gt.SIN="sin";gt.COS="cos";gt.TAN="tan";gt.ASIN="asin";gt.ACOS="acos";gt.ATAN="atan";gt.ABS="abs";gt.SIGN="sign";gt.LENGTH="length";gt.NEGATE="negate";gt.ONE_MINUS="oneMinus";gt.DFDX="dFdx";gt.DFDY="dFdy";gt.ROUND="round";gt.RECIPROCAL="reciprocal";gt.TRUNC="trunc";gt.FWIDTH="fwidth";gt.TRANSPOSE="transpose";gt.DETERMINANT="determinant";gt.INVERSE="inverse";gt.EQUALS="equals";gt.MIN="min";gt.MAX="max";gt.STEP="step";gt.REFLECT="reflect";gt.DISTANCE="distance";gt.DIFFERENCE="difference";gt.DOT="dot";gt.CROSS="cross";gt.POW="pow";gt.TRANSFORM_DIRECTION="transformDirection";gt.MIX="mix";gt.CLAMP="clamp";gt.REFRACT="refract";gt.SMOOTHSTEP="smoothstep";gt.FACEFORWARD="faceforward";const Sx=Lt(1e-6),a_e=Lt(Math.PI),c_e=F0(gt,gt.ALL).setParameterLength(1),l_e=F0(gt,gt.ANY).setParameterLength(1),u_e=F0(gt,gt.RADIANS).setParameterLength(1),f_e=F0(gt,gt.DEGREES).setParameterLength(1),Cx=F0(gt,gt.EXP).setParameterLength(1),uf=F0(gt,gt.EXP2).setParameterLength(1),Tx=F0(gt,gt.LOG).setParameterLength(1),T1=F0(gt,gt.LOG2).setParameterLength(1),Oa=F0(gt,gt.SQRT).setParameterLength(1),__e=F0(gt,gt.INVERSE_SQRT).setParameterLength(1),za=F0(gt,gt.FLOOR).setParameterLength(1),c8=F0(gt,gt.CEIL).setParameterLength(1),Oo=F0(gt,gt.NORMALIZE).setParameterLength(1),Wo=F0(gt,gt.FRACT).setParameterLength(1),Ws=F0(gt,gt.SIN).setParameterLength(1),g1=F0(gt,gt.COS).setParameterLength(1),p_e=F0(gt,gt.TAN).setParameterLength(1),h_e=F0(gt,gt.ASIN).setParameterLength(1),wx=F0(gt,gt.ACOS).setParameterLength(1),Mx=F0(gt,gt.ATAN).setParameterLength(1,2),bs=F0(gt,gt.ABS).setParameterLength(1),fp=F0(gt,gt.SIGN).setParameterLength(1),w1=F0(gt,gt.LENGTH).setParameterLength(1),d_e=F0(gt,gt.NEGATE).setParameterLength(1),m_e=F0(gt,gt.ONE_MINUS).setParameterLength(1),Rx=F0(gt,gt.DFDX).setParameterLength(1),Ax=F0(gt,gt.DFDY).setParameterLength(1),g_e=F0(gt,gt.ROUND).setParameterLength(1),x_e=F0(gt,gt.RECIPROCAL).setParameterLength(1),y_e=F0(gt,gt.TRUNC).setParameterLength(1),Ex=F0(gt,gt.FWIDTH).setParameterLength(1),v_e=F0(gt,gt.TRANSPOSE).setParameterLength(1),S_e=F0(gt,gt.DETERMINANT).setParameterLength(1),C_e=F0(gt,gt.INVERSE).setParameterLength(1),T_e=(v,r)=>(jt('TSL: "equals" is deprecated. Use "equal" inside a vector instead, like: "bvec*( equal( ... ) )"'),vx(v,r)),Il=F0(gt,gt.MIN).setParameterLength(2,1/0),ar=F0(gt,gt.MAX).setParameterLength(2,1/0),Nx=F0(gt,gt.STEP).setParameterLength(2),w_e=F0(gt,gt.REFLECT).setParameterLength(2),M_e=F0(gt,gt.DISTANCE).setParameterLength(2),R_e=F0(gt,gt.DIFFERENCE).setParameterLength(2),Pl=F0(gt,gt.DOT).setParameterLength(2),ff=F0(gt,gt.CROSS).setParameterLength(2),Np=F0(gt,gt.POW).setParameterLength(2),bx=v=>Oi(v,v),A_e=v=>Oi(v,v,v),Dx=v=>Oi(v,v,v,v),E_e=F0(gt,gt.TRANSFORM_DIRECTION).setParameterLength(2),N_e=v=>Oi(fp(v),Np(bs(v),1/3)),Ix=v=>Pl(v,v),c2=F0(gt,gt.MIX).setParameterLength(3),A1=(v,r=0,c=1)=>n0(new gt(gt.CLAMP,n0(v),n0(r),n0(c))),Px=v=>A1(v),Lx=F0(gt,gt.REFRACT).setParameterLength(3),E1=F0(gt,gt.SMOOTHSTEP).setParameterLength(3),b_e=F0(gt,gt.FACEFORWARD).setParameterLength(3),D_e=Xt(([v])=>{const f=43758.5453,_=Pl(v.xy,p0(12.9898,78.233)),y=a8(_,a_e);return Wo(Ws(y).mul(f))}),I_e=(v,r,c)=>c2(r,c,v),P_e=(v,r,c)=>E1(r,c,v),L_e=(v,r)=>Nx(r,v),k_e=(v,r)=>(jt('TSL: "atan2" is overloaded. Use "atan" instead.'),Mx(v,r));Bt("all",c_e);Bt("any",l_e);Bt("equals",T_e);Bt("radians",u_e);Bt("degrees",f_e);Bt("exp",Cx);Bt("exp2",uf);Bt("log",Tx);Bt("log2",T1);Bt("sqrt",Oa);Bt("inverseSqrt",__e);Bt("floor",za);Bt("ceil",c8);Bt("normalize",Oo);Bt("fract",Wo);Bt("sin",Ws);Bt("cos",g1);Bt("tan",p_e);Bt("asin",h_e);Bt("acos",wx);Bt("atan",Mx);Bt("abs",bs);Bt("sign",fp);Bt("length",w1);Bt("lengthSq",Ix);Bt("negate",d_e);Bt("oneMinus",m_e);Bt("dFdx",Rx);Bt("dFdy",Ax);Bt("round",g_e);Bt("reciprocal",x_e);Bt("trunc",y_e);Bt("fwidth",Ex);Bt("atan2",k_e);Bt("min",Il);Bt("max",ar);Bt("step",L_e);Bt("reflect",w_e);Bt("distance",M_e);Bt("dot",Pl);Bt("cross",ff);Bt("pow",Np);Bt("pow2",bx);Bt("pow3",A_e);Bt("pow4",Dx);Bt("transformDirection",E_e);Bt("mix",I_e);Bt("clamp",A1);Bt("refract",Lx);Bt("smoothstep",P_e);Bt("faceForward",b_e);Bt("difference",R_e);Bt("saturate",Px);Bt("cbrt",N_e);Bt("transpose",v_e);Bt("determinant",S_e);Bt("inverse",C_e);Bt("rand",D_e);class F_e extends Z0{static get type(){return"ConditionalNode"}constructor(r,c,f=null){super(),this.condNode=r,this.ifNode=c,this.elseNode=f}getNodeType(r){const{ifNode:c,elseNode:f}=r.getNodeProperties(this);if(c===void 0)return r.flowBuildStage(this,"setup"),this.getNodeType(r);const _=c.getNodeType(r);if(f!==null){const y=f.getNodeType(r);if(r.getTypeLength(y)>r.getTypeLength(_))return y}return _}setup(r){const c=this.condNode,f=this.ifNode.isolate(),_=this.elseNode?this.elseNode.isolate():null,y=r.context.nodeBlock;r.getDataFromNode(f).parentNodeBlock=y,_!==null&&(r.getDataFromNode(_).parentNodeBlock=y);const T=r.context.uniformFlow,A=r.getNodeProperties(this);A.condNode=c,A.ifNode=T?f:f.context({nodeBlock:f}),A.elseNode=_?T?_:_.context({nodeBlock:_}):null}generate(r,c){const f=this.getNodeType(r),_=r.getDataFromNode(this);if(_.nodeProperty!==void 0)return _.nodeProperty;const{condNode:y,ifNode:T,elseNode:A}=r.getNodeProperties(this),N=r.currentFunctionNode,k=c!=="void",V=k?ia(f).build(r):"";_.nodeProperty=V;const j=y.build(r,"bool");if(r.context.uniformFlow&&A!==null){const ie=T.build(r,f),ce=A.build(r,f),ue=r.getTernary(j,ie,ce);return r.format(ue,f,c)}r.addFlowCode(`
${r.tab}if ( ${j} ) {

`).addFlowTab();let Q=T.build(r,f);if(Q&&(k?Q=V+" = "+Q+";":(Q="return "+Q+";",N===null&&(jt("TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),Q="// "+Q))),r.removeFlowTab().addFlowCode(r.tab+"	"+Q+`

`+r.tab+"}"),A!==null){r.addFlowCode(` else {

`).addFlowTab();let ie=A.build(r,f);ie&&(k?ie=V+" = "+ie+";":(ie="return "+ie+";",N===null&&(jt("TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),ie="// "+ie))),r.removeFlowTab().addFlowCode(r.tab+"	"+ie+`

`+r.tab+`}

`)}else r.addFlowCode(`

`);return r.format(V,f,c)}}const Er=xn(F_e).setParameterLength(2,3);Bt("select",Er);class kx extends Z0{static get type(){return"ContextNode"}constructor(r,c={}){super(),this.isContextNode=!0,this.node=r,this.value=c}getScope(){return this.node.getScope()}getNodeType(r){return this.node.getNodeType(r)}getMemberType(r,c){return this.node.getMemberType(r,c)}analyze(r){const c=r.addContext(this.value);this.node.build(r),r.setContext(c)}setup(r){const c=r.addContext(this.value);this.node.build(r),r.setContext(c)}generate(r,c){const f=r.addContext(this.value),_=this.node.build(r,c);return r.setContext(f),_}}const bp=xn(kx).setParameterLength(1,2),B_e=v=>bp(v,{uniformFlow:!0}),Fx=(v,r)=>bp(v,{nodeName:r});function U_e(v,r){return jt('TSL: "label()" has been deprecated. Use "setName()" instead.'),Fx(v,r)}Bt("context",bp);Bt("label",U_e);Bt("uniformFlow",B_e);Bt("setName",Fx);class K_ extends Z0{static get type(){return"VarNode"}constructor(r,c=null,f=!1){super(),this.node=r,this.name=c,this.global=!0,this.isVarNode=!0,this.readOnly=f,this.parents=!0,this.intent=!1}setIntent(r){return this.intent=r,this}getIntent(){return this.intent}getMemberType(r,c){return this.node.getMemberType(r,c)}getElementType(r){return this.node.getElementType(r)}getNodeType(r){return this.node.getNodeType(r)}getArrayCount(r){return this.node.getArrayCount(r)}isAssign(r){let f=r.getNodeProperties(this).assign;return f!==!0&&this.node.isShaderCallNodeInternal&&this.node.shaderNode.getLayout()===null&&r.fnCall&&r.fnCall.shaderNode&&r.getDataFromNode(this.node.shaderNode).hasLoop&&(f=!0),f}build(...r){const c=r[0];return this._hasStack(c)===!1&&c.buildStage==="setup"&&(c.context.nodeLoop||c.context.nodeBlock)&&c.getBaseStack().addToStack(this),this.intent===!0&&this.isAssign(c)!==!0?this.node.build(...r):super.build(...r)}generate(r){const{node:c,name:f,readOnly:_}=this,{renderer:y}=r,T=y.backend.isWebGPUBackend===!0;let A=!1,N=!1;_&&(A=r.isDeterministic(c),N=T?_:A);const k=this.getNodeType(r);if(k=="void")return this.intent!==!0&&r0('TSL: ".toVar()" can not be used with void type.'),c.build(r);const V=r.getVectorType(k),j=c.build(r,V),K=r.getVarFromNode(this,f,V,void 0,N),Q=r.getPropertyName(K);let ie=Q;if(N)if(T)ie=A?`const ${Q}`:`let ${Q}`;else{const ce=c.getArrayCount(r);ie=`const ${r.getVar(K.type,Q,ce)}`}return r.addLineFlowCode(`${ie} = ${j}`,this),Q}_hasStack(r){return r.getDataFromNode(this).stack!==void 0}}const l8=xn(K_),O_e=(v,r=null)=>l8(v,r).toStack(),G_e=(v,r=null)=>l8(v,r,!0).toStack(),V_e=v=>l8(v).setIntent(!0).toStack();Bt("toVar",O_e);Bt("toConst",G_e);Bt("toVarIntent",V_e);class z_e extends Z0{static get type(){return"SubBuild"}constructor(r,c,f=null){super(f),this.node=r,this.name=c,this.isSubBuildNode=!0}getNodeType(r){if(this.nodeType!==null)return this.nodeType;r.addSubBuild(this.name);const c=this.node.getNodeType(r);return r.removeSubBuild(),c}build(r,...c){r.addSubBuild(this.name);const f=this.node.build(r,...c);return r.removeSubBuild(),f}}const Vu=(v,r,c=null)=>n0(new z_e(n0(v),r,c));class W_e extends Z0{static get type(){return"VaryingNode"}constructor(r,c=null){super(),this.node=r,this.name=c,this.isVaryingNode=!0,this.interpolationType=null,this.interpolationSampling=null,this.global=!0}setInterpolation(r,c=null){return this.interpolationType=r,this.interpolationSampling=c,this}getHash(r){return this.name||super.getHash(r)}getNodeType(r){return this.node.getNodeType(r)}setupVarying(r){const c=r.getNodeProperties(this);let f=c.varying;if(f===void 0){const _=this.name,y=this.getNodeType(r),T=this.interpolationType,A=this.interpolationSampling;c.varying=f=r.getVaryingFromNode(this,_,y,T,A),c.node=Vu(this.node,"VERTEX")}return f.needsInterpolation||(f.needsInterpolation=r.shaderStage==="fragment"),f}setup(r){this.setupVarying(r),r.flowNodeFromShaderStage(A_.VERTEX,this.node)}analyze(r){this.setupVarying(r),r.flowNodeFromShaderStage(A_.VERTEX,this.node)}generate(r){const c=r.getSubBuildProperty("property",r.currentStack),f=r.getNodeProperties(this),_=this.setupVarying(r);if(f[c]===void 0){const y=this.getNodeType(r),T=r.getPropertyName(_,A_.VERTEX);r.flowNodeFromShaderStage(A_.VERTEX,f.node,y,T),f[c]=T}return r.getPropertyName(_)}}const aa=xn(W_e).setParameterLength(1,2),H_e=v=>aa(v);Bt("toVarying",aa);Bt("toVertexStage",H_e);Bt("varying",(...v)=>(jt("TSL: .varying() has been renamed to .toVarying()."),aa(...v)));Bt("vertexStage",(...v)=>(jt("TSL: .vertexStage() has been renamed to .toVertexStage()."),aa(...v)));const j_e=Xt(([v])=>{const r=v.mul(.9478672986).add(.0521327014).pow(2.4),c=v.mul(.0773993808),f=v.lessThanEqual(.04045);return c2(r,c,f)}).setLayout({name:"sRGBTransferEOTF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),q_e=Xt(([v])=>{const r=v.pow(.41666).mul(1.055).sub(.055),c=v.mul(12.92),f=v.lessThanEqual(.0031308);return c2(r,c,f)}).setLayout({name:"sRGBTransferOETF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),u8="WorkingColorSpace",X_e="OutputColorSpace";class Bx extends cr{static get type(){return"ColorSpaceNode"}constructor(r,c,f){super("vec4"),this.colorNode=r,this.source=c,this.target=f}resolveColorSpace(r,c){return c===u8?fi.workingColorSpace:c===X_e?r.context.outputColorSpace||r.renderer.outputColorSpace:c}setup(r){const{colorNode:c}=this,f=this.resolveColorSpace(r,this.source),_=this.resolveColorSpace(r,this.target);let y=c;return fi.enabled===!1||f===_||!f||!_||(fi.getTransfer(f)===N0&&(y=Li(j_e(y.rgb),y.a)),fi.getPrimaries(f)!==fi.getPrimaries(_)&&(y=Li(is(fi._getMatrix(new Pi,f,_)).mul(y.rgb),y.a)),fi.getTransfer(_)===N0&&(y=Li(q_e(y.rgb),y.a))),y}}const $_e=(v,r)=>n0(new Bx(n0(v),u8,r)),f8=(v,r)=>n0(new Bx(n0(v),r,u8));Bt("workingToColorSpace",$_e);Bt("colorSpaceToWorking",f8);let Y_e=class extends Af{static get type(){return"ReferenceElementNode"}constructor(r,c){super(r,c),this.referenceNode=r,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(r){const c=super.generate(r),f=this.referenceNode.getNodeType(),_=this.getNodeType();return r.format(c,f,_)}};class Ux extends Z0{static get type(){return"ReferenceBaseNode"}constructor(r,c,f=null,_=null){super(),this.property=r,this.uniformType=c,this.object=f,this.count=_,this.properties=r.split("."),this.reference=f,this.node=null,this.group=null,this.updateType=Fi.OBJECT}setGroup(r){return this.group=r,this}element(r){return n0(new Y_e(this,n0(r)))}setNodeType(r){const c=vi(null,r);this.group!==null&&c.setGroup(this.group),this.node=c}getNodeType(r){return this.node===null&&(this.updateReference(r),this.updateValue()),this.node.getNodeType(r)}getValueFromReference(r=this.reference){const{properties:c}=this;let f=r[c[0]];for(let _=1;_<c.length;_++)f=f[c[_]];return f}updateReference(r){return this.reference=this.object!==null?this.object:r.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const r=this.getValueFromReference();Array.isArray(r)?this.node.array=r:this.node.value=r}}const K_e=(v,r,c)=>n0(new Ux(v,r,c));class Z_e extends Ux{static get type(){return"RendererReferenceNode"}constructor(r,c,f=null){super(r,c,f),this.renderer=f,this.setGroup(xi)}updateReference(r){return this.reference=this.renderer!==null?this.renderer:r.renderer,this.reference}}const Q_e=(v,r,c=null)=>n0(new Z_e(v,r,c));class J_e extends cr{static get type(){return"ToneMappingNode"}constructor(r,c=tpe,f=null){super("vec3"),this._toneMapping=r,this.exposureNode=c,this.colorNode=f}customCacheKey(){return Uu(this._toneMapping)}setToneMapping(r){return this._toneMapping=r,this}getToneMapping(){return this._toneMapping}setup(r){const c=this.colorNode||r.context.color,f=this._toneMapping;if(f===Jr)return c;let _=null;const y=r.renderer.library.getToneMappingFunction(f);return y!==null?_=Li(y(c.rgb,this.exposureNode),c.a):(r0("ToneMappingNode: Unsupported Tone Mapping configuration.",f),_=c),_}}const epe=(v,r,c)=>n0(new J_e(v,n0(r),n0(c))),tpe=Q_e("toneMappingExposure","float");Bt("toneMapping",(v,r,c)=>epe(r,c,v));class ipe extends Zd{static get type(){return"BufferAttributeNode"}constructor(r,c=null,f=0,_=0){super(r,c),this.isBufferNode=!0,this.bufferType=c,this.bufferStride=f,this.bufferOffset=_,this.usage=tp,this.instanced=!1,this.attribute=null,this.global=!0,r&&r.isBufferAttribute===!0&&(this.attribute=r,this.usage=r.usage,this.instanced=r.isInstancedBufferAttribute)}getHash(r){if(this.bufferStride===0&&this.bufferOffset===0){let c=r.globalCache.getData(this.value);return c===void 0&&(c={node:this},r.globalCache.setData(this.value,c)),c.node.uuid}return this.uuid}getNodeType(r){return this.bufferType===null&&(this.bufferType=r.getTypeFromAttribute(this.attribute)),this.bufferType}setup(r){if(this.attribute!==null)return;const c=this.getNodeType(r),f=this.value,_=r.getTypeLength(c),y=this.bufferStride||_,T=this.bufferOffset,A=f.isInterleavedBuffer===!0?f:new Vg(f,y),N=new zd(A,_,T);A.setUsage(this.usage),this.attribute=N,this.attribute.isInstancedBufferAttribute=this.instanced}generate(r){const c=this.getNodeType(r),f=r.getBufferAttributeFromNode(this,c),_=r.getPropertyName(f);let y=null;return r.shaderStage==="vertex"||r.shaderStage==="compute"?(this.name=_,y=_):y=aa(this).build(r,c),y}getInputType(){return"bufferAttribute"}setUsage(r){return this.usage=r,this.attribute&&this.attribute.isBufferAttribute===!0&&(this.attribute.usage=r),this}setInstanced(r){return this.instanced=r,this}}const _8=(v,r=null,c=0,f=0)=>n0(new ipe(v,r,c,f)),npe=(v,r=null,c=0,f=0)=>_8(v,r,c,f).setUsage(Wc),Z3=(v,r=null,c=0,f=0)=>_8(v,r,c,f).setInstanced(!0),Q3=(v,r=null,c=0,f=0)=>npe(v,r,c,f).setInstanced(!0);Bt("toAttribute",v=>_8(v.value));class rpe extends Z0{static get type(){return"ComputeNode"}constructor(r,c){super("void"),this.isComputeNode=!0,this.computeNode=r,this.workgroupSize=c,this.count=null,this.version=1,this.name="",this.updateBeforeType=Fi.OBJECT,this.onInitFunction=null}setCount(r){return this.count=r,this}getCount(){return this.count}dispose(){this.dispatchEvent({type:"dispose"})}setName(r){return this.name=r,this}label(r){return jt('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(r)}onInit(r){return this.onInitFunction=r,this}updateBefore({renderer:r}){r.compute(this)}setup(r){const c=this.computeNode.build(r);if(c){const f=r.getNodeProperties(this);f.outputComputeNode=c.outputNode,c.outputNode=null}return c}generate(r,c){const{shaderStage:f}=r;if(f==="compute"){const _=this.computeNode.build(r,"void");_!==""&&r.addLineFlowCode(_,this)}else{const y=r.getNodeProperties(this).outputComputeNode;if(y)return y.build(r,c)}}}const Ox=(v,r=[64])=>{(r.length===0||r.length>3)&&r0("TSL: compute() workgroupSize must have 1, 2, or 3 elements");for(let c=0;c<r.length;c++){const f=r[c];(typeof f!="number"||f<=0||!Number.isInteger(f))&&r0(`TSL: compute() workgroupSize element at index [ ${c} ] must be a positive integer`)}for(;r.length<3;)r.push(1);return n0(new rpe(n0(v),r))},spe=(v,r,c)=>Ox(v,c).setCount(r);Bt("compute",spe);Bt("computeKernel",Ox);class ope extends Z0{static get type(){return"IsolateNode"}constructor(r,c=!0){super(),this.node=r,this.parent=c,this.isIsolateNode=!0}getNodeType(r){const c=r.getCache(),f=r.getCacheFromNode(this,this.parent);r.setCache(f);const _=this.node.getNodeType(r);return r.setCache(c),_}build(r,...c){const f=r.getCache(),_=r.getCacheFromNode(this,this.parent);r.setCache(_);const y=this.node.build(r,...c);return r.setCache(f),y}setParent(r){return this.parent=r,this}getParent(){return this.parent}}const zu=v=>new ope(n0(v));function ape(v,r=!0){return jt('TSL: "cache()" has been deprecated. Use "isolate()" instead.'),zu(v).setParent(r)}Bt("cache",ape);Bt("isolate",zu);class cpe extends Z0{static get type(){return"BypassNode"}constructor(r,c){super(),this.isBypassNode=!0,this.outputNode=r,this.callNode=c}getNodeType(r){return this.outputNode.getNodeType(r)}generate(r){const c=this.callNode.build(r,"void");return c!==""&&r.addLineFlowCode(c,this),this.outputNode.build(r)}}const lpe=xn(cpe).setParameterLength(2);Bt("bypass",lpe);class Gx extends Z0{static get type(){return"RemapNode"}constructor(r,c,f,_=Lt(0),y=Lt(1)){super(),this.node=r,this.inLowNode=c,this.inHighNode=f,this.outLowNode=_,this.outHighNode=y,this.doClamp=!0}setup(){const{node:r,inLowNode:c,inHighNode:f,outLowNode:_,outHighNode:y,doClamp:T}=this;let A=r.sub(c).div(f.sub(c));return T===!0&&(A=A.clamp()),A.mul(y.sub(_)).add(_)}}const upe=xn(Gx,null,null,{doClamp:!1}).setParameterLength(3,5),fpe=xn(Gx).setParameterLength(3,5);Bt("remap",upe);Bt("remapClamp",fpe);class Z_ extends Z0{static get type(){return"ExpressionNode"}constructor(r="",c="void"){super(c),this.snippet=r}generate(r,c){const f=this.getNodeType(r),_=this.snippet;if(f==="void")r.addLineFlowCode(_,this);else return r.format(_,f,c)}}const Ll=xn(Z_).setParameterLength(1,2),_pe=v=>(v?Er(v,Ll("discard")):Ll("discard")).toStack();Bt("discard",_pe);class ppe extends cr{static get type(){return"RenderOutputNode"}constructor(r,c,f){super("vec4"),this.colorNode=r,this._toneMapping=c,this.outputColorSpace=f,this.isRenderOutputNode=!0}setToneMapping(r){return this._toneMapping=r,this}getToneMapping(){return this._toneMapping}setup({context:r}){let c=this.colorNode||r.color;const f=(this._toneMapping!==null?this._toneMapping:r.toneMapping)||Jr,_=(this.outputColorSpace!==null?this.outputColorSpace:r.outputColorSpace)||ms;return f!==Jr&&(c=c.toneMapping(f)),_!==ms&&_!==fi.workingColorSpace&&(c=c.workingToColorSpace(_)),c}}const hpe=(v,r=null,c=null)=>n0(new ppe(n0(v),r,c));Bt("renderOutput",hpe);class dpe extends cr{static get type(){return"DebugNode"}constructor(r,c=null){super(),this.node=r,this.callback=c}getNodeType(r){return this.node.getNodeType(r)}setup(r){return this.node.build(r)}analyze(r){return this.node.build(r)}generate(r){const c=this.callback,f=this.node.build(r),_="--- TSL debug - "+r.shaderStage+" shader ---",y="-".repeat(_.length);let T="";return T+="// #"+_+`#
`,T+=r.flow.code.replace(/^\t/mg,"")+`
`,T+="/* ... */ "+f+` /* ... */
`,T+="// #"+y+`#
`,c!==null?c(r,T):af(T),f}}const mpe=(v,r=null)=>n0(new dpe(n0(v),r)).toStack();Bt("debug",mpe);class Vx{constructor(){this._renderer=null,this.currentFrame=null}get nodeFrame(){return this._renderer._nodes.nodeFrame}setRenderer(r){return this._renderer=r,this}getRenderer(){return this._renderer}init(){}begin(){}finish(){}inspect(){}computeAsync(){}beginCompute(){}finishCompute(){}beginRender(){}finishRender(){}copyTextureToTexture(){}copyFramebufferToTexture(){}}class gpe extends Z0{static get type(){return"InspectorNode"}constructor(r,c="",f=null){super(),this.node=r,this.name=c,this.callback=f,this.updateType=Fi.FRAME,this.isInspectorNode=!0}getName(){return this.name||this.node.name}update(r){r.renderer.inspector.inspect(this)}getNodeType(r){return this.node.getNodeType(r)}setup(r){let c=this.node;return r.context.inspector===!0&&this.callback!==null&&(c=this.callback(c)),r.renderer.backend.isWebGPUBackend!==!0&&r.renderer.inspector.constructor!==Vx&&a2('TSL: ".toInspector()" is only available with WebGPU.'),c}}function xpe(v,r="",c=null){return v=n0(v),v.before(new gpe(v,r,c))}Bt("toInspector",xpe);class zx extends Z0{static get type(){return"AttributeNode"}constructor(r,c=null){super(c),this.global=!0,this._attributeName=r}getHash(r){return this.getAttributeName(r)}getNodeType(r){let c=this.nodeType;if(c===null){const f=this.getAttributeName(r);if(r.hasGeometryAttribute(f)){const _=r.geometry.getAttribute(f);c=r.getTypeFromAttribute(_)}else c="float"}return c}setAttributeName(r){return this._attributeName=r,this}getAttributeName(){return this._attributeName}generate(r){const c=this.getAttributeName(r),f=this.getNodeType(r);if(r.hasGeometryAttribute(c)===!0){const y=r.geometry.getAttribute(c),T=r.getTypeFromAttribute(y),A=r.getAttribute(c,T);return r.shaderStage==="vertex"?r.format(A.name,T,f):aa(this).build(r,f)}else return jt(`AttributeNode: Vertex attribute "${c}" not found on geometry.`),r.generateConst(f)}serialize(r){super.serialize(r),r.global=this.global,r._attributeName=this._attributeName}deserialize(r){super.deserialize(r),this.global=r.global,this._attributeName=r._attributeName}}const sa=(v,r=null)=>n0(new zx(v,r)),Xl=(v=0)=>sa("uv"+(v>0?v:""),"vec2");class ype extends Z0{static get type(){return"TextureSizeNode"}constructor(r,c=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=r,this.levelNode=c}generate(r,c){const f=this.textureNode.build(r,"property"),_=this.levelNode===null?"0":this.levelNode.build(r,"int");return r.format(`${r.getMethod("textureDimensions")}( ${f}, ${_} )`,this.getNodeType(r),c)}}const Wa=xn(ype).setParameterLength(1,2);class vpe extends Ef{static get type(){return"MaxMipLevelNode"}constructor(r){super(0),this._textureNode=r,this.updateType=Fi.FRAME}get textureNode(){return this._textureNode}get texture(){return this._textureNode.value}update(){const r=this.texture,c=r.images,f=c&&c.length>0?c[0]&&c[0].image||c[0]:r.image;if(f&&f.width!==void 0){const{width:_,height:y}=f;this.value=Math.log2(Math.max(_,y))}}}const Spe=xn(vpe).setParameterLength(1),Wx=new Z2;class $l extends Ef{static get type(){return"TextureNode"}constructor(r=Wx,c=null,f=null,_=null){super(r),this.isTextureNode=!0,this.uvNode=c,this.levelNode=f,this.biasNode=_,this.compareNode=null,this.depthNode=null,this.gradNode=null,this.offsetNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=Fi.NONE,this.referenceNode=null,this._value=r,this._matrixUniform=null,this._flipYUniform=null,this.setUpdateMatrix(c===null)}set value(r){this.referenceNode?this.referenceNode.value=r:this._value=r}get value(){return this.referenceNode?this.referenceNode.value:this._value}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":this.value.type===Yn?"uvec4":this.value.type===vr?"ivec4":"vec4"}getInputType(){return"texture"}getDefaultUV(){return Xl(this.value.channel)}updateReference(){return this.value}getTransformedUV(r){return this._matrixUniform===null&&(this._matrixUniform=vi(this.value.matrix)),this._matrixUniform.mul(Gt(r,1)).xy}setUpdateMatrix(r){return this.updateMatrix=r,this}setupUV(r,c){return r.isFlipY()&&(this._flipYUniform===null&&(this._flipYUniform=vi(!1)),c=c.toVar(),this.sampler?c=this._flipYUniform.select(c.flipY(),c):c=this._flipYUniform.select(c.setY(i2(Wa(this,this.levelNode).y).sub(c.y).sub(1)),c)),c}setup(r){const c=r.getNodeProperties(this);c.referenceNode=this.referenceNode;const f=this.value;if(!f||f.isTexture!==!0)throw new Error("THREE.TSL: `texture( value )` function expects a valid instance of THREE.Texture().");const _=Xt(()=>{let T=this.uvNode;return(T===null||r.context.forceUVContext===!0)&&r.context.getUV&&(T=r.context.getUV(this,r)),T||(T=this.getDefaultUV()),this.updateMatrix===!0&&(T=this.getTransformedUV(T)),T=this.setupUV(r,T),this.updateType=this._matrixUniform!==null||this._flipYUniform!==null?Fi.OBJECT:Fi.NONE,T})();let y=this.levelNode;y===null&&r.context.getTextureLevel&&(y=r.context.getTextureLevel(this)),c.uvNode=_,c.levelNode=y,c.biasNode=this.biasNode,c.compareNode=this.compareNode,c.gradNode=this.gradNode,c.depthNode=this.depthNode,c.offsetNode=this.offsetNode}generateUV(r,c){return c.build(r,this.sampler===!0?"vec2":"ivec2")}generateOffset(r,c){return c.build(r,"ivec2")}generateSnippet(r,c,f,_,y,T,A,N,k){const V=this.value;let j;return y?j=r.generateTextureBias(V,c,f,y,T,k):N?j=r.generateTextureGrad(V,c,f,N,T,k):A?j=r.generateTextureCompare(V,c,f,A,T,k):this.sampler===!1?j=r.generateTextureLoad(V,c,f,_,T,k):_?j=r.generateTextureLevel(V,c,f,_,T,k):j=r.generateTexture(V,c,f,T,k),j}generate(r,c){const f=this.value,_=r.getNodeProperties(this),y=super.generate(r,"property");if(/^sampler/.test(c))return y+"_sampler";if(r.isReference(c))return y;{const T=r.getDataFromNode(this);let A=T.propertyName;if(A===void 0){const{uvNode:V,levelNode:j,biasNode:K,compareNode:Q,depthNode:ie,gradNode:ce,offsetNode:ue}=_,re=this.generateUV(r,V),be=j?j.build(r,"float"):null,De=K?K.build(r,"float"):null,Oe=ie?ie.build(r,"int"):null,je=Q?Q.build(r,"float"):null,Be=ce?[ce[0].build(r,"vec2"),ce[1].build(r,"vec2")]:null,We=ue?this.generateOffset(r,ue):null,$e=r.getVarFromNode(this);A=r.getPropertyName($e);const Ee=this.generateSnippet(r,y,re,be,De,Oe,je,Be,We);r.addLineFlowCode(`${A} = ${Ee}`,this),T.snippet=Ee,T.propertyName=A}let N=A;const k=this.getNodeType(r);return r.needsToWorkingColorSpace(f)&&(N=f8(Ll(N,k),f.colorSpace).setup(r).build(r,k)),r.format(N,k,c)}}setSampler(r){return this.sampler=r,this}getSampler(){return this.sampler}uv(r){return jt("TextureNode: .uv() has been renamed. Use .sample() instead."),this.sample(r)}sample(r){const c=this.clone();return c.uvNode=n0(r),c.referenceNode=this.getBase(),n0(c)}load(r){return this.sample(r).setSampler(!1)}blur(r){const c=this.clone();c.biasNode=n0(r).mul(Spe(c)),c.referenceNode=this.getBase();const f=c.value;return c.generateMipmaps===!1&&(f&&f.generateMipmaps===!1||f.minFilter===n2||f.magFilter===n2)&&(jt("TSL: texture().blur() requires mipmaps and sampling. Use .generateMipmaps=true and .minFilter/.magFilter=THREE.LinearFilter in the Texture."),c.biasNode=null),n0(c)}level(r){const c=this.clone();return c.levelNode=n0(r),c.referenceNode=this.getBase(),n0(c)}size(r){return Wa(this,r)}bias(r){const c=this.clone();return c.biasNode=n0(r),c.referenceNode=this.getBase(),n0(c)}getBase(){return this.referenceNode?this.referenceNode.getBase():this}compare(r){const c=this.clone();return c.compareNode=n0(r),c.referenceNode=this.getBase(),n0(c)}grad(r,c){const f=this.clone();return f.gradNode=[n0(r),n0(c)],f.referenceNode=this.getBase(),n0(f)}depth(r){const c=this.clone();return c.depthNode=n0(r),c.referenceNode=this.getBase(),n0(c)}offset(r){const c=this.clone();return c.offsetNode=n0(r),c.referenceNode=this.getBase(),n0(c)}serialize(r){super.serialize(r),r.value=this.value.toJSON(r.meta).uuid,r.sampler=this.sampler,r.updateMatrix=this.updateMatrix,r.updateType=this.updateType}deserialize(r){super.deserialize(r),this.value=r.meta.textures[r.value],this.sampler=r.sampler,this.updateMatrix=r.updateMatrix,this.updateType=r.updateType}update(){const r=this.value,c=this._matrixUniform;c!==null&&(c.value=r.matrix),r.matrixAutoUpdate===!0&&r.updateMatrix();const f=this._flipYUniform;f!==null&&(f.value=r.image instanceof ImageBitmap&&r.flipY===!0||r.isRenderTargetTexture===!0||r.isFramebufferTexture===!0||r.isDepthTexture===!0)}clone(){const r=new this.constructor(this.value,this.uvNode,this.levelNode,this.biasNode);return r.sampler=this.sampler,r.depthNode=this.depthNode,r.compareNode=this.compareNode,r.gradNode=this.gradNode,r.offsetNode=this.offsetNode,r}}const Cpe=xn($l).setParameterLength(1,4).setName("texture"),rn=(v=Wx,r=null,c=null,f=null)=>{let _;return v&&v.isTextureNode===!0?(_=n0(v.clone()),_.referenceNode=v.getBase(),r!==null&&(_.uvNode=n0(r)),c!==null&&(_.levelNode=n0(c)),f!==null&&(_.biasNode=n0(f))):_=Cpe(v,r,c,f),_},zs=(...v)=>rn(...v).setSampler(!1);class Hx extends Ef{static get type(){return"BufferNode"}constructor(r,c,f=0){super(r,c),this.isBufferNode=!0,this.bufferType=c,this.bufferCount=f}getElementType(r){return this.getNodeType(r)}getInputType(){return"buffer"}}const jx=(v,r,c)=>n0(new Hx(v,r,c));class Tpe extends Af{static get type(){return"UniformArrayElementNode"}constructor(r,c){super(r,c),this.isArrayBufferElementNode=!0}generate(r){const c=super.generate(r),f=this.getNodeType(),_=this.node.getPaddedType();return r.format(c,_,f)}}class wpe extends Hx{static get type(){return"UniformArrayNode"}constructor(r,c=null){super(null),this.array=r,this.elementType=c===null?sp(r[0]):c,this.paddedType=this.getPaddedType(),this.updateType=Fi.RENDER,this.isArrayBufferNode=!0}getNodeType(){return this.paddedType}getElementType(){return this.elementType}getPaddedType(){const r=this.elementType;let c="vec4";return r==="mat2"?c="mat2":/mat/.test(r)===!0?c="mat4":r.charAt(0)==="i"?c="ivec4":r.charAt(0)==="u"&&(c="uvec4"),c}update(){const{array:r,value:c}=this,f=this.elementType;if(f==="float"||f==="int"||f==="uint")for(let _=0;_<r.length;_++){const y=_*4;c[y]=r[_]}else if(f==="color")for(let _=0;_<r.length;_++){const y=_*4,T=r[_];c[y]=T.r,c[y+1]=T.g,c[y+2]=T.b||0}else if(f==="mat2")for(let _=0;_<r.length;_++){const y=_*4,T=r[_];c[y]=T.elements[0],c[y+1]=T.elements[1],c[y+2]=T.elements[2],c[y+3]=T.elements[3]}else if(f==="mat3")for(let _=0;_<r.length;_++){const y=_*16,T=r[_];c[y]=T.elements[0],c[y+1]=T.elements[1],c[y+2]=T.elements[2],c[y+4]=T.elements[3],c[y+5]=T.elements[4],c[y+6]=T.elements[5],c[y+8]=T.elements[6],c[y+9]=T.elements[7],c[y+10]=T.elements[8],c[y+15]=1}else if(f==="mat4")for(let _=0;_<r.length;_++){const y=_*16,T=r[_];for(let A=0;A<T.elements.length;A++)c[y+A]=T.elements[A]}else for(let _=0;_<r.length;_++){const y=_*4,T=r[_];c[y]=T.x,c[y+1]=T.y,c[y+2]=T.z||0,c[y+3]=T.w||0}}setup(r){const c=this.array.length,f=this.elementType;let _=Float32Array;const y=this.paddedType,T=r.getTypeLength(y);return f.charAt(0)==="i"&&(_=Int32Array),f.charAt(0)==="u"&&(_=Uint32Array),this.value=new _(c*T),this.bufferCount=c,this.bufferType=y,super.setup(r)}element(r){return n0(new Tpe(this,n0(r)))}}const ao=(v,r)=>n0(new wpe(v,r));class Mpe extends Z0{constructor(r){super("float"),this.name=r,this.isBuiltinNode=!0}generate(){return this.name}}const Nf=xn(Mpe).setParameterLength(1);let mu,gu;class $n extends Z0{static get type(){return"ScreenNode"}constructor(r){super(),this.scope=r,this._output=null,this.isViewportNode=!0}getNodeType(){return this.scope===$n.DPR?"float":this.scope===$n.VIEWPORT?"vec4":"vec2"}getUpdateType(){let r=Fi.NONE;return(this.scope===$n.SIZE||this.scope===$n.VIEWPORT||this.scope===$n.DPR)&&(r=Fi.RENDER),this.updateType=r,r}update({renderer:r}){const c=r.getRenderTarget();this.scope===$n.VIEWPORT?c!==null?gu.copy(c.viewport):(r.getViewport(gu),gu.multiplyScalar(r.getPixelRatio())):this.scope===$n.DPR?this._output.value=r.getPixelRatio():c!==null?(mu.width=c.width,mu.height=c.height):r.getDrawingBufferSize(mu)}setup(){const r=this.scope;let c=null;return r===$n.SIZE?c=vi(mu||(mu=new _i)):r===$n.VIEWPORT?c=vi(gu||(gu=new hi)):r===$n.DPR?c=vi(1):c=p0(Dp.div(nd)),this._output=c,c}generate(r){if(this.scope===$n.COORDINATE){let c=r.getFragCoord();if(r.isFlipY()){const f=r.getNodeProperties(nd).outputNode.build(r);c=`${r.getType("vec2")}( ${c}.x, ${f}.y - ${c}.y )`}return c}return super.generate(r)}}$n.COORDINATE="coordinate";$n.VIEWPORT="viewport";$n.SIZE="size";$n.UV="uv";$n.DPR="dpr";const Rpe=h0($n,$n.DPR),el=h0($n,$n.UV),nd=h0($n,$n.SIZE),Dp=h0($n,$n.COORDINATE),qx=h0($n,$n.VIEWPORT),Ape=qx.zw;qx.xy;const p8=vi(0,"uint").setName("u_cameraIndex").setGroup(o8("cameraIndex")).toVarying("v_cameraIndex"),ka=vi("float").setName("cameraNear").setGroup(xi).onRenderUpdate(({camera:v})=>v.near),Fa=vi("float").setName("cameraFar").setGroup(xi).onRenderUpdate(({camera:v})=>v.far),Xx=Xt(({camera:v})=>{let r;if(v.isArrayCamera&&v.cameras.length>0){const c=[];for(const _ of v.cameras)c.push(_.projectionMatrix);r=ao(c).setGroup(xi).setName("cameraProjectionMatrices").element(v.isMultiViewCamera?Nf("gl_ViewID_OVR"):p8).toConst("cameraProjectionMatrix")}else r=vi("mat4").setName("cameraProjectionMatrix").setGroup(xi).onRenderUpdate(({camera:c})=>c.projectionMatrix);return r}).once()(),D1=Xt(({camera:v})=>{let r;if(v.isArrayCamera&&v.cameras.length>0){const c=[];for(const _ of v.cameras)c.push(_.matrixWorldInverse);r=ao(c).setGroup(xi).setName("cameraViewMatrices").element(v.isMultiViewCamera?Nf("gl_ViewID_OVR"):p8).toConst("cameraViewMatrix")}else r=vi("mat4").setName("cameraViewMatrix").setGroup(xi).onRenderUpdate(({camera:c})=>c.matrixWorldInverse);return r}).once()(),Epe=Xt(({camera:v})=>{let r;if(v.isArrayCamera&&v.cameras.length>0){const c=[];for(let _=0,y=v.cameras.length;_<y;_++)c.push(new at);r=ao(c).setGroup(xi).setName("cameraPositions").onRenderUpdate(({camera:_},y)=>{const T=_.cameras,A=y.array;for(let N=0,k=T.length;N<k;N++)A[N].setFromMatrixPosition(T[N].matrixWorld)}).element(v.isMultiViewCamera?Nf("gl_ViewID_OVR"):p8).toConst("cameraPosition")}else r=vi(new at).setName("cameraPosition").setGroup(xi).onRenderUpdate(({camera:c},f)=>f.value.setFromMatrixPosition(c.matrixWorld));return r}).once()(),J3=new Ja;class Vn extends Z0{static get type(){return"Object3DNode"}constructor(r,c=null){super(),this.scope=r,this.object3d=c,this.updateType=Fi.OBJECT,this.uniformNode=new Ef(null)}getNodeType(){const r=this.scope;if(r===Vn.WORLD_MATRIX)return"mat4";if(r===Vn.POSITION||r===Vn.VIEW_POSITION||r===Vn.DIRECTION||r===Vn.SCALE)return"vec3";if(r===Vn.RADIUS)return"float"}update(r){const c=this.object3d,f=this.uniformNode,_=this.scope;if(_===Vn.WORLD_MATRIX)f.value=c.matrixWorld;else if(_===Vn.POSITION)f.value=f.value||new at,f.value.setFromMatrixPosition(c.matrixWorld);else if(_===Vn.SCALE)f.value=f.value||new at,f.value.setFromMatrixScale(c.matrixWorld);else if(_===Vn.DIRECTION)f.value=f.value||new at,c.getWorldDirection(f.value);else if(_===Vn.VIEW_POSITION){const y=r.camera;f.value=f.value||new at,f.value.setFromMatrixPosition(c.matrixWorld),f.value.applyMatrix4(y.matrixWorldInverse)}else if(_===Vn.RADIUS){const y=r.object.geometry;y.boundingSphere===null&&y.computeBoundingSphere(),J3.copy(y.boundingSphere).applyMatrix4(c.matrixWorld),f.value=J3.radius}}generate(r){const c=this.scope;return c===Vn.WORLD_MATRIX?this.uniformNode.nodeType="mat4":c===Vn.POSITION||c===Vn.VIEW_POSITION||c===Vn.DIRECTION||c===Vn.SCALE?this.uniformNode.nodeType="vec3":c===Vn.RADIUS&&(this.uniformNode.nodeType="float"),this.uniformNode.build(r)}serialize(r){super.serialize(r),r.scope=this.scope}deserialize(r){super.deserialize(r),this.scope=r.scope}}Vn.WORLD_MATRIX="worldMatrix";Vn.POSITION="position";Vn.SCALE="scale";Vn.VIEW_POSITION="viewPosition";Vn.DIRECTION="direction";Vn.RADIUS="radius";const Npe=xn(Vn,Vn.POSITION).setParameterLength(1);class $s extends Vn{static get type(){return"ModelNode"}constructor(r){super(r)}update(r){this.object3d=r.object,super.update(r)}}$s.DIRECTION;const Za=h0($s,$s.WORLD_MATRIX);$s.POSITION;$s.SCALE;$s.VIEW_POSITION;$s.RADIUS;const bpe=vi(new Pi).onObjectUpdate(({object:v},r)=>r.value.getNormalMatrix(v.matrixWorld)),Ip=Xt(v=>v.renderer.overrideNodes.modelViewMatrix||Dpe).once()().toVar("modelViewMatrix"),Dpe=D1.mul(Za),e5=Xt(v=>(v.context.isHighPrecisionModelViewMatrix=!0,vi("mat4").onObjectUpdate(({object:r,camera:c})=>r.modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,r.matrixWorld)))).once()().toVar("highpModelViewMatrix"),t5=Xt(v=>{const r=v.context.isHighPrecisionModelViewMatrix;return vi("mat3").onObjectUpdate(({object:c,camera:f})=>(r!==!0&&c.modelViewMatrix.multiplyMatrices(f.matrixWorldInverse,c.matrixWorld),c.normalMatrix.getNormalMatrix(c.modelViewMatrix)))}).once()().toVar("highpModelNormalViewMatrix"),Pp=sa("position","vec3"),Br=Pp.toVarying("positionLocal"),i5=Pp.toVarying("positionPrevious"),kl=Xt(v=>Za.mul(Br).xyz.toVarying(v.getSubBuildProperty("v_positionWorld")),"vec3").once(["POSITION"])(),$x=Xt(()=>Br.transformDirection(Za).toVarying("v_positionWorldDirection").normalize().toVar("positionWorldDirection"),"vec3").once(["POSITION"])(),B2=Xt(v=>v.context.setupPositionView().toVarying("v_positionView"),"vec3").once(["POSITION"])(),y2=Xt(v=>{let r;return v.camera.isOrthographicCamera?r=Gt(0,0,1):r=B2.negate().toVarying("v_positionViewDirection").normalize(),r.toVar("positionViewDirection")},"vec3").once(["POSITION"])();class Ipe extends Z0{static get type(){return"FrontFacingNode"}constructor(){super("bool"),this.isFrontFacingNode=!0}generate(r){if(r.shaderStage!=="fragment")return"true";const{material:c}=r;return c.side===Kn?"false":r.getFrontFacing()}}const Ppe=h0(Ipe),Yx=Lt(Ppe).mul(2).sub(1),bf=Xt(([v],{material:r})=>{const c=r.side;return c===Kn?v=v.mul(-1):c===Ar&&(v=v.mul(Yx)),v}),Kx=sa("normal","vec3"),Ho=Xt(v=>v.geometry.hasAttribute("normal")===!1?(jt('TSL: Vertex attribute "normal" not found on geometry.'),Gt(0,1,0)):Kx,"vec3").once()().toVar("normalLocal"),Lpe=B2.dFdx().cross(B2.dFdy()).normalize().toVar("normalFlat"),_f=Xt(v=>{let r;return v.material.flatShading===!0?r=Lpe:r=Zx(Ho).toVarying("v_normalViewGeometry").normalize(),r},"vec3").once()().toVar("normalViewGeometry"),kpe=Xt(v=>{let r=_f.transformDirection(D1);return v.material.flatShading!==!0&&(r=r.toVarying("v_normalWorldGeometry")),r.normalize().toVar("normalWorldGeometry")},"vec3").once()(),Nn=Xt(({subBuildFn:v,material:r,context:c})=>{let f;return v==="NORMAL"||v==="VERTEX"?(f=_f,r.flatShading!==!0&&(f=bf(f))):f=c.setupNormal().context({getUV:null}),f},"vec3").once(["NORMAL","VERTEX"])().toVar("normalView"),Yl=Nn.transformDirection(D1).toVar("normalWorld"),qc=Xt(({subBuildFn:v,context:r})=>{let c;return v==="NORMAL"||v==="VERTEX"?c=Nn:c=r.setupClearcoatNormal().context({getUV:null}),c},"vec3").once(["NORMAL","VERTEX"])().toVar("clearcoatNormalView"),Fpe=Xt(([v,r=Za])=>{const c=is(r),f=v.div(Gt(c[0].dot(c[0]),c[1].dot(c[1]),c[2].dot(c[2])));return c.mul(f).xyz}),Zx=Xt(([v],r)=>{const c=r.renderer.overrideNodes.modelNormalViewMatrix;if(c!==null)return c.transformDirection(v);const f=bpe.mul(v);return D1.transformDirection(f)});Xt(()=>(jt('TSL: "transformedNormalView" is deprecated. Use "normalView" instead.'),Nn)).once(["NORMAL","VERTEX"])();Xt(()=>(jt('TSL: "transformedNormalWorld" is deprecated. Use "normalWorld" instead.'),Yl)).once(["NORMAL","VERTEX"])();Xt(()=>(jt('TSL: "transformedClearcoatNormalView" is deprecated. Use "clearcoatNormalView" instead.'),qc)).once(["NORMAL","VERTEX"])();const n5=new ts,f4=new Ri,Bpe=vi(0).onReference(({material:v})=>v).onObjectUpdate(({material:v})=>v.refractionRatio),_4=vi(1).onReference(({material:v})=>v).onObjectUpdate(function({material:v,scene:r}){return v.envMap?v.envMapIntensity:r.environmentIntensity}),Qx=vi(new Ri).onReference(function(v){return v.material}).onObjectUpdate(function({material:v,scene:r}){const c=r.environment!==null&&v.envMap===null?r.environmentRotation:v.envMapRotation;return c?(n5.copy(c),f4.makeRotationFromEuler(n5)):f4.identity(),f4}),Upe=y2.negate().reflect(Nn),Ope=y2.negate().refract(Nn,Bpe),Gpe=Upe.transformDirection(D1).toVar("reflectVector"),Vpe=Ope.transformDirection(D1).toVar("reflectVector"),zpe=new yf;class Wpe extends $l{static get type(){return"CubeTextureNode"}constructor(r,c=null,f=null,_=null){super(r,c,f,_),this.isCubeTextureNode=!0}getInputType(){return"cubeTexture"}getDefaultUV(){const r=this.value;return r.mapping===Go?Gpe:r.mapping===Vo?Vpe:(r0('CubeTextureNode: Mapping "%s" not supported.',r.mapping),Gt(0,0,0))}setUpdateMatrix(){}setupUV(r,c){const f=this.value;return(r.renderer.coordinateSystem===ra||!f.isRenderTargetTexture)&&(c=Gt(c.x.negate(),c.yz)),Qx.mul(c)}generateUV(r,c){return c.build(r,this.sampler===!0?"vec3":"ivec3")}}const Hpe=xn(Wpe).setParameterLength(1,4).setName("cubeTexture"),pf=(v=zpe,r=null,c=null,f=null)=>{let _;return v&&v.isCubeTextureNode===!0?(_=n0(v.clone()),_.referenceNode=v,r!==null&&(_.uvNode=n0(r)),c!==null&&(_.levelNode=n0(c)),f!==null&&(_.biasNode=n0(f))):_=Hpe(v,r,c,f),_};class jpe extends Af{static get type(){return"ReferenceElementNode"}constructor(r,c){super(r,c),this.referenceNode=r,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(r){const c=super.generate(r),f=this.referenceNode.getNodeType(),_=this.getNodeType();return r.format(c,f,_)}}class h8 extends Z0{static get type(){return"ReferenceNode"}constructor(r,c,f=null,_=null){super(),this.property=r,this.uniformType=c,this.object=f,this.count=_,this.properties=r.split("."),this.reference=f,this.node=null,this.group=null,this.name=null,this.updateType=Fi.OBJECT}element(r){return n0(new jpe(this,n0(r)))}setGroup(r){return this.group=r,this}setName(r){return this.name=r,this}label(r){return jt('TSL: "label()" has been deprecated. Use "setName()" instead.'),this.setName(r)}setNodeType(r){let c=null;this.count!==null?c=jx(null,r,this.count):Array.isArray(this.getValueFromReference())?c=ao(null,r):r==="texture"?c=rn(null):r==="cubeTexture"?c=pf(null):c=vi(null,r),this.group!==null&&c.setGroup(this.group),this.name!==null&&c.setName(this.name),this.node=c}getNodeType(r){return this.node===null&&(this.updateReference(r),this.updateValue()),this.node.getNodeType(r)}getValueFromReference(r=this.reference){const{properties:c}=this;let f=r[c[0]];for(let _=1;_<c.length;_++)f=f[c[_]];return f}updateReference(r){return this.reference=this.object!==null?this.object:r.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const r=this.getValueFromReference();Array.isArray(r)?this.node.array=r:this.node.value=r}}const zn=(v,r,c)=>n0(new h8(v,r,c)),r5=(v,r,c,f)=>n0(new h8(v,r,f,c));class qpe extends h8{static get type(){return"MaterialReferenceNode"}constructor(r,c,f=null){super(r,c,f),this.material=f,this.isMaterialReferenceNode=!0}updateReference(r){return this.reference=this.material!==null?this.material:r.material,this.reference}}const $1=(v,r,c=null)=>n0(new qpe(v,r,c)),Jx=Xl(),Xpe=B2.dFdx(),$pe=B2.dFdy(),ey=Jx.dFdx(),ty=Jx.dFdy(),iy=Nn,ny=$pe.cross(iy),ry=iy.cross(Xpe),rd=ny.mul(ey.x).add(ry.mul(ty.x)),sd=ny.mul(ey.y).add(ry.mul(ty.y)),s5=rd.dot(rd).max(sd.dot(sd)),sy=s5.equal(0).select(0,s5.inverseSqrt()),Ype=rd.mul(sy).toVar("tangentViewFrame"),Kpe=sd.mul(sy).toVar("bitangentViewFrame"),oy=Xt(v=>(v.geometry.hasAttribute("tangent")===!1&&v.geometry.computeTangents(),sa("tangent","vec4")))(),d8=oy.xyz.toVar("tangentLocal"),ay=Xt(({subBuildFn:v,geometry:r,material:c})=>{let f;return v==="VERTEX"||r.hasAttribute("tangent")?f=Ip.mul(Li(d8,0)).xyz.toVarying("v_tangentView").normalize():f=Ype,c.flatShading!==!0&&(f=bf(f)),f},"vec3").once(["NORMAL","VERTEX"])().toVar("tangentView"),Zpe=Xt(([v,r],{subBuildFn:c,material:f})=>{let _=v.mul(oy.w).xyz;return c==="NORMAL"&&f.flatShading!==!0&&(_=_.toVarying(r)),_}).once(["NORMAL"]),Qpe=Xt(({subBuildFn:v,geometry:r,material:c})=>{let f;return v==="VERTEX"||r.hasAttribute("tangent")?f=Zpe(Nn.cross(ay),"v_bitangentView").normalize():f=Kpe,c.flatShading!==!0&&(f=bf(f)),f},"vec3").once(["NORMAL","VERTEX"])().toVar("bitangentView"),Pu=is(ay,Qpe,Nn).toVar("TBNViewMatrix"),Jpe=Xt(()=>{let v=Jc.cross(y2);return v=v.cross(Jc).normalize(),v=c2(v,Nn,Ia.mul(y1.oneMinus()).oneMinus().pow2().pow2()).normalize(),v}).once()();class ehe extends cr{static get type(){return"NormalMapNode"}constructor(r,c=null){super("vec3"),this.node=r,this.scaleNode=c,this.normalMapType=M1}setup({material:r}){const{normalMapType:c,scaleNode:f}=this;let _=this.node.mul(2).sub(1);if(f!==null){let T=f;r.flatShading===!0&&(T=bf(T)),_=Gt(_.xy.mul(T),_.z)}let y=null;return c===Pg?y=Zx(_):c===M1?y=Pu.mul(_).normalize():(r0(`NodeMaterial: Unsupported normal map type: ${c}`),y=Nn),y}}const o5=xn(ehe).setParameterLength(1,2),the=Xt(({textureNode:v,bumpScale:r})=>{const c=_=>v.isolate().context({getUV:y=>_(y.uvNode||Xl()),forceUVContext:!0}),f=Lt(c(_=>_));return p0(Lt(c(_=>_.add(_.dFdx()))).sub(f),Lt(c(_=>_.add(_.dFdy()))).sub(f)).mul(r)}),ihe=Xt(v=>{const{surf_pos:r,surf_norm:c,dHdxy:f}=v,_=r.dFdx().normalize(),y=r.dFdy().normalize(),T=c,A=y.cross(T),N=T.cross(_),k=_.dot(A).mul(Yx),V=k.sign().mul(f.x.mul(A).add(f.y.mul(N)));return k.abs().mul(c).sub(V).normalize()});class nhe extends cr{static get type(){return"BumpMapNode"}constructor(r,c=null){super("vec3"),this.textureNode=r,this.scaleNode=c}setup(){const r=this.scaleNode!==null?this.scaleNode:1,c=the({textureNode:this.textureNode,bumpScale:r});return ihe({surf_pos:B2,surf_norm:Nn,dHdxy:c})}}const rhe=xn(nhe).setParameterLength(1,2),a5=new Map;class Ot extends Z0{static get type(){return"MaterialNode"}constructor(r){super(),this.scope=r}getCache(r,c){let f=a5.get(r);return f===void 0&&(f=$1(r,c),a5.set(r,f)),f}getFloat(r){return this.getCache(r,"float")}getColor(r){return this.getCache(r,"color")}getTexture(r){return this.getCache(r==="map"?"map":r+"Map","texture")}setup(r){const c=r.context.material,f=this.scope;let _=null;if(f===Ot.COLOR){const y=c.color!==void 0?this.getColor(f):Gt();c.map&&c.map.isTexture===!0?_=y.mul(this.getTexture("map")):_=y}else if(f===Ot.OPACITY){const y=this.getFloat(f);c.alphaMap&&c.alphaMap.isTexture===!0?_=y.mul(this.getTexture("alpha")):_=y}else if(f===Ot.SPECULAR_STRENGTH)c.specularMap&&c.specularMap.isTexture===!0?_=this.getTexture("specular").r:_=Lt(1);else if(f===Ot.SPECULAR_INTENSITY){const y=this.getFloat(f);c.specularIntensityMap&&c.specularIntensityMap.isTexture===!0?_=y.mul(this.getTexture(f).a):_=y}else if(f===Ot.SPECULAR_COLOR){const y=this.getColor(f);c.specularColorMap&&c.specularColorMap.isTexture===!0?_=y.mul(this.getTexture(f).rgb):_=y}else if(f===Ot.ROUGHNESS){const y=this.getFloat(f);c.roughnessMap&&c.roughnessMap.isTexture===!0?_=y.mul(this.getTexture(f).g):_=y}else if(f===Ot.METALNESS){const y=this.getFloat(f);c.metalnessMap&&c.metalnessMap.isTexture===!0?_=y.mul(this.getTexture(f).b):_=y}else if(f===Ot.EMISSIVE){const y=this.getFloat("emissiveIntensity"),T=this.getColor(f).mul(y);c.emissiveMap&&c.emissiveMap.isTexture===!0?_=T.mul(this.getTexture(f)):_=T}else if(f===Ot.NORMAL)c.normalMap?(_=o5(this.getTexture("normal"),this.getCache("normalScale","vec2")),_.normalMapType=c.normalMapType):c.bumpMap?_=rhe(this.getTexture("bump").r,this.getFloat("bumpScale")):_=Nn;else if(f===Ot.CLEARCOAT){const y=this.getFloat(f);c.clearcoatMap&&c.clearcoatMap.isTexture===!0?_=y.mul(this.getTexture(f).r):_=y}else if(f===Ot.CLEARCOAT_ROUGHNESS){const y=this.getFloat(f);c.clearcoatRoughnessMap&&c.clearcoatRoughnessMap.isTexture===!0?_=y.mul(this.getTexture(f).r):_=y}else if(f===Ot.CLEARCOAT_NORMAL)c.clearcoatNormalMap?_=o5(this.getTexture(f),this.getCache(f+"Scale","vec2")):_=Nn;else if(f===Ot.SHEEN){const y=this.getColor("sheenColor").mul(this.getFloat("sheen"));c.sheenColorMap&&c.sheenColorMap.isTexture===!0?_=y.mul(this.getTexture("sheenColor").rgb):_=y}else if(f===Ot.SHEEN_ROUGHNESS){const y=this.getFloat(f);c.sheenRoughnessMap&&c.sheenRoughnessMap.isTexture===!0?_=y.mul(this.getTexture(f).a):_=y,_=_.clamp(.07,1)}else if(f===Ot.ANISOTROPY)if(c.anisotropyMap&&c.anisotropyMap.isTexture===!0){const y=this.getTexture(f);_=n8(xu.x,xu.y,xu.y.negate(),xu.x).mul(y.rg.mul(2).sub(p0(1)).normalize().mul(y.b))}else _=xu;else if(f===Ot.IRIDESCENCE_THICKNESS){const y=zn("1","float",c.iridescenceThicknessRange);if(c.iridescenceThicknessMap){const T=zn("0","float",c.iridescenceThicknessRange);_=y.sub(T).mul(this.getTexture(f).g).add(T)}else _=y}else if(f===Ot.TRANSMISSION){const y=this.getFloat(f);c.transmissionMap?_=y.mul(this.getTexture(f).r):_=y}else if(f===Ot.THICKNESS){const y=this.getFloat(f);c.thicknessMap?_=y.mul(this.getTexture(f).g):_=y}else if(f===Ot.IOR)_=this.getFloat(f);else if(f===Ot.LIGHT_MAP)_=this.getTexture(f).rgb.mul(this.getFloat("lightMapIntensity"));else if(f===Ot.AO)_=this.getTexture(f).r.sub(1).mul(this.getFloat("aoMapIntensity")).add(1);else if(f===Ot.LINE_DASH_OFFSET)_=c.dashOffset?this.getFloat(f):Lt(0);else{const y=this.getNodeType(r);_=this.getCache(f,y)}return _}}Ot.ALPHA_TEST="alphaTest";Ot.COLOR="color";Ot.OPACITY="opacity";Ot.SHININESS="shininess";Ot.SPECULAR="specular";Ot.SPECULAR_STRENGTH="specularStrength";Ot.SPECULAR_INTENSITY="specularIntensity";Ot.SPECULAR_COLOR="specularColor";Ot.REFLECTIVITY="reflectivity";Ot.ROUGHNESS="roughness";Ot.METALNESS="metalness";Ot.NORMAL="normal";Ot.CLEARCOAT="clearcoat";Ot.CLEARCOAT_ROUGHNESS="clearcoatRoughness";Ot.CLEARCOAT_NORMAL="clearcoatNormal";Ot.EMISSIVE="emissive";Ot.ROTATION="rotation";Ot.SHEEN="sheen";Ot.SHEEN_ROUGHNESS="sheenRoughness";Ot.ANISOTROPY="anisotropy";Ot.IRIDESCENCE="iridescence";Ot.IRIDESCENCE_IOR="iridescenceIOR";Ot.IRIDESCENCE_THICKNESS="iridescenceThickness";Ot.IOR="ior";Ot.TRANSMISSION="transmission";Ot.THICKNESS="thickness";Ot.ATTENUATION_DISTANCE="attenuationDistance";Ot.ATTENUATION_COLOR="attenuationColor";Ot.LINE_SCALE="scale";Ot.LINE_DASH_SIZE="dashSize";Ot.LINE_GAP_SIZE="gapSize";Ot.LINE_WIDTH="linewidth";Ot.LINE_DASH_OFFSET="dashOffset";Ot.POINT_SIZE="size";Ot.DISPERSION="dispersion";Ot.LIGHT_MAP="light";Ot.AO="ao";const she=h0(Ot,Ot.ALPHA_TEST),ohe=h0(Ot,Ot.COLOR),ahe=h0(Ot,Ot.SHININESS),che=h0(Ot,Ot.EMISSIVE),cy=h0(Ot,Ot.OPACITY),lhe=h0(Ot,Ot.SPECULAR),c5=h0(Ot,Ot.SPECULAR_INTENSITY),uhe=h0(Ot,Ot.SPECULAR_COLOR),Q_=h0(Ot,Ot.SPECULAR_STRENGTH),p4=h0(Ot,Ot.REFLECTIVITY),fhe=h0(Ot,Ot.ROUGHNESS),_he=h0(Ot,Ot.METALNESS),phe=h0(Ot,Ot.NORMAL),hhe=h0(Ot,Ot.CLEARCOAT),dhe=h0(Ot,Ot.CLEARCOAT_ROUGHNESS),mhe=h0(Ot,Ot.CLEARCOAT_NORMAL),ghe=h0(Ot,Ot.ROTATION),xhe=h0(Ot,Ot.SHEEN),yhe=h0(Ot,Ot.SHEEN_ROUGHNESS),vhe=h0(Ot,Ot.ANISOTROPY),She=h0(Ot,Ot.IRIDESCENCE),Che=h0(Ot,Ot.IRIDESCENCE_IOR),The=h0(Ot,Ot.IRIDESCENCE_THICKNESS),whe=h0(Ot,Ot.TRANSMISSION),Mhe=h0(Ot,Ot.THICKNESS),Rhe=h0(Ot,Ot.IOR),Ahe=h0(Ot,Ot.ATTENUATION_DISTANCE),Ehe=h0(Ot,Ot.ATTENUATION_COLOR),Nhe=h0(Ot,Ot.LINE_SCALE),bhe=h0(Ot,Ot.LINE_DASH_SIZE),Dhe=h0(Ot,Ot.LINE_GAP_SIZE);Ot.LINE_WIDTH;const Ihe=h0(Ot,Ot.LINE_DASH_OFFSET),Phe=h0(Ot,Ot.POINT_SIZE),Lhe=h0(Ot,Ot.DISPERSION),ly=h0(Ot,Ot.LIGHT_MAP),khe=h0(Ot,Ot.AO),xu=vi(new _i).onReference(function(v){return v.material}).onRenderUpdate(function({material:v}){this.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation))}),uy=Xt(v=>v.context.setupModelViewProjection(),"vec4").once()().toVarying("v_modelViewProjection");class l2 extends Z0{static get type(){return"IndexNode"}constructor(r){super("uint"),this.scope=r,this.isIndexNode=!0}generate(r){const c=this.getNodeType(r),f=this.scope;let _;if(f===l2.VERTEX)_=r.getVertexIndex();else if(f===l2.INSTANCE)_=r.getInstanceIndex();else if(f===l2.DRAW)_=r.getDrawIndex();else if(f===l2.INVOCATION_LOCAL)_=r.getInvocationLocalIndex();else if(f===l2.INVOCATION_SUBGROUP)_=r.getInvocationSubgroupIndex();else if(f===l2.SUBGROUP)_=r.getSubgroupIndex();else throw new Error("THREE.IndexNode: Unknown scope: "+f);let y;return r.shaderStage==="vertex"||r.shaderStage==="compute"?y=_:y=aa(this).build(r,c),y}}l2.VERTEX="vertex";l2.INSTANCE="instance";l2.SUBGROUP="subgroup";l2.INVOCATION_LOCAL="invocationLocal";l2.INVOCATION_SUBGROUP="invocationSubgroup";l2.DRAW="draw";const Fhe=h0(l2,l2.VERTEX),m8=h0(l2,l2.INSTANCE);l2.SUBGROUP;l2.INVOCATION_SUBGROUP;l2.INVOCATION_LOCAL;const Bhe=h0(l2,l2.DRAW);class Uhe extends Z0{static get type(){return"InstanceNode"}constructor(r,c,f=null){super("void"),this.count=r,this.instanceMatrix=c,this.instanceColor=f,this.instanceMatrixNode=null,this.instanceColorNode=null,this.updateType=Fi.FRAME,this.buffer=null,this.bufferColor=null}setup(r){const{instanceMatrix:c,instanceColor:f}=this,{count:_}=c;let{instanceMatrixNode:y,instanceColorNode:T}=this;if(y===null){if(_<=1e3)y=jx(c.array,"mat4",Math.max(_,1)).element(m8);else{const N=new r1e(c.array,16,1);this.buffer=N;const k=c.usage===Wc?Q3:Z3,V=[k(N,"vec4",16,0),k(N,"vec4",16,4),k(N,"vec4",16,8),k(N,"vec4",16,12)];y=Qc(...V)}this.instanceMatrixNode=y}if(f&&T===null){const N=new Toe(f.array,3),k=f.usage===Wc?Q3:Z3;this.bufferColor=N,T=Gt(k(N,"vec3",3,0)),this.instanceColorNode=T}const A=y.mul(Br).xyz;if(Br.assign(A),r.hasGeometryAttribute("normal")){const N=Fpe(Ho,y);Ho.assign(N)}this.instanceColorNode!==null&&ap("vec3","vInstanceColor").assign(this.instanceColorNode)}update(){this.buffer!==null&&(this.buffer.clearUpdateRanges(),this.buffer.updateRanges.push(...this.instanceMatrix.updateRanges),this.instanceMatrix.usage!==Wc&&this.instanceMatrix.version!==this.buffer.version&&(this.buffer.version=this.instanceMatrix.version)),this.instanceColor&&this.bufferColor!==null&&(this.bufferColor.clearUpdateRanges(),this.bufferColor.updateRanges.push(...this.instanceColor.updateRanges),this.instanceColor.usage!==Wc&&this.instanceColor.version!==this.bufferColor.version&&(this.bufferColor.version=this.instanceColor.version))}}class Ohe extends Uhe{static get type(){return"InstancedMeshNode"}constructor(r){const{count:c,instanceMatrix:f,instanceColor:_}=r;super(c,f,_),this.instancedMesh=r}}const Ghe=xn(Ohe).setParameterLength(1);class Vhe extends Z0{static get type(){return"BatchNode"}constructor(r){super("void"),this.batchMesh=r,this.batchingIdNode=null}setup(r){this.batchingIdNode===null&&(r.getDrawIndex()===null?this.batchingIdNode=m8:this.batchingIdNode=Bhe);const f=Xt(([ie])=>{const ce=i2(Wa(zs(this.batchMesh._indirectTexture),0).x),ue=i2(ie).mod(ce),re=i2(ie).div(ce);return zs(this.batchMesh._indirectTexture,m1(ue,re)).x}).setLayout({name:"getIndirectIndex",type:"uint",inputs:[{name:"id",type:"int"}]})(i2(this.batchingIdNode)),_=this.batchMesh._matricesTexture,y=i2(Wa(zs(_),0).x),T=Lt(f).mul(4).toInt().toVar(),A=T.mod(y),N=T.div(y),k=Qc(zs(_,m1(A,N)),zs(_,m1(A.add(1),N)),zs(_,m1(A.add(2),N)),zs(_,m1(A.add(3),N))),V=this.batchMesh._colorsTexture;if(V!==null){const ce=Xt(([ue])=>{const re=i2(Wa(zs(V),0).x),be=ue,De=be.mod(re),Oe=be.div(re);return zs(V,m1(De,Oe)).rgb}).setLayout({name:"getBatchingColor",type:"vec3",inputs:[{name:"id",type:"int"}]})(f);ap("vec3","vBatchColor").assign(ce)}const j=is(k);Br.assign(k.mul(Br));const K=Ho.div(Gt(j[0].dot(j[0]),j[1].dot(j[1]),j[2].dot(j[2]))),Q=j.mul(K).xyz;Ho.assign(Q),r.hasGeometryAttribute("tangent")&&d8.mulAssign(j)}}const zhe=xn(Vhe).setParameterLength(1),l5=new WeakMap;class Whe extends Z0{static get type(){return"SkinningNode"}constructor(r){super("void"),this.skinnedMesh=r,this.updateType=Fi.OBJECT,this.skinIndexNode=sa("skinIndex","uvec4"),this.skinWeightNode=sa("skinWeight","vec4"),this.bindMatrixNode=zn("bindMatrix","mat4"),this.bindMatrixInverseNode=zn("bindMatrixInverse","mat4"),this.boneMatricesNode=r5("skeleton.boneMatrices","mat4",r.skeleton.bones.length),this.positionNode=Br,this.toPositionNode=Br,this.previousBoneMatricesNode=null}getSkinnedPosition(r=this.boneMatricesNode,c=this.positionNode){const{skinIndexNode:f,skinWeightNode:_,bindMatrixNode:y,bindMatrixInverseNode:T}=this,A=r.element(f.x),N=r.element(f.y),k=r.element(f.z),V=r.element(f.w),j=y.mul(c),K=Ss(A.mul(_.x).mul(j),N.mul(_.y).mul(j),k.mul(_.z).mul(j),V.mul(_.w).mul(j));return T.mul(K).xyz}getSkinnedNormal(r=this.boneMatricesNode,c=Ho){const{skinIndexNode:f,skinWeightNode:_,bindMatrixNode:y,bindMatrixInverseNode:T}=this,A=r.element(f.x),N=r.element(f.y),k=r.element(f.z),V=r.element(f.w);let j=Ss(_.x.mul(A),_.y.mul(N),_.z.mul(k),_.w.mul(V));return j=T.mul(j).mul(y),j.transformDirection(c).xyz}getPreviousSkinnedPosition(r){const c=r.object;return this.previousBoneMatricesNode===null&&(c.skeleton.previousBoneMatrices=new Float32Array(c.skeleton.boneMatrices),this.previousBoneMatricesNode=r5("skeleton.previousBoneMatrices","mat4",c.skeleton.bones.length)),this.getSkinnedPosition(this.previousBoneMatricesNode,i5)}needsPreviousBoneMatrices(r){const c=r.renderer.getMRT();return c&&c.has("velocity")||ox(r.object).useVelocity===!0}setup(r){this.needsPreviousBoneMatrices(r)&&i5.assign(this.getPreviousSkinnedPosition(r));const c=this.getSkinnedPosition();if(this.toPositionNode&&this.toPositionNode.assign(c),r.hasGeometryAttribute("normal")){const f=this.getSkinnedNormal();Ho.assign(f),r.hasGeometryAttribute("tangent")&&d8.assign(f)}return c}generate(r,c){if(c!=="void")return super.generate(r,c)}update(r){const c=r.object&&r.object.skeleton?r.object.skeleton:this.skinnedMesh.skeleton;l5.get(c)!==r.frameId&&(l5.set(c,r.frameId),this.previousBoneMatricesNode!==null&&c.previousBoneMatrices.set(c.boneMatrices),c.update())}}const Hhe=v=>n0(new Whe(v));class jhe extends Z0{static get type(){return"LoopNode"}constructor(r=[]){super("void"),this.params=r}getVarName(r){return String.fromCharCode(105+r)}getProperties(r){const c=r.getNodeProperties(this);if(c.stackNode!==void 0)return c;const f={};for(let A=0,N=this.params.length-1;A<N;A++){const k=this.params[A],V=k.isNode!==!0&&k.name||this.getVarName(A),j=k.isNode!==!0&&k.type||"int";f[V]=Ll(V,j)}const _=r.addStack(),y=this.params[this.params.length-1](f);c.returnsNode=y.context({nodeLoop:y}),c.stackNode=_;const T=this.params[0];if(T.isNode!==!0&&typeof T.update=="function"){const A=Xt(this.params[0].update)(f);c.updateNode=A.context({nodeLoop:A})}return r.removeStack(),c}setup(r){if(this.getProperties(r),r.fnCall){const c=r.getDataFromNode(r.fnCall.shaderNode);c.hasLoop=!0}}generate(r){const c=this.getProperties(r),f=this.params,_=c.stackNode;for(let T=0,A=f.length-1;T<A;T++){const N=f[T];let k=!1,V=null,j=null,K=null,Q=null,ie=null,ce=null;N.isNode?N.getNodeType(r)==="bool"?(k=!0,Q="bool",j=N.build(r,Q)):(Q="int",K=this.getVarName(T),V="0",j=N.build(r,Q),ie="<"):(Q=N.type||"int",K=N.name||this.getVarName(T),V=N.start,j=N.end,ie=N.condition,ce=N.update,typeof V=="number"?V=r.generateConst(Q,V):V&&V.isNode&&(V=V.build(r,Q)),typeof j=="number"?j=r.generateConst(Q,j):j&&j.isNode&&(j=j.build(r,Q)),V!==void 0&&j===void 0?(V=V+" - 1",j="0",ie=">="):j!==void 0&&V===void 0&&(V="0",ie="<"),ie===void 0&&(Number(V)>Number(j)?ie=">=":ie="<"));let ue;if(k)ue=`while ( ${j} )`;else{const re={start:V,end:j},be=re.start,De=re.end;let Oe;const je=()=>ie.includes("<")?"+=":"-=";if(ce!=null)switch(typeof ce){case"function":Oe=r.flowStagesNode(c.updateNode,"void").code.replace(/\t|;/g,"");break;case"number":Oe=K+" "+je()+" "+r.generateConst(Q,ce);break;case"string":Oe=K+" "+ce;break;default:ce.isNode?Oe=K+" "+je()+" "+ce.build(r):(r0("TSL: 'Loop( { update: ... } )' is not a function, string or number."),Oe="break /* invalid update */")}else Q==="int"||Q==="uint"?ce=ie.includes("<")?"++":"--":ce=je()+" 1.",Oe=K+" "+ce;const Be=r.getVar(Q,K)+" = "+be,We=K+" "+ie+" "+De;ue=`for ( ${Be}; ${We}; ${Oe} )`}r.addFlowCode((T===0?`
`:"")+r.tab+ue+` {

`).addFlowTab()}const y=_.build(r,"void");c.returnsNode.build(r,"void"),r.removeFlowTab().addFlowCode(`
`+r.tab+y);for(let T=0,A=this.params.length-1;T<A;T++)r.addFlowCode((T===0?"":r.tab)+`}

`).removeFlowTab();r.addFlowTab()}}const Hs=(...v)=>new jhe(Zc(v,"int")).toStack(),qhe=()=>Ll("break").toStack(),h4=new WeakMap,Es=new hi,u5=Xt(({bufferMap:v,influence:r,stride:c,width:f,depth:_,offset:y})=>{const T=i2(Fhe).mul(c).add(y),A=T.div(f),N=T.sub(A.mul(f));return zs(v,m1(N,A)).depth(_).xyz.mul(r)});function Xhe(v){const r=v.morphAttributes.position!==void 0,c=v.morphAttributes.normal!==void 0,f=v.morphAttributes.color!==void 0,_=v.morphAttributes.position||v.morphAttributes.normal||v.morphAttributes.color,y=_!==void 0?_.length:0;let T=h4.get(v);if(T===void 0||T.count!==y){let be=function(){ue.dispose(),h4.delete(v),v.removeEventListener("dispose",be)};var A=be;T!==void 0&&T.texture.dispose();const N=v.morphAttributes.position||[],k=v.morphAttributes.normal||[],V=v.morphAttributes.color||[];let j=0;r===!0&&(j=1),c===!0&&(j=2),f===!0&&(j=3);let K=v.attributes.position.count*j,Q=1;const ie=4096;K>ie&&(Q=Math.ceil(K/ie),K=ie);const ce=new Float32Array(K*Q*4*y),ue=new Bd(ce,K,Q,y);ue.type=I2,ue.needsUpdate=!0;const re=j*4;for(let De=0;De<y;De++){const Oe=N[De],je=k[De],Be=V[De],We=K*Q*4*De;for(let $e=0;$e<Oe.count;$e++){const Ee=$e*re;r===!0&&(Es.fromBufferAttribute(Oe,$e),ce[We+Ee+0]=Es.x,ce[We+Ee+1]=Es.y,ce[We+Ee+2]=Es.z,ce[We+Ee+3]=0),c===!0&&(Es.fromBufferAttribute(je,$e),ce[We+Ee+4]=Es.x,ce[We+Ee+5]=Es.y,ce[We+Ee+6]=Es.z,ce[We+Ee+7]=0),f===!0&&(Es.fromBufferAttribute(Be,$e),ce[We+Ee+8]=Es.x,ce[We+Ee+9]=Es.y,ce[We+Ee+10]=Es.z,ce[We+Ee+11]=Be.itemSize===4?Es.w:1)}}T={count:y,texture:ue,stride:j,size:new _i(K,Q)},h4.set(v,T),v.addEventListener("dispose",be)}return T}class $he extends Z0{static get type(){return"MorphNode"}constructor(r){super("void"),this.mesh=r,this.morphBaseInfluence=vi(1),this.updateType=Fi.OBJECT}setup(r){const{geometry:c}=r,f=c.morphAttributes.position!==void 0,_=c.hasAttribute("normal")&&c.morphAttributes.normal!==void 0,y=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,T=y!==void 0?y.length:0,{texture:A,stride:N,size:k}=Xhe(c);f===!0&&Br.mulAssign(this.morphBaseInfluence),_===!0&&Ho.mulAssign(this.morphBaseInfluence);const V=i2(k.width);Hs(T,({i:j})=>{const K=Lt(0).toVar();this.mesh.count>1&&this.mesh.morphTexture!==null&&this.mesh.morphTexture!==void 0?K.assign(zs(this.mesh.morphTexture,m1(i2(j).add(1),i2(m8))).r):K.assign(zn("morphTargetInfluences","float").element(j).toVar()),u2(K.notEqual(0),()=>{f===!0&&Br.addAssign(u5({bufferMap:A,influence:K,stride:N,width:V,depth:j,offset:i2(0)})),_===!0&&Ho.addAssign(u5({bufferMap:A,influence:K,stride:N,width:V,depth:j,offset:i2(1)}))})})}update(){const r=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?r.value=1:r.value=1-this.mesh.morphTargetInfluences.reduce((c,f)=>c+f,0)}}const Yhe=xn($he).setParameterLength(1);class Kl extends Z0{static get type(){return"LightingNode"}constructor(){super("vec3"),this.isLightingNode=!0}}class Khe extends Kl{static get type(){return"AONode"}constructor(r=null){super(),this.aoNode=r}setup(r){r.context.ambientOcclusion.mulAssign(this.aoNode)}}class Zhe extends kx{static get type(){return"LightingContextNode"}constructor(r,c=null,f=null,_=null){super(r),this.lightingModel=c,this.backdropNode=f,this.backdropAlphaNode=_,this._value=null}getContext(){const{backdropNode:r,backdropAlphaNode:c}=this,f=Gt().toVar("directDiffuse"),_=Gt().toVar("directSpecular"),y=Gt().toVar("indirectDiffuse"),T=Gt().toVar("indirectSpecular"),A={directDiffuse:f,directSpecular:_,indirectDiffuse:y,indirectSpecular:T};return{radiance:Gt().toVar("radiance"),irradiance:Gt().toVar("irradiance"),iblIrradiance:Gt().toVar("iblIrradiance"),ambientOcclusion:Lt(1).toVar("ambientOcclusion"),reflectedLight:A,backdrop:r,backdropAlpha:c}}setup(r){return this.value=this._value||(this._value=this.getContext()),this.value.lightingModel=this.lightingModel||r.context.lightingModel,super.setup(r)}}const Qhe=xn(Zhe);class Jhe extends Kl{static get type(){return"IrradianceNode"}constructor(r){super(),this.node=r}setup(r){r.context.irradiance.addAssign(this.node)}}const kc=new _i;class fy extends $l{static get type(){return"ViewportTextureNode"}constructor(r=el,c=null,f=null){let _=null;f===null?(_=new Hg,_.minFilter=Ur,f=_):_=f,super(f,r,c),this.generateMipmaps=!1,this.defaultFramebuffer=_,this.isOutputTextureNode=!0,this.updateBeforeType=Fi.FRAME,this._cacheTextures=new WeakMap}getTextureForReference(r=null){let c,f;if(this.referenceNode?(c=this.referenceNode.defaultFramebuffer,f=this.referenceNode._cacheTextures):(c=this.defaultFramebuffer,f=this._cacheTextures),r===null)return c;if(f.has(r)===!1){const _=c.clone();f.set(r,_)}return f.get(r)}updateReference(r){const c=r.renderer.getRenderTarget();return this.value=this.getTextureForReference(c),this.value}updateBefore(r){const c=r.renderer,f=c.getRenderTarget();f===null?c.getDrawingBufferSize(kc):kc.set(f.width,f.height);const _=this.getTextureForReference(f);(_.image.width!==kc.width||_.image.height!==kc.height)&&(_.image.width=kc.width,_.image.height=kc.height,_.needsUpdate=!0);const y=_.generateMipmaps;_.generateMipmaps=this.generateMipmaps,c.copyFramebufferToTexture(_),_.generateMipmaps=y}clone(){const r=new this.constructor(this.uvNode,this.levelNode,this.value);return r.generateMipmaps=this.generateMipmaps,r}}const _y=xn(fy,null,null,{generateMipmaps:!0}).setParameterLength(0,3);let b_=null;class e4e extends fy{static get type(){return"ViewportDepthTextureNode"}constructor(r=el,c=null){b_===null&&(b_=new qs),super(r,c,b_)}getTextureForReference(){return b_}}const t4e=xn(e4e).setParameterLength(0,2);class gs extends Z0{static get type(){return"ViewportDepthNode"}constructor(r,c=null){super("float"),this.scope=r,this.valueNode=c,this.isViewportDepthNode=!0}generate(r){const{scope:c}=this;return c===gs.DEPTH_BASE?r.getFragDepth():super.generate(r)}setup({camera:r}){const{scope:c}=this,f=this.valueNode;let _=null;if(c===gs.DEPTH_BASE)f!==null&&(_=dy().assign(f));else if(c===gs.DEPTH)r.isPerspectiveCamera?_=i4e(B2.z,ka,Fa):_=Wu(B2.z,ka,Fa);else if(c===gs.LINEAR_DEPTH)if(f!==null)if(r.isPerspectiveCamera){const y=py(f,ka,Fa);_=Wu(y,ka,Fa)}else _=f;else _=Wu(B2.z,ka,Fa);return _}}gs.DEPTH_BASE="depthBase";gs.DEPTH="depth";gs.LINEAR_DEPTH="linearDepth";const Wu=(v,r,c)=>v.add(r).div(r.sub(c)),i4e=(v,r,c)=>r.add(v).mul(c).div(c.sub(r).mul(v)),py=(v,r,c)=>r.mul(c).div(c.sub(r).mul(v).sub(c)),hy=(v,r,c)=>{r=r.max(1e-6).toVar();const f=T1(v.negate().div(r)),_=T1(c.div(r));return f.div(_)},dy=xn(gs,gs.DEPTH_BASE),my=h0(gs,gs.DEPTH),n4e=xn(gs,gs.LINEAR_DEPTH).setParameterLength(0,1);t4e();my.assign=v=>dy(v);class Xs extends Z0{static get type(){return"ClippingNode"}constructor(r=Xs.DEFAULT){super(),this.scope=r}setup(r){super.setup(r);const c=r.clippingContext,{intersectionPlanes:f,unionPlanes:_}=c;return this.hardwareClipping=r.material.hardwareClipping,this.scope===Xs.ALPHA_TO_COVERAGE?this.setupAlphaToCoverage(f,_):this.scope===Xs.HARDWARE?this.setupHardwareClipping(_,r):this.setupDefault(f,_)}setupAlphaToCoverage(r,c){return Xt(()=>{const f=Lt().toVar("distanceToPlane"),_=Lt().toVar("distanceToGradient"),y=Lt(1).toVar("clipOpacity"),T=c.length;if(this.hardwareClipping===!1&&T>0){const N=ao(c).setGroup(xi);Hs(T,({i:k})=>{const V=N.element(k);f.assign(B2.dot(V.xyz).negate().add(V.w)),_.assign(f.fwidth().div(2)),y.mulAssign(E1(_.negate(),_,f))})}const A=r.length;if(A>0){const N=ao(r).setGroup(xi),k=Lt(1).toVar("intersectionClipOpacity");Hs(A,({i:V})=>{const j=N.element(V);f.assign(B2.dot(j.xyz).negate().add(j.w)),_.assign(f.fwidth().div(2)),k.mulAssign(E1(_.negate(),_,f).oneMinus())}),y.mulAssign(k.oneMinus())}un.a.mulAssign(y),un.a.equal(0).discard()})()}setupDefault(r,c){return Xt(()=>{const f=c.length;if(this.hardwareClipping===!1&&f>0){const y=ao(c).setGroup(xi);Hs(f,({i:T})=>{const A=y.element(T);B2.dot(A.xyz).greaterThan(A.w).discard()})}const _=r.length;if(_>0){const y=ao(r).setGroup(xi),T=i8(!0).toVar("clipped");Hs(_,({i:A})=>{const N=y.element(A);T.assign(B2.dot(N.xyz).greaterThan(N.w).and(T))}),T.discard()}})()}setupHardwareClipping(r,c){const f=r.length;return c.enableHardwareClipping(f),Xt(()=>{const _=ao(r).setGroup(xi),y=Nf(c.getClipDistance());Hs(f,({i:T})=>{const A=_.element(T),N=B2.dot(A.xyz).sub(A.w).negate();y.element(T).assign(N)})})()}}Xs.ALPHA_TO_COVERAGE="alphaToCoverage";Xs.DEFAULT="default";Xs.HARDWARE="hardware";const r4e=()=>n0(new Xs),s4e=()=>n0(new Xs(Xs.ALPHA_TO_COVERAGE)),o4e=()=>n0(new Xs(Xs.HARDWARE)),a4e=.05,f5=Xt(([v])=>Wo(Oi(1e4,Ws(Oi(17,v.x).add(Oi(.1,v.y)))).mul(Ss(.1,bs(Ws(Oi(13,v.y).add(v.x))))))),_5=Xt(([v])=>f5(p0(f5(v.xy),v.z))),c4e=Xt(([v])=>{const r=ar(w1(Rx(v.xyz)),w1(Ax(v.xyz))),c=Lt(1).div(Lt(a4e).mul(r)).toVar("pixScale"),f=p0(uf(za(T1(c))),uf(c8(T1(c)))),_=p0(_5(za(f.x.mul(v.xyz))),_5(za(f.y.mul(v.xyz)))),y=Wo(T1(c)),T=Ss(Oi(y.oneMinus(),_.x),Oi(y,_.y)),A=Il(y,y.oneMinus()),N=Gt(T.mul(T).div(Oi(2,A).mul(Zr(1,A))),T.sub(Oi(.5,A)).div(Zr(1,A)),Zr(1,Zr(1,T).mul(Zr(1,T)).div(Oi(2,A).mul(Zr(1,A))))),k=T.lessThan(A.oneMinus()).select(T.lessThan(A).select(N.x,N.y),N.z);return A1(k,1e-6,1)}).setLayout({name:"getAlphaHashThreshold",type:"float",inputs:[{name:"position",type:"vec3"}]});class l4e extends zx{static get type(){return"VertexColorNode"}constructor(r){super(null,"vec4"),this.isVertexColorNode=!0,this.index=r}getAttributeName(){const r=this.index;return"color"+(r>0?r:"")}generate(r){const c=this.getAttributeName(r),f=r.hasGeometryAttribute(c);let _;return f===!0?_=super.generate(r):_=r.generateConst(this.nodeType,new hi(1,1,1,1)),_}serialize(r){super.serialize(r),r.index=this.index}deserialize(r){super.deserialize(r),this.index=r.index}}const u4e=(v=0)=>n0(new l4e(v)),f4e=Xt(([v])=>Li(v.rgb.mul(v.a),v.a),{color:"vec4",return:"vec4"});class O2 extends Gr{static get type(){return"NodeMaterial"}get type(){return this.constructor.type}set type(r){}constructor(){super(),this.isNodeMaterial=!0,this.fog=!0,this.lights=!1,this.hardwareClipping=!1,this.lightsNode=null,this.envNode=null,this.aoNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.maskNode=null,this.positionNode=null,this.geometryNode=null,this.depthNode=null,this.receivedShadowPositionNode=null,this.castShadowPositionNode=null,this.receivedShadowNode=null,this.castShadowNode=null,this.outputNode=null,this.mrtNode=null,this.fragmentNode=null,this.vertexNode=null,Object.defineProperty(this,"shadowPositionNode",{get:()=>this.receivedShadowPositionNode,set:r=>{jt('NodeMaterial: ".shadowPositionNode" was renamed to ".receivedShadowPositionNode".'),this.receivedShadowPositionNode=r}})}_getNodeChildren(){const r=[];for(const c of Object.getOwnPropertyNames(this)){if(c.startsWith("_")===!0)continue;const f=this[c];f&&f.isNode===!0&&r.push({property:c,childNode:f})}return r}customProgramCacheKey(){const r=[];for(const{property:c,childNode:f}of this._getNodeChildren())r.push(Rp(c.slice(0,-4)),f.getCacheKey());return this.type+Rf(r)}build(r){this.setup(r)}setupObserver(r){return new Xue(r)}setup(r){r.context.setupNormal=()=>Vu(this.setupNormal(r),"NORMAL","vec3"),r.context.setupPositionView=()=>this.setupPositionView(r),r.context.setupModelViewProjection=()=>this.setupModelViewProjection(r);const c=r.renderer,f=c.getRenderTarget();r.addStack();const _=Vu(this.setupVertex(r),"VERTEX"),y=this.vertexNode||_;r.stack.outputNode=y,this.setupHardwareClipping(r),this.geometryNode!==null&&(r.stack.outputNode=r.stack.outputNode.bypass(this.geometryNode)),r.addFlow("vertex",r.removeStack()),r.addStack();let T;const A=this.setupClipping(r);if((this.depthWrite===!0||this.depthTest===!0)&&(f!==null?f.depthBuffer===!0&&this.setupDepth(r):c.depth===!0&&this.setupDepth(r)),this.fragmentNode===null){this.setupDiffuseColor(r),this.setupVariants(r);const N=this.setupLighting(r);A!==null&&r.stack.addToStack(A);const k=Li(N,un.a).max(0);T=this.setupOutput(r,k),Gu.assign(T);const V=this.outputNode!==null;if(V&&(T=this.outputNode),f!==null){const j=c.getMRT(),K=this.mrtNode;j!==null?(V&&Gu.assign(T),T=j,K!==null&&(T=j.merge(K))):K!==null&&(T=K)}}else{let N=this.fragmentNode;N.isOutputStructNode!==!0&&(N=Li(N)),T=this.setupOutput(r,N)}r.stack.outputNode=T,r.addFlow("fragment",r.removeStack()),r.observer=this.setupObserver(r)}setupClipping(r){if(r.clippingContext===null)return null;const{unionPlanes:c,intersectionPlanes:f}=r.clippingContext;let _=null;if(c.length>0||f.length>0){const y=r.renderer.currentSamples;this.alphaToCoverage&&y>1?_=s4e():r.stack.addToStack(r4e())}return _}setupHardwareClipping(r){if(this.hardwareClipping=!1,r.clippingContext===null)return;const c=r.clippingContext.unionPlanes.length;c>0&&c<=8&&r.isAvailable("clipDistance")&&(r.stack.addToStack(o4e()),this.hardwareClipping=!0)}setupDepth(r){const{renderer:c,camera:f}=r;let _=this.depthNode;if(_===null){const y=c.getMRT();y&&y.has("depth")?_=y.get("depth"):c.logarithmicDepthBuffer===!0&&(f.isPerspectiveCamera?_=hy(B2.z,ka,Fa):_=Wu(B2.z,ka,Fa))}_!==null&&my.assign(_).toStack()}setupPositionView(){return Ip.mul(Br).xyz}setupModelViewProjection(){return Xx.mul(B2)}setupVertex(r){return r.addStack(),this.setupPosition(r),r.context.vertex=r.removeStack(),uy}setupPosition(r){const{object:c,geometry:f}=r;if((f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color)&&Yhe(c).toStack(),c.isSkinnedMesh===!0&&Hhe(c).toStack(),this.displacementMap){const _=$1("displacementMap","texture"),y=$1("displacementScale","float"),T=$1("displacementBias","float");Br.addAssign(Ho.normalize().mul(_.x.mul(y).add(T)))}return c.isBatchedMesh&&zhe(c).toStack(),c.isInstancedMesh&&c.instanceMatrix&&c.instanceMatrix.isInstancedBufferAttribute===!0&&Ghe(c).toStack(),this.positionNode!==null&&Br.assign(Vu(this.positionNode,"POSITION","vec3")),Br}setupDiffuseColor(r){const{object:c,geometry:f}=r;this.maskNode!==null&&i8(this.maskNode).not().discard();let _=this.colorNode?Li(this.colorNode):ohe;this.vertexColors===!0&&f.hasAttribute("color")&&(_=_.mul(u4e())),c.instanceColor&&(_=ap("vec3","vInstanceColor").mul(_)),c.isBatchedMesh&&c._colorsTexture&&(_=ap("vec3","vBatchColor").mul(_)),un.assign(_);const y=this.opacityNode?Lt(this.opacityNode):cy;un.a.assign(un.a.mul(y));let T=null;(this.alphaTestNode!==null||this.alphaTest>0)&&(T=this.alphaTestNode!==null?Lt(this.alphaTestNode):she,this.alphaToCoverage===!0?(un.a=E1(T,T.add(Ex(un.a)),un.a),un.a.lessThanEqual(0).discard()):un.a.lessThanEqual(T).discard()),this.alphaHash===!0&&un.a.lessThan(c4e(Br)).discard(),r.isOpaque()&&un.a.assign(1)}setupVariants(){}setupOutgoingLight(){return this.lights===!0?Gt(0):un.rgb}setupNormal(){return this.normalNode?Gt(this.normalNode):phe}setupEnvironment(){let r=null;return this.envNode?r=this.envNode:this.envMap&&(r=this.envMap.isCubeTexture?$1("envMap","cubeTexture"):$1("envMap","texture")),r}setupLightMap(r){let c=null;return r.material.lightMap&&(c=new Jhe(ly)),c}setupLights(r){const c=[],f=this.setupEnvironment(r);f&&f.isLightingNode&&c.push(f);const _=this.setupLightMap(r);if(_&&_.isLightingNode&&c.push(_),this.aoNode!==null||r.material.aoMap){const T=this.aoNode!==null?this.aoNode:khe;c.push(new Khe(T))}let y=this.lightsNode||r.lightsNode;return c.length>0&&(y=r.renderer.lighting.createNode([...y.getLights(),...c])),y}setupLightingModel(){}setupLighting(r){const{material:c}=r,{backdropNode:f,backdropAlphaNode:_,emissiveNode:y}=this,A=this.lights===!0||this.lightsNode!==null?this.setupLights(r):null;let N=this.setupOutgoingLight(r);if(A&&A.getScope().hasLights){const k=this.setupLightingModel(r)||null;N=Qhe(A,k,f,_)}else f!==null&&(N=Gt(_!==null?c2(N,f,_):f));return(y&&y.isNode===!0||c.emissive&&c.emissive.isColor===!0)&&($3.assign(Gt(y||che)),N=N.add($3)),N}setupFog(r,c){const f=r.fogNode;return f&&(Gu.assign(c),c=Li(f.toVar())),c}setupPremultipliedAlpha(r,c){return f4e(c)}setupOutput(r,c){return this.fog===!0&&(c=this.setupFog(r,c)),this.premultipliedAlpha===!0&&(c=this.setupPremultipliedAlpha(r,c)),c}setDefaultValues(r){for(const f in r){const _=r[f];this[f]===void 0&&(this[f]=_,_&&_.clone&&(this[f]=_.clone()))}const c=Object.getOwnPropertyDescriptors(r.constructor.prototype);for(const f in c)Object.getOwnPropertyDescriptor(this.constructor.prototype,f)===void 0&&c[f].get!==void 0&&Object.defineProperty(this.constructor.prototype,f,c[f])}toJSON(r){const c=r===void 0||typeof r=="string";c&&(r={textures:{},images:{},nodes:{}});const f=Gr.prototype.toJSON.call(this,r);f.inputNodes={};for(const{property:y,childNode:T}of this._getNodeChildren())f.inputNodes[y]=T.toJSON(r).uuid;function _(y){const T=[];for(const A in y){const N=y[A];delete N.metadata,T.push(N)}return T}if(c){const y=_(r.textures),T=_(r.images),A=_(r.nodes);y.length>0&&(f.textures=y),T.length>0&&(f.images=T),A.length>0&&(f.nodes=A)}return f}copy(r){return this.lightsNode=r.lightsNode,this.envNode=r.envNode,this.aoNode=r.aoNode,this.colorNode=r.colorNode,this.normalNode=r.normalNode,this.opacityNode=r.opacityNode,this.backdropNode=r.backdropNode,this.backdropAlphaNode=r.backdropAlphaNode,this.alphaTestNode=r.alphaTestNode,this.maskNode=r.maskNode,this.positionNode=r.positionNode,this.geometryNode=r.geometryNode,this.depthNode=r.depthNode,this.receivedShadowPositionNode=r.receivedShadowPositionNode,this.castShadowPositionNode=r.castShadowPositionNode,this.receivedShadowNode=r.receivedShadowNode,this.castShadowNode=r.castShadowNode,this.outputNode=r.outputNode,this.mrtNode=r.mrtNode,this.fragmentNode=r.fragmentNode,this.vertexNode=r.vertexNode,super.copy(r)}}const _4e=new cf;class p4e extends O2{static get type(){return"LineBasicNodeMaterial"}constructor(r){super(),this.isLineBasicNodeMaterial=!0,this.setDefaultValues(_4e),this.setValues(r)}}const h4e=new Foe;class d4e extends O2{static get type(){return"LineDashedNodeMaterial"}constructor(r){super(),this.isLineDashedNodeMaterial=!0,this.setDefaultValues(h4e),this.dashOffset=0,this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(r)}setupVariants(){const r=this.offsetNode?Lt(this.offsetNode):Ihe,c=this.dashScaleNode?Lt(this.dashScaleNode):Nhe,f=this.dashSizeNode?Lt(this.dashSizeNode):bhe,_=this.gapSizeNode?Lt(this.gapSizeNode):Dhe;u4.assign(f),Y3.assign(_);const y=aa(sa("lineDistance").mul(c));(r?y.add(r):y).mod(u4.add(Y3)).greaterThan(u4).discard()}}const m4e=v=>n0(v).mul(.5).add(.5),g4e=new Ioe;class x4e extends O2{static get type(){return"MeshNormalNodeMaterial"}constructor(r){super(),this.isMeshNormalNodeMaterial=!0,this.setDefaultValues(g4e),this.setValues(r)}setupDiffuseColor(){const r=this.opacityNode?Lt(this.opacityNode):cy;un.assign(f8(Li(m4e(Nn),r),D2))}}const gy=Xt(([v=$x])=>{const r=v.z.atan(v.x).mul(1/(Math.PI*2)).add(.5),c=v.y.clamp(-1,1).asin().mul(1/Math.PI).add(.5);return p0(r,c)});class xy extends Gg{constructor(r=1,c={}){super(r,c),this.isCubeRenderTarget=!0}fromEquirectangularTexture(r,c){const f=c.minFilter,_=c.generateMipmaps;c.generateMipmaps=!0,this.texture.type=c.type,this.texture.colorSpace=c.colorSpace,this.texture.generateMipmaps=c.generateMipmaps,this.texture.minFilter=c.minFilter,this.texture.magFilter=c.magFilter;const y=new oa(5,5,5),T=gy($x),A=new O2;A.colorNode=rn(c,T,0),A.side=Kn,A.blending=vs;const N=new Q2(y,A),k=new vf;k.add(N),c.minFilter===Ur&&(c.minFilter=r2);const V=new Og(1,10,this),j=r.getMRT();return r.setMRT(null),V.update(r,k),r.setMRT(j),c.minFilter=f,c.currentGenerateMipmaps=_,N.geometry.dispose(),N.material.dispose(),this}}const Hu=new WeakMap;class y4e extends cr{static get type(){return"CubeMapNode"}constructor(r){super("vec3"),this.envNode=r,this._cubeTexture=null,this._cubeTextureNode=pf(null);const c=new yf;c.isRenderTargetTexture=!0,this._defaultTexture=c,this.updateBeforeType=Fi.RENDER}updateBefore(r){const{renderer:c,material:f}=r,_=this.envNode;if(_.isTextureNode||_.isMaterialReferenceNode){const y=_.isTextureNode?_.value:f[_.property];if(y&&y.isTexture){const T=y.mapping;if(T===sl||T===ol){if(Hu.has(y)){const A=Hu.get(y);p5(A,y.mapping),this._cubeTexture=A}else{const A=y.image;if(v4e(A)){const N=new xy(A.height);N.fromEquirectangularTexture(c,y),p5(N.texture,y.mapping),this._cubeTexture=N.texture,Hu.set(y,N.texture),y.addEventListener("dispose",yy)}else this._cubeTexture=this._defaultTexture}this._cubeTextureNode.value=this._cubeTexture}else this._cubeTextureNode=this.envNode}}}setup(r){return this.updateBefore(r),this._cubeTextureNode}}function v4e(v){return v==null?!1:v.height>0}function yy(v){const r=v.target;r.removeEventListener("dispose",yy);const c=Hu.get(r);c!==void 0&&(Hu.delete(r),c.dispose())}function p5(v,r){r===sl?v.mapping=Go:r===ol&&(v.mapping=Vo)}const vy=xn(y4e).setParameterLength(1);class g8 extends Kl{static get type(){return"BasicEnvironmentNode"}constructor(r=null){super(),this.envNode=r}setup(r){r.context.environment=vy(this.envNode)}}class S4e extends Kl{static get type(){return"BasicLightMapNode"}constructor(r=null){super(),this.lightMapNode=r}setup(r){const c=Lt(1/Math.PI);r.context.irradianceLightMap=this.lightMapNode.mul(c)}}class Lp{start(r){r.lightsNode.setupLights(r,r.lightsNode.getLightNodes(r)),this.indirect(r)}finish(){}direct(){}directRectArea(){}indirect(){}ambientOcclusion(){}}class Sy extends Lp{constructor(){super()}indirect({context:r}){const c=r.ambientOcclusion,f=r.reflectedLight,_=r.irradianceLightMap;f.indirectDiffuse.assign(Li(0)),_?f.indirectDiffuse.addAssign(_):f.indirectDiffuse.addAssign(Li(1,1,1,0)),f.indirectDiffuse.mulAssign(c),f.indirectDiffuse.mulAssign(un.rgb)}finish(r){const{material:c,context:f}=r,_=f.outgoingLight,y=r.context.environment;if(y)switch(c.combine){case mf:_.rgb.assign(c2(_.rgb,_.rgb.mul(y.rgb),Q_.mul(p4)));break;case Mg:_.rgb.assign(c2(_.rgb,y.rgb,Q_.mul(p4)));break;case Rg:_.rgb.addAssign(y.rgb.mul(Q_.mul(p4)));break;default:jt("BasicLightingModel: Unsupported .combine value:",c.combine);break}}}const C4e=new oo;class T4e extends O2{static get type(){return"MeshBasicNodeMaterial"}constructor(r){super(),this.isMeshBasicNodeMaterial=!0,this.lights=!0,this.setDefaultValues(C4e),this.setValues(r)}setupNormal(){return bf(_f)}setupEnvironment(r){const c=super.setupEnvironment(r);return c?new g8(c):null}setupLightMap(r){let c=null;return r.material.lightMap&&(c=new S4e(ly)),c}setupOutgoingLight(){return un.rgb}setupLightingModel(){return new Sy}}const hf=Xt(({f0:v,f90:r,dotVH:c})=>{const f=c.mul(-5.55473).sub(6.98316).mul(c).exp2();return v.mul(f.oneMinus()).add(r.mul(f))}),Fl=Xt(v=>v.diffuseColor.mul(1/Math.PI)),w4e=()=>Lt(.25),M4e=Xt(({dotNH:v})=>td.mul(Lt(.5)).add(1).mul(Lt(1/Math.PI)).mul(v.pow(td))),R4e=Xt(({lightDirection:v})=>{const r=v.add(y2).normalize(),c=Nn.dot(r).clamp(),f=y2.dot(r).clamp(),_=hf({f0:ro,f90:1,dotVH:f}),y=w4e(),T=M4e({dotNH:c});return _.mul(y).mul(T)});class Cy extends Sy{constructor(r=!0){super(),this.specular=r}direct({lightDirection:r,lightColor:c,reflectedLight:f}){const y=Nn.dot(r).clamp().mul(c);f.directDiffuse.addAssign(y.mul(Fl({diffuseColor:un.rgb}))),this.specular===!0&&f.directSpecular.addAssign(y.mul(R4e({lightDirection:r})).mul(Q_))}indirect(r){const{ambientOcclusion:c,irradiance:f,reflectedLight:_}=r.context;_.indirectDiffuse.addAssign(f.mul(Fl({diffuseColor:un}))),_.indirectDiffuse.mulAssign(c)}}const A4e=new qg;class E4e extends O2{static get type(){return"MeshLambertNodeMaterial"}constructor(r){super(),this.isMeshLambertNodeMaterial=!0,this.lights=!0,this.setDefaultValues(A4e),this.setValues(r)}setupEnvironment(r){const c=super.setupEnvironment(r);return c?new g8(c):null}setupLightingModel(){return new Cy(!1)}}const N4e=new $4;class b4e extends O2{static get type(){return"MeshPhongNodeMaterial"}constructor(r){super(),this.isMeshPhongNodeMaterial=!0,this.lights=!0,this.shininessNode=null,this.specularNode=null,this.setDefaultValues(N4e),this.setValues(r)}setupEnvironment(r){const c=super.setupEnvironment(r);return c?new g8(c):null}setupLightingModel(){return new Cy}setupVariants(){const r=(this.shininessNode?Lt(this.shininessNode):ahe).max(1e-4);td.assign(r);const c=this.specularNode||lhe;ro.assign(c)}copy(r){return this.shininessNode=r.shininessNode,this.specularNode=r.specularNode,super.copy(r)}}const D4e=Xt(v=>{if(v.geometry.hasAttribute("normal")===!1)return Lt(0);const r=_f.dFdx().abs().max(_f.dFdy().abs());return r.x.max(r.y).max(r.z)}),Ty=Xt(v=>{const{roughness:r}=v,c=D4e();let f=r.max(.0525);return f=f.add(c),f=f.min(1),f}),I4e=Xt(({alpha:v,dotNL:r,dotNV:c})=>{const f=v.pow2(),_=r.mul(f.add(f.oneMinus().mul(c.pow2())).sqrt()),y=c.mul(f.add(f.oneMinus().mul(r.pow2())).sqrt());return zo(.5,_.add(y).max(Sx))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),P4e=Xt(({alphaT:v,alphaB:r,dotTV:c,dotBV:f,dotTL:_,dotBL:y,dotNV:T,dotNL:A})=>{const N=A.mul(Gt(v.mul(c),r.mul(f),T).length()),k=T.mul(Gt(v.mul(_),r.mul(y),A).length());return zo(.5,N.add(k)).saturate()}).setLayout({name:"V_GGX_SmithCorrelated_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotTV",type:"float",qualifier:"in"},{name:"dotBV",type:"float",qualifier:"in"},{name:"dotTL",type:"float",qualifier:"in"},{name:"dotBL",type:"float",qualifier:"in"},{name:"dotNV",type:"float",qualifier:"in"},{name:"dotNL",type:"float",qualifier:"in"}]}),L4e=Xt(({alpha:v,dotNH:r})=>{const c=v.pow2(),f=r.pow2().mul(c.oneMinus()).oneMinus();return c.div(f.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),k4e=Lt(1/Math.PI),F4e=Xt(({alphaT:v,alphaB:r,dotNH:c,dotTH:f,dotBH:_})=>{const y=v.mul(r),T=Gt(r.mul(f),v.mul(_),y.mul(c)),A=T.dot(T),N=y.div(A);return k4e.mul(y.mul(N.pow2()))}).setLayout({name:"D_GGX_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotNH",type:"float",qualifier:"in"},{name:"dotTH",type:"float",qualifier:"in"},{name:"dotBH",type:"float",qualifier:"in"}]}),wy=Xt(({lightDirection:v,f0:r,f90:c,roughness:f,f:_,normalView:y=Nn,USE_IRIDESCENCE:T,USE_ANISOTROPY:A})=>{const N=f.pow2(),k=v.add(y2).normalize(),V=y.dot(v).clamp(),j=y.dot(y2).clamp(),K=y.dot(k).clamp(),Q=y2.dot(k).clamp();let ie=hf({f0:r,f90:c,dotVH:Q}),ce,ue;if(X3(T)&&(ie=s8.mix(ie,_)),X3(A)){const re=$_.dot(v),be=$_.dot(y2),De=$_.dot(k),Oe=Jc.dot(v),je=Jc.dot(y2),Be=Jc.dot(k);ce=P4e({alphaT:ed,alphaB:N,dotTV:be,dotBV:je,dotTL:re,dotBL:Oe,dotNV:j,dotNL:V}),ue=F4e({alphaT:ed,alphaB:N,dotNH:K,dotTH:De,dotBH:Be})}else ce=I4e({alpha:N,dotNL:V,dotNV:j}),ue=L4e({alpha:N,dotNH:K});return ie.mul(ce).mul(ue)}),B4e=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let _1=null;const _p=Xt(({roughness:v,dotNV:r})=>{_1===null&&(_1=new Sf(B4e,32,32,uo,K2),_1.minFilter=r2,_1.magFilter=r2,_1.wrapS=Sr,_1.wrapT=Sr,_1.generateMipmaps=!1,_1.needsUpdate=!0);const c=p0(v,r);return rn(_1,c).rg}),U4e=Xt(({lightDirection:v,f0:r,f90:c,roughness:f,f:_,USE_IRIDESCENCE:y,USE_ANISOTROPY:T})=>{const A=wy({lightDirection:v,f0:r,f90:c,roughness:f,f:_,USE_IRIDESCENCE:y,USE_ANISOTROPY:T}),N=Nn.dot(v).clamp(),k=Nn.dot(y2).clamp(),V=_p({roughness:f,dotNV:k}),j=_p({roughness:f,dotNV:N}),K=r.mul(V.x).add(c.mul(V.y)),Q=r.mul(j.x).add(c.mul(j.y)),ie=V.x.add(V.y),ce=j.x.add(j.y),ue=Lt(1).sub(ie),re=Lt(1).sub(ce),be=r.add(r.oneMinus().mul(.047619)),De=K.mul(Q).mul(be).div(Lt(1).sub(ue.mul(re).mul(be).mul(be)).add(Sx)),Oe=ue.mul(re),je=De.mul(Oe);return A.add(je)}),My=Xt(v=>{const{dotNV:r,specularColor:c,specularF90:f,roughness:_}=v,y=_p({dotNV:r,roughness:_});return c.mul(y.x).add(f.mul(y.y))}),O4e=Xt(({f:v,f90:r,dotVH:c})=>{const f=c.oneMinus().saturate(),_=f.mul(f),y=f.mul(_,_).clamp(0,.9999);return v.sub(Gt(r).mul(y)).div(y.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),G4e=Xt(({roughness:v,dotNH:r})=>{const c=v.pow2(),f=Lt(1).div(c),y=r.pow2().oneMinus().max(.0078125);return Lt(2).add(f).mul(y.pow(f.mul(.5))).div(2*Math.PI)}).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),V4e=Xt(({dotNV:v,dotNL:r})=>Lt(1).div(Lt(4).mul(r.add(v).sub(r.mul(v))))).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),z4e=Xt(({lightDirection:v})=>{const r=v.add(y2).normalize(),c=Nn.dot(v).clamp(),f=Nn.dot(y2).clamp(),_=Nn.dot(r).clamp(),y=G4e({roughness:r8,dotNH:_}),T=V4e({dotNV:f,dotNL:c});return jc.mul(y).mul(T)}),W4e=Xt(({N:v,V:r,roughness:c})=>{const y=.0078125,T=v.dot(r).saturate(),A=p0(c,T.oneMinus().sqrt());return A.assign(A.mul(.984375).add(y)),A}).setLayout({name:"LTC_Uv",type:"vec2",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"roughness",type:"float"}]}),H4e=Xt(({f:v})=>{const r=v.length();return ar(r.mul(r).add(v.z).div(r.add(1)),0)}).setLayout({name:"LTC_ClippedSphereFormFactor",type:"float",inputs:[{name:"f",type:"vec3"}]}),D_=Xt(({v1:v,v2:r})=>{const c=v.dot(r),f=c.abs().toVar(),_=f.mul(.0145206).add(.4965155).mul(f).add(.8543985).toVar(),y=f.add(4.1616724).mul(f).add(3.417594).toVar(),T=_.div(y),A=c.greaterThan(0).select(T,ar(c.mul(c).oneMinus(),1e-7).inverseSqrt().mul(.5).sub(T));return v.cross(r).mul(A)}).setLayout({name:"LTC_EdgeVectorFormFactor",type:"vec3",inputs:[{name:"v1",type:"vec3"},{name:"v2",type:"vec3"}]}),h5=Xt(({N:v,V:r,P:c,mInv:f,p0:_,p1:y,p2:T,p3:A})=>{const N=y.sub(_).toVar(),k=A.sub(_).toVar(),V=N.cross(k),j=Gt().toVar();return u2(V.dot(c.sub(_)).greaterThanEqual(0),()=>{const K=r.sub(v.mul(r.dot(v))).normalize(),Q=v.cross(K).negate(),ie=f.mul(is(K,Q,v).transpose()).toVar(),ce=ie.mul(_.sub(c)).normalize().toVar(),ue=ie.mul(y.sub(c)).normalize().toVar(),re=ie.mul(T.sub(c)).normalize().toVar(),be=ie.mul(A.sub(c)).normalize().toVar(),De=Gt(0).toVar();De.addAssign(D_({v1:ce,v2:ue})),De.addAssign(D_({v1:ue,v2:re})),De.addAssign(D_({v1:re,v2:be})),De.addAssign(D_({v1:be,v2:ce})),j.assign(Gt(H4e({f:De})))}),j}).setLayout({name:"LTC_Evaluate",type:"vec3",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"P",type:"vec3"},{name:"mInv",type:"mat3"},{name:"p0",type:"vec3"},{name:"p1",type:"vec3"},{name:"p2",type:"vec3"},{name:"p3",type:"vec3"}]}),kp=1/6,Ry=v=>Oi(kp,Oi(v,Oi(v,v.negate().add(3)).sub(3)).add(1)),od=v=>Oi(kp,Oi(v,Oi(v,Oi(3,v).sub(6))).add(4)),Ay=v=>Oi(kp,Oi(v,Oi(v,Oi(-3,v).add(3)).add(3)).add(1)),ad=v=>Oi(kp,Np(v,3)),d5=v=>Ry(v).add(od(v)),m5=v=>Ay(v).add(ad(v)),g5=v=>Ss(-1,od(v).div(Ry(v).add(od(v)))),x5=v=>Ss(1,ad(v).div(Ay(v).add(ad(v)))),y5=(v,r,c)=>{const f=v.uvNode,_=Oi(f,r.zw).add(.5),y=za(_),T=Wo(_),A=d5(T.x),N=m5(T.x),k=g5(T.x),V=x5(T.x),j=g5(T.y),K=x5(T.y),Q=p0(y.x.add(k),y.y.add(j)).sub(.5).mul(r.xy),ie=p0(y.x.add(V),y.y.add(j)).sub(.5).mul(r.xy),ce=p0(y.x.add(k),y.y.add(K)).sub(.5).mul(r.xy),ue=p0(y.x.add(V),y.y.add(K)).sub(.5).mul(r.xy),re=d5(T.y).mul(Ss(A.mul(v.sample(Q).level(c)),N.mul(v.sample(ie).level(c)))),be=m5(T.y).mul(Ss(A.mul(v.sample(ce).level(c)),N.mul(v.sample(ue).level(c))));return re.add(be)},j4e=Xt(([v,r])=>{const c=p0(v.size(i2(r))),f=p0(v.size(i2(r.add(1)))),_=zo(1,c),y=zo(1,f),T=y5(v,Li(_,c),za(r)),A=y5(v,Li(y,f),c8(r));return Wo(r).mix(T,A)}),v5=Xt(([v,r,c,f,_])=>{const y=Gt(Lx(r.negate(),Oo(v),zo(1,f))),T=Gt(w1(_[0].xyz),w1(_[1].xyz),w1(_[2].xyz));return Oo(y).mul(c.mul(T))}).setLayout({name:"getVolumeTransmissionRay",type:"vec3",inputs:[{name:"n",type:"vec3"},{name:"v",type:"vec3"},{name:"thickness",type:"float"},{name:"ior",type:"float"},{name:"modelMatrix",type:"mat4"}]}),q4e=Xt(([v,r])=>v.mul(A1(r.mul(2).sub(2),0,1))).setLayout({name:"applyIorToRoughness",type:"float",inputs:[{name:"roughness",type:"float"},{name:"ior",type:"float"}]}),X4e=_y(),$4e=_y(),S5=Xt(([v,r,c],{material:f})=>{const y=(f.side===Kn?X4e:$4e).sample(v),T=T1(nd.x).mul(q4e(r,c));return j4e(y,T)}),C5=Xt(([v,r,c])=>(u2(c.notEqual(0),()=>{const f=Tx(r).negate().div(c);return Cx(f.negate().mul(v))}),Gt(1))).setLayout({name:"volumeAttenuation",type:"vec3",inputs:[{name:"transmissionDistance",type:"float"},{name:"attenuationColor",type:"vec3"},{name:"attenuationDistance",type:"float"}]}),Y4e=Xt(([v,r,c,f,_,y,T,A,N,k,V,j,K,Q,ie])=>{let ce,ue;if(ie){ce=Li().toVar(),ue=Gt().toVar();const je=V.sub(1).mul(ie.mul(.025)),Be=Gt(V.sub(je),V,V.add(je));Hs({start:0,end:3},({i:We})=>{const $e=Be.element(We),Ee=v5(v,r,j,$e,A),Ie=T.add(Ee),Je=k.mul(N.mul(Li(Ie,1))),ft=p0(Je.xy.div(Je.w)).toVar();ft.addAssign(1),ft.divAssign(2),ft.assign(p0(ft.x,ft.y.oneMinus()));const yt=S5(ft,c,$e);ce.element(We).assign(yt.element(We)),ce.a.addAssign(yt.a),ue.element(We).assign(f.element(We).mul(C5(w1(Ee),K,Q).element(We)))}),ce.a.divAssign(3)}else{const je=v5(v,r,j,V,A),Be=T.add(je),We=k.mul(N.mul(Li(Be,1))),$e=p0(We.xy.div(We.w)).toVar();$e.addAssign(1),$e.divAssign(2),$e.assign(p0($e.x,$e.y.oneMinus())),ce=S5($e,c,V),ue=f.mul(C5(w1(je),K,Q))}const re=ue.rgb.mul(ce.rgb),be=v.dot(r).clamp(),De=Gt(My({dotNV:be,specularColor:_,specularF90:y,roughness:c})),Oe=ue.r.add(ue.g,ue.b).div(3);return Li(De.oneMinus().mul(re),ce.a.oneMinus().mul(Oe).oneMinus())}),K4e=is(3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252),Z4e=v=>{const r=v.sqrt();return Gt(1).add(r).div(Gt(1).sub(r))},T5=(v,r)=>v.sub(r).div(v.add(r)).pow2(),Q4e=(v,r)=>{const c=v.mul(2*Math.PI*1e-9),f=Gt(54856e-17,44201e-17,52481e-17),_=Gt(1681e3,1795300,2208400),y=Gt(43278e5,93046e5,66121e5),T=Lt(9747e-17*Math.sqrt(2*Math.PI*45282e5)).mul(c.mul(2239900).add(r.x).cos()).mul(c.pow2().mul(-45282e5).exp());let A=f.mul(y.mul(2*Math.PI).sqrt()).mul(_.mul(c).add(r).cos()).mul(c.pow2().negate().mul(y).exp());return A=Gt(A.x.add(T),A.y,A.z).div(10685e-11),K4e.mul(A)},J4e=Xt(({outsideIOR:v,eta2:r,cosTheta1:c,thinFilmThickness:f,baseF0:_})=>{const y=c2(v,r,E1(0,.03,f)),A=v.div(y).pow2().mul(c.pow2().oneMinus()).oneMinus();u2(A.lessThan(0),()=>Gt(1));const N=A.sqrt(),k=T5(y,v),V=hf({f0:k,f90:1,dotVH:c}),j=V.oneMinus(),K=y.lessThan(v).select(Math.PI,0),Q=Lt(Math.PI).sub(K),ie=Z4e(_.clamp(0,.9999)),ce=T5(ie,y.toVec3()),ue=hf({f0:ce,f90:1,dotVH:N}),re=Gt(ie.x.lessThan(y).select(Math.PI,0),ie.y.lessThan(y).select(Math.PI,0),ie.z.lessThan(y).select(Math.PI,0)),be=y.mul(f,N,2),De=Gt(Q).add(re),Oe=V.mul(ue).clamp(1e-5,.9999),je=Oe.sqrt(),Be=j.pow2().mul(ue).div(Gt(1).sub(Oe)),$e=V.add(Be).toVar(),Ee=Be.sub(j).toVar();return Hs({start:1,end:2,condition:"<=",name:"m"},({m:Ie})=>{Ee.mulAssign(je);const Je=Q4e(Lt(Ie).mul(be),Lt(Ie).mul(De)).mul(2);$e.addAssign(Ee.mul(Je))}),$e.max(Gt(0))}).setLayout({name:"evalIridescence",type:"vec3",inputs:[{name:"outsideIOR",type:"float"},{name:"eta2",type:"float"},{name:"cosTheta1",type:"float"},{name:"thinFilmThickness",type:"float"},{name:"baseF0",type:"vec3"}]}),ede=Xt(({normal:v,viewDir:r,roughness:c})=>{const f=v.dot(r).saturate(),_=c.pow2(),y=Er(c.lessThan(.25),Lt(-339.2).mul(_).add(Lt(161.4).mul(c)).sub(25.9),Lt(-8.48).mul(_).add(Lt(14.3).mul(c)).sub(9.95)),T=Er(c.lessThan(.25),Lt(44).mul(_).sub(Lt(23.7).mul(c)).add(3.26),Lt(1.97).mul(_).sub(Lt(3.27).mul(c)).add(.72));return Er(c.lessThan(.25),0,Lt(.1).mul(c).sub(.025)).add(y.mul(f).add(T).exp()).mul(1/Math.PI).saturate()}),d4=Gt(.04),m4=Lt(1);class Ey extends Lp{constructor(r=!1,c=!1,f=!1,_=!1,y=!1,T=!1){super(),this.clearcoat=r,this.sheen=c,this.iridescence=f,this.anisotropy=_,this.transmission=y,this.dispersion=T,this.clearcoatRadiance=null,this.clearcoatSpecularDirect=null,this.clearcoatSpecularIndirect=null,this.sheenSpecularDirect=null,this.sheenSpecularIndirect=null,this.iridescenceFresnel=null,this.iridescenceF0=null}start(r){if(this.clearcoat===!0&&(this.clearcoatRadiance=Gt().toVar("clearcoatRadiance"),this.clearcoatSpecularDirect=Gt().toVar("clearcoatSpecularDirect"),this.clearcoatSpecularIndirect=Gt().toVar("clearcoatSpecularIndirect")),this.sheen===!0&&(this.sheenSpecularDirect=Gt().toVar("sheenSpecularDirect"),this.sheenSpecularIndirect=Gt().toVar("sheenSpecularIndirect")),this.iridescence===!0){const c=Nn.dot(y2).clamp();this.iridescenceFresnel=J4e({outsideIOR:Lt(1),eta2:_x,cosTheta1:c,thinFilmThickness:px,baseF0:ro}),this.iridescenceF0=O4e({f:this.iridescenceFresnel,f90:1,dotVH:c})}if(this.transmission===!0){const c=kl,f=Epe.sub(kl).normalize(),_=Yl,y=r.context;y.backdrop=Y4e(_,f,y1,un,ro,up,c,Za,D1,Xx,Y_,hx,mx,dx,this.dispersion?gx:null),y.backdropAlpha=id,un.a.mulAssign(c2(1,y.backdrop.a,id))}super.start(r)}computeMultiscattering(r,c,f){const _=Nn.dot(y2).clamp(),y=_p({roughness:y1,dotNV:_}),T=this.iridescenceF0?s8.mix(ro,this.iridescenceF0):ro,A=T.mul(y.x).add(f.mul(y.y)),k=y.x.add(y.y).oneMinus(),V=T.add(T.oneMinus().mul(.047619)),j=A.mul(V).div(k.mul(V).oneMinus());r.addAssign(A),c.addAssign(j.mul(k))}direct({lightDirection:r,lightColor:c,reflectedLight:f}){const y=Nn.dot(r).clamp().mul(c);if(this.sheen===!0&&this.sheenSpecularDirect.addAssign(y.mul(z4e({lightDirection:r}))),this.clearcoat===!0){const A=qc.dot(r).clamp().mul(c);this.clearcoatSpecularDirect.addAssign(A.mul(wy({lightDirection:r,f0:d4,f90:m4,roughness:lp,normalView:qc})))}f.directDiffuse.addAssign(y.mul(Fl({diffuseColor:un.rgb}))),f.directSpecular.addAssign(y.mul(U4e({lightDirection:r,f0:ro,f90:1,roughness:y1,f:this.iridescenceFresnel,USE_IRIDESCENCE:this.iridescence,USE_ANISOTROPY:this.anisotropy})))}directRectArea({lightColor:r,lightPosition:c,halfWidth:f,halfHeight:_,reflectedLight:y,ltc_1:T,ltc_2:A}){const N=c.add(f).sub(_),k=c.sub(f).sub(_),V=c.sub(f).add(_),j=c.add(f).add(_),K=Nn,Q=y2,ie=B2.toVar(),ce=W4e({N:K,V:Q,roughness:y1}),ue=T.sample(ce).toVar(),re=A.sample(ce).toVar(),be=is(Gt(ue.x,0,ue.y),Gt(0,1,0),Gt(ue.z,0,ue.w)).toVar(),De=ro.mul(re.x).add(ro.oneMinus().mul(re.y)).toVar();y.directSpecular.addAssign(r.mul(De).mul(h5({N:K,V:Q,P:ie,mInv:be,p0:N,p1:k,p2:V,p3:j}))),y.directDiffuse.addAssign(r.mul(un).mul(h5({N:K,V:Q,P:ie,mInv:is(1,0,0,0,1,0,0,0,1),p0:N,p1:k,p2:V,p3:j})))}indirect(r){this.indirectDiffuse(r),this.indirectSpecular(r),this.ambientOcclusion(r)}indirectDiffuse(r){const{irradiance:c,reflectedLight:f}=r.context;f.indirectDiffuse.addAssign(c.mul(Fl({diffuseColor:un})))}indirectSpecular(r){const{radiance:c,iblIrradiance:f,reflectedLight:_}=r.context;if(this.sheen===!0&&this.sheenSpecularIndirect.addAssign(f.mul(jc,ede({normal:Nn,viewDir:y2,roughness:r8}))),this.clearcoat===!0){const V=qc.dot(y2).clamp(),j=My({dotNV:V,specularColor:d4,specularF90:m4,roughness:lp});this.clearcoatSpecularIndirect.addAssign(this.clearcoatRadiance.mul(j))}const y=Gt().toVar("singleScattering"),T=Gt().toVar("multiScattering"),A=f.mul(1/Math.PI);this.computeMultiscattering(y,T,up);const N=y.add(T),k=un.mul(N.r.max(N.g).max(N.b).oneMinus());_.indirectSpecular.addAssign(c.mul(y)),_.indirectSpecular.addAssign(T.mul(A)),_.indirectDiffuse.addAssign(k.mul(A))}ambientOcclusion(r){const{ambientOcclusion:c,reflectedLight:f}=r.context,y=Nn.dot(y2).clamp().add(c),T=y1.mul(-16).oneMinus().negate().exp2(),A=c.sub(y.pow(T).oneMinus()).clamp();this.clearcoat===!0&&this.clearcoatSpecularIndirect.mulAssign(c),this.sheen===!0&&this.sheenSpecularIndirect.mulAssign(c),f.indirectDiffuse.mulAssign(c),f.indirectSpecular.mulAssign(A)}finish({context:r}){const{outgoingLight:c}=r;if(this.clearcoat===!0){const f=qc.dot(y2).clamp(),_=hf({dotVH:f,f0:d4,f90:m4}),y=c.mul(J4.mul(_).oneMinus()).add(this.clearcoatSpecularDirect.add(this.clearcoatSpecularIndirect).mul(J4));c.assign(y)}if(this.sheen===!0){const f=jc.r.max(jc.g).max(jc.b).mul(.157).oneMinus(),_=c.mul(f).add(this.sheenSpecularDirect,this.sheenSpecularIndirect);c.assign(_)}}}const w5=Lt(1),cd=Lt(-2),I_=Lt(.8),g4=Lt(-1),P_=Lt(.4),x4=Lt(2),L_=Lt(.305),y4=Lt(3),M5=Lt(.21),tde=Lt(4),R5=Lt(4),ide=Lt(16),nde=Xt(([v])=>{const r=Gt(bs(v)).toVar(),c=Lt(-1).toVar();return u2(r.x.greaterThan(r.z),()=>{u2(r.x.greaterThan(r.y),()=>{c.assign(Er(v.x.greaterThan(0),0,3))}).Else(()=>{c.assign(Er(v.y.greaterThan(0),1,4))})}).Else(()=>{u2(r.z.greaterThan(r.y),()=>{c.assign(Er(v.z.greaterThan(0),2,5))}).Else(()=>{c.assign(Er(v.y.greaterThan(0),1,4))})}),c}).setLayout({name:"getFace",type:"float",inputs:[{name:"direction",type:"vec3"}]}),rde=Xt(([v,r])=>{const c=p0().toVar();return u2(r.equal(0),()=>{c.assign(p0(v.z,v.y).div(bs(v.x)))}).ElseIf(r.equal(1),()=>{c.assign(p0(v.x.negate(),v.z.negate()).div(bs(v.y)))}).ElseIf(r.equal(2),()=>{c.assign(p0(v.x.negate(),v.y).div(bs(v.z)))}).ElseIf(r.equal(3),()=>{c.assign(p0(v.z.negate(),v.y).div(bs(v.x)))}).ElseIf(r.equal(4),()=>{c.assign(p0(v.x.negate(),v.z).div(bs(v.y)))}).Else(()=>{c.assign(p0(v.x,v.y).div(bs(v.z)))}),Oi(.5,c.add(1))}).setLayout({name:"getUV",type:"vec2",inputs:[{name:"direction",type:"vec3"},{name:"face",type:"float"}]}),sde=Xt(([v])=>{const r=Lt(0).toVar();return u2(v.greaterThanEqual(I_),()=>{r.assign(w5.sub(v).mul(g4.sub(cd)).div(w5.sub(I_)).add(cd))}).ElseIf(v.greaterThanEqual(P_),()=>{r.assign(I_.sub(v).mul(x4.sub(g4)).div(I_.sub(P_)).add(g4))}).ElseIf(v.greaterThanEqual(L_),()=>{r.assign(P_.sub(v).mul(y4.sub(x4)).div(P_.sub(L_)).add(x4))}).ElseIf(v.greaterThanEqual(M5),()=>{r.assign(L_.sub(v).mul(tde.sub(y4)).div(L_.sub(M5)).add(y4))}).Else(()=>{r.assign(Lt(-2).mul(T1(Oi(1.16,v))))}),r}).setLayout({name:"roughnessToMip",type:"float",inputs:[{name:"roughness",type:"float"}]}),ode=Xt(([v,r])=>{const c=v.toVar();c.assign(Oi(2,c).sub(1));const f=Gt(c,1).toVar();return u2(r.equal(0),()=>{f.assign(f.zyx)}).ElseIf(r.equal(1),()=>{f.assign(f.xzy),f.xz.mulAssign(-1)}).ElseIf(r.equal(2),()=>{f.x.mulAssign(-1)}).ElseIf(r.equal(3),()=>{f.assign(f.zyx),f.xz.mulAssign(-1)}).ElseIf(r.equal(4),()=>{f.assign(f.xzy),f.xy.mulAssign(-1)}).ElseIf(r.equal(5),()=>{f.z.mulAssign(-1)}),f}).setLayout({name:"getDirection",type:"vec3",inputs:[{name:"uv",type:"vec2"},{name:"face",type:"float"}]}),ade=Xt(([v,r,c,f,_,y])=>{const T=Lt(c),A=Gt(r),N=A1(sde(T),cd,y),k=Wo(N),V=za(N),j=Gt(df(v,A,V,f,_,y)).toVar();return u2(k.notEqual(0),()=>{const K=Gt(df(v,A,V.add(1),f,_,y)).toVar();j.assign(c2(j,K,k))}),j}),df=Xt(([v,r,c,f,_,y])=>{const T=Lt(c).toVar(),A=Gt(r),N=Lt(nde(A)).toVar(),k=Lt(ar(R5.sub(T),0)).toVar();T.assign(ar(T,R5));const V=Lt(uf(T)).toVar(),j=p0(rde(A,N).mul(V.sub(2)).add(1)).toVar();return u2(N.greaterThan(2),()=>{j.y.addAssign(V),N.subAssign(3)}),j.x.addAssign(N.mul(V)),j.x.addAssign(k.mul(Oi(3,ide))),j.y.addAssign(Oi(4,uf(y).sub(V))),j.x.mulAssign(f),j.y.mulAssign(_),v.sample(j).grad(p0(),p0())}),v4=Xt(({envMap:v,mipInt:r,outputDirection:c,theta:f,axis:_,CUBEUV_TEXEL_WIDTH:y,CUBEUV_TEXEL_HEIGHT:T,CUBEUV_MAX_MIP:A})=>{const N=g1(f),k=c.mul(N).add(_.cross(c).mul(Ws(f))).add(_.mul(_.dot(c).mul(N.oneMinus())));return df(v,k,r,y,T,A)}),cde=Xt(({n:v,latitudinal:r,poleAxis:c,outputDirection:f,weights:_,samples:y,dTheta:T,mipInt:A,envMap:N,CUBEUV_TEXEL_WIDTH:k,CUBEUV_TEXEL_HEIGHT:V,CUBEUV_MAX_MIP:j})=>{const K=Gt(Er(r,c,ff(c,f))).toVar();u2(K.equal(Gt(0)),()=>{K.assign(Gt(f.z,0,f.x.negate()))}),K.assign(Oo(K));const Q=Gt().toVar();return Q.addAssign(_.element(0).mul(v4({theta:0,axis:K,outputDirection:f,mipInt:A,envMap:N,CUBEUV_TEXEL_WIDTH:k,CUBEUV_TEXEL_HEIGHT:V,CUBEUV_MAX_MIP:j}))),Hs({start:i2(1),end:v},({i:ie})=>{u2(ie.greaterThanEqual(y),()=>{qhe()});const ce=Lt(T.mul(Lt(ie))).toVar();Q.addAssign(_.element(ie).mul(v4({theta:ce.mul(-1),axis:K,outputDirection:f,mipInt:A,envMap:N,CUBEUV_TEXEL_WIDTH:k,CUBEUV_TEXEL_HEIGHT:V,CUBEUV_MAX_MIP:j}))),Q.addAssign(_.element(ie).mul(v4({theta:ce,axis:K,outputDirection:f,mipInt:A,envMap:N,CUBEUV_TEXEL_WIDTH:k,CUBEUV_TEXEL_HEIGHT:V,CUBEUV_MAX_MIP:j})))}),Li(Q,1)}),lde=Xt(([v])=>{const r=b2(v).toVar();return r.assign(r.shiftLeft(b2(16)).bitOr(r.shiftRight(b2(16)))),r.assign(r.bitAnd(b2(1431655765)).shiftLeft(b2(1)).bitOr(r.bitAnd(b2(2863311530)).shiftRight(b2(1)))),r.assign(r.bitAnd(b2(858993459)).shiftLeft(b2(2)).bitOr(r.bitAnd(b2(3435973836)).shiftRight(b2(2)))),r.assign(r.bitAnd(b2(252645135)).shiftLeft(b2(4)).bitOr(r.bitAnd(b2(4042322160)).shiftRight(b2(4)))),r.assign(r.bitAnd(b2(16711935)).shiftLeft(b2(8)).bitOr(r.bitAnd(b2(4278255360)).shiftRight(b2(8)))),Lt(r).mul(23283064365386963e-26)}),ude=Xt(([v,r])=>p0(Lt(v).div(Lt(r)),lde(v))),fde=Xt(([v,r,c])=>{const f=Gt(r).toVar(),_=Lt(c),y=_.mul(_).toVar(),T=Oo(Gt(y.mul(f.x),y.mul(f.y),f.z)).toVar(),A=T.x.mul(T.x).add(T.y.mul(T.y)),N=Er(A.greaterThan(0),Gt(T.y.negate(),T.x,0).div(Oa(A)),Gt(1,0,0)).toVar(),k=ff(T,N).toVar(),V=Oa(v.x),j=Oi(2,3.14159265359).mul(v.y),K=V.mul(g1(j)).toVar(),Q=V.mul(Ws(j)).toVar(),ie=Oi(.5,T.z.add(1));Q.assign(ie.oneMinus().mul(Oa(K.mul(K).oneMinus())).add(ie.mul(Q)));const ce=N.mul(K).add(k.mul(Q)).add(T.mul(Oa(ar(0,K.mul(K).add(Q.mul(Q)).oneMinus()))));return Oo(Gt(y.mul(ce.x),y.mul(ce.y),ar(0,ce.z)))}),_de=Xt(({roughness:v,mipInt:r,envMap:c,N_immutable:f,GGX_SAMPLES:_,CUBEUV_TEXEL_WIDTH:y,CUBEUV_TEXEL_HEIGHT:T,CUBEUV_MAX_MIP:A})=>{const N=Gt(f).toVar(),k=Gt(0).toVar(),V=Lt(0).toVar();return u2(v.lessThan(.001),()=>{k.assign(df(c,N,r,y,T,A))}).Else(()=>{const j=Er(bs(N.z).lessThan(.999),Gt(0,0,1),Gt(1,0,0)),K=Oo(ff(j,N)).toVar(),Q=ff(N,K).toVar();Hs({start:b2(0),end:_},({i:ie})=>{const ce=ude(ie,_),ue=fde(ce,Gt(0,0,1),v),re=Oo(K.mul(ue.x).add(Q.mul(ue.y)).add(N.mul(ue.z))),be=Oo(re.mul(Pl(N,re).mul(2)).sub(N)),De=ar(Pl(N,be),0);u2(De.greaterThan(0),()=>{const Oe=df(c,be,r,y,T,A);k.addAssign(Oe.mul(De)),V.addAssign(De)})}),u2(V.greaterThan(0),()=>{k.assign(k.div(V))})}),Li(k,1)}),Z1=4,A5=[.125,.215,.35,.446,.526,.582],Ba=20,pde=512,yu=new Mf(-1,1,1,-1,0,1),hde=new Y2(90,1),E5=new ni;let S4=null,C4=0,T4=0;const dde=new at,pp=new WeakMap,mde=[3,1,5,0,4,2],w4=ode(Xl(),sa("faceIndex")).normalize(),Fp=Gt(w4.x,w4.y,w4.z);class gde{constructor(r){this._renderer=r,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._blurMaterial=null,this._ggxMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._backgroundBox=null}get _hasInitialized(){return this._renderer.hasInitialized()}fromScene(r,c=0,f=.1,_=100,y={}){const{size:T=256,position:A=dde,renderTarget:N=null}=y;if(this._setSize(T),this._hasInitialized===!1){jt('PMREMGenerator: ".fromScene()" called before the backend is initialized. Try using "await renderer.init()" instead.');const V=N||this._allocateTarget();return y.renderTarget=V,this.fromSceneAsync(r,c,f,_,y),V}S4=this._renderer.getRenderTarget(),C4=this._renderer.getActiveCubeFace(),T4=this._renderer.getActiveMipmapLevel();const k=N||this._allocateTarget();return k.depthBuffer=!0,this._init(k),this._sceneToCubeUV(r,f,_,k,A),c>0&&this._blur(k,0,0,c),this._applyPMREM(k),this._cleanup(k),k}async fromSceneAsync(r,c=0,f=.1,_=100,y={}){return a2('PMREMGenerator: ".fromSceneAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this.fromScene(r,c,f,_,y)}fromEquirectangular(r,c=null){if(this._hasInitialized===!1){jt('PMREMGenerator: .fromEquirectangular() called before the backend is initialized. Try using "await renderer.init()" instead.'),this._setSizeFromTexture(r);const f=c||this._allocateTarget();return this.fromEquirectangularAsync(r,f),f}return this._fromTexture(r,c)}async fromEquirectangularAsync(r,c=null){return a2('PMREMGenerator: ".fromEquirectangularAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this._fromTexture(r,c)}fromCubemap(r,c=null){if(this._hasInitialized===!1){jt("PMREMGenerator: .fromCubemap() called before the backend is initialized. Try using .fromCubemapAsync() instead."),this._setSizeFromTexture(r);const f=c||this._allocateTarget();return this.fromCubemapAsync(r,c),f}return this._fromTexture(r,c)}async fromCubemapAsync(r,c=null){return a2('PMREMGenerator: ".fromCubemapAsync()" is deprecated. Use "await renderer.init()" instead.'),await this._renderer.init(),this._fromTexture(r,c)}async compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=b5(),await this._compileMaterial(this._cubemapMaterial))}async compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=D5(),await this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSizeFromTexture(r){r.mapping===Go||r.mapping===Vo?this._setSize(r.image.length===0?16:r.image[0].width||r.image[0].image.width):this._setSize(r.image.width/4)}_setSize(r){this._lodMax=Math.floor(Math.log2(r)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let r=0;r<this._lodMeshes.length;r++)this._lodMeshes[r].geometry.dispose()}_cleanup(r){this._renderer.setRenderTarget(S4,C4,T4),r.scissorTest=!1,Fc(r,0,0,r.width,r.height)}_fromTexture(r,c){this._setSizeFromTexture(r),S4=this._renderer.getRenderTarget(),C4=this._renderer.getActiveCubeFace(),T4=this._renderer.getActiveMipmapLevel();const f=c||this._allocateTarget();return this._init(f),this._textureToCubeUV(r,f),this._applyPMREM(f),this._cleanup(f),f}_allocateTarget(){const r=3*Math.max(this._cubeSize,112),c=4*this._cubeSize;return N5(r,c)}_init(r){if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==r.width||this._pingPongRenderTarget.height!==r.height){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=N5(r.width,r.height);const{_lodMax:c}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=xde(c)),this._blurMaterial=yde(c,r.width,r.height),this._ggxMaterial=vde(c,r.width,r.height)}}async _compileMaterial(r){const c=new Q2(new ns,r);await this._renderer.compile(c,yu)}_sceneToCubeUV(r,c,f,_,y){const T=hde;T.near=c,T.far=f;const A=[1,1,1,1,-1,1],N=[1,-1,1,-1,1,-1],k=this._renderer,V=k.autoClear;k.getClearColor(E5),k.autoClear=!1,this._backgroundBox===null&&(this._backgroundBox=new Q2(new oa,new oo({name:"PMREM.Background",side:Kn,depthWrite:!1,depthTest:!1})));const j=this._backgroundBox,K=j.material;let Q=!1;const ie=r.background;ie?ie.isColor&&(K.color.copy(ie),r.background=null,Q=!0):(K.color.copy(E5),Q=!0),k.setRenderTarget(_),k.clear(),Q&&k.render(j,T);for(let ce=0;ce<6;ce++){const ue=ce%3;ue===0?(T.up.set(0,A[ce],0),T.position.set(y.x,y.y,y.z),T.lookAt(y.x+N[ce],y.y,y.z)):ue===1?(T.up.set(0,0,A[ce]),T.position.set(y.x,y.y,y.z),T.lookAt(y.x,y.y+N[ce],y.z)):(T.up.set(0,A[ce],0),T.position.set(y.x,y.y,y.z),T.lookAt(y.x,y.y,y.z+N[ce]));const re=this._cubeSize;Fc(_,ue*re,ce>2?re:0,re,re),k.render(r,T)}k.autoClear=V,r.background=ie}_textureToCubeUV(r,c){const f=this._renderer,_=r.mapping===Go||r.mapping===Vo;_?this._cubemapMaterial===null&&(this._cubemapMaterial=b5(r)):this._equirectMaterial===null&&(this._equirectMaterial=D5(r));const y=_?this._cubemapMaterial:this._equirectMaterial;y.fragmentNode.value=r;const T=this._lodMeshes[0];T.material=y;const A=this._cubeSize;Fc(c,0,0,3*A,2*A),f.setRenderTarget(c),f.render(T,yu)}_applyPMREM(r){const c=this._renderer,f=c.autoClear;c.autoClear=!1;const _=this._lodMeshes.length;for(let y=1;y<_;y++)this._applyGGXFilter(r,y-1,y);c.autoClear=f}_applyGGXFilter(r,c,f){const _=this._renderer,y=this._pingPongRenderTarget,T=this._ggxMaterial,A=this._lodMeshes[f];A.material=T;const N=pp.get(T),k=f/(this._lodMeshes.length-1),V=c/(this._lodMeshes.length-1),j=Math.sqrt(k*k-V*V),K=.05+k*.95,Q=j*K,{_lodMax:ie}=this,ce=this._sizeLods[f],ue=3*ce*(f>ie-Z1?f-ie+Z1:0),re=4*(this._cubeSize-ce);r.texture.frame=(r.texture.frame||0)+1,N.envMap.value=r.texture,N.roughness.value=Q,N.mipInt.value=ie-c,Fc(y,ue,re,3*ce,2*ce),_.setRenderTarget(y),_.render(A,yu),y.texture.frame=(y.texture.frame||0)+1,N.envMap.value=y.texture,N.roughness.value=0,N.mipInt.value=ie-f,Fc(r,ue,re,3*ce,2*ce),_.setRenderTarget(r),_.render(A,yu)}_blur(r,c,f,_,y){const T=this._pingPongRenderTarget;this._halfBlur(r,T,c,f,_,"latitudinal",y),this._halfBlur(T,r,f,f,_,"longitudinal",y)}_halfBlur(r,c,f,_,y,T,A){const N=this._renderer,k=this._blurMaterial;T!=="latitudinal"&&T!=="longitudinal"&&r0("blur direction must be either latitudinal or longitudinal!");const V=3,j=this._lodMeshes[_];j.material=k;const K=pp.get(k),Q=this._sizeLods[f]-1,ie=isFinite(y)?Math.PI/(2*Q):2*Math.PI/(2*Ba-1),ce=y/ie,ue=isFinite(y)?1+Math.floor(V*ce):Ba;ue>Ba&&jt(`sigmaRadians, ${y}, is too large and will clip, as it requested ${ue} samples when the maximum is set to ${Ba}`);const re=[];let be=0;for(let We=0;We<Ba;++We){const $e=We/ce,Ee=Math.exp(-$e*$e/2);re.push(Ee),We===0?be+=Ee:We<ue&&(be+=2*Ee)}for(let We=0;We<re.length;We++)re[We]=re[We]/be;r.texture.frame=(r.texture.frame||0)+1,K.envMap.value=r.texture,K.samples.value=ue,K.weights.array=re,K.latitudinal.value=T==="latitudinal"?1:0,A&&(K.poleAxis.value=A);const{_lodMax:De}=this;K.dTheta.value=ie,K.mipInt.value=De-f;const Oe=this._sizeLods[_],je=3*Oe*(_>De-Z1?_-De+Z1:0),Be=4*(this._cubeSize-Oe);Fc(c,je,Be,3*Oe,2*Oe),N.setRenderTarget(c),N.render(j,yu)}}function xde(v){const r=[],c=[],f=[];let _=v;const y=v-Z1+1+A5.length;for(let T=0;T<y;T++){const A=Math.pow(2,_);r.push(A);let N=1/A;T>v-Z1?N=A5[T-v+Z1-1]:T===0&&(N=0),c.push(N);const k=1/(A-2),V=-k,j=1+k,K=[V,V,j,V,j,j,V,V,j,j,V,j],Q=6,ie=6,ce=3,ue=2,re=1,be=new Float32Array(ce*ie*Q),De=new Float32Array(ue*ie*Q),Oe=new Float32Array(re*ie*Q);for(let Be=0;Be<Q;Be++){const We=Be%3*2/3-1,$e=Be>2?0:-1,Ee=[We,$e,0,We+2/3,$e,0,We+2/3,$e+1,0,We,$e,0,We+2/3,$e+1,0,We,$e+1,0],Ie=mde[Be];be.set(Ee,ce*ie*Ie),De.set(K,ue*ie*Ie);const Je=[Ie,Ie,Ie,Ie,Ie,Ie];Oe.set(Je,re*ie*Ie)}const je=new ns;je.setAttribute("position",new Or(be,ce)),je.setAttribute("uv",new Or(De,ue)),je.setAttribute("faceIndex",new Or(Oe,re)),f.push(new Q2(je,null)),_>Z1&&_--}return{lodMeshes:f,sizeLods:r,sigmas:c}}function N5(v,r){const c={magFilter:r2,minFilter:r2,generateMipmaps:!1,type:K2,format:w2,colorSpace:qa},f=new Qa(v,r,c);return f.texture.mapping=Ha,f.texture.name="PMREM.cubeUv",f.texture.isPMREMTexture=!0,f.scissorTest=!0,f}function Fc(v,r,c,f,_){v.viewport.set(r,c,f,_),v.scissor.set(r,c,f,_)}function Bp(v){const r=new O2;return r.depthTest=!1,r.depthWrite=!1,r.blending=vs,r.name=`PMREM_${v}`,r}function yde(v,r,c){const f=ao(new Array(Ba).fill(0)),_=vi(new at(0,1,0)),y=vi(0),T=Lt(Ba),A=vi(0),N=vi(1),k=rn(),V=vi(0),j=Lt(1/r),K=Lt(1/c),Q=Lt(v),ie={n:T,latitudinal:A,weights:f,poleAxis:_,outputDirection:Fp,dTheta:y,samples:N,envMap:k,mipInt:V,CUBEUV_TEXEL_WIDTH:j,CUBEUV_TEXEL_HEIGHT:K,CUBEUV_MAX_MIP:Q},ce=Bp("blur");return ce.fragmentNode=cde({...ie,latitudinal:A.equal(1)}),pp.set(ce,ie),ce}function vde(v,r,c){const f=rn(),_=vi(0),y=vi(0),T=Lt(1/r),A=Lt(1/c),N=Lt(v),k={envMap:f,roughness:_,mipInt:y,CUBEUV_TEXEL_WIDTH:T,CUBEUV_TEXEL_HEIGHT:A,CUBEUV_MAX_MIP:N},V=Bp("ggx");return V.fragmentNode=_de({...k,N_immutable:Fp,GGX_SAMPLES:b2(pde)}),pp.set(V,k),V}function b5(v){const r=Bp("cubemap");return r.fragmentNode=pf(v,Fp),r}function D5(v){const r=Bp("equirect");return r.fragmentNode=rn(v,gy(Fp),0),r}const I5=new WeakMap;function Sde(v){const r=Math.log2(v)-2,c=1/v;return{texelWidth:1/(3*Math.max(Math.pow(2,r),112)),texelHeight:c,maxMip:r}}function Cde(v,r,c){const f=Tde(r);let _=f.get(v);if((_!==void 0?_.pmremVersion:-1)!==v.pmremVersion){const T=v.image;if(v.isCubeTexture)if(Mde(T))_=c.fromCubemap(v,_);else return null;else if(Rde(T))_=c.fromEquirectangular(v,_);else return null;_.pmremVersion=v.pmremVersion,f.set(v,_)}return _.texture}function Tde(v){let r=I5.get(v);return r===void 0&&(r=new WeakMap,I5.set(v,r)),r}class wde extends cr{static get type(){return"PMREMNode"}constructor(r,c=null,f=null){super("vec3"),this._value=r,this._pmrem=null,this.uvNode=c,this.levelNode=f,this._generator=null;const _=new Z2;_.isRenderTargetTexture=!0,this._texture=rn(_),this._width=vi(0),this._height=vi(0),this._maxMip=vi(0),this.updateBeforeType=Fi.RENDER}set value(r){this._value=r,this._pmrem=null}get value(){return this._value}updateFromTexture(r){const c=Sde(r.image.height);this._texture.value=r,this._width.value=c.texelWidth,this._height.value=c.texelHeight,this._maxMip.value=c.maxMip}updateBefore(r){let c=this._pmrem;const f=c?c.pmremVersion:-1,_=this._value;f!==_.pmremVersion&&(_.isPMREMTexture===!0?c=_:c=Cde(_,r.renderer,this._generator),c!==null&&(this._pmrem=c,this.updateFromTexture(c)))}setup(r){this._generator===null&&(this._generator=new gde(r.renderer)),this.updateBefore(r);let c=this.uvNode;c===null&&r.context.getUV&&(c=r.context.getUV(this)),c=Qx.mul(Gt(c.x,c.y.negate(),c.z));let f=this.levelNode;return f===null&&r.context.getTextureLevel&&(f=r.context.getTextureLevel(this)),ade(this._texture,c,f,this._width,this._height,this._maxMip)}dispose(){super.dispose(),this._generator!==null&&this._generator.dispose()}}function Mde(v){if(v==null)return!1;let r=0;const c=6;for(let f=0;f<c;f++)v[f]!==void 0&&r++;return r===c}function Rde(v){return v==null?!1:v.height>0}const Ny=xn(wde).setParameterLength(1,3),P5=new WeakMap;class Ade extends Kl{static get type(){return"EnvironmentNode"}constructor(r=null){super(),this.envNode=r}setup(r){const{material:c}=r;let f=this.envNode;if(f.isTextureNode||f.isMaterialReferenceNode){const j=f.isTextureNode?f.value:c[f.property];let K=P5.get(j);K===void 0&&(K=Ny(j),P5.set(j,K)),f=K}const y=c.useAnisotropy===!0||c.anisotropy>0?Jpe:Nn,T=f.context(L5(y1,y)).mul(_4),A=f.context(Ede(Yl)).mul(Math.PI).mul(_4),N=zu(T),k=zu(A);r.context.radiance.addAssign(N),r.context.iblIrradiance.addAssign(k);const V=r.context.lightingModel.clearcoatRadiance;if(V){const j=f.context(L5(lp,qc)).mul(_4),K=zu(j);V.addAssign(K)}}}const L5=(v,r)=>{let c=null;return{getUV:()=>(c===null&&(c=y2.negate().reflect(r),c=Dx(v).mix(c,r).normalize(),c=c.transformDirection(D1)),c),getTextureLevel:()=>v}},Ede=v=>({getUV:()=>v,getTextureLevel:()=>Lt(1)}),Nde=new lf;class by extends O2{static get type(){return"MeshStandardNodeMaterial"}constructor(r){super(),this.isMeshStandardNodeMaterial=!0,this.lights=!0,this.emissiveNode=null,this.metalnessNode=null,this.roughnessNode=null,this.setDefaultValues(Nde),this.setValues(r)}setupEnvironment(r){let c=super.setupEnvironment(r);return c===null&&r.environmentNode&&(c=r.environmentNode),c?new Ade(c):null}setupLightingModel(){return new Ey}setupSpecular(){const r=c2(Gt(.04),un.rgb,cp);ro.assign(r),up.assign(1)}setupVariants(){const r=this.metalnessNode?Lt(this.metalnessNode):_he;cp.assign(r);let c=this.roughnessNode?Lt(this.roughnessNode):fhe;c=Ty({roughness:c}),y1.assign(c),this.setupSpecular(),un.assign(Li(un.rgb.mul(r.oneMinus()),un.a))}copy(r){return this.emissiveNode=r.emissiveNode,this.metalnessNode=r.metalnessNode,this.roughnessNode=r.roughnessNode,super.copy(r)}}const bde=new boe;class Dde extends by{static get type(){return"MeshPhysicalNodeMaterial"}constructor(r){super(),this.isMeshPhysicalNodeMaterial=!0,this.clearcoatNode=null,this.clearcoatRoughnessNode=null,this.clearcoatNormalNode=null,this.sheenNode=null,this.sheenRoughnessNode=null,this.iridescenceNode=null,this.iridescenceIORNode=null,this.iridescenceThicknessNode=null,this.specularIntensityNode=null,this.specularColorNode=null,this.iorNode=null,this.transmissionNode=null,this.thicknessNode=null,this.attenuationDistanceNode=null,this.attenuationColorNode=null,this.dispersionNode=null,this.anisotropyNode=null,this.setDefaultValues(bde),this.setValues(r)}get useClearcoat(){return this.clearcoat>0||this.clearcoatNode!==null}get useIridescence(){return this.iridescence>0||this.iridescenceNode!==null}get useSheen(){return this.sheen>0||this.sheenNode!==null}get useAnisotropy(){return this.anisotropy>0||this.anisotropyNode!==null}get useTransmission(){return this.transmission>0||this.transmissionNode!==null}get useDispersion(){return this.dispersion>0||this.dispersionNode!==null}setupSpecular(){const r=this.iorNode?Lt(this.iorNode):Rhe;Y_.assign(r),ro.assign(c2(Il(bx(Y_.sub(1).div(Y_.add(1))).mul(uhe),Gt(1)).mul(c5),un.rgb,cp)),up.assign(c2(c5,1,cp))}setupLightingModel(){return new Ey(this.useClearcoat,this.useSheen,this.useIridescence,this.useAnisotropy,this.useTransmission,this.useDispersion)}setupVariants(r){if(super.setupVariants(r),this.useClearcoat){const c=this.clearcoatNode?Lt(this.clearcoatNode):hhe,f=this.clearcoatRoughnessNode?Lt(this.clearcoatRoughnessNode):dhe;J4.assign(c),lp.assign(Ty({roughness:f}))}if(this.useSheen){const c=this.sheenNode?Gt(this.sheenNode):xhe,f=this.sheenRoughnessNode?Lt(this.sheenRoughnessNode):yhe;jc.assign(c),r8.assign(f)}if(this.useIridescence){const c=this.iridescenceNode?Lt(this.iridescenceNode):She,f=this.iridescenceIORNode?Lt(this.iridescenceIORNode):Che,_=this.iridescenceThicknessNode?Lt(this.iridescenceThicknessNode):The;s8.assign(c),_x.assign(f),px.assign(_)}if(this.useAnisotropy){const c=(this.anisotropyNode?p0(this.anisotropyNode):vhe).toVar();Ia.assign(c.length()),u2(Ia.equal(0),()=>{c.assign(p0(1,0))}).Else(()=>{c.divAssign(p0(Ia)),Ia.assign(Ia.saturate())}),ed.assign(Ia.pow2().mix(y1.pow2(),1)),$_.assign(Pu[0].mul(c.x).add(Pu[1].mul(c.y))),Jc.assign(Pu[1].mul(c.x).sub(Pu[0].mul(c.y)))}if(this.useTransmission){const c=this.transmissionNode?Lt(this.transmissionNode):whe,f=this.thicknessNode?Lt(this.thicknessNode):Mhe,_=this.attenuationDistanceNode?Lt(this.attenuationDistanceNode):Ahe,y=this.attenuationColorNode?Gt(this.attenuationColorNode):Ehe;if(id.assign(c),hx.assign(f),dx.assign(_),mx.assign(y),this.useDispersion){const T=this.dispersionNode?Lt(this.dispersionNode):Lhe;gx.assign(T)}}}setupClearcoatNormal(){return this.clearcoatNormalNode?Gt(this.clearcoatNormalNode):mhe}setup(r){r.context.setupClearcoatNormal=()=>Vu(this.setupClearcoatNormal(r),"NORMAL","vec3"),super.setup(r)}copy(r){return this.clearcoatNode=r.clearcoatNode,this.clearcoatRoughnessNode=r.clearcoatRoughnessNode,this.clearcoatNormalNode=r.clearcoatNormalNode,this.sheenNode=r.sheenNode,this.sheenRoughnessNode=r.sheenRoughnessNode,this.iridescenceNode=r.iridescenceNode,this.iridescenceIORNode=r.iridescenceIORNode,this.iridescenceThicknessNode=r.iridescenceThicknessNode,this.specularIntensityNode=r.specularIntensityNode,this.specularColorNode=r.specularColorNode,this.transmissionNode=r.transmissionNode,this.thicknessNode=r.thicknessNode,this.attenuationDistanceNode=r.attenuationDistanceNode,this.attenuationColorNode=r.attenuationColorNode,this.dispersionNode=r.dispersionNode,this.anisotropyNode=r.anisotropyNode,super.copy(r)}}const Ide=Xt(({normal:v,lightDirection:r,builder:c})=>{const f=v.dot(r),_=p0(f.mul(.5).add(.5),0);if(c.material.gradientMap){const y=$1("gradientMap","texture").context({getUV:()=>_});return Gt(y.r)}else{const y=_.fwidth().mul(.5);return c2(Gt(.7),Gt(1),E1(Lt(.7).sub(y.x),Lt(.7).add(y.x),_.x))}});class Pde extends Lp{direct({lightDirection:r,lightColor:c,reflectedLight:f},_){const y=Ide({normal:Kx,lightDirection:r,builder:_}).mul(c);f.directDiffuse.addAssign(y.mul(Fl({diffuseColor:un.rgb})))}indirect(r){const{ambientOcclusion:c,irradiance:f,reflectedLight:_}=r.context;_.indirectDiffuse.addAssign(f.mul(Fl({diffuseColor:un}))),_.indirectDiffuse.mulAssign(c)}}const Lde=new Doe;class kde extends O2{static get type(){return"MeshToonNodeMaterial"}constructor(r){super(),this.isMeshToonNodeMaterial=!0,this.lights=!0,this.setDefaultValues(Lde),this.setValues(r)}setupLightingModel(){return new Pde}}const Fde=Xt(()=>{const v=Gt(y2.z,0,y2.x.negate()).normalize(),r=y2.cross(v);return p0(v.dot(Nn),r.dot(Nn)).mul(.495).add(.5)}).once(["NORMAL","VERTEX"])().toVar("matcapUV"),Bde=new koe;class Ude extends O2{static get type(){return"MeshMatcapNodeMaterial"}constructor(r){super(),this.isMeshMatcapNodeMaterial=!0,this.setDefaultValues(Bde),this.setValues(r)}setupVariants(r){const c=Fde;let f;r.material.matcap?f=$1("matcap","texture").context({getUV:()=>c}):f=Gt(c2(.2,.8,c.y)),un.rgb.mulAssign(f.rgb)}}class Ode extends cr{static get type(){return"RotateNode"}constructor(r,c){super(),this.positionNode=r,this.rotationNode=c}getNodeType(r){return this.positionNode.getNodeType(r)}setup(r){const{rotationNode:c,positionNode:f}=this;if(this.getNodeType(r)==="vec2"){const y=c.cos(),T=c.sin();return n8(y,T,T.negate(),y).mul(f)}else{const y=c,T=Qc(Li(1,0,0,0),Li(0,g1(y.x),Ws(y.x).negate(),0),Li(0,Ws(y.x),g1(y.x),0),Li(0,0,0,1)),A=Qc(Li(g1(y.y),0,Ws(y.y),0),Li(0,1,0,0),Li(Ws(y.y).negate(),0,g1(y.y),0),Li(0,0,0,1)),N=Qc(Li(g1(y.z),Ws(y.z).negate(),0,0),Li(Ws(y.z),g1(y.z),0,0),Li(0,0,1,0),Li(0,0,0,1));return T.mul(A).mul(N).mul(Li(f,1)).xyz}}}const Dy=xn(Ode).setParameterLength(2),Gde=new yoe;class Iy extends O2{static get type(){return"SpriteNodeMaterial"}constructor(r){super(),this.isSpriteNodeMaterial=!0,this._useSizeAttenuation=!0,this.positionNode=null,this.rotationNode=null,this.scaleNode=null,this.transparent=!0,this.setDefaultValues(Gde),this.setValues(r)}setupPositionView(r){const{object:c,camera:f}=r,{positionNode:_,rotationNode:y,scaleNode:T,sizeAttenuation:A}=this,N=Ip.mul(Gt(_||0));let k=p0(Za[0].xyz.length(),Za[1].xyz.length());T!==null&&(k=k.mul(p0(T))),f.isPerspectiveCamera&&A===!1&&(k=k.mul(N.z.negate()));let V=Pp.xy;if(c.center&&c.center.isVector2===!0){const Q=K_e("center","vec2",c);V=V.sub(Q.sub(.5))}V=V.mul(k);const j=Lt(y||ghe),K=Dy(V,j);return Li(N.xy.add(K),N.zw)}copy(r){return this.positionNode=r.positionNode,this.rotationNode=r.rotationNode,this.scaleNode=r.scaleNode,super.copy(r)}get sizeAttenuation(){return this._useSizeAttenuation}set sizeAttenuation(r){this._useSizeAttenuation!==r&&(this._useSizeAttenuation=r,this.needsUpdate=!0)}}const Vde=new Eoe,zde=new _i;class Wde extends Iy{static get type(){return"PointsNodeMaterial"}constructor(r){super(),this.sizeNode=null,this.isPointsNodeMaterial=!0,this.setDefaultValues(Vde),this.setValues(r)}setupPositionView(){const{positionNode:r}=this;return Ip.mul(Gt(r||Br)).xyz}setupVertexSprite(r){const{material:c,camera:f}=r,{rotationNode:_,scaleNode:y,sizeNode:T,sizeAttenuation:A}=this;let N=super.setupVertex(r);if(c.isNodeMaterial!==!0)return N;let k=T!==null?p0(T):Phe;k=k.mul(Rpe),f.isPerspectiveCamera&&A===!0&&(k=k.mul(Hde.div(B2.z.negate()))),y&&y.isNode&&(k=k.mul(p0(y)));let V=Pp.xy;if(_&&_.isNode){const j=Lt(_);V=Dy(V,j)}return V=V.mul(k),V=V.div(Ape.div(2)),V=V.mul(N.w),N=N.add(Li(V,0,0)),N}setupVertex(r){return r.object.isPoints?super.setupVertex(r):this.setupVertexSprite(r)}get alphaToCoverage(){return this._useAlphaToCoverage}set alphaToCoverage(r){this._useAlphaToCoverage!==r&&(this._useAlphaToCoverage=r,this.needsUpdate=!0)}}const Hde=vi(1).onFrameUpdate(function({renderer:v}){const r=v.getSize(zde);this.value=.5*r.y});class jde extends Lp{constructor(){super(),this.shadowNode=Lt(1).toVar("shadowMask")}direct({lightNode:r}){r.shadowNode!==null&&this.shadowNode.mulAssign(r.shadowNode)}finish({context:r}){un.a.mulAssign(this.shadowNode.oneMinus()),r.outgoingLight.rgb.assign(un.rgb)}}const qde=new Noe;class Xde extends O2{static get type(){return"ShadowNodeMaterial"}constructor(r){super(),this.isShadowNodeMaterial=!0,this.lights=!0,this.transparent=!0,this.setDefaultValues(qde),this.setValues(r)}setupLightingModel(){return new jde}}ia("vec3");ia("vec3");ia("vec3");class $de{constructor(r,c,f){this.renderer=r,this.nodes=c,this.info=f,this._context=typeof self<"u"?self:null,this._animationLoop=null,this._requestId=null}start(){const r=(c,f)=>{this._requestId=this._context.requestAnimationFrame(r),this.info.autoReset===!0&&this.info.reset(),this.nodes.nodeFrame.update(),this.info.frame=this.nodes.nodeFrame.frameId,this.renderer._inspector.begin(),this._animationLoop!==null&&this._animationLoop(c,f),this.renderer._inspector.finish()};r()}stop(){this._context.cancelAnimationFrame(this._requestId),this._requestId=null}getAnimationLoop(){return this._animationLoop}setAnimationLoop(r){this._animationLoop=r}getContext(){return this._context}setContext(r){this._context=r}dispose(){this.stop()}}class _o{constructor(){this.weakMap=new WeakMap}get(r){let c=this.weakMap;for(let f=0;f<r.length-1;f++)if(c=c.get(r[f]),c===void 0)return;return c.get(r[r.length-1])}set(r,c){let f=this.weakMap;for(let _=0;_<r.length-1;_++){const y=r[_];f.has(y)===!1&&f.set(y,new WeakMap),f=f.get(y)}return f.set(r[r.length-1],c),this}delete(r){let c=this.weakMap;for(let f=0;f<r.length-1;f++)if(c=c.get(r[f]),c===void 0)return!1;return c.delete(r[r.length-1])}}let Yde=0;function Kde(v){const r=Object.keys(v);let c=Object.getPrototypeOf(v);for(;c;){const f=Object.getOwnPropertyDescriptors(c);for(const _ in f)if(f[_]!==void 0){const y=f[_];y&&typeof y.get=="function"&&r.push(_)}c=Object.getPrototypeOf(c)}return r}class Zde{constructor(r,c,f,_,y,T,A,N,k,V){this.id=Yde++,this._nodes=r,this._geometries=c,this.renderer=f,this.object=_,this.material=y,this.scene=T,this.camera=A,this.lightsNode=N,this.context=k,this.geometry=_.geometry,this.version=y.version,this.drawRange=null,this.attributes=null,this.attributesId=null,this.pipeline=null,this.group=null,this.vertexBuffers=null,this.drawParams=null,this.bundle=null,this.clippingContext=V,this.clippingContextCacheKey=V!==null?V.cacheKey:"",this.initialNodesCacheKey=this.getDynamicCacheKey(),this.initialCacheKey=this.getCacheKey(),this._nodeBuilderState=null,this._bindings=null,this._monitor=null,this.onDispose=null,this.isRenderObject=!0,this.onMaterialDispose=()=>{this.dispose()},this.onGeometryDispose=()=>{this.attributes=null,this.attributesId=null},this.material.addEventListener("dispose",this.onMaterialDispose),this.geometry.addEventListener("dispose",this.onGeometryDispose)}updateClipping(r){this.clippingContext=r}get clippingNeedsUpdate(){return this.clippingContext===null||this.clippingContext.cacheKey===this.clippingContextCacheKey?!1:(this.clippingContextCacheKey=this.clippingContext.cacheKey,!0)}get hardwareClippingPlanes(){return this.material.hardwareClipping===!0?this.clippingContext.unionClippingCount:0}getNodeBuilderState(){return this._nodeBuilderState||(this._nodeBuilderState=this._nodes.getForRender(this))}getMonitor(){return this._monitor||(this._monitor=this.getNodeBuilderState().observer)}getBindings(){return this._bindings||(this._bindings=this.getNodeBuilderState().createBindings())}getBindingGroup(r){for(const c of this.getBindings())if(c.name===r)return c}getIndex(){return this._geometries.getIndex(this)}getIndirect(){return this._geometries.getIndirect(this)}getChainArray(){return[this.object,this.material,this.context,this.lightsNode]}setGeometry(r){this.geometry=r,this.attributes=null,this.attributesId=null}getAttributes(){if(this.attributes!==null)return this.attributes;const r=this.getNodeBuilderState().nodeAttributes,c=this.geometry,f=[],_=new Set,y={};for(const T of r){let A;if(T.node&&T.node.attribute?A=T.node.attribute:(A=c.getAttribute(T.name),y[T.name]=A.version),A===void 0)continue;f.push(A);const N=A.isInterleavedBufferAttribute?A.data:A;_.add(N)}return this.attributes=f,this.attributesId=y,this.vertexBuffers=Array.from(_.values()),f}getVertexBuffers(){return this.vertexBuffers===null&&this.getAttributes(),this.vertexBuffers}getDrawParameters(){const{object:r,material:c,geometry:f,group:_,drawRange:y}=this,T=this.drawParams||(this.drawParams={vertexCount:0,firstVertex:0,instanceCount:0,firstInstance:0}),A=this.getIndex(),N=A!==null;let k=1;if(f.isInstancedBufferGeometry===!0?k=f.instanceCount:r.count!==void 0&&(k=Math.max(0,r.count)),k===0)return null;if(T.instanceCount=k,r.isBatchedMesh===!0)return T;let V=1;c.wireframe===!0&&!r.isPoints&&!r.isLineSegments&&!r.isLine&&!r.isLineLoop&&(V=2);let j=y.start*V,K=(y.start+y.count)*V;_!==null&&(j=Math.max(j,_.start*V),K=Math.min(K,(_.start+_.count)*V));const Q=f.attributes.position;let ie=1/0;N?ie=A.count:Q!=null&&(ie=Q.count),j=Math.max(j,0),K=Math.min(K,ie);const ce=K-j;return ce<0||ce===1/0?null:(T.vertexCount=ce,T.firstVertex=j,T)}getGeometryCacheKey(){const{geometry:r}=this;let c="";for(const f of Object.keys(r.attributes).sort()){const _=r.attributes[f];c+=f+",",_.data&&(c+=_.data.stride+","),_.offset&&(c+=_.offset+","),_.itemSize&&(c+=_.itemSize+","),_.normalized&&(c+="n,")}for(const f of Object.keys(r.morphAttributes).sort()){const _=r.morphAttributes[f];c+="morph-"+f+",";for(let y=0,T=_.length;y<T;y++){const A=_[y];c+=A.id+","}}return r.index&&(c+="index,"),c}getMaterialCacheKey(){const{object:r,material:c,renderer:f}=this;let _=c.customProgramCacheKey();for(const y of Kde(c)){if(/^(is[A-Z]|_)|^(visible|version|uuid|name|opacity|userData)$/.test(y))continue;const T=c[y];let A;if(T!==null){const N=typeof T;N==="number"?A=T!==0?"1":"0":N==="object"?(A="{",T.isTexture&&(A+=T.mapping,f.backend.isWebGPUBackend===!0&&(A+=T.magFilter,A+=T.minFilter,A+=T.wrapS,A+=T.wrapT,A+=T.wrapR)),A+="}"):A=String(T)}else A=String(T);_+=A+","}return _+=this.clippingContextCacheKey+",",r.geometry&&(_+=this.getGeometryCacheKey()),r.skeleton&&(_+=r.skeleton.bones.length+","),r.isBatchedMesh&&(_+=r._matricesTexture.uuid+",",r._colorsTexture!==null&&(_+=r._colorsTexture.uuid+",")),(r.isInstancedMesh||r.count>1||Array.isArray(r.morphTargetInfluences))&&(_+=r.uuid+","),_+=r.receiveShadow+",",Rp(_)}get needsGeometryUpdate(){if(this.geometry.id!==this.object.geometry.id)return!0;if(this.attributes!==null){const r=this.attributesId;for(const c in r){const f=this.geometry.getAttribute(c);if(f===void 0||r[c]!==f.id)return!0}}return!1}get needsUpdate(){return this.initialNodesCacheKey!==this.getDynamicCacheKey()||this.clippingNeedsUpdate}getDynamicCacheKey(){let r=0;return this.material.isShadowPassMaterial!==!0&&(r=this._nodes.getCacheKey(this.scene,this.lightsNode)),this.camera.isArrayCamera&&(r=Uu(r,this.camera.cameras.length)),this.object.receiveShadow&&(r=Uu(r,1)),r=Uu(r,this.camera.id),r}getCacheKey(){return this.getMaterialCacheKey()+this.getDynamicCacheKey()}dispose(){this.material.removeEventListener("dispose",this.onMaterialDispose),this.geometry.removeEventListener("dispose",this.onGeometryDispose),this.onDispose()}}const Ea=[];class Qde{constructor(r,c,f,_,y,T){this.renderer=r,this.nodes=c,this.geometries=f,this.pipelines=_,this.bindings=y,this.info=T,this.chainMaps={}}get(r,c,f,_,y,T,A,N){const k=this.getChainMap(N);Ea[0]=r,Ea[1]=c,Ea[2]=T,Ea[3]=y;let V=k.get(Ea);return V===void 0?(V=this.createRenderObject(this.nodes,this.geometries,this.renderer,r,c,f,_,y,T,A,N),k.set(Ea,V)):(V.updateClipping(A),V.needsGeometryUpdate&&V.setGeometry(r.geometry),(V.version!==c.version||V.needsUpdate)&&(V.initialCacheKey!==V.getCacheKey()?(V.dispose(),V=this.get(r,c,f,_,y,T,A,N)):V.version=c.version)),Ea.length=0,V}getChainMap(r="default"){return this.chainMaps[r]||(this.chainMaps[r]=new _o)}dispose(){this.chainMaps={}}createRenderObject(r,c,f,_,y,T,A,N,k,V,j){const K=this.getChainMap(j),Q=new Zde(r,c,f,_,y,T,A,N,k,V);return Q.onDispose=()=>{this.pipelines.delete(Q),this.bindings.deleteForRender(Q),this.nodes.delete(Q),K.delete(Q.getChainArray())},Q}}class ca{constructor(){this.data=new WeakMap}get(r){let c=this.data.get(r);return c===void 0&&(c={},this.data.set(r,c)),c}delete(r){let c=null;return this.data.has(r)&&(c=this.data.get(r),this.data.delete(r)),c}has(r){return this.data.has(r)}dispose(){this.data=new WeakMap}}const js={VERTEX:1,INDEX:2,STORAGE:3,INDIRECT:4},Y1=16,Jde=211,e8e=212;class t8e extends ca{constructor(r){super(),this.backend=r}delete(r){const c=super.delete(r);return c!==null&&this.backend.destroyAttribute(r),c}update(r,c){const f=this.get(r);if(f.version===void 0)c===js.VERTEX?this.backend.createAttribute(r):c===js.INDEX?this.backend.createIndexAttribute(r):c===js.STORAGE?this.backend.createStorageAttribute(r):c===js.INDIRECT&&this.backend.createIndirectStorageAttribute(r),f.version=this._getBufferAttribute(r).version;else{const _=this._getBufferAttribute(r);(f.version<_.version||_.usage===Wc)&&(this.backend.updateAttribute(r),f.version=_.version)}}_getBufferAttribute(r){return r.isInterleavedBufferAttribute&&(r=r.data),r}}function Py(v){return v.index!==null?v.index.version:v.attributes.position.version}function k5(v){const r=[],c=v.index,f=v.attributes.position;if(c!==null){const y=c.array;for(let T=0,A=y.length;T<A;T+=3){const N=y[T+0],k=y[T+1],V=y[T+2];r.push(N,k,k,V,V,N)}}else{const y=f.array;for(let T=0,A=y.length/3-1;T<A;T+=3){const N=T+0,k=T+1,V=T+2;r.push(N,k,k,V,V,N)}}const _=new(Ld(r)?Gd:Od)(r,1);return _.version=Py(v),_}class i8e extends ca{constructor(r,c){super(),this.attributes=r,this.info=c,this.wireframes=new WeakMap,this.attributeCall=new WeakMap,this._geometryDisposeListeners=new Map}has(r){const c=r.geometry;return super.has(c)&&this.get(c).initialized===!0}updateForRender(r){this.has(r)===!1&&this.initGeometry(r),this.updateAttributes(r)}initGeometry(r){const c=r.geometry,f=this.get(c);f.initialized=!0,this.info.memory.geometries++;const _=()=>{this.info.memory.geometries--;const y=c.index,T=r.getAttributes();y!==null&&this.attributes.delete(y);for(const N of T)this.attributes.delete(N);const A=this.wireframes.get(c);A!==void 0&&this.attributes.delete(A),c.removeEventListener("dispose",_),this._geometryDisposeListeners.delete(c)};c.addEventListener("dispose",_),this._geometryDisposeListeners.set(c,_)}updateAttributes(r){const c=r.getAttributes();for(const y of c)y.isStorageBufferAttribute||y.isStorageInstancedBufferAttribute?this.updateAttribute(y,js.STORAGE):this.updateAttribute(y,js.VERTEX);const f=this.getIndex(r);f!==null&&this.updateAttribute(f,js.INDEX);const _=r.geometry.indirect;_!==null&&this.updateAttribute(_,js.INDIRECT)}updateAttribute(r,c){const f=this.info.render.calls;r.isInterleavedBufferAttribute?this.attributeCall.get(r)===void 0?(this.attributes.update(r,c),this.attributeCall.set(r,f)):this.attributeCall.get(r.data)!==f&&(this.attributes.update(r,c),this.attributeCall.set(r.data,f),this.attributeCall.set(r,f)):this.attributeCall.get(r)!==f&&(this.attributes.update(r,c),this.attributeCall.set(r,f))}getIndirect(r){return r.geometry.indirect}getIndex(r){const{geometry:c,material:f}=r;let _=c.index;if(f.wireframe===!0){const y=this.wireframes;let T=y.get(c);T===void 0?(T=k5(c),y.set(c,T)):T.version!==Py(c)&&(this.attributes.delete(T),T=k5(c),y.set(c,T)),_=T}return _}dispose(){for(const[r,c]of this._geometryDisposeListeners.entries())r.removeEventListener("dispose",c);this._geometryDisposeListeners.clear()}}class n8e{constructor(){this.autoReset=!0,this.frame=0,this.calls=0,this.render={calls:0,frameCalls:0,drawCalls:0,triangles:0,points:0,lines:0,timestamp:0},this.compute={calls:0,frameCalls:0,timestamp:0},this.memory={geometries:0,textures:0}}update(r,c,f){this.render.drawCalls++,r.isMesh||r.isSprite?this.render.triangles+=f*(c/3):r.isPoints?this.render.points+=f*c:r.isLineSegments?this.render.lines+=f*(c/2):r.isLine?this.render.lines+=f*(c-1):r0("WebGPUInfo: Unknown object type.")}reset(){this.render.drawCalls=0,this.render.frameCalls=0,this.compute.frameCalls=0,this.render.triangles=0,this.render.points=0,this.render.lines=0}dispose(){this.reset(),this.calls=0,this.render.calls=0,this.compute.calls=0,this.render.timestamp=0,this.compute.timestamp=0,this.memory.geometries=0,this.memory.textures=0}}class Ly{constructor(r){this.cacheKey=r,this.usedTimes=0}}class r8e extends Ly{constructor(r,c,f){super(r),this.vertexProgram=c,this.fragmentProgram=f}}class s8e extends Ly{constructor(r,c){super(r),this.computeProgram=c,this.isComputePipeline=!0}}let o8e=0;class M4{constructor(r,c,f,_=null,y=null){this.id=o8e++,this.code=r,this.stage=c,this.name=f,this.transforms=_,this.attributes=y,this.usedTimes=0}}class a8e extends ca{constructor(r,c){super(),this.backend=r,this.nodes=c,this.bindings=null,this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}getForCompute(r,c){const{backend:f}=this,_=this.get(r);if(this._needsComputeUpdate(r)){const y=_.pipeline;y&&(y.usedTimes--,y.computeProgram.usedTimes--);const T=this.nodes.getForCompute(r);let A=this.programs.compute.get(T.computeShader);A===void 0&&(y&&y.computeProgram.usedTimes===0&&this._releaseProgram(y.computeProgram),A=new M4(T.computeShader,"compute",r.name,T.transforms,T.nodeAttributes),this.programs.compute.set(T.computeShader,A),f.createProgram(A));const N=this._getComputeCacheKey(r,A);let k=this.caches.get(N);k===void 0&&(y&&y.usedTimes===0&&this._releasePipeline(y),k=this._getComputePipeline(r,A,N,c)),k.usedTimes++,A.usedTimes++,_.version=r.version,_.pipeline=k}return _.pipeline}getForRender(r,c=null){const{backend:f}=this,_=this.get(r);if(this._needsRenderUpdate(r)){const y=_.pipeline;y&&(y.usedTimes--,y.vertexProgram.usedTimes--,y.fragmentProgram.usedTimes--);const T=r.getNodeBuilderState(),A=r.material?r.material.name:"";let N=this.programs.vertex.get(T.vertexShader);N===void 0&&(y&&y.vertexProgram.usedTimes===0&&this._releaseProgram(y.vertexProgram),N=new M4(T.vertexShader,"vertex",A),this.programs.vertex.set(T.vertexShader,N),f.createProgram(N));let k=this.programs.fragment.get(T.fragmentShader);k===void 0&&(y&&y.fragmentProgram.usedTimes===0&&this._releaseProgram(y.fragmentProgram),k=new M4(T.fragmentShader,"fragment",A),this.programs.fragment.set(T.fragmentShader,k),f.createProgram(k));const V=this._getRenderCacheKey(r,N,k);let j=this.caches.get(V);j===void 0?(y&&y.usedTimes===0&&this._releasePipeline(y),j=this._getRenderPipeline(r,N,k,V,c)):r.pipeline=j,j.usedTimes++,N.usedTimes++,k.usedTimes++,_.pipeline=j}return _.pipeline}delete(r){const c=this.get(r).pipeline;return c&&(c.usedTimes--,c.usedTimes===0&&this._releasePipeline(c),c.isComputePipeline?(c.computeProgram.usedTimes--,c.computeProgram.usedTimes===0&&this._releaseProgram(c.computeProgram)):(c.fragmentProgram.usedTimes--,c.vertexProgram.usedTimes--,c.vertexProgram.usedTimes===0&&this._releaseProgram(c.vertexProgram),c.fragmentProgram.usedTimes===0&&this._releaseProgram(c.fragmentProgram))),super.delete(r)}dispose(){super.dispose(),this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}updateForRender(r){this.getForRender(r)}_getComputePipeline(r,c,f,_){f=f||this._getComputeCacheKey(r,c);let y=this.caches.get(f);return y===void 0&&(y=new s8e(f,c),this.caches.set(f,y),this.backend.createComputePipeline(y,_)),y}_getRenderPipeline(r,c,f,_,y){_=_||this._getRenderCacheKey(r,c,f);let T=this.caches.get(_);return T===void 0&&(T=new r8e(_,c,f),this.caches.set(_,T),r.pipeline=T,this.backend.createRenderPipeline(r,y)),T}_getComputeCacheKey(r,c){return r.id+","+c.id}_getRenderCacheKey(r,c,f){return c.id+","+f.id+","+this.backend.getRenderCacheKey(r)}_releasePipeline(r){this.caches.delete(r.cacheKey)}_releaseProgram(r){const c=r.code,f=r.stage;this.programs[f].delete(c)}_needsComputeUpdate(r){const c=this.get(r);return c.pipeline===void 0||c.version!==r.version}_needsRenderUpdate(r){return this.get(r).pipeline===void 0||this.backend.needsRenderUpdate(r)}}class c8e extends ca{constructor(r,c,f,_,y,T){super(),this.backend=r,this.textures=f,this.pipelines=y,this.attributes=_,this.nodes=c,this.info=T,this.pipelines.bindings=this}getForRender(r){const c=r.getBindings();for(const f of c){const _=this.get(f);_.bindGroup===void 0&&(this._init(f),this.backend.createBindings(f,c,0),_.bindGroup=f)}return c}getForCompute(r){const c=this.nodes.getForCompute(r).bindings;for(const f of c){const _=this.get(f);_.bindGroup===void 0&&(this._init(f),this.backend.createBindings(f,c,0),_.bindGroup=f)}return c}updateForCompute(r){this._updateBindings(this.getForCompute(r))}updateForRender(r){this._updateBindings(this.getForRender(r))}deleteForCompute(r){const c=this.nodes.getForCompute(r).bindings;for(const f of c)this.delete(f)}deleteForRender(r){const c=r.getBindings();for(const f of c)this.delete(f)}_updateBindings(r){for(const c of r)this._update(c,r)}_init(r){for(const c of r.bindings)if(c.isSampledTexture)this.textures.updateTexture(c.texture);else if(c.isSampler)this.textures.updateSampler(c.texture);else if(c.isStorageBuffer){const f=c.attribute,_=f.isIndirectStorageBufferAttribute?js.INDIRECT:js.STORAGE;this.attributes.update(f,_)}}_update(r,c){const{backend:f}=this;let _=!1,y=!0,T=0,A=0;for(const N of r.bindings)if(!(N.isNodeUniformsGroup&&this.nodes.updateGroup(N)===!1)){if(N.isStorageBuffer){const k=N.attribute,V=k.isIndirectStorageBufferAttribute?js.INDIRECT:js.STORAGE;this.attributes.update(k,V)}if(N.isUniformBuffer)N.update()&&f.updateBinding(N);else if(N.isSampledTexture){const k=N.update(),V=N.texture,j=this.textures.get(V);if(k&&(this.textures.updateTexture(V),N.generation!==j.generation&&(N.generation=j.generation,_=!0,y=!1)),f.get(V).externalTexture!==void 0||j.isDefaultTexture?y=!1:(T=T*10+V.id,A+=V.version),V.isStorageTexture===!0&&V.mipmapsAutoUpdate===!0){const Q=this.get(V);N.store===!0?Q.needsMipmap=!0:this.textures.needsMipmaps(V)&&Q.needsMipmap===!0&&(this.backend.generateMipmaps(V),Q.needsMipmap=!1)}}else if(N.isSampler&&N.update()){const V=this.textures.updateSampler(N.texture);N.samplerKey!==V&&(N.samplerKey=V,_=!0,y=!1)}}_===!0&&this.backend.updateBindings(r,c,y?T:0,A)}}function l8e(v,r){return v.groupOrder!==r.groupOrder?v.groupOrder-r.groupOrder:v.renderOrder!==r.renderOrder?v.renderOrder-r.renderOrder:v.z!==r.z?v.z-r.z:v.id-r.id}function F5(v,r){return v.groupOrder!==r.groupOrder?v.groupOrder-r.groupOrder:v.renderOrder!==r.renderOrder?v.renderOrder-r.renderOrder:v.z!==r.z?r.z-v.z:v.id-r.id}function B5(v){return(v.transmission>0||v.transmissionNode&&v.transmissionNode.isNode)&&v.side===Ar&&v.forceSinglePass===!1}class u8e{constructor(r,c,f){this.renderItems=[],this.renderItemsIndex=0,this.opaque=[],this.transparentDoublePass=[],this.transparent=[],this.bundles=[],this.lightsNode=r.getNode(c,f),this.lightsArray=[],this.scene=c,this.camera=f,this.occlusionQueryCount=0}begin(){return this.renderItemsIndex=0,this.opaque.length=0,this.transparentDoublePass.length=0,this.transparent.length=0,this.bundles.length=0,this.lightsArray.length=0,this.occlusionQueryCount=0,this}getNextRenderItem(r,c,f,_,y,T,A){let N=this.renderItems[this.renderItemsIndex];return N===void 0?(N={id:r.id,object:r,geometry:c,material:f,groupOrder:_,renderOrder:r.renderOrder,z:y,group:T,clippingContext:A},this.renderItems[this.renderItemsIndex]=N):(N.id=r.id,N.object=r,N.geometry=c,N.material=f,N.groupOrder=_,N.renderOrder=r.renderOrder,N.z=y,N.group=T,N.clippingContext=A),this.renderItemsIndex++,N}push(r,c,f,_,y,T,A){const N=this.getNextRenderItem(r,c,f,_,y,T,A);r.occlusionTest===!0&&this.occlusionQueryCount++,f.transparent===!0||f.transmission>0||f.transmissionNode&&f.transmissionNode.isNode||f.backdropNode&&f.backdropNode.isNode?(B5(f)&&this.transparentDoublePass.push(N),this.transparent.push(N)):this.opaque.push(N)}unshift(r,c,f,_,y,T,A){const N=this.getNextRenderItem(r,c,f,_,y,T,A);f.transparent===!0||f.transmission>0||f.transmissionNode&&f.transmissionNode.isNode||f.backdropNode&&f.backdropNode.isNode?(B5(f)&&this.transparentDoublePass.unshift(N),this.transparent.unshift(N)):this.opaque.unshift(N)}pushBundle(r){this.bundles.push(r)}pushLight(r){this.lightsArray.push(r)}sort(r,c){this.opaque.length>1&&this.opaque.sort(r||l8e),this.transparentDoublePass.length>1&&this.transparentDoublePass.sort(c||F5),this.transparent.length>1&&this.transparent.sort(c||F5)}finish(){this.lightsNode.setLights(this.lightsArray);for(let r=this.renderItemsIndex,c=this.renderItems.length;r<c;r++){const f=this.renderItems[r];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.groupOrder=null,f.renderOrder=null,f.z=null,f.group=null,f.clippingContext=null}}}const vu=[];class f8e{constructor(r){this.lighting=r,this.lists=new _o}get(r,c){const f=this.lists;vu[0]=r,vu[1]=c;let _=f.get(vu);return _===void 0&&(_=new u8e(this.lighting,r,c),f.set(vu,_)),vu.length=0,_}dispose(){this.lists=new _o}}let _8e=0;class p8e{constructor(){this.id=_8e++,this.color=!0,this.clearColor=!0,this.clearColorValue={r:0,g:0,b:0,a:1},this.depth=!0,this.clearDepth=!0,this.clearDepthValue=1,this.stencil=!1,this.clearStencil=!0,this.clearStencilValue=1,this.viewport=!1,this.viewportValue=new hi,this.scissor=!1,this.scissorValue=new hi,this.renderTarget=null,this.textures=null,this.depthTexture=null,this.activeCubeFace=0,this.activeMipmapLevel=0,this.sampleCount=1,this.width=0,this.height=0,this.occlusionQueryCount=0,this.clippingContext=null,this.isRenderContext=!0}getCacheKey(){return ky(this)}}function ky(v){const{textures:r,activeCubeFace:c,activeMipmapLevel:f}=v,_=[c,f];for(const y of r)_.push(y.id);return Rf(_)}const Su=[],h8e=new vf,d8e=new Vd;class m8e{constructor(){this.chainMaps={}}get(r,c,f=null){Su[0]=r,Su[1]=c;let _;if(f===null)_="default";else{const A=f.texture.format;_=`${f.textures.length}:${A}:${f.samples}:${f.depthBuffer}:${f.stencilBuffer}`}const y=this._getChainMap(_);let T=y.get(Su);return T===void 0&&(T=new p8e,y.set(Su,T)),Su.length=0,f!==null&&(T.sampleCount=f.samples===0?1:f.samples),T}getForClear(r=null){return this.get(h8e,d8e,r)}_getChainMap(r){return this.chainMaps[r]||(this.chainMaps[r]=new _o)}dispose(){this.chainMaps={}}}const g8e=new at;class x8e extends ca{constructor(r,c,f){super(),this.renderer=r,this.backend=c,this.info=f}updateRenderTarget(r,c=0){const f=this.get(r),_=r.samples===0?1:r.samples,y=f.depthTextureMips||(f.depthTextureMips={}),T=r.textures,A=this.getSize(T[0]),N=A.width>>c,k=A.height>>c;let V=r.depthTexture||y[c];const j=r.depthBuffer===!0||r.stencilBuffer===!0;let K=!1;V===void 0&&j&&(V=new qs,V.format=r.stencilBuffer?Ls:Ps,V.type=r.stencilBuffer?Is:Yn,V.image.width=N,V.image.height=k,V.image.depth=A.depth,V.renderTarget=r,V.isArrayTexture=r.multiview===!0&&A.depth>1,y[c]=V),(f.width!==A.width||A.height!==f.height)&&(K=!0,V&&(V.needsUpdate=!0,V.image.width=N,V.image.height=k,V.image.depth=V.isArrayTexture?V.image.depth:1)),f.width=A.width,f.height=A.height,f.textures=T,f.depthTexture=V||null,f.depth=r.depthBuffer,f.stencil=r.stencilBuffer,f.renderTarget=r,f.sampleCount!==_&&(K=!0,V&&(V.needsUpdate=!0),f.sampleCount=_);const Q={sampleCount:_};if(r.isXRRenderTarget!==!0){for(let ie=0;ie<T.length;ie++){const ce=T[ie];K&&(ce.needsUpdate=!0),this.updateTexture(ce,Q)}V&&this.updateTexture(V,Q)}f.initialized!==!0&&(f.initialized=!0,f.onDispose=()=>{this._destroyRenderTarget(r)},r.addEventListener("dispose",f.onDispose))}updateTexture(r,c={}){const f=this.get(r);if(f.initialized===!0&&f.version===r.version)return;const _=r.isRenderTargetTexture||r.isDepthTexture||r.isFramebufferTexture,y=this.backend;if(_&&f.initialized===!0&&y.destroyTexture(r),r.isFramebufferTexture){const k=this.renderer.getRenderTarget();k?r.type=k.texture.type:r.type=T2}const{width:T,height:A,depth:N}=this.getSize(r);if(c.width=T,c.height=A,c.depth=N,c.needsMipmaps=this.needsMipmaps(r),c.levels=c.needsMipmaps?this.getMipLevels(r,T,A):1,r.isCubeTexture&&r.mipmaps.length>0&&c.levels++,_||r.isStorageTexture===!0||r.isExternalTexture===!0)y.createTexture(r,c),f.generation=r.version;else if(r.version>0){const k=r.image;if(k===void 0)jt("Renderer: Texture marked for update but image is undefined.");else if(k.complete===!1)jt("Renderer: Texture marked for update but image is incomplete.");else{if(r.images){const j=[];for(const K of r.images)j.push(K);c.images=j}else c.image=k;(f.isDefaultTexture===void 0||f.isDefaultTexture===!0)&&(y.createTexture(r,c),f.isDefaultTexture=!1,f.generation=r.version),r.source.dataReady===!0&&y.updateTexture(r,c);const V=r.isStorageTexture===!0&&r.mipmapsAutoUpdate===!1;c.needsMipmaps&&r.mipmaps.length===0&&!V&&y.generateMipmaps(r),r.onUpdate&&r.onUpdate(r)}}else y.createDefaultTexture(r),f.isDefaultTexture=!0,f.generation=r.version;f.initialized!==!0&&(f.initialized=!0,f.generation=r.version,this.info.memory.textures++,r.isVideoTexture&&fi.getTransfer(r.colorSpace)!==N0&&jt("WebGPURenderer: Video textures must use a color space with a sRGB transfer function, e.g. SRGBColorSpace."),f.onDispose=()=>{this._destroyTexture(r)},r.addEventListener("dispose",f.onDispose)),f.version=r.version}updateSampler(r){return this.backend.updateSampler(r)}getSize(r,c=g8e){let f=r.images?r.images[0]:r.image;return f?(f.image!==void 0&&(f=f.image),typeof HTMLVideoElement<"u"&&f instanceof HTMLVideoElement?(c.width=f.videoWidth||1,c.height=f.videoHeight||1,c.depth=1):typeof VideoFrame<"u"&&f instanceof VideoFrame?(c.width=f.displayWidth||1,c.height=f.displayHeight||1,c.depth=1):(c.width=f.width||1,c.height=f.height||1,c.depth=r.isCubeTexture?6:f.depth||1)):c.width=c.height=c.depth=1,c}getMipLevels(r,c,f){let _;return r.mipmaps.length>0?_=r.mipmaps.length:r.isCompressedTexture===!0?_=1:_=Math.floor(Math.log2(Math.max(c,f)))+1,_}needsMipmaps(r){return r.generateMipmaps===!0||r.mipmaps.length>0}_destroyRenderTarget(r){if(this.has(r)===!0){const c=this.get(r),f=c.textures,_=c.depthTexture;r.removeEventListener("dispose",c.onDispose);for(let y=0;y<f.length;y++)this._destroyTexture(f[y]);_&&this._destroyTexture(_),this.delete(r),this.backend.delete(r)}}_destroyTexture(r){if(this.has(r)===!0){const c=this.get(r);r.removeEventListener("dispose",c.onDispose);const f=c.isDefaultTexture;this.backend.destroyTexture(r,f),this.delete(r),this.info.memory.textures--}}}class x8 extends ni{constructor(r,c,f,_=1){super(r,c,f),this.a=_}set(r,c,f,_=1){return this.a=_,super.set(r,c,f)}copy(r){return r.a!==void 0&&(this.a=r.a),super.copy(r)}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}}class y8e extends kn{static get type(){return"ParameterNode"}constructor(r,c=null){super(r,c),this.isParameterNode=!0}getMemberType(r,c){const f=this.getNodeType(r),_=r.getStructTypeNode(f);let y;return _!==null?y=_.getMemberType(r,c):(r0(`TSL: Member "${c}" not found in struct "${f}".`),y="float"),y}getHash(){return this.uuid}generate(){return this.name}}class v8e extends Z0{static get type(){return"StackNode"}constructor(r=null){super(),this.nodes=[],this.outputNode=null,this.parent=r,this._currentCond=null,this._expressionNode=null,this.isStackNode=!0}getElementType(r){return this.hasOutput?this.outputNode.getElementType(r):"void"}getNodeType(r){return this.hasOutput?this.outputNode.getNodeType(r):"void"}getMemberType(r,c){return this.hasOutput?this.outputNode.getMemberType(r,c):"void"}addToStack(r){return r.isNode!==!0?(r0("TSL: Invalid node added to stack."),this):(this.nodes.push(r),this)}If(r,c){const f=new Iu(c);return this._currentCond=Er(r,f),this.addToStack(this._currentCond)}ElseIf(r,c){const f=new Iu(c),_=Er(r,f);return this._currentCond.elseNode=_,this._currentCond=_,this}Else(r){return this._currentCond.elseNode=new Iu(r),this}Switch(r){return this._expressionNode=n0(r),this}Case(...r){const c=[];if(r.length>=2)for(let A=0;A<r.length-1;A++)c.push(this._expressionNode.equal(n0(r[A])));else r0("TSL: Invalid parameter length. Case() requires at least two parameters.");const f=r[r.length-1],_=new Iu(f);let y=c[0];for(let A=1;A<c.length;A++)y=y.or(c[A]);const T=Er(y,_);return this._currentCond===null?(this._currentCond=T,this.addToStack(this._currentCond)):(this._currentCond.elseNode=T,this._currentCond=T,this)}Default(r){return this.Else(r),this}setup(r){const c=r.getNodeProperties(this);let f=0;for(const _ of this.getChildren())_.isVarNode&&_.intent===!0&&_.isAssign(r)!==!0||(c["node"+f++]=_);return c.outputNode||null}get hasOutput(){return this.outputNode&&this.outputNode.isNode}build(r,...c){const f=ux();op(this),r.setActiveStack(this);const _=r.buildStage;for(const T of this.nodes)if(!(T.isVarNode&&T.intent===!0&&T.isAssign(r)!==!0)){if(_==="setup")T.build(r);else if(_==="analyze")T.build(r,this);else if(_==="generate"){const A=r.getDataFromNode(T,"any").stages,N=A&&A[r.shaderStage];if(T.isVarNode&&N&&N.length===1&&N[0]&&N[0].isStackNode)continue;T.build(r,"void")}}let y;return this.hasOutput?y=this.outputNode.build(r,...c):y=super.build(r,...c),op(f),r.removeActiveStack(this),y}}const R4=xn(v8e).setParameterLength(0,1);new d1;new at;new at;new at;new Ri;new at(0,0,-1);new hi;new at;new at;new hi;new _i;const S8e=new Qa;el.flipX();S8e.depthTexture=new qs(1,1);const A4=new Mf(-1,1,1,-1,0,1);class C8e extends ns{constructor(r=!1){super();const c=r===!1?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new x2([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new x2(c,2))}}const T8e=new C8e;class y8 extends Q2{constructor(r=null){super(T8e,r),this.camera=A4,this.isQuadMesh=!0}async renderAsync(r){a2('QuadMesh: "renderAsync()" has been deprecated. Use "render()" and "await renderer.init();" when creating the renderer.'),await r.init(),r.render(this,A4)}render(r){r.render(this,A4)}}Xt(([v])=>Wo(Lt(52.9829189).mul(Wo(Pl(v,p0(.06711056,.00583715)))))).setLayout({name:"interleavedGradientNoise",type:"float",inputs:[{name:"position",type:"vec2"}]});class S1 extends Z0{static get type(){return"EventNode"}constructor(r,c){super("void"),this.eventType=r,this.callback=c,r===S1.OBJECT?this.updateType=Fi.OBJECT:r===S1.MATERIAL?this.updateType=Fi.RENDER:r===S1.BEFORE_OBJECT?this.updateBeforeType=Fi.OBJECT:r===S1.BEFORE_MATERIAL&&(this.updateBeforeType=Fi.RENDER)}update(r){this.callback(r)}updateBefore(r){this.callback(r)}}S1.OBJECT="object";S1.MATERIAL="material";S1.BEFORE_OBJECT="beforeObject";S1.BEFORE_MATERIAL="beforeMaterial";const Cu=new ts,E4=new Ri;class xs extends Z0{static get type(){return"SceneNode"}constructor(r=xs.BACKGROUND_BLURRINESS,c=null){super(),this.scope=r,this.scene=c}setup(r){const c=this.scope,f=this.scene!==null?this.scene:r.scene;let _;return c===xs.BACKGROUND_BLURRINESS?_=zn("backgroundBlurriness","float",f):c===xs.BACKGROUND_INTENSITY?_=zn("backgroundIntensity","float",f):c===xs.BACKGROUND_ROTATION?_=vi("mat4").setName("backgroundRotation").setGroup(xi).onRenderUpdate(()=>{const y=f.background;return y!==null&&y.isTexture&&y.mapping!==Md?(Cu.copy(f.backgroundRotation),Cu.x*=-1,Cu.y*=-1,Cu.z*=-1,E4.makeRotationFromEuler(Cu)):E4.identity(),E4}):r0("SceneNode: Unknown scope:",c),_}}xs.BACKGROUND_BLURRINESS="backgroundBlurriness";xs.BACKGROUND_INTENSITY="backgroundIntensity";xs.BACKGROUND_ROTATION="backgroundRotation";const w8e=h0(xs,xs.BACKGROUND_BLURRINESS),U5=h0(xs,xs.BACKGROUND_INTENSITY),M8e=h0(xs,xs.BACKGROUND_ROTATION),R8e=Xt(({texture:v,uv:r})=>{const f=Gt().toVar();return u2(r.x.lessThan(1e-4),()=>{f.assign(Gt(1,0,0))}).ElseIf(r.y.lessThan(1e-4),()=>{f.assign(Gt(0,1,0))}).ElseIf(r.z.lessThan(1e-4),()=>{f.assign(Gt(0,0,1))}).ElseIf(r.x.greaterThan(1-1e-4),()=>{f.assign(Gt(-1,0,0))}).ElseIf(r.y.greaterThan(1-1e-4),()=>{f.assign(Gt(0,-1,0))}).ElseIf(r.z.greaterThan(1-1e-4),()=>{f.assign(Gt(0,0,-1))}).Else(()=>{const y=v.sample(r.add(Gt(-.01,0,0))).r.sub(v.sample(r.add(Gt(.01,0,0))).r),T=v.sample(r.add(Gt(0,-.01,0))).r.sub(v.sample(r.add(Gt(0,.01,0))).r),A=v.sample(r.add(Gt(0,0,-.01))).r.sub(v.sample(r.add(Gt(0,0,.01))).r);f.assign(Gt(y,T,A))}),f.normalize()});class A8e extends $l{static get type(){return"Texture3DNode"}constructor(r,c=null,f=null){super(r,c,f),this.isTexture3DNode=!0}getInputType(){return"texture3D"}getDefaultUV(){return Gt(.5,.5,.5)}setUpdateMatrix(){}setupUV(r,c){const f=this.value;return r.isFlipY()&&(f.isRenderTargetTexture===!0||f.isFramebufferTexture===!0)&&(this.sampler?c=c.flipY():c=c.setY(i2(Wa(this,this.levelNode).y).sub(c.y).sub(1))),c}generateUV(r,c){return c.build(r,this.sampler===!0?"vec3":"ivec3")}generateOffset(r,c){return c.build(r,"ivec3")}normal(r){return R8e({texture:this,uv:r})}}const E8e=xn(A8e).setParameterLength(1,3),k_=new _i;class N8e extends $l{static get type(){return"PassTextureNode"}constructor(r,c){super(c),this.passNode=r,this.setUpdateMatrix(!1)}setup(r){return this.passNode.build(r),super.setup(r)}clone(){return new this.constructor(this.passNode,this.value)}}class O5 extends N8e{static get type(){return"PassMultipleTextureNode"}constructor(r,c,f=!1){super(r,null),this.textureName=c,this.previousTexture=f}updateTexture(){this.value=this.previousTexture?this.passNode.getPreviousTexture(this.textureName):this.passNode.getTexture(this.textureName)}setup(r){return this.updateTexture(),super.setup(r)}clone(){const r=new this.constructor(this.passNode,this.textureName,this.previousTexture);return r.uvNode=this.uvNode,r.levelNode=this.levelNode,r.biasNode=this.biasNode,r.sampler=this.sampler,r.depthNode=this.depthNode,r.compareNode=this.compareNode,r.gradNode=this.gradNode,r.offsetNode=this.offsetNode,r}}class Up extends cr{static get type(){return"PassNode"}constructor(r,c,f,_={}){super("vec4"),this.scope=r,this.scene=c,this.camera=f,this.options=_,this._pixelRatio=1,this._width=1,this._height=1;const y=new qs;y.isRenderTargetTexture=!0,y.name="depth";const T=new Qa(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:K2,..._});T.texture.name="output",T.depthTexture=y,this.renderTarget=T,this._textures={output:T.texture,depth:y},this._textureNodes={},this._linearDepthNodes={},this._viewZNodes={},this._previousTextures={},this._previousTextureNodes={},this._cameraNear=vi(0),this._cameraFar=vi(0),this._mrt=null,this._layers=null,this._resolutionScale=1,this._viewport=null,this._scissor=null,this.isPassNode=!0,this.updateBeforeType=Fi.FRAME,this.global=!0}setResolutionScale(r){return this._resolutionScale=r,this}getResolutionScale(){return this._resolutionScale}setResolution(r){return jt("PassNode: .setResolution() is deprecated. Use .setResolutionScale() instead."),this.setResolutionScale(r)}getResolution(){return jt("PassNode: .getResolution() is deprecated. Use .getResolutionScale() instead."),this.getResolutionScale()}setLayers(r){return this._layers=r,this}getLayers(){return this._layers}setMRT(r){return this._mrt=r,this}getMRT(){return this._mrt}getTexture(r){let c=this._textures[r];return c===void 0&&(c=this.renderTarget.texture.clone(),c.name=r,this._textures[r]=c,this.renderTarget.textures.push(c)),c}getPreviousTexture(r){let c=this._previousTextures[r];return c===void 0&&(c=this.getTexture(r).clone(),this._previousTextures[r]=c),c}toggleTexture(r){const c=this._previousTextures[r];if(c!==void 0){const f=this._textures[r],_=this.renderTarget.textures.indexOf(f);this.renderTarget.textures[_]=c,this._textures[r]=c,this._previousTextures[r]=f,this._textureNodes[r].updateTexture(),this._previousTextureNodes[r].updateTexture()}}getTextureNode(r="output"){let c=this._textureNodes[r];return c===void 0&&(c=n0(new O5(this,r)),c.updateTexture(),this._textureNodes[r]=c),c}getPreviousTextureNode(r="output"){let c=this._previousTextureNodes[r];return c===void 0&&(this._textureNodes[r]===void 0&&this.getTextureNode(r),c=n0(new O5(this,r,!0)),c.updateTexture(),this._previousTextureNodes[r]=c),c}getViewZNode(r="depth"){let c=this._viewZNodes[r];if(c===void 0){const f=this._cameraNear,_=this._cameraFar;this._viewZNodes[r]=c=py(this.getTextureNode(r),f,_)}return c}getLinearDepthNode(r="depth"){let c=this._linearDepthNodes[r];if(c===void 0){const f=this._cameraNear,_=this._cameraFar,y=this.getViewZNode(r);this._linearDepthNodes[r]=c=Wu(y,f,_)}return c}async compileAsync(r){const c=r.getRenderTarget(),f=r.getMRT();r.setRenderTarget(this.renderTarget),r.setMRT(this._mrt),await r.compileAsync(this.scene,this.camera),r.setRenderTarget(c),r.setMRT(f)}setup({renderer:r}){return this.renderTarget.samples=this.options.samples===void 0?r.samples:this.options.samples,this.renderTarget.texture.type=r.getColorBufferType(),this.scope===Up.COLOR?this.getTextureNode():this.getLinearDepthNode()}updateBefore(r){const{renderer:c}=r,{scene:f}=this;let _,y;const T=c.getOutputRenderTarget();T&&T.isXRRenderTarget===!0?(y=1,_=c.xr.getCamera(),c.xr.updateCamera(_),k_.set(T.width,T.height)):(_=this.camera,y=c.getPixelRatio(),c.getSize(k_)),this._pixelRatio=y,this.setSize(k_.width,k_.height);const A=c.getRenderTarget(),N=c.getMRT(),k=c.autoClear,V=_.layers.mask;this._cameraNear.value=_.near,this._cameraFar.value=_.far,this._layers!==null&&(_.layers.mask=this._layers.mask);for(const K in this._previousTextures)this.toggleTexture(K);c.setRenderTarget(this.renderTarget),c.setMRT(this._mrt),c.autoClear=!0;const j=f.name;f.name=this.name?this.name:f.name,c.render(f,_),f.name=j,c.setRenderTarget(A),c.setMRT(N),c.autoClear=k,_.layers.mask=V}setSize(r,c){this._width=r,this._height=c;const f=Math.floor(this._width*this._pixelRatio*this._resolutionScale),_=Math.floor(this._height*this._pixelRatio*this._resolutionScale);this.renderTarget.setSize(f,_),this._scissor!==null&&this.renderTarget.scissor.copy(this._scissor),this._viewport!==null&&this.renderTarget.viewport.copy(this._viewport)}setScissor(r,c,f,_){r===null?this._scissor=null:(this._scissor===null&&(this._scissor=new hi),r.isVector4?this._scissor.copy(r):this._scissor.set(r,c,f,_),this._scissor.multiplyScalar(this._pixelRatio*this._resolutionScale).floor())}setViewport(r,c,f,_){r===null?this._viewport=null:(this._viewport===null&&(this._viewport=new hi),r.isVector4?this._viewport.copy(r):this._viewport.set(r,c,f,_),this._viewport.multiplyScalar(this._pixelRatio*this._resolutionScale).floor())}setPixelRatio(r){this._pixelRatio=r,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}Up.COLOR="color";Up.DEPTH="depth";const b8e=Xt(([v,r])=>v.mul(r).clamp()).setLayout({name:"linearToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),D8e=Xt(([v,r])=>(v=v.mul(r),v.div(v.add(1)).clamp())).setLayout({name:"reinhardToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),I8e=Xt(([v,r])=>{v=v.mul(r),v=v.sub(.004).max(0);const c=v.mul(v.mul(6.2).add(.5)),f=v.mul(v.mul(6.2).add(1.7)).add(.06);return c.div(f).pow(2.2)}).setLayout({name:"cineonToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),P8e=Xt(([v])=>{const r=v.mul(v.add(.0245786)).sub(90537e-9),c=v.mul(v.add(.432951).mul(.983729)).add(.238081);return r.div(c)}),L8e=Xt(([v,r])=>{const c=is(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),f=is(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return v=v.mul(r).div(.6),v=c.mul(v),v=P8e(v),v=f.mul(v),v.clamp()}).setLayout({name:"acesFilmicToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),k8e=is(Gt(1.6605,-.1246,-.0182),Gt(-.5876,1.1329,-.1006),Gt(-.0728,-.0083,1.1187)),F8e=is(Gt(.6274,.0691,.0164),Gt(.3293,.9195,.088),Gt(.0433,.0113,.8956)),B8e=Xt(([v])=>{const r=Gt(v).toVar(),c=Gt(r.mul(r)).toVar(),f=Gt(c.mul(c)).toVar();return Lt(15.5).mul(f.mul(c)).sub(Oi(40.14,f.mul(r))).add(Oi(31.96,f).sub(Oi(6.868,c.mul(r))).add(Oi(.4298,c).add(Oi(.1191,r).sub(.00232))))}),U8e=Xt(([v,r])=>{const c=Gt(v).toVar(),f=is(Gt(.856627153315983,.137318972929847,.11189821299995),Gt(.0951212405381588,.761241990602591,.0767994186031903),Gt(.0482516061458583,.101439036467562,.811302368396859)),_=is(Gt(1.1271005818144368,-.1413297634984383,-.14132976349843826),Gt(-.11060664309660323,1.157823702216272,-.11060664309660294),Gt(-.016493938717834573,-.016493938717834257,1.2519364065950405)),y=Lt(-12.47393),T=Lt(4.026069);return c.mulAssign(r),c.assign(F8e.mul(c)),c.assign(f.mul(c)),c.assign(ar(c,1e-10)),c.assign(T1(c)),c.assign(c.sub(y).div(T.sub(y))),c.assign(A1(c,0,1)),c.assign(B8e(c)),c.assign(_.mul(c)),c.assign(Np(ar(Gt(0),c),Gt(2.2))),c.assign(k8e.mul(c)),c.assign(A1(c,0,1)),c}).setLayout({name:"agxToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),O8e=Xt(([v,r])=>{const c=Lt(.76),f=Lt(.15);v=v.mul(r);const _=Il(v.r,Il(v.g,v.b)),y=Er(_.lessThan(.08),_.sub(Oi(6.25,_.mul(_))),.04);v.subAssign(y);const T=ar(v.r,ar(v.g,v.b));u2(T.lessThan(c),()=>v);const A=Zr(1,c),N=Zr(1,A.mul(A).div(T.add(A.sub(c))));v.mulAssign(N.div(T));const k=Zr(1,zo(1,f.mul(T.sub(N)).add(1)));return c2(v,Gt(N),k)}).setLayout({name:"neutralToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]});class Rr extends Z0{static get type(){return"CodeNode"}constructor(r="",c=[],f=""){super("code"),this.isCodeNode=!0,this.global=!0,this.code=r,this.includes=c,this.language=f}setIncludes(r){return this.includes=r,this}getIncludes(){return this.includes}generate(r){const c=this.getIncludes(r);for(const _ of c)_.build(r);const f=r.getCodeFromNode(this,this.getNodeType(r));return f.code=this.code,f.code}serialize(r){super.serialize(r),r.code=this.code,r.language=this.language}deserialize(r){super.deserialize(r),this.code=r.code,this.language=r.language}}class G8e extends Rr{static get type(){return"FunctionNode"}constructor(r="",c=[],f=""){super(r,c,f)}getNodeType(r){return this.getNodeFunction(r).type}getMemberType(r,c){const f=this.getNodeType(r);return r.getStructTypeNode(f).getMemberType(r,c)}getInputs(r){return this.getNodeFunction(r).inputs}getNodeFunction(r){const c=r.getDataFromNode(this);let f=c.nodeFunction;return f===void 0&&(f=r.parser.parseFunction(this.code),c.nodeFunction=f),f}generate(r,c){super.generate(r);const f=this.getNodeFunction(r),_=f.name,y=f.type,T=r.getCodeFromNode(this,y);_!==""&&(T.name=_);const A=r.getPropertyName(T),N=this.getNodeFunction(r).getCode(A);return T.code=N+`
`,c==="property"?A:r.format(`${A}()`,y,c)}}function Fy(v){let r;const c=v.context.getViewZ;return c!==void 0&&(r=c(this)),(r||B2.z).negate()}const V8e=Xt(([v,r],c)=>{const f=Fy(c);return E1(v,r,f)}),z8e=Xt(([v],r)=>{const c=Fy(r);return v.mul(v,c,c).negate().exp().oneMinus()}),G5=Xt(([v,r])=>Li(r.toFloat().mix(Gu.rgb,v.toVec3()),Gu.a));class W8e extends Z0{constructor(r){super(),this.scope=r}generate(r){const{scope:c}=this,{renderer:f}=r;f.backend.isWebGLBackend===!0?r.addFlowCode(`	// ${c}Barrier 
`):r.addLineFlowCode(`${c}Barrier()`,this)}}xn(W8e);class qo extends Z0{static get type(){return"AtomicFunctionNode"}constructor(r,c,f){super("uint"),this.method=r,this.pointerNode=c,this.valueNode=f,this.parents=!0}getInputType(r){return this.pointerNode.getNodeType(r)}getNodeType(r){return this.getInputType(r)}generate(r){const c=r.getNodeProperties(this),f=c.parents,_=this.method,y=this.getNodeType(r),T=this.getInputType(r),A=this.pointerNode,N=this.valueNode,k=[];k.push(`&${A.build(r,T)}`),N!==null&&k.push(N.build(r,T));const V=`${r.getMethod(_,y)}( ${k.join(", ")} )`;if(f?f.length===1&&f[0].isStackNode===!0:!1)r.addLineFlowCode(V,this);else return c.constNode===void 0&&(c.constNode=Ll(V,y).toConst()),c.constNode.build(r)}}qo.ATOMIC_LOAD="atomicLoad";qo.ATOMIC_STORE="atomicStore";qo.ATOMIC_ADD="atomicAdd";qo.ATOMIC_SUB="atomicSub";qo.ATOMIC_MAX="atomicMax";qo.ATOMIC_MIN="atomicMin";qo.ATOMIC_AND="atomicAnd";qo.ATOMIC_OR="atomicOr";qo.ATOMIC_XOR="atomicXor";xn(qo);class dn extends cr{static get type(){return"SubgroupFunctionNode"}constructor(r,c=null,f=null){super(),this.method=r,this.aNode=c,this.bNode=f}getInputType(r){const c=this.aNode?this.aNode.getNodeType(r):null,f=this.bNode?this.bNode.getNodeType(r):null,_=r.isMatrix(c)?0:r.getTypeLength(c),y=r.isMatrix(f)?0:r.getTypeLength(f);return _>y?c:f}getNodeType(r){const c=this.method;return c===dn.SUBGROUP_ELECT?"bool":c===dn.SUBGROUP_BALLOT?"uvec4":this.getInputType(r)}generate(r,c){const f=this.method,_=this.getNodeType(r),y=this.getInputType(r),T=this.aNode,A=this.bNode,N=[];if(f===dn.SUBGROUP_BROADCAST||f===dn.SUBGROUP_SHUFFLE||f===dn.QUAD_BROADCAST){const V=A.getNodeType(r);N.push(T.build(r,_),A.build(r,V==="float"?"int":_))}else f===dn.SUBGROUP_SHUFFLE_XOR||f===dn.SUBGROUP_SHUFFLE_DOWN||f===dn.SUBGROUP_SHUFFLE_UP?N.push(T.build(r,_),A.build(r,"uint")):(T!==null&&N.push(T.build(r,y)),A!==null&&N.push(A.build(r,y)));const k=N.length===0?"()":`( ${N.join(", ")} )`;return r.format(`${r.getMethod(f,_)}${k}`,_,c)}serialize(r){super.serialize(r),r.method=this.method}deserialize(r){super.deserialize(r),this.method=r.method}}dn.SUBGROUP_ELECT="subgroupElect";dn.SUBGROUP_BALLOT="subgroupBallot";dn.SUBGROUP_ADD="subgroupAdd";dn.SUBGROUP_INCLUSIVE_ADD="subgroupInclusiveAdd";dn.SUBGROUP_EXCLUSIVE_AND="subgroupExclusiveAdd";dn.SUBGROUP_MUL="subgroupMul";dn.SUBGROUP_INCLUSIVE_MUL="subgroupInclusiveMul";dn.SUBGROUP_EXCLUSIVE_MUL="subgroupExclusiveMul";dn.SUBGROUP_AND="subgroupAnd";dn.SUBGROUP_OR="subgroupOr";dn.SUBGROUP_XOR="subgroupXor";dn.SUBGROUP_MIN="subgroupMin";dn.SUBGROUP_MAX="subgroupMax";dn.SUBGROUP_ALL="subgroupAll";dn.SUBGROUP_ANY="subgroupAny";dn.SUBGROUP_BROADCAST_FIRST="subgroupBroadcastFirst";dn.QUAD_SWAP_X="quadSwapX";dn.QUAD_SWAP_Y="quadSwapY";dn.QUAD_SWAP_DIAGONAL="quadSwapDiagonal";dn.SUBGROUP_BROADCAST="subgroupBroadcast";dn.SUBGROUP_SHUFFLE="subgroupShuffle";dn.SUBGROUP_SHUFFLE_XOR="subgroupShuffleXor";dn.SUBGROUP_SHUFFLE_UP="subgroupShuffleUp";dn.SUBGROUP_SHUFFLE_DOWN="subgroupShuffleDown";dn.QUAD_BROADCAST="quadBroadcast";let F_;function Op(v){F_=F_||new WeakMap;let r=F_.get(v);return r===void 0&&F_.set(v,r={}),r}function v8(v){const r=Op(v);return r.shadowMatrix||(r.shadowMatrix=vi("mat4").setGroup(xi).onRenderUpdate(c=>((v.castShadow!==!0||c.renderer.shadowMap.enabled===!1)&&(v.shadow.camera.coordinateSystem!==c.camera.coordinateSystem&&(v.shadow.camera.coordinateSystem=c.camera.coordinateSystem,v.shadow.camera.updateProjectionMatrix()),v.shadow.updateMatrices(v)),v.shadow.matrix)))}function H8e(v,r=kl){const c=v8(v).mul(r);return c.xyz.div(c.w)}function By(v){const r=Op(v);return r.position||(r.position=vi(new at).setGroup(xi).onRenderUpdate((c,f)=>f.value.setFromMatrixPosition(v.matrixWorld)))}function j8e(v){const r=Op(v);return r.targetPosition||(r.targetPosition=vi(new at).setGroup(xi).onRenderUpdate((c,f)=>f.value.setFromMatrixPosition(v.target.matrixWorld)))}function Uy(v){const r=Op(v);return r.viewPosition||(r.viewPosition=vi(new at).setGroup(xi).onRenderUpdate(({camera:c},f)=>{f.value=f.value||new at,f.value.setFromMatrixPosition(v.matrixWorld),f.value.applyMatrix4(c.matrixWorldInverse)}))}const Oy=v=>D1.transformDirection(By(v).sub(j8e(v))),q8e=v=>v.sort((r,c)=>r.id-c.id),X8e=(v,r)=>{for(const c of r)if(c.isAnalyticLightNode&&c.light.id===v)return c;return null},N4=new WeakMap,Tu=[];class Gy extends Z0{static get type(){return"LightsNode"}constructor(){super("vec3"),this.totalDiffuseNode=ia("vec3","totalDiffuse"),this.totalSpecularNode=ia("vec3","totalSpecular"),this.outgoingLightNode=ia("vec3","outgoingLight"),this._lights=[],this._lightNodes=null,this._lightNodesHash=null,this.global=!0}customCacheKey(){const r=this._lights;for(let f=0;f<r.length;f++){const _=r[f];if(Tu.push(_.id),Tu.push(_.castShadow?1:0),_.isSpotLight===!0){const y=_.map!==null?_.map.id:-1,T=_.colorNode?_.colorNode.getCacheKey():-1;Tu.push(y,T)}}const c=Rf(Tu);return Tu.length=0,c}getHash(r){if(this._lightNodesHash===null){this._lightNodes===null&&this.setupLightsNode(r);const c=[];for(const f of this._lightNodes)c.push(f.getHash());this._lightNodesHash="lights-"+c.join(",")}return this._lightNodesHash}analyze(r){const c=r.getNodeProperties(this);for(const f of c.nodes)f.build(r);c.outputNode.build(r)}setupLightsNode(r){const c=[],f=this._lightNodes,_=q8e(this._lights),y=r.renderer.library;for(const T of _)if(T.isNode)c.push(n0(T));else{let A=null;if(f!==null&&(A=X8e(T.id,f)),A===null){const N=y.getLightNodeClass(T.constructor);if(N===null){jt(`LightsNode.setupNodeLights: Light node not found for ${T.constructor.name}`);continue}let k=null;N4.has(T)?k=N4.get(T):(k=n0(new N(T)),N4.set(T,k)),c.push(k)}}this._lightNodes=c}setupDirectLight(r,c,f){const{lightingModel:_,reflectedLight:y}=r.context;_.direct({...f,lightNode:c,reflectedLight:y},r)}setupDirectRectAreaLight(r,c,f){const{lightingModel:_,reflectedLight:y}=r.context;_.directRectArea({...f,lightNode:c,reflectedLight:y},r)}setupLights(r,c){for(const f of c)f.build(r)}getLightNodes(r){return this._lightNodes===null&&this.setupLightsNode(r),this._lightNodes}setup(r){const c=r.lightsNode;r.lightsNode=this;let f=this.outgoingLightNode;const _=r.context,y=_.lightingModel,T=r.getNodeProperties(this);if(y){const{totalDiffuseNode:A,totalSpecularNode:N}=this;_.outgoingLight=f;const k=r.addStack();T.nodes=k.nodes,y.start(r);const{backdrop:V,backdropAlpha:j}=_,{directDiffuse:K,directSpecular:Q,indirectDiffuse:ie,indirectSpecular:ce}=_.reflectedLight;let ue=K.add(ie);V!==null&&(j!==null?ue=Gt(j.mix(ue,V)):ue=Gt(V)),A.assign(ue),N.assign(Q.add(ce)),f.assign(A.add(N)),y.finish(r),f=f.bypass(r.removeStack())}else T.nodes=[];return r.lightsNode=c,f}setLights(r){return this._lights=r,this._lightNodes=null,this._lightNodesHash=null,this}getLights(){return this._lights}get hasLights(){return this._lights.length>0}}class $8e extends Z0{static get type(){return"ShadowBaseNode"}constructor(r){super(),this.light=r,this.updateBeforeType=Fi.RENDER,this.isShadowBaseNode=!0}setupShadowPosition({context:r,material:c}){Vy.assign(c.receivedShadowPositionNode||r.shadowPositionWorld||kl)}}const Vy=ia("vec3","shadowPositionWorld");function Y8e(v,r={}){return r.toneMapping=v.toneMapping,r.toneMappingExposure=v.toneMappingExposure,r.outputColorSpace=v.outputColorSpace,r.renderTarget=v.getRenderTarget(),r.activeCubeFace=v.getActiveCubeFace(),r.activeMipmapLevel=v.getActiveMipmapLevel(),r.renderObjectFunction=v.getRenderObjectFunction(),r.pixelRatio=v.getPixelRatio(),r.mrt=v.getMRT(),r.clearColor=v.getClearColor(r.clearColor||new ni),r.clearAlpha=v.getClearAlpha(),r.autoClear=v.autoClear,r.scissorTest=v.getScissorTest(),r}function K8e(v,r){return r=Y8e(v,r),v.setMRT(null),v.setRenderObjectFunction(null),v.setClearColor(0,1),v.autoClear=!0,r}function Z8e(v,r){v.toneMapping=r.toneMapping,v.toneMappingExposure=r.toneMappingExposure,v.outputColorSpace=r.outputColorSpace,v.setRenderTarget(r.renderTarget,r.activeCubeFace,r.activeMipmapLevel),v.setRenderObjectFunction(r.renderObjectFunction),v.setPixelRatio(r.pixelRatio),v.setMRT(r.mrt),v.setClearColor(r.clearColor,r.clearAlpha),v.autoClear=r.autoClear,v.setScissorTest(r.scissorTest)}function Q8e(v,r={}){return r.background=v.background,r.backgroundNode=v.backgroundNode,r.overrideMaterial=v.overrideMaterial,r}function J8e(v,r){return r=Q8e(v,r),v.background=null,v.backgroundNode=null,v.overrideMaterial=null,r}function e6e(v,r){v.background=r.background,v.backgroundNode=r.backgroundNode,v.overrideMaterial=r.overrideMaterial}function t6e(v,r,c){return c=K8e(v,c),c=J8e(r,c),c}function i6e(v,r,c){Z8e(v,c),e6e(r,c)}const V5=new WeakMap,n6e=Xt(({depthTexture:v,shadowCoord:r,depthLayer:c})=>{let f=rn(v,r.xy).setName("t_basic");return v.isArrayTexture&&(f=f.depth(c)),f.compare(r.z)}),r6e=Xt(({depthTexture:v,shadowCoord:r,shadow:c,depthLayer:f})=>{const _=(ue,re)=>{let be=rn(v,ue);return v.isArrayTexture&&(be=be.depth(f)),be.compare(re)},y=zn("mapSize","vec2",c).setGroup(xi),T=zn("radius","float",c).setGroup(xi),A=p0(1).div(y),N=A.x.negate().mul(T),k=A.y.negate().mul(T),V=A.x.mul(T),j=A.y.mul(T),K=N.div(2),Q=k.div(2),ie=V.div(2),ce=j.div(2);return Ss(_(r.xy.add(p0(N,k)),r.z),_(r.xy.add(p0(0,k)),r.z),_(r.xy.add(p0(V,k)),r.z),_(r.xy.add(p0(K,Q)),r.z),_(r.xy.add(p0(0,Q)),r.z),_(r.xy.add(p0(ie,Q)),r.z),_(r.xy.add(p0(N,0)),r.z),_(r.xy.add(p0(K,0)),r.z),_(r.xy,r.z),_(r.xy.add(p0(ie,0)),r.z),_(r.xy.add(p0(V,0)),r.z),_(r.xy.add(p0(K,ce)),r.z),_(r.xy.add(p0(0,ce)),r.z),_(r.xy.add(p0(ie,ce)),r.z),_(r.xy.add(p0(N,j)),r.z),_(r.xy.add(p0(0,j)),r.z),_(r.xy.add(p0(V,j)),r.z)).mul(1/17)}),s6e=Xt(({depthTexture:v,shadowCoord:r,shadow:c,depthLayer:f})=>{const _=(j,K)=>{let Q=rn(v,j);return v.isArrayTexture&&(Q=Q.depth(f)),Q.compare(K)},y=zn("mapSize","vec2",c).setGroup(xi),T=p0(1).div(y),A=T.x,N=T.y,k=r.xy,V=Wo(k.mul(y).add(.5));return k.subAssign(V.mul(T)),Ss(_(k,r.z),_(k.add(p0(A,0)),r.z),_(k.add(p0(0,N)),r.z),_(k.add(T),r.z),c2(_(k.add(p0(A.negate(),0)),r.z),_(k.add(p0(A.mul(2),0)),r.z),V.x),c2(_(k.add(p0(A.negate(),N)),r.z),_(k.add(p0(A.mul(2),N)),r.z),V.x),c2(_(k.add(p0(0,N.negate())),r.z),_(k.add(p0(0,N.mul(2))),r.z),V.y),c2(_(k.add(p0(A,N.negate())),r.z),_(k.add(p0(A,N.mul(2))),r.z),V.y),c2(c2(_(k.add(p0(A.negate(),N.negate())),r.z),_(k.add(p0(A.mul(2),N.negate())),r.z),V.x),c2(_(k.add(p0(A.negate(),N.mul(2))),r.z),_(k.add(p0(A.mul(2),N.mul(2))),r.z),V.x),V.y)).mul(1/9)}),o6e=Xt(({depthTexture:v,shadowCoord:r,depthLayer:c})=>{const f=Lt(1).toVar();let _=rn(v).sample(r.xy);v.isArrayTexture&&(_=_.depth(c)),_=_.rg;const y=Nx(r.z,_.x);return u2(y.notEqual(Lt(1)),()=>{const T=r.z.sub(_.x),A=ar(0,_.y.mul(_.y));let N=A.div(A.add(T.mul(T)));N=A1(Zr(N,.3).div(.95-.3)),f.assign(A1(ar(y,N)))}),f}),a6e=Xt(([v,r,c])=>{let f=kl.sub(v).length();return f=f.sub(r).div(c.sub(r)),f=f.saturate(),f}),c6e=v=>{const r=v.shadow.camera,c=zn("near","float",r).setGroup(xi),f=zn("far","float",r).setGroup(xi),_=Npe(v);return a6e(_,c,f)},l6e=v=>{let r=V5.get(v);if(r===void 0){const c=v.isPointLight?c6e(v):null;r=new O2,r.colorNode=Li(0,0,0,1),r.depthNode=c,r.isShadowPassMaterial=!0,r.name="ShadowMaterial",r.fog=!1,V5.set(v,r)}return r},z5=new _o,Bc=[],u6e=(v,r,c,f)=>{Bc[0]=v,Bc[1]=r;let _=z5.get(Bc);return(_===void 0||_.shadowType!==c||_.useVelocity!==f)&&(_=(y,T,A,N,k,V,...j)=>{(y.castShadow===!0||y.receiveShadow&&c===Ns)&&(f&&(ox(y).useVelocity=!0),y.onBeforeShadow(v,y,A,r.camera,N,T.overrideMaterial,V),v.renderObject(y,T,A,N,k,V,...j),y.onAfterShadow(v,y,A,r.camera,N,T.overrideMaterial,V))},_.shadowType=c,_.useVelocity=f,z5.set(Bc,_)),Bc[0]=null,Bc[1]=null,_},f6e=Xt(({samples:v,radius:r,size:c,shadowPass:f,depthLayer:_})=>{const y=Lt(0).toVar("meanVertical"),T=Lt(0).toVar("squareMeanVertical"),A=v.lessThanEqual(Lt(1)).select(Lt(0),Lt(2).div(v.sub(1))),N=v.lessThanEqual(Lt(1)).select(Lt(0),Lt(-1));Hs({start:i2(0),end:i2(v),type:"int",condition:"<"},({i:V})=>{const j=N.add(Lt(V).mul(A));let K=f.sample(Ss(Dp.xy,p0(0,j).mul(r)).div(c));f.value.isArrayTexture&&(K=K.depth(_)),K=K.x,y.addAssign(K),T.addAssign(K.mul(K))}),y.divAssign(v),T.divAssign(v);const k=Oa(T.sub(y.mul(y)));return p0(y,k)}),_6e=Xt(({samples:v,radius:r,size:c,shadowPass:f,depthLayer:_})=>{const y=Lt(0).toVar("meanHorizontal"),T=Lt(0).toVar("squareMeanHorizontal"),A=v.lessThanEqual(Lt(1)).select(Lt(0),Lt(2).div(v.sub(1))),N=v.lessThanEqual(Lt(1)).select(Lt(0),Lt(-1));Hs({start:i2(0),end:i2(v),type:"int",condition:"<"},({i:V})=>{const j=N.add(Lt(V).mul(A));let K=f.sample(Ss(Dp.xy,p0(j,0).mul(r)).div(c));f.value.isArrayTexture&&(K=K.depth(_)),y.addAssign(K.x),T.addAssign(Ss(K.y.mul(K.y),K.x.mul(K.x)))}),y.divAssign(v),T.divAssign(v);const k=Oa(T.sub(y.mul(y)));return p0(y,k)}),p6e=[n6e,r6e,s6e,o6e];let b4;const B_=new y8;class zy extends $8e{static get type(){return"ShadowNode"}constructor(r,c=null){super(r),this.shadow=c||r.shadow,this.shadowMap=null,this.vsmShadowMapVertical=null,this.vsmShadowMapHorizontal=null,this.vsmMaterialVertical=null,this.vsmMaterialHorizontal=null,this._node=null,this._currentShadowType=null,this._cameraFrameId=new WeakMap,this.isShadowNode=!0,this.depthLayer=0}setupShadowFilter(r,{filterFn:c,depthTexture:f,shadowCoord:_,shadow:y,depthLayer:T}){const A=_.x.greaterThanEqual(0).and(_.x.lessThanEqual(1)).and(_.y.greaterThanEqual(0)).and(_.y.lessThanEqual(1)).and(_.z.lessThanEqual(1)),N=c({depthTexture:f,shadowCoord:_,shadow:y,depthLayer:T});return A.select(N,Lt(1))}setupShadowCoord(r,c){const{shadow:f}=this,{renderer:_}=r,y=zn("bias","float",f).setGroup(xi);let T=c,A;if(f.camera.isOrthographicCamera||_.logarithmicDepthBuffer!==!0)T=T.xyz.div(T.w),A=T.z,_.coordinateSystem===ra&&(A=A.mul(2).sub(1));else{const N=T.w;T=T.xy.div(N);const k=zn("near","float",f.camera).setGroup(xi),V=zn("far","float",f.camera).setGroup(xi);A=hy(N.negate(),k,V)}return T=Gt(T.x,T.y.oneMinus(),A.add(y)),T}getShadowFilterFn(r){return p6e[r]}setupRenderTarget(r,c){const f=new qs(r.mapSize.width,r.mapSize.height);f.name="ShadowDepthTexture",f.compareFunction=yp;const _=c.createRenderTarget(r.mapSize.width,r.mapSize.height);return _.texture.name="ShadowMap",_.texture.type=r.mapType,_.depthTexture=f,{shadowMap:_,depthTexture:f}}setupShadow(r){const{renderer:c,camera:f}=r,{light:_,shadow:y}=this,T=c.shadowMap.type,{depthTexture:A,shadowMap:N}=this.setupRenderTarget(y,r);if(y.camera.coordinateSystem=f.coordinateSystem,y.camera.updateProjectionMatrix(),T===Ns&&y.isPointLightShadow!==!0){A.compareFunction=null,N.depth>1?(N._vsmShadowMapVertical||(N._vsmShadowMapVertical=r.createRenderTarget(y.mapSize.width,y.mapSize.height,{format:uo,type:K2,depth:N.depth,depthBuffer:!1}),N._vsmShadowMapVertical.texture.name="VSMVertical"),this.vsmShadowMapVertical=N._vsmShadowMapVertical,N._vsmShadowMapHorizontal||(N._vsmShadowMapHorizontal=r.createRenderTarget(y.mapSize.width,y.mapSize.height,{format:uo,type:K2,depth:N.depth,depthBuffer:!1}),N._vsmShadowMapHorizontal.texture.name="VSMHorizontal"),this.vsmShadowMapHorizontal=N._vsmShadowMapHorizontal):(this.vsmShadowMapVertical=r.createRenderTarget(y.mapSize.width,y.mapSize.height,{format:uo,type:K2,depthBuffer:!1}),this.vsmShadowMapHorizontal=r.createRenderTarget(y.mapSize.width,y.mapSize.height,{format:uo,type:K2,depthBuffer:!1}));let De=rn(A);A.isArrayTexture&&(De=De.depth(this.depthLayer));let Oe=rn(this.vsmShadowMapVertical.texture);A.isArrayTexture&&(Oe=Oe.depth(this.depthLayer));const je=zn("blurSamples","float",y).setGroup(xi),Be=zn("radius","float",y).setGroup(xi),We=zn("mapSize","vec2",y).setGroup(xi);let $e=this.vsmMaterialVertical||(this.vsmMaterialVertical=new O2);$e.fragmentNode=f6e({samples:je,radius:Be,size:We,shadowPass:De,depthLayer:this.depthLayer}).context(r.getSharedContext()),$e.name="VSMVertical",$e=this.vsmMaterialHorizontal||(this.vsmMaterialHorizontal=new O2),$e.fragmentNode=_6e({samples:je,radius:Be,size:We,shadowPass:Oe,depthLayer:this.depthLayer}).context(r.getSharedContext()),$e.name="VSMHorizontal"}const k=zn("intensity","float",y).setGroup(xi),V=zn("normalBias","float",y).setGroup(xi),j=v8(_).mul(Vy.add(Yl.mul(V))),K=this.setupShadowCoord(r,j),Q=y.filterNode||this.getShadowFilterFn(c.shadowMap.type)||null;if(Q===null)throw new Error("THREE.WebGPURenderer: Shadow map type not supported yet.");const ie=T===Ns&&y.isPointLightShadow!==!0?this.vsmShadowMapHorizontal.texture:A,ce=this.setupShadowFilter(r,{filterFn:Q,shadowTexture:N.texture,depthTexture:ie,shadowCoord:K,shadow:y,depthLayer:this.depthLayer});let ue=rn(N.texture,K);A.isArrayTexture&&(ue=ue.depth(this.depthLayer));const re=c2(1,ce.rgb.mix(ue,1),k.mul(ue.a)).toVar();this.shadowMap=N,this.shadow.map=N;const be=`${this.light.type} Shadow [ ${this.light.name||"ID: "+this.light.id} ]`;return re.toInspector(`${be} / Color`,()=>rn(this.shadowMap.texture)).toInspector(`${be} / Depth`,()=>zs(this.shadowMap.depthTexture,Xl().mul(Wa(rn(this.shadowMap.depthTexture)))).x.oneMinus())}setup(r){if(r.renderer.shadowMap.enabled!==!1)return Xt(()=>{const c=r.renderer.shadowMap.type;this._currentShadowType!==c&&(this._reset(),this._node=null);let f=this._node;return this.setupShadowPosition(r),f===null&&(this._node=f=this.setupShadow(r),this._currentShadowType=c),r.material.shadowNode&&jt('NodeMaterial: ".shadowNode" is deprecated. Use ".castShadowNode" instead.'),r.material.receivedShadowNode&&(f=r.material.receivedShadowNode(f)),f})()}renderShadow(r){const{shadow:c,shadowMap:f,light:_}=this,{renderer:y,scene:T}=r;c.updateMatrices(_),f.setSize(c.mapSize.width,c.mapSize.height,f.depth);const A=T.name;T.name=`Shadow Map [ ${_.name||"ID: "+_.id} ]`,y.render(T,c.camera),T.name=A}updateShadow(r){const{shadowMap:c,light:f,shadow:_}=this,{renderer:y,scene:T,camera:A}=r,N=y.shadowMap.type,k=c.depthTexture.version;this._depthVersionCached=k;const V=_.camera.layers.mask;(_.camera.layers.mask&4294967294)===0&&(_.camera.layers.mask=A.layers.mask);const j=y.getRenderObjectFunction(),K=y.getMRT(),Q=K?K.has("velocity"):!1;b4=t6e(y,T,b4),T.overrideMaterial=l6e(f),y.setRenderObjectFunction(u6e(y,_,N,Q)),y.setClearColor(0,0),y.setRenderTarget(c),this.renderShadow(r),y.setRenderObjectFunction(j),N===Ns&&_.isPointLightShadow!==!0&&this.vsmPass(y),_.camera.layers.mask=V,i6e(y,T,b4)}vsmPass(r){const{shadow:c}=this,f=this.shadowMap.depth;this.vsmShadowMapVertical.setSize(c.mapSize.width,c.mapSize.height,f),this.vsmShadowMapHorizontal.setSize(c.mapSize.width,c.mapSize.height,f),r.setRenderTarget(this.vsmShadowMapVertical),B_.material=this.vsmMaterialVertical,B_.render(r),r.setRenderTarget(this.vsmShadowMapHorizontal),B_.material=this.vsmMaterialHorizontal,B_.render(r)}dispose(){this._reset(),super.dispose()}_reset(){this._currentShadowType=null,this.shadowMap&&(this.shadowMap.dispose(),this.shadowMap=null),this.vsmShadowMapVertical!==null&&(this.vsmShadowMapVertical.dispose(),this.vsmShadowMapVertical=null,this.vsmMaterialVertical.dispose(),this.vsmMaterialVertical=null),this.vsmShadowMapHorizontal!==null&&(this.vsmShadowMapHorizontal.dispose(),this.vsmShadowMapHorizontal=null,this.vsmMaterialHorizontal.dispose(),this.vsmMaterialHorizontal=null)}updateBefore(r){const{shadow:c}=this;let f=c.needsUpdate||c.autoUpdate;f&&(this._cameraFrameId[r.camera]===r.frameId&&(f=!1),this._cameraFrameId[r.camera]=r.frameId),f&&(this.updateShadow(r),this.shadowMap.depthTexture.version===this._depthVersionCached&&(c.needsUpdate=!1))}}const h6e=(v,r)=>n0(new zy(v,r)),d6e=new ni,Lo=Xt(([v,r])=>{const c=v.toVar(),f=bs(c),_=zo(1,ar(f.x,ar(f.y,f.z)));f.mulAssign(_),c.mulAssign(_.mul(r.mul(2).oneMinus()));const y=p0(c.xy).toVar(),A=r.mul(1.5).oneMinus();return u2(f.z.greaterThanEqual(A),()=>{u2(c.z.greaterThan(0),()=>{y.x.assign(Zr(4,c.x))})}).ElseIf(f.x.greaterThanEqual(A),()=>{const N=fp(c.x);y.x.assign(c.z.mul(N).add(N.mul(2)))}).ElseIf(f.y.greaterThanEqual(A),()=>{const N=fp(c.y);y.x.assign(c.x.add(N.mul(2)).add(2)),y.y.assign(c.z.mul(N).sub(2))}),p0(.125,.25).mul(y).add(p0(.375,.75)).flipY()}).setLayout({name:"cubeToUV",type:"vec2",inputs:[{name:"pos",type:"vec3"},{name:"texelSizeY",type:"float"}]}),m6e=Xt(({depthTexture:v,bd3D:r,dp:c,texelSize:f})=>rn(v,Lo(r,f.y)).compare(c)),g6e=Xt(({depthTexture:v,bd3D:r,dp:c,texelSize:f,shadow:_})=>{const y=zn("radius","float",_).setGroup(xi),T=p0(-1,1).mul(y).mul(f.y);return rn(v,Lo(r.add(T.xyy),f.y)).compare(c).add(rn(v,Lo(r.add(T.yyy),f.y)).compare(c)).add(rn(v,Lo(r.add(T.xyx),f.y)).compare(c)).add(rn(v,Lo(r.add(T.yyx),f.y)).compare(c)).add(rn(v,Lo(r,f.y)).compare(c)).add(rn(v,Lo(r.add(T.xxy),f.y)).compare(c)).add(rn(v,Lo(r.add(T.yxy),f.y)).compare(c)).add(rn(v,Lo(r.add(T.xxx),f.y)).compare(c)).add(rn(v,Lo(r.add(T.yxx),f.y)).compare(c)).mul(1/9)}),x6e=Xt(({filterFn:v,depthTexture:r,shadowCoord:c,shadow:f})=>{const _=c.xyz.toVar(),y=_.length(),T=vi("float").setGroup(xi).onRenderUpdate(()=>f.camera.near),A=vi("float").setGroup(xi).onRenderUpdate(()=>f.camera.far),N=zn("bias","float",f).setGroup(xi),k=vi(f.mapSize).setGroup(xi),V=Lt(1).toVar();return u2(y.sub(A).lessThanEqual(0).and(y.sub(T).greaterThanEqual(0)),()=>{const j=y.sub(T).div(A.sub(T)).toVar();j.addAssign(N);const K=_.normalize(),Q=p0(1).div(k.mul(p0(4,2)));V.assign(v({depthTexture:r,bd3D:K,dp:j,texelSize:Q,shadow:f}))}),V}),W5=new hi,Uc=new _i,wu=new _i;class y6e extends zy{static get type(){return"PointShadowNode"}constructor(r,c=null){super(r,c)}getShadowFilterFn(r){return r===cse?m6e:g6e}setupShadowCoord(r,c){return c}setupShadowFilter(r,{filterFn:c,shadowTexture:f,depthTexture:_,shadowCoord:y,shadow:T}){return x6e({filterFn:c,shadowTexture:f,depthTexture:_,shadowCoord:y,shadow:T})}renderShadow(r){const{shadow:c,shadowMap:f,light:_}=this,{renderer:y,scene:T}=r,A=c.getFrameExtents();wu.copy(c.mapSize),wu.multiply(A),f.setSize(wu.width,wu.height),Uc.copy(c.mapSize);const N=y.autoClear,k=y.getClearColor(d6e),V=y.getClearAlpha();y.autoClear=!1,y.setClearColor(c.clearColor,c.clearAlpha),y.clear();const j=c.getViewportCount();for(let K=0;K<j;K++){const Q=c.getViewport(K),ie=Uc.x*Q.x,ce=wu.y-Uc.y-Uc.y*Q.y;W5.set(ie,ce,Uc.x*Q.z,Uc.y*Q.w),f.viewport.copy(W5),c.updateMatrices(_,K);const ue=T.name;T.name=`Point Light Shadow [ ${_.name||"ID: "+_.id} ] - Face ${K+1}`,y.render(T,c.camera),T.name=ue}y.autoClear=N,y.setClearColor(k,V)}}const v6e=(v,r)=>n0(new y6e(v,r));class tc extends Kl{static get type(){return"AnalyticLightNode"}constructor(r=null){super(),this.light=r,this.color=new ni,this.colorNode=r&&r.colorNode||vi(this.color).setGroup(xi),this.baseColorNode=null,this.shadowNode=null,this.shadowColorNode=null,this.isAnalyticLightNode=!0,this.updateType=Fi.FRAME}getHash(){return this.light.uuid}getLightVector(r){return Uy(this.light).sub(r.context.positionView||B2)}setupDirect(){}setupDirectRectArea(){}setupShadowNode(){return h6e(this.light)}setupShadow(r){const{renderer:c}=r;if(c.shadowMap.enabled===!1)return;let f=this.shadowColorNode;if(f===null){const _=this.light.shadow.shadowNode;let y;_!==void 0?y=n0(_):y=this.setupShadowNode(),this.shadowNode=y,this.shadowColorNode=f=this.colorNode.mul(y),this.baseColorNode=this.colorNode}this.colorNode=f}setup(r){this.colorNode=this.baseColorNode||this.colorNode,this.light.castShadow?r.object.receiveShadow&&this.setupShadow(r):this.shadowNode!==null&&(this.shadowNode.dispose(),this.shadowNode=null,this.shadowColorNode=null);const c=this.setupDirect(r),f=this.setupDirectRectArea(r);c&&r.lightsNode.setupDirectLight(r,this,c),f&&r.lightsNode.setupDirectRectAreaLight(r,this,f)}update(){const{light:r}=this;this.color.copy(r.color).multiplyScalar(r.intensity)}}const Wy=Xt(({lightDistance:v,cutoffDistance:r,decayExponent:c})=>{const f=v.pow(c).max(.01).reciprocal();return r.greaterThan(0).select(f.mul(v.div(r).pow4().oneMinus().clamp().pow2()),f)}),S6e=({color:v,lightVector:r,cutoffDistance:c,decayExponent:f})=>{const _=r.normalize(),y=r.length(),T=Wy({lightDistance:y,cutoffDistance:c,decayExponent:f}),A=v.mul(T);return{lightDirection:_,lightColor:A}};class C6e extends tc{static get type(){return"PointLightNode"}constructor(r=null){super(r),this.cutoffDistanceNode=vi(0).setGroup(xi),this.decayExponentNode=vi(2).setGroup(xi)}update(r){const{light:c}=this;super.update(r),this.cutoffDistanceNode.value=c.distance,this.decayExponentNode.value=c.decay}setupShadowNode(){return v6e(this.light)}setupDirect(r){return S6e({color:this.colorNode,lightVector:this.getLightVector(r),cutoffDistance:this.cutoffDistanceNode,decayExponent:this.decayExponentNode})}}Xt(([v=Xl()],{renderer:r,material:c})=>{const f=Ix(v.mul(2).sub(1));let _;if(c.alphaToCoverage&&r.currentSamples>0){const y=Lt(f.fwidth()).toVar();_=E1(y.oneMinus(),y.add(1),f).oneMinus()}else _=Er(f.greaterThan(1),0,1);return _});const T6e=Xt(([v,r])=>{const c=v.x,f=v.y,_=v.z;let y=r.element(0).mul(.886227);return y=y.add(r.element(1).mul(2*.511664).mul(f)),y=y.add(r.element(2).mul(2*.511664).mul(_)),y=y.add(r.element(3).mul(2*.511664).mul(c)),y=y.add(r.element(4).mul(2*.429043).mul(c).mul(f)),y=y.add(r.element(5).mul(2*.429043).mul(f).mul(_)),y=y.add(r.element(6).mul(_.mul(_).mul(.743125).sub(.247708))),y=y.add(r.element(7).mul(2*.429043).mul(c).mul(_)),y=y.add(r.element(8).mul(.429043).mul(Oi(c,c).sub(Oi(f,f)))),y}),no=new x8;class w6e extends ca{constructor(r,c){super(),this.renderer=r,this.nodes=c}update(r,c,f){const _=this.renderer,y=this.nodes.getBackgroundNode(r)||r.background;let T=!1;if(y===null)_._clearColor.getRGB(no),no.a=_._clearColor.a;else if(y.isColor===!0)y.getRGB(no),no.a=1,T=!0;else if(y.isNode===!0){const k=this.get(r),V=y;no.copy(_._clearColor);let j=k.backgroundMesh;if(j===void 0){let ue=function(){y.removeEventListener("dispose",ue),j.material.dispose(),j.geometry.dispose()};var N=ue;const Q=bp(Li(V).mul(U5),{getUV:()=>M8e.mul(kpe),getTextureLevel:()=>w8e});let ie=uy;ie=ie.setZ(ie.w);const ce=new O2;ce.name="Background.material",ce.side=Kn,ce.depthTest=!1,ce.depthWrite=!1,ce.allowOverride=!1,ce.fog=!1,ce.lights=!1,ce.vertexNode=ie,ce.colorNode=Q,k.backgroundMeshNode=Q,k.backgroundMesh=j=new Q2(new qd(1,32,32),ce),j.frustumCulled=!1,j.name="Background.mesh",j.onBeforeRender=function(re,be,De){this.matrixWorld.copyPosition(De.matrixWorld)},y.addEventListener("dispose",ue)}const K=V.getCacheKey();k.backgroundCacheKey!==K&&(k.backgroundMeshNode.node=Li(V).mul(U5),k.backgroundMeshNode.needsUpdate=!0,j.material.needsUpdate=!0,k.backgroundCacheKey=K),c.unshift(j,j.geometry,j.material,0,0,null,null)}else r0("Renderer: Unsupported background configuration.",y);const A=_.xr.getEnvironmentBlendMode();if(A==="additive"?no.set(0,0,0,1):A==="alpha-blend"&&no.set(0,0,0,0),_.autoClear===!0||T===!0){const k=f.clearColorValue;k.r=no.r,k.g=no.g,k.b=no.b,k.a=no.a,(_.backend.isWebGLBackend===!0||_.alpha===!0)&&(k.r*=k.a,k.g*=k.a,k.b*=k.a),f.depthClearValue=_._clearDepth,f.stencilClearValue=_._clearStencil,f.clearColor=_.autoClearColor===!0,f.clearDepth=_.autoClearDepth===!0,f.clearStencil=_.autoClearStencil===!0}else f.clearColor=!1,f.clearDepth=!1,f.clearStencil=!1}}let M6e=0;class ld{constructor(r="",c=[],f=0,_=[]){this.name=r,this.bindings=c,this.index=f,this.bindingsReference=_,this.id=M6e++}}class R6e{constructor(r,c,f,_,y,T,A,N,k,V=[]){this.vertexShader=r,this.fragmentShader=c,this.computeShader=f,this.transforms=V,this.nodeAttributes=_,this.bindings=y,this.updateNodes=T,this.updateBeforeNodes=A,this.updateAfterNodes=N,this.observer=k,this.usedTimes=0}createBindings(){const r=[];for(const c of this.bindings)if(c.bindings[0].groupNode.shared!==!0){const _=new ld(c.name,[],c.index,c.bindingsReference);r.push(_);for(const y of c.bindings)_.bindings.push(y.clone())}else r.push(c);return r}}class H5{constructor(r,c,f=null){this.isNodeAttribute=!0,this.name=r,this.type=c,this.node=f}}class A6e{constructor(r,c,f){this.isNodeUniform=!0,this.name=r,this.type=c,this.node=f}get value(){return this.node.value}set value(r){this.node.value=r}get id(){return this.node.id}get groupNode(){return this.node.groupNode}}class Hy{constructor(r,c,f=!1,_=null){this.isNodeVar=!0,this.name=r,this.type=c,this.readOnly=f,this.count=_}}class E6e extends Hy{constructor(r,c,f=null,_=null){super(r,c),this.needsInterpolation=!1,this.isNodeVarying=!0,this.interpolationType=f,this.interpolationSampling=_}}class N6e{constructor(r,c,f=""){this.name=r,this.type=c,this.code=f,Object.defineProperty(this,"isNodeCode",{value:!0})}}let b6e=0;class D4{constructor(r=null){this.id=b6e++,this.nodesData=new WeakMap,this.parent=r}getData(r){let c=this.nodesData.get(r);return c===void 0&&this.parent!==null&&(c=this.parent.getData(r)),c}setData(r,c){this.nodesData.set(r,c)}}class D6e{constructor(r,c){this.name=r,this.members=c,this.output=!1}}class la{constructor(r,c){this.name=r,this.value=c,this.boundary=0,this.itemSize=0,this.offset=0}setValue(r){this.value=r}getValue(){return this.value}}class I6e extends la{constructor(r,c=0){super(r,c),this.isNumberUniform=!0,this.boundary=4,this.itemSize=1}}class P6e extends la{constructor(r,c=new _i){super(r,c),this.isVector2Uniform=!0,this.boundary=8,this.itemSize=2}}class L6e extends la{constructor(r,c=new at){super(r,c),this.isVector3Uniform=!0,this.boundary=16,this.itemSize=3}}class k6e extends la{constructor(r,c=new hi){super(r,c),this.isVector4Uniform=!0,this.boundary=16,this.itemSize=4}}class F6e extends la{constructor(r,c=new ni){super(r,c),this.isColorUniform=!0,this.boundary=16,this.itemSize=3}}class B6e extends la{constructor(r,c=new Tp){super(r,c),this.isMatrix2Uniform=!0,this.boundary=8,this.itemSize=4}}class U6e extends la{constructor(r,c=new Pi){super(r,c),this.isMatrix3Uniform=!0,this.boundary=48,this.itemSize=12}}class O6e extends la{constructor(r,c=new Ri){super(r,c),this.isMatrix4Uniform=!0,this.boundary=64,this.itemSize=16}}class G6e extends I6e{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class V6e extends P6e{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class z6e extends L6e{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class W6e extends k6e{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class H6e extends F6e{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class j6e extends B6e{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class q6e extends U6e{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class X6e extends O6e{constructor(r){super(r.name,r.value),this.nodeUniform=r}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}let $6e=0;const j5=new WeakMap,Y6e=new Map([[Int8Array,"int"],[Int16Array,"int"],[Int32Array,"int"],[Uint8Array,"uint"],[Uint16Array,"uint"],[Uint32Array,"uint"],[Float32Array,"float"]]),U_=v=>/e/g.test(v)?String(v).replace(/\+/g,""):(v=Number(v),v+(v%1?"":".0"));class jy{constructor(r,c,f){this.object=r,this.material=r&&r.material||null,this.geometry=r&&r.geometry||null,this.renderer=c,this.parser=f,this.scene=null,this.camera=null,this.nodes=[],this.sequentialNodes=[],this.updateNodes=[],this.updateBeforeNodes=[],this.updateAfterNodes=[],this.hashNodes={},this.observer=null,this.lightsNode=null,this.environmentNode=null,this.fogNode=null,this.clippingContext=null,this.vertexShader=null,this.fragmentShader=null,this.computeShader=null,this.flowNodes={vertex:[],fragment:[],compute:[]},this.flowCode={vertex:"",fragment:"",compute:""},this.uniforms={vertex:[],fragment:[],compute:[],index:0},this.structs={vertex:[],fragment:[],compute:[],index:0},this.types={vertex:[],fragment:[],compute:[],index:0},this.bindings={vertex:{},fragment:{},compute:{}},this.bindingsIndexes={},this.bindGroups=null,this.attributes=[],this.bufferAttributes=[],this.varyings=[],this.codes={},this.vars={},this.declarations={},this.flow={code:""},this.chaining=[],this.stack=R4(),this.stacks=[],this.tab="	",this.currentFunctionNode=null,this.context={material:this.material},this.cache=new D4,this.globalCache=this.cache,this.flowsData=new WeakMap,this.shaderStage=null,this.buildStage=null,this.subBuildLayers=[],this.activeStacks=[],this.subBuildFn=null,this.fnCall=null,Object.defineProperty(this,"id",{value:$6e++})}isOpaque(){const r=this.material;return r.transparent===!1&&r.blending===Ds&&r.alphaToCoverage===!1}getBindGroupsCache(){let r=j5.get(this.renderer);return r===void 0&&(r=new _o,j5.set(this.renderer,r)),r}createRenderTarget(r,c,f){return new Qa(r,c,f)}createCubeRenderTarget(r,c){return new xy(r,c)}includes(r){return this.nodes.includes(r)}getOutputStructName(){}_getBindGroup(r,c){const f=this.getBindGroupsCache(),_=[];let y=!0;for(const A of c)_.push(A),y=y&&A.groupNode.shared!==!0;let T;return y?(T=f.get(_),T===void 0&&(T=new ld(r,_,this.bindingsIndexes[r].group,_),f.set(_,T))):T=new ld(r,_,this.bindingsIndexes[r].group,_),T}getBindGroupArray(r,c){const f=this.bindings[c];let _=f[r];return _===void 0&&(this.bindingsIndexes[r]===void 0&&(this.bindingsIndexes[r]={binding:0,group:Object.keys(this.bindingsIndexes).length}),f[r]=_=[]),_}getBindings(){let r=this.bindGroups;if(r===null){const c={},f=this.bindings;for(const _ of z3)for(const y in f[_]){const T=f[_][y];(c[y]||(c[y]=[])).push(...T)}r=[];for(const _ in c){const y=c[_],T=this._getBindGroup(_,y);r.push(T)}this.bindGroups=r}return r}sortBindingGroups(){const r=this.getBindings();r.sort((c,f)=>c.bindings[0].groupNode.order-f.bindings[0].groupNode.order);for(let c=0;c<r.length;c++){const f=r[c];this.bindingsIndexes[f.name].group=c,f.index=c}}setHashNode(r,c){this.hashNodes[c]=r}addNode(r){this.nodes.includes(r)===!1&&(this.nodes.push(r),this.setHashNode(r,r.getHash(this)))}addSequentialNode(r){this.sequentialNodes.includes(r)===!1&&this.sequentialNodes.push(r)}buildUpdateNodes(){for(const r of this.nodes)r.getUpdateType()!==Fi.NONE&&this.updateNodes.push(r);for(const r of this.sequentialNodes){const c=r.getUpdateBeforeType(),f=r.getUpdateAfterType();c!==Fi.NONE&&this.updateBeforeNodes.push(r),f!==Fi.NONE&&this.updateAfterNodes.push(r)}}get currentNode(){return this.chaining[this.chaining.length-1]}isFilteredTexture(r){return r.magFilter===r2||r.magFilter===Yc||r.magFilter===v1||r.magFilter===Ur||r.minFilter===r2||r.minFilter===Yc||r.minFilter===v1||r.minFilter===Ur}addChain(r){this.chaining.push(r)}removeChain(r){if(this.chaining.pop()!==r)throw new Error("NodeBuilder: Invalid node chaining!")}getMethod(r){return r}getTernary(){return null}getNodeFromHash(r){return this.hashNodes[r]}addFlow(r,c){return this.flowNodes[r].push(c),c}setContext(r){this.context=r}getContext(){return this.context}addContext(r){const c=this.getContext();return this.setContext({...this.context,...r}),c}getSharedContext(){return{...this.context},this.context}setCache(r){this.cache=r}getCache(){return this.cache}getCacheFromNode(r,c=!0){const f=this.getDataFromNode(r);return f.cache===void 0&&(f.cache=new D4(c?this.getCache():null)),f.cache}isAvailable(){return!1}getVertexIndex(){jt("Abstract function.")}getInstanceIndex(){jt("Abstract function.")}getDrawIndex(){jt("Abstract function.")}getFrontFacing(){jt("Abstract function.")}getFragCoord(){jt("Abstract function.")}isFlipY(){return!1}increaseUsage(r){const c=this.getDataFromNode(r);return c.usageCount=c.usageCount===void 0?1:c.usageCount+1,c.usageCount}generateTexture(){jt("Abstract function.")}generateTextureLod(){jt("Abstract function.")}generateArrayDeclaration(r,c){return this.getType(r)+"[ "+c+" ]"}generateArray(r,c,f=null){let _=this.generateArrayDeclaration(r,c)+"( ";for(let y=0;y<c;y++){const T=f?f[y]:null;T!==null?_+=T.build(this,r):_+=this.generateConst(r),y<c-1&&(_+=", ")}return _+=" )",_}generateStruct(r,c,f=null){const _=[];for(const y of c){const{name:T,type:A}=y;f&&f[T]&&f[T].isNode?_.push(f[T].build(this,A)):_.push(this.generateConst(A))}return r+"( "+_.join(", ")+" )"}generateConst(r,c=null){if(c===null&&(r==="float"||r==="int"||r==="uint"?c=0:r==="bool"?c=!1:r==="color"?c=new ni:r==="vec2"?c=new _i:r==="vec3"?c=new at:r==="vec4"&&(c=new hi)),r==="float")return U_(c);if(r==="int")return`${Math.round(c)}`;if(r==="uint")return c>=0?`${Math.round(c)}u`:"0u";if(r==="bool")return c?"true":"false";if(r==="color")return`${this.getType("vec3")}( ${U_(c.r)}, ${U_(c.g)}, ${U_(c.b)} )`;const f=this.getTypeLength(r),_=this.getComponentType(r),y=T=>this.generateConst(_,T);if(f===2)return`${this.getType(r)}( ${y(c.x)}, ${y(c.y)} )`;if(f===3)return`${this.getType(r)}( ${y(c.x)}, ${y(c.y)}, ${y(c.z)} )`;if(f===4&&r!=="mat2")return`${this.getType(r)}( ${y(c.x)}, ${y(c.y)}, ${y(c.z)}, ${y(c.w)} )`;if(f>=4&&c&&(c.isMatrix2||c.isMatrix3||c.isMatrix4))return`${this.getType(r)}( ${c.elements.map(y).join(", ")} )`;if(f>4)return`${this.getType(r)}()`;throw new Error(`NodeBuilder: Type '${r}' not found in generate constant attempt.`)}getType(r){return r==="color"?"vec3":r}hasGeometryAttribute(r){return this.geometry&&this.geometry.getAttribute(r)!==void 0}getAttribute(r,c){const f=this.attributes;for(const y of f)if(y.name===r)return y;const _=new H5(r,c);return this.registerDeclaration(_),f.push(_),_}getPropertyName(r){return r.name}isVector(r){return/vec\d/.test(r)}isMatrix(r){return/mat\d/.test(r)}isReference(r){return r==="void"||r==="property"||r==="sampler"||r==="samplerComparison"||r==="texture"||r==="cubeTexture"||r==="storageTexture"||r==="depthTexture"||r==="texture3D"}needsToWorkingColorSpace(){return!1}getComponentTypeFromTexture(r){const c=r.type;if(r.isDataTexture){if(c===vr)return"int";if(c===Yn)return"uint"}return"float"}getElementType(r){return r==="mat2"?"vec2":r==="mat3"?"vec3":r==="mat4"?"vec4":this.getComponentType(r)}getComponentType(r){if(r=this.getVectorType(r),r==="float"||r==="bool"||r==="int"||r==="uint")return r;const c=/(b|i|u|)(vec|mat)([2-4])/.exec(r);return c===null?null:c[1]==="b"?"bool":c[1]==="i"?"int":c[1]==="u"?"uint":"float"}getVectorType(r){return r==="color"?"vec3":r==="texture"||r==="cubeTexture"||r==="storageTexture"||r==="texture3D"?"vec4":r}getTypeFromLength(r,c="float"){if(r===1)return c;let f=Yue(r);const _=c==="float"?"":c[0];return/mat2/.test(c)===!0&&(f=f.replace("vec","mat")),_+f}getTypeFromArray(r){return Y6e.get(r.constructor)}isInteger(r){return/int|uint|(i|u)vec/.test(r)}getTypeFromAttribute(r){let c=r;r.isInterleavedBufferAttribute&&(c=r.data);const f=c.array,_=r.itemSize,y=r.normalized;let T;return!(r instanceof Bg)&&y!==!0&&(T=this.getTypeFromArray(f)),this.getTypeFromLength(_,T)}getTypeLength(r){const c=this.getVectorType(r),f=/vec([2-4])/.exec(c);return f!==null?Number(f[1]):c==="float"||c==="bool"||c==="int"||c==="uint"?1:/mat2/.test(r)===!0?4:/mat3/.test(r)===!0?9:/mat4/.test(r)===!0?16:0}getVectorFromMatrix(r){return r.replace("mat","vec")}changeComponentType(r,c){return this.getTypeFromLength(this.getTypeLength(r),c)}getIntegerType(r){const c=this.getComponentType(r);return c==="int"||c==="uint"?r:this.changeComponentType(r,"int")}setActiveStack(r){this.activeStacks.push(r)}removeActiveStack(r){if(this.activeStacks[this.activeStacks.length-1]===r)this.activeStacks.pop();else throw new Error("NodeBuilder: Invalid active stack removal.")}getActiveStack(){return this.activeStacks[this.activeStacks.length-1]}getBaseStack(){return this.activeStacks[0]}addStack(){this.stack=R4(this.stack);const r=ux();return this.stacks.push(r),op(this.stack),this.stack}removeStack(){const r=this.stack;for(const c of r.nodes){const f=this.getDataFromNode(c);f.stack=r}return this.stack=r.parent,op(this.stacks.pop()),r}getDataFromNode(r,c=this.shaderStage,f=null){f=f===null?r.isGlobal(this)?this.globalCache:this.cache:f;let _=f.getData(r);_===void 0&&(_={},f.setData(r,_)),_[c]===void 0&&(_[c]={});let y=_[c];const T=_.any?_.any.subBuilds:null,A=this.getClosestSubBuild(T);return A&&(y.subBuildsCache===void 0&&(y.subBuildsCache={}),y=y.subBuildsCache[A]||(y.subBuildsCache[A]={}),y.subBuilds=T),y}getNodeProperties(r,c="any"){const f=this.getDataFromNode(r,c);return f.properties||(f.properties={outputNode:null})}getBufferAttributeFromNode(r,c){const f=this.getDataFromNode(r);let _=f.bufferAttribute;if(_===void 0){const y=this.uniforms.index++;_=new H5("nodeAttribute"+y,c,r),this.bufferAttributes.push(_),f.bufferAttribute=_}return _}getStructTypeNode(r,c=this.shaderStage){return this.types[c][r]||null}getStructTypeFromNode(r,c,f=null,_=this.shaderStage){const y=this.getDataFromNode(r,_,this.globalCache);let T=y.structType;if(T===void 0){const A=this.structs.index++;f===null&&(f="StructType"+A),T=new D6e(f,c),this.structs[_].push(T),this.types[_][f]=r,y.structType=T}return T}getOutputStructTypeFromNode(r,c){const f=this.getStructTypeFromNode(r,c,"OutputType","fragment");return f.output=!0,f}getUniformFromNode(r,c,f=this.shaderStage,_=null){const y=this.getDataFromNode(r,f,this.globalCache);let T=y.uniform;if(T===void 0){const A=this.uniforms.index++;T=new A6e(_||"nodeUniform"+A,c,r),this.uniforms[f].push(T),this.registerDeclaration(T),y.uniform=T}return T}getVarFromNode(r,c=null,f=r.getNodeType(this),_=this.shaderStage,y=!1){const T=this.getDataFromNode(r,_),A=this.getSubBuildProperty("variable",T.subBuilds);let N=T[A];if(N===void 0){const k=y?"_const":"_var",V=this.vars[_]||(this.vars[_]=[]),j=this.vars[k]||(this.vars[k]=0);c===null&&(c=(y?"nodeConst":"nodeVar")+j,this.vars[k]++),A!=="variable"&&(c=this.getSubBuildProperty(c,T.subBuilds));const K=r.getArrayCount(this);N=new Hy(c,f,y,K),y||V.push(N),this.registerDeclaration(N),T[A]=N}return N}isDeterministic(r){if(r.isMathNode)return this.isDeterministic(r.aNode)&&(r.bNode?this.isDeterministic(r.bNode):!0)&&(r.cNode?this.isDeterministic(r.cNode):!0);if(r.isOperatorNode)return this.isDeterministic(r.aNode)&&(r.bNode?this.isDeterministic(r.bNode):!0);if(r.isArrayNode){if(r.values!==null){for(const c of r.values)if(!this.isDeterministic(c))return!1}return!0}else if(r.isConstNode)return!0;return!1}getVaryingFromNode(r,c=null,f=r.getNodeType(this),_=null,y=null){const T=this.getDataFromNode(r,"any"),A=this.getSubBuildProperty("varying",T.subBuilds);let N=T[A];if(N===void 0){const k=this.varyings,V=k.length;c===null&&(c="nodeVarying"+V),A!=="varying"&&(c=this.getSubBuildProperty(c,T.subBuilds)),N=new E6e(c,f,_,y),k.push(N),this.registerDeclaration(N),T[A]=N}return N}registerDeclaration(r){const c=this.shaderStage,f=this.declarations[c]||(this.declarations[c]={}),_=this.getPropertyName(r);let y=1,T=_;for(;f[T]!==void 0;)T=_+"_"+y++;y>1&&(r.name=T,jt(`TSL: Declaration name '${_}' of '${r.type}' already in use. Renamed to '${T}'.`)),f[T]=r}getCodeFromNode(r,c,f=this.shaderStage){const _=this.getDataFromNode(r);let y=_.code;if(y===void 0){const T=this.codes[f]||(this.codes[f]=[]),A=T.length;y=new N6e("nodeCode"+A,c),T.push(y),_.code=y}return y}addFlowCodeHierarchy(r,c){const{flowCodes:f,flowCodeBlock:_}=this.getDataFromNode(r);let y=!0,T=c;for(;T;){if(_.get(T)===!0){y=!1;break}T=this.getDataFromNode(T).parentNodeBlock}if(y)for(const A of f)this.addLineFlowCode(A)}addLineFlowCodeBlock(r,c,f){const _=this.getDataFromNode(r),y=_.flowCodes||(_.flowCodes=[]),T=_.flowCodeBlock||(_.flowCodeBlock=new WeakMap);y.push(c),T.set(f,!0)}addLineFlowCode(r,c=null){return r===""?this:(c!==null&&this.context.nodeBlock&&this.addLineFlowCodeBlock(c,r,this.context.nodeBlock),r=this.tab+r,/;\s*$/.test(r)||(r=r+`;
`),this.flow.code+=r,this)}addFlowCode(r){return this.flow.code+=r,this}addFlowTab(){return this.tab+="	",this}removeFlowTab(){return this.tab=this.tab.slice(0,-1),this}getFlowData(r){return this.flowsData.get(r)}flowNode(r){const c=r.getNodeType(this),f=this.flowChildNode(r,c);return this.flowsData.set(r,f),f}addInclude(r){this.currentFunctionNode!==null&&this.currentFunctionNode.includes.push(r)}buildFunctionNode(r){const c=new G8e,f=this.currentFunctionNode;return this.currentFunctionNode=c,c.code=this.buildFunctionCode(r),this.currentFunctionNode=f,c}flowShaderNode(r){const c=r.layout,f={[Symbol.iterator](){let T=0;const A=Object.values(this);return{next:()=>({value:A[T],done:T++>=A.length})}}};for(const T of c.inputs)f[T.name]=new y8e(T.type,T.name);r.layout=null;const _=r.call(f),y=this.flowStagesNode(_,c.type);return r.layout=c,y}flowBuildStage(r,c,f=null){const _=this.getBuildStage();this.setBuildStage(c);const y=r.build(this,f);return this.setBuildStage(_),y}flowStagesNode(r,c=null){const f=this.flow,_=this.vars,y=this.declarations,T=this.cache,A=this.buildStage,N=this.stack,k={code:""};this.flow=k,this.vars={},this.declarations={},this.cache=new D4,this.stack=R4();for(const V of V3)this.setBuildStage(V),k.result=r.build(this,c);return k.vars=this.getVars(this.shaderStage),this.flow=f,this.vars=_,this.declarations=y,this.cache=T,this.stack=N,this.setBuildStage(A),k}getFunctionOperator(){return null}buildFunctionCode(){jt("Abstract function.")}flowChildNode(r,c=null){const f=this.flow,_={code:""};return this.flow=_,_.result=r.build(this,c),this.flow=f,_}flowNodeFromShaderStage(r,c,f=null,_=null){const y=this.tab,T=this.cache,A=this.shaderStage,N=this.context;this.setShaderStage(r);const k={...this.context};delete k.nodeBlock,this.cache=this.globalCache,this.tab="	",this.context=k;let V=null;if(this.buildStage==="generate"){const j=this.flowChildNode(c,f);_!==null&&(j.code+=`${this.tab+_} = ${j.result};
`),this.flowCode[r]=this.flowCode[r]+j.code,V=j}else V=c.build(this);return this.setShaderStage(A),this.cache=T,this.tab=y,this.context=N,V}getAttributesArray(){return this.attributes.concat(this.bufferAttributes)}getAttributes(){jt("Abstract function.")}getVaryings(){jt("Abstract function.")}getVar(r,c,f=null){return`${f!==null?this.generateArrayDeclaration(r,f):this.getType(r)} ${c}`}getVars(r){let c="";const f=this.vars[r];if(f!==void 0)for(const _ of f)c+=`${this.getVar(_.type,_.name)}; `;return c}getUniforms(){jt("Abstract function.")}getCodes(r){const c=this.codes[r];let f="";if(c!==void 0)for(const _ of c)f+=_.code+`
`;return f}getHash(){return this.vertexShader+this.fragmentShader+this.computeShader}setShaderStage(r){this.shaderStage=r}getShaderStage(){return this.shaderStage}setBuildStage(r){this.buildStage=r}getBuildStage(){return this.buildStage}buildCode(){jt("Abstract function.")}get subBuild(){return this.subBuildLayers[this.subBuildLayers.length-1]||null}addSubBuild(r){this.subBuildLayers.push(r)}removeSubBuild(){return this.subBuildLayers.pop()}getClosestSubBuild(r){let c;if(r&&r.isNode?r.isShaderCallNodeInternal?c=r.shaderNode.subBuilds:r.isStackNode?c=[r.subBuild]:c=this.getDataFromNode(r,"any").subBuilds:r instanceof Set?c=[...r]:c=r,!c)return null;const f=this.subBuildLayers;for(let _=c.length-1;_>=0;_--){const y=c[_];if(f.includes(y))return y}return null}getSubBuildOutput(r){return this.getSubBuildProperty("outputNode",r)}getSubBuildProperty(r="",c=null){let f;c!==null?f=this.getClosestSubBuild(c):f=this.subBuildFn;let _;return f?_=r?f+"_"+r:f:_=r,_}build(){const{object:r,material:c,renderer:f}=this;if(c!==null){let _=f.library.fromMaterial(c);_===null&&(r0(`NodeMaterial: Material "${c.type}" is not compatible.`),_=new O2),_.build(this)}else this.addFlow("compute",r);for(const _ of V3){this.setBuildStage(_),this.context.vertex&&this.context.vertex.isNode&&this.flowNodeFromShaderStage("vertex",this.context.vertex);for(const y of z3){this.setShaderStage(y);const T=this.flowNodes[y];for(const A of T)_==="generate"?this.flowNode(A):A.build(this)}}return this.setBuildStage(null),this.setShaderStage(null),this.buildCode(),this.buildUpdateNodes(),this}getNodeUniform(r,c){if(c==="float"||c==="int"||c==="uint")return new G6e(r);if(c==="vec2"||c==="ivec2"||c==="uvec2")return new V6e(r);if(c==="vec3"||c==="ivec3"||c==="uvec3")return new z6e(r);if(c==="vec4"||c==="ivec4"||c==="uvec4")return new W6e(r);if(c==="color")return new H6e(r);if(c==="mat2")return new j6e(r);if(c==="mat3")return new q6e(r);if(c==="mat4")return new X6e(r);throw new Error(`Uniform "${c}" not declared.`)}format(r,c,f){if(c=this.getVectorType(c),f=this.getVectorType(f),c===f||f===null||this.isReference(f))return r;const _=this.getTypeLength(c),y=this.getTypeLength(f);return _===16&&y===9?`${this.getType(f)}( ${r}[ 0 ].xyz, ${r}[ 1 ].xyz, ${r}[ 2 ].xyz )`:_===9&&y===4?`${this.getType(f)}( ${r}[ 0 ].xy, ${r}[ 1 ].xy )`:_>4||y>4||y===0?r:_===y?`${this.getType(f)}( ${r} )`:_>y?(r=f==="bool"?`all( ${r} )`:`${r}.${"xyz".slice(0,y)}`,this.format(r,this.getTypeFromLength(y,this.getComponentType(c)),f)):y===4&&_>1?`${this.getType(f)}( ${this.format(r,c,"vec3")}, 1.0 )`:_===2?`${this.getType(f)}( ${this.format(r,c,"vec2")}, 0.0 )`:(_===1&&y>1&&c!==this.getComponentType(f)&&(r=`${this.getType(this.getComponentType(f))}( ${r} )`),`${this.getType(f)}( ${r} )`)}getSignature(){return`// Three.js r${Ul} - Node System
`}}class q5{constructor(){this.time=0,this.deltaTime=0,this.frameId=0,this.renderId=0,this.updateMap=new WeakMap,this.updateBeforeMap=new WeakMap,this.updateAfterMap=new WeakMap,this.renderer=null,this.material=null,this.camera=null,this.object=null,this.scene=null}_getMaps(r,c){let f=r.get(c);return f===void 0&&(f={renderId:0,frameId:0},r.set(c,f)),f}updateBeforeNode(r){const c=r.getUpdateBeforeType(),f=r.updateReference(this);if(c===Fi.FRAME){const _=this._getMaps(this.updateBeforeMap,f);_.frameId!==this.frameId&&r.updateBefore(this)!==!1&&(_.frameId=this.frameId)}else if(c===Fi.RENDER){const _=this._getMaps(this.updateBeforeMap,f);_.renderId!==this.renderId&&r.updateBefore(this)!==!1&&(_.renderId=this.renderId)}else c===Fi.OBJECT&&r.updateBefore(this)}updateAfterNode(r){const c=r.getUpdateAfterType(),f=r.updateReference(this);if(c===Fi.FRAME){const _=this._getMaps(this.updateAfterMap,f);_.frameId!==this.frameId&&r.updateAfter(this)!==!1&&(_.frameId=this.frameId)}else if(c===Fi.RENDER){const _=this._getMaps(this.updateAfterMap,f);_.renderId!==this.renderId&&r.updateAfter(this)!==!1&&(_.renderId=this.renderId)}else c===Fi.OBJECT&&r.updateAfter(this)}updateNode(r){const c=r.getUpdateType(),f=r.updateReference(this);if(c===Fi.FRAME){const _=this._getMaps(this.updateMap,f);_.frameId!==this.frameId&&r.update(this)!==!1&&(_.frameId=this.frameId)}else if(c===Fi.RENDER){const _=this._getMaps(this.updateMap,f);_.renderId!==this.renderId&&r.update(this)!==!1&&(_.renderId=this.renderId)}else c===Fi.OBJECT&&r.update(this)}update(){this.frameId++,this.lastTime===void 0&&(this.lastTime=performance.now()),this.deltaTime=(performance.now()-this.lastTime)/1e3,this.lastTime=performance.now(),this.time+=this.deltaTime}}class S8{constructor(r,c,f=null,_="",y=!1){this.type=r,this.name=c,this.count=f,this.qualifier=_,this.isConst=y}}S8.isNodeFunctionInput=!0;class K6e extends tc{static get type(){return"DirectionalLightNode"}constructor(r=null){super(r)}setupDirect(){const r=this.colorNode;return{lightDirection:Oy(this.light),lightColor:r}}}const I4=new Ri,O_=new Ri;let Mu=null;class Z6e extends tc{static get type(){return"RectAreaLightNode"}constructor(r=null){super(r),this.halfHeight=vi(new at).setGroup(xi),this.halfWidth=vi(new at).setGroup(xi),this.updateType=Fi.RENDER}update(r){super.update(r);const{light:c}=this,f=r.camera.matrixWorldInverse;O_.identity(),I4.copy(c.matrixWorld),I4.premultiply(f),O_.extractRotation(I4),this.halfWidth.value.set(c.width*.5,0,0),this.halfHeight.value.set(0,c.height*.5,0),this.halfWidth.value.applyMatrix4(O_),this.halfHeight.value.applyMatrix4(O_)}setupDirectRectArea(r){let c,f;r.isAvailable("float32Filterable")?(c=rn(Mu.LTC_FLOAT_1),f=rn(Mu.LTC_FLOAT_2)):(c=rn(Mu.LTC_HALF_1),f=rn(Mu.LTC_HALF_2));const{colorNode:_,light:y}=this,T=Uy(y);return{lightColor:_,lightPosition:T,halfWidth:this.halfWidth,halfHeight:this.halfHeight,ltc_1:c,ltc_2:f}}static setLTC(r){Mu=r}}class C8 extends tc{static get type(){return"SpotLightNode"}constructor(r=null){super(r),this.coneCosNode=vi(0).setGroup(xi),this.penumbraCosNode=vi(0).setGroup(xi),this.cutoffDistanceNode=vi(0).setGroup(xi),this.decayExponentNode=vi(0).setGroup(xi),this.colorNode=vi(this.color).setGroup(xi)}update(r){super.update(r);const{light:c}=this;this.coneCosNode.value=Math.cos(c.angle),this.penumbraCosNode.value=Math.cos(c.angle*(1-c.penumbra)),this.cutoffDistanceNode.value=c.distance,this.decayExponentNode.value=c.decay}getSpotAttenuation(r,c){const{coneCosNode:f,penumbraCosNode:_}=this;return E1(f,_,c)}getLightCoord(r){const c=r.getNodeProperties(this);let f=c.projectionUV;return f===void 0&&(f=H8e(this.light,r.context.positionWorld),c.projectionUV=f),f}setupDirect(r){const{colorNode:c,cutoffDistanceNode:f,decayExponentNode:_,light:y}=this,T=this.getLightVector(r),A=T.normalize(),N=A.dot(Oy(y)),k=this.getSpotAttenuation(r,N),V=T.length(),j=Wy({lightDistance:V,cutoffDistance:f,decayExponent:_});let K=c.mul(k).mul(j),Q,ie;return y.colorNode?(ie=this.getLightCoord(r),Q=y.colorNode(ie)):y.map&&(ie=this.getLightCoord(r),Q=rn(y.map,ie.xy).onRenderUpdate(()=>y.map)),Q&&(K=ie.mul(2).sub(1).abs().lessThan(1).all().select(K.mul(Q),K)),{lightColor:K,lightDirection:A}}}class Q6e extends C8{static get type(){return"IESSpotLightNode"}getSpotAttenuation(r,c){const f=this.light.iesMap;let _=null;if(f&&f.isTexture===!0){const y=c.acos().mul(1/Math.PI);_=rn(f,p0(y,0),0).r}else _=super.getSpotAttenuation(c);return _}}const J6e=Xt(([v,r])=>{const c=v.abs().sub(r);return w1(ar(c,0)).add(Il(ar(c.x,c.y),0))});class eme extends C8{static get type(){return"ProjectorLightNode"}update(r){super.update(r);const c=this.light;if(this.penumbraCosNode.value=Math.min(Math.cos(c.angle*(1-c.penumbra)),.99999),c.aspect===null){let f=1;c.map!==null&&(f=c.map.width/c.map.height),c.shadow.aspect=f}else c.shadow.aspect=c.aspect}getSpotAttenuation(r){const c=Lt(0),f=this.penumbraCosNode,_=v8(this.light).mul(r.context.positionWorld||kl);return u2(_.w.greaterThan(0),()=>{const y=_.xyz.div(_.w),T=J6e(y.xy.sub(p0(.5)),p0(.5)),A=zo(-1,Zr(1,wx(f)).sub(1));c.assign(Px(T.mul(-2).mul(A)))}),c}}class tme extends tc{static get type(){return"AmbientLightNode"}constructor(r=null){super(r)}setup({context:r}){r.irradiance.addAssign(this.colorNode)}}class ime extends tc{static get type(){return"HemisphereLightNode"}constructor(r=null){super(r),this.lightPositionNode=By(r),this.lightDirectionNode=this.lightPositionNode.normalize(),this.groundColorNode=vi(new ni).setGroup(xi)}update(r){const{light:c}=this;super.update(r),this.lightPositionNode.object3d=c,this.groundColorNode.value.copy(c.groundColor).multiplyScalar(c.intensity)}setup(r){const{colorNode:c,groundColorNode:f,lightDirectionNode:_}=this,T=Yl.dot(_).mul(.5).add(.5),A=c2(f,c,T);r.context.irradiance.addAssign(A)}}class nme extends tc{static get type(){return"LightProbeNode"}constructor(r=null){super(r);const c=[];for(let f=0;f<9;f++)c.push(new at);this.lightProbe=ao(c)}update(r){const{light:c}=this;super.update(r);for(let f=0;f<9;f++)this.lightProbe.array[f].copy(c.sh.coefficients[f]).multiplyScalar(c.intensity)}setup(r){const c=T6e(Yl,this.lightProbe);r.context.irradiance.addAssign(c)}}class qy{parseFunction(){jt("Abstract function.")}}class T8{constructor(r,c,f="",_=""){this.type=r,this.inputs=c,this.name=f,this.precision=_}getCode(){jt("Abstract function.")}}T8.isNodeFunction=!0;const rme=/^\s*(highp|mediump|lowp)?\s*([a-z_0-9]+)\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)/i,sme=/[a-z_0-9]+/ig,X5="#pragma main",ome=v=>{v=v.trim();const r=v.indexOf(X5),c=r!==-1?v.slice(r+X5.length):v,f=c.match(rme);if(f!==null&&f.length===5){const _=f[4],y=[];let T=null;for(;(T=sme.exec(_))!==null;)y.push(T);const A=[];let N=0;for(;N<y.length;){const ie=y[N][0]==="const";ie===!0&&N++;let ce=y[N][0];ce==="in"||ce==="out"||ce==="inout"?N++:ce="";const ue=y[N++][0];let re=Number.parseInt(y[N][0]);Number.isNaN(re)===!1?N++:re=null;const be=y[N++][0];A.push(new S8(ue,be,re,ce,ie))}const k=c.substring(f[0].length),V=f[3]!==void 0?f[3]:"",j=f[2],K=f[1]!==void 0?f[1]:"",Q=r!==-1?v.slice(0,r):"";return{type:j,inputs:A,name:V,precision:K,inputsCode:_,blockCode:k,headerCode:Q}}else throw new Error("FunctionNode: Function is not a GLSL code.")};class ame extends T8{constructor(r){const{type:c,inputs:f,name:_,precision:y,inputsCode:T,blockCode:A,headerCode:N}=ome(r);super(c,f,_,y),this.inputsCode=T,this.blockCode=A,this.headerCode=N}getCode(r=this.name){let c;const f=this.blockCode;if(f!==""){const{type:_,inputsCode:y,headerCode:T,precision:A}=this;let N=`${_} ${r} ( ${y.trim()} )`;A!==""&&(N=`${A} ${N}`),c=T+N+f}else c="";return c}}class cme extends qy{parseFunction(r){return new ame(r)}}const $5=new WeakMap,Po=[],q1=[];class lme extends ca{constructor(r,c){super(),this.renderer=r,this.backend=c,this.nodeFrame=new q5,this.nodeBuilderCache=new Map,this.callHashCache=new _o,this.groupsData=new _o,this.cacheLib={}}updateGroup(r){const c=r.groupNode,f=c.name;if(f===yx.name)return!0;if(f===xi.name){const y=this.get(r),T=this.nodeFrame.renderId;return y.renderId!==T?(y.renderId=T,!0):!1}if(f===Lfe.name){const y=this.get(r),T=this.nodeFrame.frameId;return y.frameId!==T?(y.frameId=T,!0):!1}Po[0]=c,Po[1]=r;let _=this.groupsData.get(Po);return _===void 0&&this.groupsData.set(Po,_={}),Po.length=0,_.version!==c.version?(_.version=c.version,!0):!1}getForRenderCacheKey(r){return r.initialCacheKey}getForRender(r){const c=this.get(r);let f=c.nodeBuilderState;if(f===void 0){const{nodeBuilderCache:_}=this,y=this.getForRenderCacheKey(r);if(f=_.get(y),f===void 0){const T=N=>{const k=this.backend.createNodeBuilder(r.object,this.renderer);return k.scene=r.scene,k.material=N,k.camera=r.camera,k.context.material=N,k.lightsNode=r.lightsNode,k.environmentNode=this.getEnvironmentNode(r.scene),k.fogNode=this.getFogNode(r.scene),k.clippingContext=r.clippingContext,this.renderer.getOutputRenderTarget()&&this.renderer.getOutputRenderTarget().multiview&&k.enableMultiview(),k};let A=T(r.material);try{A.build()}catch(N){A=T(new O2),A.build(),r0("TSL: "+N)}f=this._createNodeBuilderState(A),_.set(y,f)}f.usedTimes++,c.nodeBuilderState=f}return f}delete(r){if(r.isRenderObject){const c=this.get(r).nodeBuilderState;c.usedTimes--,c.usedTimes===0&&this.nodeBuilderCache.delete(this.getForRenderCacheKey(r))}return super.delete(r)}getForCompute(r){const c=this.get(r);let f=c.nodeBuilderState;if(f===void 0){const _=this.backend.createNodeBuilder(r,this.renderer);_.build(),f=this._createNodeBuilderState(_),c.nodeBuilderState=f}return f}_createNodeBuilderState(r){return new R6e(r.vertexShader,r.fragmentShader,r.computeShader,r.getAttributesArray(),r.getBindings(),r.updateNodes,r.updateBeforeNodes,r.updateAfterNodes,r.observer,r.transforms)}getEnvironmentNode(r){this.updateEnvironment(r);let c=null;if(r.environmentNode&&r.environmentNode.isNode)c=r.environmentNode;else{const f=this.get(r);f.environmentNode&&(c=f.environmentNode)}return c}getBackgroundNode(r){this.updateBackground(r);let c=null;if(r.backgroundNode&&r.backgroundNode.isNode)c=r.backgroundNode;else{const f=this.get(r);f.backgroundNode&&(c=f.backgroundNode)}return c}getFogNode(r){return this.updateFog(r),r.fogNode||this.get(r).fogNode||null}getCacheKey(r,c){Po[0]=r,Po[1]=c;const f=this.renderer.info.calls,_=this.callHashCache.get(Po)||{};if(_.callId!==f){const y=this.getEnvironmentNode(r),T=this.getFogNode(r);c&&q1.push(c.getCacheKey(!0)),y&&q1.push(y.getCacheKey()),T&&q1.push(T.getCacheKey()),q1.push(this.renderer.getOutputRenderTarget()&&this.renderer.getOutputRenderTarget().multiview?1:0),q1.push(this.renderer.shadowMap.enabled?1:0),q1.push(this.renderer.shadowMap.type),_.callId=f,_.cacheKey=Rf(q1),this.callHashCache.set(Po,_),q1.length=0}return Po.length=0,_.cacheKey}get isToneMappingState(){return!this.renderer.getRenderTarget()}updateBackground(r){const c=this.get(r),f=r.background;if(f){const _=r.backgroundBlurriness===0&&c.backgroundBlurriness>0||r.backgroundBlurriness>0&&c.backgroundBlurriness===0;if(c.background!==f||_){const y=this.getCacheNode("background",f,()=>{if(f.isCubeTexture===!0||f.mapping===sl||f.mapping===ol||f.mapping===Ha){if(r.backgroundBlurriness>0||f.mapping===Ha)return Ny(f);{let T;return f.isCubeTexture===!0?T=pf(f):T=rn(f),vy(T)}}else{if(f.isTexture===!0)return rn(f,el.flipY()).setUpdateMatrix(!0);f.isColor!==!0&&r0("WebGPUNodes: Unsupported background configuration.",f)}},_);c.backgroundNode=y,c.background=f,c.backgroundBlurriness=r.backgroundBlurriness}}else c.backgroundNode&&(delete c.backgroundNode,delete c.background)}getCacheNode(r,c,f,_=!1){const y=this.cacheLib[r]||(this.cacheLib[r]=new WeakMap);let T=y.get(c);return(T===void 0||_)&&(T=f(),y.set(c,T)),T}updateFog(r){const c=this.get(r),f=r.fog;if(f){if(c.fog!==f){const _=this.getCacheNode("fog",f,()=>{if(f.isFogExp2){const y=zn("color","color",f).setGroup(xi),T=zn("density","float",f).setGroup(xi);return G5(y,z8e(T))}else if(f.isFog){const y=zn("color","color",f).setGroup(xi),T=zn("near","float",f).setGroup(xi),A=zn("far","float",f).setGroup(xi);return G5(y,V8e(T,A))}else r0("Renderer: Unsupported fog configuration.",f)});c.fogNode=_,c.fog=f}}else delete c.fogNode,delete c.fog}updateEnvironment(r){const c=this.get(r),f=r.environment;if(f){if(c.environment!==f){const _=this.getCacheNode("environment",f,()=>{if(f.isCubeTexture===!0)return pf(f);if(f.isTexture===!0)return rn(f);r0("Nodes: Unsupported environment configuration.",f)});c.environmentNode=_,c.environment=f}}else c.environmentNode&&(delete c.environmentNode,delete c.environment)}getNodeFrame(r=this.renderer,c=null,f=null,_=null,y=null){const T=this.nodeFrame;return T.renderer=r,T.scene=c,T.object=f,T.camera=_,T.material=y,T}getNodeFrameForRender(r){return this.getNodeFrame(r.renderer,r.scene,r.object,r.camera,r.material)}getOutputCacheKey(){const r=this.renderer;return r.toneMapping+","+r.currentColorSpace+","+r.xr.isPresenting}hasOutputChange(r){return $5.get(r)!==this.getOutputCacheKey()}getOutputNode(r){const c=this.renderer,f=this.getOutputCacheKey(),_=r.isArrayTexture?E8e(r,Gt(el,Nf("gl_ViewID_OVR"))).renderOutput(c.toneMapping,c.currentColorSpace):rn(r,el).renderOutput(c.toneMapping,c.currentColorSpace);return $5.set(r,f),_}updateBefore(r){const c=r.getNodeBuilderState();for(const f of c.updateBeforeNodes)this.getNodeFrameForRender(r).updateBeforeNode(f)}updateAfter(r){const c=r.getNodeBuilderState();for(const f of c.updateAfterNodes)this.getNodeFrameForRender(r).updateAfterNode(f)}updateForCompute(r){const c=this.getNodeFrame(),f=this.getForCompute(r);for(const _ of f.updateNodes)c.updateNode(_)}updateForRender(r){const c=this.getNodeFrameForRender(r),f=r.getNodeBuilderState();for(const _ of f.updateNodes)c.updateNode(_)}needsRefresh(r){const c=this.getNodeFrameForRender(r);return r.getMonitor().needsRefresh(r,c)}dispose(){super.dispose(),this.nodeFrame=new q5,this.nodeBuilderCache=new Map,this.cacheLib={}}}const P4=new d1;class hp{constructor(r=null){this.version=0,this.clipIntersection=null,this.cacheKey="",this.shadowPass=!1,this.viewNormalMatrix=new Pi,this.clippingGroupContexts=new WeakMap,this.intersectionPlanes=[],this.unionPlanes=[],this.parentVersion=null,r!==null&&(this.viewNormalMatrix=r.viewNormalMatrix,this.clippingGroupContexts=r.clippingGroupContexts,this.shadowPass=r.shadowPass,this.viewMatrix=r.viewMatrix)}projectPlanes(r,c,f){const _=r.length;for(let y=0;y<_;y++){P4.copy(r[y]).applyMatrix4(this.viewMatrix,this.viewNormalMatrix);const T=c[f+y],A=P4.normal;T.x=-A.x,T.y=-A.y,T.z=-A.z,T.w=P4.constant}}updateGlobal(r,c){this.shadowPass=r.overrideMaterial!==null&&r.overrideMaterial.isShadowPassMaterial,this.viewMatrix=c.matrixWorldInverse,this.viewNormalMatrix.getNormalMatrix(this.viewMatrix)}update(r,c){let f=!1;r.version!==this.parentVersion&&(this.intersectionPlanes=Array.from(r.intersectionPlanes),this.unionPlanes=Array.from(r.unionPlanes),this.parentVersion=r.version),this.clipIntersection!==c.clipIntersection&&(this.clipIntersection=c.clipIntersection,this.clipIntersection?this.unionPlanes.length=r.unionPlanes.length:this.intersectionPlanes.length=r.intersectionPlanes.length);const _=c.clippingPlanes,y=_.length;let T,A;if(this.clipIntersection?(T=this.intersectionPlanes,A=r.intersectionPlanes.length):(T=this.unionPlanes,A=r.unionPlanes.length),T.length!==A+y){T.length=A+y;for(let N=0;N<y;N++)T[A+N]=new hi;f=!0}this.projectPlanes(_,T,A),f&&(this.version++,this.cacheKey=`${this.intersectionPlanes.length}:${this.unionPlanes.length}`)}getGroupContext(r){if(this.shadowPass&&!r.clipShadows)return this;let c=this.clippingGroupContexts.get(r);return c===void 0&&(c=new hp(this),this.clippingGroupContexts.set(r,c)),c.update(this,r),c}get unionClippingCount(){return this.unionPlanes.length}}class ume{constructor(r,c){this.bundleGroup=r,this.camera=c}}const Ru=[];class fme{constructor(){this.bundles=new _o}get(r,c){const f=this.bundles;Ru[0]=r,Ru[1]=c;let _=f.get(Ru);return _===void 0&&(_=new ume(r,c),f.set(Ru,_)),Ru.length=0,_}dispose(){this.bundles=new _o}}class Xy{constructor(){this.lightNodes=new WeakMap,this.materialNodes=new Map,this.toneMappingNodes=new Map}fromMaterial(r){if(r.isNodeMaterial)return r;let c=null;const f=this.getMaterialNodeClass(r.type);if(f!==null){c=new f;for(const _ in r)c[_]=r[_]}return c}addToneMapping(r,c){this.addType(r,c,this.toneMappingNodes)}getToneMappingFunction(r){return this.toneMappingNodes.get(r)||null}getMaterialNodeClass(r){return this.materialNodes.get(r)||null}addMaterial(r,c){this.addType(r,c,this.materialNodes)}getLightNodeClass(r){return this.lightNodes.get(r)||null}addLight(r,c){this.addClass(r,c,this.lightNodes)}addType(r,c,f){if(f.has(c)){jt(`Redefinition of node ${c}`);return}if(typeof r!="function")throw new Error(`Node class ${r.name} is not a class.`);if(typeof c=="function"||typeof c=="object")throw new Error(`Base class ${c} is not a class.`);f.set(c,r)}addClass(r,c,f){if(f.has(c)){jt(`Redefinition of node ${c.name}`);return}if(typeof r!="function")throw new Error(`Node class ${r.name} is not a class.`);if(typeof c!="function")throw new Error(`Base class ${c.name} is not a class.`);f.set(c,r)}}const _me=new Gy,Au=[];class pme extends _o{constructor(){super()}createNode(r=[]){return new Gy().setLights(r)}getNode(r,c){if(r.isQuadMesh)return _me;Au[0]=r,Au[1]=c;let f=this.get(Au);return f===void 0&&(f=this.createNode(),this.set(Au,f)),Au.length=0,f}}class Lu extends Qa{constructor(r=1,c=1,f={}){super(r,c,f),this.isXRRenderTarget=!0,this._hasExternalTextures=!1,this._autoAllocateDepthBuffer=!0,this._isOpaqueFramebuffer=!1}copy(r){return super.copy(r),this._hasExternalTextures=r._hasExternalTextures,this._autoAllocateDepthBuffer=r._autoAllocateDepthBuffer,this._isOpaqueFramebuffer=r._isOpaqueFramebuffer,this}}const Y5=new at,K5=new at;class hme extends N1{constructor(r,c=!1){super(),this.enabled=!1,this.isPresenting=!1,this.cameraAutoUpdate=!0,this._renderer=r,this._cameraL=new Y2,this._cameraL.viewport=new hi,this._cameraR=new Y2,this._cameraR.viewport=new hi,this._cameras=[this._cameraL,this._cameraR],this._cameraXR=new ex,this._currentDepthNear=null,this._currentDepthFar=null,this._controllers=[],this._controllerInputSources=[],this._xrRenderTarget=null,this._layers=[],this._sessionUsesLayers=!1,this._supportsGlBinding=typeof XRWebGLBinding<"u",this._frameBufferTargets=null,this._createXRLayer=vme.bind(this),this._gl=null,this._currentAnimationContext=null,this._currentAnimationLoop=null,this._currentPixelRatio=null,this._currentSize=new _i,this._onSessionEvent=gme.bind(this),this._onSessionEnd=xme.bind(this),this._onInputSourcesChange=yme.bind(this),this._onAnimationFrame=Sme.bind(this),this._referenceSpace=null,this._referenceSpaceType="local-floor",this._customReferenceSpace=null,this._framebufferScaleFactor=1,this._foveation=1,this._session=null,this._glBaseLayer=null,this._glBinding=null,this._glProjLayer=null,this._xrFrame=null,this._supportsLayers=this._supportsGlBinding&&"createProjectionLayer"in XRWebGLBinding.prototype,this._useMultiviewIfPossible=c,this._useMultiview=!1}getController(r){return this._getController(r).getTargetRaySpace()}getControllerGrip(r){return this._getController(r).getGripSpace()}getHand(r){return this._getController(r).getHandSpace()}getFoveation(){if(!(this._glProjLayer===null&&this._glBaseLayer===null))return this._foveation}setFoveation(r){this._foveation=r,this._glProjLayer!==null&&(this._glProjLayer.fixedFoveation=r),this._glBaseLayer!==null&&this._glBaseLayer.fixedFoveation!==void 0&&(this._glBaseLayer.fixedFoveation=r)}getFramebufferScaleFactor(){return this._framebufferScaleFactor}setFramebufferScaleFactor(r){this._framebufferScaleFactor=r,this.isPresenting===!0&&jt("XRManager: Cannot change framebuffer scale while presenting.")}getReferenceSpaceType(){return this._referenceSpaceType}setReferenceSpaceType(r){this._referenceSpaceType=r,this.isPresenting===!0&&jt("XRManager: Cannot change reference space type while presenting.")}getReferenceSpace(){return this._customReferenceSpace||this._referenceSpace}setReferenceSpace(r){this._customReferenceSpace=r}getCamera(){return this._cameraXR}getEnvironmentBlendMode(){if(this._session!==null)return this._session.environmentBlendMode}getBinding(){return this._glBinding===null&&this._supportsGlBinding&&(this._glBinding=new XRWebGLBinding(this._session,this._gl)),this._glBinding}getFrame(){return this._xrFrame}useMultiview(){return this._useMultiview}createQuadLayer(r,c,f,_,y,T,A,N={}){const k=new Tf(r,c),V=new Lu(y,T,{format:w2,type:T2,depthTexture:new qs(y,T,N.stencil?Is:Yn,void 0,void 0,void 0,void 0,void 0,void 0,N.stencil?Ls:Ps),stencilBuffer:N.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1});V._autoAllocateDepthBuffer=!0;const j=new oo({color:16777215,side:ys});j.map=V.texture,j.map.offset.y=1,j.map.repeat.y=-1;const K=new Q2(k,j);K.position.copy(f),K.quaternion.copy(_);const Q={type:"quad",width:r,height:c,translation:f,quaternion:_,pixelwidth:y,pixelheight:T,plane:K,material:j,rendercall:A,renderTarget:V};if(this._layers.push(Q),this._session!==null){Q.plane.material=new oo({color:16777215,side:ys}),Q.plane.material.blending=$c,Q.plane.material.blendEquation=Fr,Q.plane.material.blendSrc=h1,Q.plane.material.blendDst=h1,Q.xrlayer=this._createXRLayer(Q);const ie=this._session.renderState.layers;ie.unshift(Q.xrlayer),this._session.updateRenderState({layers:ie})}else V.isXRRenderTarget=!1;return K}createCylinderLayer(r,c,f,_,y,T,A,N,k={}){const V=new jd(r,r,r*c/f,64,64,!0,Math.PI-c/2,c),j=new Lu(T,A,{format:w2,type:T2,depthTexture:new qs(T,A,k.stencil?Is:Yn,void 0,void 0,void 0,void 0,void 0,void 0,k.stencil?Ls:Ps),stencilBuffer:k.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1});j._autoAllocateDepthBuffer=!0;const K=new oo({color:16777215,side:Kn});K.map=j.texture,K.map.offset.y=1,K.map.repeat.y=-1;const Q=new Q2(V,K);Q.position.copy(_),Q.quaternion.copy(y);const ie={type:"cylinder",radius:r,centralAngle:c,aspectratio:f,translation:_,quaternion:y,pixelwidth:T,pixelheight:A,plane:Q,material:K,rendercall:N,renderTarget:j};if(this._layers.push(ie),this._session!==null){ie.plane.material=new oo({color:16777215,side:Kn}),ie.plane.material.blending=$c,ie.plane.material.blendEquation=Fr,ie.plane.material.blendSrc=h1,ie.plane.material.blendDst=h1,ie.xrlayer=this._createXRLayer(ie);const ce=this._session.renderState.layers;ce.unshift(ie.xrlayer),this._session.updateRenderState({layers:ce})}else j.isXRRenderTarget=!1;return Q}renderLayers(){const r=new at,c=new b1,f=this._renderer,_=this.isPresenting,y=f.getOutputRenderTarget(),T=f._frameBufferTarget;this.isPresenting=!1;const A=new _i;f.getSize(A);const N=f._quad;for(const k of this._layers)if(k.renderTarget.isXRRenderTarget=this._session!==null,k.renderTarget._hasExternalTextures=k.renderTarget.isXRRenderTarget,k.renderTarget.isXRRenderTarget&&this._sessionUsesLayers){k.xrlayer.transform=new XRRigidTransform(k.plane.getWorldPosition(r),k.plane.getWorldQuaternion(c));const V=this._glBinding.getSubImage(k.xrlayer,this._xrFrame);f.backend.setXRRenderTargetTextures(k.renderTarget,V.colorTexture,void 0),f._setXRLayerSize(k.renderTarget.width,k.renderTarget.height),f.setOutputRenderTarget(k.renderTarget),f.setRenderTarget(null),f._frameBufferTarget=null,this._frameBufferTargets||(this._frameBufferTargets=new WeakMap);const{frameBufferTarget:j,quad:K}=this._frameBufferTargets.get(k.renderTarget)||{frameBufferTarget:null,quad:null};j?(f._frameBufferTarget=j,f._quad=K):(f._quad=new y8(new O2),this._frameBufferTargets.set(k.renderTarget,{frameBufferTarget:f._getFrameBufferTarget(),quad:f._quad})),k.rendercall(),f._frameBufferTarget=null}else f.setRenderTarget(k.renderTarget),k.rendercall();f.setRenderTarget(null),f.setOutputRenderTarget(y),f._frameBufferTarget=T,f._setXRLayerSize(A.x,A.y),f._quad=N,this.isPresenting=_}getSession(){return this._session}async setSession(r){const c=this._renderer,f=c.backend;this._gl=c.getContext();const _=this._gl,y=_.getContextAttributes();if(this._session=r,r!==null){if(f.isWebGPUBackend===!0)throw new Error('THREE.XRManager: XR is currently not supported with a WebGPU backend. Use WebGL by passing "{ forceWebGL: true }" to the constructor of the renderer.');if(r.addEventListener("select",this._onSessionEvent),r.addEventListener("selectstart",this._onSessionEvent),r.addEventListener("selectend",this._onSessionEvent),r.addEventListener("squeeze",this._onSessionEvent),r.addEventListener("squeezestart",this._onSessionEvent),r.addEventListener("squeezeend",this._onSessionEvent),r.addEventListener("end",this._onSessionEnd),r.addEventListener("inputsourceschange",this._onInputSourcesChange),await f.makeXRCompatible(),this._currentPixelRatio=c.getPixelRatio(),c.getSize(this._currentSize),this._currentAnimationContext=c._animation.getContext(),this._currentAnimationLoop=c._animation.getAnimationLoop(),c._animation.stop(),this._supportsLayers===!0){let T=null,A=null,N=null;c.depth&&(N=c.stencil?_.DEPTH24_STENCIL8:_.DEPTH_COMPONENT24,T=c.stencil?Ls:Ps,A=c.stencil?Is:Yn);const k={colorFormat:_.RGBA8,depthFormat:N,scaleFactor:this._framebufferScaleFactor,clearOnAccess:!1};this._useMultiviewIfPossible&&c.hasFeature("OVR_multiview2")&&(k.textureType="texture-array",this._useMultiview=!0),this._glBinding=this.getBinding();const V=this._glBinding.createProjectionLayer(k),j=[V];this._glProjLayer=V,c.setPixelRatio(1),c._setXRLayerSize(V.textureWidth,V.textureHeight);const K=this._useMultiview?2:1,Q=new qs(V.textureWidth,V.textureHeight,A,void 0,void 0,void 0,void 0,void 0,void 0,T,K);if(this._xrRenderTarget=new Lu(V.textureWidth,V.textureHeight,{format:w2,type:T2,colorSpace:c.outputColorSpace,depthTexture:Q,stencilBuffer:c.stencil,samples:y.antialias?4:0,resolveDepthBuffer:V.ignoreDepthValues===!1,resolveStencilBuffer:V.ignoreDepthValues===!1,depth:this._useMultiview?2:1,multiview:this._useMultiview}),this._xrRenderTarget._hasExternalTextures=!0,this._xrRenderTarget.depth=this._useMultiview?2:1,this._sessionUsesLayers=r.enabledFeatures.includes("layers"),this._referenceSpace=await r.requestReferenceSpace(this.getReferenceSpaceType()),this._sessionUsesLayers)for(const ie of this._layers)ie.plane.material=new oo({color:16777215,side:ie.type==="cylinder"?Kn:ys}),ie.plane.material.blending=$c,ie.plane.material.blendEquation=Fr,ie.plane.material.blendSrc=h1,ie.plane.material.blendDst=h1,ie.xrlayer=this._createXRLayer(ie),j.unshift(ie.xrlayer);r.updateRenderState({layers:j})}else{const T={antialias:c.currentSamples>0,alpha:!0,depth:c.depth,stencil:c.stencil,framebufferScaleFactor:this.getFramebufferScaleFactor()},A=new XRWebGLLayer(r,_,T);this._glBaseLayer=A,r.updateRenderState({baseLayer:A}),c.setPixelRatio(1),c._setXRLayerSize(A.framebufferWidth,A.framebufferHeight),this._xrRenderTarget=new Lu(A.framebufferWidth,A.framebufferHeight,{format:w2,type:T2,colorSpace:c.outputColorSpace,stencilBuffer:c.stencil,resolveDepthBuffer:A.ignoreDepthValues===!1,resolveStencilBuffer:A.ignoreDepthValues===!1}),this._xrRenderTarget._isOpaqueFramebuffer=!0,this._referenceSpace=await r.requestReferenceSpace(this.getReferenceSpaceType())}this.setFoveation(this.getFoveation()),c._animation.setAnimationLoop(this._onAnimationFrame),c._animation.setContext(r),c._animation.start(),this.isPresenting=!0,this.dispatchEvent({type:"sessionstart"})}}updateCamera(r){const c=this._session;if(c===null)return;const f=r.near,_=r.far,y=this._cameraXR,T=this._cameraL,A=this._cameraR;y.near=A.near=T.near=f,y.far=A.far=T.far=_,y.isMultiViewCamera=this._useMultiview,(this._currentDepthNear!==y.near||this._currentDepthFar!==y.far)&&(c.updateRenderState({depthNear:y.near,depthFar:y.far}),this._currentDepthNear=y.near,this._currentDepthFar=y.far),y.layers.mask=r.layers.mask|6,T.layers.mask=y.layers.mask&3,A.layers.mask=y.layers.mask&5;const N=r.parent,k=y.cameras;Z5(y,N);for(let V=0;V<k.length;V++)Z5(k[V],N);k.length===2?dme(y,T,A):y.projectionMatrix.copy(T.projectionMatrix),mme(r,y,N)}_getController(r){let c=this._controllers[r];return c===void 0&&(c=new q_,this._controllers[r]=c),c}}function dme(v,r,c){Y5.setFromMatrixPosition(r.matrixWorld),K5.setFromMatrixPosition(c.matrixWorld);const f=Y5.distanceTo(K5),_=r.projectionMatrix.elements,y=c.projectionMatrix.elements,T=_[14]/(_[10]-1),A=_[14]/(_[10]+1),N=(_[9]+1)/_[5],k=(_[9]-1)/_[5],V=(_[8]-1)/_[0],j=(y[8]+1)/y[0],K=T*V,Q=T*j,ie=f/(-V+j),ce=ie*-V;if(r.matrixWorld.decompose(v.position,v.quaternion,v.scale),v.translateX(ce),v.translateZ(ie),v.matrixWorld.compose(v.position,v.quaternion,v.scale),v.matrixWorldInverse.copy(v.matrixWorld).invert(),_[10]===-1)v.projectionMatrix.copy(r.projectionMatrix),v.projectionMatrixInverse.copy(r.projectionMatrixInverse);else{const ue=T+ie,re=A+ie,be=K-ce,De=Q+(f-ce),Oe=N*A/re*ue,je=k*A/re*ue;v.projectionMatrix.makePerspective(be,De,Oe,je,ue,re),v.projectionMatrixInverse.copy(v.projectionMatrix).invert()}}function Z5(v,r){r===null?v.matrixWorld.copy(v.matrix):v.matrixWorld.multiplyMatrices(r.matrixWorld,v.matrix),v.matrixWorldInverse.copy(v.matrixWorld).invert()}function mme(v,r,c){c===null?v.matrix.copy(r.matrixWorld):(v.matrix.copy(c.matrixWorld),v.matrix.invert(),v.matrix.multiply(r.matrixWorld)),v.matrix.decompose(v.position,v.quaternion,v.scale),v.updateMatrixWorld(!0),v.projectionMatrix.copy(r.projectionMatrix),v.projectionMatrixInverse.copy(r.projectionMatrixInverse),v.isPerspectiveCamera&&(v.fov=Xa*2*Math.atan(1/v.projectionMatrix.elements[5]),v.zoom=1)}function gme(v){const r=this._controllerInputSources.indexOf(v.inputSource);if(r===-1)return;const c=this._controllers[r];if(c!==void 0){const f=this.getReferenceSpace();c.update(v.inputSource,v.frame,f),c.dispatchEvent({type:v.type,data:v.inputSource})}}function xme(){const v=this._session,r=this._renderer;v.removeEventListener("select",this._onSessionEvent),v.removeEventListener("selectstart",this._onSessionEvent),v.removeEventListener("selectend",this._onSessionEvent),v.removeEventListener("squeeze",this._onSessionEvent),v.removeEventListener("squeezestart",this._onSessionEvent),v.removeEventListener("squeezeend",this._onSessionEvent),v.removeEventListener("end",this._onSessionEnd),v.removeEventListener("inputsourceschange",this._onInputSourcesChange);for(let c=0;c<this._controllers.length;c++){const f=this._controllerInputSources[c];f!==null&&(this._controllerInputSources[c]=null,this._controllers[c].disconnect(f))}if(this._currentDepthNear=null,this._currentDepthFar=null,r._resetXRState(),this._session=null,this._xrRenderTarget=null,this._glBinding=null,this._glBaseLayer=null,this._glProjLayer=null,this._sessionUsesLayers===!0)for(const c of this._layers)c.renderTarget=new Lu(c.pixelwidth,c.pixelheight,{format:w2,type:T2,depthTexture:new qs(c.pixelwidth,c.pixelheight,c.stencilBuffer?Is:Yn,void 0,void 0,void 0,void 0,void 0,void 0,c.stencilBuffer?Ls:Ps),stencilBuffer:c.stencilBuffer,resolveDepthBuffer:!1,resolveStencilBuffer:!1}),c.renderTarget.isXRRenderTarget=!1,c.plane.material=c.material,c.material.map=c.renderTarget.texture,c.material.map.offset.y=1,c.material.map.repeat.y=-1,delete c.xrlayer;this.isPresenting=!1,this._useMultiview=!1,r._animation.stop(),r._animation.setAnimationLoop(this._currentAnimationLoop),r._animation.setContext(this._currentAnimationContext),r._animation.start(),r.setPixelRatio(this._currentPixelRatio),r.setSize(this._currentSize.width,this._currentSize.height,!1),this.dispatchEvent({type:"sessionend"})}function yme(v){const r=this._controllers,c=this._controllerInputSources;for(let f=0;f<v.removed.length;f++){const _=v.removed[f],y=c.indexOf(_);y>=0&&(c[y]=null,r[y].disconnect(_))}for(let f=0;f<v.added.length;f++){const _=v.added[f];let y=c.indexOf(_);if(y===-1){for(let A=0;A<r.length;A++)if(A>=c.length){c.push(_),y=A;break}else if(c[A]===null){c[A]=_,y=A;break}if(y===-1)break}const T=r[y];T&&T.connect(_)}}function vme(v){return v.type==="quad"?this._glBinding.createQuadLayer({transform:new XRRigidTransform(v.translation,v.quaternion),width:v.width/2,height:v.height/2,space:this._referenceSpace,viewPixelWidth:v.pixelwidth,viewPixelHeight:v.pixelheight,clearOnAccess:!1}):this._glBinding.createCylinderLayer({transform:new XRRigidTransform(v.translation,v.quaternion),radius:v.radius,centralAngle:v.centralAngle,aspectRatio:v.aspectRatio,space:this._referenceSpace,viewPixelWidth:v.pixelwidth,viewPixelHeight:v.pixelheight,clearOnAccess:!1})}function Sme(v,r){if(r===void 0)return;const c=this._cameraXR,f=this._renderer,_=f.backend,y=this._glBaseLayer,T=this.getReferenceSpace(),A=r.getViewerPose(T);if(this._xrFrame=r,A!==null){const N=A.views;this._glBaseLayer!==null&&_.setXRTarget(y.framebuffer);let k=!1;N.length!==c.cameras.length&&(c.cameras.length=0,k=!0);for(let V=0;V<N.length;V++){const j=N[V];let K;if(this._supportsLayers===!0){const ie=this._glBinding.getViewSubImage(this._glProjLayer,j);K=ie.viewport,V===0&&_.setXRRenderTargetTextures(this._xrRenderTarget,ie.colorTexture,this._glProjLayer.ignoreDepthValues&&!this._useMultiview?void 0:ie.depthStencilTexture)}else K=y.getViewport(j);let Q=this._cameras[V];Q===void 0&&(Q=new Y2,Q.layers.enable(V),Q.viewport=new hi,this._cameras[V]=Q),Q.matrix.fromArray(j.transform.matrix),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale),Q.projectionMatrix.fromArray(j.projectionMatrix),Q.projectionMatrixInverse.copy(Q.projectionMatrix).invert(),Q.viewport.set(K.x,K.y,K.width,K.height),V===0&&(c.matrix.copy(Q.matrix),c.matrix.decompose(c.position,c.quaternion,c.scale)),k===!0&&c.cameras.push(Q)}f.setOutputRenderTarget(this._xrRenderTarget)}for(let N=0;N<this._controllers.length;N++){const k=this._controllerInputSources[N],V=this._controllers[N];k!==null&&V!==void 0&&V.update(k,r,T)}this._currentAnimationLoop&&this._currentAnimationLoop(v,r),r.detectedPlanes&&this.dispatchEvent({type:"planesdetected",data:r}),this._xrFrame=null}class Cme extends N1{constructor(r){super(),this.domElement=r,this._pixelRatio=1,this._width=this.domElement.width,this._height=this.domElement.height,this._viewport=new hi(0,0,this._width,this._height),this._scissor=new hi(0,0,this._width,this._height),this._scissorTest=!1,this.colorTexture=new Hg,this.depthTexture=new qs}getPixelRatio(){return this._pixelRatio}getDrawingBufferSize(r){return r.set(this._width*this._pixelRatio,this._height*this._pixelRatio).floor()}getSize(r){return r.set(this._width,this._height)}setPixelRatio(r=1){this._pixelRatio!==r&&(this._pixelRatio=r,this.setSize(this._width,this._height,!1))}setDrawingBufferSize(r,c,f){this.xr&&this.xr.isPresenting||(this._width=r,this._height=c,this._pixelRatio=f,this.domElement.width=Math.floor(r*f),this.domElement.height=Math.floor(c*f),this.setViewport(0,0,r,c),this._dispatchResize())}setSize(r,c,f=!0){this.xr&&this.xr.isPresenting||(this._width=r,this._height=c,this.domElement.width=Math.floor(r*this._pixelRatio),this.domElement.height=Math.floor(c*this._pixelRatio),f===!0&&(this.domElement.style.width=r+"px",this.domElement.style.height=c+"px"),this.setViewport(0,0,r,c),this._dispatchResize())}getScissor(r){const c=this._scissor;return r.x=c.x,r.y=c.y,r.width=c.width,r.height=c.height,r}setScissor(r,c,f,_){const y=this._scissor;r.isVector4?y.copy(r):y.set(r,c,f,_)}getScissorTest(){return this._scissorTest}setScissorTest(r){this._scissorTest=r}getViewport(r){return r.copy(this._viewport)}setViewport(r,c,f,_,y=0,T=1){const A=this._viewport;r.isVector4?A.copy(r):A.set(r,c,f,_),A.minDepth=y,A.maxDepth=T}_dispatchResize(){this.dispatchEvent({type:"resize"})}dispose(){this.dispatchEvent({type:"dispose"})}}const Q5=new vf,Oc=new _i,L4=new hi,k4=new Cf,F4=new Hd,G_=new Ri,p1=new hi;class Tme{constructor(r,c={}){this.isRenderer=!0;const{logarithmicDepthBuffer:f=!1,alpha:_=!0,depth:y=!0,stencil:T=!1,antialias:A=!1,samples:N=0,getFallback:k=null,colorBufferType:V=K2,multiview:j=!1}=c;this.backend=r,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.alpha=_,this.logarithmicDepthBuffer=f,this.outputColorSpace=D2,this.toneMapping=Jr,this.toneMappingExposure=1,this.sortObjects=!0,this.depth=y,this.stencil=T,this.info=new n8e,this.overrideNodes={modelViewMatrix:null,modelNormalViewMatrix:null},this.library=new Xy,this.lighting=new pme,this._samples=N||A===!0?4:0,this._onCanvasTargetResize=this._onCanvasTargetResize.bind(this),this._canvasTarget=new Cme(r.getDomElement()),this._canvasTarget.addEventListener("resize",this._onCanvasTargetResize),this._canvasTarget.isDefaultCanvasTarget=!0,this._inspector=new Vx,this._inspector.setRenderer(this),this._getFallback=k,this._attributes=null,this._geometries=null,this._nodes=null,this._animation=null,this._bindings=null,this._objects=null,this._pipelines=null,this._bundles=null,this._renderLists=null,this._renderContexts=null,this._textures=null,this._background=null,this._quad=new y8(new O2),this._quad.name="Output Color Transform",this._quad.material.name="outputColorTransform",this._currentRenderContext=null,this._opaqueSort=null,this._transparentSort=null,this._frameBufferTarget=null;const K=this.alpha===!0?0:1;this._clearColor=new x8(0,0,0,K),this._clearDepth=1,this._clearStencil=0,this._renderTarget=null,this._activeCubeFace=0,this._activeMipmapLevel=0,this._outputRenderTarget=null,this._mrt=null,this._renderObjectFunction=null,this._currentRenderObjectFunction=null,this._currentRenderBundle=null,this._handleObjectFunction=this._renderObjectDirect,this._isDeviceLost=!1,this.onDeviceLost=this._onDeviceLost,this._colorBufferType=V,this._cacheShadowNodes=new WeakMap,this._initialized=!1,this._initPromise=null,this._compilationPromises=null,this.transparent=!0,this.opaque=!0,this.shadowMap={enabled:!1,type:hd},this.xr=new hme(this,j),this.debug={checkShaderErrors:!0,onShaderError:null,getShaderAsync:async(Q,ie,ce)=>{await this.compileAsync(Q,ie);const ue=this._renderLists.get(Q,ie),re=this._renderContexts.get(Q,ie,this._renderTarget),be=Q.overrideMaterial||ce.material,De=this._objects.get(ce,be,Q,ie,ue.lightsNode,re,re.clippingContext),{fragmentShader:Oe,vertexShader:je}=De.getNodeBuilderState();return{fragmentShader:Oe,vertexShader:je}}}}async init(){return this._initPromise!==null?this._initPromise:(this._initPromise=new Promise(async(r,c)=>{let f=this.backend;try{await f.init(this)}catch(_){if(this._getFallback!==null)try{this.backend=f=this._getFallback(_),await f.init(this)}catch(y){c(y);return}else{c(_);return}}this._nodes=new lme(this,f),this._animation=new $de(this,this._nodes,this.info),this._attributes=new t8e(f),this._background=new w6e(this,this._nodes),this._geometries=new i8e(this._attributes,this.info),this._textures=new x8e(this,f,this.info),this._pipelines=new a8e(f,this._nodes),this._bindings=new c8e(f,this._nodes,this._textures,this._attributes,this._pipelines,this.info),this._objects=new Qde(this,this._nodes,this._geometries,this._pipelines,this._bindings,this.info),this._renderLists=new f8e(this.lighting),this._bundles=new fme,this._renderContexts=new m8e,this._animation.start(),this._initialized=!0,this._inspector.init(),r(this)}),this._initPromise)}get domElement(){return this._canvasTarget.domElement}get coordinateSystem(){return this.backend.coordinateSystem}async compileAsync(r,c,f=null){if(this._isDeviceLost===!0)return;this._initialized===!1&&await this.init();const _=this._nodes.nodeFrame,y=_.renderId,T=this._currentRenderContext,A=this._currentRenderObjectFunction,N=this._compilationPromises,k=r.isScene===!0?r:Q5;f===null&&(f=r);const V=this._renderTarget,j=this._renderContexts.get(f,c,V),K=this._activeMipmapLevel,Q=[];this._currentRenderContext=j,this._currentRenderObjectFunction=this.renderObject,this._handleObjectFunction=this._createObjectPipeline,this._compilationPromises=Q,_.renderId++,_.update(),j.depth=this.depth,j.stencil=this.stencil,j.clippingContext||(j.clippingContext=new hp),j.clippingContext.updateGlobal(k,c),k.onBeforeRender(this,r,c,V);const ie=this._renderLists.get(r,c);if(ie.begin(),this._projectObject(r,c,0,ie,j.clippingContext),f!==r&&f.traverseVisible(function(De){De.isLight&&De.layers.test(c.layers)&&ie.pushLight(De)}),ie.finish(),V!==null){this._textures.updateRenderTarget(V,K);const De=this._textures.get(V);j.textures=De.textures,j.depthTexture=De.depthTexture}else j.textures=null,j.depthTexture=null;this._background.update(k,ie,j);const ce=ie.opaque,ue=ie.transparent,re=ie.transparentDoublePass,be=ie.lightsNode;this.opaque===!0&&ce.length>0&&this._renderObjects(ce,c,k,be),this.transparent===!0&&ue.length>0&&this._renderTransparents(ue,re,c,k,be),_.renderId=y,this._currentRenderContext=T,this._currentRenderObjectFunction=A,this._compilationPromises=N,this._handleObjectFunction=this._renderObjectDirect,await Promise.all(Q)}async renderAsync(r,c){a2('Renderer: "renderAsync()" has been deprecated. Use "render()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.render(r,c)}async waitForGPU(){r0("Renderer: waitForGPU() has been removed. Read https://github.com/mrdoob/three.js/issues/32012 for more information.")}set inspector(r){this._inspector!==null&&this._inspector.setRenderer(null),this._inspector=r,this._inspector.setRenderer(this)}get inspector(){return this._inspector}set highPrecision(r){r===!0?(this.overrideNodes.modelViewMatrix=e5,this.overrideNodes.modelNormalViewMatrix=t5):this.highPrecision&&(this.overrideNodes.modelViewMatrix=null,this.overrideNodes.modelNormalViewMatrix=null)}get highPrecision(){return this.overrideNodes.modelViewMatrix===e5&&this.overrideNodes.modelNormalViewMatrix===t5}setMRT(r){return this._mrt=r,this}getMRT(){return this._mrt}getColorBufferType(){return this._colorBufferType}_onDeviceLost(r){let c=`THREE.WebGPURenderer: ${r.api} Device Lost:

Message: ${r.message}`;r.reason&&(c+=`
Reason: ${r.reason}`),r0(c),this._isDeviceLost=!0}_renderBundle(r,c,f){const{bundleGroup:_,camera:y,renderList:T}=r,A=this._currentRenderContext,N=this._bundles.get(_,y),k=this.backend.get(N);k.renderContexts===void 0&&(k.renderContexts=new Set);const V=_.version!==k.version,j=k.renderContexts.has(A)===!1||V;if(k.renderContexts.add(A),j){this.backend.beginBundle(A),(k.renderObjects===void 0||V)&&(k.renderObjects=[]),this._currentRenderBundle=N;const{transparentDoublePass:K,transparent:Q,opaque:ie}=T;this.opaque===!0&&ie.length>0&&this._renderObjects(ie,y,c,f),this.transparent===!0&&Q.length>0&&this._renderTransparents(Q,K,y,c,f),this._currentRenderBundle=null,this.backend.finishBundle(A,N),k.version=_.version}else{const{renderObjects:K}=k;for(let Q=0,ie=K.length;Q<ie;Q++){const ce=K[Q];this._nodes.needsRefresh(ce)&&(this._nodes.updateBefore(ce),this._nodes.updateForRender(ce),this._bindings.updateForRender(ce),this._nodes.updateAfter(ce))}}this.backend.addBundle(A,N)}render(r,c){if(this._initialized===!1)throw new Error('Renderer: .render() called before the backend is initialized. Use "await renderer.init();" before rendering.');this._renderScene(r,c)}get initialized(){return this._initialized}_getFrameBufferTarget(){const{currentToneMapping:r,currentColorSpace:c}=this,f=r!==Jr,_=c!==fi.workingColorSpace;if(f===!1&&_===!1)return null;const{width:y,height:T}=this.getDrawingBufferSize(Oc),{depth:A,stencil:N}=this;let k=this._frameBufferTarget;k===null&&(k=new Qa(y,T,{depthBuffer:A,stencilBuffer:N,type:this._colorBufferType,format:w2,colorSpace:fi.workingColorSpace,generateMipmaps:!1,minFilter:r2,magFilter:r2,samples:this.samples}),k.isPostProcessingRenderTarget=!0,this._frameBufferTarget=k);const V=this.getOutputRenderTarget();k.depthBuffer=A,k.stencilBuffer=N,V!==null?k.setSize(V.width,V.height,V.depth):k.setSize(y,T,1);const j=this._canvasTarget;return k.viewport.copy(j._viewport),k.scissor.copy(j._scissor),k.viewport.multiplyScalar(j._pixelRatio),k.scissor.multiplyScalar(j._pixelRatio),k.scissorTest=j._scissorTest,k.multiview=V!==null?V.multiview:!1,k.resolveDepthBuffer=V!==null?V.resolveDepthBuffer:!0,k._autoAllocateDepthBuffer=V!==null?V._autoAllocateDepthBuffer:!1,k}_renderScene(r,c,f=!0){if(this._isDeviceLost===!0)return;const _=f?this._getFrameBufferTarget():null,y=this._nodes.nodeFrame,T=y.renderId,A=this._currentRenderContext,N=this._currentRenderObjectFunction,k=r.isScene===!0?r:Q5,V=this._renderTarget||this._outputRenderTarget,j=this._activeCubeFace,K=this._activeMipmapLevel;let Q;_!==null?(Q=_,this.setRenderTarget(Q)):Q=V;const ie=this._renderContexts.get(r,c,Q);this._currentRenderContext=ie,this._currentRenderObjectFunction=this._renderObjectFunction||this.renderObject,this.info.calls++,this.info.render.calls++,this.info.render.frameCalls++,y.renderId=this.info.calls,this.backend.updateTimeStampUID(ie),this.inspector.beginRender(this.backend.getTimestampUID(ie),r,c,Q);const ce=this.coordinateSystem,ue=this.xr;if(c.coordinateSystem!==ce&&ue.isPresenting===!1&&(c.coordinateSystem=ce,c.updateProjectionMatrix(),c.isArrayCamera))for(const Et of c.cameras)Et.coordinateSystem=ce,Et.updateProjectionMatrix();r.matrixWorldAutoUpdate===!0&&r.updateMatrixWorld(),c.parent===null&&c.matrixWorldAutoUpdate===!0&&c.updateMatrixWorld(),ue.enabled===!0&&ue.isPresenting===!0&&(ue.cameraAutoUpdate===!0&&ue.updateCamera(c),c=ue.getCamera());const re=this._canvasTarget;let be=re._viewport,De=re._scissor,Oe=re._pixelRatio;Q!==null&&(be=Q.viewport,De=Q.scissor,Oe=1),this.getDrawingBufferSize(Oc),L4.set(0,0,Oc.width,Oc.height);const je=be.minDepth===void 0?0:be.minDepth,Be=be.maxDepth===void 0?1:be.maxDepth;ie.viewportValue.copy(be).multiplyScalar(Oe).floor(),ie.viewportValue.width>>=K,ie.viewportValue.height>>=K,ie.viewportValue.minDepth=je,ie.viewportValue.maxDepth=Be,ie.viewport=ie.viewportValue.equals(L4)===!1,ie.scissorValue.copy(De).multiplyScalar(Oe).floor(),ie.scissor=re._scissorTest&&ie.scissorValue.equals(L4)===!1,ie.scissorValue.width>>=K,ie.scissorValue.height>>=K,ie.clippingContext||(ie.clippingContext=new hp),ie.clippingContext.updateGlobal(k,c),k.onBeforeRender(this,r,c,Q);const We=c.isArrayCamera?F4:k4;c.isArrayCamera||(G_.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse),We.setFromProjectionMatrix(G_,c.coordinateSystem,c.reversedDepth));const $e=this._renderLists.get(r,c);if($e.begin(),this._projectObject(r,c,0,$e,ie.clippingContext),$e.finish(),this.sortObjects===!0&&$e.sort(this._opaqueSort,this._transparentSort),Q!==null){this._textures.updateRenderTarget(Q,K);const Et=this._textures.get(Q);ie.textures=Et.textures,ie.depthTexture=Et.depthTexture,ie.width=Et.width,ie.height=Et.height,ie.renderTarget=Q,ie.depth=Q.depthBuffer,ie.stencil=Q.stencilBuffer}else ie.textures=null,ie.depthTexture=null,ie.width=Oc.width,ie.height=Oc.height,ie.depth=this.depth,ie.stencil=this.stencil;ie.width>>=K,ie.height>>=K,ie.activeCubeFace=j,ie.activeMipmapLevel=K,ie.occlusionQueryCount=$e.occlusionQueryCount,ie.scissorValue.max(p1.set(0,0,0,0)),ie.scissorValue.x+ie.scissorValue.width>ie.width&&(ie.scissorValue.width=Math.max(ie.width-ie.scissorValue.x,0)),ie.scissorValue.y+ie.scissorValue.height>ie.height&&(ie.scissorValue.height=Math.max(ie.height-ie.scissorValue.y,0)),this._background.update(k,$e,ie),ie.camera=c,this.backend.beginRender(ie);const{bundles:Ee,lightsNode:Ie,transparentDoublePass:Je,transparent:ft,opaque:yt}=$e;return Ee.length>0&&this._renderBundles(Ee,k,Ie),this.opaque===!0&&yt.length>0&&this._renderObjects(yt,c,k,Ie),this.transparent===!0&&ft.length>0&&this._renderTransparents(ft,Je,c,k,Ie),this.backend.finishRender(ie),y.renderId=T,this._currentRenderContext=A,this._currentRenderObjectFunction=N,_!==null&&(this.setRenderTarget(V,j,K),this._renderOutput(Q)),k.onAfterRender(this,r,c,Q),this.inspector.finishRender(this.backend.getTimestampUID(ie)),ie}_setXRLayerSize(r,c){this._canvasTarget._width=r,this._canvasTarget._height=c,this.setViewport(0,0,r,c)}_renderOutput(r){const c=this._quad;this._nodes.hasOutputChange(r.texture)&&(c.material.fragmentNode=this._nodes.getOutputNode(r.texture),c.material.needsUpdate=!0);const f=this.autoClear,_=this.xr.enabled;this.autoClear=!1,this.xr.enabled=!1,this._renderScene(c,c.camera,!1),this.autoClear=f,this.xr.enabled=_}getMaxAnisotropy(){return this.backend.getMaxAnisotropy()}getActiveCubeFace(){return this._activeCubeFace}getActiveMipmapLevel(){return this._activeMipmapLevel}async setAnimationLoop(r){this._initialized===!1&&await this.init(),this._animation.setAnimationLoop(r)}getAnimationLoop(){return this._animation.getAnimationLoop()}async getArrayBufferAsync(r){return await this.backend.getArrayBufferAsync(r)}getContext(){return this.backend.getContext()}getPixelRatio(){return this._canvasTarget.getPixelRatio()}getDrawingBufferSize(r){return this._canvasTarget.getDrawingBufferSize(r)}getSize(r){return this._canvasTarget.getSize(r)}setPixelRatio(r=1){this._canvasTarget.setPixelRatio(r)}setDrawingBufferSize(r,c,f){this.xr&&this.xr.isPresenting||this._canvasTarget.setDrawingBufferSize(r,c,f)}setSize(r,c,f=!0){this.xr&&this.xr.isPresenting||this._canvasTarget.setSize(r,c,f)}setOpaqueSort(r){this._opaqueSort=r}setTransparentSort(r){this._transparentSort=r}getScissor(r){return this._canvasTarget.getScissor(r)}setScissor(r,c,f,_){this._canvasTarget.setScissor(r,c,f,_)}getScissorTest(){return this._canvasTarget.getScissorTest()}setScissorTest(r){this._canvasTarget.setScissorTest(r),this.backend.setScissorTest(r)}getViewport(r){return this._canvasTarget.getViewport(r)}setViewport(r,c,f,_,y=0,T=1){this._canvasTarget.setViewport(r,c,f,_,y,T)}getClearColor(r){return r.copy(this._clearColor)}setClearColor(r,c=1){this._clearColor.set(r),this._clearColor.a=c}getClearAlpha(){return this._clearColor.a}setClearAlpha(r){this._clearColor.a=r}getClearDepth(){return this._clearDepth}setClearDepth(r){this._clearDepth=r}getClearStencil(){return this._clearStencil}setClearStencil(r){this._clearStencil=r}isOccluded(r){const c=this._currentRenderContext;return c&&this.backend.isOccluded(c,r)}clear(r=!0,c=!0,f=!0){if(this._initialized===!1)throw new Error('Renderer: .clear() called before the backend is initialized. Use "await renderer.init();" before before using this method.');const _=this._renderTarget||this._getFrameBufferTarget();let y=null;if(_!==null){this._textures.updateRenderTarget(_);const T=this._textures.get(_);y=this._renderContexts.getForClear(_),y.textures=T.textures,y.depthTexture=T.depthTexture,y.width=T.width,y.height=T.height,y.renderTarget=_,y.depth=_.depthBuffer,y.stencil=_.stencilBuffer,y.clearColorValue=this.backend.getClearColor(),y.activeCubeFace=this.getActiveCubeFace(),y.activeMipmapLevel=this.getActiveMipmapLevel()}this.backend.clear(r,c,f,y),_!==null&&this._renderTarget===null&&this._renderOutput(_)}clearColor(){this.clear(!0,!1,!1)}clearDepth(){this.clear(!1,!0,!1)}clearStencil(){this.clear(!1,!1,!0)}async clearAsync(r=!0,c=!0,f=!0){a2('Renderer: "clearAsync()" has been deprecated. Use "clear()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.clear(r,c,f)}async clearColorAsync(){a2('Renderer: "clearColorAsync()" has been deprecated. Use "clearColor()" and "await renderer.init();" when creating the renderer.'),this.clear(!0,!1,!1)}async clearDepthAsync(){a2('Renderer: "clearDepthAsync()" has been deprecated. Use "clearDepth()" and "await renderer.init();" when creating the renderer.'),this.clear(!1,!0,!1)}async clearStencilAsync(){a2('Renderer: "clearStencilAsync()" has been deprecated. Use "clearStencil()" and "await renderer.init();" when creating the renderer.'),this.clear(!1,!1,!0)}get needsFrameBufferTarget(){const r=this.currentToneMapping!==Jr,c=this.currentColorSpace!==fi.workingColorSpace;return r||c}get samples(){return this._samples}get currentSamples(){let r=this._samples;return this._renderTarget!==null?r=this._renderTarget.samples:this.needsFrameBufferTarget&&(r=0),r}get currentToneMapping(){return this.isOutputTarget?this.toneMapping:Jr}get currentColorSpace(){return this.isOutputTarget?this.outputColorSpace:fi.workingColorSpace}get isOutputTarget(){return this._renderTarget===this._outputRenderTarget||this._renderTarget===null}dispose(){this._initialized===!0&&(this.info.dispose(),this.backend.dispose(),this._animation.dispose(),this._objects.dispose(),this._geometries.dispose(),this._pipelines.dispose(),this._nodes.dispose(),this._bindings.dispose(),this._renderLists.dispose(),this._renderContexts.dispose(),this._textures.dispose(),this._frameBufferTarget!==null&&this._frameBufferTarget.dispose(),Object.values(this.backend.timestampQueryPool).forEach(r=>{r!==null&&r.dispose()})),this.setRenderTarget(null),this.setAnimationLoop(null)}setRenderTarget(r,c=0,f=0){this._renderTarget=r,this._activeCubeFace=c,this._activeMipmapLevel=f}getRenderTarget(){return this._renderTarget}setOutputRenderTarget(r){this._outputRenderTarget=r}getOutputRenderTarget(){return this._outputRenderTarget}setCanvasTarget(r){this._canvasTarget.removeEventListener("resize",this._onCanvasTargetResize),this._canvasTarget=r,this._canvasTarget.addEventListener("resize",this._onCanvasTargetResize)}getCanvasTarget(){return this._canvasTarget}_resetXRState(){this.backend.setXRTarget(null),this.setOutputRenderTarget(null),this.setRenderTarget(null),this._frameBufferTarget.dispose(),this._frameBufferTarget=null}setRenderObjectFunction(r){this._renderObjectFunction=r}getRenderObjectFunction(){return this._renderObjectFunction}compute(r,c=null){if(this._isDeviceLost===!0)return;if(this._initialized===!1)return jt("Renderer: .compute() called before the backend is initialized. Try using .computeAsync() instead."),this.computeAsync(r,c);const f=this._nodes.nodeFrame,_=f.renderId;this.info.calls++,this.info.compute.calls++,this.info.compute.frameCalls++,f.renderId=this.info.calls,this.backend.updateTimeStampUID(r),this.inspector.beginCompute(this.backend.getTimestampUID(r),r);const y=this.backend,T=this._pipelines,A=this._bindings,N=this._nodes,k=Array.isArray(r)?r:[r];if(k[0]===void 0||k[0].isComputeNode!==!0)throw new Error("THREE.Renderer: .compute() expects a ComputeNode.");y.beginCompute(r);for(const V of k){if(T.has(V)===!1){const Q=()=>{V.removeEventListener("dispose",Q),T.delete(V),A.deleteForCompute(V),N.delete(V)};V.addEventListener("dispose",Q);const ie=V.onInitFunction;ie!==null&&ie.call(V,{renderer:this})}N.updateForCompute(V),A.updateForCompute(V);const j=A.getForCompute(V),K=T.getForCompute(V,j);y.compute(r,V,j,K,c)}y.finishCompute(r),f.renderId=_,this.inspector.finishCompute(this.backend.getTimestampUID(r))}async computeAsync(r,c=null){this._initialized===!1&&await this.init(),this.compute(r,c)}async hasFeatureAsync(r){return a2('Renderer: "hasFeatureAsync()" has been deprecated. Use "hasFeature()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.hasFeature(r)}async resolveTimestampsAsync(r="render"){return this._initialized===!1&&await this.init(),this.backend.resolveTimestampsAsync(r)}hasFeature(r){if(this._initialized===!1)throw new Error('Renderer: .hasFeature() called before the backend is initialized. Use "await renderer.init();" before before using this method.');return this.backend.hasFeature(r)}hasInitialized(){return this._initialized}async initTextureAsync(r){a2('Renderer: "initTextureAsync()" has been deprecated. Use "initTexture()" and "await renderer.init();" when creating the renderer.'),await this.init(),this.initTexture(r)}initTexture(r){if(this._initialized===!1)throw new Error('Renderer: .initTexture() called before the backend is initialized. Use "await renderer.init();" before before using this method.');this._textures.updateTexture(r)}copyFramebufferToTexture(r,c=null){if(c!==null)if(c.isVector2)c=p1.set(c.x,c.y,r.image.width,r.image.height).floor();else if(c.isVector4)c=p1.copy(c).floor();else{r0("Renderer.copyFramebufferToTexture: Invalid rectangle.");return}else c=p1.set(0,0,r.image.width,r.image.height);let f=this._currentRenderContext,_;f!==null?_=f.renderTarget:(_=this._renderTarget||this._getFrameBufferTarget(),_!==null&&(this._textures.updateRenderTarget(_),f=this._textures.get(_))),this._textures.updateTexture(r,{renderTarget:_}),this.backend.copyFramebufferToTexture(r,f,c),this._inspector.copyFramebufferToTexture(r)}copyTextureToTexture(r,c,f=null,_=null,y=0,T=0){this._textures.updateTexture(r),this._textures.updateTexture(c),this.backend.copyTextureToTexture(r,c,f,_,y,T),this._inspector.copyTextureToTexture(r,c)}async readRenderTargetPixelsAsync(r,c,f,_,y,T=0,A=0){return this.backend.copyTextureToBuffer(r.textures[T],c,f,_,y,A)}_projectObject(r,c,f,_,y){if(r.visible===!1)return;if(r.layers.test(c.layers)){if(r.isGroup)f=r.renderOrder,r.isClippingGroup&&r.enabled&&(y=y.getGroupContext(r));else if(r.isLOD)r.autoUpdate===!0&&r.update(c);else if(r.isLight)_.pushLight(r);else if(r.isSprite){const N=c.isArrayCamera?F4:k4;if(!r.frustumCulled||N.intersectsSprite(r,c)){this.sortObjects===!0&&p1.setFromMatrixPosition(r.matrixWorld).applyMatrix4(G_);const{geometry:k,material:V}=r;V.visible&&_.push(r,k,V,f,p1.z,null,y)}}else if(r.isLineLoop)r0("Renderer: Objects of type THREE.LineLoop are not supported. Please use THREE.Line or THREE.LineSegments.");else if(r.isMesh||r.isLine||r.isPoints){const N=c.isArrayCamera?F4:k4;if(!r.frustumCulled||N.intersectsObject(r,c)){const{geometry:k,material:V}=r;if(this.sortObjects===!0&&(k.boundingSphere===null&&k.computeBoundingSphere(),p1.copy(k.boundingSphere.center).applyMatrix4(r.matrixWorld).applyMatrix4(G_)),Array.isArray(V)){const j=k.groups;for(let K=0,Q=j.length;K<Q;K++){const ie=j[K],ce=V[ie.materialIndex];ce&&ce.visible&&_.push(r,k,ce,f,p1.z,ie,y)}}else V.visible&&_.push(r,k,V,f,p1.z,null,y)}}}if(r.isBundleGroup===!0&&this.backend.beginBundle!==void 0){const N=_;_=this._renderLists.get(r,c),_.begin(),N.pushBundle({bundleGroup:r,camera:c,renderList:_}),_.finish()}const A=r.children;for(let N=0,k=A.length;N<k;N++)this._projectObject(A[N],c,f,_,y)}_renderBundles(r,c,f){for(const _ of r)this._renderBundle(_,c,f)}_renderTransparents(r,c,f,_,y){if(c.length>0){for(const{material:T}of c)T.side=Kn;this._renderObjects(c,f,_,y,"backSide");for(const{material:T}of c)T.side=ys;this._renderObjects(r,f,_,y);for(const{material:T}of c)T.side=Ar}else this._renderObjects(r,f,_,y)}_renderObjects(r,c,f,_,y=null){for(let T=0,A=r.length;T<A;T++){const{object:N,geometry:k,material:V,group:j,clippingContext:K}=r[T];this._currentRenderObjectFunction(N,f,c,k,V,j,_,K,y)}}_getShadowNodes(r){const c=r.version;let f=this._cacheShadowNodes.get(r);if(f===void 0||f.version!==c){const _=r.map!==null,y=r.colorNode&&r.colorNode.isNode,T=r.castShadowNode&&r.castShadowNode.isNode;let A=null,N=null,k=null;if(_||y||T){let V,j;T?(V=r.castShadowNode.rgb,j=r.castShadowNode.a):(V=Gt(0),j=Lt(1)),_&&(j=j.mul(zn("map","texture",r).a)),y&&(j=j.mul(r.colorNode.a)),N=Li(V,j)}r.depthNode&&r.depthNode.isNode&&(k=r.depthNode),r.castShadowPositionNode&&r.castShadowPositionNode.isNode?A=r.castShadowPositionNode:r.positionNode&&r.positionNode.isNode&&(A=r.positionNode),f={version:c,colorNode:N,depthNode:k,positionNode:A},this._cacheShadowNodes.set(r,f)}return f}renderObject(r,c,f,_,y,T,A,N=null,k=null){let V=!1,j,K,Q,ie;if(r.onBeforeRender(this,c,f,_,y,T),y.allowOverride===!0&&c.overrideMaterial!==null){const ce=c.overrideMaterial;if(V=!0,j=c.overrideMaterial.colorNode,K=c.overrideMaterial.depthNode,Q=c.overrideMaterial.positionNode,ie=c.overrideMaterial.side,y.positionNode&&y.positionNode.isNode&&(ce.positionNode=y.positionNode),ce.alphaTest=y.alphaTest,ce.alphaMap=y.alphaMap,ce.transparent=y.transparent||y.transmission>0||y.transmissionNode&&y.transmissionNode.isNode||y.backdropNode&&y.backdropNode.isNode,ce.isShadowPassMaterial){const{colorNode:ue,depthNode:re,positionNode:be}=this._getShadowNodes(y);ce.side=y.shadowSide===null?y.side:y.shadowSide,ue!==null&&(ce.colorNode=ue),re!==null&&(ce.depthNode=re),be!==null&&(ce.positionNode=be)}y=ce}y.transparent===!0&&y.side===Ar&&y.forceSinglePass===!1?(y.side=Kn,this._handleObjectFunction(r,y,c,f,A,T,N,"backSide"),y.side=ys,this._handleObjectFunction(r,y,c,f,A,T,N,k),y.side=Ar):this._handleObjectFunction(r,y,c,f,A,T,N,k),V&&(c.overrideMaterial.colorNode=j,c.overrideMaterial.depthNode=K,c.overrideMaterial.positionNode=Q,c.overrideMaterial.side=ie),r.onAfterRender(this,c,f,_,y,T)}_renderObjectDirect(r,c,f,_,y,T,A,N){const k=this._objects.get(r,c,f,_,y,this._currentRenderContext,A,N);k.drawRange=r.geometry.drawRange,k.group=T;const V=this._nodes.needsRefresh(k);V&&(this._nodes.updateBefore(k),this._geometries.updateForRender(k),this._nodes.updateForRender(k),this._bindings.updateForRender(k)),this._pipelines.updateForRender(k),this._currentRenderBundle!==null&&(this.backend.get(this._currentRenderBundle).renderObjects.push(k),k.bundle=this._currentRenderBundle.bundleGroup),this.backend.draw(k,this.info),V&&this._nodes.updateAfter(k)}_createObjectPipeline(r,c,f,_,y,T,A,N){const k=this._objects.get(r,c,f,_,y,this._currentRenderContext,A,N);k.drawRange=r.geometry.drawRange,k.group=T,this._nodes.updateBefore(k),this._geometries.updateForRender(k),this._nodes.updateForRender(k),this._bindings.updateForRender(k),this._pipelines.getForRender(k,this._compilationPromises),this._nodes.updateAfter(k)}_onCanvasTargetResize(){this._initialized&&this.backend.updateSize()}get compile(){return this.compileAsync}}class $y{constructor(r=""){this.name=r,this.visibility=0}setVisibility(r){this.visibility|=r}clone(){return Object.assign(new this.constructor,this)}}function wme(v){return v+(Y1-v%Y1)%Y1}class Yy extends $y{constructor(r,c=null){super(r),this.isBuffer=!0,this.bytesPerElement=Float32Array.BYTES_PER_ELEMENT,this._buffer=c}get byteLength(){return wme(this._buffer.byteLength)}get buffer(){return this._buffer}update(){return!0}}class Ky extends Yy{constructor(r,c=null){super(r,c),this.isUniformBuffer=!0}}let Mme=0;class Zy extends Ky{constructor(r,c){super("UniformBuffer_"+Mme++,r?r.value:null),this.nodeUniform=r,this.groupNode=c}get buffer(){return this.nodeUniform.value}}class Rme extends Ky{constructor(r){super(r),this.isUniformsGroup=!0,this._values=null,this.uniforms=[]}addUniform(r){return this.uniforms.push(r),this}removeUniform(r){const c=this.uniforms.indexOf(r);return c!==-1&&this.uniforms.splice(c,1),this}get values(){return this._values===null&&(this._values=Array.from(this.buffer)),this._values}get buffer(){let r=this._buffer;if(r===null){const c=this.byteLength;r=new Float32Array(new ArrayBuffer(c)),this._buffer=r}return r}get byteLength(){const r=this.bytesPerElement;let c=0;for(let f=0,_=this.uniforms.length;f<_;f++){const y=this.uniforms[f],T=y.boundary,A=y.itemSize*r,N=c%Y1,k=N%T,V=N+k;c+=k,V!==0&&Y1-V<A&&(c+=Y1-V),y.offset=c/r,c+=A}return Math.ceil(c/Y1)*Y1}update(){let r=!1;for(const c of this.uniforms)this.updateByType(c)===!0&&(r=!0);return r}updateByType(r){if(r.isNumberUniform)return this.updateNumber(r);if(r.isVector2Uniform)return this.updateVector2(r);if(r.isVector3Uniform)return this.updateVector3(r);if(r.isVector4Uniform)return this.updateVector4(r);if(r.isColorUniform)return this.updateColor(r);if(r.isMatrix3Uniform)return this.updateMatrix3(r);if(r.isMatrix4Uniform)return this.updateMatrix4(r);r0("WebGPUUniformsGroup: Unsupported uniform type.",r)}updateNumber(r){let c=!1;const f=this.values,_=r.getValue(),y=r.offset,T=r.getType();if(f[y]!==_){const A=this._getBufferForType(T);A[y]=f[y]=_,c=!0}return c}updateVector2(r){let c=!1;const f=this.values,_=r.getValue(),y=r.offset,T=r.getType();if(f[y+0]!==_.x||f[y+1]!==_.y){const A=this._getBufferForType(T);A[y+0]=f[y+0]=_.x,A[y+1]=f[y+1]=_.y,c=!0}return c}updateVector3(r){let c=!1;const f=this.values,_=r.getValue(),y=r.offset,T=r.getType();if(f[y+0]!==_.x||f[y+1]!==_.y||f[y+2]!==_.z){const A=this._getBufferForType(T);A[y+0]=f[y+0]=_.x,A[y+1]=f[y+1]=_.y,A[y+2]=f[y+2]=_.z,c=!0}return c}updateVector4(r){let c=!1;const f=this.values,_=r.getValue(),y=r.offset,T=r.getType();if(f[y+0]!==_.x||f[y+1]!==_.y||f[y+2]!==_.z||f[y+4]!==_.w){const A=this._getBufferForType(T);A[y+0]=f[y+0]=_.x,A[y+1]=f[y+1]=_.y,A[y+2]=f[y+2]=_.z,A[y+3]=f[y+3]=_.w,c=!0}return c}updateColor(r){let c=!1;const f=this.values,_=r.getValue(),y=r.offset;if(f[y+0]!==_.r||f[y+1]!==_.g||f[y+2]!==_.b){const T=this.buffer;T[y+0]=f[y+0]=_.r,T[y+1]=f[y+1]=_.g,T[y+2]=f[y+2]=_.b,c=!0}return c}updateMatrix3(r){let c=!1;const f=this.values,_=r.getValue().elements,y=r.offset;if(f[y+0]!==_[0]||f[y+1]!==_[1]||f[y+2]!==_[2]||f[y+4]!==_[3]||f[y+5]!==_[4]||f[y+6]!==_[5]||f[y+8]!==_[6]||f[y+9]!==_[7]||f[y+10]!==_[8]){const T=this.buffer;T[y+0]=f[y+0]=_[0],T[y+1]=f[y+1]=_[1],T[y+2]=f[y+2]=_[2],T[y+4]=f[y+4]=_[3],T[y+5]=f[y+5]=_[4],T[y+6]=f[y+6]=_[5],T[y+8]=f[y+8]=_[6],T[y+9]=f[y+9]=_[7],T[y+10]=f[y+10]=_[8],c=!0}return c}updateMatrix4(r){let c=!1;const f=this.values,_=r.getValue().elements,y=r.offset;return Eme(f,_,y)===!1&&(this.buffer.set(_,y),Ame(f,_,y),c=!0),c}_getBufferForType(r){return r==="int"||r==="ivec2"||r==="ivec3"||r==="ivec4"?new Int32Array(this.buffer.buffer):r==="uint"||r==="uvec2"||r==="uvec3"||r==="uvec4"?new Uint32Array(this.buffer.buffer):this.buffer}}function Ame(v,r,c){for(let f=0,_=r.length;f<_;f++)v[c+f]=r[f]}function Eme(v,r,c){for(let f=0,_=r.length;f<_;f++)if(v[c+f]!==r[f])return!1;return!0}let Nme=0;class Qy extends Rme{constructor(r,c){super(r),this.id=Nme++,this.groupNode=c,this.isNodeUniformsGroup=!0}}class Jy extends $y{constructor(r,c){super(r),this._texture=null,this._onTextureDispose=()=>{this.generation=null,this.version=0},this.texture=c,this.version=c?c.version:0,this.generation=null,this.samplerKey="",this.isSampler=!0}set texture(r){this._texture!==r&&(this._texture&&this._texture.removeEventListener("dispose",this._onTextureDispose),this._texture=r,this.generation=null,this.version=0,this._texture&&this._texture.addEventListener("dispose",this._onTextureDispose))}get texture(){return this._texture}update(){const{texture:r,version:c}=this;return c!==r.version?(this.version=r.version,!0):!1}clone(){const r=super.clone();return r._texture=null,r._onTextureDispose=()=>{r.generation=null,r.version=0},r.texture=this.texture,r}}let bme=0;class Dme extends Jy{constructor(r,c){super(r,c),this.id=bme++,this.store=!1,this.mipLevel=0,this.isSampledTexture=!0}}class Gp extends Dme{constructor(r,c,f,_=null){super(r,c?c.value:null),this.textureNode=c,this.groupNode=f,this.access=_}update(){const{textureNode:r}=this;return this.texture!==r.value?(this.texture=r.value,!0):super.update()}}class ev extends Gp{constructor(r,c,f,_=null){super(r,c,f,_),this.isSampledCubeTexture=!0}}class ud extends Gp{constructor(r,c,f,_=null){super(r,c,f,_),this.isSampledTexture3D=!0}}const J5={bitcast_int_uint:new Rr("uint tsl_bitcast_uint_to_int ( int x ) { return floatBitsToInt( uintBitsToFloat( x ) ); }"),bitcast_uint_int:new Rr("uint tsl_bitcast_int_to_uint ( int x ) { return floatBitsToUint( intBitsToFloat ( x ) ); }")},Ime={textureDimensions:"textureSize",equals:"equal",bitcast_float_int:"floatBitsToInt",bitcast_int_float:"intBitsToFloat",bitcast_uint_float:"uintBitsToFloat",bitcast_float_uint:"floatBitsToUint",bitcast_uint_int:"tsl_bitcast_uint_to_int",bitcast_int_uint:"tsl_bitcast_int_to_uint"},Pme={low:"lowp",medium:"mediump",high:"highp"},eg={swizzleAssign:!0,storageBuffer:!1},tg={perspective:"smooth",linear:"noperspective"},ig={centroid:"centroid"},ng=`
precision highp float;
precision highp int;
precision highp sampler2D;
precision highp sampler3D;
precision highp samplerCube;
precision highp sampler2DArray;

precision highp usampler2D;
precision highp usampler3D;
precision highp usamplerCube;
precision highp usampler2DArray;

precision highp isampler2D;
precision highp isampler3D;
precision highp isamplerCube;
precision highp isampler2DArray;

precision lowp sampler2DShadow;
precision lowp sampler2DArrayShadow;
precision lowp samplerCubeShadow;
`;class Lme extends jy{constructor(r,c){super(r,c,new cme),this.uniformGroups={},this.transforms=[],this.extensions={},this.builtins={vertex:[],fragment:[],compute:[]}}needsToWorkingColorSpace(r){return r.isVideoTexture===!0&&r.colorSpace!==ms}_include(r){const c=J5[r];return c.build(this),this.addInclude(c),c}getMethod(r){return J5[r]!==void 0&&this._include(r),Ime[r]||r}getBitcastMethod(r,c){return this.getMethod(`bitcast_${c}_${r}`)}getTernary(r,c,f){return`${r} ? ${c} : ${f}`}getOutputStructName(){return""}buildFunctionCode(r){const c=r.layout,f=this.flowShaderNode(r),_=[];for(const T of c.inputs)_.push(this.getType(T.type)+" "+T.name);return`${this.getType(c.type)} ${c.name}( ${_.join(", ")} ) {

	${f.vars}

${f.code}
	return ${f.result};

}`}setupPBO(r){const c=r.value;if(c.pbo===void 0){const f=c.array,_=c.count*c.itemSize,{itemSize:y}=c,T=c.array.constructor.name.toLowerCase().includes("int");let A=T?Ol:xf;y===2?A=T?Gl:uo:y===3?A=T?mse:gf:y===4&&(A=T?Vl:w2);const N={Float32Array:I2,Uint8Array:T2,Uint16Array:lo,Uint32Array:Yn,Int8Array:Ga,Int16Array:Va,Int32Array:vr,Uint8ClampedArray:T2},k=Math.pow(2,Math.ceil(Math.log2(Math.sqrt(_/y))));let V=Math.ceil(_/y/k);k*V*y<_&&V++;const j=k*V*y,K=new f.constructor(j);K.set(f,0),c.array=K;const Q=new Sf(c.array,k,V,A,N[c.array.constructor.name]||I2);Q.needsUpdate=!0,Q.isPBOTexture=!0;const ie=new $l(Q,null,null);ie.setPrecision("high"),c.pboNode=ie,c.pbo=ie.value,this.getUniformFromNode(c.pboNode,"texture",this.shaderStage,this.context.nodeName)}}getPropertyName(r,c=this.shaderStage){return r.isNodeUniform&&r.node.isTextureNode!==!0&&r.node.isBufferNode!==!0?c.charAt(0)+"_"+r.name:super.getPropertyName(r,c)}generatePBO(r){const{node:c,indexNode:f}=r,_=c.value;if(this.renderer.backend.has(_)){const V=this.renderer.backend.get(_);V.pbo=_.pbo}const y=this.getUniformFromNode(_.pboNode,"texture",this.shaderStage,this.context.nodeName),T=this.getPropertyName(y);this.increaseUsage(f);const A=f.build(this,"uint"),N=this.getDataFromNode(r);let k=N.propertyName;if(k===void 0){const V=this.getVarFromNode(r);k=this.getPropertyName(V);const j=this.getDataFromNode(c);let K=j.propertySizeName;K===void 0&&(K=k+"Size",this.getVarFromNode(c,K,"uint"),this.addLineFlowCode(`${K} = uint( textureSize( ${T}, 0 ).x )`,r),j.propertySizeName=K);const{itemSize:Q}=_,ie="."+ql.join("").slice(0,Q),ce=`ivec2(${A} % ${K}, ${A} / ${K})`,ue=this.generateTextureLoad(null,T,ce,"0",null,null);let re="vec4";_.pbo.type===Yn?re="uvec4":_.pbo.type===vr&&(re="ivec4"),this.addLineFlowCode(`${k} = ${re}(${ue})${ie}`,r),N.propertyName=k}return k}generateTextureLoad(r,c,f,_,y,T){_===null&&(_="0");let A;return y?T?A=`texelFetchOffset( ${c}, ivec3( ${f}, ${y} ), ${_}, ${T} )`:A=`texelFetch( ${c}, ivec3( ${f}, ${y} ), ${_} )`:T?A=`texelFetchOffset( ${c}, ${f}, ${_}, ${T} )`:A=`texelFetch( ${c}, ${f}, ${_} )`,r!==null&&r.isDepthTexture&&(A+=".x"),A}generateTexture(r,c,f,_,y){return _&&(f=`vec3( ${f}, ${_} )`),r.isDepthTexture?y?`textureOffset( ${c}, ${f}, ${y} ).x`:`texture( ${c}, ${f} ).x`:y?`textureOffset( ${c}, ${f}, ${y} )`:`texture( ${c}, ${f} )`}generateTextureLevel(r,c,f,_,y){return y?`textureLodOffset( ${c}, ${f}, ${_}, ${y} )`:`textureLod( ${c}, ${f}, ${_} )`}generateTextureBias(r,c,f,_,y){return y?`textureOffset( ${c}, ${f}, ${y}, ${_} )`:`texture( ${c}, ${f}, ${_} )`}generateTextureGrad(r,c,f,_,y){return y?`textureGradOffset( ${c}, ${f}, ${_[0]}, ${_[1]}, ${y} )`:`textureGrad( ${c}, ${f}, ${_[0]}, ${_[1]} )`}generateTextureCompare(r,c,f,_,y,T,A=this.shaderStage){if(A==="fragment")return y?T?`textureOffset( ${c}, vec4( ${f}, ${y}, ${_} ), ${T} )`:`texture( ${c}, vec4( ${f}, ${y}, ${_} ) )`:T?`textureOffset( ${c}, vec3( ${f}, ${_} ), ${T} )`:`texture( ${c}, vec3( ${f}, ${_} ) )`;r0(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${A} shader.`)}getVars(r){const c=[],f=this.vars[r];if(f!==void 0)for(const _ of f)c.push(`${this.getVar(_.type,_.name,_.count)};`);return c.join(`
	`)}getUniforms(r){const c=this.uniforms[r],f=[],_={};for(const T of c){let A=null,N=!1;if(T.type==="texture"||T.type==="texture3D"){const V=T.node.value;let j="";(V.isDataTexture===!0||V.isData3DTexture===!0)&&(V.type===Yn?j="u":V.type===vr&&(j="i")),T.type==="texture3D"&&V.isArrayTexture===!1?A=`${j}sampler3D ${T.name};`:V.compareFunction?V.isArrayTexture===!0?A=`sampler2DArrayShadow ${T.name};`:A=`sampler2DShadow ${T.name};`:V.isArrayTexture===!0||V.isDataArrayTexture===!0||V.isCompressedArrayTexture===!0?A=`${j}sampler2DArray ${T.name};`:A=`${j}sampler2D ${T.name};`}else if(T.type==="cubeTexture")A=`samplerCube ${T.name};`;else if(T.type==="buffer"){const V=T.node,j=this.getType(V.bufferType),K=V.bufferCount,Q=K>0?K:"";A=`${V.name} {
	${j} ${T.name}[${Q}];
};
`}else A=`${this.getVectorType(T.type)} ${this.getPropertyName(T,r)};`,N=!0;const k=T.node.precision;if(k!==null&&(A=Pme[k]+" "+A),N){A="	"+A;const V=T.groupNode.name;(_[V]||(_[V]=[])).push(A)}else A="uniform "+A,f.push(A)}let y="";for(const T in _){const A=_[T];y+=this._getGLSLUniformStruct(r+"_"+T,A.join(`
`))+`
`}return y+=f.join(`
`),y}getTypeFromAttribute(r){let c=super.getTypeFromAttribute(r);if(/^[iu]/.test(c)&&r.gpuType!==vr){let f=r;r.isInterleavedBufferAttribute&&(f=r.data);const _=f.array;_ instanceof Uint32Array||_ instanceof Int32Array||(c=c.slice(1))}return c}getAttributes(r){let c="";if(r==="vertex"||r==="compute"){const f=this.getAttributesArray();let _=0;for(const y of f)c+=`layout( location = ${_++} ) in ${y.type} ${y.name};
`}return c}getStructMembers(r){const c=[];for(const f of r.members)c.push(`	${f.type} ${f.name};`);return c.join(`
`)}getStructs(r){const c=[],f=this.structs[r],_=[];for(const y of f)if(y.output)for(const T of y.members)_.push(`layout( location = ${T.index} ) out ${T.type} ${T.name};`);else{let T="struct "+y.name+` {
`;T+=this.getStructMembers(y),T+=`
};
`,c.push(T)}return _.length===0&&_.push("layout( location = 0 ) out vec4 fragColor;"),`
`+_.join(`
`)+`

`+c.join(`
`)}getVaryings(r){let c="";const f=this.varyings;if(r==="vertex"||r==="compute")for(const _ of f){r==="compute"&&(_.needsInterpolation=!0);const y=this.getType(_.type);if(_.needsInterpolation)if(_.interpolationType){const T=tg[_.interpolationType]||_.interpolationType,A=ig[_.interpolationSampling]||"";c+=`${T} ${A} out ${y} ${_.name};
`}else{const T=y.includes("int")||y.includes("uv")||y.includes("iv")?"flat ":"";c+=`${T}out ${y} ${_.name};
`}else c+=`${y} ${_.name};
`}else if(r==="fragment"){for(const _ of f)if(_.needsInterpolation){const y=this.getType(_.type);if(_.interpolationType){const T=tg[_.interpolationType]||_.interpolationType,A=ig[_.interpolationSampling]||"";c+=`${T} ${A} in ${y} ${_.name};
`}else{const T=y.includes("int")||y.includes("uv")||y.includes("iv")?"flat ":"";c+=`${T}in ${y} ${_.name};
`}}}for(const _ of this.builtins[r])c+=`${_};
`;return c}getVertexIndex(){return"uint( gl_VertexID )"}getInstanceIndex(){return"uint( gl_InstanceID )"}getInvocationLocalIndex(){return`uint( gl_InstanceID ) % ${this.object.workgroupSize.reduce((f,_)=>f*_,1)}u`}getSubgroupSize(){r0("GLSLNodeBuilder: WebGLBackend does not support the subgroupSize node")}getInvocationSubgroupIndex(){r0("GLSLNodeBuilder: WebGLBackend does not support the invocationSubgroupIndex node")}getSubgroupIndex(){r0("GLSLNodeBuilder: WebGLBackend does not support the subgroupIndex node")}getDrawIndex(){return this.renderer.backend.extensions.has("WEBGL_multi_draw")?"uint( gl_DrawID )":null}getFrontFacing(){return"gl_FrontFacing"}getFragCoord(){return"gl_FragCoord.xy"}getFragDepth(){return"gl_FragDepth"}enableExtension(r,c,f=this.shaderStage){const _=this.extensions[f]||(this.extensions[f]=new Map);_.has(r)===!1&&_.set(r,{name:r,behavior:c})}getExtensions(r){const c=[];if(r==="vertex"){const _=this.renderer.backend.extensions;this.object.isBatchedMesh&&_.has("WEBGL_multi_draw")&&this.enableExtension("GL_ANGLE_multi_draw","require",r)}const f=this.extensions[r];if(f!==void 0)for(const{name:_,behavior:y}of f.values())c.push(`#extension ${_} : ${y}`);return c.join(`
`)}getClipDistance(){return"gl_ClipDistance"}isAvailable(r){let c=eg[r];if(c===void 0){let f;switch(c=!1,r){case"float32Filterable":f="OES_texture_float_linear";break;case"clipDistance":f="WEBGL_clip_cull_distance";break}if(f!==void 0){const _=this.renderer.backend.extensions;_.has(f)&&(_.get(f),c=!0)}eg[r]=c}return c}isFlipY(){return!0}enableHardwareClipping(r){this.enableExtension("GL_ANGLE_clip_cull_distance","require"),this.builtins.vertex.push(`out float gl_ClipDistance[ ${r} ]`)}enableMultiview(){this.enableExtension("GL_OVR_multiview2","require","fragment"),this.enableExtension("GL_OVR_multiview2","require","vertex"),this.builtins.vertex.push("layout(num_views = 2) in")}registerTransform(r,c){this.transforms.push({varyingName:r,attributeNode:c})}getTransforms(){const r=this.transforms;let c="";for(let f=0;f<r.length;f++){const _=r[f],y=this.getPropertyName(_.attributeNode);y&&(c+=`${_.varyingName} = ${y};
	`)}return c}_getGLSLUniformStruct(r,c){return`
layout( std140 ) uniform ${r} {
${c}
};`}_getGLSLVertexCode(r){return`#version 300 es

${this.getSignature()}

// extensions
${r.extensions}

// precision
${ng}

// uniforms
${r.uniforms}

// varyings
${r.varyings}

// attributes
${r.attributes}

// codes
${r.codes}

void main() {

	// vars
	${r.vars}

	// transforms
	${r.transforms}

	// flow
	${r.flow}

	gl_PointSize = 1.0;

}
`}_getGLSLFragmentCode(r){return`#version 300 es

${this.getSignature()}

// extensions
${r.extensions}

// precision
${ng}

// structs
${r.structs}

// uniforms
${r.uniforms}

// varyings
${r.varyings}

// codes
${r.codes}

void main() {

	// vars
	${r.vars}

	// flow
	${r.flow}

}
`}buildCode(){const r=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const c in r){let f=`// code

`;f+=this.flowCode[c];const _=this.flowNodes[c],y=_[_.length-1];for(const A of _){const N=this.getFlowData(A),k=A.name;k&&(f.length>0&&(f+=`
`),f+=`	// flow -> ${k}
	`),f+=`${N.code}
	`,A===y&&c!=="compute"&&(f+=`// result
	`,c==="vertex"?(f+="gl_Position = ",f+=`${N.result};`):c==="fragment"&&(A.outputNode.isOutputStructNode||(f+="fragColor = ",f+=`${N.result};`)))}const T=r[c];T.extensions=this.getExtensions(c),T.uniforms=this.getUniforms(c),T.attributes=this.getAttributes(c),T.varyings=this.getVaryings(c),T.vars=this.getVars(c),T.structs=this.getStructs(c),T.codes=this.getCodes(c),T.transforms=this.getTransforms(c),T.flow=f}this.material!==null?(this.vertexShader=this._getGLSLVertexCode(r.vertex),this.fragmentShader=this._getGLSLFragmentCode(r.fragment)):this.computeShader=this._getGLSLVertexCode(r.compute)}getUniformFromNode(r,c,f,_=null){const y=super.getUniformFromNode(r,c,f,_),T=this.getDataFromNode(r,f,this.globalCache);let A=T.uniformGPU;if(A===void 0){const N=r.groupNode,k=N.name,V=this.getBindGroupArray(k,f);if(c==="texture")A=new Gp(y.name,y.node,N),V.push(A);else if(c==="cubeTexture")A=new ev(y.name,y.node,N),V.push(A);else if(c==="texture3D")A=new ud(y.name,y.node,N),V.push(A);else if(c==="buffer"){r.name=`NodeBuffer_${r.id}`,y.name=`buffer${r.id}`;const j=new Zy(r,N);j.name=r.name,V.push(j),A=j}else{const j=this.uniformGroups[f]||(this.uniformGroups[f]={});let K=j[k];K===void 0&&(K=new Qy(f+"_"+k,N),j[k]=K,V.push(K)),A=this.getNodeUniform(y,c),K.addUniform(A)}T.uniformGPU=A}return y}}let B4=null,Gc=null;class tv{constructor(r={}){this.parameters=Object.assign({},r),this.data=new WeakMap,this.renderer=null,this.domElement=null,this.timestampQueryPool={[Bo.RENDER]:null,[Bo.COMPUTE]:null},this.trackTimestamp=r.trackTimestamp===!0}async init(r){this.renderer=r}get coordinateSystem(){}beginRender(){}finishRender(){}beginCompute(){}finishCompute(){}draw(){}compute(){}createProgram(){}destroyProgram(){}createBindings(){}updateBindings(){}updateBinding(){}createRenderPipeline(){}createComputePipeline(){}needsRenderUpdate(){}getRenderCacheKey(){}createNodeBuilder(){}updateSampler(){}createDefaultTexture(){}createTexture(){}updateTexture(){}generateMipmaps(){}destroyTexture(){}async copyTextureToBuffer(){}copyTextureToTexture(){}copyFramebufferToTexture(){}createAttribute(){}createIndexAttribute(){}createStorageAttribute(){}updateAttribute(){}destroyAttribute(){}getContext(){}updateSize(){}updateViewport(){}updateTimeStampUID(r){const c=this.get(r),f=this.renderer.info.frame;let _;r.isComputeNode===!0?_="c:"+this.renderer.info.compute.frameCalls:_="r:"+this.renderer.info.render.frameCalls,c.timestampUID=_+":"+r.id+":f"+f}getTimestampUID(r){return this.get(r).timestampUID}getTimestampFrames(r){const c=this.timestampQueryPool[r];return c?c.getTimestampFrames():[]}_getQueryPool(r){const c=r.startsWith("c:")?Bo.COMPUTE:Bo.RENDER;return this.timestampQueryPool[c]}getTimestamp(r){return this._getQueryPool(r).getTimestamp(r)}hasTimestamp(r){return this._getQueryPool(r).hasTimestamp(r)}isOccluded(){}async resolveTimestampsAsync(r="render"){if(!this.trackTimestamp){a2("WebGPURenderer: Timestamp tracking is disabled.");return}const c=this.timestampQueryPool[r];if(!c)return;const f=await c.resolveQueriesAsync();return this.renderer.info[r].timestamp=f,f}async getArrayBufferAsync(){}async hasFeatureAsync(){}hasFeature(){}getMaxAnisotropy(){}getDrawingBufferSize(){return B4=B4||new _i,this.renderer.getDrawingBufferSize(B4)}setScissorTest(){}getClearColor(){const r=this.renderer;return Gc=Gc||new x8,r.getClearColor(Gc),Gc.getRGB(Gc),Gc}getDomElement(){let r=this.domElement;return r===null&&(r=this.parameters.canvas!==void 0?this.parameters.canvas:Lg(),"setAttribute"in r&&r.setAttribute("data-engine",`three.js r${Ul} webgpu`),this.domElement=r),r}set(r,c){this.data.set(r,c)}get(r){let c=this.data.get(r);return c===void 0&&(c={},this.data.set(r,c)),c}has(r){return this.data.has(r)}delete(r){this.data.delete(r)}dispose(){}}let kme=0;class Fme{constructor(r,c){this.buffers=[r.bufferGPU,c],this.type=r.type,this.bufferType=r.bufferType,this.pbo=r.pbo,this.byteLength=r.byteLength,this.bytesPerElement=r.BYTES_PER_ELEMENT,this.version=r.version,this.isInteger=r.isInteger,this.activeBufferIndex=0,this.baseId=r.id}get id(){return`${this.baseId}|${this.activeBufferIndex}`}get bufferGPU(){return this.buffers[this.activeBufferIndex]}get transformBuffer(){return this.buffers[this.activeBufferIndex^1]}switchBuffers(){this.activeBufferIndex^=1}}class Bme{constructor(r){this.backend=r}createAttribute(r,c){const f=this.backend,{gl:_}=f,y=r.array,T=r.usage||_.STATIC_DRAW,A=r.isInterleavedBufferAttribute?r.data:r,N=f.get(A);let k=N.bufferGPU;k===void 0&&(k=this._createBuffer(_,c,y,T),N.bufferGPU=k,N.bufferType=c,N.version=A.version);let V;if(y instanceof Float32Array)V=_.FLOAT;else if(typeof Float16Array<"u"&&y instanceof Float16Array)V=_.HALF_FLOAT;else if(y instanceof Uint16Array)r.isFloat16BufferAttribute?V=_.HALF_FLOAT:V=_.UNSIGNED_SHORT;else if(y instanceof Int16Array)V=_.SHORT;else if(y instanceof Uint32Array)V=_.UNSIGNED_INT;else if(y instanceof Int32Array)V=_.INT;else if(y instanceof Int8Array)V=_.BYTE;else if(y instanceof Uint8Array)V=_.UNSIGNED_BYTE;else if(y instanceof Uint8ClampedArray)V=_.UNSIGNED_BYTE;else throw new Error("THREE.WebGLBackend: Unsupported buffer data format: "+y);let j={bufferGPU:k,bufferType:c,type:V,byteLength:y.byteLength,bytesPerElement:y.BYTES_PER_ELEMENT,version:r.version,pbo:r.pbo,isInteger:V===_.INT||V===_.UNSIGNED_INT||r.gpuType===vr,id:kme++};if(r.isStorageBufferAttribute||r.isStorageInstancedBufferAttribute){const K=this._createBuffer(_,c,y,T);j=new Fme(j,K)}f.set(r,j)}updateAttribute(r){const c=this.backend,{gl:f}=c,_=r.array,y=r.isInterleavedBufferAttribute?r.data:r,T=c.get(y),A=T.bufferType,N=r.isInterleavedBufferAttribute?r.data.updateRanges:r.updateRanges;if(f.bindBuffer(A,T.bufferGPU),N.length===0)f.bufferSubData(A,0,_);else{for(let k=0,V=N.length;k<V;k++){const j=N[k];f.bufferSubData(A,j.start*_.BYTES_PER_ELEMENT,_,j.start,j.count)}y.clearUpdateRanges()}f.bindBuffer(A,null),T.version=y.version}destroyAttribute(r){const c=this.backend,{gl:f}=c;r.isInterleavedBufferAttribute&&c.delete(r.data);const _=c.get(r);f.deleteBuffer(_.bufferGPU),c.delete(r)}async getArrayBufferAsync(r){const c=this.backend,{gl:f}=c,_=r.isInterleavedBufferAttribute?r.data:r,{bufferGPU:y}=c.get(_),T=r.array,A=T.byteLength;f.bindBuffer(f.COPY_READ_BUFFER,y);const N=f.createBuffer();f.bindBuffer(f.COPY_WRITE_BUFFER,N),f.bufferData(f.COPY_WRITE_BUFFER,A,f.STREAM_READ),f.copyBufferSubData(f.COPY_READ_BUFFER,f.COPY_WRITE_BUFFER,0,0,A),await c.utils._clientWaitAsync();const k=new r.array.constructor(T.length);return f.bindBuffer(f.COPY_WRITE_BUFFER,N),f.getBufferSubData(f.COPY_WRITE_BUFFER,0,k),f.deleteBuffer(N),f.bindBuffer(f.COPY_READ_BUFFER,null),f.bindBuffer(f.COPY_WRITE_BUFFER,null),k.buffer}_createBuffer(r,c,f,_){const y=r.createBuffer();return r.bindBuffer(c,y),r.bufferData(c,f,_),r.bindBuffer(c,null),y}}let U4,Eu;class Ume{constructor(r){this.backend=r,this.gl=this.backend.gl,this.enabled={},this.currentFlipSided=null,this.currentCullFace=null,this.currentProgram=null,this.currentBlendingEnabled=!1,this.currentBlending=null,this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentPremultipledAlpha=null,this.currentPolygonOffsetFactor=null,this.currentPolygonOffsetUnits=null,this.currentColorMask=null,this.currentDepthFunc=null,this.currentDepthMask=null,this.currentStencilFunc=null,this.currentStencilRef=null,this.currentStencilFuncMask=null,this.currentStencilFail=null,this.currentStencilZFail=null,this.currentStencilZPass=null,this.currentStencilMask=null,this.currentLineWidth=null,this.currentClippingPlanes=0,this.currentVAO=null,this.currentIndex=null,this.currentBoundFramebuffers={},this.currentDrawbuffers=new WeakMap,this.maxTextures=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),this.currentTextureSlot=null,this.currentBoundTextures={},this.currentBoundBufferBases={},this._init()}_init(){const r=this.gl;U4={[Fr]:r.FUNC_ADD,[dd]:r.FUNC_SUBTRACT,[md]:r.FUNC_REVERSE_SUBTRACT},Eu={[h1]:r.ZERO,[gd]:r.ONE,[xd]:r.SRC_COLOR,[qu]:r.SRC_ALPHA,[wd]:r.SRC_ALPHA_SATURATE,[Cd]:r.DST_COLOR,[vd]:r.DST_ALPHA,[yd]:r.ONE_MINUS_SRC_COLOR,[Xu]:r.ONE_MINUS_SRC_ALPHA,[Td]:r.ONE_MINUS_DST_COLOR,[Sd]:r.ONE_MINUS_DST_ALPHA};const c=r.getParameter(r.SCISSOR_BOX),f=r.getParameter(r.VIEWPORT);this.currentScissor=new hi().fromArray(c),this.currentViewport=new hi().fromArray(f),this._tempVec4=new hi}enable(r){const{enabled:c}=this;c[r]!==!0&&(this.gl.enable(r),c[r]=!0)}disable(r){const{enabled:c}=this;c[r]!==!1&&(this.gl.disable(r),c[r]=!1)}setFlipSided(r){if(this.currentFlipSided!==r){const{gl:c}=this;r?c.frontFace(c.CW):c.frontFace(c.CCW),this.currentFlipSided=r}}setCullFace(r){const{gl:c}=this;r!==Sg?(this.enable(c.CULL_FACE),r!==this.currentCullFace&&(r===W4?c.cullFace(c.BACK):r===Cg?c.cullFace(c.FRONT):c.cullFace(c.FRONT_AND_BACK))):this.disable(c.CULL_FACE),this.currentCullFace=r}setLineWidth(r){const{currentLineWidth:c,gl:f}=this;r!==c&&(f.lineWidth(r),this.currentLineWidth=r)}setBlending(r,c,f,_,y,T,A,N){const{gl:k}=this;if(r===vs){this.currentBlendingEnabled===!0&&(this.disable(k.BLEND),this.currentBlendingEnabled=!1);return}if(this.currentBlendingEnabled===!1&&(this.enable(k.BLEND),this.currentBlendingEnabled=!0),r!==$c){if(r!==this.currentBlending||N!==this.currentPremultipledAlpha){if((this.currentBlendEquation!==Fr||this.currentBlendEquationAlpha!==Fr)&&(k.blendEquation(k.FUNC_ADD),this.currentBlendEquation=Fr,this.currentBlendEquationAlpha=Fr),N)switch(r){case Ds:k.blendFuncSeparate(k.ONE,k.ONE_MINUS_SRC_ALPHA,k.ONE,k.ONE_MINUS_SRC_ALPHA);break;case il:k.blendFunc(k.ONE,k.ONE);break;case nl:k.blendFuncSeparate(k.ZERO,k.ONE_MINUS_SRC_COLOR,k.ZERO,k.ONE);break;case rl:k.blendFuncSeparate(k.DST_COLOR,k.ONE_MINUS_SRC_ALPHA,k.ZERO,k.ONE);break;default:r0("WebGLState: Invalid blending: ",r);break}else switch(r){case Ds:k.blendFuncSeparate(k.SRC_ALPHA,k.ONE_MINUS_SRC_ALPHA,k.ONE,k.ONE_MINUS_SRC_ALPHA);break;case il:k.blendFuncSeparate(k.SRC_ALPHA,k.ONE,k.ONE,k.ONE);break;case nl:r0("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case rl:r0("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:r0("WebGLState: Invalid blending: ",r);break}this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentBlending=r,this.currentPremultipledAlpha=N}return}y=y||c,T=T||f,A=A||_,(c!==this.currentBlendEquation||y!==this.currentBlendEquationAlpha)&&(k.blendEquationSeparate(U4[c],U4[y]),this.currentBlendEquation=c,this.currentBlendEquationAlpha=y),(f!==this.currentBlendSrc||_!==this.currentBlendDst||T!==this.currentBlendSrcAlpha||A!==this.currentBlendDstAlpha)&&(k.blendFuncSeparate(Eu[f],Eu[_],Eu[T],Eu[A]),this.currentBlendSrc=f,this.currentBlendDst=_,this.currentBlendSrcAlpha=T,this.currentBlendDstAlpha=A),this.currentBlending=r,this.currentPremultipledAlpha=!1}setColorMask(r){this.currentColorMask!==r&&(this.gl.colorMask(r,r,r,r),this.currentColorMask=r)}setDepthTest(r){const{gl:c}=this;r?this.enable(c.DEPTH_TEST):this.disable(c.DEPTH_TEST)}setDepthMask(r){this.currentDepthMask!==r&&(this.gl.depthMask(r),this.currentDepthMask=r)}setDepthFunc(r){if(this.currentDepthFunc!==r){const{gl:c}=this;switch(r){case $u:c.depthFunc(c.NEVER);break;case Yu:c.depthFunc(c.ALWAYS);break;case Ku:c.depthFunc(c.LESS);break;case na:c.depthFunc(c.LEQUAL);break;case Zu:c.depthFunc(c.EQUAL);break;case Qu:c.depthFunc(c.GEQUAL);break;case Ju:c.depthFunc(c.GREATER);break;case ef:c.depthFunc(c.NOTEQUAL);break;default:c.depthFunc(c.LEQUAL)}this.currentDepthFunc=r}}scissor(r,c,f,_){const y=this._tempVec4.set(r,c,f,_);if(this.currentScissor.equals(y)===!1){const{gl:T}=this;T.scissor(y.x,y.y,y.z,y.w),this.currentScissor.copy(y)}}viewport(r,c,f,_){const y=this._tempVec4.set(r,c,f,_);if(this.currentViewport.equals(y)===!1){const{gl:T}=this;T.viewport(y.x,y.y,y.z,y.w),this.currentViewport.copy(y)}}setScissorTest(r){const c=this.gl;r?c.enable(c.SCISSOR_TEST):c.disable(c.SCISSOR_TEST)}setStencilTest(r){const{gl:c}=this;r?this.enable(c.STENCIL_TEST):this.disable(c.STENCIL_TEST)}setStencilMask(r){this.currentStencilMask!==r&&(this.gl.stencilMask(r),this.currentStencilMask=r)}setStencilFunc(r,c,f){(this.currentStencilFunc!==r||this.currentStencilRef!==c||this.currentStencilFuncMask!==f)&&(this.gl.stencilFunc(r,c,f),this.currentStencilFunc=r,this.currentStencilRef=c,this.currentStencilFuncMask=f)}setStencilOp(r,c,f){(this.currentStencilFail!==r||this.currentStencilZFail!==c||this.currentStencilZPass!==f)&&(this.gl.stencilOp(r,c,f),this.currentStencilFail=r,this.currentStencilZFail=c,this.currentStencilZPass=f)}setMaterial(r,c,f){const{gl:_}=this;r.side===Ar?this.disable(_.CULL_FACE):this.enable(_.CULL_FACE);let y=r.side===Kn;c&&(y=!y),this.setFlipSided(y),r.blending===Ds&&r.transparent===!1?this.setBlending(vs):this.setBlending(r.blending,r.blendEquation,r.blendSrc,r.blendDst,r.blendEquationAlpha,r.blendSrcAlpha,r.blendDstAlpha,r.premultipliedAlpha),this.setDepthFunc(r.depthFunc),this.setDepthTest(r.depthTest),this.setDepthMask(r.depthWrite),this.setColorMask(r.colorWrite);const T=r.stencilWrite;if(this.setStencilTest(T),T&&(this.setStencilMask(r.stencilWriteMask),this.setStencilFunc(r.stencilFunc,r.stencilRef,r.stencilFuncMask),this.setStencilOp(r.stencilFail,r.stencilZFail,r.stencilZPass)),this.setPolygonOffset(r.polygonOffset,r.polygonOffsetFactor,r.polygonOffsetUnits),r.alphaToCoverage===!0&&this.backend.renderer.currentSamples>0?this.enable(_.SAMPLE_ALPHA_TO_COVERAGE):this.disable(_.SAMPLE_ALPHA_TO_COVERAGE),f>0&&this.currentClippingPlanes!==f)for(let N=0;N<8;N++)N<f?this.enable(12288+N):this.disable(12288+N)}setPolygonOffset(r,c,f){const{gl:_}=this;r?(this.enable(_.POLYGON_OFFSET_FILL),(this.currentPolygonOffsetFactor!==c||this.currentPolygonOffsetUnits!==f)&&(_.polygonOffset(c,f),this.currentPolygonOffsetFactor=c,this.currentPolygonOffsetUnits=f)):this.disable(_.POLYGON_OFFSET_FILL)}useProgram(r){return this.currentProgram!==r?(this.gl.useProgram(r),this.currentProgram=r,!0):!1}setVertexState(r,c=null){const f=this.gl;return this.currentVAO!==r||this.currentIndex!==c?(f.bindVertexArray(r),c!==null&&f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,c),this.currentVAO=r,this.currentIndex=c,!0):!1}resetVertexState(){const r=this.gl;r.bindVertexArray(null),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null),this.currentVAO=null,this.currentIndex=null}bindFramebuffer(r,c){const{gl:f,currentBoundFramebuffers:_}=this;return _[r]!==c?(f.bindFramebuffer(r,c),_[r]=c,r===f.DRAW_FRAMEBUFFER&&(_[f.FRAMEBUFFER]=c),r===f.FRAMEBUFFER&&(_[f.DRAW_FRAMEBUFFER]=c),!0):!1}drawBuffers(r,c){const{gl:f}=this;let _=[],y=!1;if(r.textures!==null){_=this.currentDrawbuffers.get(c),_===void 0&&(_=[],this.currentDrawbuffers.set(c,_));const T=r.textures;if(_.length!==T.length||_[0]!==f.COLOR_ATTACHMENT0){for(let A=0,N=T.length;A<N;A++)_[A]=f.COLOR_ATTACHMENT0+A;_.length=T.length,y=!0}}else _[0]!==f.BACK&&(_[0]=f.BACK,y=!0);y&&f.drawBuffers(_)}activeTexture(r){const{gl:c,currentTextureSlot:f,maxTextures:_}=this;r===void 0&&(r=c.TEXTURE0+_-1),f!==r&&(c.activeTexture(r),this.currentTextureSlot=r)}bindTexture(r,c,f){const{gl:_,currentTextureSlot:y,currentBoundTextures:T,maxTextures:A}=this;f===void 0&&(y===null?f=_.TEXTURE0+A-1:f=y);let N=T[f];N===void 0&&(N={type:void 0,texture:void 0},T[f]=N),(N.type!==r||N.texture!==c)&&(y!==f&&(_.activeTexture(f),this.currentTextureSlot=f),_.bindTexture(r,c),N.type=r,N.texture=c)}bindBufferBase(r,c,f){const{gl:_}=this,y=`${r}-${c}`;return this.currentBoundBufferBases[y]!==f?(_.bindBufferBase(r,c,f),this.currentBoundBufferBases[y]=f,!0):!1}unbindTexture(){const{gl:r,currentTextureSlot:c,currentBoundTextures:f}=this,_=f[c];_!==void 0&&_.type!==void 0&&(r.bindTexture(_.type,null),_.type=void 0,_.texture=void 0)}}class Ome{constructor(r){this.backend=r,this.gl=this.backend.gl,this.extensions=r.extensions}convert(r,c=ms){const{gl:f,extensions:_}=this;let y;const T=fi.getTransfer(c);if(r===T2)return f.UNSIGNED_BYTE;if(r===dp)return f.UNSIGNED_SHORT_4_4_4_4;if(r===mp)return f.UNSIGNED_SHORT_5_5_5_1;if(r===gp)return f.UNSIGNED_INT_5_9_9_9_REV;if(r===xp)return f.UNSIGNED_INT_10F_11F_11F_REV;if(r===Ga)return f.BYTE;if(r===Va)return f.SHORT;if(r===lo)return f.UNSIGNED_SHORT;if(r===vr)return f.INT;if(r===Yn)return f.UNSIGNED_INT;if(r===I2)return f.FLOAT;if(r===K2)return f.HALF_FLOAT;if(r===Ad)return f.ALPHA;if(r===gf)return f.RGB;if(r===w2)return f.RGBA;if(r===Ps)return f.DEPTH_COMPONENT;if(r===Ls)return f.DEPTH_STENCIL;if(r===xf)return f.RED;if(r===Ol)return f.RED_INTEGER;if(r===uo)return f.RG;if(r===Gl)return f.RG_INTEGER;if(r===Vl)return f.RGBA_INTEGER;if(r===Q1||r===J1||r===ea||r===ta)if(T===N0)if(y=_.get("WEBGL_compressed_texture_s3tc_srgb"),y!==null){if(r===Q1)return y.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===J1)return y.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===ea)return y.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===ta)return y.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(y=_.get("WEBGL_compressed_texture_s3tc"),y!==null){if(r===Q1)return y.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===J1)return y.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===ea)return y.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===ta)return y.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===tf||r===nf||r===rf||r===sf)if(y=_.get("WEBGL_compressed_texture_pvrtc"),y!==null){if(r===tf)return y.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===nf)return y.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===rf)return y.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===sf)return y.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===al||r===cl||r===ll)if(y=_.get("WEBGL_compressed_texture_etc"),y!==null){if(r===al||r===cl)return T===N0?y.COMPRESSED_SRGB8_ETC2:y.COMPRESSED_RGB8_ETC2;if(r===ll)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:y.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===ul||r===fl||r===_l||r===pl||r===hl||r===dl||r===ml||r===gl||r===xl||r===yl||r===vl||r===Sl||r===Cl||r===Tl)if(y=_.get("WEBGL_compressed_texture_astc"),y!==null){if(r===ul)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:y.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===fl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:y.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===_l)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:y.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===pl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:y.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===hl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:y.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===dl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:y.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===ml)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:y.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===gl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:y.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===xl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:y.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===yl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:y.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===vl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:y.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Sl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:y.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Cl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:y.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Tl)return T===N0?y.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:y.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===wl)if(y=_.get("EXT_texture_compression_bptc"),y!==null){if(r===wl)return T===N0?y.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:y.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(r===Ml||r===Rl||r===Al||r===El)if(y=_.get("EXT_texture_compression_rgtc"),y!==null){if(r===Ml)return y.COMPRESSED_RED_RGTC1_EXT;if(r===Rl)return y.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Al)return y.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===El)return y.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Is?f.UNSIGNED_INT_24_8:f[r]!==void 0?f[r]:null}_clientWaitAsync(){const{gl:r}=this,c=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);return r.flush(),new Promise((f,_)=>{function y(){const T=r.clientWaitSync(c,r.SYNC_FLUSH_COMMANDS_BIT,0);if(T===r.WAIT_FAILED){r.deleteSync(c),_();return}if(T===r.TIMEOUT_EXPIRED){requestAnimationFrame(y);return}r.deleteSync(c),f()}y()})}}let rg=!1,V_,O4,sg;class Gme{constructor(r){this.backend=r,this.gl=r.gl,this.extensions=r.extensions,this.defaultTextures={},this._srcFramebuffer=null,this._dstFramebuffer=null,rg===!1&&(this._init(),rg=!0)}_init(){const r=this.gl;V_={[co]:r.REPEAT,[Sr]:r.CLAMP_TO_EDGE,[ja]:r.MIRRORED_REPEAT},O4={[n2]:r.NEAREST,[Rd]:r.NEAREST_MIPMAP_NEAREST,[v1]:r.NEAREST_MIPMAP_LINEAR,[r2]:r.LINEAR,[Yc]:r.LINEAR_MIPMAP_NEAREST,[Ur]:r.LINEAR_MIPMAP_LINEAR},sg={[Ed]:r.NEVER,[Pd]:r.ALWAYS,[yp]:r.LESS,[vp]:r.LEQUAL,[Nd]:r.EQUAL,[Id]:r.GEQUAL,[bd]:r.GREATER,[Dd]:r.NOTEQUAL}}getGLTextureType(r){const{gl:c}=this;let f;return r.isCubeTexture===!0?f=c.TEXTURE_CUBE_MAP:r.isArrayTexture===!0||r.isDataArrayTexture===!0||r.isCompressedArrayTexture===!0?f=c.TEXTURE_2D_ARRAY:r.isData3DTexture===!0?f=c.TEXTURE_3D:f=c.TEXTURE_2D,f}getInternalFormat(r,c,f,_,y=!1){const{gl:T,extensions:A}=this;if(r!==null){if(T[r]!==void 0)return T[r];jt("WebGLBackend: Attempt to use non-existing WebGL internal format '"+r+"'")}let N=c;if(c===T.RED&&(f===T.FLOAT&&(N=T.R32F),f===T.HALF_FLOAT&&(N=T.R16F),f===T.UNSIGNED_BYTE&&(N=T.R8),f===T.UNSIGNED_SHORT&&(N=T.R16),f===T.UNSIGNED_INT&&(N=T.R32UI),f===T.BYTE&&(N=T.R8I),f===T.SHORT&&(N=T.R16I),f===T.INT&&(N=T.R32I)),c===T.RED_INTEGER&&(f===T.UNSIGNED_BYTE&&(N=T.R8UI),f===T.UNSIGNED_SHORT&&(N=T.R16UI),f===T.UNSIGNED_INT&&(N=T.R32UI),f===T.BYTE&&(N=T.R8I),f===T.SHORT&&(N=T.R16I),f===T.INT&&(N=T.R32I)),c===T.RG&&(f===T.FLOAT&&(N=T.RG32F),f===T.HALF_FLOAT&&(N=T.RG16F),f===T.UNSIGNED_BYTE&&(N=T.RG8),f===T.UNSIGNED_SHORT&&(N=T.RG16),f===T.UNSIGNED_INT&&(N=T.RG32UI),f===T.BYTE&&(N=T.RG8I),f===T.SHORT&&(N=T.RG16I),f===T.INT&&(N=T.RG32I)),c===T.RG_INTEGER&&(f===T.UNSIGNED_BYTE&&(N=T.RG8UI),f===T.UNSIGNED_SHORT&&(N=T.RG16UI),f===T.UNSIGNED_INT&&(N=T.RG32UI),f===T.BYTE&&(N=T.RG8I),f===T.SHORT&&(N=T.RG16I),f===T.INT&&(N=T.RG32I)),c===T.RGB){const k=y?Nl:fi.getTransfer(_);f===T.FLOAT&&(N=T.RGB32F),f===T.HALF_FLOAT&&(N=T.RGB16F),f===T.UNSIGNED_BYTE&&(N=T.RGB8),f===T.UNSIGNED_SHORT&&(N=T.RGB16),f===T.UNSIGNED_INT&&(N=T.RGB32UI),f===T.BYTE&&(N=T.RGB8I),f===T.SHORT&&(N=T.RGB16I),f===T.INT&&(N=T.RGB32I),f===T.UNSIGNED_BYTE&&(N=k===N0?T.SRGB8:T.RGB8),f===T.UNSIGNED_SHORT_5_6_5&&(N=T.RGB565),f===T.UNSIGNED_SHORT_5_5_5_1&&(N=T.RGB5_A1),f===T.UNSIGNED_SHORT_4_4_4_4&&(N=T.RGB4),f===T.UNSIGNED_INT_5_9_9_9_REV&&(N=T.RGB9_E5),f===T.UNSIGNED_INT_10F_11F_11F_REV&&(N=T.R11F_G11F_B10F)}if(c===T.RGB_INTEGER&&(f===T.UNSIGNED_BYTE&&(N=T.RGB8UI),f===T.UNSIGNED_SHORT&&(N=T.RGB16UI),f===T.UNSIGNED_INT&&(N=T.RGB32UI),f===T.BYTE&&(N=T.RGB8I),f===T.SHORT&&(N=T.RGB16I),f===T.INT&&(N=T.RGB32I)),c===T.RGBA){const k=y?Nl:fi.getTransfer(_);f===T.FLOAT&&(N=T.RGBA32F),f===T.HALF_FLOAT&&(N=T.RGBA16F),f===T.UNSIGNED_BYTE&&(N=T.RGBA8),f===T.UNSIGNED_SHORT&&(N=T.RGBA16),f===T.UNSIGNED_INT&&(N=T.RGBA32UI),f===T.BYTE&&(N=T.RGBA8I),f===T.SHORT&&(N=T.RGBA16I),f===T.INT&&(N=T.RGBA32I),f===T.UNSIGNED_BYTE&&(N=k===N0?T.SRGB8_ALPHA8:T.RGBA8),f===T.UNSIGNED_SHORT_4_4_4_4&&(N=T.RGBA4),f===T.UNSIGNED_SHORT_5_5_5_1&&(N=T.RGB5_A1)}return c===T.RGBA_INTEGER&&(f===T.UNSIGNED_BYTE&&(N=T.RGBA8UI),f===T.UNSIGNED_SHORT&&(N=T.RGBA16UI),f===T.UNSIGNED_INT&&(N=T.RGBA32UI),f===T.BYTE&&(N=T.RGBA8I),f===T.SHORT&&(N=T.RGBA16I),f===T.INT&&(N=T.RGBA32I)),c===T.DEPTH_COMPONENT&&(f===T.UNSIGNED_SHORT&&(N=T.DEPTH_COMPONENT16),f===T.UNSIGNED_INT&&(N=T.DEPTH_COMPONENT24),f===T.FLOAT&&(N=T.DEPTH_COMPONENT32F)),c===T.DEPTH_STENCIL&&f===T.UNSIGNED_INT_24_8&&(N=T.DEPTH24_STENCIL8),(N===T.R16F||N===T.R32F||N===T.RG16F||N===T.RG32F||N===T.RGBA16F||N===T.RGBA32F)&&A.get("EXT_color_buffer_float"),N}setTextureParameters(r,c){const{gl:f,extensions:_,backend:y}=this,T=fi.getPrimaries(fi.workingColorSpace),A=c.colorSpace===ms?null:fi.getPrimaries(c.colorSpace),N=c.colorSpace===ms||T===A?f.NONE:f.BROWSER_DEFAULT_WEBGL;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,c.flipY),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultiplyAlpha),f.pixelStorei(f.UNPACK_ALIGNMENT,c.unpackAlignment),f.pixelStorei(f.UNPACK_COLORSPACE_CONVERSION_WEBGL,N),f.texParameteri(r,f.TEXTURE_WRAP_S,V_[c.wrapS]),f.texParameteri(r,f.TEXTURE_WRAP_T,V_[c.wrapT]),(r===f.TEXTURE_3D||r===f.TEXTURE_2D_ARRAY)&&(c.isArrayTexture||f.texParameteri(r,f.TEXTURE_WRAP_R,V_[c.wrapR])),f.texParameteri(r,f.TEXTURE_MAG_FILTER,O4[c.magFilter]);const k=c.mipmaps!==void 0&&c.mipmaps.length>0,V=c.minFilter===r2&&k?Ur:c.minFilter;if(f.texParameteri(r,f.TEXTURE_MIN_FILTER,O4[V]),c.compareFunction&&(f.texParameteri(r,f.TEXTURE_COMPARE_MODE,f.COMPARE_REF_TO_TEXTURE),f.texParameteri(r,f.TEXTURE_COMPARE_FUNC,sg[c.compareFunction])),_.has("EXT_texture_filter_anisotropic")===!0){if(c.magFilter===n2||c.minFilter!==v1&&c.minFilter!==Ur||c.type===I2&&_.has("OES_texture_float_linear")===!1)return;if(c.anisotropy>1){const j=_.get("EXT_texture_filter_anisotropic");f.texParameterf(r,j.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(c.anisotropy,y.getMaxAnisotropy()))}}}createDefaultTexture(r){const{gl:c,backend:f,defaultTextures:_}=this,y=this.getGLTextureType(r);let T=_[y];T===void 0&&(T=c.createTexture(),f.state.bindTexture(y,T),c.texParameteri(y,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(y,c.TEXTURE_MAG_FILTER,c.NEAREST),_[y]=T),f.set(r,{textureGPU:T,glTextureType:y})}createTexture(r,c){const{gl:f,backend:_}=this,{levels:y,width:T,height:A,depth:N}=c,k=_.utils.convert(r.format,r.colorSpace),V=_.utils.convert(r.type),j=this.getInternalFormat(r.internalFormat,k,V,r.colorSpace,r.isVideoTexture),K=f.createTexture(),Q=this.getGLTextureType(r);_.state.bindTexture(Q,K),this.setTextureParameters(Q,r),r.isArrayTexture||r.isDataArrayTexture||r.isCompressedArrayTexture?f.texStorage3D(f.TEXTURE_2D_ARRAY,y,j,T,A,N):r.isData3DTexture?f.texStorage3D(f.TEXTURE_3D,y,j,T,A,N):r.isVideoTexture||f.texStorage2D(Q,y,j,T,A),_.set(r,{textureGPU:K,glTextureType:Q,glFormat:k,glType:V,glInternalFormat:j})}copyBufferToTexture(r,c){const{gl:f,backend:_}=this,{textureGPU:y,glTextureType:T,glFormat:A,glType:N}=_.get(c),{width:k,height:V}=c.source.data;f.bindBuffer(f.PIXEL_UNPACK_BUFFER,r),_.state.bindTexture(T,y),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!1),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),f.texSubImage2D(T,0,0,0,k,V,A,N,0),f.bindBuffer(f.PIXEL_UNPACK_BUFFER,null),_.state.unbindTexture()}updateTexture(r,c){const{gl:f}=this,{width:_,height:y}=c,{textureGPU:T,glTextureType:A,glFormat:N,glType:k,glInternalFormat:V}=this.backend.get(r);if(!(r.isRenderTargetTexture||T===void 0))if(this.backend.state.bindTexture(A,T),this.setTextureParameters(A,r),r.isCompressedTexture){const j=r.mipmaps,K=c.image;for(let Q=0;Q<j.length;Q++){const ie=j[Q];r.isCompressedArrayTexture?r.format!==f.RGBA?N!==null?f.compressedTexSubImage3D(f.TEXTURE_2D_ARRAY,Q,0,0,0,ie.width,ie.height,K.depth,N,ie.data):jt("WebGLBackend: Attempt to load unsupported compressed texture format in .uploadTexture()"):f.texSubImage3D(f.TEXTURE_2D_ARRAY,Q,0,0,0,ie.width,ie.height,K.depth,N,k,ie.data):N!==null?f.compressedTexSubImage2D(f.TEXTURE_2D,Q,0,0,ie.width,ie.height,N,ie.data):jt("WebGLBackend: Unsupported compressed texture format")}}else if(r.isCubeTexture){const j=c.images,K=r.mipmaps;for(let Q=0;Q<6;Q++){const ie=z_(j[Q]);f.texSubImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0,0,0,_,y,N,k,ie);for(let ce=0;ce<K.length;ce++){const ue=K[ce],re=z_(ue.images[Q]);f.texSubImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X+Q,ce+1,0,0,re.width,re.height,N,k,re)}}}else if(r.isDataArrayTexture||r.isArrayTexture){const j=c.image;if(r.layerUpdates.size>0){const K=Y4(j.width,j.height,r.format,r.type);for(const Q of r.layerUpdates){const ie=j.data.subarray(Q*K/j.data.BYTES_PER_ELEMENT,(Q+1)*K/j.data.BYTES_PER_ELEMENT);f.texSubImage3D(f.TEXTURE_2D_ARRAY,0,0,0,Q,j.width,j.height,1,N,k,ie)}r.clearLayerUpdates()}else f.texSubImage3D(f.TEXTURE_2D_ARRAY,0,0,0,0,j.width,j.height,j.depth,N,k,j.data)}else if(r.isData3DTexture){const j=c.image;f.texSubImage3D(f.TEXTURE_3D,0,0,0,0,j.width,j.height,j.depth,N,k,j.data)}else if(r.isVideoTexture)r.update(),f.texImage2D(A,0,V,N,k,c.image);else{const j=r.mipmaps;if(j.length>0)for(let K=0,Q=j.length;K<Q;K++){const ie=j[K],ce=z_(ie);f.texSubImage2D(A,K,0,0,ie.width,ie.height,N,k,ce)}else{const K=z_(c.image);f.texSubImage2D(A,0,0,0,_,y,N,k,K)}}}generateMipmaps(r){const{gl:c,backend:f}=this,{textureGPU:_,glTextureType:y}=f.get(r);f.state.bindTexture(y,_),c.generateMipmap(y)}deallocateRenderBuffers(r){const{gl:c,backend:f}=this;if(r){const _=f.get(r);if(_.renderBufferStorageSetup=void 0,_.framebuffers){for(const y in _.framebuffers)c.deleteFramebuffer(_.framebuffers[y]);delete _.framebuffers}if(_.depthRenderbuffer&&(c.deleteRenderbuffer(_.depthRenderbuffer),delete _.depthRenderbuffer),_.stencilRenderbuffer&&(c.deleteRenderbuffer(_.stencilRenderbuffer),delete _.stencilRenderbuffer),_.msaaFrameBuffer&&(c.deleteFramebuffer(_.msaaFrameBuffer),delete _.msaaFrameBuffer),_.msaaRenderbuffers){for(let y=0;y<_.msaaRenderbuffers.length;y++)c.deleteRenderbuffer(_.msaaRenderbuffers[y]);delete _.msaaRenderbuffers}}}destroyTexture(r,c=!1){const{gl:f,backend:_}=this,{textureGPU:y,renderTarget:T}=_.get(r);this.deallocateRenderBuffers(T),c===!1&&f.deleteTexture(y),_.delete(r)}copyTextureToTexture(r,c,f=null,_=null,y=0,T=0){const{gl:A,backend:N}=this,{state:k}=this.backend,{textureGPU:V,glTextureType:j,glType:K,glFormat:Q}=N.get(c);k.bindTexture(j,V);let ie,ce,ue,re,be,De,Oe,je,Be;const We=r.isCompressedTexture?r.mipmaps[T]:r.image;if(f!==null)ie=f.max.x-f.min.x,ce=f.max.y-f.min.y,ue=f.isBox3?f.max.z-f.min.z:1,re=f.min.x,be=f.min.y,De=f.isBox3?f.min.z:0;else{const Dt=Math.pow(2,-y);ie=Math.floor(We.width*Dt),ce=Math.floor(We.height*Dt),r.isDataArrayTexture||r.isArrayTexture?ue=We.depth:r.isData3DTexture?ue=Math.floor(We.depth*Dt):ue=1,re=0,be=0,De=0}_!==null?(Oe=_.x,je=_.y,Be=_.z):(Oe=0,je=0,Be=0),A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,c.flipY),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultiplyAlpha),A.pixelStorei(A.UNPACK_ALIGNMENT,c.unpackAlignment);const $e=A.getParameter(A.UNPACK_ROW_LENGTH),Ee=A.getParameter(A.UNPACK_IMAGE_HEIGHT),Ie=A.getParameter(A.UNPACK_SKIP_PIXELS),Je=A.getParameter(A.UNPACK_SKIP_ROWS),ft=A.getParameter(A.UNPACK_SKIP_IMAGES);A.pixelStorei(A.UNPACK_ROW_LENGTH,We.width),A.pixelStorei(A.UNPACK_IMAGE_HEIGHT,We.height),A.pixelStorei(A.UNPACK_SKIP_PIXELS,re),A.pixelStorei(A.UNPACK_SKIP_ROWS,be),A.pixelStorei(A.UNPACK_SKIP_IMAGES,De);const yt=r.isDataArrayTexture||r.isData3DTexture||c.isArrayTexture,Et=c.isDataArrayTexture||c.isData3DTexture||c.isArrayTexture;if(r.isDepthTexture){const Dt=N.get(r),ct=N.get(c),Wt=N.get(Dt.renderTarget),vt=N.get(ct.renderTarget),Ht=Wt.framebuffers[Dt.cacheKey],Qt=vt.framebuffers[ct.cacheKey];k.bindFramebuffer(A.READ_FRAMEBUFFER,Ht),k.bindFramebuffer(A.DRAW_FRAMEBUFFER,Qt);for(let a0=0;a0<ue;a0++)yt&&(A.framebufferTextureLayer(A.READ_FRAMEBUFFER,A.COLOR_ATTACHMENT0,Dt.textureGPU,y,De+a0),A.framebufferTextureLayer(A.DRAW_FRAMEBUFFER,A.COLOR_ATTACHMENT0,V,T,Be+a0)),A.blitFramebuffer(re,be,ie,ce,Oe,je,ie,ce,A.DEPTH_BUFFER_BIT,A.NEAREST);k.bindFramebuffer(A.READ_FRAMEBUFFER,null),k.bindFramebuffer(A.DRAW_FRAMEBUFFER,null)}else if(y!==0||r.isRenderTargetTexture||N.has(r)){const Dt=N.get(r);this._srcFramebuffer===null&&(this._srcFramebuffer=A.createFramebuffer()),this._dstFramebuffer===null&&(this._dstFramebuffer=A.createFramebuffer()),k.bindFramebuffer(A.READ_FRAMEBUFFER,this._srcFramebuffer),k.bindFramebuffer(A.DRAW_FRAMEBUFFER,this._dstFramebuffer);for(let ct=0;ct<ue;ct++)yt?A.framebufferTextureLayer(A.READ_FRAMEBUFFER,A.COLOR_ATTACHMENT0,Dt.textureGPU,y,De+ct):A.framebufferTexture2D(A.READ_FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,Dt.textureGPU,y),Et?A.framebufferTextureLayer(A.DRAW_FRAMEBUFFER,A.COLOR_ATTACHMENT0,V,T,Be+ct):A.framebufferTexture2D(A.DRAW_FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,V,T),y!==0?A.blitFramebuffer(re,be,ie,ce,Oe,je,ie,ce,A.COLOR_BUFFER_BIT,A.NEAREST):Et?A.copyTexSubImage3D(j,T,Oe,je,Be+ct,re,be,ie,ce):A.copyTexSubImage2D(j,T,Oe,je,re,be,ie,ce);k.bindFramebuffer(A.READ_FRAMEBUFFER,null),k.bindFramebuffer(A.DRAW_FRAMEBUFFER,null)}else Et?r.isDataTexture||r.isData3DTexture?A.texSubImage3D(j,T,Oe,je,Be,ie,ce,ue,Q,K,We.data):c.isCompressedArrayTexture?A.compressedTexSubImage3D(j,T,Oe,je,Be,ie,ce,ue,Q,We.data):A.texSubImage3D(j,T,Oe,je,Be,ie,ce,ue,Q,K,We):r.isDataTexture?A.texSubImage2D(A.TEXTURE_2D,T,Oe,je,ie,ce,Q,K,We.data):r.isCompressedTexture?A.compressedTexSubImage2D(A.TEXTURE_2D,T,Oe,je,We.width,We.height,Q,We.data):A.texSubImage2D(A.TEXTURE_2D,T,Oe,je,ie,ce,Q,K,We);A.pixelStorei(A.UNPACK_ROW_LENGTH,$e),A.pixelStorei(A.UNPACK_IMAGE_HEIGHT,Ee),A.pixelStorei(A.UNPACK_SKIP_PIXELS,Ie),A.pixelStorei(A.UNPACK_SKIP_ROWS,Je),A.pixelStorei(A.UNPACK_SKIP_IMAGES,ft),T===0&&c.generateMipmaps&&A.generateMipmap(j),k.unbindTexture()}copyFramebufferToTexture(r,c,f){const{gl:_}=this,{state:y}=this.backend,{textureGPU:T}=this.backend.get(r),{x:A,y:N,z:k,w:V}=f,j=r.isDepthTexture===!0||c.renderTarget&&c.renderTarget.samples>0,K=c.renderTarget?c.renderTarget.height:this.backend.getDrawingBufferSize().y;if(j){const Q=A!==0||N!==0;let ie,ce;if(r.isDepthTexture===!0?(ie=_.DEPTH_BUFFER_BIT,ce=_.DEPTH_ATTACHMENT,c.stencil&&(ie|=_.STENCIL_BUFFER_BIT)):(ie=_.COLOR_BUFFER_BIT,ce=_.COLOR_ATTACHMENT0),Q){const ue=this.backend.get(c.renderTarget),re=ue.framebuffers[c.getCacheKey()],be=ue.msaaFrameBuffer;y.bindFramebuffer(_.DRAW_FRAMEBUFFER,re),y.bindFramebuffer(_.READ_FRAMEBUFFER,be);const De=K-N-V;_.blitFramebuffer(A,De,A+k,De+V,A,De,A+k,De+V,ie,_.NEAREST),y.bindFramebuffer(_.READ_FRAMEBUFFER,re),y.bindTexture(_.TEXTURE_2D,T),_.copyTexSubImage2D(_.TEXTURE_2D,0,0,0,A,De,k,V),y.unbindTexture()}else{const ue=_.createFramebuffer();y.bindFramebuffer(_.DRAW_FRAMEBUFFER,ue),_.framebufferTexture2D(_.DRAW_FRAMEBUFFER,ce,_.TEXTURE_2D,T,0),_.blitFramebuffer(0,0,k,V,0,0,k,V,ie,_.NEAREST),_.deleteFramebuffer(ue)}}else y.bindTexture(_.TEXTURE_2D,T),_.copyTexSubImage2D(_.TEXTURE_2D,0,0,0,A,K-V-N,k,V),y.unbindTexture();r.generateMipmaps&&this.generateMipmaps(r),this.backend._setFramebuffer(c)}setupRenderBufferStorage(r,c,f,_=!1){const{gl:y}=this,T=c.renderTarget,{depthTexture:A,depthBuffer:N,stencilBuffer:k,width:V,height:j}=T;if(y.bindRenderbuffer(y.RENDERBUFFER,r),N&&!k){let K=y.DEPTH_COMPONENT24;_===!0?this.extensions.get("WEBGL_multisampled_render_to_texture").renderbufferStorageMultisampleEXT(y.RENDERBUFFER,T.samples,K,V,j):f>0?(A&&A.isDepthTexture&&A.type===y.FLOAT&&(K=y.DEPTH_COMPONENT32F),y.renderbufferStorageMultisample(y.RENDERBUFFER,f,K,V,j)):y.renderbufferStorage(y.RENDERBUFFER,K,V,j),y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,r)}else N&&k&&(f>0?y.renderbufferStorageMultisample(y.RENDERBUFFER,f,y.DEPTH24_STENCIL8,V,j):y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_STENCIL,V,j),y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_STENCIL_ATTACHMENT,y.RENDERBUFFER,r));y.bindRenderbuffer(y.RENDERBUFFER,null)}async copyTextureToBuffer(r,c,f,_,y,T){const{backend:A,gl:N}=this,{textureGPU:k,glFormat:V,glType:j}=this.backend.get(r),K=N.createFramebuffer();N.bindFramebuffer(N.READ_FRAMEBUFFER,K);const Q=r.isCubeTexture?N.TEXTURE_CUBE_MAP_POSITIVE_X+T:N.TEXTURE_2D;N.framebufferTexture2D(N.READ_FRAMEBUFFER,N.COLOR_ATTACHMENT0,Q,k,0);const ie=this._getTypedArrayType(j),ce=this._getBytesPerTexel(j,V),re=_*y*ce,be=N.createBuffer();N.bindBuffer(N.PIXEL_PACK_BUFFER,be),N.bufferData(N.PIXEL_PACK_BUFFER,re,N.STREAM_READ),N.readPixels(c,f,_,y,V,j,0),N.bindBuffer(N.PIXEL_PACK_BUFFER,null),await A.utils._clientWaitAsync();const De=new ie(re/ie.BYTES_PER_ELEMENT);return N.bindBuffer(N.PIXEL_PACK_BUFFER,be),N.getBufferSubData(N.PIXEL_PACK_BUFFER,0,De),N.bindBuffer(N.PIXEL_PACK_BUFFER,null),N.deleteFramebuffer(K),De}_getTypedArrayType(r){const{gl:c}=this;if(r===c.UNSIGNED_BYTE)return Uint8Array;if(r===c.UNSIGNED_SHORT_4_4_4_4||r===c.UNSIGNED_SHORT_5_5_5_1||r===c.UNSIGNED_SHORT_5_6_5||r===c.UNSIGNED_SHORT)return Uint16Array;if(r===c.UNSIGNED_INT)return Uint32Array;if(r===c.HALF_FLOAT)return Uint16Array;if(r===c.FLOAT)return Float32Array;throw new Error(`Unsupported WebGL type: ${r}`)}_getBytesPerTexel(r,c){const{gl:f}=this;let _=0;if(r===f.UNSIGNED_BYTE&&(_=1),(r===f.UNSIGNED_SHORT_4_4_4_4||r===f.UNSIGNED_SHORT_5_5_5_1||r===f.UNSIGNED_SHORT_5_6_5||r===f.UNSIGNED_SHORT||r===f.HALF_FLOAT)&&(_=2),(r===f.UNSIGNED_INT||r===f.FLOAT)&&(_=4),c===f.RGBA)return _*4;if(c===f.RGB)return _*3;if(c===f.ALPHA)return _}dispose(){const{gl:r}=this;this._srcFramebuffer!==null&&r.deleteFramebuffer(this._srcFramebuffer),this._dstFramebuffer!==null&&r.deleteFramebuffer(this._dstFramebuffer)}}function z_(v){return v.isDataTexture?v.image.data:typeof HTMLImageElement<"u"&&v instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&v instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&v instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&v instanceof OffscreenCanvas?v:v.data}class Vme{constructor(r){this.backend=r,this.gl=this.backend.gl,this.availableExtensions=this.gl.getSupportedExtensions(),this.extensions={}}get(r){let c=this.extensions[r];return c===void 0&&(c=this.gl.getExtension(r),this.extensions[r]=c),c}has(r){return this.availableExtensions.includes(r)}}class zme{constructor(r){this.backend=r,this.maxAnisotropy=null}getMaxAnisotropy(){if(this.maxAnisotropy!==null)return this.maxAnisotropy;const r=this.backend.gl,c=this.backend.extensions;if(c.has("EXT_texture_filter_anisotropic")===!0){const f=c.get("EXT_texture_filter_anisotropic");this.maxAnisotropy=r.getParameter(f.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else this.maxAnisotropy=0;return this.maxAnisotropy}}const og={WEBGL_multi_draw:"WEBGL_multi_draw",WEBGL_compressed_texture_astc:"texture-compression-astc",WEBGL_compressed_texture_etc:"texture-compression-etc2",WEBGL_compressed_texture_etc1:"texture-compression-etc1",WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBGL_compressed_texture_s3tc:"texture-compression-s3tc",EXT_texture_compression_bptc:"texture-compression-bc",EXT_disjoint_timer_query_webgl2:"timestamp-query",OVR_multiview2:"OVR_multiview2"};class Wme{constructor(r){this.gl=r.gl,this.extensions=r.extensions,this.info=r.renderer.info,this.mode=null,this.index=0,this.type=null,this.object=null}render(r,c){const{gl:f,mode:_,object:y,type:T,info:A,index:N}=this;N!==0?f.drawElements(_,c,T,r):f.drawArrays(_,r,c),A.update(y,c,1)}renderInstances(r,c,f){const{gl:_,mode:y,type:T,index:A,object:N,info:k}=this;f!==0&&(A!==0?_.drawElementsInstanced(y,c,T,r,f):_.drawArraysInstanced(y,r,c,f),k.update(N,c,f))}renderMultiDraw(r,c,f){const{extensions:_,mode:y,object:T,info:A}=this;if(f===0)return;const N=_.get("WEBGL_multi_draw");if(N===null)for(let k=0;k<f;k++)this.render(r[k],c[k]);else{this.index!==0?N.multiDrawElementsWEBGL(y,c,0,this.type,r,0,f):N.multiDrawArraysWEBGL(y,r,0,c,0,f);let k=0;for(let V=0;V<f;V++)k+=c[V];A.update(T,k,1)}}renderMultiDrawInstances(r,c,f,_){const{extensions:y,mode:T,object:A,info:N}=this;if(f===0)return;const k=y.get("WEBGL_multi_draw");if(k===null)for(let V=0;V<f;V++)this.renderInstances(r[V],c[V],_[V]);else{this.index!==0?k.multiDrawElementsInstancedWEBGL(T,c,0,this.type,r,0,_,0,f):k.multiDrawArraysInstancedWEBGL(T,r,0,c,0,_,0,f);let V=0;for(let j=0;j<f;j++)V+=c[j]*_[j];N.update(A,V,1)}}}class iv{constructor(r=256){this.trackTimestamp=!0,this.maxQueries=r,this.currentQueryIndex=0,this.queryOffsets=new Map,this.isDisposed=!1,this.lastValue=0,this.frames=[],this.pendingResolve=!1,this.timestamps=new Map}getTimestampFrames(){return this.frames}getTimestamp(r){let c=this.timestamps.get(r);return c===void 0&&(jt(`TimestampQueryPool: No timestamp available for uid ${r}.`),c=0),c}hasTimestamp(r){return this.timestamps.has(r)}allocateQueriesForContext(){}async resolveQueriesAsync(){}dispose(){}}class Hme extends iv{constructor(r,c,f=2048){if(super(f),this.gl=r,this.type=c,this.ext=r.getExtension("EXT_disjoint_timer_query_webgl2")||r.getExtension("EXT_disjoint_timer_query"),!this.ext){jt("EXT_disjoint_timer_query not supported; timestamps will be disabled."),this.trackTimestamp=!1;return}this.queries=[];for(let _=0;_<this.maxQueries;_++)this.queries.push(r.createQuery());this.activeQuery=null,this.queryStates=new Map}allocateQueriesForContext(r){if(!this.trackTimestamp)return null;if(this.currentQueryIndex+2>this.maxQueries)return a2(`WebGPUTimestampQueryPool [${this.type}]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.${this.type.toUpperCase()} ).`),null;const c=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryStates.set(c,"inactive"),this.queryOffsets.set(r,c),c}beginQuery(r){if(!this.trackTimestamp||this.isDisposed)return;const c=this.queryOffsets.get(r);if(c==null||this.activeQuery!==null)return;const f=this.queries[c];if(f)try{this.queryStates.get(c)==="inactive"&&(this.gl.beginQuery(this.ext.TIME_ELAPSED_EXT,f),this.activeQuery=c,this.queryStates.set(c,"started"))}catch(_){_("Error in beginQuery:",_),this.activeQuery=null,this.queryStates.set(c,"inactive")}}endQuery(r){if(!this.trackTimestamp||this.isDisposed)return;const c=this.queryOffsets.get(r);if(c!=null&&this.activeQuery===c)try{this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.queryStates.set(c,"ended"),this.activeQuery=null}catch(f){f("Error in endQuery:",f),this.queryStates.set(c,"inactive"),this.activeQuery=null}}async resolveQueriesAsync(){if(!this.trackTimestamp||this.pendingResolve)return this.lastValue;this.pendingResolve=!0;try{const r=new Map;for(const[y,T]of this.queryOffsets)if(this.queryStates.get(T)==="ended"){const N=this.queries[T];r.set(y,this.resolveQuery(N))}if(r.size===0)return this.lastValue;const c={},f=[];for(const[y,T]of r){const A=y.match(/^(.*):f(\d+)$/),N=parseInt(A[2]);f.includes(N)===!1&&f.push(N),c[N]===void 0&&(c[N]=0);const k=await T;this.timestamps.set(y,k),c[N]+=k}const _=c[f[f.length-1]];return this.lastValue=_,this.frames=f,this.currentQueryIndex=0,this.queryOffsets.clear(),this.queryStates.clear(),this.activeQuery=null,_}catch(r){return r("Error resolving queries:",r),this.lastValue}finally{this.pendingResolve=!1}}async resolveQuery(r){return new Promise(c=>{if(this.isDisposed){c(this.lastValue);return}let f,_=!1;const y=()=>{f&&(clearTimeout(f),f=null)},T=N=>{_||(_=!0,y(),c(N))},A=()=>{if(this.isDisposed){T(this.lastValue);return}try{if(this.gl.getParameter(this.ext.GPU_DISJOINT_EXT)){T(this.lastValue);return}if(!this.gl.getQueryParameter(r,this.gl.QUERY_RESULT_AVAILABLE)){f=setTimeout(A,1);return}const V=this.gl.getQueryParameter(r,this.gl.QUERY_RESULT);c(Number(V)/1e6)}catch(N){N("Error checking query:",N),c(this.lastValue)}};A()})}dispose(){if(!this.isDisposed&&(this.isDisposed=!0,!!this.trackTimestamp)){for(const r of this.queries)this.gl.deleteQuery(r);this.queries=[],this.queryStates.clear(),this.queryOffsets.clear(),this.lastValue=0,this.activeQuery=null}}}class ag extends tv{constructor(r={}){super(r),this.isWebGLBackend=!0,this.attributeUtils=null,this.extensions=null,this.capabilities=null,this.textureUtils=null,this.bufferRenderer=null,this.gl=null,this.state=null,this.utils=null,this.vaoCache={},this.transformFeedbackCache={},this.discard=!1,this.disjoint=null,this.parallel=null,this._currentContext=null,this._knownBindings=new WeakSet,this._supportsInvalidateFramebuffer=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),this._xrFramebuffer=null}init(r){super.init(r);const c=this.parameters,f={antialias:r.currentSamples>0,alpha:!0,depth:r.depth,stencil:r.stencil},_=c.context!==void 0?c.context:r.domElement.getContext("webgl2",f);function y(T){T.preventDefault();const A={api:"WebGL",message:T.statusMessage||"Unknown reason",reason:null,originalEvent:T};r.onDeviceLost(A)}this._onContextLost=y,r.domElement.addEventListener("webglcontextlost",y,!1),this.gl=_,this.extensions=new Vme(this),this.capabilities=new zme(this),this.attributeUtils=new Bme(this),this.textureUtils=new Gme(this),this.bufferRenderer=new Wme(this),this.state=new Ume(this),this.utils=new Ome(this),this.extensions.get("EXT_color_buffer_float"),this.extensions.get("WEBGL_clip_cull_distance"),this.extensions.get("OES_texture_float_linear"),this.extensions.get("EXT_color_buffer_half_float"),this.extensions.get("WEBGL_multisampled_render_to_texture"),this.extensions.get("WEBGL_render_shared_exponent"),this.extensions.get("WEBGL_multi_draw"),this.extensions.get("OVR_multiview2"),this.disjoint=this.extensions.get("EXT_disjoint_timer_query_webgl2"),this.parallel=this.extensions.get("KHR_parallel_shader_compile")}get coordinateSystem(){return es}async getArrayBufferAsync(r){return await this.attributeUtils.getArrayBufferAsync(r)}async makeXRCompatible(){this.gl.getContextAttributes().xrCompatible!==!0&&await this.gl.makeXRCompatible()}setXRTarget(r){this._xrFramebuffer=r}setXRRenderTargetTextures(r,c,f=null){const _=this.gl;if(this.set(r.texture,{textureGPU:c,glInternalFormat:_.RGBA8}),f!==null){const y=r.stencilBuffer?_.DEPTH24_STENCIL8:_.DEPTH_COMPONENT24;this.set(r.depthTexture,{textureGPU:f,glInternalFormat:y}),this.extensions.has("WEBGL_multisampled_render_to_texture")===!0&&r._autoAllocateDepthBuffer===!0&&r.multiview===!1&&jt("WebGLBackend: Render-to-texture extension was disabled because an external texture was provided"),r._autoAllocateDepthBuffer=!1}}initTimestampQuery(r,c){if(!this.disjoint||!this.trackTimestamp)return;this.timestampQueryPool[r]||(this.timestampQueryPool[r]=new Hme(this.gl,r,2048));const f=this.timestampQueryPool[r];f.allocateQueriesForContext(c)!==null&&f.beginQuery(c)}prepareTimestampBuffer(r,c){if(!this.disjoint||!this.trackTimestamp)return;this.timestampQueryPool[r].endQuery(c)}getContext(){return this.gl}beginRender(r){const{state:c}=this,f=this.get(r);if(r.viewport)this.updateViewport(r);else{const{width:y,height:T}=this.getDrawingBufferSize();c.viewport(0,0,y,T)}if(r.scissor){const{x:y,y:T,width:A,height:N}=r.scissorValue;c.scissor(y,r.height-N-T,A,N)}this.initTimestampQuery(Bo.RENDER,this.getTimestampUID(r)),f.previousContext=this._currentContext,this._currentContext=r,this._setFramebuffer(r),this.clear(r.clearColor,r.clearDepth,r.clearStencil,r,!1);const _=r.occlusionQueryCount;_>0&&(f.currentOcclusionQueries=f.occlusionQueries,f.currentOcclusionQueryObjects=f.occlusionQueryObjects,f.lastOcclusionObject=null,f.occlusionQueries=new Array(_),f.occlusionQueryObjects=new Array(_),f.occlusionQueryIndex=0)}finishRender(r){const{gl:c,state:f}=this,_=this.get(r),y=_.previousContext;f.resetVertexState();const T=r.occlusionQueryCount;T>0&&(T>_.occlusionQueryIndex&&c.endQuery(c.ANY_SAMPLES_PASSED),this.resolveOccludedAsync(r));const A=r.textures;if(A!==null)for(let N=0;N<A.length;N++){const k=A[N];k.generateMipmaps&&this.generateMipmaps(k)}if(this._currentContext=y,this._resolveRenderTarget(r),y!==null)if(this._setFramebuffer(y),y.viewport)this.updateViewport(y);else{const{width:N,height:k}=this.getDrawingBufferSize();f.viewport(0,0,N,k)}this.prepareTimestampBuffer(Bo.RENDER,this.getTimestampUID(r))}resolveOccludedAsync(r){const c=this.get(r),{currentOcclusionQueries:f,currentOcclusionQueryObjects:_}=c;if(f&&_){const y=new WeakSet,{gl:T}=this;c.currentOcclusionQueryObjects=null,c.currentOcclusionQueries=null;const A=()=>{let N=0;for(let k=0;k<f.length;k++){const V=f[k];V!==null&&T.getQueryParameter(V,T.QUERY_RESULT_AVAILABLE)&&(T.getQueryParameter(V,T.QUERY_RESULT)===0&&y.add(_[k]),f[k]=null,T.deleteQuery(V),N++)}N<f.length?requestAnimationFrame(A):c.occluded=y};A()}}isOccluded(r,c){const f=this.get(r);return f.occluded&&f.occluded.has(c)}updateViewport(r){const{state:c}=this,{x:f,y:_,width:y,height:T}=r.viewportValue;c.viewport(f,r.height-T-_,y,T)}setScissorTest(r){this.state.setScissorTest(r)}getClearColor(){const r=super.getClearColor();return r.r*=r.a,r.g*=r.a,r.b*=r.a,r}clear(r,c,f,_=null,y=!0,T=!0){const{gl:A,renderer:N}=this;_===null&&(_={textures:null,clearColorValue:this.getClearColor()});let k=0;if(r&&(k|=A.COLOR_BUFFER_BIT),c&&(k|=A.DEPTH_BUFFER_BIT),f&&(k|=A.STENCIL_BUFFER_BIT),k!==0){let V;_.clearColorValue?V=_.clearColorValue:V=this.getClearColor();const j=N.getClearDepth(),K=N.getClearStencil();if(c&&this.state.setDepthMask(!0),_.textures===null)A.clearColor(V.r,V.g,V.b,V.a),A.clear(k);else{if(y&&this._setFramebuffer(_),r)for(let Q=0;Q<_.textures.length;Q++)Q===0?A.clearBufferfv(A.COLOR,Q,[V.r,V.g,V.b,V.a]):A.clearBufferfv(A.COLOR,Q,[0,0,0,1]);c&&f?A.clearBufferfi(A.DEPTH_STENCIL,0,j,K):c?A.clearBufferfv(A.DEPTH,0,[j]):f&&A.clearBufferiv(A.STENCIL,0,[K]),y&&T&&this._resolveRenderTarget(_)}}}beginCompute(r){const{state:c,gl:f}=this;c.bindFramebuffer(f.FRAMEBUFFER,null),this.initTimestampQuery(Bo.COMPUTE,this.getTimestampUID(r))}compute(r,c,f,_,y=null){const{state:T,gl:A}=this;this.discard===!1&&(A.enable(A.RASTERIZER_DISCARD),this.discard=!0);const{programGPU:N,transformBuffers:k,attributes:V}=this.get(_),j=this._getVaoKey(V),K=this.vaoCache[j];K===void 0?this.vaoCache[j]=this._createVao(V):T.setVertexState(K),T.useProgram(N),this._bindUniforms(f);const Q=this._getTransformFeedback(k);A.bindTransformFeedback(A.TRANSFORM_FEEDBACK,Q),A.beginTransformFeedback(A.POINTS),y=y!==null?y:c.count,Array.isArray(y)?(a2("WebGLBackend.compute(): The count parameter must be a single number, not an array."),y=y[0]):y&&typeof y=="object"&&y.isIndirectStorageBufferAttribute&&(a2("WebGLBackend.compute(): The count parameter must be a single number, not IndirectStorageBufferAttribute"),y=c.count),V[0].isStorageInstancedBufferAttribute?A.drawArraysInstanced(A.POINTS,0,1,y):A.drawArrays(A.POINTS,0,y),A.endTransformFeedback(),A.bindTransformFeedback(A.TRANSFORM_FEEDBACK,null);for(let ie=0;ie<k.length;ie++){const ce=k[ie];ce.pbo&&this.has(ce.pbo)&&this.textureUtils.copyBufferToTexture(ce.transformBuffer,ce.pbo),ce.switchBuffers()}}finishCompute(r){const c=this.gl;this.discard=!1,c.disable(c.RASTERIZER_DISCARD),this.prepareTimestampBuffer(Bo.COMPUTE,this.getTimestampUID(r)),this._currentContext&&this._setFramebuffer(this._currentContext)}_isRenderCameraDepthArray(r){return r.depthTexture&&r.depthTexture.isArrayTexture&&r.camera.isArrayCamera}draw(r){const{object:c,pipeline:f,material:_,context:y,hardwareClippingPlanes:T}=r,{programGPU:A}=this.get(f),{gl:N,state:k}=this,V=this.get(y),j=r.getDrawParameters();if(j===null)return;this._bindUniforms(r.getBindings());const K=c.isMesh&&c.matrixWorld.determinant()<0;k.setMaterial(_,K,T),k.useProgram(A);const Q=r.getAttributes(),ie=this.get(Q);let ce=ie.vaoGPU;if(ce===void 0){const $e=this._getVaoKey(Q);ce=this.vaoCache[$e],ce===void 0&&(ce=this._createVao(Q),this.vaoCache[$e]=ce,ie.vaoGPU=ce)}const ue=r.getIndex(),re=ue!==null?this.get(ue).bufferGPU:null;k.setVertexState(ce,re);const be=V.lastOcclusionObject;if(be!==c&&be!==void 0){if(be!==null&&be.occlusionTest===!0&&(N.endQuery(N.ANY_SAMPLES_PASSED),V.occlusionQueryIndex++),c.occlusionTest===!0){const $e=N.createQuery();N.beginQuery(N.ANY_SAMPLES_PASSED,$e),V.occlusionQueries[V.occlusionQueryIndex]=$e,V.occlusionQueryObjects[V.occlusionQueryIndex]=c}V.lastOcclusionObject=c}const De=this.bufferRenderer;c.isPoints?De.mode=N.POINTS:c.isLineSegments?De.mode=N.LINES:c.isLine?De.mode=N.LINE_STRIP:c.isLineLoop?De.mode=N.LINE_LOOP:_.wireframe===!0?(k.setLineWidth(_.wireframeLinewidth*this.renderer.getPixelRatio()),De.mode=N.LINES):De.mode=N.TRIANGLES;const{vertexCount:Oe,instanceCount:je}=j;let{firstVertex:Be}=j;if(De.object=c,ue!==null){Be*=ue.array.BYTES_PER_ELEMENT;const $e=this.get(ue);De.index=ue.count,De.type=$e.type}else De.index=0;const We=()=>{c.isBatchedMesh?c._multiDrawInstances!==null?(a2("WebGLBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),De.renderMultiDrawInstances(c._multiDrawStarts,c._multiDrawCounts,c._multiDrawCount,c._multiDrawInstances)):this.hasFeature("WEBGL_multi_draw")?De.renderMultiDraw(c._multiDrawStarts,c._multiDrawCounts,c._multiDrawCount):a2("WebGLBackend: WEBGL_multi_draw not supported."):je>1?De.renderInstances(Be,Oe,je):De.render(Be,Oe)};if(r.camera.isArrayCamera===!0&&r.camera.cameras.length>0&&r.camera.isMultiViewCamera===!1){const $e=this.get(r.camera),Ee=r.camera.cameras,Ie=r.getBindingGroup("cameraIndex").bindings[0];if($e.indexesGPU===void 0||$e.indexesGPU.length!==Ee.length){const ct=new Uint32Array([0,0,0,0]),Wt=[];for(let vt=0,Ht=Ee.length;vt<Ht;vt++){const Qt=N.createBuffer();ct[0]=vt,N.bindBuffer(N.UNIFORM_BUFFER,Qt),N.bufferData(N.UNIFORM_BUFFER,ct,N.STATIC_DRAW),Wt.push(Qt)}$e.indexesGPU=Wt}const Je=this.get(Ie),ft=this.renderer.getPixelRatio(),yt=this._currentContext.renderTarget,Et=this._isRenderCameraDepthArray(this._currentContext),Dt=this._currentContext.activeCubeFace;if(Et){const ct=this.get(yt.depthTexture);if(ct.clearedRenderId!==this.renderer._nodes.nodeFrame.renderId){ct.clearedRenderId=this.renderer._nodes.nodeFrame.renderId;const{stencilBuffer:Wt}=yt;for(let vt=0,Ht=Ee.length;vt<Ht;vt++)this.renderer._activeCubeFace=vt,this._currentContext.activeCubeFace=vt,this._setFramebuffer(this._currentContext),this.clear(!1,!0,Wt,this._currentContext,!1,!1);this.renderer._activeCubeFace=Dt,this._currentContext.activeCubeFace=Dt}}for(let ct=0,Wt=Ee.length;ct<Wt;ct++){const vt=Ee[ct];if(c.layers.test(vt.layers)){Et&&(this.renderer._activeCubeFace=ct,this._currentContext.activeCubeFace=ct,this._setFramebuffer(this._currentContext));const Ht=vt.viewport;if(Ht!==void 0){const Qt=Ht.x*ft,a0=Ht.y*ft,O0=Ht.width*ft,T0=Ht.height*ft;k.viewport(Math.floor(Qt),Math.floor(r.context.height-T0-a0),Math.floor(O0),Math.floor(T0))}k.bindBufferBase(N.UNIFORM_BUFFER,Je.index,$e.indexesGPU[ct]),We()}this._currentContext.activeCubeFace=Dt,this.renderer._activeCubeFace=Dt}}else We()}needsRenderUpdate(){return!1}getRenderCacheKey(){return""}createDefaultTexture(r){this.textureUtils.createDefaultTexture(r)}createTexture(r,c){this.textureUtils.createTexture(r,c)}updateTexture(r,c){this.textureUtils.updateTexture(r,c)}generateMipmaps(r){this.textureUtils.generateMipmaps(r)}destroyTexture(r,c=!1){this.textureUtils.destroyTexture(r,c)}async copyTextureToBuffer(r,c,f,_,y,T){return this.textureUtils.copyTextureToBuffer(r,c,f,_,y,T)}updateSampler(){return""}createNodeBuilder(r,c){return new Lme(r,c)}createProgram(r){const c=this.gl,{stage:f,code:_}=r,y=f==="fragment"?c.createShader(c.FRAGMENT_SHADER):c.createShader(c.VERTEX_SHADER);c.shaderSource(y,_),c.compileShader(y),this.set(r,{shaderGPU:y})}destroyProgram(r){this.delete(r)}createRenderPipeline(r,c){const f=this.gl,_=r.pipeline,{fragmentProgram:y,vertexProgram:T}=_,A=f.createProgram(),N=this.get(y).shaderGPU,k=this.get(T).shaderGPU;if(f.attachShader(A,N),f.attachShader(A,k),f.linkProgram(A),this.set(_,{programGPU:A,fragmentShader:N,vertexShader:k}),c!==null&&this.parallel){const V=new Promise(j=>{const K=this.parallel,Q=()=>{f.getProgramParameter(A,K.COMPLETION_STATUS_KHR)?(this._completeCompile(r,_),j()):requestAnimationFrame(Q)};Q()});c.push(V);return}this._completeCompile(r,_)}_handleSource(r,c){const f=r.split(`
`),_=[],y=Math.max(c-6,0),T=Math.min(c+6,f.length);for(let A=y;A<T;A++){const N=A+1;_.push(`${N===c?">":" "} ${N}: ${f[A]}`)}return _.join(`
`)}_getShaderErrors(r,c,f){const _=r.getShaderParameter(c,r.COMPILE_STATUS),T=(r.getShaderInfoLog(c)||"").trim();if(_&&T==="")return"";const A=/ERROR: 0:(\d+)/.exec(T);if(A){const N=parseInt(A[1]);return f.toUpperCase()+`

`+T+`

`+this._handleSource(r.getShaderSource(c),N)}else return T}_logProgramError(r,c,f){if(this.renderer.debug.checkShaderErrors){const _=this.gl,T=(_.getProgramInfoLog(r)||"").trim();if(_.getProgramParameter(r,_.LINK_STATUS)===!1)if(typeof this.renderer.debug.onShaderError=="function")this.renderer.debug.onShaderError(_,r,f,c);else{const A=this._getShaderErrors(_,f,"vertex"),N=this._getShaderErrors(_,c,"fragment");r0("THREE.WebGLProgram: Shader Error "+_.getError()+" - VALIDATE_STATUS "+_.getProgramParameter(r,_.VALIDATE_STATUS)+`

Program Info Log: `+T+`
`+A+`
`+N)}else T!==""&&jt("WebGLProgram: Program Info Log:",T)}}_completeCompile(r,c){const{state:f,gl:_}=this,y=this.get(c),{programGPU:T,fragmentShader:A,vertexShader:N}=y;_.getProgramParameter(T,_.LINK_STATUS)===!1&&this._logProgramError(T,A,N),f.useProgram(T);const k=r.getBindings();this._setupBindings(k,T),this.set(c,{programGPU:T})}createComputePipeline(r,c){const{state:f,gl:_}=this,y={stage:"fragment",code:`#version 300 es
precision highp float;
void main() {}`};this.createProgram(y);const{computeProgram:T}=r,A=_.createProgram(),N=this.get(y).shaderGPU,k=this.get(T).shaderGPU,V=T.transforms,j=[],K=[];for(let ue=0;ue<V.length;ue++){const re=V[ue];j.push(re.varyingName),K.push(re.attributeNode)}_.attachShader(A,N),_.attachShader(A,k),_.transformFeedbackVaryings(A,j,_.SEPARATE_ATTRIBS),_.linkProgram(A),_.getProgramParameter(A,_.LINK_STATUS)===!1&&this._logProgramError(A,N,k),f.useProgram(A),this._setupBindings(c,A);const Q=T.attributes,ie=[],ce=[];for(let ue=0;ue<Q.length;ue++){const re=Q[ue].node.attribute;ie.push(re),this.has(re)||this.attributeUtils.createAttribute(re,_.ARRAY_BUFFER)}for(let ue=0;ue<K.length;ue++){const re=K[ue].attribute;this.has(re)||this.attributeUtils.createAttribute(re,_.ARRAY_BUFFER);const be=this.get(re);ce.push(be)}this.set(r,{programGPU:A,transformBuffers:ce,attributes:ie})}createBindings(r,c){if(this._knownBindings.has(c)===!1){this._knownBindings.add(c);let f=0,_=0;for(const y of c){this.set(y,{textures:_,uniformBuffers:f});for(const T of y.bindings)T.isUniformBuffer&&f++,T.isSampledTexture&&_++}}this.updateBindings(r,c)}updateBindings(r){const{gl:c}=this,f=this.get(r);let _=f.uniformBuffers,y=f.textures;for(const T of r.bindings){const A=this.get(T);if(T.isUniformsGroup||T.isUniformBuffer){const N=T.buffer;let{bufferGPU:k}=this.get(N);k===void 0?(k=c.createBuffer(),c.bindBuffer(c.UNIFORM_BUFFER,k),c.bufferData(c.UNIFORM_BUFFER,N,c.DYNAMIC_DRAW),this.set(N,{bufferGPU:k})):(c.bindBuffer(c.UNIFORM_BUFFER,k),c.bufferSubData(c.UNIFORM_BUFFER,0,N)),A.index=_++,A.bufferGPU=k,this.set(T,A)}else if(T.isSampledTexture){const{textureGPU:N,glTextureType:k}=this.get(T.texture);A.index=y++,A.textureGPU=N,A.glTextureType=k,this.set(T,A)}}}updateBinding(r){const c=this.gl;if(r.isUniformsGroup||r.isUniformBuffer){const _=this.get(r).bufferGPU,y=r.buffer;c.bindBuffer(c.UNIFORM_BUFFER,_),c.bufferData(c.UNIFORM_BUFFER,y,c.DYNAMIC_DRAW)}}createIndexAttribute(r){const c=this.gl;this.attributeUtils.createAttribute(r,c.ELEMENT_ARRAY_BUFFER)}createAttribute(r){if(this.has(r))return;const c=this.gl;this.attributeUtils.createAttribute(r,c.ARRAY_BUFFER)}createStorageAttribute(r){if(this.has(r))return;const c=this.gl;this.attributeUtils.createAttribute(r,c.ARRAY_BUFFER)}updateAttribute(r){this.attributeUtils.updateAttribute(r)}destroyAttribute(r){this.attributeUtils.destroyAttribute(r)}hasFeature(r){const c=Object.keys(og).filter(_=>og[_]===r),f=this.extensions;for(let _=0;_<c.length;_++)if(f.has(c[_]))return!0;return!1}getMaxAnisotropy(){return this.capabilities.getMaxAnisotropy()}copyTextureToTexture(r,c,f=null,_=null,y=0,T=0){this.textureUtils.copyTextureToTexture(r,c,f,_,y,T)}copyFramebufferToTexture(r,c,f){this.textureUtils.copyFramebufferToTexture(r,c,f)}_setFramebuffer(r){const{gl:c,state:f}=this;let _=null;if(r.textures!==null){const y=r.renderTarget,T=this.get(y),{samples:A,depthBuffer:N,stencilBuffer:k}=y,V=y.isWebGLCubeRenderTarget===!0,j=y.isRenderTarget3D===!0,K=y.depth>1,Q=y.isXRRenderTarget===!0,ie=Q===!0&&y._hasExternalTextures===!0;let ce=T.msaaFrameBuffer,ue=T.depthRenderbuffer;const re=this.extensions.get("WEBGL_multisampled_render_to_texture"),be=this.extensions.get("OVR_multiview2"),De=this._useMultisampledExtension(y),Oe=ky(r);let je;if(V?(T.cubeFramebuffers||(T.cubeFramebuffers={}),je=T.cubeFramebuffers[Oe]):Q&&ie===!1?je=this._xrFramebuffer:(T.framebuffers||(T.framebuffers={}),je=T.framebuffers[Oe]),je===void 0){je=c.createFramebuffer(),f.bindFramebuffer(c.FRAMEBUFFER,je);const Be=r.textures,We=[];if(V){T.cubeFramebuffers[Oe]=je;const{textureGPU:Ee}=this.get(Be[0]),Ie=this.renderer._activeCubeFace,Je=this.renderer._activeMipmapLevel;c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Ee,Je)}else{T.framebuffers[Oe]=je;for(let Ee=0;Ee<Be.length;Ee++){const Ie=Be[Ee],Je=this.get(Ie);Je.renderTarget=r.renderTarget,Je.cacheKey=Oe;const ft=c.COLOR_ATTACHMENT0+Ee;if(y.multiview)be.framebufferTextureMultisampleMultiviewOVR(c.FRAMEBUFFER,ft,Je.textureGPU,0,A,0,2);else if(j||K){const yt=this.renderer._activeCubeFace,Et=this.renderer._activeMipmapLevel;c.framebufferTextureLayer(c.FRAMEBUFFER,ft,Je.textureGPU,Et,yt)}else if(De)re.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,ft,c.TEXTURE_2D,Je.textureGPU,0,A);else{const yt=this.renderer._activeMipmapLevel;c.framebufferTexture2D(c.FRAMEBUFFER,ft,c.TEXTURE_2D,Je.textureGPU,yt)}}}const $e=k?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT;if(y._autoAllocateDepthBuffer===!0){const Ee=c.createRenderbuffer();this.textureUtils.setupRenderBufferStorage(Ee,r,0,De),T.xrDepthRenderbuffer=Ee,We.push(k?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT),c.bindRenderbuffer(c.RENDERBUFFER,Ee),c.framebufferRenderbuffer(c.FRAMEBUFFER,$e,c.RENDERBUFFER,Ee)}else if(r.depthTexture!==null){We.push(k?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT);const Ee=this.get(r.depthTexture);if(Ee.renderTarget=r.renderTarget,Ee.cacheKey=Oe,y.multiview)be.framebufferTextureMultisampleMultiviewOVR(c.FRAMEBUFFER,$e,Ee.textureGPU,0,A,0,2);else if(ie&&De)re.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,$e,c.TEXTURE_2D,Ee.textureGPU,0,A);else if(r.depthTexture.isArrayTexture){const Ie=this.renderer._activeCubeFace;c.framebufferTextureLayer(c.FRAMEBUFFER,$e,Ee.textureGPU,0,Ie)}else c.framebufferTexture2D(c.FRAMEBUFFER,$e,c.TEXTURE_2D,Ee.textureGPU,0)}T.depthInvalidationArray=We}else{if(this._isRenderCameraDepthArray(r)){f.bindFramebuffer(c.FRAMEBUFFER,je);const We=this.renderer._activeCubeFace,$e=this.get(r.depthTexture),Ee=k?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT;c.framebufferTextureLayer(c.FRAMEBUFFER,Ee,$e.textureGPU,0,We)}if((Q||De||y.multiview)&&y._isOpaqueFramebuffer!==!0){f.bindFramebuffer(c.FRAMEBUFFER,je);const We=this.get(r.textures[0]);y.multiview?be.framebufferTextureMultisampleMultiviewOVR(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,We.textureGPU,0,A,0,2):De?re.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,We.textureGPU,0,A):c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,We.textureGPU,0);const $e=k?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT;if(y._autoAllocateDepthBuffer===!0){const Ee=T.xrDepthRenderbuffer;c.bindRenderbuffer(c.RENDERBUFFER,Ee),c.framebufferRenderbuffer(c.FRAMEBUFFER,$e,c.RENDERBUFFER,Ee)}else{const Ee=this.get(r.depthTexture);y.multiview?be.framebufferTextureMultisampleMultiviewOVR(c.FRAMEBUFFER,$e,Ee.textureGPU,0,A,0,2):De?re.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,$e,c.TEXTURE_2D,Ee.textureGPU,0,A):c.framebufferTexture2D(c.FRAMEBUFFER,$e,c.TEXTURE_2D,Ee.textureGPU,0)}}}if(A>0&&De===!1&&!y.multiview){if(ce===void 0){const Be=[];ce=c.createFramebuffer(),f.bindFramebuffer(c.FRAMEBUFFER,ce);const We=[],$e=r.textures;for(let Ee=0;Ee<$e.length;Ee++){We[Ee]=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,We[Ee]),Be.push(c.COLOR_ATTACHMENT0+Ee);const Ie=r.textures[Ee],Je=this.get(Ie);c.renderbufferStorageMultisample(c.RENDERBUFFER,A,Je.glInternalFormat,r.width,r.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+Ee,c.RENDERBUFFER,We[Ee])}if(c.bindRenderbuffer(c.RENDERBUFFER,null),T.msaaFrameBuffer=ce,T.msaaRenderbuffers=We,N&&ue===void 0){ue=c.createRenderbuffer(),this.textureUtils.setupRenderBufferStorage(ue,r,A),T.depthRenderbuffer=ue;const Ee=k?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT;Be.push(Ee)}T.invalidationArray=Be}_=T.msaaFrameBuffer}else _=je;f.drawBuffers(r,je)}f.bindFramebuffer(c.FRAMEBUFFER,_)}_getVaoKey(r){let c="";for(let f=0;f<r.length;f++){const _=this.get(r[f]);c+=":"+_.id}return c}_createVao(r){const{gl:c}=this,f=c.createVertexArray();c.bindVertexArray(f);for(let _=0;_<r.length;_++){const y=r[_],T=this.get(y);c.bindBuffer(c.ARRAY_BUFFER,T.bufferGPU),c.enableVertexAttribArray(_);let A,N;y.isInterleavedBufferAttribute===!0?(A=y.data.stride*T.bytesPerElement,N=y.offset*T.bytesPerElement):(A=0,N=0),T.isInteger?c.vertexAttribIPointer(_,y.itemSize,T.type,A,N):c.vertexAttribPointer(_,y.itemSize,T.type,y.normalized,A,N),y.isInstancedBufferAttribute&&!y.isInterleavedBufferAttribute?c.vertexAttribDivisor(_,y.meshPerAttribute):y.isInterleavedBufferAttribute&&y.data.isInstancedInterleavedBuffer&&c.vertexAttribDivisor(_,y.data.meshPerAttribute)}return c.bindBuffer(c.ARRAY_BUFFER,null),f}_getTransformFeedback(r){let c="";for(let y=0;y<r.length;y++)c+=":"+r[y].id;let f=this.transformFeedbackCache[c];if(f!==void 0)return f;const{gl:_}=this;f=_.createTransformFeedback(),_.bindTransformFeedback(_.TRANSFORM_FEEDBACK,f);for(let y=0;y<r.length;y++){const T=r[y];_.bindBufferBase(_.TRANSFORM_FEEDBACK_BUFFER,y,T.transformBuffer)}return _.bindTransformFeedback(_.TRANSFORM_FEEDBACK,null),this.transformFeedbackCache[c]=f,f}_setupBindings(r,c){const f=this.gl;for(const _ of r)for(const y of _.bindings){const A=this.get(y).index;if(y.isUniformsGroup||y.isUniformBuffer){const N=f.getUniformBlockIndex(c,y.name);f.uniformBlockBinding(c,N,A)}else if(y.isSampledTexture){const N=f.getUniformLocation(c,y.name);f.uniform1i(N,A)}}}_bindUniforms(r){const{gl:c,state:f}=this;for(const _ of r)for(const y of _.bindings){const T=this.get(y),A=T.index;y.isUniformsGroup||y.isUniformBuffer?f.bindBufferBase(c.UNIFORM_BUFFER,A,T.bufferGPU):y.isSampledTexture&&f.bindTexture(T.glTextureType,T.textureGPU,c.TEXTURE0+A)}}_resolveRenderTarget(r){const{gl:c,state:f}=this,_=r.renderTarget;if(r.textures!==null&&_){const y=this.get(_);if(_.samples>0&&this._useMultisampledExtension(_)===!1){const T=y.framebuffers[r.getCacheKey()];let A=c.COLOR_BUFFER_BIT;_.resolveDepthBuffer&&(_.depthBuffer&&(A|=c.DEPTH_BUFFER_BIT),_.stencilBuffer&&_.resolveStencilBuffer&&(A|=c.STENCIL_BUFFER_BIT));const N=y.msaaFrameBuffer,k=y.msaaRenderbuffers,V=r.textures,j=V.length>1;if(f.bindFramebuffer(c.READ_FRAMEBUFFER,N),f.bindFramebuffer(c.DRAW_FRAMEBUFFER,T),j)for(let K=0;K<V.length;K++)c.framebufferRenderbuffer(c.READ_FRAMEBUFFER,c.COLOR_ATTACHMENT0+K,c.RENDERBUFFER,null),c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0+K,c.TEXTURE_2D,null,0);for(let K=0;K<V.length;K++){if(j){const{textureGPU:Q}=this.get(V[K]);c.framebufferRenderbuffer(c.READ_FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,k[K]),c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Q,0)}if(r.scissor){const{x:Q,y:ie,width:ce,height:ue}=r.scissorValue,re=r.height-ue-ie;c.blitFramebuffer(Q,re,Q+ce,re+ue,Q,re,Q+ce,re+ue,A,c.NEAREST)}else c.blitFramebuffer(0,0,r.width,r.height,0,0,r.width,r.height,A,c.NEAREST)}if(j)for(let K=0;K<V.length;K++){const{textureGPU:Q}=this.get(V[K]);c.framebufferRenderbuffer(c.READ_FRAMEBUFFER,c.COLOR_ATTACHMENT0+K,c.RENDERBUFFER,k[K]),c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0+K,c.TEXTURE_2D,Q,0)}this._supportsInvalidateFramebuffer===!0&&c.invalidateFramebuffer(c.READ_FRAMEBUFFER,y.invalidationArray)}else if(_.resolveDepthBuffer===!1&&y.framebuffers){const T=y.framebuffers[r.getCacheKey()];f.bindFramebuffer(c.DRAW_FRAMEBUFFER,T),c.invalidateFramebuffer(c.DRAW_FRAMEBUFFER,y.depthInvalidationArray)}}}_useMultisampledExtension(r){return r.multiview===!0?!0:r.samples>0&&this.extensions.has("WEBGL_multisampled_render_to_texture")===!0&&r._autoAllocateDepthBuffer!==!1}dispose(){this.textureUtils!==null&&this.textureUtils.dispose();const r=this.extensions.get("WEBGL_lose_context");r&&r.loseContext(),this.renderer.domElement.removeEventListener("webglcontextlost",this._onContextLost)}}const Xc={PointList:"point-list",LineList:"line-list",LineStrip:"line-strip",TriangleList:"triangle-list",TriangleStrip:"triangle-strip"},Mr={Never:"never",Less:"less",Equal:"equal",LessEqual:"less-equal",Greater:"greater",NotEqual:"not-equal",GreaterEqual:"greater-equal",Always:"always"},Kr={Store:"store"},En={Load:"load",Clear:"clear"},cg={CCW:"ccw",CW:"cw"},lg={None:"none",Back:"back"},Bl={Uint16:"uint16",Uint32:"uint32"},et={R8Unorm:"r8unorm",R8Snorm:"r8snorm",R8Uint:"r8uint",R8Sint:"r8sint",R16Uint:"r16uint",R16Sint:"r16sint",R16Float:"r16float",RG8Unorm:"rg8unorm",RG8Snorm:"rg8snorm",RG8Uint:"rg8uint",RG8Sint:"rg8sint",R32Uint:"r32uint",R32Sint:"r32sint",R32Float:"r32float",RG16Uint:"rg16uint",RG16Sint:"rg16sint",RG16Float:"rg16float",RGBA8Unorm:"rgba8unorm",RGBA8UnormSRGB:"rgba8unorm-srgb",RGBA8Snorm:"rgba8snorm",RGBA8Uint:"rgba8uint",RGBA8Sint:"rgba8sint",BGRA8Unorm:"bgra8unorm",BGRA8UnormSRGB:"bgra8unorm-srgb",RGB9E5UFloat:"rgb9e5ufloat",RGB10A2Unorm:"rgb10a2unorm",RG11B10UFloat:"rg11b10ufloat",RG32Uint:"rg32uint",RG32Sint:"rg32sint",RG32Float:"rg32float",RGBA16Uint:"rgba16uint",RGBA16Sint:"rgba16sint",RGBA16Float:"rgba16float",RGBA32Uint:"rgba32uint",RGBA32Sint:"rgba32sint",RGBA32Float:"rgba32float",Depth16Unorm:"depth16unorm",Depth24Plus:"depth24plus",Depth24PlusStencil8:"depth24plus-stencil8",Depth32Float:"depth32float",Depth32FloatStencil8:"depth32float-stencil8",BC1RGBAUnorm:"bc1-rgba-unorm",BC1RGBAUnormSRGB:"bc1-rgba-unorm-srgb",BC2RGBAUnorm:"bc2-rgba-unorm",BC2RGBAUnormSRGB:"bc2-rgba-unorm-srgb",BC3RGBAUnorm:"bc3-rgba-unorm",BC3RGBAUnormSRGB:"bc3-rgba-unorm-srgb",BC4RUnorm:"bc4-r-unorm",BC4RSnorm:"bc4-r-snorm",BC5RGUnorm:"bc5-rg-unorm",BC5RGSnorm:"bc5-rg-snorm",BC6HRGBUFloat:"bc6h-rgb-ufloat",BC6HRGBFloat:"bc6h-rgb-float",BC7RGBAUnorm:"bc7-rgba-unorm",BC7RGBAUnormSRGB:"bc7-rgba-unorm-srgb",ETC2RGB8Unorm:"etc2-rgb8unorm",ETC2RGB8UnormSRGB:"etc2-rgb8unorm-srgb",ETC2RGB8A1Unorm:"etc2-rgb8a1unorm",ETC2RGB8A1UnormSRGB:"etc2-rgb8a1unorm-srgb",ETC2RGBA8Unorm:"etc2-rgba8unorm",ETC2RGBA8UnormSRGB:"etc2-rgba8unorm-srgb",EACR11Unorm:"eac-r11unorm",EACR11Snorm:"eac-r11snorm",EACRG11Unorm:"eac-rg11unorm",EACRG11Snorm:"eac-rg11snorm",ASTC4x4Unorm:"astc-4x4-unorm",ASTC4x4UnormSRGB:"astc-4x4-unorm-srgb",ASTC5x4Unorm:"astc-5x4-unorm",ASTC5x4UnormSRGB:"astc-5x4-unorm-srgb",ASTC5x5Unorm:"astc-5x5-unorm",ASTC5x5UnormSRGB:"astc-5x5-unorm-srgb",ASTC6x5Unorm:"astc-6x5-unorm",ASTC6x5UnormSRGB:"astc-6x5-unorm-srgb",ASTC6x6Unorm:"astc-6x6-unorm",ASTC6x6UnormSRGB:"astc-6x6-unorm-srgb",ASTC8x5Unorm:"astc-8x5-unorm",ASTC8x5UnormSRGB:"astc-8x5-unorm-srgb",ASTC8x6Unorm:"astc-8x6-unorm",ASTC8x6UnormSRGB:"astc-8x6-unorm-srgb",ASTC8x8Unorm:"astc-8x8-unorm",ASTC8x8UnormSRGB:"astc-8x8-unorm-srgb",ASTC10x5Unorm:"astc-10x5-unorm",ASTC10x5UnormSRGB:"astc-10x5-unorm-srgb",ASTC10x6Unorm:"astc-10x6-unorm",ASTC10x6UnormSRGB:"astc-10x6-unorm-srgb",ASTC10x8Unorm:"astc-10x8-unorm",ASTC10x8UnormSRGB:"astc-10x8-unorm-srgb",ASTC10x10Unorm:"astc-10x10-unorm",ASTC10x10UnormSRGB:"astc-10x10-unorm-srgb",ASTC12x10Unorm:"astc-12x10-unorm",ASTC12x10UnormSRGB:"astc-12x10-unorm-srgb",ASTC12x12Unorm:"astc-12x12-unorm",ASTC12x12UnormSRGB:"astc-12x12-unorm-srgb"},G4={ClampToEdge:"clamp-to-edge",Repeat:"repeat",MirrorRepeat:"mirror-repeat"},Ua={Linear:"linear",Nearest:"nearest"},nn={Zero:"zero",One:"one",Src:"src",OneMinusSrc:"one-minus-src",SrcAlpha:"src-alpha",OneMinusSrcAlpha:"one-minus-src-alpha",Dst:"dst",OneMinusDst:"one-minus-dst",DstAlpha:"dst-alpha",OneMinusDstAlpha:"one-minus-dst-alpha",SrcAlphaSaturated:"src-alpha-saturated",Constant:"constant",OneMinusConstant:"one-minus-constant"},Na={Add:"add",Subtract:"subtract",ReverseSubtract:"reverse-subtract",Min:"min",Max:"max"},ug={None:0,All:15},X1={Keep:"keep",Zero:"zero",Replace:"replace",Invert:"invert",IncrementClamp:"increment-clamp",DecrementClamp:"decrement-clamp",IncrementWrap:"increment-wrap",DecrementWrap:"decrement-wrap"},V4={Storage:"storage",ReadOnlyStorage:"read-only-storage"},z4={WriteOnly:"write-only",ReadOnly:"read-only",ReadWrite:"read-write"},fg={NonFiltering:"non-filtering",Comparison:"comparison"},ba={Float:"float",UnfilterableFloat:"unfilterable-float",Depth:"depth",SInt:"sint",UInt:"uint"},_g={TwoD:"2d",ThreeD:"3d"},$2={TwoD:"2d",TwoDArray:"2d-array",Cube:"cube",ThreeD:"3d"},jme={All:"all"},W_={Vertex:"vertex",Instance:"instance"},fd={CoreFeaturesAndLimits:"core-features-and-limits",DepthClipControl:"depth-clip-control",Depth32FloatStencil8:"depth32float-stencil8",TextureCompressionBC:"texture-compression-bc",TextureCompressionBCSliced3D:"texture-compression-bc-sliced-3d",TextureCompressionETC2:"texture-compression-etc2",TextureCompressionASTC:"texture-compression-astc",TextureCompressionASTCSliced3D:"texture-compression-astc-sliced-3d",TimestampQuery:"timestamp-query",IndirectFirstInstance:"indirect-first-instance",ShaderF16:"shader-f16",RG11B10UFloat:"rg11b10ufloat-renderable",BGRA8UNormStorage:"bgra8unorm-storage",Float32Filterable:"float32-filterable",Float32Blendable:"float32-blendable",ClipDistances:"clip-distances",DualSourceBlending:"dual-source-blending",Subgroups:"subgroups",TextureFormatsTier1:"texture-formats-tier1",TextureFormatsTier2:"texture-formats-tier2"},pg={"texture-compression-s3tc":"texture-compression-bc","texture-compression-etc1":"texture-compression-etc2"};class qme extends Jy{constructor(r,c,f){super(r,c?c.value:null),this.textureNode=c,this.groupNode=f}update(){const{textureNode:r}=this;return this.texture!==r.value?(this.texture=r.value,!0):super.update()}}class Xme extends Yy{constructor(r,c){super(r,c?c.array:null),this.attribute=c,this.isStorageBuffer=!0}}let $me=0;class Yme extends Xme{constructor(r,c){super("StorageBuffer_"+$me++,r?r.value:null),this.nodeUniform=r,this.access=r?r.access:Uo.READ_WRITE,this.groupNode=c}get buffer(){return this.nodeUniform.value}}class Kme extends ca{constructor(r){super(),this.device=r;const c=`
struct VarysStruct {
	@builtin( position ) Position: vec4<f32>,
	@location( 0 ) vTex : vec2<f32>
};

@vertex
fn main( @builtin( vertex_index ) vertexIndex : u32 ) -> VarysStruct {

	var Varys : VarysStruct;

	var pos = array< vec2<f32>, 4 >(
		vec2<f32>( -1.0,  1.0 ),
		vec2<f32>(  1.0,  1.0 ),
		vec2<f32>( -1.0, -1.0 ),
		vec2<f32>(  1.0, -1.0 )
	);

	var tex = array< vec2<f32>, 4 >(
		vec2<f32>( 0.0, 0.0 ),
		vec2<f32>( 1.0, 0.0 ),
		vec2<f32>( 0.0, 1.0 ),
		vec2<f32>( 1.0, 1.0 )
	);

	Varys.vTex = tex[ vertexIndex ];
	Varys.Position = vec4<f32>( pos[ vertexIndex ], 0.0, 1.0 );

	return Varys;

}
`,f=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vTex );

}
`,_=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vec2( vTex.x, 1.0 - vTex.y ) );

}
`;this.mipmapSampler=r.createSampler({minFilter:Ua.Linear}),this.flipYSampler=r.createSampler({minFilter:Ua.Nearest}),this.transferPipelines={},this.flipYPipelines={},this.mipmapVertexShaderModule=r.createShaderModule({label:"mipmapVertex",code:c}),this.mipmapFragmentShaderModule=r.createShaderModule({label:"mipmapFragment",code:f}),this.flipYFragmentShaderModule=r.createShaderModule({label:"flipYFragment",code:_})}getTransferPipeline(r){let c=this.transferPipelines[r];return c===void 0&&(c=this.device.createRenderPipeline({label:`mipmap-${r}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.mipmapFragmentShaderModule,entryPoint:"main",targets:[{format:r}]},primitive:{topology:Xc.TriangleStrip,stripIndexFormat:Bl.Uint32},layout:"auto"}),this.transferPipelines[r]=c),c}getFlipYPipeline(r){let c=this.flipYPipelines[r];return c===void 0&&(c=this.device.createRenderPipeline({label:`flipY-${r}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.flipYFragmentShaderModule,entryPoint:"main",targets:[{format:r}]},primitive:{topology:Xc.TriangleStrip,stripIndexFormat:Bl.Uint32},layout:"auto"}),this.flipYPipelines[r]=c),c}flipY(r,c,f=0){const _=c.format,{width:y,height:T}=c.size,A=this.getTransferPipeline(_),N=this.getFlipYPipeline(_),k=this.device.createTexture({size:{width:y,height:T,depthOrArrayLayers:1},format:_,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),V=r.createView({baseMipLevel:0,mipLevelCount:1,dimension:$2.TwoD,baseArrayLayer:f}),j=k.createView({baseMipLevel:0,mipLevelCount:1,dimension:$2.TwoD,baseArrayLayer:0}),K=this.device.createCommandEncoder({}),Q=(ie,ce,ue)=>{const re=ie.getBindGroupLayout(0),be=this.device.createBindGroup({layout:re,entries:[{binding:0,resource:this.flipYSampler},{binding:1,resource:ce}]}),De=K.beginRenderPass({colorAttachments:[{view:ue,loadOp:En.Clear,storeOp:Kr.Store,clearValue:[0,0,0,0]}]});De.setPipeline(ie),De.setBindGroup(0,be),De.draw(4,1,0,0),De.end()};Q(A,V,j),Q(N,j,V),this.device.queue.submit([K.finish()]),k.destroy()}generateMipmaps(r,c,f=0,_=null){const y=this.get(r);y.layers===void 0&&(y.layers=[]);const T=y.layers[f]||this._mipmapCreateBundles(r,c,f),A=_||this.device.createCommandEncoder({label:"mipmapEncoder"});this._mipmapRunBundles(A,T),_===null&&this.device.queue.submit([A.finish()]),y.layers[f]=T}_mipmapCreateBundles(r,c,f){const _=this.getTransferPipeline(c.format),y=_.getBindGroupLayout(0);let T=r.createView({baseMipLevel:0,mipLevelCount:1,dimension:$2.TwoD,baseArrayLayer:f});const A=[];for(let N=1;N<c.mipLevelCount;N++){const k=this.device.createBindGroup({layout:y,entries:[{binding:0,resource:this.mipmapSampler},{binding:1,resource:T}]}),V=r.createView({baseMipLevel:N,mipLevelCount:1,dimension:$2.TwoD,baseArrayLayer:f}),j={colorAttachments:[{view:V,loadOp:En.Clear,storeOp:Kr.Store,clearValue:[0,0,0,0]}]},K=this.device.createRenderBundleEncoder({colorFormats:[c.format]});K.setPipeline(_),K.setBindGroup(0,k),K.draw(4,1,0,0),A.push({renderBundles:[K.finish()],passDescriptor:j}),T=V}return A}_mipmapRunBundles(r,c){const f=c.length;for(let _=0;_<f;_++){const y=c[_],T=r.beginRenderPass(y.passDescriptor);T.executeBundles(y.renderBundles),T.end()}}}const Zme={[Ed]:"never",[yp]:"less",[Nd]:"equal",[vp]:"less-equal",[bd]:"greater",[Id]:"greater-equal",[Pd]:"always",[Dd]:"not-equal"},Qme=[0,1,3,2,4,5];class Jme{constructor(r){this.backend=r,this._passUtils=null,this.defaultTexture={},this.defaultCubeTexture={},this.defaultVideoFrame=null,this._samplerCache=new Map}updateSampler(r){const c=this.backend,f=r.minFilter+"-"+r.magFilter+"-"+r.wrapS+"-"+r.wrapT+"-"+(r.wrapR||"0")+"-"+r.anisotropy+"-"+(r.compareFunction||0);let _=this._samplerCache.get(f);if(_===void 0){const T={addressModeU:this._convertAddressMode(r.wrapS),addressModeV:this._convertAddressMode(r.wrapT),addressModeW:this._convertAddressMode(r.wrapR),magFilter:this._convertFilterMode(r.magFilter),minFilter:this._convertFilterMode(r.minFilter),mipmapFilter:this._convertFilterMode(r.minFilter),maxAnisotropy:1};T.magFilter===Ua.Linear&&T.minFilter===Ua.Linear&&T.mipmapFilter===Ua.Linear&&(T.maxAnisotropy=r.anisotropy),r.isDepthTexture&&r.compareFunction!==null&&(T.compare=Zme[r.compareFunction]),_={sampler:c.device.createSampler(T),usedTimes:0},this._samplerCache.set(f,_)}const y=c.get(r);if(y.sampler!==_.sampler){if(y.sampler!==void 0){const T=this._samplerCache.get(y.samplerKey);T.usedTimes--,T.usedTimes===0&&this._samplerCache.delete(y.samplerKey)}y.samplerKey=f,y.sampler=_.sampler,_.usedTimes++}return f}createDefaultTexture(r){let c;const f=_d(r);r.isCubeTexture?c=this._getDefaultCubeTextureGPU(f):c=this._getDefaultTextureGPU(f),this.backend.get(r).texture=c}createTexture(r,c={}){const f=this.backend,_=f.get(r);if(_.initialized)throw new Error("WebGPUTextureUtils: Texture already initialized.");if(r.isExternalTexture){_.texture=r.sourceTexture,_.initialized=!0;return}c.needsMipmaps===void 0&&(c.needsMipmaps=!1),c.levels===void 0&&(c.levels=1),c.depth===void 0&&(c.depth=1);const{width:y,height:T,depth:A,levels:N}=c;r.isFramebufferTexture&&(c.renderTarget?c.format=this.backend.utils.getCurrentColorFormat(c.renderTarget):c.format=this.backend.utils.getPreferredCanvasFormat());const k=this._getDimension(r),V=r.internalFormat||c.format||_d(r,f.device);_.format=V;const{samples:j,primarySamples:K,isMSAA:Q}=f.utils.getTextureSampleData(r);let ie=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;r.isStorageTexture===!0&&(ie|=GPUTextureUsage.STORAGE_BINDING),r.isCompressedTexture!==!0&&r.isCompressedArrayTexture!==!0&&V!==et.RGB9E5UFloat&&(ie|=GPUTextureUsage.RENDER_ATTACHMENT);const ce={label:r.name,size:{width:y,height:T,depthOrArrayLayers:A},mipLevelCount:N,sampleCount:K,dimension:k,format:V,usage:ie};if(V===void 0){jt("WebGPURenderer: Texture format not supported."),this.createDefaultTexture(r);return}if(r.isCubeTexture&&(ce.textureBindingViewDimension=$2.Cube),_.texture=f.device.createTexture(ce),Q){const ue=Object.assign({},ce);ue.label=ue.label+"-msaa",ue.sampleCount=j,ue.mipLevelCount=1,_.msaaTexture=f.device.createTexture(ue)}_.initialized=!0,_.textureDescriptorGPU=ce}destroyTexture(r,c=!1){const f=this.backend,_=f.get(r);_.texture!==void 0&&c===!1&&_.texture.destroy(),_.msaaTexture!==void 0&&_.msaaTexture.destroy(),f.delete(r)}generateMipmaps(r,c=null){const f=this.backend.get(r);if(r.isCubeTexture)for(let _=0;_<6;_++)this._generateMipmaps(f.texture,f.textureDescriptorGPU,_,c);else{const _=r.image.depth||1;for(let y=0;y<_;y++)this._generateMipmaps(f.texture,f.textureDescriptorGPU,y,c)}}getColorBuffer(){const r=this.backend,c=r.renderer.getCanvasTarget(),{width:f,height:_}=r.getDrawingBufferSize(),y=r.renderer.currentSamples,T=c.colorTexture,A=r.get(T);if(T.width===f&&T.height===_&&T.samples===y)return A.texture;let N=A.texture;return N&&N.destroy(),N=r.device.createTexture({label:"colorBuffer",size:{width:f,height:_,depthOrArrayLayers:1},sampleCount:r.utils.getSampleCount(r.renderer.currentSamples),format:r.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC}),T.source.width=f,T.source.height=_,T.samples=y,A.texture=N,N}getDepthBuffer(r=!0,c=!1){const f=this.backend,_=f.renderer.getCanvasTarget(),{width:y,height:T}=f.getDrawingBufferSize(),A=f.renderer.currentSamples,N=_.depthTexture;if(N.width===y&&N.height===T&&N.samples===A&&N.depth===r&&N.stencil===c)return f.get(N).texture;const k=f.get(N).texture;let V,j;if(c?(V=Ls,j=Is):r&&(V=Ps,j=Yn),k!==void 0){if(N.image.width===y&&N.image.height===T&&N.format===V&&N.type===j&&N.samples===A)return k;this.destroyTexture(N)}return N.name="depthBuffer",N.format=V,N.type=j,N.image.width=y,N.image.height=T,N.samples=A,this.createTexture(N,{width:y,height:T}),f.get(N).texture}updateTexture(r,c){const f=this.backend.get(r),_=r.mipmaps,{textureDescriptorGPU:y}=f;if(!(r.isRenderTargetTexture||y===void 0)){if(r.isDataTexture)if(_.length>0)for(let T=0,A=_.length;T<A;T++){const N=_[T];this._copyBufferToTexture(N,f.texture,y,0,r.flipY,0,T)}else this._copyBufferToTexture(c.image,f.texture,y,0,r.flipY);else if(r.isArrayTexture||r.isDataArrayTexture||r.isData3DTexture)for(let T=0;T<c.image.depth;T++)this._copyBufferToTexture(c.image,f.texture,y,T,r.flipY,T);else if(r.isCompressedTexture||r.isCompressedArrayTexture)this._copyCompressedBufferToTexture(r.mipmaps,f.texture,y);else if(r.isCubeTexture)this._copyCubeMapToTexture(r,f.texture,y);else if(_.length>0)for(let T=0,A=_.length;T<A;T++){const N=_[T];this._copyImageToTexture(N,f.texture,y,0,r.flipY,r.premultiplyAlpha,T)}else this._copyImageToTexture(c.image,f.texture,y,0,r.flipY,r.premultiplyAlpha);f.version=r.version}}async copyTextureToBuffer(r,c,f,_,y,T){const A=this.backend.device,N=this.backend.get(r),k=N.texture,V=N.textureDescriptorGPU.format,j=this._getBytesPerTexel(V);let K=_*j;K=Math.ceil(K/256)*256;const Q=A.createBuffer({size:(y-1)*K+_*j,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),ie=A.createCommandEncoder();ie.copyTextureToBuffer({texture:k,origin:{x:c,y:f,z:T}},{buffer:Q,bytesPerRow:K},{width:_,height:y});const ce=this._getTypedArrayType(V);A.queue.submit([ie.finish()]),await Q.mapAsync(GPUMapMode.READ);const ue=Q.getMappedRange();return new ce(ue)}dispose(){this._samplerCache.clear()}_getDefaultTextureGPU(r){let c=this.defaultTexture[r];if(c===void 0){const f=new Z2;f.minFilter=n2,f.magFilter=n2,this.createTexture(f,{width:1,height:1,format:r}),this.defaultTexture[r]=c=f}return this.backend.get(c).texture}_getDefaultCubeTextureGPU(r){let c=this.defaultTexture[r];if(c===void 0){const f=new yf;f.minFilter=n2,f.magFilter=n2,this.createTexture(f,{width:1,height:1,depth:6}),this.defaultCubeTexture[r]=c=f}return this.backend.get(c).texture}_copyCubeMapToTexture(r,c,f){const _=r.images,y=r.mipmaps;for(let T=0;T<6;T++){const A=_[T],N=r.flipY===!0?Qme[T]:T;A.isDataTexture?this._copyBufferToTexture(A.image,c,f,N,r.flipY):this._copyImageToTexture(A,c,f,N,r.flipY,r.premultiplyAlpha);for(let k=0;k<y.length;k++){const j=y[k].images[T];j.isDataTexture?this._copyBufferToTexture(j.image,c,f,N,r.flipY,0,k+1):this._copyImageToTexture(j,c,f,N,r.flipY,r.premultiplyAlpha,k+1)}}}_copyImageToTexture(r,c,f,_,y,T,A=0){const N=this.backend.device,k=A>0?r.width:f.size.width,V=A>0?r.height:f.size.height;N.queue.copyExternalImageToTexture({source:r,flipY:y},{texture:c,mipLevel:A,origin:{x:0,y:0,z:_},premultipliedAlpha:T},{width:k,height:V,depthOrArrayLayers:1})}_getPassUtils(){let r=this._passUtils;return r===null&&(this._passUtils=r=new Kme(this.backend.device)),r}_generateMipmaps(r,c,f=0,_=null){this._getPassUtils().generateMipmaps(r,c,f,_)}_flipY(r,c,f=0){this._getPassUtils().flipY(r,c,f)}_copyBufferToTexture(r,c,f,_,y,T=0,A=0){const N=this.backend.device,k=r.data,V=this._getBytesPerTexel(f.format),j=r.width*V;N.queue.writeTexture({texture:c,mipLevel:A,origin:{x:0,y:0,z:_}},k,{offset:r.width*r.height*V*T,bytesPerRow:j},{width:r.width,height:r.height,depthOrArrayLayers:1}),y===!0&&this._flipY(c,f,_)}_copyCompressedBufferToTexture(r,c,f){const _=this.backend.device,y=this._getBlockData(f.format),T=f.size.depthOrArrayLayers>1;for(let A=0;A<r.length;A++){const N=r[A],k=N.width,V=N.height,j=T?f.size.depthOrArrayLayers:1,K=Math.ceil(k/y.width)*y.byteLength,Q=K*Math.ceil(V/y.height);for(let ie=0;ie<j;ie++)_.queue.writeTexture({texture:c,mipLevel:A,origin:{x:0,y:0,z:ie}},N.data,{offset:ie*Q,bytesPerRow:K,rowsPerImage:Math.ceil(V/y.height)},{width:Math.ceil(k/y.width)*y.width,height:Math.ceil(V/y.height)*y.height,depthOrArrayLayers:1})}}_getBlockData(r){if(r===et.BC1RGBAUnorm||r===et.BC1RGBAUnormSRGB)return{byteLength:8,width:4,height:4};if(r===et.BC2RGBAUnorm||r===et.BC2RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(r===et.BC3RGBAUnorm||r===et.BC3RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(r===et.BC4RUnorm||r===et.BC4RSnorm)return{byteLength:8,width:4,height:4};if(r===et.BC5RGUnorm||r===et.BC5RGSnorm)return{byteLength:16,width:4,height:4};if(r===et.BC6HRGBUFloat||r===et.BC6HRGBFloat)return{byteLength:16,width:4,height:4};if(r===et.BC7RGBAUnorm||r===et.BC7RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(r===et.ETC2RGB8Unorm||r===et.ETC2RGB8UnormSRGB)return{byteLength:8,width:4,height:4};if(r===et.ETC2RGB8A1Unorm||r===et.ETC2RGB8A1UnormSRGB)return{byteLength:8,width:4,height:4};if(r===et.ETC2RGBA8Unorm||r===et.ETC2RGBA8UnormSRGB)return{byteLength:16,width:4,height:4};if(r===et.EACR11Unorm)return{byteLength:8,width:4,height:4};if(r===et.EACR11Snorm)return{byteLength:8,width:4,height:4};if(r===et.EACRG11Unorm)return{byteLength:16,width:4,height:4};if(r===et.EACRG11Snorm)return{byteLength:16,width:4,height:4};if(r===et.ASTC4x4Unorm||r===et.ASTC4x4UnormSRGB)return{byteLength:16,width:4,height:4};if(r===et.ASTC5x4Unorm||r===et.ASTC5x4UnormSRGB)return{byteLength:16,width:5,height:4};if(r===et.ASTC5x5Unorm||r===et.ASTC5x5UnormSRGB)return{byteLength:16,width:5,height:5};if(r===et.ASTC6x5Unorm||r===et.ASTC6x5UnormSRGB)return{byteLength:16,width:6,height:5};if(r===et.ASTC6x6Unorm||r===et.ASTC6x6UnormSRGB)return{byteLength:16,width:6,height:6};if(r===et.ASTC8x5Unorm||r===et.ASTC8x5UnormSRGB)return{byteLength:16,width:8,height:5};if(r===et.ASTC8x6Unorm||r===et.ASTC8x6UnormSRGB)return{byteLength:16,width:8,height:6};if(r===et.ASTC8x8Unorm||r===et.ASTC8x8UnormSRGB)return{byteLength:16,width:8,height:8};if(r===et.ASTC10x5Unorm||r===et.ASTC10x5UnormSRGB)return{byteLength:16,width:10,height:5};if(r===et.ASTC10x6Unorm||r===et.ASTC10x6UnormSRGB)return{byteLength:16,width:10,height:6};if(r===et.ASTC10x8Unorm||r===et.ASTC10x8UnormSRGB)return{byteLength:16,width:10,height:8};if(r===et.ASTC10x10Unorm||r===et.ASTC10x10UnormSRGB)return{byteLength:16,width:10,height:10};if(r===et.ASTC12x10Unorm||r===et.ASTC12x10UnormSRGB)return{byteLength:16,width:12,height:10};if(r===et.ASTC12x12Unorm||r===et.ASTC12x12UnormSRGB)return{byteLength:16,width:12,height:12}}_convertAddressMode(r){let c=G4.ClampToEdge;return r===co?c=G4.Repeat:r===ja&&(c=G4.MirrorRepeat),c}_convertFilterMode(r){let c=Ua.Linear;return(r===n2||r===Rd||r===v1)&&(c=Ua.Nearest),c}_getBytesPerTexel(r){if(r===et.R8Unorm||r===et.R8Snorm||r===et.R8Uint||r===et.R8Sint)return 1;if(r===et.R16Uint||r===et.R16Sint||r===et.R16Float||r===et.RG8Unorm||r===et.RG8Snorm||r===et.RG8Uint||r===et.RG8Sint)return 2;if(r===et.R32Uint||r===et.R32Sint||r===et.R32Float||r===et.RG16Uint||r===et.RG16Sint||r===et.RG16Float||r===et.RGBA8Unorm||r===et.RGBA8UnormSRGB||r===et.RGBA8Snorm||r===et.RGBA8Uint||r===et.RGBA8Sint||r===et.BGRA8Unorm||r===et.BGRA8UnormSRGB||r===et.RGB9E5UFloat||r===et.RGB10A2Unorm||r===et.RG11B10UFloat||r===et.Depth32Float||r===et.Depth24Plus||r===et.Depth24PlusStencil8||r===et.Depth32FloatStencil8)return 4;if(r===et.RG32Uint||r===et.RG32Sint||r===et.RG32Float||r===et.RGBA16Uint||r===et.RGBA16Sint||r===et.RGBA16Float)return 8;if(r===et.RGBA32Uint||r===et.RGBA32Sint||r===et.RGBA32Float)return 16}_getTypedArrayType(r){if(r===et.R8Uint)return Uint8Array;if(r===et.R8Sint)return Int8Array;if(r===et.R8Unorm)return Uint8Array;if(r===et.R8Snorm)return Int8Array;if(r===et.RG8Uint)return Uint8Array;if(r===et.RG8Sint)return Int8Array;if(r===et.RG8Unorm)return Uint8Array;if(r===et.RG8Snorm)return Int8Array;if(r===et.RGBA8Uint)return Uint8Array;if(r===et.RGBA8Sint)return Int8Array;if(r===et.RGBA8Unorm||r===et.RGBA8UnormSRGB)return Uint8Array;if(r===et.RGBA8Snorm)return Int8Array;if(r===et.R16Uint)return Uint16Array;if(r===et.R16Sint)return Int16Array;if(r===et.RG16Uint)return Uint16Array;if(r===et.RG16Sint)return Int16Array;if(r===et.RGBA16Uint)return Uint16Array;if(r===et.RGBA16Sint)return Int16Array;if(r===et.R16Float||r===et.RG16Float||r===et.RGBA16Float)return Uint16Array;if(r===et.R32Uint)return Uint32Array;if(r===et.R32Sint)return Int32Array;if(r===et.R32Float)return Float32Array;if(r===et.RG32Uint)return Uint32Array;if(r===et.RG32Sint)return Int32Array;if(r===et.RG32Float)return Float32Array;if(r===et.RGBA32Uint)return Uint32Array;if(r===et.RGBA32Sint)return Int32Array;if(r===et.RGBA32Float)return Float32Array;if(r===et.BGRA8Unorm||r===et.BGRA8UnormSRGB)return Uint8Array;if(r===et.RGB10A2Unorm||r===et.RGB9E5UFloat||r===et.RG11B10UFloat)return Uint32Array;if(r===et.Depth32Float)return Float32Array;if(r===et.Depth24Plus||r===et.Depth24PlusStencil8)return Uint32Array;if(r===et.Depth32FloatStencil8)return Float32Array}_getDimension(r){let c;return r.is3DTexture||r.isData3DTexture?c=_g.ThreeD:c=_g.TwoD,c}}function _d(v,r=null){const c=v.format,f=v.type,_=v.colorSpace,y=fi.getTransfer(_);let T;if(v.isCompressedTexture===!0||v.isCompressedArrayTexture===!0)switch(c){case Q1:case J1:T=y===N0?et.BC1RGBAUnormSRGB:et.BC1RGBAUnorm;break;case ea:T=y===N0?et.BC2RGBAUnormSRGB:et.BC2RGBAUnorm;break;case ta:T=y===N0?et.BC3RGBAUnormSRGB:et.BC3RGBAUnorm;break;case Ml:T=et.BC4RUnorm;break;case Rl:T=et.BC4RSnorm;break;case Al:T=et.BC5RGUnorm;break;case El:T=et.BC5RGSnorm;break;case wl:T=y===N0?et.BC7RGBAUnormSRGB:et.BC7RGBAUnorm;break;case cl:case al:T=y===N0?et.ETC2RGB8UnormSRGB:et.ETC2RGB8Unorm;break;case ll:T=y===N0?et.ETC2RGBA8UnormSRGB:et.ETC2RGBA8Unorm;break;case ul:T=y===N0?et.ASTC4x4UnormSRGB:et.ASTC4x4Unorm;break;case fl:T=y===N0?et.ASTC5x4UnormSRGB:et.ASTC5x4Unorm;break;case _l:T=y===N0?et.ASTC5x5UnormSRGB:et.ASTC5x5Unorm;break;case pl:T=y===N0?et.ASTC6x5UnormSRGB:et.ASTC6x5Unorm;break;case hl:T=y===N0?et.ASTC6x6UnormSRGB:et.ASTC6x6Unorm;break;case dl:T=y===N0?et.ASTC8x5UnormSRGB:et.ASTC8x5Unorm;break;case ml:T=y===N0?et.ASTC8x6UnormSRGB:et.ASTC8x6Unorm;break;case gl:T=y===N0?et.ASTC8x8UnormSRGB:et.ASTC8x8Unorm;break;case xl:T=y===N0?et.ASTC10x5UnormSRGB:et.ASTC10x5Unorm;break;case yl:T=y===N0?et.ASTC10x6UnormSRGB:et.ASTC10x6Unorm;break;case vl:T=y===N0?et.ASTC10x8UnormSRGB:et.ASTC10x8Unorm;break;case Sl:T=y===N0?et.ASTC10x10UnormSRGB:et.ASTC10x10Unorm;break;case Cl:T=y===N0?et.ASTC12x10UnormSRGB:et.ASTC12x10Unorm;break;case Tl:T=y===N0?et.ASTC12x12UnormSRGB:et.ASTC12x12Unorm;break;case w2:T=y===N0?et.RGBA8UnormSRGB:et.RGBA8Unorm;break;default:r0("WebGPURenderer: Unsupported texture format.",c)}else switch(c){case w2:switch(f){case Ga:T=et.RGBA8Snorm;break;case Va:T=et.RGBA16Sint;break;case lo:T=et.RGBA16Uint;break;case Yn:T=et.RGBA32Uint;break;case vr:T=et.RGBA32Sint;break;case T2:T=y===N0?et.RGBA8UnormSRGB:et.RGBA8Unorm;break;case K2:T=et.RGBA16Float;break;case I2:T=et.RGBA32Float;break;default:r0("WebGPURenderer: Unsupported texture type with RGBAFormat.",f)}break;case gf:switch(f){case gp:T=et.RGB9E5UFloat;break;case xp:T=et.RG11B10UFloat;break;default:r0("WebGPURenderer: Unsupported texture type with RGBFormat.",f)}break;case xf:switch(f){case Ga:T=et.R8Snorm;break;case Va:T=et.R16Sint;break;case lo:T=et.R16Uint;break;case Yn:T=et.R32Uint;break;case vr:T=et.R32Sint;break;case T2:T=et.R8Unorm;break;case K2:T=et.R16Float;break;case I2:T=et.R32Float;break;default:r0("WebGPURenderer: Unsupported texture type with RedFormat.",f)}break;case uo:switch(f){case Ga:T=et.RG8Snorm;break;case Va:T=et.RG16Sint;break;case lo:T=et.RG16Uint;break;case Yn:T=et.RG32Uint;break;case vr:T=et.RG32Sint;break;case T2:T=et.RG8Unorm;break;case K2:T=et.RG16Float;break;case I2:T=et.RG32Float;break;default:r0("WebGPURenderer: Unsupported texture type with RGFormat.",f)}break;case Ps:switch(f){case lo:T=et.Depth16Unorm;break;case Yn:T=et.Depth24Plus;break;case I2:T=et.Depth32Float;break;default:r0("WebGPURenderer: Unsupported texture type with DepthFormat.",f)}break;case Ls:switch(f){case Is:T=et.Depth24PlusStencil8;break;case I2:r&&r.features.has(fd.Depth32FloatStencil8)===!1&&r0('WebGPURenderer: Depth textures with DepthStencilFormat + FloatType can only be used with the "depth32float-stencil8" GPU feature.'),T=et.Depth32FloatStencil8;break;default:r0("WebGPURenderer: Unsupported texture type with DepthStencilFormat.",f)}break;case Ol:switch(f){case vr:T=et.R32Sint;break;case Yn:T=et.R32Uint;break;default:r0("WebGPURenderer: Unsupported texture type with RedIntegerFormat.",f)}break;case Gl:switch(f){case vr:T=et.RG32Sint;break;case Yn:T=et.RG32Uint;break;default:r0("WebGPURenderer: Unsupported texture type with RGIntegerFormat.",f)}break;case Vl:switch(f){case vr:T=et.RGBA32Sint;break;case Yn:T=et.RGBA32Uint;break;default:r0("WebGPURenderer: Unsupported texture type with RGBAIntegerFormat.",f)}break;default:r0("WebGPURenderer: Unsupported texture format.",c)}return T}const e3e=/^[fn]*\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)\s*[\-\>]*\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/i,t3e=/([a-z_0-9]+)\s*:\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/ig,hg={f32:"float",i32:"int",u32:"uint",bool:"bool","vec2<f32>":"vec2","vec2<i32>":"ivec2","vec2<u32>":"uvec2","vec2<bool>":"bvec2",vec2f:"vec2",vec2i:"ivec2",vec2u:"uvec2",vec2b:"bvec2","vec3<f32>":"vec3","vec3<i32>":"ivec3","vec3<u32>":"uvec3","vec3<bool>":"bvec3",vec3f:"vec3",vec3i:"ivec3",vec3u:"uvec3",vec3b:"bvec3","vec4<f32>":"vec4","vec4<i32>":"ivec4","vec4<u32>":"uvec4","vec4<bool>":"bvec4",vec4f:"vec4",vec4i:"ivec4",vec4u:"uvec4",vec4b:"bvec4","mat2x2<f32>":"mat2",mat2x2f:"mat2","mat3x3<f32>":"mat3",mat3x3f:"mat3","mat4x4<f32>":"mat4",mat4x4f:"mat4",sampler:"sampler",texture_1d:"texture",texture_2d:"texture",texture_2d_array:"texture",texture_multisampled_2d:"cubeTexture",texture_depth_2d:"depthTexture",texture_depth_2d_array:"depthTexture",texture_depth_multisampled_2d:"depthTexture",texture_depth_cube:"depthTexture",texture_depth_cube_array:"depthTexture",texture_3d:"texture3D",texture_cube:"cubeTexture",texture_cube_array:"cubeTexture",texture_storage_1d:"storageTexture",texture_storage_2d:"storageTexture",texture_storage_2d_array:"storageTexture",texture_storage_3d:"storageTexture"},i3e=v=>{v=v.trim();const r=v.match(e3e);if(r!==null&&r.length===4){const c=r[2],f=[];let _=null;for(;(_=t3e.exec(c))!==null;)f.push({name:_[1],type:_[2]});const y=[];for(let V=0;V<f.length;V++){const{name:j,type:K}=f[V];let Q=K;Q.startsWith("ptr")?Q="pointer":(Q.startsWith("texture")&&(Q=K.split("<")[0]),Q=hg[Q]),y.push(new S8(Q,j))}const T=v.substring(r[0].length),A=r[3]||"void",N=r[1]!==void 0?r[1]:"";return{type:hg[A]||A,inputs:y,name:N,inputsCode:c,blockCode:T,outputType:A}}else throw new Error("FunctionNode: Function is not a WGSL code.")};class n3e extends T8{constructor(r){const{type:c,inputs:f,name:_,inputsCode:y,blockCode:T,outputType:A}=i3e(r);super(c,f,_),this.inputsCode=y,this.blockCode=T,this.outputType=A}getCode(r=this.name){const c=this.outputType!=="void"?"-> "+this.outputType:"";return`fn ${r} ( ${this.inputsCode.trim()} ) ${c}`+this.blockCode}}class r3e extends qy{parseFunction(r){return new n3e(r)}}const Vc=typeof self<"u"?self.GPUShaderStage:{VERTEX:1,FRAGMENT:2,COMPUTE:4},s3e={[Uo.READ_ONLY]:"read",[Uo.WRITE_ONLY]:"write",[Uo.READ_WRITE]:"read_write"},dg={[co]:"repeat",[Sr]:"clamp",[ja]:"mirror"},H_={vertex:Vc?Vc.VERTEX:1,fragment:Vc?Vc.FRAGMENT:2,compute:Vc?Vc.COMPUTE:4},mg={instance:!0,swizzleAssign:!1,storageBuffer:!0},o3e={"^^":"tsl_xor"},a3e={float:"f32",int:"i32",uint:"u32",bool:"bool",color:"vec3<f32>",vec2:"vec2<f32>",ivec2:"vec2<i32>",uvec2:"vec2<u32>",bvec2:"vec2<bool>",vec3:"vec3<f32>",ivec3:"vec3<i32>",uvec3:"vec3<u32>",bvec3:"vec3<bool>",vec4:"vec4<f32>",ivec4:"vec4<i32>",uvec4:"vec4<u32>",bvec4:"vec4<bool>",mat2:"mat2x2<f32>",mat3:"mat3x3<f32>",mat4:"mat4x4<f32>"},gg={},Nu={tsl_xor:new Rr("fn tsl_xor( a : bool, b : bool ) -> bool { return ( a || b ) && !( a && b ); }"),mod_float:new Rr("fn tsl_mod_float( x : f32, y : f32 ) -> f32 { return x - y * floor( x / y ); }"),mod_vec2:new Rr("fn tsl_mod_vec2( x : vec2f, y : vec2f ) -> vec2f { return x - y * floor( x / y ); }"),mod_vec3:new Rr("fn tsl_mod_vec3( x : vec3f, y : vec3f ) -> vec3f { return x - y * floor( x / y ); }"),mod_vec4:new Rr("fn tsl_mod_vec4( x : vec4f, y : vec4f ) -> vec4f { return x - y * floor( x / y ); }"),equals_bool:new Rr("fn tsl_equals_bool( a : bool, b : bool ) -> bool { return a == b; }"),equals_bvec2:new Rr("fn tsl_equals_bvec2( a : vec2f, b : vec2f ) -> vec2<bool> { return vec2<bool>( a.x == b.x, a.y == b.y ); }"),equals_bvec3:new Rr("fn tsl_equals_bvec3( a : vec3f, b : vec3f ) -> vec3<bool> { return vec3<bool>( a.x == b.x, a.y == b.y, a.z == b.z ); }"),equals_bvec4:new Rr("fn tsl_equals_bvec4( a : vec4f, b : vec4f ) -> vec4<bool> { return vec4<bool>( a.x == b.x, a.y == b.y, a.z == b.z, a.w == b.w ); }"),repeatWrapping_float:new Rr("fn tsl_repeatWrapping_float( coord: f32 ) -> f32 { return fract( coord ); }"),mirrorWrapping_float:new Rr("fn tsl_mirrorWrapping_float( coord: f32 ) -> f32 { let mirrored = fract( coord * 0.5 ) * 2.0; return 1.0 - abs( 1.0 - mirrored ); }"),clampWrapping_float:new Rr("fn tsl_clampWrapping_float( coord: f32 ) -> f32 { return clamp( coord, 0.0, 1.0 ); }"),biquadraticTexture:new Rr(`
fn tsl_biquadraticTexture( map : texture_2d<f32>, coord : vec2f, iRes : vec2u, level : u32 ) -> vec4f {

	let res = vec2f( iRes );

	let uvScaled = coord * res;
	let uvWrapping = ( ( uvScaled % res ) + res ) % res;

	// https://www.shadertoy.com/view/WtyXRy

	let uv = uvWrapping - 0.5;
	let iuv = floor( uv );
	let f = fract( uv );

	let rg1 = textureLoad( map, vec2u( iuv + vec2( 0.5, 0.5 ) ) % iRes, level );
	let rg2 = textureLoad( map, vec2u( iuv + vec2( 1.5, 0.5 ) ) % iRes, level );
	let rg3 = textureLoad( map, vec2u( iuv + vec2( 0.5, 1.5 ) ) % iRes, level );
	let rg4 = textureLoad( map, vec2u( iuv + vec2( 1.5, 1.5 ) ) % iRes, level );

	return mix( mix( rg1, rg2, f.x ), mix( rg3, rg4, f.x ), f.y );

}
`)},c3e={dFdx:"dpdx",dFdy:"- dpdy",mod_float:"tsl_mod_float",mod_vec2:"tsl_mod_vec2",mod_vec3:"tsl_mod_vec3",mod_vec4:"tsl_mod_vec4",equals_bool:"tsl_equals_bool",equals_bvec2:"tsl_equals_bvec2",equals_bvec3:"tsl_equals_bvec3",equals_bvec4:"tsl_equals_bvec4",inversesqrt:"inverseSqrt",bitcast:"bitcast<f32>"};let nv="";(typeof navigator<"u"&&/Firefox|Deno/g.test(navigator.userAgent))!==!0&&(nv+=`diagnostic( off, derivative_uniformity );
`);class l3e extends jy{constructor(r,c){super(r,c,new r3e),this.uniformGroups={},this.builtins={},this.directives={},this.scopedArrays=new Map}_generateTextureSample(r,c,f,_,y,T=this.shaderStage){return T==="fragment"?_?y?`textureSample( ${c}, ${c}_sampler, ${f}, ${_}, ${y} )`:`textureSample( ${c}, ${c}_sampler, ${f}, ${_} )`:y?`textureSample( ${c}, ${c}_sampler, ${f}, ${y} )`:`textureSample( ${c}, ${c}_sampler, ${f} )`:this.generateTextureSampleLevel(r,c,f,"0",_)}generateTextureSampleLevel(r,c,f,_,y,T){return this.isUnfilterable(r)===!1?T?`textureSampleLevel( ${c}, ${c}_sampler, ${f}, ${_}, ${T} )`:`textureSampleLevel( ${c}, ${c}_sampler, ${f}, ${_} )`:this.isFilteredTexture(r)?this.generateFilteredTexture(r,c,f,T,_):this.generateTextureLod(r,c,f,y,T,_)}generateWrapFunction(r){const c=`tsl_coord_${dg[r.wrapS]}S_${dg[r.wrapT]}_${r.isData3DTexture?"3d":"2d"}T`;let f=gg[c];if(f===void 0){const _=[],y=r.isData3DTexture?"vec3f":"vec2f";let T=`fn ${c}( coord : ${y} ) -> ${y} {

	return ${y}(
`;const A=(N,k)=>{N===co?(_.push(Nu.repeatWrapping_float),T+=`		tsl_repeatWrapping_float( coord.${k} )`):N===Sr?(_.push(Nu.clampWrapping_float),T+=`		tsl_clampWrapping_float( coord.${k} )`):N===ja?(_.push(Nu.mirrorWrapping_float),T+=`		tsl_mirrorWrapping_float( coord.${k} )`):(T+=`		coord.${k}`,jt(`WebGPURenderer: Unsupported texture wrap type "${N}" for vertex shader.`))};A(r.wrapS,"x"),T+=`,
`,A(r.wrapT,"y"),r.isData3DTexture&&(T+=`,
`,A(r.wrapR,"z")),T+=`
	);

}
`,gg[c]=f=new Rr(T,_)}return f.build(this),c}generateArrayDeclaration(r,c){return`array< ${this.getType(r)}, ${c} >`}generateTextureDimension(r,c,f){const _=this.getDataFromNode(r,this.shaderStage,this.globalCache);_.dimensionsSnippet===void 0&&(_.dimensionsSnippet={});let y=_.dimensionsSnippet[f];if(_.dimensionsSnippet[f]===void 0){let T,A;const{primarySamples:N}=this.renderer.backend.utils.getTextureSampleData(r),k=N>1;r.isData3DTexture?A="vec3<u32>":A="vec2<u32>",k||r.isStorageTexture?T=c:T=`${c}${f?`, u32( ${f} )`:""}`,y=new K_(new Z_(`textureDimensions( ${T} )`,A)),_.dimensionsSnippet[f]=y,(r.isArrayTexture||r.isDataArrayTexture||r.isData3DTexture)&&(_.arrayLayerCount=new K_(new Z_(`textureNumLayers(${c})`,"u32"))),r.isTextureCube&&(_.cubeFaceCount=new K_(new Z_("6u","u32")))}return y.build(this)}generateFilteredTexture(r,c,f,_,y="0u"){this._include("biquadraticTexture");const T=this.generateWrapFunction(r),A=this.generateTextureDimension(r,c,y);return _&&(f=`${f} + vec2<f32>(${_}) / ${A}`),`tsl_biquadraticTexture( ${c}, ${T}( ${f} ), ${A}, u32( ${y} ) )`}generateTextureLod(r,c,f,_,y,T="0u"){const A=this.generateWrapFunction(r),N=this.generateTextureDimension(r,c,T),k=r.isData3DTexture?"vec3":"vec2";y&&(f=`${f} + ${k}<f32>(${y}) / ${k}<f32>( ${N} )`);const V=`${k}<u32>( ${A}( ${f} ) * ${k}<f32>( ${N} ) )`;return this.generateTextureLoad(r,c,V,T,_,null)}generateTextureLoad(r,c,f,_,y,T){_===null&&(_="0u"),T&&(f=`${f} + ${T}`);let A;return y?A=`textureLoad( ${c}, ${f}, ${y}, u32( ${_} ) )`:(A=`textureLoad( ${c}, ${f}, u32( ${_} ) )`,this.renderer.backend.compatibilityMode&&r.isDepthTexture&&(A+=".x")),A}generateTextureStore(r,c,f,_,y){let T;return _?T=`textureStore( ${c}, ${f}, ${_}, ${y} )`:T=`textureStore( ${c}, ${f}, ${y} )`,T}isSampleCompare(r){return r.isDepthTexture===!0&&r.compareFunction!==null}isUnfilterable(r){return this.getComponentTypeFromTexture(r)!=="float"||!this.isAvailable("float32Filterable")&&r.isDataTexture===!0&&r.type===I2||this.isSampleCompare(r)===!1&&r.minFilter===n2&&r.magFilter===n2||this.renderer.backend.utils.getTextureSampleData(r).primarySamples>1}generateTexture(r,c,f,_,y,T=this.shaderStage){let A=null;return this.isUnfilterable(r)?A=this.generateTextureLod(r,c,f,_,y,"0",T):A=this._generateTextureSample(r,c,f,_,y,T),A}generateTextureGrad(r,c,f,_,y,T,A=this.shaderStage){if(A==="fragment")return T?`textureSampleGrad( ${c}, ${c}_sampler, ${f},  ${_[0]}, ${_[1]}, ${T} )`:`textureSampleGrad( ${c}, ${c}_sampler, ${f},  ${_[0]}, ${_[1]} )`;r0(`WebGPURenderer: THREE.TextureNode.gradient() does not support ${A} shader.`)}generateTextureCompare(r,c,f,_,y,T,A=this.shaderStage){if(A==="fragment")return r.isDepthTexture===!0&&r.isArrayTexture===!0?T?`textureSampleCompare( ${c}, ${c}_sampler, ${f}, ${y}, ${_}, ${T} )`:`textureSampleCompare( ${c}, ${c}_sampler, ${f}, ${y}, ${_} )`:T?`textureSampleCompare( ${c}, ${c}_sampler, ${f}, ${_}, ${T} )`:`textureSampleCompare( ${c}, ${c}_sampler, ${f}, ${_} )`;r0(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${A} shader.`)}generateTextureLevel(r,c,f,_,y,T){return this.isUnfilterable(r)===!1?T?`textureSampleLevel( ${c}, ${c}_sampler, ${f}, ${_}, ${T} )`:`textureSampleLevel( ${c}, ${c}_sampler, ${f}, ${_} )`:this.isFilteredTexture(r)?this.generateFilteredTexture(r,c,f,T,_):this.generateTextureLod(r,c,f,y,T,_)}generateTextureBias(r,c,f,_,y,T,A=this.shaderStage){if(A==="fragment")return T?`textureSampleBias( ${c}, ${c}_sampler, ${f}, ${_}, ${T} )`:`textureSampleBias( ${c}, ${c}_sampler, ${f}, ${_} )`;r0(`WebGPURenderer: THREE.TextureNode.biasNode does not support ${A} shader.`)}getPropertyName(r,c=this.shaderStage){if(r.isNodeVarying===!0&&r.needsInterpolation===!0){if(c==="vertex")return`varyings.${r.name}`}else if(r.isNodeUniform===!0){const f=r.name,_=r.type;return _==="texture"||_==="cubeTexture"||_==="storageTexture"||_==="texture3D"?f:_==="buffer"||_==="storageBuffer"||_==="indirectStorageBuffer"?this.isCustomStruct(r)?f:f+".value":r.groupNode.name+"."+f}return super.getPropertyName(r)}getOutputStructName(){return"output"}getFunctionOperator(r){const c=o3e[r];return c!==void 0?(this._include(c),c):null}getNodeAccess(r,c){return c!=="compute"?r.isAtomic===!0?(jt("WebGPURenderer: Atomic operations are only supported in compute shaders."),Uo.READ_WRITE):Uo.READ_ONLY:r.access}getStorageAccess(r,c){return s3e[this.getNodeAccess(r,c)]}getUniformFromNode(r,c,f,_=null){const y=super.getUniformFromNode(r,c,f,_),T=this.getDataFromNode(r,f,this.globalCache);if(T.uniformGPU===void 0){let A;const N=r.groupNode,k=N.name,V=this.getBindGroupArray(k,f);if(c==="texture"||c==="cubeTexture"||c==="storageTexture"||c==="texture3D"){let j=null;const K=this.getNodeAccess(r,f);if(c==="texture"||c==="storageTexture"?r.value.is3DTexture===!0?j=new ud(y.name,y.node,N,K):j=new Gp(y.name,y.node,N,K):c==="cubeTexture"?j=new ev(y.name,y.node,N,K):c==="texture3D"&&(j=new ud(y.name,y.node,N,K)),j.store=r.isStorageTextureNode===!0,j.mipLevel=j.store?r.mipLevel:0,j.setVisibility(H_[f]),this.isUnfilterable(r.value)===!1&&j.store===!1){const Q=new qme(`${y.name}_sampler`,y.node,N);Q.setVisibility(H_[f]),V.push(Q,j),A=[Q,j]}else V.push(j),A=[j]}else if(c==="buffer"||c==="storageBuffer"||c==="indirectStorageBuffer"){const j=c==="buffer"?Zy:Yme,K=new j(r,N);K.setVisibility(H_[f]),V.push(K),A=K,y.name=_||"NodeBuffer_"+y.id}else{const j=this.uniformGroups[f]||(this.uniformGroups[f]={});let K=j[k];K===void 0&&(K=new Qy(k,N),K.setVisibility(H_[f]),j[k]=K,V.push(K)),A=this.getNodeUniform(y,c),K.addUniform(A)}T.uniformGPU=A}return y}getBuiltin(r,c,f,_=this.shaderStage){const y=this.builtins[_]||(this.builtins[_]=new Map);return y.has(r)===!1&&y.set(r,{name:r,property:c,type:f}),c}hasBuiltin(r,c=this.shaderStage){return this.builtins[c]!==void 0&&this.builtins[c].has(r)}getVertexIndex(){return this.shaderStage==="vertex"?this.getBuiltin("vertex_index","vertexIndex","u32","attribute"):"vertexIndex"}buildFunctionCode(r){const c=r.layout,f=this.flowShaderNode(r),_=[];for(const T of c.inputs)_.push(T.name+" : "+this.getType(T.type));let y=`fn ${c.name}( ${_.join(", ")} ) -> ${this.getType(c.type)} {
${f.vars}
${f.code}
`;return f.result&&(y+=`	return ${f.result};
`),y+=`
}
`,y}getInstanceIndex(){return this.shaderStage==="vertex"?this.getBuiltin("instance_index","instanceIndex","u32","attribute"):"instanceIndex"}getInvocationLocalIndex(){return this.getBuiltin("local_invocation_index","invocationLocalIndex","u32","attribute")}getSubgroupSize(){return this.enableSubGroups(),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute")}getInvocationSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_invocation_id","invocationSubgroupIndex","u32","attribute")}getSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_id","subgroupIndex","u32","attribute")}getDrawIndex(){return null}getFrontFacing(){return this.getBuiltin("front_facing","isFront","bool")}getFragCoord(){return this.getBuiltin("position","fragCoord","vec4<f32>")+".xy"}getFragDepth(){return"output."+this.getBuiltin("frag_depth","depth","f32","output")}getClipDistance(){return"varyings.hw_clip_distances"}isFlipY(){return!1}enableDirective(r,c=this.shaderStage){(this.directives[c]||(this.directives[c]=new Set)).add(r)}getDirectives(r){const c=[],f=this.directives[r];if(f!==void 0)for(const _ of f)c.push(`enable ${_};`);return c.join(`
`)}enableSubGroups(){this.enableDirective("subgroups")}enableSubgroupsF16(){this.enableDirective("subgroups-f16")}enableClipDistances(){this.enableDirective("clip_distances")}enableShaderF16(){this.enableDirective("f16")}enableDualSourceBlending(){this.enableDirective("dual_source_blending")}enableHardwareClipping(r){this.enableClipDistances(),this.getBuiltin("clip_distances","hw_clip_distances",`array<f32, ${r} >`,"vertex")}getBuiltins(r){const c=[],f=this.builtins[r];if(f!==void 0)for(const{name:_,property:y,type:T}of f.values())c.push(`@builtin( ${_} ) ${y} : ${T}`);return c.join(`,
	`)}getScopedArray(r,c,f,_){return this.scopedArrays.has(r)===!1&&this.scopedArrays.set(r,{name:r,scope:c,bufferType:f,bufferCount:_}),r}getScopedArrays(r){if(r!=="compute")return;const c=[];for(const{name:f,scope:_,bufferType:y,bufferCount:T}of this.scopedArrays.values()){const A=this.getType(y);c.push(`var<${_}> ${f}: array< ${A}, ${T} >;`)}return c.join(`
`)}getAttributes(r){const c=[];if(r==="compute"&&(this.getBuiltin("global_invocation_id","globalId","vec3<u32>","attribute"),this.getBuiltin("workgroup_id","workgroupId","vec3<u32>","attribute"),this.getBuiltin("local_invocation_id","localId","vec3<u32>","attribute"),this.getBuiltin("num_workgroups","numWorkgroups","vec3<u32>","attribute"),this.renderer.hasFeature("subgroups")&&(this.enableDirective("subgroups",r),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute"))),r==="vertex"||r==="compute"){const f=this.getBuiltins("attribute");f&&c.push(f);const _=this.getAttributesArray();for(let y=0,T=_.length;y<T;y++){const A=_[y],N=A.name,k=this.getType(A.type);c.push(`@location( ${y} ) ${N} : ${k}`)}}return c.join(`,
	`)}getStructMembers(r){const c=[];for(const f of r.members){const _=r.output?"@location( "+f.index+" ) ":"";let y=this.getType(f.type);f.atomic&&(y="atomic< "+y+" >"),c.push(`	${_+f.name} : ${y}`)}return r.output&&c.push(`	${this.getBuiltins("output")}`),c.join(`,
`)}getStructs(r){let c="";const f=this.structs[r];if(f.length>0){const _=[];for(const y of f){let T=`struct ${y.name} {
`;T+=this.getStructMembers(y),T+=`
};`,_.push(T)}c=`
`+_.join(`

`)+`
`}return c}getVar(r,c,f=null){let _=`var ${c} : `;return f!==null?_+=this.generateArrayDeclaration(r,f):_+=this.getType(r),_}getVars(r){const c=[],f=this.vars[r];if(f!==void 0)for(const _ of f)c.push(`	${this.getVar(_.type,_.name,_.count)};`);return`
${c.join(`
`)}
`}getVaryings(r){const c=[];if(r==="vertex"&&this.getBuiltin("position","Vertex","vec4<f32>","vertex"),r==="vertex"||r==="fragment"){const y=this.varyings,T=this.vars[r];for(let A=0;A<y.length;A++){const N=y[A];if(N.needsInterpolation){let k=`@location( ${A} )`;if(N.interpolationType){const V=N.interpolationSampling!==null?`, ${N.interpolationSampling} )`:" )";k+=` @interpolate( ${N.interpolationType}${V}`}else/^(int|uint|ivec|uvec)/.test(N.type)&&(k+=` @interpolate( ${this.renderer.backend.compatibilityMode?"flat, either":"flat"} )`);c.push(`${k} ${N.name} : ${this.getType(N.type)}`)}else r==="vertex"&&T.includes(N)===!1&&T.push(N)}}const f=this.getBuiltins(r);f&&c.push(f);const _=c.join(`,
	`);return r==="vertex"?this._getWGSLStruct("VaryingsStruct","	"+_):_}isCustomStruct(r){const c=r.value,f=r.node,_=(c.isBufferAttribute||c.isInstancedBufferAttribute)&&f.structTypeNode!==null,y=f.value&&f.value.array&&typeof f.value.itemSize=="number"&&f.value.array.length>f.value.itemSize;return _&&!y}getUniforms(r){const c=this.uniforms[r],f=[],_=[],y=[],T={};for(const N of c){const k=N.groupNode.name,V=this.bindingsIndexes[k];if(N.type==="texture"||N.type==="cubeTexture"||N.type==="storageTexture"||N.type==="texture3D"){const j=N.node.value;this.isUnfilterable(j)===!1&&N.node.isStorageTextureNode!==!0&&(this.isSampleCompare(j)?f.push(`@binding( ${V.binding++} ) @group( ${V.group} ) var ${N.name}_sampler : sampler_comparison;`):f.push(`@binding( ${V.binding++} ) @group( ${V.group} ) var ${N.name}_sampler : sampler;`));let K,Q="";const{primarySamples:ie}=this.renderer.backend.utils.getTextureSampleData(j);if(ie>1&&(Q="_multisampled"),j.isCubeTexture===!0)K="texture_cube<f32>";else if(j.isDepthTexture===!0)this.renderer.backend.compatibilityMode&&j.compareFunction===null?K=`texture${Q}_2d<f32>`:K=`texture_depth${Q}_2d${j.isArrayTexture===!0?"_array":""}`;else if(N.node.isStorageTextureNode===!0){const ce=_d(j),ue=this.getStorageAccess(N.node,r),re=N.node.value.is3DTexture,be=N.node.value.isArrayTexture;K=`texture_storage_${re?"3d":`2d${be?"_array":""}`}<${ce}, ${ue}>`}else if(j.isArrayTexture===!0||j.isDataArrayTexture===!0||j.isCompressedArrayTexture===!0)K="texture_2d_array<f32>";else if(j.is3DTexture===!0||j.isData3DTexture===!0)K="texture_3d<f32>";else{const ce=this.getComponentTypeFromTexture(j).charAt(0);K=`texture${Q}_2d<${ce}32>`}f.push(`@binding( ${V.binding++} ) @group( ${V.group} ) var ${N.name} : ${K};`)}else if(N.type==="buffer"||N.type==="storageBuffer"||N.type==="indirectStorageBuffer"){const j=N.node,K=this.getType(j.getNodeType(this)),Q=j.bufferCount,ie=Q>0&&N.type==="buffer"?", "+Q:"",ce=j.isStorageBufferNode?`storage, ${this.getStorageAccess(j,r)}`:"uniform";if(this.isCustomStruct(N))_.push(`@binding( ${V.binding++} ) @group( ${V.group} ) var<${ce}> ${N.name} : ${K};`);else{const re=`	value : array< ${j.isAtomic?`atomic<${K}>`:`${K}`}${ie} >`;_.push(this._getWGSLStructBinding(N.name,re,ce,V.binding++,V.group))}}else{const j=this.getType(this.getVectorType(N.type)),K=N.groupNode.name;(T[K]||(T[K]={index:V.binding++,id:V.group,snippets:[]})).snippets.push(`	${N.name} : ${j}`)}}for(const N in T){const k=T[N];y.push(this._getWGSLStructBinding(N,k.snippets.join(`,
`),"uniform",k.index,k.id))}let A=f.join(`
`);return A+=_.join(`
`),A+=y.join(`
`),A}buildCode(){const r=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const c in r){this.shaderStage=c;const f=r[c];f.uniforms=this.getUniforms(c),f.attributes=this.getAttributes(c),f.varyings=this.getVaryings(c),f.structs=this.getStructs(c),f.vars=this.getVars(c),f.codes=this.getCodes(c),f.directives=this.getDirectives(c),f.scopedArrays=this.getScopedArrays(c);let _=`// code

`;_+=this.flowCode[c];const y=this.flowNodes[c],T=y[y.length-1],A=T.outputNode,N=A!==void 0&&A.isOutputStructNode===!0;for(const k of y){const V=this.getFlowData(k),j=k.name;if(j&&(_.length>0&&(_+=`
`),_+=`	// flow -> ${j}
`),_+=`${V.code}
	`,k===T&&c!=="compute"){if(_+=`// result

	`,c==="vertex")_+=`varyings.Vertex = ${V.result};`;else if(c==="fragment")if(N)f.returnType=A.getNodeType(this),f.structs+="var<private> output : "+f.returnType+";",_+=`return ${V.result};`;else{let K="	@location(0) color: vec4<f32>";const Q=this.getBuiltins("output");Q&&(K+=`,
	`+Q),f.returnType="OutputStruct",f.structs+=this._getWGSLStruct("OutputStruct",K),f.structs+=`
var<private> output : OutputStruct;`,_+=`output.color = ${V.result};

	return output;`}}}f.flow=_}if(this.shaderStage=null,this.material!==null)this.vertexShader=this._getWGSLVertexCode(r.vertex),this.fragmentShader=this._getWGSLFragmentCode(r.fragment);else{const c=this.object.workgroupSize;this.computeShader=this._getWGSLComputeCode(r.compute,c)}}getMethod(r,c=null){let f;return c!==null&&(f=this._getWGSLMethod(r+"_"+c)),f===void 0&&(f=this._getWGSLMethod(r)),f||r}getBitcastMethod(r){return`bitcast<${this.getType(r)}>`}getTernary(r,c,f){return`select( ${f}, ${c}, ${r} )`}getType(r){return a3e[r]||r}isAvailable(r){let c=mg[r];return c===void 0&&(r==="float32Filterable"?c=this.renderer.hasFeature("float32-filterable"):r==="clipDistance"&&(c=this.renderer.hasFeature("clip-distances")),mg[r]=c),c}_getWGSLMethod(r){return Nu[r]!==void 0&&this._include(r),c3e[r]}_include(r){const c=Nu[r];return c.build(this),this.addInclude(c),c}_getWGSLVertexCode(r){return`${this.getSignature()}
// directives
${r.directives}

// structs
${r.structs}

// uniforms
${r.uniforms}

// varyings
${r.varyings}
var<private> varyings : VaryingsStruct;

// codes
${r.codes}

@vertex
fn main( ${r.attributes} ) -> VaryingsStruct {

	// vars
	${r.vars}

	// flow
	${r.flow}

	return varyings;

}
`}_getWGSLFragmentCode(r){return`${this.getSignature()}
// global
${nv}

// structs
${r.structs}

// uniforms
${r.uniforms}

// codes
${r.codes}

@fragment
fn main( ${r.varyings} ) -> ${r.returnType} {

	// vars
	${r.vars}

	// flow
	${r.flow}

}
`}_getWGSLComputeCode(r,c){const[f,_,y]=c;return`${this.getSignature()}
// directives
${r.directives}

// system
var<private> instanceIndex : u32;

// locals
${r.scopedArrays}

// structs
${r.structs}

// uniforms
${r.uniforms}

// codes
${r.codes}

@compute @workgroup_size( ${f}, ${_}, ${y} )
fn main( ${r.attributes} ) {

	// system
	instanceIndex = globalId.x
		+ globalId.y * ( ${f} * numWorkgroups.x )
		+ globalId.z * ( ${f} * numWorkgroups.x ) * ( ${_} * numWorkgroups.y );

	// vars
	${r.vars}

	// flow
	${r.flow}

}
`}_getWGSLStruct(r,c){return`
struct ${r} {
${c}
};`}_getWGSLStructBinding(r,c,f,_=0,y=0){const T=r+"Struct";return`${this._getWGSLStruct(T,c)}
@binding( ${_} ) @group( ${y} )
var<${f}> ${r} : ${T};`}}class u3e{constructor(r){this.backend=r}getCurrentDepthStencilFormat(r){let c;return r.depthTexture!==null?c=this.getTextureFormatGPU(r.depthTexture):r.depth&&r.stencil?c=et.Depth24PlusStencil8:r.depth&&(c=et.Depth24Plus),c}getTextureFormatGPU(r){return this.backend.get(r).format}getTextureSampleData(r){let c;if(r.isFramebufferTexture)c=1;else if(r.isDepthTexture&&!r.renderTarget){const y=this.backend.renderer,T=y.getRenderTarget();c=T?T.samples:y.currentSamples}else r.renderTarget&&(c=r.renderTarget.samples);c=c||1;const f=c>1&&r.renderTarget!==null&&r.isDepthTexture!==!0&&r.isFramebufferTexture!==!0;return{samples:c,primarySamples:f?1:c,isMSAA:f}}getCurrentColorFormat(r){let c;return r.textures!==null?c=this.getTextureFormatGPU(r.textures[0]):c=this.getPreferredCanvasFormat(),c}getCurrentColorFormats(r){return r.textures!==null?r.textures.map(c=>this.getTextureFormatGPU(c)):[this.getPreferredCanvasFormat()]}getCurrentColorSpace(r){return r.textures!==null?r.textures[0].colorSpace:this.backend.renderer.outputColorSpace}getPrimitiveTopology(r,c){if(r.isPoints)return Xc.PointList;if(r.isLineSegments||r.isMesh&&c.wireframe===!0)return Xc.LineList;if(r.isLine)return Xc.LineStrip;if(r.isMesh)return Xc.TriangleList}getSampleCount(r){return r>=4?4:1}getSampleCountRenderContext(r){return r.textures!==null?this.getSampleCount(r.sampleCount):this.getSampleCount(this.backend.renderer.currentSamples)}getPreferredCanvasFormat(){const r=this.backend.parameters.outputType;if(r===void 0)return navigator.gpu.getPreferredCanvasFormat();if(r===T2)return et.BGRA8Unorm;if(r===K2)return et.RGBA16Float;throw new Error("Unsupported outputType")}}const rv=new Map([[Int8Array,["sint8","snorm8"]],[Uint8Array,["uint8","unorm8"]],[Int16Array,["sint16","snorm16"]],[Uint16Array,["uint16","unorm16"]],[Int32Array,["sint32","snorm32"]],[Uint32Array,["uint32","unorm32"]],[Float32Array,["float32"]]]);typeof Float16Array<"u"&&rv.set(Float16Array,["float16"]);const f3e=new Map([[Bg,["float16"]]]),_3e=new Map([[Int32Array,"sint32"],[Int16Array,"sint32"],[Uint32Array,"uint32"],[Uint16Array,"uint32"],[Float32Array,"float32"]]);class p3e{constructor(r){this.backend=r}createAttribute(r,c){const f=this._getBufferAttribute(r),_=this.backend,y=_.get(f);let T=y.buffer;if(T===void 0){const A=_.device;let N=f.array;if(r.normalized===!1){if(N.constructor===Int16Array||N.constructor===Int8Array)N=new Int32Array(N);else if((N.constructor===Uint16Array||N.constructor===Uint8Array)&&(N=new Uint32Array(N),c&GPUBufferUsage.INDEX))for(let j=0;j<N.length;j++)N[j]===65535&&(N[j]=4294967295)}if(f.array=N,(f.isStorageBufferAttribute||f.isStorageInstancedBufferAttribute)&&f.itemSize===3){N=new N.constructor(f.count*4);for(let j=0;j<f.count;j++)N.set(f.array.subarray(j*3,j*3+3),j*4);f.itemSize=4,f.array=N,y._force3to4BytesAlignment=!0}const k=N.byteLength,V=k+(4-k%4)%4;T=A.createBuffer({label:f.name,size:V,usage:c,mappedAtCreation:!0}),new N.constructor(T.getMappedRange()).set(N),T.unmap(),y.buffer=T}}updateAttribute(r){const c=this._getBufferAttribute(r),f=this.backend,_=f.device,y=f.get(c),T=f.get(c).buffer;let A=c.array;if(y._force3to4BytesAlignment===!0){A=new A.constructor(c.count*4);for(let V=0;V<c.count;V++)A.set(c.array.subarray(V*3,V*3+3),V*4);c.array=A}const N=this._isTypedArray(A),k=c.updateRanges;if(k.length===0)_.queue.writeBuffer(T,0,A,0);else{const V=N?1:A.BYTES_PER_ELEMENT;for(let j=0,K=k.length;j<K;j++){const Q=k[j];let ie,ce;if(y._force3to4BytesAlignment===!0){const re=Math.floor(Q.start/3),be=Math.ceil(Q.count/3);ie=re*4*V,ce=be*4*V}else ie=Q.start*V,ce=Q.count*V;const ue=ie*(N?A.BYTES_PER_ELEMENT:1);_.queue.writeBuffer(T,ue,A,ie,ce)}c.clearUpdateRanges()}}createShaderVertexBuffers(r){const c=r.getAttributes(),f=new Map;for(let _=0;_<c.length;_++){const y=c[_],T=y.array.BYTES_PER_ELEMENT,A=this._getBufferAttribute(y);let N=f.get(A);if(N===void 0){let j,K;y.isInterleavedBufferAttribute===!0?(j=y.data.stride*T,K=y.data.isInstancedInterleavedBuffer?W_.Instance:W_.Vertex):(j=y.itemSize*T,K=y.isInstancedBufferAttribute?W_.Instance:W_.Vertex),y.normalized===!1&&(y.array.constructor===Int16Array||y.array.constructor===Uint16Array)&&(j=4),N={arrayStride:j,attributes:[],stepMode:K},f.set(A,N)}const k=this._getVertexFormat(y),V=y.isInterleavedBufferAttribute===!0?y.offset*T:0;N.attributes.push({shaderLocation:_,offset:V,format:k})}return Array.from(f.values())}destroyAttribute(r){const c=this.backend;c.get(this._getBufferAttribute(r)).buffer.destroy(),c.delete(r)}async getArrayBufferAsync(r){const c=this.backend,f=c.device,y=c.get(this._getBufferAttribute(r)).buffer,T=y.size,A=f.createBuffer({label:`${r.name}_readback`,size:T,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),N=f.createCommandEncoder({label:`readback_encoder_${r.name}`});N.copyBufferToBuffer(y,0,A,0,T);const k=N.finish();f.queue.submit([k]),await A.mapAsync(GPUMapMode.READ);const V=A.getMappedRange(),j=new r.array.constructor(V.slice(0));return A.unmap(),j.buffer}_getVertexFormat(r){const{itemSize:c,normalized:f}=r,_=r.array.constructor,y=r.constructor;let T;if(c===1)T=_3e.get(_);else{const N=(f3e.get(y)||rv.get(_))[f?1:0];if(N){const k=_.BYTES_PER_ELEMENT*c,j=Math.floor((k+3)/4)*4/_.BYTES_PER_ELEMENT;if(j%1)throw new Error("THREE.WebGPUAttributeUtils: Bad vertex format item size.");T=`${N}x${j}`}}return T||r0("WebGPUAttributeUtils: Vertex format not supported yet."),T}_isTypedArray(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}_getBufferAttribute(r){return r.isInterleavedBufferAttribute&&(r=r.data),r}}class h3e{constructor(r){this.backend=r,this.bindGroupLayoutCache=new WeakMap}createBindingsLayout(r){const c=this.backend,f=c.device,_=[];let y=0;for(const T of r.bindings){const A={binding:y++,visibility:T.visibility};if(T.isUniformBuffer||T.isStorageBuffer){const N={};T.isStorageBuffer&&(T.visibility&4&&(T.access===Uo.READ_WRITE||T.access===Uo.WRITE_ONLY)?N.type=V4.Storage:N.type=V4.ReadOnlyStorage),A.buffer=N}else if(T.isSampledTexture&&T.store){const N={};N.format=this.backend.get(T.texture).texture.format;const k=T.access;k===Uo.READ_WRITE?N.access=z4.ReadWrite:k===Uo.WRITE_ONLY?N.access=z4.WriteOnly:N.access=z4.ReadOnly,T.texture.isArrayTexture?N.viewDimension=$2.TwoDArray:T.texture.is3DTexture&&(N.viewDimension=$2.ThreeD),A.storageTexture=N}else if(T.isSampledTexture){const N={},{primarySamples:k}=c.utils.getTextureSampleData(T.texture);if(k>1&&(N.multisampled=!0,T.texture.isDepthTexture||(N.sampleType=ba.UnfilterableFloat)),T.texture.isDepthTexture)c.compatibilityMode&&T.texture.compareFunction===null?N.sampleType=ba.UnfilterableFloat:N.sampleType=ba.Depth;else if(T.texture.isDataTexture||T.texture.isDataArrayTexture||T.texture.isData3DTexture){const V=T.texture.type;V===vr?N.sampleType=ba.SInt:V===Yn?N.sampleType=ba.UInt:V===I2&&(this.backend.hasFeature("float32-filterable")?N.sampleType=ba.Float:N.sampleType=ba.UnfilterableFloat)}T.isSampledCubeTexture?N.viewDimension=$2.Cube:T.texture.isArrayTexture||T.texture.isDataArrayTexture||T.texture.isCompressedArrayTexture?N.viewDimension=$2.TwoDArray:T.isSampledTexture3D&&(N.viewDimension=$2.ThreeD),A.texture=N}else if(T.isSampler){const N={};T.texture.isDepthTexture&&(T.texture.compareFunction!==null?N.type=fg.Comparison:c.compatibilityMode&&(N.type=fg.NonFiltering)),A.sampler=N}else r0(`WebGPUBindingUtils: Unsupported binding "${T}".`);_.push(A)}return f.createBindGroupLayout({entries:_})}createBindings(r,c,f,_=0){const{backend:y,bindGroupLayoutCache:T}=this,A=y.get(r);let N=T.get(r.bindingsReference);N===void 0&&(N=this.createBindingsLayout(r),T.set(r.bindingsReference,N));let k;f>0&&(A.groups===void 0&&(A.groups=[],A.versions=[]),A.versions[f]===_&&(k=A.groups[f])),k===void 0&&(k=this.createBindGroup(r,N),f>0&&(A.groups[f]=k,A.versions[f]=_)),A.group=k,A.layout=N}updateBinding(r){const c=this.backend,f=c.device,_=r.buffer,y=c.get(r).buffer;f.queue.writeBuffer(y,0,_,0)}createBindGroupIndex(r,c){const _=this.backend.device,y=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,T=r[0],A=_.createBuffer({label:"bindingCameraIndex_"+T,size:16,usage:y});_.queue.writeBuffer(A,0,r,0);const N=[{binding:0,resource:{buffer:A}}];return _.createBindGroup({label:"bindGroupCameraIndex_"+T,layout:c,entries:N})}createBindGroup(r,c){const f=this.backend,_=f.device;let y=0;const T=[];for(const A of r.bindings){if(A.isUniformBuffer){const N=f.get(A);if(N.buffer===void 0){const k=A.byteLength,V=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,j=_.createBuffer({label:"bindingBuffer_"+A.name,size:k,usage:V});N.buffer=j}T.push({binding:y,resource:{buffer:N.buffer}})}else if(A.isStorageBuffer){const N=f.get(A);if(N.buffer===void 0){const k=A.attribute;N.buffer=f.get(k).buffer}T.push({binding:y,resource:{buffer:N.buffer}})}else if(A.isSampledTexture){const N=f.get(A.texture);let k;if(N.externalTexture!==void 0)k=_.importExternalTexture({source:N.externalTexture});else{const V=A.store?1:N.texture.mipLevelCount,j=A.store?A.mipLevel:0;let K=`view-${N.texture.width}-${N.texture.height}`;if(N.texture.depthOrArrayLayers>1&&(K+=`-${N.texture.depthOrArrayLayers}`),K+=`-${V}-${j}`,k=N[K],k===void 0){const Q=jme.All;let ie;A.isSampledCubeTexture?ie=$2.Cube:A.isSampledTexture3D?ie=$2.ThreeD:A.texture.isArrayTexture||A.texture.isDataArrayTexture||A.texture.isCompressedArrayTexture?ie=$2.TwoDArray:ie=$2.TwoD,k=N[K]=N.texture.createView({aspect:Q,dimension:ie,mipLevelCount:V,baseMipLevel:j})}}T.push({binding:y,resource:k})}else if(A.isSampler){const N=f.get(A.texture);T.push({binding:y,resource:N.sampler})}y++}return _.createBindGroup({label:"bindGroup_"+r.name,layout:c,entries:T})}}class d3e{constructor(r){this.backend=r,this._activePipelines=new WeakMap}setPipeline(r,c){this._activePipelines.get(r)!==c&&(r.setPipeline(c),this._activePipelines.set(r,c))}_getSampleCount(r){return this.backend.utils.getSampleCountRenderContext(r)}createRenderPipeline(r,c){const{object:f,material:_,geometry:y,pipeline:T}=r,{vertexProgram:A,fragmentProgram:N}=T,k=this.backend,V=k.device,j=k.utils,K=k.get(T),Q=[];for(const yt of r.getBindings()){const Et=k.get(yt);Q.push(Et.layout)}const ie=k.attributeUtils.createShaderVertexBuffers(r);let ce;_.blending!==vs&&(_.blending!==Ds||_.transparent!==!1)&&(ce=this._getBlending(_));let ue={};_.stencilWrite===!0&&(ue={compare:this._getStencilCompare(_),failOp:this._getStencilOperation(_.stencilFail),depthFailOp:this._getStencilOperation(_.stencilZFail),passOp:this._getStencilOperation(_.stencilZPass)});const re=this._getColorWriteMask(_),be=[];if(r.context.textures!==null){const yt=r.context.textures;for(let Et=0;Et<yt.length;Et++){const Dt=j.getTextureFormatGPU(yt[Et]);be.push({format:Dt,blend:ce,writeMask:re})}}else{const yt=j.getCurrentColorFormat(r.context);be.push({format:yt,blend:ce,writeMask:re})}const De=k.get(A).module,Oe=k.get(N).module,je=this._getPrimitiveState(f,y,_),Be=this._getDepthCompare(_),We=j.getCurrentDepthStencilFormat(r.context),$e=this._getSampleCount(r.context),Ee={label:`renderPipeline_${_.name||_.type}_${_.id}`,vertex:Object.assign({},De,{buffers:ie}),fragment:Object.assign({},Oe,{targets:be}),primitive:je,multisample:{count:$e,alphaToCoverageEnabled:_.alphaToCoverage&&$e>1},layout:V.createPipelineLayout({bindGroupLayouts:Q})},Ie={},Je=r.context.depth,ft=r.context.stencil;if((Je===!0||ft===!0)&&(Je===!0&&(Ie.format=We,Ie.depthWriteEnabled=_.depthWrite,Ie.depthCompare=Be),ft===!0&&(Ie.stencilFront=ue,Ie.stencilBack={},Ie.stencilReadMask=_.stencilFuncMask,Ie.stencilWriteMask=_.stencilWriteMask),_.polygonOffset===!0&&(Ie.depthBias=_.polygonOffsetUnits,Ie.depthBiasSlopeScale=_.polygonOffsetFactor,Ie.depthBiasClamp=0),Ee.depthStencil=Ie),V.pushErrorScope("validation"),c===null)K.pipeline=V.createRenderPipeline(Ee),V.popErrorScope().then(yt=>{yt!==null&&(K.error=!0,r0(yt.message))});else{const yt=new Promise(async Et=>{try{K.pipeline=await V.createRenderPipelineAsync(Ee)}catch{}const Dt=await V.popErrorScope();Dt!==null&&(K.error=!0,r0(Dt.message)),Et()});c.push(yt)}}createBundleEncoder(r,c="renderBundleEncoder"){const f=this.backend,{utils:_,device:y}=f,T=_.getCurrentDepthStencilFormat(r),A=_.getCurrentColorFormats(r),N=this._getSampleCount(r),k={label:c,colorFormats:A,depthStencilFormat:T,sampleCount:N};return y.createRenderBundleEncoder(k)}createComputePipeline(r,c){const f=this.backend,_=f.device,y=f.get(r.computeProgram).module,T=f.get(r),A=[];for(const N of c){const k=f.get(N);A.push(k.layout)}T.pipeline=_.createComputePipeline({compute:y,layout:_.createPipelineLayout({bindGroupLayouts:A})})}_getBlending(r){let c,f;const _=r.blending,y=r.blendSrc,T=r.blendDst,A=r.blendEquation;if(_===$c){const N=r.blendSrcAlpha!==null?r.blendSrcAlpha:y,k=r.blendDstAlpha!==null?r.blendDstAlpha:T,V=r.blendEquationAlpha!==null?r.blendEquationAlpha:A;c={srcFactor:this._getBlendFactor(y),dstFactor:this._getBlendFactor(T),operation:this._getBlendOperation(A)},f={srcFactor:this._getBlendFactor(N),dstFactor:this._getBlendFactor(k),operation:this._getBlendOperation(V)}}else{const N=r.premultipliedAlpha,k=(V,j,K,Q)=>{c={srcFactor:V,dstFactor:j,operation:Na.Add},f={srcFactor:K,dstFactor:Q,operation:Na.Add}};if(N)switch(_){case Ds:k(nn.One,nn.OneMinusSrcAlpha,nn.One,nn.OneMinusSrcAlpha);break;case il:k(nn.One,nn.One,nn.One,nn.One);break;case nl:k(nn.Zero,nn.OneMinusSrc,nn.Zero,nn.One);break;case rl:k(nn.Dst,nn.OneMinusSrcAlpha,nn.Zero,nn.One);break}else switch(_){case Ds:k(nn.SrcAlpha,nn.OneMinusSrcAlpha,nn.One,nn.OneMinusSrcAlpha);break;case il:k(nn.SrcAlpha,nn.One,nn.One,nn.One);break;case nl:r0("WebGPURenderer: SubtractiveBlending requires material.premultipliedAlpha = true");break;case rl:r0("WebGPURenderer: MultiplyBlending requires material.premultipliedAlpha = true");break}}if(c!==void 0&&f!==void 0)return{color:c,alpha:f};r0("WebGPURenderer: Invalid blending: ",_)}_getBlendFactor(r){let c;switch(r){case h1:c=nn.Zero;break;case gd:c=nn.One;break;case xd:c=nn.Src;break;case yd:c=nn.OneMinusSrc;break;case qu:c=nn.SrcAlpha;break;case Xu:c=nn.OneMinusSrcAlpha;break;case Cd:c=nn.Dst;break;case Td:c=nn.OneMinusDst;break;case vd:c=nn.DstAlpha;break;case Sd:c=nn.OneMinusDstAlpha;break;case wd:c=nn.SrcAlphaSaturated;break;case Jde:c=nn.Constant;break;case e8e:c=nn.OneMinusConstant;break;default:r0("WebGPURenderer: Blend factor not supported.",r)}return c}_getStencilCompare(r){let c;const f=r.stencilFunc;switch(f){case Ase:c=Mr.Never;break;case X4:c=Mr.Always;break;case Ese:c=Mr.Less;break;case bse:c=Mr.LessEqual;break;case Nse:c=Mr.Equal;break;case Pse:c=Mr.GreaterEqual;break;case Dse:c=Mr.Greater;break;case Ise:c=Mr.NotEqual;break;default:r0("WebGPURenderer: Invalid stencil function.",f)}return c}_getStencilOperation(r){let c;switch(r){case Da:c=X1.Keep;break;case vse:c=X1.Zero;break;case Sse:c=X1.Replace;break;case Rse:c=X1.Invert;break;case Cse:c=X1.IncrementClamp;break;case Tse:c=X1.DecrementClamp;break;case wse:c=X1.IncrementWrap;break;case Mse:c=X1.DecrementWrap;break;default:r0("WebGPURenderer: Invalid stencil operation.",c)}return c}_getBlendOperation(r){let c;switch(r){case Fr:c=Na.Add;break;case dd:c=Na.Subtract;break;case md:c=Na.ReverseSubtract;break;case Tg:c=Na.Min;break;case wg:c=Na.Max;break;default:r0("WebGPUPipelineUtils: Blend equation not supported.",r)}return c}_getPrimitiveState(r,c,f){const _={},y=this.backend.utils;_.topology=y.getPrimitiveTopology(r,f),c.index!==null&&r.isLine===!0&&r.isLineSegments!==!0&&(_.stripIndexFormat=c.index.array instanceof Uint16Array?Bl.Uint16:Bl.Uint32);let T=f.side===Kn;return r.isMesh&&r.matrixWorld.determinant()<0&&(T=!T),_.frontFace=T===!0?cg.CW:cg.CCW,_.cullMode=f.side===Ar?lg.None:lg.Back,_}_getColorWriteMask(r){return r.colorWrite===!0?ug.All:ug.None}_getDepthCompare(r){let c;if(r.depthTest===!1)c=Mr.Always;else{const f=r.depthFunc;switch(f){case $u:c=Mr.Never;break;case Yu:c=Mr.Always;break;case Ku:c=Mr.Less;break;case na:c=Mr.LessEqual;break;case Zu:c=Mr.Equal;break;case Qu:c=Mr.GreaterEqual;break;case Ju:c=Mr.Greater;break;case ef:c=Mr.NotEqual;break;default:r0("WebGPUPipelineUtils: Invalid depth function.",f)}}return c}}class m3e extends iv{constructor(r,c,f=2048){super(f),this.device=r,this.type=c,this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxQueries,label:`queryset_global_timestamp_${c}`});const _=this.maxQueries*8;this.resolveBuffer=this.device.createBuffer({label:`buffer_timestamp_resolve_${c}`,size:_,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.resultBuffer=this.device.createBuffer({label:`buffer_timestamp_result_${c}`,size:_,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ})}allocateQueriesForContext(r){if(!this.trackTimestamp||this.isDisposed)return null;if(this.currentQueryIndex+2>this.maxQueries)return a2(`WebGPUTimestampQueryPool [${this.type}]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.${this.type.toUpperCase()} ).`),null;const c=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryOffsets.set(r,c),c}async resolveQueriesAsync(){if(!this.trackTimestamp||this.currentQueryIndex===0||this.isDisposed)return this.lastValue;if(this.pendingResolve)return this.pendingResolve;this.pendingResolve=this._resolveQueries();try{return await this.pendingResolve}finally{this.pendingResolve=null}}async _resolveQueries(){if(this.isDisposed)return this.lastValue;try{if(this.resultBuffer.mapState!=="unmapped")return this.lastValue;const r=new Map(this.queryOffsets),c=this.currentQueryIndex,f=c*8;this.currentQueryIndex=0,this.queryOffsets.clear();const _=this.device.createCommandEncoder();_.resolveQuerySet(this.querySet,0,c,this.resolveBuffer,0),_.copyBufferToBuffer(this.resolveBuffer,0,this.resultBuffer,0,f);const y=_.finish();if(this.device.queue.submit([y]),this.resultBuffer.mapState!=="unmapped")return this.lastValue;if(await this.resultBuffer.mapAsync(GPUMapMode.READ,0,f),this.isDisposed)return this.resultBuffer.mapState==="mapped"&&this.resultBuffer.unmap(),this.lastValue;const T=new BigUint64Array(this.resultBuffer.getMappedRange(0,f)),A={},N=[];for(const[V,j]of r){const K=V.match(/^(.*):f(\d+)$/),Q=parseInt(K[2]);N.includes(Q)===!1&&N.push(Q),A[Q]===void 0&&(A[Q]=0);const ie=T[j],ce=T[j+1],ue=Number(ce-ie)/1e6;this.timestamps.set(V,ue),A[Q]+=ue}const k=A[N[N.length-1]];return this.resultBuffer.unmap(),this.lastValue=k,this.frames=N,k}catch(r){return r("Error resolving queries:",r),this.resultBuffer.mapState==="mapped"&&this.resultBuffer.unmap(),this.lastValue}}async dispose(){if(!this.isDisposed){if(this.isDisposed=!0,this.pendingResolve)try{await this.pendingResolve}catch(r){r("Error waiting for pending resolve:",r)}if(this.resultBuffer&&this.resultBuffer.mapState==="mapped")try{this.resultBuffer.unmap()}catch(r){r("Error unmapping buffer:",r)}this.querySet&&(this.querySet.destroy(),this.querySet=null),this.resolveBuffer&&(this.resolveBuffer.destroy(),this.resolveBuffer=null),this.resultBuffer&&(this.resultBuffer.destroy(),this.resultBuffer=null),this.queryOffsets.clear(),this.pendingResolve=null}}}class g3e extends tv{constructor(r={}){super(r),this.isWebGPUBackend=!0,this.parameters.alpha=r.alpha===void 0?!0:r.alpha,this.parameters.compatibilityMode=r.compatibilityMode===void 0?!1:r.compatibilityMode,this.parameters.requiredLimits=r.requiredLimits===void 0?{}:r.requiredLimits,this.compatibilityMode=this.parameters.compatibilityMode,this.device=null,this.defaultRenderPassdescriptor=null,this.utils=new u3e(this),this.attributeUtils=new p3e(this),this.bindingUtils=new h3e(this),this.pipelineUtils=new d3e(this),this.textureUtils=new Jme(this),this.occludedResolveCache=new Map}async init(r){await super.init(r);const c=this.parameters;let f;if(c.device===void 0){const _={powerPreference:c.powerPreference,featureLevel:c.compatibilityMode?"compatibility":void 0},y=typeof navigator<"u"?await navigator.gpu.requestAdapter(_):null;if(y===null)throw new Error("WebGPUBackend: Unable to create WebGPU adapter.");const T=Object.values(fd),A=[];for(const k of T)y.features.has(k)&&A.push(k);const N={requiredFeatures:A,requiredLimits:c.requiredLimits};f=await y.requestDevice(N)}else f=c.device;f.lost.then(_=>{const y={api:"WebGPU",message:_.message||"Unknown reason",reason:_.reason||null,originalEvent:_};r.onDeviceLost(y)}),this.device=f,this.trackTimestamp=this.trackTimestamp&&this.hasFeature(fd.TimestampQuery),this.updateSize()}get context(){const r=this.renderer.getCanvasTarget(),c=this.get(r);let f=c.context;if(f===void 0){const _=this.parameters;r.isDefaultCanvasTarget===!0&&_.context!==void 0?f=_.context:f=r.domElement.getContext("webgpu"),"setAttribute"in r.domElement&&r.domElement.setAttribute("data-engine",`three.js r${Ul} webgpu`);const y=_.alpha?"premultiplied":"opaque",T=_.outputType===K2?"extended":"standard";f.configure({device:this.device,format:this.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,alphaMode:y,toneMapping:{mode:T}}),c.context=f}return f}get coordinateSystem(){return ra}async getArrayBufferAsync(r){return await this.attributeUtils.getArrayBufferAsync(r)}getContext(){return this.context}_getDefaultRenderPassDescriptor(){const r=this.renderer,c=r.getCanvasTarget(),f=this.get(c),_=r.currentSamples;let y=f.descriptor;if(y===void 0||f.samples!==_){y={colorAttachments:[{view:null}]},(r.depth===!0||r.stencil===!0)&&(y.depthStencilAttachment={view:this.textureUtils.getDepthBuffer(r.depth,r.stencil).createView()});const A=y.colorAttachments[0];_>0?A.view=this.textureUtils.getColorBuffer().createView():A.resolveTarget=void 0,f.descriptor=y,f.samples=_}const T=y.colorAttachments[0];return _>0?T.resolveTarget=this.context.getCurrentTexture().createView():T.view=this.context.getCurrentTexture().createView(),y}_isRenderCameraDepthArray(r){return r.depthTexture&&r.depthTexture.image.depth>1&&r.camera.isArrayCamera}_getRenderPassDescriptor(r,c={}){const f=r.renderTarget,_=this.get(f);let y=_.descriptors;(y===void 0||_.width!==f.width||_.height!==f.height||_.samples!==f.samples)&&(y={},_.descriptors=y);const T=r.getCacheKey();let A=y[T];if(A===void 0){const k=r.textures,V=[];let j;const K=this._isRenderCameraDepthArray(r);for(let Q=0;Q<k.length;Q++){const ie=this.get(k[Q]),ce={label:`colorAttachment_${Q}`,baseMipLevel:r.activeMipmapLevel,mipLevelCount:1,baseArrayLayer:r.activeCubeFace,arrayLayerCount:1,dimension:$2.TwoD};if(f.isRenderTarget3D)j=r.activeCubeFace,ce.baseArrayLayer=0,ce.dimension=$2.ThreeD,ce.depthOrArrayLayers=k[Q].image.depth;else if(f.isRenderTarget&&k[Q].image.depth>1)if(K===!0){const ue=r.camera.cameras;for(let re=0;re<ue.length;re++){const be={...ce,baseArrayLayer:re,arrayLayerCount:1,dimension:$2.TwoD},De=ie.texture.createView(be);V.push({view:De,resolveTarget:void 0,depthSlice:void 0})}}else ce.dimension=$2.TwoDArray,ce.depthOrArrayLayers=k[Q].image.depth;if(K!==!0){const ue=ie.texture.createView(ce);let re,be;ie.msaaTexture!==void 0?(re=ie.msaaTexture.createView(),be=ue):(re=ue,be=void 0),V.push({view:re,resolveTarget:be,depthSlice:j})}}if(A={textureViews:V},r.depth){const Q=this.get(r.depthTexture),ie={};r.depthTexture.isArrayTexture&&(ie.dimension=$2.TwoD,ie.arrayLayerCount=1,ie.baseArrayLayer=r.activeCubeFace),A.depthStencilView=Q.texture.createView(ie)}y[T]=A,_.width=f.width,_.height=f.height,_.samples=f.samples,_.activeMipmapLevel=r.activeMipmapLevel,_.activeCubeFace=r.activeCubeFace}const N={colorAttachments:[]};for(let k=0;k<A.textureViews.length;k++){const V=A.textureViews[k];let j={r:0,g:0,b:0,a:1};k===0&&c.clearValue&&(j=c.clearValue),N.colorAttachments.push({view:V.view,depthSlice:V.depthSlice,resolveTarget:V.resolveTarget,loadOp:c.loadOp||En.Load,storeOp:c.storeOp||Kr.Store,clearValue:j})}return A.depthStencilView&&(N.depthStencilAttachment={view:A.depthStencilView}),N}beginRender(r){const c=this.get(r),f=this.device,_=r.occlusionQueryCount;let y;_>0&&(c.currentOcclusionQuerySet&&c.currentOcclusionQuerySet.destroy(),c.currentOcclusionQueryBuffer&&c.currentOcclusionQueryBuffer.destroy(),c.currentOcclusionQuerySet=c.occlusionQuerySet,c.currentOcclusionQueryBuffer=c.occlusionQueryBuffer,c.currentOcclusionQueryObjects=c.occlusionQueryObjects,y=f.createQuerySet({type:"occlusion",count:_,label:`occlusionQuerySet_${r.id}`}),c.occlusionQuerySet=y,c.occlusionQueryIndex=0,c.occlusionQueryObjects=new Array(_),c.lastOcclusionObject=null);let T;r.textures===null?T=this._getDefaultRenderPassDescriptor():T=this._getRenderPassDescriptor(r,{loadOp:En.Load}),this.initTimestampQuery(Bo.RENDER,this.getTimestampUID(r),T),T.occlusionQuerySet=y;const A=T.depthStencilAttachment;if(r.textures!==null){const k=T.colorAttachments;for(let V=0;V<k.length;V++){const j=k[V];r.clearColor?(j.clearValue=V===0?r.clearColorValue:{r:0,g:0,b:0,a:1},j.loadOp=En.Clear):j.loadOp=En.Load,j.storeOp=Kr.Store}}else{const k=T.colorAttachments[0];r.clearColor?(k.clearValue=r.clearColorValue,k.loadOp=En.Clear):k.loadOp=En.Load,k.storeOp=Kr.Store}r.depth&&(r.clearDepth?(A.depthClearValue=r.clearDepthValue,A.depthLoadOp=En.Clear):A.depthLoadOp=En.Load,A.depthStoreOp=Kr.Store),r.stencil&&(r.clearStencil?(A.stencilClearValue=r.clearStencilValue,A.stencilLoadOp=En.Clear):A.stencilLoadOp=En.Load,A.stencilStoreOp=Kr.Store);const N=f.createCommandEncoder({label:"renderContext_"+r.id});if(this._isRenderCameraDepthArray(r)===!0){const k=r.camera.cameras;!c.layerDescriptors||c.layerDescriptors.length!==k.length?this._createDepthLayerDescriptors(r,c,T,k):this._updateDepthLayerDescriptors(r,c,k),c.bundleEncoders=[],c.bundleSets=[];for(let V=0;V<k.length;V++){const j=this.pipelineUtils.createBundleEncoder(r,"renderBundleArrayCamera_"+V),K={attributes:{},bindingGroups:[],pipeline:null,index:null};c.bundleEncoders.push(j),c.bundleSets.push(K)}c.currentPass=null}else{const k=N.beginRenderPass(T);c.currentPass=k,r.viewport&&this.updateViewport(r),r.scissor&&this.updateScissor(r)}c.descriptor=T,c.encoder=N,c.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},c.renderBundles=[]}_createDepthLayerDescriptors(r,c,f,_){const y=f.depthStencilAttachment;c.layerDescriptors=[];const T=this.get(r.depthTexture);T.viewCache||(T.viewCache=[]);for(let A=0;A<_.length;A++){const N={...f,colorAttachments:[{...f.colorAttachments[0],view:f.colorAttachments[A].view}]};if(f.depthStencilAttachment){const k=A;T.viewCache[k]||(T.viewCache[k]=T.texture.createView({dimension:$2.TwoD,baseArrayLayer:A,arrayLayerCount:1})),N.depthStencilAttachment={view:T.viewCache[k],depthLoadOp:y.depthLoadOp||En.Clear,depthStoreOp:y.depthStoreOp||Kr.Store,depthClearValue:y.depthClearValue||1},r.stencil&&(N.depthStencilAttachment.stencilLoadOp=y.stencilLoadOp,N.depthStencilAttachment.stencilStoreOp=y.stencilStoreOp,N.depthStencilAttachment.stencilClearValue=y.stencilClearValue)}else N.depthStencilAttachment={...y};c.layerDescriptors.push(N)}}_updateDepthLayerDescriptors(r,c,f){for(let _=0;_<f.length;_++){const y=c.layerDescriptors[_];if(y.depthStencilAttachment){const T=y.depthStencilAttachment;r.depth&&(r.clearDepth?(T.depthClearValue=r.clearDepthValue,T.depthLoadOp=En.Clear):T.depthLoadOp=En.Load),r.stencil&&(r.clearStencil?(T.stencilClearValue=r.clearStencilValue,T.stencilLoadOp=En.Clear):T.stencilLoadOp=En.Load)}}}finishRender(r){const c=this.get(r),f=r.occlusionQueryCount;c.renderBundles.length>0&&c.currentPass.executeBundles(c.renderBundles),f>c.occlusionQueryIndex&&c.currentPass.endOcclusionQuery();const _=c.encoder;if(this._isRenderCameraDepthArray(r)===!0){const y=[];for(let T=0;T<c.bundleEncoders.length;T++){const A=c.bundleEncoders[T];y.push(A.finish())}for(let T=0;T<c.layerDescriptors.length;T++)if(T<y.length){const A=c.layerDescriptors[T],N=_.beginRenderPass(A);if(r.viewport){const{x:k,y:V,width:j,height:K,minDepth:Q,maxDepth:ie}=r.viewportValue;N.setViewport(k,V,j,K,Q,ie)}if(r.scissor){const{x:k,y:V,width:j,height:K}=r.scissorValue;N.setScissorRect(k,V,j,K)}N.executeBundles([y[T]]),N.end()}}else c.currentPass&&c.currentPass.end();if(f>0){const y=f*8;let T=this.occludedResolveCache.get(y);T===void 0&&(T=this.device.createBuffer({size:y,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.occludedResolveCache.set(y,T));const A=this.device.createBuffer({size:y,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});c.encoder.resolveQuerySet(c.occlusionQuerySet,0,f,T,0),c.encoder.copyBufferToBuffer(T,0,A,0,y),c.occlusionQueryBuffer=A,this.resolveOccludedAsync(r)}if(this.device.queue.submit([c.encoder.finish()]),r.textures!==null){const y=r.textures;for(let T=0;T<y.length;T++){const A=y[T];A.generateMipmaps===!0&&this.textureUtils.generateMipmaps(A)}}}isOccluded(r,c){const f=this.get(r);return f.occluded&&f.occluded.has(c)}async resolveOccludedAsync(r){const c=this.get(r),{currentOcclusionQueryBuffer:f,currentOcclusionQueryObjects:_}=c;if(f&&_){const y=new WeakSet;c.currentOcclusionQueryObjects=null,c.currentOcclusionQueryBuffer=null,await f.mapAsync(GPUMapMode.READ);const T=f.getMappedRange(),A=new BigUint64Array(T);for(let N=0;N<_.length;N++)A[N]===BigInt(0)&&y.add(_[N]);f.destroy(),c.occluded=y}}updateViewport(r){const{currentPass:c}=this.get(r),{x:f,y:_,width:y,height:T,minDepth:A,maxDepth:N}=r.viewportValue;c.setViewport(f,_,y,T,A,N)}updateScissor(r){const{currentPass:c}=this.get(r),{x:f,y:_,width:y,height:T}=r.scissorValue;c.setScissorRect(f,_,y,T)}getClearColor(){const r=super.getClearColor();return this.renderer.alpha===!0&&(r.r*=r.a,r.g*=r.a,r.b*=r.a),r}clear(r,c,f,_=null){const y=this.device,T=this.renderer;let A=[],N,k,V,j;if(r){const ie=this.getClearColor();k={r:ie.r,g:ie.g,b:ie.b,a:ie.a}}if(_===null){V=T.depth,j=T.stencil;const ie=this._getDefaultRenderPassDescriptor();if(r){A=ie.colorAttachments;const ce=A[0];ce.clearValue=k,ce.loadOp=En.Clear,ce.storeOp=Kr.Store}(V||j)&&(N=ie.depthStencilAttachment)}else{V=_.depth,j=_.stencil;const ie={loadOp:r?En.Clear:En.Load,clearValue:r?k:void 0};V&&(ie.depthLoadOp=c?En.Clear:En.Load,ie.depthClearValue=c?T.getClearDepth():void 0,ie.depthStoreOp=Kr.Store),j&&(ie.stencilLoadOp=f?En.Clear:En.Load,ie.stencilClearValue=f?T.getClearStencil():void 0,ie.stencilStoreOp=Kr.Store);const ce=this._getRenderPassDescriptor(_,ie);A=ce.colorAttachments,N=ce.depthStencilAttachment}V&&N&&(c?(N.depthLoadOp=En.Clear,N.depthClearValue=T.getClearDepth(),N.depthStoreOp=Kr.Store):(N.depthLoadOp=En.Load,N.depthStoreOp=Kr.Store)),j&&N&&(f?(N.stencilLoadOp=En.Clear,N.stencilClearValue=T.getClearStencil(),N.stencilStoreOp=Kr.Store):(N.stencilLoadOp=En.Load,N.stencilStoreOp=Kr.Store));const K=y.createCommandEncoder({label:"clear"});K.beginRenderPass({colorAttachments:A,depthStencilAttachment:N}).end(),y.queue.submit([K.finish()])}beginCompute(r){const c=this.get(r),f={label:"computeGroup_"+r.id};this.initTimestampQuery(Bo.COMPUTE,this.getTimestampUID(r),f),c.cmdEncoderGPU=this.device.createCommandEncoder({label:"computeGroup_"+r.id}),c.passEncoderGPU=c.cmdEncoderGPU.beginComputePass(f)}compute(r,c,f,_,y=null){const T=this.get(c),{passEncoderGPU:A}=this.get(r),N=this.get(_).pipeline;this.pipelineUtils.setPipeline(A,N);for(let k=0,V=f.length;k<V;k++){const j=f[k],K=this.get(j);A.setBindGroup(k,K.group)}if(y===null&&(y=c.count),y&&typeof y=="object"&&y.isIndirectStorageBufferAttribute){const k=this.get(y).buffer;A.dispatchWorkgroupsIndirect(k,0);return}if(typeof y=="number"){const k=y;if(T.dispatchSize===void 0||T.count!==k){T.dispatchSize=[0,1,1],T.count=k;const V=c.workgroupSize;let j=V[0];for(let ie=1;ie<V.length;ie++)j*=V[ie];const K=Math.ceil(k/j),Q=this.device.limits.maxComputeWorkgroupsPerDimension;y=[K,1,1],K>Q&&(y[0]=Math.min(K,Q),y[1]=Math.ceil(K/Q)),T.dispatchSize=y}y=T.dispatchSize}A.dispatchWorkgroups(y[0],y[1]||1,y[2]||1)}finishCompute(r){const c=this.get(r);c.passEncoderGPU.end(),this.device.queue.submit([c.cmdEncoderGPU.finish()])}draw(r,c){const{object:f,material:_,context:y,pipeline:T}=r,A=r.getBindings(),N=this.get(y),k=this.get(T),V=k.pipeline;if(k.error===!0)return;const j=r.getIndex(),K=j!==null,Q=r.getDrawParameters();if(Q===null)return;const ie=(ue,re)=>{this.pipelineUtils.setPipeline(ue,V),re.pipeline=V;const be=re.bindingGroups;for(let Oe=0,je=A.length;Oe<je;Oe++){const Be=A[Oe],We=this.get(Be);be[Be.index]!==Be.id&&(ue.setBindGroup(Be.index,We.group),be[Be.index]=Be.id)}if(K===!0&&re.index!==j){const Oe=this.get(j).buffer,je=j.array instanceof Uint16Array?Bl.Uint16:Bl.Uint32;ue.setIndexBuffer(Oe,je),re.index=j}const De=r.getVertexBuffers();for(let Oe=0,je=De.length;Oe<je;Oe++){const Be=De[Oe];if(re.attributes[Oe]!==Be){const We=this.get(Be).buffer;ue.setVertexBuffer(Oe,We),re.attributes[Oe]=Be}}y.stencil===!0&&_.stencilWrite===!0&&N.currentStencilRef!==_.stencilRef&&(ue.setStencilReference(_.stencilRef),N.currentStencilRef=_.stencilRef)},ce=(ue,re)=>{if(ie(ue,re),f.isBatchedMesh===!0){const be=f._multiDrawStarts,De=f._multiDrawCounts,Oe=f._multiDrawCount,je=f._multiDrawInstances;je!==null&&a2("WebGPUBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection.");for(let Be=0;Be<Oe;Be++){const We=je?je[Be]:1,$e=We>1?0:Be;K===!0?ue.drawIndexed(De[Be],We,be[Be]/j.array.BYTES_PER_ELEMENT,0,$e):ue.draw(De[Be],We,be[Be],$e),c.update(f,De[Be],We)}}else if(K===!0){const{vertexCount:be,instanceCount:De,firstVertex:Oe}=Q,je=r.getIndirect();if(je!==null){const Be=this.get(je).buffer;ue.drawIndexedIndirect(Be,0)}else ue.drawIndexed(be,De,Oe,0,0);c.update(f,be,De)}else{const{vertexCount:be,instanceCount:De,firstVertex:Oe}=Q,je=r.getIndirect();if(je!==null){const Be=this.get(je).buffer;ue.drawIndirect(Be,0)}else ue.draw(be,De,Oe,0);c.update(f,be,De)}};if(r.camera.isArrayCamera&&r.camera.cameras.length>0){const ue=this.get(r.camera),re=r.camera.cameras,be=r.getBindingGroup("cameraIndex");if(ue.indexesGPU===void 0||ue.indexesGPU.length!==re.length){const Oe=this.get(be),je=[],Be=new Uint32Array([0,0,0,0]);for(let We=0,$e=re.length;We<$e;We++){Be[0]=We;const Ee=this.bindingUtils.createBindGroupIndex(Be,Oe.layout);je.push(Ee)}ue.indexesGPU=je}const De=this.renderer.getPixelRatio();for(let Oe=0,je=re.length;Oe<je;Oe++){const Be=re[Oe];if(f.layers.test(Be.layers)){const We=Be.viewport;let $e=N.currentPass,Ee=N.currentSets;if(N.bundleEncoders){const Ie=N.bundleEncoders[Oe],Je=N.bundleSets[Oe];$e=Ie,Ee=Je}We&&$e.setViewport(Math.floor(We.x*De),Math.floor(We.y*De),Math.floor(We.width*De),Math.floor(We.height*De),y.viewportValue.minDepth,y.viewportValue.maxDepth),be&&ue.indexesGPU&&($e.setBindGroup(be.index,ue.indexesGPU[Oe]),Ee.bindingGroups[be.index]=be.id),ce($e,Ee)}}}else if(N.currentPass){if(N.occlusionQuerySet!==void 0){const ue=N.lastOcclusionObject;ue!==f&&(ue!==null&&ue.occlusionTest===!0&&(N.currentPass.endOcclusionQuery(),N.occlusionQueryIndex++),f.occlusionTest===!0&&(N.currentPass.beginOcclusionQuery(N.occlusionQueryIndex),N.occlusionQueryObjects[N.occlusionQueryIndex]=f),N.lastOcclusionObject=f)}ce(N.currentPass,N.currentSets)}}needsRenderUpdate(r){const c=this.get(r),{object:f,material:_}=r,y=this.utils,T=y.getSampleCountRenderContext(r.context),A=y.getCurrentColorSpace(r.context),N=y.getCurrentColorFormat(r.context),k=y.getCurrentDepthStencilFormat(r.context),V=y.getPrimitiveTopology(f,_);let j=!1;return(c.material!==_||c.materialVersion!==_.version||c.transparent!==_.transparent||c.blending!==_.blending||c.premultipliedAlpha!==_.premultipliedAlpha||c.blendSrc!==_.blendSrc||c.blendDst!==_.blendDst||c.blendEquation!==_.blendEquation||c.blendSrcAlpha!==_.blendSrcAlpha||c.blendDstAlpha!==_.blendDstAlpha||c.blendEquationAlpha!==_.blendEquationAlpha||c.colorWrite!==_.colorWrite||c.depthWrite!==_.depthWrite||c.depthTest!==_.depthTest||c.depthFunc!==_.depthFunc||c.stencilWrite!==_.stencilWrite||c.stencilFunc!==_.stencilFunc||c.stencilFail!==_.stencilFail||c.stencilZFail!==_.stencilZFail||c.stencilZPass!==_.stencilZPass||c.stencilFuncMask!==_.stencilFuncMask||c.stencilWriteMask!==_.stencilWriteMask||c.side!==_.side||c.alphaToCoverage!==_.alphaToCoverage||c.sampleCount!==T||c.colorSpace!==A||c.colorFormat!==N||c.depthStencilFormat!==k||c.primitiveTopology!==V||c.clippingContextCacheKey!==r.clippingContextCacheKey)&&(c.material=_,c.materialVersion=_.version,c.transparent=_.transparent,c.blending=_.blending,c.premultipliedAlpha=_.premultipliedAlpha,c.blendSrc=_.blendSrc,c.blendDst=_.blendDst,c.blendEquation=_.blendEquation,c.blendSrcAlpha=_.blendSrcAlpha,c.blendDstAlpha=_.blendDstAlpha,c.blendEquationAlpha=_.blendEquationAlpha,c.colorWrite=_.colorWrite,c.depthWrite=_.depthWrite,c.depthTest=_.depthTest,c.depthFunc=_.depthFunc,c.stencilWrite=_.stencilWrite,c.stencilFunc=_.stencilFunc,c.stencilFail=_.stencilFail,c.stencilZFail=_.stencilZFail,c.stencilZPass=_.stencilZPass,c.stencilFuncMask=_.stencilFuncMask,c.stencilWriteMask=_.stencilWriteMask,c.side=_.side,c.alphaToCoverage=_.alphaToCoverage,c.sampleCount=T,c.colorSpace=A,c.colorFormat=N,c.depthStencilFormat=k,c.primitiveTopology=V,c.clippingContextCacheKey=r.clippingContextCacheKey,j=!0),j}getRenderCacheKey(r){const{object:c,material:f}=r,_=this.utils,y=r.context,T=c.isMesh&&c.matrixWorld.determinant()<0;return[f.transparent,f.blending,f.premultipliedAlpha,f.blendSrc,f.blendDst,f.blendEquation,f.blendSrcAlpha,f.blendDstAlpha,f.blendEquationAlpha,f.colorWrite,f.depthWrite,f.depthTest,f.depthFunc,f.stencilWrite,f.stencilFunc,f.stencilFail,f.stencilZFail,f.stencilZPass,f.stencilFuncMask,f.stencilWriteMask,f.side,T,_.getSampleCountRenderContext(y),_.getCurrentColorSpace(y),_.getCurrentColorFormat(y),_.getCurrentDepthStencilFormat(y),_.getPrimitiveTopology(c,f),r.getGeometryCacheKey(),r.clippingContextCacheKey].join()}updateSampler(r){return this.textureUtils.updateSampler(r)}createDefaultTexture(r){return this.textureUtils.createDefaultTexture(r)}createTexture(r,c){this.textureUtils.createTexture(r,c)}updateTexture(r,c){this.textureUtils.updateTexture(r,c)}generateMipmaps(r){this.textureUtils.generateMipmaps(r)}destroyTexture(r,c=!1){this.textureUtils.destroyTexture(r,c)}async copyTextureToBuffer(r,c,f,_,y,T){return this.textureUtils.copyTextureToBuffer(r,c,f,_,y,T)}initTimestampQuery(r,c,f){if(!this.trackTimestamp)return;this.timestampQueryPool[r]||(this.timestampQueryPool[r]=new m3e(this.device,r,2048));const _=this.timestampQueryPool[r],y=_.allocateQueriesForContext(c);f.timestampWrites={querySet:_.querySet,beginningOfPassWriteIndex:y,endOfPassWriteIndex:y+1}}createNodeBuilder(r,c){return new l3e(r,c)}createProgram(r){const c=this.get(r);c.module={module:this.device.createShaderModule({code:r.code,label:r.stage+(r.name!==""?`_${r.name}`:"")}),entryPoint:"main"}}destroyProgram(r){this.delete(r)}createRenderPipeline(r,c){this.pipelineUtils.createRenderPipeline(r,c)}createComputePipeline(r,c){this.pipelineUtils.createComputePipeline(r,c)}beginBundle(r){const c=this.get(r);c._currentPass=c.currentPass,c._currentSets=c.currentSets,c.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},c.currentPass=this.pipelineUtils.createBundleEncoder(r)}finishBundle(r,c){const f=this.get(r),y=f.currentPass.finish();this.get(c).bundleGPU=y,f.currentSets=f._currentSets,f.currentPass=f._currentPass}addBundle(r,c){this.get(r).renderBundles.push(this.get(c).bundleGPU)}createBindings(r,c,f,_){this.bindingUtils.createBindings(r,c,f,_)}updateBindings(r,c,f,_){this.bindingUtils.createBindings(r,c,f,_)}updateBinding(r){this.bindingUtils.updateBinding(r)}createIndexAttribute(r){let c=GPUBufferUsage.INDEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST;(r.isStorageBufferAttribute||r.isStorageInstancedBufferAttribute)&&(c|=GPUBufferUsage.STORAGE),this.attributeUtils.createAttribute(r,c)}createAttribute(r){this.attributeUtils.createAttribute(r,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createStorageAttribute(r){this.attributeUtils.createAttribute(r,GPUBufferUsage.STORAGE|GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createIndirectStorageAttribute(r){this.attributeUtils.createAttribute(r,GPUBufferUsage.STORAGE|GPUBufferUsage.INDIRECT|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}updateAttribute(r){this.attributeUtils.updateAttribute(r)}destroyAttribute(r){this.attributeUtils.destroyAttribute(r)}updateSize(){this.delete(this.renderer.getCanvasTarget())}getMaxAnisotropy(){return 16}hasFeature(r){return pg[r]!==void 0&&(r=pg[r]),this.device.features.has(r)}copyTextureToTexture(r,c,f=null,_=null,y=0,T=0){let A=0,N=0,k=0,V=0,j=0,K=0,Q=r.image.width,ie=r.image.height,ce=1;f!==null&&(f.isBox3===!0?(V=f.min.x,j=f.min.y,K=f.min.z,Q=f.max.x-f.min.x,ie=f.max.y-f.min.y,ce=f.max.z-f.min.z):(V=f.min.x,j=f.min.y,Q=f.max.x-f.min.x,ie=f.max.y-f.min.y,ce=1)),_!==null&&(A=_.x,N=_.y,k=_.z||0);const ue=this.device.createCommandEncoder({label:"copyTextureToTexture_"+r.id+"_"+c.id}),re=this.get(r).texture,be=this.get(c).texture;ue.copyTextureToTexture({texture:re,mipLevel:y,origin:{x:V,y:j,z:K}},{texture:be,mipLevel:T,origin:{x:A,y:N,z:k}},[Q,ie,ce]),this.device.queue.submit([ue.finish()]),T===0&&c.generateMipmaps&&this.textureUtils.generateMipmaps(c)}copyFramebufferToTexture(r,c,f){const _=this.get(c);let y=null;c.renderTarget?r.isDepthTexture?y=this.get(c.depthTexture).texture:y=this.get(c.textures[0]).texture:r.isDepthTexture?y=this.textureUtils.getDepthBuffer(c.depth,c.stencil):y=this.context.getCurrentTexture();const T=this.get(r).texture;if(y.format!==T.format){r0("WebGPUBackend: copyFramebufferToTexture: Source and destination formats do not match.",y.format,T.format);return}let A;if(_.currentPass?(_.currentPass.end(),A=_.encoder):A=this.device.createCommandEncoder({label:"copyFramebufferToTexture_"+r.id}),A.copyTextureToTexture({texture:y,origin:[f.x,f.y,0]},{texture:T},[f.z,f.w]),r.generateMipmaps&&this.textureUtils.generateMipmaps(r,A),_.currentPass){const{descriptor:N}=_;for(let k=0;k<N.colorAttachments.length;k++)N.colorAttachments[k].loadOp=En.Load;c.depth&&(N.depthStencilAttachment.depthLoadOp=En.Load),c.stencil&&(N.depthStencilAttachment.stencilLoadOp=En.Load),_.currentPass=A.beginRenderPass(N),_.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},c.viewport&&this.updateViewport(c),c.scissor&&this.updateScissor(c)}else this.device.queue.submit([A.finish()])}dispose(){this.textureUtils.dispose()}}class x3e extends Cp{constructor(r,c,f,_,y,T){super(r,c,f,_,y,T),this.iesMap=null}copy(r,c){return super.copy(r,c),this.iesMap=r.iesMap,this}}class y3e extends Cp{constructor(r,c,f,_,y,T){super(r,c,f,_,y,T),this.aspect=null}copy(r,c){return super.copy(r,c),this.aspect=r.aspect,this}}class v3e extends Xy{constructor(){super(),this.addMaterial(b4e,"MeshPhongMaterial"),this.addMaterial(by,"MeshStandardMaterial"),this.addMaterial(Dde,"MeshPhysicalMaterial"),this.addMaterial(kde,"MeshToonMaterial"),this.addMaterial(T4e,"MeshBasicMaterial"),this.addMaterial(E4e,"MeshLambertMaterial"),this.addMaterial(x4e,"MeshNormalMaterial"),this.addMaterial(Ude,"MeshMatcapMaterial"),this.addMaterial(p4e,"LineBasicMaterial"),this.addMaterial(d4e,"LineDashedMaterial"),this.addMaterial(Wde,"PointsMaterial"),this.addMaterial(Iy,"SpriteMaterial"),this.addMaterial(Xde,"ShadowMaterial"),this.addLight(C6e,Qg),this.addLight(K6e,$d),this.addLight(Z6e,Joe),this.addLight(C8,Cp),this.addLight(tme,Jg),this.addLight(ime,Zg),this.addLight(nme,t1e),this.addLight(Q6e,x3e),this.addLight(eme,y3e),this.addToneMapping(b8e,Ag),this.addToneMapping(D8e,Eg),this.addToneMapping(I8e,Ng),this.addToneMapping(L8e,bg),this.addToneMapping(U8e,Dg),this.addToneMapping(O8e,Ig)}}class S3e extends Tme{constructor(r={}){let c;r.forceWebGL?c=ag:(c=g3e,r.getFallback=()=>(jt("WebGPURenderer: WebGPU is not available, running under WebGL2 backend."),new ag(r)));const f=new c(r);super(f,r),this.library=new v3e,this.isWebGPURenderer=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}}function C3e(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}function T3e(v){if(Object.prototype.hasOwnProperty.call(v,"__esModule"))return v;var r=v.default;if(typeof r=="function"){var c=function f(){var _=!1;try{_=this instanceof f}catch{}return _?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};c.prototype=r.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(v).forEach(function(f){var _=Object.getOwnPropertyDescriptor(v,f);Object.defineProperty(c,f,_.get?_:{enumerable:!0,get:function(){return v[f]}})}),c}function w3e(v){throw new Error('Could not dynamically require "'+v+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var J_={exports:{}};const M3e={},R3e=Object.freeze(Object.defineProperty({__proto__:null,default:M3e},Symbol.toStringTag,{value:"Module"})),xg=T3e(R3e);var A3e=J_.exports,yg;function E3e(){return yg||(yg=1,(function(v,r){(function(c,f){v.exports=f()})(A3e,function(){var c=function(_){_=_||{};var _;_||(_=(typeof c<"u"?c:null)||{});var y={};for(var T in _)_.hasOwnProperty(T)&&(y[T]=_[T]);var A=!1,N=!1,k=!1,V=!1;if(_.ENVIRONMENT)if(_.ENVIRONMENT==="WEB")A=!0;else if(_.ENVIRONMENT==="WORKER")N=!0;else if(_.ENVIRONMENT==="NODE")k=!0;else if(_.ENVIRONMENT==="SHELL")V=!0;else throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");else A=typeof window=="object",N=typeof importScripts=="function",k=typeof process=="object"&&typeof w3e=="function"&&!A&&!N,V=!A&&!k&&!N;if(k){_.print||(_.print=console.log),_.printErr||(_.printErr=console.warn);var j,K;_.read=function(I,le){j||(j=xg),K||(K=xg),I=K.normalize(I);var R=j.readFileSync(I);return!R&&I!=K.resolve(I)&&(I=path.join(__dirname,"..","src",I),R=j.readFileSync(I)),R&&!le&&(R=R.toString()),R},_.readBinary=function(I){var le=_.read(I,!0);return le.buffer||(le=new Uint8Array(le)),re(le.buffer),le},_.load=function(I){ie(read(I))},_.thisProgram||(process.argv.length>1?_.thisProgram=process.argv[1].replace(/\\/g,"/"):_.thisProgram="unknown-program"),_.arguments=process.argv.slice(2),v.exports=_,process.on("uncaughtException",(function(x){if(!(x instanceof lc))throw x})),_.inspect=(function(){return"[Emscripten Module object]"})}else if(V)_.print||(_.print=print),typeof printErr<"u"&&(_.printErr=printErr),typeof read<"u"?_.read=read:_.read=function(){throw"no read() available (jsc?)"},_.readBinary=function(I){if(typeof readbuffer=="function")return new Uint8Array(readbuffer(I));var le=read(I,"binary");return re(typeof le=="object"),le},typeof scriptArgs<"u"?_.arguments=scriptArgs:typeof arguments<"u"&&(_.arguments=arguments);else if(A||N){if(_.read=function(I){var le=new XMLHttpRequest;return le.open("GET",I,!1),le.send(null),le.responseText},_.readAsync=function(I,le,R){var ee=new XMLHttpRequest;ee.open("GET",I,!0),ee.responseType="arraybuffer",ee.onload=function(){ee.status==200||ee.status==0&&ee.response?le(ee.response):R()},ee.onerror=R,ee.send(null)},typeof arguments<"u"&&(_.arguments=arguments),typeof console<"u")_.print||(_.print=function(I){console.log(I)}),_.printErr||(_.printErr=function(I){console.warn(I)});else{var Q=!1;_.print||(_.print=Q&&typeof dump<"u"?(function(x){dump(x)}):(function(x){}))}N&&(_.load=importScripts),typeof _.setWindowTitle>"u"&&(_.setWindowTitle=(function(x){document.title=x}))}else throw"Unknown runtime environment. Where are we?";function ie(x){Ts("NO_DYNAMIC_EXECUTION=1 was set, cannot eval")}!_.load&&_.read&&(_.load=function(I){ie(_.read(I))}),_.print||(_.print=(function(){})),_.printErr||(_.printErr=_.print),_.arguments||(_.arguments=[]),_.thisProgram||(_.thisProgram="./this.program"),_.print=_.print,_.printErr=_.printErr,_.preRun=[],_.postRun=[];for(var T in y)y.hasOwnProperty(T)&&(_[T]=y[T]);y=void 0;var ce={setTempRet0:(function(x){tempRet0=x}),getTempRet0:(function(){return tempRet0}),stackSave:(function(){return si}),stackRestore:(function(x){si=x}),getNativeTypeSize:(function(x){switch(x){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(x[x.length-1]==="*")return ce.QUANTUM_SIZE;if(x[0]==="i"){var I=parseInt(x.substr(1));return re(I%8===0),I/8}else return 0}}}),getNativeFieldSize:(function(x){return Math.max(ce.getNativeTypeSize(x),ce.QUANTUM_SIZE)}),STACK_ALIGN:16,prepVararg:(function(x,I){return I==="double"||I==="i64"?x&7&&(re((x&7)===4),x+=4):re((x&3)===0),x}),getAlignSize:(function(x,I,le){return!le&&(x=="i64"||x=="double")?8:x?Math.min(I||(x?ce.getNativeFieldSize(x):0),ce.QUANTUM_SIZE):Math.min(I,8)}),dynCall:(function(x,I,le){return le&&le.length?(le.splice||(le=Array.prototype.slice.call(le)),le.splice(0,0,I),_["dynCall_"+x].apply(null,le)):_["dynCall_"+x].call(null,I)}),functionPointers:[],addFunction:(function(x){for(var I=0;I<ce.functionPointers.length;I++)if(!ce.functionPointers[I])return ce.functionPointers[I]=x,2*(1+I);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."}),removeFunction:(function(x){ce.functionPointers[(x-2)/2]=null}),warnOnce:(function(x){ce.warnOnce.shown||(ce.warnOnce.shown={}),ce.warnOnce.shown[x]||(ce.warnOnce.shown[x]=1,_.printErr(x))}),funcWrappers:{},getFuncWrapper:(function(x,I){re(I),ce.funcWrappers[I]||(ce.funcWrappers[I]={});var le=ce.funcWrappers[I];return le[x]||(le[x]=function(){return ce.dynCall(I,x,arguments)}),le[x]}),getCompilerSetting:(function(x){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"}),stackAlloc:(function(x){var I=si;return si=si+x|0,si=si+15&-16,I}),staticAlloc:(function(x){var I=b0;return b0=b0+x|0,b0=b0+15&-16,I}),dynamicAlloc:(function(x){var I=Pe;if(Pe=Pe+x|0,Pe=Pe+15&-16,Pe>=Ut){var le=Yt();if(!le)return Pe=I,0}return I}),alignMemory:(function(x,I){var le=x=Math.ceil(x/(I||16))*(I||16);return le}),makeBigInt:(function(x,I,le){var R=le?+(x>>>0)+ +(I>>>0)*4294967296:+(x>>>0)+ +(I|0)*4294967296;return R}),GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};_.Runtime=ce;var ue=!1;function re(x,I){x||Ts("Assertion failed: "+I)}function be(x){var I=_["_"+x];return I||Ts("NO_DYNAMIC_EXECUTION=1 was set, cannot eval"),re(I,"Cannot call unknown function "+x+" (perhaps LLVM optimizations or closure removed it?)"),I}var De,Oe;(function(){var x={arrayToC:(function(le){var R=ce.stackAlloc(le.length);return Nr(le,R),R}),stringToC:(function(le){var R=0;return le!=null&&le!==0&&(R=ce.stackAlloc((le.length<<2)+1),Cr(le,R)),R})},I={string:x.stringToC,array:x.arrayToC};Oe=function(R,ee,e,It,Le){var Ii=be(R),i=[],Mt=0;if(It)for(var H=0;H<It.length;H++){var mr=I[e[H]];mr?(Mt===0&&(Mt=ce.stackSave()),i[H]=mr(It[H])):i[H]=It[H]}var Z=Ii.apply(null,i);if(ee==="string"&&(Z=Et(Z)),Mt!==0){if(Le&&Le.async){EmterpreterAsync.asyncFinalizers.push((function(){ce.stackRestore(Mt)}));return}ce.stackRestore(Mt)}return Z},De=function(R,ee,e){return(function(){return Oe(R,ee,e,arguments)})}})(),_.ccall=Oe,_.cwrap=De;function je(x,I,le,R){switch(le=le||"i8",le.charAt(le.length-1)==="*"&&(le="i32"),le){case"i1":B0[x>>0]=I;break;case"i8":B0[x>>0]=I;break;case"i16":Bi[x>>1]=I;break;case"i32":J0[x>>2]=I;break;case"i64":tempI64=[I>>>0,(tempDouble=I,+nc(tempDouble)>=1?tempDouble>0?(fa(+Ys(tempDouble/4294967296),4294967295)|0)>>>0:~~+rc((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],J0[x>>2]=tempI64[0],J0[x+4>>2]=tempI64[1];break;case"float":tt[x>>2]=I;break;case"double":ki[x>>3]=I;break;default:Ts("invalid type for setValue: "+le)}}_.setValue=je;function Be(x,I,le){switch(I=I||"i8",I.charAt(I.length-1)==="*"&&(I="i32"),I){case"i1":return B0[x>>0];case"i8":return B0[x>>0];case"i16":return Bi[x>>1];case"i32":return J0[x>>2];case"i64":return J0[x>>2];case"float":return tt[x>>2];case"double":return ki[x>>3];default:Ts("invalid type for setValue: "+I)}return null}_.getValue=Be;var We=0,$e=1,Ee=2,Ie=3,Je=4;_.ALLOC_NORMAL=We,_.ALLOC_STACK=$e,_.ALLOC_STATIC=Ee,_.ALLOC_DYNAMIC=Ie,_.ALLOC_NONE=Je;function ft(x,I,le,R){var ee,e;typeof x=="number"?(ee=!0,e=x):(ee=!1,e=x.length);var It=typeof I=="string"?I:null,Le;if(le==Je?Le=R:Le=[typeof $o=="function"?$o:ce.staticAlloc,ce.stackAlloc,ce.staticAlloc,ce.dynamicAlloc][le===void 0?Ee:le](Math.max(e,It?1:I.length)),ee){var R=Le,Ii;for(re((Le&3)==0),Ii=Le+(e&-4);R<Ii;R+=4)J0[R>>2]=0;for(Ii=Le+e;R<Ii;)B0[R++>>0]=0;return Le}if(It==="i8")return x.subarray||x.slice?A0.set(x,Le):A0.set(new Uint8Array(x),Le),Le;for(var i=0,Mt,H,mr;i<e;){var Z=x[i];if(typeof Z=="function"&&(Z=ce.getFunctionIndex(Z)),Mt=It||I[i],Mt===0){i++;continue}Mt=="i64"&&(Mt="i32"),je(Le+i,Z,Mt),mr!==Mt&&(H=ce.getNativeTypeSize(Mt),mr=Mt),i+=H}return Le}_.allocate=ft;function yt(x){return Bn?typeof bn<"u"&&!bn.called||!ci?ce.dynamicAlloc(x):$o(x):ce.staticAlloc(x)}_.getMemory=yt;function Et(x,I){if(I===0||!x)return"";for(var le=0,R,ee=0;R=A0[x+ee>>0],le|=R,!(R==0&&!I||(ee++,I&&ee==I)););I||(I=ee);var e="";if(le<128){for(var It=1024,Le;I>0;)Le=String.fromCharCode.apply(String,A0.subarray(x,x+Math.min(I,It))),e=e?e+Le:Le,x+=It,I-=It;return e}return _.UTF8ToString(x)}_.Pointer_stringify=Et;function Dt(x){for(var I="";;){var le=B0[x++>>0];if(!le)return I;I+=String.fromCharCode(le)}}_.AsciiToString=Dt;function ct(x,I){return ic(x,I,!1)}_.stringToAscii=ct;function Wt(x,I){for(var le,R,ee,e,It,Le,Ii="";;){if(le=x[I++],!le)return Ii;if(!(le&128)){Ii+=String.fromCharCode(le);continue}if(R=x[I++]&63,(le&224)==192){Ii+=String.fromCharCode((le&31)<<6|R);continue}if(ee=x[I++]&63,(le&240)==224?le=(le&15)<<12|R<<6|ee:(e=x[I++]&63,(le&248)==240?le=(le&7)<<18|R<<12|ee<<6|e:(It=x[I++]&63,(le&252)==248?le=(le&3)<<24|R<<18|ee<<12|e<<6|It:(Le=x[I++]&63,le=(le&1)<<30|R<<24|ee<<18|e<<12|It<<6|Le))),le<65536)Ii+=String.fromCharCode(le);else{var i=le-65536;Ii+=String.fromCharCode(55296|i>>10,56320|i&1023)}}}_.UTF8ArrayToString=Wt;function vt(x){return Wt(A0,x)}_.UTF8ToString=vt;function Ht(x,I,le,R){if(!(R>0))return 0;for(var ee=le,e=le+R-1,It=0;It<x.length;++It){var Le=x.charCodeAt(It);if(Le>=55296&&Le<=57343&&(Le=65536+((Le&1023)<<10)|x.charCodeAt(++It)&1023),Le<=127){if(le>=e)break;I[le++]=Le}else if(Le<=2047){if(le+1>=e)break;I[le++]=192|Le>>6,I[le++]=128|Le&63}else if(Le<=65535){if(le+2>=e)break;I[le++]=224|Le>>12,I[le++]=128|Le>>6&63,I[le++]=128|Le&63}else if(Le<=2097151){if(le+3>=e)break;I[le++]=240|Le>>18,I[le++]=128|Le>>12&63,I[le++]=128|Le>>6&63,I[le++]=128|Le&63}else if(Le<=67108863){if(le+4>=e)break;I[le++]=248|Le>>24,I[le++]=128|Le>>18&63,I[le++]=128|Le>>12&63,I[le++]=128|Le>>6&63,I[le++]=128|Le&63}else{if(le+5>=e)break;I[le++]=252|Le>>30,I[le++]=128|Le>>24&63,I[le++]=128|Le>>18&63,I[le++]=128|Le>>12&63,I[le++]=128|Le>>6&63,I[le++]=128|Le&63}}return I[le]=0,le-ee}_.stringToUTF8Array=Ht;function Qt(x,I,le){return Ht(x,A0,I,le)}_.stringToUTF8=Qt;function a0(x){for(var I=0,le=0;le<x.length;++le){var R=x.charCodeAt(le);R>=55296&&R<=57343&&(R=65536+((R&1023)<<10)|x.charCodeAt(++le)&1023),R<=127?++I:R<=2047?I+=2:R<=65535?I+=3:R<=2097151?I+=4:R<=67108863?I+=5:I+=6}return I}_.lengthBytesUTF8=a0;function O0(x){var I=!!_.___cxa_demangle;if(I)try{var le=$o(x.length);Cr(x.substr(1),le);var R=$o(4),ee=_.___cxa_demangle(le,0,0,R);if(Be(R,"i32")===0&&ee)return Et(ee)}catch{return x}finally{le&&zp(le),R&&zp(R),ee&&zp(ee)}return ce.warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),x}function T0(x){return x.replace(/__Z[\w\d_]+/g,(function(I){var le=O0(I);return I===le?I:I+" ["+le+"]"}))}function w0(){var x=new Error;if(!x.stack){try{throw new Error(0)}catch(I){x=I}if(!x.stack)return"(no stack trace available)"}return x.stack.toString()}function y0(){return T0(w0())}_.stackTrace=y0;function dt(x){return x%4096>0&&(x+=4096-x%4096),x}var wt,e0,B0,A0,Bi,M2,J0,Fn,tt,ki;function qi(){_.HEAP8=B0=new Int8Array(e0),_.HEAP16=Bi=new Int16Array(e0),_.HEAP32=J0=new Int32Array(e0),_.HEAPU8=A0=new Uint8Array(e0),_.HEAPU16=M2=new Uint16Array(e0),_.HEAPU32=Fn=new Uint32Array(e0),_.HEAPF32=tt=new Float32Array(e0),_.HEAPF64=ki=new Float64Array(e0)}var wn=0,b0=0,Bn=!1,ri=0,si=0,Ye=0,Pe=0;function St(){Ts("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+Ut+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function Yt(){St()}for(var Jt=_.TOTAL_STACK||5242880,Ut=_.TOTAL_MEMORY||67108864,V0=64*1024;V0<Ut||V0<2*Jt;)V0<16777216?V0*=2:V0+=16777216;if(V0!==Ut&&(Ut=V0),_.buffer?e0=_.buffer:e0=new ArrayBuffer(Ut),qi(),J0[0]=255,A0[0]!==255||A0[3]!==0)throw"Typed arrays 2 must be run on a little-endian system";_.HEAP=wt,_.buffer=e0,_.HEAP8=B0,_.HEAP16=Bi,_.HEAP32=J0,_.HEAPU8=A0,_.HEAPU16=M2,_.HEAPU32=Fn,_.HEAPF32=tt,_.HEAPF64=ki;function g0(x){for(;x.length>0;){var I=x.shift();if(typeof I=="function"){I();continue}var le=I.func;typeof le=="number"?I.arg===void 0?ce.dynCall("v",le):ce.dynCall("vi",le,[I.arg]):le(I.arg===void 0?null:I.arg)}}var ai=[],X0=[],t0=[],c0=[],yi=[],ci=!1;function D0(){if(_.preRun)for(typeof _.preRun=="function"&&(_.preRun=[_.preRun]);_.preRun.length;)m0(_.preRun.shift());g0(ai)}function Si(){ci||(ci=!0,g0(X0))}function nt(){g0(t0)}function S0(){g0(c0)}function d0(){if(_.postRun)for(typeof _.postRun=="function"&&(_.postRun=[_.postRun]);_.postRun.length;)Ai(_.postRun.shift());g0(yi)}function m0(x){ai.unshift(x)}_.addOnPreRun=m0;function s0(x){X0.unshift(x)}_.addOnInit=s0;function Zt(x){t0.unshift(x)}_.addOnPreMain=Zt;function z0(x){c0.unshift(x)}_.addOnExit=z0;function Ai(x){yi.unshift(x)}_.addOnPostRun=Ai;function yn(x,I,le){var R=le>0?le:a0(x)+1,ee=new Array(R),e=Ht(x,ee,0,ee.length);return I&&(ee.length=e),ee}_.intArrayFromString=yn;function Gi(x){for(var I=[],le=0;le<x.length;le++){var R=x[le];R>255&&(R&=255),I.push(String.fromCharCode(R))}return I.join("")}_.intArrayToString=Gi;function Cr(x,I,le){for(var R=yn(x,le),ee=0;ee<R.length;){var e=R[ee];B0[I+ee>>0]=e,ee=ee+1}}_.writeStringToMemory=Cr;function Nr(x,I){for(var le=0;le<x.length;le++)B0[I++>>0]=x[le]}_.writeArrayToMemory=Nr;function ic(x,I,le){for(var R=0;R<x.length;++R)B0[I++>>0]=x.charCodeAt(R);le||(B0[I>>0]=0)}_.writeAsciiToMemory=ic,(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function(I,le){var R=I>>>16,ee=I&65535,e=le>>>16,It=le&65535;return ee*It+(R*It+ee*e<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=(function(x){x=x>>>0;for(var I=0;I<32;I++)if(x&1<<31-I)return I;return 32})),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=(function(x){return x<0?Math.ceil(x):Math.floor(x)})),Math.trunc=Math.trunc;var nc=Math.abs,rc=Math.ceil,Ys=Math.floor,ua=Math.pow,fa=Math.min,ks=0,Cs=null;function sc(x){ks++,_.monitorRunDependencies&&_.monitorRunDependencies(ks)}_.addRunDependency=sc;function I1(x){if(ks--,_.monitorRunDependencies&&_.monitorRunDependencies(ks),ks==0&&Cs){var I=Cs;Cs=null,I()}}_.removeRunDependency=I1,_.preloadedImages={},_.preloadedAudios={};var oc=[(function(x,I,le,R,ee,e,It,Le){{var Ii=_.getCache(_.ConcreteContactResultCallback)[x];if(!Ii.hasOwnProperty("addSingleResult"))throw"a JSImplementation must implement all functions, you forgot ConcreteContactResultCallback::addSingleResult.";return Ii.addSingleResult(I,le,R,ee,e,It,Le)}})];function ac(x,I,le,R,ee,e,It,Le,Ii){return oc[x](I,le,R,ee,e,It,Le,Ii)}wn=8,b0=wn+23344,X0.push({func:(function(){$9()})},{func:(function(){Lw()})}),ft([36,32,0,0,209,32,0,0,76,32,0,0,183,32,0,0,8,0,0,0,0,0,0,0,76,32,0,0,168,32,0,0,16,0,0,0,0,0,0,0,36,32,0,0,20,33,0,0,76,32,0,0,251,32,0,0,48,0,0,0,0,0,0,0,76,32,0,0,233,32,0,0,56,0,0,0,0,0,0,0,36,32,0,0,48,33,0,0,36,32,0,0,71,33,0,0,76,32,0,0,90,33,0,0,8,0,0,0,0,0,0,0,76,32,0,0,109,33,0,0,96,0,0,0,0,0,0,0,76,32,0,0,130,33,0,0,96,0,0,0,0,0,0,0,76,32,0,0,152,33,0,0,96,0,0,0,0,0,0,0,36,32,0,0,175,33,0,0,36,32,0,0,190,33,0,0,76,32,0,0,214,33,0,0,56,0,0,0,0,0,0,0,76,32,0,0,245,33,0,0,216,0,0,0,0,0,0,0,36,32,0,0,118,34,0,0,76,32,0,0,138,34,0,0,216,0,0,0,0,0,0,0,36,32,0,0,248,34,0,0,76,32,0,0,100,35,0,0,88,0,0,0,0,0,0,0,76,32,0,0,133,35,0,0,248,0,0,0,0,0,0,0,76,32,0,0,162,35,0,0,40,1,0,0,0,0,0,0,36,32,0,0,181,35,0,0,76,32,0,0,220,35,0,0,168,0,0,0,0,0,0,0,76,32,0,0,244,35,0,0,216,0,0,0,0,0,0,0,36,32,0,0,14,36,0,0,36,32,0,0,61,36,0,0,136,32,0,0,54,37,0,0,0,0,0,0,2,0,0,0,96,6,0,0,2,0,0,0,104,6,0,0,2,4,0,0,76,32,0,0,74,37,0,0,144,1,0,0,0,0,0,0,76,32,0,0,96,37,0,0,160,1,0,0,0,0,0,0,36,32,0,0,122,37,0,0,36,32,0,0,149,37,0,0,76,32,0,0,178,37,0,0,64,7,0,0,0,0,0,0,76,32,0,0,69,38,0,0,64,7,0,0,0,0,0,0,76,32,0,0,218,38,0,0,96,0,0,0,0,0,0,0,76,32,0,0,88,39,0,0,240,1,0,0,0,0,0,0,36,32,0,0,221,39,0,0,76,32,0,0,65,40,0,0,80,7,0,0,0,0,0,0,76,32,0,0,240,40,0,0,80,7,0,0,0,0,0,0,76,32,0,0,181,41,0,0,40,2,0,0,0,0,0,0,36,32,0,0,82,42,0,0,76,32,0,0,141,42,0,0,144,1,0,0,0,0,0,0,76,32,0,0,165,42,0,0,160,1,0,0,0,0,0,0,76,32,0,0,191,42,0,0,64,4,0,0,0,0,0,0,76,32,0,0,217,42,0,0,248,0,0,0,0,0,0,0,76,32,0,0,248,42,0,0,96,0,0,0,0,0,0,0,76,32,0,0,17,43,0,0,96,2,0,0,0,0,0,0,76,32,0,0,56,43,0,0,96,0,0,0,0,0,0,0,36,32,0,0,89,43,0,0,76,32,0,0,122,43,0,0,248,0,0,0,0,0,0,0,76,32,0,0,158,43,0,0,96,6,0,0,0,0,0,0,76,32,0,0,185,43,0,0,24,6,0,0,0,0,0,0,76,32,0,0,238,43,0,0,96,6,0,0,0,0,0,0,76,32,0,0,140,44,0,0,160,2,0,0,0,0,0,0,76,32,0,0,180,44,0,0,248,0,0,0,0,0,0,0,76,32,0,0,206,44,0,0,24,3,0,0,0,0,0,0,36,32,0,0,83,45,0,0,76,32,0,0,131,45,0,0,24,3,0,0,0,0,0,0,76,32,0,0,16,46,0,0,64,4,0,0,0,0,0,0,76,32,0,0,43,46,0,0,88,0,0,0,0,0,0,0,76,32,0,0,77,46,0,0,96,3,0,0,0,0,0,0,36,32,0,0,111,46,0,0,76,32,0,0,138,46,0,0,160,2,0,0,0,0,0,0,76,32,0,0,188,46,0,0,160,2,0,0,0,0,0,0,76,32,0,0,245,46,0,0,160,2,0,0,0,0,0,0,76,32,0,0,34,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,87,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,139,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,172,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,221,47,0,0,160,2,0,0,0,0,0,0,76,32,0,0,16,48,0,0,160,2,0,0,0,0,0,0,76,32,0,0,59,48,0,0,160,2,0,0,0,0,0,0,76,32,0,0,107,48,0,0,88,0,0,0,0,0,0,0,76,32,0,0,126,48,0,0,80,1,0,0,0,0,0,0,76,32,0,0,142,48,0,0,24,4,0,0,0,0,0,0,36,32,0,0,169,48,0,0,76,32,0,0,195,48,0,0,24,3,0,0,0,0,0,0,36,32,0,0,214,48,0,0,76,32,0,0,29,49,0,0,248,0,0,0,0,0,0,0,76,32,0,0,64,49,0,0,248,0,0,0,0,0,0,0,76,32,0,0,101,49,0,0,40,1,0,0,0,0,0,0,76,32,0,0,126,49,0,0,24,6,0,0,0,0,0,0,76,32,0,0,143,49,0,0,144,6,0,0,0,0,0,0,76,32,0,0,208,49,0,0,176,0,0,0,0,0,0,0,76,32,0,0,62,50,0,0,176,0,0,0,0,0,0,0,76,32,0,0,166,50,0,0,176,0,0,0,0,0,0,0,76,32,0,0,23,51,0,0,112,5,0,0,0,0,0,0,76,32,0,0,72,51,0,0,216,4,0,0,0,0,0,0,76,32,0,0,99,51,0,0,216,4,0,0,0,0,0,0,36,32,0,0,126,51,0,0,76,32,0,0,166,51,0,0,8,5,0,0,0,0,0,0,76,32,0,0,238,51,0,0,8,5,0,0,0,0,0,0,76,32,0,0,255,51,0,0,112,5,0,0,0,0,0,0,76,32,0,0,34,52,0,0,48,5,0,0,0,0,0,0,76,32,0,0,55,52,0,0,48,5,0,0,0,0,0,0,76,32,0,0,76,52,0,0,40,6,0,0,0,0,0,0,76,32,0,0,125,52,0,0,136,5,0,0,0,0,0,0,36,32,0,0,149,52,0,0,76,32,0,0,170,52,0,0,8,5,0,0,0,0,0,0,76,32,0,0,186,52,0,0,40,6,0,0,0,0,0,0,76,32,0,0,228,52,0,0,104,6,0,0,0,0,0,0,76,32,0,0,1,53,0,0,112,5,0,0,0,0,0,0,76,32,0,0,49,53,0,0,184,5,0,0,0,0,0,0,76,32,0,0,78,53,0,0,184,5,0,0,0,0,0,0,76,32,0,0,107,53,0,0,240,0,0,0,0,0,0,0,76,32,0,0,124,53,0,0,104,6,0,0,0,0,0,0,76,32,0,0,224,53,0,0,104,6,0,0,0,0,0,0,76,32,0,0,59,54,0,0,112,5,0,0,0,0,0,0,76,32,0,0,85,54,0,0,24,6,0,0,0,0,0,0,76,32,0,0,122,54,0,0,112,5,0,0,0,0,0,0,76,32,0,0,145,54,0,0,32,5,0,0,0,0,0,0,36,32,0,0,201,54,0,0,36,32,0,0,99,55,0,0,36,32,0,0,120,55,0,0,76,32,0,0,154,55,0,0,88,6,0,0,0,0,0,0,76,32,0,0,183,55,0,0,112,6,0,0,0,0,0,0,76,32,0,0,200,55,0,0,32,5,0,0,0,0,0,0,76,32,0,0,235,55,0,0,104,6,0,0,0,0,0,0,76,32,0,0,81,56,0,0,96,6,0,0,0,0,0,0,76,32,0,0,105,56,0,0,224,6,0,0,0,0,0,0,76,32,0,0,135,56,0,0,24,3,0,0,0,0,0,0,36,32,0,0,154,56,0,0,76,32,0,0,169,56,0,0,224,6,0,0,0,0,0,0,76,32,0,0,187,56,0,0,8,7,0,0,0,0,0,0,36,32,0,0,220,56,0,0,76,32,0,0,253,56,0,0,40,1,0,0,0,0,0,0,76,32,0,0,17,57,0,0,8,7,0,0,0,0,0,0,76,32,0,0,53,57,0,0,24,3,0,0,0,0,0,0,76,32,0,0,224,57,0,0,96,6,0,0,0,0,0,0,76,32,0,0,252,57,0,0,96,6,0,0,0,0,0,0,76,32,0,0,27,58,0,0,224,6,0,0,0,0,0,0,76,32,0,0,52,58,0,0,128,7,0,0,0,0,0,0,76,32,0,0,85,58,0,0,144,7,0,0,0,0,0,0,36,32,0,0,118,58,0,0,76,32,0,0,138,58,0,0,168,7,0,0,0,0,0,0,76,32,0,0,184,58,0,0,40,2,0,0,0,0,0,0,76,32,0,0,234,58,0,0,200,7,0,0,0,0,0,0,136,32,0,0,2,59,0,0,0,0,0,0,1,0,0,0,224,7,0,0,2,4,0,0,36,32,0,0,22,59,0,0,76,32,0,0,99,59,0,0,200,7,0,0,0,0,0,0,76,32,0,0,153,59,0,0,200,7,0,0,0,0,0,0,76,32,0,0,186,59,0,0,232,7,0,0,0,0,0,0,76,32,0,0,252,59,0,0,200,7,0,0,0,0,0,0,76,32,0,0,43,60,0,0,200,7,0,0,0,0,0,0,76,32,0,0,102,60,0,0,72,8,0,0,0,0,0,0,36,32,0,0,140,60,0,0,76,32,0,0,235,60,0,0,200,7,0,0,0,0,0,0,76,32,0,0,50,61,0,0,112,8,0,0,0,0,0,0,76,32,0,0,76,61,0,0,88,1,0,0,0,0,0,0,76,32,0,0,239,61,0,0,168,7,0,0,0,0,0,0,76,32,0,0,212,62,0,0,160,8,0,0,0,0,0,0,36,32,0,0,242,62,0,0,76,32,0,0,32,63,0,0,80,1,0,0,0,0,0,0,76,32,0,0,111,63,0,0,144,7,0,0,0,0,0,0,76,32,0,0,130,63,0,0,216,8,0,0,0,0,0,0,36,32,0,0,158,63,0,0,76,32,0,0,179,63,0,0,240,1,0,0,0,0,0,0,76,32,0,0,250,63,0,0,0,9,0,0,0,0,0,0,36,32,0,0,26,64,0,0,76,32,0,0,110,65,0,0,24,9,0,0,0,0,0,0,36,32,0,0,133,65,0,0,76,32,0,0,149,65,0,0,48,0,0,0,0,0,0,0,36,32,0,0,50,76,0,0,76,32,0,0,16,76,0,0,88,9,0,0,0,0,0,0,76,32,0,0,189,75,0,0,56,9,0,0,0,0,0,0,76,32,0,0,226,75,0,0,104,9,0,0,0,0,0,0,36,32,0,0,3,76,0,0,76,32,0,0,248,76,0,0,48,9,0,0,0,0,0,0,76,32,0,0,56,77,0,0,88,9,0,0,0,0,0,0,76,32,0,0,20,77,0,0,128,9,0,0,0,0,0,0,76,32,0,0,90,77,0,0,56,9,0,0,0,0,0,0,0,0,0,0,32,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,16,0,0,0,1,0,0,0,4,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,0,0,0,0,72,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,1,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,4,0,0,0,6,0,0,0,5,0,0,0,3,0,0,0,6,0,0,0,2,0,0,0,7,0,0,0,4,0,0,0,5,0,0,0,0,0,0,0,104,0,0,0,7,0,0,0,8,0,0,0,2,0,0,0,7,0,0,0,2,0,0,0,3,0,0,0,2,0,0,0,4,0,0,0,6,0,0,0,8,0,0,0,9,0,0,0,8,0,0,0,7,0,0,0,9,0,0,0,0,0,0,0,120,0,0,0,10,0,0,0,11,0,0,0,9,0,0,0,8,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,136,0,0,0,10,0,0,0,12,0,0,0,10,0,0,0,9,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,152,0,0,0,10,0,0,0,13,0,0,0,10,0,0,0,10,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,184,0,0,0,14,0,0,0,15,0,0,0,3,0,0,0,2,0,0,0,11,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,12,0,0,0,13,0,0,0,13,0,0,0,11,0,0,0,14,0,0,0,4,0,0,0,14,0,0,0,12,0,0,0,13,0,0,0,0,0,0,0,200,0,0,0,16,0,0,0,17,0,0,0,3,0,0,0,0,0,0,0,224,0,0,0,16,0,0,0,18,0,0,0,4,0,0,0,0,0,0,0,240,0,0,0,19,0,0,0,20,0,0,0,3,0,0,0,15,0,0,0,5,0,0,0,14,0,0,0,15,0,0,0,0,0,0,0,8,1,0,0,21,0,0,0,22,0,0,0,3,0,0,0,1,0,0,0,16,0,0,0,0,0,0,0,24,1,0,0,23,0,0,0,24,0,0,0,4,0,0,0,0,0,0,0,48,1,0,0,25,0,0,0,26,0,0,0,4,0,0,0,6,0,0,0,17,0,0,0,18,0,0,0,7,0,0,0,8,0,0,0,5,0,0,0,16,0,0,0,5,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,6,0,0,0,19,0,0,0,0,0,0,0,64,1,0,0,16,0,0,0,27,0,0,0,7,0,0,0,0,0,0,0,80,1,0,0,28,0,0,0,29,0,0,0,20,0,0,0,8,0,0,0,20,0,0,0,9,0,0,0,21,0,0,0,0,0,0,0,88,1,0,0,30,0,0,0,31,0,0,0,32,0,0,0,33,0,0,0,22,0,0,0,21,0,0,0,34,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,23,0,0,0,35,0,0,0,24,0,0,0,0,0,0,0,96,1,0,0,36,0,0,0,37,0,0,0,9,0,0,0,10,0,0,0,252,255,255,255,96,1,0,0,38,0,0,0,39,0,0,0,11,0,0,0,0,0,0,0,128,1,0,0,40,0,0,0,41,0,0,0,9,0,0,0,0,0,0,0,168,1,0,0,1,0,0,0,25,0,0,0,15,0,0,0,42,0,0,0,43,0,0,0,0,0,0,0,176,1,0,0,44,0,0,0,45,0,0,0,12,0,0,0,1,0,0,0,0,0,0,0,192,1,0,0,44,0,0,0,46,0,0,0,12,0,0,0,2,0,0,0,0,0,0,0,208,1,0,0,10,0,0,0,47,0,0,0,10,0,0,0,26,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,224,1,0,0,48,0,0,0,49,0,0,0,10,0,0,0,1,0,0,0,0,0,0,0,248,1,0,0,44,0,0,0,50,0,0,0,13,0,0,0,1,0,0,0,0,0,0,0,8,2,0,0,44,0,0,0,51,0,0,0,13,0,0,0,2,0,0,0,0,0,0,0,24,2,0,0,52,0,0,0,53,0,0,0,11,0,0,0,2,0,0,0,0,0,0,0,48,2,0,0,40,0,0,0,54,0,0,0,12,0,0,0,0,0,0,0,64,2,0,0,40,0,0,0,55,0,0,0,13,0,0,0,0,0,0,0,80,2,0,0,56,0,0,0,57,0,0,0,16,0,0,0,17,0,0,0,1,0,0,0,0,0,0,0,96,2,0,0,58,0,0,0,59,0,0,0,5,0,0,0,2,0,0,0,27,0,0,0,0,0,0,0,112,2,0,0,10,0,0,0,60,0,0,0,10,0,0,0,28,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,128,2,0,0,61,0,0,0,62,0,0,0,6,0,0,0,3,0,0,0,29,0,0,0,0,0,0,0,144,2,0,0,10,0,0,0,63,0,0,0,18,0,0,0,30,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,168,2,0,0,64,0,0,0,65,0,0,0,7,0,0,0,4,0,0,0,31,0,0,0,0,0,0,0,184,2,0,0,66,0,0,0,67,0,0,0,14,0,0,0,0,0,0,0,200,2,0,0,68,0,0,0,69,0,0,0,15,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,32,0,0,0,22,0,0,0,1,0,0,0,23,0,0,0,33,0,0,0,2,0,0,0,2,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,20,0,0,0,21,0,0,0,1,0,0,0,16,0,0,0,17,0,0,0,25,0,0,0,22,0,0,0,14,0,0,0,26,0,0,0,27,0,0,0,18,0,0,0,23,0,0,0,28,0,0,0,19,0,0,0,1,0,0,0,20,0,0,0,0,0,0,0,216,2,0,0,44,0,0,0,70,0,0,0,21,0,0,0,0,0,0,0,232,2,0,0,71,0,0,0,72,0,0,0,5,0,0,0,0,0,0,0,248,2,0,0,73,0,0,0,74,0,0,0,8,0,0,0,5,0,0,0,35,0,0,0,0,0,0,0,8,3,0,0,56,0,0,0,75,0,0,0,24,0,0,0,25,0,0,0,2,0,0,0,0,0,0,0,32,3,0,0,56,0,0,0,76,0,0,0,26,0,0,0,27,0,0,0,3,0,0,0,0,0,0,0,48,3,0,0,56,0,0,0,77,0,0,0,16,0,0,0,17,0,0,0,4,0,0,0,0,0,0,0,64,3,0,0,78,0,0,0,79,0,0,0,9,0,0,0,6,0,0,0,36,0,0,0,0,0,0,0,80,3,0,0,80,0,0,0,81,0,0,0,29,0,0,0,30,0,0,0,11,0,0,0,31,0,0,0,0,0,0,0,104,3,0,0,82,0,0,0,83,0,0,0,6,0,0,0,0,0,0,0,120,3,0,0,82,0,0,0,84,0,0,0,7,0,0,0,0,0,0,0,136,3,0,0,82,0,0,0,85,0,0,0,8,0,0,0,0,0,0,0,152,3,0,0,82,0,0,0,86,0,0,0,9,0,0,0,0,0,0,0,168,3,0,0,82,0,0,0,87,0,0,0,10,0,0,0,0,0,0,0,184,3,0,0,82,0,0,0,88,0,0,0,11,0,0,0,0,0,0,0,200,3,0,0,82,0,0,0,89,0,0,0,12,0,0,0,0,0,0,0,216,3,0,0,82,0,0,0,90,0,0,0,13,0,0,0,0,0,0,0,232,3,0,0,82,0,0,0,91,0,0,0,14,0,0,0,0,0,0,0,248,3,0,0,82,0,0,0,92,0,0,0,15,0,0,0,0,0,0,0,8,4,0,0,93,0,0,0,94,0,0,0,10,0,0,0,7,0,0,0,37,0,0,0,0,0,0,0,24,4,0,0,95,0,0,0,96,0,0,0,20,0,0,0,8,0,0,0,20,0,0,0,9,0,0,0,21,0,0,0,28,0,0,0,22,0,0,0,0,0,0,0,40,4,0,0,97,0,0,0,98,0,0,0,20,0,0,0,8,0,0,0,20,0,0,0,9,0,0,0,21,0,0,0,29,0,0,0,23,0,0,0,0,0,0,0,56,4,0,0,99,0,0,0,100,0,0,0,12,0,0,0,13,0,0,0,32,0,0,0,0,0,0,0,64,4,0,0,56,0,0,0,101,0,0,0,16,0,0,0,17,0,0,0,5,0,0,0,0,0,0,0,80,4,0,0,102,0,0,0,103,0,0,0,30,0,0,0,38,0,0,0,0,0,0,0,88,4,0,0,104,0,0,0,105,0,0,0,11,0,0,0,8,0,0,0,39,0,0,0,0,0,0,0,104,4,0,0,106,0,0,0,107,0,0,0,12,0,0,0,9,0,0,0,40,0,0,0,0,0,0,0,120,4,0,0,23,0,0,0,108,0,0,0,13,0,0,0,0,0,0,0,136,4,0,0,68,0,0,0,109,0,0,0,24,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,41,0,0,0,22,0,0,0,2,0,0,0,33,0,0,0,33,0,0,0,3,0,0,0,2,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,31,0,0,0,32,0,0,0,1,0,0,0,25,0,0,0,17,0,0,0,34,0,0,0,33,0,0,0,14,0,0,0,35,0,0,0,36,0,0,0,26,0,0,0,34,0,0,0,37,0,0,0,27,0,0,0,2,0,0,0,35,0,0,0,0,0,0,0,152,4,0,0,110,0,0,0,111,0,0,0,28,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,42,0,0,0,38,0,0,0,3,0,0,0,39,0,0,0,33,0,0,0,4,0,0,0,3,0,0,0,40,0,0,0,14,0,0,0,34,0,0,0,29,0,0,0,36,0,0,0,37,0,0,0,43,0,0,0,44,0,0,0,0,0,0,0,168,4,0,0,112,0,0,0,113,0,0,0,38,0,0,0,0,0,0,0,184,4,0,0,112,0,0,0,114,0,0,0,39,0,0,0,0,0,0,0,200,4,0,0,112,0,0,0,115,0,0,0,40,0,0,0,0,0,0,0,216,4,0,0,116,0,0,0,117,0,0,0,30,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,45,0,0,0,22,0,0,0,4,0,0,0,41,0,0,0,46,0,0,0,5,0,0,0,2,0,0,0,42,0,0,0,15,0,0,0,34,0,0,0,20,0,0,0,41,0,0,0,1,0,0,0,31,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,232,4,0,0,116,0,0,0,118,0,0,0,30,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,45,0,0,0,22,0,0,0,4,0,0,0,44,0,0,0,46,0,0,0,5,0,0,0,2,0,0,0,42,0,0,0,15,0,0,0,34,0,0,0,20,0,0,0,41,0,0,0,1,0,0,0,31,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,248,4,0,0,116,0,0,0,119,0,0,0,30,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,45,0,0,0,22,0,0,0,4,0,0,0,45,0,0,0,46,0,0,0,5,0,0,0,2,0,0,0,42,0,0,0,15,0,0,0,34,0,0,0,20,0,0,0,41,0,0,0,1,0,0,0,31,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,16,5,0,0,120,0,0,0,121,0,0,0,32,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,47,0,0,0,46,0,0,0,5,0,0,0,47,0,0,0,33,0,0,0,6,0,0,0,4,0,0,0,48,0,0,0,16,0,0,0,34,0,0,0,48,0,0,0,122,0,0,0,0,0,0,0,48,5,0,0,116,0,0,0,123,0,0,0,33,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,49,0,0,0,22,0,0,0,6,0,0,0,49,0,0,0,50,0,0,0,2,0,0,0,2,0,0,0,50,0,0,0,17,0,0,0,34,0,0,0,43,0,0,0,44,0,0,0,1,0,0,0,34,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,64,5,0,0,116,0,0,0,124,0,0,0,33,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,49,0,0,0,22,0,0,0,6,0,0,0,51,0,0,0,51,0,0,0,2,0,0,0,2,0,0,0,50,0,0,0,17,0,0,0,34,0,0,0,43,0,0,0,44,0,0,0,1,0,0,0,34,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,80,5,0,0,116,0,0,0,125,0,0,0,33,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,49,0,0,0,22,0,0,0,6,0,0,0,52,0,0,0,52,0,0,0,2,0,0,0,2,0,0,0,50,0,0,0,17,0,0,0,34,0,0,0,43,0,0,0,44,0,0,0,1,0,0,0,34,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,96,5,0,0,126,0,0,0,127,0,0,0,35,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,53,0,0,0,22,0,0,0,7,0,0,0,53,0,0,0,33,0,0,0,2,0,0,0,2,0,0,0,54,0,0,0,18,0,0,0,34,0,0,0,45,0,0,0,46,0,0,0,2,0,0,0,36,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,14,0,0,0,55,0,0,0,56,0,0,0,37,0,0,0,47,0,0,0,57,0,0,0,38,0,0,0,3,0,0,0,0,0,0,0,128,5,0,0,128,0,0,0,129,0,0,0,0,0,0,0,152,5,0,0,68,0,0,0,130,0,0,0,35,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,54,0,0,0,58,0,0,0,7,0,0,0,59,0,0,0,33,0,0,0,2,0,0,0,2,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,48,0,0,0,49,0,0,0,1,0,0,0,39,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,14,0,0,0,60,0,0,0,61,0,0,0,40,0,0,0,50,0,0,0,62,0,0,0,41,0,0,0,4,0,0,0,0,0,0,0,168,5,0,0,131,0,0,0,132,0,0,0,42,0,0,0,0,0,0,0,184,5,0,0,116,0,0,0,133,0,0,0,43,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,55,0,0,0,22,0,0,0,8,0,0,0,63,0,0,0,56,0,0,0,7,0,0,0,2,0,0,0,64,0,0,0,19,0,0,0,34,0,0,0,51,0,0,0,52,0,0,0,1,0,0,0,44,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,5,0,0,0,0,0,0,0,200,5,0,0,116,0,0,0,134,0,0,0,43,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,55,0,0,0,22,0,0,0,8,0,0,0,65,0,0,0,56,0,0,0,7,0,0,0,2,0,0,0,64,0,0,0,19,0,0,0,34,0,0,0,51,0,0,0,53,0,0,0,1,0,0,0,45,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,6,0,0,0,0,0,0,0,216,5,0,0,116,0,0,0,135,0,0,0,43,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,55,0,0,0,22,0,0,0,8,0,0,0,66,0,0,0,56,0,0,0,7,0,0,0,2,0,0,0,64,0,0,0,19,0,0,0,34,0,0,0,51,0,0,0,54,0,0,0,1,0,0,0,46,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,7,0,0,0,0,0,0,0,232,5,0,0,136,0,0,0,137,0,0,0,3,0,0,0,15,0,0,0,5,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,0,0,0,0,248,5,0,0,131,0,0,0,138,0,0,0,47,0,0,0,0,0,0,0,8,6,0,0,131,0,0,0,139,0,0,0,48,0,0,0,0,0,0,0,24,6,0,0,68,0,0,0,140,0,0,0,33,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,32,0,0,0,22,0,0,0,7,0,0,0,1,0,0,0,33,0,0,0,2,0,0,0,2,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,20,0,0,0,55,0,0,0,1,0,0,0,49,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,14,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,56,6,0,0,116,0,0,0,141,0,0,0,50,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,32,0,0,0,22,0,0,0,9,0,0,0,67,0,0,0,33,0,0,0,8,0,0,0,8,0,0,0,24,0,0,0,10,0,0,0,34,0,0,0,56,0,0,0,57,0,0,0,1,0,0,0,51,0,0,0,17,0,0,0,43,0,0,0,42,0,0,0,0,0,0,0,72,6,0,0,142,0,0,0,143,0,0,0,52,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,57,0,0,0,68,0,0,0,10,0,0,0,69,0,0,0,33,0,0,0,4,0,0,0,3,0,0,0,70,0,0,0,20,0,0,0,34,0,0,0,53,0,0,0,0,0,0,0,112,6,0,0,144,0,0,0,145,0,0,0,54,0,0,0,1,0,0,0,2,0,0,0,58,0,0,0,59,0,0,0,71,0,0,0,60,0,0,0,61,0,0,0,72,0,0,0,58,0,0,0,59,0,0,0,73,0,0,0,21,0,0,0,0,0,0,0,128,6,0,0,146,0,0,0,147,0,0,0,54,0,0,0,1,0,0,0,2,0,0,0,58,0,0,0,59,0,0,0,71,0,0,0,62,0,0,0,63,0,0,0,72,0,0,0,58,0,0,0,59,0,0,0,73,0,0,0,21,0,0,0,0,0,0,0,144,6,0,0,148,0,0,0,149,0,0,0,28,0,0,0,19,0,0,0,1,0,0,0,1,0,0,0,64,0,0,0,38,0,0,0,3,0,0,0,74,0,0,0,33,0,0,0,4,0,0,0,3,0,0,0,75,0,0,0,22,0,0,0,34,0,0,0,55,0,0,0,36,0,0,0,37,0,0,0,0,0,0,0,160,6,0,0,131,0,0,0,150,0,0,0,56,0,0,0,0,0,0,0,176,6,0,0,44,0,0,0,151,0,0,0,57,0,0,0,0,0,0,0,192,6,0,0,152,0,0,0,153,0,0,0,1,0,0,0,0,0,0,0,208,6,0,0,56,0,0,0,154,0,0,0,60,0,0,0,61,0,0,0,6,0,0,0,0,0,0,0,232,6,0,0,152,0,0,0,155,0,0,0,2,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,248,6,0,0,156,0,0,0,157,0,0,0,1,0,0,0,0,0,0,0,16,7,0,0,23,0,0,0,158,0,0,0,14,0,0,0,0,0,0,0,32,7,0,0,156,0,0,0,159,0,0,0,2,0,0,0,0,0,0,0,48,7,0,0,56,0,0,0,160,0,0,0,62,0,0,0,63,0,0,0,7,0,0,0,10,215,163,60,0,0,0,0,80,7,0,0,44,0,0,0,161,0,0,0,13,0,0,0,1,0,0,0,0,0,0,0,96,7,0,0,152,0,0,0,162,0,0,0,3,0,0,0,0,0,0,0,112,7,0,0,163,0,0,0,164,0,0,0,2,0,0,0,65,0,0,0,66,0,0,0,3,0,0,0,67,0,0,0,68,0,0,0,69,0,0,0,4,0,0,0,76,0,0,0,165,0,0,0,77,0,0,0,70,0,0,0,0,0,0,0,152,7,0,0,52,0,0,0,166,0,0,0,15,0,0,0,3,0,0,0,0,0,0,0,184,7,0,0,167,0,0,0,168,0,0,0,169,0,0,0,1,0,0,0,71,0,0,0,72,0,0,0,8,0,0,0,1,0,0,0,4,0,0,0,78,0,0,0,23,0,0,0,64,0,0,0,0,0,0,0,200,7,0,0,167,0,0,0,170,0,0,0,171,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,9,0,0,0,1,0,0,0,1,0,0,0,79,0,0,0,24,0,0,0,0,0,0,0,232,7,0,0,167,0,0,0,172,0,0,0,173,0,0,0,1,0,0,0,73,0,0,0,74,0,0,0,9,0,0,0,2,0,0,0,5,0,0,0,80,0,0,0,25,0,0,0,174,0,0,0,81,0,0,0,0,0,0,0,248,7,0,0,167,0,0,0,175,0,0,0,176,0,0,0,1,0,0,0,75,0,0,0,76,0,0,0,9,0,0,0,3,0,0,0,6,0,0,0,82,0,0,0,26,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,8,8,0,0,167,0,0,0,177,0,0,0,173,0,0,0,1,0,0,0,73,0,0,0,77,0,0,0,9,0,0,0,2,0,0,0,5,0,0,0,83,0,0,0,27,0,0,0,174,0,0,0,81,0,0,0,65,0,0,0,0,0,0,0,24,8,0,0,167,0,0,0,178,0,0,0,179,0,0,0,1,0,0,0,78,0,0,0,79,0,0,0,9,0,0,0,4,0,0,0,7,0,0,0,84,0,0,0,28,0,0,0,85,0,0,0,0,0,0,0,40,8,0,0,167,0,0,0,180,0,0,0,181,0,0,0,1,0,0,0,80,0,0,0,81,0,0,0,9,0,0,0,5,0,0,0,8,0,0,0,86,0,0,0,29,0,0,0,87,0,0,0,0,0,0,0,56,8,0,0,182,0,0,0,183,0,0,0,66,0,0,0,1,0,0,0,67,0,0,0,184,0,0,0,88,0,0,0,58,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,80,8,0,0,167,0,0,0,185,0,0,0,171,0,0,0,1,0,0,0,82,0,0,0,83,0,0,0,9,0,0,0,6,0,0,0,9,0,0,0,89,0,0,0,30,0,0,0,90,0,0,0,0,0,0,0,96,8,0,0,186,0,0,0,187,0,0,0,32,0,0,0,33,0,0,0,22,0,0,0,21,0,0,0,188,0,0,0,6,0,0,0,7,0,0,0,59,0,0,0,84,0,0,0,35,0,0,0,85,0,0,0,1,0,0,0,68,0,0,0,86,0,0,0,87,0,0,0,88,0,0,0,89,0,0,0,90,0,0,0,189,0,0,0,91,0,0,0,60,0,0,0,92,0,0,0,93,0,0,0,91,0,0,0,92,0,0,0,16,0,0,0,17,0,0,0,93,0,0,0,190,0,0,0,94,0,0,0,95,0,0,0,96,0,0,0,97,0,0,0,9,0,0,0,10,0,0,0,191,0,0,0,98,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,99,0,0,0,192,0,0,0,100,0,0,0,14,0,0,0,0,0,0,0,168,7,0,0,52,0,0,0,193,0,0,0,15,0,0,0,10,0,0,0,0,0,0,0,128,8,0,0,52,0,0,0,194,0,0,0,18,0,0,0,11,0,0,0,0,0,0,0,144,8,0,0,195,0,0,0,196,0,0,0,3,0,0,0,0,0,0,0,168,8,0,0,197,0,0,0,198,0,0,0,20,0,0,0,8,0,0,0,94,0,0,0,31,0,0,0,101,0,0,0,0,0,0,0,184,8,0,0,199,0,0,0,200,0,0,0,5,0,0,0,102,0,0,0,15,0,0,0,16,0,0,0,61,0,0,0,0,0,0,0,200,8,0,0,201,0,0,0,202,0,0,0,17,0,0,0,0,0,0,0,224,8,0,0,48,0,0,0,203,0,0,0,19,0,0,0,12,0,0,0,28,88,0,0,0,0,0,0,240,8,0,0,204,0,0,0,205,0,0,0,20,0,0,0,1,0,0,0,0,0,0,0,8,9,0,0,206,0,0,0,207,0,0,0,103,0,0,0,104,0,0,0,0,0,0,0,32,9,0,0,208,0,0,0,209,0,0,0,32,0,0,0,18,0,0,0,69,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,0,0,0,34,0,0,0,41,91,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,56,9,0,0,210,0,0,0,211,0,0,0,212,0,0,0,213,0,0,0,35,0,0,0,4,0,0,0,15,0,0,0,62,0,0,0,0,0,0,0,72,9,0,0,210,0,0,0,214,0,0,0,212,0,0,0,213,0,0,0,35,0,0,0,5,0,0,0,16,0,0,0,63,0,0,0,0,0,0,0,112,9,0,0,215,0,0,0,216,0,0,0,96,0,0,0,0,0,0,0,160,9,0,0,210,0,0,0,217,0,0,0,212,0,0,0,213,0,0,0,35,0,0,0,6,0,0,0,17,0,0,0,64,0,0,0,49,50,98,116,65,120,105,115,83,119,101,101,112,51,0,50,48,98,116,65,120,105,115,83,119,101,101,112,51,73,110,116,101,114,110,97,108,73,116,69,0,50,49,98,116,66,114,111,97,100,112,104,97,115,101,73,110,116,101,114,102,97,99,101,0,49,53,98,116,78,117,108,108,80,97,105,114,67,97,99,104,101,0,50,50,98,116,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,0,50,53,98,116,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,108,108,98,97,99,107,0,50,48,98,116,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,78,54,98,116,68,98,118,116,56,73,67,111,108,108,105,100,101,69,0,49,54,98,116,68,98,118,116,66,114,111,97,100,112,104,97,115,101,0,49,56,98,116,68,98,118,116,84,114,101,101,67,111,108,108,105,100,101,114,0,49,57,66,114,111,97,100,112,104,97,115,101,82,97,121,84,101,115,116,101,114,0,50,48,66,114,111,97,100,112,104,97,115,101,65,97,98,98,84,101,115,116,101,114,0,49,50,98,116,68,105,115,112,97,116,99,104,101,114,0,50,49,98,116,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,0,90,78,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,51,55,114,101,109,111,118,101,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,115,67,111,110,116,97,105,110,105,110,103,80,114,111,120,121,69,80,49,55,98,116,66,114,111,97,100,112,104,97,115,101,80,114,111,120,121,80,49,50,98,116,68,105,115,112,97,116,99,104,101,114,69,49,56,82,101,109,111,118,101,80,97,105,114,67,97,108,108,98,97,99,107,0,49,55,98,116,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,90,78,50,56,98,116,72,97,115,104,101,100,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,67,97,99,104,101,49,57,99,108,101,97,110,80,114,111,120,121,70,114,111,109,80,97,105,114,115,69,80,49,55,98,116,66,114,111,97,100,112,104,97,115,101,80,114,111,120,121,80,49,50,98,116,68,105,115,112,97,116,99,104,101,114,69,49,55,67,108,101,97,110,80,97,105,114,67,97,108,108,98,97,99,107,0,49,52,98,116,81,117,97,110,116,105,122,101,100,66,118,104,0,98,116,79,112,116,105,109,105,122,101,100,66,118,104,78,111,100,101,68,97,116,97,0,98,116,81,117,97,110,116,105,122,101,100,66,118,104,78,111,100,101,68,97,116,97,0,98,116,66,118,104,83,117,98,116,114,101,101,73,110,102,111,68,97,116,97,0,98,116,81,117,97,110,116,105,122,101,100,66,118,104,70,108,111,97,116,68,97,116,97,0,51,48,98,116,65,99,116,105,118,97,116,105,110,103,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,50,54,98,116,66,111,120,66,111,120,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,49,54,98,116,66,111,120,66,111,120,68,101,116,101,99,116,111,114,0,51,54,98,116,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,111,114,73,110,116,101,114,102,97,99,101,0,50,49,98,116,67,111,108,108,105,115,105,111,110,68,105,115,112,97,116,99,104,101,114,0,50,51,98,116,67,111,108,108,105,115,105,111,110,80,97,105,114,67,97,108,108,98,97,99,107,0,49,55,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,0,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,70,108,111,97,116,68,97,116,97,0,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,0,117,112,100,97,116,101,65,97,98,98,115,0,1,79,118,101,114,102,108,111,119,32,105,110,32,65,65,66,66,44,32,111,98,106,101,99,116,32,114,101,109,111,118,101,100,32,102,114,111,109,32,115,105,109,117,108,97,116,105,111,110,0,73,102,32,121,111,117,32,99,97,110,32,114,101,112,114,111,100,117,99,101,32,116,104,105,115,44,32,112,108,101,97,115,101,32,101,109,97,105,108,32,98,117,103,115,64,99,111,110,116,105,110,117,111,117,115,112,104,121,115,105,99,115,46,99,111,109,10,0,80,108,101,97,115,101,32,105,110,99,108,117,100,101,32,97,98,111,118,101,32,105,110,102,111,114,109,97,116,105,111,110,44,32,121,111,117,114,32,80,108,97,116,102,111,114,109,44,32,118,101,114,115,105,111,110,32,111,102,32,79,83,46,10,0,84,104,97,110,107,115,46,10,0,99,97,108,99,117,108,97,116,101,79,118,101,114,108,97,112,112,105,110,103,80,97,105,114,115,0,49,55,68,101,98,117,103,68,114,97,119,99,97,108,108,98,97,99,107,0,49,57,98,116,83,105,110,103,108,101,82,97,121,67,97,108,108,98,97,99,107,0,50,51,98,116,66,114,111,97,100,112,104,97,115,101,82,97,121,67,97,108,108,98,97,99,107,0,50,52,98,116,66,114,111,97,100,112,104,97,115,101,65,97,98,98,67,97,108,108,98,97,99,107,0,78,49,50,98,116,67,111,110,118,101,120,67,97,115,116,49,48,67,97,115,116,82,101,115,117,108,116,69,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,50,57,66,114,105,100,103,101,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,50,57,66,114,105,100,103,101,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,95,48,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,57,82,97,121,84,101,115,116,101,114,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,114,97,121,84,101,115,116,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,50,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,69,49,53,76,111,99,97,108,73,110,102,111,65,100,100,101,114,50,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,49,55,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,112,101,114],"i8",Je,ce.GLOBAL_BASE),ft([102,111,114,109,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,105,111,110,0,100,105,115,112,97,116,99,104,65,108,108,67,111,108,108,105,115,105,111,110,80,97,105,114,115,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,51,50,66,114,105,100,103,101,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,51,50,66,114,105,100,103,101,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,95,48,0,99,111,110,118,101,120,83,119,101,101,112,67,111,109,112,111,117,110,100,0,90,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,53,111,98,106,101,99,116,81,117,101,114,121,83,105,110,103,108,101,73,110,116,101,114,110,97,108,69,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,53,95,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,82,78,83,95,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,102,69,49,52,76,111,99,97,108,73,110,102,111,65,100,100,101,114,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,48,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,99,111,110,118,101,120,83,119,101,101,112,84,101,115,116,0,50,49,98,116,83,105,110,103,108,101,83,119,101,101,112,67,97,108,108,98,97,99,107,0,50,51,98,116,83,105,110,103,108,101,67,111,110,116,97,99,116,67,97,108,108,98,97,99,107,0,50,51,98,116,66,114,105,100,103,101,100,77,97,110,105,102,111,108,100,82,101,115,117,108,116,0,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,50,50,98,116,67,111,109,112,111,117,110,100,76,101,97,102,67,97,108,108,98,97,99,107,0,51,54,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,51,48,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,76,101,97,102,67,97,108,108,98,97,99,107,0,51,48,98,116,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,67,114,101,97,116,101,70,117,110,99,0,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,50,52,98,116,67,111,110,118,101,120,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,49,53,98,116,84,114,105,97,110,103,108,101,83,104,97,112,101,0,84,114,105,97,110,103,108,101,0,98,116,67,111,110,118,101,120,73,110,116,101,114,110,97,108,83,104,97,112,101,68,97,116,97,0,90,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,50,49,99,97,108,99,117,108,97,116,101,84,105,109,101,79,102,73,109,112,97,99,116,69,80,49,55,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,83,49,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,51,49,76,111,99,97,108,84,114,105,97,110,103,108,101,83,112,104,101,114,101,67,97,115,116,67,97,108,108,98,97,99,107,0,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,0,90,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,54,112,114,111,99,101,115,115,67,111,108,108,105,115,105,111,110,69,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,83,50,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,49,51,98,116,68,117,109,109,121,82,101,115,117,108,116,0,78,51,54,98,116,68,105,115,99,114,101,116,101,67,111,108,108,105,115,105,111,110,68,101,116,101,99,116,111,114,73,110,116,101,114,102,97,99,101,54,82,101,115,117,108,116,69,0,90,78,50,51,98,116,67,111,110,118,101,120,67,111,110,118,101,120,65,108,103,111,114,105,116,104,109,49,54,112,114,111,99,101,115,115,67,111,108,108,105,115,105,111,110,69,80,75,50,52,98,116,67,111,108,108,105,115,105,111,110,79,98,106,101,99,116,87,114,97,112,112,101,114,83,50,95,82,75,49,54,98,116,68,105,115,112,97,116,99,104,101,114,73,110,102,111,80,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,69,50,49,98,116,87,105,116,104,111,117,116,77,97,114,103,105,110,82,101,115,117,108,116,0,50,52,98,116,80,101,114,116,117,114,98,101,100,67,111,110,116,97,99,116,82,101,115,117,108,116,0,51,49,98,116,67,111,110,118,101,120,80,108,97,110,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,51,49,98,116,68,101,102,97,117,108,116,67,111,108,108,105,115,105,111,110,67,111,110,102,105,103,117,114,97,116,105,111,110,0,50,52,98,116,67,111,108,108,105,115,105,111,110,67,111,110,102,105,103,117,114,97,116,105,111,110,0,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,51,98,116,67,111,110,118,101,120,67,111,110,99,97,118,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,55,83,119,97,112,112,101,100,67,114,101,97,116,101,70,117,110,99,69,0,78,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,54,98,116,67,111,109,112,111,117,110,100,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,50,56,98,116,67,111,109,112,111,117,110,100,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,55,83,119,97,112,112,101,100,67,114,101,97,116,101,70,117,110,99,69,0,78,49,54,98,116,69,109,112,116,121,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,50,98,116,83,112,104,101,114,101,83,112,104,101,114,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,52,98,116,83,112,104,101,114,101,84,114,105,97,110,103,108,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,50,54,98,116,66,111,120,66,111,120,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,78,51,49,98,116,67,111,110,118,101,120,80,108,97,110,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,49,48,67,114,101,97,116,101,70,117,110,99,69,0,49,54,98,116,69,109,112,116,121,65,108,103,111,114,105,116,104,109,0,49,51,98,116,71,104,111,115,116,79,98,106,101,99,116,0,50,52,98,116,80,97,105,114,67,97,99,104,105,110,103,71,104,111,115,116,79,98,106,101,99,116,0,50,51,98,116,72,97,115,104,101,100,83,105,109,112,108,101,80,97,105,114,67,97,99,104,101,0,49,54,98,116,77,97,110,105,102,111,108,100,82,101,115,117,108,116,0,50,53,98,116,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,77,97,110,97,103,101,114,0,105,115,108,97,110,100,85,110,105,111,110,70,105,110,100,65,110,100,81,117,105,99,107,83,111,114,116,0,112,114,111,99,101,115,115,73,115,108,97,110,100,115,0,51,50,98,116,83,112,104,101,114,101,83,112,104,101,114,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,51,52,98,116,83,112,104,101,114,101,84,114,105,97,110,103,108,101,67,111,108,108,105,115,105,111,110,65,108,103,111,114,105,116,104,109,0,50,50,83,112,104,101,114,101,84,114,105,97,110,103,108,101,68,101,116,101,99,116,111,114,0,49,48,98,116,66,111,120,83,104,97,112,101,0,66,111,120,0,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,66,86,72,84,82,73,65,78,71,76,69,77,69,83,72,0,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,68,97,116,97,0,90,78,75,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,57,112,114,111,99,101,115,115,65,108,108,84,114,105,97,110,103,108,101,115,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,90,78,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,52,112,101,114,102,111,114,109,82,97,121,99,97,115,116,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,90,78,50,50,98,116,66,118,104,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,55,112,101,114,102,111,114,109,67,111,110,118,101,120,99,97,115,116,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,83,52,95,83,52,95,69,50,49,77,121,78,111,100,101,79,118,101,114,108,97,112,67,97,108,108,98,97,99,107,0,49,52,98,116,67,97,112,115,117,108,101,83,104,97,112,101,0,67,97,112,115,117,108,101,83,104,97,112,101,0,98,116,67,97,112,115,117,108,101,83,104,97,112,101,68,97,116,97,0,49,53,98,116,67,97,112,115,117,108,101,83,104,97,112,101,88,0,67,97,112,115,117,108,101,88,0,49,53,98,116,67,97,112,115,117,108,101,83,104,97,112,101,90,0,67,97,112,115,117,108,101,90,0,49,54,98,116,67,111,108,108,105,115,105,111,110,83,104,97,112,101,0,98,116,67,111,108,108,105,115,105,111,110,83,104,97,112,101,68,97,116,97,0,49,53,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,0,67,111,109,112,111,117,110,100,0,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,67,104,105,108,100,68,97,116,97,0,98,116,67,111,109,112,111,117,110,100,83,104,97,112,101,68,97,116,97,0,49,52,98,116,67,111,110,99,97,118,101,83,104,97,112,101,0,49,49,98,116,67,111,110,101,83,104,97,112,101,0,67,111,110,101,0,98,116,67,111,110,101,83,104,97,112,101,68,97,116,97,0,49,50,98,116,67,111,110,101,83,104,97,112,101,90,0,67,111,110,101,90,0,49,50,98,116,67,111,110,101,83,104,97,112,101,88,0,67,111,110,101,88,0,49,55,98,116,67,111,110,118,101,120,72,117,108,108,83,104,97,112,101,0,67,111,110,118,101,120,0,98,116,67,111,110,118,101,120,72,117,108,108,83,104,97,112,101,68,97,116,97,0,50,49,98,116,67,111,110,118,101,120,73,110,116,101,114,110,97,108,83,104,97,112,101,0,49,56,98,116,67,111,110,118,101,120,80,111,108,121,104,101,100,114,111,110,0,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,0,50,53,98,116,67,111,110,118,101,120,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,67,111,110,118,101,120,84,114,105,109,101,115,104,0,50,54,76,111,99,97,108,83,117,112,112,111,114,116,86,101,114,116,101,120,67,97,108,108,98,97,99,107,0,49,53,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,0,67,121,108,105,110,100,101,114,89,0,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,68,97,116,97,0,49,54,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,88,0,67,121,108,105,110,100,101,114,88,0,49,54,98,116,67,121,108,105,110,100,101,114,83,104,97,112,101,90,0,67,121,108,105,110,100,101,114,90,0,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,0,90,78,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,53,98,117,105,108,100,69,80,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,98,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,57,81,117,97,110,116,105,122,101,100,78,111,100,101,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,90,78,49,52,98,116,79,112,116,105,109,105,122,101,100,66,118,104,53,98,117,105,108,100,69,80,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,98,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,50,48,78,111,100,101,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,50,51,98,116,80,111,108,121,104,101,100,114,97,108,67,111,110,118,101,120,83,104,97,112,101,0,51,52,98,116,80,111,108,121,104,101,100,114,97,108,67,111,110,118,101,120,65,97,98,98,67,97,99,104,105,110,103,83,104,97,112,101,0,49,51,98,116,83,112,104,101,114,101,83,104,97,112,101,0,83,80,72,69,82,69,0,49,56,98,116,83,116,97,116,105,99,80,108,97,110,101,83,104,97,112,101,0,83,84,65,84,73,67,80,76,65,78,69,0,98,116,83,116,97,116,105,99,80,108,97,110,101,83,104,97,112,101,68,97,116,97,0,50,51,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,0,98,116,73,110,116,73,110,100,101,120,68,97,116,97,0,98,116,83,104,111,114,116,73,110,116,73,110,100,101,120,84,114,105,112,108,101,116,68,97,116,97,0,98,116,67,104,97,114,73,110,100,101,120,84,114,105,112,108,101,116,68,97,116,97,0,98,116,86,101,99,116,111,114,51,68,111,117,98,108,101,68,97,116,97,0,98,116,77,101,115,104,80,97,114,116,68,97,116,97,0,98,116,83,116,114,105,100,105,110,103,77,101,115,104,73,110,116,101,114,102,97,99,101,68,97,116,97,0,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,0,51,49,98,116,73,110,116,101,114,110,97,108,84,114,105,97,110,103,108,101,73,110,100,101,120,67,97,108,108,98,97,99,107,0,50,54,98,116,84,114,105,97,110,103,108,101,73,110,100,101,120,86,101,114,116,101,120,65,114,114,97,121,0,49,52,98,116,84,114,105,97,110,103,108,101,77,101,115,104,0,49,57,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,0,84,82,73,65,78,71,76,69,77,69,83,72,0,90,78,75,49,57,98,116,84,114,105,97,110,103,108,101,77,101,115,104,83,104,97,112,101,49,57,112,114,111,99,101,115,115,65,108,108,84,114,105,97,110,103,108,101,115,69,80,49,56,98,116,84,114,105,97,110,103,108,101,67,97,108,108,98,97,99,107,82,75,57,98,116,86,101,99,116,111,114,51,83,52,95,69,49,54,70,105,108,116,101,114,101,100,67,97,108,108,98,97,99,107,0,50,49,83,117,112,112,111,114,116,86,101,114,116,101,120,67,97,108,108,98,97,99,107,0,50,55,98,116,67,111,110,116,105,110,117,111,117,115,67,111,110,118,101,120,67,111,108,108,105,115,105,111,110,0,49,54,98,116,80,111,105,110,116,67,111,108,108,101,99,116,111,114,0,49,50,98,116,67,111,110,118,101,120,67,97,115,116,0,49,53,98,116,71,106,107,67,111,110,118,101,120,67,97,115,116,0,51,48,98,116,71,106,107,69,112,97,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,51,48,98,116,67,111,110,118,101,120,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,49,55,98,116,71,106,107,80,97,105,114,68,101,116,101,99,116,111,114,0,51,51,98,116,77,105,110,107,111,119,115,107,105,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,0,90,78,51,51,98,116,77,105,110,107,111,119,115,107,105,80,101,110,101,116,114,97,116,105,111,110,68,101,112,116,104,83,111,108,118,101,114,49,50,99,97,108,99,80,101,110,68,101,112,116,104,69,82,50,50,98,116,86,111,114,111,110,111,105,83,105,109,112,108,101,120,83,111,108,118,101,114,80,75,49,51,98,116,67,111,110,118,101,120,83,104,97,112,101,83,52,95,82,75,49,49,98,116,84,114,97,110,115,102,111,114,109,83,55,95,82,57,98,116,86,101,99,116,111,114,51,83,57,95,83,57,95,80,49,50,98,116,73,68,101,98,117,103,68,114,97,119,69,50,48,98,116,73,110,116,101,114,109,101,100,105,97,116,101,82,101,115,117,108,116,0,50,53,98,116,84,114,105,97,110,103,108,101,82,97,121,99,97,115,116,67,97,108,108,98,97,99,107,0,50,56,98,116,84,114,105,97,110,103,108,101,67,111,110,118,101,120,99,97,115,116,67,97,108,108,98,97,99,107,0,50,50,98,116,83,117,98,115,105,109,112,108,101,120,67,111,110,118,101,120,67,97,115,116,0,51,48,98,116,75,105,110,101,109,97,116,105,99,67,104,97,114,97,99,116,101,114,67,111,110,116,114,111,108,108,101,114,0,51,48,98,116,67,104,97,114,97,99,116,101,114,67,111,110,116,114,111,108,108,101,114,73,110,116,101,114,102,97,99,101,0,49,55,98,116,65,99,116,105,111,110,73,110,116,101,114,102,97,99,101,0,52,51,98,116,75,105,110,101,109,97,116,105,99,67,108,111,115,101,115,116,78,111,116,77,101,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,55,67,108,111,115,101,115,116,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,50,49,98,116,67,111,110,101,84,119,105,115,116,67,111,110,115,116,114,97,105,110,116,0,49,55,98,116,84,121,112,101,100,67,111,110,115,116,114,97,105,110,116,0,49,51,98,116,84,121,112,101,100,79,98,106,101,99,116,0,98,116,67,111,110,101,84,119,105,115,116,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,98,116,71,101,110,101,114,105,99,54,68,111,102,83,112,114,105,110,103,50,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,50,51,98,116,71,101,110,101,114,105,99,54,68,111,102,67,111,110,115,116,114,97,105,110,116,0,98,116,71,101,110,101,114,105,99,54,68,111,102,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,51,48,98,116,71,101,110,101,114,105,99,54,68,111,102,83,112,114,105,110,103,50,67,111,110,115,116,114,97,105,110,116,0,50,57,98,116,71,101,110,101,114,105,99,54,68,111,102,83,112,114,105,110,103,67,111,110,115,116,114,97,105,110,116,0,98,116,71,101,110,101,114,105,99,54,68,111,102,83,112,114,105,110,103,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,49,55,98,116,72,105,110,103,101,67,111,110,115,116,114,97,105,110,116,0,98,116,72,105,110,103,101,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,50,51,98,116,80,111,105,110,116,50,80,111,105,110,116,67,111,110,115,116,114,97,105,110,116,0,98,116,80,111,105,110,116,50,80,111,105,110,116,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,51,53,98,116,83,101,113,117,101,110,116,105,97,108,73,109,112,117,108,115,101,67,111,110,115,116,114,97,105,110,116,83,111,108,118,101,114,0,49,56,98,116,67,111,110,115,116,114,97,105,110,116,83,111,108,118,101,114,0,115,111,108,118,101,71,114,111,117,112,0,115,111,108,118,101,71,114,111,117,112,67,97,99,104,101,70,114,105,101,110,100,108,121,83,101,116,117,112,0,115,111,108,118,101,71,114,111,117,112,67,97,99,104,101,70,114,105,101,110,100,108,121,73,116,101,114,97,116,105,111,110,115,0,49,56,98,116,83,108,105,100,101,114,67,111,110,115,116,114,97,105,110,116,0,98,116,83,108,105,100,101,114,67,111,110,115,116,114,97,105,110,116,68,97,116,97,0,98,116,84,121,112,101,100,67,111,110,115,116,114,97,105,110,116,70,108,111,97,116,68,97,116,97,0,50,51,98,116,68,105,115,99,114,101,116,101,68,121,110,97,109,105,99,115,87,111,114,108,100,0,49,53,98,116,68,121,110,97,109,105,99,115,87,111,114,108,100,0,100,101,98,117,103,68,114,97,119,87,111,114,108,100,0,98,116,68,121,110,97,109,105,99,115,87,111,114,108,100,70,108,111,97,116,68,97,116,97,0,115,116,101,112,83,105,109,117,108,97,116,105,111,110,0,115,121,110,99,104,114,111,110,105,122,101,77,111,116,105,111,110,83,116,97,116,101,115,0,112,114,101,100,105,99,116,85,110,99,111,110,115,116,114,97,105,110,116,77,111,116,105,111,110,0,105,110,116,101,103,114,97,116,101,84,114,97,110,115,102,111,114,109,115,0,67,67,68,32,109,111,116,105,111,110,32,99,108,97,109,112,105,110,103,0,51,52,98,116,67,108,111,115,101,115,116,78,111,116,77,101,67,111,110,118,101,120,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,97,112,112,108,121,32,115,112,101,99,117,108,97,116,105,118,101,32,99,111,110,116,97,99,116,32,114,101,115,116,105,116,117,116,105,111,110,0,117,112,100,97,116,101,65,99,116,105,118,97,116,105,111,110,83,116,97,116,101,0,105,110,116,101,114,110,97,108,83,105,110,103,108,101,83,116,101,112,83,105,109,117,108,97,116,105,111,110,0,99,114,101,97,116,101,80,114,101,100,105,99,116,105,118,101,67,111,110,116,97,99,116,115,0,114,101,108,101,97,115,101,32,112,114,101,100,105,99,116,105,118,101,32,99,111,110,116,97,99,116,32,109,97,110,105,102,111,108,100,115,0,112,114,101,100,105,99,116,105,118,101,32,99,111,110,118,101,120,83,119,101,101,112,84,101,115,116,0,117,112,100,97,116,101,65,99,116,105,111,110,115,0,50,55,73,110,112,108,97,99,101,83,111,108,118,101,114,73,115,108,97,110,100,67,97,108,108,98,97,99,107,0,78,50,53,98,116,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,77,97,110,97,103,101,114,49,52,73,115,108,97,110,100,67,97,108,108,98,97,99,107,69,0,49,49,98,116,82,105,103,105,100,66,111,100,121,0,98,116,82,105,103,105,100,66,111,100,121,70,108,111,97,116,68,97,116,97,0,99,97,108,99,117,108,97,116,101,83,105,109,117,108,97,116,105,111,110,73,115,108,97,110,100,115,0,115,111,108,118,101,67,111,110,115,116,114,97,105,110,116,115,0,49,54,98,116,82,97,121,99,97,115,116,86,101,104,105,99,108,101,0,50,53,98,116,68,101,102,97,117,108,116,86,101,104,105,99,108,101,82,97,121,99,97,115,116,101,114,0,49,56,98,116,86,101,104,105,99,108,101,82,97,121,99,97,115,116,101,114,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,52,67,108,111,115,101,115,116,82,97,121,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,98,116,86,101,99,116,111,114,51,70,108,111,97,116,68,97,116,97,0,82,111,111,116,0,50,57,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,0,78,49,54,98,116,67,111,108,108,105,115,105,111,110,87,111,114,108,100,50,49,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,69,0,123,32,118,97,114,32,115,101,108,102,32,61,32,77,111,100,117,108,101,91,39,103,101,116,67,97,99,104,101,39,93,40,77,111,100,117,108,101,91,39,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,39,93,41,91,36,48,93,59,32,105,102,32,40,33,115,101,108,102,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,39,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,39,41,41,32,116,104,114,111,119,32,39,97,32,74,83,73,109,112,108,101,109,101,110,116,97,116,105,111,110,32,109,117,115,116,32,105,109,112,108,101,109,101,110,116,32,97,108,108,32,102,117,110,99,116,105,111,110,115,44,32,121,111,117,32,102,111,114,103,111,116,32,67,111,110,99,114,101,116,101,67,111,110,116,97,99,116,82,101,115,117,108,116,67,97,108,108,98,97,99,107,58,58,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,46,39,59,32,114,101,116,117,114,110,32,115,101,108,102,91,39,97,100,100,83,105,110,103,108,101,82,101,115,117,108,116,39,93,40,36,49,44,36,50,44,36,51,44,36,52,44,36,53,44,36,54,44,36,55,41,59,32,125,0,50,48,98,116,68,101,102,97,117,108,116,77,111,116,105,111,110,83,116,97,116,101,0,49,51,98,116,77,111,116,105,111,110,83,116,97,116,101,0,49,57,98,116,71,104,111,115,116,80,97,105,114,67,97,108,108,98,97,99,107,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,45,43,32,32,32,48,88,48,120,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,46,0,99,97,110,110,111,116,32,122,101,114,111,32,111,117,116,32,116,104,114,101,97,100,32,118,97,108,117,101,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,99,97,110,110,111,116,32,99,114,101,97,116,101,32,112,116,104,114,101,97,100,32,107,101,121,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,112,116,104,114,101,97,100,95,111,110,99,101,32,102,97,105,108,117,114,101,32,105,110,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,95,102,97,115,116,40,41,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,83,116,57,116,121,112,101,95,105,110,102,111,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,83,116,57,101,120,99,101,112,116,105,111,110,0,117,110,99,97,117,103,104,116,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,58,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,102,111,114,101,105,103,110,32,101,120,99,101,112,116,105,111,110,0,116,101,114,109,105,110,97,116,105,110,103,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,114,101,116,117,114,110,101,100,0,83,116,57,98,97,100,95,97,108,108,111,99,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,57,95,95,112,111,105,110,116,101,114,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,112,98,97,115,101,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0],"i8",Je,ce.GLOBAL_BASE+10240);var Zl=b0;b0+=16,_._i64Subtract=UT,_._i64Add=vE;function ho(){return!!ho.uncaught_exception}var R2={last:0,caught:[],infos:{},deAdjust:(function(x){if(!x||R2.infos[x])return x;for(var I in R2.infos){var le=R2.infos[I];if(le.adjusted===x)return I}return x}),addRef:(function(x){if(x){var I=R2.infos[x];I.refcount++}}),decRef:(function(x){if(x){var I=R2.infos[x];re(I.refcount>0),I.refcount--,I.refcount===0&&(I.destructor&&ce.dynCall("vi",I.destructor,[x]),delete R2.infos[x],___cxa_free_exception(x))}}),clearRef:(function(x){if(x){var I=R2.infos[x];I.refcount=0}})};function Ql(x){throw R2.last||(R2.last=x),R2.clearRef(R2.deAdjust(x)),x+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function Xo(){var x=R2.last;if(!x)return J.setTempRet0(0),0|0;var I=R2.infos[x],le=I.type;if(!le)return J.setTempRet0(0),x|0;var R=Array.prototype.slice.call(arguments);_.___cxa_is_pointer_type(le),Xo.buffer||(Xo.buffer=$o(4)),J0[Xo.buffer>>2]=x,x=Xo.buffer;for(var ee=0;ee<R.length;ee++)if(R[ee]&&_.___cxa_can_catch(R[ee],le,x))return x=J0[x>>2],I.adjusted=x,J.setTempRet0(R[ee]),x|0;return x=J0[x>>2],J.setTempRet0(le),x|0}function Jl(x,I,le){throw R2.infos[x]={ptr:x,adjusted:x,type:I,destructor:le,refcount:0},R2.last=x,"uncaught_exception"in ho?ho.uncaught_exception++:ho.uncaught_exception=1,x+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}_._memset=Bb;function Ue(){}_._bitshift64Shl=mw;function pt(){_.abort()}function At(x,I){At.seen||(At.seen={}),!(x in At.seen)&&(ce.dynCall("v",I),At.seen[x]=1)}var Nt={};function xt(x){return Nt[x]||0}var l0=1,M0={EINVAL:22};function W0(x,I){return x==0?M0.EINVAL:(J0[x>>2]=l0,Nt[l0]=0,l0++,0)}var L0=ua;function di(x,I){return x in Nt?(Nt[x]=I,0):M0.EINVAL}function $o(x){var I=ce.dynamicAlloc(x+8);return I+8&4294967288}_._malloc=$o;function Ci(x){return $o(x)}_._bitshift64Ashr=yM,_._bitshift64Lshr=eN;function $0(){throw ue=!0,"Pure virtual function called!"}function Ui(x,I){c0.push((function(){ce.dynCall("vi",x,[I])})),Ui.level=c0.length}function mn(){re(Ui.level==c0.length,"cannot pop if something else added meanwhile!"),c0.pop(),Ui.level=c0.length}function Zn(x){return ho.uncaught_exception--,R2.caught.push(x),R2.addRef(R2.deAdjust(x)),x}function Wn(x,I,le){return A0.set(A0.subarray(I,I+le),x),x}_._memcpy=dN;var Ni={varargs:0,get:(function(x){Ni.varargs+=4;var I=J0[Ni.varargs-4>>2];return I}),getStr:(function(){var x=Et(Ni.get());return x}),get64:(function(){var x=Ni.get(),I=Ni.get();return x>=0?re(I===0):re(I===-1),x}),getZero:(function(){re(Ni.get()===0)})};function pi(x,I){Ni.varargs=I;try{var le=Ni.getStreamFromFD();return FS.close(le),0}catch(R){return(typeof FS>"u"||!(R instanceof FS.ErrnoError))&&Ts(R),-R.errno}}function bn(x){var I=bn;I.called||(Pe=dt(Pe),I.called=!0,re(ce.dynamicAlloc),I.alloc=ce.dynamicAlloc,ce.dynamicAlloc=(function(){Ts("cannot dynamically allocate, sbrk now has control")}));var le=Pe;if(x!=0){var R=I.alloc(x);if(!R)return 4294967295}return le}_._memmove=Xw;function en(x){var I=Date.now();return J0[x>>2]=I/1e3|0,J0[x+4>>2]=I%1e3*1e3|0,0}_._llvm_bswap_i32=xb;function cn(){Ts("trap!")}_._pthread_self=c7;function Fs(x,I){Ni.varargs=I;try{var le=Ni.getStreamFromFD(),R=Ni.get(),ee=Ni.get(),e=Ni.get(),It=Ni.get(),Le=ee;return re(R===0),FS.llseek(le,Le,It),J0[e>>2]=le.position,le.getdents&&Le===0&&It===0&&(le.getdents=null),0}catch(Ii){return(typeof FS>"u"||!(Ii instanceof FS.ErrnoError))&&Ts(Ii),-Ii.errno}}function f2(x,I){Ni.varargs=I;try{var le=Ni.get(),R=Ni.get(),ee=Ni.get(),e=0;f2.buffer||(f2.buffers=[null,[],[]],f2.printChar=(function(Mt,H){var mr=f2.buffers[Mt];re(mr),H===0||H===10?((Mt===1?_.print:_.printErr)(Wt(mr,0)),mr.length=0):mr.push(H)}));for(var It=0;It<ee;It++){for(var Le=J0[R+It*8>>2],Ii=J0[R+(It*8+4)>>2],i=0;i<Ii;i++)f2.printChar(le,A0[Le+i]);e+=Ii}return e}catch(Mt){return(typeof FS>"u"||!(Mt instanceof FS.ErrnoError))&&Ts(Mt),-Mt.errno}}c0.push((function(){var x=_._fflush;x&&x(0);var I=f2.printChar;if(I){var le=f2.buffers;le[1].length&&I(1,10),le[2].length&&I(2,10)}})),ri=si=ce.alignMemory(b0),Bn=!0,Ye=ri+Jt,Pe=ce.alignMemory(Ye);var mo=ft([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",Ie);function On(x,I,le,R,ee,e){try{_.dynCall_viiiii(x,I,le,R,ee,e)}catch(It){if(typeof It!="number"&&It!=="longjmp")throw It;J.setThrew(1,0)}}function G2(x,I,le){try{_.dynCall_vid(x,I,le)}catch(R){if(typeof R!="number"&&R!=="longjmp")throw R;J.setThrew(1,0)}}function er(x,I){try{_.dynCall_vi(x,I)}catch(le){if(typeof le!="number"&&le!=="longjmp")throw le;J.setThrew(1,0)}}function A2(x,I,le,R,ee,e,It){try{_.dynCall_viiidii(x,I,le,R,ee,e,It)}catch(Le){if(typeof Le!="number"&&Le!=="longjmp")throw Le;J.setThrew(1,0)}}function tr(x,I,le){try{_.dynCall_vii(x,I,le)}catch(R){if(typeof R!="number"&&R!=="longjmp")throw R;J.setThrew(1,0)}}function _a(x,I,le,R,ee,e,It,Le,Ii,i,Mt){try{return _.dynCall_iiiiiiiiiii(x,I,le,R,ee,e,It,Le,Ii,i,Mt)}catch(H){if(typeof H!="number"&&H!=="longjmp")throw H;J.setThrew(1,0)}}function ei(x,I){try{return _.dynCall_ii(x,I)}catch(le){if(typeof le!="number"&&le!=="longjmp")throw le;J.setThrew(1,0)}}function cc(x,I,le,R,ee){try{_.dynCall_viidi(x,I,le,R,ee)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;J.setThrew(1,0)}}function Re(x,I,le,R,ee,e,It){try{_.dynCall_viddiii(x,I,le,R,ee,e,It)}catch(Le){if(typeof Le!="number"&&Le!=="longjmp")throw Le;J.setThrew(1,0)}}function Me(x,I,le,R,ee){try{_.dynCall_vidii(x,I,le,R,ee)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;J.setThrew(1,0)}}function Ve(x,I,le,R,ee){try{return _.dynCall_iiiii(x,I,le,R,ee)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;J.setThrew(1,0)}}function Fe(x,I,le,R){try{_.dynCall_vidi(x,I,le,R)}catch(ee){if(typeof ee!="number"&&ee!=="longjmp")throw ee;J.setThrew(1,0)}}function ze(x,I,le,R,ee,e,It,Le,Ii){try{return _.dynCall_diiiiiiii(x,I,le,R,ee,e,It,Le,Ii)}catch(i){if(typeof i!="number"&&i!=="longjmp")throw i;J.setThrew(1,0)}}function Pt(x,I,le,R,ee,e,It,Le,Ii,i,Mt,H){try{_.dynCall_viiiiddddiid(x,I,le,R,ee,e,It,Le,Ii,i,Mt,H)}catch(mr){if(typeof mr!="number"&&mr!=="longjmp")throw mr;J.setThrew(1,0)}}function qt(x,I,le,R,ee,e){try{return _.dynCall_diiiii(x,I,le,R,ee,e)}catch(It){if(typeof It!="number"&&It!=="longjmp")throw It;J.setThrew(1,0)}}function k0(x,I,le,R){try{return _.dynCall_iiii(x,I,le,R)}catch(ee){if(typeof ee!="number"&&ee!=="longjmp")throw ee;J.setThrew(1,0)}}function x0(x,I,le,R,ee,e,It){try{_.dynCall_viiiiii(x,I,le,R,ee,e,It)}catch(Le){if(typeof Le!="number"&&Le!=="longjmp")throw Le;J.setThrew(1,0)}}function E0(x,I,le,R){try{return _.dynCall_iiid(x,I,le,R)}catch(ee){if(typeof ee!="number"&&ee!=="longjmp")throw ee;J.setThrew(1,0)}}function Q0(x,I){try{return _.dynCall_di(x,I)}catch(le){if(typeof le!="number"&&le!=="longjmp")throw le;J.setThrew(1,0)}}function i0(x,I,le,R,ee,e,It){try{return _.dynCall_iiiiiii(x,I,le,R,ee,e,It)}catch(Le){if(typeof Le!="number"&&Le!=="longjmp")throw Le;J.setThrew(1,0)}}function Y0(x,I,le,R,ee,e,It){try{return _.dynCall_diiidii(x,I,le,R,ee,e,It)}catch(Le){if(typeof Le!="number"&&Le!=="longjmp")throw Le;J.setThrew(1,0)}}function H0(x,I,le,R,ee,e){try{_.dynCall_viidii(x,I,le,R,ee,e)}catch(It){if(typeof It!="number"&&It!=="longjmp")throw It;J.setThrew(1,0)}}function mi(x,I,le,R,ee,e,It,Le){try{_.dynCall_viiiiiii(x,I,le,R,ee,e,It,Le)}catch(Ii){if(typeof Ii!="number"&&Ii!=="longjmp")throw Ii;J.setThrew(1,0)}}function oi(x,I,le,R,ee,e,It,Le,Ii,i){try{_.dynCall_viiiiiiiii(x,I,le,R,ee,e,It,Le,Ii,i)}catch(Mt){if(typeof Mt!="number"&&Mt!=="longjmp")throw Mt;J.setThrew(1,0)}}function s2(x,I,le,R,ee,e,It,Le,Ii,i,Mt){try{_.dynCall_viiiiiiiiii(x,I,le,R,ee,e,It,Le,Ii,i,Mt)}catch(H){if(typeof H!="number"&&H!=="longjmp")throw H;J.setThrew(1,0)}}function Mn(x,I,le){try{return _.dynCall_iii(x,I,le)}catch(R){if(typeof R!="number"&&R!=="longjmp")throw R;J.setThrew(1,0)}}function fn(x,I,le,R){try{return _.dynCall_diii(x,I,le,R)}catch(ee){if(typeof ee!="number"&&ee!=="longjmp")throw ee;J.setThrew(1,0)}}function _n(x,I,le,R,ee,e,It,Le,Ii,i,Mt){try{return _.dynCall_diiiiiiiiii(x,I,le,R,ee,e,It,Le,Ii,i,Mt)}catch(H){if(typeof H!="number"&&H!=="longjmp")throw H;J.setThrew(1,0)}}function Ks(x,I,le,R,ee,e){try{_.dynCall_viiiid(x,I,le,R,ee,e)}catch(It){if(typeof It!="number"&&It!=="longjmp")throw It;J.setThrew(1,0)}}function br(x,I,le,R,ee,e,It,Le,Ii,i){try{return _.dynCall_diiiiiiiii(x,I,le,R,ee,e,It,Le,Ii,i)}catch(Mt){if(typeof Mt!="number"&&Mt!=="longjmp")throw Mt;J.setThrew(1,0)}}function P1(x,I,le){try{return _.dynCall_did(x,I,le)}catch(R){if(typeof R!="number"&&R!=="longjmp")throw R;J.setThrew(1,0)}}function Vp(x,I,le,R,ee,e,It,Le,Ii,i,Mt,H,mr){try{_.dynCall_viiiidddddidi(x,I,le,R,ee,e,It,Le,Ii,i,Mt,H,mr)}catch(Z){if(typeof Z!="number"&&Z!=="longjmp")throw Z;J.setThrew(1,0)}}function Df(x,I,le,R,ee,e){try{return _.dynCall_diidii(x,I,le,R,ee,e)}catch(It){if(typeof It!="number"&&It!=="longjmp")throw It;J.setThrew(1,0)}}function av(x,I,le,R,ee){try{return _.dynCall_diiii(x,I,le,R,ee)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;J.setThrew(1,0)}}function cv(x,I,le,R,ee,e,It,Le,Ii,i){try{return _.dynCall_iiiiiiiiii(x,I,le,R,ee,e,It,Le,Ii,i)}catch(Mt){if(typeof Mt!="number"&&Mt!=="longjmp")throw Mt;J.setThrew(1,0)}}function lv(x,I,le,R,ee){try{_.dynCall_viiid(x,I,le,R,ee)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;J.setThrew(1,0)}}function uv(x,I,le,R){try{_.dynCall_viii(x,I,le,R)}catch(ee){if(typeof ee!="number"&&ee!=="longjmp")throw ee;J.setThrew(1,0)}}function fv(x){try{_.dynCall_v(x)}catch(I){if(typeof I!="number"&&I!=="longjmp")throw I;J.setThrew(1,0)}}function _v(x,I,le,R){try{_.dynCall_viid(x,I,le,R)}catch(ee){if(typeof ee!="number"&&ee!=="longjmp")throw ee;J.setThrew(1,0)}}function pv(x,I,le,R,ee){try{return _.dynCall_iidid(x,I,le,R,ee)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;J.setThrew(1,0)}}function hv(x,I,le,R,ee){try{_.dynCall_viiii(x,I,le,R,ee)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;J.setThrew(1,0)}}_.asmGlobalArg={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:1/0},_.asmLibraryArg={abort:Ts,assert:re,invoke_viiiii:On,invoke_vid:G2,invoke_vi:er,invoke_viiidii:A2,invoke_vii:tr,invoke_iiiiiiiiiii:_a,invoke_ii:ei,invoke_viidi:cc,invoke_viddiii:Re,invoke_vidii:Me,invoke_iiiii:Ve,invoke_vidi:Fe,invoke_diiiiiiii:ze,invoke_viiiiddddiid:Pt,invoke_diiiii:qt,invoke_iiii:k0,invoke_viiiiii:x0,invoke_iiid:E0,invoke_di:Q0,invoke_iiiiiii:i0,invoke_diiidii:Y0,invoke_viidii:H0,invoke_viiiiiii:mi,invoke_viiiiiiiii:oi,invoke_viiiiiiiiii:s2,invoke_iii:Mn,invoke_diii:fn,invoke_diiiiiiiiii:_n,invoke_viiiid:Ks,invoke_diiiiiiiii:br,invoke_did:P1,invoke_viiiidddddidi:Vp,invoke_diidii:Df,invoke_diiii:av,invoke_iiiiiiiiii:cv,invoke_viiid:lv,invoke_viii:uv,invoke_v:fv,invoke_viid:_v,invoke_iidid:pv,invoke_viiii:hv,_pthread_cleanup_pop:mn,_abort:pt,___gxx_personality_v0:Ue,___cxa_allocate_exception:Ci,__ZSt18uncaught_exceptionv:ho,_sbrk:bn,_llvm_pow_f32:L0,___cxa_begin_catch:Zn,_emscripten_memcpy_big:Wn,___resumeException:Ql,___cxa_find_matching_catch:Xo,_pthread_getspecific:xt,_pthread_once:At,_llvm_trap:cn,_pthread_key_create:W0,_emscripten_asm_const_diiiiiiii:ac,_pthread_setspecific:di,___cxa_throw:Jl,___syscall6:pi,_pthread_cleanup_push:Ui,_gettimeofday:en,___syscall140:Fs,___cxa_pure_virtual:$0,___syscall146:f2,STACKTOP:si,STACK_MAX:Ye,tempDoublePtr:Zl,ABORT:ue,cttz_i8:mo};var J=(function(x,I,le){var R=new x.Int8Array(le),ee=new x.Int16Array(le),e=new x.Int32Array(le),It=new x.Uint8Array(le),Le=new x.Uint16Array(le),Ii=new x.Uint32Array(le),i=new x.Float32Array(le),Mt=new x.Float64Array(le),H=I.STACKTOP|0,mr=I.STACK_MAX|0,Z=I.tempDoublePtr|0,j3e=I.ABORT|0,If=I.cttz_i8|0,A8=0,mI=0,q3e=0,X3e=0,$3e=x.NaN,Y3e=x.Infinity,K3e=0,Z3e=0,Q3e=0,J3e=0,e5e=0,t5e=0,i5e=0,n5e=0,r5e=0,Ge=0,s5e=0,o5e=0,a5e=0,c5e=0,l5e=0,u5e=0,f5e=0,_5e=0,p5e=0,h5e=x.Math.floor,ht=x.Math.abs,ot=x.Math.sqrt,E8=x.Math.pow,C2=x.Math.cos,E2=x.Math.sin,d5e=x.Math.tan,L1=x.Math.acos,ha=x.Math.asin,m5e=x.Math.atan,gn=x.Math.atan2,g5e=x.Math.exp,x5e=x.Math.log,y5e=x.Math.ceil,Rt=x.Math.imul,v5e=x.Math.min,uc=x.Math.clz32,Xi=I.abort,S5e=I.assert,C5e=I.invoke_viiiii,T5e=I.invoke_vid,w5e=I.invoke_vi,M5e=I.invoke_viiidii,R5e=I.invoke_vii,A5e=I.invoke_iiiiiiiiiii,E5e=I.invoke_ii,N5e=I.invoke_viidi,b5e=I.invoke_viddiii,D5e=I.invoke_vidii,I5e=I.invoke_iiiii,P5e=I.invoke_vidi,L5e=I.invoke_diiiiiiii,k5e=I.invoke_viiiiddddiid,F5e=I.invoke_diiiii,B5e=I.invoke_iiii,U5e=I.invoke_viiiiii,O5e=I.invoke_iiid,G5e=I.invoke_di,V5e=I.invoke_iiiiiii,z5e=I.invoke_diiidii,W5e=I.invoke_viidii,H5e=I.invoke_viiiiiii,j5e=I.invoke_viiiiiiiii,q5e=I.invoke_viiiiiiiiii,X5e=I.invoke_iii,$5e=I.invoke_diii,Y5e=I.invoke_diiiiiiiiii,K5e=I.invoke_viiiid,Z5e=I.invoke_diiiiiiiii,Q5e=I.invoke_did,J5e=I.invoke_viiiidddddidi,ege=I.invoke_diidii,tge=I.invoke_diiii,ige=I.invoke_iiiiiiiiii,nge=I.invoke_viiid,rge=I.invoke_viii,sge=I.invoke_v,oge=I.invoke_viid,age=I.invoke_iidid,cge=I.invoke_viiii,lge=I._pthread_cleanup_pop,v0=I._abort,uge=I.___gxx_personality_v0,L2=I.___cxa_allocate_exception,fge=I.__ZSt18uncaught_exceptionv,da=I._sbrk,_ge=I._llvm_pow_f32,gI=I.___cxa_begin_catch,xI=I._emscripten_memcpy_big,pge=I.___resumeException,hge=I.___cxa_find_matching_catch,N8=I._pthread_getspecific,b8=I._pthread_once,yI=I._llvm_trap,vI=I._pthread_key_create,SI=I._emscripten_asm_const_diiiiiiii,CI=I._pthread_setspecific,k2=I.___cxa_throw,TI=I.___syscall6,dge=I._pthread_cleanup_push,Cn=I._gettimeofday,wI=I.___syscall140,MI=I.___cxa_pure_virtual,RI=I.___syscall146,mge=0;function AI(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0;w=H,H=H+16|0,e[5637]=(e[5637]|0)+1,o=Xe(1479)|0,o?(e[(o+4+15&-16)+-4>>2]=o,C=o+4+15&-16):C=0,R[19880]|0||(R[19880]=1,e[w>>2]=0,e[w+4>>2]=0,e[w+8>>2]=0,e[w+12>>2]=0,eu(21260,0,0,0,w)),e[5366]=e[5366]|1,i[5407]=0,M=+i[5417]*0,E=+i[5418]*0,i[5412]=+i[5416]*0,i[5413]=M,i[5414]=E,i[5415]=0,e[5420]=0,e[5421]=0,e[5422]=0,e[5423]=0,E=+i[5409]*0,M=+i[5410]*0,i[5461]=+i[5408]*0,i[5462]=E,i[5463]=M,i[5464]=0,e[C+4>>2]=12,e[C+8>>2]=-1,e[C+12>>2]=-1,i[C+16>>2]=34028234663852886e22,R[C+20>>0]=1,R[C+21>>0]=0,e[C+24>>2]=-1,p=C+28|0,e[p>>2]=21260,h=C+32|0,e[h>>2]=t,i[C+36>>2]=0,i[C+40>>2]=.30000001192092896,e[C+44>>2]=0,e[C>>2]=7300,d=C+112|0,e[d>>2]=e[n>>2],e[d+4>>2]=e[n+4>>2],e[d+8>>2]=e[n+8>>2],e[d+12>>2]=e[n+12>>2],m=C+128|0,e[m>>2]=e[n+16>>2],e[m+4>>2]=e[n+16+4>>2],e[m+8>>2]=e[n+16+8>>2],e[m+12>>2]=e[n+16+12>>2],g=C+144|0,e[g>>2]=e[n+32>>2],e[g+4>>2]=e[n+32+4>>2],e[g+8>>2]=e[n+32+8>>2],e[g+12>>2]=e[n+32+12>>2],S=C+160|0,e[S>>2]=e[n+48>>2],e[S+4>>2]=e[n+48+4>>2],e[S+8>>2]=e[n+48+8>>2],e[S+12>>2]=e[n+48+12>>2],o=C+728|0,n=C+760|0,a=C+908|0,l=C+680|0,u=l+48|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(u|0));e[o>>2]=1045220557,e[C+732>>2]=1045220557,e[C+736>>2]=1045220557,l=C+740|0,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,e[l+16>>2]=0,e[n>>2]=1063675494,e[C+764>>2]=1063675494,e[C+768>>2]=1063675494,l=C+772|0,i[C+804>>2]=0,i[C+820>>2]=0,R[C+836>>0]=0,i[C+840>>2]=0,R[C+856>>0]=0,i[C+860>>2]=0,i[C+876>>2]=0,i[C+892>>2]=0,i[C+808>>2]=0,i[C+824>>2]=0,R[C+837>>0]=0,i[C+844>>2]=0,R[C+857>>0]=0,i[C+864>>2]=0,i[C+880>>2]=0,i[C+896>>2]=0,i[C+812>>2]=0,i[C+828>>2]=0,R[C+838>>0]=0,i[C+848>>2]=0,R[C+858>>0]=0,i[C+868>>2]=0,i[C+884>>2]=0,i[C+900>>2]=0,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,e[l+16>>2]=0,e[l+20>>2]=0,e[l+24>>2]=0,R[l+28>>0]=0,l=a,u=l+60|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(u|0));return i[C+968>>2]=1,i[C+972>>2]=-1,i[C+976>>2]=0,i[C+980>>2]=.20000000298023224,i[C+984>>2]=0,i[C+988>>2]=.8999999761581421,i[C+992>>2]=0,R[C+996>>0]=0,i[C+1e3>>2]=0,i[C+1004>>2]=.10000000149011612,R[C+1008>>0]=0,i[C+1012>>2]=0,R[C+1016>>0]=0,i[C+1020>>2]=0,R[C+1024>>0]=0,i[C+1028>>2]=0,R[C+1032>>0]=0,u=C+1036|0,e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,e[u+12>>2]=0,e[u+16>>2]=0,i[C+1056>>2]=1,i[C+1060>>2]=-1,i[C+1064>>2]=0,i[C+1068>>2]=.20000000298023224,i[C+1072>>2]=0,i[C+1076>>2]=.8999999761581421,i[C+1080>>2]=0,R[C+1084>>0]=0,i[C+1088>>2]=0,i[C+1092>>2]=.10000000149011612,R[C+1096>>0]=0,i[C+1100>>2]=0,R[C+1104>>0]=0,i[C+1108>>2]=0,R[C+1112>>0]=0,i[C+1116>>2]=0,R[C+1120>>0]=0,u=C+1124|0,e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,e[u+12>>2]=0,e[u+16>>2]=0,i[C+1144>>2]=1,i[C+1148>>2]=-1,i[C+1152>>2]=0,i[C+1156>>2]=.20000000298023224,i[C+1160>>2]=0,i[C+1164>>2]=.8999999761581421,i[C+1168>>2]=0,R[C+1172>>0]=0,i[C+1176>>2]=0,i[C+1180>>2]=.10000000149011612,R[C+1184>>0]=0,i[C+1188>>2]=0,R[C+1192>>0]=0,i[C+1196>>2]=0,R[C+1200>>0]=0,i[C+1204>>2]=0,R[C+1208>>0]=0,u=C+1212|0,e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,e[u+12>>2]=0,e[u+16>>2]=0,e[C+1232>>2]=s,e[C+1456>>2]=0,q=+i[d>>2],pe=+i[t+4>>2],$=+i[m>>2],_e=+i[t+8>>2],Y=+i[g>>2],te=+i[t+12>>2],z=+i[C+116>>2],O=+i[C+132>>2],G=+i[C+148>>2],U=+i[C+120>>2],F=+i[C+136>>2],B=+i[C+152>>2],W=+i[t+20>>2],ne=+i[t+24>>2],X=+i[t+28>>2],P=+i[t+36>>2],L=+i[t+40>>2],b=+i[t+44>>2],me=+i[S>>2],he=+i[C+164>>2],E=+i[C+168>>2],D=+i[t+52>>2]+(pe*me+_e*he+te*E),M=W*me+ne*he+X*E+ +i[t+56>>2],E=P*me+L*he+b*E+ +i[t+60>>2],i[C+48>>2]=q*pe+$*_e+Y*te,i[C+52>>2]=pe*z+_e*O+te*G,i[C+56>>2]=pe*U+_e*F+te*B,i[C+60>>2]=0,i[C+64>>2]=q*W+$*ne+Y*X,i[C+68>>2]=z*W+O*ne+G*X,i[C+72>>2]=U*W+F*ne+B*X,i[C+76>>2]=0,i[C+80>>2]=q*P+$*L+Y*b,i[C+84>>2]=z*P+O*L+G*b,i[C+88>>2]=U*P+F*L+B*b,i[C+92>>2]=0,i[C+96>>2]=D,i[C+100>>2]=M,i[C+104>>2]=E,i[C+108>>2]=0,xh(C,(e[p>>2]|0)+4|0,(e[h>>2]|0)+4|0),H=w,C|0}function EI(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0;e[5637]=(e[5637]|0)+1,l=Xe(1479)|0,l?(e[(l+4+15&-16)+-4>>2]=l,h=l+4+15&-16):h=0,e[h+4>>2]=12,e[h+8>>2]=-1,e[h+12>>2]=-1,i[h+16>>2]=34028234663852886e22,R[h+20>>0]=1,R[h+21>>0]=0,e[h+24>>2]=-1,p=h+28|0,e[p>>2]=t,u=h+32|0,e[u>>2]=n,i[h+36>>2]=0,i[h+40>>2]=.30000001192092896,e[h+44>>2]=0,e[h>>2]=7300,l=h+48|0,e[l>>2]=e[s>>2],e[l+4>>2]=e[s+4>>2],e[l+8>>2]=e[s+8>>2],e[l+12>>2]=e[s+12>>2],l=h+64|0,e[l>>2]=e[s+16>>2],e[l+4>>2]=e[s+16+4>>2],e[l+8>>2]=e[s+16+8>>2],e[l+12>>2]=e[s+16+12>>2],l=h+80|0,e[l>>2]=e[s+32>>2],e[l+4>>2]=e[s+32+4>>2],e[l+8>>2]=e[s+32+8>>2],e[l+12>>2]=e[s+32+12>>2],l=h+96|0,e[l>>2]=e[s+48>>2],e[l+4>>2]=e[s+48+4>>2],e[l+8>>2]=e[s+48+8>>2],e[l+12>>2]=e[s+48+12>>2],l=h+112|0,e[l>>2]=e[o>>2],e[l+4>>2]=e[o+4>>2],e[l+8>>2]=e[o+8>>2],e[l+12>>2]=e[o+12>>2],l=h+128|0,e[l>>2]=e[o+16>>2],e[l+4>>2]=e[o+16+4>>2],e[l+8>>2]=e[o+16+8>>2],e[l+12>>2]=e[o+16+12>>2],l=h+144|0,e[l>>2]=e[o+32>>2],e[l+4>>2]=e[o+32+4>>2],e[l+8>>2]=e[o+32+8>>2],e[l+12>>2]=e[o+32+12>>2],l=h+160|0,e[l>>2]=e[o+48>>2],e[l+4>>2]=e[o+48+4>>2],e[l+8>>2]=e[o+48+8>>2],e[l+12>>2]=e[o+48+12>>2],l=h+728|0,t=h+760|0,n=h+908|0,s=h+680|0,o=s+48|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(o|0));e[l>>2]=1045220557,e[h+732>>2]=1045220557,e[h+736>>2]=1045220557,s=h+740|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[s+16>>2]=0,e[t>>2]=1063675494,e[h+764>>2]=1063675494,e[h+768>>2]=1063675494,s=h+772|0,i[h+804>>2]=0,i[h+820>>2]=0,R[h+836>>0]=0,i[h+840>>2]=0,R[h+856>>0]=0,i[h+860>>2]=0,i[h+876>>2]=0,i[h+892>>2]=0,i[h+808>>2]=0,i[h+824>>2]=0,R[h+837>>0]=0,i[h+844>>2]=0,R[h+857>>0]=0,i[h+864>>2]=0,i[h+880>>2]=0,i[h+896>>2]=0,i[h+812>>2]=0,i[h+828>>2]=0,R[h+838>>0]=0,i[h+848>>2]=0,R[h+858>>0]=0,i[h+868>>2]=0,i[h+884>>2]=0,i[h+900>>2]=0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[s+16>>2]=0,e[s+20>>2]=0,e[s+24>>2]=0,R[s+28>>0]=0,s=n,o=s+60|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(o|0));return i[h+968>>2]=1,i[h+972>>2]=-1,i[h+976>>2]=0,i[h+980>>2]=.20000000298023224,i[h+984>>2]=0,i[h+988>>2]=.8999999761581421,i[h+992>>2]=0,R[h+996>>0]=0,i[h+1e3>>2]=0,i[h+1004>>2]=.10000000149011612,R[h+1008>>0]=0,i[h+1012>>2]=0,R[h+1016>>0]=0,i[h+1020>>2]=0,R[h+1024>>0]=0,i[h+1028>>2]=0,R[h+1032>>0]=0,o=h+1036|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,i[h+1056>>2]=1,i[h+1060>>2]=-1,i[h+1064>>2]=0,i[h+1068>>2]=.20000000298023224,i[h+1072>>2]=0,i[h+1076>>2]=.8999999761581421,i[h+1080>>2]=0,R[h+1084>>0]=0,i[h+1088>>2]=0,i[h+1092>>2]=.10000000149011612,R[h+1096>>0]=0,i[h+1100>>2]=0,R[h+1104>>0]=0,i[h+1108>>2]=0,R[h+1112>>0]=0,i[h+1116>>2]=0,R[h+1120>>0]=0,o=h+1124|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,i[h+1144>>2]=1,i[h+1148>>2]=-1,i[h+1152>>2]=0,i[h+1156>>2]=.20000000298023224,i[h+1160>>2]=0,i[h+1164>>2]=.8999999761581421,i[h+1168>>2]=0,R[h+1172>>0]=0,i[h+1176>>2]=0,i[h+1180>>2]=.10000000149011612,R[h+1184>>0]=0,i[h+1188>>2]=0,R[h+1192>>0]=0,i[h+1196>>2]=0,R[h+1200>>0]=0,i[h+1204>>2]=0,R[h+1208>>0]=0,o=h+1212|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[h+1232>>2]=a,e[h+1456>>2]=0,xh(h,(e[p>>2]|0)+4|0,(e[u>>2]|0)+4|0),h|0}function NI(t,n){t=t|0,n=n|0,R[t+21>>0]=n&1}function bI(t,n,s){if(t=t|0,n=n|0,s=s|0,(n|0)<3){R[t+798+n>>0]=s&1;return}else{R[t+968+((n+-3|0)*88|0)+48>>0]=s&1;return}}function DI(t){return t=t|0,+ +i[t+16>>2]}function II(t,n){return t=t|0,n=n|0,t+968+(n*88|0)|0}function PI(t){return t=t|0,t+680|0}function LI(t,n){t=t|0,n=n|0;var s=0;if(s=+an(+i[n>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+968>>2]=s,s=+an(+i[n+4>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+1056>>2]=s,s=+an(+i[n+8>>2]),s<-3.1415927410125732){s=s+6.2831854820251465,t=t+1144|0,i[t>>2]=s;return}if(!(s>3.1415927410125732)){t=t+1144|0,i[t>>2]=s;return}s=s+-6.2831854820251465,t=t+1144|0,i[t>>2]=s}function kI(t,n){t=t|0,n=n|0;var s=0;if(s=+an(+i[n>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+972>>2]=s,s=+an(+i[n+4>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+1060>>2]=s,s=+an(+i[n+8>>2]),s<-3.1415927410125732){s=s+6.2831854820251465,t=t+1148|0,i[t>>2]=s;return}if(!(s>3.1415927410125732)){t=t+1148|0,i[t>>2]=s;return}s=s+-6.2831854820251465,t=t+1148|0,i[t>>2]=s}function FI(t,n){t=t|0,n=+n,i[t+16>>2]=n}function BI(t,n,s){if(t=t|0,n=n|0,s=+s,(n|0)<3){i[t+840+(n<<2)>>2]=s,R[t+856+n>>0]=1;return}else{i[t+968+((n+-3|0)*88|0)+60>>2]=s,R[t+968+((n+-3|0)*88|0)+64>>0]=1;return}}function UI(t,n){t=t|0,n=n|0,e[t+680>>2]=e[n>>2],e[t+680+4>>2]=e[n+4>>2],e[t+680+8>>2]=e[n+8>>2],e[t+680+12>>2]=e[n+12>>2]}function OI(t,n){t=t|0,n=n|0,e[t+696>>2]=e[n>>2],e[t+696+4>>2]=e[n+4>>2],e[t+696+8>>2]=e[n+8>>2],e[t+696+12>>2]=e[n+12>>2]}function GI(t,n,s){if(t=t|0,n=n|0,s=+s,(n|0)<3){i[t+820+(n<<2)>>2]=s,R[t+836+n>>0]=1;return}else{i[t+968+((n+-3|0)*88|0)+52>>2]=s,R[t+968+((n+-3|0)*88|0)+56>>0]=1;return}}function VI(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function zI(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;return e[5637]=(e[5637]|0)+1,o=Xe(1407)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,Y6(o,t,n,s),e[o>>2]=7364,e[o+4>>2]=9,R[o+1309>>0]=0,i[o+1316>>2]=0,i[o+1340>>2]=0,i[o+1364>>2]=1,R[o+1310>>0]=0,i[o+1320>>2]=0,i[o+1344>>2]=0,i[o+1368>>2]=1,R[o+1311>>0]=0,i[o+1324>>2]=0,i[o+1348>>2]=0,i[o+1372>>2]=1,R[o+1312>>0]=0,i[o+1328>>2]=0,i[o+1352>>2]=0,i[o+1376>>2]=1,R[o+1313>>0]=0,i[o+1332>>2]=0,i[o+1356>>2]=0,i[o+1380>>2]=1,R[o+1314>>0]=0,i[o+1336>>2]=0,i[o+1360>>2]=0,i[o+1384>>2]=1,o|0}function WI(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0;return e[5637]=(e[5637]|0)+1,l=Xe(1407)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,$6(l,t,n,s,o,a),e[l>>2]=7364,e[l+4>>2]=9,R[l+1309>>0]=0,i[l+1316>>2]=0,i[l+1340>>2]=0,i[l+1364>>2]=1,R[l+1310>>0]=0,i[l+1320>>2]=0,i[l+1344>>2]=0,i[l+1368>>2]=1,R[l+1311>>0]=0,i[l+1324>>2]=0,i[l+1348>>2]=0,i[l+1372>>2]=1,R[l+1312>>0]=0,i[l+1328>>2]=0,i[l+1352>>2]=0,i[l+1376>>2]=1,R[l+1313>>0]=0,i[l+1332>>2]=0,i[l+1356>>2]=0,i[l+1380>>2]=1,R[l+1314>>0]=0,i[l+1336>>2]=0,i[l+1360>>2]=0,i[l+1384>>2]=1,l|0}function HI(t,n){t=t|0,n=n|0,R[t+21>>0]=n&1}function jI(t,n,s){if(t=t|0,n=n|0,s=s|0,R[t+1309+n>>0]=s&1,(n|0)<3){R[t+788+n>>0]=s&1;return}else{R[t+868+(n+-3<<6)+44>>0]=s&1;return}}function qI(t){return t=t|0,+ +i[t+16>>2]}function XI(t,n){t=t|0,n=n|0;var s=0;if(s=+an(+i[n>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+868>>2]=s,s=+an(+i[n+4>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+932>>2]=s,s=+an(+i[n+8>>2]),s<-3.1415927410125732){s=s+6.2831854820251465,t=t+996|0,i[t>>2]=s;return}if(!(s>3.1415927410125732)){t=t+996|0,i[t>>2]=s;return}s=s+-6.2831854820251465,t=t+996|0,i[t>>2]=s}function $I(t,n){t=t|0,n=n|0;var s=0;if(s=+an(+i[n>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+872>>2]=s,s=+an(+i[n+4>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+936>>2]=s,s=+an(+i[n+8>>2]),s<-3.1415927410125732){s=s+6.2831854820251465,t=t+1e3|0,i[t>>2]=s;return}if(!(s>3.1415927410125732)){t=t+1e3|0,i[t>>2]=s;return}s=s+-6.2831854820251465,t=t+1e3|0,i[t>>2]=s}function YI(t,n){t=t|0,n=+n,i[t+16>>2]=n}function KI(t,n,s){t=t|0,n=n|0,s=+s,i[t+1364+(n<<2)>>2]=s}function ZI(t,n){t=t|0,n=n|0,e[t+680>>2]=e[n>>2],e[t+680+4>>2]=e[n+4>>2],e[t+680+8>>2]=e[n+8>>2],e[t+680+12>>2]=e[n+12>>2]}function QI(t,n){t=t|0,n=n|0,e[t+696>>2]=e[n>>2],e[t+696+4>>2]=e[n+4>>2],e[t+696+8>>2]=e[n+8>>2],e[t+696+12>>2]=e[n+12>>2]}function JI(t,n,s){t=t|0,n=n|0,s=+s,i[t+1340+(n<<2)>>2]=s}function eP(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function tP(t){t=t|0,!(e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function iP(t,n){t=t|0,n=n|0,!(!n&&e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function nP(){var t=0,n=0;return e[5637]=(e[5637]|0)+1,t=Xe(327)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,e[t+164>>2]=1065353216,e[t+168>>2]=1065353216,e[t+172>>2]=1065353216,i[t+176>>2]=0,e[t+180>>2]=0,i[t+184>>2]=0xde0b6b000000000,n=t+188|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[t+204>>2]=1,e[t+208>>2]=-1,e[t+212>>2]=-1,e[t+216>>2]=1,i[t+220>>2]=0,i[t+224>>2]=.5,i[t+228>>2]=0,i[t+232>>2]=0,e[t+240>>2]=0,e[t+244>>2]=-1,i[t+248>>2]=1,i[t+252>>2]=0,i[t+256>>2]=0,e[t+260>>2]=0,R[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,e[t+272>>2]=0,e[t+284>>2]=0,e[t+4>>2]=1065353216,n=t+8|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[t+24>>2]=1065353216,n=t+28|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[t+44>>2]=1065353216,n=t+48|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[t>>2]=4344,R[t+304>>0]=1,e[t+300>>2]=0,e[t+292>>2]=0,e[t+296>>2]=0,e[t+236>>2]=4,t|0}function rP(t,n){t=t|0,n=n|0,e[t+216>>2]=n}function sP(t){return t=t|0,e[t+204>>2]|0}function oP(t){return t=t|0,e[t+192>>2]|0}function aP(t){return t=t|0,e[t+292>>2]|0}function cP(t,n){return t=t|0,n=n|0,e[(e[t+300>>2]|0)+(n<<2)>>2]|0}function lP(t){return t=t|0,t+4|0}function uP(t){return t=t|0,t=e[t+216>>2]|0,(t|0)!=5&(t|0)!=2|0}function fP(t){return t=t|0,(e[t+204>>2]&2|0)!=0|0}function _P(t,n){t=t|0,n=n|0,(e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=n)}function pP(t,n,s){t=t|0,n=n|0,s=s|0,e[t+164>>2]=e[n>>2],e[t+164+4>>2]=e[n+4>>2],e[t+164+8>>2]=e[n+8>>2],e[t+164+12>>2]=e[n+12>>2],+i[n>>2]==1&&+i[n+4>>2]==1&&(s=+i[n+8>>2]!=1?s:0),e[t+180>>2]=s}function hP(t,n){t=t|0,n=+n,i[t+256>>2]=n}function dP(t,n){t=t|0,n=+n,i[t+252>>2]=n}function mP(t,n){t=t|0,n=n|0,e[t+204>>2]=n}function gP(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+8>>2]&127](t,n)}function xP(t,n){t=t|0,n=+n,i[t+184>>2]=n}function yP(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+224>>2]=n}function vP(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+228>>2]=n}function SP(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+232>>2]=n}function CP(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2],e[t+20>>2]=e[n+16>>2],e[t+20+4>>2]=e[n+16+4>>2],e[t+20+8>>2]=e[n+16+8>>2],e[t+20+12>>2]=e[n+16+12>>2],e[t+36>>2]=e[n+32>>2],e[t+36+4>>2]=e[n+32+4>>2],e[t+36+8>>2]=e[n+32+8>>2],e[t+36+12>>2]=e[n+32+12>>2],e[t+52>>2]=e[n+48>>2],e[t+52+4>>2]=e[n+48+4>>2],e[t+52+8>>2]=e[n+48+8>>2],e[t+52+12>>2]=e[n+48+12>>2]}function TP(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function wP(){for(var t=0,n=0;;){if(t=Xe(4)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}g2[t&3]()}if((n|0)==5)n=L2(4)|0,e[n>>2]=8308,k2(n|0,2416,215);else if((n|0)==6)return e[t>>2]=8084,t|0;return 0}function MP(t){t=t|0}function RP(t){t=t|0,ye(t)}function AP(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;return o=e[n>>2]|0,t=e[s>>2]|0,t=(e[t+236>>2]|0)==4?t:0,(o|0)==0||(e[o+236>>2]|0)!=4||f0[e[(e[o>>2]|0)+28>>2]&127](o,s,n),t&&f0[e[(e[t>>2]|0)+28>>2]&127](t,n,s),0}function EP(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;return a=e[n>>2]|0,t=e[s>>2]|0,t=(e[t+236>>2]|0)==4?t:0,(a|0)==0||(e[a+236>>2]|0)!=4||Kt[e[(e[a>>2]|0)+32>>2]&127](a,s,o,n),t&&Kt[e[(e[t>>2]|0)+32>>2]&127](t,n,o,s),0}function NP(t,n,s){t=t|0,n=n|0,s=s|0}function bP(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function DP(t,n){t=t|0,n=n|0;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(787)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,Sm(s,t,n,0),s|0}function IP(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;return e[5637]=(e[5637]|0)+1,o=Xe(787)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,Sm(o,t,n,s),o|0}function PP(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;return e[5637]=(e[5637]|0)+1,a=Xe(787)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[a+4>>2]=4,e[a+8>>2]=-1,e[a+12>>2]=-1,i[a+16>>2]=34028234663852886e22,R[a+20>>0]=1,R[a+21>>0]=0,e[a+24>>2]=-1,e[a+28>>2]=t,e[a+32>>2]=n,i[a+36>>2]=0,i[a+40>>2]=.30000001192092896,e[a+44>>2]=0,e[a>>2]=7428,n=a+552|0,e[n>>2]=e[s>>2],e[n+4>>2]=e[s+4>>2],e[n+8>>2]=e[s+8>>2],e[n+12>>2]=e[s+12>>2],n=a+568|0,e[n>>2]=e[s+16>>2],e[n+4>>2]=e[s+16+4>>2],e[n+8>>2]=e[s+16+8>>2],e[n+12>>2]=e[s+16+12>>2],n=a+584|0,e[n>>2]=e[s+32>>2],e[n+4>>2]=e[s+32+4>>2],e[n+8>>2]=e[s+32+8>>2],e[n+12>>2]=e[s+32+12>>2],n=a+600|0,e[n>>2]=e[s+48>>2],e[n+4>>2]=e[s+48+4>>2],e[n+8>>2]=e[s+48+8>>2],e[n+12>>2]=e[s+48+12>>2],s=a+616|0,e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],e[s+12>>2]=e[o+12>>2],s=a+632|0,e[s>>2]=e[o+16>>2],e[s+4>>2]=e[o+16+4>>2],e[s+8>>2]=e[o+16+8>>2],e[s+12>>2]=e[o+16+12>>2],s=a+648|0,e[s>>2]=e[o+32>>2],e[s+4>>2]=e[o+32+4>>2],e[s+8>>2]=e[o+32+8>>2],e[s+12>>2]=e[o+32+12>>2],s=a+664|0,e[s>>2]=e[o+48>>2],e[s+4>>2]=e[o+48+4>>2],e[s+8>>2]=e[o+48+8>>2],e[s+12>>2]=e[o+48+12>>2],i[a+688>>2]=0,i[a+692>>2]=-1,i[a+696>>2]=.8999999761581421,i[a+700>>2]=.30000001192092896,i[a+704>>2]=1,i[a+708>>2]=0,i[a+712>>2]=0,R[a+716>>0]=0,R[a+736>>0]=0,R[a+737>>0]=0,R[a+738>>0]=0,R[a+739>>0]=1,R[a+740>>0]=0,o=a+748|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,i[a+732>>2]=1,a|0}function LP(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0;return e[5637]=(e[5637]|0)+1,l=Xe(787)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,e[l+4>>2]=4,e[l+8>>2]=-1,e[l+12>>2]=-1,i[l+16>>2]=34028234663852886e22,R[l+20>>0]=1,R[l+21>>0]=0,e[l+24>>2]=-1,e[l+28>>2]=t,e[l+32>>2]=n,i[l+36>>2]=0,i[l+40>>2]=.30000001192092896,e[l+44>>2]=0,e[l>>2]=7428,n=l+552|0,e[n>>2]=e[s>>2],e[n+4>>2]=e[s+4>>2],e[n+8>>2]=e[s+8>>2],e[n+12>>2]=e[s+12>>2],n=l+568|0,e[n>>2]=e[s+16>>2],e[n+4>>2]=e[s+16+4>>2],e[n+8>>2]=e[s+16+8>>2],e[n+12>>2]=e[s+16+12>>2],n=l+584|0,e[n>>2]=e[s+32>>2],e[n+4>>2]=e[s+32+4>>2],e[n+8>>2]=e[s+32+8>>2],e[n+12>>2]=e[s+32+12>>2],n=l+600|0,e[n>>2]=e[s+48>>2],e[n+4>>2]=e[s+48+4>>2],e[n+8>>2]=e[s+48+8>>2],e[n+12>>2]=e[s+48+12>>2],s=l+616|0,e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],e[s+12>>2]=e[o+12>>2],s=l+632|0,e[s>>2]=e[o+16>>2],e[s+4>>2]=e[o+16+4>>2],e[s+8>>2]=e[o+16+8>>2],e[s+12>>2]=e[o+16+12>>2],s=l+648|0,e[s>>2]=e[o+32>>2],e[s+4>>2]=e[o+32+4>>2],e[s+8>>2]=e[o+32+8>>2],e[s+12>>2]=e[o+32+12>>2],s=l+664|0,e[s>>2]=e[o+48>>2],e[s+4>>2]=e[o+48+4>>2],e[s+8>>2]=e[o+48+8>>2],e[s+12>>2]=e[o+48+12>>2],i[l+688>>2]=0,i[l+692>>2]=-1,i[l+696>>2]=.8999999761581421,i[l+700>>2]=.30000001192092896,i[l+704>>2]=1,i[l+708>>2]=0,i[l+712>>2]=0,R[l+716>>0]=0,R[l+736>>0]=0,R[l+737>>0]=0,R[l+738>>0]=0,R[l+739>>0]=1,R[l+740>>0]=a&1,o=l+748|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,i[l+732>>2]=a?-1:1,l|0}function kP(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0;return e[5637]=(e[5637]|0)+1,u=Xe(787)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,vm(u,t,n,s,o,a,l,0),u|0}function FP(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0;var p=0;return e[5637]=(e[5637]|0)+1,p=Xe(787)|0,p?(e[(p+4+15&-16)+-4>>2]=p,p=p+4+15&-16):p=0,vm(p,t,n,s,o,a,l,u),p|0}function BP(t,n,s,o){t=t|0,n=n|0,s=+s,o=+o,R[t+737>>0]=n&1,i[t+680>>2]=s,i[t+684>>2]=o}function UP(t,n){t=t|0,n=n|0,R[t+21>>0]=n&1}function OP(t){return t=t|0,+ +i[t+16>>2]}function GP(t,n){t=t|0,n=+n,i[t+16>>2]=n}function VP(t,n,s,o,a){t=t|0,n=+n,s=+s,o=+o,a=+a,i[t+692>>2]=(s-n)*.5,n=+an((s-n)*.5+n),n<-3.1415927410125732?n=n+6.2831854820251465:n>3.1415927410125732&&(n=n+-6.2831854820251465),i[t+688>>2]=n,i[t+696>>2]=o,i[t+700>>2]=a,i[t+704>>2]=1}function zP(t,n,s,o,a,l){t=t|0,n=+n,s=+s,o=+o,a=+a,l=+l,i[t+692>>2]=(s-n)*.5,n=+an((s-n)*.5+n),n<-3.1415927410125732?n=n+6.2831854820251465:n>3.1415927410125732&&(n=n+-6.2831854820251465),i[t+688>>2]=n,i[t+696>>2]=o,i[t+700>>2]=a,i[t+704>>2]=l}function WP(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function HP(t,n,s){t=t|0,n=n|0,s=+s;var o=0,a=0;return e[5637]=(e[5637]|0)+1,o=Xe(203)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,e[o>>2]=7044,a=o+60|0,R[o+144>>0]=1,e[o+140>>2]=0,e[o+132>>2]=0,e[o+136>>2]=0,e[o+176>>2]=1,i[o+56>>2]=.019999999552965164,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,R[o+170>>0]=1,e[o+8>>2]=t,i[o+52>>2]=s,i[o+48>>2]=0,e[o+12>>2]=n,R[o+171>>0]=1,i[o+172>>2]=0,i[o+16>>2]=0,i[o+20>>2]=0,i[o+44>>2]=29.399999618530273,i[o+24>>2]=55,i[o+28>>2]=10,R[o+168>>0]=0,R[o+169>>0]=0,R[o+180>>0]=1,i[o+36>>2]=.7853981852531433,i[o+40>>2]=.7071067690849304,i[o+108>>2]=0,R[o+181>>0]=0,R[o+182>>0]=0,o|0}function jP(t,n,s,o){t=t|0,n=n|0,s=+s,o=o|0;var a=0,l=0;return e[5637]=(e[5637]|0)+1,a=Xe(203)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[a>>2]=7044,l=a+60|0,R[a+144>>0]=1,e[a+140>>2]=0,e[a+132>>2]=0,e[a+136>>2]=0,e[a+176>>2]=o,i[a+56>>2]=.019999999552965164,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,R[a+170>>0]=1,e[a+8>>2]=t,i[a+52>>2]=s,i[a+48>>2]=0,e[a+12>>2]=n,R[a+171>>0]=1,i[a+172>>2]=0,i[a+16>>2]=0,i[a+20>>2]=0,i[a+44>>2]=29.399999618530273,i[a+24>>2]=55,i[a+28>>2]=10,R[a+168>>0]=0,R[a+169>>0]=0,R[a+180>>0]=1,i[a+36>>2]=.7853981852531433,i[a+40>>2]=.7071067690849304,i[a+108>>2]=0,R[a+181>>0]=0,R[a+182>>0]=0,a|0}function qP(t){return t=t|0,Tt[e[(e[t>>2]|0)+40>>2]&127](t)|0}function XP(t){return t=t|0,e[t+8>>2]|0}function $P(t){return t=t|0,+ +i[t+44>>2]}function YP(t){return t=t|0,+ +i[t+36>>2]}function KP(t){t=t|0,Vt[e[(e[t>>2]|0)+44>>2]&255](t)}function ZP(t){return t=t|0,Tt[e[(e[t>>2]|0)+48>>2]&127](t)|0}function QP(t,n,s){t=t|0,n=n|0,s=+s,rr[e[(e[t>>2]|0)+36>>2]&7](t,n,s)}function JP(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+32>>2]&127](t,n)}function eL(t,n){t=t|0,n=+n,i[t+24>>2]=n}function tL(t,n){t=t|0,n=+n,i[t+44>>2]=n}function iL(t,n){t=t|0,n=+n,i[t+28>>2]=n}function nL(t,n){t=t|0,n=+n,i[t+32>>2]=n}function rL(t,n){t=t|0,n=+n,i[t+36>>2]=n,i[t+40>>2]=+C2(+n)}function sL(t,n){t=t|0,n=n|0,n=(n|0)<0?0:n,e[t+176>>2]=(n|0)>2?2:n}function oL(t,n){t=t|0,n=n|0,R[t+170>>0]=n&1}function aL(t,n,s){t=t|0,n=n|0,s=+s,rr[e[(e[t>>2]|0)+20>>2]&7](t,n,s)}function cL(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+16>>2]&127](t,n)}function lL(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+28>>2]&127](t,n)}function uL(t){t=t|0,t&&ye(t)}function fL(t){return t=t|0,+ +i[t+80>>2]}function _L(t){return t=t|0,t+48|0}function pL(t){return t=t|0,t+32|0}function hL(t){return t=t|0,t|0}function dL(t){return t=t|0,t+16|0}function mL(t){return t=t|0,t+64|0}function gL(t){return t=t|0,t+48|0}function xL(t){return t=t|0,t+32|0}function yL(t,n){t=t|0,n=n|0,e[t>>2]=e[n>>2],e[t+4>>2]=e[n+4>>2],e[t+8>>2]=e[n+8>>2],e[t+12>>2]=e[n+12>>2]}function vL(t,n){t=t|0,n=n|0,e[t+16>>2]=e[n>>2],e[t+16+4>>2]=e[n+4>>2],e[t+16+8>>2]=e[n+8>>2],e[t+16+12>>2]=e[n+12>>2]}function SL(t,n){t=t|0,n=n|0,e[t+64>>2]=e[n>>2],e[t+64+4>>2]=e[n+4>>2],e[t+64+8>>2]=e[n+8>>2],e[t+64+12>>2]=e[n+12>>2]}function CL(t,n){t=t|0,n=n|0,e[t+48>>2]=e[n>>2],e[t+48+4>>2]=e[n+4>>2],e[t+48+8>>2]=e[n+8>>2],e[t+48+12>>2]=e[n+12>>2]}function TL(t,n){t=t|0,n=n|0,e[t+32>>2]=e[n>>2],e[t+32+4>>2]=e[n+4>>2],e[t+32+8>>2]=e[n+8>>2],e[t+32+12>>2]=e[n+12>>2]}function wL(t){t=t|0,t&&ye(t)}function ML(t,n){t=t|0,n=n|0,ds(t,n)}function RL(t,n){return t=t|0,n=n|0,R[19920]|0||(R[19920]=1),e[5696]=e[t+(n<<4)>>2],e[5697]=e[t+(n<<4)+4>>2],e[5698]=e[t+(n<<4)+8>>2],e[5699]=e[t+(n<<4)+12>>2],22784}function AL(t,n,s,o){t=t|0,n=+n,s=+s,o=+o;var a=0,l=0,u=0;l=+C2(+n),a=+C2(+s),u=+C2(+o),n=+E2(+n),s=+E2(+s),o=+E2(+o),i[t>>2]=a*u,i[t+4>>2]=s*(u*n)-l*o,i[t+8>>2]=l*u*s+n*o,i[t+12>>2]=0,i[t+16>>2]=a*o,i[t+20>>2]=l*u+s*(n*o),i[t+24>>2]=s*(l*o)-u*n,i[t+28>>2]=0,i[t+32>>2]=-s,i[t+36>>2]=a*n,i[t+40>>2]=l*a,i[t+44>>2]=0}function EL(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function NL(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+8>>2]&127](t,n)}function bL(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+12>>2]&127](t,n)}function DL(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function IL(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+60>>2]&127](t,n)}function PL(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function LL(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function kL(t){t=t|0,!(e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function FL(t,n){t=t|0,n=n|0,!(!n&&e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function BL(){var t=0;return e[5637]=(e[5637]|0)+1,t=Xe(331)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,Eie(t),t|0}function UL(t,n){t=t|0,n=n|0,e[t+216>>2]=n}function OL(t){return t=t|0,e[t+204>>2]|0}function GL(t){return t=t|0,e[t+192>>2]|0}function VL(t){return t=t|0,e[t+292>>2]|0}function zL(t,n){return t=t|0,n=n|0,e[(e[t+300>>2]|0)+(n<<2)>>2]|0}function WL(t){return t=t|0,t+4|0}function HL(t){return t=t|0,t=e[t+216>>2]|0,(t|0)!=5&(t|0)!=2|0}function jL(t){return t=t|0,(e[t+204>>2]&2|0)!=0|0}function qL(t,n){t=t|0,n=n|0,(e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=n)}function XL(t,n,s){t=t|0,n=n|0,s=s|0,e[t+164>>2]=e[n>>2],e[t+164+4>>2]=e[n+4>>2],e[t+164+8>>2]=e[n+8>>2],e[t+164+12>>2]=e[n+12>>2],+i[n>>2]==1&&+i[n+4>>2]==1&&(s=+i[n+8>>2]!=1?s:0),e[t+180>>2]=s}function $L(t,n){t=t|0,n=+n,i[t+256>>2]=n}function YL(t,n){t=t|0,n=+n,i[t+252>>2]=n}function KL(t,n){t=t|0,n=n|0,e[t+204>>2]=n}function ZL(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+8>>2]&127](t,n)}function QL(t,n){t=t|0,n=+n,i[t+184>>2]=n}function JL(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+224>>2]=n}function ek(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+228>>2]=n}function tk(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+232>>2]=n}function ik(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2],e[t+20>>2]=e[n+16>>2],e[t+20+4>>2]=e[n+16+4>>2],e[t+20+8>>2]=e[n+16+8>>2],e[t+20+12>>2]=e[n+16+12>>2],e[t+36>>2]=e[n+32>>2],e[t+36+4>>2]=e[n+32+4>>2],e[t+36+8>>2]=e[n+32+8>>2],e[t+36+12>>2]=e[n+32+12>>2],e[t+52>>2]=e[n+48>>2],e[t+52+4>>2]=e[n+48+4>>2],e[t+52+8>>2]=e[n+48+8>>2],e[t+52+12>>2]=e[n+48+12>>2]}function nk(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function rk(){var t=0,n=0;return e[5637]=(e[5637]|0)+1,t=Xe(791)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,e[t>>2]=1025,e[t+116>>2]=0,R[t+120>>0]=0,n=t+124|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[t+300>>2]=0,R[t+304>>0]=0,n=t+308|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[t+484>>2]=0,R[t+488>>0]=0,n=t+492|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[t+668>>2]=0,R[t+672>>0]=0,n=t+676|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,e[t+740>>2]=0,e[t+744>>2]=0,e[t+748>>2]=0,e[t+768>>2]=0,t|0}function sk(t){return t=t|0,e[t+740>>2]|0}function ok(t){return t=t|0,e[t+744>>2]|0}function ak(t,n){return t=t|0,n=n|0,t+4+(n*184|0)|0}function ck(t){return t=t|0,e[t+748>>2]|0}function lk(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function uk(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0;return e[5637]=(e[5637]|0)+1,s=Xe(379)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,th(s,3,t),e[s>>2]=7484,h=s+300|0,e[h>>2]=e[n>>2],e[h+4>>2]=e[n+4>>2],e[h+8>>2]=e[n+8>>2],e[h+12>>2]=e[n+12>>2],p=+i[n>>2],u=+i[n+4>>2],l=+i[n+8>>2],a=p*+i[t+20>>2]+u*+i[t+24>>2]+l*+i[t+28>>2]+ +i[t+56>>2],o=p*+i[t+36>>2]+u*+i[t+40>>2]+l*+i[t+44>>2]+ +i[t+60>>2],i[s+316>>2]=p*+i[t+4>>2]+u*+i[t+8>>2]+l*+i[t+12>>2]+ +i[t+52>>2],i[s+320>>2]=a,i[s+324>>2]=o,i[s+328>>2]=0,e[s+332>>2]=0,R[s+344>>0]=0,i[s+348>>2]=.30000001192092896,i[s+352>>2]=1,i[s+356>>2]=0,s|0}function fk(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;return e[5637]=(e[5637]|0)+1,a=Xe(379)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[a+4>>2]=3,e[a+8>>2]=-1,e[a+12>>2]=-1,i[a+16>>2]=34028234663852886e22,R[a+20>>0]=1,R[a+21>>0]=0,e[a+24>>2]=-1,e[a+28>>2]=t,e[a+32>>2]=n,i[a+36>>2]=0,i[a+40>>2]=.30000001192092896,e[a+44>>2]=0,e[a>>2]=7484,n=a+300|0,e[n>>2]=e[s>>2],e[n+4>>2]=e[s+4>>2],e[n+8>>2]=e[s+8>>2],e[n+12>>2]=e[s+12>>2],s=a+316|0,e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],e[s+12>>2]=e[o+12>>2],e[a+332>>2]=0,R[a+344>>0]=0,i[a+348>>2]=.30000001192092896,i[a+352>>2]=1,i[a+356>>2]=0,a|0}function _k(t,n){t=t|0,n=n|0,R[t+21>>0]=n&1}function pk(t){return t=t|0,+ +i[t+16>>2]}function hk(t){return t=t|0,t+300|0}function dk(t){return t=t|0,t+316|0}function mk(t){return t=t|0,t+348|0}function gk(t,n){t=t|0,n=+n,i[t+16>>2]=n}function xk(t,n){t=t|0,n=n|0,e[t+300>>2]=e[n>>2],e[t+300+4>>2]=e[n+4>>2],e[t+300+8>>2]=e[n+8>>2],e[t+300+12>>2]=e[n+12>>2]}function yk(t,n){t=t|0,n=n|0,e[t+316>>2]=e[n>>2],e[t+316+4>>2]=e[n+4>>2],e[t+316+8>>2]=e[n+8>>2],e[t+316+12>>2]=e[n+12>>2]}function vk(t,n){t=t|0,n=n|0,e[t+348>>2]=e[n>>2],e[t+348+4>>2]=e[n+4>>2],e[t+348+8>>2]=e[n+8>>2]}function Sk(t){t=t|0,t&&ye(t)}function Ck(t,n){t=t|0,n=+n,i[t+12>>2]=n}function Tk(t,n){t=t|0,n=+n,i[t>>2]=n}function wk(t,n){t=t|0,n=+n,i[t+4>>2]=n}function Mk(t,n){t=t|0,n=+n,i[t+8>>2]=n}function Rk(t){return t=t|0,+ +i[t+12>>2]}function Ak(t){return t=t|0,+ +i[t>>2]}function Ek(t){return t=t|0,+ +i[t+4>>2]}function Nk(t){return t=t|0,+ +i[t+8>>2]}function bk(t){t=t|0,t&&ye(t)}function Dk(t,n,s,o){t=+t,n=+n,s=+s,o=+o;for(var a=0,l=0;;){if(a=Xe(16)|0,a|0){l=6;break}if(a=e[5831]|0,e[5831]=a+0,!a){l=5;break}g2[a&3]()}if((l|0)==5)l=L2(4)|0,e[l>>2]=8308,k2(l|0,2416,215);else if((l|0)==6)return i[a>>2]=t,i[a+4>>2]=n,i[a+8>>2]=s,i[a+12>>2]=o,a|0;return 0}function Ik(t){t=t|0;var n=0,s=0,o=0,a=0,l=0;l=+i[t>>2],a=+i[t+4>>2],o=+i[t+8>>2],s=+i[t+12>>2],n=1/+ot(+(l*l+a*a+o*o+s*s)),i[t>>2]=l*n,i[t+4>>2]=a*n,i[t+8>>2]=o*n,i[t+12>>2]=s*n}function Pk(t,n,s,o,a){t=t|0,n=+n,s=+s,o=+o,a=+a,i[t>>2]=n,i[t+4>>2]=s,i[t+8>>2]=o,i[t+12>>2]=a}function Lk(t,n){t=t|0,n=+n,i[t+12>>2]=n}function kk(t,n){t=t|0,n=+n,i[t>>2]=n}function Fk(t,n){t=t|0,n=+n,i[t+4>>2]=n}function Bk(t,n){t=t|0,n=+n,i[t+8>>2]=n}function Uk(t){return t=t|0,+ +i[t+12>>2]}function Ok(t){return t=t|0,+ +i[t>>2]}function Gk(t){return t=t|0,+ +i[t+4>>2]}function Vk(t){return t=t|0,+ +i[t+8>>2]}function zk(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Wk(t,n,s,o,a,l,u,p){return t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=+l,u=u|0,p=p|0,bV(t,n,s,o,a,l,u,p)|0}function Hk(t,n,s){t=t|0,n=+n,s=s|0,i[(e[t+136>>2]|0)+(s*284|0)+252>>2]=n}function jk(t,n,s){t=t|0,n=n|0,s=s|0;for(var o=0;;){if(t=Xe(144)|0,t|0){o=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){o=5;break}g2[t&3]()}if((o|0)==5)s=L2(4)|0,e[s>>2]=8308,k2(s|0,2416,215);else if((o|0)==6)return e[t>>2]=7952,R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,R[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,R[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,R[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,e[t+72>>2]=0,e[t+92>>2]=s,i[t+96>>2]=0,R[t+140>>0]=1,e[t+136>>2]=0,e[t+128>>2]=0,e[t+132>>2]=0,e[t+108>>2]=n,e[t+112>>2]=0,e[t+116>>2]=2,e[t+120>>2]=1,i[t+104>>2]=0,i[t+100>>2]=0,t|0;return 0}function qk(t){return t=t|0,e[t+128>>2]|0}function Xk(t){return t=t|0,e[t+108>>2]|0}function $k(t,n){return t=t|0,n=n|0,(e[t+136>>2]|0)+(n*284|0)|0}function Yk(t,n){return t=t|0,n=n|0,(e[t+136>>2]|0)+(n*284|0)+92|0}function Kk(t,n,s){t=t|0,n=+n,s=s|0,i[(e[t+136>>2]|0)+(s*284|0)+256>>2]=n}function Zk(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+24>>2]&127](t,n,s,o)}function Qk(t,n,s){t=t|0,n=+n,s=s|0,i[(e[t+136>>2]|0)+(s*284|0)+232>>2]=n}function Jk(t,n,s){t=t|0,n=n|0,s=s|0,Yp(e[t+108>>2]|0,e[t+136>>2]|0,n,s)}function eF(t){t=t|0,t&&ye(t)}function tF(t,n,s){t=+t,n=n|0,s=s|0;for(var o=0,a=0;;){if(o=Xe(140)|0,o|0){a=6;break}if(o=e[5831]|0,e[5831]=o+0,!o){a=5;break}g2[o&3]()}if((a|0)==5)s=L2(4)|0,e[s>>2]=8308,k2(s|0,2416,215);else if((a|0)==6)return i[o>>2]=t,e[o+4>>2]=n,e[o+72>>2]=s,e[o+76>>2]=0,e[o+76+4>>2]=0,e[o+76+8>>2]=0,e[o+76+12>>2]=0,e[o+76+16>>2]=0,e[o+76+20>>2]=0,i[o+100>>2]=.5,i[o+104>>2]=0,i[o+108>>2]=0,i[o+112>>2]=.800000011920929,i[o+116>>2]=1,R[o+120>>0]=0,i[o+124>>2]=.004999999888241291,i[o+128>>2]=.009999999776482582,i[o+132>>2]=.009999999776482582,i[o+136>>2]=.009999999776482582,e[o+8>>2]=1065353216,e[o+12>>2]=0,e[o+12+4>>2]=0,e[o+12+8>>2]=0,e[o+12+12>>2]=0,e[o+28>>2]=1065353216,e[o+32>>2]=0,e[o+32+4>>2]=0,e[o+32+8>>2]=0,e[o+32+12>>2]=0,e[o+48>>2]=1065353216,e[o+52>>2]=0,e[o+52+4>>2]=0,e[o+52+8>>2]=0,e[o+52+12>>2]=0,e[o+52+16>>2]=0,o|0;return 0}function iF(t,n,s,o){t=+t,n=n|0,s=s|0,o=o|0;for(var a=0,l=0;;){if(a=Xe(140)|0,a|0){l=6;break}if(a=e[5831]|0,e[5831]=a+0,!a){l=5;break}g2[a&3]()}if((l|0)==5)o=L2(4)|0,e[o>>2]=8308,k2(o|0,2416,215);else if((l|0)==6)return i[a>>2]=t,e[a+4>>2]=n,e[a+72>>2]=s,e[a+76>>2]=e[o>>2],e[a+76+4>>2]=e[o+4>>2],e[a+76+8>>2]=e[o+8>>2],e[a+76+12>>2]=e[o+12>>2],i[a+92>>2]=0,i[a+96>>2]=0,i[a+100>>2]=.5,i[a+104>>2]=0,i[a+108>>2]=0,i[a+112>>2]=.800000011920929,i[a+116>>2]=1,R[a+120>>0]=0,i[a+124>>2]=.004999999888241291,i[a+128>>2]=.009999999776482582,i[a+132>>2]=.009999999776482582,i[a+136>>2]=.009999999776482582,e[a+8>>2]=1065353216,e[a+12>>2]=0,e[a+12+4>>2]=0,e[a+12+8>>2]=0,e[a+12+12>>2]=0,e[a+28>>2]=1065353216,e[a+32>>2]=0,e[a+32+4>>2]=0,e[a+32+8>>2]=0,e[a+32+12>>2]=0,e[a+48>>2]=1065353216,e[a+52>>2]=0,e[a+52+4>>2]=0,e[a+52+8>>2]=0,e[a+52+12>>2]=0,e[a+52+16>>2]=0,a|0;return 0}function nF(t){return t=t|0,+ +i[t+136>>2]}function rF(t){return t=t|0,+ +i[t+132>>2]}function sF(t){return t=t|0,+ +i[t+124>>2]}function oF(t){return t=t|0,(R[t+120>>0]|0)!=0|0}function aF(t){return t=t|0,+ +i[t+128>>2]}function cF(t){return t=t|0,+ +i[t+96>>2]}function lF(t){return t=t|0,+ +i[t+116>>2]}function uF(t){return t=t|0,+ +i[t+100>>2]}function fF(t){return t=t|0,+ +i[t+92>>2]}function _F(t){return t=t|0,+ +i[t+112>>2]}function pF(t){return t=t|0,+ +i[t+108>>2]}function hF(t){return t=t|0,+ +i[t+104>>2]}function dF(t,n){t=t|0,n=+n,i[t+136>>2]=n}function mF(t,n){t=t|0,n=+n,i[t+132>>2]=n}function gF(t,n){t=t|0,n=+n,i[t+124>>2]=n}function xF(t,n){t=t|0,n=n|0,R[t+120>>0]=n&1}function yF(t,n){t=t|0,n=+n,i[t+128>>2]=n}function vF(t,n){t=t|0,n=+n,i[t+96>>2]=n}function SF(t,n){t=t|0,n=+n,i[t+116>>2]=n}function CF(t,n){t=t|0,n=+n,i[t+100>>2]=n}function TF(t,n){t=t|0,n=+n,i[t+92>>2]=n}function wF(t,n){t=t|0,n=+n,i[t+112>>2]=n}function MF(t,n){t=t|0,n=+n,i[t+108>>2]=n}function RF(t,n){t=t|0,n=+n,i[t+104>>2]=n}function AF(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function EF(t){t=t|0,!(e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function NF(t,n){t=t|0,n=n|0,!(!n&&e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function bF(t,n){t=t|0,n=n|0;var s=0,o=0;o=+i[n+4>>2]*+i[t+376>>2],s=+i[n+8>>2]*+i[t+380>>2],i[t+436>>2]=+i[n>>2]*+i[t+372>>2]+ +i[t+436>>2],i[t+440>>2]=o+ +i[t+440>>2],i[t+444>>2]=s+ +i[t+444>>2]}function DF(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;a=+i[t+368>>2],o=+i[n+4>>2]*+i[t+376>>2]*a,s=a*(+i[n+8>>2]*+i[t+380>>2]),i[t+336>>2]=+i[n>>2]*+i[t+372>>2]*a+ +i[t+336>>2],i[t+340>>2]=o+ +i[t+340>>2],i[t+344>>2]=s+ +i[t+344>>2]}function IF(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0;o=+i[t+372>>2],u=+i[t+376>>2],l=+i[n+4>>2]*u,p=+i[t+380>>2],h=+i[n+8>>2]*p,i[t+436>>2]=+i[n>>2]*o+ +i[t+436>>2],i[t+440>>2]=l+ +i[t+440>>2],i[t+444>>2]=h+ +i[t+444>>2],o=o*+i[n>>2],u=u*+i[n+4>>2],p=p*+i[n+8>>2],h=+i[s+4>>2],l=+i[s+8>>2],d=+i[s>>2],a=(o*l-p*d)*+i[t+572>>2],o=(u*d-o*h)*+i[t+576>>2],i[t+452>>2]=(h*p-u*l)*+i[t+568>>2]+ +i[t+452>>2],i[t+456>>2]=a+ +i[t+456>>2],i[t+460>>2]=o+ +i[t+460>>2]}function PF(t,n,s){t=t|0,n=n|0,s=s|0,B1(t,n,s)}function LF(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;u=+i[n>>2],l=+i[n+4>>2],a=+i[n+8>>2],o=(u*+i[t+304>>2]+l*+i[t+308>>2]+a*+i[t+312>>2])*+i[t+572>>2],s=(u*+i[t+320>>2]+l*+i[t+324>>2]+a*+i[t+328>>2])*+i[t+576>>2],i[t+352>>2]=(+i[t+288>>2]*u+ +i[t+292>>2]*l+ +i[t+296>>2]*a)*+i[t+568>>2]+ +i[t+352>>2],i[t+356>>2]=o+ +i[t+356>>2],i[t+360>>2]=s+ +i[t+360>>2]}function kF(t,n){t=t|0,n=n|0;var s=0,o=0;o=+i[n+4>>2]*+i[t+572>>2],s=+i[n+8>>2]*+i[t+576>>2],i[t+452>>2]=+i[n>>2]*+i[t+568>>2]+ +i[t+452>>2],i[t+456>>2]=o+ +i[t+456>>2],i[t+460>>2]=s+ +i[t+460>>2]}function FF(t){t=t|0;var n=0,s=0;return e[5637]=(e[5637]|0)+1,n=Xe(659)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,e[n+164>>2]=1065353216,e[n+168>>2]=1065353216,e[n+172>>2]=1065353216,i[n+176>>2]=0,e[n+180>>2]=0,i[n+184>>2]=0xde0b6b000000000,s=n+188|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[n+204>>2]=1,e[n+208>>2]=-1,e[n+212>>2]=-1,e[n+216>>2]=1,i[n+220>>2]=0,i[n+224>>2]=.5,i[n+228>>2]=0,i[n+232>>2]=0,e[n+236>>2]=1,e[n+240>>2]=0,e[n+244>>2]=-1,i[n+248>>2]=1,i[n+252>>2]=0,i[n+256>>2]=0,e[n+260>>2]=0,R[n+280>>0]=1,e[n+276>>2]=0,e[n+268>>2]=0,e[n+272>>2]=0,e[n+284>>2]=0,e[n+4>>2]=1065353216,s=n+8|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[n+24>>2]=1065353216,s=n+28|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[n+44>>2]=1065353216,s=n+48|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[s+16>>2]=0,e[n>>2]=7916,R[n+524>>0]=1,e[n+520>>2]=0,e[n+512>>2]=0,e[n+516>>2]=0,c6(n,t),n|0}function BF(t,n){t=t|0,n=n|0,e[t+216>>2]=n}function UF(t){return t=t|0,t+352|0}function OF(t){return t=t|0,t+4|0}function GF(t){return t=t|0,e[t+204>>2]|0}function VF(t){return t=t|0,e[t+192>>2]|0}function zF(t){return t=t|0,t+336|0}function WF(t){return t=t|0,e[t+504>>2]|0}function HF(t){return t=t|0,t+4|0}function jF(t){return t=t|0,t=e[t+216>>2]|0,(t|0)!=5&(t|0)!=2|0}function qF(t){return t=t|0,(e[t+204>>2]&2|0)!=0|0}function XF(t,n){t=t|0,n=n|0,(e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=n)}function $F(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+568>>2]=e[n>>2],e[t+568+4>>2]=e[n+4>>2],e[t+568+8>>2]=e[n+8>>2],e[t+568+12>>2]=e[n+12>>2]}function YF(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+352>>2]=e[n>>2],e[t+352+4>>2]=e[n+4>>2],e[t+352+8>>2]=e[n+8>>2],e[t+352+12>>2]=e[n+12>>2]}function KF(t,n,s){t=t|0,n=n|0,s=s|0,e[t+164>>2]=e[n>>2],e[t+164+4>>2]=e[n+4>>2],e[t+164+8>>2]=e[n+8>>2],e[t+164+12>>2]=e[n+12>>2],+i[n>>2]==1&&+i[n+4>>2]==1&&(s=+i[n+8>>2]!=1?s:0),e[t+180>>2]=s}function ZF(t,n){t=t|0,n=+n,i[t+256>>2]=n}function QF(t,n){t=t|0,n=+n,i[t+252>>2]=n}function JF(t,n){t=t|0,n=n|0,ih(t,n)}function eB(t,n){t=t|0,n=n|0,e[t+204>>2]=n}function tB(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+8>>2]&127](t,n)}function iB(t,n){t=t|0,n=+n,i[t+184>>2]=n}function nB(t,n,s){t=t|0,n=+n,s=+s;var o=0;o=H,H=H+32|0,i[o+20>>2]=n,i[o+16>>2]=s,i[o+12>>2]=0,i[o+8>>2]=1,e[t+468>>2]=e[(n<0?o+12|0:n>1?o+8|0:o+20|0)>>2],i[o+4>>2]=0,i[o>>2]=1,e[t+472>>2]=e[(s<0?o+4|0:s>1?o:o+16|0)>>2],H=o}function rB(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+224>>2]=n}function sB(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;e[t+372>>2]=e[n>>2],e[t+372+4>>2]=e[n+4>>2],e[t+372+8>>2]=e[n+8>>2],e[t+372+12>>2]=e[n+12>>2],a=+i[t+368>>2],o=a*+i[t+376>>2],s=a*+i[t+380>>2],i[t+584>>2]=+i[t+372>>2]*a,i[t+588>>2]=o,i[t+592>>2]=s,i[t+596>>2]=0}function oB(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+336>>2]=e[n>>2],e[t+336+4>>2]=e[n+4>>2],e[t+336+8>>2]=e[n+8>>2],e[t+336+12>>2]=e[n+12>>2]}function aB(t,n,s){t=t|0,n=+n,s=s|0;var o=0,a=0,l=0,u=0,p=0;o=e[t+204>>2]|0,n==0?(e[t+204>>2]=o|1,l=0):(e[t+204>>2]=o&-2,l=1/n),i[t+368>>2]=l,p=+i[t+408>>2]*n,u=+i[t+412>>2]*n,i[t+388>>2]=+i[t+404>>2]*n,i[t+392>>2]=p,i[t+396>>2]=u,i[t+400>>2]=0,n=+i[s>>2],a=n!=0?(i[Z>>2]=1/n,e[Z>>2]|0):0,n=+i[s+4>>2],o=n!=0?(i[Z>>2]=1/n,e[Z>>2]|0):0,n=+i[s+8>>2],s=n!=0?(i[Z>>2]=1/n,e[Z>>2]|0):0,e[t+420>>2]=a,e[t+424>>2]=o,e[t+428>>2]=s,i[t+432>>2]=0,u=l*+i[t+376>>2],p=l*+i[t+380>>2],i[t+584>>2]=+i[t+372>>2]*l,i[t+588>>2]=u,i[t+592>>2]=p,i[t+596>>2]=0}function cB(t,n){t=t|0,n=n|0,e[t+504>>2]=n,n&&zt[e[(e[n>>2]|0)+8>>2]&127](n,t+4|0)}function lB(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+228>>2]=n}function uB(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+232>>2]=n}function fB(t,n,s){t=t|0,n=+n,s=+s,i[t+496>>2]=n,i[t+500>>2]=s}function _B(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2],e[t+20>>2]=e[n+16>>2],e[t+20+4>>2]=e[n+16+4>>2],e[t+20+8>>2]=e[n+16+8>>2],e[t+20+12>>2]=e[n+16+12>>2],e[t+36>>2]=e[n+32>>2],e[t+36+4>>2]=e[n+32+4>>2],e[t+36+8>>2]=e[n+32+8>>2],e[t+36+12>>2]=e[n+32+12>>2],e[t+52>>2]=e[n+48>>2],e[t+52+4>>2]=e[n+48+4>>2],e[t+52+8>>2]=e[n+48+8>>2],e[t+52+12>>2]=e[n+48+12>>2]}function pB(t,n){return t=t|0,n=n|0,((e[n+236>>2]&2|0)==0?0:n)|0}function hB(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0;S=+i[t+4>>2],u=+i[t+420>>2],g=+i[t+8>>2],a=+i[t+424>>2],m=+i[t+12>>2],s=+i[t+428>>2],d=+i[t+20>>2],h=+i[t+24>>2],p=+i[t+28>>2],l=+i[t+36>>2],o=+i[t+40>>2],n=+i[t+44>>2],i[t+288>>2]=S*u*S+g*a*g+m*s*m,i[t+292>>2]=S*u*d+g*a*h+m*s*p,i[t+296>>2]=S*u*l+g*a*o+m*s*n,i[t+300>>2]=0,i[t+304>>2]=u*d*S+a*h*g+s*p*m,i[t+308>>2]=u*d*d+a*h*h+s*p*p,i[t+312>>2]=u*d*l+a*h*o+s*p*n,i[t+316>>2]=0,i[t+320>>2]=u*l*S+a*o*g+s*n*m,i[t+324>>2]=u*l*d+a*o*h+s*n*p,i[t+328>>2]=u*l*l+a*o*o+s*n*n,i[t+332>>2]=0}function dB(t){t=t|0,t&&ye(t)}function mB(t){return t=t|0,+ +i[t+80>>2]}function gB(t,n){t=t|0,n=+n,i[t+80>>2]=n}function xB(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function yB(){var t=0;return e[5637]=(e[5637]|0)+1,t=Xe(223)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,e[t>>2]=7540,R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,R[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,R[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,R[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,e[t+72>>2]=0,R[t+100>>0]=1,e[t+96>>2]=0,e[t+88>>2]=0,e[t+92>>2]=0,R[t+120>>0]=1,e[t+116>>2]=0,e[t+108>>2]=0,e[t+112>>2]=0,R[t+140>>0]=1,e[t+136>>2]=0,e[t+128>>2]=0,e[t+132>>2]=0,R[t+160>>0]=1,e[t+156>>2]=0,e[t+148>>2]=0,e[t+152>>2]=0,R[t+180>>0]=1,e[t+176>>2]=0,e[t+168>>2]=0,e[t+172>>2]=0,e[t+192>>2]=13,e[t+196>>2]=14,e[t+200>>2]=0,t|0}function vB(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function SB(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0;return a=H,H=H+16|0,e[5637]=(e[5637]|0)+1,o=Xe(1147)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,R[19880]|0||(R[19880]=1,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,eu(21260,0,0,0,a)),e[5366]=e[5366]|1,i[5407]=0,F=+i[5417]*0,Y=+i[5418]*0,i[5412]=+i[5416]*0,i[5413]=F,i[5414]=Y,i[5415]=0,e[5420]=0,e[5421]=0,e[5422]=0,e[5423]=0,Y=+i[5409]*0,F=+i[5410]*0,i[5461]=+i[5408]*0,i[5462]=Y,i[5463]=F,i[5464]=0,e[o+4>>2]=7,e[o+8>>2]=-1,e[o+12>>2]=-1,i[o+16>>2]=34028234663852886e22,R[o+20>>0]=1,R[o+21>>0]=0,e[o+24>>2]=-1,u=o+28|0,e[u>>2]=21260,l=o+32|0,e[l>>2]=t,i[o+36>>2]=0,i[o+40>>2]=.30000001192092896,e[o+44>>2]=0,e[o>>2]=7600,R[o+48>>0]=0,te=o+116|0,e[te>>2]=e[n>>2],e[te+4>>2]=e[n+4>>2],e[te+8>>2]=e[n+8>>2],e[te+12>>2]=e[n+12>>2],W=o+132|0,e[W>>2]=e[n+16>>2],e[W+4>>2]=e[n+16+4>>2],e[W+8>>2]=e[n+16+8>>2],e[W+12>>2]=e[n+16+12>>2],ne=o+148|0,e[ne>>2]=e[n+32>>2],e[ne+4>>2]=e[n+32+4>>2],e[ne+8>>2]=e[n+32+8>>2],e[ne+12>>2]=e[n+32+12>>2],X=o+164|0,e[X>>2]=e[n+48>>2],e[X+4>>2]=e[n+48+4>>2],e[X+8>>2]=e[n+48+8>>2],e[X+12>>2]=e[n+48+12>>2],R[o+180>>0]=s&1,F=+i[te>>2],Y=+i[t+4>>2],L=+i[W>>2],z=+i[t+8>>2],B=+i[ne>>2],O=+i[t+12>>2],b=+i[o+120>>2],D=+i[o+136>>2],E=+i[o+152>>2],M=+i[o+124>>2],C=+i[o+140>>2],g=+i[o+156>>2],G=+i[t+20>>2],U=+i[t+24>>2],P=+i[t+28>>2],w=+i[t+36>>2],S=+i[t+40>>2],m=+i[t+44>>2],q=+i[X>>2],$=+i[o+168>>2],p=+i[o+172>>2],d=+i[t+52>>2]+(Y*q+z*$+O*p),h=G*q+U*$+P*p+ +i[t+56>>2],p=w*q+S*$+m*p+ +i[t+60>>2],i[o+52>>2]=F*Y+L*z+B*O,i[o+56>>2]=Y*b+z*D+O*E,i[o+60>>2]=Y*M+z*C+O*g,i[o+64>>2]=0,i[o+68>>2]=F*G+L*U+B*P,i[o+72>>2]=b*G+D*U+E*P,i[o+76>>2]=M*G+C*U+g*P,i[o+80>>2]=0,i[o+84>>2]=F*w+L*S+B*m,i[o+88>>2]=b*w+D*S+E*m,i[o+92>>2]=M*w+C*S+g*m,i[o+96>>2]=0,i[o+100>>2]=d,i[o+104>>2]=h,i[o+108>>2]=p,i[o+112>>2]=0,i[o+184>>2]=1,i[o+188>>2]=-1,i[o+192>>2]=0,i[o+196>>2]=0,i[o+200>>2]=1,i[o+204>>2]=.699999988079071,i[o+208>>2]=0,i[o+212>>2]=0,i[o+216>>2]=1,i[o+220>>2]=.699999988079071,i[o+224>>2]=0,i[o+228>>2]=0,i[o+264>>2]=1,i[o+268>>2]=.699999988079071,i[o+272>>2]=1,i[o+276>>2]=0,i[o+280>>2]=1,i[o+284>>2]=.699999988079071,i[o+288>>2]=1,i[o+292>>2]=0,i[o+232>>2]=1,i[o+236>>2]=.699999988079071,i[o+240>>2]=1,i[o+244>>2]=0,i[o+248>>2]=1,i[o+252>>2]=.699999988079071,i[o+256>>2]=1,i[o+260>>2]=0,R[o+1096>>0]=0,s=o+1100|0,i[o+1116>>2]=0,i[o+1120>>2]=0,i[o+1124>>2]=0,e[o+300>>2]=0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,R[s+12>>0]=0,R[o+49>>0]=1,eh(o,(e[u>>2]|0)+4|0,(e[l>>2]|0)+4|0),H=a,o|0}function CB(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0;return e[5637]=(e[5637]|0)+1,l=Xe(1147)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,e[l+4>>2]=7,e[l+8>>2]=-1,e[l+12>>2]=-1,i[l+16>>2]=34028234663852886e22,R[l+20>>0]=1,R[l+21>>0]=0,e[l+24>>2]=-1,u=l+28|0,e[u>>2]=t,t=l+32|0,e[t>>2]=n,i[l+36>>2]=0,i[l+40>>2]=.30000001192092896,e[l+44>>2]=0,e[l>>2]=7600,R[l+48>>0]=0,n=l+52|0,e[n>>2]=e[s>>2],e[n+4>>2]=e[s+4>>2],e[n+8>>2]=e[s+8>>2],e[n+12>>2]=e[s+12>>2],n=l+68|0,e[n>>2]=e[s+16>>2],e[n+4>>2]=e[s+16+4>>2],e[n+8>>2]=e[s+16+8>>2],e[n+12>>2]=e[s+16+12>>2],n=l+84|0,e[n>>2]=e[s+32>>2],e[n+4>>2]=e[s+32+4>>2],e[n+8>>2]=e[s+32+8>>2],e[n+12>>2]=e[s+32+12>>2],n=l+100|0,e[n>>2]=e[s+48>>2],e[n+4>>2]=e[s+48+4>>2],e[n+8>>2]=e[s+48+8>>2],e[n+12>>2]=e[s+48+12>>2],s=l+116|0,e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],e[s+12>>2]=e[o+12>>2],s=l+132|0,e[s>>2]=e[o+16>>2],e[s+4>>2]=e[o+16+4>>2],e[s+8>>2]=e[o+16+8>>2],e[s+12>>2]=e[o+16+12>>2],s=l+148|0,e[s>>2]=e[o+32>>2],e[s+4>>2]=e[o+32+4>>2],e[s+8>>2]=e[o+32+8>>2],e[s+12>>2]=e[o+32+12>>2],s=l+164|0,e[s>>2]=e[o+48>>2],e[s+4>>2]=e[o+48+4>>2],e[s+8>>2]=e[o+48+8>>2],e[s+12>>2]=e[o+48+12>>2],R[l+180>>0]=a&1,i[l+184>>2]=1,i[l+188>>2]=-1,i[l+192>>2]=0,i[l+196>>2]=0,i[l+200>>2]=1,i[l+204>>2]=.699999988079071,i[l+208>>2]=0,i[l+212>>2]=0,i[l+216>>2]=1,i[l+220>>2]=.699999988079071,i[l+224>>2]=0,i[l+228>>2]=0,i[l+264>>2]=1,i[l+268>>2]=.699999988079071,i[l+272>>2]=1,i[l+276>>2]=0,i[l+280>>2]=1,i[l+284>>2]=.699999988079071,i[l+288>>2]=1,i[l+292>>2]=0,i[l+232>>2]=1,i[l+236>>2]=.699999988079071,i[l+240>>2]=1,i[l+244>>2]=0,i[l+248>>2]=1,i[l+252>>2]=.699999988079071,i[l+256>>2]=1,i[l+260>>2]=0,R[l+1096>>0]=0,a=l+1100|0,i[l+1116>>2]=0,i[l+1120>>2]=0,i[l+1124>>2]=0,e[l+300>>2]=0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,R[a+12>>0]=0,R[l+49>>0]=1,eh(l,(e[u>>2]|0)+4|0,(e[t>>2]|0)+4|0),l|0}function TB(t,n){t=t|0,n=n|0,R[t+21>>0]=n&1}function wB(t){return t=t|0,+ +i[t+16>>2]}function MB(t,n){t=t|0,n=+n,i[t+16>>2]=n}function RB(t,n){t=t|0,n=+n,n=+an(n),n<-3.1415927410125732?n=n+6.2831854820251465:n>3.1415927410125732&&(n=n+-6.2831854820251465),i[t+192>>2]=n}function AB(t,n){t=t|0,n=+n,i[t+184>>2]=n}function EB(t,n){t=t|0,n=+n,n=+an(n),n<-3.1415927410125732?n=n+6.2831854820251465:n>3.1415927410125732&&(n=n+-6.2831854820251465),i[t+196>>2]=n}function NB(t,n){t=t|0,n=+n,i[t+188>>2]=n}function bB(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function DB(t){t=+t;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(75)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,e[n+8>>2]=0,e[n+12>>2]=-1,e[n+16>>2]=1065353216,e[n+20>>2]=1065353216,e[n+24>>2]=1065353216,i[n+28>>2]=0,e[n>>2]=6380,e[n+4>>2]=8,i[n+32>>2]=t,i[n+48>>2]=t,n|0}function IB(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function PB(t){return t=t|0,+ +Ct[e[(e[t>>2]|0)+48>>2]&15](t)}function LB(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function kB(t,n){t=t|0,n=+n,m2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function FB(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function BB(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,p=0;return e[5637]=(e[5637]|0)+1,s=Xe(107)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=s+4|0,e[o>>2]=35,e[s+8>>2]=0,e[s+12>>2]=-1,i[s+16>>2]=0,e[s>>2]=6480,p=+i[t>>2],u=+i[t+4>>2],l=+i[t+8>>2],t=e[t+12>>2]|0,a=1/+ot(+(p*p+u*u+l*l)),i[s+52>>2]=p*a,i[s+56>>2]=u*a,i[s+60>>2]=l*a,e[s+64>>2]=t,i[s+68>>2]=n,e[s+72>>2]=1065353216,e[s+76>>2]=1065353216,e[s+80>>2]=1065353216,i[s+84>>2]=0,e[o>>2]=28,s|0}function UB(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function OB(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function GB(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function VB(t){t=t|0,t&&ye(t)}function zB(){for(var t=0,n=0;;){if(t=Xe(64)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}g2[t&3]()}if((n|0)==5)n=L2(4)|0,e[n>>2]=8308,k2(n|0,2416,215);else if((n|0)==6)return t|0;return 0}function WB(t,n){t=t|0,n=n|0;for(var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;;){if(s=Xe(64)|0,s|0){o=6;break}if(s=e[5831]|0,e[5831]=s+0,!s){o=5;break}g2[s&3]()}if((o|0)==5)n=L2(4)|0,e[n>>2]=8308,k2(n|0,2416,215);else if((o|0)==6)return p=+i[t>>2],l=+i[t+4>>2],m=+i[t+8>>2],h=+i[t+12>>2],u=p*(2/(p*p+l*l+m*m+h*h)),a=l*(2/(p*p+l*l+m*m+h*h)),d=m*(2/(p*p+l*l+m*m+h*h)),i[s>>2]=1-(l*a+m*d),i[s+4>>2]=p*a-h*d,i[s+8>>2]=p*d+h*a,i[s+12>>2]=0,i[s+16>>2]=p*a+h*d,i[s+20>>2]=1-(p*u+m*d),i[s+24>>2]=l*d-h*u,i[s+28>>2]=0,i[s+32>>2]=p*d-h*a,i[s+36>>2]=l*d+h*u,i[s+40>>2]=1-(p*u+l*a),i[s+44>>2]=0,e[s+48>>2]=e[n>>2],e[s+48+4>>2]=e[n+4>>2],e[s+48+8>>2]=e[n+8>>2],e[s+48+12>>2]=e[n+12>>2],s|0;return 0}function HB(t){return t=t|0,t|0}function jB(t){return t=t|0,t+48|0}function qB(t){t=t|0;var n=0;return n=H,H=H+16|0,R[19928]|0||(R[19928]=1),ds(t,n),e[5700]=e[n>>2],e[5701]=e[n+4>>2],e[5702]=e[n+8>>2],e[5703]=e[n+12>>2],H=n,22800}function XB(t){t=t|0,e[t>>2]=1065353216,e[t+4>>2]=0,e[t+4+4>>2]=0,e[t+4+8>>2]=0,e[t+4+12>>2]=0,e[t+20>>2]=1065353216,e[t+24>>2]=0,e[t+24+4>>2]=0,e[t+24+8>>2]=0,e[t+24+12>>2]=0,e[t+40>>2]=1065353216,e[t+44>>2]=0,e[t+44+4>>2]=0,e[t+44+8>>2]=0,e[t+44+12>>2]=0,e[t+44+16>>2]=0}function $B(t,n){t=t|0,n=n|0,e[t+48>>2]=e[n>>2],e[t+48+4>>2]=e[n+4>>2],e[t+48+8>>2]=e[n+8>>2],e[t+48+12>>2]=e[n+12>>2]}function YB(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0;l=+i[n>>2],o=+i[n+4>>2],h=+i[n+8>>2],u=+i[n+12>>2],a=l*(2/(l*l+o*o+h*h+u*u)),s=o*(2/(l*l+o*o+h*h+u*u)),p=h*(2/(l*l+o*o+h*h+u*u)),i[t>>2]=1-(o*s+h*p),i[t+4>>2]=l*s-u*p,i[t+8>>2]=l*p+u*s,i[t+12>>2]=0,i[t+16>>2]=l*s+u*p,i[t+20>>2]=1-(l*a+h*p),i[t+24>>2]=o*p-u*a,i[t+28>>2]=0,i[t+32>>2]=l*p-u*s,i[t+36>>2]=o*p+u*a,i[t+40>>2]=1-(l*a+o*s),i[t+44>>2]=0}function KB(t){t=t|0,t&&ye(t)}function ZB(t){return t=t|0,t+260|0}function QB(t,n){t=t|0,n=n|0,e[t+260>>2]=e[n>>2],e[t+260+4>>2]=e[n+4>>2],e[t+260+8>>2]=e[n+8>>2],e[t+260+12>>2]=e[n+12>>2]}function JB(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function eU(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function tU(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function iU(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function nU(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;a=e[t+32>>2]|0,e[a>>2]=(e[a>>2]|0)+1,pc(t,hc(t,n,0)|0),pc(t,hc(t,s,0)|0),pc(t,hc(t,o,0)|0)}function rU(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0;l=e[t+32>>2]|0,e[l>>2]=(e[l>>2]|0)+1,pc(t,hc(t,n,a)|0),pc(t,hc(t,s,a)|0),pc(t,hc(t,o,a)|0)}function sU(){var t=0;return e[5637]=(e[5637]|0)+1,t=Xe(191)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,nh(t,1,1),t|0}function oU(t){t=t|0;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(191)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,nh(n,t,1),n|0}function aU(t,n){t=t|0,n=n|0;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(191)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,nh(s,t,n),s|0}function cU(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function lU(t,n){t=t|0,n=n|0,R[t+21>>0]=n&1}function uU(t){return t=t|0,+ +i[t+16>>2]}function fU(t,n){t=t|0,n=+n,i[t+16>>2]=n}function _U(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function pU(){var t=0;return e[5637]=(e[5637]|0)+1,t=Xe(35)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16,t|0):(t=0,t|0)}function hU(t,n,s){t=+t,n=+n,s=+s;var o=0;return e[5637]=(e[5637]|0)+1,o=Xe(35)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,i[o>>2]=t,i[o+4>>2]=n,i[o+8>>2]=s,i[o+12>>2]=0,o|0}function dU(t,n){return t=t|0,n=n|0,+(+i[t>>2]*+i[n>>2]+ +i[t+4>>2]*+i[n+4>>2]+ +i[t+8>>2]*+i[n+8>>2])}function mU(t){t=t|0;var n=0,s=0,o=0;return o=+i[t>>2],s=+i[t+4>>2],n=+i[t+8>>2],+ +ot(+(o*o+s*s+n*n))}function gU(t){t=t|0;var n=0,s=0,o=0,a=0;a=+i[t>>2],o=+i[t+4>>2],s=+i[t+8>>2],n=1/+ot(+(a*a+o*o+s*s)),i[t>>2]=a*n,i[t+4>>2]=o*n,i[t+8>>2]=s*n}function xU(t,n){return t=t|0,n=n|0,i[t>>2]=+i[n>>2]+ +i[t>>2],i[t+4>>2]=+i[n+4>>2]+ +i[t+4>>2],i[t+8>>2]=+i[n+8>>2]+ +i[t+8>>2],t|0}function yU(t,n){return t=t|0,n=+n,i[t>>2]=+i[t>>2]*n,i[t+4>>2]=+i[t+4>>2]*n,i[t+8>>2]=+i[t+8>>2]*n,t|0}function vU(t,n){return t=t|0,n=n|0,i[t>>2]=+i[t>>2]-+i[n>>2],i[t+4>>2]=+i[t+4>>2]-+i[n+4>>2],i[t+8>>2]=+i[t+8>>2]-+i[n+8>>2],t|0}function SU(t,n,s,o){t=t|0,n=+n,s=+s,o=+o,i[t>>2]=n,i[t+4>>2]=s,i[t+8>>2]=o,i[t+12>>2]=0}function CU(t,n){t=t|0,n=+n,i[t>>2]=n}function TU(t,n){t=t|0,n=+n,i[t+4>>2]=n}function wU(t,n){t=t|0,n=+n,i[t+8>>2]=n}function MU(t){return t=t|0,+ +i[t>>2]}function RU(t){return t=t|0,+ +i[t+4>>2]}function AU(t){return t=t|0,+ +i[t+8>>2]}function EU(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function NU(){var t=0;return e[5637]=(e[5637]|0)+1,t=Xe(35)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16,t|0):(t=0,t|0)}function bU(t,n,s,o){t=+t,n=+n,s=+s,o=+o;var a=0;return e[5637]=(e[5637]|0)+1,a=Xe(35)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,i[a>>2]=t,i[a+4>>2]=n,i[a+8>>2]=s,i[a+12>>2]=o,a|0}function DU(t,n){return t=t|0,n=n|0,+(+i[t>>2]*+i[n>>2]+ +i[t+4>>2]*+i[n+4>>2]+ +i[t+8>>2]*+i[n+8>>2])}function IU(t){t=t|0;var n=0,s=0,o=0;return o=+i[t>>2],s=+i[t+4>>2],n=+i[t+8>>2],+ +ot(+(o*o+s*s+n*n))}function PU(t){t=t|0;var n=0,s=0,o=0,a=0;a=+i[t>>2],o=+i[t+4>>2],s=+i[t+8>>2],n=1/+ot(+(a*a+o*o+s*s)),i[t>>2]=a*n,i[t+4>>2]=o*n,i[t+8>>2]=s*n}function LU(t,n){return t=t|0,n=n|0,i[t>>2]=+i[n>>2]+ +i[t>>2],i[t+4>>2]=+i[n+4>>2]+ +i[t+4>>2],i[t+8>>2]=+i[n+8>>2]+ +i[t+8>>2],t|0}function kU(t,n){return t=t|0,n=+n,i[t>>2]=+i[t>>2]*n,i[t+4>>2]=+i[t+4>>2]*n,i[t+8>>2]=+i[t+8>>2]*n,t|0}function FU(t,n){return t=t|0,n=n|0,i[t>>2]=+i[t>>2]-+i[n>>2],i[t+4>>2]=+i[t+4>>2]-+i[n+4>>2],i[t+8>>2]=+i[t+8>>2]-+i[n+8>>2],t|0}function BU(t,n,s,o,a){t=t|0,n=+n,s=+s,o=+o,a=+a,i[t>>2]=n,i[t+4>>2]=s,i[t+8>>2]=o,i[t+12>>2]=a}function UU(t,n){t=t|0,n=+n,i[t>>2]=n}function OU(t,n){t=t|0,n=+n,i[t+4>>2]=n}function GU(t,n){t=t|0,n=+n,i[t+8>>2]=n}function VU(t){return t=t|0,+ +i[t+12>>2]}function zU(t){return t=t|0,+ +i[t>>2]}function WU(t){return t=t|0,+ +i[t+4>>2]}function HU(t){return t=t|0,+ +i[t+8>>2]}function jU(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function qU(){for(var t=0,n=0;;){if(t=Xe(24)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}g2[t&3]()}if((n|0)==5)n=L2(4)|0,e[n>>2]=8308,k2(n|0,2416,215);else if((n|0)==6)return i[t>>2]=5.880000114440918,i[t+4>>2]=.8299999833106995,i[t+8>>2]=.8799999952316284,i[t+12>>2]=500,i[t+16>>2]=10.5,i[t+20>>2]=6e3,t|0;return 0}function XU(t){return t=t|0,+ +i[t+16>>2]}function $U(t){return t=t|0,+ +i[t+20>>2]}function YU(t){return t=t|0,+ +i[t+12>>2]}function KU(t){return t=t|0,+ +i[t+4>>2]}function ZU(t){return t=t|0,+ +i[t+8>>2]}function QU(t){return t=t|0,+ +i[t>>2]}function JU(t,n){t=t|0,n=+n,i[t+16>>2]=n}function eO(t,n){t=t|0,n=+n,i[t+20>>2]=n}function tO(t,n){t=t|0,n=+n,i[t+12>>2]=n}function iO(t,n){t=t|0,n=+n,i[t+4>>2]=n}function nO(t,n){t=t|0,n=+n,i[t+8>>2]=n}function rO(t,n){t=t|0,n=+n,i[t>>2]=n}function sO(t){t=t|0,t&&ye(t)}function oO(t){return t=t|0,(R[t+260>>0]|0)!=0|0}function aO(t){return t=t|0,t+156|0}function cO(t){return t=t|0,+ +i[t+252>>2]}function lO(t){return t=t|0,+ +i[t+228>>2]}function uO(t){return t=t|0,+ +i[t+248>>2]}function fO(t){return t=t|0,+ +i[t+208>>2]}function _O(t){return t=t|0,t|0}function pO(t){return t=t|0,+ +i[t+244>>2]}function hO(t){return t=t|0,+ +i[t+232>>2]}function dO(t){return t=t|0,+ +i[t+204>>2]}function mO(t){return t=t|0,+ +i[t+216>>2]}function gO(t){return t=t|0,+ +i[t+220>>2]}function xO(t){return t=t|0,+ +i[t+224>>2]}function yO(t){return t=t|0,+ +i[t+212>>2]}function vO(t){return t=t|0,+ +i[t+276>>2]}function SO(t,n){t=t|0,n=n|0,R[t+260>>0]=n&1}function CO(t,n){t=t|0,n=n|0,e[t+156>>2]=e[n>>2],e[t+156+4>>2]=e[n+4>>2],e[t+156+8>>2]=e[n+8>>2],e[t+156+12>>2]=e[n+12>>2]}function TO(t,n){t=t|0,n=+n,i[t+252>>2]=n}function wO(t,n){t=t|0,n=+n,i[t+228>>2]=n}function MO(t,n){t=t|0,n=+n,i[t+248>>2]=n}function RO(t,n){t=t|0,n=+n,i[t+208>>2]=n}function AO(t,n){t=t|0,n=n|0;var s=0;s=t+92|0;do e[t>>2]=e[n>>2],t=t+4|0,n=n+4|0;while((t|0)<(s|0))}function EO(t,n){t=t|0,n=+n,i[t+244>>2]=n}function NO(t,n){t=t|0,n=+n,i[t+232>>2]=n}function bO(t,n){t=t|0,n=+n,i[t+204>>2]=n}function DO(t,n){t=t|0,n=+n,i[t+216>>2]=n}function IO(t,n){t=t|0,n=+n,i[t+220>>2]=n}function PO(t,n){t=t|0,n=+n,i[t+224>>2]=n}function LO(t,n){t=t|0,n=+n,i[t+212>>2]=n}function kO(t,n){t=t|0,n=+n,i[t+276>>2]=n}function FO(){return 0}function BO(){return 1}function UO(){return 2}function OO(){return 3}function GO(){return 4}function VO(){return 5}function zO(t){t=t|0;var n=0,s=0;return s=H,H=H+16|0,e[s>>2]=e[t+60>>2],t=TI(6,s|0)|0,t>>>0>4294963200&&(n=22816,e[n>>2]=0-t,t=-1),H=s,t|0}function WO(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;for(h=H,H=H+48|0,l=e[t+28>>2]|0,e[h+32>>2]=l,l=(e[t+20>>2]|0)-l|0,e[h+32+4>>2]=l,e[h+32+8>>2]=n,e[h+32+12>>2]=s,p=h+32|0,a=2,l=l+s|0;;){if(e[h+16>>2]=e[t+60>>2],e[h+16+4>>2]=p,e[h+16+8>>2]=a,n=RI(146,h+16|0)|0,n>>>0>4294963200&&(o=22816,e[o>>2]=0-n,n=-1),(l|0)==(n|0)){n=13;break}if((n|0)<0){n=15;break}l=l-n|0,o=e[p+4>>2]|0,n>>>0<=o>>>0?(a|0)==2?(e[t+28>>2]=(e[t+28>>2]|0)+n,u=o,o=p,a=2):(u=o,o=p):(u=e[t+44>>2]|0,e[t+28>>2]=u,e[t+20>>2]=u,u=e[p+12>>2]|0,n=n-o|0,o=p+8|0,a=a+-1|0),e[o>>2]=(e[o>>2]|0)+n,e[o+4>>2]=u-n,p=o}return(n|0)==13?(p=e[t+44>>2]|0,e[t+16>>2]=p+(e[t+48>>2]|0),e[t+28>>2]=p,e[t+20>>2]=p):(n|0)==15&&(e[t+16>>2]=0,e[t+28>>2]=0,e[t+20>>2]=0,e[t>>2]=e[t>>2]|32,(a|0)==2?s=0:s=s-(e[p+4>>2]|0)|0),H=h,s|0}function HO(t){t=t|0}function jO(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return a=H,H=H+32|0,e[a>>2]=e[t+60>>2],e[a+4>>2]=0,e[a+8>>2]=n,e[a+12>>2]=a+20,e[a+16>>2]=s,n=wI(140,a|0)|0,n>>>0<=4294963200?(n|0)<0?o=7:t=e[a+20>>2]|0:(t=22816,e[t>>2]=0-n,o=7),(o|0)==7&&(e[a+20>>2]=-1,t=-1),H=a,t|0}function qO(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;e:do if((s|0)!=0&(t&3|0)!=0)for(o=s;;){if((R[t>>0]|0)==(n&255)<<24>>24)break e;if(t=t+1|0,s=o+-1|0,(s|0)!=0&(t&3|0)!=0)o=s;else{o=s,s=(s|0)!=0,a=5;break}}else o=s,s=(s|0)!=0,a=5;while(!1);e:do if((a|0)==5)if(s){if((R[t>>0]|0)!=(n&255)<<24>>24){s=Rt(n&255,16843009)|0;t:do if(o>>>0>3){for(;l=e[t>>2]^s,!((l&-2139062144^-2139062144)&l+-16843009|0);)if(t=t+4|0,o=o+-4|0,o>>>0<=3){a=11;break t}}else a=11;while(!1);if((a|0)==11&&!o){o=0;break}for(;;){if((R[t>>0]|0)==(n&255)<<24>>24)break e;if(t=t+1|0,o=o+-1|0,!o){o=0;break}}}}else o=0;while(!1);return(o|0?t:0)|0}function Hp(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0;W=H,H=H+624|0,$=W+536+40|0,X=W+588|0,ne=W+576+12|0,q=W+588+9|0,l=0,u=0,m=0,M=n;e:for(;;){do if((l|0)>-1){if((u|0)<=(2147483647-l|0)){l=u+l|0;break}l=22816,e[l>>2]=75,l=-1}while(!1);if(n=R[M>>0]|0,n<<24>>24)u=M;else{Y=254;break}t:for(;;){switch(n<<24>>24){case 37:{n=u,Y=11;break t}case 0:{n=u;break t}default:}z=u+1|0,n=R[z>>0]|0,u=z}t:do if((Y|0)==11)for(;;){if(Y=0,(R[n+1>>0]|0)!=37)break t;if(u=u+1|0,n=n+2|0,(R[n>>0]|0)==37)Y=11;else break}while(!1);if(w=u-M|0,t|0&&(e[t>>2]&32|0)==0&&nr(M,w,t),(u|0)!=(M|0)){u=w,M=n;continue}p=n+1|0,u=R[p>>0]|0,((u<<24>>24)+-48|0)>>>0<10?(z=(R[n+2>>0]|0)==36,p=z?n+3|0:p,d=R[p>>0]|0,C=z?(u<<24>>24)+-48|0:-1,m=z?1:m):(d=u,C=-1),n=d<<24>>24;t:do if((n&-32|0)==32){u=d,d=0;do{if(!(1<<n+-32&75913))break t;d=1<<(u<<24>>24)+-32|d,p=p+1|0,u=R[p>>0]|0,n=u<<24>>24}while((n&-32|0)==32)}else u=d,d=0;while(!1);do if(u<<24>>24==42){if(u=p+1|0,n=(R[u>>0]|0)+-48|0,n>>>0<10&&(R[p+2>>0]|0)==36)e[a+(n<<2)>>2]=10,n=1,p=p+3|0,u=e[o+((R[u>>0]|0)+-48<<3)>>2]|0;else{if(m|0){l=-1;break e}if(!t){S=d,z=0,p=u,O=0;break}n=(e[s>>2]|0)+3&-4,z=e[n>>2]|0,e[s>>2]=n+4,n=0,p=u,u=z}(u|0)<0?(S=d|8192,z=n,O=0-u|0):(S=d,z=n,O=u)}else if(n=(u<<24>>24)+-48|0,n>>>0<10){u=0;do u=(u*10|0)+n|0,p=p+1|0,n=(R[p>>0]|0)+-48|0;while(n>>>0<10);if((u|0)<0){l=-1;break e}else S=d,z=m,O=u}else S=d,z=m,O=0;while(!1);t:do if((R[p>>0]|0)==46){if(n=p+1|0,d=R[n>>0]|0,d<<24>>24!=42){if(((d<<24>>24)+-48|0)>>>0<10)u=0,p=(d<<24>>24)+-48|0;else{m=0;break}for(;;)if(u=(u*10|0)+p|0,n=n+1|0,p=(R[n>>0]|0)+-48|0,p>>>0>=10){m=u;break t}}if(n=p+2|0,u=(R[n>>0]|0)+-48|0,u>>>0<10&&(R[p+3>>0]|0)==36){e[a+(u<<2)>>2]=10,m=e[o+((R[n>>0]|0)+-48<<3)>>2]|0,n=p+4|0;break}if(z|0){l=-1;break e}t|0?(G=(e[s>>2]|0)+3&-4,m=e[G>>2]|0,e[s>>2]=G+4):m=0}else m=-1,n=p;while(!1);for(d=0;;){if(u=(R[n>>0]|0)+-65|0,u>>>0>57){l=-1;break e}if(G=n+1|0,u=R[16811+(d*58|0)+u>>0]|0,((u&255)+-1|0)>>>0<8)n=G,d=u&255;else break}if(!(u<<24>>24)){l=-1;break}p=(C|0)>-1;do if(u<<24>>24==19)if(p){l=-1;break e}else Y=54;else{if(p){e[a+(C<<2)>>2]=u&255,U=o+(C<<3)|0,Y=e[U+4>>2]|0,e[W>>2]=e[U>>2],e[W+4>>2]=Y,Y=54;break}if(!t){l=0;break e}I8(W,u&255,s)}while(!1);if((Y|0)==54&&(Y=0,(t|0)==0)){u=w,m=z,M=G;continue}P=R[n>>0]|0,P=(d|0)!=0&(P&15|0)==3?P&-33:P,p=S&-65537,U=(S&8192|0)==0?S:p;t:do switch(P|0){case 110:switch(d|0){case 0:{e[e[W>>2]>>2]=l,u=w,m=z,M=G;continue e}case 1:{e[e[W>>2]>>2]=l,u=w,m=z,M=G;continue e}case 2:{u=e[W>>2]|0,e[u>>2]=l,e[u+4>>2]=((l|0)<0)<<31>>31,u=w,m=z,M=G;continue e}case 3:{ee[e[W>>2]>>1]=l,u=w,m=z,M=G;continue e}case 4:{R[e[W>>2]>>0]=l,u=w,m=z,M=G;continue e}case 6:{e[e[W>>2]>>2]=l,u=w,m=z,M=G;continue e}case 7:{u=e[W>>2]|0,e[u>>2]=l,e[u+4>>2]=((l|0)<0)<<31>>31,u=w,m=z,M=G;continue e}default:{u=w,m=z,M=G;continue e}}case 112:{S=U|8,m=m>>>0>8?m:8,C=120,Y=66;break}case 88:case 120:{S=U,C=P,Y=66;break}case 111:{if(u=e[W>>2]|0,p=e[W+4>>2]|0,(u|0)==0&(p|0)==0)n=$;else{n=$;do n=n+-1|0,R[n>>0]=u&7|48,u=Lf(u|0,p|0,3)|0,p=Ge;while(!((u|0)==0&(p|0)==0))}U&8?(S=$-n|0,u=U,m=(m|0)>(S|0)?m:S+1|0,S=0,d=17291,Y=79):(u=U,S=0,d=17291,Y=79);break}case 105:case 100:{if(n=e[W>>2]|0,u=e[W+4>>2]|0,(u|0)<0){n=Wi(0,0,n|0,u|0)|0,u=Ge,e[W>>2]=n,e[W+4>>2]=u,p=1,d=17291,Y=78;break t}U&2048?(p=1,d=17292,Y=78):(p=U&1,d=(U&1|0)==0?17291:17293,Y=78);break}case 117:{n=e[W>>2]|0,u=e[W+4>>2]|0,p=0,d=17291,Y=78;break}case 99:{R[W+536+39>>0]=e[W>>2],n=W+536+39|0,C=1,M=0,w=17291,u=$;break}case 109:{for(n=22816,u=e[n>>2]|0,n=0;;){if((It[17301+n>>0]|0)==(u|0)){Y=85;break}if(n=n+1|0,(n|0)==87){u=87,n=17389;break}}if((Y|0)==85)if(n)u=n,n=17389;else{u=17389,Y=92;break t}do{do Y=n,n=n+1|0;while((R[Y>>0]|0)!=0);u=u+-1|0}while((u|0)!=0);u=n,Y=92;break}case 115:{u=e[W>>2]|0,u=u|0?u:19193,Y=92;break}case 67:{e[W+8>>2]=e[W>>2],e[W+8+4>>2]=0,e[W>>2]=W+8,n=W+8|0,m=-1,Y=96;break}case 83:{n=e[W>>2]|0,m?Y=96:(gr(t,32,O,0,U),n=0,Y=107);break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{h=+Mt[W>>3],e[W+16>>2]=0,Mt[Z>>3]=h,(e[Z+4>>2]|0)>=0?U&2048?(L=1,F=19203):(L=U&1,F=(U&1|0)==0?19201:19206):(h=-h,L=1,F=19200),Mt[Z>>3]=h,B=e[Z+4>>2]&2146435072;do if(B>>>0<2146435072|(B|0)==2146435072&!1){if(h=+L8(h,W+16|0)*2,h!=0&&(e[W+16>>2]=(e[W+16>>2]|0)+-1),(P|32|0)==97){C=(P&32|0)==0?F:F+9|0,S=L|2,n=12-m|0;do if(!(m>>>0>11|(n|0)==0)){g=8;do n=n+-1|0,g=g*16;while((n|0)!=0);if((R[C>>0]|0)==45){h=-(g+(-h-g));break}else{h=h+g-g;break}}while(!1);for(u=e[W+16>>2]|0,n=(u|0)<0?0-u|0:u,n=fc(n,((n|0)<0)<<31>>31,W+576+12|0)|0,(n|0)==(W+576+12|0)&&(R[W+576+11>>0]=48,n=W+576+11|0),R[n+-1>>0]=(u>>31&2)+43,d=n+-2|0,R[d>>0]=P+15,p=(m|0)<1,n=W+588|0;;){F=~~h,u=n+1|0,R[n>>0]=It[17275+F>>0]|P&32,h=(h-+(F|0))*16;do if((u-X|0)==1){if((U&8|0)==0&(p&h==0))break;R[u>>0]=46,u=n+2|0}while(!1);if(h==0)break;n=u}n=(m|0)!=0&(-2-X+u|0)<(m|0)?ne+2+m-d|0:ne-X-d+u|0,gr(t,32,O,n+S|0,U),e[t>>2]&32||nr(C,S,t),gr(t,48,O,n+S|0,U^65536),e[t>>2]&32||nr(W+588|0,u-X|0,t),gr(t,48,n-(u-X+(ne-d))|0,0,0),e[t>>2]&32||nr(d,ne-d|0,t),gr(t,32,O,n+S|0,U^8192),n=(n+S|0)<(O|0)?O:n+S|0;break}n=(m|0)<0?6:m,h!=0?(u=(e[W+16>>2]|0)+-28|0,e[W+16>>2]=u,h=h*268435456):u=e[W+16>>2]|0,B=(u|0)<0?W+24|0:W+24+288|0,d=B;do b=~~h>>>0,e[d>>2]=b,d=d+4|0,h=(h-+(b>>>0))*1e9;while(h!=0);if(u=e[W+16>>2]|0,(u|0)>0){p=B;do{S=(u|0)>29?29:u,u=d+-4|0;do if(u>>>0>=p>>>0){m=0;do D=O8(e[u>>2]|0,0,S|0)|0,D=$t(D|0,Ge|0,m|0,0)|0,b=Ge,E=W8(D|0,b|0,1e9,0)|0,e[u>>2]=E,m=z8(D|0,b|0,1e9,0)|0,u=u+-4|0;while(u>>>0>=p>>>0);if(!m)break;p=p+-4|0,e[p>>2]=m}while(!1);for(;!(d>>>0<=p>>>0);)if(u=d+-4|0,!(e[u>>2]|0))d=u;else break;u=(e[W+16>>2]|0)-S|0,e[W+16>>2]=u}while((u|0)>0)}else p=B;if((u|0)<0){do{S=0-u|0,S=(S|0)>9?9:S;do if(p>>>0<d>>>0){m=0,u=p;do b=e[u>>2]|0,e[u>>2]=(b>>>S)+m,m=Rt(b&(1<<S)+-1,1e9>>>S)|0,u=u+4|0;while(u>>>0<d>>>0);if(u=(e[p>>2]|0)==0?p+4|0:p,!m){p=u,u=d;break}e[d>>2]=m,p=u,u=d+4|0}else p=(e[p>>2]|0)==0?p+4|0:p,u=d;while(!1);d=(P|32|0)==102?B:p,d=(u-d>>2|0)>(((n+25|0)/9|0)+1|0)?d+(((n+25|0)/9|0)+1<<2)|0:u,u=(e[W+16>>2]|0)+S|0,e[W+16>>2]=u}while((u|0)<0);u=p}else u=p;do if(u>>>0<d>>>0){if(p=(B-u>>2)*9|0,S=e[u>>2]|0,S>>>0<10)break;m=10;do m=m*10|0,p=p+1|0;while(S>>>0>=m>>>0)}else p=0;while(!1);if(m=n-((P|32|0)!=102?p:0)+(((n|0)!=0&(P|32|0)==103)<<31>>31)|0,(m|0)<(((d-B>>2)*9|0)+-9|0)){if(E=B+4+(((m+9216|0)/9|0)+-1024<<2)|0,(((m+9216|0)%9|0)+1|0)<9)for(S=10,C=((m+9216|0)%9|0)+1|0;m=S*10|0,C=C+1|0,(C|0)!=9;)S=m;else m=10;w=e[E>>2]|0,M=(w>>>0)%(m>>>0)|0,S=(E+4|0)==(d|0);do if(S&(M|0)==0)m=E;else{g=(((w>>>0)/(m>>>0)|0)&1|0)==0?9007199254740992:9007199254740994,C=(m|0)/2|0,M>>>0<C>>>0?h=.5:h=S&(M|0)==(C|0)?1:1.5;do if(L){if((R[F>>0]|0)!=45)break;g=-g,h=-h}while(!1);if(e[E>>2]=w-M,g+h==g){m=E;break}if(b=w-M+m|0,e[E>>2]=b,b>>>0>999999999)for(p=E;m=p+-4|0,e[p>>2]=0,m>>>0<u>>>0&&(u=u+-4|0,e[u>>2]=0),b=(e[m>>2]|0)+1|0,e[m>>2]=b,b>>>0>999999999;)p=m;else m=E;if(p=(B-u>>2)*9|0,C=e[u>>2]|0,C>>>0<10)break;S=10;do S=S*10|0,p=p+1|0;while(C>>>0>=S>>>0)}while(!1);D=m+4|0,b=u,u=d>>>0>D>>>0?D:d}else b=u,u=d;for(C=0-p|0,D=u;;){if(D>>>0<=b>>>0){M=0;break}if(u=D+-4|0,!(e[u>>2]|0))D=u;else{M=1;break}}do if((P|32|0)==103){if((((n|0)!=0^1)+n|0)>(p|0)&(p|0)>-5?(S=P+-1|0,n=((n|0)!=0^1)+n+-1-p|0):(S=P+-2|0,n=((n|0)!=0^1)+n+-1|0),U&8|0){m=U&8;break}do if(M){if(u=e[D+-4>>2]|0,!u){d=9;break}if(!((u>>>0)%10|0))m=10,d=0;else{d=0;break}do m=m*10|0,d=d+1|0;while(!((u>>>0)%(m>>>0)|0|0))}else d=9;while(!1);if(u=((D-B>>2)*9|0)+-9|0,(S|32|0)==102){m=u-d|0,m=(m|0)<0?0:m,n=(n|0)<(m|0)?n:m,m=0;break}else{m=u+p-d|0,m=(m|0)<0?0:m,n=(n|0)<(m|0)?n:m,m=0;break}}else S=P,m=U&8;while(!1);if(w=n|m,d=(S|32|0)==102,d)u=(p|0)>0?p:0,C=0;else{if(u=(p|0)<0?C:p,u=fc(u,((u|0)<0)<<31>>31,W+576+12|0)|0,(ne-u|0)<2)do u=u+-1|0,R[u>>0]=48;while((ne-u|0)<2);R[u+-1>>0]=(p>>31&2)+43,C=u+-2|0,R[C>>0]=S,u=ne-C|0}E=L+1+n+((w|0)!=0&1)+u|0,gr(t,32,O,E,U),e[t>>2]&32||nr(F,L,t),gr(t,48,O,E,U^65536);do if(d){d=b>>>0>B>>>0?B:b,p=d;do{u=fc(e[p>>2]|0,0,q)|0;do if((p|0)==(d|0)){if((u|0)!=(q|0))break;R[W+588+8>>0]=48,u=W+588+8|0}else{if(u>>>0<=(W+588|0)>>>0)break;ln(W+588|0,48,u-X|0)|0;do u=u+-1|0;while(u>>>0>(W+588|0)>>>0)}while(!1);e[t>>2]&32||nr(u,q-u|0,t),p=p+4|0}while(p>>>0<=B>>>0);do if(w|0){if(e[t>>2]&32|0)break;nr(19235,1,t)}while(!1);if((n|0)>0&p>>>0<D>>>0)for(;;){if(u=fc(e[p>>2]|0,0,q)|0,u>>>0>(W+588|0)>>>0){ln(W+588|0,48,u-X|0)|0;do u=u+-1|0;while(u>>>0>(W+588|0)>>>0)}if(e[t>>2]&32||nr(u,(n|0)>9?9:n,t),p=p+4|0,u=n+-9|0,(n|0)>9&p>>>0<D>>>0)n=u;else{n=u;break}}gr(t,48,n+9|0,9,0)}else{if(S=M?D:b+4|0,(n|0)>-1){m=(m|0)==0,d=b;do{u=fc(e[d>>2]|0,0,q)|0,(u|0)==(q|0)&&(R[W+588+8>>0]=48,u=W+588+8|0);do if((d|0)==(b|0)){if(p=u+1|0,e[t>>2]&32||nr(u,1,t),m&(n|0)<1){u=p;break}if(e[t>>2]&32|0){u=p;break}nr(19235,1,t),u=p}else{if(u>>>0<=(W+588|0)>>>0)break;ln(W+588|0,48,u+(0-X)|0)|0;do u=u+-1|0;while(u>>>0>(W+588|0)>>>0)}while(!1);p=q-u|0,e[t>>2]&32||nr(u,(n|0)>(p|0)?p:n,t),n=n-p|0,d=d+4|0}while(d>>>0<S>>>0&(n|0)>-1)}if(gr(t,48,n+18|0,18,0),e[t>>2]&32|0)break;nr(C,ne-C|0,t)}while(!1);gr(t,32,O,E,U^8192),n=(E|0)<(O|0)?O:E}else d=h!=h|!1,u=d?0:L,gr(t,32,O,u+3|0,p),n=e[t>>2]|0,n&32||(nr(F,u,t),n=e[t>>2]|0),n&32||nr(d?P&32|0?19227:19231:P&32|0?19219:19223,3,t),gr(t,32,O,u+3|0,U^8192),n=(u+3|0)<(O|0)?O:u+3|0;while(!1);u=n,m=z,M=G;continue e}default:n=M,p=U,C=m,M=0,w=17291,u=$}while(!1);t:do if((Y|0)==66)if(u=e[W>>2]|0,p=e[W+4>>2]|0,d=C&32,(u|0)==0&(p|0)==0)n=$,u=S,S=0,d=17291,Y=79;else{n=$;do n=n+-1|0,R[n>>0]=It[17275+(u&15)>>0]|d,u=Lf(u|0,p|0,4)|0,p=Ge;while(!((u|0)==0&(p|0)==0));(S&8|0)==0|(e[W>>2]|0)==0&(e[W+4>>2]|0)==0?(u=S,S=0,d=17291,Y=79):(u=S,S=2,d=17291+(C>>4)|0,Y=79)}else if((Y|0)==78)n=fc(n,u,$)|0,u=U,S=p,Y=79;else if((Y|0)==92)Y=0,U=qO(u,0,m)|0,n=u,C=(U|0)==0?m:U-u|0,M=0,w=17291,u=(U|0)==0?u+m|0:U;else if((Y|0)==96){for(Y=0,p=0,u=0,S=n;d=e[S>>2]|0,!(!d||(u=P8(W+528|0,d)|0,(u|0)<0|u>>>0>(m-p|0)>>>0));)if(p=u+p|0,m>>>0>p>>>0)S=S+4|0;else break;if((u|0)<0){l=-1;break e}if(gr(t,32,O,p,U),!p)n=0,Y=107;else for(d=0;;){if(u=e[n>>2]|0,!u){n=p,Y=107;break t}if(u=P8(W+528|0,u)|0,d=u+d|0,(d|0)>(p|0)){n=p,Y=107;break t}if(e[t>>2]&32||nr(W+528|0,u,t),d>>>0>=p>>>0){n=p,Y=107;break}else n=n+4|0}}while(!1);if((Y|0)==107){Y=0,gr(t,32,O,n,U^8192),u=(O|0)>(n|0)?O:n,m=z,M=G;continue}(Y|0)==79&&(Y=0,p=(m|0)>-1?u&-65537:u,u=(e[W>>2]|0)!=0|(e[W+4>>2]|0)!=0,(m|0)!=0|u?(C=(u&1^1)+($-n)|0,C=(m|0)>(C|0)?m:C,M=S,w=d,u=$):(n=$,C=0,M=S,w=d,u=$)),S=u-n|0,d=(C|0)<(S|0)?S:C,m=M+d|0,u=(O|0)<(m|0)?m:O,gr(t,32,u,m,p),e[t>>2]&32||nr(w,M,t),gr(t,48,u,m,p^65536),gr(t,48,d,S,0),e[t>>2]&32||nr(n,S,t),gr(t,32,u,m,p^8192),m=z,M=G}e:do if((Y|0)==254&&!t)if(!m)l=0;else{for(l=1;;){if(n=e[a+(l<<2)>>2]|0,!n){n=0;break}if(I8(o+(l<<3)|0,n,s),l=l+1|0,(l|0)>=10){l=1;break e}}for(;;){if(l=l+1|0,n|0){l=-1;break e}if((l|0)>=10){l=1;break e}n=e[a+(l<<2)>>2]|0}}while(!1);return H=W,l|0}function nr(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;o=e[s+16>>2]|0,o?(a=o,l=5):D8(s)|0||(a=e[s+16>>2]|0,l=5);e:do if((l|0)==5){if(o=e[s+20>>2]|0,(a-o|0)>>>0<n>>>0){G0[e[s+36>>2]&63](s,t,n)|0;break}t:do if((R[s+75>>0]|0)>-1){for(l=n;;){if(!l){a=n;break t}if(a=l+-1|0,(R[t+a>>0]|0)==10)break;l=a}if((G0[e[s+36>>2]&63](s,t,l)|0)>>>0<l>>>0)break e;a=n-l|0,t=t+l|0,o=e[s+20>>2]|0}else a=n;while(!1);wr(o|0,t|0,a|0)|0,e[s+20>>2]=(e[s+20>>2]|0)+a}while(!1)}function D8(t){t=t|0;var n=0;return n=R[t+74>>0]|0,R[t+74>>0]=n+255|n,n=e[t>>2]|0,n&8?(e[t>>2]=n|32,n=-1):(e[t+8>>2]=0,e[t+4>>2]=0,n=e[t+44>>2]|0,e[t+28>>2]=n,e[t+20>>2]=n,e[t+16>>2]=n+(e[t+48>>2]|0),n=0),n|0}function I8(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;e:do if(n>>>0<=20)do switch(n|0){case 9:{o=(e[s>>2]|0)+3&-4,n=e[o>>2]|0,e[s>>2]=o+4,e[t>>2]=n;break e}case 10:{n=(e[s>>2]|0)+3&-4,o=e[n>>2]|0,e[s>>2]=n+4,e[t>>2]=o,e[t+4>>2]=((o|0)<0)<<31>>31;break e}case 11:{n=(e[s>>2]|0)+3&-4,o=e[n>>2]|0,e[s>>2]=n+4,e[t>>2]=o,e[t+4>>2]=0;break e}case 12:{a=(e[s>>2]|0)+7&-8,n=e[a>>2]|0,o=e[a+4>>2]|0,e[s>>2]=a+8,e[t>>2]=n,e[t+4>>2]=o;break e}case 13:{o=(e[s>>2]|0)+3&-4,a=e[o>>2]|0,e[s>>2]=o+4,e[t>>2]=(a&65535)<<16>>16,e[t+4>>2]=(((a&65535)<<16>>16|0)<0)<<31>>31;break e}case 14:{o=(e[s>>2]|0)+3&-4,a=e[o>>2]|0,e[s>>2]=o+4,e[t>>2]=a&65535,e[t+4>>2]=0;break e}case 15:{o=(e[s>>2]|0)+3&-4,a=e[o>>2]|0,e[s>>2]=o+4,e[t>>2]=(a&255)<<24>>24,e[t+4>>2]=(((a&255)<<24>>24|0)<0)<<31>>31;break e}case 16:{o=(e[s>>2]|0)+3&-4,a=e[o>>2]|0,e[s>>2]=o+4,e[t>>2]=a&255,e[t+4>>2]=0;break e}case 17:{a=(e[s>>2]|0)+7&-8,l=+Mt[a>>3],e[s>>2]=a+8,Mt[t>>3]=l;break e}case 18:{a=(e[s>>2]|0)+7&-8,l=+Mt[a>>3],e[s>>2]=a+8,Mt[t>>3]=l;break e}default:break e}while(!1);while(!1)}function fc(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;if(n>>>0>0|(n|0)==0&t>>>0>4294967295)for(;o=W8(t|0,n|0,10,0)|0,s=s+-1|0,R[s>>0]=o|48,o=t,t=z8(t|0,n|0,10,0)|0,n>>>0>9|(n|0)==9&o>>>0>4294967295;)n=Ge;if(t)for(;s=s+-1|0,R[s>>0]=(t>>>0)%10|0|48,!(t>>>0<10);)t=(t>>>0)/10|0;return s|0}function gr(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0;u=H,H=H+256|0;do if((s|0)>(o|0)&(a&73728|0)==0){if(ln(u|0,n|0,((s-o|0)>>>0>256?256:s-o|0)|0)|0,a=e[t>>2]|0,(s-o|0)>>>0>255){l=s-o|0,n=a,a=(a&32|0)==0;do a&&(nr(u,256,t),n=e[t>>2]|0),l=l+-256|0,a=(n&32|0)==0;while(l>>>0>255);if(a)n=s-o&255;else break}else if(!(a&32))n=s-o|0;else break;nr(u,n,t)}while(!1);H=u}function P8(t,n){t=t|0,n=n|0;do if(!t)t=0;else{if(n>>>0<128){R[t>>0]=n,t=1;break}if(n>>>0<2048){R[t>>0]=n>>>6|192,R[t+1>>0]=n&63|128,t=2;break}if(n>>>0<55296|(n&-8192|0)==57344){R[t>>0]=n>>>12|224,R[t+1>>0]=n>>>6&63|128,R[t+2>>0]=n&63|128,t=3;break}if((n+-65536|0)>>>0<1048576){R[t>>0]=n>>>18|240,R[t+1>>0]=n>>>12&63|128,R[t+2>>0]=n>>>6&63|128,R[t+3>>0]=n&63|128,t=4;break}t=22816,e[t>>2]=84,t=-1}while(!1);return t|0}function L8(t,n){t=+t,n=n|0;var s=0,o=0,a=0;switch(Mt[Z>>3]=t,s=e[Z>>2]|0,o=e[Z+4>>2]|0,a=Lf(s|0,o|0,52)|0,a&2047|0){case 0:{t!=0?(t=+L8(t*18446744073709552e3,n),s=(e[n>>2]|0)+-64|0):s=0,e[n>>2]=s;break}case 2047:break;default:e[n>>2]=(a&2047)+-1022,e[Z>>2]=s,e[Z+4>>2]=o&-2146435073|1071644672,t=+Mt[Z>>3]}return+t}function an(t){t=+t;var n=0,s=0,o=0,a=0,l=0,u=0;u=(i[Z>>2]=t,e[Z>>2]|0);e:do if((u>>>23&255|0)==255)t=t*6.2831854820251465/(t*6.2831854820251465);else{if(u<<1>>>0<=2173837238)return+((u<<1|0)==-2121130058?t*0:t);if(u>>>23&255)n=u>>>23&255,o=u&8388607|8388608;else{if((u<<9|0)>-1){n=0,s=u<<9;do n=n+-1|0,s=s<<1;while((s|0)>-1);s=n}else s=0;n=s,o=u<<1-s}a=o+-13176795|0;t:do if((n|0)>129){for(l=(a|0)>-1,s=a;;){if(l){if((o|0)==13176795)break}else s=o;if(o=s<<1,n=n+-1|0,(n|0)>129)l=(o+-13176795|0)>-1,s=o+-13176795|0;else{s=o+-13176795|0,a=(o+-13176795|0)>-1;break t}}t=t*0;break e}else s=a,a=(a|0)>-1;while(!1);if(a){if((o|0)==13176795){t=t*0;break}}else s=o;if(s>>>0<8388608)do s=s<<1,n=n+-1|0;while(s>>>0<8388608);(n|0)>0?n=s+-8388608|n<<23:n=s>>>(1-n|0),t=(e[Z>>2]=n|u&-2147483648,+i[Z>>2])}while(!1);return+t}function k8(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;a=H,H=H+16|0,R[a>>0]=n,s=e[t+16>>2]|0,s?o=4:D8(t)|0?s=-1:(s=e[t+16>>2]|0,o=4);do if((o|0)==4){if(o=e[t+20>>2]|0,o>>>0<s>>>0&&(n&255|0)!=(R[t+75>>0]|0)){e[t+20>>2]=o+1,R[o>>0]=n,s=n&255;break}(G0[e[t+36>>2]&63](t,a,1)|0)==1?s=It[a>>0]|0:s=-1}while(!1);return H=a,s|0}function Xe(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0;q=H,H=H+16|0;do if(t>>>0<245){if(S=t>>>0<11?16:t+11&-8,l=e[5705]|0,l>>>(S>>>3)&3|0){t=22860+((l>>>(S>>>3)&1^1)+(S>>>3)<<1<<2)|0,n=e[t+8>>2]|0,s=e[n+8>>2]|0;do if((t|0)!=(s|0))if(s>>>0<(e[5709]|0)>>>0&&v0(),(e[s+12>>2]|0)==(n|0)){e[s+12>>2]=t,e[t+8>>2]=s;break}else v0();else e[5705]=l&~(1<<(l>>>(S>>>3)&1^1)+(S>>>3));while(!1);return $=(l>>>(S>>>3)&1^1)+(S>>>3)<<3,e[n+4>>2]=$|3,e[n+$+4>>2]=e[n+$+4>>2]|1,$=n+8|0,H=q,$|0}if(n=e[5707]|0,S>>>0>n>>>0){if(l>>>(S>>>3)|0){t=l>>>(S>>>3)<<(S>>>3)&(2<<(S>>>3)|0-(2<<(S>>>3))),a=((t&0-t)+-1|0)>>>(((t&0-t)+-1|0)>>>12&16),o=a>>>(a>>>5&8)>>>(a>>>(a>>>5&8)>>>2&4),o=(a>>>5&8|((t&0-t)+-1|0)>>>12&16|a>>>(a>>>5&8)>>>2&4|o>>>1&2|o>>>(o>>>1&2)>>>1&1)+(o>>>(o>>>1&2)>>>(o>>>(o>>>1&2)>>>1&1))|0,a=e[22860+(o<<1<<2)+8>>2]|0,t=e[a+8>>2]|0;do if((22860+(o<<1<<2)|0)!=(t|0))if(t>>>0<(e[5709]|0)>>>0&&v0(),(e[t+12>>2]|0)==(a|0)){e[t+12>>2]=22860+(o<<1<<2),e[22860+(o<<1<<2)+8>>2]=t,u=e[5707]|0;break}else v0();else e[5705]=l&~(1<<o),u=n;while(!1);return e[a+4>>2]=S|3,e[a+S+4>>2]=(o<<3)-S|1,e[a+S+((o<<3)-S)>>2]=(o<<3)-S,u|0&&(s=e[5710]|0,n=u>>>3,t=e[5705]|0,t&1<<n?(t=e[22860+(n<<1<<2)+8>>2]|0,t>>>0<(e[5709]|0)>>>0?v0():(p=22860+(n<<1<<2)+8|0,h=t)):(e[5705]=t|1<<n,p=22860+(n<<1<<2)+8|0,h=22860+(n<<1<<2)|0),e[p>>2]=s,e[h+12>>2]=s,e[s+8>>2]=h,e[s+12>>2]=22860+(n<<1<<2)),e[5707]=(o<<3)-S,e[5710]=a+S,$=a+8|0,H=q,$|0}if(t=e[5706]|0,t){for(p=((t&0-t)+-1|0)>>>(((t&0-t)+-1|0)>>>12&16),h=p>>>(p>>>5&8)>>>(p>>>(p>>>5&8)>>>2&4),h=e[23124+((p>>>5&8|((t&0-t)+-1|0)>>>12&16|p>>>(p>>>5&8)>>>2&4|h>>>1&2|h>>>(h>>>1&2)>>>1&1)+(h>>>(h>>>1&2)>>>(h>>>(h>>>1&2)>>>1&1))<<2)>>2]|0,p=(e[h+4>>2]&-8)-S|0,n=h;t=e[n+16>>2]|0,!(!t&&(t=e[n+20>>2]|0,!t));)n=(e[t+4>>2]&-8)-S|0,$=n>>>0<p>>>0,p=$?n:p,n=t,h=$?t:h;a=e[5709]|0,h>>>0<a>>>0&&v0(),u=h+S|0,h>>>0>=u>>>0&&v0(),l=e[h+24>>2]|0,t=e[h+12>>2]|0;do if((t|0)==(h|0)){if(n=h+20|0,t=e[n>>2]|0,!t&&(n=h+16|0,t=e[n>>2]|0,!t)){d=0;break}for(;;){if(s=t+20|0,o=e[s>>2]|0,o|0){t=o,n=s;continue}if(s=t+16|0,o=e[s>>2]|0,o)t=o,n=s;else break}if(n>>>0<a>>>0)v0();else{e[n>>2]=0,d=t;break}}else if(n=e[h+8>>2]|0,n>>>0<a>>>0&&v0(),(e[n+12>>2]|0)!=(h|0)&&v0(),(e[t+8>>2]|0)==(h|0)){e[n+12>>2]=t,e[t+8>>2]=n,d=t;break}else v0();while(!1);do if(l|0){if(t=e[h+28>>2]|0,(h|0)==(e[23124+(t<<2)>>2]|0)){if(e[23124+(t<<2)>>2]=d,!d){e[5706]=e[5706]&~(1<<t);break}}else if(l>>>0<(e[5709]|0)>>>0&&v0(),(e[l+16>>2]|0)==(h|0)?e[l+16>>2]=d:e[l+20>>2]=d,!d)break;n=e[5709]|0,d>>>0<n>>>0&&v0(),e[d+24>>2]=l,t=e[h+16>>2]|0;do if(t|0)if(t>>>0<n>>>0)v0();else{e[d+16>>2]=t,e[t+24>>2]=d;break}while(!1);if(t=e[h+20>>2]|0,t|0)if(t>>>0<(e[5709]|0)>>>0)v0();else{e[d+20>>2]=t,e[t+24>>2]=d;break}}while(!1);return p>>>0<16?($=p+S|0,e[h+4>>2]=$|3,$=h+$+4|0,e[$>>2]=e[$>>2]|1):(e[h+4>>2]=S|3,e[u+4>>2]=p|1,e[u+p>>2]=p,n=e[5707]|0,n|0&&(s=e[5710]|0,t=e[5705]|0,t&1<<(n>>>3)?(t=e[22860+(n>>>3<<1<<2)+8>>2]|0,t>>>0<(e[5709]|0)>>>0?v0():(m=22860+(n>>>3<<1<<2)+8|0,g=t)):(e[5705]=t|1<<(n>>>3),m=22860+(n>>>3<<1<<2)+8|0,g=22860+(n>>>3<<1<<2)|0),e[m>>2]=s,e[g+12>>2]=s,e[s+8>>2]=g,e[s+12>>2]=22860+(n>>>3<<1<<2)),e[5707]=p,e[5710]=u),$=h+8|0,H=q,$|0}}}else if(t>>>0<=4294967231){if(S=t+11&-8,p=e[5706]|0,p){(t+11|0)>>>8?S>>>0>16777215?u=31:(u=(t+11|0)>>>8<<((((t+11|0)>>>8)+1048320|0)>>>16&8),u=14-((u+520192|0)>>>16&4|(((t+11|0)>>>8)+1048320|0)>>>16&8|((u<<((u+520192|0)>>>16&4))+245760|0)>>>16&2)+(u<<((u+520192|0)>>>16&4)<<(((u<<((u+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0,u=S>>>(u+7|0)&1|u<<1):u=0,n=e[23124+(u<<2)>>2]|0;e:do if(!n)s=0-S|0,t=0,n=0,F=86;else for(s=0-S|0,t=0,a=S<<((u|0)==31?0:25-(u>>>1)|0),l=n,n=0;;){if(o=e[l+4>>2]&-8,(o-S|0)>>>0<s>>>0)if((o|0)==(S|0)){s=o-S|0,t=l,n=l,F=90;break e}else s=o-S|0,n=l;if(o=e[l+20>>2]|0,l=e[l+16+(a>>>31<<2)>>2]|0,t=(o|0)==0|(o|0)==(l|0)?t:o,o=(l|0)==0,o){F=86;break}else a=a<<(o&1^1)}while(!1);if((F|0)==86){if((t|0)==0&(n|0)==0){if(t=2<<u,!(p&(t|0-t)))break;m=(p&(t|0-t)&0-(p&(t|0-t)))+-1|0,g=m>>>(m>>>12&16)>>>(m>>>(m>>>12&16)>>>5&8),t=g>>>(g>>>2&4)>>>(g>>>(g>>>2&4)>>>1&2),t=e[23124+((m>>>(m>>>12&16)>>>5&8|m>>>12&16|g>>>2&4|g>>>(g>>>2&4)>>>1&2|t>>>1&1)+(t>>>(t>>>1&1))<<2)>>2]|0}t?F=90:(p=s,h=n)}if((F|0)==90)for(;;){if(F=0,g=(e[t+4>>2]&-8)-S|0,o=g>>>0<s>>>0,s=o?g:s,n=o?t:n,o=e[t+16>>2]|0,o|0){t=o,F=90;continue}if(t=e[t+20>>2]|0,t)F=90;else{p=s,h=n;break}}if((h|0)!=0&&p>>>0<((e[5707]|0)-S|0)>>>0){a=e[5709]|0,h>>>0<a>>>0&&v0(),u=h+S|0,h>>>0>=u>>>0&&v0(),l=e[h+24>>2]|0,t=e[h+12>>2]|0;do if((t|0)==(h|0)){if(n=h+20|0,t=e[n>>2]|0,!t&&(n=h+16|0,t=e[n>>2]|0,!t)){w=0;break}for(;;){if(s=t+20|0,o=e[s>>2]|0,o|0){t=o,n=s;continue}if(s=t+16|0,o=e[s>>2]|0,o)t=o,n=s;else break}if(n>>>0<a>>>0)v0();else{e[n>>2]=0,w=t;break}}else if(n=e[h+8>>2]|0,n>>>0<a>>>0&&v0(),(e[n+12>>2]|0)!=(h|0)&&v0(),(e[t+8>>2]|0)==(h|0)){e[n+12>>2]=t,e[t+8>>2]=n,w=t;break}else v0();while(!1);do if(l|0){if(t=e[h+28>>2]|0,(h|0)==(e[23124+(t<<2)>>2]|0)){if(e[23124+(t<<2)>>2]=w,!w){e[5706]=e[5706]&~(1<<t);break}}else if(l>>>0<(e[5709]|0)>>>0&&v0(),(e[l+16>>2]|0)==(h|0)?e[l+16>>2]=w:e[l+20>>2]=w,!w)break;n=e[5709]|0,w>>>0<n>>>0&&v0(),e[w+24>>2]=l,t=e[h+16>>2]|0;do if(t|0)if(t>>>0<n>>>0)v0();else{e[w+16>>2]=t,e[t+24>>2]=w;break}while(!1);if(t=e[h+20>>2]|0,t|0)if(t>>>0<(e[5709]|0)>>>0)v0();else{e[w+20>>2]=t,e[t+24>>2]=w;break}}while(!1);do if(p>>>0>=16){if(e[h+4>>2]=S|3,e[u+4>>2]=p|1,e[u+p>>2]=p,n=p>>>3,p>>>0<256){t=e[5705]|0,t&1<<n?(t=e[22860+(n<<1<<2)+8>>2]|0,t>>>0<(e[5709]|0)>>>0?v0():(M=22860+(n<<1<<2)+8|0,E=t)):(e[5705]=t|1<<n,M=22860+(n<<1<<2)+8|0,E=22860+(n<<1<<2)|0),e[M>>2]=u,e[E+12>>2]=u,e[u+8>>2]=E,e[u+12>>2]=22860+(n<<1<<2);break}if(t=p>>>8,t?p>>>0>16777215?s=31:(s=t<<((t+1048320|0)>>>16&8)<<(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4),s=14-(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4|(t+1048320|0)>>>16&8|(s+245760|0)>>>16&2)+(s<<((s+245760|0)>>>16&2)>>>15)|0,s=p>>>(s+7|0)&1|s<<1):s=0,o=23124+(s<<2)|0,e[u+28>>2]=s,e[u+16+4>>2]=0,e[u+16>>2]=0,t=e[5706]|0,n=1<<s,!(t&n)){e[5706]=t|n,e[o>>2]=u,e[u+24>>2]=o,e[u+12>>2]=u,e[u+8>>2]=u;break}for(s=p<<((s|0)==31?0:25-(s>>>1)|0),o=e[o>>2]|0;;){if((e[o+4>>2]&-8|0)==(p|0)){F=148;break}if(n=o+16+(s>>>31<<2)|0,t=e[n>>2]|0,t)s=s<<1,o=t;else{F=145;break}}if((F|0)==145)if(n>>>0<(e[5709]|0)>>>0)v0();else{e[n>>2]=u,e[u+24>>2]=o,e[u+12>>2]=u,e[u+8>>2]=u;break}else if((F|0)==148)if(t=o+8|0,n=e[t>>2]|0,$=e[5709]|0,n>>>0>=$>>>0&o>>>0>=$>>>0){e[n+12>>2]=u,e[t>>2]=u,e[u+8>>2]=n,e[u+12>>2]=o,e[u+24>>2]=0;break}else v0()}else $=p+S|0,e[h+4>>2]=$|3,$=h+$+4|0,e[$>>2]=e[$>>2]|1;while(!1);return $=h+8|0,H=q,$|0}}}else S=-1;while(!1);if(s=e[5707]|0,s>>>0>=S>>>0)return t=s-S|0,n=e[5710]|0,t>>>0>15?($=n+S|0,e[5710]=$,e[5707]=t,e[$+4>>2]=t|1,e[$+t>>2]=t,e[n+4>>2]=S|3):(e[5707]=0,e[5710]=0,e[n+4>>2]=s|3,e[n+s+4>>2]=e[n+s+4>>2]|1),$=n+8|0,H=q,$|0;if(t=e[5708]|0,t>>>0>S>>>0)return z=t-S|0,e[5708]=z,$=e[5711]|0,Y=$+S|0,e[5711]=Y,e[Y+4>>2]=z|1,e[$+4>>2]=S|3,$=$+8|0,H=q,$|0;if(e[5823]|0||(e[5825]=4096,e[5824]=4096,e[5826]=-1,e[5827]=-1,e[5828]=0,e[5816]=0,e[q>>2]=q&-16^1431655768,e[5823]=q&-16^1431655768),a=S+48|0,s=e[5825]|0,l=S+47|0,u=s+l&0-s,u>>>0<=S>>>0||(t=e[5815]|0,t|0&&(E=e[5813]|0,(E+u|0)>>>0<=E>>>0|(E+u|0)>>>0>t>>>0)))return $=0,H=q,$|0;e:do if(e[5816]&4)F=188;else{n=e[5711]|0;t:do if(n){for(o=23268;t=e[o>>2]|0,!(t>>>0<=n>>>0&&(C=o+4|0,(t+(e[C>>2]|0)|0)>>>0>n>>>0));)if(t=e[o+8>>2]|0,t)o=t;else{F=171;break t}if(t=s+l-(e[5708]|0)&0-s,t>>>0<2147483647)if(n=da(t|0)|0,(n|0)==((e[o>>2]|0)+(e[C>>2]|0)|0)){if((n|0)!=-1){u=n,l=t,F=191;break e}}else F=181}else F=171;while(!1);do if((F|0)==171&&(D=da(0)|0,(D|0)!=-1)&&(t=e[5824]|0,t+-1&D?t=u-D+(t+-1+D&0-t)|0:t=u,n=e[5813]|0,s=n+t|0,t>>>0>S>>>0&t>>>0<2147483647)){if(E=e[5815]|0,E|0&&s>>>0<=n>>>0|s>>>0>E>>>0)break;if(n=da(t|0)|0,(n|0)==(D|0)){u=D,l=t,F=191;break e}else F=181}while(!1);t:do if((F|0)==181){s=0-t|0;do if(a>>>0>t>>>0&(t>>>0<2147483647&(n|0)!=-1)&&(b=e[5825]|0,b=l-t+b&0-b,b>>>0<2147483647))if((da(b|0)|0)==-1){da(s|0)|0;break t}else{t=b+t|0;break}while(!1);if((n|0)!=-1){u=n,l=t,F=191;break e}}while(!1);e[5816]=e[5816]|4,F=188}while(!1);if((F|0)==188&&u>>>0<2147483647&&(B=da(u|0)|0,L=da(0)|0,B>>>0<L>>>0&((B|0)!=-1&(L|0)!=-1))&&(L-B|0)>>>0>(S+40|0)>>>0&&(u=B,l=L-B|0,F=191),(F|0)==191){t=(e[5813]|0)+l|0,e[5813]=t,t>>>0>(e[5814]|0)>>>0&&(e[5814]=t),d=e[5711]|0;do if(d){for(a=23268;;){if(t=e[a>>2]|0,n=a+4|0,s=e[n>>2]|0,(u|0)==(t+s|0)){F=201;break}if(o=e[a+8>>2]|0,o)a=o;else break}if((F|0)==201&&(e[a+12>>2]&8|0)==0&&d>>>0<u>>>0&d>>>0>=t>>>0){e[n>>2]=s+l,Y=(d+8&7|0)==0?0:0-(d+8)&7,$=l-Y+(e[5708]|0)|0,e[5711]=d+Y,e[5708]=$,e[d+Y+4>>2]=$|1,e[d+Y+$+4>>2]=40,e[5712]=e[5827];break}for(t=e[5709]|0,u>>>0<t>>>0?(e[5709]=u,h=u):h=t,n=u+l|0,t=23268;;){if((e[t>>2]|0)==(n|0)){F=209;break}if(t=e[t+8>>2]|0,!t){n=23268;break}}if((F|0)==209)if(e[t+12>>2]&8)n=23268;else{e[t>>2]=u,g=t+4|0,e[g>>2]=(e[g>>2]|0)+l,g=u+8|0,g=u+((g&7|0)==0?0:0-g&7)|0,t=n+((n+8&7|0)==0?0:0-(n+8)&7)|0,m=g+S|0,p=t-g-S|0,e[g+4>>2]=S|3;do if((t|0)!=(d|0)){if((t|0)==(e[5710]|0)){$=(e[5707]|0)+p|0,e[5707]=$,e[5710]=m,e[m+4>>2]=$|1,e[m+$>>2]=$;break}if(u=e[t+4>>2]|0,(u&3|0)==1){e:do if(u>>>0>=256){l=e[t+24>>2]|0,n=e[t+12>>2]|0;do if((n|0)==(t|0)){if(n=e[t+16+4>>2]|0,n)a=t+16+4|0;else if(n=e[t+16>>2]|0,n)a=t+16|0;else{z=0;break}for(;;){if(s=n+20|0,o=e[s>>2]|0,o|0){n=o,a=s;continue}if(s=n+16|0,o=e[s>>2]|0,o)n=o,a=s;else break}if(a>>>0<h>>>0)v0();else{e[a>>2]=0,z=n;break}}else if(s=e[t+8>>2]|0,s>>>0<h>>>0&&v0(),(e[s+12>>2]|0)!=(t|0)&&v0(),(e[n+8>>2]|0)==(t|0)){e[s+12>>2]=n,e[n+8>>2]=s,z=n;break}else v0();while(!1);if(!l)break;n=e[t+28>>2]|0;do if((t|0)!=(e[23124+(n<<2)>>2]|0)){if(l>>>0<(e[5709]|0)>>>0&&v0(),(e[l+16>>2]|0)==(t|0)?e[l+16>>2]=z:e[l+20>>2]=z,!z)break e}else{if(e[23124+(n<<2)>>2]=z,z|0)break;e[5706]=e[5706]&~(1<<n);break e}while(!1);s=e[5709]|0,z>>>0<s>>>0&&v0(),e[z+24>>2]=l,n=e[t+16>>2]|0;do if(n|0)if(n>>>0<s>>>0)v0();else{e[z+16>>2]=n,e[n+24>>2]=z;break}while(!1);if(n=e[t+16+4>>2]|0,!n)break;if(n>>>0<(e[5709]|0)>>>0)v0();else{e[z+20>>2]=n,e[n+24>>2]=z;break}}else{n=e[t+8>>2]|0,s=e[t+12>>2]|0;do if((n|0)!=(22860+(u>>>3<<1<<2)|0)){if(n>>>0<h>>>0&&v0(),(e[n+12>>2]|0)==(t|0))break;v0()}while(!1);if((s|0)==(n|0)){e[5705]=e[5705]&~(1<<(u>>>3));break}do if((s|0)==(22860+(u>>>3<<1<<2)|0))G=s+8|0;else{if(s>>>0<h>>>0&&v0(),(e[s+8>>2]|0)==(t|0)){G=s+8|0;break}v0()}while(!1);e[n+12>>2]=s,e[G>>2]=n}while(!1);t=t+(u&-8)|0,a=(u&-8)+p|0}else a=p;if(n=t+4|0,e[n>>2]=e[n>>2]&-2,e[m+4>>2]=a|1,e[m+a>>2]=a,n=a>>>3,a>>>0<256){t=e[5705]|0;do if(!(t&1<<n))e[5705]=t|1<<n,Y=22860+(n<<1<<2)+8|0,$=22860+(n<<1<<2)|0;else{if(t=e[22860+(n<<1<<2)+8>>2]|0,t>>>0>=(e[5709]|0)>>>0){Y=22860+(n<<1<<2)+8|0,$=t;break}v0()}while(!1);e[Y>>2]=m,e[$+12>>2]=m,e[m+8>>2]=$,e[m+12>>2]=22860+(n<<1<<2);break}t=a>>>8;do if(!t)s=0;else{if(a>>>0>16777215){s=31;break}s=t<<((t+1048320|0)>>>16&8)<<(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4),s=14-(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4|(t+1048320|0)>>>16&8|(s+245760|0)>>>16&2)+(s<<((s+245760|0)>>>16&2)>>>15)|0,s=a>>>(s+7|0)&1|s<<1}while(!1);if(o=23124+(s<<2)|0,e[m+28>>2]=s,e[m+16+4>>2]=0,e[m+16>>2]=0,t=e[5706]|0,n=1<<s,!(t&n)){e[5706]=t|n,e[o>>2]=m,e[m+24>>2]=o,e[m+12>>2]=m,e[m+8>>2]=m;break}for(s=a<<((s|0)==31?0:25-(s>>>1)|0),o=e[o>>2]|0;;){if((e[o+4>>2]&-8|0)==(a|0)){F=279;break}if(n=o+16+(s>>>31<<2)|0,t=e[n>>2]|0,t)s=s<<1,o=t;else{F=276;break}}if((F|0)==276)if(n>>>0<(e[5709]|0)>>>0)v0();else{e[n>>2]=m,e[m+24>>2]=o,e[m+12>>2]=m,e[m+8>>2]=m;break}else if((F|0)==279)if(t=o+8|0,n=e[t>>2]|0,$=e[5709]|0,n>>>0>=$>>>0&o>>>0>=$>>>0){e[n+12>>2]=m,e[t>>2]=m,e[m+8>>2]=n,e[m+12>>2]=o,e[m+24>>2]=0;break}else v0()}else $=(e[5708]|0)+p|0,e[5708]=$,e[5711]=m,e[m+4>>2]=$|1;while(!1);return $=g+8|0,H=q,$|0}for(;t=e[n>>2]|0,!(t>>>0<=d>>>0&&(P=t+(e[n+4>>2]|0)|0,P>>>0>d>>>0));)n=e[n+8>>2]|0;a=P+-47+((P+-47+8&7|0)==0?0:0-(P+-47+8)&7)|0,a=a>>>0<(d+16|0)>>>0?d:a,t=u+8|0,t=(t&7|0)==0?0:0-t&7,$=u+t|0,t=l+-40-t|0,e[5711]=$,e[5708]=t,e[$+4>>2]=t|1,e[$+t+4>>2]=40,e[5712]=e[5827],e[a+4>>2]=27,e[a+8>>2]=e[5817],e[a+8+4>>2]=e[5818],e[a+8+8>>2]=e[5819],e[a+8+12>>2]=e[5820],e[5817]=u,e[5818]=l,e[5820]=0,e[5819]=a+8,t=a+24|0;do t=t+4|0,e[t>>2]=7;while((t+4|0)>>>0<P>>>0);if((a|0)!=(d|0)){if(e[a+4>>2]=e[a+4>>2]&-2,e[d+4>>2]=a-d|1,e[a>>2]=a-d,(a-d|0)>>>0<256){n=22860+((a-d|0)>>>3<<1<<2)|0,t=e[5705]|0,t&1<<((a-d|0)>>>3)?(t=e[n+8>>2]|0,t>>>0<(e[5709]|0)>>>0?v0():(U=n+8|0,O=t)):(e[5705]=t|1<<((a-d|0)>>>3),U=n+8|0,O=n),e[U>>2]=d,e[O+12>>2]=d,e[d+8>>2]=O,e[d+12>>2]=n;break}if((a-d|0)>>>8?(a-d|0)>>>0>16777215?s=31:(s=(a-d|0)>>>8<<((((a-d|0)>>>8)+1048320|0)>>>16&8),s=14-((s+520192|0)>>>16&4|(((a-d|0)>>>8)+1048320|0)>>>16&8|((s<<((s+520192|0)>>>16&4))+245760|0)>>>16&2)+(s<<((s+520192|0)>>>16&4)<<(((s<<((s+520192|0)>>>16&4))+245760|0)>>>16&2)>>>15)|0,s=(a-d|0)>>>(s+7|0)&1|s<<1):s=0,o=23124+(s<<2)|0,e[d+28>>2]=s,e[d+20>>2]=0,e[d+16>>2]=0,t=e[5706]|0,n=1<<s,!(t&n)){e[5706]=t|n,e[o>>2]=d,e[d+24>>2]=o,e[d+12>>2]=d,e[d+8>>2]=d;break}for(s=a-d<<((s|0)==31?0:25-(s>>>1)|0),o=e[o>>2]|0;;){if((e[o+4>>2]&-8|0)==(a-d|0)){F=305;break}if(n=o+16+(s>>>31<<2)|0,t=e[n>>2]|0,t)s=s<<1,o=t;else{F=302;break}}if((F|0)==302)if(n>>>0<(e[5709]|0)>>>0)v0();else{e[n>>2]=d,e[d+24>>2]=o,e[d+12>>2]=d,e[d+8>>2]=d;break}else if((F|0)==305)if(t=o+8|0,n=e[t>>2]|0,$=e[5709]|0,n>>>0>=$>>>0&o>>>0>=$>>>0){e[n+12>>2]=d,e[t>>2]=d,e[d+8>>2]=n,e[d+12>>2]=o,e[d+24>>2]=0;break}else v0()}}else{$=e[5709]|0,($|0)==0|u>>>0<$>>>0&&(e[5709]=u),e[5817]=u,e[5818]=l,e[5820]=0,e[5714]=e[5823],e[5713]=-1,t=0;do $=22860+(t<<1<<2)|0,e[$+12>>2]=$,e[$+8>>2]=$,t=t+1|0;while((t|0)!=32);$=u+8|0,$=($&7|0)==0?0:0-$&7,Y=u+$|0,$=l+-40-$|0,e[5711]=Y,e[5708]=$,e[Y+4>>2]=$|1,e[Y+$+4>>2]=40,e[5712]=e[5827]}while(!1);if(t=e[5708]|0,t>>>0>S>>>0)return z=t-S|0,e[5708]=z,$=e[5711]|0,Y=$+S|0,e[5711]=Y,e[Y+4>>2]=z|1,e[$+4>>2]=S|3,$=$+8|0,H=q,$|0}return t=22816,e[t>>2]=12,$=0,H=q,$|0}function ye(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;if(t){u=e[5709]|0,(t+-8|0)>>>0<u>>>0&&v0(),n=e[t+-4>>2]|0,(n&3|0)==1&&v0(),S=t+-8+(n&-8)|0;do if(n&1)M=t+-8|0,a=n&-8;else{if(o=e[t+-8>>2]|0,!(n&3))return;if(d=t+-8+(0-o)|0,h=o+(n&-8)|0,d>>>0<u>>>0&&v0(),(d|0)==(e[5710]|0)){if(t=e[S+4>>2]|0,(t&3|0)!=3){M=d,a=h;break}e[5707]=h,e[S+4>>2]=t&-2,e[d+4>>2]=h|1,e[d+h>>2]=h;return}if(o>>>0<256){if(t=e[d+8>>2]|0,n=e[d+12>>2]|0,(t|0)!=(22860+(o>>>3<<1<<2)|0)&&(t>>>0<u>>>0&&v0(),(e[t+12>>2]|0)!=(d|0)&&v0()),(n|0)==(t|0)){e[5705]=e[5705]&~(1<<(o>>>3)),M=d,a=h;break}(n|0)!=(22860+(o>>>3<<1<<2)|0)?(n>>>0<u>>>0&&v0(),(e[n+8>>2]|0)!=(d|0)?v0():s=n+8|0):s=n+8|0,e[t+12>>2]=n,e[s>>2]=t,M=d,a=h;break}l=e[d+24>>2]|0,t=e[d+12>>2]|0;do if((t|0)==(d|0)){if(t=e[d+16+4>>2]|0,t)o=d+16+4|0;else if(t=e[d+16>>2]|0,t)o=d+16|0;else{p=0;break}for(;;){if(n=t+20|0,s=e[n>>2]|0,s|0){t=s,o=n;continue}if(n=t+16|0,s=e[n>>2]|0,s)t=s,o=n;else break}if(o>>>0<u>>>0)v0();else{e[o>>2]=0,p=t;break}}else if(n=e[d+8>>2]|0,n>>>0<u>>>0&&v0(),(e[n+12>>2]|0)!=(d|0)&&v0(),(e[t+8>>2]|0)==(d|0)){e[n+12>>2]=t,e[t+8>>2]=n,p=t;break}else v0();while(!1);if(l){if(t=e[d+28>>2]|0,(d|0)==(e[23124+(t<<2)>>2]|0)){if(e[23124+(t<<2)>>2]=p,!p){e[5706]=e[5706]&~(1<<t),M=d,a=h;break}}else if(l>>>0<(e[5709]|0)>>>0&&v0(),(e[l+16>>2]|0)==(d|0)?e[l+16>>2]=p:e[l+20>>2]=p,!p){M=d,a=h;break}n=e[5709]|0,p>>>0<n>>>0&&v0(),e[p+24>>2]=l,t=e[d+16>>2]|0;do if(t|0)if(t>>>0<n>>>0)v0();else{e[p+16>>2]=t,e[t+24>>2]=p;break}while(!1);if(t=e[d+16+4>>2]|0,t)if(t>>>0<(e[5709]|0)>>>0)v0();else{e[p+20>>2]=t,e[t+24>>2]=p,M=d,a=h;break}else M=d,a=h}else M=d,a=h}while(!1);if(M>>>0>=S>>>0&&v0(),s=e[S+4>>2]|0,s&1||v0(),s&2)e[S+4>>2]=s&-2,e[M+4>>2]=a|1,e[M+a>>2]=a;else{if((S|0)==(e[5711]|0)){if(w=(e[5708]|0)+a|0,e[5708]=w,e[5711]=M,e[M+4>>2]=w|1,(M|0)!=(e[5710]|0))return;e[5710]=0,e[5707]=0;return}if((S|0)==(e[5710]|0)){w=(e[5707]|0)+a|0,e[5707]=w,e[5710]=M,e[M+4>>2]=w|1,e[M+w>>2]=w;return}a=(s&-8)+a|0;do if(s>>>0>=256){l=e[S+24>>2]|0,t=e[S+12>>2]|0;do if((t|0)==(S|0)){if(t=e[S+16+4>>2]|0,t)o=S+16+4|0;else if(t=e[S+16>>2]|0,t)o=S+16|0;else{g=0;break}for(;;){if(n=t+20|0,s=e[n>>2]|0,s|0){t=s,o=n;continue}if(n=t+16|0,s=e[n>>2]|0,s)t=s,o=n;else break}if(o>>>0<(e[5709]|0)>>>0)v0();else{e[o>>2]=0,g=t;break}}else if(n=e[S+8>>2]|0,n>>>0<(e[5709]|0)>>>0&&v0(),(e[n+12>>2]|0)!=(S|0)&&v0(),(e[t+8>>2]|0)==(S|0)){e[n+12>>2]=t,e[t+8>>2]=n,g=t;break}else v0();while(!1);if(l|0){if(t=e[S+28>>2]|0,(S|0)==(e[23124+(t<<2)>>2]|0)){if(e[23124+(t<<2)>>2]=g,!g){e[5706]=e[5706]&~(1<<t);break}}else if(l>>>0<(e[5709]|0)>>>0&&v0(),(e[l+16>>2]|0)==(S|0)?e[l+16>>2]=g:e[l+20>>2]=g,!g)break;n=e[5709]|0,g>>>0<n>>>0&&v0(),e[g+24>>2]=l,t=e[S+16>>2]|0;do if(t|0)if(t>>>0<n>>>0)v0();else{e[g+16>>2]=t,e[t+24>>2]=g;break}while(!1);if(t=e[S+16+4>>2]|0,t|0)if(t>>>0<(e[5709]|0)>>>0)v0();else{e[g+20>>2]=t,e[t+24>>2]=g;break}}}else{if(t=e[S+8>>2]|0,n=e[S+12>>2]|0,(t|0)!=(22860+(s>>>3<<1<<2)|0)&&(t>>>0<(e[5709]|0)>>>0&&v0(),(e[t+12>>2]|0)!=(S|0)&&v0()),(n|0)==(t|0)){e[5705]=e[5705]&~(1<<(s>>>3));break}(n|0)!=(22860+(s>>>3<<1<<2)|0)?(n>>>0<(e[5709]|0)>>>0&&v0(),(e[n+8>>2]|0)!=(S|0)?v0():m=n+8|0):m=n+8|0,e[t+12>>2]=n,e[m>>2]=t}while(!1);if(e[M+4>>2]=a|1,e[M+a>>2]=a,(M|0)==(e[5710]|0)){e[5707]=a;return}}if(n=a>>>3,a>>>0<256){t=e[5705]|0,t&1<<n?(t=e[22860+(n<<1<<2)+8>>2]|0,t>>>0<(e[5709]|0)>>>0?v0():(C=22860+(n<<1<<2)+8|0,w=t)):(e[5705]=t|1<<n,C=22860+(n<<1<<2)+8|0,w=22860+(n<<1<<2)|0),e[C>>2]=M,e[w+12>>2]=M,e[M+8>>2]=w,e[M+12>>2]=22860+(n<<1<<2);return}t=a>>>8,t?a>>>0>16777215?s=31:(s=t<<((t+1048320|0)>>>16&8)<<(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4),s=14-(((t<<((t+1048320|0)>>>16&8))+520192|0)>>>16&4|(t+1048320|0)>>>16&8|(s+245760|0)>>>16&2)+(s<<((s+245760|0)>>>16&2)>>>15)|0,s=a>>>(s+7|0)&1|s<<1):s=0,o=23124+(s<<2)|0,e[M+28>>2]=s,e[M+20>>2]=0,e[M+16>>2]=0,t=e[5706]|0,n=1<<s;do if(t&n){for(s=a<<((s|0)==31?0:25-(s>>>1)|0),o=e[o>>2]|0;;){if((e[o+4>>2]&-8|0)==(a|0)){t=130;break}if(n=o+16+(s>>>31<<2)|0,t=e[n>>2]|0,t)s=s<<1,o=t;else{t=127;break}}if((t|0)==127)if(n>>>0<(e[5709]|0)>>>0)v0();else{e[n>>2]=M,e[M+24>>2]=o,e[M+12>>2]=M,e[M+8>>2]=M;break}else if((t|0)==130)if(t=o+8|0,n=e[t>>2]|0,w=e[5709]|0,n>>>0>=w>>>0&o>>>0>=w>>>0){e[n+12>>2]=M,e[t>>2]=M,e[M+8>>2]=n,e[M+12>>2]=o,e[M+24>>2]=0;break}else v0()}else e[5706]=t|n,e[o>>2]=M,e[M+24>>2]=o,e[M+12>>2]=M,e[M+8>>2]=M;while(!1);if(M=(e[5713]|0)+-1|0,e[5713]=M,!M)t=23276;else return;for(;t=e[t>>2]|0,t;)t=t+8|0;e[5713]=-1}}function XO(){var t=0,n=0,s=0,o=0;o=H,H=H+48|0,b8(23316,3)|0&&wo(19340,o),t=N8(e[5830]|0)|0,t|0&&(s=e[t>>2]|0,s|0)&&(t=e[s+48>>2]|0,n=e[s+48+4>>2]|0,(t&-256|0)==1126902528&(n|0)==1129074247||(e[o+32>>2]=19519,wo(19614,o+32|0)),(t|0)==1126902529&(n|0)==1129074247?t=e[s+44>>2]|0:t=s+80|0,e[o+44>>2]=t,s=e[s>>2]|0,t=e[s+4>>2]|0,F8(2352,s,o+44|0)|0?(s=e[o+44>>2]|0,s=Tt[e[(e[s>>2]|0)+8>>2]&127](s)|0,e[o+8>>2]=19519,e[o+8+4>>2]=t,e[o+8+8>>2]=s,wo(19528,o+8|0)):(e[o+24>>2]=19519,e[o+24+4>>2]=t,wo(19573,o+24|0))),wo(19652,o+40|0)}function $O(){var t=0;if(t=H,H=H+16|0,vI(23320,219)|0)wo(19290,t);else{H=t;return}}function YO(t){t=t|0;var n=0;if(n=H,H=H+16|0,ye(t),CI(e[5830]|0,0)|0)wo(19237,n);else{H=n;return}}function wo(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;o=H,H=H+240|0,e[o+80>>2]=n,n=o+96|0,s=n+40|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(s|0));e[o+136>>2]=e[o+80>>2],(Hp(0,t,o+136|0,o,o+96|0)|0)>=0&&(n=e[2026]|0,(R[8178]|0)<1&&(e[2026]=n&-33),e[2038]|0?Hp(8104,t,o+136|0,o,o+96|0)|0:(s=e[2037]|0,e[2037]=o+152,e[2033]=o+152,e[2031]=o+152,e[2038]=80,e[2030]=o+152+80,Hp(8104,t,o+136|0,o,o+96|0)|0,s|0&&(G0[e[2035]&63](8104,0,0)|0,e[2037]=s,e[2038]=0,e[2030]=0,e[2033]=0,e[2031]=0)),e[2026]=e[2026]|n&32),n=(R[8179]|0)==10;do if((e[2045]|0)<0){if(!n&&(a=e[2031]|0,a>>>0<(e[2030]|0)>>>0)){e[2031]=a+1,R[a>>0]=10;break}k8(8104,10)|0}else{if(!n&&(l=e[2031]|0,l>>>0<(e[2030]|0)>>>0)){e[2031]=l+1,R[l>>0]=10;break}k8(8104,10)|0}while(!1);v0()}function KO(t){t=t|0}function ZO(t){t=t|0,ye(t)}function QO(t){t=t|0}function JO(t){t=t|0}function F8(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;if(l=H,H=H+64|0,(t|0)!=(n|0))if((n|0)!=0&&(a=B8(n,2360)|0,(a|0)!=0)){n=l,o=n+56|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(o|0));e[l>>2]=a,e[l+8>>2]=t,e[l+12>>2]=-1,e[l+48>>2]=1,Kt[e[(e[a>>2]|0)+28>>2]&127](a,l,e[s>>2]|0,1),(e[l+24>>2]|0)==1?(e[s>>2]=e[l+16>>2],n=1):n=0}else n=0;else n=1;return H=l,n|0}function B8(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;l=H,H=H+64|0,a=e[t>>2]|0,o=t+(e[a+-8>>2]|0)|0,a=e[a+-4>>2]|0,e[l>>2]=n,e[l+4>>2]=t,e[l+8>>2]=2392,t=l+12|0,s=t+40|0;do e[t>>2]=0,t=t+4|0;while((t|0)<(s|0));ee[l+12+40>>1]=0,R[l+12+42>>0]=0;e:do if((a|0)==(n|0))e[l+48>>2]=1,Ro[e[(e[n>>2]|0)+20>>2]&7](n,l,o,o,1,0),t=(e[l+24>>2]|0)==1?o:0;else{switch(Zi[e[(e[a>>2]|0)+24>>2]&31](a,l,o,1,0),e[l+36>>2]|0){case 0:{t=((e[l+40>>2]|0)==1?(e[l+28>>2]|0)==1:0)&(e[l+32>>2]|0)==1?e[l+20>>2]|0:0;break e}case 1:break;default:{t=0;break e}}if((e[l+24>>2]|0)!=1&&!(((e[l+40>>2]|0)==0?(e[l+28>>2]|0)==1:0)&(e[l+32>>2]|0)==1)){t=0;break}t=e[l+16>>2]|0}while(!1);return H=l,t|0}function eG(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,(t|0)==(e[n+8>>2]|0)?jp(n,s,o,a):(t=e[t+8>>2]|0,Ro[e[(e[t>>2]|0)+20>>2]&7](t,n,s,o,a,l))}function jp(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,R[t+53>>0]=1;do if((e[t+4>>2]|0)==(s|0)){if(R[t+52>>0]=1,s=e[t+16>>2]|0,!s){if(e[t+16>>2]=n,e[t+24>>2]=o,e[t+36>>2]=1,!((o|0)==1&&(e[t+48>>2]|0)==1))break;R[t+54>>0]=1;break}if((s|0)!=(n|0)){e[t+36>>2]=(e[t+36>>2]|0)+1,R[t+54>>0]=1;break}s=e[t+24>>2]|0,(s|0)==2&&(e[t+24>>2]=o,s=o),(s|0)==1&&(e[t+48>>2]|0)==1&&(R[t+54>>0]=1)}while(!1)}function tG(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;do if((t|0)==(e[n+8>>2]|0))(e[n+4>>2]|0)==(s|0)&&(e[n+28>>2]|0)!=1&&(e[n+28>>2]=o);else{if((t|0)!=(e[n>>2]|0)){t=e[t+8>>2]|0,Zi[e[(e[t>>2]|0)+24>>2]&31](t,n,s,o,a);break}if((e[n+16>>2]|0)!=(s|0)&&(e[n+20>>2]|0)!=(s|0)){if(e[n+32>>2]=o,(e[n+44>>2]|0)==4)break;R[n+52>>0]=0,R[n+53>>0]=0,t=e[t+8>>2]|0,Ro[e[(e[t>>2]|0)+20>>2]&7](t,n,s,s,1,a),R[n+53>>0]|0?R[n+52>>0]|0?t=17:(o=1,t=13):(o=0,t=13);do if((t|0)==13){if(e[n+20>>2]=s,e[n+40>>2]=(e[n+40>>2]|0)+1,(e[n+36>>2]|0)==1&&(e[n+24>>2]|0)==2)if(R[n+54>>0]=1,o){t=17;break}else{o=4;break}o?t=17:o=4}while(!1);(t|0)==17&&(o=3),e[n+44>>2]=o;break}(o|0)==1&&(e[n+32>>2]=1)}while(!1)}function iG(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;do if((t|0)==(e[n+8>>2]|0)){if(t=e[n+16>>2]|0,!t){e[n+16>>2]=s,e[n+24>>2]=o,e[n+36>>2]=1;break}if((t|0)!=(s|0)){e[n+36>>2]=(e[n+36>>2]|0)+1,e[n+24>>2]=2,R[n+54>>0]=1;break}(e[n+24>>2]|0)==2&&(e[n+24>>2]=o)}else t=e[t+8>>2]|0,Kt[e[(e[t>>2]|0)+28>>2]&127](t,n,s,o);while(!1)}function nG(t){t=t|0,ye(t)}function rG(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,(t|0)==(e[n+8>>2]|0)&&jp(n,s,o,a)}function sG(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;do if((t|0)==(e[n+8>>2]|0))(e[n+4>>2]|0)==(s|0)&&(e[n+28>>2]|0)!=1&&(e[n+28>>2]=o);else if((t|0)==(e[n>>2]|0)){if((e[n+16>>2]|0)!=(s|0)&&(e[n+20>>2]|0)!=(s|0)){e[n+32>>2]=o,e[n+20>>2]=s,e[n+40>>2]=(e[n+40>>2]|0)+1,(e[n+36>>2]|0)==1&&(e[n+24>>2]|0)==2&&(R[n+54>>0]=1),e[n+44>>2]=4;break}(o|0)==1&&(e[n+32>>2]=1)}while(!1)}function oG(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;do if((t|0)==(e[n+8>>2]|0)){if(t=e[n+16>>2]|0,!t){e[n+16>>2]=s,e[n+24>>2]=o,e[n+36>>2]=1;break}if((t|0)!=(s|0)){e[n+36>>2]=(e[n+36>>2]|0)+1,e[n+24>>2]=2,R[n+54>>0]=1;break}(e[n+24>>2]|0)==2&&(e[n+24>>2]=o)}while(!1)}function aG(t){t=t|0}function cG(t){t=t|0,ye(t)}function lG(t){return t=t|0,19717}function uG(t){t=t|0,ye(t)}function fG(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,p=0,h=0,d=0;if((t|0)==(e[n+8>>2]|0))jp(n,s,o,a);else{h=ee[n+52>>1]|0,u=e[t+12>>2]|0,R[n+52>>0]=0,R[n+53>>0]=0,qp(t+16|0,n,s,o,a,l);e:do if((u|0)>1){d=t+24|0;do{if(R[n+54>>0]|0)break e;if(p=ee[n+52>>1]|0,(p&255)<<24>>24){if((e[n+24>>2]|0)==1||!(e[t+8>>2]&2))break e}else if((p&65535)>=256&&(e[t+8>>2]&1|0)==0)break e;R[n+52>>0]=0,R[n+53>>0]=0,qp(d,n,s,o,a,l),d=d+8|0}while(d>>>0<(t+16+(u<<3)|0)>>>0)}while(!1);R[n+52>>0]=h,R[n+53>>0]=(h&65535)>>>8}}function qp(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,p=0;u=e[t+4>>2]|0,u&1?p=e[(e[o>>2]|0)+(u>>8)>>2]|0:p=u>>8,t=e[t>>2]|0,Ro[e[(e[t>>2]|0)+20>>2]&7](t,n,s,o+p|0,u&2|0?a:2,l)}function _G(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0;e:do if((t|0)==(e[n+8>>2]|0))(e[n+4>>2]|0)==(s|0)&&(e[n+28>>2]|0)!=1&&(e[n+28>>2]=o);else{if((t|0)!=(e[n>>2]|0)){if(u=e[t+12>>2]|0,Pf(t+16|0,n,s,o,a),(u|0)<=1)break;if(l=e[t+8>>2]|0,(l&2|0)==0&&(e[n+36>>2]|0)!=1){if(!(l&1)){for(l=t+24|0;;)if(R[n+54>>0]|0||(e[n+36>>2]|0)==1||(Pf(l,n,s,o,a),l=l+8|0,l>>>0>=(t+16+(u<<3)|0)>>>0))break e}for(l=t+24|0;;)if(R[n+54>>0]|0||(e[n+36>>2]|0)==1&&(e[n+24>>2]|0)==1||(Pf(l,n,s,o,a),l=l+8|0,l>>>0>=(t+16+(u<<3)|0)>>>0))break e}for(l=t+24|0;;)if(R[n+54>>0]|0||(Pf(l,n,s,o,a),l=l+8|0,l>>>0>=(t+16+(u<<3)|0)>>>0))break e}if((e[n+16>>2]|0)!=(s|0)&&(e[n+20>>2]|0)!=(s|0)){if(e[n+32>>2]=o,(e[n+44>>2]|0)==4)break;o=t+16+(e[t+12>>2]<<3)|0,h=0,l=0,p=t+16|0;t:for(;;){if(p>>>0>=o>>>0){u=20;break}if(R[n+52>>0]=0,R[n+53>>0]=0,qp(p,n,s,s,1,a),R[n+54>>0]|0){u=20;break}do if(R[n+53>>0]|0){if(!(R[n+52>>0]|0))if(e[t+8>>2]&1){u=h,l=1;break}else{l=1,u=20;break t}if((e[n+24>>2]|0)==1){u=25;break t}if(e[t+8>>2]&2)u=1,l=1;else{u=25;break t}}else u=h;while(!1);h=u,p=p+8|0}do if((u|0)==20){if(!h&&(e[n+20>>2]=s,e[n+40>>2]=(e[n+40>>2]|0)+1,(e[n+36>>2]|0)==1)&&(e[n+24>>2]|0)==2)if(R[n+54>>0]=1,l){u=25;break}else{l=4;break}l?u=25:l=4}while(!1);(u|0)==25&&(l=3),e[n+44>>2]=l;break}(o|0)==1&&(e[n+32>>2]=1)}while(!1)}function Pf(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0;l=e[t+4>>2]|0,l&1?u=e[(e[s>>2]|0)+(l>>8)>>2]|0:u=l>>8,t=e[t>>2]|0,Zi[e[(e[t>>2]|0)+24>>2]&31](t,n,s+u|0,l&2|0?o:2,a)}function pG(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0;e:do if((t|0)==(e[n+8>>2]|0)){if(a=e[n+16>>2]|0,!a){e[n+16>>2]=s,e[n+24>>2]=o,e[n+36>>2]=1;break}if((a|0)!=(s|0)){e[n+36>>2]=(e[n+36>>2]|0)+1,e[n+24>>2]=2,R[n+54>>0]=1;break}(e[n+24>>2]|0)==2&&(e[n+24>>2]=o)}else if(a=e[t+12>>2]|0,U8(t+16|0,n,s,o),(a|0)>1){l=t+24|0;do{if(U8(l,n,s,o),R[n+54>>0]|0)break e;l=l+8|0}while(l>>>0<(t+16+(a<<3)|0)>>>0)}while(!1)}function U8(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0;a=e[t+4>>2]|0,a&1?l=e[(e[s>>2]|0)+(a>>8)>>2]|0:l=a>>8,t=e[t>>2]|0,Kt[e[(e[t>>2]|0)+28>>2]&127](t,n,s+l|0,a&2|0?o:2)}function hG(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;return o=H,H=H+16|0,e[o>>2]=e[s>>2],t=G0[e[(e[t>>2]|0)+16>>2]&63](t,n,o)|0,t&&(e[s>>2]=e[o>>2]),H=o,t&1|0}function dG(t){return t=t|0,t?t=(B8(t,2448)|0)!=0:t=0,t&1|0}function mG(){}function Wi(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,o=n-o-(s>>>0>t>>>0|0)>>>0,Ge=o,t-s>>>0|0|0}function $t(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,Ge=n+o+(t+s>>>0>>>0<t>>>0|0)>>>0,t+s>>>0|0|0}function ln(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;if(o=t+s|0,(s|0)>=20){if(n=n&255,a=t&3,l=n|n<<8|n<<16|n<<24,a)for(a=t+4-a|0;(t|0)<(a|0);)R[t>>0]=n,t=t+1|0;for(;(t|0)<(o&-4|0);)e[t>>2]=l,t=t+4|0}for(;(t|0)<(o|0);)R[t>>0]=n,t=t+1|0;return t-s|0}function O8(t,n,s){return t=t|0,n=n|0,s=s|0,(s|0)<32?(Ge=n<<s|(t&(1<<s)-1<<32-s)>>>32-s,t<<s):(Ge=t<<s-32,0)}function G8(t,n,s){return t=t|0,n=n|0,s=s|0,(s|0)<32?(Ge=n>>s,t>>>s|(n&(1<<s)-1)<<32-s):(Ge=(n|0)<0?-1:0,n>>s-32|0)}function Lf(t,n,s){return t=t|0,n=n|0,s=s|0,(s|0)<32?(Ge=n>>>s,t>>>s|(n&(1<<s)-1)<<32-s):(Ge=0,n>>>s-32|0)}function wr(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;if((s|0)>=4096)return xI(t|0,n|0,s|0)|0;if(o=t|0,(t&3)==(n&3)){for(;t&3;){if(!s)return o|0;R[t>>0]=R[n>>0]|0,t=t+1|0,n=n+1|0,s=s-1|0}for(;(s|0)>=4;)e[t>>2]=e[n>>2],t=t+4|0,n=n+4|0,s=s-4|0}for(;(s|0)>0;)R[t>>0]=R[n>>0]|0,t=t+1|0,n=n+1|0,s=s-1|0;return o|0}function Xp(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;if((n|0)<(t|0)&(t|0)<(n+s|0)){for(o=t,n=n+s|0,t=t+s|0;(s|0)>0;)t=t-1|0,n=n-1|0,s=s-1|0,R[t>>0]=R[n>>0]|0;t=o}else wr(t,n,s)|0;return t|0}function Mo(t){return t=t|0,(t&255)<<24|(t>>8&255)<<16|(t>>16&255)<<8|t>>>24|0}function gG(){return 0}function V8(t){t=t|0;var n=0;return n=R[If+(t&255)>>0]|0,(n|0)<8?n|0:(n=R[If+(t>>8&255)>>0]|0,(n|0)<8?n+8|0:(n=R[If+(t>>16&255)>>0]|0,(n|0)<8?n+16|0:(R[If+(t>>>24)>>0]|0)+24|0))}function xG(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;return s=Rt(n&65535,t&65535)|0,a=(s>>>16)+(Rt(n&65535,t>>>16)|0)|0,o=Rt(n>>>16,t&65535)|0,Ge=(a>>>16)+(Rt(n>>>16,t>>>16)|0)+(((a&65535)+o|0)>>>16)|0,a+o<<16|s&65535|0|0}function gge(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0;return u=n>>31|((n|0)<0?-1:0)<<1,a=((n|0)<0?-1:0)>>31|((n|0)<0?-1:0)<<1,p=o>>31|((o|0)<0?-1:0)<<1,l=((o|0)<0?-1:0)>>31|((o|0)<0?-1:0)<<1,t=Wi(u^t|0,a^n|0,u|0,a|0)|0,n=Ge,Wi((kf(t,n,Wi(p^s|0,l^o|0,p|0,l|0)|0,Ge,0)|0)^(p^u)|0,Ge^(l^a)|0,p^u|0,l^a|0)|0}function xge(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0;return a=H,H=H+16|0,u=n>>31|((n|0)<0?-1:0)<<1,l=((n|0)<0?-1:0)>>31|((n|0)<0?-1:0)<<1,h=o>>31|((o|0)<0?-1:0)<<1,p=((o|0)<0?-1:0)>>31|((o|0)<0?-1:0)<<1,t=Wi(u^t|0,l^n|0,u|0,l|0)|0,n=Ge,kf(t,n,Wi(h^s|0,p^o|0,h|0,p|0)|0,Ge,a|0)|0,o=Wi(e[a>>2]^u|0,e[a+4>>2]^l|0,u|0,l|0)|0,s=Ge,H=a,Ge=s,o|0}function Ft(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0;return a=xG(t,s)|0,l=Ge,Ge=(Rt(n,s)|0)+(Rt(o,t)|0)+l|l&0,a|0|0|0}function z8(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,kf(t,n,s,o,0)|0}function W8(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;return a=H,H=H+16|0,kf(t,n,s,o,a|0)|0,H=a,Ge=e[a+4>>2]|0,e[a>>2]|0|0}function kf(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(!n)return o?a?(e[a>>2]=t|0,e[a+4>>2]=n&0,o=0,a=0,Ge=o,a|0):(o=0,a=0,Ge=o,a|0):(a|0&&(e[a>>2]=(t>>>0)%(s>>>0),e[a+4>>2]=0),o=0,a=(t>>>0)/(s>>>0)>>>0,Ge=o,a|0);do if(s){if(o|0){if(u=(uc(o|0)|0)-(uc(n|0)|0)|0,u>>>0<=31){S=u+1|0,p=t>>>((u+1|0)>>>0)&u-31>>31|n<<31-u,g=n>>>((u+1|0)>>>0)&u-31>>31,l=0,u=t<<31-u;break}return a?(e[a>>2]=t|0,e[a+4>>2]=n|n&0,o=0,a=0,Ge=o,a|0):(o=0,a=0,Ge=o,a|0)}if(s-1&s|0){u=(uc(s|0)|0)+33-(uc(n|0)|0)|0,S=u,p=32-u-1>>31&n>>>((u-32|0)>>>0)|(n<<32-u|t>>>(u>>>0))&u-32>>31,g=u-32>>31&n>>>(u>>>0),l=t<<64-u&32-u>>31,u=(n<<64-u|t>>>((u-32|0)>>>0))&32-u>>31|t<<32-u&u-33>>31;break}return a|0&&(e[a>>2]=s-1&t,e[a+4>>2]=0),(s|0)==1?(o=n|n&0,a=t|0|0,Ge=o,a|0):(a=V8(s|0)|0,o=n>>>(a>>>0)|0,a=n<<32-a|t>>>(a>>>0)|0,Ge=o,a|0)}else{if(!o)return a|0&&(e[a>>2]=(n>>>0)%(s>>>0),e[a+4>>2]=0),o=0,a=(n>>>0)/(s>>>0)>>>0,Ge=o,a|0;if(!t)return a|0&&(e[a>>2]=0,e[a+4>>2]=(n>>>0)%(o>>>0)),s=0,a=(n>>>0)/(o>>>0)>>>0,Ge=s,a|0;if(!(o-1&o))return a|0&&(e[a>>2]=t|0,e[a+4>>2]=o-1&n|n&0),s=0,a=n>>>((V8(o|0)|0)>>>0),Ge=s,a|0;if(u=(uc(o|0)|0)-(uc(n|0)|0)|0,u>>>0<=30){S=u+1|0,p=n<<31-u|t>>>((u+1|0)>>>0),g=n>>>((u+1|0)>>>0),l=0,u=t<<31-u;break}return a?(e[a>>2]=t|0,e[a+4>>2]=n|n&0,o=0,a=0,Ge=o,a|0):(o=0,a=0,Ge=o,a|0)}while(!1);if(!S)h=u,n=g,t=0,u=0;else{d=$t(s|0|0,o|o&0|0,-1,-1)|0,m=Ge,h=u,n=g,t=S,u=0;do w=h,h=l>>>31|h<<1,l=u|l<<1,w=p<<1|w>>>31|0,C=p>>>31|n<<1|0,Wi(d|0,m|0,w|0,C|0)|0,S=Ge,g=S>>31|((S|0)<0?-1:0)<<1,u=g&1,p=Wi(w|0,C|0,g&(s|0)|0,(((S|0)<0?-1:0)>>31|((S|0)<0?-1:0)<<1)&(o|o&0)|0)|0,n=Ge,t=t-1|0;while((t|0)!=0);t=0}return a|0&&(e[a>>2]=p,e[a+4>>2]=n),C=(l|0)>>>31|h<<1|(0|l>>>31)&0|t,w=(l<<1|0)&-2|u,Ge=C,w|0}function yG(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,Zi[t&31](n|0,s|0,o|0,a|0,l|0)}function vG(t,n,s){t=t|0,n=n|0,s=+s,m2[t&31](n|0,+s)}function SG(t,n){t=t|0,n=n|0,Vt[t&255](n|0)}function CG(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=l|0,u=u|0,Rm[t&0](n|0,s|0,o|0,+a,l|0,u|0)}function TG(t,n,s){t=t|0,n=n|0,s=s|0,zt[t&127](n|0,s|0)}function wG(t,n,s,o,a,l,u,p,h,d,m){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0,m=m|0,Am[t&3](n|0,s|0,o|0,a|0,l|0,u|0,p|0,h|0,d|0,m|0)|0}function MG(t,n){return t=t|0,n=n|0,Tt[t&127](n|0)|0}function RG(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=+o,a=a|0,Th[t&7](n|0,s|0,+o,a|0)}function AG(t,n,s,o,a,l,u){t=t|0,n=n|0,s=+s,o=+o,a=a|0,l=l|0,u=u|0,e_[t&0](n|0,+s,+o,a|0,l|0,u|0)}function EG(t,n,s,o,a){t=t|0,n=n|0,s=+s,o=o|0,a=a|0,wh[t&0](n|0,+s,o|0,a|0)}function NG(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,q2[t&31](n|0,s|0,o|0,a|0)|0}function bG(t,n,s,o){t=t|0,n=n|0,s=+s,o=o|0,F2[t&15](n|0,+s,o|0)}function DG(t,n,s,o,a,l,u,p,h){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,+t_[t&1](n|0,s|0,o|0,a|0,l|0,u|0,p|0,h|0)}function IG(t,n,s,o,a,l,u,p,h,d,m,g){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l,u=+u,p=+p,h=+h,d=d|0,m=m|0,g=+g,O1[t&0](n|0,s|0,o|0,a|0,+l,+u,+p,+h,d|0,m|0,+g)}function PG(t,n,s,o,a,l){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,+Mh[t&15](n|0,s|0,o|0,a|0,l|0)}function LG(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,G0[t&63](n|0,s|0,o|0)|0}function kG(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,Ro[t&7](n|0,s|0,o|0,a|0,l|0,u|0)}function FG(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=+o,sse[t&7](n|0,s|0,+o)|0}function BG(t,n){return t=t|0,n=n|0,+Ct[t&15](n|0)}function UG(t,n,s,o,a,l,u){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,Em[t&3](n|0,s|0,o|0,a|0,l|0,u|0)|0}function OG(t,n,s,o,a,l,u){return t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=l|0,u=u|0,+Nm[t&3](n|0,s|0,o|0,+a,l|0,u|0)}function GG(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=+o,a=a|0,l=l|0,bm[t&0](n|0,s|0,+o,a|0,l|0)}function VG(t,n,s,o,a,l,u,p){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,ose[t&3](n|0,s|0,o|0,a|0,l|0,u|0,p|0)}function zG(t,n,s,o,a,l,u,p,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0,Dm[t&1](n|0,s|0,o|0,a|0,l|0,u|0,p|0,h|0,d|0)}function WG(t,n,s,o,a,l,u,p,h,d,m){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0,m=m|0,vc[t&3](n|0,s|0,o|0,a|0,l|0,u|0,p|0,h|0,d|0,m|0)}function HG(t,n,s){return t=t|0,n=n|0,s=s|0,I0[t&31](n|0,s|0)|0}function jG(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,+Ao[t&15](n|0,s|0,o|0)}function qG(t,n,s,o,a,l,u,p,h,d,m){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0,m=m|0,+cu[t&3](n|0,s|0,o|0,a|0,l|0,u|0,p|0,h|0,d|0,m|0)}function XG(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l,ase[t&1](n|0,s|0,o|0,a|0,+l)}function $G(t,n,s,o,a,l,u,p,h,d){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0,+Rh[t&3](n|0,s|0,o|0,a|0,l|0,u|0,p|0,h|0,d|0)}function YG(t,n,s){return t=t|0,n=n|0,s=+s,+Ah[t&1](n|0,+s)}function KG(t,n,s,o,a,l,u,p,h,d,m,g,S){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l,u=+u,p=+p,h=+h,d=+d,m=m|0,g=+g,S=S|0,Eh[t&0](n|0,s|0,o|0,a|0,+l,+u,+p,+h,+d,m|0,+g,S|0)}function ZG(t,n,s,o,a,l){return t=t|0,n=n|0,s=s|0,o=+o,a=a|0,l=l|0,+Nh[t&3](n|0,s|0,+o,a|0,l|0)}function QG(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,+Im[t&1](n|0,s|0,o|0,a|0)}function JG(t,n,s,o,a,l,u,p,h,d){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0,bh[t&3](n|0,s|0,o|0,a|0,l|0,u|0,p|0,h|0,d|0)|0}function eV(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,N2[t&15](n|0,s|0,o|0,+a)}function tV(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,f0[t&127](n|0,s|0,o|0)}function iV(t){t=t|0,g2[t&3]()}function nV(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o,rr[t&7](n|0,s|0,+o)}function rV(t,n,s,o,a){return t=t|0,n=n|0,s=+s,o=o|0,a=+a,i_[t&1](n|0,+s,o|0,+a)|0}function sV(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,Kt[t&127](n|0,s|0,o|0,a|0)}function jr(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,Xi(0)}function Pr(t,n){t=t|0,n=+n,Xi(1)}function tn(t){t=t|0,Xi(2)}function oV(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=+o,a=a|0,l=l|0,Xi(3)}function h2(t,n){t=t|0,n=n|0,Xi(4)}function H8(t,n,s,o,a,l,u,p,h,d){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0,Xi(5),0}function Tn(t){return t=t|0,Xi(6),0}function j8(t,n,s,o){t=t|0,n=n|0,s=+s,o=o|0,Xi(7)}function aV(t,n,s,o,a,l){t=t|0,n=+n,s=+s,o=o|0,a=a|0,l=l|0,Xi(8)}function cV(t,n,s,o){t=t|0,n=+n,s=s|0,o=o|0,Xi(9)}function hs(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,Xi(10),0}function _c(t,n,s){t=t|0,n=+n,s=s|0,Xi(11)}function lV(t,n,s,o,a,l,u,p){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,Xi(12),0}function uV(t,n,s,o,a,l,u,p,h,d,m){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=+l,u=+u,p=+p,h=h|0,d=d|0,m=+m,Xi(13)}function ma(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,Xi(14),0}function Un(t,n,s){return t=t|0,n=n|0,s=s|0,Xi(15),0}function q8(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,Xi(16)}function Ff(t,n,s){return t=t|0,n=n|0,s=+s,Xi(17),0}function k1(t){return t=t|0,Xi(18),0}function fV(t,n,s,o,a,l){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,Xi(19),0}function X8(t,n,s,o,a,l){return t=t|0,n=n|0,s=s|0,o=+o,a=a|0,l=l|0,Xi(20),0}function _V(t,n,s,o,a){t=t|0,n=n|0,s=+s,o=o|0,a=a|0,Xi(21)}function $8(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,Xi(22)}function pV(t,n,s,o,a,l,u,p,h){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,Xi(23)}function Y8(t,n,s,o,a,l,u,p,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0,Xi(24)}function Gs(t,n){return t=t|0,n=n|0,Xi(25),0}function K8(t,n,s){return t=t|0,n=n|0,s=s|0,Xi(26),0}function Z8(t,n,s,o,a,l,u,p,h,d){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0,Xi(27),0}function hV(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,Xi(28)}function Q8(t,n,s,o,a,l,u,p,h){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,Xi(29),0}function dV(t,n){return t=t|0,n=+n,Xi(30),0}function mV(t,n,s,o,a,l,u,p,h,d,m,g){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=+l,u=+u,p=+p,h=+h,d=d|0,m=+m,g=g|0,Xi(31)}function J8(t,n,s,o,a){return t=t|0,n=n|0,s=+s,o=o|0,a=a|0,Xi(32),0}function gV(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,Xi(33),0}function e6(t,n,s,o,a,l,u,p,h){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,Xi(34),0}function ga(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o,Xi(35)}function ui(t,n,s){t=t|0,n=n|0,s=s|0,Xi(36)}function xV(){Xi(37)}function yV(){MI()}function $p(t,n,s){t=t|0,n=n|0,s=+s,Xi(38)}function vV(t,n,s,o){return t=t|0,n=+n,s=s|0,o=+o,Xi(39),0}function j0(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Xi(40)}function SV(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0;if(G=H,H=H+64|0,s=e[t+128>>2]|0,(s|0)>0){o=0;do Yp(e[t+108>>2]|0,e[t+136>>2]|0,o,0),o=o+1|0,s=e[t+128>>2]|0;while((o|0)<(s|0))}if(o=e[t+108>>2]|0,M=+i[o+336>>2],E=+i[o+340>>2],a=+i[o+344>>2],a=+ot(+(M*M+E*E+a*a))*3.5999999046325684,i[t+104>>2]=a,U=e[t+120>>2]|0,+i[o+4+(U<<2)>>2]*+i[o+336>>2]+ +i[o+20+(U<<2)>>2]*+i[o+340>>2]+ +i[o+36+(U<<2)>>2]*+i[o+344>>2]<0&&(i[t+104>>2]=-a),(s|0)>0){U=0;do{P=e[t+136>>2]|0,g=P+(U*284|0)|0,Kp(o,g,0),m=P+(U*284|0)+204|0,s=P+(U*284|0)+212|0,a=+i[m>>2]+ +i[s>>2],S=P+(U*284|0)+52|0,D=P+(U*284|0)+56|0,b=P+(U*284|0)+60|0,O=P+(U*284|0)+36|0,B=P+(U*284|0)+16|0,M=a*+i[D>>2]+ +i[P+(U*284|0)+40>>2],E=a*+i[b>>2]+ +i[P+(U*284|0)+44>>2],i[P+(U*284|0)+16>>2]=+i[S>>2]*a+ +i[O>>2],L=P+(U*284|0)+20|0,i[L>>2]=M,F=P+(U*284|0)+24|0,i[F>>2]=E,i[P+(U*284|0)+28>>2]=0,i[G+32>>2]=-1,o=e[t+92>>2]|0,O=q2[e[(e[o>>2]|0)+8>>2]&31](o,O,B,G)|0,o=P+(U*284|0)+88|0,e[o>>2]=0;do if(O)if(a=a*+i[G+32>>2],e[g>>2]=e[G+16>>2],e[g+4>>2]=e[G+16+4>>2],e[g+8>>2]=e[G+16+8>>2],e[g+12>>2]=e[G+16+12>>2],R[P+(U*284|0)+84>>0]=1,R[19888]|0||(R[19888]=1,e[G+40>>2]=0,e[G+40+4>>2]=0,e[G+40+8>>2]=0,e[G+40+12>>2]=0,eu(21908,0,0,0,G+40|0)),e[5528]=e[5528]|1,i[5569]=0,l=+i[5579]*0,u=+i[5580]*0,i[5574]=+i[5578]*0,i[5575]=l,i[5576]=u,i[5577]=0,e[5582]=0,e[5583]=0,e[5584]=0,e[5585]=0,u=+i[5571]*0,l=+i[5572]*0,i[5623]=+i[5570]*0,i[5624]=u,i[5625]=l,i[5626]=0,e[o>>2]=21908,a=a-+i[s>>2],s=P+(U*284|0)+32|0,i[s>>2]=a,l=+i[m>>2],u=+i[P+(U*284|0)+208>>2]*.009999999776482582,a<l-u&&(i[s>>2]=l-u,a=l-u),a>l+u&&(i[s>>2]=l+u),e[B>>2]=e[G>>2],e[B+4>>2]=e[G+4>>2],e[B+8>>2]=e[G+8>>2],e[B+12>>2]=e[G+12>>2],w=+i[g>>2],M=+i[P+(U*284|0)+4>>2],E=+i[P+(U*284|0)+8>>2],C=w*+i[S>>2]+M*+i[D>>2]+E*+i[b>>2],s=e[t+108>>2]|0,d=+i[B>>2]-+i[s+52>>2],h=+i[L>>2]-+i[s+56>>2],a=+i[F>>2]-+i[s+60>>2],l=+i[s+356>>2],u=+i[s+360>>2],p=+i[s+352>>2],C>=-.10000000149011612){i[P+(U*284|0)+272>>2]=0,i[P+(U*284|0)+268>>2]=10;break}else{i[P+(U*284|0)+272>>2]=-1/C*(w*(l*a-h*u+ +i[s+336>>2])+M*(d*u-a*p+ +i[s+340>>2])+E*(h*p-d*l+ +i[s+344>>2])),i[P+(U*284|0)+268>>2]=-1/C;break}else e[P+(U*284|0)+32>>2]=e[m>>2],i[P+(U*284|0)+272>>2]=0,M=-+i[D>>2],E=-+i[b>>2],i[g>>2]=-+i[S>>2],i[P+(U*284|0)+4>>2]=M,i[P+(U*284|0)+8>>2]=E,i[P+(U*284|0)+12>>2]=0,i[P+(U*284|0)+268>>2]=1;while(!1);U=U+1|0,s=e[t+128>>2]|0,o=e[t+108>>2]|0}while((U|0)<(s|0));if(l=1/+i[o+368>>2],(s|0)>0){o=0;do s=e[t+136>>2]|0,R[s+(o*284|0)+84>>0]|0?(a=+i[s+(o*284|0)+272>>2],a=l*(+i[s+(o*284|0)+216>>2]*(+i[s+(o*284|0)+204>>2]-+i[s+(o*284|0)+32>>2])*+i[s+(o*284|0)+268>>2]-a*+i[(a<0?s+(o*284|0)+220|0:s+(o*284|0)+224|0)>>2]),a=a<0?0:a):a=0,i[s+(o*284|0)+276>>2]=a,o=o+1|0,s=e[t+128>>2]|0;while((o|0)<(s|0));if((s|0)>0){s=0;do U=e[t+136>>2]|0,w=+i[U+(s*284|0)+276>>2],E=+i[U+(s*284|0)+248>>2],w=w>E?E:w,E=w*+i[U+(s*284|0)+4>>2]*n,M=w*+i[U+(s*284|0)+8>>2]*n,i[G+40>>2]=+i[U+(s*284|0)>>2]*w*n,i[G+40+4>>2]=E,i[G+40+8>>2]=M,i[G+40+12>>2]=0,O=e[t+108>>2]|0,M=+i[U+(s*284|0)+20>>2]-+i[O+56>>2],E=+i[U+(s*284|0)+24>>2]-+i[O+60>>2],i[G>>2]=+i[U+(s*284|0)+16>>2]-+i[O+52>>2],i[G+4>>2]=M,i[G+8>>2]=E,i[G+12>>2]=0,B1(O,G+40|0,G),s=s+1|0;while((s|0)<(e[t+128>>2]|0))}}}if(m2[e[(e[t>>2]|0)+20>>2]&31](t,n),o=e[t+128>>2]|0,(o|0)<=0){H=G;return}m=e[t+136>>2]|0,g=e[t+108>>2]|0,S=0;do a=+i[m+(S*284|0)+36>>2]-+i[g+52>>2],l=+i[m+(S*284|0)+40>>2]-+i[g+56>>2],u=+i[m+(S*284|0)+44>>2]-+i[g+60>>2],p=+i[g+356>>2],h=+i[g+360>>2],d=+i[g+352>>2],R[m+(S*284|0)+84>>0]|0?(s=e[t+120>>2]|0,Y=+i[g+4+(s<<2)>>2],C=+i[g+20+(s<<2)>>2],M=+i[g+36+(s<<2)>>2],z=+i[m+(S*284|0)>>2],w=+i[m+(S*284|0)+4>>2],E=+i[m+(S*284|0)+8>>2],a=((l*d-a*p+ +i[g+344>>2])*(M-E*(Y*z+C*w+M*E))+((p*u-l*h+ +i[g+336>>2])*(Y-z*(Y*z+C*w+M*E))+(a*h-u*d+ +i[g+340>>2])*(C-w*(Y*z+C*w+M*E))))*n/+i[m+(S*284|0)+212>>2],s=m+(S*284|0)+240|0,i[s>>2]=a,O=m+(S*284|0)+236|0,i[O>>2]=+i[O>>2]+a):(s=m+(S*284|0)+240|0,a=+i[s>>2],O=m+(S*284|0)+236|0,i[O>>2]=a+ +i[O>>2]),i[s>>2]=a*.9900000095367432,S=S+1|0;while((S|0)!=(o|0));H=G}function Yp(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0;Kp(t,n+(s*284|0)|0,o),g=+i[n+(s*284|0)+52>>2],u=+i[n+(s*284|0)+56>>2],M=+i[n+(s*284|0)+60>>2],ne=+i[n+(s*284|0)+76>>2],P=+i[n+(s*284|0)+72>>2],G=+i[n+(s*284|0)+68>>2],F=1/+ot(+((P*-g-G*-u)*(P*-g-G*-u)+((ne*-u-P*-M)*(ne*-u-P*-M)+(G*-M-ne*-g)*(G*-M-ne*-g)))),L=(ne*-u-P*-M)*F,B=F*(G*-M-ne*-g),F=F*(P*-g-G*-u),a=+i[n+(s*284|0)+232>>2]*.5,d=+E2(+a)/+ot(+(g*g+u*u+M*M)),a=+C2(+a),m=2/(a*a+(d*-M*(d*-M)+(d*-g*(d*-g)+d*-u*(d*-u)))),q=1-(d*-u*(d*-u*m)+d*-M*(d*-M*m)),$=d*-g*(d*-u*m)-a*(d*-M*m),X=d*-g*(d*-M*m)+a*(d*-u*m),z=d*-g*(d*-u*m)+a*(d*-M*m),O=1-(d*-g*(d*-g*m)+d*-M*(d*-M*m)),Y=d*-u*(d*-M*m)-a*(d*-g*m),h=d*-g*(d*-M*m)-a*(d*-u*m),a=d*-u*(d*-M*m)+a*(d*-g*m),m=1-(d*-g*(d*-g*m)+d*-u*(d*-u*m)),d=+i[n+(s*284|0)+236>>2]*-.5,U=+E2(+d)/+ot(+(ne*ne+(P*P+G*G))),d=+C2(+d),E=2/(d*d+(ne*U*(ne*U)+(G*U*(G*U)+P*U*(P*U)))),S=1-(P*U*(P*U*E)+ne*U*(ne*U*E)),p=G*U*(P*U*E)-d*(ne*U*E),b=G*U*(ne*U*E)+d*(P*U*E),C=G*U*(P*U*E)+d*(ne*U*E),l=1-(G*U*(G*U*E)+ne*U*(ne*U*E)),D=P*U*(ne*U*E)-d*(G*U*E),w=G*U*(ne*U*E)-d*(P*U*E),d=P*U*(ne*U*E)+d*(G*U*E),E=1-(G*U*(G*U*E)+P*U*(P*U*E)),U=+i[n+(s*284|0)+68>>2],P=+i[n+(s*284|0)+72>>2],G=+i[n+(s*284|0)+76>>2],i[n+(s*284|0)+92>>2]=G*(q*b+$*D+X*E)+(U*(X*w+($*C+q*S))+P*(X*d+(q*p+$*l))),i[n+(s*284|0)+96>>2]=F*(q*b+$*D+X*E)+(L*(X*w+($*C+q*S))+B*(X*d+(q*p+$*l))),i[n+(s*284|0)+100>>2]=(q*b+$*D+X*E)*-M+((X*w+($*C+q*S))*-g+(X*d+(q*p+$*l))*-u),i[n+(s*284|0)+104>>2]=0,i[n+(s*284|0)+108>>2]=G*(z*b+O*D+Y*E)+(U*(Y*w+(O*C+z*S))+P*(Y*d+(z*p+O*l))),i[n+(s*284|0)+112>>2]=F*(z*b+O*D+Y*E)+(L*(Y*w+(O*C+z*S))+B*(Y*d+(z*p+O*l))),i[n+(s*284|0)+116>>2]=(z*b+O*D+Y*E)*-M+((Y*w+(O*C+z*S))*-g+(Y*d+(z*p+O*l))*-u),i[n+(s*284|0)+120>>2]=0,i[n+(s*284|0)+124>>2]=G*(h*b+a*D+m*E)+(U*(m*w+(a*C+h*S))+P*(m*d+(h*p+a*l))),i[n+(s*284|0)+128>>2]=F*(h*b+a*D+m*E)+(L*(m*w+(a*C+h*S))+B*(m*d+(h*p+a*l))),i[n+(s*284|0)+132>>2]=(h*b+a*D+m*E)*-M+((m*w+(a*C+h*S))*-g+(m*d+(h*p+a*l))*-u),i[n+(s*284|0)+136>>2]=0,u=+i[n+(s*284|0)+32>>2],l=u*+i[n+(s*284|0)+56>>2]+ +i[n+(s*284|0)+40>>2],a=u*+i[n+(s*284|0)+60>>2]+ +i[n+(s*284|0)+44>>2],i[n+(s*284|0)+140>>2]=+i[n+(s*284|0)+52>>2]*u+ +i[n+(s*284|0)+36>>2],i[n+(s*284|0)+144>>2]=l,i[n+(s*284|0)+148>>2]=a,i[n+(s*284|0)+152>>2]=0}function Kp(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0;a=H,H=H+64|0,R[n+84>>0]=0,e[a>>2]=e[t+4>>2],e[a+4>>2]=e[t+4+4>>2],e[a+8>>2]=e[t+4+8>>2],e[a+12>>2]=e[t+4+12>>2],e[a+16>>2]=e[t+20>>2],e[a+16+4>>2]=e[t+20+4>>2],e[a+16+8>>2]=e[t+20+8>>2],e[a+16+12>>2]=e[t+20+12>>2],e[a+32>>2]=e[t+36>>2],e[a+32+4>>2]=e[t+36+4>>2],e[a+32+8>>2]=e[t+36+8>>2],e[a+32+12>>2]=e[t+36+12>>2],e[a+48>>2]=e[t+52>>2],e[a+48+4>>2]=e[t+52+4>>2],e[a+48+8>>2]=e[t+52+8>>2],e[a+48+12>>2]=e[t+52+12>>2],s&&(o=e[t+504>>2]|0,o|0)&&zt[e[(e[o>>2]|0)+8>>2]&127](o,a),b=+i[n+156>>2],E=+i[a>>2],D=+i[n+160>>2],M=+i[a+4>>2],m=+i[n+164>>2],w=+i[a+8>>2],C=+i[a+16>>2],S=+i[a+20>>2],g=+i[a+24>>2],d=+i[a+32>>2],p=+i[a+36>>2],l=+i[a+40>>2],h=b*C+D*S+m*g+ +i[a+52>>2],u=b*d+D*p+m*l+ +i[a+56>>2],i[n+36>>2]=b*E+D*M+m*w+ +i[a+48>>2],i[n+40>>2]=h,i[n+44>>2]=u,i[n+48>>2]=0,u=+i[n+172>>2],h=+i[n+176>>2],m=+i[n+180>>2],i[n+52>>2]=E*u+M*h+w*m,i[n+56>>2]=u*C+h*S+m*g,i[n+60>>2]=u*d+h*p+m*l,i[n+64>>2]=0,m=+i[n+188>>2],h=+i[n+192>>2],u=+i[n+196>>2],i[n+68>>2]=E*m+M*h+w*u,i[n+72>>2]=m*C+h*S+u*g,i[n+76>>2]=m*d+h*p+u*l,i[n+80>>2]=0,H=a}function CV(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0;if(C=H,H=H+144|0,m=e[t+128>>2]|0,!m){H=C;return}if(u=e[t+8>>2]|0,(u|0)<(m|0)){if((e[t+12>>2]|0)<(m|0)){if(e[5637]=(e[5637]|0)+1,s=Xe((m<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,l=s+4+15&-16):l=0,s=e[t+8>>2]|0,(s|0)>0){a=0;do d=l+(a<<4)|0,w=(e[t+16>>2]|0)+(a<<4)|0,e[d>>2]=e[w>>2],e[d+4>>2]=e[w+4>>2],e[d+8>>2]=e[w+8>>2],e[d+12>>2]=e[w+12>>2],a=a+1|0;while((a|0)!=(s|0))}s=e[t+16>>2]|0,s|0&&(R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+16>>2]=0),R[t+20>>0]=1,e[t+16>>2]=l,e[t+12>>2]=m,a=t+16|0}else a=t+16|0;s=u;do w=(e[a>>2]|0)+(s<<4)|0,e[w>>2]=e[C+80>>2],e[w+4>>2]=e[C+80+4>>2],e[w+8>>2]=e[C+80+8>>2],e[w+12>>2]=e[C+80+12>>2],s=s+1|0;while((s|0)!=(m|0))}if(e[t+8>>2]=m,u=e[t+28>>2]|0,(u|0)<(m|0)){if((e[t+32>>2]|0)<(m|0)){if(e[5637]=(e[5637]|0)+1,s=Xe((m<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,l=s+4+15&-16):l=0,s=e[t+28>>2]|0,(s|0)>0){a=0;do w=l+(a<<4)|0,d=(e[t+36>>2]|0)+(a<<4)|0,e[w>>2]=e[d>>2],e[w+4>>2]=e[d+4>>2],e[w+8>>2]=e[d+8>>2],e[w+12>>2]=e[d+12>>2],a=a+1|0;while((a|0)!=(s|0))}s=e[t+36>>2]|0,s|0&&(R[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+36>>2]=0),R[t+40>>0]=1,e[t+36>>2]=l,e[t+32>>2]=m,a=t+36|0}else a=t+36|0;s=u;do w=(e[a>>2]|0)+(s<<4)|0,e[w>>2]=e[C+64>>2],e[w+4>>2]=e[C+64+4>>2],e[w+8>>2]=e[C+64+8>>2],e[w+12>>2]=e[C+64+12>>2],s=s+1|0;while((s|0)!=(m|0))}if(e[t+28>>2]=m,d=e[t+48>>2]|0,(d|0)<(m|0)){do if((e[t+52>>2]|0)<(m|0)){if(e[5637]=(e[5637]|0)+1,s=Xe((m<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=e[t+48>>2]|0,l=e[t+56>>2]|0,(a|0)<=0){if(!l){R[t+60>>0]=1,e[t+56>>2]=s,e[t+52>>2]=m,a=m<<2;break}}else{u=0;do e[s+(u<<2)>>2]=e[l+(u<<2)>>2],u=u+1|0;while((u|0)!=(a|0))}R[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),R[t+60>>0]=1,e[t+56>>2]=s,e[t+52>>2]=m,a=m<<2}else a=m<<2,s=e[t+56>>2]|0;while(!1);ln(s+(d<<2)|0,0,a-(d<<2)|0)|0}if(e[t+48>>2]=m,d=e[t+68>>2]|0,(d|0)<(m|0)){do if((e[t+72>>2]|0)<(m|0)){if(e[5637]=(e[5637]|0)+1,s=Xe((m<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=e[t+68>>2]|0,l=e[t+76>>2]|0,(a|0)<=0){if(!l){R[t+80>>0]=1,e[t+76>>2]=s,e[t+72>>2]=m,a=m<<2;break}}else{u=0;do e[s+(u<<2)>>2]=e[l+(u<<2)>>2],u=u+1|0;while((u|0)!=(a|0))}R[t+80>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),R[t+80>>0]=1,e[t+76>>2]=s,e[t+72>>2]=m,a=m<<2}else a=m<<2,s=e[t+76>>2]|0;while(!1);ln(s+(d<<2)|0,0,a-(d<<2)|0)|0}if(e[t+68>>2]=m,s=e[t+128>>2]|0,(s|0)<=0){H=C;return}a=e[t+76>>2]|0,l=e[t+56>>2]|0,u=0;do i[a+(u<<2)>>2]=0,i[l+(u<<2)>>2]=0,u=u+1|0;while((u|0)!=(s|0));u=0;do a=e[t+136>>2]|0,l=e[a+(u*284|0)+88>>2]|0,l&&(s=a+(u*284|0)+92|0,e[C+96>>2]=e[s>>2],e[C+96+4>>2]=e[s+4>>2],e[C+96+8>>2]=e[s+8>>2],e[C+96+12>>2]=e[s+12>>2],s=a+(u*284|0)+108|0,e[C+96+16>>2]=e[s>>2],e[C+96+16+4>>2]=e[s+4>>2],e[C+96+16+8>>2]=e[s+8>>2],e[C+96+16+12>>2]=e[s+12>>2],s=a+(u*284|0)+124|0,e[C+96+32>>2]=e[s>>2],e[C+96+32+4>>2]=e[s+4>>2],e[C+96+32+8>>2]=e[s+8>>2],e[C+96+32+12>>2]=e[s+12>>2],s=e[t+36>>2]|0,B=e[t+112>>2]|0,m=e[C+96+16+(B<<2)>>2]|0,L=e[C+96+32+(B<<2)>>2]|0,e[s+(u<<4)>>2]=e[C+96+(B<<2)>>2],e[s+(u<<4)+4>>2]=m,e[s+(u<<4)+8>>2]=L,i[s+(u<<4)+12>>2]=0,s=e[t+36>>2]|0,L=s+(u<<4)|0,F=+i[L>>2],m=a+(u*284|0)|0,o=+i[m>>2],B=s+(u<<4)+4|0,b=+i[B>>2],d=a+(u*284|0)+4|0,p=+i[d>>2],s=s+(u<<4)+8|0,M=+i[s>>2],w=a+(u*284|0)+8|0,D=+i[w>>2],h=F-o*(F*o+b*p+M*D),E=b-p*(F*o+b*p+M*D),D=M-D*(F*o+b*p+M*D),M=1/+ot(+(h*h+E*E+D*D)),i[L>>2]=h*M,i[B>>2]=E*M,i[s>>2]=D*M,s=e[t+16>>2]|0,p=+i[d>>2],b=+i[w>>2],o=+i[m>>2],i[s+(u<<4)>>2]=p*(D*M)-b*(E*M),i[s+(u<<4)+4>>2]=b*(h*M)-D*M*o,i[s+(u<<4)+8>>2]=E*M*o-p*(h*M),i[s+(u<<4)+12>>2]=0,s=e[t+16>>2]|0,m=s+(u<<4)|0,M=+i[m>>2],w=s+(u<<4)+4|0,h=+i[w>>2],s=s+(u<<4)+8|0,p=+i[s>>2],o=1/+ot(+(M*M+h*h+p*p)),i[m>>2]=M*o,i[w>>2]=h*o,i[s>>2]=p*o,s=e[t+108>>2]|0,w=e[t+36>>2]|0,o=+i[w+(u<<4)>>2],p=+i[w+(u<<4)+4>>2],h=+i[w+(u<<4)+8>>2],o*o+p*p+h*h>1.100000023841858?o=0:(G=+i[a+(u*284|0)+16>>2],$=G-+i[s+52>>2],z=+i[a+(u*284|0)+20>>2],X=z-+i[s+56>>2],ne=+i[a+(u*284|0)+24>>2],te=ne-+i[s+60>>2],G=G-+i[l+52>>2],z=z-+i[l+56>>2],ne=ne-+i[l+60>>2],Y=+i[s+356>>2],_e=+i[s+360>>2],q=+i[s+352>>2],U=+i[l+356>>2],W=+i[l+360>>2],O=+i[l+352>>2],P=(h*X-p*te)*+i[s+4>>2]+(o*te-h*$)*+i[s+20>>2]+(p*$-o*X)*+i[s+36>>2],M=(h*X-p*te)*+i[s+8>>2]+(o*te-h*$)*+i[s+24>>2]+(p*$-o*X)*+i[s+40>>2],E=(h*X-p*te)*+i[s+12>>2]+(o*te-h*$)*+i[s+28>>2]+(p*$-o*X)*+i[s+44>>2],D=(z*-h-ne*-p)*+i[l+4>>2]+(ne*-o-G*-h)*+i[l+20>>2]+(G*-p-z*-o)*+i[l+36>>2],b=(z*-h-ne*-p)*+i[l+8>>2]+(ne*-o-G*-h)*+i[l+24>>2]+(G*-p-z*-o)*+i[l+40>>2],F=(z*-h-ne*-p)*+i[l+12>>2]+(ne*-o-G*-h)*+i[l+28>>2]+(G*-p-z*-o)*+i[l+44>>2],o=(o*(te*Y-X*_e+ +i[s+336>>2]-(ne*U-z*W+ +i[l+336>>2]))+p*(+i[s+340>>2]+($*_e-te*q)-(+i[l+340>>2]+(G*W-ne*O)))+h*(X*q-$*Y+ +i[s+344>>2]-(z*O-G*U+ +i[l+344>>2])))*-.20000000298023224*(1/(+i[l+368>>2]+(+i[s+368>>2]+(P*(P*+i[s+420>>2])+M*(M*+i[s+424>>2])+E*(E*+i[s+428>>2])))+(D*(D*+i[l+420>>2])+b*(b*+i[l+424>>2])+F*(F*+i[l+428>>2]))))),i[(e[t+76>>2]|0)+(u<<2)>>2]=o,s=e[t+128>>2]|0),u=u+1|0;while((u|0)<(s|0));if((s|0)<=0){H=C;return}for(a=e[t+136>>2]|0,l=0,m=0;s=e[a+(m*284|0)+88>>2]|0,s?(o=+i[a+(m*284|0)+252>>2],o!=0?(u=a,o=o*n):(_e=+i[a+(m*284|0)+256>>2],_e=_e==0?0:_e,u=e[t+108>>2]|0,L=e[t+16>>2]|0,$=+i[a+(m*284|0)+16>>2],z=+i[a+(m*284|0)+20>>2],P=+i[a+(m*284|0)+24>>2],b=+i[L+(m<<4)>>2],O=+i[L+(m<<4)+4>>2],o=+i[L+(m<<4)+8>>2],he=$-+i[u+52>>2],me=z-+i[u+56>>2],p=P-+i[u+60>>2],h=+i[u+288>>2]*(me*o-p*O)+ +i[u+304>>2]*(p*b-he*o)+(he*O-me*b)*+i[u+320>>2],se=(me*o-p*O)*+i[u+292>>2]+(p*b-he*o)*+i[u+308>>2]+(he*O-me*b)*+i[u+324>>2],pe=(me*o-p*O)*+i[u+296>>2]+(p*b-he*o)*+i[u+312>>2]+(he*O-me*b)*+i[u+328>>2],W=$-+i[s+52>>2],X=z-+i[s+56>>2],G=P-+i[s+60>>2],D=(O*W-b*X)*+i[s+320>>2]+(+i[s+288>>2]*(o*X-O*G)+ +i[s+304>>2]*(b*G-o*W)),M=(o*X-O*G)*+i[s+292>>2]+(b*G-o*W)*+i[s+308>>2]+(O*W-b*X)*+i[s+324>>2],E=(o*X-O*G)*+i[s+296>>2]+(b*G-o*W)*+i[s+312>>2]+(O*W-b*X)*+i[s+328>>2],$=$-+i[u+52>>2],z=z-+i[u+56>>2],P=P-+i[u+60>>2],q=+i[u+356>>2],F=+i[u+360>>2],Y=+i[u+352>>2],te=+i[s+356>>2],U=+i[s+360>>2],ne=+i[s+352>>2],o=-(1/(+i[u+368>>2]+(o*(me*h-he*se)+(b*(p*se-me*pe)+O*(he*pe-p*h)))+(+i[s+368>>2]+(o*(X*D-W*M)+(b*(G*M-X*E)+O*(W*E-G*D)))))*((P*q-z*F+ +i[u+336>>2]-(G*te-X*U+ +i[s+336>>2]))*b+(+i[u+340>>2]+($*F-P*Y)-(+i[s+340>>2]+(W*U-G*ne)))*O+(z*Y-$*q+ +i[u+344>>2]-(X*ne-W*te+ +i[s+344>>2]))*o)),o=_e<o?_e:o,u=e[t+136>>2]|0,o=o<-_e?-_e:o),d=e[t+56>>2]|0,L=d+(m<<2)|0,i[L>>2]=0,s=u+(m*284|0)+280|0,i[s>>2]=1,h=+i[a+(m*284|0)+276>>2]*n*+i[a+(m*284|0)+228>>2],i[L>>2]=o,o=o*.5,p=+i[(e[t+76>>2]|0)+(m<<2)>>2],o*o+p*p>h*h?(se=h/+ot(+(o*o+p*p)),i[s>>2]=se*+i[s>>2],s=1):s=l):(d=e[t+56>>2]|0,i[d+(m<<2)>>2]=0,i[a+(m*284|0)+280>>2]=1,u=a,s=l),m=m+1|0,l=e[t+128>>2]|0,!((m|0)>=(l|0));)a=u,l=s;if(s){if((l|0)<=0){H=C;return}s=e[t+76>>2]|0,a=0;do+i[s+(a<<2)>>2]!=0&&(g=u+(a*284|0)+280|0,S=+i[g>>2],S<1)&&(L=d+(a<<2)|0,i[L>>2]=S*+i[L>>2],L=(e[t+76>>2]|0)+(a<<2)|0,i[L>>2]=+i[g>>2]*+i[L>>2]),a=a+1|0;while((a|0)!=(l|0))}if((l|0)<=0){H=C;return}for(l=d,s=0;a=e[t+108>>2]|0,d=u+(s*284|0)+16|0,p=+i[d>>2]-+i[a+52>>2],m=u+(s*284|0)+20|0,h=+i[m>>2]-+i[a+56>>2],g=u+(s*284|0)+24|0,n=+i[g>>2]-+i[a+60>>2],i[C+96>>2]=p,i[C+96+4>>2]=h,i[C+96+8>>2]=n,i[C+96+12>>2]=0,o=+i[l+(s<<2)>>2],o!=0&&(L=e[t+16>>2]|0,me=o*+i[L+(s<<4)+4>>2],se=o*+i[L+(s<<4)+8>>2],i[C+16>>2]=o*+i[L+(s<<4)>>2],i[C+16+4>>2]=me,i[C+16+8>>2]=se,i[C+16+12>>2]=0,B1(a,C+16|0,C+96|0)),o=+i[(e[t+76>>2]|0)+(s<<2)>>2],o!=0&&(L=e[(e[t+136>>2]|0)+(s*284|0)+88>>2]|0,me=+i[m>>2]-+i[L+56>>2],he=+i[g>>2]-+i[L+60>>2],i[C+48>>2]=+i[d>>2]-+i[L+52>>2],i[C+48+4>>2]=me,i[C+48+8>>2]=he,i[C+48+12>>2]=0,B=e[t+36>>2]|0,he=+i[B+(s<<4)>>2]*o,me=o*+i[B+(s<<4)+4>>2],se=o*+i[B+(s<<4)+8>>2],i[C+32>>2]=he,i[C+32+4>>2]=me,i[C+32+8>>2]=se,i[C+32+12>>2]=0,B=e[t+108>>2]|0,w=e[t+116>>2]|0,W=+i[B+4+(w<<2)>>2],te=+i[B+20+(w<<2)>>2],_e=+i[B+36+(w<<2)>>2],pe=(W*p+te*h+_e*n)*(1-+i[u+(s*284|0)+244>>2]),i[C+96>>2]=p-W*pe,i[C+96+4>>2]=h-te*pe,i[C+96+8>>2]=n-_e*pe,B1(B,C+32|0,C+96|0),i[C>>2]=-he,i[C+4>>2]=-me,i[C+8>>2]=-se,i[C+12>>2]=0,B1(L,C,C+48|0)),s=s+1|0,!((s|0)>=(e[t+128>>2]|0));)u=e[t+136>>2]|0,l=e[t+56>>2]|0;H=C}function TV(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,e[t+112>>2]=n,e[t+116>>2]=s,e[t+120>>2]=o}function wV(t){t=t|0}function MV(t){t=t|0,ye(t)}function RV(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0;return a=H,H=H+96|0,i[a+4>>2]=1,e[a+8>>2]=0,ee[a+12>>1]=1,ee[a+14>>1]=-1,e[a+16>>2]=0,e[a>>2]=8008,e[a+20>>2]=e[n>>2],e[a+20+4>>2]=e[n+4>>2],e[a+20+8>>2]=e[n+8>>2],e[a+20+12>>2]=e[n+12>>2],e[a+36>>2]=e[s>>2],e[a+36+4>>2]=e[s+4>>2],e[a+36+8>>2]=e[s+8>>2],e[a+36+12>>2]=e[s+12>>2],t=e[t+4>>2]|0,Kt[e[(e[t>>2]|0)+32>>2]&127](t,n,s,a),n=e[a+8>>2]|0,!n||!(e[n+236>>2]&2)||e[n+204>>2]&4|0?(o=0,H=a,o|0):(e[o>>2]=e[a+68>>2],e[o+4>>2]=e[a+68+4>>2],e[o+8>>2]=e[a+68+8>>2],e[o+12>>2]=e[a+68+12>>2],e[o+16>>2]=e[a+52>>2],e[o+16+4>>2]=e[a+52+4>>2],e[o+16+8>>2]=e[a+52+8>>2],e[o+16+12>>2]=e[a+52+12>>2],h=+i[o+16>>2],p=+i[o+20>>2],u=+i[o+24>>2],l=1/+ot(+(h*h+p*p+u*u)),i[o+16>>2]=h*l,i[o+20>>2]=p*l,i[o+24>>2]=u*l,e[o+32>>2]=e[a+4>>2],o=n,H=a,o|0)}function AV(t){t=t|0,ye(t)}function EV(t,n){return t=t|0,n=n|0,n=e[n+4>>2]|0,(ee[t+14>>1]&(n&65535))<<16>>16?(t=(n>>>16&65535&ee[t+12>>1])<<16>>16!=0,t|0):(t=0,t|0)}function NV(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;return e[t+4>>2]=e[n+24>>2],o=e[n>>2]|0,e[t+8>>2]=o,s?(e[t+52>>2]=e[n+8>>2],e[t+52+4>>2]=e[n+8+4>>2],e[t+52+8>>2]=e[n+8+8>>2],e[t+52+12>>2]=e[n+8+12>>2]):(h=+i[n+8>>2],p=+i[n+12>>2],u=+i[n+16>>2],l=h*+i[o+20>>2]+p*+i[o+24>>2]+u*+i[o+28>>2],a=h*+i[o+36>>2]+p*+i[o+40>>2]+u*+i[o+44>>2],i[t+52>>2]=+i[o+4>>2]*h+ +i[o+8>>2]*p+ +i[o+12>>2]*u,i[t+56>>2]=l,i[t+60>>2]=a,i[t+64>>2]=0),h=+i[n+24>>2],i[t+68>>2]=(1-h)*+i[t+20>>2]+h*+i[t+36>>2],i[t+72>>2]=(1-h)*+i[t+24>>2]+h*+i[t+40>>2],i[t+76>>2]=(1-h)*+i[t+28>>2]+h*+i[t+44>>2],+ +i[n+24>>2]}function bV(t,n,s,o,a,l,u,p){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=+l,u=u|0,p=p|0;var h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0;if(b=H,H=H+288|0,e[b+208>>2]=e[n>>2],e[b+208+4>>2]=e[n+4>>2],e[b+208+8>>2]=e[n+8>>2],e[b+208+12>>2]=e[n+12>>2],d=b+208+16|0,e[d>>2]=e[s>>2],e[d+4>>2]=e[s+4>>2],e[d+8>>2]=e[s+8>>2],e[d+12>>2]=e[s+12>>2],m=b+208+32|0,e[m>>2]=e[o>>2],e[m+4>>2]=e[o+4>>2],e[m+8>>2]=e[o+8>>2],e[m+12>>2]=e[o+12>>2],C=e[u>>2]|0,M=e[u+4>>2]|0,E=e[u+8>>2]|0,D=e[u+16>>2]|0,S=e[u+12>>2]|0,g=e[u+20>>2]|0,e[b>>2]=e[b+208>>2],e[b+4>>2]=e[b+208+4>>2],e[b+8>>2]=e[b+208+8>>2],e[b+12>>2]=e[b+208+12>>2],e[b+16>>2]=e[d>>2],e[b+16+4>>2]=e[d+4>>2],e[b+16+8>>2]=e[d+8>>2],e[b+16+12>>2]=e[d+12>>2],e[b+32>>2]=e[m>>2],e[b+32+4>>2]=e[m+4>>2],e[b+32+8>>2]=e[m+8>>2],e[b+32+12>>2]=e[m+12>>2],o=e[t+128>>2]|0,(o|0)==(e[t+132>>2]|0)&&(w=o|0?o<<1:1,(o|0)<(w|0))){if(w?(e[5637]=(e[5637]|0)+1,n=Xe((w*284|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,o=e[t+128>>2]|0):n=0,(o|0)>0){u=0;do{s=e[t+136>>2]|0,h=n+(u*284|0)|0,d=s+(u*284|0)|0,m=h+92|0;do e[h>>2]=e[d>>2],h=h+4|0,d=d+4|0;while((h|0)<(m|0));h=n+(u*284|0)+92|0,d=s+(u*284|0)+92|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],h=n+(u*284|0)+108|0,d=s+(u*284|0)+108|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],h=n+(u*284|0)+124|0,d=s+(u*284|0)+124|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],h=n+(u*284|0)+140|0,d=s+(u*284|0)+140|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],h=n+(u*284|0)+156|0,d=s+(u*284|0)+156|0,m=h+128|0;do e[h>>2]=e[d>>2],h=h+4|0,d=d+4|0;while((h|0)<(m|0));u=u+1|0}while((u|0)!=(o|0))}o=e[t+136>>2]|0,o|0&&(R[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+136>>2]=0),R[t+140>>0]=1,e[t+136>>2]=n,e[t+132>>2]=w,o=e[t+128>>2]|0}n=e[t+136>>2]|0,h=n+(o*284|0)|0,d=b+48|0,m=h+92|0;do e[h>>2]=e[d>>2],h=h+4|0,d=d+4|0;while((h|0)<(m|0));h=n+(o*284|0)+92|0,e[h>>2]=e[b+192>>2],e[h+4>>2]=e[b+192+4>>2],e[h+8>>2]=e[b+192+8>>2],e[h+12>>2]=e[b+192+12>>2],h=n+(o*284|0)+108|0,e[h>>2]=e[b+176>>2],e[h+4>>2]=e[b+176+4>>2],e[h+8>>2]=e[b+176+8>>2],e[h+12>>2]=e[b+176+12>>2],h=n+(o*284|0)+124|0,e[h>>2]=e[b+160>>2],e[h+4>>2]=e[b+160+4>>2],e[h+8>>2]=e[b+160+8>>2],e[h+12>>2]=e[b+160+12>>2],h=n+(o*284|0)+140|0,e[h>>2]=e[b+144>>2],e[h+4>>2]=e[b+144+4>>2],e[h+8>>2]=e[b+144+8>>2],e[h+12>>2]=e[b+144+12>>2],n=n+(o*284|0)+156|0,h=n,d=b,m=h+48|0;do e[h>>2]=e[d>>2],h=h+4|0,d=d+4|0;while((h|0)<(m|0));i[n+48>>2]=a,e[n+52>>2]=S,i[n+56>>2]=l,e[n+60>>2]=C,e[n+64>>2]=M,e[n+68>>2]=E,e[n+72>>2]=D,i[n+76>>2]=0,i[n+80>>2]=0,i[n+84>>2]=0,i[n+88>>2]=.10000000149011612,e[n+92>>2]=g,i[n+96>>2]=0,i[n+100>>2]=0,R[n+104>>0]=p&1,h=n+105|0,d=b+256|0,m=h+23|0;do R[h>>0]=R[d>>0]|0,h=h+1|0,d=d+1|0;while((h|0)<(m|0));return p=e[t+128>>2]|0,e[t+128>>2]=p+1,p=(e[t+136>>2]|0)+(p*284|0)|0,Kp(e[t+108>>2]|0,p,0),Yp(e[t+108>>2]|0,e[t+136>>2]|0,(e[t+128>>2]|0)+-1|0,0),H=b,p|0}function Zp(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;if(o=e[t+56>>2]|0,o)p=o;else if(o=e[t+52>>2]|0,o?e[t+52>>2]=e[o+8>>2]:(e[5637]=(e[5637]|0)+1,o=Xe(31)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+60>>2]|0,e[o+4>>2]=a,l=o+8|0,e[l>>2]=0,e[5637]=(e[5637]|0)+1,a=Xe((a*24|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[o>>2]=a,e[l>>2]=e[t+48>>2],e[t+48>>2]=o),u=e[o+4>>2]|0,o=e[o>>2]|0,(u|0)>0){a=0,l=o;do a=a+1|0,p=l,l=l+24|0,e[p>>2]=(a|0)<(u|0)?l:0;while((a|0)!=(u|0));p=o}else p=o;if(e[t+56>>2]=e[p>>2],e[p>>2]=0,e[p+4>>2]=0,e[p+8>>2]=0,e[p+12>>2]=0,e[p+16>>2]=0,e[p+20>>2]=0,o=e[t+56>>2]|0,!o&&(o=e[t+52>>2]|0,o?e[t+52>>2]=e[o+8>>2]:(e[5637]=(e[5637]|0)+1,o=Xe(31)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+60>>2]|0,e[o+4>>2]=a,l=o+8|0,e[l>>2]=0,e[5637]=(e[5637]|0)+1,a=Xe((a*24|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[o>>2]=a,e[l>>2]=e[t+48>>2],e[t+48>>2]=o),u=e[o+4>>2]|0,o=e[o>>2]|0,(u|0)>0)){a=0,l=o;do a=a+1|0,h=l,l=l+24|0,e[h>>2]=(a|0)<(u|0)?l:0;while((a|0)!=(u|0))}return e[t+56>>2]=e[o>>2],e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[p+8>>2]=o,e[o+8>>2]=p,h=e[t+100>>2]|0,e[p+20>>2]=h,e[o+20>>2]=h,e[p+12>>2]=s,e[o+12>>2]=n,e[p+16>>2]=0,e[o+16>>2]=0,o=e[t+116>>2]|0,e[t+116>>2]=o+1,(o|0)<(e[t+120>>2]|0)||(e[t+120>>2]=o+1),p|0}function Qp(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0;te=H,H=H+144|0;e:do switch(s-n|0){case 0:{e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,H=te;return}case 2:{if(a=e[(e[t+92>>2]|0)+(n<<2)>>2]|0,h=e[a+88>>2]|0,d=e[a+200>>2]|0,p=e[a+92>>2]|0,l=e[a+204>>2]|0,(h|0)==(d|0)){if((p|0)==(l|0)){if((e[a+96>>2]|0)==(e[a+208>>2]|0))break e;l=p}(p|0)==(l|0)?(ne=(e[a+96>>2]|0)>(e[a+208>>2]|0),l=ne?a+112|0:a,e[l>>2]=l,e[l+4>>2]=l,e[o>>2]=l,e[o+4>>2]=l,e[o+8>>2]=l,e[o+12>>2]=l,a=ne?a:a+112|0):(u=l,l=0,W=9)}else u=l,l=(p|0)==(l|0),W=9;do if((W|0)==9)if(e[a>>2]=a+112,e[a+4>>2]=a+112,e[a+112>>2]=a,e[a+116>>2]=a,W=(p|0)<(u|0),e[o>>2]=(h|0)<(d|0)|(h|0)==(d|0)&W?a:a+112|0,e[o+4>>2]=(h|0)<(d|0)|(h|0)==(d|0)&W?a+112|0:a,W|(h|0)<(d|0)&l){e[o+8>>2]=a,e[o+12>>2]=a+112,l=a,a=a+112|0;break}else{e[o+8>>2]=a+112,e[o+12>>2]=a,l=a,a=a+112|0;break}while(!1);t=Zp(t,l,a)|0,e[t>>2]=t,e[t+4>>2]=t,e[l+8>>2]=t,t=e[t+8>>2]|0,e[t>>2]=t,e[t+4>>2]=t,e[a+8>>2]=t,H=te;return}case 1:{a=e[(e[t+92>>2]|0)+(n<<2)>>2]|0;break}default:{g=((s-n|0)/2|0)+n|0,u=e[t+92>>2]|0,m=e[u+(g+-1<<2)>>2]|0,p=e[m+88>>2]|0,h=e[m+92>>2]|0,m=e[m+96>>2]|0;t:do if((g|0)<(s|0)){a=g;do{if(l=e[u+(a<<2)>>2]|0,(e[l+88>>2]|0)!=(p|0)||(e[l+92>>2]|0)!=(h|0)||(e[l+96>>2]|0)!=(m|0))break t;a=a+1|0}while((a|0)<(s|0))}else a=g;while(!1);Qp(t,n,g,o),e[te+96>>2]=0,e[te+96+4>>2]=0,e[te+96+8>>2]=0,e[te+96+12>>2]=0,Qp(t,a,s,te+96|0),m=e[te+96+4>>2]|0;t:do if(m|0){if(G=e[o+4>>2]|0,!G){e[o>>2]=e[te+96>>2],e[o+4>>2]=e[te+96+4>>2],e[o+8>>2]=e[te+96+8>>2],e[o+12>>2]=e[te+96+12>>2];break}e[t+100>>2]=(e[t+100>>2]|0)+-1,u=e[o+12>>2]|0,h=e[te+96+8>>2]|0,p=e[u+88>>2]|0;i:do if((p|0)==(e[h+88>>2]|0)&&(d=e[u+92>>2]|0,(d|0)==(e[h+92>>2]|0))){if(g=e[h+4>>2]|0,(g|0)==(h|0)){a=e[h+8>>2]|0,a&&(h=e[a+12>>2]|0,d=e[h+92>>2]|0,p=e[h+88>>2]|0),l=u,q=h,a=h,g=p+1|0,s=e[h+96>>2]|0;break}u=e[h>>2]|0,e[g>>2]=u,e[u+4>>2]=g;n:do if((h|0)==(e[te+96>>2]|0)){a=e[u+88>>2]|0,l=e[g+88>>2]|0;do if((a|0)>=(l|0)){if((a|0)==(l|0)&&(e[u+92>>2]|0)<(e[g+92>>2]|0))break;e[te+96>>2]=g;break n}while(!1);e[te+96>>2]=u}while(!1);if((h|0)==(m|0)){a=e[u+88>>2]|0,l=e[g+88>>2]|0;do if((a|0)<=(l|0)){if((a|0)==(l|0)&&(e[u+92>>2]|0)>(e[g+92>>2]|0))break;e[te+96+4>>2]=g,u=g,W=39;break i}while(!1);e[te+96+4>>2]=u,W=39}else u=m,W=39}else u=m,W=39;while(!1);if((W|0)==39){for(L=e[o>>2]|0,F=e[te+96>>2]|0,P=0,U=1,n=G,l=0,a=u,p=0;;){h=e[a+88>>2]|0,s=e[n+88>>2]|0,d=Rt(h-s|0,U)|0;i:do if((d|0)<=0){if((d|0)<0)for(B=(P|0)!=0,g=e[n+92>>2]|0,b=e[a+92>>2]|0,m=d,d=n;;){for(M=e[(B?a+4|0:a)>>2]|0,E=(M|0)==(a|0),D=a+88|0,w=m;m=d+88|0,S=b-g|0,!(!E&&(O=e[M+88>>2]|0,z=Rt(O-h|0,U)|0,Y=e[M+92>>2]|0,$=Y-b|0,($|0)>-1)&&(!z||(z|0)<0&&(Rt($,w)|0)<=(Rt(z,S)|0)));){if(C=e[(B?d+4|0:d)>>2]|0,(C|0)==(d|0)||(q=e[C+88>>2]|0,s=Rt(q-(e[m>>2]|0)|0,U)|0,n=e[C+92>>2]|0,m=n-g|0,h=e[D>>2]|0,g=w,w=Rt(h-q|0,U)|0,!((m|0)>0&(w|0)<0)))break i;if(!s){g=n,d=C;continue}if((s|0)>=0||(Rt(m,g)|0)>=(Rt(s,S)|0))break i;g=n,d=C}h=O,b=Y,m=Rt(O-(e[m>>2]|0)|0,U)|0,a=M}h=e[n+92>>2]|0,g=(P|0)!=0;n:do if(g)for(m=n;;){if(d=e[m>>2]|0,(d|0)==(n|0)||(e[d+88>>2]|0)!=(s|0))break n;if(q=h,h=e[d+92>>2]|0,(h|0)>(q|0))break;m=d}else for(m=n;;){if(d=e[m+4>>2]|0,(d|0)==(n|0)||(e[d+88>>2]|0)!=(s|0))break n;if(q=h,h=e[d+92>>2]|0,(h|0)>(q|0))break;m=d}while(!1);if(d=e[a+92>>2]|0,g)for(g=a;;){if(h=e[g+4>>2]|0,(h|0)==(a|0)){d=m,a=g;break i}if((e[h+88>>2]|0)!=(s|0)){d=m,a=g;break i}if(q=d,d=e[h+92>>2]|0,(d|0)<(q|0)){d=m,a=g;break}else g=h}else for(g=a;;){if(h=e[g>>2]|0,(h|0)==(a|0)){d=m,a=g;break i}if((e[h+88>>2]|0)!=(s|0)){d=m,a=g;break i}if(q=d,d=e[h+92>>2]|0,(d|0)<(q|0)){d=m,a=g;break}else g=h}}else for(b=(P|0)!=0,E=s,D=e[a+92>>2]|0,M=d;;){w=a+88|0,m=e[n+92>>2]|0,h=D-m|0,d=e[(b?n:n+4|0)>>2]|0;n:do if((d|0)!=(n|0))if(b)for(C=E,S=m,s=M;;){if(m=C,C=e[d+88>>2]|0,m=Rt(C-m|0,U)|0,g=S,S=e[d+92>>2]|0,g=S-g|0,(g|0)>=1){S=h,d=n;break n}if(m|0){if((m|0)>=0){S=h,d=n;break n}if((Rt(g,s)|0)>(Rt(m,h)|0)){S=h,d=n;break n}}if(g=Rt((e[w>>2]|0)-C|0,U)|0,h=D-S|0,m=e[d>>2]|0,(m|0)==(d|0)){S=h,s=g;break}else n=d,d=m,s=g}else for(C=E,S=m,s=M;;){if(m=C,C=e[d+88>>2]|0,m=Rt(C-m|0,U)|0,g=S,S=e[d+92>>2]|0,g=S-g|0,(g|0)>=1){S=h,d=n;break n}if(m|0){if((m|0)>=0){S=h,d=n;break n}if((Rt(g,s)|0)>(Rt(m,h)|0)){S=h,d=n;break n}}if(g=Rt((e[w>>2]|0)-C|0,U)|0,h=D-S|0,m=e[d+4>>2]|0,(m|0)==(d|0)){S=h,s=g;break}else n=d,d=m,s=g}else S=h,s=M,d=n;while(!1);if(g=e[(b?a:a+4|0)>>2]|0,(g|0)==(a|0)||(M=e[g+88>>2]|0,h=Rt(M-(e[w>>2]|0)|0,U)|0,m=D,D=e[g+92>>2]|0,m=D-m|0,E=e[d+88>>2]|0,M=Rt(M-E|0,U)|0,!((m|0)<0&(M|0)>0)))break i;if(!h){n=d,a=g;continue}if((h|0)>=0)break i;if((Rt(m,s)|0)>=(Rt(h,S)|0))break;n=d,a=g}while(!1);if(h=(P|0)==0,p=h?a:p,l=h?d:l,a=h?F:a,n=h?L:d,P=P+1|0,(P|0)==2)break;U=h?-1:U}if(e[n+4>>2]=a,e[a>>2]=n,e[l>>2]=p,e[p+4>>2]=l,(e[F+88>>2]|0)<(e[L+88>>2]|0)&&(e[o>>2]=F),(e[u+88>>2]|0)>=(e[G+88>>2]|0)&&(e[o+4>>2]=u),e[o+12>>2]=e[te+96+12>>2],u=l,$=p,E=e[p+88>>2]|0,s=e[l+88>>2]|0,D=e[p+92>>2]|0,b=e[l+92>>2]|0,B=e[p+96>>2]|0,n=e[l+96>>2]|0,L=((D-b|0)<0)<<31>>31,F=0-(E-s)|0,P=Wi(0,0,F|0,((F|0)<0)<<31>>31|0)|0,P=Ft(B-n|0,((B-n|0)<0)<<31>>31|0,P|0,Ge|0)|0,U=Ge,G=Ft(B-n|0,((B-n|0)<0)<<31>>31|0,D-b|0,L|0)|0,O=Ge,S=Ft(E-s|0,((E-s|0)<0)<<31>>31|0,F|0,((F|0)<0)<<31>>31|0)|0,Y=Ge,z=Ft(D-b|0,L|0,D-b|0,L|0)|0,z=Wi(S|0,Y|0,z|0,Ge|0)|0,Y=Ge,S=e[l+8>>2]|0,e[te+120>>2]=0,!S)C=0;else for(C=Wi(0,0,D-b|0,L|0)|0,w=Ge,a=0,M=S;;){m=e[M+12>>2]|0,h=e[m+88>>2]|0,d=e[m+92>>2]|0,m=e[m+96>>2]|0,g=Ft(d-b|0,((d-b|0)<0)<<31>>31|0,F|0,((F|0)<0)<<31>>31|0)|0,q=Ge,o=Ft(h-s|0,((h-s|0)<0)<<31>>31|0,C|0,w|0)|0;i:do if((g|0)==(o|0)&(q|0)==(Ge|0)&&(o=Ft(h-s|0,((h-s|0)<0)<<31>>31|0,P|0,U|0)|0,g=Ge,q=Ft(d-b|0,((d-b|0)<0)<<31>>31|0,G|0,O|0)|0,g=$t(q|0,Ge|0,o|0,g|0)|0,o=Ge,q=Ft(m-n|0,((m-n|0)<0)<<31>>31|0,z|0,Y|0)|0,q=$t(g|0,o|0,q|0,Ge|0)|0,o=Ge,(o|0)>0|(o|0)==0&q>>>0>0)){do if(a|0){if(g=(e[a+4>>2]|0)==(M|0),(e[a>>2]|0)!=(M|0)){if(g)break;break i}if(!g||(o=e[a+12>>2]|0,_e=e[(e[M+8>>2]|0)+12>>2]|0,q=e[_e+88>>2]|0,g=e[_e+92>>2]|0,_e=e[_e+96>>2]|0,pe=(e[o+96>>2]|0)-_e|0,g=(Rt(m-_e|0,(e[o+92>>2]|0)-g|0)|0)-(Rt(pe,d-g|0)|0)|0,q=(Rt(pe,h-q|0)|0)-(Rt(m-_e|0,(e[o+88>>2]|0)-q|0)|0)|0,g=Ft(g|0,((g|0)<0)<<31>>31|0,D-b|0,L|0)|0,o=Ge,q=Ft(q|0,((q|0)<0)<<31>>31|0,F|0,((F|0)<0)<<31>>31|0)|0,q=$t(g|0,o|0,q|0,Ge|0)|0,o=Ge,(o|0)>0|(o|0)==0&q>>>0>0))break i}while(!1);e[te+120>>2]=M,a=M}while(!1);if(M=e[M>>2]|0,(M|0)==(S|0)){C=a;break}}if(g=e[p+8>>2]|0,e[te+72>>2]=0,!g)a=0;else{s=Wi(0,0,D-b|0,L|0)|0,n=Ge,a=0,S=g;do{m=e[S+12>>2]|0,h=e[m+88>>2]|0,d=e[m+92>>2]|0,m=e[m+96>>2]|0,q=Ft(d-D|0,((d-D|0)<0)<<31>>31|0,F|0,((F|0)<0)<<31>>31|0)|0,pe=Ge,_e=Ft(h-E|0,((h-E|0)<0)<<31>>31|0,s|0,n|0)|0;do if((q|0)==(_e|0)&(pe|0)==(Ge|0)&&(_e=Ft(h-E|0,((h-E|0)<0)<<31>>31|0,P|0,U|0)|0,q=Ge,pe=Ft(d-D|0,((d-D|0)<0)<<31>>31|0,G|0,O|0)|0,q=$t(pe|0,Ge|0,_e|0,q|0)|0,_e=Ge,pe=Ft(m-B|0,((m-B|0)<0)<<31>>31|0,z|0,Y|0)|0,pe=$t(q|0,_e|0,pe|0,Ge|0)|0,_e=Ge,(_e|0)>0|(_e|0)==0&pe>>>0>0)){if(a|0&&((e[a>>2]|0)!=(S|0)||(e[a+4>>2]|0)==(S|0)&&(_e=e[a+12>>2]|0,o=e[(e[S+8>>2]|0)+12>>2]|0,pe=e[o+88>>2]|0,q=e[o+92>>2]|0,o=e[o+96>>2]|0,M=(e[_e+96>>2]|0)-o|0,q=(Rt(m-o|0,(e[_e+92>>2]|0)-q|0)|0)-(Rt(M,d-q|0)|0)|0,pe=(Rt(M,h-pe|0)|0)-(Rt(m-o|0,(e[_e+88>>2]|0)-pe|0)|0)|0,q=Ft(q|0,((q|0)<0)<<31>>31|0,D-b|0,L|0)|0,_e=Ge,pe=Ft(pe|0,((pe|0)<0)<<31>>31|0,F|0,((F|0)<0)<<31>>31|0)|0,pe=$t(q|0,_e|0,pe|0,Ge|0)|0,_e=Ge,!((_e|0)>0|(_e|0)==0&pe>>>0>0))))break;e[te+72>>2]=S,a=S}while(!1);S=e[S>>2]|0}while((S|0)!=(g|0))}(C|0)!=0|(a|0)!=0?(t6(t,l,p,te+120|0,te+72|0),a=e[te+120>>2]|0,a&&(u=e[a+12>>2]|0,l=u),a=e[te+72>>2]|0,a?(a=e[a+12>>2]|0,p=a):a=$):a=$,q=p,g=e[p+88>>2]|0,s=(e[p+96>>2]|0)+1|0,d=e[p+92>>2]|0}for(L=q,F=l,p=0,z=0,o=1,h=0,m=0,P=0,G=0,O=g,S=s,$=0,g=0;;){U=F+88|0,b=(e[L+88>>2]|0)-(e[U>>2]|0)|0,pe=F+92|0,Y=(e[L+92>>2]|0)-(e[pe>>2]|0)|0,D=F+96|0,M=(e[L+96>>2]|0)-(e[D>>2]|0)|0,e[te+120>>2]=b,e[te+120+4>>2]=Y,e[te+120+8>>2]=M,e[te+120+12>>2]=-1,U=O-(e[U>>2]|0)|0,pe=d-(e[pe>>2]|0)|0,D=S-(e[D>>2]|0)|0,E=(Rt(M,pe)|0)-(Rt(Y,D)|0)|0,D=(Rt(b,D)|0)-(Rt(M,U)|0)|0,pe=(Rt(Y,U)|0)-(Rt(b,pe)|0)|0,e[te+72>>2]=E,e[te+72+4>>2]=((E|0)<0)<<31>>31,e[te+72+8>>2]=D,e[te+72+8+4>>2]=((D|0)<0)<<31>>31,e[te+72+16>>2]=pe,e[te+72+16+4>>2]=((pe|0)<0)<<31>>31,U=Ft(Y|0,((Y|0)<0)<<31>>31|0,pe|0,((pe|0)<0)<<31>>31|0)|0,_e=Ge,B=Ft(M|0,((M|0)<0)<<31>>31|0,D|0,((D|0)<0)<<31>>31|0)|0,B=Wi(U|0,_e|0,B|0,Ge|0)|0,_e=Ge,M=Ft(E|0,((E|0)<0)<<31>>31|0,M|0,((M|0)<0)<<31>>31|0)|0,U=Ge,pe=Ft(b|0,((b|0)<0)<<31>>31|0,pe|0,((pe|0)<0)<<31>>31|0)|0,pe=Wi(M|0,U|0,pe|0,Ge|0)|0,U=Ge,D=Ft(b|0,((b|0)<0)<<31>>31|0,D|0,((D|0)<0)<<31>>31|0)|0,b=Ge,Y=Ft(E|0,((E|0)<0)<<31>>31|0,Y|0,((Y|0)<0)<<31>>31|0)|0,Y=Wi(D|0,b|0,Y|0,Ge|0)|0,e[te+48>>2]=B,e[te+48+4>>2]=_e,e[te+48+8>>2]=pe,e[te+48+8+4>>2]=U,e[te+48+16>>2]=Y,e[te+48+16+4>>2]=Ge,e[te+24>>2]=0,e[te+24+4>>2]=0,e[te+24+8>>2]=0,e[te+24+12>>2]=0,e[te+24+16>>2]=0,Y=i6(t,0,F,te+120|0,te+72|0,te+48|0,te+24|0)|0,e[te>>2]=0,e[te+4>>2]=0,e[te+8>>2]=0,e[te+12>>2]=0,e[te+16>>2]=0,U=i6(t,1,L,te+120|0,te+72|0,te+48|0,te)|0;do if((Y|0)!=0|(U|0)!=0){s=Y|0?-1:1;do if((Y|0)!=0&(U|0)!=0){if(B=e[te+24+16>>2]|0,s=e[te+16>>2]|0,(B|0)!=(s|0)){b=B-s|0;break}B?(pe=e[te+24>>2]|0,D=e[te+24+4>>2]|0,C=e[te+8>>2]|0,he=e[te+8+4>>2]|0,n=Ft(C|0,0,pe|0,0)|0,s=Ge,pe=Ft(he|0,0,pe|0,0)|0,_e=Ge,C=Ft(C|0,0,D|0,0)|0,w=Ge,D=Ft(he|0,0,D|0,0)|0,he=Ge,C=$t(pe|0,0,C|0,0)|0,pe=Ge,he=$t(_e|0,0,D|0,he|0)|0,w=$t(he|0,Ge|0,w|0,0)|0,pe=$t(w|0,Ge|0,pe|0,0)|0,w=Ge,s=$t(0,C|0,n|0,s|0)|0,n=Ge,C=$t(pe|0,w|0,(n>>>0<C>>>0|(n|0)==(C|0)&s>>>0<0)&1|0,0)|0,w=Ge,pe=e[te+24+8>>2]|0,he=e[te+24+8+4>>2]|0,D=e[te>>2]|0,_e=e[te+4>>2]|0,E=Ft(D|0,0,pe|0,0)|0,M=Ge,pe=Ft(_e|0,0,pe|0,0)|0,me=Ge,D=Ft(D|0,0,he|0,0)|0,b=Ge,he=Ft(_e|0,0,he|0,0)|0,_e=Ge,D=$t(pe|0,0,D|0,0)|0,pe=Ge,_e=$t(me|0,0,he|0,_e|0)|0,b=$t(_e|0,Ge|0,b|0,0)|0,pe=$t(b|0,Ge|0,pe|0,0)|0,b=Ge,M=$t(0,D|0,E|0,M|0)|0,E=Ge,D=$t(pe|0,b|0,(E>>>0<D>>>0|(E|0)==(D|0)&M>>>0<0)&1|0,0)|0,b=Ge,w>>>0<b>>>0|(w|0)==(b|0)&C>>>0<D>>>0?s=-1:w>>>0>b>>>0|(w|0)==(b|0)&C>>>0>D>>>0?s=1:n>>>0<E>>>0|(n|0)==(E|0)&s>>>0<M>>>0?s=-1:s=(n>>>0>E>>>0|(n|0)==(E|0)&s>>>0>M>>>0)&1,b=Rt(s,B)|0):b=0}else b=s;while(!1);do if(o)W=136;else if((b|0)>-1)if((e[te+16>>2]|0)<0&((e[te+8>>2]|0)==0?(e[te+8+4>>2]|0)==0:0)){n=P,D=G;break}else{W=136;break}else if((e[te+24+16>>2]|0)<0&((e[te+24+8>>2]|0)==0?(e[te+24+8+4>>2]|0)==0:0)){n=P,D=G;break}else{W=136;break}while(!1);if((W|0)==136&&(W=0,n=Zp(t,F,L)|0,P?e[P+4>>2]=n:h=n,e[n>>2]=P,s=e[n+8>>2]|0,G?e[G>>2]=s:m=s,e[s+4>>2]=G,D=s),e[te+116>>2]=Y,e[te+112>>2]=U,b?E=U:(t6(t,u,a,te+116|0,te+112|0),E=e[te+112>>2]|0),(b|0)>-1&(E|0)!=0){if(M=(g|0)!=0,M&&(X=e[g>>2]|0,(X|0)!=(U|0))){C=X;do w=C,C=e[C>>2]|0,S=e[w+8>>2]|0,s=e[S+12>>2]|0,(C|0)==(w|0)?d=0:(e[C+4>>2]=e[w+4>>2],e[e[w+4>>2]>>2]=C,d=C),e[s+8>>2]=d,d=e[S>>2]|0,s=e[w+12>>2]|0,(d|0)==(S|0)?d=0:(e[d+4>>2]=e[S+4>>2],e[e[S+4>>2]>>2]=d),e[s+8>>2]=d,e[w>>2]=0,e[w+4>>2]=0,e[w+8>>2]=0,e[w+12>>2]=0,e[w+16>>2]=0,e[w>>2]=e[t+56>>2],e[t+56>>2]=w,e[S>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,e[S+12>>2]=0,e[S+16>>2]=0,e[S>>2]=e[t+56>>2],e[t+56>>2]=S,e[t+116>>2]=(e[t+116>>2]|0)+-1;while((C|0)!=(U|0))}D?(M?(e[g>>2]=m,s=U+4|0,d=z):(g=e[U+4>>2]|0,e[g>>2]=m,s=U+4|0,d=m),e[m+4>>2]=g,e[D>>2]=U,e[s>>2]=D,g=e[te+112>>2]|0,m=0):(g=E,d=M?z:U),P=a,a=e[g+12>>2]|0,z=d,D=0,s=e[P+88>>2]|0,S=e[P+96>>2]|0,d=e[P+92>>2]|0,P=e[g+8>>2]|0}else s=O,P=g;if(E=e[te+116>>2]|0,(b|0)<1&(E|0)!=0){if(M=($|0)!=0,M&&(ne=e[$+4>>2]|0,(ne|0)!=(Y|0))){C=ne;do g=C+4|0,w=C,C=e[g>>2]|0,d=e[w>>2]|0,S=e[w+8>>2]|0,s=e[S+12>>2]|0,(d|0)==(w|0)?d=0:(e[d+4>>2]=C,e[e[g>>2]>>2]=d),e[s+8>>2]=d,d=e[S>>2]|0,g=e[w+12>>2]|0,(d|0)==(S|0)?d=0:(e[d+4>>2]=e[S+4>>2],e[e[S+4>>2]>>2]=d),e[g+8>>2]=d,e[w>>2]=0,e[w+4>>2]=0,e[w+8>>2]=0,e[w+12>>2]=0,e[w+16>>2]=0,e[w>>2]=e[t+56>>2],e[t+56>>2]=w,e[S>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,e[S+12>>2]=0,e[S+16>>2]=0,e[S>>2]=e[t+56>>2],e[t+56>>2]=S,e[t+116>>2]=(e[t+116>>2]|0)+-1;while((C|0)!=(Y|0))}n?(M?(e[$+4>>2]=h,g=Y,d=$):(d=e[Y>>2]|0,e[d+4>>2]=h,g=Y,p=h),e[h>>2]=d,e[g>>2]=n,e[n+4>>2]=Y,g=e[te+116>>2]|0,h=0):(g=E,p=M?p:Y),d=u,u=e[g+12>>2]|0,b=0,L=e[d+88>>2]|0,F=e[d+96>>2]|0,d=e[d+92>>2]|0,B=e[g+8>>2]|0}else b=n,L=s,F=S,B=$;if((u|0)==(l|0)&(a|0)==(q|0)){if(B){if(M=B+4|0,g=e[M>>2]|0,(g|0)!=(p|0))do n=g+4|0,w=g,g=e[n>>2]|0,s=e[w>>2]|0,C=e[w+8>>2]|0,S=e[C+12>>2]|0,(s|0)==(w|0)?s=0:(e[s+4>>2]=g,e[e[n>>2]>>2]=s),e[S+8>>2]=s,s=e[C>>2]|0,n=e[w+12>>2]|0,(s|0)==(C|0)?s=0:(e[s+4>>2]=e[C+4>>2],e[e[C+4>>2]>>2]=s),e[n+8>>2]=s,e[w>>2]=0,e[w+4>>2]=0,e[w+8>>2]=0,e[w+12>>2]=0,e[w+16>>2]=0,e[w>>2]=e[t+56>>2],e[t+56>>2]=w,e[C>>2]=0,e[C+4>>2]=0,e[C+8>>2]=0,e[C+12>>2]=0,e[C+16>>2]=0,e[C>>2]=e[t+56>>2],e[t+56>>2]=C,e[t+116>>2]=(e[t+116>>2]|0)+-1;while((g|0)!=(p|0));b|0&&(e[h>>2]=B,e[M>>2]=h,e[p>>2]=b,e[b+4>>2]=p)}else e[h>>2]=b,e[b+4>>2]=h,e[u+8>>2]=b;if(!P){e[D>>2]=m,e[m+4>>2]=D,e[q+8>>2]=D,E=0,w=z,M=o,C=b,n=L,S=F,s=B,g=0;break}if(g=e[P>>2]|0,(g|0)!=(z|0))do C=g,g=e[g>>2]|0,S=e[C+8>>2]|0,n=e[S+12>>2]|0,(g|0)==(C|0)?s=0:(e[g+4>>2]=e[C+4>>2],e[e[C+4>>2]>>2]=g,s=g),e[n+8>>2]=s,s=e[S>>2]|0,n=e[C+12>>2]|0,(s|0)==(S|0)?s=0:(e[s+4>>2]=e[S+4>>2],e[e[S+4>>2]>>2]=s),e[n+8>>2]=s,e[C>>2]=0,e[C+4>>2]=0,e[C+8>>2]=0,e[C+12>>2]=0,e[C+16>>2]=0,e[C>>2]=e[t+56>>2],e[t+56>>2]=C,e[S>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,e[S+12>>2]=0,e[S+16>>2]=0,e[S>>2]=e[t+56>>2],e[t+56>>2]=S,e[t+116>>2]=(e[t+116>>2]|0)+-1;while((g|0)!=(z|0));D?(e[P>>2]=m,e[m+4>>2]=P,e[D>>2]=z,e[z+4>>2]=D,E=0,w=z,M=o,C=b,n=L,S=F,s=B,g=P):(E=0,w=z,M=o,C=b,D=0,n=L,S=F,s=B,g=P)}else E=1,w=z,M=0,C=b,n=L,S=F,s=B,g=P}else E=Zp(t,F,L)|0,e[E>>2]=E,e[E+4>>2]=E,e[F+8>>2]=E,E=e[E+8>>2]|0,e[E>>2]=E,e[E+4>>2]=E,e[a+8>>2]=E,E=0,w=z,M=o,C=P,D=G,n=O,s=$;while(!1);if(!E)break t;L=a,F=u,z=w,o=M,P=C,G=D,O=n,$=s}}while(!1);H=te;return}}while(!1);e[a+8>>2]=0,e[a>>2]=a,e[a+4>>2]=a,e[o>>2]=a,e[o+4>>2]=a,e[o+8>>2]=a,e[o+12>>2]=a,H=te}function t6(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,st=0,mt=0,lt=0,_t=0;if(fe=e[o>>2]|0,ut=e[a>>2]|0,fe|0?l=e[fe+12>>2]|0:l=n,p=e[l+88>>2]|0,h=e[l+92>>2]|0,u=e[l+96>>2]|0,ut?l=e[ut+12>>2]|0:l=s,D=e[l+88>>2]|0,S=e[l+92>>2]|0,w=e[l+96>>2]|0,ke=e[n+88>>2]|0,Ke=(e[s+88>>2]|0)-ke|0,B=e[n+92>>2]|0,Ze=(e[s+92>>2]|0)-B|0,n=e[n+96>>2]|0,Ne=(e[s+96>>2]|0)-n|0,ge=e[(fe|0?fe:ut)+12>>2]|0,Ae=(e[ge+88>>2]|0)-ke|0,de=(e[ge+92>>2]|0)-B|0,ge=(e[ge+96>>2]|0)-n|0,Se=(Rt(de,Ne)|0)-(Rt(ge,Ze)|0)|0,ge=(Rt(ge,Ke)|0)-(Rt(Ae,Ne)|0)|0,de=(Rt(Ae,Ze)|0)-(Rt(de,Ke)|0)|0,ke=Ft(Se|0,((Se|0)<0)<<31>>31|0,ke|0,((ke|0)<0)<<31>>31|0)|0,Ae=Ge,B=Ft(ge|0,((ge|0)<0)<<31>>31|0,B|0,((B|0)<0)<<31>>31|0)|0,b=Ge,n=Ft(de|0,((de|0)<0)<<31>>31|0,n|0,((n|0)<0)<<31>>31|0)|0,n=$t(ke|0,Ae|0,n|0,Ge|0)|0,b=$t(n|0,Ge|0,B|0,b|0)|0,B=Ge,n=Ft(de|0,((de|0)<0)<<31>>31|0,Ze|0,((Ze|0)<0)<<31>>31|0)|0,Ae=Ge,ke=Ft(ge|0,((ge|0)<0)<<31>>31|0,Ne|0,((Ne|0)<0)<<31>>31|0)|0,ke=Wi(n|0,Ae|0,ke|0,Ge|0)|0,Ae=Ge,n=Ft(Se|0,((Se|0)<0)<<31>>31|0,Ne|0,((Ne|0)<0)<<31>>31|0)|0,He=Ge,qe=Ft(de|0,((de|0)<0)<<31>>31|0,Ke|0,((Ke|0)<0)<<31>>31|0)|0,qe=Wi(n|0,He|0,qe|0,Ge|0)|0,He=Ge,n=Ft(ge|0,((ge|0)<0)<<31>>31|0,Ke|0,((Ke|0)<0)<<31>>31|0)|0,we=Ge,Te=Ft(Se|0,((Se|0)<0)<<31>>31|0,Ze|0,((Ze|0)<0)<<31>>31|0)|0,Te=Wi(n|0,we|0,Te|0,Ge|0)|0,we=Ge,n=Ft(ke|0,Ae|0,p|0,((p|0)<0)<<31>>31|0)|0,ve=Ge,l=Ft(qe|0,He|0,h|0,((h|0)<0)<<31>>31|0)|0,ve=$t(l|0,Ge|0,n|0,ve|0)|0,n=Ge,l=Ft(Te|0,we|0,u|0,((u|0)<0)<<31>>31|0)|0,l=$t(ve|0,n|0,l|0,Ge|0)|0,n=Ge,(fe|0)!=0&&(e[fe+12>>2]|0)!=0){for(E=fe,M=p,C=h,g=u;;){if(E=e[(e[E+8>>2]|0)+4>>2]|0,h=E+12|0,p=e[h>>2]|0,s=e[p+88>>2]|0,xe=Ft(s|0,((s|0)<0)<<31>>31|0,Se|0,((Se|0)<0)<<31>>31|0)|0,ae=Ge,u=e[p+92>>2]|0,ve=Ft(u|0,((u|0)<0)<<31>>31|0,ge|0,((ge|0)<0)<<31>>31|0)|0,ae=$t(ve|0,Ge|0,xe|0,ae|0)|0,xe=Ge,p=e[p+96>>2]|0,ve=Ft(p|0,((p|0)<0)<<31>>31|0,de|0,((de|0)<0)<<31>>31|0)|0,ve=$t(ae|0,xe|0,ve|0,Ge|0)|0,xe=Ge,(xe|0)<(B|0)|(xe|0)==(B|0)&ve>>>0<b>>>0){s=M,p=C,u=g;break}if((e[E+20>>2]|0)==(e[t+100>>2]|0)){s=M,p=C,u=g;break}if(m=Ft(s|0,((s|0)<0)<<31>>31|0,ke|0,Ae|0)|0,ve=Ge,d=Ft(u|0,((u|0)<0)<<31>>31|0,qe|0,He|0)|0,ve=$t(d|0,Ge|0,m|0,ve|0)|0,m=Ge,d=Ft(p|0,((p|0)<0)<<31>>31|0,Te|0,we|0)|0,d=$t(ve|0,m|0,d|0,Ge|0)|0,m=Ge,!((m|0)>(n|0)|(m|0)==(n|0)&d>>>0>l>>>0)){s=M,p=C,u=g;break}if(e[o>>2]=E,ve=e[h>>2]|0,s=e[ve+88>>2]|0,p=e[ve+92>>2]|0,u=e[ve+96>>2]|0,ve)n=m,l=d,M=s,C=p,g=u;else{l=d,n=m;break}}C=e[a>>2]|0,ve=p}else C=ut,s=p,ve=h;h=Ft(ke|0,Ae|0,D|0,((D|0)<0)<<31>>31|0)|0,xe=Ge,p=Ft(qe|0,He|0,S|0,((S|0)<0)<<31>>31|0)|0,xe=$t(p|0,Ge|0,h|0,xe|0)|0,h=Ge,p=Ft(Te|0,we|0,w|0,((w|0)<0)<<31>>31|0)|0,p=$t(xe|0,h|0,p|0,Ge|0)|0,h=Ge;e:do if(C)if(!(e[C+12>>2]|0))d=D;else for(E=C,M=D;;){if(C=e[e[E+8>>2]>>2]|0,g=e[C+12>>2]|0,d=e[g+88>>2]|0,ae=Ft(d|0,((d|0)<0)<<31>>31|0,Se|0,((Se|0)<0)<<31>>31|0)|0,oe=Ge,m=e[g+92>>2]|0,xe=Ft(m|0,((m|0)<0)<<31>>31|0,ge|0,((ge|0)<0)<<31>>31|0)|0,oe=$t(xe|0,Ge|0,ae|0,oe|0)|0,ae=Ge,g=e[g+96>>2]|0,xe=Ft(g|0,((g|0)<0)<<31>>31|0,de|0,((de|0)<0)<<31>>31|0)|0,xe=$t(oe|0,ae|0,xe|0,Ge|0)|0,ae=Ge,(ae|0)<(B|0)|(ae|0)==(B|0)&xe>>>0<b>>>0){C=E,d=M;break e}if((e[C+20>>2]|0)==(e[t+100>>2]|0)){C=E,d=M;break e}if(xe=Ft(d|0,((d|0)<0)<<31>>31|0,ke|0,Ae|0)|0,ae=Ge,m=Ft(m|0,((m|0)<0)<<31>>31|0,qe|0,He|0)|0,ae=$t(m|0,Ge|0,xe|0,ae|0)|0,xe=Ge,m=Ft(g|0,((g|0)<0)<<31>>31|0,Te|0,we|0)|0,m=$t(ae|0,xe|0,m|0,Ge|0)|0,g=Ge,!((g|0)>(h|0)|(g|0)==(h|0)&m>>>0>p>>>0)){C=E,d=M;break e}if(e[a>>2]=C,xe=e[C+12>>2]|0,d=e[xe+88>>2]|0,S=e[xe+92>>2]|0,w=e[xe+96>>2]|0,xe)E=C,h=g,p=m,M=d;else{p=m,h=g;break}}else C=0,d=D;while(!1);if(p=Wi(p|0,h|0,l|0,n|0)|0,n=Ge,(n|0)>0|(n|0)==0&p>>>0>0){for(ae=Wi(0,0,de|0,((de|0)<0)<<31>>31|0)|0,xe=Ge,h=C,M=p,g=n,E=s,D=ve,b=u,me=d,se=S,oe=w;;){if(m=(Rt(se-D|0,Ze)|0)+(Rt(me-E|0,Ke)|0)+(Rt(oe-b|0,Ne)|0)|0,l=e[o>>2]|0,!l)$=m,Y=m,z=((m|0)<0)<<31>>31,m=M,W=E,ne=D,X=b;else{_e=m,B=m,pe=((m|0)<0)<<31>>31,m=M,ne=E,W=D,te=b;e:for(;;){if(!(e[l+12>>2]|0)){D=_e,b=pe,E=ne,M=W,l=te;break}if(X=e[(e[l>>2]|0)+8>>2]|0,(e[X+20>>2]|0)<=(e[t+100>>2]|0)){D=_e,b=pe,E=ne,M=W,l=te;break}he=e[X+12>>2]|0,E=e[he+88>>2]|0,q=E-ne|0,M=e[he+92>>2]|0,$=M-W|0,he=e[he+96>>2]|0,h=he-te|0,b=Ft(q|0,((q|0)<0)<<31>>31|0,ke|0,Ae|0)|0,Y=Ge,D=Ft($|0,(($|0)<0)<<31>>31|0,qe|0,He|0)|0,Y=$t(D|0,Ge|0,b|0,Y|0)|0,b=Ge,D=Ft(h|0,((h|0)<0)<<31>>31|0,Te|0,we|0)|0,D=$t(Y|0,b|0,D|0,Ge|0)|0,b=Ge,h=(Rt($,Ze)|0)+(Rt(q,Ke)|0)+(Rt(h,Ne)|0)|0;do if((D|0)==0&(b|0)==0){if((h|0)>=0){D=_e,b=pe,E=ne,M=W,l=te;break e}}else{if((b|0)>=0){D=_e,b=pe,E=ne,M=W,l=te;break e}if((h|0)>0?(F=1,P=h,L=((h|0)<0)<<31>>31):(P=Wi(0,0,h|0,((h|0)<0)<<31>>31|0)|0,F=h>>31,P=(h|0)<0?P:0,L=(h|0)<0?Ge:0),q=0-F|0,O=Wi(0,0,D|0,b|0)|0,z=Ge,(_e|0)>0?(h=1,Y=B,$=pe):($=(_e|0)<0,Y=Wi(0,0,B|0,pe|0)|0,h=_e>>31,Y=$?Y:0,$=$?Ge:0),(g|0)>0|(g|0)==0&m>>>0>0?(D=m,b=g):(g|0)<0?(D=Wi(0,0,m|0,g|0)|0,h=0-h|0,b=Ge):(D=0,b=0),(h|0)==(q|0)){if(!F)break;h=Ft(D|0,0,P|0,0)|0,F=Ge,_t=Ft(b|0,0,P|0,0)|0,lt=Ge,U=Ft(D|0,0,L|0,0)|0,G=Ge,mt=Ft(b|0,0,L|0,0)|0,P=Ge,U=$t(_t|0,0,U|0,0)|0,D=Ge,P=$t(lt|0,0,mt|0,P|0)|0,G=$t(P|0,Ge|0,G|0,0)|0,D=$t(G|0,Ge|0,D|0,0)|0,G=Ge,F=$t(0,U|0,h|0,F|0)|0,P=Ge,U=$t(D|0,G|0,(P>>>0<U>>>0|(P|0)==(U|0)&F>>>0<0)&1|0,0)|0,G=Ge,D=Ft(Y|0,0,O|0,0)|0,h=Ge,mt=Ft($|0,0,O|0,0)|0,O=Ge,b=Ft(Y|0,0,z|0,0)|0,L=Ge,z=Ft($|0,0,z|0,0)|0,Y=Ge,b=$t(mt|0,0,b|0,0)|0,$=Ge,Y=$t(O|0,0,z|0,Y|0)|0,L=$t(Y|0,Ge|0,L|0,0)|0,$=$t(L|0,Ge|0,$|0,0)|0,L=Ge,h=$t(0,b|0,D|0,h|0)|0,D=Ge,b=$t($|0,L|0,(D>>>0<b>>>0|(D|0)==(b|0)&h>>>0<0)&1|0,0)|0,L=Ge;do if(G>>>0<L>>>0|(G|0)==(L|0)&U>>>0<b>>>0)h=-1;else{if(G>>>0>L>>>0|(G|0)==(L|0)&U>>>0>b>>>0){h=1;break}if(P>>>0<D>>>0|(P|0)==(D|0)&F>>>0<h>>>0){h=-1;break}h=(P>>>0>D>>>0|(P|0)==(D|0)&F>>>0>h>>>0)&1}while(!1);h=Rt(h,q)|0}else h=q-h|0;if((h|0)<=-1){D=_e,b=pe,E=ne,M=W,l=te;break e}}while(!1);if(_t=me-E|0,lt=se-M|0,h=oe-he|0,g=Ft(_t|0,((_t|0)<0)<<31>>31|0,ke|0,Ae|0)|0,mt=Ge,m=Ft(lt|0,((lt|0)<0)<<31>>31|0,qe|0,He|0)|0,mt=$t(m|0,Ge|0,g|0,mt|0)|0,g=Ge,m=Ft(h|0,((h|0)<0)<<31>>31|0,Te|0,we|0)|0,m=$t(mt|0,g|0,m|0,Ge|0)|0,g=Ge,l=(l|0)==(fe|0)?0:X,e[o>>2]=l,h=(Rt(lt,Ze)|0)+(Rt(_t,Ke)|0)+(Rt(h,Ne)|0)|0,l)_e=h,B=h,pe=((h|0)<0)<<31>>31,ne=E,W=M,te=he;else{D=h,B=h,b=((h|0)<0)<<31>>31,l=he;break}}$=D,h=e[a>>2]|0,Y=B,z=b,W=E,ne=M,X=l}if(!h){l=122;break}if(!(e[h+12>>2]|0)){l=122;break}if(q=e[e[h+8>>2]>>2]|0,(e[q+20>>2]|0)<=(e[t+100>>2]|0)){l=122;break}if(E=e[q+12>>2]|0,b=e[E+88>>2]|0,M=b-me|0,D=e[E+92>>2]|0,h=D-se|0,E=e[E+96>>2]|0,l=E-oe|0,_t=Ft(M|0,((M|0)<0)<<31>>31|0,Se|0,((Se|0)<0)<<31>>31|0)|0,mt=Ge,lt=Ft(h|0,((h|0)<0)<<31>>31|0,ge|0,((ge|0)<0)<<31>>31|0)|0,mt=$t(lt|0,Ge|0,_t|0,mt|0)|0,_t=Ge,lt=Ft(l|0,((l|0)<0)<<31>>31|0,ae|0,xe|0)|0,!((mt|0)==(lt|0)&(_t|0)==(Ge|0))){l=122;break}if(L=Ft(M|0,((M|0)<0)<<31>>31|0,ke|0,Ae|0)|0,O=Ge,B=Ft(h|0,((h|0)<0)<<31>>31|0,qe|0,He|0)|0,O=$t(B|0,Ge|0,L|0,O|0)|0,L=Ge,B=Ft(l|0,((l|0)<0)<<31>>31|0,Te|0,we|0)|0,B=$t(O|0,L|0,B|0,Ge|0)|0,L=Ge,l=(Rt(h,Ze)|0)+(Rt(M,Ke)|0)+(Rt(l,Ne)|0)|0,O=b-W|0,lt=D-ne|0,G=E-X|0,O=Ft(O|0,((O|0)<0)<<31>>31|0,ke|0,Ae|0)|0,_t=Ge,lt=Ft(lt|0,((lt|0)<0)<<31>>31|0,qe|0,He|0)|0,_t=$t(lt|0,Ge|0,O|0,_t|0)|0,O=Ge,G=Ft(G|0,((G|0)<0)<<31>>31|0,Te|0,we|0)|0,G=$t(_t|0,O|0,G|0,Ge|0)|0,O=Ge,!((O|0)>0|(O|0)==0&G>>>0>0)){l=122;break}if((B|0)==0&(L|0)==0){if((l|0)>=0){l=122;break}}else{if((L|0)>=0){l=122;break}(l|0)>0?(E=1,D=l,M=((l|0)<0)<<31>>31):(D=Wi(0,0,l|0,((l|0)<0)<<31>>31|0)|0,E=l>>31,D=(l|0)<0?D:0,M=(l|0)<0?Ge:0),U=0-E|0,F=Wi(0,0,B|0,L|0)|0,P=Ge,($|0)>0?(l=1,L=Y,B=z):(B=($|0)<0,L=Wi(0,0,Y|0,z|0)|0,l=$>>31,L=B?L:0,B=B?Ge:0);do if((g|0)>0|(g|0)==0&m>>>0>0)h=l,l=g;else{if((g|0)>=0){h=l,m=0,l=0;break}m=Wi(0,0,m|0,g|0)|0,h=0-l|0,l=Ge}while(!1);if((h|0)==(U|0)){if(!E){l=122;break}_t=Ft(m|0,0,D|0,0)|0,E=Ge,h=Ft(l|0,0,D|0,0)|0,oe=Ge,D=Ft(m|0,0,M|0,0)|0,b=Ge,l=Ft(l|0,0,M|0,0)|0,M=Ge,D=$t(h|0,0,D|0,0)|0,h=Ge,M=$t(oe|0,0,l|0,M|0)|0,b=$t(M|0,Ge|0,b|0,0)|0,h=$t(b|0,Ge|0,h|0,0)|0,b=Ge,M=$t(0,D|0,_t|0,E|0)|0,E=Ge,D=$t(h|0,b|0,(E>>>0<D>>>0|(E|0)==(D|0)&M>>>0<0)&1|0,0)|0,b=Ge,h=Ft(L|0,0,F|0,0)|0,l=Ge,_t=Ft(B|0,0,F|0,0)|0,oe=Ge,m=Ft(L|0,0,P|0,0)|0,g=Ge,mt=Ft(B|0,0,P|0,0)|0,lt=Ge,m=$t(_t|0,0,m|0,0)|0,_t=Ge,lt=$t(oe|0,0,mt|0,lt|0)|0,g=$t(lt|0,Ge|0,g|0,0)|0,_t=$t(g|0,Ge|0,_t|0,0)|0,g=Ge,l=$t(0,m|0,h|0,l|0)|0,h=Ge,m=$t(_t|0,g|0,(h>>>0<m>>>0|(h|0)==(m|0)&l>>>0<0)&1|0,0)|0,g=Ge;do if(b>>>0<g>>>0|(b|0)==(g|0)&D>>>0<m>>>0)l=-1;else{if(b>>>0>g>>>0|(b|0)==(g|0)&D>>>0>m>>>0){l=1;break}if(E>>>0<h>>>0|(E|0)==(h|0)&M>>>0<l>>>0){l=-1;break}l=(E>>>0>h>>>0|(E|0)==(h|0)&M>>>0>l>>>0)&1}while(!1);l=Rt(l,U)|0}else l=U-h|0;if((l|0)<=0){l=122;break}}e[a>>2]=q,oe=e[q+12>>2]|0,h=q,M=G,g=O,E=W,D=ne,b=X,me=e[oe+88>>2]|0,se=e[oe+92>>2]|0,oe=e[oe+96>>2]|0}if((l|0)==122)return}if(!((n|0)>=0)){q=Wi(0,0,de|0,((de|0)<0)<<31>>31|0)|0,X=Ge,l=ve,$=d;e:for(;;){Y=n,z=p,G=l;t:for(;;){O=(Rt(S-G|0,Ze)|0)+(Rt($-s|0,Ke)|0)+(Rt(w-u|0,Ne)|0)|0;do if(C|0&&e[C+12>>2]|0&&(st=e[(e[C+4>>2]|0)+8>>2]|0,(e[st+20>>2]|0)>(e[t+100>>2]|0))){if(U=e[st+12>>2]|0,F=e[U+88>>2]|0,_t=F-$|0,P=e[U+92>>2]|0,lt=P-S|0,U=e[U+96>>2]|0,l=U-w|0,p=Ft(_t|0,((_t|0)<0)<<31>>31|0,ke|0,Ae|0)|0,mt=Ge,n=Ft(lt|0,((lt|0)<0)<<31>>31|0,qe|0,He|0)|0,mt=$t(n|0,Ge|0,p|0,mt|0)|0,p=Ge,n=Ft(l|0,((l|0)<0)<<31>>31|0,Te|0,we|0)|0,n=$t(mt|0,p|0,n|0,Ge|0)|0,p=Ge,l=(Rt(lt,Ze)|0)+(Rt(_t,Ke)|0)+(Rt(l,Ne)|0)|0,(n|0)==0&(p|0)==0){if((l|0)>0)break t;break}if((p|0)<0){if((l|0)>0?(d=1,m=l,h=((l|0)<0)<<31>>31):(m=Wi(0,0,l|0,((l|0)<0)<<31>>31|0)|0,d=l>>31,m=(l|0)<0?m:0,h=(l|0)<0?Ge:0),L=0-d|0,E=Wi(0,0,n|0,p|0)|0,D=Ge,(O|0)>0?(l=1,b=O,B=((O|0)<0)<<31>>31):(b=Wi(0,0,O|0,((O|0)<0)<<31>>31|0)|0,l=O>>31,b=(O|0)<0?b:0,B=(O|0)<0?Ge:0),(Y|0)>0|(Y|0)==0&z>>>0>0?(n=z,p=Y):(Y|0)<0?(n=Wi(0,0,z|0,Y|0)|0,l=0-l|0,p=Ge):(n=0,p=0),(l|0)==(L|0)){if(!d)break t;l=Ft(n|0,0,m|0,0)|0,d=Ge,mt=Ft(p|0,0,m|0,0)|0,fe=Ge,g=Ft(n|0,0,h|0,0)|0,M=Ge,_t=Ft(p|0,0,h|0,0)|0,m=Ge,g=$t(mt|0,0,g|0,0)|0,n=Ge,m=$t(fe|0,0,_t|0,m|0)|0,M=$t(m|0,Ge|0,M|0,0)|0,n=$t(M|0,Ge|0,n|0,0)|0,M=Ge,d=$t(0,g|0,l|0,d|0)|0,m=Ge,g=$t(n|0,M|0,(m>>>0<g>>>0|(m|0)==(g|0)&d>>>0<0)&1|0,0)|0,M=Ge,n=Ft(b|0,0,E|0,0)|0,l=Ge,_t=Ft(B|0,0,E|0,0)|0,fe=Ge,p=Ft(b|0,0,D|0,0)|0,h=Ge,mt=Ft(B|0,0,D|0,0)|0,lt=Ge,p=$t(_t|0,0,p|0,0)|0,_t=Ge,lt=$t(fe|0,0,mt|0,lt|0)|0,h=$t(lt|0,Ge|0,h|0,0)|0,_t=$t(h|0,Ge|0,_t|0,0)|0,h=Ge,l=$t(0,p|0,n|0,l|0)|0,n=Ge,p=$t(_t|0,h|0,(n>>>0<p>>>0|(n|0)==(p|0)&l>>>0<0)&1|0,0)|0,h=Ge;do if(M>>>0<h>>>0|(M|0)==(h|0)&g>>>0<p>>>0)l=-1;else{if(M>>>0>h>>>0|(M|0)==(h|0)&g>>>0>p>>>0){l=1;break}if(m>>>0<n>>>0|(m|0)==(n|0)&d>>>0<l>>>0){l=-1;break}l=(m>>>0>n>>>0|(m|0)==(n|0)&d>>>0>l>>>0)&1}while(!1);l=Rt(l,L)|0}else l=L-l|0;if((l|0)<1)break t}}while(!1);if(l=e[o>>2]|0,!l){l=122;break e}if(!(e[l+12>>2]|0)){l=122;break e}if(B=e[(e[l+8>>2]|0)+4>>2]|0,(e[B+20>>2]|0)<=(e[t+100>>2]|0)){l=122;break e}if(p=e[B+12>>2]|0,d=e[p+88>>2]|0,s=d-s|0,h=e[p+92>>2]|0,n=h-G|0,p=e[p+96>>2]|0,l=p-u|0,_t=Ft(s|0,((s|0)<0)<<31>>31|0,Se|0,((Se|0)<0)<<31>>31|0)|0,mt=Ge,lt=Ft(n|0,((n|0)<0)<<31>>31|0,ge|0,((ge|0)<0)<<31>>31|0)|0,mt=$t(lt|0,Ge|0,_t|0,mt|0)|0,_t=Ge,lt=Ft(l|0,((l|0)<0)<<31>>31|0,q|0,X|0)|0,!((mt|0)==(lt|0)&(_t|0)==(Ge|0))){l=122;break e}if(m=Ft(s|0,((s|0)<0)<<31>>31|0,ke|0,Ae|0)|0,b=Ge,u=Ft(n|0,((n|0)<0)<<31>>31|0,qe|0,He|0)|0,b=$t(u|0,Ge|0,m|0,b|0)|0,m=Ge,u=Ft(l|0,((l|0)<0)<<31>>31|0,Te|0,we|0)|0,u=$t(b|0,m|0,u|0,Ge|0)|0,m=Ge,l=(Rt(n,Ze)|0)+(Rt(s,Ke)|0)+(Rt(l,Ne)|0)|0,b=$-d|0,lt=S-h|0,D=w-p|0,b=Ft(b|0,((b|0)<0)<<31>>31|0,ke|0,Ae|0)|0,_t=Ge,lt=Ft(lt|0,((lt|0)<0)<<31>>31|0,qe|0,He|0)|0,_t=$t(lt|0,Ge|0,b|0,_t|0)|0,b=Ge,D=Ft(D|0,((D|0)<0)<<31>>31|0,Te|0,we|0)|0,D=$t(_t|0,b|0,D|0,Ge|0)|0,b=Ge,(b|0)>=0){l=122;break e}if((u|0)==0&(m|0)==0){if((l|0)<=0){l=122;break e}}else{if((m|0)>=0){l=122;break e}(l|0)>0?(h=l,d=((l|0)<0)<<31>>31,p=1):(h=Wi(0,0,l|0,((l|0)<0)<<31>>31|0)|0,h=(l|0)<0?h:0,d=(l|0)<0?Ge:0,p=l>>31),E=0-p|0,C=Wi(0,0,u|0,m|0)|0,M=Ge,(O|0)>0?(l=1,g=O,u=((O|0)<0)<<31>>31):(g=Wi(0,0,O|0,((O|0)<0)<<31>>31|0)|0,l=O>>31,g=(O|0)<0?g:0,u=(O|0)<0?Ge:0);do if((Y|0)>0|(Y|0)==0&z>>>0>0)s=l,n=z,l=Y;else{if((Y|0)>=0){s=l,n=0,l=0;break}n=Wi(0,0,z|0,Y|0)|0,s=0-l|0,l=Ge}while(!1);if((s|0)==(E|0)){if(!p){l=122;break e}_t=Ft(n|0,0,h|0,0)|0,p=Ge,s=Ft(l|0,0,h|0,0)|0,fe=Ge,n=Ft(n|0,0,d|0,0)|0,m=Ge,l=Ft(l|0,0,d|0,0)|0,h=Ge,d=$t(s|0,0,n|0,0)|0,n=Ge,h=$t(fe|0,0,l|0,h|0)|0,m=$t(h|0,Ge|0,m|0,0)|0,n=$t(m|0,Ge|0,n|0,0)|0,m=Ge,p=$t(0,d|0,_t|0,p|0)|0,h=Ge,d=$t(n|0,m|0,(h>>>0<d>>>0|(h|0)==(d|0)&p>>>0<0)&1|0,0)|0,m=Ge,n=Ft(g|0,0,C|0,0)|0,l=Ge,_t=Ft(u|0,0,C|0,0)|0,fe=Ge,s=Ft(g|0,0,M|0,0)|0,lt=Ge,mt=Ft(u|0,0,M|0,0)|0,u=Ge,s=$t(_t|0,0,s|0,0)|0,_t=Ge,u=$t(fe|0,0,mt|0,u|0)|0,u=$t(u|0,Ge|0,lt|0,0)|0,_t=$t(u|0,Ge|0,_t|0,0)|0,u=Ge,l=$t(0,s|0,n|0,l|0)|0,n=Ge,s=$t(_t|0,u|0,(n>>>0<s>>>0|(n|0)==(s|0)&l>>>0<0)&1|0,0)|0,u=Ge;do if(m>>>0<u>>>0|(m|0)==(u|0)&d>>>0<s>>>0)l=-1;else{if(m>>>0>u>>>0|(m|0)==(u|0)&d>>>0>s>>>0){l=1;break}if(h>>>0<n>>>0|(h|0)==(n|0)&p>>>0<l>>>0){l=-1;break}l=(h>>>0>n>>>0|(h|0)==(n|0)&p>>>0>l>>>0)&1}while(!1);l=Rt(l,E)|0}else l=E-s|0;if((l|0)>=0){l=122;break e}}e[o>>2]=B,u=e[B+12>>2]|0,C=e[a>>2]|0,Y=b,z=D,s=e[u+88>>2]|0,G=e[u+92>>2]|0,u=e[u+96>>2]|0}n=F-s|0,$=P-G|0,p=U-u|0,n=Ft(n|0,((n|0)<0)<<31>>31|0,ke|0,Ae|0)|0,l=Ge,$=Ft($|0,(($|0)<0)<<31>>31|0,qe|0,He|0)|0,l=$t($|0,Ge|0,n|0,l|0)|0,n=Ge,p=Ft(p|0,((p|0)<0)<<31>>31|0,Te|0,we|0)|0,p=$t(l|0,n|0,p|0,Ge|0)|0,C=(C|0)==(ut|0)?0:st,e[a>>2]=C,n=Ge,l=G,$=F,S=P,w=U}l|0}}function i6(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0;var p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0;if(p=e[s+8>>2]|0,!p)return t=0,t|0;h=p,Y=p,p=0;do{if((e[Y+20>>2]|0)>(e[t+100>>2]|0)){O=e[Y+12>>2]|0,F=e[O+88>>2]|0,P=F-(e[s+88>>2]|0)|0,U=e[O+92>>2]|0,G=U-(e[s+92>>2]|0)|0,O=e[O+96>>2]|0,z=O-(e[s+96>>2]|0)|0,d=Ft(e[l>>2]|0,e[l+4>>2]|0,P|0,((P|0)<0)<<31>>31|0)|0,m=Ge,h=Ft(e[l+8>>2]|0,e[l+8+4>>2]|0,G|0,((G|0)<0)<<31>>31|0)|0,m=$t(h|0,Ge|0,d|0,m|0)|0,d=Ge,h=Ft(e[l+16>>2]|0,e[l+16+4>>2]|0,z|0,((z|0)<0)<<31>>31|0)|0,h=$t(m|0,d|0,h|0,Ge|0)|0,d=Ge,m=Ft(e[a>>2]|0,e[a+4>>2]|0,P|0,((P|0)<0)<<31>>31|0)|0,L=Ge,g=Ft(e[a+8>>2]|0,e[a+8+4>>2]|0,G|0,((G|0)<0)<<31>>31|0)|0,L=$t(g|0,Ge|0,m|0,L|0)|0,m=Ge,g=Ft(e[a+16>>2]|0,e[a+16+4>>2]|0,z|0,((z|0)<0)<<31>>31|0)|0,g=$t(L|0,m|0,g|0,Ge|0)|0,m=Ge,(d|0)>0|(d|0)==0&h>>>0>0?(L=d,d=1):(b=Wi(0,0,h|0,d|0)|0,L=Ge,B=G8(h|0,d|0,63)|0,h=(d|0)<0?b:0,L=(d|0)<0?L:0,d=B),(m|0)>0|(m|0)==0&g>>>0>0?(S=d,C=8):(B=Wi(0,0,g|0,m|0)|0,S=(m|0)<0?0-d|0:d,d=(m|0)<0?B:0,m=(m|0)<0?Ge:0,(S|0)==0&((d|0)==0&(m|0)==0)||(g=d,C=8));e:do if((C|0)==8){if(C=0,!p){e[u>>2]=h,e[u+4>>2]=L,e[u+8>>2]=g,e[u+8+4>>2]=m,e[u+16>>2]=S,p=Y;break}d=e[u+16>>2]|0,(S|0)==(d|0)?S|0&&(w=e[u+8>>2]|0,D=e[u+8+4>>2]|0,C=Ft(w|0,0,h|0,0)|0,d=Ge,b=Ft(D|0,0,h|0,0)|0,E=Ge,w=Ft(w|0,0,L|0,0)|0,M=Ge,D=Ft(D|0,0,L|0,0)|0,X=Ge,w=$t(b|0,0,w|0,0)|0,b=Ge,X=$t(E|0,0,D|0,X|0)|0,M=$t(X|0,Ge|0,M|0,0)|0,b=$t(M|0,Ge|0,b|0,0)|0,M=Ge,d=$t(0,w|0,C|0,d|0)|0,C=Ge,w=$t(b|0,M|0,(C>>>0<w>>>0|(C|0)==(w|0)&d>>>0<0)&1|0,0)|0,M=Ge,b=e[u>>2]|0,X=e[u+4>>2]|0,D=Ft(b|0,0,g|0,0)|0,E=Ge,$=Ft(X|0,0,g|0,0)|0,ne=Ge,b=Ft(b|0,0,m|0,0)|0,B=Ge,X=Ft(X|0,0,m|0,0)|0,q=Ge,b=$t($|0,0,b|0,0)|0,$=Ge,q=$t(ne|0,0,X|0,q|0)|0,B=$t(q|0,Ge|0,B|0,0)|0,$=$t(B|0,Ge|0,$|0,0)|0,B=Ge,E=$t(0,b|0,D|0,E|0)|0,D=Ge,b=$t($|0,B|0,(D>>>0<b>>>0|(D|0)==(b|0)&E>>>0<0)&1|0,0)|0,B=Ge,M>>>0<B>>>0|(M|0)==(B|0)&w>>>0<b>>>0?d=-1:M>>>0>B>>>0|(M|0)==(B|0)&w>>>0>b>>>0?d=1:C>>>0<D>>>0|(C|0)==(D|0)&d>>>0<E>>>0?d=-1:d=(C>>>0>D>>>0|(C|0)==(D|0)&d>>>0>E>>>0)&1,d=Rt(d,S)|0,C=18):(d=S-d|0,C=18);do if((C|0)==18)if(C=0,(d|0)>=0){if(d)break e;break}else{e[u>>2]=h,e[u+4>>2]=L,e[u+8>>2]=g,e[u+8+4>>2]=m,e[u+16>>2]=S,p=Y;break e}while(!1);h=(e[p+4>>2]|0)==(Y|0),(e[p>>2]|0)==(Y|0)?h?(ne=e[o+8>>2]|0,$=Rt(ne,G)|0,B=e[o+4>>2]|0,$=$-(Rt(B,z)|0)|0,X=e[o>>2]|0,ne=(Rt(X,z)|0)-(Rt(ne,P)|0)|0,X=(Rt(B,P)|0)-(Rt(X,G)|0)|0,B=e[p+12>>2]|0,h=e[(e[Y+8>>2]|0)+12>>2]|0,G=e[h+88>>2]|0,P=(e[B+88>>2]|0)-G|0,L=e[h+92>>2]|0,z=(e[B+92>>2]|0)-L|0,h=e[h+96>>2]|0,B=(e[B+96>>2]|0)-h|0,q=(Rt(O-h|0,z)|0)-(Rt(U-L|0,B)|0)|0,h=(Rt(F-G|0,B)|0)-(Rt(O-h|0,P)|0)|0,z=(Rt(U-L|0,P)|0)-(Rt(F-G|0,z)|0)|0,$=Ft(q|0,((q|0)<0)<<31>>31|0,$|0,(($|0)<0)<<31>>31|0)|0,q=Ge,ne=Ft(h|0,((h|0)<0)<<31>>31|0,ne|0,((ne|0)<0)<<31>>31|0)|0,h=Ge,X=Ft(z|0,((z|0)<0)<<31>>31|0,X|0,((X|0)<0)<<31>>31|0)|0,X=$t($|0,q|0,X|0,Ge|0)|0,h=$t(X|0,Ge|0,ne|0,h|0)|0,ne=Ge,h=(ne|0)>0|(ne|0)==0&h>>>0>0?2:1):h=2:h=h&1,p=(h|0)==2^n?p:Y}while(!1);h=e[s+8>>2]|0}Y=e[Y>>2]|0}while((Y|0)!=(h|0));return p|0}function Jp(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;for(m=H,H=H+16|0,u=e[t+12>>2]|0,p=e[u+(((s+n|0)/2|0)<<4)>>2]|0,h=e[u+(((s+n|0)/2|0)<<4)+4>>2]|0,d=e[u+(((s+n|0)/2|0)<<4)+8>>2]|0,o=n,a=s;;){for(l=o;o=e[u+(l<<4)+4>>2]|0,!((o|0)>=(h|0)&&((o|0)!=(h|0)||(o=e[u+(l<<4)>>2]|0,(o|0)>=(p|0)&&((o|0)!=(p|0)||(e[u+(l<<4)+8>>2]|0)>=(d|0)))));)l=l+1|0;for(;o=e[u+(a<<4)+4>>2]|0,!((h|0)>=(o|0)&&((h|0)!=(o|0)||(o=e[u+(a<<4)>>2]|0,(p|0)>=(o|0)&&((p|0)!=(o|0)||(d|0)>=(e[u+(a<<4)+8>>2]|0)))));)a=a+-1|0;if((l|0)>(a|0)?o=l:(o=u+(l<<4)|0,e[m>>2]=e[o>>2],e[m+4>>2]=e[o+4>>2],e[m+8>>2]=e[o+8>>2],e[m+12>>2]=e[o+12>>2],u=u+(a<<4)|0,e[o>>2]=e[u>>2],e[o+4>>2]=e[u+4>>2],e[o+8>>2]=e[u+8>>2],e[o+12>>2]=e[u+12>>2],o=(e[t+12>>2]|0)+(a<<4)|0,e[o>>2]=e[m>>2],e[o+4>>2]=e[m+4>>2],e[o+8>>2]=e[m+8>>2],e[o+12>>2]=e[m+12>>2],o=l+1|0,a=a+-1|0),(o|0)>(a|0))break;u=e[t+12>>2]|0}if((a|0)>(n|0)&&Jp(t,n,a),(o|0)>=(s|0)){H=m;return}Jp(t,o,s),H=m}function xa(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0;return(o|0)>-1|(o|0)==-1&s>>>0>4294967295?(a=(+(s>>>0)+4294967296*+(o>>>0))*18446744073709552e3+(+(t>>>0)+4294967296*+(n>>>0)),+a):(u=Wi(0,0,t|0,n|0)|0,l=Ge,o=$t((t|0)==0&(n|0)==0&1|0,0,~s|0,~o|0)|0,a=-+xa(u,l,o,Ge),+a)}function n6(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0;if(X=H,H=H+240|0,(s|0)<1){o=e[t+12>>2]|0,o|0&&(R[t+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+12>>2]=0),R[t+16>>0]=1,e[t+12>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,o=e[t+32>>2]|0,o|0&&(R[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+32>>2]=0),R[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0,o=e[t+52>>2]|0,o|0&&(R[t+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+52>>2]=0),R[t+56>>0]=1,e[t+52>>2]=0,e[t+44>>2]=0,e[t+48>>2]=0,H=X;return}for(e[X+40+32>>2]=0,e[X+40+36>>2]=0,e[X+40+40>>2]=0,e[X+40+44>>2]=256,e[X+40+48>>2]=0,e[X+40+52>>2]=0,e[X+40+56>>2]=0,e[X+40+60>>2]=256,e[X+40+64>>2]=0,e[X+40+68>>2]=0,e[X+40+72>>2]=0,e[X+40+76>>2]=256,R[X+40+96>>0]=1,z=X+40+92|0,e[z>>2]=0,e[X+40+84>>2]=0,e[X+40+88>>2]=0,p=0,h=-246811958,E=-246811958,C=-246811958,S=1900671690,L=1900671690,M=1900671690,d=n;O=+i[d>>2],l=+i[d+4>>2],m=+i[d+8>>2],Y=O<(e[Z>>2]=S,+i[Z>>2]),o=(i[Z>>2]=O,e[Z>>2]|0),S=Y?o:S,Y=l<(e[Z>>2]=M,+i[Z>>2]),a=(i[Z>>2]=l,e[Z>>2]|0),M=Y?a:M,Y=m<(e[Z>>2]=L,+i[Z>>2]),u=(i[Z>>2]=m,e[Z>>2]|0),L=Y?u:L,h=(e[Z>>2]=h,+i[Z>>2]<O?o:h),C=(e[Z>>2]=C,+i[Z>>2]<l?a:C),E=(e[Z>>2]=E,+i[Z>>2]<m?u:E),p=p+1|0,(p|0)!=(s|0);)d=d+16|0;if(P=(e[Z>>2]=h,+i[Z>>2]),F=(e[Z>>2]=S,+i[Z>>2]),B=(e[Z>>2]=C,+i[Z>>2]),b=(e[Z>>2]=M,+i[Z>>2]),D=(e[Z>>2]=E,+i[Z>>2]),w=(e[Z>>2]=L,+i[Z>>2]),a=P-F<B-b?B-b<D-w?2:1:P-F<D-w?2:0,e[X+40+112>>2]=a,o=P-F<B-b?P-F<D-w?0:2:B-b<D-w?1:2,(o|0)==(a|0)&&(o=((a+1|0)>>>0)%3|0),e[X+40+104>>2]=o,Y=(a^3)-o|0,e[X+40+108>>2]=Y,((Y+1|0)%3|0|0)==(a|0)?(l=(P-F)*9788566967472434e-20,m=(B-b)*9788566967472434e-20,g=(D-w)*9788566967472434e-20):(l=-((P-F)*9788566967472434e-20),m=-((B-b)*9788566967472434e-20),g=-((D-w)*9788566967472434e-20)),i[X+40>>2]=l,i[X+40+4>>2]=m,i[X+40+8>>2]=g,i[X+40+12>>2]=0,O=l!=0?1/l:l,G=m!=0?1/m:m,U=g!=0?1/g:g,i[X+40+16>>2]=(P+F)*.5,i[X+40+20>>2]=(B+b)*.5,i[X+40+24>>2]=(D+w)*.5,i[X+40+28>>2]=0,S=X+216+16|0,R[S>>0]=1,C=X+216+12|0,e[C>>2]=0,e[X+216+4>>2]=0,e[X+216+8>>2]=0,e[5637]=(e[5637]|0)+1,o=Xe((s<<4|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,p=o+4+15&-16):p=0,a=e[X+216+4>>2]|0,u=e[C>>2]|0,(a|0)<=0)u|0&&(q=26);else{o=0;do q=p+(o<<4)|0,Y=u+(o<<4)|0,e[q>>2]=e[Y>>2],e[q+4>>2]=e[Y+4>>2],e[q+8>>2]=e[Y+8>>2],e[q+12>>2]=e[Y+12>>2],o=o+1|0;while((o|0)!=(a|0));q=26}if((q|0)==26&&(R[S>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[C>>2]=0),R[S>>0]=1,e[C>>2]=p,e[X+216+8>>2]=s,e[p>>2]=e[X+200>>2],e[p+4>>2]=e[X+200+4>>2],e[p+8>>2]=e[X+200+8>>2],e[p+12>>2]=e[X+200+12>>2],(s|0)!=1){o=1;do Y=(e[C>>2]|0)+(o<<4)|0,e[Y>>2]=e[X+200>>2],e[Y+4>>2]=e[X+200+4>>2],e[Y+8>>2]=e[X+200+8>>2],e[Y+12>>2]=e[X+200+12>>2],o=o+1|0;while((o|0)!=(s|0))}for(e[X+216+4>>2]=s,a=X+184+(e[X+40+108>>2]<<2)|0,u=e[C>>2]|0,p=X+184+(e[X+40+112>>2]<<2)|0,h=X+184+(e[X+40+104>>2]<<2)|0,l=+i[X+40+16>>2],m=+i[X+40+20>>2],g=+i[X+40+24>>2],d=0,o=n;n=e[o>>2]|0,e[X+184>>2]=n,Y=e[o+4>>2]|0,e[X+184+4>>2]=Y,B=(e[Z>>2]=n,+i[Z>>2]-l),F=G*(e[Z>>2]=Y,+i[Z>>2]-m),P=U*(+i[o+8>>2]-g),i[X+184>>2]=O*B,i[X+184+4>>2]=F,i[X+184+8>>2]=P,i[X+184+12>>2]=0,e[u+(d<<4)>>2]=~~+i[a>>2],e[u+(d<<4)+4>>2]=~~+i[p>>2],e[u+(d<<4)+8>>2]=~~+i[h>>2],e[u+(d<<4)+12>>2]=d,d=d+1|0,(d|0)!=(s|0);)o=o+16|0;if((s|0)>1&&Jp(X+216|0,0,s+-1|0),e[X+40+36>>2]=e[X+40+32>>2],e[X+40+40>>2]=0,e[X+40+44>>2]=s,o=e[X+40+84>>2]|0,(o|0)<(s|0)){if((e[X+40+88>>2]|0)<(s|0)){if(s?(e[5637]=(e[5637]|0)+1,a=Xe((s<<2|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,u=e[X+40+84>>2]|0):(a=0,u=o),(u|0)>0){p=0;do e[a+(p<<2)>>2]=e[(e[z>>2]|0)+(p<<2)>>2],p=p+1|0;while((p|0)!=(u|0))}u=e[z>>2]|0,u|0&&(R[X+40+96>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[z>>2]=0),R[X+40+96>>0]=1,e[z>>2]=a,e[X+40+88>>2]=s}do e[(e[z>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0))}e[X+40+84>>2]=s,h=0;do{if(o=e[X+40+40>>2]|0,!o&&(o=e[X+40+36>>2]|0,o?e[X+40+36>>2]=e[o+8>>2]:(e[5637]=(e[5637]|0)+1,o=Xe(31)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[X+40+44>>2]|0,e[o+4>>2]=a,u=o+8|0,e[u>>2]=0,e[5637]=(e[5637]|0)+1,a=Xe((a*112|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[o>>2]=a,e[u>>2]=e[X+40+32>>2],e[X+40+32>>2]=o),p=e[o+4>>2]|0,o=e[o>>2]|0,(p|0)>0)){a=0,u=o;do a=a+1|0,Y=u,u=u+112|0,e[Y>>2]=(a|0)<(p|0)?u:0;while((a|0)!=(p|0))}e[X+40+40>>2]=e[o>>2],Y=o+104|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[Y>>2]=-1,e[o+8>>2]=0,n=o+88|0,L=(e[C>>2]|0)+(h<<4)|0,e[n>>2]=e[L>>2],e[n+4>>2]=e[L+4>>2],e[n+8>>2]=e[L+8>>2],e[n+12>>2]=e[L+12>>2],e[Y>>2]=-1,e[(e[z>>2]|0)+(h<<2)>>2]=o,h=h+1|0}while((h|0)<(s|0));if(o=e[C>>2]|0,o|0&&(R[S>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[C>>2]=0),R[S>>0]=1,e[C>>2]=0,e[X+216+4>>2]=0,e[X+216+8>>2]=0,e[X+40+52>>2]=e[X+40+48>>2],e[X+40+56>>2]=0,e[X+40+60>>2]=s*6,e[X+40+116>>2]=0,e[X+40+120>>2]=0,e[X+40+100>>2]=-3,e[X+184>>2]=0,e[X+184+4>>2]=0,e[X+184+8>>2]=0,e[X+184+12>>2]=0,Qp(X+40|0,0,s,X+184|0),e[X+40+124>>2]=e[X+184>>2],o=e[C>>2]|0,o|0&&(R[S>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[C>>2]=0),o=e[t+4>>2]|0,(o|0)<0){(e[t+8>>2]|0)<0&&(a=e[t+12>>2]|0,a|0&&(R[t+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+12>>2]=0),R[t+16>>0]=1,e[t+12>>2]=0,e[t+8>>2]=0);do Y=(e[t+12>>2]|0)+(o<<4)|0,e[Y>>2]=e[X+168>>2],e[Y+4>>2]=e[X+168+4>>2],e[Y+8>>2]=e[X+168+8>>2],e[Y+12>>2]=e[X+168+12>>2],o=o+1|0;while((o|0)!=0)}if(e[t+4>>2]=0,e[X+24>>2]=0,e[X+24+4>>2]=0,e[X+24+8>>2]=0,o=e[t+24>>2]|0,(o|0)<0){(e[t+28>>2]|0)<0&&(a=e[t+32>>2]|0,a|0&&(R[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+32>>2]=0),R[t+36>>0]=1,e[t+32>>2]=0,e[t+28>>2]=0);do Y=(e[t+32>>2]|0)+(o*12|0)|0,e[Y>>2]=e[X+24>>2],e[Y+4>>2]=e[X+24+4>>2],e[Y+8>>2]=e[X+24+8>>2],o=o+1|0;while((o|0)!=0)}if(e[t+24>>2]=0,a=e[t+44>>2]|0,(a|0)<0){o=e[t+52>>2]|0;do if((e[t+48>>2]|0)<0){if(!o){R[t+56>>0]=1,e[t+52>>2]=0,e[t+48>>2]=0,o=0;break}R[t+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),R[t+56>>0]=1,e[t+52>>2]=0,e[t+48>>2]=0,o=0}while(!1);ln(o+(a<<2)|0,0,Rt(a,-4)|0)|0}if(e[t+44>>2]=0,o=e[X+40+124>>2]|0,(e[o+104>>2]|0)<0){for(e[o+104>>2]=0,e[5637]=(e[5637]|0)+1,S=Xe(23)|0,e[(S+4+15&-16)+-4>>2]=S,e[(S+4+15&-16)>>2]=o,Y=0,p=1,u=1,S=S+4+15&-16;;){if((e[o+100>>2]|0)>-1?(i[X+216+(e[X+40+108>>2]<<2)>>2]=+(e[o+88>>2]|0),i[X+216+(e[X+40+112>>2]<<2)>>2]=+(e[o+92>>2]|0),l=+(e[o+96>>2]|0)):(s=o+24|0,n=o+32|0,l=+xa(e[s>>2]|0,e[s+4>>2]|0,e[n>>2]|0,e[n+4>>2]|0),n=o+72|0,s=o+80|0,z=e[s>>2]|0,s=e[s+4>>2]|0,l=l/+xa(e[n>>2]|0,e[n+4>>2]|0,z,s),i[X+216+(e[X+40+108>>2]<<2)>>2]=l,L=o+40|0,E=o+48|0,l=+xa(e[L>>2]|0,e[L+4>>2]|0,e[E>>2]|0,e[E+4>>2]|0),l=l/+xa(e[n>>2]|0,e[n+4>>2]|0,z,s),i[X+216+(e[X+40+112>>2]<<2)>>2]=l,E=o+56|0,L=o+64|0,l=+xa(e[E>>2]|0,e[E+4>>2]|0,e[L>>2]|0,e[L+4>>2]|0),l=l/+xa(e[n>>2]|0,e[n+4>>2]|0,z,s)),i[X+216+(e[X+40+104>>2]<<2)>>2]=l,l=+i[X+216>>2]*+i[X+40>>2]+ +i[X+40+16>>2],m=+i[X+216+4>>2]*+i[X+40+4>>2]+ +i[X+40+20>>2],g=+i[X+216+8>>2]*+i[X+40+8>>2]+ +i[X+40+24>>2],a=e[t+4>>2]|0,(a|0)==(e[t+8>>2]|0)&&($=a|0?a<<1:1,(a|0)<($|0))){if($?(e[5637]=(e[5637]|0)+1,a=Xe(($<<4|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,d=a,a=e[t+4>>2]|0):d=0,(a|0)>0){h=0;do s=d+(h<<4)|0,z=(e[t+12>>2]|0)+(h<<4)|0,e[s>>2]=e[z>>2],e[s+4>>2]=e[z+4>>2],e[s+8>>2]=e[z+8>>2],e[s+12>>2]=e[z+12>>2],h=h+1|0;while((h|0)!=(a|0))}a=e[t+12>>2]|0,a|0&&(R[t+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+12>>2]=0),R[t+16>>0]=1,e[t+12>>2]=d,e[t+8>>2]=$,a=e[t+4>>2]|0}if(z=e[t+12>>2]|0,i[z+(a<<4)>>2]=l,i[z+(a<<4)+4>>2]=m,i[z+(a<<4)+8>>2]=g,i[z+(a<<4)+12>>2]=0,e[t+4>>2]=(e[t+4>>2]|0)+1,z=e[o+8>>2]|0,!z)h=S;else{for(s=z,o=-1,L=S,n=-1;;){if(E=s+20|0,a=e[E>>2]|0,(a|0)<0){M=e[t+24>>2]|0,e[X+12>>2]=0,e[X+12+4>>2]=0,e[X+12+8>>2]=0;do if((M|0)==(e[t+28>>2]|0)){if(S=M|0?M<<1:1,(M|0)>=(S|0)){a=M;break}if(S?(e[5637]=(e[5637]|0)+1,a=Xe((S*12|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,h=e[t+24>>2]|0):(a=0,h=M),(h|0)>0){d=0;do C=a+(d*12|0)|0,ne=(e[t+32>>2]|0)+(d*12|0)|0,e[C>>2]=e[ne>>2],e[C+4>>2]=e[ne+4>>2],e[C+8>>2]=e[ne+8>>2],d=d+1|0;while((d|0)!=(h|0))}h=e[t+32>>2]|0,h|0&&(R[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),e[t+32>>2]=0),R[t+36>>0]=1,e[t+32>>2]=a,e[t+28>>2]=S,a=e[t+24>>2]|0}else a=M;while(!1);a=(e[t+32>>2]|0)+(a*12|0)|0,e[a>>2]=e[X+12>>2],e[a+4>>2]=e[X+12+4>>2],e[a+8>>2]=e[X+12+8>>2],a=(e[t+24>>2]|0)+1|0,e[t+24>>2]=a,e[X>>2]=0,e[X+4>>2]=0,e[X+8>>2]=0;do if((a|0)==(e[t+28>>2]|0)){if(S=a|0?a<<1:1,(a|0)>=(S|0))break;if(S?(e[5637]=(e[5637]|0)+1,a=Xe((S*12|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,d=a,a=e[t+24>>2]|0):d=0,(a|0)>0){h=0;do ne=d+(h*12|0)|0,C=(e[t+32>>2]|0)+(h*12|0)|0,e[ne>>2]=e[C>>2],e[ne+4>>2]=e[C+4>>2],e[ne+8>>2]=e[C+8>>2],h=h+1|0;while((h|0)!=(a|0))}a=e[t+32>>2]|0,a|0&&(R[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+32>>2]=0),R[t+36>>0]=1,e[t+32>>2]=d,e[t+28>>2]=S,a=e[t+24>>2]|0}while(!1);if(C=(e[t+32>>2]|0)+(a*12|0)|0,e[C>>2]=e[X>>2],e[C+4>>2]=e[X+4>>2],e[C+8>>2]=e[X+8>>2],e[t+24>>2]=(e[t+24>>2]|0)+1,C=e[t+32>>2]|0,e[E>>2]=M,e[(e[s+8>>2]|0)+20>>2]=M+1,e[C+(M*12|0)+4>>2]=1,e[C+((M+1|0)*12|0)+4>>2]=-1,S=e[s+12>>2]|0,a=e[S+104>>2]|0,(a|0)<0){e[S+104>>2]=u;do if((u|0)==(p|0)){if(d=p|0?p<<1:1,(p|0)>=(d|0)){h=L;break}do if(!d)h=0;else{if(e[5637]=(e[5637]|0)+1,a=Xe((d<<2|3)+16|0)|0,!a){h=0;break}e[(a+4+15&-16)+-4>>2]=a,h=a+4+15&-16}while(!1);if((p|0)<=0){if(!L){p=d;break}}else{a=0;do e[h+(a<<2)>>2]=e[L+(a<<2)>>2],a=a+1|0;while((a|0)!=(p|0))}e[5638]=(e[5638]|0)+1,ye(e[L+-4>>2]|0),p=d}else h=L;while(!1);e[h+(u<<2)>>2]=S,a=u,u=u+1|0}else h=L;e[C+(M*12|0)+8>>2]=a,e[C+((M+1|0)*12|0)+8>>2]=Y,a=e[E>>2]|0}else h=L;if((n|0)>-1?e[(e[t+32>>2]|0)+(a*12|0)>>2]=n-a:o=a,s=e[s>>2]|0,(s|0)==(z|0))break;L=h,n=a}e[(e[t+32>>2]|0)+(o*12|0)>>2]=a-o}if(a=Y+1|0,(a|0)>=(u|0))break;o=e[h+(a<<2)>>2]|0,Y=a,S=h}if((Y|0)>-1)for(E=0;;){if(C=e[(e[h+(E<<2)>>2]|0)+8>>2]|0,C|0){M=C;do{if(S=M+20|0,o=e[S>>2]|0,(o|0)>-1){a=e[t+44>>2]|0;do if((a|0)==(e[t+48>>2]|0)){if(d=a|0?a<<1:1,(a|0)>=(d|0))break;if(d?(e[5637]=(e[5637]|0)+1,o=Xe((d<<2|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+44>>2]|0):o=0,p=e[t+52>>2]|0,(a|0)<=0)p&&(q=173);else{u=0;do e[o+(u<<2)>>2]=e[p+(u<<2)>>2],u=u+1|0;while((u|0)!=(a|0));q=173}(q|0)==173&&(q=0,R[t+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[p+-4>>2]|0)),e[t+52>>2]=0,a=e[t+44>>2]|0),R[t+56>>0]=1,e[t+52>>2]=o,e[t+48>>2]=d,o=e[S>>2]|0}while(!1);e[(e[t+52>>2]|0)+(a<<2)>>2]=o,e[t+44>>2]=(e[t+44>>2]|0)+1,o=M;do e[o+20>>2]=-1,o=e[(e[o+8>>2]|0)+4>>2]|0;while((o|0)!=(M|0))}M=e[M>>2]|0}while((M|0)!=(C|0))}if((E|0)==(Y|0))break;E=E+1|0}h|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0))}DV(X+40|0),H=X}function DV(t){t=t|0;var n=0,s=0;if(n=e[t+92>>2]|0,n|0&&(R[t+96>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+92>>2]=0),R[t+96>>0]=1,e[t+92>>2]=0,e[t+84>>2]=0,e[t+88>>2]=0,n=e[t+64>>2]|0,n|0)do e[t+64>>2]=e[n+8>>2],s=e[n>>2]|0,s|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),n=e[t+64>>2]|0;while((n|0)!=0);if(n=e[t+48>>2]|0,n|0)do e[t+48>>2]=e[n+8>>2],s=e[n>>2]|0,s|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),n=e[t+48>>2]|0;while((n|0)!=0);if(n=e[t+32>>2]|0,!!n)do e[t+32>>2]=e[n+8>>2],s=e[n>>2]|0,s|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),n=e[t+32>>2]|0;while((n|0)!=0)}function IV(){for(var t=0,n=0;;){if(t=Xe(8)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}g2[t&3]()}if((n|0)==5)n=L2(4)|0,e[n>>2]=8308,k2(n|0,2416,215);else if((n|0)==6){e[5649]=t,Cn(t|0,0)|0,e[5639]=16373,e[5640]=0,e[5641]=0,e[5642]=0,e[5643]=0,e[5644]=0,e[5645]=0,e[5646]=0,e[5647]=0,Bf(22556);return}}function Bf(t){t=t|0;var n=0;do e[t+4>>2]=0,i[t+8>>2]=0,n=e[t+24>>2]|0,n|0&&Bf(n),t=e[t+28>>2]|0;while((t|0)!=0)}function Xn(t){t=t|0;var n=0,s=0,o=0,a=0;if(a=H,H=H+16|0,s=e[2006]|0,(e[s>>2]|0)==(t|0))n=s;else{n=e[s+24>>2]|0;e:do if(!n)o=5;else for(;;){if((e[n>>2]|0)==(t|0))break e;if(n=e[n+28>>2]|0,!n){o=5;break}}while(!1);do if((o|0)==5){for(;;){if(n=Xe(36)|0,n|0){o=9;break}if(n=e[5831]|0,e[5831]=n+0,!n){o=8;break}g2[n&3](),o=5}if((o|0)==8)a=L2(4)|0,e[a>>2]=8308,k2(a|0,2416,215);else if((o|0)==9){e[n>>2]=t,e[n+4>>2]=0,e[n+4+4>>2]=0,e[n+4+8>>2]=0,e[n+4+12>>2]=0,e[n+20>>2]=s,e[n+24>>2]=0,e[n+28>>2]=0,e[n+32>>2]=0,Bf(n),e[n+28>>2]=e[s+24>>2],e[s+24>>2]=n;break}}while(!1);e[2006]=n}if(t=n+4|0,e[t>>2]=(e[t>>2]|0)+1,t=n+16|0,o=e[t>>2]|0,e[t>>2]=o+1,o|0){H=a;return}Cn(a|0,0)|0,o=e[5649]|0,e[n+12>>2]=(e[a+4>>2]|0)-(e[o+4>>2]|0)+(((e[a>>2]|0)-(e[o>>2]|0)|0)*1e6|0),H=a}function PV(t,n){t=t|0,n=n|0;for(var s=0,o=0;;){if(s=Xe(80)|0,s|0){o=6;break}if(s=e[5831]|0,e[5831]=s+0,!s){o=5;break}g2[s&3]()}if((o|0)==5)n=L2(4)|0,e[n>>2]=8308,k2(n|0,2416,215);else if((o|0)==6)return i[s+4>>2]=1,ee[s+8>>1]=1,ee[s+10>>1]=-1,e[s>>2]=7848,e[s+12>>2]=e[t>>2],e[s+12+4>>2]=e[t+4>>2],e[s+12+8>>2]=e[t+8>>2],e[s+12+12>>2]=e[t+12>>2],e[s+28>>2]=e[n>>2],e[s+28+4>>2]=e[n+4>>2],e[s+28+8>>2]=e[n+8>>2],e[s+28+12>>2]=e[n+12>>2],e[s+76>>2]=0,s|0;return 0}function LV(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function kV(t){return t=t|0,+ +i[t+4>>2]}function FV(t){return t=t|0,ee[t+8>>1]|0}function BV(t){return t=t|0,ee[t+10>>1]|0}function UV(t){return t=t|0,t+12|0}function OV(t){return t=t|0,t+28|0}function GV(t){return t=t|0,t+44|0}function VV(t){return t=t|0,t+60|0}function zV(t){return t=t|0,+i[t+4>>2]<1|0}function WV(t,n){t=t|0,n=+n,i[t+4>>2]=n}function HV(t,n){t=t|0,n=n|0,ee[t+8>>1]=n}function jV(t,n){t=t|0,n=n|0,ee[t+10>>1]=n}function qV(t,n){t=t|0,n=n|0,e[t+12>>2]=e[n>>2],e[t+12+4>>2]=e[n+4>>2],e[t+12+8>>2]=e[n+8>>2],e[t+12+12>>2]=e[n+12>>2]}function XV(t,n){t=t|0,n=n|0,e[t+28>>2]=e[n>>2],e[t+28+4>>2]=e[n+4>>2],e[t+28+8>>2]=e[n+8>>2],e[t+28+12>>2]=e[n+12>>2]}function $V(t,n){t=t|0,n=n|0,e[t+44>>2]=e[n>>2],e[t+44+4>>2]=e[n+4>>2],e[t+44+8>>2]=e[n+8>>2],e[t+44+12>>2]=e[n+12>>2]}function YV(t,n){t=t|0,n=n|0,e[t+60>>2]=e[n>>2],e[t+60+4>>2]=e[n+4>>2],e[t+60+8>>2]=e[n+8>>2],e[t+60+12>>2]=e[n+12>>2]}function KV(t,n){t=t|0,n=n|0;for(var s=0,o=0;;){if(s=Xe(84)|0,s|0){o=6;break}if(s=e[5831]|0,e[5831]=s+0,!s){o=5;break}g2[s&3]()}if((o|0)==5)n=L2(4)|0,e[n>>2]=8308,k2(n|0,2416,215);else if((o|0)==6)return i[s+4>>2]=1,e[s+8>>2]=0,ee[s+12>>1]=1,ee[s+14>>1]=-1,e[s+16>>2]=0,e[s>>2]=8008,e[s+20>>2]=e[t>>2],e[s+20+4>>2]=e[t+4>>2],e[s+20+8>>2]=e[t+8>>2],e[s+20+12>>2]=e[t+12>>2],e[s+36>>2]=e[n>>2],e[s+36+4>>2]=e[n+4>>2],e[s+36+8>>2]=e[n+8>>2],e[s+36+12>>2]=e[n+12>>2],s|0;return 0}function ZV(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function QV(t){return t=t|0,ee[t+12>>1]|0}function JV(t){return t=t|0,ee[t+14>>1]|0}function ez(t){return t=t|0,e[t+8>>2]|0}function tz(t){return t=t|0,t+52|0}function iz(t){return t=t|0,t+68|0}function nz(t){return t=t|0,t+20|0}function rz(t){return t=t|0,t+36|0}function sz(t){return t=t|0,(e[t+8>>2]|0)!=0|0}function oz(t,n){t=t|0,n=n|0,ee[t+12>>1]=n}function az(t,n){t=t|0,n=n|0,ee[t+14>>1]=n}function cz(t,n){t=t|0,n=n|0,e[t+8>>2]=n}function lz(t,n){t=t|0,n=n|0,e[t+52>>2]=e[n>>2],e[t+52+4>>2]=e[n+4>>2],e[t+52+8>>2]=e[n+8>>2],e[t+52+12>>2]=e[n+12>>2]}function uz(t,n){t=t|0,n=n|0,e[t+68>>2]=e[n>>2],e[t+68+4>>2]=e[n+4>>2],e[t+68+8>>2]=e[n+8>>2],e[t+68+12>>2]=e[n+12>>2]}function fz(t,n){t=t|0,n=n|0,e[t+20>>2]=e[n>>2],e[t+20+4>>2]=e[n+4>>2],e[t+20+8>>2]=e[n+8>>2],e[t+20+12>>2]=e[n+12>>2]}function _z(t,n){t=t|0,n=n|0,e[t+36>>2]=e[n>>2],e[t+36+4>>2]=e[n+4>>2],e[t+36+8>>2]=e[n+8>>2],e[t+36+12>>2]=e[n+12>>2]}function pz(){for(var t=0,n=0;;){if(t=Xe(8)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}g2[t&3]()}if((n|0)==5)n=L2(4)|0,e[n>>2]=8308,k2(n|0,2416,215);else if((n|0)==6)return e[t>>2]=0,e[t+4>>2]=0,ee[t+4>>1]=1,ee[t+6>>1]=-1,e[t>>2]=8036,t|0;return 0}function hz(t){t=t|0}function dz(t){t=t|0,ye(t)}function mz(t,n){return t=t|0,n=n|0,n=e[n+4>>2]|0,(ee[t+6>>1]&(n&65535))<<16>>16?(t=(n>>>16&65535&ee[t+4>>1])<<16>>16!=0,t|0):(t=0,t|0)}function gz(t,n,s,o,a,l,u,p){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,+ +SI(0,t|0,n|0,s|0,o|0,a|0,l|0,u|0,p|0)}function xz(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function yz(t,n,s,o,a,l,u,p){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,+ +t_[e[(e[t>>2]|0)+12>>2]&1](t,n,s,o,a,l,u,p)}function vz(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Sz(t,n,s,o,a,l,u,p){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,+ +t_[e[(e[t>>2]|0)+12>>2]&1](t,n,s,o,a,l,u,p)}function Cz(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Tz(t){return t=t|0,+ +i[t+4>>2]}function wz(t){return t=t|0,ee[t+8>>1]|0}function Mz(t){return t=t|0,ee[t+10>>1]|0}function Rz(t){return t=t|0,+i[t+4>>2]<1|0}function Az(t,n){t=t|0,n=+n,i[t+4>>2]=n}function Ez(t,n){t=t|0,n=n|0,ee[t+8>>1]=n}function Nz(t,n){t=t|0,n=n|0,ee[t+10>>1]=n}function bz(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=+a;for(var l=0,u=0;;){if(l=Xe(44)|0,l|0){u=6;break}if(l=e[5831]|0,e[5831]=l+0,!l){u=5;break}g2[l&3]()}if((u|0)==5)o=L2(4)|0,e[o>>2]=8308,k2(o|0,2416,215);else if((u|0)==6)return e[l>>2]=t,e[l+4>>2]=n,e[l+8>>2]=e[s>>2],e[l+8+4>>2]=e[s+4>>2],e[l+8+8>>2]=e[s+8>>2],e[l+8+12>>2]=e[s+12>>2],e[l+24>>2]=e[o>>2],e[l+24+4>>2]=e[o+4>>2],e[l+24+8>>2]=e[o+8>>2],e[l+24+12>>2]=e[o+12>>2],i[l+40>>2]=a,l|0;return 0}function Dz(t){t=t|0,t&&ye(t)}function Iz(t){return t=t|0,e[t>>2]|0}function Pz(t){return t=t|0,+ +i[t+40>>2]}function Lz(t){return t=t|0,t+8|0}function kz(t){return t=t|0,t+24|0}function Fz(t){return t=t|0,e[t+4>>2]|0}function Bz(t,n){t=t|0,n=n|0,e[t>>2]=n}function Uz(t,n){t=t|0,n=+n,i[t+40>>2]=n}function Oz(t,n){t=t|0,n=n|0,e[t+8>>2]=e[n>>2],e[t+8+4>>2]=e[n+4>>2],e[t+8+8>>2]=e[n+8>>2],e[t+8+12>>2]=e[n+12>>2]}function Gz(t,n){t=t|0,n=n|0,e[t+24>>2]=e[n>>2],e[t+24+4>>2]=e[n+4>>2],e[t+24+8>>2]=e[n+8>>2],e[t+24+12>>2]=e[n+12>>2]}function Vz(t,n){t=t|0,n=n|0,e[t+4>>2]=n}function zz(t){t=t|0,t&&ye(t)}function Wz(t){return t=t|0,e[t>>2]|0}function Hz(t){return t=t|0,e[t+4>>2]|0}function jz(t,n){t=t|0,n=n|0,e[t>>2]=n}function qz(t,n){t=t|0,n=n|0,e[t+4>>2]=n}function Xz(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function $z(t){return t=t|0,ee[t+12>>1]|0}function Yz(t){return t=t|0,ee[t+14>>1]|0}function Kz(t){return t=t|0,e[t+8>>2]|0}function Zz(t){return t=t|0,(e[t+8>>2]|0)!=0|0}function Qz(t,n){t=t|0,n=n|0,ee[t+12>>1]=n}function Jz(t,n){t=t|0,n=n|0,ee[t+14>>1]=n}function eW(t,n){t=t|0,n=n|0,e[t+8>>2]=n}function tW(t){t=t|0,t&&ye(t)}function iW(t){return t=t|0,t|0}function nW(t){return t=t|0,t+16|0}function rW(t){return t=t|0,e[t+88>>2]|0}function sW(t){return t=t|0,t+36|0}function oW(t){return t=t|0,(R[t+84>>0]|0)!=0|0}function aW(t){return t=t|0,+ +i[t+32>>2]}function cW(t){return t=t|0,t+68|0}function lW(t){return t=t|0,t+52|0}function uW(t,n){t=t|0,n=n|0,e[t>>2]=e[n>>2],e[t+4>>2]=e[n+4>>2],e[t+8>>2]=e[n+8>>2],e[t+12>>2]=e[n+12>>2]}function fW(t,n){t=t|0,n=n|0,e[t+16>>2]=e[n>>2],e[t+16+4>>2]=e[n+4>>2],e[t+16+8>>2]=e[n+8>>2],e[t+16+12>>2]=e[n+12>>2]}function _W(t,n){t=t|0,n=n|0,e[t+88>>2]=n}function pW(t,n){t=t|0,n=n|0,e[t+36>>2]=e[n>>2],e[t+36+4>>2]=e[n+4>>2],e[t+36+8>>2]=e[n+8>>2],e[t+36+12>>2]=e[n+12>>2]}function hW(t,n){t=t|0,n=n|0,R[t+84>>0]=n&1}function dW(t,n){t=t|0,n=+n,i[t+32>>2]=n}function mW(t,n){t=t|0,n=n|0,e[t+68>>2]=e[n>>2],e[t+68+4>>2]=e[n+4>>2],e[t+68+8>>2]=e[n+8>>2],e[t+68+12>>2]=e[n+12>>2]}function gW(t,n){t=t|0,n=n|0,e[t+52>>2]=e[n>>2],e[t+52+4>>2]=e[n+4>>2],e[t+52+8>>2]=e[n+8>>2],e[t+52+12>>2]=e[n+12>>2]}function xW(t){t=t|0,t&&ye(t)}function yW(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function vW(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function SW(t,n){t=t|0,n=n|0;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(135)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,Xf(s,t,n,16384,0,0),s|0}function CW(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;return e[5637]=(e[5637]|0)+1,o=Xe(135)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,Xf(o,t,n,s&65535,0,0),o|0}function TW(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;return e[5637]=(e[5637]|0)+1,a=Xe(135)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,Xf(a,t,n,s&65535,o,0),a|0}function wW(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0;return e[5637]=(e[5637]|0)+1,l=Xe(135)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,Xf(l,t,n,s&65535,o,a),l|0}function MW(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function RW(t){t=t|0;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(79)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,dne(n,t),n|0}function AW(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function EW(t){return t=t|0,+ +Ct[e[(e[t>>2]|0)+48>>2]&15](t)}function NW(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function bW(t,n){t=t|0,n=+n,m2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function DW(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function IW(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function PW(t,n){t=t|0,n=n|0;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(99)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,sm(s,t,n,1),s|0}function LW(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;return e[5637]=(e[5637]|0)+1,o=Xe(99)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,sm(o,t,n,s),o|0}function kW(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function FW(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function BW(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function UW(t,n){t=+t,n=+n;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(79)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s+8>>2]=0,e[s+12>>2]=-1,e[s+16>>2]=1065353216,e[s+20>>2]=1065353216,e[s+24>>2]=1065353216,i[s+28>>2]=0,i[s+48>>2]=.03999999910593033,e[s+4>>2]=10,e[s>>2]=4976,e[s+56>>2]=0,i[s+32>>2]=n*.5,i[s+36>>2]=t,i[s+40>>2]=t,i[s+44>>2]=0,s|0}function OW(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function GW(t){return t=t|0,+ +Ct[e[(e[t>>2]|0)+48>>2]&15](t)}function VW(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function zW(t,n){t=t|0,n=+n,m2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function WW(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function HW(t,n){t=+t,n=+n;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(79)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s+8>>2]=0,e[s+12>>2]=-1,e[s+16>>2]=1065353216,e[s+20>>2]=1065353216,e[s+24>>2]=1065353216,i[s+28>>2]=0,i[s+48>>2]=.03999999910593033,e[s+4>>2]=10,e[s>>2]=5076,e[s+56>>2]=2,i[s+32>>2]=t,i[s+36>>2]=t,i[s+40>>2]=n*.5,i[s+44>>2]=0,s|0}function jW(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function qW(t){return t=t|0,+ +Ct[e[(e[t>>2]|0)+48>>2]&15](t)}function XW(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function $W(t,n){t=t|0,n=+n,m2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function YW(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function KW(t,n){t=+t,n=+n;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(79)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s+8>>2]=0,e[s+12>>2]=-1,e[s+16>>2]=1065353216,e[s+20>>2]=1065353216,e[s+24>>2]=1065353216,i[s+28>>2]=0,i[s+48>>2]=.03999999910593033,e[s>>2]=4876,e[s+4>>2]=10,e[s+56>>2]=1,i[s+32>>2]=t,i[s+36>>2]=n*.5,i[s+40>>2]=t,i[s+44>>2]=0,s|0}function ZW(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function QW(t){return t=t|0,+ +Ct[e[(e[t>>2]|0)+48>>2]&15](t)}function JW(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function eH(t,n){t=t|0,n=+n,m2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function tH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function iH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function nH(t){t=t|0;for(var n=0,s=0;;){if(n=Xe(5260)|0,n|0){s=6;break}if(n=e[5831]|0,e[5831]=n+0,!n){s=5;break}g2[n&3]()}if((s|0)==5)t=L2(4)|0,e[t>>2]=8308,k2(t|0,2416,215);else if((s|0)==6)return WK(n,t),n|0;return 0}function rH(t,n){return t=t|0,n=n|0,I0[e[(e[t>>2]|0)+40>>2]&31](t,n)|0}function sH(t){return t=t|0,Tt[e[(e[t>>2]|0)+36>>2]&127](t)|0}function oH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function aH(t){t=t|0,!(e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function cH(t,n){t=t|0,n=n|0,!(!n&&e[t+204>>2]&3|0)&&((e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=1),i[t+220>>2]=0)}function lH(t,n){t=t|0,n=n|0,e[t+216>>2]=n}function uH(t){return t=t|0,e[t+204>>2]|0}function fH(t){return t=t|0,e[t+192>>2]|0}function _H(t){return t=t|0,t+4|0}function pH(t){return t=t|0,t=e[t+216>>2]|0,(t|0)!=5&(t|0)!=2|0}function hH(t){return t=t|0,(e[t+204>>2]&2|0)!=0|0}function dH(t,n){t=t|0,n=n|0,(e[t+216>>2]&-2|0)!=4&&(e[t+216>>2]=n)}function mH(t,n,s){t=t|0,n=n|0,s=s|0,e[t+164>>2]=e[n>>2],e[t+164+4>>2]=e[n+4>>2],e[t+164+8>>2]=e[n+8>>2],e[t+164+12>>2]=e[n+12>>2],+i[n>>2]==1&&+i[n+4>>2]==1&&(s=+i[n+8>>2]!=1?s:0),e[t+180>>2]=s}function gH(t,n){t=t|0,n=+n,i[t+256>>2]=n}function xH(t,n){t=t|0,n=+n,i[t+252>>2]=n}function yH(t,n){t=t|0,n=n|0,e[t+204>>2]=n}function vH(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+8>>2]&127](t,n)}function SH(t,n){t=t|0,n=+n,i[t+184>>2]=n}function CH(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+224>>2]=n}function TH(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+228>>2]=n}function wH(t,n){t=t|0,n=+n,e[t+284>>2]=(e[t+284>>2]|0)+1,i[t+232>>2]=n}function MH(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2],e[t+20>>2]=e[n+16>>2],e[t+20+4>>2]=e[n+16+4>>2],e[t+20+8>>2]=e[n+16+8>>2],e[t+20+12>>2]=e[n+16+12>>2],e[t+36>>2]=e[n+32>>2],e[t+36+4>>2]=e[n+32+4>>2],e[t+36+8>>2]=e[n+32+8>>2],e[t+36+12>>2]=e[n+32+12>>2],e[t+52>>2]=e[n+48>>2],e[t+52+4>>2]=e[n+48+4>>2],e[t+52+8>>2]=e[n+48+8>>2],e[t+52+12>>2]=e[n+48+12>>2]}function RH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function AH(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function EH(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function NH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function bH(t,n){t=t|0,n=n|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,1,-1)}function DH(t,n,s){t=t|0,n=n|0,s=s|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,s,-1)}function IH(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,s,o)}function PH(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,uh(t,n,s,o)}function LH(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;o=H,H=H+48|0,a=e[n+192>>2]|0,Kt[e[(e[a>>2]|0)+8>>2]&127](a,n+4|0,o+32|0,o+16|0),e[o>>2]=3544,e[o+4>>2]=n,e[o+8>>2]=t,e[o+12>>2]=s,t=e[t+68>>2]|0,Kt[e[(e[t>>2]|0)+28>>2]&127](t,o+32|0,o+16|0,o),H=o}function kH(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l,t1(t,n,s,o,a,l)}function FH(t){return t=t|0,e[t+68>>2]|0}function BH(t){return t=t|0,t+28|0}function UH(t){return t=t|0,e[t+24>>2]|0}function OH(t){return t=t|0,t=e[t+68>>2]|0,Tt[e[(e[t>>2]|0)+36>>2]&127](t)|0}function GH(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+32>>2]&127](t,n,s,o)}function VH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function zH(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(g=H,H=H+128|0,e[t+72>>2]=(e[t+72>>2]|0)+1,e[g>>2]=e[n>>2],e[g+4>>2]=e[n+4>>2],e[g+8>>2]=e[n+8>>2],e[g+12>>2]=e[n+12>>2],e[g+16>>2]=e[n+16>>2],e[g+16+4>>2]=e[n+16+4>>2],e[g+16+8>>2]=e[n+16+8>>2],e[g+16+12>>2]=e[n+16+12>>2],e[g+32>>2]=e[n+32>>2],e[g+32+4>>2]=e[n+32+4>>2],e[g+32+8>>2]=e[n+32+8>>2],e[g+32+12>>2]=e[n+32+12>>2],e[g+48>>2]=e[n+48>>2],e[g+48+4>>2]=e[n+48+4>>2],e[g+48+8>>2]=e[n+48+8>>2],e[g+48+12>>2]=e[n+48+12>>2],d=e[s+4>>2]|0,m=+Ct[e[(e[s>>2]|0)+48>>2]&15](s),Kt[e[(e[s>>2]|0)+8>>2]&127](s,n,g+112|0,g+96|0),o=+i[g+112>>2],+i[t+36>>2]>o&&(i[t+36>>2]=o),o=+i[g+96>>2],+i[t+52>>2]<o&&(i[t+52>>2]=o),o=+i[g+112+4>>2],+i[t+40>>2]>o&&(i[t+40>>2]=o),o=+i[g+96+4>>2],+i[t+56>>2]<o&&(i[t+56>>2]=o),o=+i[g+112+8>>2],+i[t+44>>2]>o&&(i[t+44>>2]=o),o=+i[g+96+8>>2],+i[t+60>>2]<o&&(i[t+60>>2]=o),p=e[t+68>>2]|0,!p)p=t+20|0,u=0;else{if(e[g+64>>2]=e[g+112>>2],e[g+64+4>>2]=e[g+112+4>>2],e[g+64+8>>2]=e[g+112+8>>2],e[g+64+12>>2]=e[g+112+12>>2],e[g+64+16>>2]=e[g+96>>2],e[g+64+16+4>>2]=e[g+96+4>>2],e[g+64+16+8>>2]=e[g+96+8>>2],e[g+64+16+12>>2]=e[g+96+12>>2],u=e[t+20>>2]|0,n=e[p+4>>2]|0,n)e[p+4>>2]=0;else{e[5637]=(e[5637]|0)+1,n=Xe(63)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,a=n,l=a+44|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(l|0))}e[n+32>>2]=0,e[n+36>>2]=u,e[n+40>>2]=0,e[n>>2]=e[g+64>>2],e[n+4>>2]=e[g+64+4>>2],e[n+8>>2]=e[g+64+8>>2],e[n+12>>2]=e[g+64+12>>2],e[n+16>>2]=e[g+64+16>>2],e[n+20>>2]=e[g+64+20>>2],e[n+24>>2]=e[g+64+24>>2],e[n+28>>2]=e[g+64+28>>2],U1(p,e[p>>2]|0,n),e[p+12>>2]=(e[p+12>>2]|0)+1,p=t+20|0,u=n}if(n=e[p>>2]|0,(n|0)==(e[t+24>>2]|0)&&(h=n|0?n<<1:1,(n|0)<(h|0))){if(h?(e[5637]=(e[5637]|0)+1,n=Xe((h*80|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,l=n,n=e[p>>2]|0):l=0,(n|0)>0){a=0;do S=l+(a*80|0)|0,C=e[t+28>>2]|0,w=C+(a*80|0)|0,e[S>>2]=e[w>>2],e[S+4>>2]=e[w+4>>2],e[S+8>>2]=e[w+8>>2],e[S+12>>2]=e[w+12>>2],S=l+(a*80|0)+16|0,w=C+(a*80|0)+16|0,e[S>>2]=e[w>>2],e[S+4>>2]=e[w+4>>2],e[S+8>>2]=e[w+8>>2],e[S+12>>2]=e[w+12>>2],S=l+(a*80|0)+32|0,w=C+(a*80|0)+32|0,e[S>>2]=e[w>>2],e[S+4>>2]=e[w+4>>2],e[S+8>>2]=e[w+8>>2],e[S+12>>2]=e[w+12>>2],S=l+(a*80|0)+48|0,w=C+(a*80|0)+48|0,e[S>>2]=e[w>>2],e[S+4>>2]=e[w+4>>2],e[S+8>>2]=e[w+8>>2],e[S+12>>2]=e[w+12>>2],S=l+(a*80|0)+64|0,C=C+(a*80|0)+64|0,e[S>>2]=e[C>>2],e[S+4>>2]=e[C+4>>2],e[S+8>>2]=e[C+8>>2],e[S+12>>2]=e[C+12>>2],a=a+1|0;while((a|0)!=(n|0))}n=e[t+28>>2]|0,n|0&&(R[t+32>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+28>>2]=0),R[t+32>>0]=1,e[t+28>>2]=l,e[t+24>>2]=h,n=e[p>>2]|0}w=e[t+28>>2]|0,C=w+(n*80|0)|0,e[C>>2]=e[g>>2],e[C+4>>2]=e[g+4>>2],e[C+8>>2]=e[g+8>>2],e[C+12>>2]=e[g+12>>2],C=w+(n*80|0)+16|0,e[C>>2]=e[g+16>>2],e[C+4>>2]=e[g+16+4>>2],e[C+8>>2]=e[g+16+8>>2],e[C+12>>2]=e[g+16+12>>2],C=w+(n*80|0)+32|0,e[C>>2]=e[g+32>>2],e[C+4>>2]=e[g+32+4>>2],e[C+8>>2]=e[g+32+8>>2],e[C+12>>2]=e[g+32+12>>2],C=w+(n*80|0)+48|0,e[C>>2]=e[g+48>>2],e[C+4>>2]=e[g+48+4>>2],e[C+8>>2]=e[g+48+8>>2],e[C+12>>2]=e[g+48+12>>2],w=w+(n*80|0)+64|0,e[w>>2]=s,e[w+4>>2]=d,i[w+8>>2]=m,e[w+12>>2]=u,e[p>>2]=(e[p>>2]|0)+1,H=g}function WH(){var t=0;return e[5637]=(e[5637]|0)+1,t=Xe(115)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,k6(t,1,0),t|0}function HH(t){t=t|0;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(115)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,k6(n,t,0),n|0}function jH(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function qH(t,n){return t=t|0,n=n|0,e[(e[t+28>>2]|0)+(n*80|0)+64>>2]|0}function XH(t){return t=t|0,+ +Ct[e[(e[t>>2]|0)+48>>2]&15](t)}function $H(t){return t=t|0,e[t+20>>2]|0}function YH(t,n){t=t|0,n=n|0,L6(t,n)}function KH(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function ZH(t,n){t=t|0,n=+n,m2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function QH(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function JH(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function ej(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function tj(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function ij(t,n){t=+t,n=+n;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(99)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s+8>>2]=0,e[s+12>>2]=-1,e[s+16>>2]=1065353216,e[s+20>>2]=1065353216,e[s+24>>2]=1065353216,i[s+28>>2]=0,i[s+48>>2]=.03999999910593033,i[s+60>>2]=t,i[s+64>>2]=n,e[s+4>>2]=11,i[s+56>>2]=t/+ot(+(t*t+n*n)),e[s>>2]=5456,e[s+68>>2]=1,e[s+72>>2]=0,e[s+76>>2]=2,i[s+36>>2]=t,i[s+32>>2]=n,i[s+40>>2]=t,s|0}function nj(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function rj(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function sj(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function oj(t,n){t=+t,n=+n;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(99)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s+8>>2]=0,e[s+12>>2]=-1,e[s+16>>2]=1065353216,e[s+20>>2]=1065353216,e[s+24>>2]=1065353216,i[s+28>>2]=0,i[s+48>>2]=.03999999910593033,i[s+60>>2]=t,i[s+64>>2]=n,e[s+4>>2]=11,i[s+56>>2]=t/+ot(+(t*t+n*n)),e[s>>2]=5356,e[s+68>>2]=0,e[s+72>>2]=2,e[s+76>>2]=1,i[s+32>>2]=t,i[s+40>>2]=n,i[s+36>>2]=t,s|0}function aj(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function cj(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function lj(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function uj(t,n){t=+t,n=+n;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(99)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s+8>>2]=0,e[s+12>>2]=-1,e[s+16>>2]=1065353216,e[s+20>>2]=1065353216,e[s+24>>2]=1065353216,i[s+28>>2]=0,i[s+48>>2]=.03999999910593033,e[s>>2]=5256,i[s+60>>2]=t,i[s+64>>2]=n,e[s+4>>2]=11,e[s+68>>2]=0,e[s+72>>2]=1,e[s+76>>2]=2,i[s+32>>2]=t,i[s+36>>2]=n,i[s+40>>2]=t,i[s+56>>2]=t/+ot(+(t*t+n*n)),s|0}function fj(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function _j(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function pj(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function hj(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;return e[5637]=(e[5637]|0)+1,s=Xe(627)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,th(s,5,t),e[s>>2]=7132,a=s+300|0,e[a>>2]=e[n>>2],e[a+4>>2]=e[n+4>>2],e[a+8>>2]=e[n+8>>2],e[a+12>>2]=e[n+12>>2],o=s+316|0,e[o>>2]=e[n+16>>2],e[o+4>>2]=e[n+16+4>>2],e[o+8>>2]=e[n+16+8>>2],e[o+12>>2]=e[n+16+12>>2],t=s+332|0,e[t>>2]=e[n+32>>2],e[t+4>>2]=e[n+32+4>>2],e[t+8>>2]=e[n+32+8>>2],e[t+12>>2]=e[n+32+12>>2],l=s+348|0,e[l>>2]=e[n+48>>2],e[l+4>>2]=e[n+48+4>>2],e[l+8>>2]=e[n+48+8>>2],e[l+12>>2]=e[n+48+12>>2],n=s+364|0,R[s+527>>0]=0,e[n>>2]=e[a>>2],e[n+4>>2]=e[a+4>>2],e[n+8>>2]=e[a+8>>2],e[n+12>>2]=e[a+12>>2],n=s+380|0,e[n>>2]=e[o>>2],e[n+4>>2]=e[o+4>>2],e[n+8>>2]=e[o+8>>2],e[n+12>>2]=e[o+12>>2],n=s+396|0,e[n>>2]=e[t>>2],e[n+4>>2]=e[t+4>>2],e[n+8>>2]=e[t+8>>2],e[n+12>>2]=e[t+12>>2],n=s+412|0,R[s+524>>0]=0,R[s+525>>0]=0,R[s+526>>0]=0,R[s+552>>0]=0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,i[s+572>>2]=-1,i[s+444>>2]=0xde0b6b000000000,i[s+448>>2]=0xde0b6b000000000,i[s+452>>2]=0xde0b6b000000000,i[s+428>>2]=1,i[s+432>>2]=.30000001192092896,i[s+436>>2]=1,i[s+440>>2]=.009999999776482582,i[s+456>>2]=.05000000074505806,e[s+592>>2]=0,i[s+596>>2]=0,i[s+600>>2]=.699999988079071,i[s+604>>2]=0,s|0}function dj(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;return e[5637]=(e[5637]|0)+1,a=Xe(627)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[a+4>>2]=5,e[a+8>>2]=-1,e[a+12>>2]=-1,i[a+16>>2]=34028234663852886e22,R[a+20>>0]=1,R[a+21>>0]=0,e[a+24>>2]=-1,e[a+28>>2]=t,e[a+32>>2]=n,i[a+36>>2]=0,i[a+40>>2]=.30000001192092896,e[a+44>>2]=0,e[a>>2]=7132,n=a+300|0,e[n>>2]=e[s>>2],e[n+4>>2]=e[s+4>>2],e[n+8>>2]=e[s+8>>2],e[n+12>>2]=e[s+12>>2],n=a+316|0,e[n>>2]=e[s+16>>2],e[n+4>>2]=e[s+16+4>>2],e[n+8>>2]=e[s+16+8>>2],e[n+12>>2]=e[s+16+12>>2],n=a+332|0,e[n>>2]=e[s+32>>2],e[n+4>>2]=e[s+32+4>>2],e[n+8>>2]=e[s+32+8>>2],e[n+12>>2]=e[s+32+12>>2],n=a+348|0,e[n>>2]=e[s+48>>2],e[n+4>>2]=e[s+48+4>>2],e[n+8>>2]=e[s+48+8>>2],e[n+12>>2]=e[s+48+12>>2],s=a+364|0,e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],e[s+12>>2]=e[o+12>>2],s=a+380|0,e[s>>2]=e[o+16>>2],e[s+4>>2]=e[o+16+4>>2],e[s+8>>2]=e[o+16+8>>2],e[s+12>>2]=e[o+16+12>>2],s=a+396|0,e[s>>2]=e[o+32>>2],e[s+4>>2]=e[o+32+4>>2],e[s+8>>2]=e[o+32+8>>2],e[s+12>>2]=e[o+32+12>>2],s=a+412|0,e[s>>2]=e[o+48>>2],e[s+4>>2]=e[o+48+4>>2],e[s+8>>2]=e[o+48+8>>2],e[s+12>>2]=e[o+48+12>>2],R[a+552>>0]=0,e[a+524>>2]=0,i[a+572>>2]=-1,i[a+444>>2]=0xde0b6b000000000,i[a+448>>2]=0xde0b6b000000000,i[a+452>>2]=0xde0b6b000000000,i[a+428>>2]=1,i[a+432>>2]=.30000001192092896,i[a+436>>2]=1,i[a+440>>2]=.009999999776482582,i[a+456>>2]=.05000000074505806,e[a+592>>2]=0,i[a+596>>2]=0,i[a+600>>2]=.699999988079071,i[a+604>>2]=0,a|0}function mj(t,n){t=t|0,n=n|0,R[t+21>>0]=n&1}function gj(t,n){t=t|0,n=n|0,R[t+552>>0]=n&1}function xj(t){return t=t|0,+ +i[t+16>>2]}function yj(t,n){t=t|0,n=n|0,R[t+524>>0]=n&1}function vj(t,n){t=t|0,n=+n,i[t+16>>2]=n}function Sj(t,n){t=t|0,n=+n,i[t+440>>2]=n}function Cj(t,n,s){switch(t=t|0,n=n|0,s=+s,n|0){case 3:{i[t+452>>2]=s;return}case 4:{i[t+448>>2]=s;return}case 5:{i[t+444>>2]=s;return}default:return}}function Tj(t,n){t=t|0,n=+n,i[t+572>>2]=n,R[t+553>>0]=1}function wj(t,n){t=t|0,n=+n,i[t+572>>2]=n,R[t+553>>0]=0}function Mj(t,n){t=t|0,n=n|0,j6(t,n)}function Rj(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;s=H,H=H+48|0,ds(t+364|0,s+16|0),u=-+i[s+16>>2],a=-+i[s+16+4>>2],m=-+i[s+16+8>>2],d=+i[s+16+12>>2],l=+i[n>>2],g=+i[n+12>>2],h=+i[n+8>>2],p=+i[n+4>>2],ds(t+300|0,s),C=+i[s>>2],w=+i[s+12>>2],o=+i[s+8>>2],S=+i[s+4>>2],i[s+32>>2]=C*(d*g-l*u-p*a-h*m)+(d*l+g*u+h*a-p*m)*w+(l*m+(g*a+d*p)-h*u)*o-(g*m+d*h+p*u-l*a)*S,i[s+32+4>>2]=C*(g*m+d*h+p*u-l*a)+(w*(l*m+(g*a+d*p)-h*u)+(d*g-l*u-p*a-h*m)*S)-(d*l+g*u+h*a-p*m)*o,i[s+32+8>>2]=w*(g*m+d*h+p*u-l*a)+(d*g-l*u-p*a-h*m)*o+(d*l+g*u+h*a-p*m)*S-C*(l*m+(g*a+d*p)-h*u),i[s+32+12>>2]=(d*g-l*u-p*a-h*m)*w-C*(d*l+g*u+h*a-p*m)-(l*m+(g*a+d*p)-h*u)*S-(g*m+d*h+p*u-l*a)*o,j6(t,s+32|0),H=s}function Aj(t){t=t|0,t&&ye(t)}function Ej(){for(var t=0,n=0;;){if(t=Xe(12)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}g2[t&3]()}if((n|0)==5)n=L2(4)|0,e[n>>2]=8308,k2(n|0,2416,215);else if((n|0)==6)return i[t>>2]=.30000001192092896,i[t+4>>2]=1,i[t+8>>2]=0,t|0;return 0}function Nj(t){return t=t|0,+ +i[t+4>>2]}function bj(t){return t=t|0,+ +i[t+8>>2]}function Dj(t){return t=t|0,+ +i[t>>2]}function Ij(t,n){t=t|0,n=+n,i[t+4>>2]=n}function Pj(t,n){t=t|0,n=+n,i[t+8>>2]=n}function Lj(t,n){t=t|0,n=+n,i[t>>2]=n}function kj(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Fj(t){t=t|0,t&&ye(t)}function Bj(t){return t=t|0,~~+i[t+48>>2]|0}function Uj(t){return t=t|0,(e[t+44>>2]|0)!=0|0}function Oj(t,n){t=t|0,n=n|0,i[t+48>>2]=+(n|0)}function Gj(t,n){t=t|0,n=n|0,e[t+44>>2]=n&1}function Vj(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function zj(t,n){t=t|0,n=n|0,F6(t,n,1)}function Wj(t,n,s){t=t|0,n=n|0,s=s|0,F6(t,n,s)}function Hj(){var t=0;return e[5637]=(e[5637]|0)+1,t=Xe(135)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,$J(t,0,0,16),t|0}function jj(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function qj(t){return t=t|0,+ +Ct[e[(e[t>>2]|0)+48>>2]&15](t)}function Xj(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function $j(t,n){t=t|0,n=+n,m2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function Yj(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Kj(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function Zj(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function Qj(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Jj(t){t=t|0;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(119)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,O6(n,t,1),n|0}function eq(t,n){t=t|0,n=n|0;var s=0;return e[5637]=(e[5637]|0)+1,s=Xe(119)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,O6(s,t,n),s|0}function tq(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function iq(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function nq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function rq(t){t=t|0;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(79)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,ph(n,t),e[n>>2]=5960,e[n+56>>2]=0,n|0}function sq(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function oq(t){return t=t|0,+ +Ct[e[(e[t>>2]|0)+48>>2]&15](t)}function aq(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function cq(t,n){t=t|0,n=+n,m2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function lq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function uq(t){t=t|0;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(79)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,ph(n,t),e[n>>2]=6064,e[n+56>>2]=2,n|0}function fq(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function _q(t){return t=t|0,+ +Ct[e[(e[t>>2]|0)+48>>2]&15](t)}function pq(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function hq(t,n){t=t|0,n=+n,m2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function dq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function mq(t){t=t|0;var n=0;return e[5637]=(e[5637]|0)+1,n=Xe(79)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,ph(n,t),n|0}function gq(t,n,s){t=t|0,n=+n,s=s|0,F2[e[(e[t>>2]|0)+32>>2]&15](t,n,s)}function xq(t){return t=t|0,+ +Ct[e[(e[t>>2]|0)+48>>2]&15](t)}function yq(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+24>>2]&127](t,n)}function vq(t,n){t=t|0,n=+n,m2[e[(e[t>>2]|0)+44>>2]&31](t,n)}function Sq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Cq(){for(var t=0,n=0;;){if(t=Xe(196)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}g2[t&3]()}if((n|0)==5)n=L2(4)|0,e[n>>2]=8308,k2(n|0,2416,215);else if((n|0)==6)return _m(t,0),t|0;return 0}function Tq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function wq(){var t=0,n=0,s=0;for(s=H,H=H+32|0;;){if(t=Xe(92)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}g2[t&3]()}if((n|0)==5)s=L2(4)|0,e[s>>2]=8308,k2(s|0,2416,215);else if((n|0)==6)return e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=4096,e[s+12>>2]=4096,e[s+16>>2]=0,e[s+20>>2]=1,Z6(t,s),H=s,t|0;return 0}function Mq(t){t=t|0;for(var n=0,s=0;;){if(n=Xe(92)|0,n|0){s=6;break}if(n=e[5831]|0,e[5831]=n+0,!n){s=5;break}g2[n&3]()}if((s|0)==5)t=L2(4)|0,e[t>>2]=8308,k2(t|0,2416,215);else if((s|0)==6)return Z6(n,t),n|0;return 0}function Rq(t){t=t|0,t&&ye(t)}function Aq(){for(var t=0,n=0;;){if(t=Xe(24)|0,t|0){n=6;break}if(t=e[5831]|0,e[5831]=t+0,!t){n=5;break}g2[t&3]()}if((n|0)==5)n=L2(4)|0,e[n>>2]=8308,k2(n|0,2416,215);else if((n|0)==6)return e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=4096,e[t+12>>2]=4096,e[t+16>>2]=0,e[t+20>>2]=1,t|0;return 0}function Eq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Nq(){var t=0,n=0;return e[5637]=(e[5637]|0)+1,t=Xe(219)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,R[19848]|0||(R[19848]=1,R[19856]|0||(R[19856]=1,e[5017]=1065353216,e[5018]=0,e[5019]=0,e[5020]=0,e[5021]=0,e[5022]=1065353216,e[5023]=0,e[5024]=0,e[5025]=0,e[5026]=0,e[5027]=1065353216,i[5028]=0),e[5029]=e[5017],e[5030]=e[5018],e[5031]=e[5019],e[5032]=e[5020],e[5033]=e[5021],e[5034]=e[5022],e[5035]=e[5023],e[5036]=e[5024],e[5037]=e[5025],e[5038]=e[5026],e[5039]=e[5027],e[5040]=e[5028],e[5041]=0,e[5042]=0,e[5043]=0,e[5044]=0),R[19848]|0||(R[19848]=1,R[19856]|0||(R[19856]=1,e[5017]=1065353216,e[5018]=0,e[5019]=0,e[5020]=0,e[5021]=0,e[5022]=1065353216,e[5023]=0,e[5024]=0,e[5025]=0,e[5026]=0,e[5027]=1065353216,i[5028]=0),e[5029]=e[5017],e[5030]=e[5018],e[5031]=e[5019],e[5032]=e[5020],e[5033]=e[5021],e[5034]=e[5022],e[5035]=e[5023],e[5036]=e[5024],e[5037]=e[5025],e[5038]=e[5026],e[5039]=e[5027],e[5040]=e[5028],e[5041]=0,e[5042]=0,e[5043]=0,e[5044]=0),e[t>>2]=8060,n=t+4|0,e[n>>2]=e[5029],e[n+4>>2]=e[5030],e[n+8>>2]=e[5031],e[n+12>>2]=e[5032],n=t+20|0,e[n>>2]=e[5033],e[n+4>>2]=e[5034],e[n+8>>2]=e[5035],e[n+12>>2]=e[5036],n=t+36|0,e[n>>2]=e[5037],e[n+4>>2]=e[5038],e[n+8>>2]=e[5039],e[n+12>>2]=e[5040],n=t+52|0,e[n>>2]=e[5041],e[n+4>>2]=e[5042],e[n+8>>2]=e[5043],e[n+12>>2]=e[5044],n=t+68|0,e[n>>2]=e[5029],e[n+4>>2]=e[5030],e[n+8>>2]=e[5031],e[n+12>>2]=e[5032],n=t+84|0,e[n>>2]=e[5033],e[n+4>>2]=e[5034],e[n+8>>2]=e[5035],e[n+12>>2]=e[5036],n=t+100|0,e[n>>2]=e[5037],e[n+4>>2]=e[5038],e[n+8>>2]=e[5039],e[n+12>>2]=e[5040],n=t+116|0,e[n>>2]=e[5041],e[n+4>>2]=e[5042],e[n+8>>2]=e[5043],e[n+12>>2]=e[5044],n=t+132|0,e[n>>2]=e[5029],e[n+4>>2]=e[5030],e[n+8>>2]=e[5031],e[n+12>>2]=e[5032],n=t+148|0,e[n>>2]=e[5033],e[n+4>>2]=e[5034],e[n+8>>2]=e[5035],e[n+12>>2]=e[5036],n=t+164|0,e[n>>2]=e[5037],e[n+4>>2]=e[5038],e[n+8>>2]=e[5039],e[n+12>>2]=e[5040],n=t+180|0,e[n>>2]=e[5041],e[n+4>>2]=e[5042],e[n+8>>2]=e[5043],e[n+12>>2]=e[5044],e[t+196>>2]=0,t|0}function bq(t){t=t|0}function Dq(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Iq(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0;E=+i[t+68>>2],C=+i[t+84>>2],m=+i[t+100>>2],M=+i[t+72>>2],S=+i[t+88>>2],h=+i[t+104>>2],w=+i[t+76>>2],g=+i[t+92>>2],u=+i[t+108>>2],G=-+i[t+116>>2],U=-+i[t+120>>2],s=-+i[t+124>>2],P=+i[t+4>>2],F=+i[t+8>>2],L=+i[t+12>>2],B=+i[t+20>>2],b=+i[t+24>>2],D=+i[t+28>>2],d=+i[t+36>>2],p=+i[t+40>>2],l=+i[t+44>>2],a=P*(E*G+C*U+m*s)+(M*G+S*U+h*s)*F+(w*G+g*U+u*s)*L+ +i[t+52>>2],o=(E*G+C*U+m*s)*B+(M*G+S*U+h*s)*b+(w*G+g*U+u*s)*D+ +i[t+56>>2],s=(E*G+C*U+m*s)*d+(M*G+S*U+h*s)*p+(w*G+g*U+u*s)*l+ +i[t+60>>2],i[n>>2]=E*P+M*F+w*L,i[n+4>>2]=C*P+S*F+g*L,i[n+8>>2]=m*P+h*F+u*L,i[n+12>>2]=0,i[n+16>>2]=E*B+M*b+w*D,i[n+20>>2]=C*B+S*b+g*D,i[n+24>>2]=m*B+h*b+u*D,i[n+28>>2]=0,i[n+32>>2]=E*d+M*p+w*l,i[n+36>>2]=C*d+S*p+g*l,i[n+40>>2]=m*d+h*p+u*l,i[n+44>>2]=0,i[n+48>>2]=a,i[n+52>>2]=o,i[n+56>>2]=s,i[n+60>>2]=0}function Pq(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0;E=+i[t+68>>2],P=+i[n>>2],M=+i[t+84>>2],F=+i[n+4>>2],w=+i[t+100>>2],L=+i[n+8>>2],C=+i[t+72>>2],S=+i[t+88>>2],g=+i[t+104>>2],m=+i[t+76>>2],h=+i[t+92>>2],u=+i[t+108>>2],B=+i[n+16>>2],b=+i[n+20>>2],D=+i[n+24>>2],d=+i[n+32>>2],p=+i[n+36>>2],l=+i[n+40>>2],G=+i[t+116>>2],U=+i[t+120>>2],s=+i[t+124>>2],a=+i[n+48>>2]+(P*G+F*U+L*s),o=B*G+b*U+D*s+ +i[n+52>>2],s=d*G+p*U+l*s+ +i[n+56>>2],i[t+4>>2]=E*P+M*F+w*L,i[t+8>>2]=P*C+F*S+L*g,i[t+12>>2]=P*m+F*h+L*u,i[t+16>>2]=0,i[t+20>>2]=E*B+M*b+w*D,i[t+24>>2]=C*B+S*b+g*D,i[t+28>>2]=m*B+h*b+u*D,i[t+32>>2]=0,i[t+36>>2]=E*d+M*p+w*l,i[t+40>>2]=C*d+S*p+g*l,i[t+44>>2]=m*d+h*p+u*l,i[t+48>>2]=0,i[t+52>>2]=a,i[t+56>>2]=o,i[t+60>>2]=s,i[t+64>>2]=0}function Lq(t){t=t|0;var n=0,s=0;return e[5637]=(e[5637]|0)+1,n=Xe(219)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,R[19848]|0||(R[19848]=1,R[19856]|0||(R[19856]=1,e[5017]=1065353216,e[5018]=0,e[5019]=0,e[5020]=0,e[5021]=0,e[5022]=1065353216,e[5023]=0,e[5024]=0,e[5025]=0,e[5026]=0,e[5027]=1065353216,i[5028]=0),e[5029]=e[5017],e[5030]=e[5018],e[5031]=e[5019],e[5032]=e[5020],e[5033]=e[5021],e[5034]=e[5022],e[5035]=e[5023],e[5036]=e[5024],e[5037]=e[5025],e[5038]=e[5026],e[5039]=e[5027],e[5040]=e[5028],e[5041]=0,e[5042]=0,e[5043]=0,e[5044]=0),e[n>>2]=8060,s=n+4|0,e[s>>2]=e[t>>2],e[s+4>>2]=e[t+4>>2],e[s+8>>2]=e[t+8>>2],e[s+12>>2]=e[t+12>>2],s=n+20|0,e[s>>2]=e[t+16>>2],e[s+4>>2]=e[t+16+4>>2],e[s+8>>2]=e[t+16+8>>2],e[s+12>>2]=e[t+16+12>>2],s=n+36|0,e[s>>2]=e[t+32>>2],e[s+4>>2]=e[t+32+4>>2],e[s+8>>2]=e[t+32+8>>2],e[s+12>>2]=e[t+32+12>>2],s=n+52|0,e[s>>2]=e[t+48>>2],e[s+4>>2]=e[t+48+4>>2],e[s+8>>2]=e[t+48+8>>2],e[s+12>>2]=e[t+48+12>>2],s=n+68|0,e[s>>2]=e[5029],e[s+4>>2]=e[5030],e[s+8>>2]=e[5031],e[s+12>>2]=e[5032],s=n+84|0,e[s>>2]=e[5033],e[s+4>>2]=e[5034],e[s+8>>2]=e[5035],e[s+12>>2]=e[5036],s=n+100|0,e[s>>2]=e[5037],e[s+4>>2]=e[5038],e[s+8>>2]=e[5039],e[s+12>>2]=e[5040],s=n+116|0,e[s>>2]=e[5041],e[s+4>>2]=e[5042],e[s+8>>2]=e[5043],e[s+12>>2]=e[5044],s=n+132|0,e[s>>2]=e[t>>2],e[s+4>>2]=e[t+4>>2],e[s+8>>2]=e[t+8>>2],e[s+12>>2]=e[t+12>>2],s=n+148|0,e[s>>2]=e[t+16>>2],e[s+4>>2]=e[t+16+4>>2],e[s+8>>2]=e[t+16+8>>2],e[s+12>>2]=e[t+16+12>>2],s=n+164|0,e[s>>2]=e[t+32>>2],e[s+4>>2]=e[t+32+4>>2],e[s+8>>2]=e[t+32+8>>2],e[s+12>>2]=e[t+32+12>>2],s=n+180|0,e[s>>2]=e[t+48>>2],e[s+4>>2]=e[t+48+4>>2],e[s+8>>2]=e[t+48+8>>2],e[s+12>>2]=e[t+48+12>>2],e[n+196>>2]=0,n|0}function kq(t,n){t=t|0,n=n|0;var s=0,o=0;return e[5637]=(e[5637]|0)+1,s=Xe(219)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s>>2]=8060,o=s+4|0,e[o>>2]=e[t>>2],e[o+4>>2]=e[t+4>>2],e[o+8>>2]=e[t+8>>2],e[o+12>>2]=e[t+12>>2],o=s+20|0,e[o>>2]=e[t+16>>2],e[o+4>>2]=e[t+16+4>>2],e[o+8>>2]=e[t+16+8>>2],e[o+12>>2]=e[t+16+12>>2],o=s+36|0,e[o>>2]=e[t+32>>2],e[o+4>>2]=e[t+32+4>>2],e[o+8>>2]=e[t+32+8>>2],e[o+12>>2]=e[t+32+12>>2],o=s+52|0,e[o>>2]=e[t+48>>2],e[o+4>>2]=e[t+48+4>>2],e[o+8>>2]=e[t+48+8>>2],e[o+12>>2]=e[t+48+12>>2],o=s+68|0,e[o>>2]=e[n>>2],e[o+4>>2]=e[n+4>>2],e[o+8>>2]=e[n+8>>2],e[o+12>>2]=e[n+12>>2],o=s+84|0,e[o>>2]=e[n+16>>2],e[o+4>>2]=e[n+16+4>>2],e[o+8>>2]=e[n+16+8>>2],e[o+12>>2]=e[n+16+12>>2],o=s+100|0,e[o>>2]=e[n+32>>2],e[o+4>>2]=e[n+32+4>>2],e[o+8>>2]=e[n+32+8>>2],e[o+12>>2]=e[n+32+12>>2],o=s+116|0,e[o>>2]=e[n+48>>2],e[o+4>>2]=e[n+48+4>>2],e[o+8>>2]=e[n+48+8>>2],e[o+12>>2]=e[n+48+12>>2],n=s+132|0,e[n>>2]=e[t>>2],e[n+4>>2]=e[t+4>>2],e[n+8>>2]=e[t+8>>2],e[n+12>>2]=e[t+12>>2],n=s+148|0,e[n>>2]=e[t+16>>2],e[n+4>>2]=e[t+16+4>>2],e[n+8>>2]=e[t+16+8>>2],e[n+12>>2]=e[t+16+12>>2],n=s+164|0,e[n>>2]=e[t+32>>2],e[n+4>>2]=e[t+32+4>>2],e[n+8>>2]=e[t+32+8>>2],e[n+12>>2]=e[t+32+12>>2],n=s+180|0,e[n>>2]=e[t+48>>2],e[n+4>>2]=e[t+48+4>>2],e[n+8>>2]=e[t+48+8>>2],e[n+12>>2]=e[t+48+12>>2],e[s+196>>2]=0,s|0}function Fq(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+8>>2]&127](t,n)}function Bq(t){return t=t|0,t+4|0}function Uq(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+12>>2]&127](t,n)}function Oq(t,n){t=t|0,n=n|0,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2],e[t+20>>2]=e[n+16>>2],e[t+20+4>>2]=e[n+16+4>>2],e[t+20+8>>2]=e[n+16+8>>2],e[t+20+12>>2]=e[n+16+12>>2],e[t+36>>2]=e[n+32>>2],e[t+36+4>>2]=e[n+32+4>>2],e[t+36+8>>2]=e[n+32+8>>2],e[t+36+12>>2]=e[n+32+12>>2],e[t+52>>2]=e[n+48>>2],e[t+52+4>>2]=e[n+48+4>>2],e[t+52+8>>2]=e[n+48+8>>2],e[t+52+12>>2]=e[n+48+12>>2]}function Gq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Vq(t){t=t|0;for(var n=0,s=0;;){if(n=Xe(8)|0,n|0){s=6;break}if(n=e[5831]|0,e[5831]=n+0,!n){s=5;break}g2[n&3]()}if((s|0)==5)t=L2(4)|0,e[t>>2]=8308,k2(t|0,2416,215);else if((s|0)==6)return e[n>>2]=7988,e[n+4>>2]=t,n|0;return 0}function zq(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function Wq(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+64>>2]&127](t,n)}function Hq(t,n){t=t|0,n=n|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,2,-3)}function jq(t,n,s){t=t|0,n=n|0,s=s|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,s,-3)}function qq(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,s,o)}function Xq(t,n){t=t|0,n=n|0,f0[e[(e[t>>2]|0)+56>>2]&127](t,n,0)}function $q(t,n,s){t=t|0,n=n|0,s=s|0,f0[e[(e[t>>2]|0)+56>>2]&127](t,n,s)}function Yq(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+84>>2]&127](t,n)}function Kq(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+88>>2]&127](t,n,s,o)}function Zq(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0;return e[5637]=(e[5637]|0)+1,o=Xe(343)|0,o?(e[(o+4+15&-16)+-4>>2]=o,l=o+4+15&-16):l=0,R[l+20>>0]=1,e[l+16>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,e[l+24>>2]=t,i[l+28>>2]=0,e[l+32>>2]=0,e[l+36>>2]=1,i[l+40>>2]=1,R[l+44>>0]=1,e[l+48>>2]=0,R[l+52>>0]=0,R[l+53>>0]=1,R[l+54>>0]=1,i[l+56>>2]=.03999999910593033,R[l+60>>0]=0,i[l+64>>2]=0,e[l+68>>2]=n,e[l+72>>2]=0,R[l+76>>0]=1,e[l+80>>2]=0,e[l+84>>2]=0,e[l+88>>2]=0,i[l+92>>2]=.6000000238418579,i[l+96>>2]=1,i[l+100>>2]=.30000001192092896,i[l+104>>2]=.01666666753590107,i[l+108>>2]=0,i[l+116>>2]=20,e[l+112>>2]=10,i[l+124>>2]=.20000000298023224,i[l+128>>2]=.800000011920929,i[l+132>>2]=0,i[l+120>>2]=1,e[l+136>>2]=1,i[l+140>>2]=-.03999999910593033,i[l+144>>2]=.10000000149011612,i[l+148>>2]=0,i[l+152>>2]=.8500000238418579,e[l+156>>2]=260,e[l+160>>2]=2,e[l+164>>2]=128,i[l+168>>2]=100,i[l+172>>2]=10000000150474662e14,e[l>>2]=7656,R[l+192>>0]=1,e[l+188>>2]=0,e[l+180>>2]=0,e[l+184>>2]=0,n=l+196|0,e[n>>2]=0,a=l+200|0,e[a>>2]=s,R[l+224>>0]=1,e[l+220>>2]=0,e[l+212>>2]=0,e[l+216>>2]=0,R[l+244>>0]=1,e[l+240>>2]=0,e[l+232>>2]=0,e[l+236>>2]=0,e[l+248>>2]=0,e[l+252>>2]=-1054867456,o=l+256|0,R[l+274>>0]=0,R[l+275>>0]=0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,R[l+292>>0]=1,e[l+288>>2]=0,e[l+280>>2]=0,e[l+284>>2]=0,e[l+296>>2]=0,R[l+300>>0]=1,R[l+320>>0]=1,e[l+316>>2]=0,e[l+308>>2]=0,e[l+312>>2]=0,s?R[l+273>>0]=0:(e[5637]=(e[5637]|0)+1,o=Xe(223)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,e[o>>2]=7540,R[o+20>>0]=1,e[o+16>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,R[o+40>>0]=1,e[o+36>>2]=0,e[o+28>>2]=0,e[o+32>>2]=0,R[o+60>>0]=1,e[o+56>>2]=0,e[o+48>>2]=0,e[o+52>>2]=0,R[o+80>>0]=1,e[o+76>>2]=0,e[o+68>>2]=0,e[o+72>>2]=0,R[o+100>>0]=1,e[o+96>>2]=0,e[o+88>>2]=0,e[o+92>>2]=0,R[o+120>>0]=1,e[o+116>>2]=0,e[o+108>>2]=0,e[o+112>>2]=0,R[o+140>>0]=1,e[o+136>>2]=0,e[o+128>>2]=0,e[o+132>>2]=0,R[o+160>>0]=1,e[o+156>>2]=0,e[o+148>>2]=0,e[o+152>>2]=0,R[o+180>>0]=1,e[o+176>>2]=0,e[o+168>>2]=0,e[o+172>>2]=0,e[o+192>>2]=13,e[o+196>>2]=14,e[o+200>>2]=0,e[a>>2]=o,R[l+273>>0]=1),e[5637]=(e[5637]|0)+1,o=Xe(87)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,e[o>>2]=4488,R[o+20>>0]=1,e[o+16>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,R[o+40>>0]=1,e[o+36>>2]=0,e[o+28>>2]=0,e[o+32>>2]=0,R[o+60>>0]=1,e[o+56>>2]=0,e[o+48>>2]=0,e[o+52>>2]=0,R[o+64>>0]=1,e[l+204>>2]=o,R[l+272>>0]=1,e[5637]=(e[5637]|0)+1,o=Xe(107)|0,o?(e[(o+4+15&-16)+-4>>2]=o,s=o+4+15&-16,o=e[a>>2]|0,e[s>>2]=7896,a=s+4|0,e[a>>2]=0,a=s+8|0,e[a>>2]=o,a=s+12|0,e[a>>2]=0,a=s+16|0,e[a>>2]=0,a=s+20|0,e[a>>2]=0,a=s+24|0,e[a>>2]=t,t=s+44|0,R[t>>0]=1,t=s+40|0,e[t>>2]=0,t=s+32|0,e[t>>2]=0,t=s+36|0,e[t>>2]=0,t=s+64|0,R[t>>0]=1,t=s+60|0,e[t>>2]=0,t=s+52|0,e[t>>2]=0,t=s+56|0,e[t>>2]=0,t=s+84|0,R[t>>0]=1,t=s+80|0,e[t>>2]=0,t=s+72|0,e[t>>2]=0,t=s+76|0,e[t>>2]=0,e[n>>2]=s,l|0):(s=0,o=e[a>>2]|0,e[s>>2]=7896,a=s+4|0,e[a>>2]=0,a=s+8|0,e[a>>2]=o,a=s+12|0,e[a>>2]=0,a=s+16|0,e[a>>2]=0,a=s+20|0,e[a>>2]=0,a=s+24|0,e[a>>2]=t,t=s+44|0,R[t>>0]=1,t=s+40|0,e[t>>2]=0,t=s+32|0,e[t>>2]=0,t=s+36|0,e[t>>2]=0,t=s+64|0,R[t>>0]=1,t=s+60|0,e[t>>2]=0,t=s+52|0,e[t>>2]=0,t=s+56|0,e[t>>2]=0,t=s+84|0,R[t>>0]=1,t=s+80|0,e[t>>2]=0,t=s+72|0,e[t>>2]=0,t=s+76|0,e[t>>2]=0,e[n>>2]=s,l|0)}function Qq(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,uh(t,n,s,o)}function Jq(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;o=H,H=H+48|0,a=e[n+192>>2]|0,Kt[e[(e[a>>2]|0)+8>>2]&127](a,n+4|0,o+32|0,o+16|0),e[o>>2]=3544,e[o+4>>2]=n,e[o+8>>2]=t,e[o+12>>2]=s,t=e[t+68>>2]|0,Kt[e[(e[t>>2]|0)+28>>2]&127](t,o+32|0,o+16|0,o),H=o}function eX(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l,t1(t,n,s,o,a,l)}function tX(t){return t=t|0,e[t+68>>2]|0}function iX(t){return t=t|0,t+28|0}function nX(t){return t=t|0,e[t+24>>2]|0}function rX(t){t=t|0;var n=0;return n=H,H=H+16|0,R[19896]|0||(R[19896]=1),zt[e[(e[t>>2]|0)+76>>2]&127](n,t),e[5650]=e[n>>2],e[5651]=e[n+4>>2],e[5652]=e[n+8>>2],e[5653]=e[n+12>>2],H=n,22600}function sX(t){return t=t|0,t=e[t+68>>2]|0,Tt[e[(e[t>>2]|0)+36>>2]&127](t)|0}function oX(t){t=t|0;var n=0,s=0;if(R[19904]|0){n=t+92|0,t=22616,s=t+84|0;do e[t>>2]=e[n>>2],t=t+4|0,n=n+4|0;while((t|0)<(s|0));return 22616}R[19904]=1,i[5654]=.6000000238418579,i[5655]=1,i[5656]=.30000001192092896,i[5657]=.01666666753590107,i[5658]=0,i[5660]=20,e[5659]=10,i[5662]=.20000000298023224,i[5663]=.800000011920929,i[5664]=0,i[5661]=1,e[5665]=1,i[5666]=-.03999999910593033,i[5667]=.10000000149011612,i[5668]=0,i[5669]=.8500000238418579,e[5670]=260,e[5671]=2,e[5672]=128,i[5673]=100,i[5674]=10000000150474662e14,n=t+92|0,t=22616,s=t+84|0;do e[t>>2]=e[n>>2],t=t+4|0,n=n+4|0;while((t|0)<(s|0));return 22616}function aX(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+32>>2]&127](t,n,s,o)}function cX(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+68>>2]&127](t,n)}function lX(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+60>>2]&127](t,n)}function uX(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+92>>2]&127](t,n)}function fX(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+72>>2]&127](t,n)}function _X(t,n){return t=t|0,n=+n,i_[e[(e[t>>2]|0)+52>>2]&1](t,n,1,.01666666753590107)|0}function pX(t,n,s){return t=t|0,n=+n,s=s|0,i_[e[(e[t>>2]|0)+52>>2]&1](t,n,s,.01666666753590107)|0}function hX(t,n,s,o){return t=t|0,n=+n,s=s|0,o=+o,i_[e[(e[t>>2]|0)+52>>2]&1](t,n,s,o)|0}function dX(t){t=t|0,t&&ye(t)}function mX(t){return t=t|0,+ +i[t+28>>2]}function gX(t){return t=t|0,+ +i[t+36>>2]}function xX(t){return t=t|0,e[t+8>>2]|0}function yX(t){return t=t|0,(R[t+25>>0]|0)!=0|0}function vX(t){return t=t|0,(R[t+24>>0]|0)!=0|0}function SX(t){return t=t|0,e[t+4>>2]|0}function CX(t){return t=t|0,+ +i[t+12>>2]}function TX(t){return t=t|0,+ +i[t>>2]}function wX(t){return t=t|0,(R[t+16>>0]|0)!=0|0}function MX(t){return t=t|0,(R[t+32>>0]|0)!=0|0}function RX(t){return t=t|0,(R[t+26>>0]|0)!=0|0}function AX(t,n){t=t|0,n=+n,i[t+28>>2]=n}function EX(t,n){t=t|0,n=+n,i[t+36>>2]=n}function NX(t,n){t=t|0,n=n|0,e[t+8>>2]=n}function bX(t,n){t=t|0,n=n|0,R[t+25>>0]=n&1}function DX(t,n){t=t|0,n=n|0,R[t+24>>0]=n&1}function IX(t,n){t=t|0,n=n|0,e[t+4>>2]=n}function PX(t,n){t=t|0,n=+n,i[t+12>>2]=n}function LX(t,n){t=t|0,n=+n,i[t>>2]=n}function kX(t,n){t=t|0,n=n|0,R[t+16>>0]=n&1}function FX(t,n){t=t|0,n=n|0,R[t+32>>0]=n&1}function BX(t,n){t=t|0,n=n|0,R[t+26>>0]=n&1}function UX(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function OX(t,n){return t=t|0,n=n|0,I0[e[(e[t>>2]|0)+40>>2]&31](t,n)|0}function GX(t){return t=t|0,Tt[e[(e[t>>2]|0)+36>>2]&127](t)|0}function VX(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function zX(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+64>>2]&127](t,n)}function WX(t,n){t=t|0,n=n|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,1,-1)}function HX(t,n,s){t=t|0,n=n|0,s=s|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,s,-1)}function jX(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,s,o)}function qX(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,uh(t,n,s,o)}function XX(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;o=H,H=H+48|0,a=e[n+192>>2]|0,Kt[e[(e[a>>2]|0)+8>>2]&127](a,n+4|0,o+32|0,o+16|0),e[o>>2]=3544,e[o+4>>2]=n,e[o+8>>2]=t,e[o+12>>2]=s,t=e[t+68>>2]|0,Kt[e[(e[t>>2]|0)+28>>2]&127](t,o+32|0,o+16|0,o),H=o}function $X(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l,t1(t,n,s,o,a,l)}function YX(t){return t=t|0,e[t+68>>2]|0}function KX(t){return t=t|0,t+28|0}function ZX(t){return t=t|0,e[t+24>>2]|0}function QX(t){return t=t|0,t=e[t+68>>2]|0,Tt[e[(e[t>>2]|0)+36>>2]&127](t)|0}function JX(t){t=t|0;var n=0,s=0;if(R[19912]|0){n=t+92|0,t=22700,s=t+84|0;do e[t>>2]=e[n>>2],t=t+4|0,n=n+4|0;while((t|0)<(s|0));return 22700}R[19912]=1,i[5675]=.6000000238418579,i[5676]=1,i[5677]=.30000001192092896,i[5678]=.01666666753590107,i[5679]=0,i[5681]=20,e[5680]=10,i[5683]=.20000000298023224,i[5684]=.800000011920929,i[5685]=0,i[5682]=1,e[5686]=1,i[5687]=-.03999999910593033,i[5688]=.10000000149011612,i[5689]=0,i[5690]=.8500000238418579,e[5691]=260,e[5692]=2,e[5693]=128,i[5694]=100,i[5695]=10000000150474662e14,n=t+92|0,t=22700,s=t+84|0;do e[t>>2]=e[n>>2],t=t+4|0,n=n+4|0;while((t|0)<(s|0));return 22700}function e$(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+32>>2]&127](t,n,s,o)}function t$(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+68>>2]&127](t,n)}function i$(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function n$(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;return e[5637]=(e[5637]|0)+1,o=Xe(1331)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,Y6(o,t,n,s),o|0}function r$(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0;return e[5637]=(e[5637]|0)+1,l=Xe(1331)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,$6(l,t,n,s,o,a),l|0}function s$(t,n){t=t|0,n=n|0,R[t+21>>0]=n&1}function o$(t){return t=t|0,+ +i[t+16>>2]}function a$(t,n){t=t|0,n=n|0;var s=0;if(s=+an(+i[n>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+868>>2]=s,s=+an(+i[n+4>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+932>>2]=s,s=+an(+i[n+8>>2]),s<-3.1415927410125732){s=s+6.2831854820251465,t=t+996|0,i[t>>2]=s;return}if(!(s>3.1415927410125732)){t=t+996|0,i[t>>2]=s;return}s=s+-6.2831854820251465,t=t+996|0,i[t>>2]=s}function c$(t,n){t=t|0,n=n|0;var s=0;if(s=+an(+i[n>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+872>>2]=s,s=+an(+i[n+4>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),i[t+936>>2]=s,s=+an(+i[n+8>>2]),s<-3.1415927410125732){s=s+6.2831854820251465,t=t+1e3|0,i[t>>2]=s;return}if(!(s>3.1415927410125732)){t=t+1e3|0,i[t>>2]=s;return}s=s+-6.2831854820251465,t=t+1e3|0,i[t>>2]=s}function l$(t,n){t=t|0,n=+n,i[t+16>>2]=n}function u$(t,n){t=t|0,n=n|0,e[t+680>>2]=e[n>>2],e[t+680+4>>2]=e[n+4>>2],e[t+680+8>>2]=e[n+8>>2],e[t+680+12>>2]=e[n+12>>2]}function f$(t,n){t=t|0,n=n|0,e[t+696>>2]=e[n>>2],e[t+696+4>>2]=e[n+4>>2],e[t+696+8>>2]=e[n+8>>2],e[t+696+12>>2]=e[n+12>>2]}function _$(t){t=t|0,t&&Vt[e[(e[t>>2]|0)+4>>2]&255](t)}function p$(t,n,s,o,a,l,u,p,h){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0;var d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,st=0,mt=0,lt=0;if(de=H,H=H+304|0,e[t+188>>2]=-1,Xn(15532),e[t+184>>2]=0,(s|0)>0){h=0;do e[(e[n+(h<<2)>>2]|0)+212>>2]=-1,h=h+1|0;while((h|0)!=(s|0))}if(d=e[t+12>>2]|0,(d|0)>(s|0))m=t+8|0;else{if((s+1|0)!=0&&(e[5637]=(e[5637]|0)+1,m=Xe(((s+1|0)*244|3)+16|0)|0,(m|0)!=0)?(e[(m+4+15&-16)+-4>>2]=m,m=m+4+15&-16):m=0,h=e[t+8>>2]|0,(h|0)>0){d=0;do ae=m+(d*244|0)|0,xe=e[t+16>>2]|0,oe=xe+(d*244|0)|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],ae=m+(d*244|0)+16|0,oe=xe+(d*244|0)+16|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],ae=m+(d*244|0)+32|0,oe=xe+(d*244|0)+32|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],ae=m+(d*244|0)+48|0,oe=xe+(d*244|0)+48|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],wr(m+(d*244|0)+64|0,xe+(d*244|0)+64|0,180)|0,d=d+1|0;while((d|0)!=(h|0))}h=e[t+16>>2]|0,h|0&&(R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),e[t+16>>2]=0),R[t+20>>0]=1,e[t+16>>2]=m,e[t+12>>2]=s+1,m=t+8|0,d=s+1|0}if(ln(de|0,0,244)|0,h=e[m>>2]|0,(h|0)<0){(d|0)<0&&(d=e[t+16>>2]|0,d|0&&(R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[d+-4>>2]|0)),e[t+16>>2]=0),R[t+20>>0]=1,e[t+16>>2]=0,e[t+12>>2]=0);do xe=e[t+16>>2]|0,ae=xe+(h*244|0)|0,e[ae>>2]=e[de>>2],e[ae+4>>2]=e[de+4>>2],e[ae+8>>2]=e[de+8>>2],e[ae+12>>2]=e[de+12>>2],ae=xe+(h*244|0)+16|0,e[ae>>2]=e[de+16>>2],e[ae+4>>2]=e[de+16+4>>2],e[ae+8>>2]=e[de+16+8>>2],e[ae+12>>2]=e[de+16+12>>2],ae=xe+(h*244|0)+32|0,e[ae>>2]=e[de+32>>2],e[ae+4>>2]=e[de+32+4>>2],e[ae+8>>2]=e[de+32+8>>2],e[ae+12>>2]=e[de+32+12>>2],ae=xe+(h*244|0)+48|0,e[ae>>2]=e[de+48>>2],e[ae+4>>2]=e[de+48+4>>2],e[ae+8>>2]=e[de+48+8>>2],e[ae+12>>2]=e[de+48+12>>2],wr(xe+(h*244|0)+64|0,de+64|0,180)|0,h=h+1|0;while((h|0)!=0)}if(e[m>>2]=0,(s|0)>0){C=0;do m=n+(C<<2)|0,d=n1(t,e[m>>2]|0,+i[p+12>>2])|0,m=e[m>>2]|0,!((m|0)==0||(e[m+236>>2]&2|0)==0)&&+i[m+368>>2]!=0&&(g=e[t+16>>2]|0,h=e[m+528>>2]|0,h&2&&(S=+i[p+76>>2],Te=+i[m+420>>2],M=+i[m+424>>2],w=+i[m+428>>2],Ae=+i[m+4>>2],Te=Te!=0?1/Te:0,ke=+i[m+8>>2],M=M!=0?1/M:0,ge=+i[m+12>>2],w=w!=0?1/w:0,Se=+i[m+20>>2],Ne=+i[m+24>>2],we=+i[m+28>>2],fe=+i[m+36>>2],P=+i[m+40>>2],D=+i[m+44>>2],b=+i[m+352>>2],B=+i[m+356>>2],E=+i[m+360>>2],L=(Te*Ae*Ae+M*ke*ke+w*ge*ge)*b+(Te*Ae*Se+M*ke*Ne+w*ge*we)*B+(Te*Ae*fe+M*ke*P+w*ge*D)*E,F=(Te*Se*Ae+M*Ne*ke+w*we*ge)*b+(Te*Se*Se+M*Ne*Ne+w*we*we)*B+(Te*Se*fe+M*Ne*P+w*we*D)*E,D=(Te*fe*Ae+M*P*ke+w*D*ge)*b+(Te*fe*Se+M*P*Ne+w*D*we)*B+(Te*fe*fe+M*P*P+w*D*D)*E,w=(B*D-E*F)*(B*D-E*F)+(E*L-b*D)*(E*L-b*D)+(b*F-B*L)*(b*F-B*L),w>S*S?(S=1/+ot(+w)*S,M=(B*D-E*F)*S,w=S*(E*L-b*D),S=S*(b*F-B*L)):(M=B*D-E*F,w=E*L-b*D,S=b*F-B*L),ge=+i[p+12>>2],ke=(M*+i[m+292>>2]+w*+i[m+308>>2]+S*+i[m+324>>2])*ge,Ae=ge*(M*+i[m+296>>2]+w*+i[m+312>>2]+S*+i[m+328>>2]),i[g+(d*244|0)+224>>2]=+i[g+(d*244|0)+224>>2]-(M*+i[m+288>>2]+w*+i[m+304>>2]+S*+i[m+320>>2])*ge,i[g+(d*244|0)+228>>2]=+i[g+(d*244|0)+228>>2]-ke,i[g+(d*244|0)+232>>2]=+i[g+(d*244|0)+232>>2]-Ae,h=e[m+528>>2]|0),h&4&&(P=+i[p+12>>2],Ze=+i[m+420>>2],ge=+i[m+424>>2],Ne=+i[m+428>>2],B=+i[m+352>>2],w=+i[m+356>>2],Ae=+i[m+360>>2],we=+i[m+4>>2],Ze=Ze!=0?1/Ze:0,S=+i[m+8>>2],ge=ge!=0?1/ge:0,M=+i[m+12>>2],Ne=Ne!=0?1/Ne:0,ut=+i[m+20>>2],Te=+i[m+24>>2],b=+i[m+28>>2],Se=+i[m+36>>2],fe=+i[m+40>>2],Ke=+i[m+44>>2],E=Ze*we*we+ge*S*S+Ne*M*M,F=Ze*we*ut+ge*S*Te+Ne*M*b,He=Ze*we*Se+ge*S*fe+Ne*M*Ke,D=Ze*ut*we+ge*Te*S+Ne*b*M,L=Ze*ut*ut+ge*Te*Te+Ne*b*b,qe=Ze*ut*Se+ge*Te*fe+Ne*b*Ke,M=Ze*Se*we+ge*fe*S+Ne*Ke*M,b=Ze*Se*ut+ge*fe*Te+Ne*Ke*b,Ke=Ze*Se*Se+ge*fe*fe+Ne*Ke*Ke,Ne=B*E+w*F+Ae*He+(w*(B*M+w*b+Ae*Ke)-Ae*(B*D+w*L+Ae*qe))*P-(P*0+(B*E+w*F+Ae*He)),fe=B*D+w*L+Ae*qe+(Ae*(B*E+w*F+Ae*He)-B*(B*M+w*b+Ae*Ke))*P-(P*0+(B*D+w*L+Ae*qe)),ge=B*M+w*b+Ae*Ke+(B*(B*D+w*L+Ae*qe)-w*(B*E+w*F+Ae*He))*P-(P*0+(B*M+w*b+Ae*Ke)),Se=F+(B*M+w*b+Ae*Ke+(w*b+(F*0+L*-Ae)))*P,Ze=He+(w*Ke+(He*0+qe*-Ae)-(B*D+w*L+Ae*qe))*P,Te=D+(M*-B+(D*0+Ae*E)-(B*M+w*b+Ae*Ke))*P,ut=qe+(B*E+w*F+Ae*He+(Ke*-B+(qe*0+Ae*He)))*P,S=M+(M*0+(E*-w+B*D)+(B*D+w*L+Ae*qe))*P,we=b+(b*0+(F*-w+B*L)-(B*E+w*F+Ae*He))*P,mt=(L+(b*-B+(L*0+Ae*F))*P)*(Ke+(Ke*0+(He*-w+B*qe))*P)-we*ut,st=we*Ze-Se*(Ke+(Ke*0+(He*-w+B*qe))*P),lt=Se*ut-(L+(b*-B+(L*0+Ae*F))*P)*Ze,ke=S*lt+((E+(w*M+(E*0+D*-Ae))*P)*mt+Te*st),h=+ht(+ke)>11920928955078125e-23,ke=h?1/ke:ke,i[g+(d*244|0)+224>>2]=B-(ge*lt+(Ne*mt+fe*st))*ke-B+ +i[g+(d*244|0)+224>>2],i[g+(d*244|0)+228>>2]=w-(S*(ut*Ne-Ze*fe)+((E+(w*M+(E*0+D*-Ae))*P)*((Ke+(Ke*0+(He*-w+B*qe))*P)*fe-ut*ge)+Te*(Ze*ge-(Ke+(Ke*0+(He*-w+B*qe))*P)*Ne)))*ke-w+ +i[g+(d*244|0)+228>>2],i[g+(d*244|0)+232>>2]=Ae-(S*(Se*fe-(L+(b*-B+(L*0+Ae*F))*P)*Ne)+((E+(w*M+(E*0+D*-Ae))*P)*((L+(b*-B+(L*0+Ae*F))*P)*ge-we*fe)+Te*(we*Ne-Se*ge)))*ke-Ae+ +i[g+(d*244|0)+232>>2],h=e[m+528>>2]|0),h&8|0&&(Ze=+i[p+12>>2],F=+i[m+420>>2],P=+i[m+424>>2],b=+i[m+428>>2],ke=+i[m+352>>2],Ae=+i[m+356>>2],lt=+i[m+360>>2],ds(m+4|0,de+248|0),mt=+i[de+248>>2],qe=+i[de+248+4>>2],He=+i[de+248+8>>2],fe=+i[de+248+12>>2],we=He*(ke*-He+Ae*fe-lt*-mt)+(mt*(-(ke*-mt)-Ae*-qe-lt*-He)+fe*(lt*-qe+ke*fe-Ae*-He))-qe*(Ae*-mt+lt*fe-ke*-qe),Se=mt*(Ae*-mt+lt*fe-ke*-qe)+(qe*(-(ke*-mt)-Ae*-qe-lt*-He)+fe*(ke*-He+Ae*fe-lt*-mt))-He*(lt*-qe+ke*fe-Ae*-He),fe=qe*(lt*-qe+ke*fe-Ae*-He)+(He*(-(ke*-mt)-Ae*-qe-lt*-He)+fe*(Ae*-mt+lt*fe-ke*-qe))-mt*(ke*-He+Ae*fe-lt*-mt),F=F!=0?1/F:0,ge=fe*0+(F*we+Se*0),P=P!=0?1/P:0,Ne=fe*0+(we*0+P*Se),b=b!=0?1/b:0,Te=b*fe+(we*0+Se*0),B=F+(Se*0+(F*0+fe*-0))*Ze,L=P+(we*-0+(P*0+fe*0))*Ze,ut=b+(b*0+(Se*-0+we*0))*Ze,D=L*ut-((Se*-0+P*we+0-ge)*Ze+0)*((fe*0+0-b*we+ge)*Ze+0),Ke=((Se*-0+P*we+0-ge)*Ze+0)*((b*Se+(fe*-0+0)-Ne)*Ze+0)-ut*((Se*0+(0-P*fe)+Te)*Ze+0),E=((Se*0+(0-P*fe)+Te)*Ze+0)*((fe*0+0-b*we+ge)*Ze+0)-L*((b*Se+(fe*-0+0)-Ne)*Ze+0),st=((we*0-F*Se+0+Ne)*Ze+0)*E+(B*D+((we*-0+(F*fe+0)-Te)*Ze+0)*Ke),xe=+ht(+st)>11920928955078125e-23,st=xe?1/st:st,Ke=we-((we*Ne-Se*ge)*Ze*E+((Se*Te-fe*Ne)*Ze*D+(fe*ge-we*Te)*Ze*Ke))*st,ut=Se-(((we*0-F*Se+0+Ne)*Ze+0)*(((fe*0+0-b*we+ge)*Ze+0)*((Se*Te-fe*Ne)*Ze)-((b*Se+(fe*-0+0)-Ne)*Ze+0)*((fe*ge-we*Te)*Ze))+(B*(ut*((fe*ge-we*Te)*Ze)-((fe*0+0-b*we+ge)*Ze+0)*((we*Ne-Se*ge)*Ze))+((we*-0+(F*fe+0)-Te)*Ze+0)*(((b*Se+(fe*-0+0)-Ne)*Ze+0)*((we*Ne-Se*ge)*Ze)-ut*((Se*Te-fe*Ne)*Ze))))*st,st=fe-(((we*0-F*Se+0+Ne)*Ze+0)*(((Se*0+(0-P*fe)+Te)*Ze+0)*((fe*ge-we*Te)*Ze)-L*((Se*Te-fe*Ne)*Ze))+(B*(L*((we*Ne-Se*ge)*Ze)-((Se*-0+P*we+0-ge)*Ze+0)*((fe*ge-we*Te)*Ze))+((we*-0+(F*fe+0)-Te)*Ze+0)*(((Se*-0+P*we+0-ge)*Ze+0)*((Se*Te-fe*Ne)*Ze)-((Se*0+(0-P*fe)+Te)*Ze+0)*((we*Ne-Se*ge)*Ze))))*st,Ze=+i[de+248+12>>2],i[g+(d*244|0)+224>>2]=(He*Ke+Ze*ut-mt*st)*-He+(Ze*(Ze*Ke+qe*st-He*ut)+(-(mt*Ke)-qe*ut-He*st)*-mt)-(Ze*st+mt*ut-qe*Ke)*-qe-ke+ +i[g+(d*244|0)+224>>2],i[g+(d*244|0)+228>>2]=(Ze*st+mt*ut-qe*Ke)*-mt+(Ze*(He*Ke+Ze*ut-mt*st)+(-(mt*Ke)-qe*ut-He*st)*-qe)-(Ze*Ke+qe*st-He*ut)*-He-Ae+ +i[g+(d*244|0)+228>>2],i[g+(d*244|0)+232>>2]=(Ze*Ke+qe*st-He*ut)*-qe+((-(mt*Ke)-qe*ut-He*st)*-He+Ze*(Ze*st+mt*ut-qe*Ke))-(He*Ke+Ze*ut-mt*st)*-mt-lt+ +i[g+(d*244|0)+232>>2])),C=C+1|0;while((C|0)!=(s|0))}if((u|0)>0){h=0;do xe=e[l+(h<<2)>>2]|0,Vt[e[(e[xe>>2]|0)+8>>2]&255](xe),i[xe+36>>2]=0,h=h+1|0;while((h|0)<(u|0))}if(d=e[t+168>>2]|0,(d|0)<(u|0)&&(e[t+172>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,h=Xe((u<<3|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,d=e[t+168>>2]|0):h=0,(d|0)>0){m=0;do oe=(e[t+176>>2]|0)+(m<<3)|0,ae=e[oe+4>>2]|0,xe=h+(m<<3)|0,e[xe>>2]=e[oe>>2],e[xe+4>>2]=ae,m=m+1|0;while((m|0)!=(d|0))}d=e[t+176>>2]|0,d|0&&(R[t+180>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[d+-4>>2]|0)),e[t+176>>2]=0),R[t+180>>0]=1,e[t+176>>2]=h,e[t+172>>2]=u}if(e[t+168>>2]=u,(u|0)>0){s=0,h=0;do{if(C=e[t+176>>2]|0,n=C+(s<<3)|0,g=l+(s<<2)|0,d=e[g>>2]|0,m=e[d+44>>2]|0,m){d=m+64|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(d|0));d=e[g>>2]|0}R[d+20>>0]|0?(zt[e[(e[d>>2]|0)+16>>2]&127](d,n),d=e[n>>2]|0):(e[n>>2]=0,e[C+(s<<3)+4>>2]=0,d=0),h=d+h|0,s=s+1|0}while((s|0)<(u|0))}else h=0;if(m=e[t+48>>2]|0,(m|0)<(h|0)&&(e[t+52>>2]|0)<(h|0)){if(h?(e[5637]=(e[5637]|0)+1,d=Xe((h*152|3)+16|0)|0,d?(e[(d+4+15&-16)+-4>>2]=d,d=d+4+15&-16):d=0,m=e[t+48>>2]|0):d=0,(m|0)>0){g=0;do wr(d+(g*152|0)|0,(e[t+56>>2]|0)+(g*152|0)|0,152)|0,g=g+1|0;while((g|0)!=(m|0))}m=e[t+56>>2]|0,m|0&&(R[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[m+-4>>2]|0)),e[t+56>>2]=0),R[t+60>>0]=1,e[t+56>>2]=d,e[t+52>>2]=h}if(e[t+48>>2]=h,(u|0)>0)for(h=e[t+176>>2]|0,ae=0,xe=0;;){if(oe=h+(xe<<3)|0,!(e[oe>>2]|0))d=0;else{if(h=e[t+56>>2]|0,ne=h+(ae*152|0)|0,W=l+(xe<<2)|0,te=e[W>>2]|0,_e=e[te+28>>2]|0,pe=e[te+32>>2]|0,he=n1(t,_e,+i[p+12>>2])|0,me=n1(t,pe,+i[p+12>>2])|0,se=e[t+16>>2]|0,d=e[te+24>>2]|0,d=(d|0)>0?d:e[p+20>>2]|0,(d|0)>(e[t+184>>2]|0)&&(e[t+184>>2]=d),(e[oe>>2]|0)>0){m=0;do ln(ne+(m*152|0)|0,0,152)|0,i[ne+(m*152|0)+120>>2]=-34028234663852886e22,i[ne+(m*152|0)+124>>2]=34028234663852886e22,i[ne+(m*152|0)+100>>2]=0,i[ne+(m*152|0)+96>>2]=0,e[ne+(m*152|0)+144>>2]=he,e[ne+(m*152|0)+148>>2]=me,e[ne+(m*152|0)+136>>2]=d,m=m+1|0;while((m|0)<(e[oe>>2]|0))}if(e[se+(he*244|0)+64>>2]=0,e[se+(he*244|0)+64+4>>2]=0,e[se+(he*244|0)+64+8>>2]=0,e[se+(he*244|0)+64+12>>2]=0,e[se+(he*244|0)+64+16>>2]=0,e[se+(he*244|0)+64+20>>2]=0,e[se+(he*244|0)+64+24>>2]=0,e[se+(he*244|0)+64+28>>2]=0,e[se+(he*244|0)+144>>2]=0,e[se+(he*244|0)+144+4>>2]=0,e[se+(he*244|0)+144+8>>2]=0,e[se+(he*244|0)+144+12>>2]=0,e[se+(he*244|0)+144+16>>2]=0,e[se+(he*244|0)+144+20>>2]=0,e[se+(he*244|0)+144+24>>2]=0,e[se+(he*244|0)+144+28>>2]=0,e[se+(me*244|0)+64>>2]=0,e[se+(me*244|0)+64+4>>2]=0,e[se+(me*244|0)+64+8>>2]=0,e[se+(me*244|0)+64+12>>2]=0,e[se+(me*244|0)+64+16>>2]=0,e[se+(me*244|0)+64+20>>2]=0,e[se+(me*244|0)+64+24>>2]=0,e[se+(me*244|0)+64+28>>2]=0,e[se+(me*244|0)+144>>2]=0,e[se+(me*244|0)+144+4>>2]=0,e[se+(me*244|0)+144+8>>2]=0,e[se+(me*244|0)+144+12>>2]=0,e[se+(me*244|0)+144+16>>2]=0,e[se+(me*244|0)+144+20>>2]=0,e[se+(me*244|0)+144+24>>2]=0,e[se+(me*244|0)+144+28>>2]=0,i[de+248>>2]=1/+i[p+12>>2],e[de+248+4>>2]=e[p+32>>2],e[de+248+8>>2]=h+(ae*152|0)+16,e[de+248+12>>2]=ne,e[de+248+16>>2]=h+(ae*152|0)+48,e[de+248+20>>2]=h+(ae*152|0)+32,e[de+248+24>>2]=38,e[de+248+28>>2]=h+(ae*152|0)+112,X=h+(ae*152|0)+116|0,e[X>>2]=e[p+40>>2],e[de+248+52>>2]=e[p+4>>2],e[de+248+32>>2]=X,e[de+248+36>>2]=h+(ae*152|0)+120,e[de+248+40>>2]=h+(ae*152|0)+124,e[de+248+48>>2]=e[p+20>>2],X=e[W>>2]|0,zt[e[(e[X>>2]|0)+20>>2]&127](X,de+248|0),(e[oe>>2]|0)>0){X=0;do h=ne+(X*152|0)+124|0,S=+i[(e[W>>2]|0)+16>>2],+i[h>>2]>=S&&(i[h>>2]=S),h=ne+(X*152|0)+120|0,+i[h>>2]<=-S&&(i[h>>2]=-S),e[ne+(X*152|0)+132>>2]=te,q=ne+(X*152|0)|0,h=ne+(X*152|0)+64|0,d=e[te+28>>2]|0,mt=+i[q>>2],ut=+i[q+4>>2],P=+i[q+8>>2],st=(mt*+i[d+304>>2]+ut*+i[d+308>>2]+P*+i[d+312>>2])*+i[d+572>>2],S=(mt*+i[d+320>>2]+ut*+i[d+324>>2]+P*+i[d+328>>2])*+i[d+576>>2],i[h>>2]=(+i[d+288>>2]*mt+ +i[d+292>>2]*ut+ +i[d+296>>2]*P)*+i[d+568>>2],i[h+4>>2]=st,i[h+8>>2]=S,i[h+12>>2]=0,h=ne+(X*152|0)+32|0,d=ne+(X*152|0)+80|0,$=e[te+32>>2]|0,S=+i[h>>2],st=+i[h+4>>2],P=+i[h+8>>2],ut=(S*+i[$+304>>2]+st*+i[$+308>>2]+P*+i[$+312>>2])*+i[$+572>>2],mt=(S*+i[$+320>>2]+st*+i[$+324>>2]+P*+i[$+328>>2])*+i[$+576>>2],i[d>>2]=(+i[$+288>>2]*S+ +i[$+292>>2]*st+ +i[$+296>>2]*P)*+i[$+568>>2],i[d+4>>2]=ut,i[d+8>>2]=mt,i[d+12>>2]=0,d=ne+(X*152|0)+16|0,mt=+i[_e+368>>2],ut=+i[d>>2],st=+i[d+4>>2],S=+i[d+8>>2],w=+i[q>>2],M=+i[q+4>>2],E=+i[q+8>>2],q=ne+(X*152|0)+48|0,lt=+i[pe+368>>2],D=+i[q>>2],b=+i[q+4>>2],B=+i[q+8>>2],L=+i[h>>2],F=+i[h+4>>2],P=ut*(mt*ut)+st*(mt*st)+S*(mt*S)+(w*(+i[_e+288>>2]*w+ +i[_e+292>>2]*M+ +i[_e+296>>2]*E)+M*(w*+i[_e+304>>2]+M*+i[_e+308>>2]+E*+i[_e+312>>2])+E*(w*+i[_e+320>>2]+M*+i[_e+324>>2]+E*+i[_e+328>>2]))+(D*(lt*D)+b*(lt*b)+B*(lt*B))+(L*(+i[pe+288>>2]*L+ +i[pe+292>>2]*F+ +i[pe+296>>2]*P)+F*(L*+i[pe+304>>2]+F*+i[pe+308>>2]+P*+i[pe+312>>2])+P*(L*+i[pe+320>>2]+F*+i[pe+324>>2]+P*+i[pe+328>>2])),q=+ht(+P)>11920928955078125e-23,P=q?1/P:0,i[ne+(X*152|0)+108>>2]=P,e[se+(he*244|0)+240>>2]|0?(m=e[se+(he*244|0)+208>>2]|0,g=e[se+(he*244|0)+212>>2]|0,C=e[se+(he*244|0)+216>>2]|0,G=e[se+(he*244|0)+224>>2]|0,O=e[se+(he*244|0)+228>>2]|0,z=e[se+(he*244|0)+232>>2]|0):(m=0,g=0,C=0,G=0,O=0,z=0),e[se+(me*244|0)+240>>2]|0?(n=e[se+(me*244|0)+208>>2]|0,s=e[se+(me*244|0)+212>>2]|0,U=e[se+(me*244|0)+216>>2]|0,Y=e[se+(me*244|0)+224>>2]|0,$=e[se+(me*244|0)+228>>2]|0,q=e[se+(me*244|0)+232>>2]|0):(n=0,s=0,U=0,Y=0,$=0,q=0),mt=(e[Z>>2]=m,+i[Z>>2]+ +i[_e+336>>2]),st=(e[Z>>2]=g,+i[Z>>2]+ +i[_e+340>>2]),st=mt*+i[d>>2]+st*+i[d+4>>2]+(e[Z>>2]=C,(+i[Z>>2]+ +i[_e+344>>2])*S),mt=(e[Z>>2]=G,+i[Z>>2]+ +i[_e+352>>2]),ut=(e[Z>>2]=O,+i[Z>>2]+ +i[_e+356>>2]),ut=st+(mt*w+ut*M+(e[Z>>2]=z,(+i[Z>>2]+ +i[_e+360>>2])*E)),mt=(e[Z>>2]=n,+i[Z>>2]+ +i[pe+336>>2]),st=(e[Z>>2]=s,+i[Z>>2]+ +i[pe+340>>2]),st=mt*D+st*b+(e[Z>>2]=U,(+i[Z>>2]+ +i[pe+344>>2])*B),mt=(e[Z>>2]=Y,+i[Z>>2]+ +i[pe+352>>2]),lt=(e[Z>>2]=$,+i[Z>>2]+ +i[pe+356>>2]),$=ne+(X*152|0)+112|0,i[$>>2]=+i[$>>2]*P+P*(0-+i[de+248+52>>2]*(ut+(st+(mt*L+lt*F+(e[Z>>2]=q,(+i[Z>>2]+ +i[pe+360>>2])*+i[h+8>>2]))))),i[ne+(X*152|0)+100>>2]=0,X=X+1|0;while((X|0)<(e[oe>>2]|0))}h=e[t+176>>2]|0,d=e[h+(xe<<3)>>2]|0}if(xe=xe+1|0,(xe|0)>=(u|0))break;ae=d+ae|0}if(Kt[e[(e[t>>2]|0)+28>>2]&127](t,o,a,p),C=e[t+48>>2]|0,n=e[t+28>>2]|0,s=e[t+68>>2]|0,d=e[t+128>>2]|0,(d|0)<(C|0)&&(e[t+132>>2]|0)<(C|0)){if(C?(e[5637]=(e[5637]|0)+1,h=Xe((C<<2|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,d=e[t+128>>2]|0):h=0,g=e[t+136>>2]|0,(d|0)<=0)g?ve=103:d=t+140|0;else{m=0;do e[h+(m<<2)>>2]=e[g+(m<<2)>>2],m=m+1|0;while((m|0)!=(d|0));ve=103}(ve|0)==103&&(R[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[g+-4>>2]|0)),e[t+136>>2]=0,d=t+140|0),R[d>>0]=1,e[t+136>>2]=h,e[t+132>>2]=C}if(e[t+128>>2]=C,e[p+64>>2]&16){if(d=e[t+108>>2]|0,(d|0)<(n<<1|0)&&(e[t+112>>2]|0)<(n<<1|0)){if(n?(e[5637]=(e[5637]|0)+1,h=Xe((n<<3|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,d=e[t+108>>2]|0):h=0,g=e[t+116>>2]|0,(d|0)<=0)g?ve=118:d=t+120|0;else{m=0;do e[h+(m<<2)>>2]=e[g+(m<<2)>>2],m=m+1|0;while((m|0)!=(d|0));ve=118}(ve|0)==118&&(R[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[g+-4>>2]|0)),e[t+116>>2]=0,d=t+120|0),R[d>>0]=1,e[t+116>>2]=h,e[t+112>>2]=n<<1}e[t+108>>2]=n<<1}else{if(d=e[t+108>>2]|0,(d|0)<(n|0)&&(e[t+112>>2]|0)<(n|0)){if(n?(e[5637]=(e[5637]|0)+1,h=Xe((n<<2|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,d=e[t+108>>2]|0):h=0,g=e[t+116>>2]|0,(d|0)<=0)g?ve=133:d=t+120|0;else{m=0;do e[h+(m<<2)>>2]=e[g+(m<<2)>>2],m=m+1|0;while((m|0)!=(d|0));ve=133}(ve|0)==133&&(R[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[g+-4>>2]|0)),e[t+116>>2]=0,d=t+120|0),R[d>>0]=1,e[t+116>>2]=h,e[t+112>>2]=n}e[t+108>>2]=n}if(d=e[t+148>>2]|0,(d|0)<(s|0)&&(e[t+152>>2]|0)<(s|0)){if(s?(e[5637]=(e[5637]|0)+1,h=Xe((s<<2|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,d=e[t+148>>2]|0):h=0,g=e[t+156>>2]|0,(d|0)<=0)g?ve=148:d=t+160|0;else{m=0;do e[h+(m<<2)>>2]=e[g+(m<<2)>>2],m=m+1|0;while((m|0)!=(d|0));ve=148}(ve|0)==148&&(R[t+160>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[g+-4>>2]|0)),e[t+156>>2]=0,d=t+160|0),R[d>>0]=1,e[t+156>>2]=h,e[t+152>>2]=s}if(e[t+148>>2]=s,(C|0)>0){h=e[t+136>>2]|0,d=0;do e[h+(d<<2)>>2]=d,d=d+1|0;while((d|0)!=(C|0))}if((n|0)>0){h=e[t+116>>2]|0,d=0;do e[h+(d<<2)>>2]=d,d=d+1|0;while((d|0)!=(n|0))}if((s|0)>0){h=e[t+156>>2]|0,d=0;do e[h+(d<<2)>>2]=d,d=d+1|0;while((d|0)!=(s|0))}if(h=e[2006]|0,t=(e[h+16>>2]|0)+-1|0,e[h+16>>2]=t,t|0)return H=de,0;do if(e[h+4>>2]|0){if(Cn(de+248|0,0)|0,t=e[5649]|0,i[h+8>>2]=+i[h+8>>2]+ +(((e[de+248+4>>2]|0)-(e[t+4>>2]|0)+(((e[de+248>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[h+12>>2]|0)|0)>>>0)/1e3,e[h+16>>2]|0)return H=de,0;h=e[2006]|0;break}while(!1);return e[2006]=e[h+20>>2],H=de,0}function h$(t,n,s,o,a,l,u,p,h){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0;var d=0,m=0,g=0;if(g=H,H=H+16|0,Xn(15561),Dm[e[(e[t>>2]|0)+32>>2]&1](t,n,s,o,a,l,u,p,h),m=e[t+184>>2]|0,d=e[p+20>>2]|0,d=(m|0)>(d|0)?m:d,(d|0)>0){m=0;do+cu[e[(e[t>>2]|0)+40>>2]&3](t,m,n,s,o,a,l,u,p,h),m=m+1|0;while((m|0)<(d|0))}if(d=e[2006]|0,t=(e[d+16>>2]|0)+-1|0,e[d+16>>2]=t,t|0)return H=g,0;do if(e[d+4>>2]|0){if(Cn(g|0,0)|0,t=e[5649]|0,i[d+8>>2]=+i[d+8>>2]+ +(((e[g+4>>2]|0)-(e[t+4>>2]|0)+(((e[g>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[d+12>>2]|0)|0)>>>0)/1e3,e[d+16>>2]|0)return H=g,0;d=e[2006]|0;break}while(!1);return e[2006]=e[d+20>>2],H=g,0}function d$(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function m$(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0;if(R[t+48>>0]|0){e[n>>2]=0,e[n+4>>2]=0;return}e[n>>2]=4,e[n+4>>2]=2,eh(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0),i[t+1088>>2]=0,R[t+297>>0]=0,o=+i[t+192>>2],a=+i[t+196>>2];do if(o<=a){if(h=+i[t+892>>2],p=+i[t+908>>2],l=+i[t+924>>2],l=+Hf(+gn(+(+i[t+832>>2]*h+ +i[t+848>>2]*p+ +i[t+864>>2]*l),+(+i[t+828>>2]*h+ +i[t+844>>2]*p+ +i[t+860>>2]*l)),o,a),i[t+1084>>2]=l,l<o){i[t+1088>>2]=l-o,R[t+297>>0]=1,u=1;break}l>a?(i[t+1088>>2]=l-a,R[t+297>>0]=1,u=1):u=0}else u=0;while(!1);R[t+296>>0]=0,s=e[t+1032>>2]|0,e[t+1080>>2]=s,o=+i[t+184>>2],a=+i[t+188>>2],l=(e[Z>>2]=s,+i[Z>>2]);do if(o<=a){if(l>a){i[t+1032>>2]=l-a,R[t+296>>0]=1,s=14;break}l<o?(i[t+1032>>2]=l-o,R[t+296>>0]=1,s=14):s=13}else s=13;while(!1);(s|0)==13&&(i[t+1032>>2]=0,R[t+1096>>0]|0)&&(s=14),(s|0)==14&&(e[n>>2]=(e[n>>2]|0)+1,e[n+4>>2]=(e[n+4>>2]|0)+-1),!(u<<24>>24==0&&(R[t+1112>>0]|0)==0)&&(e[n>>2]=(e[n>>2]|0)+1,e[n+4>>2]=(e[n+4>>2]|0)+-1)}function eh(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0;if((R[t+180>>0]|0)==0&&(R[t+48>>0]|0)!=0?(b=+i[t+116>>2],l=+i[s>>2],B=+i[t+132>>2],G=+i[s+4>>2],L=+i[t+148>>2],O=+i[s+8>>2],p=+i[t+120>>2],d=+i[t+136>>2],g=+i[t+152>>2],S=+i[t+124>>2],w=+i[t+140>>2],M=+i[t+156>>2],u=+i[s+16>>2],h=+i[s+20>>2],m=+i[s+24>>2],C=+i[s+32>>2],F=+i[s+36>>2],P=+i[s+40>>2],a=+i[t+164>>2],o=+i[t+168>>2],D=+i[t+172>>2],E=+i[s+48>>2]+(l*a+G*o+O*D),U=u*a+h*o+m*D+ +i[s+52>>2],D=C*a+F*o+P*D+ +i[s+56>>2],i[t+824>>2]=b*l+B*G+L*O,i[t+828>>2]=l*p+G*d+O*g,i[t+832>>2]=l*S+G*w+O*M,i[t+836>>2]=0,i[t+840>>2]=b*u+B*h+L*m,i[t+844>>2]=p*u+d*h+g*m,i[t+848>>2]=S*u+w*h+M*m,i[t+852>>2]=0,i[t+856>>2]=b*C+B*F+L*P,i[t+860>>2]=p*C+d*F+g*P,i[t+864>>2]=S*C+w*F+M*P,i[t+868>>2]=0,i[t+872>>2]=E,i[t+876>>2]=U,i[t+880>>2]=D,i[t+884>>2]=0,D=+i[t+52>>2],U=+i[n>>2],E=+i[t+68>>2],P=+i[n+4>>2],M=+i[t+84>>2],F=+i[n+8>>2],w=+i[t+56>>2],C=+i[t+72>>2],S=+i[t+88>>2],g=+i[t+60>>2],d=+i[t+76>>2],p=+i[t+92>>2],L=+i[n+16>>2],B=+i[n+20>>2],b=+i[n+24>>2],m=+i[n+32>>2],h=+i[n+36>>2],u=+i[n+40>>2],O=+i[t+100>>2],G=+i[t+104>>2],l=+i[t+108>>2],o=+i[n+48>>2]+(U*O+P*G+F*l),a=L*O+B*G+b*l+ +i[n+52>>2],l=m*O+h*G+u*l+ +i[n+56>>2],i[t+888>>2]=D*U+E*P+M*F,i[t+892>>2]=U*w+P*C+F*S,i[t+896>>2]=U*g+P*d+F*p,i[t+900>>2]=0,i[t+904>>2]=D*L+E*B+M*b,i[t+908>>2]=w*L+C*B+S*b,i[t+912>>2]=g*L+d*B+p*b,i[t+916>>2]=0,i[t+920>>2]=D*m+E*h+M*u,i[t+924>>2]=w*m+C*h+S*u,i[t+928>>2]=g*m+d*h+p*u,i[t+932>>2]=0,i[t+936>>2]=o,i[t+940>>2]=a,i[t+944>>2]=l,i[t+948>>2]=0,n=t+856|0,s=t+840|0):(m=+i[t+52>>2],O=+i[n>>2],d=+i[t+68>>2],a=+i[n+4>>2],h=+i[t+84>>2],o=+i[n+8>>2],F=+i[t+56>>2],B=+i[t+72>>2],D=+i[t+88>>2],E=+i[t+60>>2],w=+i[t+76>>2],C=+i[t+92>>2],P=+i[n+16>>2],L=+i[n+20>>2],b=+i[n+24>>2],M=+i[n+32>>2],p=+i[n+36>>2],u=+i[n+40>>2],G=+i[t+100>>2],U=+i[t+104>>2],g=+i[t+108>>2],S=+i[n+48>>2]+(O*G+a*U+o*g),l=P*G+L*U+b*g+ +i[n+52>>2],g=M*G+p*U+u*g+ +i[n+56>>2],i[t+824>>2]=m*O+d*a+h*o,i[t+828>>2]=O*F+a*B+o*D,i[t+832>>2]=O*E+a*w+o*C,i[t+836>>2]=0,i[t+840>>2]=m*P+d*L+h*b,i[t+844>>2]=F*P+B*L+D*b,i[t+848>>2]=E*P+w*L+C*b,i[t+852>>2]=0,i[t+856>>2]=m*M+d*p+h*u,i[t+860>>2]=F*M+B*p+D*u,i[t+864>>2]=E*M+w*p+C*u,i[t+868>>2]=0,i[t+872>>2]=S,i[t+876>>2]=l,i[t+880>>2]=g,i[t+884>>2]=0,g=+i[t+116>>2],l=+i[s>>2],S=+i[t+132>>2],u=+i[s+4>>2],C=+i[t+148>>2],p=+i[s+8>>2],w=+i[t+120>>2],M=+i[t+136>>2],E=+i[t+152>>2],D=+i[t+124>>2],B=+i[t+140>>2],F=+i[t+156>>2],h=+i[s+16>>2],d=+i[s+20>>2],m=+i[s+24>>2],b=+i[s+32>>2],L=+i[s+36>>2],P=+i[s+40>>2],o=+i[t+164>>2],a=+i[t+168>>2],O=+i[t+172>>2],U=+i[s+48>>2]+(l*o+u*a+p*O),G=h*o+d*a+m*O+ +i[s+52>>2],O=b*o+L*a+P*O+ +i[s+56>>2],i[t+888>>2]=g*l+S*u+C*p,i[t+892>>2]=l*w+u*M+p*E,i[t+896>>2]=l*D+u*B+p*F,i[t+900>>2]=0,i[t+904>>2]=g*h+S*d+C*m,i[t+908>>2]=w*h+M*d+E*m,i[t+912>>2]=D*h+B*d+F*m,i[t+916>>2]=0,i[t+920>>2]=g*b+S*L+C*P,i[t+924>>2]=w*b+M*L+E*P,i[t+928>>2]=D*b+B*L+F*P,i[t+932>>2]=0,i[t+936>>2]=U,i[t+940>>2]=G,i[t+944>>2]=O,i[t+948>>2]=0,n=t+856|0,s=t+840|0),e[t+968>>2]=e[t+872>>2],e[t+968+4>>2]=e[t+872+4>>2],e[t+968+8>>2]=e[t+872+8>>2],e[t+968+12>>2]=e[t+872+12>>2],e[t+984>>2]=e[t+936>>2],e[t+984+4>>2]=e[t+936+4>>2],e[t+984+8>>2]=e[t+936+8>>2],e[t+984+12>>2]=e[t+936+12>>2],Y=e[t+824>>2]|0,z=e[s>>2]|0,s=e[n>>2]|0,e[t+952>>2]=Y,e[t+956>>2]=z,e[t+960>>2]=s,i[t+964>>2]=0,o=(e[Z>>2]=Y,+i[Z>>2]),a=(e[Z>>2]=z,+i[Z>>2]),l=(e[Z>>2]=s,+i[Z>>2]),(R[t+180>>0]|0)==0&&(R[t+48>>0]|0)==0){E=+i[t+968>>2],P=E-+i[t+984>>2],D=+i[t+972>>2],G=D-+i[t+988>>2],b=+i[t+976>>2],O=b-+i[t+992>>2],i[t+1016>>2]=P,i[t+1020>>2]=G,i[t+1024>>2]=O,i[t+1028>>2]=0,U=o*P,B=a*G,B=U+B,U=l*O,U=B+U,B=o*U,L=a*U,F=l*U,B=E+B,L=D+L,F=b+F,Y=t+1e3|0,i[Y>>2]=B,Y=t+1004|0,i[Y>>2]=L,Y=t+1008|0,i[Y>>2]=F,Y=t+1012|0,i[Y>>2]=0,Y=t+1032|0,i[Y>>2]=U,Y=t+828|0,z=t+844|0,s=t+860|0,U=+i[Y>>2],F=+i[z>>2],L=+i[s>>2],U=U*P,F=F*G,F=U+F,L=L*O,L=F+L,s=t+1036|0,i[s>>2]=L,s=t+832|0,z=t+848|0,Y=t+864|0,L=+i[s>>2],F=+i[z>>2],U=+i[Y>>2],P=L*P,G=F*G,G=P+G,O=U*O,O=G+O,Y=t+1040|0,i[Y>>2]=O;return}E=+i[t+968>>2],P=+i[t+984>>2]-E,D=+i[t+972>>2],G=+i[t+988>>2]-D,b=+i[t+976>>2],O=+i[t+992>>2]-b,i[t+1016>>2]=P,i[t+1020>>2]=G,i[t+1024>>2]=O,i[t+1028>>2]=0,U=o*P,B=a*G,B=U+B,U=l*O,U=B+U,B=o*U,L=a*U,F=l*U,B=E+B,L=D+L,F=b+F,Y=t+1e3|0,i[Y>>2]=B,Y=t+1004|0,i[Y>>2]=L,Y=t+1008|0,i[Y>>2]=F,Y=t+1012|0,i[Y>>2]=0,Y=t+1032|0,i[Y>>2]=U,Y=t+828|0,z=t+844|0,s=t+860|0,U=+i[Y>>2],F=+i[z>>2],L=+i[s>>2],U=U*P,F=F*G,F=U+F,L=L*O,L=F+L,s=t+1036|0,i[s>>2]=L,s=t+832|0,z=t+848|0,Y=t+864|0,L=+i[s>>2],F=+i[z>>2],U=+i[Y>>2],P=L*P,G=F*G,G=P+G,O=U*O,O=G+O,Y=t+1040|0,i[Y>>2]=O}function g$(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0;if(Ae=H,H=H+16|0,Se=e[t+28>>2]|0,ke=e[t+32>>2]|0,fe=+i[Se+368>>2],Te=+i[ke+368>>2],de=e[n+24>>2]|0,ge=R[t+180>>0]|0?1:-1,ae=+i[t+936>>2]-+i[t+872>>2],xe=+i[t+940>>2]-+i[t+876>>2],ve=+i[t+944>>2]-+i[t+880>>2],we=fe+Te>0?Te/(fe+Te):.5,Y=e[t+824>>2]|0,q=e[t+840>>2]|0,X=e[t+856>>2]|0,ne=e[t+888>>2]|0,W=e[t+904>>2]|0,te=e[t+920>>2]|0,_e=(R[t+49>>0]|0)==0,_e?(b=e[t+828>>2]|0,l=e[t+844>>2]|0,C=e[t+860>>2]|0,e[Ae+4>>2]=l,D=e[t+832>>2]|0,U=e[t+848>>2]|0,Ne=e[t+864>>2]|0,e[Ae>>2]=D,E=(e[Z>>2]=C,+i[Z>>2]),M=(e[Z>>2]=D,+i[Z>>2]),m=(e[Z>>2]=U,+i[Z>>2]),G=Ne,w=(e[Z>>2]=Ne,+i[Z>>2]),Ne=Y,B=q,L=X):(s=we*(e[Z>>2]=Y,+i[Z>>2]),p=we*(e[Z>>2]=q,+i[Z>>2]),u=we*(e[Z>>2]=X,+i[Z>>2]),a=(1-we)*(e[Z>>2]=ne,+i[Z>>2]),h=(1-we)*(e[Z>>2]=W,+i[Z>>2]),u=u+(1-we)*(e[Z>>2]=te,+i[Z>>2]),d=1/+ot(+((s+a)*(s+a)+(p+h)*(p+h)+u*u)),b=(i[Z>>2]=(s+a)*d,e[Z>>2]|0),B=(i[Z>>2]=(p+h)*d,e[Z>>2]|0),L=(i[Z>>2]=u*d,e[Z>>2]|0),+ht(+(u*d))>.7071067690849304?($=1/+ot(+(u*d*(u*d)+(p+h)*d*((p+h)*d))),i[Ae+4>>2]=-(u*d*$),m=-((s+a)*d*((p+h)*d*$)),g=(s+a)*d*-(u*d*$),a=(u*d*(u*d)+(p+h)*d*((p+h)*d))*$,s=(p+h)*d*$,o=0):(g=(s+a)*d*((s+a)*d)+(p+h)*d*((p+h)*d),$=1/+ot(+g),o=(i[Z>>2]=-((p+h)*d*$),e[Z>>2]|0),i[Ae+4>>2]=(s+a)*d*$,m=u*d*-((p+h)*d*$),g=g*$,a=-(u*d*((s+a)*d*$)),s=0),C=(i[Z>>2]=s,e[Z>>2]|0),D=(i[Z>>2]=a,e[Z>>2]|0),i[Ae>>2]=a,U=(i[Z>>2]=m,e[Z>>2]|0),l=e[Ae+4>>2]|0,G=(i[Z>>2]=g,e[Z>>2]|0),E=s,M=a,w=g,Ne=b,b=o),o=e[n+12>>2]|0,e[o>>2]=b,e[o+4>>2]=l,e[o+8>>2]=C,e[o+(de<<2)>>2]=D,e[o+(de+1<<2)>>2]=U,e[o+(de+2<<2)>>2]=G,g=(e[Z>>2]=b,+i[Z>>2]),o=e[n+20>>2]|0,i[o>>2]=-g,S=+i[Ae+4>>2],i[o+4>>2]=-S,i[o+8>>2]=-E,i[o+(de<<2)>>2]=-M,i[o+(de+1<<2)>>2]=-m,i[o+(de+2<<2)>>2]=-w,o=e[t+300>>2]|0,s=+i[t+280>>2],o&128||(s=s*+i[n+4>>2]),h=s*+i[n>>2],z=(e[Z>>2]=q,+i[Z>>2]),F=(e[Z>>2]=te,+i[Z>>2]),d=(e[Z>>2]=X,+i[Z>>2]),O=(e[Z>>2]=W,+i[Z>>2]),$=(e[Z>>2]=ne,+i[Z>>2]),P=(e[Z>>2]=Y,+i[Z>>2]),oe=e[n+28>>2]|0,i[oe>>2]=h*((z*F-d*O)*g+(d*$-P*F)*S+(P*O-z*$)*E),i[oe+(de<<2)>>2]=h*((z*F-d*O)*M+(d*$-P*F)*m+(P*O-z*$)*w),o&64|0&&(oe=e[n+32>>2]|0,e[oe>>2]=e[t+292>>2],e[oe+(de<<2)>>2]=e[t+292>>2]),p=+i[Se+52>>2],h=+i[Se+56>>2],d=+i[Se+60>>2],s=+i[ke+52>>2],a=+i[ke+56>>2],u=+i[ke+60>>2],_e?(he=(i[Z>>2]=a-h,e[Z>>2]|0),z=(a-h)*E-(u-d)*S,$=(u-d)*g-(s-p)*E,_e=e[n+12>>2]|0,i[_e+(de<<1<<2)>>2]=we*z,i[_e+((de<<1|1)<<2)>>2]=we*$,i[_e+((de<<1)+2<<2)>>2]=we*((s-p)*S-(a-h)*g),_e=(i[Z>>2]=s-p,e[Z>>2]|0),pe=(i[Z>>2]=u-d,e[Z>>2]|0),me=e[n+20>>2]|0,i[me+(de<<1<<2)>>2]=(1-we)*z,i[me+((de<<1|1)<<2)>>2]=(1-we)*$,i[me+((de<<1)+2<<2)>>2]=(1-we)*((s-p)*S-(a-h)*g),$=(a-h)*w-(u-d)*m,u=(u-d)*M-(s-p)*w,d=(s-p)*m-(a-h)*M,me=e[n+12>>2]|0,i[me+(de*3<<2)>>2]=we*$,i[me+((de*3|0)+1<<2)>>2]=we*u,i[me+((de*3|0)+2<<2)>>2]=we*d,me=e[n+20>>2]|0,i[me+(de*3<<2)>>2]=(1-we)*$,i[me+((de*3|0)+1<<2)>>2]=(1-we)*u,i[me+((de*3|0)+2<<2)>>2]=(1-we)*d,q=e[n+8>>2]|0,e[q+(de<<1<<2)>>2]=b,i[q+((de<<1|1)<<2)>>2]=S,i[q+((de<<1)+2<<2)>>2]=E,q=e[n+8>>2]|0,W=e[Ae>>2]|0,e[q+(de*3<<2)>>2]=W,e[q+((de*3|0)+1<<2)>>2]=U,e[q+((de*3|0)+2<<2)>>2]=G,te=e[n+16>>2]|0,i[te+(de<<1<<2)>>2]=-g,d=+i[Ae+4>>2],i[te+((de<<1|1)<<2)>>2]=-d,i[te+((de<<1)+2<<2)>>2]=-E,te=e[n+16>>2]|0,p=(e[Z>>2]=W,+i[Z>>2]),i[te+(de*3<<2)>>2]=-p,u=(e[Z>>2]=U,+i[Z>>2]),i[te+((de*3|0)+1<<2)>>2]=-u,a=(e[Z>>2]=G,+i[Z>>2]),i[te+((de*3|0)+2<<2)>>2]=-a,h=E,W=0,ne=0,X=0,C=0,l=0,o=0):(He=+i[t+936>>2]-s,qe=+i[t+940>>2]-a,O=+i[t+944>>2]-u,g=(e[Z>>2]=Ne,+i[Z>>2]),S=(e[Z>>2]=B,+i[Z>>2]),m=(e[Z>>2]=L,+i[Z>>2]),z=+i[t+872>>2]-p,$=+i[t+876>>2]-h,u=+i[t+880>>2]-d,h=+i[t+1080>>2]-+i[t+1032>>2],w=g*(g*z+S*$+m*u)+g*h-g*(g*He+S*qe+m*O),M=S*(g*z+S*$+m*u)+S*h-S*(g*He+S*qe+m*O),h=m*(g*z+S*$+m*u)+m*h-m*(g*He+S*qe+m*O),F=z-g*(g*z+S*$+m*u)+we*w,E=$-S*(g*z+S*$+m*u)+we*M,P=u-m*(g*z+S*$+m*u)+we*h,W=(i[Z>>2]=F,e[Z>>2]|0),ne=(i[Z>>2]=E,e[Z>>2]|0),X=(i[Z>>2]=P,e[Z>>2]|0),w=He-g*(g*He+S*qe+m*O)-(1-we)*w,M=qe-S*(g*He+S*qe+m*O)-(1-we)*M,h=O-m*(g*He+S*qe+m*O)-(1-we)*h,C=(i[Z>>2]=w,e[Z>>2]|0),D=(i[Z>>2]=M,e[Z>>2]|0),b=(i[Z>>2]=h,e[Z>>2]|0),a=we*(He-g*(g*He+S*qe+m*O))+(1-we)*(z-g*(g*z+S*$+m*u)),s=we*(qe-S*(g*He+S*qe+m*O))+(1-we)*($-S*(g*z+S*$+m*u)),u=we*(O-m*(g*He+S*qe+m*O))+(1-we)*(u-m*(g*z+S*$+m*u)),i[Ae+4>>2]=s,u*u+(a*a+s*s)>11920928955078125e-23?(He=1/+ot(+(u*u+(a*a+s*s))),l=(i[Z>>2]=a*He,e[Z>>2]|0),i[Ae+4>>2]=He*s,$=He*u,p=He*s,s=a*He,o=(i[Z>>2]=He*u,e[Z>>2]|0)):(l=e[t+828>>2]|0,oe=e[t+844>>2]|0,o=e[t+860>>2]|0,e[Ae+4>>2]=oe,$=(e[Z>>2]=o,+i[Z>>2]),p=(e[Z>>2]=oe,+i[Z>>2]),s=(e[Z>>2]=l,+i[Z>>2])),O=S*$-m*p,z=m*s-g*$,m=g*p-S*s,i[Ae>>2]=O,oe=(e[n+12>>2]|0)+(de<<1<<2)|0,i[oe>>2]=E*$-P*p,i[oe+4>>2]=P*s-F*$,i[oe+8>>2]=F*p-E*s,oe=e[n+20>>2]|0,i[oe+(de<<1<<2)>>2]=-(M*$-h*p),i[oe+((de<<1|1)<<2)>>2]=-(h*s-w*$),i[oe+((de<<1)+2<<2)>>2]=-(w*p-M*s),fe<11920928955078125e-23|Te<11920928955078125e-23&&(R[t+297>>0]|0)!=0?(d=(1-we)*(M*m-h*z),h=(1-we)*(h*O-w*m),u=(1-we)*(w*z-M*O),p=we*(E*m-P*z),a=we*(F*z-E*O),s=we*(P*O-F*m)):(d=M*m-h*z,h=h*O-w*m,u=w*z-M*O,p=E*m-P*z,a=F*z-E*O,s=P*O-F*m),me=(e[n+12>>2]|0)+(de*3<<2)|0,i[me>>2]=p,i[me+4>>2]=s,i[me+8>>2]=a,me=e[n+20>>2]|0,i[me+(de*3<<2)>>2]=-d,i[me+((de*3|0)+1<<2)>>2]=-h,i[me+((de*3|0)+2<<2)>>2]=-u,q=e[n+8>>2]|0,e[q+(de<<1<<2)>>2]=l,e[q+((de<<1|1)<<2)>>2]=e[Ae+4>>2],e[q+((de<<1)+2<<2)>>2]=o,q=e[n+8>>2]|0,i[q+(de*3<<2)>>2]=O,i[q+((de*3|0)+1<<2)>>2]=z,i[q+((de*3|0)+2<<2)>>2]=m,te=e[n+16>>2]|0,g=(e[Z>>2]=l,+i[Z>>2]),i[te+(de<<1<<2)>>2]=-g,d=+i[Ae+4>>2],i[te+((de<<1|1)<<2)>>2]=-d,i[te+((de<<1)+2<<2)>>2]=-$,te=e[n+16>>2]|0,i[te+(de*3<<2)>>2]=-O,i[te+((de*3|0)+1<<2)>>2]=-z,i[te+((de*3|0)+2<<2)>>2]=-m,h=$,p=O,u=z,a=m,_e=0,pe=0,he=0,l=D,o=b),se=e[t+300>>2]|0,s=+i[t+264>>2],se&32||(s=s*+i[n+4>>2]),He=s*+i[n>>2],oe=e[n+28>>2]|0,i[oe+(de<<1<<2)>>2]=He*(ae*g+xe*d+ve*h),i[oe+(de*3<<2)>>2]=He*(ae*p+xe*u+ve*a),se&16|0&&(Y=e[n+32>>2]|0,e[Y+(de<<1<<2)>>2]=e[t+276>>2],e[Y+(de*3<<2)>>2]=e[t+276>>2]),Y=ee[t+296>>1]|0,(Y&255)<<24>>24?(w=ge*+i[t+1032>>2],G=w>0?2:1):(G=0,w=0),D=R[t+1096>>0]|0,b=(G|0)!=0,D&255|G){if(U=e[n+24>>2]<<2,e[q+(U<<2)>>2]=Ne,e[q+((U|1)<<2)>>2]=B,e[q+((U|2)<<2)>>2]=L,m=(e[Z>>2]=Ne,+i[Z>>2]),i[te+(U<<2)>>2]=-m,g=(e[Z>>2]=B,+i[Z>>2]),i[te+((U|1)<<2)>>2]=-g,S=(e[Z>>2]=L,+i[Z>>2]),i[te+((U|2)<<2)>>2]=-S,R[t+49>>0]|0?fe<11920928955078125e-23|Te<11920928955078125e-23||(Te=(e[Z>>2]=ne,+i[Z>>2]),ve=(e[Z>>2]=X,+i[Z>>2]),fe=(e[Z>>2]=W,+i[Z>>2]),He=(e[Z>>2]=l,+i[Z>>2]),we=(e[Z>>2]=o,+i[Z>>2]),qe=(e[Z>>2]=C,+i[Z>>2]),de=e[n+12>>2]|0,i[de+(U<<2)>>2]=S*Te-g*ve,i[de+((U|1)<<2)>>2]=m*ve-S*fe,i[de+((U|2)<<2)>>2]=g*fe-m*Te,i[me+(U<<2)>>2]=-(S*He-g*we),i[me+((U|1)<<2)>>2]=-(m*we-S*qe),i[me+((U|2)<<2)>>2]=-(g*qe-m*He)):(He=(e[Z>>2]=he,+i[Z>>2]),Te=(e[Z>>2]=pe,+i[Z>>2]),qe=(e[Z>>2]=_e,+i[Z>>2]),de=e[n+12>>2]|0,i[de+(U<<2)>>2]=we*(S*He-g*Te),i[de+((U|1)<<2)>>2]=we*(m*Te-S*qe),i[de+((U|2)<<2)>>2]=we*(g*qe-m*He),i[me+(U<<2)>>2]=(1-we)*(S*He-g*Te),i[me+((U|1)<<2)>>2]=(1-we)*(m*Te-S*qe),i[me+((U|2)<<2)>>2]=(1-we)*(g*qe-m*He)),o=+i[t+184>>2]==+i[t+188>>2],i[oe+(U<<2)>>2]=0,l=(e[n+36>>2]|0)+(U<<2)|0,i[l>>2]=0,C=(e[n+40>>2]|0)+(U<<2)|0,i[C>>2]=0,d=+i[((se&512|0)==0?n+4|0:t+232|0)>>2],!(D<<24>>24==0|b&o)){se&1|0&&(e[(e[n+32>>2]|0)+(U<<2)>>2]=e[t+212>>2]),h=+i[t+1100>>2],s=+i[t+1080>>2],a=+i[t+184>>2],u=+i[t+188>>2],p=d*+i[n>>2];do if(a>u)s=1;else if(a!=u){if(h/p<0)if(s>=a&&a-h/p>s){s=(a-s)/(h/p);break}else{s=s<a?0:1;break}if(h/p>0)if(s<=u&&u-h/p<s){s=(u-s)/(h/p);break}else{s=s>u?0:1;break}else s=0}else s=0;while(!1);i[oe+(U<<2)>>2]=+i[oe+(U<<2)>>2]-ge*s*h,i[l>>2]=-+i[t+1104>>2]/+i[n>>2]+ +i[l>>2],i[C>>2]=+i[t+1104>>2]/+i[n>>2]+ +i[C>>2]}if(b){i[oe+(U<<2)>>2]=+i[oe+(U<<2)>>2]+w*(d*+i[n>>2]),se&256|0&&(e[(e[n+32>>2]|0)+(U<<2)>>2]=e[t+244>>2]);do if(o)i[l>>2]=-34028234663852886e22,i[C>>2]=34028234663852886e22;else if((G|0)==1){i[l>>2]=-34028234663852886e22,i[C>>2]=0;break}else{i[l>>2]=0,i[C>>2]=34028234663852886e22;break}while(!1);He=1-+i[t+240>>2],a=+ht(+He);do if(!(He!=He|!1|He==0))if(s=ge*(m*+i[Se+336>>2]+g*+i[Se+340>>2]+S*+i[Se+344>>2]-(m*+i[ke+336>>2]+g*+i[ke+340>>2]+S*+i[ke+344>>2])),(G|0)==1){if(!(s<0)||!(+i[oe+(U<<2)>>2]<-(a*s)))break;i[oe+(U<<2)>>2]=-(a*s);break}else{if(!(s>0)||!(+i[oe+(U<<2)>>2]>-(a*s)))break;i[oe+(U<<2)>>2]=-(a*s);break}while(!1);i[oe+(U<<2)>>2]=+i[t+232>>2]*+i[oe+(U<<2)>>2],o=5}else o=5}else o=4;if((Y&65535)<256?(b=0,M=0):(M=+i[t+1088>>2],b=M>0?1:2),l=R[t+1112>>0]|0,C=(b|0)!=0,!(l&255|b)){H=Ae;return}if(D=Rt(e[n+24>>2]|0,o)|0,ke=e[n+12>>2]|0,e[ke+(D<<2)>>2]=Ne,e[ke+(D+1<<2)>>2]=B,e[ke+(D+2<<2)>>2]=L,E=(e[Z>>2]=Ne,+i[Z>>2]),i[me+(D<<2)>>2]=-E,w=(e[Z>>2]=B,+i[Z>>2]),i[me+(D+1<<2)>>2]=-w,S=(e[Z>>2]=L,+i[Z>>2]),i[me+(D+2<<2)>>2]=-S,d=+i[t+192>>2],m=+i[t+196>>2],g=+i[((se&2048|0)==0?n+4|0:t+248|0)>>2],!(l<<24>>24==0|C&d==m)){se&4?(e[(e[n+32>>2]|0)+(D<<2)>>2]=e[t+228>>2],u=+i[t+192>>2],p=+i[t+196>>2]):(u=d,p=m),s=+i[t+1084>>2],h=+i[t+1116>>2],a=g*+i[n>>2];do if(u>p)s=1;else if(u!=p){if(h/a<0)if(s>=u&&u-h/a>s){s=(u-s)/(h/a);break}else{s=s<u?0:1;break}if(h/a>0)if(s<=p&&p-h/a<s){s=(p-s)/(h/a);break}else{s=s>p?0:1;break}else s=0}else s=0;while(!1);i[oe+(D<<2)>>2]=s*h,i[(e[n+36>>2]|0)+(D<<2)>>2]=-+i[t+1120>>2]/+i[n>>2],i[(e[n+40>>2]|0)+(D<<2)>>2]=+i[t+1120>>2]/+i[n>>2]}if(!C){H=Ae;return}i[oe+(D<<2)>>2]=+i[oe+(D<<2)>>2]+M*(g*+i[n>>2]),se&1024|0&&(e[(e[n+32>>2]|0)+(D<<2)>>2]=e[t+260>>2]);do if(d!=m)if(l=(e[n+36>>2]|0)+(D<<2)|0,o=e[n+40>>2]|0,(b|0)==1){i[l>>2]=0,i[o+(D<<2)>>2]=34028234663852886e22;break}else{i[l>>2]=-34028234663852886e22,i[o+(D<<2)>>2]=0;break}else i[(e[n+36>>2]|0)+(D<<2)>>2]=-34028234663852886e22,i[(e[n+40>>2]|0)+(D<<2)>>2]=34028234663852886e22;while(!1);He=1-+i[t+256>>2],a=+ht(+He);do if(!(He!=He|!1|He==0))if(ke=e[t+28>>2]|0,n=e[t+32>>2]|0,s=E*+i[ke+352>>2]+w*+i[ke+356>>2]+S*+i[ke+360>>2]-(E*+i[n+352>>2]+w*+i[n+356>>2]+S*+i[n+360>>2]),(b|0)==1){if(!(s<0)||!(+i[oe+(D<<2)>>2]<-(a*s)))break;i[oe+(D<<2)>>2]=-(a*s);break}else{if(!(s>0)||!(+i[oe+(D<<2)>>2]>-(a*s)))break;i[oe+(D<<2)>>2]=-(a*s);break}while(!1);i[oe+(D<<2)>>2]=+i[t+248>>2]*+i[oe+(D<<2)>>2],H=Ae}function x$(t,n,s,o){switch(t=t|0,n=n|0,s=+s,o=o|0,n|0){case 2:{if((o|0)<1){i[t+232>>2]=s,e[t+300>>2]=e[t+300>>2]|512;return}if((o|0)<3){i[t+264>>2]=s,e[t+300>>2]=e[t+300>>2]|32;return}if((o|0)==3){i[t+248>>2]=s,e[t+300>>2]=e[t+300>>2]|2048;return}if((o|0)>=6)return;i[t+280>>2]=s,e[t+300>>2]=e[t+300>>2]|128;return}case 3:{if((o|0)<1){i[t+212>>2]=s,e[t+300>>2]=e[t+300>>2]|1;return}if((o|0)!=3)return;i[t+228>>2]=s,e[t+300>>2]=e[t+300>>2]|4;return}case 4:{if((o|0)<1){i[t+244>>2]=s,e[t+300>>2]=e[t+300>>2]|256;return}if((o|0)<3){i[t+276>>2]=s,e[t+300>>2]=e[t+300>>2]|16;return}if((o|0)==3){i[t+260>>2]=s,e[t+300>>2]=e[t+300>>2]|1024;return}if((o|0)>=6)return;i[t+292>>2]=s,e[t+300>>2]=e[t+300>>2]|64;return}default:return}}function y$(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;e:do switch(n|0){case 2:{if((s|0)<1){o=+i[t+232>>2];break e}if((s|0)<3){o=+i[t+264>>2];break e}if((s|0)==3){o=+i[t+248>>2];break e}(s|0)<6?o=+i[t+280>>2]:o=34028234663852886e22;break}case 3:{if((s|0)<1){o=+i[t+212>>2];break e}(s|0)==3?o=+i[t+228>>2]:o=34028234663852886e22;break}case 4:{if((s|0)<1){o=+i[t+244>>2];break e}if((s|0)<3){o=+i[t+276>>2];break e}if((s|0)==3){o=+i[t+260>>2];break e}(s|0)<6?o=+i[t+292>>2]:o=34028234663852886e22;break}default:o=34028234663852886e22}while(!1);return+o}function v$(t){return t=t|0,204}function S$(t,n,s){return t=t|0,n=n|0,s=s|0,ya(t,n,s)|0,e[n+52>>2]=e[t+52>>2],e[n+56>>2]=e[t+56>>2],e[n+60>>2]=e[t+60>>2],e[n+64>>2]=e[t+64>>2],e[n+68>>2]=e[t+68>>2],e[n+72>>2]=e[t+72>>2],e[n+76>>2]=e[t+76>>2],e[n+80>>2]=e[t+80>>2],e[n+84>>2]=e[t+84>>2],e[n+88>>2]=e[t+88>>2],e[n+92>>2]=e[t+92>>2],e[n+96>>2]=e[t+96>>2],e[n+100>>2]=e[t+100>>2],e[n+104>>2]=e[t+104>>2],e[n+108>>2]=e[t+108>>2],e[n+112>>2]=e[t+112>>2],e[n+116>>2]=e[t+116>>2],e[n+120>>2]=e[t+120>>2],e[n+124>>2]=e[t+124>>2],e[n+128>>2]=e[t+128>>2],e[n+132>>2]=e[t+132>>2],e[n+136>>2]=e[t+136>>2],e[n+140>>2]=e[t+140>>2],e[n+144>>2]=e[t+144>>2],e[n+148>>2]=e[t+148>>2],e[n+152>>2]=e[t+152>>2],e[n+156>>2]=e[t+156>>2],e[n+160>>2]=e[t+160>>2],e[n+164>>2]=e[t+164>>2],e[n+168>>2]=e[t+168>>2],e[n+172>>2]=e[t+172>>2],e[n+176>>2]=e[t+176>>2],e[n+180>>2]=e[t+188>>2],e[n+184>>2]=e[t+184>>2],e[n+188>>2]=e[t+196>>2],e[n+192>>2]=e[t+192>>2],e[n+196>>2]=It[t+180>>0],e[n+200>>2]=It[t+49>>0],15616}function C$(t){return t=t|0,e[t+300>>2]|0}function th(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;o=H,H=H+16|0,e[t+4>>2]=n,e[t>>2]=7188,e[t+8>>2]=-1,e[t+12>>2]=-1,i[t+16>>2]=34028234663852886e22,R[t+20>>0]=1,R[t+21>>0]=0,e[t+24>>2]=-1,e[t+28>>2]=s,R[19880]|0||(R[19880]=1,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,eu(21260,0,0,0,o)),e[5366]=e[5366]|1,i[5407]=0,a=+i[5417]*0,l=+i[5418]*0,i[5412]=+i[5416]*0,i[5413]=a,i[5414]=l,i[5415]=0,e[5420]=0,e[5421]=0,e[5422]=0,e[5423]=0,l=+i[5409]*0,a=+i[5410]*0,i[5461]=+i[5408]*0,i[5462]=l,i[5463]=a,i[5464]=0,e[t+32>>2]=21260,i[t+36>>2]=0,i[t+40>>2]=.30000001192092896,e[t+44>>2]=0,H=o}function T$(t){t=t|0;var n=0;if(e[t>>2]=7916,n=e[t+520>>2]|0,n|0&&(R[t+524>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+520>>2]=0),R[t+524>>0]=1,e[t+520>>2]=0,e[t+512>>2]=0,e[t+516>>2]=0,e[t>>2]=3156,n=e[t+276>>2]|0,!n){R[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,t=t+272|0,e[t>>2]=0;return}R[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+276>>2]=0,R[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,t=t+272|0,e[t>>2]=0}function ya(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;if(e[n>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+28>>2]|0)|0,e[n+4>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+32>>2]|0)|0,o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n+8>>2]=a,a|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+12>>2]=e[t+4>>2],e[n+24>>2]=It[t+21>>0],e[n+40>>2]=e[t+24>>2],e[n+44>>2]=e[t+16>>2],e[n+48>>2]=It[t+20>>0],e[n+20>>2]=e[t+12>>2],e[n+16>>2]=e[t+8>>2],e[n+28>>2]=e[t+36>>2],e[n+32>>2]=e[t+40>>2],e[n+36>>2]=0,o=e[t+28>>2]|0,(e[o+512>>2]|0)>0){s=0;do(e[(e[o+520>>2]|0)+(s<<2)>>2]|0)==(t|0)&&(e[n+36>>2]=1,o=e[t+28>>2]|0),s=s+1|0;while((s|0)<(e[o+512>>2]|0))}if(o=e[t+32>>2]|0,(e[o+512>>2]|0)>0)s=0;else return 15639;do(e[(e[o+520>>2]|0)+(s<<2)>>2]|0)==(t|0)&&(e[n+36>>2]=1,o=e[t+32>>2]|0),s=s+1|0;while((s|0)<(e[o+512>>2]|0));return 15639}function r6(t){t=t|0;var n=0,s=0,o=0;if(e[t>>2]=7656,R[t+272>>0]|0&&(n=e[t+204>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+204>>2]|0,n|0)&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+196>>2]|0,n|0&&(Vt[e[e[n>>2]>>2]&255](n),s=e[t+196>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),R[t+273>>0]|0&&(o=e[t+200>>2]|0,Vt[e[e[o>>2]>>2]&255](o),o=e[t+200>>2]|0,o|0)&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),n=e[t+316>>2]|0,n|0&&(R[t+320>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+316>>2]=0),R[t+320>>0]=1,e[t+316>>2]=0,e[t+308>>2]=0,e[t+312>>2]=0,n=e[t+288>>2]|0,n|0&&(R[t+292>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+288>>2]=0),R[t+292>>0]=1,e[t+288>>2]=0,e[t+280>>2]=0,e[t+284>>2]=0,n=e[t+240>>2]|0,n|0&&(R[t+244>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+240>>2]=0),R[t+244>>0]=1,e[t+240>>2]=0,e[t+232>>2]=0,e[t+236>>2]=0,n=e[t+220>>2]|0,n|0&&(R[t+224>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+220>>2]=0),R[t+224>>0]=1,e[t+220>>2]=0,e[t+212>>2]=0,e[t+216>>2]=0,n=e[t+188>>2]|0,!n){R[t+192>>0]=1,e[t+188>>2]=0,e[t+180>>2]=0,o=t+184|0,e[o>>2]=0,Vf(t);return}R[t+192>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+188>>2]=0,R[t+192>>0]=1,e[t+188>>2]=0,e[t+180>>2]=0,o=t+184|0,e[o>>2]=0,Vf(t)}function w$(t){t=t|0,r6(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function M$(t){t=t|0;var n=0,s=0,o=0;o=H,H=H+16|0,Xn(15710),C6(t);e:do if(Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0&&(s=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,(Tt[e[(e[s>>2]|0)+56>>2]&127](s)|0)&6144|0))for(s=Tt[e[(e[t>>2]|0)+104>>2]&127](t)|0;;){if(n=s+-1|0,(s|0)<=0)break e;s=I0[e[(e[t>>2]|0)+108>>2]&31](t,n)|0,zt[e[(e[t>>2]|0)+168>>2]&127](t,s),s=n}while(!1);if(Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0&&(s=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,(Tt[e[(e[s>>2]|0)+56>>2]&127](s)|0)&16387|0)&&Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0&&(s=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,Tt[e[(e[s>>2]|0)+56>>2]&127](s)|0)&&(e[t+280>>2]|0)>0){n=0;do s=e[(e[t+288>>2]|0)+(n<<2)>>2]|0,zt[e[(e[s>>2]|0)+12>>2]&127](s,e[t+72>>2]|0),n=n+1|0;while((n|0)<(e[t+280>>2]|0))}if(Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0&&(t=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,Vt[e[(e[t>>2]|0)+100>>2]&255](t)),n=e[2006]|0,t=(e[n+16>>2]|0)+-1|0,e[n+16>>2]=t,t|0){H=o;return}do if(e[n+4>>2]|0)if(Cn(o|0,0)|0,t=e[5649]|0,i[n+8>>2]=+i[n+8>>2]+ +(((e[o+4>>2]|0)-(e[t+4>>2]|0)+(((e[o>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[n+12>>2]|0)|0)>>>0)/1e3,e[n+16>>2]|0){H=o;return}else{n=e[2006]|0;break}while(!1);e[2006]=e[n+20>>2],H=o}function R$(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,M6(t,n,s,o)}function A$(t,n){if(t=t|0,n=n|0,(n|0)==0||(e[n+236>>2]&2|0)==0){R6(t,n);return}else{zt[e[(e[t>>2]|0)+92>>2]&127](t,n);return}}function E$(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;Vt[e[(e[n>>2]|0)+32>>2]&255](n),s=G0[e[(e[n>>2]|0)+16>>2]&63](n,104,1)|0,o=e[s+8>>2]|0,a=o,l=a+104|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(l|0));e[o+88>>2]=e[t+248>>2],e[o+92>>2]=e[t+252>>2],e[o+96>>2]=e[t+256>>2],e[o+100>>2]=e[t+260>>2],e[o>>2]=e[t+92>>2],e[o+4>>2]=e[t+96>>2],e[o+8>>2]=e[t+100>>2],e[o+12>>2]=e[t+104>>2],e[o+16>>2]=e[t+108>>2],e[o+20>>2]=e[t+116>>2],e[o+24>>2]=e[t+120>>2],e[o+28>>2]=e[t+124>>2],e[o+32>>2]=e[t+128>>2],e[o+36>>2]=e[t+132>>2],e[o+40>>2]=e[t+140>>2],e[o+44>>2]=e[t+144>>2],e[o+48>>2]=e[t+148>>2],e[o+52>>2]=e[t+152>>2],e[o+56>>2]=e[t+168>>2],e[o+60>>2]=e[t+172>>2],e[o+64>>2]=e[t+112>>2],e[o+68>>2]=e[t+156>>2],e[o+72>>2]=e[t+160>>2],e[o+76>>2]=e[t+164>>2],e[o+80>>2]=e[t+136>>2],Zi[e[(e[n>>2]|0)+20>>2]&31](n,s,15725,1145853764,o),A6(t,n),N$(t,n),Vt[e[(e[n>>2]|0)+36>>2]&255](n)}function N$(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+8>>2]|0,(s|0)>0){a=0;do o=e[(e[t+16>>2]|0)+(a<<2)>>2]|0,e[o+236>>2]&2&&(l=Tt[e[(e[o>>2]|0)+16>>2]&127](o)|0,l=G0[e[(e[n>>2]|0)+16>>2]&63](n,l,1)|0,s=G0[e[(e[o>>2]|0)+20>>2]&63](o,e[l+8>>2]|0,n)|0,Zi[e[(e[n>>2]|0)+20>>2]&31](n,l,s,1497645650,o),s=e[t+8>>2]|0),a=a+1|0;while((a|0)<(s|0))}if(!((e[t+212>>2]|0)<=0)){s=0;do l=e[(e[t+220>>2]|0)+(s<<2)>>2]|0,o=Tt[e[(e[l>>2]|0)+36>>2]&127](l)|0,o=G0[e[(e[n>>2]|0)+16>>2]&63](n,o,1)|0,a=G0[e[(e[l>>2]|0)+40>>2]&63](l,e[o+8>>2]|0,n)|0,Zi[e[(e[n>>2]|0)+20>>2]&31](n,o,a,1397641027,l),s=s+1|0;while((s|0)<(e[t+212>>2]|0))}}function b$(t,n,s,o){t=t|0,n=+n,s=s|0,o=+o;var a=0,l=0,u=0,p=0;if(p=H,H=H+16|0,Cn(e[5649]|0,0)|0,Bf(22556),e[5640]=(e[5640]|0)+1,u=e[5643]|0,e[5643]=u+1,u||(Cn(p|0,0)|0,u=e[5649]|0,e[5642]=(e[p+4>>2]|0)-(e[u+4>>2]|0)+(((e[p>>2]|0)-(e[u>>2]|0)|0)*1e6|0)),e[5648]=0,Cn(p|0,0)|0,Xn(15750),s?(i[t+268>>2]=o,l=+i[t+264>>2]+n,i[t+264>>2]=l,l>=o?(i[t+264>>2]=l-+(~~(l/o)|0)*o,n=o,u=~~(l/o)):(n=o,u=0)):(i[t+264>>2]=R[t+300>>0]|0?0:n,i[t+268>>2]=0,u=!(+ht(+n)<11920928955078125e-23)&1,s=u),Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0&&(a=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,R[23328]=(Tt[e[(e[a>>2]|0)+56>>2]&127](a)|0)>>>4&1),u)if(s=(u|0)>(s|0)?s:u,m2[e[(e[t>>2]|0)+164>>2]&31](t,n*+(s|0)),Vt[e[(e[t>>2]|0)+172>>2]&255](t),(s|0)>0){a=0;do m2[e[(e[t>>2]|0)+160>>2]&31](t,n),Vt[e[(e[t>>2]|0)+80>>2]&255](t),a=a+1|0;while((a|0)<(s|0));s=t}else s=t;else Vt[e[(e[t>>2]|0)+80>>2]&255](t),s=t;if(Vt[e[(e[s>>2]|0)+120>>2]&255](t),e[5648]=(e[5648]|0)+1,s=e[2006]|0,t=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=t,t|0)return H=p,u|0;do if(e[s+4>>2]|0){if(Cn(p|0,0)|0,t=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[p+4>>2]|0)-(e[t+4>>2]|0)+(((e[p>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0)return H=p,u|0;s=e[2006]|0;break}while(!1);return e[2006]=e[s+20>>2],H=p,u|0}function D$(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0;if(o=e[t+212>>2]|0,(o|0)==(e[t+216>>2]|0)&&(u=o|0?o<<1:1,(o|0)<(u|0))){if(u?(e[5637]=(e[5637]|0)+1,o=Xe((u<<2|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,l=o,o=e[t+212>>2]|0):l=0,(o|0)>0){a=0;do e[l+(a<<2)>>2]=e[(e[t+220>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[t+220>>2]|0,a&&(R[t+224>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[t+212>>2]|0),e[t+220>>2]=0),R[t+224>>0]=1,e[t+220>>2]=l,e[t+216>>2]=u}e[(e[t+220>>2]|0)+(o<<2)>>2]=n,e[t+212>>2]=o+1,s&&(l6(e[n+28>>2]|0,n),l6(e[n+32>>2]|0,n))}function I$(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;a=e[t+212>>2]|0;e:do if((a|0)>0){for(l=e[t+220>>2]|0,s=0;o=l+(s<<2)|0,(e[o>>2]|0)!=(n|0);)if(s=s+1|0,(s|0)>=(a|0))break e;(s|0)<(a|0)&&(e[o>>2]=e[l+(a+-1<<2)>>2],e[(e[t+220>>2]|0)+(a+-1<<2)>>2]=n,e[t+212>>2]=a+-1)}while(!1);u6(e[n+28>>2]|0,n),u6(e[n+32>>2]|0,n)}function P$(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+280>>2]|0,(s|0)==(e[t+284>>2]|0)&&(l=s|0?s<<1:1,(s|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=s,s=e[t+280>>2]|0):a=0,(s|0)>0){o=0;do e[a+(o<<2)>>2]=e[(e[t+288>>2]|0)+(o<<2)>>2],o=o+1|0;while((o|0)!=(s|0))}o=e[t+288>>2]|0,o&&(R[t+292>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0),s=e[t+280>>2]|0),e[t+288>>2]=0),R[t+292>>0]=1,e[t+288>>2]=a,e[t+284>>2]=l}e[(e[t+288>>2]|0)+(s<<2)>>2]=n,e[t+280>>2]=s+1}function L$(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;if(a=e[t+280>>2]|0,!((a|0)<=0)){for(l=e[t+288>>2]|0,s=0;o=l+(s<<2)|0,(e[o>>2]|0)!=(n|0);)if(s=s+1|0,(s|0)>=(a|0)){u=7;break}(u|0)!=7&&((s|0)>=(a|0)||(e[o>>2]=e[l+(a+-1<<2)>>2],e[(e[t+288>>2]|0)+(a+-1<<2)>>2]=n,e[t+280>>2]=a+-1))}}function k$(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0;if(e[t+248>>2]=e[n>>2],e[t+248+4>>2]=e[n+4>>2],e[t+248+8>>2]=e[n+8>>2],e[t+248+12>>2]=e[n+12>>2],s=e[t+232>>2]|0,!((s|0)<=0)){l=0;do{switch(a=e[(e[t+240>>2]|0)+(l<<2)>>2]|0,e[a+216>>2]|0){case 2:case 5:break;default:e[a+528>>2]&1||(o=+i[a+368>>2],o!=0&&(p=1/o*+i[n+4>>2],u=1/o*+i[n+8>>2],i[a+388>>2]=1/o*+i[n>>2],i[a+392>>2]=p,i[a+396>>2]=u,i[a+400>>2]=0),e[a+404>>2]=e[n>>2],e[a+404+4>>2]=e[n+4>>2],e[a+404+8>>2]=e[n+8>>2],e[a+404+12>>2]=e[n+12>>2],s=e[t+232>>2]|0)}l=l+1|0}while((l|0)<(s|0))}}function F$(t,n){t=t|0,n=n|0,e[t>>2]=e[n+248>>2],e[t+4>>2]=e[n+248+4>>2],e[t+8>>2]=e[n+248+8>>2],e[t+12>>2]=e[n+248+12>>2]}function B$(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0;p=H,H=H+64|0,Xn(15765);e:do if(R[t+274>>0]|0){if(n=e[t+8>>2]|0,(n|0)>0){a=0;do o=e[(e[t+16>>2]|0)+(a<<2)>>2]|0,!((o|0)==0||(e[o+236>>2]&2|0)==0)&&(e[o+504>>2]|0)!=0&&(e[o+204>>2]&3|0)==0&&((R[t+300>>0]|0)!=0&&(l=+i[t+268>>2],l!=0)?s=+i[t+264>>2]-l:s=+i[t+264>>2]*+i[o+248>>2],Js(o+68|0,+i[o+132>>2],+i[o+136>>2],+i[o+140>>2],o+148|0,s,p),n=e[o+504>>2]|0,zt[e[(e[n>>2]|0)+12>>2]&127](n,p),n=e[t+8>>2]|0),a=a+1|0;while((a|0)<(n|0))}}else if(n=e[t+232>>2]|0,(n|0)>0)for(a=0;;){switch(o=e[(e[t+240>>2]|0)+(a<<2)>>2]|0,e[o+216>>2]|0){case 2:case 5:break;default:(e[o+504>>2]|0)!=0&&(e[o+204>>2]&3|0)==0&&((R[t+300>>0]|0)!=0&&(u=+i[t+268>>2],u!=0)?s=+i[t+264>>2]-u:s=+i[t+264>>2]*+i[o+248>>2],Js(o+68|0,+i[o+132>>2],+i[o+136>>2],+i[o+140>>2],o+148|0,s,p),n=e[o+504>>2]|0,zt[e[(e[n>>2]|0)+12>>2]&127](n,p),n=e[t+232>>2]|0)}if(a=a+1|0,(a|0)>=(n|0))break e}while(!1);if(n=e[2006]|0,t=(e[n+16>>2]|0)+-1|0,e[n+16>>2]=t,t|0){H=p;return}do if(e[n+4>>2]|0)if(Cn(p|0,0)|0,t=e[5649]|0,i[n+8>>2]=+i[n+8>>2]+ +(((e[p+4>>2]|0)-(e[t+4>>2]|0)+(((e[p>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[n+12>>2]|0)|0)>>>0)/1e3,e[n+16>>2]|0){H=p;return}else{n=e[2006]|0;break}while(!1);e[2006]=e[n+20>>2],H=p}function U$(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0;if(s=e[n+204>>2]|0,(s&3|0)==0&&(e[n+528>>2]&1|0)==0&&(a=+i[n+368>>2],a!=0&&(h=1/a*+i[t+252>>2],p=1/a*+i[t+256>>2],i[n+388>>2]=1/a*+i[t+248>>2],i[n+392>>2]=h,i[n+396>>2]=p,i[n+400>>2]=0),e[n+404>>2]=e[t+248>>2],e[n+404+4>>2]=e[t+248+4>>2],e[n+404+8>>2]=e[t+248+8>>2],e[n+404+12>>2]=e[t+248+12>>2]),!!(e[n+192>>2]|0)){if(s&1)(e[n+216>>2]&-2|0)!=4&&(e[n+216>>2]=2);else{if(o=e[t+232>>2]|0,(o|0)==(e[t+236>>2]|0)&&(u=o|0?o<<1:1,(o|0)<(u|0))){if(u?(e[5637]=(e[5637]|0)+1,s=Xe((u<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+232>>2]|0):s=0,(o|0)>0){l=0;do e[s+(l<<2)>>2]=e[(e[t+240>>2]|0)+(l<<2)>>2],l=l+1|0;while((l|0)!=(o|0))}l=e[t+240>>2]|0,l&&(R[t+244>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0),o=e[t+232>>2]|0),e[t+240>>2]=0),R[t+244>>0]=1,e[t+240>>2]=s,e[t+236>>2]=u,s=e[n+204>>2]|0}e[(e[t+240>>2]|0)+(o<<2)>>2]=n,e[t+232>>2]=o+1}u=(s&3|0)==0,Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,u?1:2,u?-1:-3)}}function O$(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0;if(a=e[n+204>>2]|0,(a&3|0)==0&&(e[n+528>>2]&1|0)==0&&(l=+i[n+368>>2],l!=0&&(m=1/l*+i[t+252>>2],d=1/l*+i[t+256>>2],i[n+388>>2]=1/l*+i[t+248>>2],i[n+392>>2]=m,i[n+396>>2]=d,i[n+400>>2]=0),e[n+404>>2]=e[t+248>>2],e[n+404+4>>2]=e[t+248+4>>2],e[n+404+8>>2]=e[t+248+8>>2],e[n+404+12>>2]=e[t+248+12>>2]),!!(e[n+192>>2]|0)){if(a&1)(e[n+216>>2]&-2|0)!=4&&(e[n+216>>2]=2);else{if(a=e[t+232>>2]|0,(a|0)==(e[t+236>>2]|0)&&(h=a|0?a<<1:1,(a|0)<(h|0))){if(h?(e[5637]=(e[5637]|0)+1,a=Xe((h<<2|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,p=a,a=e[t+232>>2]|0):p=0,(a|0)>0){u=0;do e[p+(u<<2)>>2]=e[(e[t+240>>2]|0)+(u<<2)>>2],u=u+1|0;while((u|0)!=(a|0))}u=e[t+240>>2]|0,u&&(R[t+244>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0),a=e[t+232>>2]|0),e[t+240>>2]=0),R[t+244>>0]=1,e[t+240>>2]=p,e[t+236>>2]=h}e[(e[t+240>>2]|0)+(a<<2)>>2]=n,e[t+232>>2]=a+1}Kt[e[(e[t>>2]|0)+36>>2]&127](t,n,s,o)}}function G$(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;a=e[t+232>>2]|0;e:do if((a|0)>0){for(l=e[t+240>>2]|0,s=0;o=l+(s<<2)|0,(e[o>>2]|0)!=(n|0);)if(s=s+1|0,(s|0)>=(a|0))break e;(s|0)<(a|0)&&(e[o>>2]=e[l+(a+-1<<2)>>2],e[(e[t+240>>2]|0)+(a+-1<<2)>>2]=n,e[t+232>>2]=a+-1)}while(!1);if(s=e[n+188>>2]|0,s|0&&(l=e[t+68>>2]|0,l=Tt[e[(e[l>>2]|0)+36>>2]&127](l)|0,f0[e[(e[l>>2]|0)+40>>2]&127](l,s,e[t+24>>2]|0),l=e[t+68>>2]|0,f0[e[(e[l>>2]|0)+12>>2]&127](l,s,e[t+24>>2]|0),e[n+188>>2]=0),a=e[t+8>>2]|0,!((a|0)<=0)){for(l=e[t+16>>2]|0,s=0;o=l+(s<<2)|0,(e[o>>2]|0)!=(n|0);)if(s=s+1|0,(s|0)>=(a|0)){u=15;break}(u|0)!=15&&((s|0)>=(a|0)||(e[o>>2]=e[l+(a+-1<<2)>>2],e[(e[t+16>>2]|0)+(a+-1<<2)>>2]=n,e[t+8>>2]=a+-1))}}function V$(t,n){t=t|0,n=n|0;var s=0;R[t+273>>0]|0&&(s=e[t+200>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),R[t+273>>0]=0,e[t+200>>2]=n,e[(e[t+196>>2]|0)+8>>2]=n}function z$(t){return t=t|0,e[t+200>>2]|0}function W$(t){return t=t|0,e[t+212>>2]|0}function H$(t,n){return t=t|0,n=n|0,e[(e[t+220>>2]|0)+(n<<2)>>2]|0}function j$(t,n){return t=t|0,n=n|0,e[(e[t+220>>2]|0)+(n<<2)>>2]|0}function q$(t){return t=t|0,2}function X$(t){t=t|0;var n=0,s=0;if(!((e[t+232>>2]|0)<=0)){n=0;do s=(e[(e[t+240>>2]|0)+(n<<2)>>2]|0)+436|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[s+16>>2]=0,e[s+20>>2]=0,e[s+24>>2]=0,e[s+28>>2]=0,n=n+1|0;while((n|0)<(e[t+232>>2]|0))}}function $$(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+64>>2]&127](t,n)}function Y$(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+68>>2]&127](t,n)}function K$(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+64>>2]&127](t,n)}function Z$(t,n){t=t|0,n=n|0,zt[e[(e[t>>2]|0)+68>>2]&127](t,n)}function Q$(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0;if(l=H,H=H+16|0,Xn(15789),s=e[t+232>>2]|0,(s|0)>0){a=0;do o=e[(e[t+240>>2]|0)+(a<<2)>>2]|0,e[o+204>>2]&3||(vY(o,n),Js(o+4|0,+i[o+336>>2],+i[o+340>>2],+i[o+344>>2],o+352|0,n,o+68|0),s=e[t+232>>2]|0),a=a+1|0;while((a|0)<(s|0))}if(s=e[2006]|0,t=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=t,t|0){H=l;return}do if(e[s+4>>2]|0)if(Cn(l|0,0)|0,t=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[l+4>>2]|0)-(e[t+4>>2]|0)+(((e[l>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0){H=l;return}else{s=e[2006]|0;break}while(!1);e[2006]=e[s+20>>2],H=l}function J$(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;C=H,H=H+304|0,Xn(15815);e:do if((e[t+232>>2]|0)>0)for(h=C+136+48|0,d=0;;){p=e[(e[t+240>>2]|0)+(d<<2)>>2]|0,i[p+248>>2]=1;t:do switch(e[p+216>>2]|0){case 2:case 5:break;default:if(!(e[p+204>>2]&3)){if(Js(p+4|0,+i[p+336>>2],+i[p+340>>2],+i[p+344>>2],p+352|0,n,C+136|0),o=+i[h>>2]-+i[p+52>>2],l=+i[C+136+52>>2]-+i[p+56>>2],u=+i[C+136+56>>2]-+i[p+60>>2],R[t+44>>0]|0&&(w=+i[p+256>>2],w*w!=0?w*w<o*o+l*l+u*u:0)){Xn(15835),(e[(e[p+192>>2]|0)+4>>2]|0)<20?(e[5475]=(e[5475]|0)+1,s=e[t+68>>2]|0,s=Tt[e[(e[s>>2]|0)+36>>2]&127](s)|0,a=e[t+24>>2]|0,i[C+200+4>>2]=1,ee[C+200+8>>1]=1,ee[C+200+10>>1]=-1,e[C+200>>2]=7848,e[C+200+12>>2]=e[p+52>>2],e[C+200+12+4>>2]=e[p+52+4>>2],e[C+200+12+8>>2]=e[p+52+8>>2],e[C+200+12+12>>2]=e[p+52+12>>2],e[C+200+28>>2]=e[h>>2],e[C+200+28+4>>2]=e[h+4>>2],e[C+200+28+8>>2]=e[h+8>>2],e[C+200+28+12>>2]=e[h+12>>2],e[C+200+76>>2]=0,e[C+200>>2]=7872,e[C+200+80>>2]=p,e[C+200+88>>2]=s,e[C+200+92>>2]=a,a=e[p+252>>2]|0,e[C+64+8>>2]=0,e[C+64+12>>2]=-1,e[C+64+16>>2]=1065353216,e[C+64+20>>2]=1065353216,e[C+64+24>>2]=1065353216,i[C+64+28>>2]=0,e[C+64>>2]=6380,e[C+64+4>>2]=8,e[C+64+32>>2]=a,e[C+64+48>>2]=a,e[C+200+84>>2]=e[t+56>>2],a=e[(e[p+188>>2]|0)+4>>2]|0,ee[C+200+8>>1]=a,ee[C+200+10>>1]=a>>>16,e[C+48>>2]=e[h>>2],e[C+48+4>>2]=e[h+4>>2],e[C+48+8>>2]=e[h+8>>2],e[C+48+12>>2]=e[h+12>>2],e[C>>2]=e[p+4>>2],e[C+4>>2]=e[p+4+4>>2],e[C+8>>2]=e[p+4+8>>2],e[C+12>>2]=e[p+4+12>>2],e[C+16>>2]=e[p+20>>2],e[C+16+4>>2]=e[p+20+4>>2],e[C+16+8>>2]=e[p+20+8>>2],e[C+16+12>>2]=e[p+20+12>>2],e[C+32>>2]=e[p+36>>2],e[C+32+4>>2]=e[p+36+4>>2],e[C+32+8>>2]=e[p+36+8>>2],e[C+32+12>>2]=e[p+36+12>>2],t1(t,C+64|0,p+4|0,C,C+200|0,0),o=+i[C+200+4>>2],o<1?(i[p+248>>2]=o,Js(p+4|0,+i[p+336>>2],+i[p+340>>2],+i[p+344>>2],p+352|0,o*n,C+136|0),i[p+248>>2]=0,ih(p,C+136|0),s=4):s=0,s||(m=12)):m=12,(m|0)==12&&(m=0,s=0),a=e[2006]|0,M=(e[a+16>>2]|0)+-1|0,e[a+16>>2]=M;do if(!M){if(e[a+4>>2]|0){if(Cn(C+200|0,0)|0,M=e[5649]|0,i[a+8>>2]=+i[a+8>>2]+ +(((e[C+200+4>>2]|0)-(e[M+4>>2]|0)+(((e[C+200>>2]|0)-(e[M>>2]|0)|0)*1e6|0)-(e[a+12>>2]|0)|0)>>>0)/1e3,e[a+16>>2]|0)break;a=e[2006]|0}e[2006]=e[a+20>>2]}while(!1);if(s|0)break t}ih(p,C+136|0)}}while(!1);if(d=d+1|0,(d|0)>=(e[t+232>>2]|0))break e}while(!1);do if(R[t+275>>0]|0){if(Xn(15892),(e[t+308>>2]|0)>0){m=0;do{if(d=e[(e[t+316>>2]|0)+(m<<2)>>2]|0,p=e[d+740>>2]|0,p=(e[p+236>>2]&2|0)==0?0:p,h=e[d+744>>2]|0,h=(e[h+236>>2]&2|0)==0?0:h,s=e[d+748>>2]|0,(s|0)>0)if(p){a=0;do o=+i[p+228>>2]*+i[h+228>>2],o>0&&(S=+i[d+4+(a*184|0)+120>>2],S!=0)&&(u=o*(+i[d+4+(a*184|0)+64>>2]*S),n=o*(+i[d+4+(a*184|0)+68>>2]*S),w=o*(+i[d+4+(a*184|0)+72>>2]*S),i[C+200>>2]=-u,i[C+200+4>>2]=-n,i[C+200+8>>2]=-w,i[C+200+12>>2]=0,l=+i[d+4+(a*184|0)+52>>2]-+i[p+56>>2],o=+i[d+4+(a*184|0)+56>>2]-+i[p+60>>2],i[C+64>>2]=+i[d+4+(a*184|0)+48>>2]-+i[p+52>>2],i[C+64+4>>2]=l,i[C+64+8>>2]=o,i[C+64+12>>2]=0,o=+i[d+4+(a*184|0)+36>>2]-+i[h+56>>2],l=+i[d+4+(a*184|0)+40>>2]-+i[h+60>>2],i[C>>2]=+i[d+4+(a*184|0)+32>>2]-+i[h+52>>2],i[C+4>>2]=o,i[C+8>>2]=l,i[C+12>>2]=0,B1(p,C+200|0,C+64|0),i[C+120>>2]=u,i[C+120+4>>2]=n,i[C+120+8>>2]=w,i[C+120+12>>2]=0,B1(h,C+120|0,C),s=e[d+748>>2]|0),a=a+1|0;while((a|0)<(s|0))}else{a=0;do o=+i[57]*+i[h+228>>2],o>0&&(g=+i[d+4+(a*184|0)+120>>2],g!=0)&&(u=o*(+i[d+4+(a*184|0)+64>>2]*g),n=o*(+i[d+4+(a*184|0)+68>>2]*g),w=o*(+i[d+4+(a*184|0)+72>>2]*g),o=+i[d+4+(a*184|0)+36>>2]-+i[h+56>>2],l=+i[d+4+(a*184|0)+40>>2]-+i[h+60>>2],i[C>>2]=+i[d+4+(a*184|0)+32>>2]-+i[h+52>>2],i[C+4>>2]=o,i[C+8>>2]=l,i[C+12>>2]=0,i[C+120>>2]=u,i[C+120+4>>2]=n,i[C+120+8>>2]=w,i[C+120+12>>2]=0,B1(h,C+120|0,C),s=e[d+748>>2]|0),a=a+1|0;while((a|0)<(s|0))}m=m+1|0}while((m|0)<(e[t+308>>2]|0))}if(s=e[2006]|0,M=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=M,!M){if(e[s+4>>2]|0){if(Cn(C+200|0,0)|0,M=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[C+200+4>>2]|0)-(e[M+4>>2]|0)+(((e[C+200>>2]|0)-(e[M>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0)break;s=e[2006]|0}e[2006]=e[s+20>>2]}}while(!1);if(s=e[2006]|0,M=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=M,M|0){H=C;return}do if(e[s+4>>2]|0)if(Cn(C+200|0,0)|0,M=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[C+200+4>>2]|0)-(e[M+4>>2]|0)+(((e[C+200>>2]|0)-(e[M>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0){H=C;return}else{s=e[2006]|0;break}while(!1);e[2006]=e[s+20>>2],H=C}function eY(t){t=t|0,ye(t)}function tY(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;return e[t+4>>2]=e[n+40>>2],o=e[n>>2]|0,e[t+76>>2]=o,s?(e[t+44>>2]=e[n+8>>2],e[t+44+4>>2]=e[n+8+4>>2],e[t+44+8>>2]=e[n+8+8>>2],e[t+44+12>>2]=e[n+8+12>>2],t=t+60|0,s=n+24|0,e[t>>2]=e[s>>2],e[t+4>>2]=e[s+4>>2],e[t+8>>2]=e[s+8>>2],e[t+12>>2]=e[s+12>>2],a=+i[n+40>>2],+a):(h=+i[n+8>>2],p=+i[n+12>>2],u=+i[n+16>>2],l=h*+i[o+20>>2]+p*+i[o+24>>2]+u*+i[o+28>>2],a=h*+i[o+36>>2]+p*+i[o+40>>2]+u*+i[o+44>>2],i[t+44>>2]=+i[o+4>>2]*h+ +i[o+8>>2]*p+ +i[o+12>>2]*u,i[t+48>>2]=l,i[t+52>>2]=a,i[t+56>>2]=0,t=t+60|0,s=n+24|0,e[t>>2]=e[s>>2],e[t+4>>2]=e[s+4>>2],e[t+8>>2]=e[s+8>>2],e[t+12>>2]=e[s+12>>2],a=+i[n+40>>2],+a)}function iY(t){t=t|0,ye(t)}function nY(t,n){t=t|0,n=n|0;var s=0,o=0;return s=e[n>>2]|0,o=e[t+80>>2]|0,(s|0)==(o|0)||(n=e[n+4>>2]|0,!((ee[t+10>>1]&(n&65535))<<16>>16))||!((ee[t+8>>1]&(n>>>16&65535))<<16>>16)?(t=0,t|0):(t=e[t+92>>2]|0,t=G0[e[(e[t>>2]|0)+28>>2]&63](t,o,s)|0,t|0)}function rY(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;return o=e[n>>2]|0,(o|0)==(e[t+80>>2]|0)||e[o+204>>2]&4|0||(+i[t+28>>2]-+i[t+12>>2])*+i[n+8>>2]+(+i[t+32>>2]-+i[t+16>>2])*+i[n+12>>2]+(+i[t+36>>2]-+i[t+20>>2])*+i[n+16>>2]>=-+i[t+84>>2]?(a=1,+a):(e[t+4>>2]=e[n+40>>2],e[t+76>>2]=o,s?(e[t+44>>2]=e[n+8>>2],e[t+44+4>>2]=e[n+8+4>>2],e[t+44+8>>2]=e[n+8+8>>2],e[t+44+12>>2]=e[n+8+12>>2]):(h=+i[n+8>>2],p=+i[n+12>>2],u=+i[n+16>>2],l=h*+i[o+20>>2]+p*+i[o+24>>2]+u*+i[o+28>>2],a=h*+i[o+36>>2]+p*+i[o+40>>2]+u*+i[o+44>>2],i[t+44>>2]=+i[o+4>>2]*h+ +i[o+8>>2]*p+ +i[o+12>>2]*u,i[t+48>>2]=l,i[t+52>>2]=a,i[t+56>>2]=0),e[t+60>>2]=e[n+24>>2],e[t+60+4>>2]=e[n+24+4>>2],e[t+60+8>>2]=e[n+24+8>>2],e[t+60+12>>2]=e[n+24+12>>2],h=+i[n+40>>2],+h)}function sY(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0;if(g=H,H=H+16|0,Xn(16195),p=e[t+204>>2]|0,f0[e[(e[p>>2]|0)+8>>2]&127](p,t,e[t+24>>2]|0),p=e[t+308>>2]|0,(p|0)>0){u=e[t+316>>2]|0,h=0;do{if(s=e[u+(h<<2)>>2]|0,n=e[s+740>>2]|0,s=e[s+744>>2]|0,n|0&&s|0&&(e[n+204>>2]&3|0)==0&&(e[s+204>>2]&3|0)==0){if(a=e[n+208>>2]|0,n=e[s+208>>2]|0,l=e[(e[t+204>>2]|0)+16>>2]|0,s=e[l+(a<<3)>>2]|0,(s|0)!=(a|0)){o=l+(a<<3)|0;do a=l+(s<<3)|0,e[o>>2]=e[a>>2],a=e[a>>2]|0,o=l+(a<<3)|0,s=e[o>>2]|0;while((a|0)!=(s|0))}if(s=e[l+(n<<3)>>2]|0,(s|0)!=(n|0)){o=l+(n<<3)|0;do n=l+(s<<3)|0,e[o>>2]=e[n>>2],n=e[n>>2]|0,o=l+(n<<3)|0,s=e[o>>2]|0;while((n|0)!=(s|0))}(a|0)!=(n|0)&&(e[l+(a<<3)>>2]=n,o=l+(n<<3)+4|0,e[o>>2]=(e[o>>2]|0)+(e[l+(a<<3)+4>>2]|0))}h=h+1|0}while((h|0)!=(p|0))}if(p=e[t+212>>2]|0,(p|0)>0){u=e[t+220>>2]|0,h=0;do{if(n=e[u+(h<<2)>>2]|0,R[n+20>>0]|0&&(d=e[n+28>>2]|0,(e[d+204>>2]&3|0)==0)&&(m=e[n+32>>2]|0,(e[m+204>>2]&3|0)==0)){if(o=e[d+208>>2]|0,n=e[m+208>>2]|0,l=e[(e[t+204>>2]|0)+16>>2]|0,s=e[l+(o<<3)>>2]|0,(s|0)==(o|0))a=o;else{o=l+(o<<3)|0;do a=l+(s<<3)|0,e[o>>2]=e[a>>2],a=e[a>>2]|0,o=l+(a<<3)|0,s=e[o>>2]|0;while((a|0)!=(s|0))}if(s=e[l+(n<<3)>>2]|0,(s|0)!=(n|0)){o=l+(n<<3)|0;do n=l+(s<<3)|0,e[o>>2]=e[n>>2],n=e[n>>2]|0,o=l+(n<<3)|0,s=e[o>>2]|0;while((n|0)!=(s|0))}(a|0)!=(n|0)&&(e[l+(a<<3)>>2]=n,o=l+(n<<3)+4|0,e[o>>2]=(e[o>>2]|0)+(e[l+(a<<3)+4>>2]|0))}h=h+1|0}while((h|0)!=(p|0))}if(n=e[t+204>>2]|0,zt[e[(e[n>>2]|0)+12>>2]&127](n,t),n=e[2006]|0,t=(e[n+16>>2]|0)+-1|0,e[n+16>>2]=t,t|0){H=g;return}do if(e[n+4>>2]|0)if(Cn(g|0,0)|0,t=e[5649]|0,i[n+8>>2]=+i[n+8>>2]+ +(((e[g+4>>2]|0)-(e[t+4>>2]|0)+(((e[g>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[n+12>>2]|0)|0)>>>0)/1e3,e[n+16>>2]|0){H=g;return}else{n=e[2006]|0;break}while(!1);e[2006]=e[n+20>>2],H=g}function oY(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0;if(p=H,H=H+16|0,Xn(16222),u=e[t+212>>2]|0,l=e[t+180>>2]|0,(l|0)<(u|0)){if((e[t+184>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,s=Xe((u<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+180>>2]|0):(s=0,o=l),(o|0)>0){a=0;do e[s+(a<<2)>>2]=e[(e[t+188>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}o=e[t+188>>2]|0,o|0&&(R[t+192>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+188>>2]=0),R[t+192>>0]=1,e[t+188>>2]=s,e[t+184>>2]=u,o=t+188|0}else o=t+188|0;s=l;do e[(e[o>>2]|0)+(s<<2)>>2]=0,s=s+1|0;while((s|0)!=(u|0))}else o=t+188|0;for(e[t+180>>2]=u,s=0;!((s|0)>=(Tt[e[(e[t>>2]|0)+104>>2]&127](t)|0));)e[(e[o>>2]|0)+(s<<2)>>2]=e[(e[t+220>>2]|0)+(s<<2)>>2],s=s+1|0;if(s=e[t+180>>2]|0,(s|0)>1&&s6(t+176|0,0,s+-1|0),Tt[e[(e[t>>2]|0)+104>>2]&127](t)|0?s=e[o>>2]|0:s=0,a=e[t+196>>2]|0,l=e[t+180>>2]|0,u=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,e[a+4>>2]=n,e[a+12>>2]=s,e[a+16>>2]=l,e[a+20>>2]=u,s=e[a+32>>2]|0,(s|0)<0){(e[a+36>>2]|0)<0&&(o=e[a+40>>2]|0,o|0&&(R[a+44>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[a+40>>2]=0),R[a+44>>0]=1,e[a+40>>2]=0,e[a+36>>2]=0);do e[(e[a+40>>2]|0)+(s<<2)>>2]=0,s=s+1|0;while((s|0)!=0)}if(e[a+32>>2]=0,s=e[a+52>>2]|0,(s|0)<0){(e[a+56>>2]|0)<0&&(o=e[a+60>>2]|0,o|0&&(R[a+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[a+60>>2]=0),R[a+64>>0]=1,e[a+60>>2]=0,e[a+56>>2]=0);do e[(e[a+60>>2]|0)+(s<<2)>>2]=0,s=s+1|0;while((s|0)!=0)}if(e[a+52>>2]=0,s=e[a+72>>2]|0,(s|0)<0){(e[a+76>>2]|0)<0&&(o=e[a+80>>2]|0,o|0&&(R[a+84>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[a+80>>2]=0),R[a+84>>0]=1,e[a+80>>2]=0,e[a+76>>2]=0);do e[(e[a+80>>2]|0)+(s<<2)>>2]=0,s=s+1|0;while((s|0)!=0)}if(e[a+72>>2]=0,l=e[t+200>>2]|0,a=e[(e[l>>2]|0)+8>>2]|0,u=e[t+8>>2]|0,s=e[t+24>>2]|0,s=Tt[e[(e[s>>2]|0)+36>>2]&127](s)|0,f0[a&127](l,u,s),Uie(e[t+204>>2]|0,e[t+24>>2]|0,t,e[t+196>>2]|0),o6(e[t+196>>2]|0),s=e[t+200>>2]|0,f0[e[(e[s>>2]|0)+16>>2]&127](s,n,e[t+72>>2]|0),s=e[2006]|0,t=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=t,t|0){H=p;return}do if(e[s+4>>2]|0)if(Cn(p|0,0)|0,t=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[p+4>>2]|0)-(e[t+4>>2]|0)+(((e[p>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0){H=p;return}else{s=e[2006]|0;break}while(!1);e[2006]=e[s+20>>2],H=p}function s6(t,n,s){t=t|0,n=n|0,s=s|0;for(var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;;){for(d=e[t+12>>2]|0,m=e[d+(((n+s|0)/2|0)<<2)>>2]|0,o=n,a=s;;){if(h=e[(e[m+28>>2]|0)+208>>2]|0,(h|0)>-1)for(;u=e[d+(o<<2)>>2]|0,l=e[(e[u+28>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+32>>2]|0)+208>>2]|0),(l|0)<(h|0);)o=o+1|0;else for(p=e[(e[m+32>>2]|0)+208>>2]|0;u=e[d+(o<<2)>>2]|0,l=e[(e[u+28>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+32>>2]|0)+208>>2]|0),(l|0)<(p|0);)o=o+1|0;if((h|0)>-1)for(;u=e[d+(a<<2)>>2]|0,l=e[(e[u+28>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+32>>2]|0)+208>>2]|0),(h|0)<(l|0);)a=a+-1|0;else for(p=e[(e[m+32>>2]|0)+208>>2]|0;u=e[d+(a<<2)>>2]|0,l=e[(e[u+28>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+32>>2]|0)+208>>2]|0),(p|0)<(l|0);)a=a+-1|0;if((o|0)<=(a|0)&&(p=d+(o<<2)|0,h=e[p>>2]|0,e[p>>2]=e[d+(a<<2)>>2],e[(e[t+12>>2]|0)+(a<<2)>>2]=h,o=o+1|0,a=a+-1|0),(o|0)>(a|0))break;d=e[t+12>>2]|0}if((a|0)>(n|0)&&s6(t,n,a),(o|0)<(s|0))n=o;else break}}function o6(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0;if(n=e[t+32>>2]|0,n?o=e[t+40>>2]|0:o=0,u=e[t+52>>2]|0,u?a=e[t+60>>2]|0:a=0,s=e[t+72>>2]|0,s?l=e[t+80>>2]|0:l=0,p=e[t+8>>2]|0,+cu[e[(e[p>>2]|0)+12>>2]&3](p,o,n,a,u,l,s,e[t+4>>2]|0,e[t+20>>2]|0,e[t+24>>2]|0),n=e[t+32>>2]|0,(n|0)<0){(e[t+36>>2]|0)<0&&(s=e[t+40>>2]|0,s|0&&(R[t+44>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+40>>2]=0),R[t+44>>0]=1,e[t+40>>2]=0,e[t+36>>2]=0);do e[(e[t+40>>2]|0)+(n<<2)>>2]=0,n=n+1|0;while((n|0)!=0)}if(e[t+32>>2]=0,n=e[t+52>>2]|0,(n|0)<0){(e[t+56>>2]|0)<0&&(s=e[t+60>>2]|0,s|0&&(R[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+60>>2]=0),R[t+64>>0]=1,e[t+60>>2]=0,e[t+56>>2]=0);do e[(e[t+60>>2]|0)+(n<<2)>>2]=0,n=n+1|0;while((n|0)!=0)}if(e[t+52>>2]=0,n=e[t+72>>2]|0,(n|0)>=0){e[t+72>>2]=0;return}(e[t+76>>2]|0)<0&&(s=e[t+80>>2]|0,s|0&&(R[t+84>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+80>>2]=0),R[t+84>>0]=1,e[t+80>>2]=0,e[t+76>>2]=0);do e[(e[t+80>>2]|0)+(n<<2)>>2]=0,n=n+1|0;while((n|0)!=0);e[t+72>>2]=0}function aY(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0;if(h=H,H=H+16|0,Xn(15930),s=e[t+232>>2]|0,(s|0)>0){p=(R[23328]|0)==0,u=0;do{l=e[(e[t+240>>2]|0)+(u<<2)>>2]|0;e:do if(l){o=e[l+216>>2]|0;t:do switch(o|0){case 4:case 2:{if((o|0)==4)break e;break}default:{if(S=+i[l+336>>2],g=+i[l+340>>2],m=+i[l+344>>2],d=+i[l+496>>2],S*S+g*g+m*m<d*d&&(d=+i[l+352>>2],m=+i[l+356>>2],g=+i[l+360>>2],S=+i[l+500>>2],d*d+m*m+g*g<S*S)){i[l+220>>2]=+i[l+220>>2]+n;break t}i[l+220>>2]=0,(o&-2|0)!=4&&(e[l+216>>2]=0,o=0)}}while(!1);a=o&-2;do if(p){if((a|0)!=2&&!(+i[l+220>>2]>2))break;if(e[l+204>>2]&3|0){if((a|0)==4)break e;e[l+216>>2]=2;break e}if((o|0)==1){if((a|0)==4)break e;e[l+216>>2]=3;break e}else{if((o|0)!=2)break e;s=(e[l+284>>2]|0)+2|0,e[l+352>>2]=0,e[l+352+4>>2]=0,e[l+352+8>>2]=0,e[l+352+12>>2]=0,e[l+284>>2]=s,e[l+336>>2]=0,e[l+336+4>>2]=0,e[l+336+8>>2]=0,e[l+336+12>>2]=0,s=e[t+232>>2]|0;break e}}while(!1);(a|0)!=4&&(e[l+216>>2]=1)}while(!1);u=u+1|0}while((u|0)<(s|0))}if(s=e[2006]|0,t=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=t,t|0){H=h;return}do if(e[s+4>>2]|0)if(Cn(h|0,0)|0,t=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[h+4>>2]|0)-(e[t+4>>2]|0)+(((e[h>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0){H=h;return}else{s=e[2006]|0;break}while(!1);e[2006]=e[s+20>>2],H=h}function cY(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0;if(P=H,H=H+464|0,Xn(15952),s=e[t+84>>2]|0,s|0&&m2[s&31](t,n),m2[e[(e[t>>2]|0)+140>>2]&31](t,n),i[t+28>>2]=n,e[t+32>>2]=0,e[t+48>>2]=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,Xn(15981),Xn(16006),s=e[t+316>>2]|0,(e[t+308>>2]|0)>0){o=0;do C=e[t+24>>2]|0,zt[e[(e[C>>2]|0)+16>>2]&127](C,e[s+(o<<2)>>2]|0),o=o+1|0,s=e[t+316>>2]|0;while((o|0)<(e[t+308>>2]|0))}s|0&&(R[t+320>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+316>>2]=0),R[t+320>>0]=1,e[t+316>>2]=0,e[t+308>>2]=0,e[t+312>>2]=0,s=e[2006]|0,C=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=C;do if(!C){if(e[s+4>>2]|0){if(Cn(P+368|0,0)|0,C=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[P+368+4>>2]|0)-(e[C+4>>2]|0)+(((e[P+368>>2]|0)-(e[C>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0)break;s=e[2006]|0}e[2006]=e[s+20>>2]}while(!1);e:do if((e[t+232>>2]|0)>0)for(g=P+304+48|0,S=P+368+44|0,C=0;;){l=e[(e[t+240>>2]|0)+(C<<2)>>2]|0,i[l+248>>2]=1;t:do switch(e[l+216>>2]|0){case 2:case 5:break;default:if((e[l+204>>2]&3|0)==0&&(Js(l+4|0,+i[l+336>>2],+i[l+340>>2],+i[l+344>>2],l+352|0,n,P+304|0),w=+i[g>>2],M=w-+i[l+52>>2],E=+i[P+304+52>>2],D=E-+i[l+56>>2],b=+i[P+304+56>>2],B=b-+i[l+60>>2],R[t+44>>0]|0)&&(d=+i[l+256>>2],d*d!=0?d*d<M*M+D*D+B*B:0)){if(Xn(16043),(e[(e[l+192>>2]|0)+4>>2]|0)<20&&(e[5475]=(e[5475]|0)+1,a=e[t+68>>2]|0,a=Tt[e[(e[a>>2]|0)+36>>2]&127](a)|0,m=e[t+24>>2]|0,i[P+368+4>>2]=1,ee[P+368+8>>1]=1,ee[P+368+10>>1]=-1,e[P+368>>2]=7848,e[P+368+12>>2]=e[l+52>>2],e[P+368+12+4>>2]=e[l+52+4>>2],e[P+368+12+8>>2]=e[l+52+8>>2],e[P+368+12+12>>2]=e[l+52+12>>2],e[P+368+28>>2]=e[g>>2],e[P+368+28+4>>2]=e[g+4>>2],e[P+368+28+8>>2]=e[g+8>>2],e[P+368+28+12>>2]=e[g+12>>2],e[P+368+76>>2]=0,e[P+368>>2]=7872,e[P+368+80>>2]=l,e[P+368+88>>2]=a,e[P+368+92>>2]=m,m=e[l+252>>2]|0,e[P+248+8>>2]=0,e[P+248+12>>2]=-1,e[P+248+16>>2]=1065353216,e[P+248+20>>2]=1065353216,e[P+248+24>>2]=1065353216,i[P+248+28>>2]=0,e[P+248>>2]=6380,e[P+248+4>>2]=8,e[P+248+32>>2]=m,e[P+248+48>>2]=m,e[P+368+84>>2]=e[t+56>>2],m=e[(e[l+188>>2]|0)+4>>2]|0,ee[P+368+8>>1]=m,ee[P+368+10>>1]=m>>>16,e[P+184+48>>2]=e[g>>2],e[P+184+48+4>>2]=e[g+4>>2],e[P+184+48+8>>2]=e[g+8>>2],e[P+184+48+12>>2]=e[g+12>>2],e[P+184>>2]=e[l+4>>2],e[P+184+4>>2]=e[l+4+4>>2],e[P+184+8>>2]=e[l+4+8>>2],e[P+184+12>>2]=e[l+4+12>>2],e[P+184+16>>2]=e[l+20>>2],e[P+184+16+4>>2]=e[l+20+4>>2],e[P+184+16+8>>2]=e[l+20+8>>2],e[P+184+16+12>>2]=e[l+20+12>>2],e[P+184+32>>2]=e[l+36>>2],e[P+184+32+4>>2]=e[l+36+4>>2],e[P+184+32+8>>2]=e[l+36+8>>2],e[P+184+32+12>>2]=e[l+36+12>>2],t1(t,P+248|0,l+4|0,P+184|0,P+368|0,0),L=+i[P+368+4>>2],L<1)){if(u=L*(w-+i[l+52>>2]),p=L*(E-+i[l+56>>2]),h=L*(b-+i[l+60>>2]),d=-(p*+i[P+368+48>>2])-u*+i[S>>2]-h*+i[P+368+52>>2],m=e[t+24>>2]|0,m=G0[e[(e[m>>2]|0)+12>>2]&63](m,l,e[P+368+76>>2]|0)|0,s=e[t+308>>2]|0,(s|0)==(e[t+312>>2]|0)&&(F=s|0?s<<1:1,(s|0)<(F|0))){if(F?(e[5637]=(e[5637]|0)+1,s=Xe((F<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=s,s=e[t+308>>2]|0):a=0,(s|0)>0){o=0;do e[a+(o<<2)>>2]=e[(e[t+316>>2]|0)+(o<<2)>>2],o=o+1|0;while((o|0)!=(s|0))}o=e[t+316>>2]|0,o&&(R[t+320>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0),s=e[t+308>>2]|0),e[t+316>>2]=0),R[t+320>>0]=1,e[t+316>>2]=a,e[t+312>>2]=F}e[(e[t+316>>2]|0)+(s<<2)>>2]=m,e[t+308>>2]=s+1,u=u+ +i[l+52>>2],p=p+ +i[l+56>>2],h=h+ +i[l+60>>2],a=e[P+368+76>>2]|0,_e=+i[a+4>>2],te=+i[a+20>>2],W=+i[a+36>>2],ne=+i[a+8>>2],X=+i[a+24>>2],q=+i[a+40>>2],$=+i[a+12>>2],z=+i[a+28>>2],G=+i[a+44>>2],Y=-+i[a+52>>2],O=-+i[a+56>>2],U=-+i[a+60>>2],e[P>>2]=0,e[P+4>>2]=0,e[P+8>>2]=0,e[P+12>>2]=0,i[P+16>>2]=u*_e+p*te+h*W+(_e*Y+te*O+W*U),i[P+20>>2]=u*ne+p*X+h*q+(ne*Y+X*O+q*U),i[P+24>>2]=u*$+p*z+h*G+($*Y+z*O+G*U),i[P+28>>2]=0,e[P+64>>2]=e[S>>2],e[P+64+4>>2]=e[S+4>>2],e[P+64+8>>2]=e[S+8>>2],e[P+64+12>>2]=e[S+12>>2],i[P+80>>2]=d,i[P+84>>2]=0,i[P+88>>2]=0,i[P+92>>2]=0,e[P+112>>2]=0,R[P+116>>0]=0,e[P+120>>2]=0,e[P+120+4>>2]=0,e[P+120+8>>2]=0,e[P+120+12>>2]=0,e[P+120+16>>2]=0,e[P+120+20>>2]=0,e[P+120+24>>2]=0,e[P+120+28>>2]=0,a=g6(m,P)|0,i[m+4+(a*184|0)+92>>2]=0,d=+i[l+224>>2]*+i[(e[P+368+76>>2]|0)+224>>2],d=d<-10?-10:d,i[m+4+(a*184|0)+84>>2]=d>10?10:d,e[m+4+(a*184|0)+48>>2]=e[l+52>>2],e[m+4+(a*184|0)+48+4>>2]=e[l+52+4>>2],e[m+4+(a*184|0)+48+8>>2]=e[l+52+8>>2],e[m+4+(a*184|0)+48+12>>2]=e[l+52+12>>2],i[m+4+(a*184|0)+32>>2]=u,i[m+4+(a*184|0)+36>>2]=p,i[m+4+(a*184|0)+40>>2]=h,i[m+4+(a*184|0)+44>>2]=0}if(s=e[2006]|0,m=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=m,!m){if(e[s+4>>2]|0){if(Cn(P+368|0,0)|0,m=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[P+368+4>>2]|0)-(e[m+4>>2]|0)+(((e[P+368>>2]|0)-(e[m>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0)break t;s=e[2006]|0}e[2006]=e[s+20>>2]}}}while(!1);if(C=C+1|0,(C|0)>=(e[t+232>>2]|0))break e}while(!1);s=e[2006]|0,F=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=F;do if(!F){if(e[s+4>>2]|0){if(Cn(P+368|0,0)|0,F=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[P+368+4>>2]|0)-(e[F+4>>2]|0)+(((e[P+368>>2]|0)-(e[F>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0)break;s=e[2006]|0}e[2006]=e[s+20>>2]}while(!1);if(Vt[e[(e[t>>2]|0)+44>>2]&255](t),Vt[e[(e[t>>2]|0)+148>>2]&255](t),i[t+104>>2]=n,zt[e[(e[t>>2]|0)+152>>2]&127](t,t+92|0),m2[e[(e[t>>2]|0)+144>>2]&31](t,n),Xn(16070),(e[t+280>>2]|0)>0){s=0;do F=e[(e[t+288>>2]|0)+(s<<2)>>2]|0,rr[e[(e[F>>2]|0)+8>>2]&7](F,t,n),s=s+1|0;while((s|0)<(e[t+280>>2]|0))}s=e[2006]|0,F=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=F;do if(!F){if(e[s+4>>2]|0){if(Cn(P+368|0,0)|0,F=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[P+368+4>>2]|0)-(e[F+4>>2]|0)+(((e[P+368>>2]|0)-(e[F>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0)break;s=e[2006]|0}e[2006]=e[s+20>>2]}while(!1);if(m2[e[(e[t>>2]|0)+156>>2]&31](t,n),s=e[t+80>>2]|0,s|0&&m2[s&31](t,n),s=e[2006]|0,t=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=t,t|0){H=P;return}do if(e[s+4>>2]|0)if(Cn(P+368|0,0)|0,t=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[P+368+4>>2]|0)-(e[t+4>>2]|0)+(((e[P+368>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0){H=P;return}else{s=e[2006]|0;break}while(!1);e[2006]=e[s+20>>2],H=P}function lY(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,p=0,h=0;if(l=H,H=H+32|0,s=e[t+8>>2]|0,(s|0)<=0){H=l;return}a=0;do o=e[(e[t+16>>2]|0)+(a<<2)>>2]|0,!((o|0)==0||(e[o+236>>2]&2|0)==0)&&(e[o+216>>2]|0)!=2&&!(n==0||(e[o+204>>2]&2|0)==0)&&(s=e[o+504>>2]|0,s&&zt[e[(e[s>>2]|0)+8>>2]&127](s,o+4|0),s=o+4|0,p=1/n*(+i[o+56>>2]-+i[o+120>>2]),h=1/n*(+i[o+60>>2]-+i[o+124>>2]),i[o+336>>2]=1/n*(+i[o+52>>2]-+i[o+116>>2]),i[o+340>>2]=p,i[o+344>>2]=h,i[o+348>>2]=0,Sa(o+68|0,s,l+8|0,l),h=+i[l>>2],p=1/n*(h*+i[l+8+4>>2]),u=1/n*(h*+i[l+8+8>>2]),i[o+352>>2]=1/n*(+i[l+8>>2]*h),i[o+356>>2]=p,i[o+360>>2]=u,i[o+364>>2]=0,e[o+132>>2]=e[o+336>>2],e[o+132+4>>2]=e[o+336+4>>2],e[o+132+8>>2]=e[o+336+8>>2],e[o+132+12>>2]=e[o+336+12>>2],e[o+148>>2]=e[o+352>>2],e[o+148+4>>2]=e[o+352+4>>2],e[o+148+8>>2]=e[o+352+8>>2],e[o+148+12>>2]=e[o+352+12>>2],e[o+68>>2]=e[s>>2],e[o+68+4>>2]=e[s+4>>2],e[o+68+8>>2]=e[s+8>>2],e[o+68+12>>2]=e[s+12>>2],e[o+84>>2]=e[o+20>>2],e[o+84+4>>2]=e[o+20+4>>2],e[o+84+8>>2]=e[o+20+8>>2],e[o+84+12>>2]=e[o+20+12>>2],e[o+100>>2]=e[o+36>>2],e[o+100+4>>2]=e[o+36+4>>2],e[o+100+8>>2]=e[o+36+8>>2],e[o+100+12>>2]=e[o+36+12>>2],e[o+116>>2]=e[o+52>>2],e[o+116+4>>2]=e[o+52+4>>2],e[o+116+8>>2]=e[o+52+8>>2],e[o+116+12>>2]=e[o+52+12>>2],s=e[t+8>>2]|0),a=a+1|0;while((a|0)<(s|0));H=l}function uY(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0;if(W=H,H=H+384|0,U=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,U=(Tt[e[(e[U>>2]|0)+56>>2]&127](U)|0)>>>11,X=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,X=(Tt[e[(e[X>>2]|0)+56>>2]&127](X)|0)>>>12,ne=+i[n+40>>2],ne<=0){H=W;return}switch(e[n+4>>2]|0){case 3:{e[W+320>>2]=1065353216,e[W+320+4>>2]=0,e[W+320+4+4>>2]=0,e[W+320+4+8>>2]=0,e[W+320+4+12>>2]=0,e[W+320+20>>2]=1065353216,e[W+320+24>>2]=0,e[W+320+24+4>>2]=0,e[W+320+24+8>>2]=0,e[W+320+24+12>>2]=0,e[W+320+40>>2]=1065353216,X=W+320+44|0,e[X>>2]=0,e[X+4>>2]=0,e[X+8>>2]=0,e[X+12>>2]=0,e[X+16>>2]=0,P=+i[n+300>>2],F=+i[n+304>>2],L=+i[n+308>>2],X=e[n+28>>2]|0,B=P*+i[X+20>>2]+F*+i[X+24>>2]+L*+i[X+28>>2]+ +i[X+56>>2],b=P*+i[X+36>>2]+F*+i[X+40>>2]+L*+i[X+44>>2]+ +i[X+60>>2],i[W+320+48>>2]=P*+i[X+4>>2]+F*+i[X+8>>2]+L*+i[X+12>>2]+ +i[X+52>>2],i[W+320+52>>2]=B,i[W+320+56>>2]=b,i[W+320+60>>2]=0,X=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,rr[e[(e[X>>2]|0)+64>>2]&7](X,W+320|0,ne),b=+i[n+316>>2],B=+i[n+320>>2],L=+i[n+324>>2],n=e[n+32>>2]|0,F=b*+i[n+20>>2]+B*+i[n+24>>2]+L*+i[n+28>>2]+ +i[n+56>>2],P=b*+i[n+36>>2]+B*+i[n+40>>2]+L*+i[n+44>>2]+ +i[n+60>>2],i[W+320+48>>2]=b*+i[n+4>>2]+B*+i[n+8>>2]+L*+i[n+12>>2]+ +i[n+52>>2],i[W+320+52>>2]=F,i[W+320+56>>2]=P,i[W+320+60>>2]=0,U&1|0&&(t=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,rr[e[(e[t>>2]|0)+64>>2]&7](t,W+320|0,ne)),H=W;return}case 4:{q=e[n+28>>2]|0,te=+i[n+552>>2],oe=+i[q+4>>2],s=+i[n+552+16>>2],se=+i[q+8>>2],o=+i[n+552+32>>2],me=+i[q+12>>2],p=+i[n+552+4>>2],h=+i[n+552+20>>2],C=+i[n+552+36>>2],w=+i[n+552+8>>2],E=+i[n+552+24>>2],b=+i[n+552+40>>2],he=+i[q+20>>2],pe=+i[q+24>>2],_e=+i[q+28>>2],M=+i[q+36>>2],D=+i[q+40>>2],B=+i[q+44>>2],xe=+i[n+552+48>>2],ae=+i[n+552+52>>2],P=+i[n+552+56>>2],L=+i[q+52>>2]+(oe*xe+se*ae+me*P),F=he*xe+pe*ae+_e*P+ +i[q+56>>2],P=M*xe+D*ae+B*P+ +i[q+60>>2],i[W+320>>2]=te*oe+s*se+o*me,i[W+320+4>>2]=oe*p+se*h+me*C,i[W+320+8>>2]=oe*w+se*E+me*b,i[W+320+12>>2]=0,i[W+320+16>>2]=te*he+s*pe+o*_e,i[W+320+20>>2]=p*he+h*pe+C*_e,i[W+320+24>>2]=w*he+E*pe+b*_e,i[W+320+28>>2]=0,i[W+320+32>>2]=te*M+s*D+o*B,i[W+320+36>>2]=p*M+h*D+C*B,i[W+320+40>>2]=w*M+E*D+b*B,i[W+320+44>>2]=0,i[W+320+48>>2]=L,i[W+320+52>>2]=F,i[W+320+56>>2]=P,i[W+320+60>>2]=0,U&1?(q=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,rr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne),q=e[n+32>>2]|0,D=+i[n+616>>2],p=+i[q+4>>2],b=+i[n+616+16>>2],h=+i[q+8>>2],B=+i[n+616+32>>2],C=+i[q+12>>2],L=+i[n+616+4>>2],F=+i[n+616+20>>2],P=+i[n+616+36>>2],te=+i[n+616+8>>2],pe=+i[n+616+24>>2],me=+i[n+616+40>>2],w=+i[q+20>>2],M=+i[q+24>>2],E=+i[q+28>>2],_e=+i[q+36>>2],he=+i[q+40>>2],se=+i[q+44>>2],s=+i[n+616+48>>2],o=+i[n+616+52>>2],xe=+i[n+616+56>>2],oe=+i[q+52>>2]+(p*s+h*o+C*xe),ae=w*s+M*o+E*xe+ +i[q+56>>2],xe=_e*s+he*o+se*xe+ +i[q+60>>2],i[W+320>>2]=D*p+b*h+B*C,i[W+320+4>>2]=p*L+h*F+C*P,i[W+320+8>>2]=p*te+h*pe+C*me,i[W+320+12>>2]=0,i[W+320+16>>2]=D*w+b*M+B*E,i[W+320+20>>2]=L*w+F*M+P*E,i[W+320+24>>2]=te*w+pe*M+me*E,i[W+320+28>>2]=0,i[W+320+32>>2]=D*_e+b*he+B*se,i[W+320+36>>2]=L*_e+F*he+P*se,i[W+320+40>>2]=te*_e+pe*he+me*se,i[W+320+44>>2]=0,i[W+320+48>>2]=oe,i[W+320+52>>2]=ae,i[W+320+56>>2]=xe,i[W+320+60>>2]=0,q=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,rr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne)):(q=e[n+32>>2]|0,D=+i[n+616>>2],p=+i[q+4>>2],b=+i[n+616+16>>2],h=+i[q+8>>2],B=+i[n+616+32>>2],C=+i[q+12>>2],L=+i[n+616+4>>2],F=+i[n+616+20>>2],P=+i[n+616+36>>2],te=+i[n+616+8>>2],pe=+i[n+616+24>>2],me=+i[n+616+40>>2],w=+i[q+20>>2],M=+i[q+24>>2],E=+i[q+28>>2],_e=+i[q+36>>2],he=+i[q+40>>2],se=+i[q+44>>2],s=+i[n+616+48>>2],o=+i[n+616+52>>2],xe=+i[n+616+56>>2],oe=+i[q+52>>2]+(p*s+h*o+C*xe),ae=w*s+M*o+E*xe+ +i[q+56>>2],xe=_e*s+he*o+se*xe+ +i[q+60>>2],i[W+320>>2]=D*p+b*h+B*C,i[W+320+4>>2]=p*L+h*F+C*P,i[W+320+8>>2]=p*te+h*pe+C*me,i[W+320+12>>2]=0,i[W+320+16>>2]=D*w+b*M+B*E,i[W+320+20>>2]=L*w+F*M+P*E,i[W+320+24>>2]=te*w+pe*M+me*E,i[W+320+28>>2]=0,i[W+320+32>>2]=D*_e+b*he+B*se,i[W+320+36>>2]=L*_e+F*he+P*se,i[W+320+40>>2]=te*_e+pe*he+me*se,i[W+320+44>>2]=0,i[W+320+48>>2]=oe,i[W+320+52>>2]=ae,i[W+320+56>>2]=xe,i[W+320+60>>2]=0),p=+i[n+688>>2],h=+i[n+688+4>>2],s=+an(p-h),s<-3.1415927410125732?o=s+6.2831854820251465:s>3.1415927410125732?o=s+-6.2831854820251465:o=s,s=+an(p+h),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),o!=s&&X&1|0&&(e[W+304>>2]=e[W+320+8>>2],e[W+304+4>>2]=e[W+320+24>>2],e[W+304+8>>2]=e[W+320+40>>2],i[W+304+12>>2]=0,e[W+272>>2]=e[W+320>>2],e[W+272+4>>2]=e[W+320+16>>2],e[W+272+8>>2]=e[W+320+32>>2],i[W+272+12>>2]=0,t=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,n=e[(e[t>>2]|0)+68>>2]|0,e[W+288>>2]=0,e[W+288+4>>2]=0,e[W+288+8>>2]=0,e[W+288+12>>2]=0,O1[n&0](t,W+320+48|0,W+304|0,W+272|0,ne,ne,h>0?o:0,h>0?s:6.2831854820251465,W+288|0,h>0,10)),H=W;return}case 5:{if(u=e[n+28>>2]|0,D=+i[n+300>>2],p=+i[u+4>>2],b=+i[n+300+16>>2],h=+i[u+8>>2],B=+i[n+300+32>>2],C=+i[u+12>>2],L=+i[n+300+4>>2],F=+i[n+300+20>>2],P=+i[n+300+36>>2],te=+i[n+300+8>>2],pe=+i[n+300+24>>2],me=+i[n+300+40>>2],w=+i[u+20>>2],M=+i[u+24>>2],E=+i[u+28>>2],_e=+i[u+36>>2],he=+i[u+40>>2],se=+i[u+44>>2],s=+i[n+300+48>>2],o=+i[n+300+52>>2],xe=+i[n+300+56>>2],oe=+i[u+52>>2]+(p*s+h*o+C*xe),ae=w*s+M*o+E*xe+ +i[u+56>>2],xe=_e*s+he*o+se*xe+ +i[u+60>>2],i[W+320>>2]=D*p+b*h+B*C,u=W+320+4|0,i[u>>2]=p*L+h*F+C*P,d=W+320+8|0,i[d>>2]=p*te+h*pe+C*me,i[W+320+12>>2]=0,m=W+320+16|0,i[m>>2]=D*w+b*M+B*E,g=W+320+20|0,i[g>>2]=L*w+F*M+P*E,S=W+320+24|0,i[S>>2]=te*w+pe*M+me*E,i[W+320+28>>2]=0,G=W+320+32|0,i[G>>2]=D*_e+b*he+B*se,O=W+320+36|0,i[O>>2]=L*_e+F*he+P*se,z=W+320+40|0,i[z>>2]=te*_e+pe*he+me*se,i[W+320+44>>2]=0,Y=W+320+48|0,i[Y>>2]=oe,$=W+320+52|0,i[$>>2]=ae,q=W+320+56|0,i[q>>2]=xe,i[W+320+60>>2]=0,U&1?(U=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,rr[e[(e[U>>2]|0)+64>>2]&7](U,W+320|0,ne),U=e[n+32>>2]|0,D=+i[n+364>>2],p=+i[U+4>>2],b=+i[n+364+16>>2],h=+i[U+8>>2],B=+i[n+364+32>>2],C=+i[U+12>>2],L=+i[n+364+4>>2],F=+i[n+364+20>>2],P=+i[n+364+36>>2],te=+i[n+364+8>>2],pe=+i[n+364+24>>2],me=+i[n+364+40>>2],w=+i[U+20>>2],M=+i[U+24>>2],E=+i[U+28>>2],_e=+i[U+36>>2],he=+i[U+40>>2],se=+i[U+44>>2],s=+i[n+364+48>>2],o=+i[n+364+52>>2],xe=+i[n+364+56>>2],oe=+i[U+52>>2]+(p*s+h*o+C*xe),ae=w*s+M*o+E*xe+ +i[U+56>>2],xe=_e*s+he*o+se*xe+ +i[U+60>>2],i[W+320>>2]=D*p+b*h+B*C,i[u>>2]=p*L+h*F+C*P,i[d>>2]=p*te+h*pe+C*me,i[W+320+12>>2]=0,i[m>>2]=D*w+b*M+B*E,i[g>>2]=L*w+F*M+P*E,i[S>>2]=te*w+pe*M+me*E,i[W+320+28>>2]=0,i[G>>2]=D*_e+b*he+B*se,i[O>>2]=L*_e+F*he+P*se,i[z>>2]=te*_e+pe*he+me*se,i[W+320+44>>2]=0,i[Y>>2]=oe,i[$>>2]=ae,i[q>>2]=xe,i[W+320+60>>2]=0,U=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,rr[e[(e[U>>2]|0)+64>>2]&7](U,W+320|0,ne)):(U=e[n+32>>2]|0,D=+i[n+364>>2],p=+i[U+4>>2],b=+i[n+364+16>>2],h=+i[U+8>>2],B=+i[n+364+32>>2],C=+i[U+12>>2],L=+i[n+364+4>>2],F=+i[n+364+20>>2],P=+i[n+364+36>>2],te=+i[n+364+8>>2],pe=+i[n+364+24>>2],me=+i[n+364+40>>2],w=+i[U+20>>2],M=+i[U+24>>2],E=+i[U+28>>2],_e=+i[U+36>>2],he=+i[U+40>>2],se=+i[U+44>>2],s=+i[n+364+48>>2],o=+i[n+364+52>>2],xe=+i[n+364+56>>2],oe=+i[U+52>>2]+(p*s+h*o+C*xe),ae=w*s+M*o+E*xe+ +i[U+56>>2],xe=_e*s+he*o+se*xe+ +i[U+60>>2],i[W+320>>2]=D*p+b*h+B*C,i[u>>2]=p*L+h*F+C*P,i[d>>2]=p*te+h*pe+C*me,i[W+320+12>>2]=0,i[m>>2]=D*w+b*M+B*E,i[g>>2]=L*w+F*M+P*E,i[S>>2]=te*w+pe*M+me*E,i[W+320+28>>2]=0,i[G>>2]=D*_e+b*he+B*se,i[O>>2]=L*_e+F*he+P*se,i[z>>2]=te*_e+pe*he+me*se,i[W+320+44>>2]=0,i[Y>>2]=oe,i[$>>2]=ae,i[q>>2]=xe,i[W+320+60>>2]=0),X&1|0){H6(W+304|0,n,6.0868353843688965,ne),me=+i[W+304>>2],se=+i[W+304+4>>2],oe=+i[W+304+8>>2],ae=me*+i[m>>2]+se*+i[g>>2]+oe*+i[S>>2]+ +i[$>>2],xe=me*+i[G>>2]+se*+i[O>>2]+oe*+i[z>>2]+ +i[q>>2],i[W+304>>2]=me*+i[W+320>>2]+se*+i[u>>2]+oe*+i[d>>2]+ +i[Y>>2],i[W+304+4>>2]=ae,i[W+304+8>>2]=xe,i[W+304+12>>2]=0,l=W+320+48|0,a=0;do H6(W+272|0,n,+(a|0)*6.283185005187988*.03125,ne),me=+i[W+272>>2],se=+i[W+272+4>>2],oe=+i[W+272+8>>2],ae=me*+i[m>>2]+se*+i[g>>2]+oe*+i[S>>2]+ +i[$>>2],xe=me*+i[G>>2]+se*+i[O>>2]+oe*+i[z>>2]+ +i[q>>2],i[W+272>>2]=me*+i[W+320>>2]+se*+i[u>>2]+oe*+i[d>>2]+ +i[Y>>2],i[W+272+4>>2]=ae,i[W+272+8>>2]=xe,i[W+272+12>>2]=0,X=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,U=e[(e[X>>2]|0)+16>>2]|0,e[W+256>>2]=0,e[W+256+4>>2]=0,e[W+256+8>>2]=0,e[W+256+12>>2]=0,Kt[U&127](X,W+304|0,W+272|0,W+256|0),a&3||(X=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,U=e[(e[X>>2]|0)+16>>2]|0,e[W+240>>2]=0,e[W+240+4>>2]=0,e[W+240+8>>2]=0,e[W+240+12>>2]=0,Kt[U&127](X,l,W+272|0,W+240|0)),e[W+304>>2]=e[W+272>>2],e[W+304+4>>2]=e[W+272+4>>2],e[W+304+8>>2]=e[W+272+8>>2],e[W+304+12>>2]=e[W+272+12>>2],a=a+1|0;while((a|0)!=32);F=+i[n+452>>2],P=+i[n+512>>2],a=e[n+32>>2]|0,+i[a+368>>2]>0?(me=+i[n+364>>2],se=+i[a+4>>2],oe=+i[n+364+16>>2],ae=+i[a+8>>2],xe=+i[n+364+32>>2],b=+i[a+12>>2],pe=+i[n+364+4>>2],he=+i[n+364+20>>2],D=+i[n+364+36>>2],te=+i[n+364+8>>2],_e=+i[n+364+24>>2],E=+i[n+364+40>>2],de=+i[a+20>>2],ve=+i[a+24>>2],M=+i[a+28>>2],w=+i[a+36>>2],C=+i[a+40>>2],h=+i[a+44>>2],p=+i[n+364+48>>2],o=+i[n+364+52>>2],s=+i[n+364+56>>2],B=w*p+C*o+h*s+ +i[a+60>>2],L=de*p+ve*o+M*s+ +i[a+56>>2],s=+i[a+52>>2]+(se*p+ae*o+b*s),o=te*w+_e*C+E*h,p=pe*w+he*C+D*h,h=me*w+oe*C+xe*h,C=te*de+_e*ve+E*M,w=pe*de+he*ve+D*M,M=me*de+oe*ve+xe*M,E=se*te+ae*_e+b*E,D=se*pe+ae*he+b*D,b=me*se+oe*ae+xe*b):(X=e[n+28>>2]|0,oe=+i[n+300>>2],ae=+i[X+4>>2],xe=+i[n+300+16>>2],ve=+i[X+8>>2],de=+i[n+300+32>>2],b=+i[X+12>>2],me=+i[n+300+4>>2],se=+i[n+300+20>>2],D=+i[n+300+36>>2],pe=+i[n+300+8>>2],he=+i[n+300+24>>2],E=+i[n+300+40>>2],te=+i[X+20>>2],_e=+i[X+24>>2],M=+i[X+28>>2],w=+i[X+36>>2],C=+i[X+40>>2],h=+i[X+44>>2],p=+i[n+300+48>>2],o=+i[n+300+52>>2],s=+i[n+300+56>>2],B=w*p+C*o+h*s+ +i[X+60>>2],L=te*p+_e*o+M*s+ +i[X+56>>2],s=+i[X+52>>2]+(ae*p+ve*o+b*s),o=pe*w+he*C+E*h,p=me*w+se*C+D*h,h=oe*w+xe*C+de*h,C=pe*te+he*_e+E*M,w=me*te+se*_e+D*M,M=oe*te+xe*_e+de*M,E=ae*pe+ve*he+b*E,D=ae*me+ve*se+b*D,b=oe*ae+xe*ve+de*b),i[W+320>>2]=b,i[u>>2]=D,i[d>>2]=E,i[W+320+12>>2]=0,i[m>>2]=M,i[g>>2]=w,i[S>>2]=C,i[W+320+28>>2]=0,i[G>>2]=h,i[O>>2]=p,i[z>>2]=o,i[W+320+44>>2]=0,i[Y>>2]=s,i[$>>2]=L,i[q>>2]=B,i[W+320+60>>2]=0,e[W+272>>2]=e[l>>2],e[W+272+4>>2]=e[l+4>>2],e[W+272+8>>2]=e[l+8>>2],e[W+272+12>>2]=e[l+12>>2],i[W+208>>2]=b,i[W+208+4>>2]=M,i[W+208+8>>2]=h,i[W+208+12>>2]=0,i[W+176>>2]=D,i[W+176+4>>2]=w,i[W+176+8>>2]=p,i[W+176+12>>2]=0,t=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,n=e[(e[t>>2]|0)+68>>2]|0,e[W+224>>2]=0,e[W+224+4>>2]=0,e[W+224+8>>2]=0,e[W+224+12>>2]=0,O1[n&0](t,W+272|0,W+208|0,W+176|0,ne,ne,-P-F,F-P,W+224|0,1,10)}H=W;return}case 6:case 9:{e[W+320>>2]=e[n+1064>>2],e[W+320+4>>2]=e[n+1064+4>>2],e[W+320+8>>2]=e[n+1064+8>>2],e[W+320+12>>2]=e[n+1064+12>>2],l=W+320+16|0,u=n+1064+16|0,e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],d=W+320+32|0,m=n+1064+32|0,e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],g=W+320+48|0,S=n+1064+48|0,e[g>>2]=e[S>>2],e[g+4>>2]=e[S+4>>2],e[g+8>>2]=e[S+8>>2],e[g+12>>2]=e[S+12>>2],U&1?(q=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,rr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne),e[W+320>>2]=e[n+1128>>2],e[W+320+4>>2]=e[n+1128+4>>2],e[W+320+8>>2]=e[n+1128+8>>2],e[W+320+12>>2]=e[n+1128+12>>2],e[l>>2]=e[n+1128+16>>2],e[l+4>>2]=e[n+1128+16+4>>2],e[l+8>>2]=e[n+1128+16+8>>2],e[l+12>>2]=e[n+1128+16+12>>2],e[d>>2]=e[n+1128+32>>2],e[d+4>>2]=e[n+1128+32+4>>2],e[d+8>>2]=e[n+1128+32+8>>2],e[d+12>>2]=e[n+1128+32+12>>2],e[g>>2]=e[n+1128+48>>2],e[g+4>>2]=e[n+1128+48+4>>2],e[g+8>>2]=e[n+1128+48+8>>2],e[g+12>>2]=e[n+1128+48+12>>2],q=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,rr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne)):(e[W+320>>2]=e[n+1128>>2],e[W+320+4>>2]=e[n+1128+4>>2],e[W+320+8>>2]=e[n+1128+8>>2],e[W+320+12>>2]=e[n+1128+12>>2],e[l>>2]=e[n+1128+16>>2],e[l+4>>2]=e[n+1128+16+4>>2],e[l+8>>2]=e[n+1128+16+8>>2],e[l+12>>2]=e[n+1128+16+12>>2],e[d>>2]=e[n+1128+32>>2],e[d+4>>2]=e[n+1128+32+4>>2],e[d+8>>2]=e[n+1128+32+8>>2],e[d+12>>2]=e[n+1128+32+12>>2],e[g>>2]=e[n+1128+48>>2],e[g+4>>2]=e[n+1128+48+4>>2],e[g+8>>2]=e[n+1128+48+8>>2],e[g+12>>2]=e[n+1128+48+12>>2]),X&1|0&&(e[W+320>>2]=e[n+1064>>2],e[W+320+4>>2]=e[n+1064+4>>2],e[W+320+8>>2]=e[n+1064+8>>2],e[W+320+12>>2]=e[n+1064+12>>2],e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],e[g>>2]=e[S>>2],e[g+4>>2]=e[S+4>>2],e[g+8>>2]=e[S+8>>2],e[g+12>>2]=e[S+12>>2],a=n+1128+48|0,e[W+304>>2]=e[W+320+8>>2],e[W+304+4>>2]=e[W+320+24>>2],e[W+304+8>>2]=e[W+320+40>>2],i[W+304+12>>2]=0,e[W+272>>2]=e[W+320>>2],e[W+272+4>>2]=e[W+320+16>>2],e[W+272+8>>2]=e[W+320+32>>2],i[W+272+12>>2]=0,oe=+i[n+932>>2],s=+i[n+932+4>>2],ve=+i[n+996>>2],xe=+i[n+996+4>>2],$=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,q=e[(e[$>>2]|0)+72>>2]|0,e[W+192>>2]=0,e[W+192+4>>2]=0,e[W+192+8>>2]=0,e[W+192+12>>2]=0,Eh[q&0]($,a,W+304|0,W+272|0,ne*.8999999761581421,oe,s,ve,xe,W+192|0,10,1),$=e[W+320+4>>2]|0,q=e[W+320+20>>2]|0,X=e[W+320+36>>2]|0,e[W+272>>2]=$,e[W+272+4>>2]=q,e[W+272+8>>2]=X,i[W+272+12>>2]=0,xe=+i[n+1196>>2],ve=+i[n+1200>>2],s=+C2(+xe),xe=+E2(+xe),oe=+C2(+ve),ve=+E2(+ve),ae=(e[Z>>2]=$,+i[Z>>2]),de=(e[Z>>2]=q,+i[Z>>2]),o=(e[Z>>2]=X,+i[Z>>2]),i[W+208>>2]=s*oe*ae+s*ve*de-xe*o,i[W+208+4>>2]=oe*de-ve*ae,i[W+208+8>>2]=xe*oe*ae+xe*ve*de+s*o,e[W+320>>2]=e[n+1128>>2],e[W+320+4>>2]=e[n+1128+4>>2],e[W+320+8>>2]=e[n+1128+8>>2],e[W+320+12>>2]=e[n+1128+12>>2],e[l>>2]=e[n+1128+16>>2],e[l+4>>2]=e[n+1128+16+4>>2],e[l+8>>2]=e[n+1128+16+8>>2],e[l+12>>2]=e[n+1128+16+12>>2],e[d>>2]=e[n+1128+32>>2],e[d+4>>2]=e[n+1128+32+4>>2],e[d+8>>2]=e[n+1128+32+8>>2],e[d+12>>2]=e[n+1128+32+12>>2],e[g>>2]=e[a>>2],e[g+4>>2]=e[a+4>>2],e[g+8>>2]=e[a+8>>2],e[g+12>>2]=e[a+12>>2],o=-+i[W+320+16>>2],s=-+i[W+320+32>>2],i[W+176>>2]=-+i[W+320>>2],i[W+176+4>>2]=o,i[W+176+8>>2]=s,i[W+176+12>>2]=0,s=+i[n+868>>2],o=+i[n+868+4>>2],s>o?(X=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,q=e[(e[X>>2]|0)+68>>2]|0,e[W+160>>2]=0,e[W+160+4>>2]=0,e[W+160+8>>2]=0,e[W+160+12>>2]=0,O1[q&0](X,a,W+176|0,W+208|0,ne,ne,-3.1415927410125732,3.1415927410125732,W+160|0,0,10)):s<o&&(X=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,q=e[(e[X>>2]|0)+68>>2]|0,e[W+144>>2]=0,e[W+144+4>>2]=0,e[W+144+8>>2]=0,e[W+144+12>>2]=0,O1[q&0](X,a,W+176|0,W+208|0,ne,ne,s,o,W+144|0,1,10)),e[W+320>>2]=e[n+1064>>2],e[W+320+4>>2]=e[n+1064+4>>2],e[W+320+8>>2]=e[n+1064+8>>2],e[W+320+12>>2]=e[n+1064+12>>2],e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],e[g>>2]=e[S>>2],e[g+4>>2]=e[S+4>>2],e[g+8>>2]=e[S+8>>2],e[g+12>>2]=e[S+12>>2],e[W+96>>2]=e[n+680>>2],e[W+96+4>>2]=e[n+680+4>>2],e[W+96+8>>2]=e[n+680+8>>2],e[W+96+12>>2]=e[n+680+12>>2],e[W+64>>2]=e[n+680+16>>2],e[W+64+4>>2]=e[n+680+16+4>>2],e[W+64+8>>2]=e[n+680+16+8>>2],e[W+64+12>>2]=e[n+680+16+12>>2],t=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,n=e[(e[t>>2]|0)+80>>2]|0,e[W+128>>2]=0,e[W+128+4>>2]=0,e[W+128+8>>2]=0,e[W+128+12>>2]=0,Zi[n&31](t,W+96|0,W+64|0,W+320|0,W+128|0)),H=W;return}case 12:{e[W+320>>2]=e[n+1236>>2],e[W+320+4>>2]=e[n+1236+4>>2],e[W+320+8>>2]=e[n+1236+8>>2],e[W+320+12>>2]=e[n+1236+12>>2],l=W+320+16|0,u=n+1236+16|0,e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],d=W+320+32|0,m=n+1236+32|0,e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],g=W+320+48|0,S=n+1236+48|0,e[g>>2]=e[S>>2],e[g+4>>2]=e[S+4>>2],e[g+8>>2]=e[S+8>>2],e[g+12>>2]=e[S+12>>2],U&1?(q=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,rr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne),e[W+320>>2]=e[n+1300>>2],e[W+320+4>>2]=e[n+1300+4>>2],e[W+320+8>>2]=e[n+1300+8>>2],e[W+320+12>>2]=e[n+1300+12>>2],e[l>>2]=e[n+1300+16>>2],e[l+4>>2]=e[n+1300+16+4>>2],e[l+8>>2]=e[n+1300+16+8>>2],e[l+12>>2]=e[n+1300+16+12>>2],e[d>>2]=e[n+1300+32>>2],e[d+4>>2]=e[n+1300+32+4>>2],e[d+8>>2]=e[n+1300+32+8>>2],e[d+12>>2]=e[n+1300+32+12>>2],e[g>>2]=e[n+1300+48>>2],e[g+4>>2]=e[n+1300+48+4>>2],e[g+8>>2]=e[n+1300+48+8>>2],e[g+12>>2]=e[n+1300+48+12>>2],q=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,rr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne)):(e[W+320>>2]=e[n+1300>>2],e[W+320+4>>2]=e[n+1300+4>>2],e[W+320+8>>2]=e[n+1300+8>>2],e[W+320+12>>2]=e[n+1300+12>>2],e[l>>2]=e[n+1300+16>>2],e[l+4>>2]=e[n+1300+16+4>>2],e[l+8>>2]=e[n+1300+16+8>>2],e[l+12>>2]=e[n+1300+16+12>>2],e[d>>2]=e[n+1300+32>>2],e[d+4>>2]=e[n+1300+32+4>>2],e[d+8>>2]=e[n+1300+32+8>>2],e[d+12>>2]=e[n+1300+32+12>>2],e[g>>2]=e[n+1300+48>>2],e[g+4>>2]=e[n+1300+48+4>>2],e[g+8>>2]=e[n+1300+48+8>>2],e[g+12>>2]=e[n+1300+48+12>>2]),X&1|0&&(e[W+320>>2]=e[n+1236>>2],e[W+320+4>>2]=e[n+1236+4>>2],e[W+320+8>>2]=e[n+1236+8>>2],e[W+320+12>>2]=e[n+1236+12>>2],e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],e[g>>2]=e[S>>2],e[g+4>>2]=e[S+4>>2],e[g+8>>2]=e[S+8>>2],e[g+12>>2]=e[S+12>>2],a=n+1300+48|0,e[W+304>>2]=e[W+320+8>>2],e[W+304+4>>2]=e[W+320+24>>2],e[W+304+8>>2]=e[W+320+40>>2],i[W+304+12>>2]=0,e[W+272>>2]=e[W+320>>2],e[W+272+4>>2]=e[W+320+16>>2],e[W+272+8>>2]=e[W+320+32>>2],i[W+272+12>>2]=0,oe=+i[n+1056>>2],s=+i[n+1060>>2],ve=+i[n+1144>>2],xe=+i[n+1144+4>>2],$=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,q=e[(e[$>>2]|0)+72>>2]|0,e[W+112>>2]=0,e[W+112+4>>2]=0,e[W+112+8>>2]=0,e[W+112+12>>2]=0,Eh[q&0]($,a,W+304|0,W+272|0,ne*.8999999761581421,oe,s,ve,xe,W+112|0,10,1),$=e[W+320+4>>2]|0,q=e[W+320+20>>2]|0,X=e[W+320+36>>2]|0,e[W+272>>2]=$,e[W+272+4>>2]=q,e[W+272+8>>2]=X,i[W+272+12>>2]=0,xe=+i[n+1368>>2],ve=+i[n+1372>>2],s=+C2(+xe),xe=+E2(+xe),oe=+C2(+ve),ve=+E2(+ve),ae=(e[Z>>2]=$,+i[Z>>2]),de=(e[Z>>2]=q,+i[Z>>2]),o=(e[Z>>2]=X,+i[Z>>2]),i[W+208>>2]=s*oe*ae+s*ve*de-xe*o,i[W+208+4>>2]=oe*de-ve*ae,i[W+208+8>>2]=xe*oe*ae+xe*ve*de+s*o,e[W+320>>2]=e[n+1300>>2],e[W+320+4>>2]=e[n+1300+4>>2],e[W+320+8>>2]=e[n+1300+8>>2],e[W+320+12>>2]=e[n+1300+12>>2],e[l>>2]=e[n+1300+16>>2],e[l+4>>2]=e[n+1300+16+4>>2],e[l+8>>2]=e[n+1300+16+8>>2],e[l+12>>2]=e[n+1300+16+12>>2],e[d>>2]=e[n+1300+32>>2],e[d+4>>2]=e[n+1300+32+4>>2],e[d+8>>2]=e[n+1300+32+8>>2],e[d+12>>2]=e[n+1300+32+12>>2],e[g>>2]=e[a>>2],e[g+4>>2]=e[a+4>>2],e[g+8>>2]=e[a+8>>2],e[g+12>>2]=e[a+12>>2],o=-+i[W+320+16>>2],s=-+i[W+320+32>>2],i[W+176>>2]=-+i[W+320>>2],i[W+176+4>>2]=o,i[W+176+8>>2]=s,i[W+176+12>>2]=0,s=+i[n+968>>2],o=+i[n+968+4>>2],s>o?(X=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,q=e[(e[X>>2]|0)+68>>2]|0,e[W+80>>2]=0,e[W+80+4>>2]=0,e[W+80+8>>2]=0,e[W+80+12>>2]=0,O1[q&0](X,a,W+176|0,W+208|0,ne,ne,-3.1415927410125732,3.1415927410125732,W+80|0,0,10)):s<o&&(X=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,q=e[(e[X>>2]|0)+68>>2]|0,e[W+48>>2]=0,e[W+48+4>>2]=0,e[W+48+8>>2]=0,e[W+48+12>>2]=0,O1[q&0](X,a,W+176|0,W+208|0,ne,ne,s,o,W+48|0,1,10)),e[W+320>>2]=e[n+1236>>2],e[W+320+4>>2]=e[n+1236+4>>2],e[W+320+8>>2]=e[n+1236+8>>2],e[W+320+12>>2]=e[n+1236+12>>2],e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],e[g>>2]=e[S>>2],e[g+4>>2]=e[S+4>>2],e[g+8>>2]=e[S+8>>2],e[g+12>>2]=e[S+12>>2],e[W+96>>2]=e[n+680>>2],e[W+96+4>>2]=e[n+680+4>>2],e[W+96+8>>2]=e[n+680+8>>2],e[W+96+12>>2]=e[n+680+12>>2],e[W+64>>2]=e[n+680+16>>2],e[W+64+4>>2]=e[n+680+16+4>>2],e[W+64+8>>2]=e[n+680+16+8>>2],e[W+64+12>>2]=e[n+680+16+12>>2],t=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,n=e[(e[t>>2]|0)+80>>2]|0,e[W+32>>2]=0,e[W+32+4>>2]=0,e[W+32+8>>2]=0,e[W+32+12>>2]=0,Zi[n&31](t,W+96|0,W+64|0,W+320|0,W+32|0)),H=W;return}case 7:{e[W+320>>2]=e[n+824>>2],e[W+320+4>>2]=e[n+824+4>>2],e[W+320+8>>2]=e[n+824+8>>2],e[W+320+12>>2]=e[n+824+12>>2],a=W+320+16|0,e[a>>2]=e[n+824+16>>2],e[a+4>>2]=e[n+824+16+4>>2],e[a+8>>2]=e[n+824+16+8>>2],e[a+12>>2]=e[n+824+16+12>>2],l=W+320+32|0,e[l>>2]=e[n+824+32>>2],e[l+4>>2]=e[n+824+32+4>>2],e[l+8>>2]=e[n+824+32+8>>2],e[l+12>>2]=e[n+824+32+12>>2],u=W+320+48|0,e[u>>2]=e[n+824+48>>2],e[u+4>>2]=e[n+824+48+4>>2],e[u+8>>2]=e[n+824+48+8>>2],e[u+12>>2]=e[n+824+48+12>>2],U&1?(q=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,rr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne),e[W+320>>2]=e[n+888>>2],e[W+320+4>>2]=e[n+888+4>>2],e[W+320+8>>2]=e[n+888+8>>2],e[W+320+12>>2]=e[n+888+12>>2],e[a>>2]=e[n+888+16>>2],e[a+4>>2]=e[n+888+16+4>>2],e[a+8>>2]=e[n+888+16+8>>2],e[a+12>>2]=e[n+888+16+12>>2],e[l>>2]=e[n+888+32>>2],e[l+4>>2]=e[n+888+32+4>>2],e[l+8>>2]=e[n+888+32+8>>2],e[l+12>>2]=e[n+888+32+12>>2],e[u>>2]=e[n+888+48>>2],e[u+4>>2]=e[n+888+48+4>>2],e[u+8>>2]=e[n+888+48+8>>2],e[u+12>>2]=e[n+888+48+12>>2],q=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,rr[e[(e[q>>2]|0)+64>>2]&7](q,W+320|0,ne)):(e[W+320>>2]=e[n+888>>2],e[W+320+4>>2]=e[n+888+4>>2],e[W+320+8>>2]=e[n+888+8>>2],e[W+320+12>>2]=e[n+888+12>>2],e[a>>2]=e[n+888+16>>2],e[a+4>>2]=e[n+888+16+4>>2],e[a+8>>2]=e[n+888+16+8>>2],e[a+12>>2]=e[n+888+16+12>>2],e[l>>2]=e[n+888+32>>2],e[l+4>>2]=e[n+888+32+4>>2],e[l+8>>2]=e[n+888+32+8>>2],e[l+12>>2]=e[n+888+32+12>>2],e[u>>2]=e[n+888+48>>2],e[u+4>>2]=e[n+888+48+4>>2],e[u+8>>2]=e[n+888+48+8>>2],e[u+12>>2]=e[n+888+48+12>>2]),X&1|0&&(G=R[n+180>>0]|0?n+824|0:n+888|0,O=e[G>>2]|0,$=e[G+4>>2]|0,z=e[G+16>>2]|0,q=e[G+20>>2]|0,Y=e[G+32>>2]|0,X=e[G+36>>2]|0,F=+i[G+48>>2],pe=+i[G+52>>2],oe=+i[G+56>>2],ve=+i[n+184>>2],_e=(e[Z>>2]=O,+i[Z>>2]),te=(e[Z>>2]=$,+i[Z>>2]*0),P=+i[G+8>>2]*0,se=(e[Z>>2]=z,+i[Z>>2]),me=(e[Z>>2]=q,+i[Z>>2]*0),he=+i[G+24>>2]*0,de=(e[Z>>2]=Y,+i[Z>>2]),xe=(e[Z>>2]=X,+i[Z>>2]*0),ae=+i[G+40>>2]*0,i[W+304>>2]=F+(P+(te+_e*ve)),i[W+304+4>>2]=pe+(he+(me+se*ve)),i[W+304+8>>2]=oe+(ae+(xe+de*ve)),i[W+304+12>>2]=0,ve=+i[n+188>>2],i[W+272>>2]=F+(P+(te+_e*ve)),i[W+272+4>>2]=pe+(he+(me+se*ve)),i[W+272+8>>2]=oe+(ae+(xe+de*ve)),i[W+272+12>>2]=0,G=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,U=e[(e[G>>2]|0)+16>>2]|0,e[W+16>>2]=0,e[W+16+4>>2]=0,e[W+16+8>>2]=0,e[W+16+12>>2]=0,Kt[U&127](G,W+304|0,W+272|0,W+16|0),e[W+208>>2]=O,e[W+208+4>>2]=z,e[W+208+8>>2]=Y,i[W+208+12>>2]=0,e[W+176>>2]=$,e[W+176+4>>2]=q,e[W+176+8>>2]=X,i[W+176+12>>2]=0,ve=+i[n+192>>2],de=+i[n+196>>2],t=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,X=e[(e[t>>2]|0)+68>>2]|0,e[W>>2]=0,e[W+4>>2]=0,e[W+8>>2]=0,e[W+12>>2]=0,O1[X&0](t,n+888+48|0,W+208|0,W+176|0,ne,ne,ve,de,W,1,10)),H=W;return}default:{H=W;return}}}function fY(t){t=t|0;var n=0,s=0,o=0,a=0,l=0;if(o=e[t+232>>2]|0,!((o|0)<=0)){t=e[t+240>>2]|0,s=0;do{switch(n=e[t+(s<<2)>>2]|0,e[n+216>>2]|0){case 2:case 5:break;default:e[n+204>>2]&3||(l=+i[n+392>>2]*+i[n+376>>2],a=+i[n+396>>2]*+i[n+380>>2],i[n+436>>2]=+i[n+388>>2]*+i[n+372>>2]+ +i[n+436>>2],i[n+440>>2]=l+ +i[n+440>>2],i[n+444>>2]=a+ +i[n+444>>2])}s=s+1|0}while((s|0)!=(o|0))}}function _Y(t,n){t=t|0,n=n|0}function pY(t,n){t=t|0,n=+n;var s=0,o=0,a=0;if(o=H,H=H+16|0,Xn(16070),(e[t+280>>2]|0)>0){s=0;do a=e[(e[t+288>>2]|0)+(s<<2)>>2]|0,rr[e[(e[a>>2]|0)+8>>2]&7](a,t,n),s=s+1|0;while((s|0)<(e[t+280>>2]|0))}if(s=e[2006]|0,a=(e[s+16>>2]|0)+-1|0,e[s+16>>2]=a,a|0){H=o;return}do if(e[s+4>>2]|0)if(Cn(o|0,0)|0,a=e[5649]|0,i[s+8>>2]=+i[s+8>>2]+ +(((e[o+4>>2]|0)-(e[a+4>>2]|0)+(((e[o>>2]|0)-(e[a>>2]|0)|0)*1e6|0)-(e[s+12>>2]|0)|0)>>>0)/1e3,e[s+16>>2]|0){H=o;return}else{s=e[2006]|0;break}while(!1);e[2006]=e[s+20>>2],H=o}function a6(t){t=t|0;var n=0;if(e[t>>2]=7896,n=e[t+80>>2]|0,n|0&&(R[t+84>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+80>>2]=0),R[t+84>>0]=1,e[t+80>>2]=0,e[t+72>>2]=0,e[t+76>>2]=0,n=e[t+60>>2]|0,n|0&&(R[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+60>>2]=0),R[t+64>>0]=1,e[t+60>>2]=0,e[t+52>>2]=0,e[t+56>>2]=0,n=e[t+40>>2]|0,!n){R[t+44>>0]=1,e[t+40>>2]=0,e[t+32>>2]=0,t=t+36|0,e[t>>2]=0;return}R[t+44>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+40>>2]=0,R[t+44>>0]=1,e[t+40>>2]=0,e[t+32>>2]=0,t=t+36|0,e[t>>2]=0}function hY(t){t=t|0,a6(t),ye(t)}function dY(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,p=0,h=0,d=0,m=0,g=0,S=0;if((l|0)<0){S=e[t+8>>2]|0,+cu[e[(e[S>>2]|0)+12>>2]&3](S,n,s,o,a,e[t+12>>2]|0,e[t+16>>2]|0,e[t+4>>2]|0,e[t+20>>2]|0,e[t+24>>2]|0);return}g=e[t+16>>2]|0;e:do if((g|0)>0)for(m=e[t+12>>2]|0,u=0;;){if(d=m+(u<<2)|0,h=e[d>>2]|0,p=e[(e[h+28>>2]|0)+208>>2]|0,(p|0)<=-1&&(p=e[(e[h+32>>2]|0)+208>>2]|0),(p|0)==(l|0)){S=d;break e}if(u=u+1|0,(u|0)>=(g|0)){S=0;break}}else u=0,S=0;while(!1);if((u|0)<(g|0)){m=e[t+12>>2]|0,p=0;do d=e[m+(u<<2)>>2]|0,h=e[(e[d+28>>2]|0)+208>>2]|0,(h|0)<=-1&&(h=e[(e[d+32>>2]|0)+208>>2]|0),p=((h|0)==(l|0)&1)+p|0,u=u+1|0;while((u|0)!=(g|0));l=p}else l=0;if(u=e[t+4>>2]|0,(e[u+72>>2]|0)<2){g=e[t+8>>2]|0,+cu[e[(e[g>>2]|0)+12>>2]&3](g,n,s,o,a,S,l,u,e[t+20>>2]|0,e[t+24>>2]|0);return}if((s|0)>0){u=e[t+32>>2]|0,p=e[t+36>>2]|0,g=0;do{if(m=n+(g<<2)|0,(u|0)==(p|0))if(d=p|0?p<<1:1,(p|0)<(d|0)){if(d?(e[5637]=(e[5637]|0)+1,u=Xe((d<<2|3)+16|0)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,p=e[t+32>>2]|0):u=0,(p|0)>0){h=0;do e[u+(h<<2)>>2]=e[(e[t+40>>2]|0)+(h<<2)>>2],h=h+1|0;while((h|0)!=(p|0))}h=e[t+40>>2]|0,h&&(R[t+44>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0),p=e[t+32>>2]|0),e[t+40>>2]=0),R[t+44>>0]=1,e[t+40>>2]=u,e[t+36>>2]=d,u=p,p=d}else u=p;e[(e[t+40>>2]|0)+(u<<2)>>2]=e[m>>2],u=u+1|0,e[t+32>>2]=u,g=g+1|0}while((g|0)!=(s|0))}if((a|0)>0){u=e[t+52>>2]|0,p=e[t+56>>2]|0,g=0;do{if(m=o+(g<<2)|0,(u|0)==(p|0))if(d=p|0?p<<1:1,(p|0)<(d|0)){if(d?(e[5637]=(e[5637]|0)+1,u=Xe((d<<2|3)+16|0)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,p=e[t+52>>2]|0):u=0,(p|0)>0){h=0;do e[u+(h<<2)>>2]=e[(e[t+60>>2]|0)+(h<<2)>>2],h=h+1|0;while((h|0)!=(p|0))}h=e[t+60>>2]|0,h&&(R[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0),p=e[t+52>>2]|0),e[t+60>>2]=0),R[t+64>>0]=1,e[t+60>>2]=u,e[t+56>>2]=d,u=p,p=d}else u=p;e[(e[t+60>>2]|0)+(u<<2)>>2]=e[m>>2],u=u+1|0,e[t+52>>2]=u,g=g+1|0}while((g|0)!=(a|0))}if((l|0)>0){u=e[t+72>>2]|0,p=e[t+76>>2]|0,g=0;do{if(m=S+(g<<2)|0,(u|0)==(p|0))if(d=p|0?p<<1:1,(p|0)<(d|0)){if(d?(e[5637]=(e[5637]|0)+1,u=Xe((d<<2|3)+16|0)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,h=u,u=e[t+72>>2]|0):(h=0,u=p),(u|0)>0){p=0;do e[h+(p<<2)>>2]=e[(e[t+80>>2]|0)+(p<<2)>>2],p=p+1|0;while((p|0)!=(u|0))}p=e[t+80>>2]|0,p&&(R[t+84>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[p+-4>>2]|0),u=e[t+72>>2]|0),e[t+80>>2]=0),R[t+84>>0]=1,e[t+80>>2]=h,e[t+76>>2]=d,p=d}else u=p;e[(e[t+80>>2]|0)+(u<<2)>>2]=e[m>>2],u=u+1|0,e[t+72>>2]=u,g=g+1|0}while((g|0)!=(l|0))}else u=e[t+72>>2]|0;((e[t+52>>2]|0)+u|0)<=(e[(e[t+4>>2]|0)+72>>2]|0)||o6(t)}function mY(t){t=t|0;var n=0;e[t>>2]=7916,n=e[t+520>>2]|0,n|0&&(R[t+524>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+520>>2]=0),R[t+524>>0]=1,e[t+520>>2]=0,e[t+512>>2]=0,e[t+516>>2]=0,e[t>>2]=3156,n=e[t+276>>2]|0,n|0&&(R[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+276>>2]=0),R[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,e[t+272>>2]=0,e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function gY(t){return t=t|0,488}function xY(t,n,s){return t=t|0,n=n|0,s=s|0,S6(t,n,s)|0,e[n+256>>2]=e[t+288>>2],e[n+260>>2]=e[t+292>>2],e[n+264>>2]=e[t+296>>2],e[n+268>>2]=e[t+300>>2],e[n+272>>2]=e[t+304>>2],e[n+276>>2]=e[t+308>>2],e[n+280>>2]=e[t+312>>2],e[n+284>>2]=e[t+316>>2],e[n+288>>2]=e[t+320>>2],e[n+292>>2]=e[t+324>>2],e[n+296>>2]=e[t+328>>2],e[n+300>>2]=e[t+332>>2],e[n+304>>2]=e[t+336>>2],e[n+308>>2]=e[t+340>>2],e[n+312>>2]=e[t+344>>2],e[n+316>>2]=e[t+348>>2],e[n+320>>2]=e[t+352>>2],e[n+324>>2]=e[t+356>>2],e[n+328>>2]=e[t+360>>2],e[n+332>>2]=e[t+364>>2],e[n+448>>2]=e[t+368>>2],e[n+336>>2]=e[t+568>>2],e[n+340>>2]=e[t+572>>2],e[n+344>>2]=e[t+576>>2],e[n+348>>2]=e[t+580>>2],e[n+352>>2]=e[t+372>>2],e[n+356>>2]=e[t+376>>2],e[n+360>>2]=e[t+380>>2],e[n+364>>2]=e[t+384>>2],e[n+368>>2]=e[t+388>>2],e[n+372>>2]=e[t+392>>2],e[n+376>>2]=e[t+396>>2],e[n+380>>2]=e[t+400>>2],e[n+384>>2]=e[t+404>>2],e[n+388>>2]=e[t+408>>2],e[n+392>>2]=e[t+412>>2],e[n+396>>2]=e[t+416>>2],e[n+400>>2]=e[t+420>>2],e[n+404>>2]=e[t+424>>2],e[n+408>>2]=e[t+428>>2],e[n+412>>2]=e[t+432>>2],e[n+416>>2]=e[t+436>>2],e[n+420>>2]=e[t+440>>2],e[n+424>>2]=e[t+444>>2],e[n+428>>2]=e[t+448>>2],e[n+432>>2]=e[t+452>>2],e[n+436>>2]=e[t+456>>2],e[n+440>>2]=e[t+460>>2],e[n+444>>2]=e[t+464>>2],e[n+452>>2]=e[t+468>>2],e[n+456>>2]=e[t+472>>2],e[n+484>>2]=It[t+476>>0],e[n+460>>2]=e[t+480>>2],e[n+464>>2]=e[t+484>>2],e[n+468>>2]=e[t+488>>2],e[n+472>>2]=e[t+492>>2],e[n+476>>2]=e[t+496>>2],e[n+480>>2]=e[t+500>>2],16174}function yY(t,n){t=t|0,n=n|0;var s=0,o=0;s=e[(e[n>>2]|0)+16>>2]|0,o=Tt[e[(e[t>>2]|0)+16>>2]&127](t)|0,o=G0[s&63](n,o,1)|0,s=G0[e[(e[t>>2]|0)+20>>2]&63](t,e[o+8>>2]|0,n)|0,Zi[e[(e[n>>2]|0)+20>>2]&31](n,o,s,1497645650,t)}function c6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0;h=H,H=H+32|0,e[t+236>>2]=2,e[t+336>>2]=0,e[t+336+4>>2]=0,e[t+336+8>>2]=0,e[t+336+12>>2]=0,e[t+336+16>>2]=0,e[t+336+20>>2]=0,e[t+336+24>>2]=0,e[t+336+28>>2]=0,e[t+568>>2]=1065353216,e[t+572>>2]=1065353216,e[t+576>>2]=1065353216,i[t+580>>2]=0,e[t+372>>2]=1065353216,e[t+376>>2]=1065353216,e[t+380>>2]=1065353216,s=t+384|0,a=s+36|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(a|0));e[t+436>>2]=0,e[t+436+4>>2]=0,e[t+436+8>>2]=0,e[t+436+12>>2]=0,e[t+436+16>>2]=0,e[t+436+20>>2]=0,e[t+436+24>>2]=0,e[t+436+28>>2]=0,o=+i[n+92>>2],p=+i[n+96>>2],i[h+20>>2]=o,i[h+16>>2]=p,i[h+12>>2]=0,i[h+8>>2]=1,e[t+468>>2]=e[(o<0?h+12|0:o>1?h+8|0:h+20|0)>>2],i[h+4>>2]=0,i[h>>2]=1,e[t+472>>2]=e[(p<0?h+4|0:p>1?h:h+16|0)>>2],e[t+496>>2]=e[n+112>>2],e[t+500>>2]=e[n+116>>2],s=e[n+4>>2]|0,e[t+504>>2]=s,e[t+632>>2]=0,e[t+636>>2]=0,R[t+476>>0]=R[n+120>>0]|0,e[t+480>>2]=e[n+124>>2],e[t+484>>2]=e[n+128>>2],e[t+488>>2]=e[n+132>>2],e[t+492>>2]=e[n+136>>2],s?(zt[e[(e[s>>2]|0)+8>>2]&127](s,t+4|0),s=t+4|0,a=t+20|0,l=t+36|0,u=t+52|0):(e[t+4>>2]=e[n+8>>2],e[t+4+4>>2]=e[n+8+4>>2],e[t+4+8>>2]=e[n+8+8>>2],e[t+4+12>>2]=e[n+8+12>>2],e[t+20>>2]=e[n+24>>2],e[t+20+4>>2]=e[n+24+4>>2],e[t+20+8>>2]=e[n+24+8>>2],e[t+20+12>>2]=e[n+24+12>>2],e[t+36>>2]=e[n+40>>2],e[t+36+4>>2]=e[n+40+4>>2],e[t+36+8>>2]=e[n+40+8>>2],e[t+36+12>>2]=e[n+40+12>>2],e[t+52>>2]=e[n+56>>2],e[t+52+4>>2]=e[n+56+4>>2],e[t+52+8>>2]=e[n+56+8>>2],e[t+52+12>>2]=e[n+56+12>>2],s=t+4|0,a=t+20|0,l=t+36|0,u=t+52|0),e[t+68>>2]=e[s>>2],e[t+68+4>>2]=e[s+4>>2],e[t+68+8>>2]=e[s+8>>2],e[t+68+12>>2]=e[s+12>>2],e[t+84>>2]=e[a>>2],e[t+84+4>>2]=e[a+4>>2],e[t+84+8>>2]=e[a+8>>2],e[t+84+12>>2]=e[a+12>>2],e[t+100>>2]=e[l>>2],e[t+100+4>>2]=e[l+4>>2],e[t+100+8>>2]=e[l+8>>2],e[t+100+12>>2]=e[l+12>>2],e[t+116>>2]=e[u>>2],e[t+116+4>>2]=e[u+4>>2],e[t+116+8>>2]=e[u+8>>2],e[t+116+12>>2]=e[u+12>>2],e[t+132>>2]=0,e[t+132+4>>2]=0,e[t+132+8>>2]=0,e[t+132+12>>2]=0,e[t+132+16>>2]=0,e[t+132+20>>2]=0,e[t+132+24>>2]=0,e[t+132+28>>2]=0,e[t+224>>2]=e[n+100>>2],e[t+232>>2]=e[n+104>>2],e[t+228>>2]=e[n+108>>2],zt[e[(e[t>>2]|0)+8>>2]&127](t,e[n+72>>2]|0),s=e[5476]|0,e[5476]=s+1,e[t+532>>2]=s,o=+i[n>>2],s=e[t+204>>2]|0,o==0?(e[t+204>>2]=s|1,p=0):(e[t+204>>2]=s&-2,p=1/o),i[t+368>>2]=p,m=o*+i[t+408>>2],d=o*+i[t+412>>2],i[t+388>>2]=o*+i[t+404>>2],i[t+392>>2]=m,i[t+396>>2]=d,i[t+400>>2]=0,o=+i[n+76>>2],a=o!=0?(i[Z>>2]=1/o,e[Z>>2]|0):0,o=+i[n+80>>2],s=o!=0?(i[Z>>2]=1/o,e[Z>>2]|0):0,o=+i[n+84>>2],n=o!=0?(i[Z>>2]=1/o,e[Z>>2]|0):0,e[t+420>>2]=a,e[t+424>>2]=s,e[t+428>>2]=n,i[t+432>>2]=0,S=p*+i[t+376>>2],b=p*+i[t+380>>2],i[t+584>>2]=p*+i[t+372>>2],i[t+588>>2]=S,i[t+592>>2]=b,i[t+596>>2]=0,b=+i[t+4>>2],S=(e[Z>>2]=a,+i[Z>>2]),D=+i[t+8>>2],o=(e[Z>>2]=s,+i[Z>>2]),E=+i[t+12>>2],d=(e[Z>>2]=n,+i[Z>>2]),M=+i[t+20>>2],w=+i[t+24>>2],C=+i[t+28>>2],g=+i[t+36>>2],m=+i[t+40>>2],p=+i[t+44>>2],i[t+288>>2]=b*(b*S)+D*(D*o)+E*(E*d),i[t+292>>2]=b*S*M+D*o*w+E*d*C,i[t+296>>2]=b*S*g+D*o*m+E*d*p,i[t+300>>2]=0,i[t+304>>2]=b*(S*M)+D*(o*w)+E*(d*C),i[t+308>>2]=M*(S*M)+w*(o*w)+C*(d*C),i[t+312>>2]=S*M*g+o*w*m+d*C*p,i[t+316>>2]=0,i[t+320>>2]=b*(S*g)+D*(o*m)+E*(d*p),i[t+324>>2]=M*(S*g)+w*(o*m)+C*(d*p),i[t+328>>2]=g*(S*g)+m*(o*m)+p*(d*p),i[t+332>>2]=0,e[t+528>>2]=8,e[t+536>>2]=0,e[t+536+4>>2]=0,e[t+536+8>>2]=0,e[t+536+12>>2]=0,e[t+536+16>>2]=0,e[t+536+20>>2]=0,e[t+536+24>>2]=0,e[t+536+28>>2]=0,p=+i[t+368>>2],d=p*+i[t+376>>2],m=p*+i[t+380>>2],i[t+584>>2]=+i[t+372>>2]*p,i[t+588>>2]=d,i[t+592>>2]=m,s=t+596|0,a=s+36|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(a|0));H=h}function eu(t,n,s,o,a){t=t|0,n=+n,s=s|0,o=o|0,a=a|0;var l=0;l=H,H=H+144|0,e[t+164>>2]=1065353216,e[t+168>>2]=1065353216,e[t+172>>2]=1065353216,i[t+176>>2]=0,e[t+180>>2]=0,i[t+184>>2]=0xde0b6b000000000,e[t+188>>2]=0,e[t+188+4>>2]=0,e[t+188+8>>2]=0,e[t+188+12>>2]=0,e[t+204>>2]=1,e[t+208>>2]=-1,e[t+212>>2]=-1,e[t+216>>2]=1,i[t+220>>2]=0,i[t+224>>2]=.5,i[t+228>>2]=0,i[t+232>>2]=0,e[t+236>>2]=1,e[t+240>>2]=0,e[t+244>>2]=-1,i[t+248>>2]=1,i[t+252>>2]=0,i[t+256>>2]=0,e[t+260>>2]=0,R[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,e[t+272>>2]=0,e[t+284>>2]=0,e[t+4>>2]=1065353216,e[t+8>>2]=0,e[t+8+4>>2]=0,e[t+8+8>>2]=0,e[t+8+12>>2]=0,e[t+24>>2]=1065353216,e[t+28>>2]=0,e[t+28+4>>2]=0,e[t+28+8>>2]=0,e[t+28+12>>2]=0,e[t+44>>2]=1065353216,e[t+48>>2]=0,e[t+48+4>>2]=0,e[t+48+8>>2]=0,e[t+48+12>>2]=0,e[t+48+16>>2]=0,e[t>>2]=7916,R[t+524>>0]=1,e[t+520>>2]=0,e[t+512>>2]=0,e[t+516>>2]=0,i[l>>2]=n,e[l+4>>2]=s,e[l+72>>2]=o,e[l+76>>2]=e[a>>2],e[l+76+4>>2]=e[a+4>>2],e[l+76+8>>2]=e[a+8>>2],e[l+76+12>>2]=e[a+12>>2],i[l+92>>2]=0,i[l+96>>2]=0,i[l+100>>2]=.5,i[l+104>>2]=0,i[l+108>>2]=0,i[l+112>>2]=.800000011920929,i[l+116>>2]=1,R[l+120>>0]=0,i[l+124>>2]=.004999999888241291,i[l+128>>2]=.009999999776482582,i[l+132>>2]=.009999999776482582,i[l+136>>2]=.009999999776482582,e[l+8>>2]=1065353216,e[l+12>>2]=0,e[l+12+4>>2]=0,e[l+12+8>>2]=0,e[l+12+12>>2]=0,e[l+28>>2]=1065353216,e[l+32>>2]=0,e[l+32+4>>2]=0,e[l+32+8>>2]=0,e[l+32+12>>2]=0,e[l+48>>2]=1065353216,e[l+52>>2]=0,e[l+52+4>>2]=0,e[l+52+8>>2]=0,e[l+52+12>>2]=0,e[l+52+16>>2]=0,c6(t,l),H=l}function vY(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;if(h=+i[t+468>>2],l=+E8(+(1-h),+n),s=l*+i[t+336>>2],i[t+336>>2]=s,a=l*+i[t+340>>2],i[t+340>>2]=a,l=l*+i[t+344>>2],i[t+344>>2]=l,d=+i[t+472>>2],o=+E8(+(1-d),+n),n=o*+i[t+352>>2],i[t+352>>2]=n,u=o*+i[t+356>>2],i[t+356>>2]=u,o=o*+i[t+360>>2],i[t+360>>2]=o,!!(R[t+476>>0]|0)){o*o+(n*n+u*u)<+i[t+488>>2]&&s*s+a*a+l*l<+i[t+484>>2]?(m=+i[t+480>>2],i[t+352>>2]=n*m,i[t+356>>2]=m*u,i[t+360>>2]=m*o,i[t+336>>2]=m*s,i[t+340>>2]=m*a,i[t+344>>2]=m*l,s=m*s,a=m*a,l=m*l,p=n*m,u=m*u,o=m*o):p=n,n=+ot(+(s*s+a*a+l*l));do if(n<h)if(n>.004999999888241291){i[t+336>>2]=s-s*(1/n)*.004999999888241291,i[t+340>>2]=a-a*(1/n)*.004999999888241291,i[t+344>>2]=l-l*(1/n)*.004999999888241291;break}else{e[t+336>>2]=0,e[t+336+4>>2]=0,e[t+336+8>>2]=0,e[t+336+12>>2]=0;break}while(!1);if(n=+ot(+(p*p+u*u+o*o)),n<d)if(n>.004999999888241291){i[t+352>>2]=p-p*(1/n)*.004999999888241291,i[t+356>>2]=u-u*(1/n)*.004999999888241291,i[t+360>>2]=o-o*(1/n)*.004999999888241291;return}else{e[t+352>>2]=0,e[t+352+4>>2]=0,e[t+352+8>>2]=0,e[t+352+12>>2]=0;return}}}function ih(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0;e[t+204>>2]&2?(e[t+68>>2]=e[t+4>>2],e[t+68+4>>2]=e[t+4+4>>2],e[t+68+8>>2]=e[t+4+8>>2],e[t+68+12>>2]=e[t+4+12>>2],e[t+84>>2]=e[t+20>>2],e[t+84+4>>2]=e[t+20+4>>2],e[t+84+8>>2]=e[t+20+8>>2],e[t+84+12>>2]=e[t+20+12>>2],e[t+100>>2]=e[t+36>>2],e[t+100+4>>2]=e[t+36+4>>2],e[t+100+8>>2]=e[t+36+8>>2],e[t+100+12>>2]=e[t+36+12>>2],e[t+116>>2]=e[t+52>>2],e[t+116+4>>2]=e[t+52+4>>2],e[t+116+8>>2]=e[t+52+8>>2],e[t+116+12>>2]=e[t+52+12>>2],s=t+20|0,o=n+16|0,a=t+36|0,l=n+32|0,u=t+52|0,p=n+48|0,h=t+4|0):(e[t+68>>2]=e[n>>2],e[t+68+4>>2]=e[n+4>>2],e[t+68+8>>2]=e[n+8>>2],e[t+68+12>>2]=e[n+12>>2],e[t+84>>2]=e[n+16>>2],e[t+84+4>>2]=e[n+16+4>>2],e[t+84+8>>2]=e[n+16+8>>2],e[t+84+12>>2]=e[n+16+12>>2],e[t+100>>2]=e[n+32>>2],e[t+100+4>>2]=e[n+32+4>>2],e[t+100+8>>2]=e[n+32+8>>2],e[t+100+12>>2]=e[n+32+12>>2],e[t+116>>2]=e[n+48>>2],e[t+116+4>>2]=e[n+48+4>>2],e[t+116+8>>2]=e[n+48+8>>2],e[t+116+12>>2]=e[n+48+12>>2],s=t+20|0,o=n+16|0,a=t+36|0,l=n+32|0,u=t+52|0,p=n+48|0,h=t+4|0),e[t+132>>2]=e[t+336>>2],e[t+132+4>>2]=e[t+336+4>>2],e[t+132+8>>2]=e[t+336+8>>2],e[t+132+12>>2]=e[t+336+12>>2],e[t+148>>2]=e[t+352>>2],e[t+148+4>>2]=e[t+352+4>>2],e[t+148+8>>2]=e[t+352+8>>2],e[t+148+12>>2]=e[t+352+12>>2],e[h>>2]=e[n>>2],e[h+4>>2]=e[n+4>>2],e[h+8>>2]=e[n+8>>2],e[h+12>>2]=e[n+12>>2],e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],e[s+12>>2]=e[o+12>>2],e[a>>2]=e[l>>2],e[a+4>>2]=e[l+4>>2],e[a+8>>2]=e[l+8>>2],e[a+12>>2]=e[l+12>>2],e[u>>2]=e[p>>2],e[u+4>>2]=e[p+4>>2],e[u+8>>2]=e[p+8>>2],e[u+12>>2]=e[p+12>>2],L=+i[t+4>>2],w=+i[t+420>>2],B=+i[t+8>>2],S=+i[t+424>>2],b=+i[t+12>>2],m=+i[t+428>>2],D=+i[t+20>>2],E=+i[t+24>>2],M=+i[t+28>>2],C=+i[t+36>>2],g=+i[t+40>>2],d=+i[t+44>>2],i[t+288>>2]=L*(L*w)+B*(B*S)+b*(b*m),i[t+292>>2]=L*w*D+B*S*E+b*m*M,i[t+296>>2]=L*w*C+B*S*g+b*m*d,i[t+300>>2]=0,i[t+304>>2]=L*(w*D)+B*(S*E)+b*(m*M),i[t+308>>2]=D*(w*D)+E*(S*E)+M*(m*M),i[t+312>>2]=w*D*C+S*E*g+m*M*d,i[t+316>>2]=0,i[t+320>>2]=L*(w*C)+B*(S*g)+b*(m*d),i[t+324>>2]=D*(w*C)+E*(S*g)+M*(m*d),i[t+328>>2]=C*(w*C)+g*(S*g)+d*(m*d),i[t+332>>2]=0}function l6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0;s=e[t+512>>2]|0;e:do if((s|0)>0){for(a=e[t+520>>2]|0,o=0;(e[a+(o<<2)>>2]|0)!=(n|0);)if(o=o+1|0,(o|0)>=(s|0))break e;if((o|0)!=(s|0))return}while(!1);if((s|0)==(e[t+516>>2]|0)&&(l=s|0?s<<1:1,(s|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=s,s=e[t+512>>2]|0):a=0,(s|0)>0){o=0;do e[a+(o<<2)>>2]=e[(e[t+520>>2]|0)+(o<<2)>>2],o=o+1|0;while((o|0)!=(s|0))}o=e[t+520>>2]|0,o&&(R[t+524>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0),s=e[t+512>>2]|0),e[t+520>>2]=0),R[t+524>>0]=1,e[t+520>>2]=a,e[t+516>>2]=l}if(e[(e[t+520>>2]|0)+(s<<2)>>2]=n,e[t+512>>2]=s+1,l=e[n+28>>2]|0,n=e[n+32>>2]|0,(l|0)==(t|0)){if(s=e[t+268>>2]|0,(s|0)==(e[t+272>>2]|0)&&(p=s|0?s<<1:1,(s|0)<(p|0))){if(p?(e[5637]=(e[5637]|0)+1,s=Xe((p<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=s,s=e[t+268>>2]|0):a=0,(s|0)>0){o=0;do e[a+(o<<2)>>2]=e[(e[t+276>>2]|0)+(o<<2)>>2],o=o+1|0;while((o|0)!=(s|0))}o=e[t+276>>2]|0,o&&(R[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0),s=e[t+268>>2]|0),e[t+276>>2]=0),R[t+280>>0]=1,e[t+276>>2]=a,e[t+272>>2]=p}e[(e[t+276>>2]|0)+(s<<2)>>2]=n,e[t+268>>2]=s+1,e[t+260>>2]=s>>>31^1;return}else{if(s=e[n+268>>2]|0,(s|0)==(e[n+272>>2]|0)&&(u=s|0?s<<1:1,(s|0)<(u|0))){if(u?(e[5637]=(e[5637]|0)+1,s=Xe((u<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=s,s=e[n+268>>2]|0):a=0,(s|0)>0){o=0;do e[a+(o<<2)>>2]=e[(e[n+276>>2]|0)+(o<<2)>>2],o=o+1|0;while((o|0)!=(s|0))}o=e[n+276>>2]|0,o&&(R[n+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0),s=e[n+268>>2]|0),e[n+276>>2]=0),R[n+280>>0]=1,e[n+276>>2]=a,e[n+272>>2]=u}e[(e[n+276>>2]|0)+(s<<2)>>2]=l,e[n+268>>2]=s+1,e[n+260>>2]=s>>>31^1;return}}function u6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0;if(l=e[t+512>>2]|0,!((l|0)<=0)){for(u=e[t+520>>2]|0,s=0;(e[u+(s<<2)>>2]|0)!=(n|0);)if(s=s+1|0,(s|0)>=(l|0)){p=25;break}if((p|0)!=25){if((s|0)<(l|0))a=0;else return;for(;;){if(s=u+(a<<2)|0,(e[s>>2]|0)==(n|0)){p=8;break}if(o=a+1|0,(o|0)<(l|0))a=o;else break}if((p|0)==8&&(a|0)<(l|0)&&(e[s>>2]=e[u+(l+-1<<2)>>2],e[(e[t+520>>2]|0)+(l+-1<<2)>>2]=n,e[t+512>>2]=l+-1),u=e[n+28>>2]|0,p=e[n+32>>2]|0,(u|0)==(t|0)){s=e[t+268>>2]|0;e:do if((s|0)>0){for(l=e[t+276>>2]|0,o=0;a=l+(o<<2)|0,(e[a>>2]|0)!=(p|0);)if(o=o+1|0,(o|0)>=(s|0))break e;(o|0)<(s|0)&&(e[a>>2]=e[l+(s+-1<<2)>>2],e[(e[t+276>>2]|0)+(s+-1<<2)>>2]=p,e[t+268>>2]=s+-1,s=s+-1|0)}while(!1);e[t+260>>2]=(s|0)>0&1;return}else{s=e[p+268>>2]|0;e:do if((s|0)>0){for(l=e[p+276>>2]|0,o=0;a=l+(o<<2)|0,(e[a>>2]|0)!=(u|0);)if(o=o+1|0,(o|0)>=(s|0))break e;(o|0)<(s|0)&&(e[a>>2]=e[l+(s+-1<<2)>>2],e[(e[p+276>>2]|0)+(s+-1<<2)>>2]=u,e[p+268>>2]=s+-1,s=s+-1|0)}while(!1);e[p+260>>2]=(s|0)>0&1;return}}}}function f6(t){t=t|0;var n=0;if(e[t>>2]=7952,n=e[t+136>>2]|0,n|0&&(R[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+136>>2]=0),R[t+140>>0]=1,e[t+136>>2]=0,e[t+128>>2]=0,e[t+132>>2]=0,n=e[t+76>>2]|0,n|0&&(R[t+80>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+76>>2]=0),R[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,e[t+72>>2]=0,n=e[t+56>>2]|0,n|0&&(R[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+56>>2]=0),R[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,n=e[t+36>>2]|0,n|0&&(R[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),R[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,n=e[t+16>>2]|0,!n){R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0;return}R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0}function SY(t){t=t|0,f6(t),ye(t)}function CY(t,n,s){t=t|0,n=n|0,s=+s,m2[e[(e[t>>2]|0)+16>>2]&31](t,s)}function TY(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0;if(o=H,H=H+48|0,(e[t+128>>2]|0)<=0){H=o;return}s=0;do h=e[t+136>>2]|0,e[o+32>>2]=(R[h+(s*284|0)+84>>0]|0)==0?1065353216:0,e[o+32+4>>2]=0,e[o+32+8>>2]=1065353216,i[o+32+12>>2]=0,p=h+(s*284|0)+140|0,e[o+16>>2]=e[p>>2],e[o+16+4>>2]=e[p+4>>2],e[o+16+8>>2]=e[p+8>>2],e[o+16+12>>2]=e[p+12>>2],p=e[t+112>>2]|0,a=e[(e[n>>2]|0)+16>>2]|0,u=+i[h+(s*284|0)+108+(p<<2)>>2]+ +i[o+16+4>>2],l=+i[h+(s*284|0)+124+(p<<2)>>2]+ +i[o+16+8>>2],i[o>>2]=+i[h+(s*284|0)+92+(p<<2)>>2]+ +i[o+16>>2],i[o+4>>2]=u,i[o+8>>2]=l,i[o+12>>2]=0,Kt[a&127](n,o+16|0,o,o+32|0),Kt[e[(e[n>>2]|0)+16>>2]&127](n,o+16|0,(e[t+136>>2]|0)+(s*284|0)+16|0,o+32|0),s=s+1|0;while((s|0)<(e[t+128>>2]|0));H=o}function wY(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(h=H,H=H+80|0,s=Tt[e[(e[t>>2]|0)+28>>2]&127](t)|0,a=+i[t+4>>2],l=+i[t+8>>2],u=+i[t+12>>2],(s|0)<=0){H=h;return}p=0;do{vc[e[(e[t>>2]|0)+16>>2]&3](t,h+76|0,h+52|0,h+64|0,h+56|0,h+72|0,h+68|0,h+48|0,h+60|0,p);e:do switch(e[h+64>>2]|0){case 0:{switch(e[h+60>>2]|0){case 2:{if((e[h+48>>2]|0)>0)o=0;else break e;do g=(e[h+72>>2]|0)+(Rt(e[h+68>>2]|0,o)|0)|0,C=e[h+76>>2]|0,S=e[h+56>>2]|0,w=C+(Rt(S,e[g>>2]|0)|0)|0,m=l*+i[w+4>>2],d=u*+i[w+8>>2],i[h>>2]=a*+i[w>>2],i[h+4>>2]=m,i[h+8>>2]=d,i[h+12>>2]=0,w=C+(Rt(S,e[g+4>>2]|0)|0)|0,d=l*+i[w+4>>2],m=u*+i[w+8>>2],i[h+16>>2]=a*+i[w>>2],i[h+20>>2]=d,i[h+24>>2]=m,i[h+28>>2]=0,g=C+(Rt(S,e[g+8>>2]|0)|0)|0,m=l*+i[g+4>>2],d=u*+i[g+8>>2],i[h+32>>2]=a*+i[g>>2],i[h+36>>2]=m,i[h+40>>2]=d,i[h+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,h,p,o),o=o+1|0;while((o|0)<(e[h+48>>2]|0));break}case 3:{if((e[h+48>>2]|0)>0)o=0;else break e;do C=(e[h+72>>2]|0)+(Rt(e[h+68>>2]|0,o)|0)|0,S=e[h+76>>2]|0,w=e[h+56>>2]|0,g=S+(Rt(Le[C>>1]|0,w)|0)|0,d=l*+i[g+4>>2],m=u*+i[g+8>>2],i[h>>2]=a*+i[g>>2],i[h+4>>2]=d,i[h+8>>2]=m,i[h+12>>2]=0,g=S+(Rt(Le[C+2>>1]|0,w)|0)|0,m=l*+i[g+4>>2],d=u*+i[g+8>>2],i[h+16>>2]=a*+i[g>>2],i[h+20>>2]=m,i[h+24>>2]=d,i[h+28>>2]=0,w=S+(Rt(Le[C+4>>1]|0,w)|0)|0,d=l*+i[w+4>>2],m=u*+i[w+8>>2],i[h+32>>2]=a*+i[w>>2],i[h+36>>2]=d,i[h+40>>2]=m,i[h+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,h,p,o),o=o+1|0;while((o|0)<(e[h+48>>2]|0));break}case 5:{if((e[h+48>>2]|0)>0)o=0;else break e;do C=(e[h+72>>2]|0)+(Rt(e[h+68>>2]|0,o)|0)|0,S=e[h+76>>2]|0,w=e[h+56>>2]|0,g=S+(Rt(It[C>>0]|0,w)|0)|0,d=l*+i[g+4>>2],m=u*+i[g+8>>2],i[h>>2]=a*+i[g>>2],i[h+4>>2]=d,i[h+8>>2]=m,i[h+12>>2]=0,g=S+(Rt(It[C+1>>0]|0,w)|0)|0,m=l*+i[g+4>>2],d=u*+i[g+8>>2],i[h+16>>2]=a*+i[g>>2],i[h+20>>2]=m,i[h+24>>2]=d,i[h+28>>2]=0,w=S+(Rt(It[C+2>>0]|0,w)|0)|0,d=l*+i[w+4>>2],m=u*+i[w+8>>2],i[h+32>>2]=a*+i[w>>2],i[h+36>>2]=d,i[h+40>>2]=m,i[h+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,h,p,o),o=o+1|0;while((o|0)<(e[h+48>>2]|0));break}default:break e}break}case 1:{switch(e[h+60>>2]|0){case 2:{if((e[h+48>>2]|0)>0)o=0;else break e;do w=(e[h+72>>2]|0)+(Rt(e[h+68>>2]|0,o)|0)|0,S=e[h+76>>2]|0,C=e[h+56>>2]|0,g=S+(Rt(C,e[w>>2]|0)|0)|0,d=l*+Mt[g+8>>3],m=u*+Mt[g+16>>3],i[h>>2]=a*+Mt[g>>3],i[h+4>>2]=d,i[h+8>>2]=m,i[h+12>>2]=0,g=S+(Rt(C,e[w+4>>2]|0)|0)|0,m=l*+Mt[g+8>>3],d=u*+Mt[g+16>>3],i[h+16>>2]=a*+Mt[g>>3],i[h+20>>2]=m,i[h+24>>2]=d,i[h+28>>2]=0,w=S+(Rt(C,e[w+8>>2]|0)|0)|0,d=l*+Mt[w+8>>3],m=u*+Mt[w+16>>3],i[h+32>>2]=a*+Mt[w>>3],i[h+36>>2]=d,i[h+40>>2]=m,i[h+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,h,p,o),o=o+1|0;while((o|0)<(e[h+48>>2]|0));break}case 3:{if((e[h+48>>2]|0)>0)o=0;else break e;do C=(e[h+72>>2]|0)+(Rt(e[h+68>>2]|0,o)|0)|0,S=e[h+76>>2]|0,w=e[h+56>>2]|0,g=S+(Rt(Le[C>>1]|0,w)|0)|0,d=l*+Mt[g+8>>3],m=u*+Mt[g+16>>3],i[h>>2]=a*+Mt[g>>3],i[h+4>>2]=d,i[h+8>>2]=m,i[h+12>>2]=0,g=S+(Rt(Le[C+2>>1]|0,w)|0)|0,m=l*+Mt[g+8>>3],d=u*+Mt[g+16>>3],i[h+16>>2]=a*+Mt[g>>3],i[h+20>>2]=m,i[h+24>>2]=d,i[h+28>>2]=0,w=S+(Rt(Le[C+4>>1]|0,w)|0)|0,d=l*+Mt[w+8>>3],m=u*+Mt[w+16>>3],i[h+32>>2]=a*+Mt[w>>3],i[h+36>>2]=d,i[h+40>>2]=m,i[h+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,h,p,o),o=o+1|0;while((o|0)<(e[h+48>>2]|0));break}case 5:{if((e[h+48>>2]|0)>0)o=0;else break e;do C=(e[h+72>>2]|0)+(Rt(e[h+68>>2]|0,o)|0)|0,S=e[h+76>>2]|0,w=e[h+56>>2]|0,g=S+(Rt(It[C>>0]|0,w)|0)|0,d=l*+Mt[g+8>>3],m=u*+Mt[g+16>>3],i[h>>2]=a*+Mt[g>>3],i[h+4>>2]=d,i[h+8>>2]=m,i[h+12>>2]=0,g=S+(Rt(It[C+1>>0]|0,w)|0)|0,m=l*+Mt[g+8>>3],d=u*+Mt[g+16>>3],i[h+16>>2]=a*+Mt[g>>3],i[h+20>>2]=m,i[h+24>>2]=d,i[h+28>>2]=0,w=S+(Rt(It[C+2>>0]|0,w)|0)|0,d=l*+Mt[w+8>>3],m=u*+Mt[w+16>>3],i[h+32>>2]=a*+Mt[w>>3],i[h+36>>2]=d,i[h+40>>2]=m,i[h+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,h,p,o),o=o+1|0;while((o|0)<(e[h+48>>2]|0));break}default:break e}break}default:}while(!1);zt[e[(e[t>>2]|0)+24>>2]&127](t,p),p=p+1|0}while((p|0)!=(s|0));H=h}function MY(t){return t=t|0,28}function RY(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;if(w=H,H=H+32|0,o=Tt[e[(e[t>>2]|0)+28>>2]&127](t)|0,e[n+20>>2]=o,e[n>>2]=0,!o)return C=t+4|0,s=n+4|0,C=e[C>>2]|0,e[s>>2]=C,s=t+8|0,s=e[s>>2]|0,C=n+8|0,e[C>>2]=s,C=t+12|0,C=e[C>>2]|0,s=n+12|0,e[s>>2]=C,s=t+16|0,s=e[s>>2]|0,t=n+16|0,e[t>>2]=s,H=w,14151;C=G0[e[(e[s>>2]|0)+16>>2]&63](s,32,o)|0,o=e[C+8>>2]|0,e[n>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,S=Tt[e[(e[t>>2]|0)+28>>2]&127](t)|0;e:do if((S|0)>0)for(g=0;;){switch(vc[e[(e[t>>2]|0)+16>>2]&3](t,w+28|0,w+4|0,w+16|0,w+8|0,w+24|0,w+20|0,w,w+12|0,g),e[o+24>>2]=e[w>>2],e[o+28>>2]=e[w+4>>2],l=o+12|0,p=o+16|0,m=o+4|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[w+12>>2]|0){case 2:{if(a=e[w>>2]|0,a|0){if(a=G0[e[(e[s>>2]|0)+16>>2]&63](s,4,a*3|0)|0,l=e[a+8>>2]|0,e[o+8>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,l)|0,(e[w>>2]|0)>0){u=e[w+24>>2]|0,p=0;do h=u+(Rt(e[w+20>>2]|0,p)|0)|0,d=p*3|0,e[l+(d<<2)>>2]=e[h>>2],e[l+(d+1<<2)>>2]=e[h+4>>2],e[l+(d+2<<2)>>2]=e[h+8>>2],p=p+1|0;while((p|0)<(e[w>>2]|0))}Zi[e[(e[s>>2]|0)+20>>2]&31](s,a,14051,1497453121,e[a+8>>2]|0)}break}case 3:{if(a=e[w>>2]|0,a|0){if(h=G0[e[(e[s>>2]|0)+16>>2]&63](s,8,a)|0,d=e[h+8>>2]|0,e[l>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,d)|0,a=e[w>>2]|0,(a|0)>0){l=e[w+24>>2]|0,u=e[w+20>>2]|0,p=0;do M=l+(Rt(u,p)|0)|0,ee[d+(p<<3)>>1]=ee[M>>1]|0,ee[d+(p<<3)+2>>1]=ee[M+2>>1]|0,ee[d+(p<<3)+4>>1]=ee[M+4>>1]|0,p=p+1|0;while((p|0)!=(a|0))}Zi[e[(e[s>>2]|0)+20>>2]&31](s,h,14066,1497453121,e[h+8>>2]|0)}break}case 5:{if(a=e[w>>2]|0,a|0){if(l=G0[e[(e[s>>2]|0)+16>>2]&63](s,4,a)|0,u=e[l+8>>2]|0,e[p>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,u)|0,(e[w>>2]|0)>0){a=0;do M=(e[w+24>>2]|0)+(Rt(e[w+20>>2]|0,a)|0)|0,R[u+(a<<2)>>0]=R[M>>0]|0,R[u+(a<<2)+1>>0]=R[M+1>>0]|0,R[u+(a<<2)+2>>0]=R[M+2>>0]|0,a=a+1|0;while((a|0)<(e[w>>2]|0))}Zi[e[(e[s>>2]|0)+20>>2]&31](s,l,14093,1497453121,e[l+8>>2]|0)}break}default:}switch(e[w+16>>2]|0){case 0:{if(a=e[w+4>>2]|0,a|0){if(a=G0[e[(e[s>>2]|0)+16>>2]&63](s,16,a)|0,l=e[a+8>>2]|0,e[o>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,l)|0,u=e[w+4>>2]|0,(u|0)>0){p=e[w+28>>2]|0,h=e[w+8>>2]|0,d=0;do M=p+(Rt(h,d)|0)|0,e[l+(d<<4)>>2]=e[M>>2],e[l+(d<<4)+4>>2]=e[M+4>>2],e[l+(d<<4)+8>>2]=e[M+8>>2],d=d+1|0;while((d|0)!=(u|0))}Zi[e[(e[s>>2]|0)+20>>2]&31](s,a,16354,1497453121,e[a+8>>2]|0)}break}case 1:{if(a=e[w+4>>2]|0,a|0){if(h=G0[e[(e[s>>2]|0)+16>>2]&63](s,32,a)|0,d=e[h+8>>2]|0,e[m>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,d)|0,a=e[w+4>>2]|0,(a|0)>0){l=e[w+28>>2]|0,u=e[w+8>>2]|0,p=0;do M=l+(Rt(u,p)|0)|0,Mt[d+(p<<5)>>3]=+Mt[M>>3],Mt[d+(p<<5)+8>>3]=+Mt[M+8>>3],Mt[d+(p<<5)+16>>3]=+Mt[M+16>>3],p=p+1|0;while((p|0)!=(a|0))}Zi[e[(e[s>>2]|0)+20>>2]&31](s,h,14116,1497453121,e[h+8>>2]|0)}break}default:}if(zt[e[(e[t>>2]|0)+24>>2]&127](t,g),g=g+1|0,(g|0)==(S|0)){o=s;break e}else o=o+32|0}else o=s;while(!1);return Zi[e[(e[o>>2]|0)+20>>2]&31](s,C,14136,1497453121,e[C+8>>2]|0),s=t+4|0,M=n+4|0,s=e[s>>2]|0,e[M>>2]=s,M=t+8|0,M=e[M>>2]|0,s=n+8|0,e[s>>2]=M,s=t+12|0,s=e[s>>2]|0,M=n+12|0,e[M>>2]=s,t=t+16|0,t=e[t>>2]|0,M=n+16|0,e[M>>2]=t,H=w,14151}function AY(t){t=t|0}function EY(t){t=t|0}function NY(t){t=t|0;var n=0;e[t>>2]=6556,n=e[t+32>>2]|0,n|0&&(R[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+32>>2]=0),R[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0}function bY(t){t=t|0;var n=0;e[t>>2]=6556,n=e[t+32>>2]|0,n|0&&(R[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+32>>2]=0),R[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0,e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function DY(t,n,s,o,a,l,u,p,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0,t=e[t+32>>2]|0,e[s>>2]=e[t+(d<<5)+12>>2],e[n>>2]=e[t+(d<<5)+16>>2],e[o>>2]=e[t+(d<<5)+28>>2],e[a>>2]=e[t+(d<<5)+20>>2],e[p>>2]=e[t+(d<<5)>>2],e[l>>2]=e[t+(d<<5)+4>>2],e[u>>2]=e[t+(d<<5)+8>>2],e[h>>2]=e[t+(d<<5)+24>>2]}function IY(t,n,s,o,a,l,u,p,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0,t=e[t+32>>2]|0,e[s>>2]=e[t+(d<<5)+12>>2],e[n>>2]=e[t+(d<<5)+16>>2],e[o>>2]=e[t+(d<<5)+28>>2],e[a>>2]=e[t+(d<<5)+20>>2],e[p>>2]=e[t+(d<<5)>>2],e[l>>2]=e[t+(d<<5)+4>>2],e[u>>2]=e[t+(d<<5)+8>>2],e[h>>2]=e[t+(d<<5)+24>>2]}function PY(t,n){t=t|0,n=n|0}function LY(t,n){t=t|0,n=n|0}function kY(t){return t=t|0,e[t+24>>2]|0}function FY(t,n){t=t|0,n=n|0}function BY(t,n){t=t|0,n=n|0}function UY(t){return t=t|0,(e[t+48>>2]|0)==1|0}function OY(t,n,s){t=t|0,n=n|0,s=s|0,e[t+52>>2]=e[n>>2],e[t+52+4>>2]=e[n+4>>2],e[t+52+8>>2]=e[n+8>>2],e[t+52+12>>2]=e[n+12>>2],e[t+68>>2]=e[s>>2],e[t+68+4>>2]=e[s+4>>2],e[t+68+8>>2]=e[s+8>>2],e[t+68+12>>2]=e[s+12>>2],e[t+48>>2]=1}function GY(t,n,s){t=t|0,n=n|0,s=s|0,e[n>>2]=e[t+52>>2],e[n+4>>2]=e[t+52+4>>2],e[n+8>>2]=e[t+52+8>>2],e[n+12>>2]=e[t+52+12>>2],e[s>>2]=e[t+68>>2],e[s+4>>2]=e[t+68+4>>2],e[s+8>>2]=e[t+68+8>>2],e[s+12>>2]=e[t+68+12>>2]}function _6(t){t=t|0;var n=0;if(e[t>>2]=6624,n=e[t+156>>2]|0,n|0&&(R[t+160>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+156>>2]=0),R[t+160>>0]=1,e[t+156>>2]=0,e[t+148>>2]=0,e[t+152>>2]=0,n=e[t+136>>2]|0,n|0&&(R[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+136>>2]=0),R[t+140>>0]=1,e[t+136>>2]=0,e[t+128>>2]=0,e[t+132>>2]=0,n=e[t+116>>2]|0,n|0&&(R[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+116>>2]=0),R[t+120>>0]=1,e[t+116>>2]=0,e[t+108>>2]=0,e[t+112>>2]=0,n=e[t+96>>2]|0,n|0&&(R[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+96>>2]=0),R[t+100>>0]=1,e[t+96>>2]=0,e[t+88>>2]=0,e[t+92>>2]=0,e[t>>2]=6556,n=e[t+32>>2]|0,!n){R[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,t=t+28|0,e[t>>2]=0;return}R[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+32>>2]=0,R[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,t=t+28|0,e[t>>2]=0}function VY(t){t=t|0,_6(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function zY(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;if(R[t+165>>0]|0){if((e[t+92>>2]|0)>=(n|0))return;if((n|0)!=0&&(e[5637]=(e[5637]|0)+1,s=Xe((n<<4|3)+16|0)|0,(s|0)!=0)?(e[(s+4+15&-16)+-4>>2]=s,a=s+4+15&-16):a=0,s=e[t+88>>2]|0,(s|0)>0){o=0;do u=a+(o<<4)|0,l=(e[t+96>>2]|0)+(o<<4)|0,e[u>>2]=e[l>>2],e[u+4>>2]=e[l+4>>2],e[u+8>>2]=e[l+8>>2],e[u+12>>2]=e[l+12>>2],o=o+1|0;while((o|0)!=(s|0))}s=e[t+96>>2]|0,s|0&&(R[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+96>>2]=0),R[t+100>>0]=1,e[t+96>>2]=a,e[t+92>>2]=n;return}if(!((e[t+112>>2]|0)>=(n|0))){if((n|0)!=0&&(e[5637]=(e[5637]|0)+1,o=Xe((n<<2|3)+16|0)|0,(o|0)!=0)?(e[(o+4+15&-16)+-4>>2]=o,l=o+4+15&-16):l=0,o=e[t+108>>2]|0,a=e[t+116>>2]|0,(o|0)<=0)a?u=21:s=t+120|0;else{s=0;do e[l+(s<<2)>>2]=e[a+(s<<2)>>2],s=s+1|0;while((s|0)!=(o|0));u=21}(u|0)==21&&(R[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+116>>2]=0,s=t+120|0),R[s>>0]=1,e[t+116>>2]=l,e[t+112>>2]=n}}function WY(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;if(R[t+164>>0]|0){if((e[t+132>>2]|0)>=(n|0))return;if((n|0)!=0&&(e[5637]=(e[5637]|0)+1,s=Xe((n<<2|3)+16|0)|0,(s|0)!=0)?(e[(s+4+15&-16)+-4>>2]=s,l=s+4+15&-16):l=0,o=e[t+128>>2]|0,a=e[t+136>>2]|0,(o|0)<=0)a?u=10:s=t+140|0;else{s=0;do e[l+(s<<2)>>2]=e[a+(s<<2)>>2],s=s+1|0;while((s|0)!=(o|0));u=10}(u|0)==10&&(R[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+136>>2]=0,s=t+140|0),R[s>>0]=1,e[t+136>>2]=l,e[t+132>>2]=n;return}else{if((e[t+152>>2]|0)>=(n|0))return;if((n|0)!=0&&(e[5637]=(e[5637]|0)+1,o=Xe((n<<1)+19|0)|0,(o|0)!=0)?(e[(o+4+15&-16)+-4>>2]=o,l=o+4+15&-16):l=0,o=e[t+148>>2]|0,a=e[t+156>>2]|0,(o|0)<=0)a?u=22:s=t+160|0;else{s=0;do ee[l+(s<<1)>>1]=ee[a+(s<<1)>>1]|0,s=s+1|0;while((s|0)!=(o|0));u=22}(u|0)==22&&(R[t+160>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+156>>2]=0,s=t+160|0),R[s>>0]=1,e[t+156>>2]=l,e[t+152>>2]=n;return}}function nh(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;if(e[t+4>>2]=1065353216,e[t+8>>2]=1065353216,e[t+12>>2]=1065353216,i[t+16>>2]=0,R[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0,e[t+48>>2]=0,e[t>>2]=6624,R[t+100>>0]=1,e[t+96>>2]=0,e[t+88>>2]=0,e[t+92>>2]=0,R[t+120>>0]=1,e[t+116>>2]=0,e[t+108>>2]=0,e[t+112>>2]=0,R[t+140>>0]=1,e[t+136>>2]=0,e[t+128>>2]=0,e[t+132>>2]=0,R[t+160>>0]=1,e[t+156>>2]=0,e[t+148>>2]=0,e[t+152>>2]=0,R[t+164>>0]=n&1,R[t+165>>0]=s&1,i[t+168>>2]=0,e[5637]=(e[5637]|0)+1,n=Xe(51)|0,n?(e[(n+4+15&-16)+-4>>2]=n,o=n+4+15&-16):o=0,n=e[t+24>>2]|0,(n|0)>0){s=0;do a=o+(s<<5)|0,l=(e[t+32>>2]|0)+(s<<5)|0,e[a>>2]=e[l>>2],e[a+4>>2]=e[l+4>>2],e[a+8>>2]=e[l+8>>2],e[a+12>>2]=e[l+12>>2],e[a+16>>2]=e[l+16>>2],e[a+20>>2]=e[l+20>>2],e[a+24>>2]=e[l+24>>2],e[a+28>>2]=e[l+28>>2],s=s+1|0;while((s|0)!=(n|0))}if(n=e[t+32>>2]|0,n|0&&(R[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+32>>2]=0),R[t+36>>0]=1,e[t+32>>2]=o,e[t+28>>2]=1,n=e[t+24>>2]|0,e[o+(n<<5)>>2]=0,e[o+(n<<5)+4>>2]=0,e[o+(n<<5)+8>>2]=12,e[o+(n<<5)+12>>2]=0,e[o+(n<<5)+16>>2]=0,e[o+(n<<5)+20>>2]=16,e[o+(n<<5)+24>>2]=2,e[o+(n<<5)+28>>2]=0,e[t+24>>2]=(e[t+24>>2]|0)+1,n=ee[t+164>>1]|0,(n&255)<<24>>24?(s=e[t+32>>2]|0,e[s>>2]=(e[t+128>>2]|0)/3|0,e[s+4>>2]=0,e[s+24>>2]=2,e[s+8>>2]=12):(s=e[t+32>>2]|0,e[s>>2]=(e[t+148>>2]|0)/3|0,e[s+4>>2]=0,e[s+24>>2]=3,e[s+8>>2]=6),(n&65535)<256){a=12,t=(e[t+108>>2]|0)/3|0,l=s+12|0,e[l>>2]=t,l=s+16|0,e[l>>2]=0,l=s+20|0,e[l>>2]=a;return}else{a=16,t=e[t+88>>2]|0,l=s+12|0,e[l>>2]=t,l=s+16|0,e[l>>2]=0,l=s+20|0,e[l>>2]=a;return}}function pc(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0;if(R[t+164>>0]|0){if(s=e[t+128>>2]|0,(s|0)==(e[t+132>>2]|0)&&(u=s|0?s<<1:1,(s|0)<(u|0))){if(u?(e[5637]=(e[5637]|0)+1,s=Xe((u<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,l=s,s=e[t+128>>2]|0):l=0,a=e[t+136>>2]|0,(s|0)<=0)a?o=12:s=t+140|0;else{o=0;do e[l+(o<<2)>>2]=e[a+(o<<2)>>2],o=o+1|0;while((o|0)!=(s|0));o=12}(o|0)==12&&(R[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+136>>2]=0,s=t+140|0),R[s>>0]=1,e[t+136>>2]=l,e[t+132>>2]=u,s=e[t+128>>2]|0}p=e[t+136>>2]|0,e[p+(s<<2)>>2]=n,e[t+128>>2]=(e[t+128>>2]|0)+1,e[(e[t+32>>2]|0)+4>>2]=p;return}else{if(s=e[t+148>>2]|0,(s|0)==(e[t+152>>2]|0)&&(p=s|0?s<<1:1,(s|0)<(p|0))){if(p?(e[5637]=(e[5637]|0)+1,s=Xe((p<<1)+19|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,l=s,s=e[t+148>>2]|0):l=0,a=e[t+156>>2]|0,(s|0)<=0)a?o=27:s=t+160|0;else{o=0;do ee[l+(o<<1)>>1]=ee[a+(o<<1)>>1]|0,o=o+1|0;while((o|0)!=(s|0));o=27}(o|0)==27&&(R[t+160>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+156>>2]=0,s=t+160|0),R[s>>0]=1,e[t+156>>2]=l,e[t+152>>2]=p,s=e[t+148>>2]|0}p=e[t+156>>2]|0,ee[p+(s<<1)>>1]=n,e[t+148>>2]=s+1,e[(e[t+32>>2]|0)+4>>2]=p;return}}function hc(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(R[t+165>>0]|0){o=e[t+88>>2]|0;e:do if((o|0)>0&s){for(a=e[t+96>>2]|0,d=+i[n>>2],u=+i[n+4>>2],p=+i[n+8>>2],h=+i[t+168>>2],s=0;w=+i[a+(s<<4)>>2]-d,C=+i[a+(s<<4)+4>>2]-u,S=+i[a+(s<<4)+8>>2]-p,!(w*w+C*C+S*S<=h);)if(s=s+1|0,(s|0)>=(o|0))break e;return s|0}while(!1);if(g=(e[t+32>>2]|0)+12|0,e[g>>2]=(e[g>>2]|0)+1,(o|0)==(e[t+92>>2]|0)&&(l=o|0?o<<1:1,(o|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+88>>2]|0):s=0,(o|0)>0){a=0;do g=s+(a<<4)|0,m=(e[t+96>>2]|0)+(a<<4)|0,e[g>>2]=e[m>>2],e[g+4>>2]=e[m+4>>2],e[g+8>>2]=e[m+8>>2],e[g+12>>2]=e[m+12>>2],a=a+1|0;while((a|0)!=(o|0))}o=e[t+96>>2]|0,o|0&&(R[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+96>>2]=0),R[t+100>>0]=1,e[t+96>>2]=s,e[t+92>>2]=l,s=e[t+88>>2]|0}else s=o;return g=(e[t+96>>2]|0)+(s<<4)|0,e[g>>2]=e[n>>2],e[g+4>>2]=e[n+4>>2],e[g+8>>2]=e[n+8>>2],e[g+12>>2]=e[n+12>>2],n=e[t+88>>2]|0,e[t+88>>2]=n+1,e[(e[t+32>>2]|0)+16>>2]=e[t+96>>2],n|0}a=e[t+108>>2]|0;e:do if((a|0)>0&s){for(s=e[t+116>>2]|0,u=+i[n>>2],p=+i[n+4>>2],h=+i[n+8>>2],d=+i[t+168>>2],l=0;S=+i[s+(l<<2)>>2]-u,C=+i[s+(l+1<<2)>>2]-p,w=+i[s+(l+2<<2)>>2]-h,o=l+3|0,!(S*S+C*C+w*w<=d);)if((o|0)<(a|0))l=o;else break e;return n=(l|0)/3|0,n|0}while(!1);if(s=e[t+112>>2]|0,(a|0)==(s|0))if(m=a|0?a<<1:1,(a|0)<(m|0)){if(m?(e[5637]=(e[5637]|0)+1,s=Xe((m<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=e[t+108>>2]|0):s=0,l=e[t+116>>2]|0,(a|0)<=0)l?g=34:o=t+120|0;else{o=0;do e[s+(o<<2)>>2]=e[l+(o<<2)>>2],o=o+1|0;while((o|0)!=(a|0));g=34}(g|0)==34&&(R[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+116>>2]=0,o=t+120|0),R[o>>0]=1,e[t+116>>2]=s,e[t+112>>2]=m,o=e[t+108>>2]|0,a=m}else o=a;else o=a,a=s;if(e[(e[t+116>>2]|0)+(o<<2)>>2]=e[n>>2],s=o+1|0,e[t+108>>2]=s,(s|0)==(a|0))if(m=a|0?a<<1:1,(a|0)<(m|0)){if(m?(e[5637]=(e[5637]|0)+1,s=Xe((m<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=e[t+108>>2]|0):s=0,l=e[t+116>>2]|0,(a|0)<=0)l?g=48:o=t+120|0;else{o=0;do e[s+(o<<2)>>2]=e[l+(o<<2)>>2],o=o+1|0;while((o|0)!=(a|0));g=48}(g|0)==48&&(R[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+116>>2]=0,o=t+120|0),R[o>>0]=1,e[t+116>>2]=s,e[t+112>>2]=m,s=e[t+108>>2]|0,a=m}else s=a;if(e[(e[t+116>>2]|0)+(s<<2)>>2]=e[n+4>>2],s=s+1|0,e[t+108>>2]=s,(s|0)==(a|0))if(m=a|0?a<<1:1,(a|0)<(m|0)){if(m?(e[5637]=(e[5637]|0)+1,s=Xe((m<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=e[t+108>>2]|0):s=0,l=e[t+116>>2]|0,(a|0)<=0)l?g=62:o=t+120|0;else{o=0;do e[s+(o<<2)>>2]=e[l+(o<<2)>>2],o=o+1|0;while((o|0)!=(a|0));g=62}(g|0)==62&&(R[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+116>>2]=0,o=t+120|0),R[o>>0]=1,e[t+116>>2]=s,e[t+112>>2]=m,s=e[t+108>>2]|0}else s=a;return g=e[t+116>>2]|0,e[g+(s<<2)>>2]=e[n+8>>2],n=s+1|0,e[t+108>>2]=n,t=e[t+32>>2]|0,e[t+12>>2]=(e[t+12>>2]|0)+1,e[t+16>>2]=g,n=((n|0)/3|0)+-1|0,n|0}function HY(t){t=t|0}function jY(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function qY(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0;S=(+i[t+36>>2]-+i[t+20>>2])*.5,d=(+i[t+40>>2]-+i[t+24>>2])*.5,u=(+i[t+44>>2]-+i[t+28>>2])*.5,g=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),h=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),u=u+ +Ct[e[(e[t>>2]|0)+48>>2]&15](t),O=(+i[t+36>>2]+ +i[t+20>>2])*.5,U=(+i[t+40>>2]+ +i[t+24>>2])*.5,F=(+i[t+44>>2]+ +i[t+28>>2])*.5,q=+i[n>>2],L=+ht(+q),$=+i[n+4>>2],B=+ht(+$),D=+i[n+8>>2],b=+ht(+D),Y=+i[n+16>>2],E=+ht(+Y),z=+i[n+20>>2],M=+ht(+z),C=+i[n+24>>2],w=+ht(+C),G=+i[n+32>>2],m=+ht(+G),P=+i[n+36>>2],p=+ht(+P),a=+i[n+40>>2],l=+ht(+a),D=O*q+U*$+F*D+ +i[n+48>>2],C=O*Y+U*z+F*C+ +i[n+52>>2],a=O*G+U*P+F*a+ +i[n+56>>2],i[s>>2]=D-((S+g)*L+(d+h)*B+u*b),i[s+4>>2]=C-((S+g)*E+(d+h)*M+u*w),i[s+8>>2]=a-((S+g)*m+(d+h)*p+u*l),i[s+12>>2]=0,i[o>>2]=(S+g)*L+(d+h)*B+u*b+D,i[o+4>>2]=(S+g)*E+(d+h)*M+u*w+C,i[o+8>>2]=(S+g)*m+(d+h)*p+u*l+a,i[o+12>>2]=0}function p6(t,n){t=t|0,n=n|0;var s=0,o=0;s=H,H=H+48|0,o=(e[t+52>>2]|0)+4|0,e[o>>2]=e[n>>2],e[o+4>>2]=e[n+4>>2],e[o+8>>2]=e[n+8>>2],e[o+12>>2]=e[n+12>>2],e[s+32>>2]=0,e[s+32+4>>2]=0,e[s+32+8>>2]=0,e[s+32+12>>2]=0,i[s+32>>2]=1,f0[e[(e[t>>2]|0)+68>>2]&127](s+16|0,t,s+32|0),i[t+36>>2]=+i[s+16>>2]+ +i[t+16>>2],i[s+32>>2]=-1,f0[e[(e[t>>2]|0)+68>>2]&127](s,t,s+32|0),e[s+16>>2]=e[s>>2],e[s+16+4>>2]=e[s+4>>2],e[s+16+8>>2]=e[s+8>>2],e[s+16+12>>2]=e[s+12>>2],i[t+20>>2]=+i[s+16>>2]-+i[t+16>>2],e[s+32>>2]=0,e[s+32+4>>2]=0,e[s+32+8>>2]=0,e[s+32+12>>2]=0,i[s+32+4>>2]=1,f0[e[(e[t>>2]|0)+68>>2]&127](s+16|0,t,s+32|0),i[t+40>>2]=+i[s+16+4>>2]+ +i[t+16>>2],i[s+32+4>>2]=-1,f0[e[(e[t>>2]|0)+68>>2]&127](s,t,s+32|0),e[s+16>>2]=e[s>>2],e[s+16+4>>2]=e[s+4>>2],e[s+16+8>>2]=e[s+8>>2],e[s+16+12>>2]=e[s+12>>2],i[t+24>>2]=+i[s+16+4>>2]-+i[t+16>>2],e[s+32>>2]=0,e[s+32+4>>2]=0,e[s+32+8>>2]=0,e[s+32+12>>2]=0,i[s+32+8>>2]=1,f0[e[(e[t>>2]|0)+68>>2]&127](s+16|0,t,s+32|0),i[t+44>>2]=+i[s+16+8>>2]+ +i[t+16>>2],i[s+32+8>>2]=-1,f0[e[(e[t>>2]|0)+68>>2]&127](s,t,s+32|0),e[s+16>>2]=e[s>>2],e[s+16+4>>2]=e[s+4>>2],e[s+16+8>>2]=e[s+8>>2],e[s+16+12>>2]=e[s+12>>2],i[t+28>>2]=+i[s+16+8>>2]-+i[t+16>>2],H=s}function XY(t){return t=t|0,(e[t+52>>2]|0)+4|0}function $Y(t,n,s){t=t|0,n=+n,s=s|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0}function YY(t){return t=t|0,14302}function KY(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;a=H,H=H+48|0,e[a>>2]=6776,e[a+4>>2]=n,e[a+8>>2]=e[s>>2],e[a+8+4>>2]=e[s+4>>2],e[a+8+8>>2]=e[s+8>>2],e[a+8+12>>2]=e[s+12>>2],e[a+24>>2]=e[o>>2],e[a+24+4>>2]=e[o+4>>2],e[a+24+8>>2]=e[o+8>>2],e[a+24+12>>2]=e[o+12>>2],t=e[t+52>>2]|0,Kt[e[(e[t>>2]|0)+8>>2]&127](t,a,s,o),H=a}function ZY(t){t=t|0,ye(t)}function QY(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0;a=+i[n>>2],l=+i[n+16>>2],p=a<l?a:l,u=+i[n+32>>2],!((p<u?p:u)>+i[t+24>>2])&&(h=a>l?n:n+16|0,!(+i[(+i[h>>2]>u?h:n+32|0)>>2]<+i[t+8>>2])&&(a=+i[n+8>>2],l=+i[n+24>>2],p=a<l?a:l,u=+i[n+40>>2],!((p<u?p:u)>+i[t+32>>2])&&(h=a>l?n+8|0:n+24|0,!(+i[(+i[h>>2]>u?h:n+40|0)>>2]<+i[t+16>>2])&&(a=+i[n+4>>2],l=+i[n+20>>2],p=a<l?a:l,u=+i[n+36>>2],!((p<u?p:u)>+i[t+28>>2])&&(h=a>l?n+4|0:n+20|0,!(+i[(+i[h>>2]>u?h:n+36|0)>>2]<+i[t+12>>2])&&(h=e[t+4>>2]|0,Kt[e[(e[h>>2]|0)+8>>2]&127](h,n,s,o)))))))}function JY(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0;o=H,H=H+160|0,e[o+136>>2]=0,e[o+136+4>>2]=0,e[o+136+8>>2]=0,e[o+136+12>>2]=0,e[o+136+16>>2]=0,e[o+32>>2]=6796,a=o+32+4|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[o+32+20>>2]=1065353216,e[o+32+24>>2]=0,e[o+32+24+4>>2]=0,e[o+32+24+8>>2]=0,e[o+32+24+12>>2]=0,e[o+32+40>>2]=1065353216,e[o+32+44>>2]=0,e[o+32+44+4>>2]=0,e[o+32+44+8>>2]=0,e[o+32+44+12>>2]=0,e[o+32+60>>2]=1065353216,e[o+32+64>>2]=0,e[o+32+68>>2]=e[o+136+4>>2],e[o+32+68+4>>2]=e[o+136+4+4>>2],e[o+32+68+8>>2]=e[o+136+4+8>>2],e[o+32+68+12>>2]=e[o+136+4+12>>2],i[o+32+84>>2]=-0xde0b6b000000000,p=+i[s>>2],u=+i[s+4>>2],l=+i[s+8>>2],i[o+32+88>>2]=p+u*0+l*0,i[o+32+92>>2]=p*0+u+l*0,i[o+32+96>>2]=p*0+u*0+l,i[o+32+100>>2]=0,e[o+16>>2]=1566444395,e[o+16+4>>2]=1566444395,e[o+16+8>>2]=1566444395,i[o+16+12>>2]=0,s=e[(e[n>>2]|0)+64>>2]|0,i[o>>2]=-0xde0b6b000000000,i[o+4>>2]=-0xde0b6b000000000,i[o+8>>2]=-0xde0b6b000000000,i[o+12>>2]=0,Kt[s&127](n,o+32|0,o,o+16|0),e[t>>2]=e[a>>2],e[t+4>>2]=e[a+4>>2],e[t+8>>2]=e[a+8>>2],e[t+12>>2]=e[a+12>>2],H=o}function eK(t){t=t|0,ye(t)}function tK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0;p=+i[t+88>>2],h=+i[t+92>>2],u=+i[t+96>>2],a=p*+i[n>>2]+h*+i[n+4>>2]+u*+i[n+8>>2],l=+i[t+84>>2],a>l?(i[t+84>>2]=a,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2]):a=l,l=p*+i[n+16>>2]+h*+i[n+20>>2]+u*+i[n+24>>2],l>a?(i[t+84>>2]=l,e[t+4>>2]=e[n+16>>2],e[t+4+4>>2]=e[n+16+4>>2],e[t+4+8>>2]=e[n+16+8>>2],e[t+4+12>>2]=e[n+16+12>>2]):l=a,a=p*+i[n+32>>2]+h*+i[n+36>>2]+u*+i[n+40>>2],a>l&&(i[t+84>>2]=a,e[t+4>>2]=e[n+32>>2],e[t+4+4>>2]=e[n+32+4>>2],e[t+4+8>>2]=e[n+32+8>>2],e[t+4+12>>2]=e[n+32+12>>2])}function iK(t){t=t|0,ye(t)}function Uf(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0;if(U=H,H=H+304|0,P=+i[s+48>>2]-+i[n+48>>2],L=+i[s+52>>2]-+i[n+52>>2],F=+i[s+56>>2]-+i[n+56>>2],Sa(n,s,U+288|0,U+240|0),E=+i[U+240>>2],w=+i[U+288>>2]*E,M=E*+i[U+288+4>>2],E=E*+i[U+288+8>>2],i[U+224>>2]=w,i[U+224+4>>2]=M,i[U+224+8>>2]=E,i[U+224+12>>2]=0,D=+i[a+48>>2]-+i[o+48>>2],b=+i[a+52>>2]-+i[o+52>>2],B=+i[a+56>>2]-+i[o+56>>2],Sa(o,a,U+288|0,U+240|0),S=+i[U+240>>2],m=+i[U+288>>2]*S,g=S*+i[U+288+4>>2],S=S*+i[U+288+8>>2],i[U+192>>2]=m,i[U+192+4>>2]=g,i[U+192+8>>2]=S,i[U+192+12>>2]=0,s=e[t+12>>2]|0,C=+Ct[e[(e[s>>2]|0)+16>>2]&15](s),s=e[t+16>>2]|0,s?p=+Ct[e[(e[s>>2]|0)+16>>2]&15](s):p=0,C=C*+ot(+(w*w+M*M+E*E))+p*+ot(+(m*m+g*g+S*S)),C+ +ot(+((D-P)*(D-P)+(b-L)*(b-L)+(B-F)*(B-F)))==0)return l=0,H=U,l|0;e[U+240>>2]=6836,i[U+240+36>>2]=0xde0b6b000000000,R[U+240+40>>0]=0,h6(t,n,o,U+240|0),a=(R[U+240+40>>0]|0)==0,e[U+288>>2]=e[U+240+20>>2],e[U+288+4>>2]=e[U+240+20+4>>2],e[U+288+8>>2]=e[U+240+20+8>>2],e[U+288+12>>2]=e[U+240+20+12>>2];e:do if(!a&&(d=e[U+240+4>>2]|0,u=e[U+240+8>>2]|0,h=e[U+240+12>>2]|0,E=(D-P)*(e[Z>>2]=d,+i[Z>>2]),E=E+(b-L)*(e[Z>>2]=u,+i[Z>>2]),!(C+(E+(B-F)*(e[Z>>2]=h,+i[Z>>2]))<=11920928955078125e-23))){p=+i[U+240+16>>2],m=+i[U+240+36>>2]+ +i[l+172>>2];t:do if(m>.0010000000474974513){for(g=m,S=0,a=0;;){if(s=e[l+168>>2]|0,s|0&&(G=e[(e[s>>2]|0)+28>>2]|0,e[U+208>>2]=1065353216,e[U+208+4>>2]=1065353216,e[U+208+8>>2]=1065353216,i[U+208+12>>2]=0,Th[G&7](s,U+288|0,.20000000298023224,U+208|0)),p=(D-P)*(e[Z>>2]=d,+i[Z>>2]),p=p+(b-L)*(e[Z>>2]=u,+i[Z>>2]),p=C+(p+(B-F)*(e[Z>>2]=h,+i[Z>>2])),p<=11920928955078125e-23){u=0;break e}if(m=S+g/p,!(!(m<=S)&(!(m<0)&!(m>1)))){u=0;break e}if(Js(n,P,L,F,U+224|0,m,U+112|0),Js(o,D,b,B,U+192|0,m,U+48|0),u=e[l+168>>2]|0,u|0&&(G=e[(e[u>>2]|0)+28>>2]|0,e[U+176>>2]=1065353216,e[U+176+4>>2]=0,e[U+176+8>>2]=0,i[U+176+12>>2]=0,Th[G&7](u,U+112+48|0,.20000000298023224,U+176|0)),m2[e[e[l>>2]>>2]&31](l,m),e[U>>2]=6836,i[U+36>>2]=0xde0b6b000000000,R[U+40>>0]=0,h6(t,U+112|0,U+48|0,U),!(R[U+40>>0]|0)){u=15;break}if(p=+i[U+36>>2],g=+i[l+172>>2],e[U+288>>2]=e[U+20>>2],e[U+288+4>>2]=e[U+20+4>>2],e[U+288+8>>2]=e[U+20+8>>2],e[U+288+12>>2]=e[U+20+12>>2],s=a+1|0,(a|0)>63){u=16;break}if(h=e[U+12>>2]|0,u=e[U+8>>2]|0,d=e[U+4>>2]|0,g=p+g,g>.0010000000474974513)S=m,a=s;else{p=+i[U+16>>2];break t}}(u|0)==15?f0[e[(e[l>>2]|0)+8>>2]&127](l,-1,a):(u|0)==16&&f0[e[(e[l>>2]|0)+8>>2]&127](l,-2,s),u=0;break e}else m=0;while(!1);i[l+164>>2]=m,e[l+132>>2]=d,e[l+136>>2]=u,e[l+140>>2]=h,i[l+144>>2]=p,e[l+148>>2]=e[U+288>>2],e[l+148+4>>2]=e[U+288+4>>2],e[l+148+8>>2]=e[U+288+8>>2],e[l+148+12>>2]=e[U+288+12>>2],u=1}else u=0;while(!1);return G=u,H=U,G|0}function nK(t){t=t|0,ye(t)}function rK(t,n,s){t=t|0,n=n|0,s=s|0}function sK(t,n,s){t=t|0,n=n|0,s=s|0}function oK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o,+i[t+36>>2]>o&&(R[t+40>>0]=1,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2],e[t+20>>2]=e[s>>2],e[t+20+4>>2]=e[s+4>>2],e[t+20+8>>2]=e[s+8>>2],e[t+20+12>>2]=e[s+12>>2],i[t+36>>2]=o)}function h6(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0;if(a=H,H=H+256|0,e[t+16>>2]|0){pe=e[t+4>>2]|0,R[pe+312>>0]=0,e[pe>>2]=0,R[pe+356>>0]=1,e[pe+292>>2]=1566444395,e[pe+296>>2]=1566444395,e[pe+300>>2]=1566444395,i[pe+304>>2]=0,e[pe+336>>2]=0,e[pe+336+4>>2]=0,e[pe+336+8>>2]=0,e[pe+336+12>>2]=0,R[pe+336+16>>0]=0,R[pe+332>>0]=R[pe+332>>0]&-16,pe=e[t+12>>2]|0,_e=e[t+16>>2]|0,te=e[pe+4>>2]|0,W=e[_e+4>>2]|0,X=+Ct[e[(e[pe>>2]|0)+48>>2]&15](pe),he=e[t+16>>2]|0,ne=+Ct[e[(e[he>>2]|0)+48>>2]&15](he),he=e[t+4>>2]|0,t=e[t+8>>2]|0,e[a+168>>2]=6928,e[a+168+4>>2]=0,e[a+168+8>>2]=1065353216,e[a+168+12>>2]=0,i[a+168+16>>2]=0,e[a+168+20>>2]=t,e[a+168+24>>2]=he,e[a+168+28>>2]=pe,e[a+168+32>>2]=_e,e[a+168+36>>2]=te,e[a+168+40>>2]=W,i[a+168+44>>2]=X,i[a+168+48>>2]=ne,R[a+168+52>>0]=0,e[a+168+60>>2]=-1,e[a+168+72>>2]=1,e[a+168+76>>2]=1,i[a+32+128>>2]=0xde0b6b000000000,e[a+32>>2]=e[n>>2],e[a+32+4>>2]=e[n+4>>2],e[a+32+8>>2]=e[n+8>>2],e[a+32+12>>2]=e[n+12>>2],e[a+32+16>>2]=e[n+16>>2],e[a+32+16+4>>2]=e[n+16+4>>2],e[a+32+16+8>>2]=e[n+16+8>>2],e[a+32+16+12>>2]=e[n+16+12>>2],e[a+32+32>>2]=e[n+32>>2],e[a+32+32+4>>2]=e[n+32+4>>2],e[a+32+32+8>>2]=e[n+32+8>>2],e[a+32+32+12>>2]=e[n+32+12>>2],e[a+32+48>>2]=e[n+48>>2],e[a+32+48+4>>2]=e[n+48+4>>2],e[a+32+48+8>>2]=e[n+48+8>>2],e[a+32+48+12>>2]=e[n+48+12>>2],e[a+32+64>>2]=e[s>>2],e[a+32+64+4>>2]=e[s+4>>2],e[a+32+64+8>>2]=e[s+8>>2],e[a+32+64+12>>2]=e[s+12>>2],e[a+32+80>>2]=e[s+16>>2],e[a+32+80+4>>2]=e[s+16+4>>2],e[a+32+80+8>>2]=e[s+16+8>>2],e[a+32+80+12>>2]=e[s+16+12>>2],e[a+32+96>>2]=e[s+32>>2],e[a+32+96+4>>2]=e[s+32+4>>2],e[a+32+96+8>>2]=e[s+32+8>>2],e[a+32+96+12>>2]=e[s+32+12>>2],e[a+32+112>>2]=e[s+48>>2],e[a+32+112+4>>2]=e[s+48+4>>2],e[a+32+112+8>>2]=e[s+48+8>>2],e[a+32+112+12>>2]=e[s+48+12>>2],e1(a+168|0,a+32|0,o,0,0),H=a;return}else{W=e[t+12>>2]|0,t=e[t+20>>2]|0,d=+i[n>>2],S=+i[n+4>>2],E=+i[n+8>>2],u=+i[n+16>>2],C=+i[n+20>>2],l=+i[n+24>>2],h=+i[n+32>>2],w=+i[n+36>>2],p=+i[n+40>>2],Y=+i[n+48>>2],z=+i[n+52>>2],O=+i[n+56>>2],ne=+i[s>>2],X=+i[s+16>>2],L=+i[s+32>>2],q=+i[s+4>>2],$=+i[s+20>>2],b=+i[s+36>>2],D=+i[s+8>>2],F=+i[s+24>>2],B=+i[s+40>>2],G=-+i[s+48>>2],U=-+i[s+52>>2],g=-+i[s+56>>2],n=e[(e[W>>2]|0)+64>>2]|0,P=-+i[t+52>>2],M=-+i[t+56>>2],m=-+i[t+60>>2],i[a+16>>2]=(d*ne+u*X+h*L)*P+(d*q+u*$+h*b)*M+(d*D+u*F+h*B)*m,i[a+16+4>>2]=(S*ne+C*X+w*L)*P+(S*q+C*$+w*b)*M+(S*D+C*F+w*B)*m,i[a+16+8>>2]=(E*ne+l*X+p*L)*P+(E*q+l*$+p*b)*M+(E*D+l*F+p*B)*m,i[a+16+12>>2]=0,f0[n&127](a+168|0,W,a+16|0),m=+i[a+168>>2],M=+i[a+168+4>>2],P=+i[a+168+8>>2],L=Y*ne+z*X+O*L+(ne*G+X*U+L*g)+((d*ne+u*X+h*L)*m+(S*ne+C*X+w*L)*M+(E*ne+l*X+p*L)*P),b=Y*q+z*$+O*b+(q*G+$*U+b*g)+((d*q+u*$+h*b)*m+(S*q+C*$+w*b)*M+(E*q+l*$+p*b)*P),P=Y*D+z*F+O*B+(D*G+F*U+B*g)+((d*D+u*F+h*B)*m+(S*D+C*F+w*B)*M+(E*D+l*F+p*B)*P),B=+i[t+52>>2],p=+i[t+56>>2],F=+i[t+60>>2],l=F*P+(B*L+p*b)-+i[t+68>>2],D=+i[s>>2],E=+i[s+4>>2],M=+i[s+8>>2],w=+i[s+16>>2],C=+i[s+20>>2],S=+i[s+24>>2],m=+i[s+32>>2],h=+i[s+36>>2],u=+i[s+40>>2],d=(L-B*l)*w+(b-p*l)*C+(P-F*l)*S+ +i[s+52>>2],g=(L-B*l)*m+(b-p*l)*h+(P-F*l)*u+ +i[s+56>>2],i[a+32>>2]=M*(P-F*l)+(D*(L-B*l)+E*(b-p*l))+ +i[s+48>>2],i[a+32+4>>2]=d,i[a+32+8>>2]=g,i[a+32+12>>2]=0,g=+i[t+52>>2],d=+i[t+56>>2],p=+i[t+60>>2],i[a>>2]=D*g+E*d+M*p,i[a+4>>2]=g*w+d*C+p*S,i[a+8>>2]=g*m+d*h+p*u,i[a+12>>2]=0,N2[e[(e[o>>2]|0)+16>>2]&15](o,a,a+32|0,l),H=a;return}}function Js(t,n,s,o,a,l,u){t=t|0,n=+n,s=+s,o=+o,a=a|0,l=+l,u=u|0;var p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;d=H,H=H+16|0,h=s*l+ +i[t+52>>2],p=o*l+ +i[t+56>>2],i[u+48>>2]=n*l+ +i[t+48>>2],i[u+52>>2]=h,i[u+56>>2]=p,i[u+60>>2]=0,p=+i[a>>2],h=+i[a+4>>2],s=+i[a+8>>2],o=+ot(+(p*p+h*h+s*s)),o=o*l>.7853981852531433?.7853981852531433/l:o,o<.0010000000474974513?n=l*.5-o*(l*l*l*.02083333395421505*o):n=+E2(+(o*.5*l))/o,S=p*n,g=h*n,p=s*n,w=+C2(+(o*l*.5)),ds(t,d),n=+i[d>>2],C=+i[d+12>>2],s=+i[d+8>>2],l=+i[d+4>>2],M=1/+ot(+((w*C-S*n-g*l-p*s)*(w*C-S*n-g*l-p*s)+((p*C+w*s+S*l-g*n)*(p*C+w*s+S*l-g*n)+((w*n+S*C+g*s-p*l)*(w*n+S*C+g*s-p*l)+(p*n+(g*C+w*l)-S*s)*(p*n+(g*C+w*l)-S*s))))),o=(w*n+S*C+g*s-p*l)*M,h=M*(p*n+(g*C+w*l)-S*s),m=M*(p*C+w*s+S*l-g*n),s=M*(w*C-S*n-g*l-p*s),p=o*(2/(s*s+(m*m+(o*o+h*h)))),l=h*(2/(s*s+(m*m+(o*o+h*h)))),n=m*(2/(s*s+(m*m+(o*o+h*h)))),i[u>>2]=1-(h*l+m*n),i[u+4>>2]=o*l-s*n,i[u+8>>2]=o*n+s*l,i[u+12>>2]=0,i[u+16>>2]=o*l+s*n,i[u+20>>2]=1-(o*p+m*n),i[u+24>>2]=h*n-s*p,i[u+28>>2]=0,i[u+32>>2]=o*n-s*l,i[u+36>>2]=h*n+s*p,i[u+40>>2]=1-(o*p+h*l),i[u+44>>2]=0,H=d}function aK(t){t=t|0}function cK(t){t=t|0,ye(t)}function rh(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0;if(M=H,H=H+288|0,g=e[t+4>>2]|0,R[g+312>>0]=0,e[g>>2]=0,R[g+356>>0]=1,e[g+292>>2]=1566444395,e[g+296>>2]=1566444395,e[g+300>>2]=1566444395,i[g+304>>2]=0,e[g+336>>2]=0,e[g+336+4>>2]=0,e[g+336+8>>2]=0,e[g+336+12>>2]=0,R[g+336+16>>0]=0,R[g+332>>0]=R[g+332>>0]&-16,S=+i[s+48>>2]-+i[n+48>>2]-(+i[a+48>>2]-+i[o+48>>2]),C=+i[s+52>>2]-+i[n+52>>2]-(+i[a+52>>2]-+i[o+52>>2]),w=+i[s+56>>2]-+i[n+56>>2]-(+i[a+56>>2]-+i[o+56>>2]),e[M+216>>2]=6836,i[M+216+36>>2]=0xde0b6b000000000,R[M+216+40>>0]=0,g=e[t+8>>2]|0,m=e[t+12>>2]|0,d=e[t+4>>2]|0,e[M+136>>2]=6928,e[M+136+4>>2]=0,e[M+136+8>>2]=1065353216,e[M+136+12>>2]=0,i[M+136+16>>2]=0,e[M+136+20>>2]=0,e[M+136+24>>2]=d,e[M+136+28>>2]=g,e[M+136+32>>2]=m,e[M+136+36>>2]=e[g+4>>2],e[M+136+40>>2]=e[m+4>>2],i[M+136+44>>2]=+Ct[e[(e[g>>2]|0)+48>>2]&15](g),i[M+136+48>>2]=+Ct[e[(e[m>>2]|0)+48>>2]&15](m),R[M+136+52>>0]=0,e[M+136+60>>2]=-1,e[M+136+72>>2]=1,e[M+136+76>>2]=1,i[M+128>>2]=0xde0b6b000000000,e[M>>2]=e[n>>2],e[M+4>>2]=e[n+4>>2],e[M+8>>2]=e[n+8>>2],e[M+12>>2]=e[n+12>>2],e[M+16>>2]=e[n+16>>2],e[M+16+4>>2]=e[n+16+4>>2],e[M+16+8>>2]=e[n+16+8>>2],e[M+16+12>>2]=e[n+16+12>>2],e[M+32>>2]=e[n+32>>2],e[M+32+4>>2]=e[n+32+4>>2],e[M+32+8>>2]=e[n+32+8>>2],e[M+32+12>>2]=e[n+32+12>>2],e[M+48>>2]=e[n+48>>2],e[M+48+4>>2]=e[n+48+4>>2],e[M+48+8>>2]=e[n+48+8>>2],e[M+48+12>>2]=e[n+48+12>>2],e[M+64>>2]=e[o>>2],e[M+64+4>>2]=e[o+4>>2],e[M+64+8>>2]=e[o+8>>2],e[M+64+12>>2]=e[o+12>>2],e[M+80>>2]=e[o+16>>2],e[M+80+4>>2]=e[o+16+4>>2],e[M+80+8>>2]=e[o+16+8>>2],e[M+80+12>>2]=e[o+16+12>>2],e[M+96>>2]=e[o+32>>2],e[M+96+4>>2]=e[o+32+4>>2],e[M+96+8>>2]=e[o+32+8>>2],e[M+96+12>>2]=e[o+32+12>>2],e[M+112>>2]=e[o+48>>2],e[M+112+4>>2]=e[o+48+4>>2],e[M+112+8>>2]=e[o+48+8>>2],e[M+112+12>>2]=e[o+48+12>>2],e1(M+136|0,M,M+216|0,0,0),m=(R[M+216+40>>0]|0)==0,g=M+216+20|0,e[M+264>>2]=e[g>>2],e[M+264+4>>2]=e[g+4>>2],e[M+264+8>>2]=e[g+8>>2],e[M+264+12>>2]=e[g+12>>2],m)return l=0,H=M,l|0;h=+i[M+216+36>>2],u=+i[M+216+16>>2],t=e[M+216+12>>2]|0,p=e[M+216+8>>2]|0,d=e[M+216+4>>2]|0;do if(h>.0010000000474974513){for(u=0,m=0;;){if((m|0)>31){t=0,m=13;break}if(D=S*(e[Z>>2]=d,+i[Z>>2]),D=C*(e[Z>>2]=p,+i[Z>>2])+D,E=u,u=u-h/(w*(e[Z>>2]=t,+i[Z>>2])+D),!(!(u<=E)&(!(u<0)&!(u>1)))){t=0,m=13;break}if(m2[e[e[l>>2]>>2]&31](l,u),D=1-u,i[M+48>>2]=D*+i[n+48>>2]+u*+i[s+48>>2],i[M+52>>2]=D*+i[n+52>>2]+u*+i[s+52>>2],i[M+56>>2]=D*+i[n+56>>2]+u*+i[s+56>>2],i[M+112>>2]=D*+i[o+48>>2]+u*+i[a+48>>2],i[M+116>>2]=D*+i[o+52>>2]+u*+i[a+52>>2],i[M+120>>2]=D*+i[o+56>>2]+u*+i[a+56>>2],e1(M+136|0,M,M+216|0,0,0),!(R[M+216+40>>0]|0)){t=0,m=13;break}if(h=+i[M+216+36>>2],h<0){m=8;break}if(e[M+264>>2]=e[g>>2],e[M+264+4>>2]=e[g+4>>2],e[M+264+8>>2]=e[g+8>>2],e[M+264+12>>2]=e[g+12>>2],t=e[M+216+12>>2]|0,p=e[M+216+8>>2]|0,d=e[M+216+4>>2]|0,h>.0010000000474974513)m=m+1|0;else{m=10;break}}if((m|0)==8)return i[l+164>>2]=u,o=e[M+216+8>>2]|0,s=e[M+216+12>>2]|0,a=e[M+216+16>>2]|0,e[l+132>>2]=e[M+216+4>>2],e[l+136>>2]=o,e[l+140>>2]=s,e[l+144>>2]=a,e[l+148>>2]=e[g>>2],e[l+148+4>>2]=e[g+4>>2],e[l+148+8>>2]=e[g+8>>2],e[l+148+12>>2]=e[g+12>>2],l=1,H=M,l|0;if((m|0)==10){h=u,u=+i[M+216+16>>2];break}else if((m|0)==13)return H=M,t|0}else h=0;while(!1);return D=S*(e[Z>>2]=d,+i[Z>>2]),D=C*(e[Z>>2]=p,+i[Z>>2])+D,w*(e[Z>>2]=t,+i[Z>>2])+D>=-+i[l+172>>2]?(l=0,H=M,l|0):(i[l+164>>2]=h,e[l+132>>2]=d,e[l+136>>2]=p,e[l+140>>2]=t,i[l+144>>2]=u,e[l+148>>2]=e[M+264>>2],e[l+148+4>>2]=e[M+264+4>>2],e[l+148+8>>2]=e[M+264+8>>2],e[l+148+12>>2]=e[M+264+12>>2],l=1,H=M,l|0)}function lK(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0;b=H,H=H+560|0,p=l,h=p+36|0;do e[p>>2]=0,p=p+4|0;while((p|0)<(h|0));if(e[b+400>>2]=t,e[b+400+4>>2]=s,g=+i[o>>2],Y=+i[n>>2],m=+i[o+16>>2],u=+i[n+16>>2],d=+i[o+32>>2],$=+i[n+32>>2],B=+i[n+4>>2],q=+i[n+20>>2],L=+i[n+36>>2],E=+i[n+8>>2],w=+i[n+24>>2],S=+i[n+40>>2],z=+i[o+4>>2],O=+i[o+20>>2],G=+i[o+36>>2],U=+i[o+8>>2],P=+i[o+24>>2],F=+i[o+40>>2],i[b+400+8>>2]=g*Y+m*u+d*$,i[b+400+12>>2]=g*B+m*q+d*L,i[b+400+16>>2]=g*E+m*w+d*S,i[b+400+20>>2]=0,i[b+400+24>>2]=Y*z+u*O+$*G,i[b+400+28>>2]=B*z+q*O+L*G,i[b+400+32>>2]=E*z+w*O+S*G,i[b+400+36>>2]=0,i[b+400+40>>2]=Y*U+u*P+$*F,i[b+400+44>>2]=B*U+q*P+L*F,i[b+400+48>>2]=E*U+w*P+S*F,i[b+400+52>>2]=0,S=+i[o+48>>2]-+i[n+48>>2],w=+i[o+52>>2]-+i[n+52>>2],E=+i[o+56>>2]-+i[n+56>>2],L=+i[n>>2],q=+i[o>>2],B=+i[n+16>>2],$=+i[o+16>>2],u=+i[n+32>>2],Y=+i[o+32>>2],d=+i[n+4>>2],m=+i[n+20>>2],g=+i[n+36>>2],C=+i[n+8>>2],M=+i[n+24>>2],D=+i[n+40>>2],i[b+400+56>>2]=L*q+B*$+u*Y,i[b+400+60>>2]=L*z+B*O+u*G,i[b+400+64>>2]=L*U+B*P+u*F,i[b+400+68>>2]=0,i[b+400+72>>2]=q*d+$*m+Y*g,i[b+400+76>>2]=z*d+O*m+G*g,i[b+400+80>>2]=U*d+P*m+F*g,i[b+400+84>>2]=0,i[b+400+88>>2]=q*C+$*M+Y*D,i[b+400+92>>2]=z*C+O*M+G*D,i[b+400+96>>2]=U*C+P*M+F*D,i[b+400+100>>2]=0,i[b+400+104>>2]=S*L+w*B+E*u,i[b+400+108>>2]=S*d+w*m+E*g,i[b+400+112>>2]=S*C+w*M+E*D,i[b+400+116>>2]=0,e[b+400+120>>2]=71,e[b+400+124>>2]=0,e[b+16+364>>2]=0,e[b+16+128>>2]=0,e[b+16+128+4>>2]=0,e[b+16+128+8>>2]=0,e[b+16+128+12>>2]=0,e[b+16+376>>2]=2,e[b+16+368>>2]=0,i[b+16+144>>2]=0,a=d6(b+16|0,b+400|0,a)|0,a|0)return e[l>>2]=(a|0)==1?1:2,n=0,H=b,n|0;if(a=e[b+16+372>>2]|0,!(e[a+32>>2]|0))C=0,S=0,g=0,m=0,d=0,u=0;else{o=0,C=0,S=0,g=0,m=0,d=0,u=0;do D=+i[a+16+(o<<2)>>2],t=e[b+400+120>>2]|0,h=e[b+400+124>>2]|0,s=(e[b+400>>2]|0)+(h>>1)|0,h&1&&(t=e[(e[s>>2]|0)+t>>2]|0),f0[t&127](b,s,e[a+(o<<2)>>2]|0),C=C+D*+i[b>>2],g=g+D*+i[b+4>>2],S=S+D*+i[b+8>>2],a=e[(e[b+16+372>>2]|0)+(o<<2)>>2]|0,w=-+i[a>>2],M=-+i[a+4>>2],E=-+i[a+8>>2],a=e[b+400+120>>2]|0,h=e[b+400+124>>2]|0,t=(e[b+400+4>>2]|0)+(h>>1)|0,h&1&&(a=e[(e[t>>2]|0)+a>>2]|0),$=+i[b+400+24>>2]*w+ +i[b+400+28>>2]*M+ +i[b+400+32>>2]*E,Y=+i[b+400+40>>2]*w+ +i[b+400+44>>2]*M+ +i[b+400+48>>2]*E,i[b+528>>2]=+i[b+400+8>>2]*w+ +i[b+400+12>>2]*M+ +i[b+400+16>>2]*E,i[b+528+4>>2]=$,i[b+528+8>>2]=Y,i[b+528+12>>2]=0,f0[a&127](b+544|0,t,b+528|0),Y=+i[b+544>>2],$=+i[b+544+4>>2],q=+i[b+544+8>>2],m=m+D*(Y*+i[b+400+56>>2]+$*+i[b+400+60>>2]+q*+i[b+400+64>>2]+ +i[b+400+104>>2]),u=u+D*(Y*+i[b+400+72>>2]+$*+i[b+400+76>>2]+q*+i[b+400+80>>2]+ +i[b+400+108>>2]),d=d+D*(Y*+i[b+400+88>>2]+$*+i[b+400+92>>2]+q*+i[b+400+96>>2]+ +i[b+400+112>>2]),o=o+1|0,a=e[b+16+372>>2]|0;while(o>>>0<(e[a+32>>2]|0)>>>0)}return z=C*+i[n+16>>2]+g*+i[n+20>>2]+S*+i[n+24>>2]+ +i[n+52>>2],Y=C*+i[n+32>>2]+g*+i[n+36>>2]+S*+i[n+40>>2]+ +i[n+56>>2],i[l+4>>2]=C*+i[n>>2]+g*+i[n+4>>2]+S*+i[n+8>>2]+ +i[n+48>>2],i[l+8>>2]=z,i[l+12>>2]=Y,i[l+16>>2]=0,Y=m*+i[n+16>>2]+u*+i[n+20>>2]+d*+i[n+24>>2]+ +i[n+52>>2],z=m*+i[n+32>>2]+u*+i[n+36>>2]+d*+i[n+40>>2]+ +i[n+56>>2],i[l+20>>2]=m*+i[n>>2]+u*+i[n+4>>2]+d*+i[n+8>>2]+ +i[n+48>>2],i[l+24>>2]=Y,i[l+28>>2]=z,i[l+32>>2]=0,z=C-m,Y=g-u,q=S-d,i[l+48>>2]=0,$=+ot(+(z*z+Y*Y+q*q)),i[l+52>>2]=$,$=$>9999999747378752e-20?1/$:1,i[l+36>>2]=$*z,i[l+40>>2]=$*Y,i[l+44>>2]=$*q,n=1,H=b,n|0}function d6(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0;P=H,H=H+176|0,e[t+348>>2]=t+220,e[t+352>>2]=t+252,e[t+356>>2]=t+284,e[t+360>>2]=t+316,e[t+364>>2]=4,e[t+368>>2]=0,e[t+376>>2]=0,B=e[n+4>>2]|0,e[t>>2]=e[n>>2],e[t+4>>2]=B,e[t+8>>2]=e[n+8>>2],e[t+8+4>>2]=e[n+8+4>>2],e[t+8+8>>2]=e[n+8+8>>2],e[t+8+12>>2]=e[n+8+12>>2],e[t+24>>2]=e[n+24>>2],e[t+24+4>>2]=e[n+24+4>>2],e[t+24+8>>2]=e[n+24+8>>2],e[t+24+12>>2]=e[n+24+12>>2],e[t+40>>2]=e[n+40>>2],e[t+40+4>>2]=e[n+40+4>>2],e[t+40+8>>2]=e[n+40+8>>2],e[t+40+12>>2]=e[n+40+12>>2],e[t+56>>2]=e[n+56>>2],e[t+56+4>>2]=e[n+56+4>>2],e[t+56+8>>2]=e[n+56+8>>2],e[t+56+12>>2]=e[n+56+12>>2],e[t+72>>2]=e[n+72>>2],e[t+72+4>>2]=e[n+72+4>>2],e[t+72+8>>2]=e[n+72+8>>2],e[t+72+12>>2]=e[n+72+12>>2],e[t+88>>2]=e[n+88>>2],e[t+88+4>>2]=e[n+88+4>>2],e[t+88+8>>2]=e[n+88+8>>2],e[t+88+12>>2]=e[n+88+12>>2],e[t+104>>2]=e[n+104>>2],e[t+104+4>>2]=e[n+104+4>>2],e[t+104+8>>2]=e[n+104+8>>2],e[t+104+12>>2]=e[n+104+12>>2],B=e[n+124>>2]|0,e[t+120>>2]=e[n+120>>2],e[t+124>>2]=B,i[t+144>>2]=0,e[t+180>>2]=0,e[t+128>>2]=e[s>>2],e[t+128+4>>2]=e[s+4>>2],e[t+128+8>>2]=e[s+8>>2],e[t+128+12>>2]=e[s+12>>2],o=+i[t+128>>2],l=+i[t+132>>2],u=+i[t+136>>2],o*o+l*l+u*u>0?(s=(i[Z>>2]=-o,e[Z>>2]|0),n=(i[Z>>2]=-l,e[Z>>2]|0),a=(i[Z>>2]=-u,e[Z>>2]|0)):(s=1065353216,n=0,a=0),i[t+164>>2]=0,e[t+364>>2]=3,e[t+148>>2]=t+316,e[t+180>>2]=1,M=(e[Z>>2]=s,+i[Z>>2]),D=(e[Z>>2]=n,+i[Z>>2]),Jo(t,M,D,(e[Z>>2]=a,+i[Z>>2]),t+316|0),i[t+164>>2]=1,b=(e[t+148>>2]|0)+16|0,e[t+128>>2]=e[b>>2],e[t+128+4>>2]=e[b+4>>2],e[t+128+8>>2]=e[b+8>>2],e[t+128+12>>2]=e[b+12>>2],e[P+24+48>>2]=e[b>>2],e[P+24+48+4>>2]=e[b+4>>2],e[P+24+48+8>>2]=e[b+8>>2],e[P+24+48+12>>2]=e[b+12>>2],e[P+24+32>>2]=e[b>>2],e[P+24+32+4>>2]=e[b+4>>2],e[P+24+32+8>>2]=e[b+8>>2],e[P+24+32+12>>2]=e[b+12>>2],e[P+24+16>>2]=e[b>>2],e[P+24+16+4>>2]=e[b+4>>2],e[P+24+16+8>>2]=e[b+8>>2],e[P+24+16+12>>2]=e[b+12>>2],e[P+24>>2]=e[b>>2],e[P+24+4>>2]=e[b+4>>2],e[P+24+8>>2]=e[b+8>>2],e[P+24+12>>2]=e[b+12>>2],D=0,b=0,B=0,o=o*o+l*l+u*u;e:do{if(E=e[t+368>>2]|0,p=+i[t+128>>2],l=+i[t+132>>2],u=+i[t+136>>2],m=+ot(+(p*p+l*l+u*u)),m<9999999747378752e-20){F=5;break}if(i[t+148+(E*36|0)+16+(e[t+148+(E*36|0)+32>>2]<<2)>>2]=0,s=(e[t+364>>2]|0)+-1|0,e[t+364>>2]=s,e[t+148+(E*36|0)+(e[t+148+(E*36|0)+32>>2]<<2)>>2]=e[t+348+(s<<2)>>2],s=e[t+148+(E*36|0)+32>>2]|0,e[t+148+(E*36|0)+32>>2]=s+1,Jo(t,-p,-l,-u,e[t+148+(E*36|0)+(s<<2)>>2]|0),s=e[t+148+(E*36|0)+32>>2]|0,n=e[t+148+(E*36|0)+(s+-1<<2)>>2]|0,l=+i[n+16>>2],u=+i[n+20>>2],p=+i[n+24>>2],S=l-+i[P+24>>2],C=u-+i[P+24+4>>2],M=p-+i[P+24+8>>2],S*S+C*C+M*M<9999999747378752e-20){F=8;break}if(S=l-+i[P+24+16>>2],C=u-+i[P+24+20>>2],M=p-+i[P+24+24>>2],S*S+C*C+M*M<9999999747378752e-20){F=8;break}if(S=l-+i[P+24+32>>2],C=u-+i[P+24+36>>2],M=p-+i[P+24+40>>2],S*S+C*C+M*M<9999999747378752e-20){F=8;break}if(S=l-+i[P+24+48>>2],C=u-+i[P+24+52>>2],M=p-+i[P+24+56>>2],S*S+C*C+M*M<9999999747378752e-20){F=8;break}if(b=b+1&3,w=P+24+(b<<4)|0,e[w>>2]=e[n+16>>2],e[w+4>>2]=e[n+16+4>>2],e[w+8>>2]=e[n+16+8>>2],e[w+12>>2]=e[n+16+12>>2],M=(+i[t+128>>2]*l+ +i[t+132>>2]*u+ +i[t+136>>2]*p)/m,D=M>D?M:D,m-D-m*9999999747378752e-20<=0){F=9;break}e[P>>2]=0;t:do switch(s|0){case 2:{if(w=e[t+148+(E*36|0)>>2]|0,d=e[t+148+(E*36|0)+4>>2]|0,o=+i[d+16>>2],l=+i[w+16>>2],u=+i[d+20>>2],p=+i[w+20>>2],m=+i[d+24>>2],g=+i[w+24>>2],!((o-l)*(o-l)+(u-p)*(u-p)+(m-g)*(m-g)>0)){F=39;break e}if(S=-(l*(o-l)+p*(u-p)+g*(m-g))/((o-l)*(o-l)+(u-p)*(u-p)+(m-g)*(m-g)),S>=1){i[P+8>>2]=0,i[P+8+4>>2]=1,e[P>>2]=2,o=o*o+u*u+m*m;break t}if(S<=0){i[P+8>>2]=1,i[P+8+4>>2]=0,e[P>>2]=1,o=l*l+p*p+g*g;break t}else{i[P+8+4>>2]=S,i[P+8>>2]=1-S,e[P>>2]=3,o=((o-l)*S+l)*((o-l)*S+l)+((u-p)*S+p)*((u-p)*S+p)+((m-g)*S+g)*((m-g)*S+g);break t}}case 3:{o=+m6((e[t+148+(E*36|0)>>2]|0)+16|0,(e[t+148+(E*36|0)+4>>2]|0)+16|0,(e[t+148+(E*36|0)+8>>2]|0)+16|0,P+8|0,P);break}case 4:{if(a=e[t+148+(E*36|0)>>2]|0,h=e[t+148+(E*36|0)+4>>2]|0,d=e[t+148+(E*36|0)+8>>2]|0,w=e[t+148+(E*36|0)+12>>2]|0,e[P+152>>2]=a+16,e[P+152+4>>2]=h+16,e[P+152+8>>2]=d+16,e[P+152+12>>2]=w+16,u=+i[a+16>>2],p=+i[w+16>>2],o=+i[a+20>>2],m=+i[w+20>>2],l=+i[a+24>>2],g=+i[w+24>>2],i[P+104>>2]=u-p,i[P+104+4>>2]=o-m,i[P+104+8>>2]=l-g,i[P+104+12>>2]=0,U=+i[h+16>>2],O=+i[h+20>>2],C=+i[h+24>>2],i[P+104+16>>2]=U-p,i[P+104+20>>2]=O-m,i[P+104+24>>2]=C-g,i[P+104+28>>2]=0,S=+i[d+16>>2],z=+i[d+20>>2],G=+i[d+24>>2],i[P+104+32>>2]=S-p,i[P+104+36>>2]=z-m,i[P+104+40>>2]=G-g,i[P+104+44>>2]=0,M=(o-m)*(C-g)*(S-p)+(l-g)*(U-p)*(z-m)-(z-m)*((C-g)*(u-p))-(o-m)*(U-p)*(G-g)+(G-g)*((u-p)*(O-m))-(S-p)*((l-g)*(O-m)),M!=M|!1|M==0|!(M*(l*((U-S)*(o-O)-(O-z)*(u-U))+(u*((O-z)*(l-C)-(C-G)*(o-O))+o*((C-G)*(u-U)-(U-S)*(l-C))))<=0))o=-1;else{for(e[P+92>>2]=0,e[P+92+4>>2]=0,e[P+92+8>>2]=0,e[P+88>>2]=0,C=o-m,S=l-g,l=u-p,s=0,o=-1;n=e[6876+(s<<2)>>2]|0,G=+i[P+104+(n<<4)+8>>2],O=+i[P+104+(n<<4)+4>>2],z=+i[P+104+(n<<4)>>2],M*((C*G-S*O)*p+m*(S*z-G*l)+(O*l-C*z)*g)>0&&(L=+m6(e[P+152+(s<<2)>>2]|0,e[P+152+(n<<2)>>2]|0,w+16|0,P+92|0,P+88|0),o<0|L<o)&&(Y=e[P+88>>2]|0,e[P>>2]=(Y&2|0?1<<n:0)+(Y<<1&8)+(Y&1|0?1<<s:0),e[P+8+(s<<2)>>2]=e[P+92>>2],e[P+8+(n<<2)>>2]=e[P+92+4>>2],i[P+8+(e[6876+(n<<2)>>2]<<2)>>2]=0,e[P+8+12>>2]=e[P+92+8>>2],o=L),s=s+1|0,(s|0)!=3;)C=+i[P+104+(s<<4)+4>>2],S=+i[P+104+(s<<4)+8>>2],l=+i[P+104+(s<<4)>>2],p=+i[w+16>>2],m=+i[w+20>>2],g=+i[w+24>>2];o<0&&(e[P>>2]=15,p=+i[d+20>>2],z=+i[h+24>>2],O=+i[w+16>>2],l=+i[d+24>>2],G=+i[h+16>>2],m=+i[w+20>>2],u=+i[d+16>>2],U=+i[w+24>>2],S=+i[h+20>>2],i[P+8>>2]=(p*z*O+l*G*m-m*(z*u)-p*G*U+U*(u*S)-O*(l*S))/M,o=+i[a+20>>2],g=+i[a+24>>2],C=+i[a+16>>2],i[P+8+4>>2]=(o*l*O+g*u*m-m*(l*C)-o*u*U+U*(C*p)-O*(g*p))/M,i[P+8+8>>2]=(S*g*O+z*C*m-m*(g*G)-S*C*U+U*(G*o)-O*(z*o))/M,i[P+8+12>>2]=1-((p*z*O+l*G*m-m*(z*u)-p*G*U+U*(u*S)-O*(l*S))/M+(o*l*O+g*u*m-m*(l*C)-o*u*U+U*(C*p)-O*(g*p))/M+(S*g*O+z*C*m-m*(g*G)-S*C*U+U*(G*o)-O*(z*o))/M),o=0)}break}default:}while(!1);if(!(o>=0)){F=39;break}if(e[t+148+((1-E|0)*36|0)+32>>2]=0,e[t+128>>2]=0,e[t+128+4>>2]=0,e[t+128+8>>2]=0,e[t+128+12>>2]=0,e[t+368>>2]=1-E,s=e[t+148+(E*36|0)+32>>2]|0,n=e[P>>2]|0,s|0){d=0;do a=t+148+(E*36|0)+(d<<2)|0,h=e[a>>2]|0,n&1<<d?(e[t+148+((1-E|0)*36|0)+(e[t+148+((1-E|0)*36|0)+32>>2]<<2)>>2]=h,w=e[P+8+(d<<2)>>2]|0,Y=e[t+148+((1-E|0)*36|0)+32>>2]|0,e[t+148+((1-E|0)*36|0)+32>>2]=Y+1,e[t+148+((1-E|0)*36|0)+16+(Y<<2)>>2]=w,Y=e[a>>2]|0,G=(e[Z>>2]=w,+i[Z>>2]),O=G*+i[Y+20>>2],z=G*+i[Y+24>>2],i[t+128>>2]=+i[Y+16>>2]*G+ +i[t+128>>2],i[t+132>>2]=O+ +i[t+132>>2],i[t+136>>2]=z+ +i[t+136>>2]):(Y=e[t+364>>2]|0,e[t+364>>2]=Y+1,e[t+348+(Y<<2)>>2]=h),d=d+1|0;while((d|0)!=(s|0))}if((n|0)==15&&(e[t+376>>2]=1),B=B+1|0,B>>>0>=128){F=38;break}}while(!(e[t+376>>2]|0));switch((F|0)==5?e[t+376>>2]=1:(F|0)==8||(F|0)==9?(Y=e[t+368>>2]|0,F=(e[t+148+(Y*36|0)+32>>2]|0)+-1|0,e[t+148+(Y*36|0)+32>>2]=F,F=e[t+148+(Y*36|0)+(F<<2)>>2]|0,Y=e[t+364>>2]|0,e[t+364>>2]=Y+1,e[t+348+(Y<<2)>>2]=F):(F|0)==38?e[t+376>>2]=2:(F|0)==39&&(Y=e[t+368>>2]|0,F=(e[t+148+(Y*36|0)+32>>2]|0)+-1|0,e[t+148+(Y*36|0)+32>>2]=F,F=e[t+148+(Y*36|0)+(F<<2)>>2]|0,Y=e[t+364>>2]|0,e[t+364>>2]=Y+1,e[t+348+(Y<<2)>>2]=F),e[t+372>>2]=t+148+((e[t+368>>2]|0)*36|0),s=e[t+376>>2]|0,s|0){case 0:return G=+i[t+128>>2],O=+i[t+132>>2],z=+i[t+136>>2],i[t+144>>2]=+ot(+(G*G+O*O+z*z)),H=P,s|0;case 1:return i[t+144>>2]=0,H=P,s|0;default:return H=P,s|0}return 0}function Jo(t,n,s,o,a){t=t|0,n=+n,s=+s,o=+o,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0;p=H,H=H+48|0,d=1/+ot(+(n*n+s*s+o*o)),i[a>>2]=d*n,i[a+4>>2]=d*s,i[a+8>>2]=d*o,i[a+12>>2]=0,l=e[t+120>>2]|0,h=e[t+124>>2]|0,u=(e[t>>2]|0)+(h>>1)|0,h&1&&(l=e[(e[u>>2]|0)+l>>2]|0),f0[l&127](p,u,a),n=-+i[a>>2],s=-+i[a+4>>2],o=-+i[a+8>>2],l=e[t+120>>2]|0,h=e[t+124>>2]|0,u=(e[t+4>>2]|0)+(h>>1)|0,h&1&&(l=e[(e[u>>2]|0)+l>>2]|0),d=+i[t+24>>2]*n+ +i[t+28>>2]*s+ +i[t+32>>2]*o,m=+i[t+40>>2]*n+ +i[t+44>>2]*s+ +i[t+48>>2]*o,i[p+16>>2]=+i[t+8>>2]*n+ +i[t+12>>2]*s+ +i[t+16>>2]*o,i[p+16+4>>2]=d,i[p+16+8>>2]=m,i[p+16+12>>2]=0,f0[l&127](p+32|0,u,p+16|0),m=+i[p+32>>2],n=+i[p+32+4>>2],s=+i[p+32+8>>2],o=+i[p+4>>2]-(m*+i[t+72>>2]+n*+i[t+76>>2]+s*+i[t+80>>2]+ +i[t+108>>2]),d=+i[p+8>>2]-(m*+i[t+88>>2]+n*+i[t+92>>2]+s*+i[t+96>>2]+ +i[t+112>>2]),i[a+16>>2]=+i[p>>2]-(m*+i[t+56>>2]+n*+i[t+60>>2]+s*+i[t+64>>2]+ +i[t+104>>2]),i[a+20>>2]=o,i[a+24>>2]=d,i[a+28>>2]=0,H=p}function m6(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0;if(te=H,H=H+64|0,e[te+48>>2]=t,e[te+48+4>>2]=n,e[te+48+8>>2]=s,G=+i[t>>2],Y=+i[n>>2],ne=+i[t+4>>2],W=+i[n+4>>2],F=+i[t+8>>2],P=+i[n+8>>2],i[te>>2]=G-Y,i[te+4>>2]=ne-W,i[te+8>>2]=F-P,i[te+12>>2]=0,U=+i[s>>2],O=+i[s+4>>2],z=+i[s+8>>2],i[te+16>>2]=Y-U,i[te+20>>2]=W-O,i[te+24>>2]=P-z,i[te+28>>2]=0,i[te+32>>2]=U-G,i[te+36>>2]=O-ne,i[te+40>>2]=z-F,i[te+44>>2]=0,$=(ne-W)*(P-z)-(F-P)*(W-O),q=(F-P)*(Y-U)-(P-z)*(G-Y),X=(W-O)*(G-Y)-(ne-W)*(Y-U),X*X+($*$+q*q)>0)m=ne-W,g=F-P,S=G-Y,D=G,b=ne,B=F,h=0,L=-1,d=0,l=0,u=0;else return W=-1,H=te,+W;for(;;){if(D*(X*m-q*g)+b*($*g-X*S)+(q*S-$*m)*B>0){E=e[6876+(h<<2)>>2]|0,_e=e[te+48+(E<<2)>>2]|0,p=+i[_e>>2],g=p-D,S=+i[_e+4>>2],C=S-b,w=+i[_e+8>>2],M=w-B;do if(g*g+C*C+M*M>0){if(m=-(D*g+b*C+B*M)/(g*g+C*C+M*M),m>=1){p=p*p+S*S+w*w,d=2,l=0,u=1065353216;break}if(m<=0){p=D*D+b*b+B*B,d=1,l=1065353216,u=0;break}else{u=(i[Z>>2]=m,e[Z>>2]|0),D=D+g*m,p=b+C*m,B=B+M*m,p=B*B+(D*D+p*p),d=3,l=(i[Z>>2]=1-m,e[Z>>2]|0);break}}else p=-1;while(!1);L<0|p<L?(e[a>>2]=(d&1|0?1<<h:0)+(d&2|0?1<<E:0),e[o+(h<<2)>>2]=l,e[o+(E<<2)>>2]=u,i[o+(e[6876+(E<<2)>>2]<<2)>>2]=0):p=L}else p=L;if(h=h+1|0,(h|0)==3)break;_e=e[te+48+(h<<2)>>2]|0,m=+i[te+(h<<4)+4>>2],g=+i[te+(h<<4)+8>>2],S=+i[te+(h<<4)>>2],D=+i[_e>>2],b=+i[_e+4>>2],B=+i[_e+8>>2],L=p}return p<0?(B=+ot(+(X*X+($*$+q*q))),L=($*+i[t>>2]+q*+i[t+4>>2]+X*+i[t+8>>2])/(X*X+($*$+q*q)),e[a>>2]=7,D=+i[n>>2]-$*L,M=+i[n+4>>2]-q*L,b=+i[n+8>>2]-X*L,W=+ot(+((M*(Y-U)-D*(W-O))*(M*(Y-U)-D*(W-O))+(((W-O)*b-M*(P-z))*((W-O)*b-M*(P-z))+(D*(P-z)-b*(Y-U))*(D*(P-z)-b*(Y-U)))))/B,i[o>>2]=W,P=+i[s>>2]-$*L,b=+i[s+4>>2]-q*L,Y=+i[s+8>>2]-X*L,ne=+ot(+((b*(U-G)-P*(O-ne))*(b*(U-G)-P*(O-ne))+(((O-ne)*Y-b*(z-F))*((O-ne)*Y-b*(z-F))+(P*(z-F)-Y*(U-G))*(P*(z-F)-Y*(U-G)))))/B,i[o+4>>2]=ne,i[o+8>>2]=1-(ne+W),W=X*L*(X*L)+($*L*($*L)+q*L*(q*L)),H=te,+W):(W=p,H=te,+W)}function uK(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0;var p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0;F=H,H=H+9856|0,m=l,g=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(g|0));switch(e[F+9712>>2]=t,e[F+9712+4>>2]=s,G=+i[o>>2],he=+i[n>>2],O=+i[o+16>>2],Y=+i[n+16>>2],z=+i[o+32>>2],me=+i[n+32>>2],$=+i[n+4>>2],se=+i[n+20>>2],q=+i[n+36>>2],S=+i[n+8>>2],p=+i[n+24>>2],U=+i[n+40>>2],pe=+i[o+4>>2],_e=+i[o+20>>2],te=+i[o+36>>2],W=+i[o+8>>2],ne=+i[o+24>>2],X=+i[o+40>>2],i[F+9712+8>>2]=G*he+O*Y+z*me,i[F+9712+12>>2]=G*$+O*se+z*q,i[F+9712+16>>2]=G*S+O*p+z*U,i[F+9712+20>>2]=0,i[F+9712+24>>2]=he*pe+Y*_e+me*te,i[F+9712+28>>2]=$*pe+se*_e+q*te,i[F+9712+32>>2]=S*pe+p*_e+U*te,i[F+9712+36>>2]=0,i[F+9712+40>>2]=he*W+Y*ne+me*X,i[F+9712+44>>2]=$*W+se*ne+q*X,i[F+9712+48>>2]=S*W+p*ne+U*X,i[F+9712+52>>2]=0,U=+i[o+48>>2]-+i[n+48>>2],p=+i[o+52>>2]-+i[n+52>>2],S=+i[o+56>>2]-+i[n+56>>2],q=+i[n>>2],se=+i[o>>2],$=+i[n+16>>2],me=+i[o+16>>2],Y=+i[n+32>>2],he=+i[o+32>>2],z=+i[n+4>>2],O=+i[n+20>>2],G=+i[n+36>>2],P=+i[n+8>>2],h=+i[n+24>>2],d=+i[n+40>>2],i[F+9712+56>>2]=q*se+$*me+Y*he,i[F+9712+60>>2]=q*pe+$*_e+Y*te,i[F+9712+64>>2]=q*W+$*ne+Y*X,i[F+9712+68>>2]=0,i[F+9712+72>>2]=se*z+me*O+he*G,i[F+9712+76>>2]=pe*z+_e*O+te*G,i[F+9712+80>>2]=W*z+ne*O+X*G,i[F+9712+84>>2]=0,i[F+9712+88>>2]=se*P+me*h+he*d,i[F+9712+92>>2]=pe*P+_e*h+te*d,i[F+9712+96>>2]=W*P+ne*h+X*d,i[F+9712+100>>2]=0,i[F+9712+104>>2]=U*q+p*$+S*Y,i[F+9712+108>>2]=U*z+p*O+S*G,i[F+9712+112>>2]=U*P+p*h+S*d,i[F+9712+116>>2]=0,e[F+9712+120>>2]=u?72:71,e[F+9712+124>>2]=0,e[F+9328+364>>2]=0,e[F+9328+128>>2]=0,e[F+9328+128+4>>2]=0,e[F+9328+128+8>>2]=0,e[F+9328+128+12>>2]=0,e[F+9328+376>>2]=2,e[F+9328+368>>2]=0,i[F+9328+144>>2]=0,d=-+i[a+4>>2],S=-+i[a+8>>2],i[F+16>>2]=-+i[a>>2],i[F+16+4>>2]=d,i[F+16+8>>2]=S,i[F+16+12>>2]=0,d6(F+9328|0,F+9712|0,F+16|0)|0){case 1:{E=F+32+9280|0,D=F+32+9288|0,b=F+32+9292|0,e[E>>2]=0,e[E+4>>2]=0,e[E+8>>2]=0,e[E+12>>2]=0,e[F+32>>2]=9,L=F+32+40|0,e[F+32+9276>>2]=0,e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,e[L+12>>2]=0,e[L+16>>2]=0,u=0;do t=128-u+-1|0,e[F+32+2108+(t*56|0)+44>>2]=0,s=e[D>>2]|0,e[F+32+2108+(t*56|0)+48>>2]=s,s|0&&(e[s+44>>2]=F+32+2108+(t*56|0)),e[D>>2]=F+32+2108+(t*56|0),e[b>>2]=(e[b>>2]|0)+1,u=u+1|0;while((u|0)!=128);d=+i[a>>2],S=+i[a+4>>2],h=+i[a+8>>2],C=e[F+9328+372>>2]|0;do if((e[C+32>>2]|0)>>>0>1&&va(F+9328|0)|0){if(M=F+32+9280|0,t=e[M>>2]|0,t|0){m=e[F+32+9284>>2]|0,g=e[b>>2]|0;do s=t+44|0,o=t+48|0,u=e[o>>2]|0,u|0&&(e[u+44>>2]=e[s>>2]),s=e[s>>2]|0,s|0&&(e[s+48>>2]=e[o>>2]),(e[M>>2]|0)==(t|0)&&(e[M>>2]=e[o>>2]),m=m+-1|0,e[t+44>>2]=0,e[o>>2]=e[D>>2],s=e[D>>2]|0,s|0&&(e[s+44>>2]=t),e[D>>2]=t,g=g+1|0,t=e[M>>2]|0;while((t|0)!=0);e[F+32+9284>>2]=m,e[b>>2]=g}if(e[F+32>>2]=0,e[F+32+9276>>2]=0,t=e[C>>2]|0,s=e[C+12>>2]|0,se=+i[s+16>>2],X=+i[t+16>>2]-se,W=+i[s+20>>2],te=+i[t+20>>2]-W,pe=+i[s+24>>2],he=+i[t+24>>2]-pe,s=e[C+4>>2]|0,_e=+i[s+16>>2]-se,me=+i[s+20>>2]-W,ne=+i[s+24>>2]-pe,u=e[C+8>>2]|0,se=+i[u+16>>2]-se,W=+i[u+20>>2]-W,pe=+i[u+24>>2]-pe,X*me*pe+(te*ne*se+he*_e*W-X*ne*W-te*_e*pe)-he*me*se<0?(e[C>>2]=s,e[C+4>>2]=t,o=e[C+16>>2]|0,e[C+16>>2]=e[C+20>>2],e[C+20>>2]=o,o=s):(o=t,t=s),o=tu(F+32|0,o,t,u,1)|0,m=tu(F+32|0,e[C+4>>2]|0,e[C>>2]|0,e[C+12>>2]|0,1)|0,g=tu(F+32|0,e[C+8>>2]|0,e[C+4>>2]|0,e[C+12>>2]|0,1)|0,a=tu(F+32|0,e[C>>2]|0,e[C+8>>2]|0,e[C+12>>2]|0,1)|0,(e[F+32+9284>>2]|0)==4){if(t=e[E>>2]|0,p=+i[t+16>>2],s=e[t+48>>2]|0,s)for(h=p*p;p=+i[s+16>>2],u=p*p<h,t=u?s:t,s=e[s+48>>2]|0,s;)h=u?p*p:h;for(S=+i[t>>2],d=+i[t+4>>2],h=+i[t+8>>2],p=+i[t+12>>2],w=e[t+16>>2]|0,oe=e[t+20>>2]|0,s=e[t+24>>2]|0,u=e[t+28>>2]|0,R[o+52>>0]=0,e[o+32>>2]=m,R[m+52>>0]=0,e[m+32>>2]=o,R[o+53>>0]=0,e[o+36>>2]=g,R[g+52>>0]=1,e[g+32>>2]=o,R[o+54>>0]=0,e[o+40>>2]=a,R[a+52>>0]=2,e[a+32>>2]=o,R[m+53>>0]=2,e[m+36>>2]=a,R[a+54>>0]=1,e[a+40>>2]=m,R[m+54>>0]=1,e[m+40>>2]=g,R[g+53>>0]=2,e[g+36>>2]=m,R[g+54>>0]=1,e[g+40>>2]=a,R[a+53>>0]=2,e[a+36>>2]=g,e[F+32>>2]=0,C=t,g=oe,a=s,m=u,t=w,w=0;;){if(s=e[F+32+9276>>2]|0,s>>>0>=64){B=43;break}if(e[F+9840>>2]=0,e[F+9840+4>>2]=0,e[F+9840+8>>2]=0,e[F+32+9276>>2]=s+1,w=w+1|0,R[C+55>>0]=w,o=C+4|0,oe=C+8|0,Jo(F+9328|0,+i[C>>2],+i[o>>2],+i[oe>>2],F+32+60+(s<<5)|0),+i[C>>2]*+i[F+32+60+(s<<5)+16>>2]+ +i[o>>2]*+i[F+32+60+(s<<5)+20>>2]+ +i[oe>>2]*+i[F+32+60+(s<<5)+24>>2]-+i[C+16>>2]>9999999747378752e-20)o=0;else{s=7,B=42;break}do u=oh(F+32|0,w,F+32+60+(s<<5)|0,e[C+32+(o<<2)>>2]|0,It[C+52+o>>0]|0,F+9840|0)|0,o=o+1|0;while(u&o>>>0<3);if(!(u&(e[F+9840+8>>2]|0)>>>0>2)){s=4,B=42;break}if(u=e[F+9840>>2]|0,t=e[F+9840+4>>2]|0,R[u+53>>0]=2,e[u+36>>2]=t,R[t+54>>0]=1,e[t+40>>2]=u,t=C+44|0,u=C+48|0,s=e[u>>2]|0,s|0&&(e[s+44>>2]=e[t>>2]),t=e[t>>2]|0,t|0&&(e[t+48>>2]=e[u>>2]),(e[M>>2]|0)==(C|0)&&(e[M>>2]=e[u>>2]),e[F+32+9284>>2]=(e[F+32+9284>>2]|0)+-1,e[C+44>>2]=0,e[u>>2]=e[D>>2],t=e[D>>2]|0,t|0&&(e[t+44>>2]=C),e[D>>2]=C,e[b>>2]=(e[b>>2]|0)+1,s=e[E>>2]|0,p=+i[s+16>>2],t=e[s+48>>2]|0,t)for(h=p*p;p=+i[t+16>>2],u=p*p<h,s=u?t:s,t=e[t+48>>2]|0,t;)h=u?p*p:h;if(S=+i[s>>2],d=+i[s+4>>2],h=+i[s+8>>2],p=+i[s+12>>2],t=e[s+16>>2]|0,u=e[s+20>>2]|0,o=e[s+24>>2]|0,m=e[s+28>>2]|0,w>>>0>=255){s=m;break}else C=s,g=u,a=o}if((B|0)==42?(e[F+32>>2]=s,u=g,o=a,s=m):(B|0)==43&&(e[F+32>>2]=6,u=g,o=a,s=m),he=(e[Z>>2]=t,+i[Z>>2]),_e=S*he,W=d*he,he=h*he,i[F+32+40>>2]=S,i[F+32+44>>2]=d,i[F+32+48>>2]=h,i[F+32+52>>2]=p,e[F+32+56>>2]=t,e[F+32+36>>2]=3,e[F+32+4>>2]=u,e[F+32+8>>2]=o,e[F+32+12>>2]=s,oe=o,pe=+i[oe+16>>2]-_e,X=+i[oe+20>>2]-W,te=+i[oe+24>>2]-he,b=s,q=+i[b+16>>2]-_e,ne=+i[b+20>>2]-W,me=+i[b+24>>2]-he,me=+ot(+((pe*ne-X*q)*(pe*ne-X*q)+((X*me-te*ne)*(X*me-te*ne)+(te*q-pe*me)*(te*q-pe*me)))),i[F+32+20>>2]=me,pe=+i[b+16>>2]-_e,q=+i[b+20>>2]-W,te=+i[b+24>>2]-he,b=u,ne=+i[b+16>>2]-_e,X=+i[b+20>>2]-W,se=+i[b+24>>2]-he,se=+ot(+((pe*X-q*ne)*(pe*X-q*ne)+((q*se-te*X)*(q*se-te*X)+(te*ne-pe*se)*(te*ne-pe*se)))),i[F+32+24>>2]=se,pe=+i[b+16>>2]-_e,ne=+i[b+20>>2]-W,te=+i[b+24>>2]-he,_e=+i[oe+16>>2]-_e,W=+i[oe+20>>2]-W,he=+i[oe+24>>2]-he,he=+ot(+((pe*W-ne*_e)*(pe*W-ne*_e)+((ne*he-te*W)*(ne*he-te*W)+(te*_e-pe*he)*(te*_e-pe*he)))),i[F+32+20>>2]=me/(he+(me+se)),i[F+32+24>>2]=se/(he+(me+se)),i[F+32+28>>2]=he/(he+(me+se)),(e[F+32>>2]|0)!=9)if(e[F+32+36>>2]|0){o=F+32+36|0,B=51;break}else{d=0,h=0,p=0;break}return e[l>>2]=3,oe=0,H=F,oe|0}else B=45}else B=45;while(!1);if((B|0)==45&&(e[F+32>>2]=8,i[F+32+40>>2]=d,i[F+32+44>>2]=S,i[F+32+48>>2]=h,i[F+32+52>>2]=0,p=+ot(+(d*d+S*S+h*h)),p>0?(i[F+32+40>>2]=1/p*d,i[F+32+44>>2]=1/p*S,i[F+32+48>>2]=1/p*h):(e[L>>2]=1065353216,e[F+32+44>>2]=0,e[F+32+48>>2]=0),i[F+32+52>>2]=0,i[F+32+56>>2]=0,e[F+32+36>>2]=1,e[F+32+4>>2]=e[C>>2],i[F+32+20>>2]=1,o=F+32+36|0,B=51),(B|0)==51){u=0,d=0,h=0,p=0;do t=e[F+9712+120>>2]|0,oe=e[F+9712+124>>2]|0,s=(e[F+9712>>2]|0)+(oe>>1)|0,oe&1&&(t=e[(e[s>>2]|0)+t>>2]|0),f0[t&127](F,s,e[F+32+4+(u<<2)>>2]|0),se=+i[F+32+20+(u<<2)>>2],d=d+ +i[F>>2]*se,p=p+se*+i[F+4>>2],h=h+se*+i[F+8>>2],u=u+1|0;while(u>>>0<(e[o>>2]|0)>>>0)}return e[l>>2]=1,se=d*+i[n+16>>2]+p*+i[n+20>>2]+h*+i[n+24>>2]+ +i[n+52>>2],pe=d*+i[n+32>>2]+p*+i[n+36>>2]+h*+i[n+40>>2]+ +i[n+56>>2],i[l+4>>2]=d*+i[n>>2]+p*+i[n+4>>2]+h*+i[n+8>>2]+ +i[n+48>>2],i[l+8>>2]=se,i[l+12>>2]=pe,i[l+16>>2]=0,pe=+i[L>>2],se=+i[F+32+56>>2],he=+i[F+32+44>>2],me=+i[F+32+48>>2],X=d-pe*se,ne=p-se*he,W=h-se*me,te=X*+i[n+16>>2]+ne*+i[n+20>>2]+W*+i[n+24>>2]+ +i[n+52>>2],_e=X*+i[n+32>>2]+ne*+i[n+36>>2]+W*+i[n+40>>2]+ +i[n+56>>2],i[l+20>>2]=X*+i[n>>2]+ne*+i[n+4>>2]+W*+i[n+8>>2]+ +i[n+48>>2],i[l+24>>2]=te,i[l+28>>2]=_e,i[l+32>>2]=0,i[l+36>>2]=-pe,i[l+40>>2]=-he,i[l+44>>2]=-me,i[l+48>>2]=0,i[l+52>>2]=-se,oe=1,H=F,oe|0}case 2:return e[l>>2]=2,oe=0,H=F,oe|0;default:return oe=0,H=F,oe|0}return 0}function va(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;m=H,H=H+16|0,d=e[t+372>>2]|0;e:do switch(e[d+32>>2]|0){case 1:{for(s=1,n=0;e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,i[m+(n<<2)>>2]=1,g=d+32|0,i[d+16+(s<<2)>>2]=0,s=(e[t+364>>2]|0)+-1|0,e[t+364>>2]=s,e[d+(e[g>>2]<<2)>>2]=e[t+348+(s<<2)>>2],s=e[g>>2]|0,e[g>>2]=s+1,o=+i[m>>2],a=+i[m+4>>2],l=+i[m+8>>2],Jo(t,o,a,l,e[d+(s<<2)>>2]|0),!(va(t)|0||(d=e[t+372>>2]|0,g=(e[d+32>>2]|0)+-1|0,e[d+32>>2]=g,g=e[d+(g<<2)>>2]|0,d=e[t+364>>2]|0,e[t+364>>2]=d+1,e[t+348+(d<<2)>>2]=g,d=e[t+372>>2]|0,i[d+16+(e[d+32>>2]<<2)>>2]=0,g=(e[t+364>>2]|0)+-1|0,e[t+364>>2]=g,e[d+(e[d+32>>2]<<2)>>2]=e[t+348+(g<<2)>>2],g=e[d+32>>2]|0,e[d+32>>2]=g+1,Jo(t,-o,-a,-l,e[d+(g<<2)>>2]|0),va(t)|0));){if(g=e[t+372>>2]|0,d=(e[g+32>>2]|0)+-1|0,e[g+32>>2]=d,d=e[g+(d<<2)>>2]|0,g=e[t+364>>2]|0,e[t+364>>2]=g+1,e[t+348+(g<<2)>>2]=d,n=n+1|0,n>>>0>=3)break e;d=e[t+372>>2]|0,s=e[d+32>>2]|0}return g=1,H=m,g|0}case 2:{for(g=e[d+4>>2]|0,n=e[d>>2]|0,o=+i[g+16>>2]-+i[n+16>>2],a=+i[g+20>>2]-+i[n+20>>2],l=+i[g+24>>2]-+i[n+24>>2],n=0;;){if(e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,i[m+(n<<2)>>2]=1,u=+i[m+8>>2],p=+i[m+4>>2],h=+i[m>>2],(a*u-l*p)*(a*u-l*p)+(l*h-o*u)*(l*h-o*u)+(o*p-a*h)*(o*p-a*h)>0){if(d=e[t+372>>2]|0,i[d+16+(e[d+32>>2]<<2)>>2]=0,g=(e[t+364>>2]|0)+-1|0,e[t+364>>2]=g,e[d+(e[d+32>>2]<<2)>>2]=e[t+348+(g<<2)>>2],g=e[d+32>>2]|0,e[d+32>>2]=g+1,Jo(t,a*u-l*p,l*h-o*u,o*p-a*h,e[d+(g<<2)>>2]|0),va(t)|0||(d=e[t+372>>2]|0,g=(e[d+32>>2]|0)+-1|0,e[d+32>>2]=g,g=e[d+(g<<2)>>2]|0,d=e[t+364>>2]|0,e[t+364>>2]=d+1,e[t+348+(d<<2)>>2]=g,d=e[t+372>>2]|0,i[d+16+(e[d+32>>2]<<2)>>2]=0,g=(e[t+364>>2]|0)+-1|0,e[t+364>>2]=g,e[d+(e[d+32>>2]<<2)>>2]=e[t+348+(g<<2)>>2],g=e[d+32>>2]|0,e[d+32>>2]=g+1,Jo(t,-(a*u-l*p),-(l*h-o*u),-(o*p-a*h),e[d+(g<<2)>>2]|0),va(t)|0))break;g=e[t+372>>2]|0,d=(e[g+32>>2]|0)+-1|0,e[g+32>>2]=d,d=e[g+(d<<2)>>2]|0,g=e[t+364>>2]|0,e[t+364>>2]=g+1,e[t+348+(g<<2)>>2]=d}if(n=n+1|0,n>>>0>=3)break e}return g=1,H=m,g|0}case 3:{if(g=e[d+4>>2]|0,s=e[d>>2]|0,u=+i[s+16>>2],o=+i[g+16>>2]-u,p=+i[s+20>>2],a=+i[g+20>>2]-p,h=+i[s+24>>2],l=+i[g+24>>2]-h,g=e[d+8>>2]|0,u=+i[g+16>>2]-u,p=+i[g+20>>2]-p,h=+i[g+24>>2]-h,(a*h-l*p)*(a*h-l*p)+(l*u-o*h)*(l*u-o*h)+(o*p-a*u)*(o*p-a*u)>0){if(i[d+28>>2]=0,g=(e[t+364>>2]|0)+-1|0,e[t+364>>2]=g,e[d+12>>2]=e[t+348+(g<<2)>>2],g=e[d+32>>2]|0,e[d+32>>2]=g+1,Jo(t,a*h-l*p,l*u-o*h,o*p-a*u,e[d+(g<<2)>>2]|0),va(t)|0||(d=e[t+372>>2]|0,g=(e[d+32>>2]|0)+-1|0,e[d+32>>2]=g,g=e[d+(g<<2)>>2]|0,d=e[t+364>>2]|0,e[t+364>>2]=d+1,e[t+348+(d<<2)>>2]=g,d=e[t+372>>2]|0,i[d+16+(e[d+32>>2]<<2)>>2]=0,g=(e[t+364>>2]|0)+-1|0,e[t+364>>2]=g,e[d+(e[d+32>>2]<<2)>>2]=e[t+348+(g<<2)>>2],g=e[d+32>>2]|0,e[d+32>>2]=g+1,Jo(t,-(a*h-l*p),-(l*u-o*h),-(o*p-a*u),e[d+(g<<2)>>2]|0),va(t)|0))return g=1,H=m,g|0;g=e[t+372>>2]|0,d=(e[g+32>>2]|0)+-1|0,e[g+32>>2]=d,d=e[g+(d<<2)>>2]|0,g=e[t+364>>2]|0,e[t+364>>2]=g+1,e[t+348+(g<<2)>>2]=d;break e}break}case 4:{if(g=e[d>>2]|0,t=e[d+12>>2]|0,h=+i[t+16>>2],w=+i[g+16>>2]-h,S=+i[t+20>>2],o=+i[g+20>>2]-S,l=+i[t+24>>2],u=+i[g+24>>2]-l,g=e[d+4>>2]|0,a=+i[g+16>>2]-h,p=+i[g+20>>2]-S,C=+i[g+24>>2]-l,g=e[d+8>>2]|0,h=+i[g+16>>2]-h,S=+i[g+20>>2]-S,l=+i[g+24>>2]-l,!(w*p*l+(o*C*h+u*a*S-w*C*S-o*a*l)-u*p*h!=w*p*l+(o*C*h+u*a*S-w*C*S-o*a*l)-u*p*h|w*p*l+(o*C*h+u*a*S-w*C*S-o*a*l)-u*p*h==0))return g=1,H=m,g|0;break}default:}while(!1);return g=0,H=m,g|0}function tu(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;if(C=e[t+9288>>2]|0,!C)return e[t>>2]=5,t=0,t|0;l=e[C+48>>2]|0,l|0&&(e[l+44>>2]=e[C+44>>2]),l=e[C+44>>2]|0,l|0&&(e[l+48>>2]=e[C+48>>2]),(e[t+9288>>2]|0)==(C|0)&&(e[t+9288>>2]=e[C+48>>2]),e[t+9292>>2]=(e[t+9292>>2]|0)+-1,e[C+44>>2]=0,e[C+48>>2]=e[t+9280>>2],l=e[t+9280>>2]|0,l|0&&(e[l+44>>2]=C),e[t+9280>>2]=C,e[t+9284>>2]=(e[t+9284>>2]|0)+1,R[C+55>>0]=0,e[C+20>>2]=n,e[C+24>>2]=s,e[C+28>>2]=o,d=+i[n+16>>2],u=+i[s+16>>2]-d,m=+i[n+20>>2],p=+i[s+20>>2]-m,g=+i[n+24>>2],h=+i[s+24>>2]-g,d=+i[o+16>>2]-d,m=+i[o+20>>2]-m,g=+i[o+24>>2]-g,i[C>>2]=p*g-h*m,i[C+4>>2]=h*d-u*g,i[C+8>>2]=u*m-p*d,i[C+12>>2]=0,S=+ot(+((p*g-h*m)*(p*g-h*m)+(h*d-u*g)*(h*d-u*g)+(u*m-p*d)*(u*m-p*d)));do if(S>9999999747378752e-20){if(!(sh(p*g-h*m,h*d-u*g,u*m-p*d,+i[n+16>>2],+i[n+20>>2],+i[n+24>>2],+i[s+16>>2],+i[s+20>>2],+i[s+24>>2],C+16|0)|0)&&!(sh(+i[C>>2],+i[C+4>>2],+i[C+8>>2],+i[s+16>>2],+i[s+20>>2],+i[s+24>>2],+i[o+16>>2],+i[o+20>>2],+i[o+24>>2],C+16|0)|0)&&!(sh(+i[C>>2],+i[C+4>>2],+i[C+8>>2],+i[o+16>>2],+i[o+20>>2],+i[o+24>>2],+i[n+16>>2],+i[n+20>>2],+i[n+24>>2],C+16|0)|0)&&(i[C+16>>2]=(+i[n+16>>2]*+i[C>>2]+ +i[n+20>>2]*+i[C+4>>2]+ +i[n+24>>2]*+i[C+8>>2])/S),i[C>>2]=1/S*+i[C>>2],i[C+4>>2]=1/S*+i[C+4>>2],i[C+8>>2]=1/S*+i[C+8>>2],a||+i[C+16>>2]>=-9999999747378752e-21)return t=C,t|0;e[t>>2]=3;break}else e[t>>2]=2;while(!1);return l=e[C+48>>2]|0,l|0&&(e[l+44>>2]=e[C+44>>2]),l=e[C+44>>2]|0,l|0&&(e[l+48>>2]=e[C+48>>2]),(e[t+9280>>2]|0)==(C|0)&&(e[t+9280>>2]=e[C+48>>2]),e[t+9284>>2]=(e[t+9284>>2]|0)+-1,e[C+44>>2]=0,e[C+48>>2]=e[t+9288>>2],l=e[t+9288>>2]|0,l|0&&(e[l+44>>2]=C),e[t+9288>>2]=C,e[t+9292>>2]=(e[t+9292>>2]|0)+1,t=0,t|0}function sh(t,n,s,o,a,l,u,p,h,d){return t=+t,n=+n,s=+s,o=+o,a=+a,l=+l,u=+u,p=+p,h=+h,d=d|0,((u-o)*n-(p-a)*t)*l+(((p-a)*s-(h-l)*n)*o+((h-l)*t-(u-o)*s)*a)<0?(u-o)*o+(p-a)*a+(h-l)*l>0?(i[d>>2]=+ot(+(o*o+a*a+l*l)),d=1,d|0):(u-o)*u+(p-a)*p+(h-l)*h<0?(i[d>>2]=+ot(+(u*u+p*p+h*h)),d=1,d|0):(s=((u*u+p*p+h*h)*(o*o+a*a+l*l)-(u*o+p*a+h*l)*(u*o+p*a+h*l))/((u-o)*(u-o)+(p-a)*(p-a)+(h-l)*(h-l)),i[d>>2]=+ot(+(s>0?s:0)),d=1,d|0):(d=0,d|0)}function oh(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0;return(It[o+55>>0]|0|0)==(n|0)?(o=0,o|0):(u=e[6876+(a<<2)>>2]|0,+i[o>>2]*+i[s+16>>2]+ +i[o+4>>2]*+i[s+20>>2]+ +i[o+8>>2]*+i[s+24>>2]-+i[o+16>>2]<-9999999747378752e-21?(u=tu(t,e[o+20+(u<<2)>>2]|0,e[o+20+(a<<2)>>2]|0,s,0)|0,u?(R[u+52>>0]=a,e[u+32>>2]=o,R[o+52+a>>0]=0,e[o+32+(a<<2)>>2]=u,a=e[l>>2]|0,a?(R[a+53>>0]=2,e[a+36>>2]=u,R[u+54>>0]=1,e[u+40>>2]=a):e[l+4>>2]=u,e[l>>2]=u,e[l+8>>2]=(e[l+8>>2]|0)+1,o=1,o|0):(o=0,o|0)):(a=e[6888+(a<<2)>>2]|0,R[o+55>>0]=n,!(oh(t,n,s,e[o+32+(u<<2)>>2]|0,It[o+52+u>>0]|0,l)|0)||!(oh(t,n,s,e[o+32+(a<<2)>>2]|0,It[o+52+a>>0]|0,l)|0)?(o=0,o|0):(a=e[o+48>>2]|0,a|0&&(e[a+44>>2]=e[o+44>>2]),a=e[o+44>>2]|0,a|0&&(e[a+48>>2]=e[o+48>>2]),(e[t+9280>>2]|0)==(o|0)&&(e[t+9280>>2]=e[o+48>>2]),e[t+9284>>2]=(e[t+9284>>2]|0)+-1,e[o+44>>2]=0,e[o+48>>2]=e[t+9288>>2],a=e[t+9288>>2]|0,a|0&&(e[a+44>>2]=o),e[t+9288>>2]=o,e[t+9292>>2]=(e[t+9292>>2]|0)+1,o=1,o|0)))}function fK(t){t=t|0}function _K(t){t=t|0,ye(t)}function pK(t,n,s,o,a,l,u,p,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0;var m=0,g=0;return d=H,H=H+80|0,g=+i[l+52>>2]-+i[a+52>>2],m=+i[l+56>>2]-+i[a+56>>2],i[d+56>>2]=+i[l+48>>2]-+i[a+48>>2],i[d+56+4>>2]=g,i[d+56+8>>2]=m,i[d+56+12>>2]=0,uK(s,a,o,l,d+56|0,d,1)|0?(e[p>>2]=e[d+4>>2],e[p+4>>2]=e[d+4+4>>2],e[p+8>>2]=e[d+4+8>>2],e[p+12>>2]=e[d+4+12>>2],e[h>>2]=e[d+20>>2],e[h+4>>2]=e[d+20+4>>2],e[h+8>>2]=e[d+20+8>>2],e[h+12>>2]=e[d+20+12>>2],e[u>>2]=e[d+36>>2],e[u+4>>2]=e[d+36+4>>2],e[u+8>>2]=e[d+36+8>>2],e[u+12>>2]=e[d+36+12>>2],h=1,H=d,h|0):lK(s,a,o,l,d+56|0,d)|0?(e[p>>2]=e[d+4>>2],e[p+4>>2]=e[d+4+4>>2],e[p+8>>2]=e[d+4+8>>2],e[p+12>>2]=e[d+4+12>>2],e[h>>2]=e[d+20>>2],e[h+4>>2]=e[d+20+4>>2],e[h+8>>2]=e[d+20+8>>2],e[h+12>>2]=e[d+20+12>>2],e[u>>2]=e[d+36>>2],e[u+4>>2]=e[d+36+4>>2],e[u+8>>2]=e[d+36+8>>2],e[u+12>>2]=e[d+36+12>>2],h=0,H=d,h|0):(h=0,H=d,h|0)}function hK(t){t=t|0,ye(t)}function e1(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0;se=H,H=H+256|0,i[t+56>>2]=0,X=se+240+4|0,ne=se+240+8|0,e[se+240>>2]=0,e[se+240+4>>2]=0,e[se+240+8>>2]=0,e[se+240+12>>2]=0,e[se+176>>2]=e[n>>2],e[se+176+4>>2]=e[n+4>>2],e[se+176+8>>2]=e[n+8>>2],e[se+176+12>>2]=e[n+12>>2],e[se+176+16>>2]=e[n+16>>2],e[se+176+16+4>>2]=e[n+16+4>>2],e[se+176+16+8>>2]=e[n+16+8>>2],e[se+176+16+12>>2]=e[n+16+12>>2],e[se+176+32>>2]=e[n+32>>2],e[se+176+32+4>>2]=e[n+32+4>>2],e[se+176+32+8>>2]=e[n+32+8>>2],e[se+176+32+12>>2]=e[n+32+12>>2],F=se+176+48|0,e[F>>2]=e[n+48>>2],e[F+4>>2]=e[n+48+4>>2],e[F+8>>2]=e[n+48+8>>2],e[F+12>>2]=e[n+48+12>>2],e[se+112>>2]=e[n+64>>2],e[se+112+4>>2]=e[n+64+4>>2],e[se+112+8>>2]=e[n+64+8>>2],e[se+112+12>>2]=e[n+64+12>>2],e[se+112+16>>2]=e[n+80>>2],e[se+112+16+4>>2]=e[n+80+4>>2],e[se+112+16+8>>2]=e[n+80+8>>2],e[se+112+16+12>>2]=e[n+80+12>>2],e[se+112+32>>2]=e[n+96>>2],e[se+112+32+4>>2]=e[n+96+4>>2],e[se+112+32+8>>2]=e[n+96+8>>2],e[se+112+32+12>>2]=e[n+96+12>>2],P=se+112+48|0,e[P>>2]=e[n+112>>2],e[P+4>>2]=e[n+112+4>>2],e[P+8>>2]=e[n+112+8>>2],e[P+12>>2]=e[n+112+12>>2],W=+i[F>>2],te=+i[P>>2],z=se+176+52|0,_e=+i[z>>2],Y=se+112+52|0,pe=+i[Y>>2],$=se+176+56|0,he=+i[$>>2],q=se+112+56|0,me=+i[q>>2],i[F>>2]=W-(W+te)*.5,i[z>>2]=_e-(_e+pe)*.5,i[$>>2]=he-(he+me)*.5,i[P>>2]=te-(W+te)*.5,i[Y>>2]=pe-(_e+pe)*.5,i[q>>2]=me-(he+me)*.5,((e[(e[t+28>>2]|0)+4>>2]|0)+-17|0)>>>0<2?F=((e[(e[t+32>>2]|0)+4>>2]|0)+-17|0)>>>0<2:F=0,D=+i[t+44>>2],E=+i[t+48>>2],e[5046]=(e[5046]|0)+1,P=R[t+52>>0]|0,e[t+64>>2]=0,e[t+4>>2]=0,e[t+8>>2]=1065353216,e[t+12>>2]=0,i[t+16>>2]=0,e[t+68>>2]=0,e[t+60>>2]=-1,w=e[t+24>>2]|0,R[w+312>>0]=0,e[w>>2]=0,R[w+356>>0]=1,e[w+292>>2]=1566444395,e[w+296>>2]=1566444395,e[w+300>>2]=1566444395,i[w+304>>2]=0,e[w+336>>2]=0,e[w+336+4>>2]=0,e[w+336+8>>2]=0,e[w+336+12>>2]=0,R[w+336+16>>0]=0,R[w+332>>0]=R[w+332>>0]&-16,w=0,h=0xde0b6b000000000;do{g=+i[t+4>>2],m=+i[t+8>>2],u=+i[t+12>>2],p=+i[n+4>>2]*-g+ +i[n+20>>2]*-m+ +i[n+36>>2]*-u,d=+i[n+8>>2]*-g+ +i[n+24>>2]*-m+ +i[n+40>>2]*-u,i[se+96>>2]=+i[n>>2]*-g+ +i[n+16>>2]*-m+ +i[n+32>>2]*-u,i[se+96+4>>2]=p,i[se+96+8>>2]=d,i[se+96+12>>2]=0,d=g*+i[n+68>>2]+m*+i[n+84>>2]+u*+i[n+100>>2],p=g*+i[n+72>>2]+m*+i[n+88>>2]+u*+i[n+104>>2],i[se+80>>2]=+i[n+64>>2]*g+ +i[n+80>>2]*m+ +i[n+96>>2]*u,i[se+80+4>>2]=d,i[se+80+8>>2]=p,i[se+80+12>>2]=0,F1(se+64|0,e[t+28>>2]|0,se+96|0),F1(se+48|0,e[t+32>>2]|0,se+80|0),p=+i[se+64>>2],d=+i[se+64+4>>2],u=+i[se+64+8>>2],m=p*+i[se+176>>2]+d*+i[se+176+4>>2]+u*+i[se+176+8>>2]+ +i[se+176+48>>2],g=p*+i[se+176+16>>2]+d*+i[se+176+20>>2]+u*+i[se+176+24>>2]+ +i[z>>2],u=p*+i[se+176+32>>2]+d*+i[se+176+36>>2]+u*+i[se+176+40>>2]+ +i[$>>2],d=+i[se+48>>2],p=+i[se+48+4>>2],M=+i[se+48+8>>2],S=d*+i[se+112>>2]+p*+i[se+112+4>>2]+M*+i[se+112+8>>2]+ +i[se+112+48>>2],C=d*+i[se+112+16>>2]+p*+i[se+112+20>>2]+M*+i[se+112+24>>2]+ +i[Y>>2],M=d*+i[se+112+32>>2]+p*+i[se+112+36>>2]+M*+i[se+112+40>>2]+ +i[q>>2],p=F?0:M,d=F?0:u,M=(F?0:u)-(F?0:M),u=+i[t+4>>2]*(m-S)+ +i[t+8>>2]*(g-C)+ +i[t+12>>2]*M,u>0&&u*u>h*+i[n+128>>2]?(e[t+68>>2]=10,a=0,w=1):oe=7;do if((oe|0)==7){oe=0,b=e[t+24>>2]|0,B=e[b>>2]|0;e:do if((B|0)>0)for(l=+i[b+308>>2],a=0;;){if(L=m-S-+i[b+4+(a<<4)>>2],U=g-C-+i[b+4+(a<<4)+4>>2],G=M-+i[b+4+(a<<4)+8>>2],a=a+1|0,L*L+U*U+G*G<=l){a=1;break e}if((a|0)>=(B|0)){a=0;break}}else a=0;while(!1);if(+i[b+304>>2]==0&&M==+i[b+300>>2]&&g-C==+i[b+296>>2]?m-S==+i[b+292>>2]|a&&(oe=16):oe=15,(oe|0)==15&&(oe=0,a)&&(oe=16),(oe|0)==16){oe=0,e[t+68>>2]=1,a=0,w=1;break}if(l=h-u,l<=h*9999999974752427e-22){e[t+68>>2]=l<=0?2:11,a=0,w=1;break}if(i[b+292>>2]=m-S,i[b+296>>2]=g-C,i[b+300>>2]=M,i[b+304>>2]=0,R[b+356>>0]=1,i[b+4+(B<<4)>>2]=m-S,i[b+4+(B<<4)+4>>2]=g-C,i[b+4+(B<<4)+8>>2]=M,i[b+4+(B<<4)+12>>2]=0,a=e[b>>2]|0,i[b+84+(a<<4)>>2]=m,i[b+84+(a<<4)+4>>2]=g,i[b+84+(a<<4)+8>>2]=d,i[b+84+(a<<4)+12>>2]=0,a=e[b>>2]|0,i[b+164+(a<<4)>>2]=S,i[b+164+(a<<4)+4>>2]=C,i[b+164+(a<<4)+8>>2]=p,i[b+164+(a<<4)+12>>2]=0,e[b>>2]=(e[b>>2]|0)+1,a=e[t+24>>2]|0,B=Gf(a)|0,l=+i[a+276>>2],u=+i[a+280>>2],p=+i[a+284>>2],a=e[a+288>>2]|0,!B){e[t+68>>2]=3,a=0,w=1;break}if(l*l+u*u+p*p<9999999974752427e-22){i[t+4>>2]=l,i[t+8>>2]=u,i[t+12>>2]=p,e[t+16>>2]=a,e[t+68>>2]=6,a=0,w=1;break}if(h-(l*l+u*u+p*p)<=h*11920928955078125e-23){e[t+68>>2]=12,a=0,w=1,h=l*l+u*u+p*p;break}i[t+4>>2]=l,i[t+8>>2]=u,i[t+12>>2]=p,e[t+16>>2]=a,B=e[t+64>>2]|0,e[t+64>>2]=B+1,(B|0)<=1e3?(e[e[t+24>>2]>>2]|0)==4?(e[t+68>>2]=13,a=0,h=l*l+u*u+p*p):(a=1,h=l*l+u*u+p*p):(a=0,h=l*l+u*u+p*p)}while(!1)}while(a);E=P<<24>>24==0?E:0,M=(P<<24>>24==0?D:0)+E;do if(w)if(P=e[t+24>>2]|0,Gf(P)|0,p=+i[P+260>>2],u=+i[P+264>>2],m=+i[P+268>>2],e[se+240>>2]=e[t+4>>2],e[se+240+4>>2]=e[t+4+4>>2],e[se+240+8>>2]=e[t+4+8>>2],e[se+240+12>>2]=e[t+4+12>>2],l=+i[t+4>>2],d=+i[t+8>>2],g=+i[t+12>>2],l*l+d*d+g*g<1e-4&&(e[t+68>>2]=5),l*l+d*d+g*g>14210854715202004e-30){G=1/+ot(+(l*l+d*d+g*g)),i[se+240>>2]=G*+i[se+240>>2],i[X>>2]=G*+i[X>>2],i[ne>>2]=G*+i[ne>>2],U=E/+ot(+h),e[t+60>>2]=1,h=1/G-M,b=1,p=U*l+p,G=U*d+u,U=U*g+m;break}else{e[t+60>>2]=2,h=0,b=0,G=u,U=m;break}else h=0,b=0,p=0,G=0,U=0;while(!1);(e[t+72>>2]|0)!=0&&(e[t+20>>2]|0)!=0&&(e[t+68>>2]|0)!=0?a=M+h<.01:a=0,w=b^1;do if(a|w&&(O=e[t+20>>2]|0,(O|0)!=0)){if(e[5045]=(e[5045]|0)+1,e[t+4>>2]=0,e[t+4+4>>2]=0,e[t+4+8>>2]=0,e[t+4+12>>2]=0,!(Am[e[(e[O>>2]|0)+8>>2]&3](O,e[t+24>>2]|0,e[t+28>>2]|0,e[t+32>>2]|0,se+176|0,se+112|0,t+4|0,se+96|0,se+80|0,o)|0)){if(u=+i[t+4>>2],m=+i[t+8>>2],S=+i[t+12>>2],!(u*u+m*m+S*S>0)){if(b){u=G,l=U;break}H=se;return}if(d=+i[se+80>>2],D=+i[se+96>>2]-d,g=+i[se+80+4>>2],L=+i[se+96+4>>2]-g,C=+i[se+80+8>>2],l=+i[se+96+8>>2]-C,l=+ot(+(D*D+L*L+l*l))-M,l<h|w){e[se+240>>2]=e[t+4>>2],e[se+240+4>>2]=e[t+4+4>>2],e[se+240+8>>2]=e[t+4+8>>2],e[se+240+12>>2]=e[t+4+12>>2],U=+i[se+240>>2],G=+i[X>>2],p=+i[ne>>2],h=1/+ot(+(U*U+G*G+p*p)),i[se+240>>2]=U*h,i[X>>2]=G*h,i[ne>>2]=p*h,e[t+60>>2]=6,h=l,p=E*u+d,u=E*m+g,l=E*S+C;break}if(e[t+60>>2]=5,b){u=G,l=U;break}H=se;return}if(L=+i[se+80>>2],m=+i[se+96>>2],u=+i[se+80+4>>2],g=+i[se+96+4>>2],l=+i[se+80+8>>2],S=+i[se+96+8>>2],(L-m)*(L-m)+(u-g)*(u-g)+(l-S)*(l-S)<=14210854715202004e-30?(C=+i[t+4>>2],D=+i[t+8>>2],M=+i[t+12>>2],d=C*C+D*D+M*M,E=+i[t+16>>2]):(d=(L-m)*(L-m)+(u-g)*(u-g)+(l-S)*(l-S),C=L-m,M=l-S,E=0,D=u-g),!(d>14210854715202004e-30)){if(e[t+60>>2]=9,b){u=G,l=U;break}H=se;return}if(d=1/+ot(+d),m=-+ot(+((m-L)*(m-L)+(g-u)*(g-u)+(S-l)*(S-l))),e[t+60>>2]=3,!(h>m|w)){if(e[t+60>>2]=8,b){u=G,l=U;break}H=se;return}G=M*d,M=D*d,C=C*d,i[se+240>>2]=C,i[X>>2]=M,i[ne>>2]=G,i[se+240+12>>2]=E,h=C*+i[n+4>>2]+M*+i[n+20>>2]+G*+i[n+36>>2],p=C*+i[n+8>>2]+M*+i[n+24>>2]+G*+i[n+40>>2],i[se+64>>2]=+i[n>>2]*C+ +i[n+16>>2]*M+ +i[n+32>>2]*G,i[se+64+4>>2]=h,i[se+64+8>>2]=p,i[se+64+12>>2]=0,p=+i[n+68>>2]*-C+ +i[n+84>>2]*-M+ +i[n+100>>2]*-G,h=+i[n+72>>2]*-C+ +i[n+88>>2]*-M+ +i[n+104>>2]*-G,i[se+48>>2]=+i[n+64>>2]*-C+ +i[n+80>>2]*-M+ +i[n+96>>2]*-G,i[se+48+4>>2]=p,i[se+48+8>>2]=h,i[se+48+12>>2]=0,F1(se+32|0,e[t+28>>2]|0,se+64|0),F1(se+16|0,e[t+32>>2]|0,se+48|0),h=+i[se+32>>2],p=+i[se+32+4>>2],G=+i[se+32+8>>2],M=+i[se+16>>2],C=+i[se+16+4>>2],S=+i[se+16+8>>2],U=+i[se+240>>2],D=+i[X>>2],E=+i[ne>>2],S=-((h*+i[se+176+16>>2]+p*+i[se+176+20>>2]+G*+i[se+176+24>>2]+ +i[z>>2]-(M*+i[se+112+16>>2]+C*+i[se+112+20>>2]+S*+i[se+112+24>>2]+ +i[Y>>2]))*D)-(h*+i[se+176>>2]+p*+i[se+176+4>>2]+G*+i[se+176+8>>2]+ +i[se+176+48>>2]-(M*+i[se+112>>2]+C*+i[se+112+4>>2]+S*+i[se+112+8>>2]+ +i[se+112+48>>2]))*U-(h*+i[se+176+32>>2]+p*+i[se+176+36>>2]+G*+i[se+176+40>>2]+ +i[$>>2]-(M*+i[se+112+32>>2]+C*+i[se+112+36>>2]+S*+i[se+112+40>>2]+ +i[q>>2]))*E,C=+i[n+4>>2]*-U+ +i[n+20>>2]*-D+ +i[n+36>>2]*-E,M=+i[n+8>>2]*-U+ +i[n+24>>2]*-D+ +i[n+40>>2]*-E,i[se+64>>2]=+i[n>>2]*-U+ +i[n+16>>2]*-D+ +i[n+32>>2]*-E,i[se+64+4>>2]=C,i[se+64+8>>2]=M,i[se+64+12>>2]=0,M=U*+i[n+68>>2]+D*+i[n+84>>2]+E*+i[n+100>>2],C=U*+i[n+72>>2]+D*+i[n+88>>2]+E*+i[n+104>>2],i[se+48>>2]=+i[n+64>>2]*U+ +i[n+80>>2]*D+ +i[n+96>>2]*E,i[se+48+4>>2]=M,i[se+48+8>>2]=C,i[se+48+12>>2]=0,F1(se+32|0,e[t+28>>2]|0,se+64|0),F1(se+16|0,e[t+32>>2]|0,se+48|0),C=+i[se+32>>2],M=+i[se+32+4>>2],E=+i[se+32+8>>2],D=+i[se+16>>2],U=+i[se+16+4>>2],G=+i[se+16+8>>2],p=+i[se+240>>2],h=+i[X>>2],d=+i[ne>>2],S>(C*+i[se+176>>2]+M*+i[se+176+4>>2]+E*+i[se+176+8>>2]+ +i[se+176+48>>2]-(D*+i[se+112>>2]+U*+i[se+112+4>>2]+G*+i[se+112+8>>2]+ +i[se+112+48>>2]))*p+(C*+i[se+176+16>>2]+M*+i[se+176+20>>2]+E*+i[se+176+24>>2]+ +i[z>>2]-(D*+i[se+112+16>>2]+U*+i[se+112+20>>2]+G*+i[se+112+24>>2]+ +i[Y>>2]))*h+(C*+i[se+176+32>>2]+M*+i[se+176+36>>2]+E*+i[se+176+40>>2]+ +i[$>>2]-(D*+i[se+112+32>>2]+U*+i[se+112+36>>2]+G*+i[se+112+40>>2]+ +i[q>>2]))*d&&(e[t+60>>2]=10,i[se+240>>2]=-p,i[X>>2]=-h,i[ne>>2]=-d),h=m,p=L}else oe=56;while(!1);if((oe|0)==56)if(b)u=G,l=U;else{H=se;return}if(!(h<0)&&!(h*h<+i[n+128>>2])){H=se;return}e[t+4>>2]=e[se+240>>2],e[t+4+4>>2]=e[se+240+4>>2],e[t+4+8>>2]=e[se+240+8>>2],e[t+4+12>>2]=e[se+240+12>>2],i[t+56>>2]=h,oe=e[(e[s>>2]|0)+16>>2]|0,i[se>>2]=(W+te)*.5+p,i[se+4>>2]=(_e+pe)*.5+u,i[se+8>>2]=(he+me)*.5+l,i[se+12>>2]=0,N2[oe&15](s,se+240|0,se,h),H=se}function dK(t){t=t|0,ye(t)}function mK(t,n,s,o,a,l,u,p,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0;var m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0;P=H,H=H+4224|0,((e[s+4>>2]|0)+-17|0)>>>0<2?F=((e[o+4>>2]|0)+-17|0)>>>0<2:F=0,t=0;do Of(),w=+i[20188+(t<<4)>>2],M=+i[20188+(t<<4)+4>>2],E=+i[20188+(t<<4)+8>>2],B=+i[a+4>>2]*-w+ +i[a+20>>2]*-M+ +i[a+36>>2]*-E,D=+i[a+8>>2]*-w+ +i[a+24>>2]*-M+ +i[a+40>>2]*-E,i[P+1248+(t<<4)>>2]=+i[a>>2]*-w+ +i[a+16>>2]*-M+ +i[a+32>>2]*-E,i[P+1248+(t<<4)+4>>2]=B,i[P+1248+(t<<4)+8>>2]=D,i[P+1248+(t<<4)+12>>2]=0,D=w*+i[l+4>>2]+M*+i[l+20>>2]+E*+i[l+36>>2],B=w*+i[l+8>>2]+M*+i[l+24>>2]+E*+i[l+40>>2],i[P+256+(t<<4)>>2]=w*+i[l>>2]+M*+i[l+16>>2]+E*+i[l+32>>2],i[P+256+(t<<4)+4>>2]=D,i[P+256+(t<<4)+8>>2]=B,i[P+256+(t<<4)+12>>2]=0,t=t+1|0;while((t|0)!=42);if(t=Tt[e[(e[s>>2]|0)+84>>2]&127](s)|0,(t|0)>0){for(g=0,S=42;f0[e[(e[s>>2]|0)+88>>2]&127](s,g,P+176|0),D=+i[P+176>>2],B=+i[P+176+4>>2],E=+i[P+176+8>>2],M=D*+i[a+16>>2]+B*+i[a+20>>2]+E*+i[a+24>>2],w=D*+i[a+32>>2]+B*+i[a+36>>2]+E*+i[a+40>>2],i[P+176>>2]=+i[a>>2]*D+ +i[a+4>>2]*B+ +i[a+8>>2]*E,i[P+176+4>>2]=M,i[P+176+8>>2]=w,i[P+176+12>>2]=0,Of(),L=20188+(S<<4)|0,e[L>>2]=e[P+176>>2],e[L+4>>2]=e[P+176+4>>2],e[L+8>>2]=e[P+176+8>>2],e[L+12>>2]=e[P+176+12>>2],w=+i[P+176>>2],M=+i[P+176+4>>2],E=+i[P+176+8>>2],B=+i[a+4>>2]*-w+ +i[a+20>>2]*-M+ +i[a+36>>2]*-E,D=+i[a+8>>2]*-w+ +i[a+24>>2]*-M+ +i[a+40>>2]*-E,i[P+1248+(S<<4)>>2]=+i[a>>2]*-w+ +i[a+16>>2]*-M+ +i[a+32>>2]*-E,i[P+1248+(S<<4)+4>>2]=B,i[P+1248+(S<<4)+8>>2]=D,i[P+1248+(S<<4)+12>>2]=0,D=w*+i[l+4>>2]+M*+i[l+20>>2]+E*+i[l+36>>2],B=w*+i[l+8>>2]+M*+i[l+24>>2]+E*+i[l+40>>2],i[P+256+(S<<4)>>2]=+i[l>>2]*w+ +i[l+16>>2]*M+ +i[l+32>>2]*E,i[P+256+(S<<4)+4>>2]=D,i[P+256+(S<<4)+8>>2]=B,i[P+256+(S<<4)+12>>2]=0,g=g+1|0,(g|0)!=(t|0);)S=S+1|0;S=t+42|0}else S=42;if(t=Tt[e[(e[o>>2]|0)+84>>2]&127](o)|0,(t|0)>0){for(g=0,C=S;f0[e[(e[o>>2]|0)+88>>2]&127](o,g,P+176|0),D=+i[P+176>>2],B=+i[P+176+4>>2],E=+i[P+176+8>>2],M=D*+i[l+16>>2]+B*+i[l+20>>2]+E*+i[l+24>>2],w=D*+i[l+32>>2]+B*+i[l+36>>2]+E*+i[l+40>>2],i[P+176>>2]=+i[l>>2]*D+ +i[l+4>>2]*B+ +i[l+8>>2]*E,i[P+176+4>>2]=M,i[P+176+8>>2]=w,i[P+176+12>>2]=0,Of(),L=20188+(C<<4)|0,e[L>>2]=e[P+176>>2],e[L+4>>2]=e[P+176+4>>2],e[L+8>>2]=e[P+176+8>>2],e[L+12>>2]=e[P+176+12>>2],w=+i[P+176>>2],M=+i[P+176+4>>2],E=+i[P+176+8>>2],B=+i[a+4>>2]*-w+ +i[a+20>>2]*-M+ +i[a+36>>2]*-E,D=+i[a+8>>2]*-w+ +i[a+24>>2]*-M+ +i[a+40>>2]*-E,i[P+1248+(C<<4)>>2]=+i[a>>2]*-w+ +i[a+16>>2]*-M+ +i[a+32>>2]*-E,i[P+1248+(C<<4)+4>>2]=B,i[P+1248+(C<<4)+8>>2]=D,i[P+1248+(C<<4)+12>>2]=0,D=w*+i[l+4>>2]+M*+i[l+20>>2]+E*+i[l+36>>2],B=w*+i[l+8>>2]+M*+i[l+24>>2]+E*+i[l+40>>2],i[P+256+(C<<4)>>2]=+i[l>>2]*w+ +i[l+16>>2]*M+ +i[l+32>>2]*E,i[P+256+(C<<4)+4>>2]=D,i[P+256+(C<<4)+8>>2]=B,i[P+256+(C<<4)+12>>2]=0,g=g+1|0,(g|0)!=(t|0);)C=C+1|0;S=t+S|0}if(Kt[e[(e[s>>2]|0)+76>>2]&127](s,P+1248|0,P+3232|0,S),Kt[e[(e[o>>2]|0)+76>>2]&127](o,P+256|0,P+2240|0,S),(S|0)>0)for(L=0,t=0,g=0,C=0,D=0,M=0xde0b6b000000000;;)if(Of(),m=+i[20188+(L<<4)>>2],w=+i[20188+(L<<4)+4>>2],B=+i[20188+(L<<4)+12>>2],E=F?0:+i[20188+(L<<4)+8>>2],m*m+w*w+E*E>.01&&(G=+i[P+3232+(L<<4)>>2],U=+i[P+3232+(L<<4)+4>>2],b=+i[P+3232+(L<<4)+8>>2],Y=+i[P+2240+(L<<4)>>2],z=+i[P+2240+(L<<4)+4>>2],O=+i[P+2240+(L<<4)+8>>2],b=m*(Y*+i[l>>2]+z*+i[l+4>>2]+O*+i[l+8>>2]+ +i[l+48>>2]-(G*+i[a>>2]+U*+i[a+4>>2]+b*+i[a+8>>2]+ +i[a+48>>2]))+w*(Y*+i[l+16>>2]+z*+i[l+20>>2]+O*+i[l+24>>2]+ +i[l+52>>2]-(G*+i[a+16>>2]+U*+i[a+20>>2]+b*+i[a+24>>2]+ +i[a+52>>2]))+E*((F?0:Y*+i[l+32>>2]+z*+i[l+36>>2]+O*+i[l+40>>2]+ +i[l+56>>2])-(F?0:G*+i[a+32>>2]+U*+i[a+36>>2]+b*+i[a+40>>2]+ +i[a+56>>2])),b<M)?(t=(i[Z>>2]=m,e[Z>>2]|0),g=(i[Z>>2]=w,e[Z>>2]|0),C=(i[Z>>2]=E,e[Z>>2]|0),M=b):B=D,L=L+1|0,(L|0)==(S|0)){L=t,S=C;break}else D=B;else L=0,g=0,S=0,B=0,M=0xde0b6b000000000;switch(e[s+4>>2]|0){case 4:case 5:case 10:case 11:case 13:case 1:case 0:case 8:break;default:+Ct[e[(e[s>>2]|0)+48>>2]&15](s)}switch(E=(e[Z>>2]=L,+i[Z>>2]),D=(e[Z>>2]=g,+i[Z>>2]),b=(e[Z>>2]=S,+i[Z>>2]),e[o+4>>2]|0){case 4:case 5:case 10:case 11:case 13:case 1:case 0:case 8:break;default:+Ct[e[(e[o>>2]|0)+48>>2]&15](o)}if(M<0)return u=0,H=P,u|0;switch(e[s+4>>2]|0){case 8:{m=+i[s+32>>2]*+i[s+16>>2];break}case 0:{m=+i[s+48>>2];break}case 1:{m=+i[s+48>>2];break}case 13:{m=+i[s+48>>2];break}case 11:{m=+i[s+48>>2];break}case 10:{m=+i[s+48>>2];break}case 4:case 5:{m=+i[s+48>>2];break}default:m=+Ct[e[(e[s>>2]|0)+48>>2]&15](s)}switch(t=e[o+4>>2]|0,t|0){case 8:{w=+i[o+32>>2]*+i[o+16>>2],t=8;break}case 0:{w=+i[o+48>>2],t=0;break}case 1:{w=+i[o+48>>2],t=1;break}case 13:{w=+i[o+48>>2],t=13;break}case 11:{w=+i[o+48>>2],t=11;break}case 10:{w=+i[o+48>>2],t=10;break}case 4:case 5:{w=+i[o+48>>2];break}default:w=+Ct[e[(e[o>>2]|0)+48>>2]&15](o),t=e[o+4>>2]|0}return m=M+(m+w+.5),e[P+176>>2]=6928,e[P+176+4>>2]=0,e[P+176+8>>2]=1065353216,e[P+176+12>>2]=0,i[P+176+16>>2]=0,e[P+176+20>>2]=0,e[P+176+24>>2]=n,e[P+176+28>>2]=s,e[P+176+32>>2]=o,e[P+176+36>>2]=e[s+4>>2],e[P+176+40>>2]=t,i[P+176+44>>2]=+Ct[e[(e[s>>2]|0)+48>>2]&15](s),i[P+176+48>>2]=+Ct[e[(e[o>>2]|0)+48>>2]&15](o),R[P+176+52>>0]=0,e[P+176+60>>2]=-1,e[P+176+72>>2]=1,e[P+176+76>>2]=1,O=E*m+ +i[a+48>>2],z=D*m+ +i[a+52>>2],Y=b*m+ +i[a+56>>2],e[P+44>>2]=e[a>>2],e[P+44+4>>2]=e[a+4>>2],e[P+44+8>>2]=e[a+8>>2],e[P+44+12>>2]=e[a+12>>2],e[P+44+16>>2]=e[a+16>>2],e[P+44+16+4>>2]=e[a+16+4>>2],e[P+44+16+8>>2]=e[a+16+8>>2],e[P+44+16+12>>2]=e[a+16+12>>2],e[P+44+32>>2]=e[a+32>>2],e[P+44+32+4>>2]=e[a+32+4>>2],e[P+44+32+8>>2]=e[a+32+8>>2],e[P+44+32+12>>2]=e[a+32+12>>2],i[P+44+48>>2]=O,i[P+44+52>>2]=z,i[P+44+56>>2]=Y,i[P+44+60>>2]=0,e[P+44+64>>2]=e[l>>2],e[P+44+64+4>>2]=e[l+4>>2],e[P+44+64+8>>2]=e[l+8>>2],e[P+44+64+12>>2]=e[l+12>>2],e[P+44+80>>2]=e[l+16>>2],e[P+44+80+4>>2]=e[l+16+4>>2],e[P+44+80+8>>2]=e[l+16+8>>2],e[P+44+80+12>>2]=e[l+16+12>>2],e[P+44+96>>2]=e[l+32>>2],e[P+44+96+4>>2]=e[l+32+4>>2],e[P+44+96+8>>2]=e[l+32+8>>2],e[P+44+96+12>>2]=e[l+32+12>>2],e[P+44+112>>2]=e[l+48>>2],e[P+44+112+4>>2]=e[l+48+4>>2],e[P+44+112+8>>2]=e[l+48+8>>2],e[P+44+112+12>>2]=e[l+48+12>>2],i[P+44+128>>2]=0xde0b6b000000000,e[P>>2]=6968,R[P+40>>0]=0,i[P+176+4>>2]=-E,i[P+176+8>>2]=-D,i[P+176+12>>2]=-b,i[P+176+16>>2]=0,e1(P+176|0,P+44|0,P,d,0),m=m-+i[P+36>>2],t=R[P+40>>0]|0,t<<24>>24&&(z=+i[P+24>>2]-D*m,Y=+i[P+28>>2]-b*m,i[p>>2]=+i[P+20>>2]-E*m,i[p+4>>2]=z,i[p+8>>2]=Y,i[p+12>>2]=0,e[h>>2]=e[P+20>>2],e[h+4>>2]=e[P+20+4>>2],e[h+8>>2]=e[P+20+8>>2],e[h+12>>2]=e[P+20+12>>2],e[u>>2]=L,e[u+4>>2]=g,e[u+8>>2]=S,i[u+12>>2]=B),u=t<<24>>24!=0,H=P,u|0}function Of(){R[19864]|0||(R[19864]=1,e[5047]=0,e[5048]=-2147483648,e[5049]=-1082130432,i[5050]=0,e[5051]=1060716128,e[5052]=-1090087446,e[5053]=-1092290076,i[5054]=0,e[5055]=-1098022214,e[5056]=-1084636126,e[5057]=-1092290076,i[5058]=0,e[5059]=-1083901670,e[5060]=-2147483648,e[5061]=-1092290177,i[5062]=0,e[5063]=-1098022214,e[5064]=1062847522,e[5065]=-1092290043,i[5066]=0,e[5067]=1060716128,e[5068]=1057396202,e[5069]=-1092290076,i[5070]=0,e[5071]=1049461434,e[5072]=-1084636126,e[5073]=1055193605,i[5074]=0,e[5075]=-1086767520,e[5076]=-1090087446,e[5077]=1055193572,i[5078]=0,e[5079]=-1086767520,e[5080]=1057396202,e[5081]=1055193572,i[5082]=0,e[5083]=1049461434,e[5084]=1062847522,e[5085]=1055193572,i[5086]=0,e[5087]=1063581978,e[5088]=0,e[5089]=1055193471,i[5090]=0,e[5091]=-2147483648,e[5092]=0,e[5093]=1065353216,i[5094]=0,e[5095]=1054458864,e[5096]=-1096927567,e[5097]=-1084636042,i[5098]=0,e[5099]=-1104782626,e[5100]=-1090519208,e[5101]=-1084636042,i[5102]=0,e[5103]=1049007812,e[5104]=-1085334679,e[5105]=-1090087228,i[5106]=0,e[5107]=1054458864,e[5108]=1050556081,e[5109]=-1084636042,i[5110]=0,e[5111]=1062847505,e[5112]=-2147483648,e[5113]=-1090087262,i[5114]=0,e[5115]=-1090087362,e[5116]=-2147483648,e[5117]=-1084636076,i[5118]=0,e[5119]=-1087361736,e[5120]=-1090519141,e[5121]=-1090087262,i[5122]=0,e[5123]=-1104782626,e[5124]=1056964440,e[5125]=-1084636042,i[5126]=0,e[5127]=-1087361736,e[5128]=1056964507,e[5129]=-1090087262,i[5130]=0,e[5131]=1049007812,e[5132]=1062148969,e[5133]=-1090087228,i[5134]=0,e[5135]=1064532105,e[5136]=1050556148,e[5137]=0,i[5138]=0,e[5139]=1064532105,e[5140]=-1096927500,e[5141]=0,i[5142]=0,e[5143]=1058437413,e[5144]=-1085334595,e[5145]=0,i[5146]=0,e[5147]=0,e[5148]=-1082130432,e[5149]=0,i[5150]=0,e[5151]=-1089046235,e[5152]=-1085334595,e[5153]=0,i[5154]=0,e[5155]=-1082951543,e[5156]=-1096927500,e[5157]=-2147483648,i[5158]=0,e[5159]=-1082951543,e[5160]=1050556148,e[5161]=-2147483648,i[5162]=0,e[5163]=-1089046235,e[5164]=1062149053,e[5165]=-2147483648,i[5166]=0,e[5167]=-2147483648,e[5168]=1065353216,e[5169]=-2147483648,i[5170]=0,e[5171]=1058437413,e[5172]=1062149053,e[5173]=-2147483648,i[5174]=0,e[5175]=1060121912,e[5176]=-1090519141,e[5177]=1057396386,i[5178]=0,e[5179]=-1098475836,e[5180]=-1085334679,e[5181]=1057396420,i[5182]=0,e[5183]=-1084636143,e[5184]=0,e[5185]=1057396386,i[5186]=0,e[5187]=-1098475836,e[5188]=1062148969,e[5189]=1057396420,i[5190]=0,e[5191]=1060121912,e[5192]=1056964507,e[5193]=1057396386,i[5194]=0,e[5195]=1057396286,e[5196]=0,e[5197]=1062847572,i[5198]=0,e[5199]=1042701022,e[5200]=-1090519208,e[5201]=1062847606,i[5202]=0,e[5203]=-1093024784,e[5204]=-1096927567,e[5205]=1062847606,i[5206]=0,e[5207]=-1093024784,e[5208]=1050556081,e[5209]=1062847606,i[5210]=0,e[5211]=1042701022,e[5212]=1056964440,e[5213]=1062847606,i[5214]=0)}function gK(t){t=t|0,ye(t)}function xK(t,n,s){t=t|0,n=n|0,s=s|0}function yK(t,n,s){t=t|0,n=n|0,s=s|0}function vK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2],e[t+20>>2]=e[s>>2],e[t+20+4>>2]=e[s+4>>2],e[t+20+8>>2]=e[s+8>>2],e[t+20+12>>2]=e[s+12>>2],i[t+36>>2]=o,R[t+40>>0]=1}function g6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0;return s=e[t+748>>2]|0,(s|0)!=4?(e[t+748>>2]=s+1,L=s,B=(L|0)<0,L=B?0:L,t=t+4+(L*184|0)|0,wr(t|0,n|0,184)|0,L|0):(F=+i[n+80>>2],b=+i[t+84>>2],D=b<F?b:F,E=+i[t+268>>2],M=E<D?E:D,w=+i[t+452>>2],B=+i[t+636>>2]<(w<M?w:M),s=B?3:w<M?2:E<D?1:(b<F^1)<<31>>31,F=+i[n>>2],s?(o=+i[t+188>>2],S=+i[n+4>>2],d=+i[t+192>>2],u=+i[n+8>>2],p=+i[t+196>>2],g=+i[t+556>>2],D=+i[t+372>>2],w=+i[t+560>>2],b=+i[t+376>>2],E=+i[t+564>>2],m=+i[t+380>>2],l=(i[Z>>2]=((F-o)*(w-b)-(S-d)*(g-D))*((F-o)*(w-b)-(S-d)*(g-D))+(((S-d)*(E-m)-(u-p)*(w-b))*((S-d)*(E-m)-(u-p)*(w-b))+((u-p)*(g-D)-(F-o)*(E-m))*((u-p)*(g-D)-(F-o)*(E-m))),e[Z>>2]|0),(s|0)==1?(h=+i[t+8>>2],C=+i[t+12>>2],M=w,w=+i[t+4>>2],a=0,L=7):(M=w,L=6)):(o=+i[t+188>>2],d=+i[t+192>>2],p=+i[t+196>>2],S=+i[n+4>>2],u=+i[n+8>>2],g=+i[t+556>>2],D=+i[t+372>>2],M=+i[t+560>>2],b=+i[t+376>>2],E=+i[t+564>>2],m=+i[t+380>>2],l=0,L=6),(L|0)==6&&(w=+i[t+4>>2],h=+i[t+8>>2],z=S-h,C=+i[t+12>>2],G=u-C,U=g-D,O=M-b,P=E-m,a=(i[Z>>2]=((F-w)*O-z*U)*((F-w)*O-z*U)+((z*P-G*O)*(z*P-G*O)+(G*U-(F-w)*P)*(G*U-(F-w)*P)),e[Z>>2]|0),(s|0)==2?(M=D,g=b,s=0,L=8):L=7),(L|0)==7&&(O=F-w,Y=S-h,U=u-C,G=g-o,P=M-d,z=E-p,s=(i[Z>>2]=(O*P-Y*G)*(O*P-Y*G)+((Y*z-U*P)*(Y*z-U*P)+(U*G-O*z)*(U*G-O*z)),e[Z>>2]|0),B?o=0:(M=D,g=b,L=8)),(L|0)==8&&(Y=F-w,U=S-h,O=u-C,z=M-o,G=g-d,o=m-p,o=(Y*G-U*z)*(Y*G-U*z)+((U*o-O*G)*(U*o-O*G)+(O*z-Y*o)*(O*z-Y*o))),Y=+ht((e[Z>>2]=l,+ +i[Z>>2])),O=+ht((e[Z>>2]=a,+ +i[Z>>2])),U=+ht((e[Z>>2]=s,+ +i[Z>>2])),P=+ht(+o),z=Y>-0xde0b6b000000000?Y:-0xde0b6b000000000,G=O>z?O:z,L=P>(U>G?U:G)?3:U>G?2:O>z?1:(Y>-0xde0b6b000000000^1)<<31>>31,B=(L|0)<0,L=B?0:L,t=t+4+(L*184|0)|0,wr(t|0,n|0,184)|0,L|0)}function d2(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;if(o=e[t+748>>2]|0,!((o|0)<=0)){do p=o,o=o+-1|0,S=+i[t+4+(o*184|0)>>2],C=+i[t+4+(o*184|0)+4>>2],a=+i[t+4+(o*184|0)+8>>2],g=S*+i[n>>2]+C*+i[n+4>>2]+a*+i[n+8>>2]+ +i[n+48>>2],d=S*+i[n+16>>2]+C*+i[n+20>>2]+a*+i[n+24>>2]+ +i[n+52>>2],a=S*+i[n+32>>2]+C*+i[n+36>>2]+a*+i[n+40>>2]+ +i[n+56>>2],i[t+4+(o*184|0)+48>>2]=g,i[t+4+(o*184|0)+52>>2]=d,i[t+4+(o*184|0)+56>>2]=a,i[t+4+(o*184|0)+60>>2]=0,C=+i[t+4+(o*184|0)+16>>2],S=+i[t+4+(o*184|0)+20>>2],l=+i[t+4+(o*184|0)+24>>2],m=C*+i[s>>2]+S*+i[s+4>>2]+l*+i[s+8>>2]+ +i[s+48>>2],h=C*+i[s+16>>2]+S*+i[s+20>>2]+l*+i[s+24>>2]+ +i[s+52>>2],l=C*+i[s+32>>2]+S*+i[s+36>>2]+l*+i[s+40>>2]+ +i[s+56>>2],i[t+4+(o*184|0)+32>>2]=m,i[t+4+(o*184|0)+36>>2]=h,i[t+4+(o*184|0)+40>>2]=l,i[t+4+(o*184|0)+44>>2]=0,i[t+4+(o*184|0)+80>>2]=(g-m)*+i[t+4+(o*184|0)+64>>2]+(d-h)*+i[t+4+(o*184|0)+68>>2]+(a-l)*+i[t+4+(o*184|0)+72>>2],u=t+4+(o*184|0)+148|0,e[u>>2]=(e[u>>2]|0)+1;while((p|0)>1);if(o=e[t+748>>2]|0,!((o|0)<=0))for(s=o,u=o;p=u,u=u+-1|0,n=t+4+(u*184|0)|0,a=+i[t+4+(u*184|0)+80>>2],l=+i[t+752>>2],a<=l?(g=+i[t+4+(u*184|0)+32>>2]-(+i[t+4+(u*184|0)+48>>2]-+i[t+4+(u*184|0)+64>>2]*a),S=+i[t+4+(u*184|0)+36>>2]-(+i[t+4+(u*184|0)+52>>2]-a*+i[t+4+(u*184|0)+68>>2]),C=+i[t+4+(u*184|0)+40>>2]-(+i[t+4+(u*184|0)+56>>2]-a*+i[t+4+(u*184|0)+72>>2]),g*g+S*S+C*C>l*l?(o=s+-1|0,(o|0)==(u|0)?o=s:(wr(n|0,t+4+(o*184|0)|0,184)|0,e[t+4+(o*184|0)+112>>2]=0,i[t+4+(o*184|0)+120>>2]=0,R[t+4+(o*184|0)+116>>0]=0,i[t+4+(o*184|0)+124>>2]=0,i[t+4+(o*184|0)+128>>2]=0,e[t+4+(o*184|0)+148>>2]=0,o=e[t+748>>2]|0),o=o+-1|0,e[t+748>>2]=o):o=s):(o=s+-1|0,(o|0)==(u|0)?o=s:(wr(n|0,t+4+(o*184|0)|0,184)|0,e[t+4+(o*184|0)+112>>2]=0,i[t+4+(o*184|0)+120>>2]=0,R[t+4+(o*184|0)+116>>0]=0,i[t+4+(o*184|0)+124>>2]=0,i[t+4+(o*184|0)+128>>2]=0,e[t+4+(o*184|0)+148>>2]=0,o=e[t+748>>2]|0),o=o+-1|0,e[t+748>>2]=o),!((p|0)<=1);)s=o}}function ah(t,n,s,o,a,l,u,p,h,d,m){t=t|0,n=n|0,s=+s,o=+o,a=+a,l=+l,u=+u,p=+p,h=h|0,d=d|0,m=+m;var g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0;return P=+i[t>>2]*l+ +i[t+16>>2]*u+ +i[t+32>>2]*p,L=+i[t+4>>2]*l+ +i[t+20>>2]*u+ +i[t+36>>2]*p,b=+i[t+8>>2]*l+ +i[t+24>>2]*u+ +i[t+40>>2]*p,D=+i[n>>2]*l+ +i[n+16>>2]*u+ +i[n+32>>2]*p,M=+i[n+4>>2]*l+ +i[n+20>>2]*u+ +i[n+36>>2]*p,C=+i[n+8>>2]*l+ +i[n+24>>2]*u+ +i[n+40>>2]*p,F=+i[h+80>>2],B=+i[h+84>>2],w=+i[h+88>>2],E=+i[d+80>>2],g=+i[d+84>>2],S=+i[d+88>>2],w=P*(P<0?-F:F)+L*(L<0?-B:B)+b*(b<0?-w:w),S=D*(D<0?-E:E)+M*(M<0?-g:g)+C*(C<0?-S:S),C=+i[h+96>>2],g=+i[d+96>>2],g=(w>C?w:C)+(S>g?S:g),!((s*l+o*u+a*p+g<g-(s*l+o*u+a*p)?s*l+o*u+a*p+g:g-(s*l+o*u+a*p))>m)|0}function x6(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=+l,u=u|0;var p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0,ke=0,Ae=0;if(Te=H,H=H+64|0,R[Te+32+16>>0]=1,fe=Te+32+12|0,e[fe>>2]=0,e[Te+32+4>>2]=0,e[Te+32+8>>2]=0,S=e[o+4>>2]|0,(S|0)>0){if(e[5637]=(e[5637]|0)+1,p=Xe((S<<4|3)+16|0)|0,p?(e[(p+4+15&-16)+-4>>2]=p,m=p+4+15&-16):m=0,p=e[Te+32+4>>2]|0,(p|0)>0){h=0;do de=m+(h<<4)|0,ve=(e[fe>>2]|0)+(h<<4)|0,e[de>>2]=e[ve>>2],e[de+4>>2]=e[ve+4>>2],e[de+8>>2]=e[ve+8>>2],e[de+12>>2]=e[ve+12>>2],h=h+1|0;while((h|0)!=(p|0))}p=e[fe>>2]|0,p|0&&(R[Te+32+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[p+-4>>2]|0)),e[fe>>2]=0),R[Te+32+16>>0]=1,e[fe>>2]=m,e[Te+32+8>>2]=S}if(p=e[n+28>>2]|0,(p|0)>0){for(ve=e[n+36>>2]|0,P=+i[s>>2],U=+i[s+4>>2],z=+i[s+8>>2],Y=+i[s+16>>2],$=+i[s+20>>2],w=+i[s+24>>2],C=+i[s+32>>2],g=+i[s+36>>2],d=+i[s+40>>2],M=+i[t>>2],E=+i[t+4>>2],D=+i[t+8>>2],de=-1,F=34028234663852886e22,m=0;b=+i[ve+(m*36|0)+20>>2],B=+i[ve+(m*36|0)+24>>2],L=+i[ve+(m*36|0)+28>>2],h=(b*P+B*U+L*z)*M+(b*Y+B*$+L*w)*E+(b*C+B*g+L*d)*D<F,de=h?m:de,m=m+1|0,(m|0)!=(p|0);)F=h?(b*P+B*U+L*z)*M+(b*Y+B*$+L*w)*E+(b*C+B*g+L*d)*D:F;if((de|0)>=0){if(te=e[ve+(de*36|0)+4>>2]|0,(te|0)>0)for(_e=ve+(de*36|0)+12|0,pe=ve+(de*36|0)+20|0,he=ve+(de*36|0)+24|0,me=ve+(de*36|0)+28|0,M=P,B=U,b=z,D=Y,E=$,W=0,ne=o,o=Te+32|0;;){if(X=e[_e>>2]|0,p=e[X+(W<<2)>>2]|0,q=e[n+16>>2]|0,W=W+1|0,X=e[X+(((W|0)==(te|0)?0:W)<<2)>>2]|0,Ne=+i[q+(p<<4)>>2],Se=Ne-+i[q+(X<<4)>>2],we=+i[q+(p<<4)+4>>2],ge=we-+i[q+(X<<4)+4>>2],L=+i[q+(p<<4)+8>>2],U=L-+i[q+(X<<4)+8>>2],F=Se*M+ge*B+U*b,P=Se*D+ge*E+U*w,U=Se*C+ge*g+U*d,ge=+i[pe>>2],Se=+i[he>>2],$=+i[me>>2],z=M*ge+B*Se+b*$,Y=D*ge+E*Se+w*$,$=C*ge+g*Se+d*$,E=(Ne*M+we*B+L*b+ +i[s+48>>2])*-(P*$-U*Y)+(Ne*D+we*E+L*w+ +i[s+52>>2])*-(U*z-F*$)+(Ne*C+we*g+L*d+ +i[s+56>>2])*-(F*Y-P*z),X=ne,q=o,p=e[X+4>>2]|0,(p|0)>=2){for(m=e[X+12>>2]|0,g=+i[m+(p+-1<<4)>>2],C=+i[m+(p+-1<<4)+4>>2],w=+i[m+(p+-1<<4)+8>>2],d=g*-(P*$-U*Y)+C*-(U*z-F*$)+w*-(F*Y-P*z)-E,O=0;;){D=+i[m+(O<<4)>>2],b=+i[m+(O<<4)+4>>2],B=+i[m+(O<<4)+8>>2],G=e[m+(O<<4)+12>>2]|0,L=D*-(P*$-U*Y)+b*-(U*z-F*$)+B*-(F*Y-P*z)-E;do if(d<0)if(L<0){if(h=e[q+4>>2]|0,(h|0)==(e[q+8>>2]|0)&&(se=h|0?h<<1:1,(h|0)<(se|0))){if(se?(e[5637]=(e[5637]|0)+1,h=Xe((se<<4|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,S=h,h=e[q+4>>2]|0):S=0,(h|0)>0){m=0;do ke=S+(m<<4)|0,Ae=(e[q+12>>2]|0)+(m<<4)|0,e[ke>>2]=e[Ae>>2],e[ke+4>>2]=e[Ae+4>>2],e[ke+8>>2]=e[Ae+8>>2],e[ke+12>>2]=e[Ae+12>>2],m=m+1|0;while((m|0)!=(h|0))}h=e[q+12>>2]|0,h|0&&(R[q+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),e[q+12>>2]=0),R[q+16>>0]=1,e[q+12>>2]=S,e[q+8>>2]=se,h=e[q+4>>2]|0}Ae=e[q+12>>2]|0,i[Ae+(h<<4)>>2]=D,i[Ae+(h<<4)+4>>2]=b,i[Ae+(h<<4)+8>>2]=B,e[Ae+(h<<4)+12>>2]=G,e[q+4>>2]=(e[q+4>>2]|0)+1;break}else{if(d=d/(d-L),M=g+(D-g)*d,g=C+(b-C)*d,d=w+(B-w)*d,h=e[q+4>>2]|0,(h|0)==(e[q+8>>2]|0)&&(oe=h|0?h<<1:1,(h|0)<(oe|0))){if(oe?(e[5637]=(e[5637]|0)+1,h=Xe((oe<<4|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,S=h,h=e[q+4>>2]|0):S=0,(h|0)>0){m=0;do Ae=S+(m<<4)|0,ke=(e[q+12>>2]|0)+(m<<4)|0,e[Ae>>2]=e[ke>>2],e[Ae+4>>2]=e[ke+4>>2],e[Ae+8>>2]=e[ke+8>>2],e[Ae+12>>2]=e[ke+12>>2],m=m+1|0;while((m|0)!=(h|0))}h=e[q+12>>2]|0,h|0&&(R[q+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),e[q+12>>2]=0),R[q+16>>0]=1,e[q+12>>2]=S,e[q+8>>2]=oe,h=e[q+4>>2]|0}Ae=e[q+12>>2]|0,i[Ae+(h<<4)>>2]=M,i[Ae+(h<<4)+4>>2]=g,i[Ae+(h<<4)+8>>2]=d,i[Ae+(h<<4)+12>>2]=0,e[q+4>>2]=(e[q+4>>2]|0)+1;break}else if(L<0){if(d=d/(d-L),M=g+(D-g)*d,g=C+(b-C)*d,d=w+(B-w)*d,h=e[q+4>>2]|0,(h|0)==(e[q+8>>2]|0)&&(ae=h|0?h<<1:1,(h|0)<(ae|0))){if(ae?(e[5637]=(e[5637]|0)+1,h=Xe((ae<<4|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,S=h,h=e[q+4>>2]|0):S=0,(h|0)>0){m=0;do Ae=S+(m<<4)|0,ke=(e[q+12>>2]|0)+(m<<4)|0,e[Ae>>2]=e[ke>>2],e[Ae+4>>2]=e[ke+4>>2],e[Ae+8>>2]=e[ke+8>>2],e[Ae+12>>2]=e[ke+12>>2],m=m+1|0;while((m|0)!=(h|0))}h=e[q+12>>2]|0,h|0&&(R[q+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),e[q+12>>2]=0),R[q+16>>0]=1,e[q+12>>2]=S,e[q+8>>2]=ae,h=e[q+4>>2]|0}if(Ae=e[q+12>>2]|0,i[Ae+(h<<4)>>2]=M,i[Ae+(h<<4)+4>>2]=g,i[Ae+(h<<4)+8>>2]=d,i[Ae+(h<<4)+12>>2]=0,h=(e[q+4>>2]|0)+1|0,e[q+4>>2]=h,(h|0)==(e[q+8>>2]|0)&&(xe=h|0?h<<1:1,(h|0)<(xe|0))){if(xe?(e[5637]=(e[5637]|0)+1,h=Xe((xe<<4|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,S=h,h=e[q+4>>2]|0):S=0,(h|0)>0){m=0;do Ae=S+(m<<4)|0,ke=(e[q+12>>2]|0)+(m<<4)|0,e[Ae>>2]=e[ke>>2],e[Ae+4>>2]=e[ke+4>>2],e[Ae+8>>2]=e[ke+8>>2],e[Ae+12>>2]=e[ke+12>>2],m=m+1|0;while((m|0)!=(h|0))}h=e[q+12>>2]|0,h|0&&(R[q+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),e[q+12>>2]=0),R[q+16>>0]=1,e[q+12>>2]=S,e[q+8>>2]=xe,h=e[q+4>>2]|0}Ae=e[q+12>>2]|0,i[Ae+(h<<4)>>2]=D,i[Ae+(h<<4)+4>>2]=b,i[Ae+(h<<4)+8>>2]=B,e[Ae+(h<<4)+12>>2]=G,e[q+4>>2]=(e[q+4>>2]|0)+1}while(!1);if(h=O+1|0,(h|0)==(p|0))break;m=e[X+12>>2]|0,d=L,g=D,w=B,C=b,O=h}p=e[X+4>>2]|0}if((p|0)<0){(e[X+8>>2]|0)<0&&(h=e[X+12>>2]|0,h|0&&(R[X+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),e[X+12>>2]=0),R[X+16>>0]=1,e[X+12>>2]=0,e[X+8>>2]=0);do Ae=(e[X+12>>2]|0)+(p<<4)|0,e[Ae>>2]=e[Te>>2],e[Ae+4>>2]=e[Te+4>>2],e[Ae+8>>2]=e[Te+8>>2],e[Ae+12>>2]=e[Te+12>>2],p=p+1|0;while((p|0)!=0)}if(e[X+4>>2]=0,M=+i[s>>2],B=+i[s+4>>2],b=+i[s+8>>2],D=+i[s+16>>2],E=+i[s+20>>2],w=+i[s+24>>2],C=+i[s+32>>2],g=+i[s+36>>2],d=+i[s+40>>2],(W|0)>=(te|0)){m=pe,h=he,p=me,G=s+48|0,O=s+52|0,S=s+56|0;break}else Ae=o,o=ne,ne=Ae}else m=ve+(de*36|0)+20|0,h=ve+(de*36|0)+24|0,p=ve+(de*36|0)+28|0,G=s+48|0,O=s+52|0,S=s+56|0,M=P,B=U,b=z,D=Y,E=$;if(Ne=+i[m>>2],Se=+i[h>>2],ge=+i[p>>2],M=Ne*M+Se*B+ge*b,w=Ne*D+Se*E+ge*w,C=Ne*C+Se*g+ge*d,g=+i[ve+(de*36|0)+32>>2]-(M*+i[G>>2]+w*+i[O>>2]+C*+i[S>>2]),p=e[o+4>>2]|0,(p|0)>0){m=0;do h=e[o+12>>2]|0,d=g+(M*+i[h+(m<<4)>>2]+w*+i[h+(m<<4)+4>>2]+C*+i[h+(m<<4)+8>>2]),d=d<=a?a:d,d<=l&&(p=h+(m<<4)|0,e[Te+16>>2]=e[p>>2],e[Te+16+4>>2]=e[p+4>>2],e[Te+16+8>>2]=e[p+8>>2],e[Te+16+12>>2]=e[p+12>>2],N2[e[(e[u>>2]|0)+16>>2]&15](u,t,Te+16|0,d),p=e[o+4>>2]|0),m=m+1|0;while((m|0)<(p|0))}}}if(p=e[fe>>2]|0,!p){H=Te;return}R[Te+32+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[p+-4>>2]|0)),e[fe>>2]=0,H=Te}function SK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0;if(X=H,H=H+32|0,p=+i[n+16>>2],a=+i[n>>2],h=+i[n+20>>2],l=+i[n+4>>2],m=+i[n+24>>2],u=+i[n+8>>2],w=+i[n+32>>2],b=+i[n+36>>2],B=+i[n+40>>2],G=(h-l)*(B-u)-(m-u)*(b-l),O=(m-u)*(w-a)-(p-a)*(B-u),z=(p-a)*(b-l)-(h-l)*(w-a),i[X+16>>2]=G,i[X+16+4>>2]=O,i[X+16+8>>2]=z,i[X+16+12>>2]=0,g=+i[t+4>>2],M=+i[t+8>>2],L=+i[t+12>>2],Y=G*g+O*M+z*L-(a*G+l*O+u*z),S=+i[t+20>>2],E=+i[t+24>>2],F=+i[t+28>>2],Y*(G*S+O*E+z*F-(a*G+l*O+u*z))>=0){H=X;return}if($=e[t+36>>2]|0,Y<=0&($&1|0)!=0){H=X;return}if(q=Y/(Y-(G*S+O*E+z*F-(a*G+l*O+u*z))),!(q<+i[t+40>>2])){H=X;return}if(U=(G*G+O*O+z*z)*-9999999747378752e-20,P=a-(S*q+g*(1-q)),D=l-(E*q+M*(1-q)),C=u-(F*q+L*(1-q)),d=p-(S*q+g*(1-q)),h=h-(E*q+M*(1-q)),p=m-(F*q+L*(1-q)),!(z*(P*h-D*d)+(G*(D*p-C*h)+O*(C*d-P*p))>=U)){H=X;return}if(u=w-(S*q+g*(1-q)),l=b-(E*q+M*(1-q)),a=B-(F*q+L*(1-q)),!(z*(d*l-h*u)+(G*(h*a-p*l)+O*(p*u-d*a))>=U)){H=X;return}if(!(z*(D*u-P*l)+(G*(C*l-D*a)+O*(P*a-C*u))>=U)){H=X;return}if(a=1/+ot(+(G*G+O*O+z*z)),i[X+16>>2]=G*a,i[X+16+4>>2]=O*a,i[X+16+8>>2]=z*a,n=e[(e[t>>2]|0)+12>>2]|0,Y<=0&($&2|0)==0){i[X>>2]=-(G*a),i[X+4>>2]=-(O*a),i[X+8>>2]=-(z*a),i[X+12>>2]=0,i[t+40>>2]=+Nh[n&3](t,X,q,s,o),H=X;return}else{i[t+40>>2]=+Nh[n&3](t,X+16|0,q,s,o),H=X;return}}function CK(t){t=t|0,ye(t)}function TK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0;if(h=H,H=H+688|0,e[h+568+8>>2]=0,e[h+568+12>>2]=-1,e[h+568+16>>2]=1065353216,e[h+568+20>>2]=1065353216,e[h+568+24>>2]=1065353216,i[h+568+28>>2]=0,e[h+568+56>>2]=0,e[h+568>>2]=3768,e[h+568+4>>2]=1,e[h+568+60>>2]=e[n>>2],e[h+568+60+4>>2]=e[n+4>>2],e[h+568+60+8>>2]=e[n+8>>2],e[h+568+60+12>>2]=e[n+12>>2],e[h+568+76>>2]=e[n+16>>2],e[h+568+76+4>>2]=e[n+16+4>>2],e[h+568+76+8>>2]=e[n+16+8>>2],e[h+568+76+12>>2]=e[n+16+12>>2],e[h+568+92>>2]=e[n+32>>2],e[h+568+92+4>>2]=e[n+32+4>>2],e[h+568+92+8>>2]=e[n+32+8>>2],e[h+568+92+12>>2]=e[n+32+12>>2],e[h+568+48>>2]=e[t+204>>2],i[h+208+308>>2]=9999999747378752e-20,R[h+208+332>>0]=0,e[h+200>>2]=6908,n=e[t+4>>2]|0,e[h+176>>2]=6816,e[h+176+4>>2]=h+208,e[h+176+8>>2]=h+200,e[h+176+12>>2]=n,e[h+176+16>>2]=h+568,e[h+176+20>>2]=0,e[h>>2]=3316,e[h+168>>2]=0,i[h+164>>2]=1,e[h+172>>2]=e[t+208>>2],Uf(h+176|0,t+8|0,t+72|0,t+136|0,t+136|0,h)|0&&(a=+i[h+132>>2],l=+i[h+136>>2],u=+i[h+140>>2],a*a+l*l+u*u>9999999747378752e-20)&&(p=+i[h+164>>2],p<+i[t+200>>2])&&(d=1/+ot(+(a*a+l*l+u*u)),i[h+132>>2]=a*d,i[h+136>>2]=l*d,i[h+140>>2]=u*d,+Nm[e[(e[t>>2]|0)+12>>2]&3](t,h+132|0,h+148|0,p,s,o)),e[h+568>>2]=6248,s=e[h+568+56>>2]|0,!s){H=h;return}if(Vt[e[e[s>>2]>>2]&255](s),s=e[h+568+56>>2]|0,!s){H=h;return}e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),H=h}function wK(t){t=t|0,ye(t)}function y6(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0;Ke=H,H=H+128|0,ne=e[t+4>>2]|0,R[ne+312>>0]=0,e[ne>>2]=0,R[ne+356>>0]=1,e[ne+292>>2]=1566444395,e[ne+296>>2]=1566444395,e[ne+300>>2]=1566444395,i[ne+304>>2]=0,e[ne+336>>2]=0,e[ne+336+4>>2]=0,e[ne+336+8>>2]=0,e[ne+336+12>>2]=0,R[ne+336+16>>0]=0,R[ne+332>>0]=R[ne+332>>0]&-16,p=+i[n+48>>2],h=+i[n+52>>2],d=+i[n+56>>2],m=+i[o+48>>2],w=+i[o+52>>2],M=+i[o+56>>2],W=+i[n>>2],te=+i[n+4>>2],_e=+i[n+8>>2],pe=+i[n+16>>2],he=+i[n+20>>2],me=+i[n+24>>2],se=+i[n+32>>2],oe=+i[n+36>>2],ae=+i[n+40>>2],xe=+i[o>>2],ve=+i[o+4>>2],de=+i[o+8>>2],fe=+i[o+16>>2],Te=+i[o+20>>2],we=+i[o+24>>2],Ne=+i[o+32>>2],Se=+i[o+36>>2],ge=+i[o+40>>2],Ae=+i[s+48>>2]-p-(+i[a+48>>2]-m),qe=+i[s+52>>2]-h-(+i[a+52>>2]-w),He=+i[s+56>>2]-d-(+i[a+56>>2]-M),ne=e[t+8>>2]|0,U=e[(e[ne>>2]|0)+64>>2]|0,i[Ke+96>>2]=W*-Ae+pe*-qe+se*-He,i[Ke+96+4>>2]=te*-Ae+he*-qe+oe*-He,i[Ke+96+8>>2]=_e*-Ae+me*-qe+ae*-He,i[Ke+96+12>>2]=0,f0[U&127](Ke+112|0,ne,Ke+96|0),q=+i[Ke+112>>2],X=+i[Ke+112+4>>2],$=+i[Ke+112+8>>2],E=q*+i[n>>2]+X*+i[n+4>>2]+$*+i[n+8>>2]+ +i[n+48>>2],F=q*+i[n+16>>2]+X*+i[n+20>>2]+$*+i[n+24>>2]+ +i[n+52>>2],$=q*+i[n+32>>2]+X*+i[n+36>>2]+$*+i[n+40>>2]+ +i[n+56>>2],ne=e[t+12>>2]|0,U=e[(e[ne>>2]|0)+64>>2]|0,X=Ae*+i[o+4>>2]+qe*+i[o+20>>2]+He*+i[o+36>>2],q=Ae*+i[o+8>>2]+qe*+i[o+24>>2]+He*+i[o+40>>2],i[Ke+64>>2]=Ae*+i[o>>2]+qe*+i[o+16>>2]+He*+i[o+32>>2],i[Ke+64+4>>2]=X,i[Ke+64+8>>2]=q,i[Ke+64+12>>2]=0,f0[U&127](Ke+80|0,ne,Ke+64|0),q=+i[Ke+80>>2],X=+i[Ke+80+4>>2],b=+i[Ke+80+8>>2],E=E-(q*+i[o>>2]+X*+i[o+4>>2]+b*+i[o+8>>2]+ +i[o+48>>2]),F=F-(q*+i[o+16>>2]+X*+i[o+20>>2]+b*+i[o+24>>2]+ +i[o+52>>2]),b=$-(q*+i[o+32>>2]+X*+i[o+36>>2]+b*+i[o+40>>2]+ +i[o+56>>2]);e:do if(E*E+F*F+b*b>9999999747378752e-20){for(X=p,p=0,ne=32,S=0,C=0,g=0,u=0,L=0;;){if(!ne)break e;if(ne=ne+-1|0,D=e[t+8>>2]|0,B=e[(e[D>>2]|0)+64>>2]|0,z=-E,Ze=-F,P=-b,i[Ke+32>>2]=W*z+pe*Ze+se*P,i[Ke+32+4>>2]=te*z+he*Ze+oe*P,i[Ke+32+8>>2]=_e*z+me*Ze+ae*P,i[Ke+32+12>>2]=0,f0[B&127](Ke+48|0,D,Ke+32|0),P=+i[Ke+48>>2],Ze=+i[Ke+48+4>>2],z=+i[Ke+48+8>>2],G=X+(W*P+te*Ze+_e*z),O=h+(pe*P+he*Ze+me*z),z=d+(se*P+oe*Ze+ae*z),D=e[t+12>>2]|0,B=e[(e[D>>2]|0)+64>>2]|0,i[Ke>>2]=xe*E+fe*F+Ne*b,i[Ke+4>>2]=ve*E+Te*F+Se*b,i[Ke+8>>2]=de*E+we*F+ge*b,i[Ke+12>>2]=0,f0[B&127](Ke+16|0,D,Ke),Ze=+i[Ke+16>>2],P=+i[Ke+16+4>>2],q=+i[Ke+16+8>>2],Y=m+(xe*Ze+ve*P+de*q),$=w+(fe*Ze+Te*P+we*q),q=M+(Ne*Ze+Se*P+ge*q),P=E*(G-Y)+F*(O-$)+b*(z-q),D=(i[Z>>2]=E,e[Z>>2]|0),B=(i[Z>>2]=F,e[Z>>2]|0),U=(i[Z>>2]=b,e[Z>>2]|0),p>1){u=0,ke=25;break}if(P>0){if(h=Ae*E+qe*F+He*b,h>=-14210854715202004e-30){u=0,ke=25;break}p=p-P/h,P=(1-p)*+i[n+48>>2]+p*+i[s+48>>2],h=(1-p)*+i[n+52>>2]+p*+i[s+52>>2],d=(1-p)*+i[n+56>>2]+p*+i[s+56>>2],m=(1-p)*+i[o+48>>2]+p*+i[a+48>>2],w=(1-p)*+i[o+52>>2]+p*+i[a+52>>2],M=(1-p)*+i[o+56>>2]+p*+i[a+56>>2],S=D,C=L,g=B,u=U}else P=X;B=e[t+4>>2]|0,L=e[B>>2]|0;t:do if((L|0)>0)for(E=+i[B+308>>2],D=0;;){if(F=G-Y-+i[B+4+(D<<4)>>2],X=O-$-+i[B+4+(D<<4)+4>>2],Ze=z-q-+i[B+4+(D<<4)+8>>2],D=D+1|0,F*F+X*X+Ze*Ze<=E){D=1;break t}if((D|0)>=(L|0)){D=0;break}}else D=0;while(!1);if(+i[B+304>>2]==0&&z-q==+i[B+300>>2]&&O-$==+i[B+296>>2]?G-Y==+i[B+292>>2]|D||(ke=17):D||(ke=17),(ke|0)==17&&(ke=0,i[B+292>>2]=G-Y,i[B+296>>2]=O-$,i[B+300>>2]=z-q,i[B+304>>2]=0,R[B+356>>0]=1,i[B+4+(L<<4)>>2]=G-Y,i[B+4+(L<<4)+4>>2]=O-$,i[B+4+(L<<4)+8>>2]=z-q,i[B+4+(L<<4)+12>>2]=0,U=e[B>>2]|0,i[B+84+(U<<4)>>2]=G,i[B+84+(U<<4)+4>>2]=O,i[B+84+(U<<4)+8>>2]=z,i[B+84+(U<<4)+12>>2]=0,U=e[B>>2]|0,i[B+164+(U<<4)>>2]=Y,i[B+164+(U<<4)+4>>2]=$,i[B+164+(U<<4)+8>>2]=q,i[B+164+(U<<4)+12>>2]=0,e[B>>2]=(e[B>>2]|0)+1,B=e[t+4>>2]|0),U=Gf(B)|0,E=+i[B+276>>2],F=+i[B+280>>2],b=+i[B+284>>2],!U)break e;if(E*E+F*F+b*b>9999999747378752e-20)X=P,L=e[B+288>>2]|0;else break e}if((ke|0)==25)return H=Ke,u|0}else p=0,S=0,C=0,g=0,u=0;while(!1);return i[l+164>>2]=p,p=(e[Z>>2]=S,+i[Z>>2]),h=(e[Z>>2]=g,+i[Z>>2]),m=(e[Z>>2]=u,+i[Z>>2]),p*p+h*h+m*m>=14210854715202004e-30?(Ze=1/+ot(+(p*p+h*h+m*m)),i[l+132>>2]=p*Ze,i[l+136>>2]=h*Ze,i[l+140>>2]=m*Ze,e[l+144>>2]=C,d=p*Ze,h=h*Ze,p=m*Ze):(e[l+132>>2]=0,e[l+132+4>>2]=0,e[l+132+8>>2]=0,e[l+132+12>>2]=0,d=0,h=0,p=0),Ae*d+qe*h+He*p>=-+i[l+172>>2]?(t=0,H=Ke,t|0):(t=e[t+4>>2]|0,Gf(t)|0,Xp(l+148|0,t+260|0,16)|0,t=1,H=Ke,t|0)}function Gf(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0;if(X=H,H=H+64|0,!(R[t+356>>0]|0))return t=R[t+312>>0]|0,t=t<<24>>24!=0,H=X,t|0;switch(e[t+336>>2]=0,e[t+336+4>>2]=0,e[t+336+8>>2]=0,e[t+336+12>>2]=0,R[t+336+16>>0]=0,a=R[t+332>>0]|0,R[t+332>>0]=a&-16,R[t+356>>0]=0,e[t>>2]|0){case 0:return R[t+312>>0]=0,t=0,t=t<<24>>24!=0,H=X,t|0;case 1:return e[t+244>>2]=e[t+84>>2],e[t+244+4>>2]=e[t+84+4>>2],e[t+244+8>>2]=e[t+84+8>>2],e[t+244+12>>2]=e[t+84+12>>2],e[t+260>>2]=e[t+164>>2],e[t+260+4>>2]=e[t+164+4>>2],e[t+260+8>>2]=e[t+164+8>>2],e[t+260+12>>2]=e[t+164+12>>2],z=+i[t+248>>2]-+i[t+264>>2],Y=+i[t+252>>2]-+i[t+268>>2],i[t+276>>2]=+i[t+244>>2]-+i[t+260>>2],i[t+280>>2]=z,i[t+284>>2]=Y,i[t+288>>2]=0,e[t+336>>2]=0,e[t+336+4>>2]=0,e[t+336+8>>2]=0,e[t+336+12>>2]=0,R[t+336+16>>0]=0,R[t+332>>0]=a&-16,i[t+336>>2]=1,i[t+340>>2]=0,i[t+344>>2]=0,i[t+348>>2]=0,R[t+312>>0]=1,t=1,t=t<<24>>24!=0,H=X,t|0;case 2:{s=+i[t+4>>2],o=+i[t+8>>2],l=+i[t+12>>2],u=+i[t+20>>2]-s,p=+i[t+24>>2]-o,h=+i[t+28>>2]-l;do if((0-s)*u+(0-o)*p+(0-l)*h>0)if((0-s)*u+(0-o)*p+(0-l)*h<u*u+p*p+h*h){R[t+332>>0]=a&-16|3,a=a&-16|3,o=((0-s)*u+(0-o)*p+(0-l)*h)/(u*u+p*p+h*h);break}else{R[t+332>>0]=a&-16|2,a=a&-16|2,o=1;break}else R[t+332>>0]=a&-16|1,a=a&-16|1,o=0;while(!1);return s=1-o,i[t+336>>2]=s,i[t+340>>2]=o,i[t+344>>2]=0,i[t+348>>2]=0,P=+i[t+84>>2],G=+i[t+88>>2],z=+i[t+92>>2],P=P+o*(+i[t+100>>2]-P),G=G+o*(+i[t+104>>2]-G),z=z+o*(+i[t+108>>2]-z),i[t+244>>2]=P,i[t+248>>2]=G,i[t+252>>2]=z,i[t+256>>2]=0,U=+i[t+164>>2],O=+i[t+168>>2],Y=+i[t+172>>2],U=U+o*(+i[t+180>>2]-U),O=O+o*(+i[t+184>>2]-O),Y=Y+o*(+i[t+188>>2]-Y),i[t+260>>2]=U,i[t+264>>2]=O,i[t+268>>2]=Y,i[t+272>>2]=0,i[t+276>>2]=P-U,i[t+280>>2]=G-O,i[t+284>>2]=z-Y,i[t+288>>2]=0,a&2?n=1:(e[t>>2]=1,n=0),a&1||(e[t>>2]=n,q=t+4+(n<<4)|0,e[t+4>>2]=e[q>>2],e[t+4+4>>2]=e[q+4>>2],e[t+4+8>>2]=e[q+8>>2],e[t+4+12>>2]=e[q+12>>2],q=t+84+(n<<4)|0,e[t+84>>2]=e[q>>2],e[t+84+4>>2]=e[q+4>>2],e[t+84+8>>2]=e[q+8>>2],e[t+84+12>>2]=e[q+12>>2],q=t+164+(n<<4)|0,e[t+164>>2]=e[q>>2],e[t+164+4>>2]=e[q+4>>2],e[t+164+8>>2]=e[q+8>>2],e[t+164+12>>2]=e[q+12>>2]),q=(!(s>=0)|!(o>=0))&1^1,R[t+312>>0]=q,t=q,t=t<<24>>24!=0,H=X,t|0}case 3:{e[X+16>>2]=0,e[X+16+4>>2]=0,e[X+16+8>>2]=0,e[X+16+12>>2]=0,iu(X+16|0,t+4|0,t+20|0,t+36|0,t+316|0),Y=+i[t+336>>2],s=+i[t+340>>2],o=+i[t+344>>2],P=+i[t+84>>2]*Y+ +i[t+100>>2]*s+ +i[t+116>>2]*o,G=Y*+i[t+88>>2]+s*+i[t+104>>2]+o*+i[t+120>>2],z=Y*+i[t+92>>2]+s*+i[t+108>>2]+o*+i[t+124>>2],i[t+244>>2]=P,i[t+248>>2]=G,i[t+252>>2]=z,i[t+256>>2]=0,U=+i[t+164>>2]*Y+ +i[t+180>>2]*s+ +i[t+196>>2]*o,O=Y*+i[t+168>>2]+s*+i[t+184>>2]+o*+i[t+200>>2],Y=Y*+i[t+172>>2]+s*+i[t+188>>2]+o*+i[t+204>>2],i[t+260>>2]=U,i[t+264>>2]=O,i[t+268>>2]=Y,i[t+272>>2]=0,i[t+276>>2]=P-U,i[t+280>>2]=G-O,i[t+284>>2]=z-Y,i[t+288>>2]=0,a=e[t>>2]|0;do if((a|0)>3)n=R[t+332>>0]|0,n&8||(e[t>>2]=a+-1,q=t+4+(a+-1<<4)|0,e[t+52>>2]=e[q>>2],e[t+52+4>>2]=e[q+4>>2],e[t+52+8>>2]=e[q+8>>2],e[t+52+12>>2]=e[q+12>>2],q=t+84+(a+-1<<4)|0,e[t+132>>2]=e[q>>2],e[t+132+4>>2]=e[q+4>>2],e[t+132+8>>2]=e[q+8>>2],e[t+132+12>>2]=e[q+12>>2],q=t+164+(a+-1<<4)|0,e[t+212>>2]=e[q>>2],e[t+212+4>>2]=e[q+4>>2],e[t+212+8>>2]=e[q+8>>2],e[t+212+12>>2]=e[q+12>>2],a=a+-1|0),q=21;else{if((a|0)>2){n=R[t+332>>0]|0,a=3,q=21;break}if((a|0)>1){n=R[t+332>>0]|0,a=2,q=25;break}(a|0)>0&&(m=R[t+332>>0]|0,d=1,q=29)}while(!1);return(q|0)==21&&(n&4||(a=a+-1|0,e[t>>2]=a,e[t+36>>2]=e[t+4+(a<<4)>>2],e[t+36+4>>2]=e[t+4+(a<<4)+4>>2],e[t+36+8>>2]=e[t+4+(a<<4)+8>>2],e[t+36+12>>2]=e[t+4+(a<<4)+12>>2],e[t+116>>2]=e[t+84+(a<<4)>>2],e[t+116+4>>2]=e[t+84+(a<<4)+4>>2],e[t+116+8>>2]=e[t+84+(a<<4)+8>>2],e[t+116+12>>2]=e[t+84+(a<<4)+12>>2],e[t+196>>2]=e[t+164+(a<<4)>>2],e[t+196+4>>2]=e[t+164+(a<<4)+4>>2],e[t+196+8>>2]=e[t+164+(a<<4)+8>>2],e[t+196+12>>2]=e[t+164+(a<<4)+12>>2]),q=25),(q|0)==25&&(n&2?(m=n,d=a,q=29):(d=a+-1|0,e[t>>2]=d,e[t+20>>2]=e[t+4+(d<<4)>>2],e[t+20+4>>2]=e[t+4+(d<<4)+4>>2],e[t+20+8>>2]=e[t+4+(d<<4)+8>>2],e[t+20+12>>2]=e[t+4+(d<<4)+12>>2],e[t+100>>2]=e[t+84+(d<<4)>>2],e[t+100+4>>2]=e[t+84+(d<<4)+4>>2],e[t+100+8>>2]=e[t+84+(d<<4)+8>>2],e[t+100+12>>2]=e[t+84+(d<<4)+12>>2],e[t+180>>2]=e[t+164+(d<<4)>>2],e[t+180+4>>2]=e[t+164+(d<<4)+4>>2],e[t+180+8>>2]=e[t+164+(d<<4)+8>>2],e[t+180+12>>2]=e[t+164+(d<<4)+12>>2],m=n,q=29)),(q|0)==29&&(m&1)==0&&(q=d+-1|0,e[t>>2]=q,e[t+4>>2]=e[t+4+(q<<4)>>2],e[t+4+4>>2]=e[t+4+(q<<4)+4>>2],e[t+4+8>>2]=e[t+4+(q<<4)+8>>2],e[t+4+12>>2]=e[t+4+(q<<4)+12>>2],e[t+84>>2]=e[t+84+(q<<4)>>2],e[t+84+4>>2]=e[t+84+(q<<4)+4>>2],e[t+84+8>>2]=e[t+84+(q<<4)+8>>2],e[t+84+12>>2]=e[t+84+(q<<4)+12>>2],e[t+164>>2]=e[t+164+(q<<4)>>2],e[t+164+4>>2]=e[t+164+(q<<4)+4>>2],e[t+164+8>>2]=e[t+164+(q<<4)+8>>2],e[t+164+12>>2]=e[t+164+(q<<4)+12>>2]),(s>=0?!(+i[t+336>>2]>=0):1)|!(o>=0)?n=0:n=+i[t+348>>2]>=0&1,R[t+312>>0]=n,t=n,t=t<<24>>24!=0,H=X,t|0}case 4:{e[X>>2]=0,e[X+4>>2]=0,e[X+8>>2]=0,e[X+12>>2]=0,S=X+16+16|0,R[S>>0]=0,e[t+316>>2]=0,e[t+316+4>>2]=0,e[t+316+8>>2]=0,e[t+316+12>>2]=0,R[t+332>>0]=a|15,W=+i[t+20>>2],xe=+i[t+4>>2],se=+i[t+24>>2],ne=+i[t+8>>2],_e=+i[t+28>>2],ve=+i[t+12>>2],me=+i[t+36>>2],oe=+i[t+40>>2],pe=+i[t+44>>2],te=+i[t+52>>2],ae=+i[t+56>>2],he=+i[t+60>>2],de=((se-ne)*(pe-ve)-(_e-ve)*(oe-ne))*(te-xe)+((_e-ve)*(me-xe)-(W-xe)*(pe-ve))*(ae-ne)+((W-xe)*(oe-ne)-(se-ne)*(me-xe))*(he-ve),a=de*de<999999905104687e-23?-1:((0-xe)*((se-ne)*(pe-ve)-(_e-ve)*(oe-ne))+(0-ne)*((_e-ve)*(me-xe)-(W-xe)*(pe-ve))+((W-xe)*(oe-ne)-(se-ne)*(me-xe))*(0-ve))*de<0&1,de=(_e-ve)*((me-xe)*(ae-ne)-(oe-ne)*(te-xe))+((W-xe)*((oe-ne)*(he-ve)-(pe-ve)*(ae-ne))+(se-ne)*((pe-ve)*(te-xe)-(me-xe)*(he-ve))),d=de*de<999999905104687e-23?-1:((0-ve)*((me-xe)*(ae-ne)-(oe-ne)*(te-xe))+((0-xe)*((oe-ne)*(he-ve)-(pe-ve)*(ae-ne))+(0-ne)*((pe-ve)*(te-xe)-(me-xe)*(he-ve))))*de<0&1,de=(pe-ve)*((se-ne)*(te-xe)-(W-xe)*(ae-ne))+((me-xe)*((_e-ve)*(ae-ne)-(se-ne)*(he-ve))+(oe-ne)*((W-xe)*(he-ve)-(_e-ve)*(te-xe))),m=de*de<999999905104687e-23?-1:((0-ve)*((se-ne)*(te-xe)-(W-xe)*(ae-ne))+((0-xe)*((_e-ve)*(ae-ne)-(se-ne)*(he-ve))+(0-ne)*((W-xe)*(he-ve)-(_e-ve)*(te-xe))))*de<0&1,ne=(ve-_e)*((oe-se)*(te-W)-(me-W)*(ae-se))+((xe-W)*((pe-_e)*(ae-se)-(oe-se)*(he-_e))+(ne-se)*((me-W)*(he-_e)-(pe-_e)*(te-W))),g=ne*ne<999999905104687e-23?-1:((0-_e)*((oe-se)*(te-W)-(me-W)*(ae-se))+((0-W)*((pe-_e)*(ae-se)-(oe-se)*(he-_e))+(0-se)*((me-W)*(he-_e)-(pe-_e)*(te-W))))*ne<0&1;do if((d|a|m|g|0)<0)R[t+352>>0]=1,n=t+312|0,q=70;else{if(!(d|a|m|g)){if(R[t+352>>0]|0){n=t+312|0,q=70;break}R[t+312>>0]=1,e[t+276>>2]=0,e[t+276+4>>2]=0,e[t+276+8>>2]=0,e[t+276+12>>2]=0,n=1;break}(a|0)!=0&&(iu(X,t+4|0,t+20|0,t+36|0,X+16|0),s=+i[X+16>>2],o=+i[X+16+4>>2],l=+i[X+16+8>>2],u=s-+i[X>>2],p=o-+i[X+4>>2],h=l-+i[X+8>>2],u*u+p*p+h*h<34028234663852886e22)?(fe=e[X+16+12>>2]|0,i[t+316>>2]=s,i[t+320>>2]=o,i[t+324>>2]=l,e[t+328>>2]=fe,fe=R[S>>0]|0,R[t+332>>0]=fe&1|R[t+332>>0]&-16|fe&2|fe&4,fe=e[X+16+24>>2]|0,a=e[X+16+28>>2]|0,e[t+336>>2]=e[X+16+20>>2],e[t+340>>2]=fe,e[t+344>>2]=a,i[t+348>>2]=0,s=u*u+p*p+h*h):s=34028234663852886e22,(d|0)!=0&&(iu(X,t+4|0,t+36|0,t+52|0,X+16|0),C=+i[X+16>>2],w=+i[X+16+4>>2],M=+i[X+16+8>>2],E=C-+i[X>>2],D=w-+i[X+4>>2],b=M-+i[X+8>>2],E*E+D*D+b*b<s)&&(d=e[X+16+12>>2]|0,i[t+316>>2]=C,i[t+320>>2]=w,i[t+324>>2]=M,e[t+328>>2]=d,d=R[S>>0]|0,R[t+332>>0]=d<<1&8|(d&1|R[t+332>>0]&-16|d<<1&4),d=e[X+16+24>>2]|0,fe=e[X+16+28>>2]|0,e[t+336>>2]=e[X+16+20>>2],i[t+340>>2]=0,e[t+344>>2]=d,e[t+348>>2]=fe,s=E*E+D*D+b*b),(m|0)!=0&&(iu(X,t+4|0,t+52|0,t+20|0,X+16|0),B=+i[X+16>>2],L=+i[X+16+4>>2],F=+i[X+16+8>>2],P=B-+i[X>>2],U=L-+i[X+4>>2],G=F-+i[X+8>>2],P*P+U*U+G*G<s)&&(m=e[X+16+12>>2]|0,i[t+316>>2]=B,i[t+320>>2]=L,i[t+324>>2]=F,e[t+328>>2]=m,m=R[S>>0]|0,R[t+332>>0]=m<<2&8|(m&1|R[t+332>>0]&-16|(m&255)>>>1&2),m=e[X+16+28>>2]|0,fe=e[X+16+24>>2]|0,e[t+336>>2]=e[X+16+20>>2],e[t+340>>2]=m,i[t+344>>2]=0,e[t+348>>2]=fe,s=P*P+U*U+G*G),g|0&&(iu(X,t+20|0,t+52|0,t+36|0,X+16|0),O=+i[X+16>>2],z=+i[X+16+4>>2],Y=+i[X+16+8>>2],xe=O-+i[X>>2],ve=z-+i[X+4>>2],de=Y-+i[X+8>>2],xe*xe+ve*ve+de*de<s)&&(g=e[X+16+12>>2]|0,i[t+316>>2]=O,i[t+320>>2]=z,i[t+324>>2]=Y,e[t+328>>2]=g,g=R[S>>0]|0,R[t+332>>0]=g&4|R[t+332>>0]&-16|g<<1&2|g<<2&8,g=e[X+16+20>>2]|0,S=e[X+16+28>>2]|0,fe=e[X+16+24>>2]|0,i[t+336>>2]=0,e[t+340>>2]=g,e[t+344>>2]=S,e[t+348>>2]=fe),he=+i[t+336>>2],me=+i[t+340>>2],de=+i[t+344>>2],s=+i[t+348>>2],se=+i[t+84>>2]*he+ +i[t+100>>2]*me+ +i[t+116>>2]*de+ +i[t+132>>2]*s,ae=he*+i[t+88>>2]+me*+i[t+104>>2]+de*+i[t+120>>2]+s*+i[t+136>>2],ve=he*+i[t+92>>2]+me*+i[t+108>>2]+de*+i[t+124>>2]+s*+i[t+140>>2],i[t+244>>2]=se,i[t+248>>2]=ae,i[t+252>>2]=ve,i[t+256>>2]=0,oe=+i[t+164>>2]*he+ +i[t+180>>2]*me+ +i[t+196>>2]*de+ +i[t+212>>2]*s,xe=he*+i[t+168>>2]+me*+i[t+184>>2]+de*+i[t+200>>2]+s*+i[t+216>>2],de=he*+i[t+172>>2]+me*+i[t+188>>2]+de*+i[t+204>>2]+s*+i[t+220>>2],i[t+260>>2]=oe,i[t+264>>2]=xe,i[t+268>>2]=de,i[t+272>>2]=0,i[t+276>>2]=se-oe,i[t+280>>2]=ae-xe,i[t+284>>2]=ve-de,i[t+288>>2]=0,a=e[t>>2]|0;do if((a|0)>3)n=R[t+332>>0]|0,n&8||(e[t>>2]=a+-1,q=t+4+(a+-1<<4)|0,e[t+52>>2]=e[q>>2],e[t+52+4>>2]=e[q+4>>2],e[t+52+8>>2]=e[q+8>>2],e[t+52+12>>2]=e[q+12>>2],q=t+84+(a+-1<<4)|0,e[t+132>>2]=e[q>>2],e[t+132+4>>2]=e[q+4>>2],e[t+132+8>>2]=e[q+8>>2],e[t+132+12>>2]=e[q+12>>2],q=t+164+(a+-1<<4)|0,e[t+212>>2]=e[q>>2],e[t+212+4>>2]=e[q+4>>2],e[t+212+8>>2]=e[q+8>>2],e[t+212+12>>2]=e[q+12>>2],a=a+-1|0),q=54;else{if((a|0)>2){n=R[t+332>>0]|0,a=3,q=54;break}if((a|0)>1){n=R[t+332>>0]|0,a=2,q=58;break}(a|0)>0&&(n=R[t+332>>0]|0,$=1,q=62)}while(!1);(q|0)==54&&(n&4||(a=a+-1|0,e[t>>2]=a,e[t+36>>2]=e[t+4+(a<<4)>>2],e[t+36+4>>2]=e[t+4+(a<<4)+4>>2],e[t+36+8>>2]=e[t+4+(a<<4)+8>>2],e[t+36+12>>2]=e[t+4+(a<<4)+12>>2],e[t+116>>2]=e[t+84+(a<<4)>>2],e[t+116+4>>2]=e[t+84+(a<<4)+4>>2],e[t+116+8>>2]=e[t+84+(a<<4)+8>>2],e[t+116+12>>2]=e[t+84+(a<<4)+12>>2],e[t+196>>2]=e[t+164+(a<<4)>>2],e[t+196+4>>2]=e[t+164+(a<<4)+4>>2],e[t+196+8>>2]=e[t+164+(a<<4)+8>>2],e[t+196+12>>2]=e[t+164+(a<<4)+12>>2]),q=58),(q|0)==58&&(n&2?($=a,q=62):($=a+-1|0,e[t>>2]=$,e[t+20>>2]=e[t+4+($<<4)>>2],e[t+20+4>>2]=e[t+4+($<<4)+4>>2],e[t+20+8>>2]=e[t+4+($<<4)+8>>2],e[t+20+12>>2]=e[t+4+($<<4)+12>>2],e[t+100>>2]=e[t+84+($<<4)>>2],e[t+100+4>>2]=e[t+84+($<<4)+4>>2],e[t+100+8>>2]=e[t+84+($<<4)+8>>2],e[t+100+12>>2]=e[t+84+($<<4)+12>>2],e[t+180>>2]=e[t+164+($<<4)>>2],e[t+180+4>>2]=e[t+164+($<<4)+4>>2],e[t+180+8>>2]=e[t+164+($<<4)+8>>2],e[t+180+12>>2]=e[t+164+($<<4)+12>>2],q=62)),(q|0)==62&&(n&1)==0&&(fe=$+-1|0,e[t>>2]=fe,e[t+4>>2]=e[t+4+(fe<<4)>>2],e[t+4+4>>2]=e[t+4+(fe<<4)+4>>2],e[t+4+8>>2]=e[t+4+(fe<<4)+8>>2],e[t+4+12>>2]=e[t+4+(fe<<4)+12>>2],e[t+84>>2]=e[t+84+(fe<<4)>>2],e[t+84+4>>2]=e[t+84+(fe<<4)+4>>2],e[t+84+8>>2]=e[t+84+(fe<<4)+8>>2],e[t+84+12>>2]=e[t+84+(fe<<4)+12>>2],e[t+164>>2]=e[t+164+(fe<<4)>>2],e[t+164+4>>2]=e[t+164+(fe<<4)+4>>2],e[t+164+8>>2]=e[t+164+(fe<<4)+8>>2],e[t+164+12>>2]=e[t+164+(fe<<4)+12>>2]),+i[t+336>>2]>=0&&+i[t+340>>2]>=0&&+i[t+344>>2]>=0?n=s>=0&1:n=0,R[t+312>>0]=n}while(!1);return(q|0)==70&&(R[n>>0]=0,n=0),fe=n,fe=fe<<24>>24!=0,H=X,fe|0}default:return R[t+312>>0]=0,fe=0,fe=fe<<24>>24!=0,H=X,fe|0}return 0}function v6(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,st=0,mt=0,lt=0,_t=0,bt=0,rt=0,Ce=0,kt=0,it=0,q0=0,K0=0,e2=0,qr=0,t2=0,Qi=0,Hi=0,xr=0,Xr=0,ii=0,Ei=0,U0=0,Qe=0;if(Qe=H,H=H+592|0,e[Qe+48>>2]=e[n>>2],e[Qe>>2]=e[n+64>>2],z=Qe+48+4|0,e[z>>2]=e[n+4>>2],e[Qe+4>>2]=e[n+68>>2],e[Qe+48+8>>2]=e[n+8>>2],e[Qe+8>>2]=e[n+72>>2],e[Qe+48+16>>2]=e[n+16>>2],e[Qe+16>>2]=e[n+80>>2],e[Qe+48+20>>2]=e[n+20>>2],e[Qe+20>>2]=e[n+84>>2],e[Qe+48+24>>2]=e[n+24>>2],e[Qe+24>>2]=e[n+88>>2],e[Qe+48+32>>2]=e[n+32>>2],e[Qe+32>>2]=e[n+96>>2],e[Qe+48+36>>2]=e[n+36>>2],e[Qe+36>>2]=e[n+100>>2],e[Qe+48+40>>2]=e[n+40>>2],e[Qe+40>>2]=e[n+104>>2],ii=e[t+4>>2]|0,Ze=+i[ii+32>>2],ut=+i[ii+36>>2],lt=+i[ii+40>>2],st=+Ct[e[(e[ii>>2]|0)+48>>2]&15](ii),mt=+Ct[e[(e[ii>>2]|0)+48>>2]&15](ii),lt=(lt+ +Ct[e[(e[ii>>2]|0)+48>>2]&15](ii))*2,ii=e[t+8>>2]|0,Ce=+i[ii+32>>2],kt=+i[ii+36>>2],qr=+i[ii+40>>2],it=+Ct[e[(e[ii>>2]|0)+48>>2]&15](ii),rt=+Ct[e[(e[ii>>2]|0)+48>>2]&15](ii),qr=(qr+ +Ct[e[(e[ii>>2]|0)+48>>2]&15](ii))*2,O=+i[n+112>>2]-+i[n+48>>2],_e=+i[n+116>>2]-+i[n+52>>2],pe=+i[n+120>>2]-+i[n+56>>2],ge=+i[Qe+48>>2],Ne=+i[Qe+48+16>>2],Se=+i[Qe+48+32>>2],we=+i[z>>2],ve=+i[Qe+48+20>>2],fe=+i[Qe+48+36>>2],qe=+i[Qe+48+8>>2],Ke=+i[Qe+48+24>>2],_t=+i[Qe+48+40>>2],i[Qe+484>>2]=(Ze+st)*2*.5,i[Qe+484+4>>2]=(ut+mt)*2*.5,i[Qe+484+8>>2]=lt*.5,i[Qe+472>>2]=(Ce+it)*2*.5,i[Qe+472+4>>2]=(kt+rt)*2*.5,i[Qe+472+8>>2]=qr*.5,Hi=+i[Qe>>2],q0=+i[Qe+16>>2],e2=+i[Qe+32>>2],Qi=+i[Qe+4>>2],bt=+i[Qe+20>>2],K0=+i[Qe+36>>2],t2=+i[Qe+8>>2],Ei=+i[Qe+24>>2],U0=+i[Qe+40>>2],L=+ht(+(ge*Hi+Ne*q0+Se*e2)),P=+ht(+(ge*Qi+Ne*bt+Se*K0)),me=+ht(+(ge*t2+Ne*Ei+Se*U0)),F=+ht(+(Hi*we+q0*ve+e2*fe)),U=+ht(+(Qi*we+bt*ve+K0*fe)),se=+ht(+(t2*we+Ei*ve+U0*fe)),oe=+ht(+(Hi*qe+q0*Ke+e2*_t)),ae=+ht(+(Qi*qe+bt*Ke+K0*_t)),G=+ht(+(t2*qe+Ei*Ke+U0*_t)),l=+ht(+(O*ge+_e*Ne+pe*Se))-(qr*.5*me+((Ze+st)*2*.5+L*((Ce+it)*2*.5)+P*((kt+rt)*2*.5))),l>0){H=Qe;return}if(l>-34028234663852886e22?(d=1,p=O*ge+_e*Ne+pe*Se<0&1,o=Qe+48|0):(d=0,p=0,o=0,l=-34028234663852886e22),u=+ht(+(O*we+_e*ve+pe*fe))-((ut+mt)*2*.5+F*((Ce+it)*2*.5)+U*((kt+rt)*2*.5)+se*(qr*.5)),u>0){H=Qe;return}if(u>l&&(d=2,p=O*we+_e*ve+pe*fe<0&1,o=z,l=u),u=+ht(+(O*qe+_e*Ke+pe*_t))-(lt*.5+oe*((Ce+it)*2*.5)+ae*((kt+rt)*2*.5)+G*(qr*.5)),u>0){H=Qe;return}if(u>l&&(d=3,p=O*qe+_e*Ke+pe*_t<0&1,o=Qe+48+8|0,l=u),u=+ht(+(O*Hi+_e*q0+pe*e2))-((Ce+it)*2*.5+(L*((Ze+st)*2*.5)+F*((ut+mt)*2*.5)+oe*(lt*.5))),u>0){H=Qe;return}if(u>l&&(d=4,p=O*Hi+_e*q0+pe*e2<0&1,o=Qe,l=u),u=+ht(+(O*Qi+_e*bt+pe*K0))-((kt+rt)*2*.5+(P*((Ze+st)*2*.5)+U*((ut+mt)*2*.5)+ae*(lt*.5))),u>0){H=Qe;return}if(u>l?(d=5,p=O*Qi+_e*bt+pe*K0<0&1,o=Qe+4|0):u=l,l=+ht(+(O*t2+_e*Ei+pe*U0))-(qr*.5+(me*((Ze+st)*2*.5)+se*((ut+mt)*2*.5)+G*(lt*.5))),l>0){H=Qe;return}if(l>u?(d=6,p=O*t2+_e*Ei+pe*U0<0&1,E=Qe+8|0):(E=o,l=u),u=(O*qe+_e*Ke+pe*_t)*(Hi*we+q0*ve+e2*fe)-(O*we+_e*ve+pe*fe)*(Hi*qe+q0*Ke+e2*_t),h=+ht(+u)-((oe+9999999747378752e-21)*((ut+mt)*2*.5)+(F+9999999747378752e-21)*(lt*.5)+(me+9999999747378752e-21)*((kt+rt)*2*.5)+(P+9999999747378752e-21)*(qr*.5)),h>11920928955078125e-23){H=Qe;return}if(g=(Hi*qe+q0*Ke+e2*_t)*(Hi*qe+q0*Ke+e2*_t)+0,D=(Hi*we+q0*ve+e2*fe)*(Hi*we+q0*ve+e2*fe),m=+ot(+(D+g)),m>11920928955078125e-23&&h/m*1.0499999523162842>l?(t=(i[Z>>2]=0/m,e[Z>>2]|0),a=(i[Z>>2]=-(Hi*qe+q0*Ke+e2*_t)/m,e[Z>>2]|0),d=7,p=u<0&1,o=(i[Z>>2]=(Hi*we+q0*ve+e2*fe)/m,e[Z>>2]|0),E=0,l=h/m):(t=0,a=0,o=0),u=(O*qe+_e*Ke+pe*_t)*(Qi*we+bt*ve+K0*fe)-(O*we+_e*ve+pe*fe)*(Qi*qe+bt*Ke+K0*_t),h=+ht(+u)-((ae+9999999747378752e-21)*((ut+mt)*2*.5)+(U+9999999747378752e-21)*(lt*.5)+(me+9999999747378752e-21)*((Ce+it)*2*.5)+(L+9999999747378752e-21)*(qr*.5)),h>11920928955078125e-23){H=Qe;return}if(S=(Qi*qe+bt*Ke+K0*_t)*(Qi*qe+bt*Ke+K0*_t)+0,b=(Qi*we+bt*ve+K0*fe)*(Qi*we+bt*ve+K0*fe),m=+ot(+(b+S)),m>11920928955078125e-23&&h/m*1.0499999523162842>l&&(t=(i[Z>>2]=0/m,e[Z>>2]|0),a=(i[Z>>2]=-(Qi*qe+bt*Ke+K0*_t)/m,e[Z>>2]|0),d=8,p=u<0&1,o=(i[Z>>2]=(Qi*we+bt*ve+K0*fe)/m,e[Z>>2]|0),E=0,l=h/m),u=(O*qe+_e*Ke+pe*_t)*(t2*we+Ei*ve+U0*fe)-(O*we+_e*ve+pe*fe)*(t2*qe+Ei*Ke+U0*_t),h=+ht(+u)-((G+9999999747378752e-21)*((ut+mt)*2*.5)+(se+9999999747378752e-21)*(lt*.5)+(P+9999999747378752e-21)*((Ce+it)*2*.5)+(L+9999999747378752e-21)*((kt+rt)*2*.5)),h>11920928955078125e-23){H=Qe;return}if(w=(t2*qe+Ei*Ke+U0*_t)*(t2*qe+Ei*Ke+U0*_t)+0,B=(t2*we+Ei*ve+U0*fe)*(t2*we+Ei*ve+U0*fe),m=+ot(+(B+w)),m>11920928955078125e-23&&h/m*1.0499999523162842>l&&(t=(i[Z>>2]=0/m,e[Z>>2]|0),a=(i[Z>>2]=-(t2*qe+Ei*Ke+U0*_t)/m,e[Z>>2]|0),d=9,p=u<0&1,o=(i[Z>>2]=(t2*we+Ei*ve+U0*fe)/m,e[Z>>2]|0),E=0,l=h/m),u=(O*ge+_e*Ne+pe*Se)*(Hi*qe+q0*Ke+e2*_t)-(O*qe+_e*Ke+pe*_t)*(ge*Hi+Ne*q0+Se*e2),m=+ht(+u)-((oe+9999999747378752e-21)*((Ze+st)*2*.5)+(L+9999999747378752e-21)*(lt*.5)+(se+9999999747378752e-21)*((kt+rt)*2*.5)+(U+9999999747378752e-21)*(qr*.5)),m>11920928955078125e-23){H=Qe;return}M=(ge*Hi+Ne*q0+Se*e2)*(ge*Hi+Ne*q0+Se*e2),h=+ot(+(M+g));do if(h>11920928955078125e-23){if(!(m/h*1.0499999523162842>l))break;t=(i[Z>>2]=(Hi*qe+q0*Ke+e2*_t)/h,e[Z>>2]|0),a=(i[Z>>2]=0/h,e[Z>>2]|0),d=10,p=u<0&1,o=(i[Z>>2]=-(ge*Hi+Ne*q0+Se*e2)/h,e[Z>>2]|0),E=0,l=m/h}while(!1);if(u=(O*ge+_e*Ne+pe*Se)*(Qi*qe+bt*Ke+K0*_t)-(O*qe+_e*Ke+pe*_t)*(ge*Qi+Ne*bt+Se*K0),m=+ht(+u)-((ae+9999999747378752e-21)*((Ze+st)*2*.5)+(P+9999999747378752e-21)*(lt*.5)+(se+9999999747378752e-21)*((Ce+it)*2*.5)+(F+9999999747378752e-21)*(qr*.5)),m>11920928955078125e-23){H=Qe;return}C=(ge*Qi+Ne*bt+Se*K0)*(ge*Qi+Ne*bt+Se*K0),h=+ot(+(C+S));do if(h>11920928955078125e-23){if(!(m/h*1.0499999523162842>l))break;t=(i[Z>>2]=(Qi*qe+bt*Ke+K0*_t)/h,e[Z>>2]|0),a=(i[Z>>2]=0/h,e[Z>>2]|0),d=11,p=u<0&1,o=(i[Z>>2]=-(ge*Qi+Ne*bt+Se*K0)/h,e[Z>>2]|0),E=0,l=m/h}while(!1);if(u=(O*ge+_e*Ne+pe*Se)*(t2*qe+Ei*Ke+U0*_t)-(O*qe+_e*Ke+pe*_t)*(ge*t2+Ne*Ei+Se*U0),m=+ht(+u)-((G+9999999747378752e-21)*((Ze+st)*2*.5)+(me+9999999747378752e-21)*(lt*.5)+(U+9999999747378752e-21)*((Ce+it)*2*.5)+(F+9999999747378752e-21)*((kt+rt)*2*.5)),m>11920928955078125e-23){H=Qe;return}g=(ge*t2+Ne*Ei+Se*U0)*(ge*t2+Ne*Ei+Se*U0),h=+ot(+(g+w));do if(h>11920928955078125e-23){if(!(m/h*1.0499999523162842>l))break;t=(i[Z>>2]=(t2*qe+Ei*Ke+U0*_t)/h,e[Z>>2]|0),a=(i[Z>>2]=0/h,e[Z>>2]|0),d=12,p=u<0&1,o=(i[Z>>2]=-(ge*t2+Ne*Ei+Se*U0)/h,e[Z>>2]|0),E=0,l=m/h}while(!1);if(u=(O*we+_e*ve+pe*fe)*(ge*Hi+Ne*q0+Se*e2)-(O*ge+_e*Ne+pe*Se)*(Hi*we+q0*ve+e2*fe),m=+ht(+u)-((F+9999999747378752e-21)*((Ze+st)*2*.5)+(L+9999999747378752e-21)*((ut+mt)*2*.5)+(G+9999999747378752e-21)*((kt+rt)*2*.5)+(ae+9999999747378752e-21)*(qr*.5)),m>11920928955078125e-23){H=Qe;return}h=+ot(+(M+D+0));do if(h>11920928955078125e-23){if(!(m/h*1.0499999523162842>l))break;t=(i[Z>>2]=-(Hi*we+q0*ve+e2*fe)/h,e[Z>>2]|0),a=(i[Z>>2]=(ge*Hi+Ne*q0+Se*e2)/h,e[Z>>2]|0),d=13,p=u<0&1,o=(i[Z>>2]=0/h,e[Z>>2]|0),E=0,l=m/h}while(!1);if(u=(O*we+_e*ve+pe*fe)*(ge*Qi+Ne*bt+Se*K0)-(O*ge+_e*Ne+pe*Se)*(Qi*we+bt*ve+K0*fe),m=+ht(+u)-((U+9999999747378752e-21)*((Ze+st)*2*.5)+(P+9999999747378752e-21)*((ut+mt)*2*.5)+(G+9999999747378752e-21)*((Ce+it)*2*.5)+(oe+9999999747378752e-21)*(qr*.5)),m>11920928955078125e-23){H=Qe;return}h=+ot(+(C+b+0));do if(h>11920928955078125e-23){if(!(m/h*1.0499999523162842>l))break;t=(i[Z>>2]=-(Qi*we+bt*ve+K0*fe)/h,e[Z>>2]|0),a=(i[Z>>2]=(ge*Qi+Ne*bt+Se*K0)/h,e[Z>>2]|0),d=14,p=u<0&1,o=(i[Z>>2]=0/h,e[Z>>2]|0),E=0,l=m/h}while(!1);if(h=(O*we+_e*ve+pe*fe)*(ge*t2+Ne*Ei+Se*U0)-(O*ge+_e*Ne+pe*Se)*(t2*we+Ei*ve+U0*fe),m=+ht(+h)-((se+9999999747378752e-21)*((Ze+st)*2*.5)+(me+9999999747378752e-21)*((ut+mt)*2*.5)+(ae+9999999747378752e-21)*((Ce+it)*2*.5)+(oe+9999999747378752e-21)*((kt+rt)*2*.5)),m>11920928955078125e-23){H=Qe;return}u=+ot(+(g+B+0));do if(u>11920928955078125e-23){if(!(m/u*1.0499999523162842>l)){xr=55;break}t=(i[Z>>2]=-(t2*we+Ei*ve+U0*fe)/u,e[Z>>2]|0),a=(i[Z>>2]=(ge*t2+Ne*Ei+Se*U0)/u,e[Z>>2]|0),d=15,p=h<0&1,o=(i[Z>>2]=0/u,e[Z>>2]|0),l=m/u,xr=58}else xr=55;while(!1);do if((xr|0)==55){if(!d){H=Qe;return}if(!E){xr=58;break}o=e[E>>2]|0,t=e[E+16>>2]|0,ii=e[E+32>>2]|0,u=(e[Z>>2]=o,+i[Z>>2]),h=(e[Z>>2]=t,+i[Z>>2]),m=(e[Z>>2]=ii,+i[Z>>2]),a=p,p=ii,O=l}while(!1);if((xr|0)==58&&(ge=(e[Z>>2]=t,+i[Z>>2]),m=(e[Z>>2]=a,+i[Z>>2]),O=(e[Z>>2]=o,+i[Z>>2]),u=ge*+i[Qe+48>>2]+m*+i[z>>2]+O*qe,o=(i[Z>>2]=u,e[Z>>2]|0),h=ge*+i[Qe+48+16>>2]+m*+i[Qe+48+20>>2]+O*Ke,t=(i[Z>>2]=h,e[Z>>2]|0),O=ge*+i[Qe+48+32>>2]+m*+i[Qe+48+36>>2]+O*_t,m=O,a=p,p=(i[Z>>2]=O,e[Z>>2]|0),O=l),a?(o=(i[Z>>2]=-u,e[Z>>2]|0),Xr=(i[Z>>2]=-h,e[Z>>2]|0),ii=(i[Z>>2]=-m,e[Z>>2]|0)):(Xr=t,ii=p),(d|0)>6){G=(e[Z>>2]=o,+i[Z>>2]),U=(e[Z>>2]=Xr,+i[Z>>2]),P=(e[Z>>2]=ii,+i[Z>>2]),u=+i[Qe+48>>2],M=+i[Qe+48+16>>2],b=+i[Qe+48+32>>2],D=(G*u+U*M+P*b>0?1:-1)*((Ze+st)*2*.5),F=+i[z>>2],L=+i[Qe+48+20>>2],l=+i[Qe+48+36>>2],w=(G*F+U*L+P*l>0?1:-1)*((ut+mt)*2*.5),B=(G*qe+U*Ke+P*_t>0?1:-1)*(lt*.5),F=+i[n+48>>2]+D*u+w*F+B*qe,L=+i[n+52>>2]+D*M+w*L+B*Ke,B=+i[n+56>>2]+D*b+w*l+B*_t,e[Qe+528>>2]=e[n+112>>2],e[Qe+528+4>>2]=e[n+112+4>>2],e[Qe+528+8>>2]=e[n+112+8>>2],l=(G*Hi+U*q0+P*e2>0?-1:1)*((Ce+it)*2*.5),w=(G*Qi+U*bt+P*K0>0?-1:1)*((kt+rt)*2*.5),b=+i[Qe+528+4>>2]+l*q0+w*bt,D=+i[Qe+528+8>>2]+l*e2+w*K0,M=(G*t2+U*Ei+P*U0>0?-1:1)*(qr*.5),w=+i[Qe+528>>2]+l*Hi+w*Qi+M*t2,i[Qe+528>>2]=w,i[Qe+528+4>>2]=b+M*Ei,i[Qe+528+8>>2]=D+M*U0,ii=d+-7|0,l=+i[Qe+48+(((ii|0)/3|0)<<2)>>2],u=+i[Qe+48+(((ii|0)/3|0)+4<<2)>>2],h=+i[Qe+48+(((ii|0)/3|0)+8<<2)>>2],g=+i[Qe+(((ii|0)%3|0)<<2)>>2],S=+i[Qe+(((ii|0)%3|0)+4<<2)>>2],C=+i[Qe+(((ii|0)%3|0)+8<<2)>>2],m=1-(l*g+u*S+h*C)*(l*g+u*S+h*C),m<=9999999747378752e-20?l=0:l=(((w-F)*l+(b+M*Ei-L)*u+(D+M*U0-B)*h)*(l*g+u*S+h*C)-((w-F)*g+(b+M*Ei-L)*S+(D+M*U0-B)*C))*(1/m),i[Qe+528>>2]=w+l*g,i[Qe+528+4>>2]=b+M*Ei+l*S,i[Qe+528+8>>2]=D+M*U0+l*C,ii=e[(e[s>>2]|0)+16>>2]|0,i[Qe+456>>2]=-G,i[Qe+456+4>>2]=-U,i[Qe+456+8>>2]=-P,i[Qe+456+12>>2]=0,N2[ii&15](s,Qe+456|0,Qe+528|0,O),H=Qe;return}switch(ke=(d|0)<4,qe=(e[Z>>2]=o,+i[Z>>2]),ke?(p=Qe+48|0,Te=Qe,he=Qe+484|0,E=Qe+472|0,ge=qe,a=ii,o=Xr,He=n+48|0,t=n+112|0):(o=(i[Z>>2]=(e[Z>>2]=Xr,-+i[Z>>2]),e[Z>>2]|0),p=Qe,Te=Qe+48|0,he=Qe+472|0,E=Qe+484|0,ge=-qe,a=(i[Z>>2]=(e[Z>>2]=ii,-+i[Z>>2]),e[Z>>2]|0),He=n+112|0,t=n+48|0),Se=(e[Z>>2]=o,+i[Z>>2]),Ne=(e[Z>>2]=a,+i[Z>>2]),l=ge*+i[Te>>2]+Se*+i[Te+16>>2]+Ne*+i[Te+32>>2],i[Qe+440>>2]=l,u=ge*+i[Te+4>>2]+Se*+i[Te+20>>2]+Ne*+i[Te+36>>2],i[Qe+440+4>>2]=u,g=ge*+i[Te+8>>2]+Se*+i[Te+24>>2]+Ne*+i[Te+40>>2],i[Qe+440+8>>2]=g,l=+ht(+l),u=+ht(+u),g=+ht(+g),o=u>l?u>g?1:2:l>g?0:2,xe=u>l?0:l>g&1,de=(u>l?u>g:l>g)?2:1,g=+i[E+(o<<2)>>2],l=+i[t>>2]-+i[He>>2],u=g*+i[Te+(o<<2)>>2],h=+i[t+4>>2],Ae=He+4|0,m=+i[Ae>>2],+i[Qe+440+(o<<2)>>2]<0?(we=l+u,fe=h-m+g*+i[Te+((o|4)<<2)>>2],ve=+i[t+8>>2]-+i[He+8>>2]+g*+i[Te+((o|8)<<2)>>2]):(we=l-u,fe=h-m-g*+i[Te+((o|4)<<2)>>2],ve=+i[t+8>>2]-+i[He+8>>2]-g*+i[Te+((o|8)<<2)>>2]),W=(ke?-1:-4)+d|0,W|0){case 0:{o=1,a=2;break}case 1:{o=0,a=2;break}default:o=0,a=1}ne=p+(o<<2)|0,oe=+i[ne>>2],me=+i[ne+16>>2],se=+i[ne+32>>2],ae=we*oe+fe*me+ve*se,ne=p+(a<<2)|0,_e=+i[ne>>2],P=+i[ne+16>>2],U=+i[ne+32>>2],pe=we*_e+fe*P+ve*U,ne=Te+(xe<<2)|0,O=+i[ne>>2],L=+i[ne+16>>2],F=+i[ne+32>>2],te=Te+(de<<2)|0,G=+i[te>>2],b=+i[te+16>>2],B=+i[te+32>>2],Ei=+i[E+(xe<<2)>>2],U0=+i[E+(de<<2)>>2],Hi=(oe*G+me*b+se*B)*U0,U0=(_e*G+P*b+U*B)*U0,i[Qe+408>>2]=ae-(oe*O+me*L+se*F)*Ei-Hi,i[Qe+408+4>>2]=pe-(_e*O+P*L+U*F)*Ei-U0,i[Qe+408+8>>2]=ae-(oe*O+me*L+se*F)*Ei+Hi,i[Qe+408+12>>2]=pe-(_e*O+P*L+U*F)*Ei+U0,i[Qe+408+16>>2]=ae+(oe*O+me*L+se*F)*Ei+Hi,i[Qe+408+20>>2]=pe+(_e*O+P*L+U*F)*Ei+U0,i[Qe+408+24>>2]=ae+(oe*O+me*L+se*F)*Ei-Hi,i[Qe+408+28>>2]=pe+(_e*O+P*L+U*F)*Ei-U0,e[Qe+400>>2]=e[he+(o<<2)>>2],e[Qe+400+4>>2]=e[he+(a<<2)>>2],X=0,a=4,n=Qe+408|0,q=Qe+336|0;e:for(;;){Y=Qe+400+(X<<2)|0,$=1-X|0;do if((a|0)>0){for(t=0,z=n,o=q;;){if(p=z+(X<<2)|0,l=+i[p>>2],u=+i[Y>>2],u>-l){if(e[o>>2]=e[z>>2],e[o+4>>2]=e[z+4>>2],t=t+1|0,t&8|0){a=t,o=q;break e}l=+i[p>>2],u=+i[Y>>2],d=o+8|0}else d=o;if(E=(a|0)>1,p=z,z=z+8|0,o=E?z:n,h=+i[o+(X<<2)>>2],u>-l^u>-h)if(U0=+i[p+($<<2)>>2],i[d+($<<2)>>2]=U0+(-u-l)*((+i[o+($<<2)>>2]-U0)/(h-l)),i[d+(X<<2)>>2]=-+i[Y>>2],o=t+1|0,!(o&8))t=o,o=d+8|0;else{a=o,o=q;break e}else o=d;if(E)a=a+-1|0;else break}if(o=(q|0)==(Qe+336|0)?Qe+528|0:Qe+336|0,(t|0)<=0){a=0;break}for(z=t,a=0,n=q,t=o;;){if(p=n+(X<<2)|0,l=+i[p>>2],u=+i[Y>>2],l<u){if(e[t>>2]=e[n>>2],e[t+4>>2]=e[n+4>>2],a=a+1|0,a&8|0)break e;l=+i[p>>2],u=+i[Y>>2],t=t+8|0}if(E=(z|0)>1,d=n,n=n+8|0,p=E?n:q,h=+i[p+(X<<2)>>2],l<u^h<u)if(U0=+i[d+($<<2)>>2],i[t+($<<2)>>2]=U0+(u-l)*((+i[p+($<<2)>>2]-U0)/(h-l)),e[t+(X<<2)>>2]=e[Y>>2],a=a+1|0,!(a&8))t=t+8|0;else break e;if(E)z=z+-1|0;else break}}else o=(q|0)==(Qe+336|0)?Qe+528|0:Qe+336|0,a=0;while(!1);if(X=X+1|0,(X|0)>=2)break;n=o,q=(o|0)==(Qe+336|0)?Qe+528|0:Qe+336|0}if((o|0)!=(Qe+336|0)&&wr(Qe+336|0,o|0,a<<3|0)|0,(a|0)>=1){D=1/((oe*O+me*L+se*F)*(_e*G+P*b+U*B)-(_e*O+P*L+U*F)*(oe*G+me*b+se*B)),M=+i[he+(W<<2)>>2],w=+i[ne>>2],g=+i[te>>2],S=+i[Te+((xe|4)<<2)>>2],C=+i[Te+((de|4)<<2)>>2],m=+i[Te+((xe|8)<<2)>>2],h=+i[Te+((de|8)<<2)>>2],t=0,o=0;do Te=o<<1,l=+i[Qe+336+(Te<<2)>>2],u=+i[Qe+336+((Te|1)<<2)>>2],Qi=(_e*G+P*b+U*B)*D*(l-ae)-(oe*G+me*b+se*B)*D*(u-pe),U0=(oe*O+me*L+se*F)*D*(u-pe)-(_e*O+P*L+U*F)*D*(l-ae),Te=t*3|0,Hi=we+Qi*w+U0*g,i[Qe+240+(Te<<2)>>2]=Hi,Ei=fe+Qi*S+U0*C,i[Qe+240+(Te+1<<2)>>2]=Ei,U0=ve+Qi*m+U0*h,i[Qe+240+(Te+2<<2)>>2]=U0,U0=M-(ge*Hi+Se*Ei+Ne*U0),i[Qe+208+(t<<2)>>2]=U0,U0>=0&&(Te=t<<1,i[Qe+336+(Te<<2)>>2]=l,i[Qe+336+((Te|1)<<2)>>2]=u,t=t+1|0),o=o+1|0;while((o|0)!=(a|0));e:do if((t|0)>=1){if(z=(t|0)<4?t:4,z=(z|0)<1?1:z,(t|0)<=(z|0)){if(ke){for(a=He+8|0,u=(e[Z>>2]=Xr,-+i[Z>>2]),l=(e[Z>>2]=ii,-+i[Z>>2]),o=0;;)if(ii=o*3|0,i[Qe+528>>2]=+i[Qe+240+(ii<<2)>>2]+ +i[He>>2],i[Qe+528+4>>2]=+i[Qe+240+(ii+1<<2)>>2]+ +i[Ae>>2],i[Qe+528+8>>2]=+i[Qe+240+(ii+2<<2)>>2]+ +i[a>>2],ii=e[(e[s>>2]|0)+16>>2]|0,i[Qe+192>>2]=-qe,i[Qe+192+4>>2]=u,i[Qe+192+8>>2]=l,i[Qe+192+12>>2]=0,N2[ii&15](s,Qe+192|0,Qe+528|0,-+i[Qe+208+(o<<2)>>2]),o=o+1|0,(o|0)==(t|0))break e}else for(a=He+8|0,u=(e[Z>>2]=Xr,+i[Z>>2]),l=(e[Z>>2]=ii,+i[Z>>2]),o=0;;)if(ii=o*3|0,U0=+i[Qe+208+(o<<2)>>2],i[Qe+528>>2]=+i[Qe+240+(ii<<2)>>2]+ +i[He>>2]-qe*U0,i[Qe+528+4>>2]=+i[Qe+240+(ii+1<<2)>>2]+ +i[Ae>>2]-u*U0,i[Qe+528+8>>2]=+i[Qe+240+(ii+2<<2)>>2]+ +i[a>>2]-l*U0,ii=e[(e[s>>2]|0)+16>>2]|0,i[Qe+176>>2]=-qe,i[Qe+176+4>>2]=-u,i[Qe+176+8>>2]=-l,i[Qe+176+12>>2]=0,N2[ii&15](s,Qe+176|0,Qe+528|0,-U0),o=o+1|0,(o|0)==(t|0))break e}t:do if((t|0)>1){for(a=1,p=0,u=+i[Qe+208>>2];l=+i[Qe+208+(a<<2)>>2],o=l>u,p=o?a:p,a=a+1|0,(a|0)!=(t|0);)u=o?l:u;switch(t|0){case 1:{o=Qe+144|0,a=Qe+144|0,t=1,xr=111;break t}case 2:{o=Qe+144|0,a=Qe+144|0,t=2,u=(+i[Qe+336>>2]+ +i[Qe+336+8>>2])*.5,l=(+i[Qe+336+4>>2]+ +i[Qe+336+12>>2])*.5,xr=116;break t}default:}o=t+-1|0,l=0,u=0,C=0,a=0;do Te=a<<1,Qi=+i[Qe+336+(Te<<2)>>2],Hi=+i[Qe+336+(Te+3<<2)>>2],Ei=+i[Qe+336+(Te+2<<2)>>2],U0=+i[Qe+336+((Te|1)<<2)>>2],l=l+(Qi*Hi-Ei*U0),u=u+(Qi+Ei)*(Qi*Hi-Ei*U0),C=C+(Hi+U0)*(Qi*Hi-Ei*U0),a=a+1|0;while((a|0)!=(o|0));if(Te=t<<1,h=+i[Qe+336+(Te+-2<<2)>>2],m=+i[Qe+336+4>>2],g=+i[Qe+336>>2],S=+i[Qe+336+(Te+-1<<2)>>2],l=l+(h*m-g*S),+ht(+l)>11920928955078125e-23?l=1/(l*3):l=0xde0b6b000000000,(t|0)>0){E=Qe+144|0,a=Qe+144|0,d=Qe+528|0,u=l*(u+(h*m-g*S)*(h+g)),l=l*(C+(h*m-g*S)*(S+m)),xr=119;break}o=Qe+144|0,a=0,E=t}else o=Qe+144|0,a=Qe+144|0,p=0,xr=111;while(!1);if((xr|0)==111&&(u=+i[Qe+336>>2],l=+i[Qe+336+4>>2],xr=116),(xr|0)==116&&(E=o,d=Qe+528|0,xr=119),(xr|0)==119){o=0;do xr=o<<1,i[Qe+528+(o<<2)>>2]=+gn(+(+i[Qe+336+((xr|1)<<2)>>2]-l),+(+i[Qe+336+(xr<<2)>>2]-u)),o=o+1|0;while((o|0)!=(t|0));o=0;do e[Qe+496+(o<<2)>>2]=1,o=o+1|0;while((o|0)!=(t|0));o=E,a=1,E=t}t=Qe+496+(p<<2)|0,e[t>>2]=0,e[o>>2]=p;t:do if((z|0)>1){if(m=+i[Qe+528+(p<<2)>>2],a)a=Qe+144+4|0,d=1;else for(o=Qe+144+4|0,a=1;;){if(e[o>>2]=p,e[t>>2]=0,a=a+1|0,(a|0)==(z|0))break t;o=o+4|0}for(;;){for(h=6.2831854820251465/+(z|0)*+(d|0)+m,h=h>3.1415927410125732?h+-6.2831854820251465:h,e[a>>2]=p,o=p,t=0,u=1e9;;){do if(!(e[Qe+496+(t<<2)>>2]|0))l=u;else{if(l=+ht(+(+i[Qe+528+(t<<2)>>2]-h)),l=l>3.1415927410125732?6.2831854820251465-l:l,!(l<u)){l=u;break}e[a>>2]=t,o=t}while(!1);if(t=t+1|0,(t|0)==(E|0))break;u=l}if(e[Qe+496+(o<<2)>>2]=0,d=d+1|0,(d|0)==(z|0))break;a=a+4|0}}while(!1);if((z|0)>0)if(a=He+8|0,u=(e[Z>>2]=Xr,+i[Z>>2]),l=(e[Z>>2]=ii,+i[Z>>2]),ke){o=0;do ii=e[Qe+144+(o<<2)>>2]|0,i[Qe+528>>2]=+i[Qe+240+(ii*3<<2)>>2]+ +i[He>>2],i[Qe+528+4>>2]=+i[Qe+240+((ii*3|0)+1<<2)>>2]+ +i[Ae>>2],i[Qe+528+8>>2]=+i[Qe+240+((ii*3|0)+2<<2)>>2]+ +i[a>>2],Xr=e[(e[s>>2]|0)+16>>2]|0,i[Qe+128>>2]=-qe,i[Qe+128+4>>2]=-u,i[Qe+128+8>>2]=-l,i[Qe+128+12>>2]=0,N2[Xr&15](s,Qe+128|0,Qe+528|0,-+i[Qe+208+(ii<<2)>>2]),o=o+1|0;while((o|0)<(z|0))}else{o=0;do Xr=e[Qe+144+(o<<2)>>2]|0,Qi=+i[Qe+240+(Xr*3<<2)>>2]+ +i[He>>2],i[Qe+528>>2]=Qi,Hi=+i[Qe+240+((Xr*3|0)+1<<2)>>2]+ +i[Ae>>2],i[Qe+528+4>>2]=Hi,Ei=+i[Qe+240+((Xr*3|0)+2<<2)>>2]+ +i[a>>2],i[Qe+528+8>>2]=Ei,ii=e[(e[s>>2]|0)+16>>2]|0,i[Qe+112>>2]=-qe,i[Qe+112+4>>2]=-u,i[Qe+112+8>>2]=-l,i[Qe+112+12>>2]=0,U0=+i[Qe+208+(Xr<<2)>>2],i[Qe+96>>2]=Qi-qe*U0,i[Qe+96+4>>2]=Hi-U0*u,i[Qe+96+8>>2]=Ei-U0*l,i[Qe+96+12>>2]=0,N2[ii&15](s,Qe+112|0,Qe+96|0,-U0),o=o+1|0;while((o|0)<(z|0))}}while(!1)}H=Qe}function MK(t){t=t|0;var n=0;e[t>>2]=3064,n=e[t+20>>2]|0,n|0&&(R[t+24>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+20>>2]=0),R[t+24>>0]=1,e[t+20>>2]=0,e[t+12>>2]=0,e[t+16>>2]=0}function RK(t){t=t|0;var n=0;if(e[t>>2]=3064,n=e[t+20>>2]|0,!n){ye(t);return}if(!(R[t+24>>0]|0)){ye(t);return}e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),ye(t)}function AK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;return a=H,H=H+16|0,e[a>>2]=t,e[a+4>>2]=o,t=e[t+72+((e[(e[n+4>>2]|0)+4>>2]|0)*144|0)+(e[(e[s+4>>2]|0)+4>>2]<<2)>>2]|0,t=q2[e[(e[t>>2]|0)+8>>2]&31](t,a,n,s)|0,H=a,t|0}function EK(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;if(d=H,H=H+16|0,e[4989]=(e[4989]|0)+1,e[t+4>>2]&2?(o=e[n+192>>2]|0,m=+Ah[e[(e[o>>2]|0)+20>>2]&1](o,.019999999552965164),i[d+4>>2]=m,o=e[s+192>>2]|0,u=+Ah[e[(e[o>>2]|0)+20>>2]&1](o,.019999999552965164),i[d>>2]=u,o=m<u?d+4|0:d):o=6988,l=e[o>>2]|0,m=+i[n+184>>2],u=+i[s+184>>2],u=m<u?m:u,o=e[t+68>>2]|0,a=e[o+8>>2]|0,a)p=e[o+12>>2]|0,e[o+12>>2]=e[p>>2],e[o+8>>2]=a+-1;else{if(e[t+4>>2]&4|0)return t=0,H=d,t|0;e[5637]=(e[5637]|0)+1,o=Xe(791)|0,o?(e[(o+4+15&-16)+-4>>2]=o,p=o+4+15&-16):p=0}if(e[p>>2]=1025,e[p+116>>2]=0,R[p+120>>0]=0,o=p+124|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[p+300>>2]=0,R[p+304>>0]=0,o=p+308|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[p+484>>2]=0,R[p+488>>0]=0,o=p+492|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[p+668>>2]=0,R[p+672>>0]=0,o=p+676|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,e[o+28>>2]=0,e[p+740>>2]=n,e[p+744>>2]=s,e[p+748>>2]=0,e[p+752>>2]=l,i[p+756>>2]=u,n=p,o=e[t+12>>2]|0,e[p+768>>2]=o,(o|0)==(e[t+16>>2]|0)&&(h=o|0?o<<1:1,(o|0)<(h|0))){if(h?(e[5637]=(e[5637]|0)+1,o=Xe((h<<2|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,l=o,o=e[t+12>>2]|0):l=0,(o|0)>0){a=0;do e[l+(a<<2)>>2]=e[(e[t+20>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[t+20>>2]|0,a&&(R[t+24>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[t+12>>2]|0),e[t+20>>2]=0),R[t+24>>0]=1,e[t+20>>2]=l,e[t+16>>2]=h}return e[(e[t+20>>2]|0)+(o<<2)>>2]=n,e[t+12>>2]=o+1,t=p,H=d,t|0}function NK(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(e[4989]=(e[4989]|0)+-1,zt[e[(e[t>>2]|0)+20>>2]&127](t,n),o=e[n+768>>2]|0,s=(e[t+12>>2]|0)+-1|0,l=e[t+20>>2]|0,a=e[l+(o<<2)>>2]|0,e[l+(o<<2)>>2]=e[l+(s<<2)>>2],e[(e[t+20>>2]|0)+(s<<2)>>2]=a,e[(e[(e[t+20>>2]|0)+(o<<2)>>2]|0)+768>>2]=o,e[t+12>>2]=s,t=e[t+68>>2]|0,!!n){if(l=e[t+16>>2]|0,l>>>0<=n>>>0&&(l+(Rt(e[t>>2]|0,e[t+4>>2]|0)|0)|0)>>>0>n>>>0){e[n>>2]=e[t+12>>2],e[t+12>>2]=n,e[t+8>>2]=(e[t+8>>2]|0)+1;return}e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)}}function bK(t,n){t=t|0,n=n|0,e[n+748>>2]=0}function DK(t,n,s){t=t|0,n=n|0,s=s|0;e:do switch(e[n+216>>2]|0){case 2:case 5:{switch(e[s+216>>2]|0){case 2:case 5:{n=0;break}default:break e}return n|0}default:}while(!1);return!((e[n+260>>2]|0)!=0&&!(I0[e[(e[n>>2]|0)+12>>2]&31](n,s)|0))&&(!(e[s+260>>2]|0)||I0[e[(e[s>>2]|0)+12>>2]&31](s,n)|0)?(t=1,t|0):(t=0,t|0)}function IK(t,n,s){return t=t|0,n=n|0,s=s|0,t=e[n+204>>2]|0,t&4|0||(n=e[s+204>>2]|0,n&4|0)?(s=0,s|0):t&3?(s=(n&3|0)==0,s|0):(s=1,s|0)}function PK(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;a=H,H=H+16|0,e[a>>2]=3136,e[a+4>>2]=s,e[a+8>>2]=t,f0[e[(e[n>>2]|0)+48>>2]&127](n,a,o),H=a}function LK(t){t=t|0,ye(t)}function kK(t,n){t=t|0,n=n|0;var s=0;return s=e[t+8>>2]|0,f0[e[s+60>>2]&127](n,s,e[t+4>>2]|0),0}function FK(t){return t=t|0,e[t+12>>2]|0}function BK(t,n){return t=t|0,n=n|0,e[(e[t+20>>2]|0)+(n<<2)>>2]|0}function UK(t){return t=t|0,e[t+12>>2]|0?(t=e[t+20>>2]|0,t|0):(t=0,t|0)}function OK(t){return t=t|0,e[t+68>>2]|0}function GK(t){return t=t|0,e[t+68>>2]|0}function VK(t,n){t=t|0,n=n|0;var s=0;return t=e[t+64>>2]|0,s=e[t+8>>2]|0,s|0?(n=e[t+12>>2]|0,e[t+12>>2]=e[n>>2],e[t+8>>2]=s+-1,n|0):(e[5637]=(e[5637]|0)+1,t=Xe(n+19|0)|0,t?(e[(t+4+15&-16)+-4>>2]=t,n=t+4+15&-16,n|0):(n=0,n|0))}function zK(t,n){t=t|0,n=n|0;var s=0;if(t=e[t+64>>2]|0,!!n){if(s=e[t+16>>2]|0,s>>>0<=n>>>0&&(s+(Rt(e[t>>2]|0,e[t+4>>2]|0)|0)|0)>>>0>n>>>0){e[n>>2]=e[t+12>>2],e[t+12>>2]=n,e[t+8>>2]=(e[t+8>>2]|0)+1;return}e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)}}function WK(t,n){t=t|0,n=n|0;var s=0,o=0;e[t>>2]=3064,e[t+4>>2]=2,R[t+24>>0]=1,e[t+20>>2]=0,e[t+12>>2]=0,e[t+16>>2]=0,e[t+28>>2]=4460,e[t+5256>>2]=n,e[t+60>>2]=70,e[t+64>>2]=Tt[e[(e[n>>2]|0)+12>>2]&127](n)|0,e[t+68>>2]=Tt[e[(e[n>>2]|0)+8>>2]&127](n)|0,n=0;do{s=0;do o=e[t+5256>>2]|0,e[t+72+(n*144|0)+(s<<2)>>2]=G0[e[(e[o>>2]|0)+16>>2]&63](o,n,s)|0,s=s+1|0;while((s|0)<36);n=n+1|0}while((n|0)<36)}function HK(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;if(h=H,H=H+80|0,l=e[e[t>>2]>>2]|0,u=e[e[t+4>>2]>>2]|0,!(G0[e[(e[n>>2]|0)+24>>2]&63](n,l,u)|0)){H=h;return}a=e[l+192>>2]|0,e[h+56>>2]=0,e[h+56+4>>2]=a,e[h+56+8>>2]=l,e[h+56+12>>2]=l+4,e[h+56+16>>2]=-1,e[h+56+20>>2]=-1,a=e[u+192>>2]|0,e[h+32>>2]=0,e[h+32+4>>2]=a,e[h+32+8>>2]=u,e[h+32+12>>2]=u+4,e[h+32+16>>2]=-1,e[h+32+20>>2]=-1,a=e[t+8>>2]|0,a?p=4:(a=q2[e[(e[n>>2]|0)+8>>2]&31](n,h+56|0,h+32|0,0)|0,e[t+8>>2]=a,a|0&&(p=4)),(p|0)==4&&(e[h>>2]=4460,e[h+4>>2]=0,e[h+8>>2]=h+56,e[h+12>>2]=h+32,(e[s+8>>2]|0)!=1?(o=+Mh[e[(e[a>>2]|0)+12>>2]&15](a,l,u,s,h),+i[s+12>>2]>o&&(i[s+12>>2]=o)):Zi[e[(e[a>>2]|0)+8>>2]&31](a,h+56|0,h+32|0,s,h)),H=h}function jK(t){t=t|0;var n=0;e[t>>2]=3156,n=e[t+276>>2]|0,n|0&&(R[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+276>>2]=0),R[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,e[t+272>>2]=0}function qK(t){t=t|0;var n=0;e[t>>2]=3156,n=e[t+276>>2]|0,n|0&&(R[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+276>>2]=0),R[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,e[t+272>>2]=0,e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function XK(t,n){t=t|0,n=n|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+192>>2]=n,e[t+200>>2]=n}function $K(t,n){t=t|0,n=n|0;var s=0,o=0;o=e[t+268>>2]|0;e:do if((o|0)>0)for(s=e[t+276>>2]|0,t=0;;){if((e[s+(t<<2)>>2]|0)==(n|0))break e;if(t=t+1|0,(t|0)>=(o|0)){t=o;break}}else t=o;while(!1);return(t|0)>=(o|0)|0}function YK(t){return t=t|0,256}function S6(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return e[n+16>>2]=e[t+4>>2],e[n+20>>2]=e[t+8>>2],e[n+24>>2]=e[t+12>>2],e[n+28>>2]=e[t+16>>2],e[n+32>>2]=e[t+20>>2],e[n+36>>2]=e[t+24>>2],e[n+40>>2]=e[t+28>>2],e[n+44>>2]=e[t+32>>2],e[n+48>>2]=e[t+36>>2],e[n+52>>2]=e[t+40>>2],e[n+56>>2]=e[t+44>>2],e[n+60>>2]=e[t+48>>2],e[n+64>>2]=e[t+52>>2],e[n+68>>2]=e[t+56>>2],e[n+72>>2]=e[t+60>>2],e[n+76>>2]=e[t+64>>2],e[n+80>>2]=e[t+68>>2],e[n+84>>2]=e[t+72>>2],e[n+88>>2]=e[t+76>>2],e[n+92>>2]=e[t+80>>2],e[n+96>>2]=e[t+84>>2],e[n+100>>2]=e[t+88>>2],e[n+104>>2]=e[t+92>>2],e[n+108>>2]=e[t+96>>2],e[n+112>>2]=e[t+100>>2],e[n+116>>2]=e[t+104>>2],e[n+120>>2]=e[t+108>>2],e[n+124>>2]=e[t+112>>2],e[n+128>>2]=e[t+116>>2],e[n+132>>2]=e[t+120>>2],e[n+136>>2]=e[t+124>>2],e[n+140>>2]=e[t+128>>2],e[n+144>>2]=e[t+132>>2],e[n+148>>2]=e[t+136>>2],e[n+152>>2]=e[t+140>>2],e[n+156>>2]=e[t+144>>2],e[n+160>>2]=e[t+148>>2],e[n+164>>2]=e[t+152>>2],e[n+168>>2]=e[t+156>>2],e[n+172>>2]=e[t+160>>2],e[n+176>>2]=e[t+164>>2],e[n+180>>2]=e[t+168>>2],e[n+184>>2]=e[t+172>>2],e[n+188>>2]=e[t+176>>2],e[n+224>>2]=e[t+180>>2],e[n+192>>2]=e[t+184>>2],e[n>>2]=0,e[n+4>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+192>>2]|0)|0,e[n+8>>2]=0,e[n+228>>2]=e[t+204>>2],e[n+232>>2]=e[t+208>>2],e[n+236>>2]=e[t+212>>2],e[n+240>>2]=e[t+216>>2],e[n+196>>2]=e[t+220>>2],e[n+200>>2]=e[t+224>>2],e[n+204>>2]=e[t+232>>2],e[n+208>>2]=e[t+228>>2],e[n+244>>2]=e[t+236>>2],o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n+12>>2]=a,a?(zt[e[(e[s>>2]|0)+48>>2]&127](s,o),s=t+248|0,s=e[s>>2]|0,a=n+212|0,e[a>>2]=s,a=t+252|0,a=e[a>>2]|0,s=n+216|0,e[s>>2]=a,s=t+256|0,s=e[s>>2]|0,a=n+220|0,e[a>>2]=s,t=t+260|0,t=e[t>>2]|0,a=n+248|0,e[a>>2]=t,9250):(s=t+248|0,s=e[s>>2]|0,a=n+212|0,e[a>>2]=s,a=t+252|0,a=e[a>>2]|0,s=n+216|0,e[s>>2]=a,s=t+256|0,s=e[s>>2]|0,a=n+220|0,e[a>>2]=s,t=t+260|0,t=e[t>>2]|0,a=n+248|0,e[a>>2]=t,9250)}function KK(t,n){t=t|0,n=n|0;var s=0,o=0;o=Tt[e[(e[t>>2]|0)+16>>2]&127](t)|0,o=G0[e[(e[n>>2]|0)+16>>2]&63](n,o,1)|0,s=G0[e[(e[t>>2]|0)+20>>2]&63](t,e[o+8>>2]|0,n)|0,Zi[e[(e[n>>2]|0)+20>>2]&31](n,o,s,1245859651,t)}function Vf(t){t=t|0;var n=0,s=0,o=0,a=0,l=0;if(e[t>>2]=3192,s=e[t+8>>2]|0,n=e[t+16>>2]|0,(s|0)>0){l=0;do o=(e[n+(l<<2)>>2]|0)+188|0,a=e[o>>2]|0,a&&(s=e[t+68>>2]|0,s=Tt[e[(e[s>>2]|0)+36>>2]&127](s)|0,f0[e[(e[s>>2]|0)+40>>2]&127](s,a,e[t+24>>2]|0),s=e[t+68>>2]|0,f0[e[(e[s>>2]|0)+12>>2]&127](s,a,e[t+24>>2]|0),e[o>>2]=0,s=e[t+8>>2]|0,n=e[t+16>>2]|0),l=l+1|0;while((l|0)<(s|0))}if(!n){R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0;return}R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0}function ZK(t){t=t|0,Vf(t),ye(t)}function QK(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(w=H,H=H+64|0,Xn(9296),n=e[t+8>>2]|0,(n|0)>0){g=0;do{if(m=e[(e[t+16>>2]|0)+(g<<2)>>2]|0,R[t+76>>0]|0)C=11;else switch(e[m+216>>2]|0){case 2:case 5:break;default:C=11}(C|0)==11&&(C=0,n=e[m+192>>2]|0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,m+4|0,w+48|0,w+32|0),u=+i[w+48>>2]+-.019999999552965164,i[w+48>>2]=u,p=+i[w+48+4>>2]+-.019999999552965164,i[w+48+4>>2]=p,l=+i[w+48+8>>2]+-.019999999552965164,i[w+48+8>>2]=l,s=+i[w+32>>2]+.019999999552965164,i[w+32>>2]=s,o=+i[w+32+4>>2]+.019999999552965164,i[w+32+4>>2]=o,a=+i[w+32+8>>2]+.019999999552965164,i[w+32+8>>2]=a,(R[t+44>>0]|0)!=0&&(e[m+236>>2]|0)==2&&(e[m+204>>2]&3|0)==0&&(n=e[m+192>>2]|0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,m+68|0,w+16|0,w),u=+i[w+16>>2]+-.019999999552965164,i[w+16>>2]=u,p=+i[w+16+4>>2]+-.019999999552965164,i[w+16+4>>2]=p,o=+i[w+16+8>>2]+-.019999999552965164,i[w+16+8>>2]=o,a=+i[w>>2]+.019999999552965164,i[w>>2]=a,l=+i[w+4>>2]+.019999999552965164,i[w+4>>2]=l,h=+i[w+8>>2]+.019999999552965164,i[w+8>>2]=h,s=+i[w+48>>2],u<s?i[w+48>>2]=u:u=s,s=+i[w+48+4>>2],p<s?i[w+48+4>>2]=p:p=s,s=+i[w+48+8>>2],o<s?(i[w+48+8>>2]=o,d=o):d=s,s=+i[w+16+12>>2],s<+i[w+48+12>>2]&&(i[w+48+12>>2]=s),s=+i[w+32>>2],s<a&&(i[w+32>>2]=a,s=a),o=+i[w+32+4>>2],o<l&&(i[w+32+4>>2]=l,o=l),a=+i[w+32+8>>2],a<h&&(i[w+32+8>>2]=h,a=h),l=+i[w+12>>2],+i[w+32+12>>2]<l&&(i[w+32+12>>2]=l),l=d),n=e[t+68>>2]|0,(e[m+204>>2]&1|0)==0&&(u=s-u,h=o-p,d=a-l,!(u*u+h*h+d*d<999999995904))?((e[m+216>>2]&-2|0)!=4&&(e[m+216>>2]=5),R[9308]|0&&(S=e[t+72>>2]|0,S|0)&&(R[9308]=0,zt[e[(e[S>>2]|0)+44>>2]&127](S,9309),m=e[t+72>>2]|0,zt[e[(e[m>>2]|0)+44>>2]&127](m,9358),m=e[t+72>>2]|0,zt[e[(e[m>>2]|0)+44>>2]&127](m,9426),m=e[t+72>>2]|0,zt[e[(e[m>>2]|0)+44>>2]&127](m,9491))):Zi[e[(e[n>>2]|0)+16>>2]&31](n,e[m+188>>2]|0,w+48|0,w+32|0,e[t+24>>2]|0),n=e[t+8>>2]|0),g=g+1|0}while((g|0)<(n|0))}if(n=e[2006]|0,C=(e[n+16>>2]|0)+-1|0,e[n+16>>2]=C,C|0){H=w;return}do if(e[n+4>>2]|0)if(Cn(w+48|0,0)|0,C=e[5649]|0,i[n+8>>2]=+i[n+8>>2]+ +(((e[w+48+4>>2]|0)-(e[C+4>>2]|0)+(((e[w+48>>2]|0)-(e[C>>2]|0)|0)*1e6|0)-(e[n+12>>2]|0)|0)>>>0)/1e3,e[n+16>>2]|0){H=w;return}else{n=e[2006]|0;break}while(!1);e[2006]=e[n+20>>2],H=w}function JK(t){t=t|0;var n=0,s=0;if(n=H,H=H+16|0,Xn(9500),s=e[t+68>>2]|0,zt[e[(e[s>>2]|0)+32>>2]&127](s,e[t+24>>2]|0),t=e[2006]|0,s=(e[t+16>>2]|0)+-1|0,e[t+16>>2]=s,s|0){H=n;return}do if(e[t+4>>2]|0)if(Cn(n|0,0)|0,s=e[5649]|0,i[t+8>>2]=+i[t+8>>2]+ +(((e[n+4>>2]|0)-(e[s+4>>2]|0)+(((e[n>>2]|0)-(e[s>>2]|0)|0)*1e6|0)-(e[t+12>>2]|0)|0)>>>0)/1e3,e[t+16>>2]|0){H=n;return}else{t=e[2006]|0;break}while(!1);e[2006]=e[t+20>>2],H=n}function eZ(t,n){t=t|0,n=n|0,e[t+72>>2]=n}function tZ(t){return t=t|0,e[t+72>>2]|0}function C6(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;if(S=H,H=H+192|0,!(Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0)){H=S;return}if(l=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,zt[e[(e[l>>2]|0)+8>>2]&127](S+80|0,l),l=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,(Tt[e[(e[l>>2]|0)+56>>2]&127](l)|0)&8|0&&(s=e[t+24>>2]|0,s|0)&&(u=Tt[e[(e[s>>2]|0)+36>>2]&127](s)|0,(u|0)>0)){a=0;do{if(s=e[t+24>>2]|0,s=I0[e[(e[s>>2]|0)+40>>2]&31](s,a)|0,o=e[s+748>>2]|0,(o|0)>0){l=0;do C=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,Rm[e[(e[C>>2]|0)+40>>2]&0](C,s+4+(l*184|0)+32|0,s+4+(l*184|0)+64|0,+i[s+4+(l*184|0)+80>>2],e[s+4+(l*184|0)+148>>2]|0,S+80+96|0),l=l+1|0;while((l|0)!=(o|0))}a=a+1|0}while((a|0)!=(u|0))}if(C=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,(Tt[e[(e[C>>2]|0)+56>>2]&127](C)|0)&3|0&&(e[t+8>>2]|0)>0){a=0;do{if(o=e[(e[t+16>>2]|0)+(a<<2)>>2]|0,!(e[o+204>>2]&32)){if(Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0&&(C=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,(Tt[e[(e[C>>2]|0)+56>>2]&127](C)|0)&1|0)){switch(e[S+64>>2]=1053609165,e[S+64+4>>2]=1053609165,e[S+64+8>>2]=1053609165,i[S+64+12>>2]=0,e[o+216>>2]|0){case 1:{e[S+64>>2]=e[S+80>>2],e[S+64+4>>2]=e[S+80+4>>2],e[S+64+8>>2]=e[S+80+8>>2],e[S+64+12>>2]=e[S+80+12>>2];break}case 2:{e[S+64>>2]=e[S+80+16>>2],e[S+64+4>>2]=e[S+80+16+4>>2],e[S+64+8>>2]=e[S+80+16+8>>2],e[S+64+12>>2]=e[S+80+16+12>>2];break}case 3:{e[S+64>>2]=e[S+80+32>>2],e[S+64+4>>2]=e[S+80+32+4>>2],e[S+64+8>>2]=e[S+80+32+8>>2],e[S+64+12>>2]=e[S+80+32+12>>2];break}case 4:{e[S+64>>2]=e[S+80+48>>2],e[S+64+4>>2]=e[S+80+48+4>>2],e[S+64+8>>2]=e[S+80+48+8>>2],e[S+64+12>>2]=e[S+80+48+12>>2];break}case 5:{e[S+64>>2]=e[S+80+64>>2],e[S+64+4>>2]=e[S+80+64+4>>2],e[S+64+8>>2]=e[S+80+64+8>>2],e[S+64+12>>2]=e[S+80+64+12>>2];break}default:e[S+64>>2]=1050253722,e[S+64+4>>2]=1050253722,e[S+64+8>>2]=1050253722,i[S+64+12>>2]=0}Kt[e[(e[t>>2]|0)+28>>2]&127](t,o+4|0,e[o+192>>2]|0,S+64|0)}if(s=e[t+72>>2]|0,s|0&&(Tt[e[(e[s>>2]|0)+56>>2]&127](s)|0)&2|0){e[S+32>>2]=e[S+80+80>>2],e[S+32+4>>2]=e[S+80+80+4>>2],e[S+32+8>>2]=e[S+80+80+8>>2],e[S+32+12>>2]=e[S+80+80+12>>2],C=e[o+192>>2]|0,Kt[e[(e[C>>2]|0)+8>>2]&127](C,o+4|0,S+64|0,S+48|0),i[S+64>>2]=+i[S+64>>2]+-.019999999552965164,i[S+64+4>>2]=+i[S+64+4>>2]+-.019999999552965164,i[S+64+8>>2]=+i[S+64+8>>2]+-.019999999552965164,i[S+48>>2]=+i[S+48>>2]+.019999999552965164,i[S+48+4>>2]=+i[S+48+4>>2]+.019999999552965164,i[S+48+8>>2]=+i[S+48+8>>2]+.019999999552965164;do if(R[t+44>>0]|0&&(e[o+236>>2]|0)==2&&(e[o+204>>2]&3|0)==0){if(C=e[o+192>>2]|0,Kt[e[(e[C>>2]|0)+8>>2]&127](C,o+68|0,S+16|0,S),n=+i[S+16>>2]+-.019999999552965164,i[S+16>>2]=n,p=+i[S+16+4>>2]+-.019999999552965164,i[S+16+4>>2]=p,h=+i[S+16+8>>2]+-.019999999552965164,i[S+16+8>>2]=h,d=+i[S>>2]+.019999999552965164,i[S>>2]=d,m=+i[S+4>>2]+.019999999552965164,i[S+4>>2]=m,g=+i[S+8>>2]+.019999999552965164,i[S+8>>2]=g,n<+i[S+64>>2]&&(i[S+64>>2]=n),p<+i[S+64+4>>2]&&(i[S+64+4>>2]=p),h<+i[S+64+8>>2]&&(i[S+64+8>>2]=h),n=+i[S+16+12>>2],n<+i[S+64+12>>2]&&(i[S+64+12>>2]=n),+i[S+48>>2]<d&&(i[S+48>>2]=d),+i[S+48+4>>2]<m&&(i[S+48+4>>2]=m),+i[S+48+8>>2]<g&&(i[S+48+8>>2]=g),n=+i[S+12>>2],!(+i[S+48+12>>2]<n))break;i[S+48+12>>2]=n}while(!1);C=e[t+72>>2]|0,Kt[e[(e[C>>2]|0)+60>>2]&127](C,S+64|0,S+48|0,S+32|0)}}a=a+1|0}while((a|0)<(e[t+8>>2]|0))}H=S}function iZ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0;switch(E=H,H=H+368|0,Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0&&(w=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,(Tt[e[(e[w>>2]|0)+56>>2]&127](w)|0)&32768|0)&&(w=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,rr[e[(e[w>>2]|0)+64>>2]&7](w,n,1)),a=e[s+4>>2]|0,a|0){case 31:{if(a=e[s+20>>2]|0,(a|0)<=0){H=E;return}do M=a,a=a+-1|0,w=e[s+28>>2]|0,ne=+i[w+(a*80|0)>>2],$=+i[w+(a*80|0)+4>>2],O=+i[w+(a*80|0)+8>>2],X=+i[w+(a*80|0)+16>>2],Y=+i[w+(a*80|0)+20>>2],U=+i[w+(a*80|0)+24>>2],q=+i[w+(a*80|0)+32>>2],z=+i[w+(a*80|0)+36>>2],F=+i[w+(a*80|0)+40>>2],oe=+i[w+(a*80|0)+48>>2],se=+i[w+(a*80|0)+52>>2],D=+i[w+(a*80|0)+56>>2],w=e[w+(a*80|0)+64>>2]|0,C=e[(e[t>>2]|0)+28>>2]|0,me=+i[n>>2],he=+i[n+4>>2],pe=+i[n+8>>2],_e=+i[n+16>>2],te=+i[n+20>>2],W=+i[n+24>>2],G=+i[n+32>>2],P=+i[n+36>>2],L=+i[n+40>>2],B=oe*me+se*he+D*pe+ +i[n+48>>2],b=oe*_e+se*te+D*W+ +i[n+52>>2],D=oe*G+se*P+D*L+ +i[n+56>>2],i[E+304>>2]=ne*me+X*he+q*pe,i[E+304+4>>2]=$*me+Y*he+z*pe,i[E+304+8>>2]=O*me+U*he+F*pe,i[E+304+12>>2]=0,i[E+304+16>>2]=ne*_e+X*te+q*W,i[E+304+20>>2]=$*_e+Y*te+z*W,i[E+304+24>>2]=O*_e+U*te+F*W,i[E+304+28>>2]=0,i[E+304+32>>2]=ne*G+X*P+q*L,i[E+304+36>>2]=$*G+Y*P+z*L,i[E+304+40>>2]=O*G+U*P+F*L,i[E+304+44>>2]=0,i[E+304+48>>2]=B,i[E+304+52>>2]=b,i[E+304+56>>2]=D,i[E+304+60>>2]=0,Kt[C&127](t,E+304|0,w,o);while((M|0)>1);H=E;return}case 0:{e[E+288>>2]=e[s+32>>2],e[E+288+4>>2]=e[s+32+4>>2],e[E+288+8>>2]=e[s+32+8>>2],e[E+288+12>>2]=e[s+32+12>>2],me=+Ct[e[(e[s>>2]|0)+48>>2]&15](s),se=+Ct[e[(e[s>>2]|0)+48>>2]&15](s),oe=+Ct[e[(e[s>>2]|0)+48>>2]&15](s),me=me+ +i[E+288>>2],i[E+288>>2]=me,se=se+ +i[E+288+4>>2],i[E+288+4>>2]=se,oe=oe+ +i[E+288+8>>2],i[E+288+8>>2]=oe,t=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,s=e[(e[t>>2]|0)+80>>2]|0,i[E+272>>2]=-me,i[E+272+4>>2]=-se,i[E+272+8>>2]=-oe,i[E+272+12>>2]=0,Zi[s&31](t,E+272|0,E+288|0,n,o),H=E;return}case 8:{oe=+Ct[e[(e[s>>2]|0)+48>>2]&15](s),t=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,wh[e[(e[t>>2]|0)+24>>2]&0](t,oe,n,o),H=E;return}case 9:{if(a=e[s+96>>2]|0,(a|0)<=0){H=E;return}do M=a,a=a+-1|0,w=e[s+104>>2]|0,O=+i[w+(a<<4)>>2],z=+i[w+(a<<4)+4>>2],se=+i[w+(a<<4)+8>>2],w=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,C=e[(e[w>>2]|0)+24>>2]|0,oe=+i[(e[s+124>>2]|0)+(a<<2)>>2],$=+i[n>>2],q=+i[n+4>>2],Y=+i[n+8>>2],ne=+i[n+16>>2],W=+i[n+20>>2],X=+i[n+24>>2],_e=+i[n+32>>2],pe=+i[n+36>>2],te=+i[n+40>>2],he=O*$+z*q+se*Y+ +i[n+48>>2],me=O*ne+z*W+se*X+ +i[n+52>>2],se=O*_e+z*pe+se*te+ +i[n+56>>2],i[E+192>>2]=$+q*0+Y*0,i[E+192+4>>2]=$*0+q+Y*0,i[E+192+8>>2]=Y+($*0+q*0),i[E+192+12>>2]=0,i[E+192+16>>2]=ne+W*0+X*0,i[E+192+20>>2]=ne*0+W+X*0,i[E+192+24>>2]=X+(ne*0+W*0),i[E+192+28>>2]=0,i[E+192+32>>2]=_e+pe*0+te*0,i[E+192+36>>2]=_e*0+pe+te*0,i[E+192+40>>2]=te+(_e*0+pe*0),i[E+192+44>>2]=0,i[E+192+48>>2]=he,i[E+192+52>>2]=me,i[E+192+56>>2]=se,i[E+192+60>>2]=0,wh[C&0](w,oe,E+192|0,o);while((M|0)>1);H=E;return}case 10:{M=e[s+56>>2]|0,se=+i[s+32+(((M+2|0)%3|0)<<2)>>2],oe=+i[s+32+(M<<2)>>2],t=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,e_[e[(e[t>>2]|0)+84>>2]&0](t,se,oe,M,n,o),H=E;return}case 11:{se=+i[s+60>>2],oe=+i[s+64>>2],s=e[s+72>>2]|0,t=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,e_[e[(e[t>>2]|0)+92>>2]&0](t,se,oe,s,n,o),H=E;return}case 13:{M=e[s+56>>2]|0,se=+Ct[e[(e[s>>2]|0)+92>>2]&15](s),e[E+176>>2]=e[s+32>>2],e[E+176+4>>2]=e[s+32+4>>2],e[E+176+8>>2]=e[s+32+8>>2],e[E+176+12>>2]=e[s+32+12>>2],he=+Ct[e[(e[s>>2]|0)+48>>2]&15](s),me=+Ct[e[(e[s>>2]|0)+48>>2]&15](s),oe=+Ct[e[(e[s>>2]|0)+48>>2]&15](s),i[E+176>>2]=he+ +i[E+176>>2],i[E+176+4>>2]=me+ +i[E+176+4>>2],i[E+176+8>>2]=oe+ +i[E+176+8>>2],oe=+i[E+176+(M<<2)>>2],t=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,e_[e[(e[t>>2]|0)+88>>2]&0](t,se,oe,M,n,o),H=E;return}case 28:{oe=+i[s+68>>2],t=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,bm[e[(e[t>>2]|0)+96>>2]&0](t,s+52|0,oe,n,o),H=E;return}default:{e:do if((a|0)<7){if(S=e[s+56>>2]|0,!S){if((Tt[e[(e[s>>2]|0)+100>>2]&127](s)|0)<=0)break;for(a=0;;)if(Kt[e[(e[s>>2]|0)+104>>2]&127](s,a,E+288|0,E+256|0),me=+i[E+288>>2],O=+i[n>>2],pe=+i[E+288+4>>2],z=+i[n+4>>2],te=+i[E+288+8>>2],Y=+i[n+8>>2],q=+i[n+16>>2],X=+i[n+20>>2],ne=+i[n+24>>2],_e=+i[n+32>>2],he=+i[n+36>>2],se=+i[n+40>>2],$=+i[n+48>>2],W=+i[n+52>>2],oe=+i[n+56>>2],i[E+80>>2]=me*O+pe*z+te*Y+$,i[E+80+4>>2]=me*q+pe*X+te*ne+W,i[E+80+8>>2]=me*_e+pe*he+te*se+oe,i[E+80+12>>2]=0,te=+i[E+256>>2],pe=+i[E+256+4>>2],me=+i[E+256+8>>2],i[E+48>>2]=te*O+pe*z+me*Y+$,i[E+48+4>>2]=te*q+pe*X+me*ne+W,i[E+48+8>>2]=te*_e+pe*he+me*se+oe,i[E+48+12>>2]=0,M=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,Kt[e[(e[M>>2]|0)+16>>2]&127](M,E+80|0,E+48|0,o),a=a+1|0,(a|0)>=(Tt[e[(e[s>>2]|0)+100>>2]&127](s)|0))break e}if((e[S+28>>2]|0)>0){w=0;do{a=e[S+36>>2]|0,C=e[a+(w*36|0)+4>>2]|0;t:do if((C|0)!=0&&(M=e[a+(w*36|0)+12>>2]|0,(C|0)>0))for(h=M,u=0,l=0,a=0,m=e[M+(C+-1<<2)>>2]|0,p=0;;){if(g=e[h+(p<<2)>>2]|0,d=e[S+16>>2]|0,u=(i[Z>>2]=(e[Z>>2]=u,+i[Z>>2]+ +i[d+(g<<4)>>2]),e[Z>>2]|0),a=(i[Z>>2]=(e[Z>>2]=a,+i[Z>>2]+ +i[d+(g<<4)+4>>2]),e[Z>>2]|0),l=(i[Z>>2]=(e[Z>>2]=l,+i[Z>>2]+ +i[d+(g<<4)+8>>2]),e[Z>>2]|0),d=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,h=e[(e[d>>2]|0)+16>>2]|0,ae=e[S+16>>2]|0,me=+i[ae+(m<<4)>>2],O=+i[n>>2],pe=+i[ae+(m<<4)+4>>2],z=+i[n+4>>2],te=+i[ae+(m<<4)+8>>2],Y=+i[n+8>>2],q=+i[n+16>>2],X=+i[n+20>>2],ne=+i[n+24>>2],_e=+i[n+32>>2],he=+i[n+36>>2],se=+i[n+40>>2],$=+i[n+48>>2],W=+i[n+52>>2],oe=+i[n+56>>2],i[E+64>>2]=me*O+pe*z+te*Y+$,i[E+64+4>>2]=me*q+pe*X+te*ne+W,i[E+64+8>>2]=me*_e+pe*he+te*se+oe,i[E+64+12>>2]=0,te=+i[ae+(g<<4)>>2],pe=+i[ae+(g<<4)+4>>2],me=+i[ae+(g<<4)+8>>2],i[E+32>>2]=te*O+pe*z+me*Y+$,i[E+32+4>>2]=te*q+pe*X+me*ne+W,i[E+32+8>>2]=te*_e+pe*he+me*se+oe,i[E+32+12>>2]=0,Kt[h&127](d,E+64|0,E+32|0,o),d=p+1|0,p=e[S+36>>2]|0,(d|0)>=(e[p+(w*36|0)+4>>2]|0))break t;h=e[p+(w*36|0)+12>>2]|0,m=g,p=d}else u=0,l=0,a=0;while(!1);ae=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,(Tt[e[(e[ae>>2]|0)+56>>2]&127](ae)|0)&16384|0&&(he=1/+(C|0)*(e[Z>>2]=l,+i[Z>>2]),te=1/+(C|0)*(e[Z>>2]=a,+i[Z>>2]),X=1/+(C|0)*(e[Z>>2]=u,+i[Z>>2]),e[E+288>>2]=1065353216,e[E+288+4>>2]=1065353216,e[E+288+8>>2]=0,i[E+288+12>>2]=0,ae=e[S+36>>2]|0,ne=+i[ae+(w*36|0)+20>>2],_e=+i[ae+(w*36|0)+24>>2],me=+i[ae+(w*36|0)+28>>2],ae=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,C=e[(e[ae>>2]|0)+16>>2]|0,P=+i[n>>2],U=+i[n+4>>2],G=+i[n+8>>2],z=+i[n+16>>2],Y=+i[n+20>>2],$=+i[n+24>>2],W=+i[n+32>>2],pe=+i[n+36>>2],se=+i[n+40>>2],O=+i[n+48>>2],q=+i[n+52>>2],oe=+i[n+56>>2],i[E+16>>2]=X*P+te*U+he*G+O,i[E+16+4>>2]=X*z+te*Y+he*$+q,i[E+16+8>>2]=X*W+te*pe+he*se+oe,i[E+16+12>>2]=0,i[E>>2]=(X+ne)*P+(te+_e)*U+(he+me)*G+O,i[E+4>>2]=(X+ne)*z+(te+_e)*Y+(he+me)*$+q,i[E+8>>2]=(X+ne)*W+(te+_e)*pe+(he+me)*se+oe,i[E+12>>2]=0,Kt[C&127](ae,E+16|0,E,E+288|0)),w=w+1|0}while((w|0)<(e[S+28>>2]|0))}}while(!1);if(a=e[s+4>>2]|0,(a+-21|0)>>>0<9&&(e[E+288>>2]=1566444395,e[E+288+4>>2]=1566444395,e[E+288+8>>2]=1566444395,i[E+288+12>>2]=0,e[E+256>>2]=-581039253,e[E+256+4>>2]=-581039253,e[E+256+8>>2]=-581039253,i[E+256+12>>2]=0,a=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,e[E+80>>2]=3252,e[E+80+4>>2]=3276,e[E+80+8>>2]=a,e[E+80+12>>2]=e[o>>2],e[E+80+12+4>>2]=e[o+4>>2],e[E+80+12+8>>2]=e[o+8>>2],e[E+80+12+12>>2]=e[o+12>>2],e[E+80+28>>2]=e[n>>2],e[E+80+28+4>>2]=e[n+4>>2],e[E+80+28+8>>2]=e[n+8>>2],e[E+80+28+12>>2]=e[n+12>>2],e[E+80+44>>2]=e[n+16>>2],e[E+80+44+4>>2]=e[n+16+4>>2],e[E+80+44+8>>2]=e[n+16+8>>2],e[E+80+44+12>>2]=e[n+16+12>>2],e[E+80+60>>2]=e[n+32>>2],e[E+80+60+4>>2]=e[n+32+4>>2],e[E+80+60+8>>2]=e[n+32+8>>2],e[E+80+60+12>>2]=e[n+32+12>>2],e[E+80+76>>2]=e[n+48>>2],e[E+80+76+4>>2]=e[n+48+4>>2],e[E+80+76+8>>2]=e[n+48+8>>2],e[E+80+76+12>>2]=e[n+48+12>>2],Kt[e[(e[s>>2]|0)+64>>2]&127](s,E+80|0,E+256|0,E+288|0),a=e[s+4>>2]|0),(a|0)!=3){H=E;return}e[E+288>>2]=1566444395,e[E+288+4>>2]=1566444395,e[E+288+8>>2]=1566444395,i[E+288+12>>2]=0,e[E+256>>2]=-581039253,e[E+256+4>>2]=-581039253,e[E+256+8>>2]=-581039253,i[E+256+12>>2]=0,ae=Tt[e[(e[t>>2]|0)+20>>2]&127](t)|0,e[E+80>>2]=3252,e[E+80+4>>2]=3276,e[E+80+8>>2]=ae,e[E+80+12>>2]=e[o>>2],e[E+80+12+4>>2]=e[o+4>>2],e[E+80+12+8>>2]=e[o+8>>2],e[E+80+12+12>>2]=e[o+12>>2],e[E+80+28>>2]=e[n>>2],e[E+80+28+4>>2]=e[n+4>>2],e[E+80+28+8>>2]=e[n+8>>2],e[E+80+28+12>>2]=e[n+12>>2],e[E+80+44>>2]=e[n+16>>2],e[E+80+44+4>>2]=e[n+16+4>>2],e[E+80+44+8>>2]=e[n+16+8>>2],e[E+80+44+12>>2]=e[n+16+12>>2],e[E+80+60>>2]=e[n+32>>2],e[E+80+60+4>>2]=e[n+32+4>>2],e[E+80+60+8>>2]=e[n+32+8>>2],e[E+80+60+12>>2]=e[n+32+12>>2],e[E+80+76>>2]=e[n+48>>2],e[E+80+76+4>>2]=e[n+48+4>>2],e[E+80+76+8>>2]=e[n+48+8>>2],e[E+80+76+12>>2]=e[n+48+12>>2],ae=e[s+96>>2]|0,Kt[e[(e[ae>>2]|0)+8>>2]&127](ae,E+80+4|0,E+256|0,E+288|0),H=E;return}}}function nZ(t){t=t|0}function rZ(t){t=t|0,ye(t)}function sZ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0;if(s=H,H=H+96|0,h=+i[n>>2],M=+i[t+28>>2],G=+i[n+4>>2],z=+i[t+32>>2],d=+i[n+8>>2],m=+i[t+36>>2],g=+i[t+44>>2],S=+i[t+48>>2],C=+i[t+52>>2],w=+i[t+60>>2],E=+i[t+64>>2],D=+i[t+68>>2],b=+i[t+76>>2],B=+i[t+80>>2],L=+i[t+84>>2],i[s+80>>2]=h*M+G*z+d*m+b,i[s+80+4>>2]=h*g+G*S+d*C+B,i[s+80+8>>2]=h*w+G*E+d*D+L,i[s+80+12>>2]=0,F=+i[n+16>>2],P=+i[n+20>>2],U=+i[n+24>>2],i[s+64>>2]=F*M+P*z+U*m+b,i[s+64+4>>2]=F*g+P*S+U*C+B,i[s+64+8>>2]=F*w+P*E+U*D+L,i[s+64+12>>2]=0,O=+i[n+32>>2],Y=+i[n+36>>2],p=+i[n+40>>2],i[s+48>>2]=O*M+Y*z+p*m+b,i[s+48+4>>2]=O*g+Y*S+p*C+B,i[s+48+8>>2]=O*w+Y*E+p*D+L,i[s+48+12>>2]=0,a=(h*M+G*z+d*m+b+(F*M+P*z+U*m+b)+(O*M+Y*z+p*m+b))*.3333333432674408,l=(h*g+G*S+d*C+B+(F*g+P*S+U*C+B)+(O*g+Y*S+p*C+B))*.3333333432674408,u=(h*w+G*E+d*D+L+(F*w+P*E+U*D+L)+(O*w+Y*E+p*D+L))*.3333333432674408,i[s+32>>2]=a,i[s+32+4>>2]=l,i[s+32+8>>2]=u,i[s+32+12>>2]=0,n=e[t+8>>2]|0,!((Tt[e[(e[n>>2]|0)+56>>2]&127](n)|0)&16384)){o=e[t+8>>2]|0,$=e[o>>2]|0,$=$+16|0,$=e[$>>2]|0,n=t+12|0,Kt[$&127](o,s+80|0,s+64|0,n),o=e[t+8>>2]|0,$=e[o>>2]|0,$=$+16|0,$=e[$>>2]|0,Kt[$&127](o,s+64|0,s+48|0,n),t=e[t+8>>2]|0,o=e[t>>2]|0,o=o+16|0,o=e[o>>2]|0,Kt[o&127](t,s+48|0,s+80|0,n),H=s;return}ne=+i[s+80>>2],X=F*g+P*S+U*C+B-(h*g+G*S+d*C+B),q=F*w+P*E+U*D+L-(h*w+G*E+d*D+L),B=O*g+Y*S+p*C+B-(h*g+G*S+d*C+B),L=O*w+Y*E+p*D+L-(h*w+G*E+d*D+L),G=q*(O*M+Y*z+p*m+b-ne)-(F*M+P*z+U*m+b-ne)*L,Y=(F*M+P*z+U*m+b-ne)*B-X*(O*M+Y*z+p*m+b-ne),z=1/+ot(+(Y*Y+((X*L-q*B)*(X*L-q*B)+G*G))),e[s+16>>2]=1065353216,e[s+16+4>>2]=1065353216,e[s+16+8>>2]=0,i[s+16+12>>2]=0,n=e[t+8>>2]|0,o=e[(e[n>>2]|0)+16>>2]|0,i[s>>2]=z*(X*L-q*B)+a,i[s+4>>2]=z*G+l,i[s+8>>2]=z*Y+u,i[s+12>>2]=0,Kt[o&127](n,s+32|0,s,s+16|0),n=e[t+8>>2]|0,o=e[n>>2]|0,o=o+16|0,o=e[o>>2]|0,$=t+12|0,Kt[o&127](n,s+80|0,s+64|0,$),n=e[t+8>>2]|0,o=e[n>>2]|0,o=o+16|0,o=e[o>>2]|0,Kt[o&127](n,s+64|0,s+48|0,$),t=e[t+8>>2]|0,n=e[t>>2]|0,n=n+16|0,n=e[n>>2]|0,Kt[n&127](t,s+48|0,s+80|0,$),H=s}function oZ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+8>>2]&127](t,n,s,o)}function aZ(t){t=t|0}function cZ(t){t=t|0,ye(t+-4|0)}function lZ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t+-4>>2]|0)+8>>2]&127](t+-4|0,n,s,o)}function uZ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;a=H,H=H+256|0,e[a+32>>2]=3296,h=a+32+36|0,e[h>>2]=e[n>>2],e[h+4>>2]=e[n+4>>2],e[h+8>>2]=e[n+8>>2],e[h+12>>2]=e[n+12>>2],d=a+32+52|0,e[d>>2]=e[s>>2],e[d+4>>2]=e[s+4>>2],e[d+8>>2]=e[s+8>>2],e[d+12>>2]=e[s+12>>2],e[a+32+212>>2]=t,e[a+32+216>>2]=o,e[a+32+68>>2]=1065353216,e[a+32+72>>2]=0,e[a+32+72+4>>2]=0,e[a+32+72+8>>2]=0,e[a+32+72+12>>2]=0,e[a+32+88>>2]=1065353216,e[a+32+92>>2]=0,e[a+32+92+4>>2]=0,e[a+32+92+8>>2]=0,e[a+32+92+12>>2]=0,e[a+32+108>>2]=1065353216,e[a+32+112>>2]=0,e[a+32+116>>2]=e[h>>2],e[a+32+116+4>>2]=e[h+4>>2],e[a+32+116+8>>2]=e[h+8>>2],e[a+32+116+12>>2]=e[h+12>>2],e[a+32+132>>2]=1065353216,e[a+32+136>>2]=0,e[a+32+136+4>>2]=0,e[a+32+136+8>>2]=0,e[a+32+136+12>>2]=0,e[a+32+152>>2]=1065353216,e[a+32+156>>2]=0,e[a+32+156+4>>2]=0,e[a+32+156+8>>2]=0,e[a+32+156+12>>2]=0,e[a+32+172>>2]=1065353216,e[a+32+176>>2]=0,e[a+32+180>>2]=e[s>>2],e[a+32+180+4>>2]=e[s+4>>2],e[a+32+180+8>>2]=e[s+8>>2],e[a+32+180+12>>2]=e[s+12>>2],m=+i[s>>2]-+i[n>>2],p=+i[s+4>>2]-+i[n+4>>2],u=+i[s+8>>2]-+i[n+8>>2],l=1/+ot(+(m*m+p*p+u*u)),C=m*l==0?0xde0b6b000000000:1/(m*l),i[a+32+4>>2]=C,S=p*l==0?0xde0b6b000000000:1/(p*l),i[a+32+8>>2]=S,g=u*l==0?0xde0b6b000000000:1/(u*l),i[a+32+12>>2]=g,e[a+32+20>>2]=C<0&1,e[a+32+24>>2]=S<0&1,e[a+32+28>>2]=g<0&1,i[a+32+32>>2]=m*l*(+i[d>>2]-+i[h>>2])+p*l*(+i[a+32+56>>2]-+i[a+32+40>>2])+u*l*(+i[a+32+60>>2]-+i[a+32+44>>2]),t=e[t+68>>2]|0,o=e[(e[t>>2]|0)+24>>2]|0,e[a+16>>2]=0,e[a+16+4>>2]=0,e[a+16+8>>2]=0,e[a+16+12>>2]=0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,Ro[o&7](t,n,s,a+32|0,a+16|0,a),H=a}function fZ(t){t=t|0}function _Z(t){t=t|0,ye(t)}function pZ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;return o=H,H=H+32|0,s=e[t+216>>2]|0,+i[s+4>>2]==0?(t=0,H=o,t|0):(n=e[n>>2]|0,I0[e[(e[s>>2]|0)+8>>2]&31](s,e[n+188>>2]|0)|0?(a=e[n+192>>2]|0,s=e[t+216>>2]|0,e[o>>2]=0,e[o+4>>2]=a,e[o+8>>2]=n,e[o+12>>2]=n+4,e[o+16>>2]=-1,e[o+20>>2]=-1,T6(t+68|0,t+132|0,o,s),t=1,H=o,t|0):(t=1,H=o,t|0))}function T6(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0;if(w=H,H=H+752|0,e[w+136+8>>2]=0,e[w+136+12>>2]=-1,e[w+136+16>>2]=1065353216,e[w+136+20>>2]=1065353216,e[w+136+24>>2]=1065353216,i[w+136+28>>2]=0,e[w+136>>2]=6380,e[w+136+4>>2]=8,i[w+136+32>>2]=0,i[w+136+48>>2]=0,S=e[s+4>>2]|0,C=e[s+12>>2]|0,a=e[S+4>>2]|0,(a|0)<20){e[w+568>>2]=3316,e[w+568+168>>2]=0,i[w+568+172>>2]=0,e[w+568+164>>2]=e[o+4>>2],i[w+208+308>>2]=9999999747378752e-20,R[w+208+332>>0]=0,e[w+192>>2]=7024,e[w+192+4>>2]=w+208,e[w+192+8>>2]=w+136,e[w+192+12>>2]=S,e[w+120>>2]=6864,e[w+120+4>>2]=w+208,e[w+120+8>>2]=w+136,e[w+120+12>>2]=S,S=(e[o+16>>2]&8|0)==0?w+192|0:w+120|0,Em[e[(e[S>>2]|0)+8>>2]&3](S,t,n,C,C,w+568|0)|0&&(l=w+568+132|0,u=+i[l>>2],p=+i[w+568+136>>2],h=+i[w+568+140>>2],u*u+p*p+h*h>9999999747378752e-20)&&(d=+i[w+568+164>>2],d<+i[o+4>>2])&&(g=1/+ot(+(u*u+p*p+h*h)),i[l>>2]=u*g,i[w+568+136>>2]=p*g,i[w+568+140>>2]=h*g,e[w>>2]=e[s+8>>2],e[w+4>>2]=0,e[w+8>>2]=e[l>>2],e[w+8+4>>2]=e[l+4>>2],e[w+8+8>>2]=e[l+8>>2],e[w+8+12>>2]=e[l+12>>2],i[w+24>>2]=d,+Ao[e[(e[o>>2]|0)+12>>2]&15](o,w,1)),H=w;return}if((a+-21|0)>>>0>=9){if((a|0)!=31){H=w;return}if(a=e[S+68>>2]|0,s=e[s+8>>2]|0,e[w+568>>2]=3392,e[w+568+4>>2]=s,e[w+568+8>>2]=S,e[w+568+12>>2]=C,e[w+568+16>>2]=t,e[w+568+20>>2]=n,e[w+568+24>>2]=o,a)u=+i[C+48>>2],U=+i[t+48>>2]-u,h=+i[C+52>>2],P=+i[t+52>>2]-h,m=+i[C+56>>2],F=+i[t+56>>2]-m,L=+i[C>>2],B=+i[C+16>>2],b=+i[C+32>>2],D=+i[C+4>>2],E=+i[C+20>>2],M=+i[C+36>>2],p=+i[C+8>>2],d=+i[C+24>>2],g=+i[C+40>>2],i[w+208>>2]=U*L+P*B+F*b,i[w+208+4>>2]=U*D+P*E+F*M,i[w+208+8>>2]=U*p+P*d+F*g,i[w+208+12>>2]=0,u=+i[n+48>>2]-u,h=+i[n+52>>2]-h,m=+i[n+56>>2]-m,NZ(e[a>>2]|0,w+208|0,u*L+h*B+m*b,u*D+h*E+m*M,u*p+h*d+m*g,w+568|0);else if(a=e[S+20>>2]|0,(a|0)>0){l=0;do w6(w+568|0,l),l=l+1|0;while((l|0)<(a|0))}H=w;return}z=+i[C>>2],O=+i[C+16>>2],d=+i[C+32>>2],G=+i[C+4>>2],M=+i[C+20>>2],m=+i[C+36>>2],B=+i[C+8>>2],F=+i[C+24>>2],U=+i[C+40>>2],E=-+i[C+48>>2],D=-+i[C+52>>2],b=-+i[C+56>>2],P=+i[t+48>>2],L=+i[t+52>>2],h=+i[t+56>>2],u=z*E+O*D+d*b+(z*P+O*L+d*h),p=G*E+M*D+m*b+(G*P+M*L+m*h),h=B*E+F*D+U*b+(B*P+F*L+U*h),i[w+120>>2]=u,i[w+120+4>>2]=p,i[w+120+8>>2]=h,i[w+120+12>>2]=0,L=+i[n+48>>2],P=+i[n+52>>2],g=+i[n+56>>2],d=z*E+O*D+d*b+(z*L+O*P+d*g),m=G*E+M*D+m*b+(G*L+M*P+m*g),g=B*E+F*D+U*b+(B*L+F*P+U*g),(e[S+4>>2]|0)==21?(a=e[s+8>>2]|0,s=e[o+16>>2]|0,e[w+4>>2]=e[w+120>>2],e[w+4+4>>2]=e[w+120+4>>2],e[w+4+8>>2]=e[w+120+8>>2],e[w+4+12>>2]=e[w+120+12>>2],i[w+20>>2]=d,i[w+24>>2]=m,i[w+28>>2]=g,i[w+32>>2]=0,e[w+36>>2]=s,i[w+40>>2]=1,e[w>>2]=3344,e[w+44>>2]=o,e[w+48>>2]=a,e[w+52>>2]=S,e[w+56>>2]=e[C>>2],e[w+56+4>>2]=e[C+4>>2],e[w+56+8>>2]=e[C+8>>2],e[w+56+12>>2]=e[C+12>>2],e[w+72>>2]=e[C+16>>2],e[w+72+4>>2]=e[C+16+4>>2],e[w+72+8>>2]=e[C+16+8>>2],e[w+72+12>>2]=e[C+16+12>>2],e[w+88>>2]=e[C+32>>2],e[w+88+4>>2]=e[C+32+4>>2],e[w+88+8>>2]=e[C+32+8>>2],e[w+88+12>>2]=e[C+32+12>>2],e[w+104>>2]=e[C+48>>2],e[w+104+4>>2]=e[C+48+4>>2],e[w+104+8>>2]=e[C+48+8>>2],e[w+104+12>>2]=e[C+48+12>>2],e[w+40>>2]=e[o+4>>2],a=e[S+52>>2]|0,e[w+192>>2]=4836,e[w+192+4>>2]=a,e[w+192+8>>2]=w,a=e[S+56>>2]|0,e[w+568>>2]=0,e[w+568+4>>2]=0,e[w+568+8>>2]=0,e[w+568+12>>2]=0,e[w+208>>2]=0,e[w+208+4>>2]=0,e[w+208+8>>2]=0,e[w+208+12>>2]=0,R[a+60>>0]|0?gm(a,w+192|0,w+120|0,d,m,g,w+568|0,w+208|0,e[a+56>>2]|0):mm(a,w+192|0,w+120|0,d,m,g,w+568|0,w+208|0)):(s=e[s+8>>2]|0,n=e[o+16>>2]|0,i[w+568+4>>2]=u,i[w+568+8>>2]=p,i[w+568+12>>2]=h,i[w+568+16>>2]=0,i[w+568+20>>2]=d,i[w+568+24>>2]=m,i[w+568+28>>2]=g,i[w+568+32>>2]=0,e[w+568+36>>2]=n,i[w+568+40>>2]=1,e[w+568>>2]=3368,e[w+568+44>>2]=o,e[w+568+48>>2]=s,e[w+568+52>>2]=S,e[w+568+56>>2]=e[C>>2],e[w+568+56+4>>2]=e[C+4>>2],e[w+568+56+8>>2]=e[C+8>>2],e[w+568+56+12>>2]=e[C+12>>2],e[w+568+72>>2]=e[C+16>>2],e[w+568+72+4>>2]=e[C+16+4>>2],e[w+568+72+8>>2]=e[C+16+8>>2],e[w+568+72+12>>2]=e[C+16+12>>2],e[w+568+88>>2]=e[C+32>>2],e[w+568+88+4>>2]=e[C+32+4>>2],e[w+568+88+8>>2]=e[C+32+8>>2],e[w+568+88+12>>2]=e[C+32+12>>2],e[w+568+104>>2]=e[C+48>>2],e[w+568+104+4>>2]=e[C+48+4>>2],e[w+568+104+8>>2]=e[C+48+8>>2],e[w+568+104+12>>2]=e[C+48+12>>2],e[w+568+40>>2]=e[o+4>>2],i[w+208>>2]=u,i[w+208+4>>2]=p,i[w+208+8>>2]=h,i[w+208+12>>2]=0,d<u&&(i[w+208>>2]=d),m<p&&(i[w+208+4>>2]=m),g<h&&(i[w+208+8>>2]=g),i[w+192>>2]=u,i[w+192+4>>2]=p,i[w+192+8>>2]=h,i[w+192+12>>2]=0,u<d&&(i[w+192>>2]=d),p<m&&(i[w+192+4>>2]=m),h<g&&(i[w+192+8>>2]=g),Kt[e[(e[S>>2]|0)+64>>2]&127](S,w+568|0,w+208|0,w+192|0)),H=w}function hZ(t,n){t=t|0,n=+n}function dZ(t,n){t=t|0,n=n|0}function mZ(t,n,s){t=t|0,n=n|0,s=s|0}function gZ(t){t=t|0}function xZ(t){t=t|0,ye(t)}function yZ(t){t=t|0,ye(t)}function vZ(t,n,s,o,a){t=t|0,n=n|0,s=+s,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0;return l=H,H=H+48|0,e[l+32>>2]=o,e[l+32+4>>2]=a,m=+i[n>>2],d=+i[n+4>>2],u=+i[n+8>>2],h=+i[t+56>>2]*m+ +i[t+60>>2]*d+ +i[t+64>>2]*u,p=m*+i[t+72>>2]+d*+i[t+76>>2]+u*+i[t+80>>2],u=m*+i[t+88>>2]+d*+i[t+92>>2]+u*+i[t+96>>2],e[l>>2]=e[t+48>>2],e[l+4>>2]=l+32,i[l+8>>2]=h,i[l+12>>2]=p,i[l+16>>2]=u,i[l+20>>2]=0,i[l+24>>2]=s,a=e[t+44>>2]|0,s=+Ao[e[(e[a>>2]|0)+12>>2]&15](a,l,1),H=l,+s}function SZ(t){t=t|0,ye(t)}function CZ(t,n,s,o,a){t=t|0,n=n|0,s=+s,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0;return l=H,H=H+48|0,e[l+32>>2]=o,e[l+32+4>>2]=a,m=+i[n>>2],d=+i[n+4>>2],u=+i[n+8>>2],h=+i[t+56>>2]*m+ +i[t+60>>2]*d+ +i[t+64>>2]*u,p=m*+i[t+72>>2]+d*+i[t+76>>2]+u*+i[t+80>>2],u=m*+i[t+88>>2]+d*+i[t+92>>2]+u*+i[t+96>>2],e[l>>2]=e[t+48>>2],e[l+4>>2]=l+32,i[l+8>>2]=h,i[l+12>>2]=p,i[l+16>>2]=u,i[l+20>>2]=0,i[l+24>>2]=s,a=e[t+44>>2]|0,s=+Ao[e[(e[a>>2]|0)+12>>2]&15](a,l,1),H=l,+s}function TZ(t){t=t|0,ye(t)}function wZ(t,n){t=t|0,n=n|0,w6(t,e[n+36>>2]|0)}function w6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0;s=H,H=H+128|0,$=e[(e[t+8>>2]|0)+28>>2]|0,a=e[$+(n*80|0)+64>>2]|0,o=e[t+12>>2]|0,B=+i[$+(n*80|0)>>2],O=+i[o>>2],b=+i[$+(n*80|0)+16>>2],G=+i[o+4>>2],D=+i[$+(n*80|0)+32>>2],U=+i[o+8>>2],E=+i[$+(n*80|0)+4>>2],M=+i[$+(n*80|0)+20>>2],w=+i[$+(n*80|0)+36>>2],C=+i[$+(n*80|0)+8>>2],g=+i[$+(n*80|0)+24>>2],d=+i[$+(n*80|0)+40>>2],P=+i[o+16>>2],F=+i[o+20>>2],L=+i[o+24>>2],S=+i[o+32>>2],m=+i[o+36>>2],h=+i[o+40>>2],Y=+i[$+(n*80|0)+48>>2],z=+i[$+(n*80|0)+52>>2],l=+i[$+(n*80|0)+56>>2],p=+i[o+48>>2]+(O*Y+G*z+U*l),u=P*Y+F*z+L*l+ +i[o+52>>2],l=S*Y+m*z+h*l+ +i[o+56>>2],i[s+56>>2]=B*O+b*G+D*U,i[s+56+4>>2]=O*E+G*M+U*w,i[s+56+8>>2]=O*C+G*g+U*d,i[s+56+12>>2]=0,i[s+56+16>>2]=B*P+b*F+D*L,i[s+56+20>>2]=E*P+M*F+w*L,i[s+56+24>>2]=C*P+g*F+d*L,i[s+56+28>>2]=0,i[s+56+32>>2]=B*S+b*m+D*h,i[s+56+36>>2]=E*S+M*m+w*h,i[s+56+40>>2]=C*S+g*m+d*h,i[s+56+44>>2]=0,i[s+56+48>>2]=p,i[s+56+52>>2]=u,i[s+56+56>>2]=l,i[s+56+60>>2]=0,o=e[t+4>>2]|0,e[s+32>>2]=0,e[s+32+4>>2]=a,e[s+32+8>>2]=o,e[s+32+12>>2]=s+56,e[s+32+16>>2]=-1,e[s+32+20>>2]=n,o=e[t+24>>2]|0,i[s+4>>2]=1,e[s+8>>2]=0,ee[s+12>>1]=1,ee[s+14>>1]=-1,e[s+16>>2]=0,e[s>>2]=3428,e[s+20>>2]=o,e[s+24>>2]=n,e[s+4>>2]=e[o+4>>2],e[s+16>>2]=e[o+16>>2],T6(e[t+16>>2]|0,e[t+20>>2]|0,s+32|0,s),H=s}function MZ(t){t=t|0}function RZ(t){t=t|0,ye(t)}function AZ(t,n){return t=t|0,n=n|0,t=e[t+20>>2]|0,I0[e[(e[t>>2]|0)+8>>2]&31](t,n)|0}function EZ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;return o=H,H=H+16|0,e[o>>2]=-1,e[o+4>>2]=e[t+24>>2],e[n+4>>2]|0||(e[n+4>>2]=o),l=e[t+20>>2]|0,a=+Ao[e[(e[l>>2]|0)+12>>2]&15](l,n,s),e[t+4>>2]=e[(e[t+20>>2]|0)+4>>2],H=o,+a}function NZ(t,n,s,o,a,l){t=t|0,n=n|0,s=+s,o=+o,a=+a,l=l|0;var u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0;if(z=H,H=H+32|0,!t){H=z;return}for(L=s-+i[n>>2],B=o-+i[n+4>>2],b=a-+i[n+8>>2],w=1/+ot(+(L*L+B*B+b*b)),M=L*w==0?0xde0b6b000000000:1/(L*w),E=B*w==0?0xde0b6b000000000:1/(B*w),D=b*w==0?0xde0b6b000000000:1/(b*w),e[5637]=(e[5637]|0)+1,u=Xe(531)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,ln(u|0,0,512)|0,e[u>>2]=t,C=1,t=128,d=128,p=126;;){m=C+-1|0,S=e[u+(m<<2)>>2]|0,e[z>>2]=e[S>>2],e[z+4>>2]=e[S+4>>2],e[z+8>>2]=e[S+8>>2],e[z+12>>2]=e[S+12>>2],e[z+16>>2]=e[S+16>>2],e[z+16+4>>2]=e[S+16+4>>2],e[z+16+8>>2]=e[S+16+8>>2],e[z+16+12>>2]=e[S+16+12>>2],o=+i[n>>2],s=M*(+i[z+((M<0&1)<<4)>>2]-o),o=M*(+i[z+((M<0^1)<<4)>>2]-o),h=+i[n+4>>2],a=E*(+i[z+((E<0&1)<<4)+4>>2]-h),h=E*(+i[z+((E<0^1)<<4)+4>>2]-h);do if(!(a>o|s>h)&&(F=a>s?a:s,G=h<o?h:o,U=+i[n+8>>2],P=D*(+i[z+((D<0&1)<<4)+8>>2]-U),U=D*(+i[z+((D<0^1)<<4)+8>>2]-U),!(P>G|F>U))&&(U<G?U:G)>0&&(P>F?P:F)<L*w*L+B*w*B+b*w*b){if(!(e[S+40>>2]|0)){zt[e[(e[l>>2]|0)+12>>2]&127](l,S);break}if((m|0)>(p|0)){if(g=d<<1,(d|0)<(g|0)){do if((t|0)<(g|0)){if(d)if(e[5637]=(e[5637]|0)+1,t=Xe((d<<3|3)+16|0)|0,t?(e[(t+4+15&-16)+-4>>2]=t,t=t+4+15&-16):t=0,(d|0)>0){p=0;do e[t+(p<<2)>>2]=e[u+(p<<2)>>2],p=p+1|0;while((p|0)!=(d|0))}else O=17;else t=0,O=17;if((O|0)==17&&(O=0,!u)){p=g,u=t;break}e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0),p=g,u=t}else p=t;while(!1);ln(u+(d<<2)|0,0,d<<2|0)|0,t=p}d=g,p=g+-2|0}e[u+(m<<2)>>2]=e[S+36>>2],e[u+(C<<2)>>2]=e[S+40>>2],m=C+1|0}while(!1);if(m)C=m;else break}if(!u){H=z;return}e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0),H=z}function M6(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0;if(h=H,H=H+96|0,a=e[t+8>>2]|0,(a|0)==(e[t+12>>2]|0)&&(p=a|0?a<<1:1,(a|0)<(p|0))){if(p?(e[5637]=(e[5637]|0)+1,a=Xe((p<<2|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,u=a,a=e[t+8>>2]|0):u=0,(a|0)>0){l=0;do e[u+(l<<2)>>2]=e[(e[t+16>>2]|0)+(l<<2)>>2],l=l+1|0;while((l|0)!=(a|0))}l=e[t+16>>2]|0,l&&(R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0),a=e[t+8>>2]|0),e[t+16>>2]=0),R[t+20>>0]=1,e[t+16>>2]=u,e[t+12>>2]=p}e[(e[t+16>>2]|0)+(a<<2)>>2]=n,e[t+8>>2]=a+1,e[h+32>>2]=e[n+4>>2],e[h+32+4>>2]=e[n+4+4>>2],e[h+32+8>>2]=e[n+4+8>>2],e[h+32+12>>2]=e[n+4+12>>2],e[h+32+16>>2]=e[n+20>>2],e[h+32+16+4>>2]=e[n+20+4>>2],e[h+32+16+8>>2]=e[n+20+8>>2],e[h+32+16+12>>2]=e[n+20+12>>2],e[h+32+32>>2]=e[n+36>>2],e[h+32+32+4>>2]=e[n+36+4>>2],e[h+32+32+8>>2]=e[n+36+8>>2],e[h+32+32+12>>2]=e[n+36+12>>2],e[h+32+48>>2]=e[n+52>>2],e[h+32+48+4>>2]=e[n+52+4>>2],e[h+32+48+8>>2]=e[n+52+8>>2],e[h+32+48+12>>2]=e[n+52+12>>2],p=e[n+192>>2]|0,Kt[e[(e[p>>2]|0)+8>>2]&127](p,h+32|0,h+16|0,h),p=e[t+68>>2]|0,e[n+188>>2]=bh[e[(e[p>>2]|0)+8>>2]&3](p,h+16|0,h,e[(e[n+192>>2]|0)+4>>2]|0,n,s,o,e[t+24>>2]|0,0)|0,H=h}function R6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;if(s=e[n+188>>2]|0,s|0&&(l=e[t+68>>2]|0,l=Tt[e[(e[l>>2]|0)+36>>2]&127](l)|0,f0[e[(e[l>>2]|0)+40>>2]&127](l,s,e[t+24>>2]|0),l=e[t+68>>2]|0,f0[e[(e[l>>2]|0)+12>>2]&127](l,s,e[t+24>>2]|0),e[n+188>>2]=0),a=e[t+8>>2]|0,!((a|0)<=0)){for(l=e[t+16>>2]|0,s=0;o=l+(s<<2)|0,(e[o>>2]|0)!=(n|0);)if(s=s+1|0,(s|0)>=(a|0)){u=9;break}(u|0)!=9&&((s|0)>=(a|0)||(e[o>>2]=e[l+(a+-1<<2)>>2],e[(e[t+16>>2]|0)+(a+-1<<2)>>2]=n,e[t+8>>2]=a+-1))}}function bZ(t){t=t|0;var n=0,s=0,o=0,a=0;s=H,H=H+16|0,Xn(10245),Vt[e[(e[t>>2]|0)+8>>2]&255](t),Vt[e[(e[t>>2]|0)+12>>2]&255](t),n=e[t+24>>2]|0,Xn(10279),n|0&&(a=e[(e[n>>2]|0)+32>>2]|0,o=e[t+68>>2]|0,o=Tt[e[(e[o>>2]|0)+36>>2]&127](o)|0,Kt[a&127](n,o,t+28|0,e[t+24>>2]|0)),t=e[2006]|0,a=(e[t+16>>2]|0)+-1|0,e[t+16>>2]=a;do if(a)n=t;else{if(e[t+4>>2]|0){if(Cn(s|0,0)|0,n=e[5649]|0,i[t+8>>2]=+i[t+8>>2]+ +(((e[s+4>>2]|0)-(e[n+4>>2]|0)+(((e[s>>2]|0)-(e[n>>2]|0)|0)*1e6|0)-(e[t+12>>2]|0)|0)>>>0)/1e3,n=e[2006]|0,e[t+16>>2]|0)break}else n=t;n=e[n+20>>2]|0,e[2006]=n}while(!1);if(t=n+16|0,a=(e[t>>2]|0)+-1|0,e[t>>2]=a,a|0){H=s;return}do if(e[n+4>>2]|0)if(Cn(s|0,0)|0,o=e[5649]|0,a=n+8|0,i[a>>2]=+i[a>>2]+ +(((e[s+4>>2]|0)-(e[o+4>>2]|0)+(((e[s>>2]|0)-(e[o>>2]|0)|0)*1e6|0)-(e[n+12>>2]|0)|0)>>>0)/1e3,e[t>>2]|0){H=s;return}else{n=e[2006]|0;break}while(!1);e[2006]=e[n+20>>2],H=s}function DZ(t,n){t=t|0,n=n|0,Vt[e[(e[n>>2]|0)+32>>2]&255](n),A6(t,n),Vt[e[(e[n>>2]|0)+36>>2]&255](n)}function A6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0;if(L=H,H=H+80|0,R[L+16>>0]=1,e[L+12>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,R[L+36>>0]=1,e[L+32>>2]=0,e[L+24>>2]=0,e[L+28>>2]=0,R[L+56>>0]=1,e[L+52>>2]=0,e[L+44>>2]=0,e[L+48>>2]=0,R[L+76>>0]=1,e[L+72>>2]=0,e[L+64>>2]=0,e[L+68>>2]=0,s=e[t+8>>2]|0,(s|0)<=0){ch(L),H=L;return}for(u=0,p=0,a=0,o=0,w=0;;){C=e[(e[(e[t+16>>2]|0)+(w<<2)>>2]|0)+192>>2]|0,S=(C+~(C<<15)>>10^C+~(C<<15))*9|0,S=(S>>6^S)+~((S>>6^S)<<11)>>16^(S>>6^S)+~((S>>6^S)<<11),g=S&u+-1,h=g>>>0<p>>>0;e:do if(h){if(l=e[a+(g<<2)>>2]|0,(l|0)!=-1){for(d=e[L+72>>2]|0;;){if((C|0)==(e[d+(l<<3)>>2]|0)){m=9;break}if(p=e[o+(l<<2)>>2]|0,(p|0)==-1)break;l=p}if((m|0)==9&&(m=0,(e[L+52>>2]|0)+(l<<2)|0))break;if(!h){m=16;break}}if(s=e[a+(g<<2)>>2]|0,(s|0)!=-1){for(l=e[L+72>>2]|0;(C|0)!=(e[l+(s<<3)>>2]|0);)if(s=e[o+(s<<2)>>2]|0,(s|0)==-1){m=16;break e}e[(e[L+52>>2]|0)+(s<<2)>>2]=C,s=u,m=78}else m=16}else m=16;while(!1);if((m|0)==16){if(h=e[L+44>>2]|0,(h|0)==(u|0))if(s=u|0?u<<1:1,(u|0)<(s|0)){if((s|0)!=0&&(e[5637]=(e[5637]|0)+1,B=Xe((s<<2|3)+16|0)|0,(B|0)!=0)?(e[(B+4+15&-16)+-4>>2]=B,a=B+4+15&-16):a=0,(u|0)>0){o=0;do e[a+(o<<2)>>2]=e[(e[L+52>>2]|0)+(o<<2)>>2],o=o+1|0;while((o|0)!=(u|0))}o=e[L+52>>2]|0,o|0&&(R[L+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[L+52>>2]=0),R[L+56>>0]=1,e[L+52>>2]=a,e[L+48>>2]=s,o=u}else o=u,s=u;else o=h,s=u;if(e[(e[L+52>>2]|0)+(o<<2)>>2]=C,e[L+44>>2]=o+1,o=e[L+64>>2]|0,(o|0)==(e[L+68>>2]|0)&&(M=o|0?o<<1:1,(o|0)<(M|0))){if((M|0)!=0&&(e[5637]=(e[5637]|0)+1,E=Xe((M<<3|3)+16|0)|0,(E|0)!=0)?(e[(E+4+15&-16)+-4>>2]=E,a=E+4+15&-16):a=0,(o|0)>0){s=0;do p=(e[L+72>>2]|0)+(s<<3)|0,d=e[p+4>>2]|0,m=a+(s<<3)|0,e[m>>2]=e[p>>2],e[m+4>>2]=d,s=s+1|0;while((s|0)!=(o|0))}s=e[L+72>>2]|0,s|0&&(R[L+76>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[L+72>>2]=0),R[L+76>>0]=1,e[L+72>>2]=a,e[L+68>>2]=M,o=e[L+64>>2]|0,s=e[L+48>>2]|0}if(m=(e[L+72>>2]|0)+(o<<3)|0,e[m>>2]=C,e[m+4>>2]=0,e[L+64>>2]=o+1,(u|0)<(s|0)){p=e[L+4>>2]|0;do if((s|0)>(p|0)){if((s|0)>=(p|0)){do if((e[L+8>>2]|0)<(s|0)){if((s|0)!=0&&(e[5637]=(e[5637]|0)+1,D=Xe((s<<2|3)+16|0)|0,(D|0)!=0)?(e[(D+4+15&-16)+-4>>2]=D,o=D+4+15&-16):o=0,a=e[L+12>>2]|0,(p|0)<=0){if(!a){R[L+16>>0]=1,e[L+12>>2]=o,e[L+8>>2]=s;break}}else{l=0;do e[o+(l<<2)>>2]=e[a+(l<<2)>>2],l=l+1|0;while((l|0)!=(p|0))}R[L+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),R[L+16>>0]=1,e[L+12>>2]=o,e[L+8>>2]=s}else o=e[L+12>>2]|0;while(!1);ln(o+(p<<2)|0,0,s-p<<2|0)|0}if(e[L+4>>2]=s,u=e[L+24>>2]|0,(s|0)>(u|0)){do if((e[L+28>>2]|0)<(s|0)){if((s|0)!=0&&(e[5637]=(e[5637]|0)+1,b=Xe((s<<2|3)+16|0)|0,(b|0)!=0)?(e[(b+4+15&-16)+-4>>2]=b,o=b+4+15&-16):o=0,a=e[L+32>>2]|0,(u|0)<=0){if(!a){R[L+36>>0]=1,e[L+32>>2]=o,e[L+28>>2]=s;break}}else{l=0;do e[o+(l<<2)>>2]=e[a+(l<<2)>>2],l=l+1|0;while((l|0)!=(u|0))}R[L+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),R[L+36>>0]=1,e[L+32>>2]=o,e[L+28>>2]=s}else o=e[L+32>>2]|0;while(!1);ln(o+(u<<2)|0,0,s-u<<2|0)|0}if(e[L+24>>2]=s,(s|0)>0&&(g=s<<2,ln(e[L+12>>2]|0,-1,g|0)|0,ln(e[L+32>>2]|0,-1,g|0)|0),(p|0)<=0){s=e[L+48>>2]|0;break}o=e[L+72>>2]|0,a=e[L+12>>2]|0,l=e[L+32>>2]|0,s=e[L+48>>2]|0,u=0;do g=e[o+(u<<3)>>2]|0,g=(g+~(g<<15)>>10^g+~(g<<15))*9|0,g=a+((((g>>6^g)+~((g>>6^g)<<11)>>16^(g>>6^g)+~((g>>6^g)<<11))&s+-1)<<2)|0,e[l+(u<<2)>>2]=e[g>>2],e[g>>2]=u,u=u+1|0;while((u|0)!=(p|0))}while(!1);o=s,s=S&s+-1}else o=s,s=g;a=e[L+12>>2]|0,s=a+(s<<2)|0,m=e[L+32>>2]|0,e[m+(h<<2)>>2]=e[s>>2],e[s>>2]=h,s=o,o=m,m=78}if((m|0)==78&&(m=0,zt[e[(e[C>>2]|0)+60>>2]&127](C,n),u=s,s=e[t+8>>2]|0),l=w+1|0,(l|0)>=(s|0))break;p=e[L+4>>2]|0,w=l}if((s|0)>0)a=0;else{ch(L),H=L;return}do{switch(o=e[(e[t+16>>2]|0)+(a<<2)>>2]|0,e[o+236>>2]|0){case 64:case 1:{zt[e[(e[o>>2]|0)+24>>2]&127](o,n),s=e[t+8>>2]|0;break}default:}a=a+1|0}while((a|0)<(s|0));ch(L),H=L}function ch(t){t=t|0;var n=0;if(n=e[t+72>>2]|0,n|0&&(R[t+76>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+72>>2]=0),R[t+76>>0]=1,e[t+72>>2]=0,e[t+64>>2]=0,e[t+68>>2]=0,n=e[t+52>>2]|0,n|0&&(R[t+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+52>>2]=0),R[t+56>>0]=1,e[t+52>>2]=0,e[t+44>>2]=0,e[t+48>>2]=0,n=e[t+32>>2]|0,n|0&&(R[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+32>>2]=0),R[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0,n=e[t+12>>2]|0,!n){R[t+16>>0]=1,e[t+12>>2]=0,e[t+4>>2]=0,t=t+8|0,e[t>>2]=0;return}R[t+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+12>>2]=0,R[t+16>>0]=1,e[t+12>>2]=0,e[t+4>>2]=0,t=t+8|0,e[t>>2]=0}function lh(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l;var u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0;if(z=H,H=H+896|0,O=e[o+4>>2]|0,G=e[o+12>>2]|0,D=e[O+4>>2]|0,(D|0)<20){e[z+712>>2]=3316,e[z+712+168>>2]=0,i[z+712+172>>2]=l,e[z+712+164>>2]=e[a+4>>2],i[z+352+308>>2]=9999999747378752e-20,R[z+352+332>>0]=0,e[z+288>>2]=6908,e[z+64>>2]=6816,e[z+64+4>>2]=z+352,e[z+64+8>>2]=z+288,e[z+64+12>>2]=t,e[z+64+16>>2]=O,e[z+64+20>>2]=0,Uf(z+64|0,n,s,G,G,z+712|0)|0&&(u=z+712+132|0,p=+i[u>>2],h=+i[z+712+136>>2],m=+i[z+712+140>>2],p*p+h*h+m*m>9999999747378752e-20)&&(w=+i[z+712+164>>2],w<+i[a+4>>2])&&(l=1/+ot(+(p*p+h*h+m*m)),i[u>>2]=p*l,i[z+712+136>>2]=h*l,i[z+712+140>>2]=m*l,e[z+16>>2]=e[o+8>>2],e[z+16+4>>2]=0,e[z+16+8>>2]=e[u>>2],e[z+16+8+4>>2]=e[u+4>>2],e[z+16+8+8>>2]=e[u+8>>2],e[z+16+8+12>>2]=e[u+12>>2],e[z+16+24>>2]=e[z+712+148>>2],e[z+16+24+4>>2]=e[z+712+148+4>>2],e[z+16+24+8>>2]=e[z+712+148+8>>2],e[z+16+24+12>>2]=e[z+712+148+12>>2],i[z+16+40>>2]=w,+Ao[e[(e[a>>2]|0)+12>>2]&15](a,z+16|0,1)),H=z;return}if((D+-21|0)>>>0>=9){if((D|0)!=31){H=z;return}if(Xn(10657),(e[O+20>>2]|0)>0){u=0;do M=e[O+28>>2]|0,p=+i[M+(u*80|0)>>2],m=+i[M+(u*80|0)+4>>2],C=+i[M+(u*80|0)+8>>2],h=+i[M+(u*80|0)+16>>2],g=+i[M+(u*80|0)+20>>2],E=+i[M+(u*80|0)+24>>2],d=+i[M+(u*80|0)+32>>2],S=+i[M+(u*80|0)+36>>2],B=+i[M+(u*80|0)+40>>2],_e=+i[M+(u*80|0)+48>>2],te=+i[M+(u*80|0)+52>>2],U=+i[M+(u*80|0)+56>>2],M=e[M+(u*80|0)+64>>2]|0,W=+i[G>>2],ne=+i[G+4>>2],X=+i[G+8>>2],q=+i[G+16>>2],$=+i[G+20>>2],Y=+i[G+24>>2],w=+i[G+32>>2],b=+i[G+36>>2],L=+i[G+40>>2],F=_e*W+te*ne+U*X+ +i[G+48>>2],P=_e*q+te*$+U*Y+ +i[G+52>>2],U=_e*w+te*b+U*L+ +i[G+56>>2],i[z+712>>2]=p*W+h*ne+d*X,i[z+712+4>>2]=m*W+g*ne+S*X,i[z+712+8>>2]=C*W+E*ne+B*X,i[z+712+12>>2]=0,i[z+712+16>>2]=p*q+h*$+d*Y,i[z+712+20>>2]=m*q+g*$+S*Y,i[z+712+24>>2]=C*q+E*$+B*Y,i[z+712+28>>2]=0,i[z+712+32>>2]=p*w+h*b+d*L,i[z+712+36>>2]=m*w+g*b+S*L,i[z+712+40>>2]=C*w+E*b+B*L,i[z+712+44>>2]=0,i[z+712+48>>2]=F,i[z+712+52>>2]=P,i[z+712+56>>2]=U,i[z+712+60>>2]=0,ee[z+352+8>>1]=1,ee[z+352+10>>1]=-1,e[z+352>>2]=3500,e[z+352+12>>2]=a,e[z+352+16>>2]=u,e[z+352+4>>2]=e[a+4>>2],D=e[o+8>>2]|0,e[z+288>>2]=o,e[z+288+4>>2]=M,e[z+288+8>>2]=D,e[z+288+12>>2]=z+712,e[z+288+16>>2]=-1,e[z+288+20>>2]=u,lh(t,n,s,z+288|0,z+352|0,l),u=u+1|0;while((u|0)<(e[O+20>>2]|0))}if(u=e[2006]|0,O=(e[u+16>>2]|0)+-1|0,e[u+16>>2]=O,O|0){H=z;return}do if(e[u+4>>2]|0)if(Cn(z+712|0,0)|0,O=e[5649]|0,i[u+8>>2]=+i[u+8>>2]+ +(((e[z+712+4>>2]|0)-(e[O+4>>2]|0)+(((e[z+712>>2]|0)-(e[O>>2]|0)|0)*1e6|0)-(e[u+12>>2]|0)|0)>>>0)/1e3,e[u+16>>2]|0){H=z;return}else{u=e[2006]|0;break}while(!1);e[2006]=e[u+20>>2],H=z;return}switch(D|0){case 21:{m=+i[G>>2],g=+i[G+16>>2],S=+i[G+32>>2],C=+i[G+4>>2],w=+i[G+20>>2],E=+i[G+36>>2],b=+i[G+8>>2],B=+i[G+24>>2],L=+i[G+40>>2],F=-+i[G+48>>2],P=-+i[G+52>>2],U=-+i[G+56>>2],d=+i[n+48>>2],h=+i[n+52>>2],p=+i[n+56>>2],i[z+352>>2]=m*F+g*P+S*U+(m*d+g*h+S*p),i[z+352+4>>2]=C*F+w*P+E*U+(C*d+w*h+E*p),i[z+352+8>>2]=b*F+B*P+L*U+(b*d+B*h+L*p),i[z+352+12>>2]=0,p=+i[s+48>>2],h=+i[s+52>>2],d=+i[s+56>>2],pe=+i[s>>2],Y=+i[s+16>>2],$=+i[s+32>>2],q=+i[s+4>>2],X=+i[s+20>>2],ne=+i[s+36>>2],W=+i[s+8>>2],te=+i[s+24>>2],_e=+i[s+40>>2],i[z+288>>2]=m*pe+g*Y+S*$,i[z+288+4>>2]=m*q+g*X+S*ne,i[z+288+8>>2]=m*W+g*te+S*_e,i[z+288+12>>2]=0,i[z+288+16>>2]=C*pe+w*Y+E*$,i[z+288+20>>2]=C*q+w*X+E*ne,i[z+288+24>>2]=C*W+w*te+E*_e,i[z+288+28>>2]=0,i[z+288+32>>2]=b*pe+B*Y+L*$,i[z+288+36>>2]=b*q+B*X+L*ne,i[z+288+40>>2]=b*W+B*te+L*_e,u=z+288+44|0,e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,e[u+12>>2]=0,e[u+16>>2]=0,u=e[o+8>>2]|0,_e=+Ct[e[(e[O>>2]|0)+48>>2]&15](O),e[z+64>>2]=7e3,e[z+64+4>>2]=t,e[z+64+8>>2]=e[n>>2],e[z+64+8+4>>2]=e[n+4>>2],e[z+64+8+8>>2]=e[n+8>>2],e[z+64+8+12>>2]=e[n+12>>2],e[z+64+24>>2]=e[n+16>>2],e[z+64+24+4>>2]=e[n+16+4>>2],e[z+64+24+8>>2]=e[n+16+8>>2],e[z+64+24+12>>2]=e[n+16+12>>2],e[z+64+40>>2]=e[n+32>>2],e[z+64+40+4>>2]=e[n+32+4>>2],e[z+64+40+8>>2]=e[n+32+8>>2],e[z+64+40+12>>2]=e[n+32+12>>2],e[z+64+56>>2]=e[n+48>>2],e[z+64+56+4>>2]=e[n+48+4>>2],e[z+64+56+8>>2]=e[n+48+8>>2],e[z+64+56+12>>2]=e[n+48+12>>2],e[z+64+72>>2]=e[s>>2],e[z+64+72+4>>2]=e[s+4>>2],e[z+64+72+8>>2]=e[s+8>>2],e[z+64+72+12>>2]=e[s+12>>2],e[z+64+88>>2]=e[s+16>>2],e[z+64+88+4>>2]=e[s+16+4>>2],e[z+64+88+8>>2]=e[s+16+8>>2],e[z+64+88+12>>2]=e[s+16+12>>2],e[z+64+104>>2]=e[s+32>>2],e[z+64+104+4>>2]=e[s+32+4>>2],e[z+64+104+8>>2]=e[s+32+8>>2],e[z+64+104+12>>2]=e[s+32+12>>2],e[z+64+120>>2]=e[s+48>>2],e[z+64+120+4>>2]=e[s+48+4>>2],e[z+64+120+8>>2]=e[s+48+8>>2],e[z+64+120+12>>2]=e[s+48+12>>2],e[z+64+136>>2]=e[G>>2],e[z+64+136+4>>2]=e[G+4>>2],e[z+64+136+8>>2]=e[G+8>>2],e[z+64+136+12>>2]=e[G+12>>2],e[z+64+152>>2]=e[G+16>>2],e[z+64+152+4>>2]=e[G+16+4>>2],e[z+64+152+8>>2]=e[G+16+8>>2],e[z+64+152+12>>2]=e[G+16+12>>2],e[z+64+168>>2]=e[G+32>>2],e[z+64+168+4>>2]=e[G+32+4>>2],e[z+64+168+8>>2]=e[G+32+8>>2],e[z+64+168+12>>2]=e[G+32+12>>2],e[z+64+184>>2]=e[G+48>>2],e[z+64+184+4>>2]=e[G+48+4>>2],e[z+64+184+8>>2]=e[G+48+8>>2],e[z+64+184+12>>2]=e[G+48+12>>2],i[z+64+204>>2]=_e,e[z+64>>2]=3452,e[z+64+212>>2]=a,e[z+64+216>>2]=u,e[z+64+220>>2]=O,e[z+64+200>>2]=e[a+4>>2],i[z+64+208>>2]=l,Kt[e[(e[t>>2]|0)+8>>2]&127](t,z+288|0,z+16|0,z),u=e[O+52>>2]|0,e[z+712>>2]=4856,e[z+712+4>>2]=u,e[z+712+8>>2]=z+64,u=e[O+56>>2]|0,R[u+60>>0]|0?gm(u,z+712|0,z+352|0,m*F+g*P+S*U+(m*p+g*h+S*d),C*F+w*P+E*U+(C*p+w*h+E*d),b*F+B*P+L*U+(b*p+B*h+L*d),z+16|0,z,e[u+56>>2]|0):mm(u,z+712|0,z+352|0,m*F+g*P+S*U+(m*p+g*h+S*d),C*F+w*P+E*U+(C*p+w*h+E*d),b*F+B*P+L*U+(b*p+B*h+L*d),z+16|0,z),H=z;return}case 28:{e[z+712>>2]=3316,e[z+712+168>>2]=0,i[z+712+172>>2]=l,e[z+712+164>>2]=e[a+4>>2],e[z+352>>2]=6816,e[z+352+4>>2]=0,e[z+352+8>>2]=0,e[z+352+12>>2]=t,e[z+352+16>>2]=0,e[z+352+20>>2]=O,Uf(z+352|0,n,s,G,G,z+712|0)|0&&(M=z+712+132|0,d=+i[M>>2],g=+i[z+712+136>>2],S=+i[z+712+140>>2],d*d+g*g+S*S>9999999747378752e-20)&&(C=+i[z+712+164>>2],C<+i[a+4>>2])&&(pe=1/+ot(+(d*d+g*g+S*S)),i[M>>2]=d*pe,i[z+712+136>>2]=g*pe,i[z+712+140>>2]=S*pe,e[z+288>>2]=e[o+8>>2],e[z+288+4>>2]=0,e[z+288+8>>2]=e[M>>2],e[z+288+8+4>>2]=e[M+4>>2],e[z+288+8+8>>2]=e[M+8>>2],e[z+288+8+12>>2]=e[M+12>>2],e[z+288+24>>2]=e[z+712+148>>2],e[z+288+24+4>>2]=e[z+712+148+4>>2],e[z+288+24+8>>2]=e[z+712+148+8>>2],e[z+288+24+12>>2]=e[z+712+148+12>>2],i[z+288+40>>2]=C,+Ao[e[(e[a>>2]|0)+12>>2]&15](a,z+288|0,1)),H=z;return}default:{m=+i[G>>2],g=+i[G+16>>2],S=+i[G+32>>2],b=+i[G+4>>2],B=+i[G+20>>2],L=+i[G+36>>2],X=+i[G+8>>2],W=+i[G+24>>2],_e=+i[G+40>>2],$=-+i[G+48>>2],Y=-+i[G+52>>2],U=-+i[G+56>>2],F=+i[n+48>>2],P=+i[n+52>>2],p=+i[n+56>>2],d=m*$+g*Y+S*U+(m*F+g*P+S*p),h=b*$+B*Y+L*U+(b*F+B*P+L*p),p=X*$+W*Y+_e*U+(X*F+W*P+_e*p),P=+i[s+48>>2],F=+i[s+52>>2],E=+i[s+56>>2],C=m*$+g*Y+S*U+(m*P+g*F+S*E),w=b*$+B*Y+L*U+(b*P+B*F+L*E),E=X*$+W*Y+_e*U+(X*P+W*F+_e*E),F=+i[s>>2],P=+i[s+16>>2],U=+i[s+32>>2],Y=+i[s+4>>2],$=+i[s+20>>2],q=+i[s+36>>2],ne=+i[s+8>>2],te=+i[s+24>>2],pe=+i[s+40>>2],i[z+712>>2]=m*F+g*P+S*U,i[z+712+4>>2]=m*Y+g*$+S*q,i[z+712+8>>2]=m*ne+g*te+S*pe,i[z+712+12>>2]=0,i[z+712+16>>2]=b*F+B*P+L*U,i[z+712+20>>2]=b*Y+B*$+L*q,i[z+712+24>>2]=b*ne+B*te+L*pe,i[z+712+28>>2]=0,i[z+712+32>>2]=X*F+W*P+_e*U,i[z+712+36>>2]=X*Y+W*$+_e*q,i[z+712+40>>2]=X*ne+W*te+_e*pe,D=z+712+44|0,e[D>>2]=0,e[D+4>>2]=0,e[D+8>>2]=0,e[D+12>>2]=0,e[D+16>>2]=0,o=e[o+8>>2]|0,pe=+Ct[e[(e[O>>2]|0)+48>>2]&15](O),e[z+352>>2]=7e3,e[z+352+4>>2]=t,e[z+352+8>>2]=e[n>>2],e[z+352+8+4>>2]=e[n+4>>2],e[z+352+8+8>>2]=e[n+8>>2],e[z+352+8+12>>2]=e[n+12>>2],e[z+352+24>>2]=e[n+16>>2],e[z+352+24+4>>2]=e[n+16+4>>2],e[z+352+24+8>>2]=e[n+16+8>>2],e[z+352+24+12>>2]=e[n+16+12>>2],e[z+352+40>>2]=e[n+32>>2],e[z+352+40+4>>2]=e[n+32+4>>2],e[z+352+40+8>>2]=e[n+32+8>>2],e[z+352+40+12>>2]=e[n+32+12>>2],e[z+352+56>>2]=e[n+48>>2],e[z+352+56+4>>2]=e[n+48+4>>2],e[z+352+56+8>>2]=e[n+48+8>>2],e[z+352+56+12>>2]=e[n+48+12>>2],e[z+352+72>>2]=e[s>>2],e[z+352+72+4>>2]=e[s+4>>2],e[z+352+72+8>>2]=e[s+8>>2],e[z+352+72+12>>2]=e[s+12>>2],e[z+352+88>>2]=e[s+16>>2],e[z+352+88+4>>2]=e[s+16+4>>2],e[z+352+88+8>>2]=e[s+16+8>>2],e[z+352+88+12>>2]=e[s+16+12>>2],e[z+352+104>>2]=e[s+32>>2],e[z+352+104+4>>2]=e[s+32+4>>2],e[z+352+104+8>>2]=e[s+32+8>>2],e[z+352+104+12>>2]=e[s+32+12>>2],e[z+352+120>>2]=e[s+48>>2],e[z+352+120+4>>2]=e[s+48+4>>2],e[z+352+120+8>>2]=e[s+48+8>>2],e[z+352+120+12>>2]=e[s+48+12>>2],e[z+352+136>>2]=e[G>>2],e[z+352+136+4>>2]=e[G+4>>2],e[z+352+136+8>>2]=e[G+8>>2],e[z+352+136+12>>2]=e[G+12>>2],e[z+352+152>>2]=e[G+16>>2],e[z+352+152+4>>2]=e[G+16+4>>2],e[z+352+152+8>>2]=e[G+16+8>>2],e[z+352+152+12>>2]=e[G+16+12>>2],e[z+352+168>>2]=e[G+32>>2],e[z+352+168+4>>2]=e[G+32+4>>2],e[z+352+168+8>>2]=e[G+32+8>>2],e[z+352+168+12>>2]=e[G+32+12>>2],e[z+352+184>>2]=e[G+48>>2],e[z+352+184+4>>2]=e[G+48+4>>2],e[z+352+184+8>>2]=e[G+48+8>>2],e[z+352+184+12>>2]=e[G+48+12>>2],i[z+352+204>>2]=pe,e[z+352>>2]=3476,e[z+352+212>>2]=a,e[z+352+216>>2]=o,e[z+352+220>>2]=O,e[z+352+200>>2]=e[a+4>>2],i[z+352+208>>2]=l,Kt[e[(e[t>>2]|0)+8>>2]&127](t,z+712|0,z+288|0,z+64|0),i[z+16>>2]=d,i[z+16+4>>2]=h,i[z+16+8>>2]=p,i[z+16+12>>2]=0,C<d?(i[z+16>>2]=C,m=C):m=d,w<h?(i[z+16+4>>2]=w,g=w):g=h,E<p?(i[z+16+8>>2]=E,S=E):S=p,i[z>>2]=d,i[z+4>>2]=h,i[z+8>>2]=p,i[z+12>>2]=0,d<C&&(i[z>>2]=C,d=C),h<w&&(i[z+4>>2]=w,h=w),p<E&&(i[z+8>>2]=E,p=E),i[z+16>>2]=+i[z+288>>2]+m,i[z+16+4>>2]=+i[z+288+4>>2]+g,i[z+16+8>>2]=+i[z+288+8>>2]+S,i[z>>2]=+i[z+64>>2]+d,i[z+4>>2]=+i[z+64+4>>2]+h,i[z+8>>2]=+i[z+64+8>>2]+p,Kt[e[(e[O>>2]|0)+64>>2]&127](O,z+352|0,z+16|0,z),H=z;return}}}function IZ(t){t=t|0,ye(t)}function PZ(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=+o,a=a|0,l=l|0;var u=0;return u=H,H=H+64|0,e[u+48>>2]=a,e[u+48+4>>2]=l,a=e[t+212>>2]|0,+i[a+4>>2]>=o?(e[u>>2]=e[t+216>>2],e[u+4>>2]=u+48,e[u+8>>2]=e[n>>2],e[u+8+4>>2]=e[n+4>>2],e[u+8+8>>2]=e[n+8>>2],e[u+8+12>>2]=e[n+12>>2],e[u+24>>2]=e[s>>2],e[u+24+4>>2]=e[s+4>>2],e[u+24+8>>2]=e[s+8>>2],e[u+24+12>>2]=e[s+12>>2],i[u+40>>2]=o,o=+Ao[e[(e[a>>2]|0)+12>>2]&15](a,u,1),H=u,+o):(H=u,+o)}function LZ(t){t=t|0,ye(t)}function kZ(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=+o,a=a|0,l=l|0;var u=0;return u=H,H=H+64|0,e[u+48>>2]=a,e[u+48+4>>2]=l,a=e[t+212>>2]|0,+i[a+4>>2]>=o?(e[u>>2]=e[t+216>>2],e[u+4>>2]=u+48,e[u+8>>2]=e[n>>2],e[u+8+4>>2]=e[n+4>>2],e[u+8+8>>2]=e[n+8>>2],e[u+8+12>>2]=e[n+12>>2],e[u+24>>2]=e[s>>2],e[u+24+4>>2]=e[s+4>>2],e[u+24+8>>2]=e[s+8>>2],e[u+24+12>>2]=e[s+12>>2],i[u+40>>2]=o,o=+Ao[e[(e[a>>2]|0)+12>>2]&15](a,u,1),H=u,+o):(H=u,+o)}function FZ(t){t=t|0}function BZ(t){t=t|0,ye(t)}function UZ(t,n){return t=t|0,n=n|0,t=e[t+12>>2]|0,I0[e[(e[t>>2]|0)+8>>2]&31](t,n)|0}function OZ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;return o=H,H=H+16|0,e[o>>2]=-1,e[o+4>>2]=e[t+16>>2],e[n+4>>2]|0||(e[n+4>>2]=o),l=e[t+12>>2]|0,a=+Ao[e[(e[l>>2]|0)+12>>2]&15](l,n,s),e[t+4>>2]=e[(e[t+12>>2]|0)+4>>2],H=o,+a}function t1(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l;var u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0;if(u=H,H=H+464|0,Xn(10877),e[u+128>>2]=e[s>>2],e[u+128+4>>2]=e[s+4>>2],e[u+128+8>>2]=e[s+8>>2],e[u+128+12>>2]=e[s+12>>2],e[u+128+16>>2]=e[s+16>>2],e[u+128+16+4>>2]=e[s+16+4>>2],e[u+128+16+8>>2]=e[s+16+8>>2],e[u+128+16+12>>2]=e[s+16+12>>2],e[u+128+32>>2]=e[s+32>>2],e[u+128+32+4>>2]=e[s+32+4>>2],e[u+128+32+8>>2]=e[s+32+8>>2],e[u+128+32+12>>2]=e[s+32+12>>2],h=u+128+48|0,e[h>>2]=e[s+48>>2],e[h+4>>2]=e[s+48+4>>2],e[h+8>>2]=e[s+48+8>>2],e[h+12>>2]=e[s+48+12>>2],e[u+64>>2]=e[o>>2],e[u+64+4>>2]=e[o+4>>2],e[u+64+8>>2]=e[o+8>>2],e[u+64+12>>2]=e[o+12>>2],e[u+64+16>>2]=e[o+16>>2],e[u+64+16+4>>2]=e[o+16+4>>2],e[u+64+16+8>>2]=e[o+16+8>>2],e[u+64+16+12>>2]=e[o+16+12>>2],e[u+64+32>>2]=e[o+32>>2],e[u+64+32+4>>2]=e[o+32+4>>2],e[u+64+32+8>>2]=e[o+32+8>>2],e[u+64+32+12>>2]=e[o+32+12>>2],p=u+64+48|0,e[p>>2]=e[o+48>>2],e[p+4>>2]=e[o+48+4>>2],e[p+8>>2]=e[o+48+8>>2],e[p+12>>2]=e[o+48+12>>2],Sa(u+128|0,u+64|0,u+256|0,u+192|0),E=+i[u+192>>2],d=E*+i[u+256+4>>2],w=E*+i[u+256+8>>2],i[u+16>>2]=+i[u+256>>2]*E,i[u+16+4>>2]=d,i[u+16+8>>2]=w,i[u+16+12>>2]=0,e[u+256>>2]=0,e[u+256+4>>2]=0,e[u+256+8>>2]=0,e[u+256+12>>2]=0,e[u+192+4>>2]=0,e[u+192+4+4>>2]=0,e[u+192+24>>2]=0,e[u+192+24+4>>2]=0,M=u+192+44|0,e[M>>2]=0,e[M+4>>2]=0,e[M+8>>2]=0,e[M+12>>2]=0,e[M+16>>2]=0,ds(u+128|0,u),w=+i[u>>2],d=+i[u+4>>2],E=+i[u+8>>2],C=+i[u+12>>2],g=w*(2/(w*w+d*d+E*E+C*C)),m=d*(2/(w*w+d*d+E*E+C*C)),S=E*(2/(w*w+d*d+E*E+C*C)),i[u+192>>2]=1-(d*m+E*S),i[u+192+4>>2]=w*m-C*S,i[u+192+8>>2]=w*S+C*m,i[u+192+12>>2]=0,i[u+192+16>>2]=w*m+C*S,i[u+192+20>>2]=1-(w*g+E*S),i[u+192+24>>2]=d*S-C*g,i[u+192+28>>2]=0,i[u+192+32>>2]=w*S-C*m,i[u+192+36>>2]=d*S+C*g,i[u+192+40>>2]=1-(w*g+d*m),i[M>>2]=0,I6(n,u+192|0,u+256|0,u+16|0,u+48|0,u+32|0),e[u+256>>2]=3524,e[u+256+36>>2]=e[s>>2],e[u+256+36+4>>2]=e[s+4>>2],e[u+256+36+8>>2]=e[s+8>>2],e[u+256+36+12>>2]=e[s+12>>2],e[u+256+52>>2]=e[s+16>>2],e[u+256+52+4>>2]=e[s+16+4>>2],e[u+256+52+8>>2]=e[s+16+8>>2],e[u+256+52+12>>2]=e[s+16+12>>2],e[u+256+68>>2]=e[s+32>>2],e[u+256+68+4>>2]=e[s+32+4>>2],e[u+256+68+8>>2]=e[s+32+8>>2],e[u+256+68+12>>2]=e[s+32+12>>2],M=u+256+84|0,e[M>>2]=e[s+48>>2],e[M+4>>2]=e[s+48+4>>2],e[M+8>>2]=e[s+48+8>>2],e[M+12>>2]=e[s+48+12>>2],e[u+256+100>>2]=e[o>>2],e[u+256+100+4>>2]=e[o+4>>2],e[u+256+100+8>>2]=e[o+8>>2],e[u+256+100+12>>2]=e[o+12>>2],e[u+256+116>>2]=e[o+16>>2],e[u+256+116+4>>2]=e[o+16+4>>2],e[u+256+116+8>>2]=e[o+16+8>>2],e[u+256+116+12>>2]=e[o+16+12>>2],e[u+256+132>>2]=e[o+32>>2],e[u+256+132+4>>2]=e[o+32+4>>2],e[u+256+132+8>>2]=e[o+32+8>>2],e[u+256+132+12>>2]=e[o+32+12>>2],s=u+256+148|0,e[s>>2]=e[o+48>>2],e[s+4>>2]=e[o+48+4>>2],e[s+8>>2]=e[o+48+8>>2],e[s+12>>2]=e[o+48+12>>2],e[u+256+180>>2]=t,e[u+256+184>>2]=a,i[u+256+188>>2]=l,e[u+256+192>>2]=n,m=+i[s>>2]-+i[M>>2],d=+i[u+256+152>>2]-+i[u+256+88>>2],g=+i[u+256+156>>2]-+i[u+256+92>>2],l=1/+ot(+(m*m+d*d+g*g)),w=m*l==0?0xde0b6b000000000:1/(m*l),i[u+256+4>>2]=w,C=d*l==0?0xde0b6b000000000:1/(d*l),i[u+256+8>>2]=C,S=g*l==0?0xde0b6b000000000:1/(g*l),i[u+256+12>>2]=S,e[u+256+20>>2]=w<0&1,e[u+256+24>>2]=C<0&1,e[u+256+28>>2]=S<0&1,i[u+256+32>>2]=g*(g*l)+(m*(m*l)+d*(d*l)),n=e[t+68>>2]|0,Ro[e[(e[n>>2]|0)+24>>2]&7](n,h,p,u+256|0,u+48|0,u+32|0),n=e[2006]|0,t=(e[n+16>>2]|0)+-1|0,e[n+16>>2]=t,t|0){H=u;return}do if(e[n+4>>2]|0)if(Cn(u+256|0,0)|0,M=e[5649]|0,i[n+8>>2]=+i[n+8>>2]+ +(((e[u+256+4>>2]|0)-(e[M+4>>2]|0)+(((e[u+256>>2]|0)-(e[M>>2]|0)|0)*1e6|0)-(e[n+12>>2]|0)|0)>>>0)/1e3,e[n+16>>2]|0){H=u;return}else{n=e[2006]|0;break}while(!1);e[2006]=e[n+20>>2],H=u}function Sa(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0;if(h=H,H=H+64|0,m=+i[t+20>>2],D=+i[t+40>>2],S=+i[t+24>>2],M=+i[t+36>>2],E=+i[t+32>>2],d=+i[t+16>>2],p=+i[t>>2],u=+i[t+4>>2],C=+i[t+8>>2],l=1/((m*D-S*M)*p+u*(S*E-D*d)+(M*d-m*E)*C),P=+i[n>>2],F=+i[n+4>>2],U=+i[n+8>>2],L=+i[n+16>>2],B=+i[n+20>>2],b=+i[n+24>>2],w=+i[n+32>>2],g=+i[n+36>>2],a=+i[n+40>>2],i[h+16>>2]=U*((M*d-m*E)*l)+(P*((m*D-S*M)*l)+F*((S*E-D*d)*l)),i[h+16+4>>2]=U*((E*u-M*p)*l)+(P*((M*C-D*u)*l)+F*((D*p-E*C)*l)),i[h+16+8>>2]=U*((m*p-d*u)*l)+(P*((S*u-m*C)*l)+F*((d*C-S*p)*l)),i[h+16+12>>2]=0,i[h+16+16>>2]=(m*D-S*M)*l*L+(S*E-D*d)*l*B+(M*d-m*E)*l*b,i[h+16+20>>2]=(M*C-D*u)*l*L+(D*p-E*C)*l*B+(E*u-M*p)*l*b,i[h+16+24>>2]=(S*u-m*C)*l*L+(d*C-S*p)*l*B+(m*p-d*u)*l*b,i[h+16+28>>2]=0,i[h+16+32>>2]=(m*D-S*M)*l*w+(S*E-D*d)*l*g+(M*d-m*E)*l*a,i[h+16+36>>2]=(M*C-D*u)*l*w+(D*p-E*C)*l*g+(E*u-M*p)*l*a,i[h+16+40>>2]=(S*u-m*C)*l*w+(d*C-S*p)*l*g+(m*p-d*u)*l*a,i[h+16+44>>2]=0,ds(h+16|0,h),a=+i[h>>2],l=+i[h+4>>2],u=+i[h+8>>2],d=+i[h+12>>2],p=1/+ot(+(a*a+l*l+u*u+d*d)),i[h>>2]=a*p,i[h+4>>2]=l*p,i[h+8>>2]=u*p,i[h+12>>2]=d*p,d=d*p<-1?-1:d*p,i[o>>2]=+L1(+(d>1?1:d))*2,i[s>>2]=a*p,i[s+4>>2]=l*p,i[s+8>>2]=u*p,i[s+12>>2]=0,a*p*(a*p)+l*p*(l*p)+u*p*(u*p)<14210854715202004e-30){e[s>>2]=1065353216,e[s+4>>2]=0,e[s+8>>2]=0,i[s+12>>2]=0,H=h;return}else{U=1/+ot(+(a*p*(a*p)+l*p*(l*p)+u*p*(u*p))),i[s>>2]=a*p*U,i[s+4>>2]=U*(l*p),i[s+8>>2]=U*(u*p),H=h;return}}function ds(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0;if(l=H,H=H+16|0,s=+i[t>>2],o=+i[t+20>>2],a=+i[t+40>>2],s+o+a>0){a=+ot(+(s+o+a+1)),i[l+12>>2]=a*.5,d=.5/a*(+i[t+36>>2]-+i[t+24>>2]),i[l>>2]=d,s=.5/a*(+i[t+8>>2]-+i[t+32>>2]),i[l+4>>2]=s,o=.5/a*(+i[t+16>>2]-+i[t+4>>2]),i[l+8>>2]=o,t=(i[Z>>2]=d,e[Z>>2]|0),h=(i[Z>>2]=s,e[Z>>2]|0),p=(i[Z>>2]=o,e[Z>>2]|0),u=(i[Z>>2]=a*.5,e[Z>>2]|0),e[n>>2]=t,t=n+4|0,e[t>>2]=h,t=n+8|0,e[t>>2]=p,t=n+12|0,e[t>>2]=u,H=l;return}else{h=s<o?o<a?2:1:s<a?2:0,d=+ot(+(+i[t+(h<<4)+(h<<2)>>2]-+i[t+((((h+1|0)>>>0)%3|0)<<4)+((((h+1|0)>>>0)%3|0)<<2)>>2]-+i[t+((((h+2|0)>>>0)%3|0)<<4)+((((h+2|0)>>>0)%3|0)<<2)>>2]+1)),i[l+(h<<2)>>2]=d*.5,i[l+12>>2]=.5/d*(+i[t+((((h+2|0)>>>0)%3|0)<<4)+((((h+1|0)>>>0)%3|0)<<2)>>2]-+i[t+((((h+1|0)>>>0)%3|0)<<4)+((((h+2|0)>>>0)%3|0)<<2)>>2]),i[l+((((h+1|0)>>>0)%3|0)<<2)>>2]=.5/d*(+i[t+((((h+1|0)>>>0)%3|0)<<4)+(h<<2)>>2]+ +i[t+(h<<4)+((((h+1|0)>>>0)%3|0)<<2)>>2]),i[l+((((h+2|0)>>>0)%3|0)<<2)>>2]=.5/d*(+i[t+((((h+2|0)>>>0)%3|0)<<4)+(h<<2)>>2]+ +i[t+(h<<4)+((((h+2|0)>>>0)%3|0)<<2)>>2]),h=e[l>>2]|0,t=e[l+4>>2]|0,u=e[l+8>>2]|0,p=e[l+12>>2]|0,e[n>>2]=h,h=n+4|0,e[h>>2]=t,h=n+8|0,e[h>>2]=u,h=n+12|0,e[h>>2]=p,H=l;return}}function GZ(t){t=t|0,ye(t)}function VZ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;return o=H,H=H+32|0,s=e[t+184>>2]|0,+i[s+4>>2]==0?(t=0,H=o,t|0):(n=e[n>>2]|0,I0[e[(e[s>>2]|0)+8>>2]&31](s,e[n+188>>2]|0)|0?(l=e[t+192>>2]|0,u=e[n+192>>2]|0,s=e[t+184>>2]|0,a=+i[t+188>>2],e[o>>2]=0,e[o+4>>2]=u,e[o+8>>2]=n,e[o+12>>2]=n+4,e[o+16>>2]=-1,e[o+20>>2]=-1,lh(l,t+36|0,t+100|0,o,s,a),t=1,H=o,t|0):(t=1,H=o,t|0))}function zZ(t){t=t|0,ye(t)}function WZ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;return s=H,H=H+96|0,n=e[n>>2]|0,(n|0)==(e[t+4>>2]|0)||(o=e[t+12>>2]|0,!(I0[e[(e[o>>2]|0)+8>>2]&31](o,e[n+188>>2]|0)|0))?(H=s,1):(o=e[t+4>>2]|0,a=e[o+192>>2]|0,e[s+64>>2]=0,e[s+64+4>>2]=a,e[s+64+8>>2]=o,e[s+64+12>>2]=o+4,e[s+64+16>>2]=-1,e[s+64+20>>2]=-1,o=e[n+192>>2]|0,e[s+40>>2]=0,e[s+40+4>>2]=o,e[s+40+8>>2]=n,e[s+40+12>>2]=n+4,e[s+40+16>>2]=-1,e[s+40+20>>2]=-1,n=e[(e[t+8>>2]|0)+24>>2]|0,n=q2[e[(e[n>>2]|0)+8>>2]&31](n,s+64|0,s+40|0,0)|0,n|0&&(a=e[t+12>>2]|0,e[s+4>>2]=0,e[s+8>>2]=s+64,e[s+12>>2]=s+40,e[s>>2]=3564,e[s+32>>2]=a,Zi[e[(e[n>>2]|0)+8>>2]&31](n,s+64|0,s+40|0,(e[t+8>>2]|0)+28|0,s),Vt[e[e[n>>2]>>2]&255](n),a=e[(e[t+8>>2]|0)+24>>2]|0,zt[e[(e[a>>2]|0)+60>>2]&127](a,n)),H=s,1)}function HZ(t){t=t|0}function jZ(t){t=t|0,ye(t)}function qZ(t,n,s){t=t|0,n=n|0,s=s|0,e[t+16>>2]=n,e[t+24>>2]=s}function XZ(t,n,s){t=t|0,n=n|0,s=s|0,e[t+20>>2]=n,e[t+28>>2]=s}function $Z(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0;L=H,H=H+192|0,b=e[(e[t+4>>2]|0)+740>>2]|0,B=e[(e[t+8>>2]|0)+8>>2]|0,l=+i[s>>2],M=+i[n>>2]*o+l,u=+i[s+4>>2],E=+i[n+4>>2]*o+u,a=+i[s+8>>2],D=+i[n+8>>2]*o+a,p=e[(e[t+12>>2]|0)+8>>2]|0,h=+i[p+52>>2],d=+i[p+56>>2],(b|0)!=(B|0)?(S=D-+i[p+60>>2],l=l-+i[B+52>>2],u=u-+i[B+56>>2],a=a-+i[B+60>>2],m=(M-h)*+i[p+4>>2]+(E-d)*+i[p+20>>2]+S*+i[p+36>>2],g=(M-h)*+i[p+8>>2]+(E-d)*+i[p+24>>2]+S*+i[p+40>>2],S=(M-h)*+i[p+12>>2]+(E-d)*+i[p+28>>2]+S*+i[p+44>>2],C=l*+i[B+4>>2]+u*+i[B+20>>2]+a*+i[B+36>>2],w=l*+i[B+8>>2]+u*+i[B+24>>2]+a*+i[B+40>>2],a=l*+i[B+12>>2]+u*+i[B+28>>2]+a*+i[B+44>>2]):(w=M-+i[b+52>>2],C=E-+i[b+56>>2],S=D-+i[b+60>>2],a=a-+i[p+60>>2],m=w*+i[b+4>>2]+C*+i[b+20>>2]+S*+i[b+36>>2],g=w*+i[b+8>>2]+C*+i[b+24>>2]+S*+i[b+40>>2],S=w*+i[b+12>>2]+C*+i[b+28>>2]+S*+i[b+44>>2],C=(l-h)*+i[p+4>>2]+(u-d)*+i[p+20>>2]+a*+i[p+36>>2],w=(l-h)*+i[p+8>>2]+(u-d)*+i[p+24>>2]+a*+i[p+40>>2],a=(l-h)*+i[p+12>>2]+(u-d)*+i[p+28>>2]+a*+i[p+44>>2]),i[L>>2]=m,i[L+4>>2]=g,i[L+8>>2]=S,i[L+12>>2]=0,i[L+16>>2]=C,i[L+20>>2]=w,i[L+24>>2]=a,i[L+28>>2]=0,e[L+64>>2]=e[n>>2],e[L+64+4>>2]=e[n+4>>2],e[L+64+8>>2]=e[n+8>>2],e[L+64+12>>2]=e[n+12>>2],i[L+80>>2]=o,i[L+84>>2]=0,i[L+88>>2]=0,i[L+92>>2]=0,e[L+112>>2]=0,R[L+116>>0]=0,e[L+120>>2]=0,e[L+120+4>>2]=0,e[L+120+8>>2]=0,e[L+120+12>>2]=0,e[L+120+16>>2]=0,e[L+120+20>>2]=0,e[L+120+24>>2]=0,e[L+120+28>>2]=0,i[L+48>>2]=M,i[L+52>>2]=E,i[L+56>>2]=D,i[L+60>>2]=0,e[L+32>>2]=e[s>>2],e[L+32+4>>2]=e[s+4>>2],e[L+32+8>>2]=e[s+8>>2],e[L+32+12>>2]=e[s+12>>2],n=e[t+20>>2]|0,p=e[t+16>>2]|0,s=e[t+28>>2]|0,P=e[t+24>>2]|0,F=(b|0)!=(B|0)?n:p,n=(b|0)!=(B|0)?p:n,p=(b|0)!=(B|0)?s:P,s=(b|0)!=(B|0)?P:s,e[L+96>>2]=F,e[L+100>>2]=n,e[L+104>>2]=p,e[L+108>>2]=s,P=e[t+32>>2]|0,+t_[e[(e[P>>2]|0)+12>>2]&1](P,L,e[((b|0)!=(B|0)?t+12|0:t+8|0)>>2]|0,F,p,e[((b|0)!=(B|0)?t+8|0:t+12|0)>>2]|0,n,s),H=L}function uh(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0;if(a=H,H=H+96|0,l=e[n+192>>2]|0,e[a+64>>2]=0,e[a+64+4>>2]=l,e[a+64+8>>2]=n,e[a+64+12>>2]=n+4,e[a+64+16>>2]=-1,e[a+64+20>>2]=-1,n=e[s+192>>2]|0,e[a+40>>2]=0,e[a+40+4>>2]=n,e[a+40+8>>2]=s,e[a+40+12>>2]=s+4,e[a+40+16>>2]=-1,e[a+40+20>>2]=-1,n=e[t+24>>2]|0,n=q2[e[(e[n>>2]|0)+8>>2]&31](n,a+64|0,a+40|0,0)|0,!n){H=a;return}e[a+4>>2]=0,e[a+8>>2]=a+64,e[a+12>>2]=a+40,e[a>>2]=3564,e[a+32>>2]=o,Zi[e[(e[n>>2]|0)+8>>2]&31](n,a+64|0,a+40|0,t+28|0,a),Vt[e[e[n>>2]>>2]&255](n),l=e[t+24>>2]|0,zt[e[(e[l>>2]|0)+60>>2]&127](l,n),H=a}function zf(t){t=t|0;var n=0,s=0,o=0;if(e[t>>2]=3592,n=e[t+12>>2]|0,(n|0)>0){o=0;do s=e[(e[t+20>>2]|0)+(o<<2)>>2]|0,s|0&&(Vt[e[e[s>>2]>>2]&255](s),s=e[t+4>>2]|0,zt[e[(e[s>>2]|0)+60>>2]&127](s,e[(e[t+20>>2]|0)+(o<<2)>>2]|0)),o=o+1|0;while((o|0)!=(n|0))}if(n=e[t+20>>2]|0,!n){R[t+24>>0]=1,e[t+20>>2]=0,e[t+12>>2]=0,t=t+16|0,e[t>>2]=0;return}R[t+24>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+20>>2]=0,R[t+24>>0]=1,e[t+20>>2]=0,e[t+12>>2]=0,t=t+16|0,e[t>>2]=0}function YZ(t){t=t|0,zf(t),ye(t)}function E6(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0;if(w=H,H=H+224|0,S=(R[t+28>>0]|0)!=0,g=S?s:n,S=S?n:s,C=e[g+4>>2]|0,(e[C+72>>2]|0)!=(e[t+40>>2]|0)){if(l=e[t+12>>2]|0,(l|0)>0){p=0;do u=e[(e[t+20>>2]|0)+(p<<2)>>2]|0,u|0&&(Vt[e[e[u>>2]>>2]&255](u),d=e[t+4>>2]|0,zt[e[(e[d>>2]|0)+60>>2]&127](d,e[(e[t+20>>2]|0)+(p<<2)>>2]|0)),p=p+1|0;while((p|0)!=(l|0))}N6(t,n,s),e[t+40>>2]=e[C+72>>2]}if(l=e[t+12>>2]|0,!l){H=w;return}if(d=e[C+68>>2]|0,p=e[t+4>>2]|0,u=e[t+20>>2]|0,h=e[t+32>>2]|0,e[w+192>>2]=3620,e[w+192+4>>2]=g,e[w+192+8>>2]=S,e[w+192+12>>2]=p,e[w+192+16>>2]=o,e[w+192+20>>2]=a,e[w+192+24>>2]=u,e[w+192+28>>2]=h,R[w+128+16>>0]=1,h=w+128+12|0,e[h>>2]=0,e[w+128+4>>2]=0,e[w+128+8>>2]=0,(l|0)>0){for(n=u,o=0;;){if(u=e[n+(o<<2)>>2]|0,u){if(zt[e[(e[u>>2]|0)+16>>2]&127](u,w+128|0),l=e[w+128+4>>2]|0,(l|0)>0){p=0;do s=e[(e[h>>2]|0)+(p<<2)>>2]|0,e[s+748>>2]|0&&(e[a+4>>2]=s,l=e[s+740>>2]|0,u=e[(e[a+8>>2]|0)+8>>2]|0,n=e[(e[a+12>>2]|0)+8>>2]|0,(l|0)==(u|0)?d2(s,l+4|0,n+4|0):d2(s,n+4|0,u+4|0),e[a+4>>2]=0,l=e[w+128+4>>2]|0),p=p+1|0;while((p|0)<(l|0))}if((l|0)<0){(e[w+128+8>>2]|0)<0&&(u=e[h>>2]|0,u|0&&(R[w+128+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[h>>2]=0),R[w+128+16>>0]=1,e[h>>2]=0,e[w+128+8>>2]=0);do e[(e[h>>2]|0)+(l<<2)>>2]=0,l=l+1|0;while((l|0)!=0)}e[w+128+4>>2]=0,l=e[t+12>>2]|0}if(u=o+1|0,(u|0)>=(l|0))break;n=e[t+20>>2]|0,o=u}l=e[h>>2]|0,l|0&&(R[w+128+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[h>>2]=0)}if(d)m=e[g+12>>2]|0,q=+i[m>>2],$=+i[m+16>>2],Y=+i[m+32>>2],z=+i[m+4>>2],O=+i[m+20>>2],G=+i[m+36>>2],L=+i[m+8>>2],b=+i[m+24>>2],E=+i[m+40>>2],U=-+i[m+48>>2],P=-+i[m+52>>2],F=-+i[m+56>>2],m=e[S+12>>2]|0,se=+i[m>>2],me=+i[m+16>>2],he=+i[m+32>>2],pe=+i[m+4>>2],_e=+i[m+20>>2],te=+i[m+36>>2],W=+i[m+8>>2],ne=+i[m+24>>2],X=+i[m+40>>2],B=+i[m+48>>2],D=+i[m+52>>2],M=+i[m+56>>2],i[w+48>>2]=q*se+$*me+Y*he,i[w+48+4>>2]=q*pe+$*_e+Y*te,i[w+48+8>>2]=q*W+$*ne+Y*X,i[w+48+12>>2]=0,i[w+48+16>>2]=z*se+O*me+G*he,i[w+48+20>>2]=z*pe+O*_e+G*te,i[w+48+24>>2]=z*W+O*ne+G*X,i[w+48+28>>2]=0,i[w+48+32>>2]=L*se+b*me+E*he,i[w+48+36>>2]=L*pe+b*_e+E*te,i[w+48+40>>2]=L*W+b*ne+E*X,i[w+48+44>>2]=0,i[w+48+48>>2]=q*U+$*P+Y*F+(q*B+$*D+Y*M),i[w+48+52>>2]=z*U+O*P+G*F+(z*B+O*D+G*M),i[w+48+56>>2]=L*U+b*P+E*F+(L*B+b*D+E*M),i[w+48+60>>2]=0,m=e[S+4>>2]|0,Kt[e[(e[m>>2]|0)+8>>2]&127](m,w+48|0,w+128|0,w+112|0),e[w+16>>2]=e[w+128>>2],e[w+16+4>>2]=e[w+128+4>>2],e[w+16+8>>2]=e[w+128+8>>2],e[w+16+12>>2]=e[w+128+12>>2],e[w+16+16>>2]=e[w+112>>2],e[w+16+16+4>>2]=e[w+112+4>>2],e[w+16+16+8>>2]=e[w+112+8>>2],e[w+16+16+12>>2]=e[w+112+12>>2],au(e[d>>2]|0,w+16|0,w+192|0),m=39;else if(u=e[t+12>>2]|0,(u|0)>0){l=0;do b6(w+192|0,e[(e[C+28>>2]|0)+(l*80|0)+64>>2]|0,l),l=l+1|0;while((l|0)<(u|0));m=39}if((m|0)==39&&(u=e[t+12>>2]|0),(u|0)>0){n=0;do{do if(e[(e[t+20>>2]|0)+(n<<2)>>2]|0){if(d=e[C+28>>2]|0,m=e[d+(n*80|0)+64>>2]|0,a=e[g+12>>2]|0,b=+i[a>>2],B=+i[a+4>>2],L=+i[a+8>>2],F=+i[a+16>>2],P=+i[a+20>>2],U=+i[a+24>>2],X=+i[a+32>>2],W=+i[a+36>>2],_e=+i[a+40>>2],G=+i[d+(n*80|0)>>2],O=+i[d+(n*80|0)+16>>2],z=+i[d+(n*80|0)+32>>2],Y=+i[d+(n*80|0)+4>>2],$=+i[d+(n*80|0)+20>>2],q=+i[d+(n*80|0)+36>>2],ne=+i[d+(n*80|0)+8>>2],te=+i[d+(n*80|0)+24>>2],pe=+i[d+(n*80|0)+40>>2],E=+i[d+(n*80|0)+48>>2],D=+i[d+(n*80|0)+52>>2],se=+i[d+(n*80|0)+56>>2],he=+i[a+48>>2]+(b*E+B*D+L*se),me=+i[a+52>>2]+(F*E+P*D+U*se),se=+i[a+56>>2]+(X*E+W*D+_e*se),i[w+128>>2]=b*G+B*O+L*z,i[w+128+4>>2]=b*Y+B*$+L*q,i[w+128+8>>2]=b*ne+B*te+L*pe,i[w+128+12>>2]=0,i[w+128+16>>2]=F*G+P*O+U*z,i[w+128+20>>2]=F*Y+P*$+U*q,i[w+128+24>>2]=F*ne+P*te+U*pe,i[w+128+28>>2]=0,i[w+128+32>>2]=X*G+W*O+_e*z,i[w+128+36>>2]=X*Y+W*$+_e*q,i[w+128+40>>2]=X*ne+W*te+_e*pe,i[w+128+44>>2]=0,i[w+128+48>>2]=he,i[w+128+52>>2]=me,i[w+128+56>>2]=se,i[w+128+60>>2]=0,Kt[e[(e[m>>2]|0)+8>>2]&127](m,w+128|0,w+112|0,w+48|0),m=e[S+4>>2]|0,Kt[e[(e[m>>2]|0)+8>>2]&127](m,e[S+12>>2]|0,w+16|0,w),!(+i[w+112>>2]>+i[w>>2])&&!(+i[w+48>>2]<+i[w+16>>2])?l=1:l=0,!(+i[w+112+8>>2]>+i[w+8>>2])&&!(+i[w+48+8>>2]<+i[w+16+8>>2])||(l=0),!(+i[w+112+4>>2]>+i[w+4>>2])&&!(+i[w+48+4>>2]<+i[w+16+4>>2]|l^1))break;m=e[(e[t+20>>2]|0)+(n<<2)>>2]|0,Vt[e[e[m>>2]>>2]&255](m),m=e[t+4>>2]|0,zt[e[(e[m>>2]|0)+60>>2]&127](m,e[(e[t+20>>2]|0)+(n<<2)>>2]|0),e[(e[t+20>>2]|0)+(n<<2)>>2]=0}while(!1);n=n+1|0}while((n|0)<(u|0))}H=w}function N6(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0;if(d=H,H=H+32|0,l=(R[t+28>>0]|0)!=0,h=l?s:n,l=l?n:s,u=e[h+4>>2]|0,p=e[u+20>>2]|0,a=e[t+12>>2]|0,(a|0)<(p|0)){if((e[t+16>>2]|0)<(p|0)){if(p?(e[5637]=(e[5637]|0)+1,n=Xe((p<<2|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,s=e[t+12>>2]|0):(n=0,s=a),(s|0)>0){o=0;do e[n+(o<<2)>>2]=e[(e[t+20>>2]|0)+(o<<2)>>2],o=o+1|0;while((o|0)!=(s|0))}s=e[t+20>>2]|0,s|0&&(R[t+24>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+20>>2]=0),R[t+24>>0]=1,e[t+20>>2]=n,e[t+16>>2]=p,s=t+20|0}else s=t+20|0;n=a;do e[(e[s>>2]|0)+(n<<2)>>2]=0,n=n+1|0;while((n|0)!=(p|0))}if(e[t+12>>2]=p,(p|0)<=0){H=d;return}n=0;do e[u+68>>2]|0?e[(e[t+20>>2]|0)+(n<<2)>>2]=0:(s=e[(e[u+28>>2]|0)+(n*80|0)+64>>2]|0,o=e[h+8>>2]|0,a=e[h+12>>2]|0,e[d>>2]=h,e[d+4>>2]=s,e[d+8>>2]=o,e[d+12>>2]=a,e[d+16>>2]=-1,e[d+20>>2]=n,a=e[t+4>>2]|0,a=q2[e[(e[a>>2]|0)+8>>2]&31](a,d,l,e[t+32>>2]|0)|0,e[(e[t+20>>2]|0)+(n<<2)>>2]=a),n=n+1|0;while((n|0)!=(p|0));H=d}function KZ(t){t=t|0,ye(t)}function ZZ(t,n){t=t|0,n=n|0,n=e[n+36>>2]|0,b6(t,e[(e[(e[(e[t+4>>2]|0)+4>>2]|0)+28>>2]|0)+(n*80|0)+64>>2]|0,n)}function b6(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0;if(l=H,H=H+160|0,o=e[t+4>>2]|0,a=e[o+12>>2]|0,z=+i[a>>2],O=+i[a+4>>2],G=+i[a+8>>2],U=+i[a+16>>2],P=+i[a+20>>2],F=+i[a+24>>2],w=+i[a+32>>2],S=+i[a+36>>2],m=+i[a+40>>2],o=e[(e[o+4>>2]|0)+28>>2]|0,L=+i[o+(s*80|0)>>2],B=+i[o+(s*80|0)+16>>2],b=+i[o+(s*80|0)+32>>2],D=+i[o+(s*80|0)+4>>2],E=+i[o+(s*80|0)+20>>2],M=+i[o+(s*80|0)+36>>2],C=+i[o+(s*80|0)+8>>2],g=+i[o+(s*80|0)+24>>2],d=+i[o+(s*80|0)+40>>2],$=+i[o+(s*80|0)+48>>2],Y=+i[o+(s*80|0)+52>>2],u=+i[o+(s*80|0)+56>>2],h=+i[a+48>>2]+(z*$+O*Y+G*u),p=+i[a+52>>2]+(U*$+P*Y+F*u),u=+i[a+56>>2]+(w*$+S*Y+m*u),i[l+88>>2]=z*L+O*B+G*b,i[l+88+4>>2]=z*D+O*E+G*M,i[l+88+8>>2]=z*C+O*g+G*d,i[l+88+12>>2]=0,i[l+88+16>>2]=U*L+P*B+F*b,i[l+88+20>>2]=U*D+P*E+F*M,i[l+88+24>>2]=U*C+P*g+F*d,i[l+88+28>>2]=0,i[l+88+32>>2]=w*L+S*B+m*b,i[l+88+36>>2]=w*D+S*E+m*M,i[l+88+40>>2]=w*C+S*g+m*d,i[l+88+44>>2]=0,i[l+88+48>>2]=h,i[l+88+52>>2]=p,i[l+88+56>>2]=u,i[l+88+60>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,l+88|0,l+72|0,l+56|0),a=e[t+8>>2]|0,o=e[a+4>>2]|0,Kt[e[(e[o>>2]|0)+8>>2]&127](o,e[a+12>>2]|0,l+40|0,l+24|0),!(+i[l+72>>2]>+i[l+24>>2])&&!(+i[l+56>>2]<+i[l+40>>2])?o=1:o=0,!(+i[l+72+8>>2]>+i[l+24+8>>2])&&!(+i[l+56+8>>2]<+i[l+40+8>>2])||(o=0),+i[l+72+4>>2]>+i[l+24+4>>2]){H=l;return}if(+i[l+56+4>>2]<+i[l+40+4>>2]|o^1){H=l;return}o=e[t+4>>2]|0,a=e[o+8>>2]|0,e[l>>2]=o,e[l+4>>2]=n,e[l+8>>2]=a,e[l+12>>2]=l+88,e[l+16>>2]=-1,e[l+20>>2]=s,e[(e[t+24>>2]|0)+(s<<2)>>2]|0||(o=e[t+12>>2]|0,o=q2[e[(e[o>>2]|0)+8>>2]&31](o,l,e[t+8>>2]|0,e[t+28>>2]|0)|0,e[(e[t+24>>2]|0)+(s<<2)>>2]=o,o=e[t+4>>2]|0),a=e[t+20>>2]|0,n=e[a+8>>2]|0,(e[n+8>>2]|0)==(e[o+8>>2]|0)?(e[a+8>>2]=l,f0[e[(e[a>>2]|0)+8>>2]&127](a,-1,s)):(n=e[a+12>>2]|0,e[a+12>>2]=l,f0[e[(e[a>>2]|0)+12>>2]&127](a,-1,s)),o=e[(e[t+24>>2]|0)+(s<<2)>>2]|0,Zi[e[(e[o>>2]|0)+8>>2]&31](o,l,e[t+8>>2]|0,e[t+16>>2]|0,e[t+20>>2]|0),o=e[t+20>>2]|0,(e[(e[o+8>>2]|0)+8>>2]|0)==(e[(e[t+4>>2]|0)+8>>2]|0)?e[o+8>>2]=n:e[o+12>>2]=n,H=l}function QZ(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0;if(P=(R[t+28>>0]|0)!=0,O=P?s:n,P=P?n:s,U=e[t+12>>2]|0,(U|0)<=0)return B=1,+B;F=(e[O+192>>2]|0)+28|0,u=+i[O+4>>2],E=+i[O+8>>2],D=+i[O+12>>2],b=e[O+16>>2]|0,B=+i[O+20>>2],p=+i[O+24>>2],h=+i[O+28>>2],n=e[O+32>>2]|0,d=+i[O+36>>2],m=+i[O+40>>2],g=+i[O+44>>2],s=e[O+48>>2]|0,S=+i[O+52>>2],C=+i[O+56>>2],w=+i[O+60>>2],M=e[O+64>>2]|0,L=e[O+284>>2]|0,l=1,G=0;do Y=e[F>>2]|0,se=+i[Y+(G*80|0)>>2],me=+i[Y+(G*80|0)+16>>2],he=+i[Y+(G*80|0)+32>>2],pe=+i[Y+(G*80|0)+4>>2],_e=+i[Y+(G*80|0)+20>>2],te=+i[Y+(G*80|0)+36>>2],W=+i[Y+(G*80|0)+8>>2],ne=+i[Y+(G*80|0)+24>>2],X=+i[Y+(G*80|0)+40>>2],q=+i[Y+(G*80|0)+48>>2],$=+i[Y+(G*80|0)+52>>2],z=+i[Y+(G*80|0)+56>>2],e[O+284>>2]=L+1,i[O+4>>2]=u*se+E*me+D*he,i[O+8>>2]=u*pe+E*_e+D*te,i[O+12>>2]=u*W+E*ne+D*X,i[O+16>>2]=0,i[O+20>>2]=B*se+p*me+h*he,i[O+24>>2]=B*pe+p*_e+h*te,i[O+28>>2]=B*W+p*ne+h*X,i[O+32>>2]=0,i[O+36>>2]=d*se+m*me+g*he,i[O+40>>2]=d*pe+m*_e+g*te,i[O+44>>2]=d*W+m*ne+g*X,i[O+48>>2]=0,i[O+52>>2]=S+(u*q+E*$+D*z),i[O+56>>2]=C+(B*q+p*$+h*z),i[O+60>>2]=w+(d*q+m*$+g*z),i[O+64>>2]=0,Y=e[(e[t+20>>2]|0)+(G<<2)>>2]|0,z=+Mh[e[(e[Y>>2]|0)+12>>2]&15](Y,O,P,o,a),l=z<l?z:l,L=(e[O+284>>2]|0)+1|0,e[O+284>>2]=L,i[O+4>>2]=u,i[O+8>>2]=E,i[O+12>>2]=D,e[O+16>>2]=b,i[O+20>>2]=B,i[O+24>>2]=p,i[O+28>>2]=h,e[O+32>>2]=n,i[O+36>>2]=d,i[O+40>>2]=m,i[O+44>>2]=g,e[O+48>>2]=s,i[O+52>>2]=S,i[O+56>>2]=C,i[O+60>>2]=w,e[O+64>>2]=M,G=G+1|0;while((G|0)!=(U|0));return+l}function JZ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;if(s=e[t+12>>2]|0,!((s|0)<=0)){a=0;do o=e[(e[t+20>>2]|0)+(a<<2)>>2]|0,o&&(zt[e[(e[o>>2]|0)+16>>2]&127](o,n),s=e[t+12>>2]|0),a=a+1|0;while((a|0)<(s|0))}}function fh(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,e[t+4>>2]=e[n>>2],e[t>>2]=3592,R[t+24>>0]=1,e[t+20>>2]=0,e[t+12>>2]=0,e[t+16>>2]=0,R[t+28>>0]=a&1,e[t+32>>2]=e[n+4>>2],R[t+36>>0]=0,e[t+40>>2]=e[(e[(a?o:s)+4>>2]|0)+72>>2],N6(t,s,o)}function D6(t){t=t|0;var n=0,s=0,o=0,a=0,l=0;if(e[t>>2]=3656,n=e[t+44>>2]|0,s=e[n+8>>2]|0,(s|0)>0){a=0;do o=e[(e[n+16>>2]|0)+(a*12|0)+8>>2]|0,o|0&&(Vt[e[e[o>>2]>>2]&255](o),l=e[t+4>>2]|0,zt[e[(e[l>>2]|0)+60>>2]&127](l,o)),a=a+1|0;while((a|0)!=(s|0));n=e[t+44>>2]|0}if(em(n),n=e[t+44>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+44>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+60>>2]|0,!n){R[t+64>>0]=1,e[t+60>>2]=0,e[t+52>>2]=0,l=t+56|0,e[l>>2]=0,zf(t);return}R[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+60>>2]=0,R[t+64>>0]=1,e[t+60>>2]=0,e[t+52>>2]=0,l=t+56|0,e[l>>2]=0,zf(t)}function eQ(t){t=t|0,D6(t),ye(t)}function tQ(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,st=0,mt=0,lt=0,_t=0,bt=0,rt=0,Ce=0,kt=0;if(He=H,H=H+176|0,ke=e[n+4>>2]|0,Ae=e[s+4>>2]|0,C=e[ke+68>>2]|0,w=e[Ae+68>>2]|0,!((C|0)!=0&(w|0)!=0)){E6(t,n,s,o,a),H=He;return}if((e[ke+72>>2]|0)==(e[t+68>>2]|0)&&(e[Ae+72>>2]|0)==(e[t+72>>2]|0))ge=t+44|0;else{if(l=e[t+44>>2]|0,u=e[l+8>>2]|0,(u|0)>0){h=0;do p=e[(e[l+16>>2]|0)+(h*12|0)+8>>2]|0,p|0&&(Vt[e[e[p>>2]>>2]&255](p),ge=e[t+4>>2]|0,zt[e[(e[ge>>2]|0)+60>>2]&127](ge,p)),h=h+1|0;while((h|0)!=(u|0));l=e[t+44>>2]|0}em(l),e[t+68>>2]=e[ke+72>>2],e[t+72>>2]=e[Ae+72>>2],ge=t+44|0}if(R[He+128+16>>0]=1,S=He+128+12|0,e[S>>2]=0,e[He+128+4>>2]=0,e[He+128+8>>2]=0,g=e[ge>>2]|0,l=e[g+8>>2]|0,(l|0)>0){m=0;do{if(u=e[(e[g+16>>2]|0)+(m*12|0)+8>>2]|0,u){if(zt[e[(e[u>>2]|0)+16>>2]&127](u,He+128|0),l=e[He+128+4>>2]|0,(l|0)>0){d=0;do h=e[(e[S>>2]|0)+(d<<2)>>2]|0,e[h+748>>2]|0&&(e[a+4>>2]=h,l=e[h+740>>2]|0,u=e[(e[a+8>>2]|0)+8>>2]|0,p=e[(e[a+12>>2]|0)+8>>2]|0,(l|0)==(u|0)?d2(h,l+4|0,p+4|0):d2(h,p+4|0,u+4|0),e[a+4>>2]=0,l=e[He+128+4>>2]|0),d=d+1|0;while((d|0)<(l|0))}if((l|0)<0){(e[He+128+8>>2]|0)<0&&(u=e[S>>2]|0,u|0&&(R[He+128+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[S>>2]=0),R[He+128+16>>0]=1,e[S>>2]=0,e[He+128+8>>2]=0);do e[(e[S>>2]|0)+(l<<2)>>2]=0,l=l+1|0;while((l|0)!=0)}e[He+128+4>>2]=0,l=e[g+8>>2]|0}m=m+1|0}while((m|0)<(l|0));l=e[S>>2]|0,l|0&&(R[He+128+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[S>>2]=0)}if(S=e[t+4>>2]|0,u=e[ge>>2]|0,p=e[t+32>>2]|0,e[He+128>>2]=3684,e[He+128+4>>2]=0,e[He+128+8>>2]=n,e[He+128+12>>2]=s,e[He+128+16>>2]=S,e[He+128+20>>2]=o,e[He+128+24>>2]=a,e[He+128+28>>2]=u,e[He+128+32>>2]=p,p=e[n+12>>2]|0,G=+i[p>>2],O=+i[p+16>>2],z=+i[p+32>>2],Y=+i[p+4>>2],$=+i[p+20>>2],q=+i[p+36>>2],X=+i[p+8>>2],ne=+i[p+24>>2],W=+i[p+40>>2],te=-+i[p+48>>2],_e=-+i[p+52>>2],pe=-+i[p+56>>2],p=e[s+12>>2]|0,he=+i[p>>2],me=+i[p+16>>2],se=+i[p+32>>2],oe=+i[p+4>>2],ae=+i[p+20>>2],xe=+i[p+36>>2],ve=+i[p+8>>2],de=+i[p+24>>2],fe=+i[p+40>>2],Te=+i[p+48>>2],we=+i[p+52>>2],Ne=+i[p+56>>2],p=e[C>>2]|0,u=e[w>>2]|0,(p|0)!=0&(u|0)!=0){for(e[5637]=(e[5637]|0)+1,l=Xe(1043)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,e[l>>2]=p,e[l+4>>2]=u,M=+ht(+(G*he+O*me+z*se)),E=+ht(+(G*oe+O*ae+z*xe)),D=+ht(+(G*ve+O*de+z*fe)),b=+ht(+(Y*he+$*me+q*se)),B=+ht(+(Y*oe+$*ae+q*xe)),L=+ht(+(Y*ve+$*de+q*fe)),F=+ht(+(X*he+ne*me+W*se)),P=+ht(+(X*oe+ne*ae+W*xe)),U=+ht(+(X*ve+ne*de+W*fe)),C=1,p=128,h=128,u=124;;){S=C+-1|0,o=e[l+(S<<3)>>2]|0,a=e[l+(S<<3)+4>>2]|0,kt=+i[a+16>>2],Ce=+i[a>>2],rt=+i[a+20>>2],bt=+i[a+4>>2],_t=+i[a+24>>2],Ke=+i[a+8>>2],lt=G*te+O*_e+z*pe+(G*Te+O*we+z*Ne)+((G*he+O*me+z*se)*((kt+Ce)*.5)+(G*oe+O*ae+z*xe)*((rt+bt)*.5)+(G*ve+O*de+z*fe)*((_t+Ke)*.5)),st=Y*te+$*_e+q*pe+(Y*Te+$*we+q*Ne)+((Y*he+$*me+q*se)*((kt+Ce)*.5)+(Y*oe+$*ae+q*xe)*((rt+bt)*.5)+(Y*ve+$*de+q*fe)*((_t+Ke)*.5)),Ze=X*te+ne*_e+W*pe+(X*Te+ne*we+W*Ne)+((X*he+ne*me+W*se)*((kt+Ce)*.5)+(X*oe+ne*ae+W*xe)*((rt+bt)*.5)+(X*ve+ne*de+W*fe)*((_t+Ke)*.5)),mt=((kt-Ce)*.5+0)*M+((rt-bt)*.5+0)*E+((_t-Ke)*.5+0)*D,ut=((kt-Ce)*.5+0)*b+((rt-bt)*.5+0)*B+((_t-Ke)*.5+0)*L,Ke=((kt-Ce)*.5+0)*F+((rt-bt)*.5+0)*P+((_t-Ke)*.5+0)*U;do if(+i[o>>2]<=mt+lt&&+i[o+16>>2]>=lt-mt&&+i[o+4>>2]<=st+ut&&+i[o+20>>2]>=st-ut&&+i[o+8>>2]<=Ze+Ke&&+i[o+24>>2]>=Ze-Ke){if((S|0)>(u|0)){d=h<<1;do if((h|0)<(d|0)&(p|0)<(d|0)){do if(!h)u=0,Se=54;else{if(e[5637]=(e[5637]|0)+1,u=Xe((h<<4|3)+16|0)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,(h|0)>0)p=0;else{Se=54;break}do m=l+(p<<3)|0,g=e[m+4>>2]|0,w=u+(p<<3)|0,e[w>>2]=e[m>>2],e[w+4>>2]=g,p=p+1|0;while((p|0)!=(h|0))}while(!1);if((Se|0)==54&&(Se=0,!l)){p=d,l=u;break}e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0),p=d,l=u}while(!1);g=d,u=d+-4|0}else g=h;if(h=(e[a+40>>2]|0)!=0,e[o+40>>2]|0)if(d=l+(S<<3)|0,m=e[o+36>>2]|0,h){h=e[a+36>>2]|0,e[d>>2]=m,e[l+(S<<3)+4>>2]=h,h=C+1|0,d=e[a+36>>2]|0,e[l+(C<<3)>>2]=e[o+40>>2],e[l+(C<<3)+4>>2]=d,d=C+2|0,w=e[a+40>>2]|0,e[l+(h<<3)>>2]=e[o+36>>2],e[l+(h<<3)+4>>2]=w,h=e[a+40>>2]|0,e[l+(d<<3)>>2]=e[o+40>>2],e[l+(d<<3)+4>>2]=h,d=C+3|0,h=g;break}else{e[d>>2]=m,e[l+(S<<3)+4>>2]=a,e[l+(C<<3)>>2]=e[o+40>>2],e[l+(C<<3)+4>>2]=a,d=C+1|0,h=g;break}else if(h){d=e[a+36>>2]|0,e[l+(S<<3)>>2]=o,e[l+(S<<3)+4>>2]=d,d=e[a+40>>2]|0,e[l+(C<<3)>>2]=o,e[l+(C<<3)+4>>2]=d,d=C+1|0,h=g;break}else{f0[e[(e[He+128>>2]|0)+8>>2]&127](He+128|0,o,a),d=S,h=g;break}}else d=S;while(!1);if(d)C=d;else break}l|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0))}if(m=e[ge>>2]|0,(e[m+8>>2]|0)>0){g=0;do{l=e[m+16>>2]|0,u=e[l+(g*12|0)+8>>2]|0;do if(u|0){if(Se=e[l+(g*12|0)>>2]|0,w=e[ke+28>>2]|0,C=e[w+(Se*80|0)+64>>2]|0,a=e[n+12>>2]|0,kt=+i[a>>2],me=+i[a+4>>2],he=+i[a+8>>2],bt=+i[a+16>>2],lt=+i[a+20>>2],st=+i[a+24>>2],_t=+i[a+32>>2],ut=+i[a+36>>2],ve=+i[a+40>>2],Ze=+i[w+(Se*80|0)>>2],Ke=+i[w+(Se*80|0)+16>>2],Ne=+i[w+(Se*80|0)+32>>2],we=+i[w+(Se*80|0)+4>>2],Te=+i[w+(Se*80|0)+20>>2],fe=+i[w+(Se*80|0)+36>>2],mt=+i[w+(Se*80|0)+8>>2],de=+i[w+(Se*80|0)+24>>2],xe=+i[w+(Se*80|0)+40>>2],Ce=+i[w+(Se*80|0)+48>>2],rt=+i[w+(Se*80|0)+52>>2],se=+i[w+(Se*80|0)+56>>2],ae=+i[a+48>>2]+(kt*Ce+me*rt+he*se),oe=+i[a+52>>2]+(bt*Ce+lt*rt+st*se),se=+i[a+56>>2]+(_t*Ce+ut*rt+ve*se),i[He>>2]=kt*Ze+me*Ke+he*Ne,i[He+4>>2]=kt*we+me*Te+he*fe,i[He+8>>2]=kt*mt+me*de+he*xe,i[He+12>>2]=0,i[He+16>>2]=bt*Ze+lt*Ke+st*Ne,i[He+20>>2]=bt*we+lt*Te+st*fe,i[He+24>>2]=bt*mt+lt*de+st*xe,i[He+28>>2]=0,i[He+32>>2]=_t*Ze+ut*Ke+ve*Ne,i[He+36>>2]=_t*we+ut*Te+ve*fe,i[He+40>>2]=_t*mt+ut*de+ve*xe,i[He+44>>2]=0,i[He+48>>2]=ae,i[He+52>>2]=oe,i[He+56>>2]=se,i[He+60>>2]=0,Kt[e[(e[C>>2]|0)+8>>2]&127](C,He,He+112|0,He+96|0),C=e[(e[m+16>>2]|0)+(g*12|0)+4>>2]|0,a=e[Ae+28>>2]|0,Se=e[a+(C*80|0)+64>>2]|0,w=e[s+12>>2]|0,se=+i[w>>2],oe=+i[w+4>>2],ae=+i[w+8>>2],xe=+i[w+16>>2],ve=+i[w+20>>2],de=+i[w+24>>2],ut=+i[w+32>>2],mt=+i[w+36>>2],_t=+i[w+40>>2],fe=+i[a+(C*80|0)>>2],Te=+i[a+(C*80|0)+16>>2],we=+i[a+(C*80|0)+32>>2],Ne=+i[a+(C*80|0)+4>>2],Ke=+i[a+(C*80|0)+20>>2],Ze=+i[a+(C*80|0)+36>>2],st=+i[a+(C*80|0)+8>>2],lt=+i[a+(C*80|0)+24>>2],bt=+i[a+(C*80|0)+40>>2],he=+i[a+(C*80|0)+48>>2],me=+i[a+(C*80|0)+52>>2],kt=+i[a+(C*80|0)+56>>2],rt=+i[w+48>>2]+(se*he+oe*me+ae*kt),Ce=+i[w+52>>2]+(xe*he+ve*me+de*kt),kt=+i[w+56>>2]+(ut*he+mt*me+_t*kt),i[He>>2]=se*fe+oe*Te+ae*we,i[He+4>>2]=se*Ne+oe*Ke+ae*Ze,i[He+8>>2]=se*st+oe*lt+ae*bt,i[He+12>>2]=0,i[He+16>>2]=xe*fe+ve*Te+de*we,i[He+20>>2]=xe*Ne+ve*Ke+de*Ze,i[He+24>>2]=xe*st+ve*lt+de*bt,i[He+28>>2]=0,i[He+32>>2]=ut*fe+mt*Te+_t*we,i[He+36>>2]=ut*Ne+mt*Ke+_t*Ze,i[He+40>>2]=ut*st+mt*lt+_t*bt,i[He+44>>2]=0,i[He+48>>2]=rt,i[He+52>>2]=Ce,i[He+56>>2]=kt,i[He+60>>2]=0,Kt[e[(e[Se>>2]|0)+8>>2]&127](Se,He,He+80|0,He+64|0),!(+i[He+112>>2]>+i[He+64>>2])&&!(+i[He+96>>2]<+i[He+80>>2])?l=1:l=0,!(+i[He+112+8>>2]>+i[He+64+8>>2])&&!(+i[He+96+8>>2]<+i[He+80+8>>2])||(l=0),!(+i[He+112+4>>2]>+i[He+64+4>>2])&&!(+i[He+96+4>>2]<+i[He+80+4>>2]|l^1))break;if(Vt[e[e[u>>2]>>2]&255](u),d=e[t+4>>2]|0,zt[e[(e[d>>2]|0)+60>>2]&127](d,u),d=e[m+16>>2]|0,h=e[d+(g*12|0)>>2]|0,d=e[d+(g*12|0)+4>>2]|0,l=e[t+52>>2]|0,(l|0)==(e[t+56>>2]|0)&&(qe=l|0?l<<1:1,(l|0)<(qe|0))){if(qe?(e[5637]=(e[5637]|0)+1,l=Xe((qe*12|3)+16|0)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,p=l,l=e[t+52>>2]|0):p=0,(l|0)>0){u=0;do Se=p+(u*12|0)|0,w=(e[t+60>>2]|0)+(u*12|0)|0,e[Se>>2]=e[w>>2],e[Se+4>>2]=e[w+4>>2],e[Se+8>>2]=e[w+8>>2],u=u+1|0;while((u|0)!=(l|0))}l=e[t+60>>2]|0,l|0&&(R[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+60>>2]=0),R[t+64>>0]=1,e[t+60>>2]=p,e[t+56>>2]=qe,l=e[t+52>>2]|0}Se=e[t+60>>2]|0,e[Se+(l*12|0)>>2]=h,e[Se+(l*12|0)+4>>2]=d,e[Se+(l*12|0)+8>>2]=0,e[t+52>>2]=(e[t+52>>2]|0)+1}while(!1);g=g+1|0}while((g|0)<(e[m+8>>2]|0));u=t+60|0,p=t+52|0}else u=t+60|0,p=t+52|0;if((e[p>>2]|0)>0){l=0;do n=e[ge>>2]|0,s=e[u>>2]|0,G0[e[(e[n>>2]|0)+8>>2]&63](n,e[s+(l*12|0)>>2]|0,e[s+(l*12|0)+4>>2]|0)|0,l=l+1|0;while((l|0)<(e[p>>2]|0))}l=e[u>>2]|0,l|0&&(R[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[u>>2]=0),R[t+64>>0]=1,e[u>>2]=0,e[p>>2]=0,e[t+56>>2]=0,H=He}function iQ(t){t=t|0,ye(t)}function nQ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0;if(d=H,H=H+240|0,e[t+4>>2]=(e[t+4>>2]|0)+1,p=e[n+36>>2]|0,u=e[s+36>>2]|0,a=e[t+8>>2]|0,te=e[(e[a+4>>2]|0)+28>>2]|0,s=e[te+(p*80|0)+64>>2]|0,n=(e[(e[t+12>>2]|0)+4>>2]|0)+28|0,o=e[(e[n>>2]|0)+(u*80|0)+64>>2]|0,a=e[a+12>>2]|0,m=+i[a>>2],ne=+i[a+4>>2],W=+i[a+8>>2],C=+i[a+16>>2],M=+i[a+20>>2],D=+i[a+24>>2],w=+i[a+32>>2],b=+i[a+36>>2],z=+i[a+40>>2],B=+i[te+(p*80|0)>>2],L=+i[te+(p*80|0)+16>>2],F=+i[te+(p*80|0)+32>>2],P=+i[te+(p*80|0)+4>>2],U=+i[te+(p*80|0)+20>>2],G=+i[te+(p*80|0)+36>>2],E=+i[te+(p*80|0)+8>>2],O=+i[te+(p*80|0)+24>>2],Y=+i[te+(p*80|0)+40>>2],g=+i[te+(p*80|0)+48>>2],S=+i[te+(p*80|0)+52>>2],X=+i[te+(p*80|0)+56>>2],$=+i[a+48>>2]+(m*g+ne*S+W*X),q=+i[a+52>>2]+(C*g+M*S+D*X),X=+i[a+56>>2]+(w*g+b*S+z*X),i[d+176>>2]=m*B+ne*L+W*F,i[d+176+4>>2]=m*P+ne*U+W*G,i[d+176+8>>2]=m*E+ne*O+W*Y,i[d+176+12>>2]=0,i[d+176+16>>2]=C*B+M*L+D*F,i[d+176+20>>2]=C*P+M*U+D*G,i[d+176+24>>2]=C*E+M*O+D*Y,i[d+176+28>>2]=0,i[d+176+32>>2]=w*B+b*L+z*F,i[d+176+36>>2]=w*P+b*U+z*G,i[d+176+40>>2]=w*E+b*O+z*Y,i[d+176+44>>2]=0,i[d+176+48>>2]=$,i[d+176+52>>2]=q,i[d+176+56>>2]=X,i[d+176+60>>2]=0,a=e[(e[t+12>>2]|0)+12>>2]|0,X=+i[a>>2],q=+i[a+4>>2],$=+i[a+8>>2],Y=+i[a+16>>2],z=+i[a+20>>2],O=+i[a+24>>2],b=+i[a+32>>2],E=+i[a+36>>2],w=+i[a+40>>2],n=e[n>>2]|0,G=+i[n+(u*80|0)>>2],U=+i[n+(u*80|0)+16>>2],P=+i[n+(u*80|0)+32>>2],F=+i[n+(u*80|0)+4>>2],L=+i[n+(u*80|0)+20>>2],B=+i[n+(u*80|0)+36>>2],D=+i[n+(u*80|0)+8>>2],M=+i[n+(u*80|0)+24>>2],C=+i[n+(u*80|0)+40>>2],W=+i[n+(u*80|0)+48>>2],ne=+i[n+(u*80|0)+52>>2],m=+i[n+(u*80|0)+56>>2],S=+i[a+48>>2]+(X*W+q*ne+$*m),g=+i[a+52>>2]+(Y*W+z*ne+O*m),m=+i[a+56>>2]+(b*W+E*ne+w*m),i[d+112>>2]=X*G+q*U+$*P,i[d+112+4>>2]=X*F+q*L+$*B,i[d+112+8>>2]=X*D+q*M+$*C,i[d+112+12>>2]=0,i[d+112+16>>2]=Y*G+z*U+O*P,i[d+112+20>>2]=Y*F+z*L+O*B,i[d+112+24>>2]=Y*D+z*M+O*C,i[d+112+28>>2]=0,i[d+112+32>>2]=b*G+E*U+w*P,i[d+112+36>>2]=b*F+E*L+w*B,i[d+112+40>>2]=b*D+E*M+w*C,i[d+112+44>>2]=0,i[d+112+48>>2]=S,i[d+112+52>>2]=g,i[d+112+56>>2]=m,i[d+112+60>>2]=0,Kt[e[(e[s>>2]|0)+8>>2]&127](s,d+176|0,d+96|0,d+80|0),Kt[e[(e[o>>2]|0)+8>>2]&127](o,d+112|0,d+64|0,d+48|0),!(+i[d+96>>2]>+i[d+48>>2])&&!(+i[d+80>>2]<+i[d+64>>2])?n=1:n=0,!(+i[d+96+8>>2]>+i[d+48+8>>2])&&!(+i[d+80+8>>2]<+i[d+64+8>>2])||(n=0),+i[d+96+4>>2]>+i[d+48+4>>2]){H=d;return}if(+i[d+80+4>>2]<+i[d+64+4>>2]|n^1){H=d;return}a=e[t+8>>2]|0,n=e[a+8>>2]|0,e[d+24>>2]=a,e[d+24+4>>2]=s,e[d+24+8>>2]=n,e[d+24+12>>2]=d+176,e[d+24+16>>2]=-1,e[d+24+20>>2]=p,n=e[t+12>>2]|0,a=e[n+8>>2]|0,e[d>>2]=n,e[d+4>>2]=o,e[d+8>>2]=a,e[d+12>>2]=d+112,e[d+16>>2]=-1,e[d+20>>2]=u,a=e[t+28>>2]|0,e[4992]=(e[4992]|0)+1,n=((u<<16|p)+~((u<<16|p)<<15)>>10^(u<<16|p)+~((u<<16|p)<<15))*9|0,n=(e[a+12>>2]|0)+-1&((n>>6^n)+~((n>>6^n)<<11)>>16^(n>>6^n)+~((n>>6^n)<<11));e:do if((n|0)<(e[a+28>>2]|0)&&(l=e[(e[a+36>>2]|0)+(n<<2)>>2]|0,(l|0)!=-1)){for(o=e[a+16>>2]|0,n=l;s=o+(n*12|0)|0,!((e[s>>2]|0)==(p|0)&&(e[o+(n*12|0)+4>>2]|0)==(u|0));)if(n=e[(e[a+56>>2]|0)+(n<<2)>>2]|0,(n|0)==-1){h=16;break e}s?n=e[o+(n*12|0)+8>>2]|0:h=16}else h=16;while(!1);(h|0)==16&&(n=e[t+16>>2]|0,n=q2[e[(e[n>>2]|0)+8>>2]&31](n,d+24|0,d,e[t+32>>2]|0)|0,te=e[t+28>>2]|0,e[(G0[e[(e[te>>2]|0)+12>>2]&63](te,p,u)|0)+8>>2]=n),te=e[t+24>>2]|0,l=e[te+8>>2]|0,h=e[te+12>>2]|0,e[te+8>>2]=d+24,e[te+12>>2]=d,f0[e[(e[te>>2]|0)+8>>2]&127](te,-1,p),te=e[t+24>>2]|0,f0[e[(e[te>>2]|0)+12>>2]&127](te,-1,u),Zi[e[(e[n>>2]|0)+8>>2]&31](n,d+24|0,d,e[t+20>>2]|0,e[t+24>>2]|0),te=e[t+24>>2]|0,e[te+8>>2]=l,e[te+12>>2]=h,H=d}function rQ(t,n){t=t|0,n=n|0}function sQ(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,0}function oQ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;if(a=e[t+44>>2]|0,t=e[a+8>>2]|0,!((t|0)<=0)){o=0;do s=e[(e[a+16>>2]|0)+(o*12|0)+8>>2]|0,s&&(zt[e[(e[s>>2]|0)+16>>2]&127](s,n),t=e[a+8>>2]|0),o=o+1|0;while((o|0)<(t|0))}}function aQ(t){t=t|0;var n=0;e[t>>2]=3720,e[t+12>>2]=3748,n=e[t+60>>2]|0,zt[e[(e[n>>2]|0)+20>>2]&127](n,e[t+76>>2]|0),n=e[t+60>>2]|0,zt[e[(e[n>>2]|0)+16>>2]&127](n,e[t+76>>2]|0)}function cQ(t){t=t|0;var n=0;e[t>>2]=3748,n=e[t+48>>2]|0,zt[e[(e[n>>2]|0)+20>>2]&127](n,e[t+64>>2]|0),n=e[t+48>>2]|0,zt[e[(e[n>>2]|0)+16>>2]&127](n,e[t+64>>2]|0)}function lQ(t){t=t|0;var n=0;e[t>>2]=3748,n=e[t+48>>2]|0,zt[e[(e[n>>2]|0)+20>>2]&127](n,e[t+64>>2]|0),n=e[t+48>>2]|0,zt[e[(e[n>>2]|0)+16>>2]&127](n,e[t+64>>2]|0),ye(t)}function uQ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;if(g=H,H=H+144|0,l=+i[n>>2],u=+i[n+16>>2],S=l<u?l:u,p=+i[n+32>>2],(S<p?S:p)>+i[t+28>>2]){H=g;return}if(d=l>u?n:n+16|0,+i[(+i[d>>2]>p?d:n+32|0)>>2]<+i[t+12>>2]){H=g;return}if(l=+i[n+8>>2],u=+i[n+24>>2],S=l<u?l:u,p=+i[n+40>>2],(S<p?S:p)>+i[t+36>>2]){H=g;return}if(d=l>u?n+8|0:n+24|0,+i[(+i[d>>2]>p?d:n+40|0)>>2]<+i[t+20>>2]){H=g;return}if(l=+i[n+4>>2],u=+i[n+20>>2],S=l<u?l:u,p=+i[n+36>>2],(S<p?S:p)>+i[t+32>>2]){H=g;return}if(d=l>u?n+4|0:n+20|0,+i[(+i[d>>2]>p?d:n+36|0)>>2]<+i[t+16>>2]){H=g;return}if(d=e[t+48>>2]|0,a=e[t+4>>2]|0,(e[(e[a+4>>2]|0)+4>>2]|0)>=20){H=g;return}e[g+24+8>>2]=0,e[g+24+12>>2]=-1,e[g+24+16>>2]=1065353216,e[g+24+20>>2]=1065353216,e[g+24+24>>2]=1065353216,i[g+24+28>>2]=0,e[g+24+56>>2]=0,e[g+24>>2]=3768,e[g+24+4>>2]=1,e[g+24+60>>2]=e[n>>2],e[g+24+60+4>>2]=e[n+4>>2],e[g+24+60+8>>2]=e[n+8>>2],e[g+24+60+12>>2]=e[n+12>>2],e[g+24+76>>2]=e[n+16>>2],e[g+24+76+4>>2]=e[n+16+4>>2],e[g+24+76+8>>2]=e[n+16+8>>2],e[g+24+76+12>>2]=e[n+16+12>>2],e[g+24+92>>2]=e[n+32>>2],e[g+24+92+4>>2]=e[n+32+4>>2],e[g+24+92+8>>2]=e[n+32+8>>2],e[g+24+92+12>>2]=e[n+32+12>>2],e[g+24+48>>2]=e[t+56>>2],C=e[t+8>>2]|0,n=e[C+8>>2]|0,h=e[C+12>>2]|0,e[g>>2]=C,e[g+4>>2]=g+24,e[g+8>>2]=n,e[g+12>>2]=h,e[g+16>>2]=s,e[g+20>>2]=o,h=q2[e[(e[d>>2]|0)+8>>2]&31](d,a,g,e[t+64>>2]|0)|0,a=e[t+44>>2]|0,n=e[a+8>>2]|0,(e[n+8>>2]|0)==(e[(e[t+8>>2]|0)+8>>2]|0)?(e[a+8>>2]=g,f0[e[(e[a>>2]|0)+8>>2]&127](a,s,o)):(n=e[a+12>>2]|0,e[a+12>>2]=g,f0[e[(e[a>>2]|0)+12>>2]&127](a,s,o)),Zi[e[(e[h>>2]|0)+8>>2]&31](h,e[t+4>>2]|0,g,e[t+52>>2]|0,e[t+44>>2]|0),a=e[t+44>>2]|0,(e[(e[a+8>>2]|0)+8>>2]|0)==(e[(e[t+8>>2]|0)+8>>2]|0)?e[a+8>>2]=n:e[a+12>>2]=n,Vt[e[e[h>>2]>>2]&255](h),zt[e[(e[d>>2]|0)+60>>2]&127](d,h),e[g+24>>2]=6248,a=e[g+24+56>>2]|0,a|0&&(Vt[e[e[a>>2]>>2]&255](a),m=e[g+24+56>>2]|0,m|0)&&(e[5638]=(e[5638]|0)+1,ye(e[m+-4>>2]|0)),H=g}function fQ(t){t=t|0;var n=0,s=0;e[t>>2]=6248,n=e[t+56>>2]|0,n|0&&(Vt[e[e[n>>2]>>2]&255](n),s=e[t+56>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function _Q(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+80>>2]&127](t,n,s,o)}function pQ(t){return t=t|0,t+16|0}function hQ(t,n,s){t=t|0,n=+n,s=s|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0}function dQ(t){return t=t|0,11211}function mQ(t,n){t=t|0,n=n|0,e[t>>2]=1065353216,e[t+4>>2]=1065353216,e[t+8>>2]=1065353216,i[t+12>>2]=0}function gQ(t,n){t=t|0,n=+n,i[t+48>>2]=n}function _h(t){return t=t|0,+ +i[t+48>>2]}function xQ(t){return t=t|0,52}function yQ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=a,a|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],e[n+28>>2]=e[t+32>>2],e[n+32>>2]=e[t+36>>2],e[n+36>>2]=e[t+40>>2],e[n+40>>2]=e[t+44>>2],e[n+12>>2]=e[t+16>>2],e[n+16>>2]=e[t+20>>2],e[n+20>>2]=e[t+24>>2],e[n+24>>2]=e[t+28>>2],e[n+44>>2]=e[t+48>>2],11220}function vQ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0;p=+i[s>>2],u=+i[s+4>>2],o=+i[s+8>>2],a=p*+i[n+60>>2]+u*+i[n+64>>2]+o*+i[n+68>>2],l=p*+i[n+76>>2]+u*+i[n+80>>2]+o*+i[n+84>>2],o=p*+i[n+92>>2]+u*+i[n+96>>2]+o*+i[n+100>>2],n=n+60+((a<l?l<o?2:1:a<o?2:0)<<4)|0,e[t>>2]=e[n>>2],e[t+4>>2]=e[n+4>>2],e[t+8>>2]=e[n+8>>2],e[t+12>>2]=e[n+12>>2]}function SQ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0;if(!((o|0)<=0)){a=0;do g=+i[n+(a<<4)>>2],m=+i[n+(a<<4)+4>>2],p=+i[n+(a<<4)+8>>2],h=g*+i[t+60>>2]+m*+i[t+64>>2]+p*+i[t+68>>2],d=g*+i[t+76>>2]+m*+i[t+80>>2]+p*+i[t+84>>2],p=g*+i[t+92>>2]+m*+i[t+96>>2]+p*+i[t+100>>2],l=s+(a<<4)|0,u=t+60+((h<d?d<p?2:1:h<p?2:0)<<4)|0,e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],a=a+1|0;while((a|0)!=(o|0))}}function CQ(t){return t=t|0,2}function TQ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0;u=+i[t+60>>2],h=+i[t+76>>2]-u,p=+i[t+64>>2],d=+i[t+80>>2]-p,o=+i[t+68>>2],l=+i[t+84>>2]-o,u=+i[t+92>>2]-u,p=+i[t+96>>2]-p,o=+i[t+100>>2]-o,i[s+12>>2]=0,a=1/+ot(+((h*p-d*u)*(h*p-d*u)+((d*o-l*p)*(d*o-l*p)+(l*u-h*o)*(l*u-h*o)))),i[s>>2]=(d*o-l*p)*a,i[s+4>>2]=(l*u-h*o)*a,i[s+8>>2]=(h*p-d*u)*a,n&&(i[s>>2]=-((d*o-l*p)*a),i[s+4>>2]=-((l*u-h*o)*a),i[s+8>>2]=-((h*p-d*u)*a))}function wQ(t){return t=t|0,3}function MQ(t){return t=t|0,3}function RQ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,f0[e[(e[t>>2]|0)+108>>2]&127](t,n,s),f0[e[(e[t>>2]|0)+108>>2]&127](t,(n+1|0)%3|0,o)}function AQ(t,n,s){t=t|0,n=n|0,s=s|0,e[s>>2]=e[t+60+(n<<4)>>2],e[s+4>>2]=e[t+60+(n<<4)+4>>2],e[s+8>>2]=e[t+60+(n<<4)+8>>2],e[s+12>>2]=e[t+60+(n<<4)+12>>2]}function EQ(t){return t=t|0,1}function NQ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+124>>2]&127](t,o,n,s)}function bQ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0;if(S=H,H=H+80|0,d=e[t+4>>2]|0,vc[e[(e[d>>2]|0)+16>>2]&3](d,S+28|0,S+24|0,S+20|0,S+16|0,S+12|0,S+8|0,S+4|0,S,n),d=(e[S+12>>2]|0)+(Rt(e[S+8>>2]|0,s)|0)|0,g=e[t+4>>2]|0,m=(e[S+20>>2]|0)==0,h=e[S+28>>2]|0,(e[S>>2]|0)==3){p=e[S+16>>2]|0,u=h+(Rt(p,Le[d+4>>1]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+32>>2]=o,i[S+32+36>>2]=l,i[S+32+40>>2]=a,i[S+32+44>>2]=0,u=h+(Rt(p,Le[d+2>>1]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+16>>2]=o,i[S+32+20>>2]=l,i[S+32+24>>2]=a,i[S+32+28>>2]=0,u=h+(Rt(p,Le[d>>1]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32>>2]=o,i[S+32+4>>2]=l,i[S+32+8>>2]=a,i[S+32+12>>2]=0,g=t+8|0,g=e[g>>2]|0,m=e[g>>2]|0,m=m+8|0,m=e[m>>2]|0,Kt[m&127](g,S+32|0,n,s),t=e[t+4>>2]|0,s=e[t>>2]|0,s=s+24|0,s=e[s>>2]|0,zt[s&127](t,n),H=S;return}else{p=e[S+16>>2]|0,u=h+(Rt(p,e[d+8>>2]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+32>>2]=o,i[S+32+36>>2]=l,i[S+32+40>>2]=a,i[S+32+44>>2]=0,u=h+(Rt(p,e[d+4>>2]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+16>>2]=o,i[S+32+20>>2]=l,i[S+32+24>>2]=a,i[S+32+28>>2]=0,u=h+(Rt(p,e[d>>2]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32>>2]=o,i[S+32+4>>2]=l,i[S+32+8>>2]=a,i[S+32+12>>2]=0,g=t+8|0,g=e[g>>2]|0,m=e[g>>2]|0,m=m+8|0,m=e[m>>2]|0,Kt[m&127](g,S+32|0,n,s),t=e[t+4>>2]|0,s=e[t>>2]|0,s=s+24|0,s=e[s>>2]|0,zt[s&127](t,n),H=S;return}}function DQ(t){t=t|0,ye(t)}function IQ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0;if(S=H,H=H+80|0,d=e[t+4>>2]|0,vc[e[(e[d>>2]|0)+16>>2]&3](d,S+28|0,S+24|0,S+20|0,S+16|0,S+12|0,S+8|0,S+4|0,S,n),d=(e[S+12>>2]|0)+(Rt(e[S+8>>2]|0,s)|0)|0,g=e[t+4>>2]|0,m=(e[S+20>>2]|0)==0,h=e[S+28>>2]|0,(e[S>>2]|0)==3){p=e[S+16>>2]|0,u=h+(Rt(p,Le[d+4>>1]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+32>>2]=o,i[S+32+36>>2]=l,i[S+32+40>>2]=a,i[S+32+44>>2]=0,u=h+(Rt(p,Le[d+2>>1]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+16>>2]=o,i[S+32+20>>2]=l,i[S+32+24>>2]=a,i[S+32+28>>2]=0,u=h+(Rt(p,Le[d>>1]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32>>2]=o,i[S+32+4>>2]=l,i[S+32+8>>2]=a,i[S+32+12>>2]=0,g=t+8|0,g=e[g>>2]|0,m=e[g>>2]|0,m=m+8|0,m=e[m>>2]|0,Kt[m&127](g,S+32|0,n,s),t=e[t+4>>2]|0,s=e[t>>2]|0,s=s+24|0,s=e[s>>2]|0,zt[s&127](t,n),H=S;return}else{p=e[S+16>>2]|0,u=h+(Rt(p,e[d+8>>2]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+32>>2]=o,i[S+32+36>>2]=l,i[S+32+40>>2]=a,i[S+32+44>>2]=0,u=h+(Rt(p,e[d+4>>2]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32+16>>2]=o,i[S+32+20>>2]=l,i[S+32+24>>2]=a,i[S+32+28>>2]=0,u=h+(Rt(p,e[d>>2]|0)|0)|0,m?(a=+i[u+8>>2]*+i[g+12>>2],l=+i[u+4>>2]*+i[g+8>>2],o=+i[u>>2]*+i[g+4>>2]):(a=+Mt[u+16>>3]*+i[g+12>>2],l=+Mt[u+8>>3]*+i[g+8>>2],o=+Mt[u>>3]*+i[g+4>>2]),i[S+32>>2]=o,i[S+32+4>>2]=l,i[S+32+8>>2]=a,i[S+32+12>>2]=0,g=t+8|0,g=e[g>>2]|0,m=e[g>>2]|0,m=m+8|0,m=e[m>>2]|0,Kt[m&127](g,S+32|0,n,s),t=e[t+4>>2]|0,s=e[t>>2]|0,s=s+24|0,s=e[s>>2]|0,zt[s&127](t,n),H=S;return}}function PQ(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function LQ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0;a=H,H=H+16|0,L=e[t+56>>2]|0,F=e[t+32+(((L+2|0)%3|0)<<2)>>2]|0,e[a>>2]=F,e[a+4>>2]=F,e[a+8>>2]=F,i[a+12>>2]=0,i[a+(L<<2)>>2]=(e[Z>>2]=F,+i[Z>>2]+ +i[t+32+(L<<2)>>2]),p=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),l=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),m=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),p=p+ +i[a>>2],i[a>>2]=p,l=l+ +i[a+4>>2],i[a+4>>2]=l,m=m+ +i[a+8>>2],D=+ht(+ +i[n>>2]),E=+ht(+ +i[n+4>>2]),b=+ht(+ +i[n+8>>2]),C=+ht(+ +i[n+16>>2]),S=+ht(+ +i[n+20>>2]),w=+ht(+ +i[n+24>>2]),h=+ht(+ +i[n+32>>2]),u=+ht(+ +i[n+36>>2]),d=+ht(+ +i[n+40>>2]),B=+i[n+48>>2],M=+i[n+52>>2],g=+i[n+56>>2],i[s>>2]=B-(m*b+(D*p+E*l)),i[s+4>>2]=M-(m*w+(C*p+S*l)),i[s+8>>2]=g-(m*d+(h*p+u*l)),i[s+12>>2]=0,i[o>>2]=B+(m*b+(D*p+E*l)),i[o+4>>2]=M+(m*w+(C*p+S*l)),i[o+8>>2]=g+(m*d+(h*p+u*l)),i[o+12>>2]=0,H=a}function kQ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;h=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),l=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),s=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),m=(h+ +i[t+32>>2])/+i[t+16>>2],p=(l+ +i[t+36>>2])/+i[t+20>>2],a=(s+ +i[t+40>>2])/+i[t+24>>2],d=+ht(+ +i[n>>2]),u=+ht(+ +i[n+4>>2]),o=+ht(+ +i[n+8>>2]),i[t+16>>2]=d,i[t+20>>2]=u,i[t+24>>2]=o,i[t+28>>2]=0,i[t+32>>2]=m*d-h,i[t+36>>2]=p*u-l,i[t+40>>2]=a*o-s,i[t+44>>2]=0}function FQ(t,n,s){t=t|0,n=+n,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;o=H,H=H+16|0,p=e[t+56>>2]|0,h=e[t+32+(((p+2|0)%3|0)<<2)>>2]|0,e[o>>2]=h,e[o+4>>2]=h,e[o+8>>2]=h,i[o+12>>2]=0,i[o+(p<<2)>>2]=+i[t+32+(p<<2)>>2]+ +i[o+(p<<2)>>2],l=(+i[o>>2]+.03999999910593033)*2,a=(+i[o+4>>2]+.03999999910593033)*2,u=(+i[o+8>>2]+.03999999910593033)*2,i[s>>2]=n*.0833333283662796*(a*a+u*u),i[s+4>>2]=n*.0833333283662796*(l*l+u*u),i[s+8>>2]=n*.0833333283662796*(l*l+a*a),H=o}function BQ(t){return t=t|0,13096}function UQ(t,n){t=t|0,n=n|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,i[t+(e[n+56>>2]<<2)>>2]=1}function OQ(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0;l=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),o=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),u=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),l=l+ +i[t+32>>2],o=o+ +i[t+36>>2],u=u+ +i[t+40>>2],i[t+48>>2]=n,a=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),s=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),n=u-+Ct[e[(e[t>>2]|0)+48>>2]&15](t),i[t+32>>2]=l-a,i[t+36>>2]=o-s,i[t+40>>2]=n,i[t+44>>2]=0}function GQ(t){return t=t|0,60}function VQ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=a,a|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],e[n+28>>2]=e[t+32>>2],e[n+32>>2]=e[t+36>>2],e[n+36>>2]=e[t+40>>2],e[n+40>>2]=e[t+44>>2],e[n+12>>2]=e[t+16>>2],e[n+16>>2]=e[t+20>>2],e[n+20>>2]=e[t+24>>2],e[n+24>>2]=e[t+28>>2],e[n+44>>2]=e[t+48>>2],e[n+52>>2]=e[t+56>>2],13109}function zQ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;if(C=H,H=H+16|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,o=+i[s>>2],a=+i[s+4>>2],l=+i[s+8>>2],o*o+a*a+l*l<9999999747378752e-20?(S=1,g=0,m=0):(m=1/+ot(+(o*o+a*a+l*l)),S=o*m,g=a*m,m=l*m),s=e[n+56>>2]|0,d=+i[n+32+(((s+2|0)%3|0)<<2)>>2],e[C>>2]=0,e[C+4>>2]=0,e[C+8>>2]=0,e[C+12>>2]=0,e[C+(s<<2)>>2]=e[n+32+(s<<2)>>2],p=S*d,h=g*d,d=m*d,o=p+ +i[C>>2],a=h+ +i[C+4>>2],u=d+ +i[C+8>>2],l=+Ct[e[(e[n>>2]|0)+48>>2]&15](n),o=o-S*l,a=a-g*l,l=u-m*l,u=m*l+(S*o+g*a),u>-0xde0b6b000000000?(i[t>>2]=o,i[t+4>>2]=a,i[t+8>>2]=l,i[t+12>>2]=0):u=-0xde0b6b000000000,e[C>>2]=0,e[C+4>>2]=0,e[C+8>>2]=0,e[C+12>>2]=0,s=e[n+56>>2]|0,i[C+(s<<2)>>2]=-+i[n+32+(s<<2)>>2],o=p+ +i[C>>2],a=h+ +i[C+4>>2],d=d+ +i[C+8>>2],l=+Ct[e[(e[n>>2]|0)+48>>2]&15](n),o=o-S*l,a=a-g*l,l=d-m*l,!(m*l+(S*o+g*a)>u)){H=C;return}i[t>>2]=o,i[t+4>>2]=a,i[t+8>>2]=l,i[t+12>>2]=0,H=C}function WQ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0;if(L=H,H=H+16|0,a=e[t+56>>2]|0,B=+i[t+32+(((a+2|0)%3|0)<<2)>>2],(o|0)<=0){H=L;return}for(l=0;e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,e[L+12>>2]=0,e[L+(a<<2)>>2]=e[t+32+(a<<2)>>2],a=n+(l<<4)|0,D=n+(l<<4)+4|0,b=n+(l<<4)+8|0,u=B*+i[a>>2]+ +i[L>>2],p=B*+i[D>>2]+ +i[L+4>>2],h=B*+i[b>>2]+ +i[L+8>>2],d=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),m=+i[a>>2],g=+i[D>>2],S=+i[b>>2],m*(u-d*m)+g*(p-d*g)+S*(h-d*S)>-0xde0b6b000000000?(i[s+(l<<4)>>2]=u-d*m,i[s+(l<<4)+4>>2]=p-d*g,i[s+(l<<4)+8>>2]=h-d*S,i[s+(l<<4)+12>>2]=0,C=+i[a>>2],M=+i[D>>2],E=+i[b>>2],w=m*(u-d*m)+g*(p-d*g)+S*(h-d*S)):(C=m,M=g,E=S,w=-0xde0b6b000000000),e[L>>2]=0,e[L+4>>2]=0,e[L+8>>2]=0,e[L+12>>2]=0,F=e[t+56>>2]|0,i[L+(F<<2)>>2]=-+i[t+32+(F<<2)>>2],S=B*C+ +i[L>>2],g=B*M+ +i[L+4>>2],d=B*E+ +i[L+8>>2],m=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),h=+i[a>>2],p=+i[D>>2],u=+i[b>>2],h*(S-m*h)+p*(g-m*p)+u*(d-m*u)>w&&(i[s+(l<<4)>>2]=S-m*h,i[s+(l<<4)+4>>2]=g-m*p,i[s+(l<<4)+8>>2]=d-m*u,i[s+(l<<4)+12>>2]=0),l=l+1|0,(l|0)!=(o|0);)a=e[t+56>>2]|0;H=L}function HQ(t){return t=t|0,0}function jQ(t,n,s){t=t|0,n=n|0,s=s|0}function qQ(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function XQ(t){return t=t|0,13146}function $Q(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function YQ(t){return t=t|0,13173}function KQ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;o=H,H=H+96|0,e[o+32>>2]=1065353216,e[o+32+4>>2]=0,e[o+32+4+4>>2]=0,e[o+32+4+8>>2]=0,e[o+32+4+12>>2]=0,e[o+32+20>>2]=1065353216,e[o+32+24>>2]=0,e[o+32+24+4>>2]=0,e[o+32+24+8>>2]=0,e[o+32+24+12>>2]=0,e[o+32+40>>2]=1065353216,m=o+32+44|0,e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,e[m+16>>2]=0,Kt[e[(e[t>>2]|0)+8>>2]&127](t,o+32|0,o+16|0,o),h=+i[o>>2],d=+i[o+16>>2],u=+i[o+4>>2],p=+i[o+16+4>>2],a=+i[o+8>>2],l=+i[o+16+8>>2],i[s>>2]=+ot(+((h-d)*(h-d)+(u-p)*(u-p)+(a-l)*(a-l)))*.5,i[n>>2]=(d+h)*.5,i[n+4>>2]=(p+u)*.5,i[n+8>>2]=(l+a)*.5,i[n+12>>2]=0,H=o}function ZQ(t){t=t|0;var n=0,s=0,o=0,a=0;return n=H,H=H+32|0,f0[e[(e[t>>2]|0)+12>>2]&127](t,n+8|0,n),a=+i[n+8>>2],o=+i[n+8+4>>2],s=+i[n+8+8>>2],s=+ot(+(a*a+o*o+s*s)),H=n,+(s+ +i[n>>2])}function QQ(t,n){return t=t|0,n=+n,+(+Ct[e[(e[t>>2]|0)+16>>2]&15](t)*n)}function JQ(t){return t=t|0,12}function eJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=a,a|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],13201}function tJ(t,n){t=t|0,n=n|0;var s=0,o=0;o=Tt[e[(e[t>>2]|0)+52>>2]&127](t)|0,o=G0[e[(e[n>>2]|0)+16>>2]&63](n,o,1)|0,s=G0[e[(e[t>>2]|0)+56>>2]&63](t,e[o+8>>2]|0,n)|0,Zi[e[(e[n>>2]|0)+20>>2]&31](n,o,s,1346455635,t)}function I6(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;Kt[e[(e[t>>2]|0)+8>>2]&127](t,n,a,l),h=e[l>>2]|0,g=e[l+4>>2]|0,u=e[l+8>>2]|0,m=e[a>>2]|0,p=e[a+4>>2]|0,n=e[a+8>>2]|0,d=+i[s>>2],S=+i[s+4>>2],C=+i[s+8>>2],d>0?h=(i[Z>>2]=(e[Z>>2]=h,+i[Z>>2]+d),e[Z>>2]|0):m=(i[Z>>2]=(e[Z>>2]=m,+i[Z>>2]+d),e[Z>>2]|0),S>0?s=(i[Z>>2]=(e[Z>>2]=g,+i[Z>>2]+S),e[Z>>2]|0):(s=g,p=(i[Z>>2]=(e[Z>>2]=p,+i[Z>>2]+S),e[Z>>2]|0)),C>0?u=(i[Z>>2]=(e[Z>>2]=u,+i[Z>>2]+C),e[Z>>2]|0):n=(i[Z>>2]=(e[Z>>2]=n,+i[Z>>2]+C),e[Z>>2]|0),d=+i[o>>2],S=+i[o+4>>2],C=+i[o+8>>2],C=+ot(+(d*d+S*S+C*C)),C=C*+Ct[e[(e[t>>2]|0)+16>>2]&15](t),e[a>>2]=m,e[a+4>>2]=p,e[a+8>>2]=n,i[a+12>>2]=0,e[l>>2]=h,e[l+4>>2]=s,e[l+8>>2]=u,i[l+12>>2]=0,i[a>>2]=+i[a>>2]-C,i[a+4>>2]=+i[a+4>>2]-C,i[a+8>>2]=+i[a+8>>2]-C,i[l>>2]=C+ +i[l>>2],i[l+4>>2]=C+ +i[l+4>>2],i[l+8>>2]=C+ +i[l+8>>2]}function P6(t){t=t|0;var n=0,s=0;if(e[t>>2]=5176,n=e[t+68>>2]|0,n|0&&(vh(n),s=e[t+68>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),n=e[t+28>>2]|0,!n){R[t+32>>0]=1,e[t+28>>2]=0,e[t+20>>2]=0,t=t+24|0,e[t>>2]=0;return}R[t+32>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+28>>2]=0,R[t+32>>0]=1,e[t+28>>2]=0,e[t+20>>2]=0,t=t+24|0,e[t>>2]=0}function iJ(t){t=t|0,P6(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function nJ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0;ne=+i[t+52>>2],U=+i[t+36>>2],X=+i[t+56>>2],F=+i[t+40>>2],$=+i[t+60>>2],B=+i[t+44>>2],q=(e[t+20>>2]|0)==0,m=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),h=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),u=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),m=(q?0:(ne-U)*.5)+m,h=(q?0:(X-F)*.5)+h,u=(q?0:($-B)*.5)+u,Y=+i[n>>2],b=+ht(+Y),z=+i[n+4>>2],D=+ht(+z),M=+i[n+8>>2],E=+ht(+M),O=+i[n+16>>2],w=+ht(+O),G=+i[n+20>>2],C=+ht(+G),g=+i[n+24>>2],S=+ht(+g),P=+i[n+32>>2],d=+ht(+P),L=+i[n+36>>2],p=+ht(+L),a=+i[n+40>>2],l=+ht(+a),U=q?0:(ne+U)*.5,F=q?0:(X+F)*.5,B=q?0:($+B)*.5,M=U*Y+F*z+B*M+ +i[n+48>>2],g=U*O+F*G+B*g+ +i[n+52>>2],a=U*P+F*L+B*a+ +i[n+56>>2],i[s>>2]=M-(m*b+h*D+u*E),i[s+4>>2]=g-(m*w+h*C+u*S),i[s+8>>2]=a-(m*d+h*p+u*l),i[s+12>>2]=0,i[o>>2]=m*b+h*D+u*E+M,i[o+4>>2]=m*w+h*C+u*S+g,i[o+8>>2]=m*d+h*p+u*l+a,i[o+12>>2]=0}function rJ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(S=H,H=H+144|0,(e[t+20>>2]|0)<=0){g=t+80|0,e[g>>2]=e[n>>2],e[g+4>>2]=e[n+4>>2],e[g+8>>2]=e[n+8>>2],e[g+12>>2]=e[n+12>>2],n=e[t>>2]|0,n=n+68|0,n=e[n>>2]|0,Vt[n&255](t),H=S;return}u=S+16+16|0,p=S+16+32|0,h=S+16+48|0,g=0;do{if(m=e[t+28>>2]|0,d=m+(g*80|0)|0,e[S+16>>2]=e[d>>2],e[S+16+4>>2]=e[d+4>>2],e[S+16+8>>2]=e[d+8>>2],e[S+16+12>>2]=e[d+12>>2],d=m+(g*80|0)+16|0,e[u>>2]=e[d>>2],e[u+4>>2]=e[d+4>>2],e[u+8>>2]=e[d+8>>2],e[u+12>>2]=e[d+12>>2],d=m+(g*80|0)+32|0,e[p>>2]=e[d>>2],e[p+4>>2]=e[d+4>>2],e[p+8>>2]=e[d+8>>2],e[p+12>>2]=e[d+12>>2],d=m+(g*80|0)+48|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],m=e[m+(g*80|0)+64>>2]|0,m=Tt[e[(e[m>>2]|0)+28>>2]&127](m)|0,e[S>>2]=e[m>>2],e[S+4>>2]=e[m+4>>2],e[S+8>>2]=e[m+8>>2],C=+i[S+4>>2]*+i[n+4>>2]/+i[t+84>>2],w=+i[S+8>>2]*+i[n+8>>2]/+i[t+88>>2],i[S>>2]=+i[S>>2]*+i[n>>2]/+i[t+80>>2],i[S+4>>2]=C,i[S+8>>2]=w,i[S+12>>2]=0,m=e[(e[t+28>>2]|0)+(g*80|0)+64>>2]|0,zt[e[(e[m>>2]|0)+24>>2]&127](m,S),w=+i[S+16+52>>2]*+i[n+4>>2]/+i[t+84>>2],C=+i[S+16+56>>2]*+i[n+8>>2]/+i[t+88>>2],i[S+16+48>>2]=+i[h>>2]*+i[n>>2]/+i[t+80>>2],i[S+16+52>>2]=w,i[S+16+56>>2]=C,i[S+16+60>>2]=0,m=e[t+28>>2]|0,d=m+(g*80|0)|0,e[d>>2]=e[S+16>>2],e[d+4>>2]=e[S+16+4>>2],e[d+8>>2]=e[S+16+8>>2],e[d+12>>2]=e[S+16+12>>2],d=m+(g*80|0)+16|0,e[d>>2]=e[u>>2],e[d+4>>2]=e[u+4>>2],e[d+8>>2]=e[u+8>>2],e[d+12>>2]=e[u+12>>2],d=m+(g*80|0)+32|0,e[d>>2]=e[p>>2],e[d+4>>2]=e[p+4>>2],e[d+8>>2]=e[p+8>>2],e[d+12>>2]=e[p+12>>2],m=m+(g*80|0)+48|0,e[m>>2]=e[h>>2],e[m+4>>2]=e[h+4>>2],e[m+8>>2]=e[h+8>>2],e[m+12>>2]=e[h+12>>2],e[t+68>>2]|0){d=e[(e[t+28>>2]|0)+(g*80|0)+64>>2]|0,Kt[e[(e[d>>2]|0)+8>>2]&127](d,S+16|0,S+128|0,S+112|0),e[S+80>>2]=e[S+128>>2],e[S+80+4>>2]=e[S+128+4>>2],e[S+80+8>>2]=e[S+128+8>>2],e[S+80+12>>2]=e[S+128+12>>2],e[S+80+16>>2]=e[S+112>>2],e[S+80+16+4>>2]=e[S+112+4>>2],e[S+80+16+8>>2]=e[S+112+8>>2],e[S+80+16+12>>2]=e[S+112+12>>2],d=e[t+68>>2]|0,m=e[(e[t+28>>2]|0)+(g*80|0)+76>>2]|0,s=i1(d,m)|0;e:do if(s){if(a=e[d+8>>2]|0,(a|0)<=-1){s=e[d>>2]|0;break}if((a|0)>0)for(l=0;;){if(o=e[s+32>>2]|0,l=l+1|0,!o)break e;if((l|0)>=(a|0)){s=o;break}else s=o}}else s=0;while(!1);e[m>>2]=e[S+80>>2],e[m+4>>2]=e[S+80+4>>2],e[m+8>>2]=e[S+80+8>>2],e[m+12>>2]=e[S+80+12>>2],e[m+16>>2]=e[S+80+16>>2],e[m+20>>2]=e[S+80+20>>2],e[m+24>>2]=e[S+80+24>>2],e[m+28>>2]=e[S+80+28>>2],U1(d,s,m)}g=g+1|0}while((g|0)<(e[t+20>>2]|0));g=t+80|0,e[g>>2]=e[n>>2],e[g+4>>2]=e[n+4>>2],e[g+8>>2]=e[n+8>>2],e[g+12>>2]=e[n+12>>2],n=e[t>>2]|0,n=n+68|0,n=e[n>>2]|0,Vt[n&255](t),H=S}function sJ(t){return t=t|0,t+80|0}function oJ(t,n,s){t=t|0,n=+n,s=s|0;var o=0,a=0,l=0,u=0,p=0;o=H,H=H+96|0,e[o+32>>2]=1065353216,e[o+32+4>>2]=0,e[o+32+4+4>>2]=0,e[o+32+4+8>>2]=0,e[o+32+4+12>>2]=0,e[o+32+20>>2]=1065353216,e[o+32+24>>2]=0,e[o+32+24+4>>2]=0,e[o+32+24+8>>2]=0,e[o+32+24+12>>2]=0,e[o+32+40>>2]=1065353216,p=o+32+44|0,e[p>>2]=0,e[p+4>>2]=0,e[p+8>>2]=0,e[p+12>>2]=0,e[p+16>>2]=0,Kt[e[(e[t>>2]|0)+8>>2]&127](t,o+32|0,o+16|0,o),l=(+i[o>>2]-+i[o+16>>2])*.5*2,a=(+i[o+4>>2]-+i[o+16+4>>2])*.5*2,u=(+i[o+8>>2]-+i[o+16+8>>2])*.5*2,i[s>>2]=n/12*(a*a+u*u),i[s+4>>2]=n/12*(l*l+u*u),i[s+8>>2]=n/12*(l*l+a*a),H=o}function aJ(t){return t=t|0,13240}function cJ(t,n){t=t|0,n=+n,i[t+76>>2]=n}function lJ(t){return t=t|0,+ +i[t+76>>2]}function uJ(t){return t=t|0,24}function fJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0;if(o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,l=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=l,l|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],e[n+20>>2]=e[t+76>>2],o=e[t+20>>2]|0,e[n+16>>2]=o,e[n+12>>2]=0,!o)return 13274;if(l=G0[e[(e[s>>2]|0)+16>>2]&63](s,76,o)|0,o=e[l+8>>2]|0,e[n+12>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,(e[n+16>>2]|0)>0)for(a=0;;)if(u=e[t+28>>2]|0,e[o+72>>2]=e[u+(a*80|0)+72>>2],e[o+64>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[u+(a*80|0)+64>>2]|0)|0,I0[e[(e[s>>2]|0)+24>>2]&31](s,e[(e[t+28>>2]|0)+(a*80|0)+64>>2]|0)|0||(u=e[(e[s>>2]|0)+16>>2]|0,p=e[(e[t+28>>2]|0)+(a*80|0)+64>>2]|0,p=Tt[e[(e[p>>2]|0)+52>>2]&127](p)|0,p=G0[u&63](s,p,1)|0,u=e[(e[t+28>>2]|0)+(a*80|0)+64>>2]|0,u=G0[e[(e[u>>2]|0)+56>>2]&63](u,e[p+8>>2]|0,s)|0,Zi[e[(e[s>>2]|0)+20>>2]&31](s,p,u,1346455635,e[(e[t+28>>2]|0)+(a*80|0)+64>>2]|0)),p=e[t+28>>2]|0,e[o+68>>2]=e[p+(a*80|0)+68>>2],e[o>>2]=e[p+(a*80|0)>>2],e[o+4>>2]=e[p+(a*80|0)+4>>2],e[o+8>>2]=e[p+(a*80|0)+8>>2],e[o+12>>2]=e[p+(a*80|0)+12>>2],e[o+16>>2]=e[p+(a*80|0)+16>>2],e[o+20>>2]=e[p+(a*80|0)+20>>2],e[o+24>>2]=e[p+(a*80|0)+24>>2],e[o+28>>2]=e[p+(a*80|0)+28>>2],e[o+32>>2]=e[p+(a*80|0)+32>>2],e[o+36>>2]=e[p+(a*80|0)+36>>2],e[o+40>>2]=e[p+(a*80|0)+40>>2],e[o+44>>2]=e[p+(a*80|0)+44>>2],e[o+48>>2]=e[p+(a*80|0)+48>>2],e[o+52>>2]=e[p+(a*80|0)+52>>2],e[o+56>>2]=e[p+(a*80|0)+56>>2],e[o+60>>2]=e[p+(a*80|0)+60>>2],a=a+1|0,(a|0)>=(e[n+16>>2]|0)){o=s;break}else o=o+76|0;else o=s;return Zi[e[(e[o>>2]|0)+20>>2]&31](s,l,13249,1497453121,e[l+8>>2]|0),13274}function _J(t,n){t=t|0,n=n|0;var s=0,o=0;if(e[t+72>>2]=(e[t+72>>2]|0)+1,s=e[t+20>>2]|0,(s|0)>0)do o=s,s=s+-1|0,(e[(e[t+28>>2]|0)+(s*80|0)+64>>2]|0)==(n|0)&&L6(t,s);while((o|0)>1);Vt[e[(e[t>>2]|0)+68>>2]&255](t)}function L6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(l=H,H=H+80|0,e[t+72>>2]=(e[t+72>>2]|0)+1,o=e[t+68>>2]|0,o|0&&(a=e[(e[t+28>>2]|0)+(n*80|0)+76>>2]|0,i1(o,a)|0,s=e[o+4>>2]|0,s|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[o+4>>2]=a,e[o+12>>2]=(e[o+12>>2]|0)+-1),a=(e[t+20>>2]|0)+-1|0,o=e[t+28>>2]|0,e[l>>2]=e[o+(n*80|0)>>2],e[l+4>>2]=e[o+(n*80|0)+4>>2],e[l+8>>2]=e[o+(n*80|0)+8>>2],e[l+12>>2]=e[o+(n*80|0)+12>>2],e[l+16>>2]=e[o+(n*80|0)+16>>2],e[l+16+4>>2]=e[o+(n*80|0)+16+4>>2],e[l+16+8>>2]=e[o+(n*80|0)+16+8>>2],e[l+16+12>>2]=e[o+(n*80|0)+16+12>>2],e[l+32>>2]=e[o+(n*80|0)+32>>2],e[l+32+4>>2]=e[o+(n*80|0)+32+4>>2],e[l+32+8>>2]=e[o+(n*80|0)+32+8>>2],e[l+32+12>>2]=e[o+(n*80|0)+32+12>>2],e[l+48>>2]=e[o+(n*80|0)+48>>2],e[l+48+4>>2]=e[o+(n*80|0)+48+4>>2],e[l+48+8>>2]=e[o+(n*80|0)+48+8>>2],e[l+48+12>>2]=e[o+(n*80|0)+48+12>>2],e[l+64>>2]=e[o+(n*80|0)+64>>2],e[l+64+4>>2]=e[o+(n*80|0)+64+4>>2],e[l+64+8>>2]=e[o+(n*80|0)+64+8>>2],e[l+64+12>>2]=e[o+(n*80|0)+64+12>>2],e[o+(n*80|0)>>2]=e[o+(a*80|0)>>2],e[o+(n*80|0)+4>>2]=e[o+(a*80|0)+4>>2],e[o+(n*80|0)+8>>2]=e[o+(a*80|0)+8>>2],e[o+(n*80|0)+12>>2]=e[o+(a*80|0)+12>>2],e[o+(n*80|0)+16>>2]=e[o+(a*80|0)+16>>2],e[o+(n*80|0)+16+4>>2]=e[o+(a*80|0)+16+4>>2],e[o+(n*80|0)+16+8>>2]=e[o+(a*80|0)+16+8>>2],e[o+(n*80|0)+16+12>>2]=e[o+(a*80|0)+16+12>>2],e[o+(n*80|0)+32>>2]=e[o+(a*80|0)+32>>2],e[o+(n*80|0)+32+4>>2]=e[o+(a*80|0)+32+4>>2],e[o+(n*80|0)+32+8>>2]=e[o+(a*80|0)+32+8>>2],e[o+(n*80|0)+32+12>>2]=e[o+(a*80|0)+32+12>>2],e[o+(n*80|0)+48>>2]=e[o+(a*80|0)+48>>2],e[o+(n*80|0)+48+4>>2]=e[o+(a*80|0)+48+4>>2],e[o+(n*80|0)+48+8>>2]=e[o+(a*80|0)+48+8>>2],e[o+(n*80|0)+48+12>>2]=e[o+(a*80|0)+48+12>>2],e[o+(n*80|0)+64>>2]=e[o+(a*80|0)+64>>2],e[o+(n*80|0)+64+4>>2]=e[o+(a*80|0)+64+4>>2],e[o+(n*80|0)+64+8>>2]=e[o+(a*80|0)+64+8>>2],e[o+(n*80|0)+64+12>>2]=e[o+(a*80|0)+64+12>>2],o=e[t+28>>2]|0,e[o+(a*80|0)>>2]=e[l>>2],e[o+(a*80|0)+4>>2]=e[l+4>>2],e[o+(a*80|0)+8>>2]=e[l+8>>2],e[o+(a*80|0)+12>>2]=e[l+12>>2],e[o+(a*80|0)+16>>2]=e[l+16>>2],e[o+(a*80|0)+16+4>>2]=e[l+16+4>>2],e[o+(a*80|0)+16+8>>2]=e[l+16+8>>2],e[o+(a*80|0)+16+12>>2]=e[l+16+12>>2],e[o+(a*80|0)+32>>2]=e[l+32>>2],e[o+(a*80|0)+32+4>>2]=e[l+32+4>>2],e[o+(a*80|0)+32+8>>2]=e[l+32+8>>2],e[o+(a*80|0)+32+12>>2]=e[l+32+12>>2],e[o+(a*80|0)+48>>2]=e[l+48>>2],e[o+(a*80|0)+48+4>>2]=e[l+48+4>>2],e[o+(a*80|0)+48+8>>2]=e[l+48+8>>2],e[o+(a*80|0)+48+12>>2]=e[l+48+12>>2],e[o+(a*80|0)+64>>2]=e[l+64>>2],e[o+(a*80|0)+64+4>>2]=e[l+64+4>>2],e[o+(a*80|0)+64+8>>2]=e[l+64+8>>2],e[o+(a*80|0)+64+12>>2]=e[l+64+12>>2],!(e[t+68>>2]|0)){n=e[t+20>>2]|0,n=n+-1|0,e[t+20>>2]=n,H=l;return}e[(e[(e[t+28>>2]|0)+(n*80|0)+76>>2]|0)+36>>2]=n,n=e[t+20>>2]|0,n=n+-1|0,e[t+20>>2]=n,H=l}function pJ(t){t=t|0;var n=0,s=0,o=0,a=0,l=0;if(o=H,H=H+32|0,e[t+36>>2]=1566444395,e[t+40>>2]=1566444395,e[t+44>>2]=1566444395,i[t+48>>2]=0,e[t+52>>2]=-581039253,e[t+56>>2]=-581039253,e[t+60>>2]=-581039253,i[t+64>>2]=0,(e[t+20>>2]|0)<=0){H=o;return}s=0;do a=e[t+28>>2]|0,l=e[a+(s*80|0)+64>>2]|0,Kt[e[(e[l>>2]|0)+8>>2]&127](l,a+(s*80|0)|0,o+16|0,o),n=+i[o+16>>2],+i[t+36>>2]>n&&(i[t+36>>2]=n),n=+i[o>>2],+i[t+52>>2]<n&&(i[t+52>>2]=n),n=+i[o+16+4>>2],+i[t+40>>2]>n&&(i[t+40>>2]=n),n=+i[o+4>>2],+i[t+56>>2]<n&&(i[t+56>>2]=n),n=+i[o+16+8>>2],+i[t+44>>2]>n&&(i[t+44>>2]=n),n=+i[o+8>>2],+i[t+60>>2]<n&&(i[t+60>>2]=n),s=s+1|0;while((s|0)<(e[t+20>>2]|0));H=o}function k6(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0;if(e[t+8>>2]=0,e[t+12>>2]=-1,e[t>>2]=5176,R[t+32>>0]=1,e[t+28>>2]=0,e[t+20>>2]=0,e[t+24>>2]=0,e[t+36>>2]=1566444395,e[t+40>>2]=1566444395,e[t+44>>2]=1566444395,i[t+48>>2]=0,e[t+52>>2]=-581039253,e[t+56>>2]=-581039253,e[t+60>>2]=-581039253,i[t+64>>2]=0,e[t+68>>2]=0,e[t+72>>2]=1,i[t+76>>2]=0,e[t+80>>2]=1065353216,e[t+84>>2]=1065353216,e[t+88>>2]=1065353216,i[t+92>>2]=0,e[t+4>>2]=31,n?(e[5637]=(e[5637]|0)+1,n=Xe(79)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,R[n+36>>0]=1,e[n+32>>2]=0,e[n+24>>2]=0,e[n+28>>2]=0,R[n+56>>0]=1,e[n+52>>2]=0,e[n+44>>2]=0,e[n+48>>2]=0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=-1,e[n+12>>2]=0,e[n+16>>2]=0,e[t+68>>2]=n,n=e[t+24>>2]|0):n=0,!((n|0)>=(s|0))){if((s|0)!=0&&(e[5637]=(e[5637]|0)+1,o=Xe((s*80|3)+16|0)|0,(o|0)!=0)?(e[(o+4+15&-16)+-4>>2]=o,a=o+4+15&-16):a=0,n=e[t+20>>2]|0,(n|0)>0){o=0;do l=a+(o*80|0)|0,u=e[t+28>>2]|0,p=u+(o*80|0)|0,e[l>>2]=e[p>>2],e[l+4>>2]=e[p+4>>2],e[l+8>>2]=e[p+8>>2],e[l+12>>2]=e[p+12>>2],l=a+(o*80|0)+16|0,p=u+(o*80|0)+16|0,e[l>>2]=e[p>>2],e[l+4>>2]=e[p+4>>2],e[l+8>>2]=e[p+8>>2],e[l+12>>2]=e[p+12>>2],l=a+(o*80|0)+32|0,p=u+(o*80|0)+32|0,e[l>>2]=e[p>>2],e[l+4>>2]=e[p+4>>2],e[l+8>>2]=e[p+8>>2],e[l+12>>2]=e[p+12>>2],l=a+(o*80|0)+48|0,p=u+(o*80|0)+48|0,e[l>>2]=e[p>>2],e[l+4>>2]=e[p+4>>2],e[l+8>>2]=e[p+8>>2],e[l+12>>2]=e[p+12>>2],l=a+(o*80|0)+64|0,u=u+(o*80|0)+64|0,e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],o=o+1|0;while((o|0)!=(n|0))}n=e[t+28>>2]|0,n|0&&(R[t+32>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+28>>2]=0),R[t+32>>0]=1,e[t+28>>2]=a,e[t+24>>2]=s}}function hJ(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function dJ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,Kt[e[(e[t>>2]|0)+80>>2]&127](t,n,s,o)}function mJ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0;p=e[t+72>>2]|0,u=e[t+68>>2]|0,l=e[t+76>>2]|0,o=+i[t+64>>2]*(+i[n+(p<<2)>>2]/+i[t+16+(p<<2)>>2]),i[t+64>>2]=o,a=+i[t+60>>2]*((+i[n+(u<<2)>>2]/+i[t+16+(u<<2)>>2]+ +i[n+(l<<2)>>2]/+i[t+16+(l<<2)>>2])*.5),i[t+60>>2]=a,i[t+56>>2]=a/+ot(+(o*o+a*a)),a=+ht(+ +i[n>>2]),o=+ht(+ +i[n+4>>2]),s=+ht(+ +i[n+8>>2]),i[t+16>>2]=a,i[t+20>>2]=o,i[t+24>>2]=s,i[t+28>>2]=0}function gJ(t,n,s){t=t|0,n=+n,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;o=H,H=H+96|0,e[o+32>>2]=1065353216,e[o+32+4>>2]=0,e[o+32+4+4>>2]=0,e[o+32+4+8>>2]=0,e[o+32+4+12>>2]=0,e[o+32+20>>2]=1065353216,e[o+32+24>>2]=0,e[o+32+24+4>>2]=0,e[o+32+24+8>>2]=0,e[o+32+24+12>>2]=0,e[o+32+40>>2]=1065353216,h=o+32+44|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,e[h+12>>2]=0,e[h+16>>2]=0,Kt[e[(e[t>>2]|0)+8>>2]&127](t,o+32|0,o+16|0,o),u=(+i[o>>2]-+i[o+16>>2])*.5,l=(+i[o+4>>2]-+i[o+16+4>>2])*.5,p=(+i[o+8>>2]-+i[o+16+8>>2])*.5,a=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),i[s>>2]=n*.0833333283662796*((l+a)*2*((l+a)*2)+(p+a)*2*((p+a)*2)),i[s+4>>2]=n*.0833333283662796*((u+a)*2*((u+a)*2)+(p+a)*2*((p+a)*2)),i[s+8>>2]=n*.0833333283662796*((u+a)*2*((u+a)*2)+(l+a)*2*((l+a)*2)),i[s+12>>2]=0,H=o}function xJ(t){return t=t|0,13325}function yJ(t,n){t=t|0,n=n|0,e[t>>2]=0,e[t+4>>2]=1065353216,e[t+8>>2]=0,i[t+12>>2]=0}function vJ(t){return t=t|0,60}function SJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=a,a|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],e[n+28>>2]=e[t+32>>2],e[n+32>>2]=e[t+36>>2],e[n+36>>2]=e[t+40>>2],e[n+40>>2]=e[t+44>>2],e[n+12>>2]=e[t+16>>2],e[n+16>>2]=e[t+20>>2],e[n+20>>2]=e[t+24>>2],e[n+24>>2]=e[t+28>>2],e[n+44>>2]=e[t+48>>2],e[n+52>>2]=e[t+72>>2],13330}function CJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;o=+i[n+64>>2]*.5,d=e[n+72>>2]|0,l=+i[s>>2],p=+i[s+4>>2],h=+i[s+8>>2],h=+ot(+(l*l+p*p+h*h)),a=e[n+68>>2]|0;do if(+i[s+(d<<2)>>2]>h*+i[n+56>>2])i[t+(a<<2)>>2]=0,i[t+(d<<2)>>2]=o,i[t+(e[n+76>>2]<<2)>>2]=0;else if(l=+i[s+(a<<2)>>2],u=e[n+76>>2]|0,p=+i[s+(u<<2)>>2],h=+ot(+(l*l+p*p)),h>11920928955078125e-23){h=+i[n+60>>2]/h,i[t+(a<<2)>>2]=l*h,i[t+(d<<2)>>2]=-o,i[t+(u<<2)>>2]=p*h;break}else{i[t+(a<<2)>>2]=0,i[t+(d<<2)>>2]=-o,i[t+(u<<2)>>2]=0;break}while(!1);+Ct[e[(e[n>>2]|0)+48>>2]&15](n)!=0&&(l=+i[s>>2],p=+i[s+4>>2],h=+i[s+8>>2],m=l*l+p*p+h*h<14210854715202004e-30?-1:l,o=l*l+p*p+h*h<14210854715202004e-30?-1:p,h=l*l+p*p+h*h<14210854715202004e-30?-1:h,p=1/+ot(+(h*h+(m*m+o*o))),l=+Ct[e[(e[n>>2]|0)+48>>2]&15](n),i[t>>2]=+i[t>>2]+l*(p*m),i[t+4>>2]=l*(p*o)+ +i[t+4>>2],i[t+8>>2]=l*(p*h)+ +i[t+8>>2])}function TJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0;if(l=+i[n+64>>2]*.5,d=e[n+72>>2]|0,o=+i[s>>2],a=+i[s+4>>2],p=+i[s+8>>2],p=+ot(+(o*o+a*a+p*p)),u=e[n+68>>2]|0,+i[s+(d<<2)>>2]>p*+i[n+56>>2]){i[t+(u<<2)>>2]=0,i[t+(d<<2)>>2]=l,i[t+(e[n+76>>2]<<2)>>2]=0;return}if(p=+i[s+(u<<2)>>2],h=e[n+76>>2]|0,o=+i[s+(h<<2)>>2],a=+ot(+(p*p+o*o)),a>11920928955078125e-23){a=+i[n+60>>2]/a,i[t+(u<<2)>>2]=p*a,i[t+(d<<2)>>2]=-l,i[t+(h<<2)>>2]=o*a;return}else{i[t+(u<<2)>>2]=0,i[t+(d<<2)>>2]=-l,i[t+(h<<2)>>2]=0;return}}function wJ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;if(C=H,H=H+16|0,(o|0)<=0){H=C;return}S=0;do{g=s+(S<<4)|0,a=+i[t+64>>2]*.5,l=e[t+72>>2]|0,p=+i[n+(S<<4)>>2],d=+i[n+(S<<4)+4>>2],m=+i[n+(S<<4)+8>>2],m=+ot(+(p*p+d*d+m*m)),u=e[t+68>>2]|0;do if(+i[n+(S<<4)+(l<<2)>>2]>m*+i[t+56>>2])i[C+(u<<2)>>2]=0,i[C+(l<<2)>>2]=a,i[C+(e[t+76>>2]<<2)>>2]=0;else if(p=+i[n+(S<<4)+(u<<2)>>2],h=e[t+76>>2]|0,d=+i[n+(S<<4)+(h<<2)>>2],m=+ot(+(p*p+d*d)),m>11920928955078125e-23){m=+i[t+60>>2]/m,i[C+(u<<2)>>2]=p*m,i[C+(l<<2)>>2]=-a,i[C+(h<<2)>>2]=d*m;break}else{i[C+(u<<2)>>2]=0,i[C+(l<<2)>>2]=-a,i[C+(h<<2)>>2]=0;break}while(!1);e[g>>2]=e[C>>2],e[g+4>>2]=e[C+4>>2],e[g+8>>2]=e[C+8>>2],e[g+12>>2]=e[C+12>>2],S=S+1|0}while((S|0)!=(o|0));H=C}function MJ(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function RJ(t){return t=t|0,13361}function AJ(t,n){t=t|0,n=n|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=1065353216,i[t+12>>2]=0}function EJ(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function NJ(t){return t=t|0,13382}function bJ(t,n){t=t|0,n=n|0,e[t>>2]=1065353216,e[t+4>>2]=0,e[t+8>>2]=0,i[t+12>>2]=0}function DJ(t){t=t|0;var n=0;e[t>>2]=5556,n=e[t+108>>2]|0,n|0&&(R[t+112>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+108>>2]=0),R[t+112>>0]=1,e[t+108>>2]=0,e[t+100>>2]=0,e[t+104>>2]=0,e[t>>2]=6248,n=e[t+56>>2]|0,n&&(Vt[e[e[n>>2]>>2]&255](n),n=e[t+56>>2]|0,n&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)))}function IJ(t){t=t|0;var n=0,s=0;e[t>>2]=5556,n=e[t+108>>2]|0,n|0&&(R[t+112>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+108>>2]=0),R[t+112>>0]=1,e[t+108>>2]=0,e[t+100>>2]=0,e[t+104>>2]=0,e[t>>2]=6248,n=e[t+56>>2]|0,n|0&&(Vt[e[e[n>>2]>>2]&255](n),s=e[t+56>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function PJ(t,n){t=t|0,n=n|0,e[t+16>>2]=e[n>>2],e[t+16+4>>2]=e[n+4>>2],e[t+16+8>>2]=e[n+8>>2],e[t+16+12>>2]=e[n+12>>2],mc(t)}function LJ(t){return t=t|0,13408}function kJ(t){return t=t|0,68}function FJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;if(o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,l=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=l,l|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],e[n+28>>2]=e[t+32>>2],e[n+32>>2]=e[t+36>>2],e[n+36>>2]=e[t+40>>2],e[n+40>>2]=e[t+44>>2],e[n+12>>2]=e[t+16>>2],e[n+16>>2]=e[t+20>>2],e[n+20>>2]=e[t+24>>2],e[n+24>>2]=e[t+28>>2],e[n+44>>2]=e[t+48>>2],a=e[t+100>>2]|0,e[n+60>>2]=a,!a)return e[n+52>>2]=0,e[n+56>>2]=0,13415;if(e[n+52>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+108>>2]|0)|0,e[n+56>>2]=0,l=G0[e[(e[s>>2]|0)+16>>2]&63](s,16,a)|0,(a|0)>0)for(o=e[t+108>>2]|0,n=0,t=e[l+8>>2]|0;e[t>>2]=e[o+(n<<4)>>2],e[t+4>>2]=e[o+(n<<4)+4>>2],e[t+8>>2]=e[o+(n<<4)+8>>2],e[t+12>>2]=e[o+(n<<4)+12>>2],n=n+1|0,(n|0)!=(a|0);)t=t+16|0;else o=e[t+108>>2]|0;return Zi[e[(e[s>>2]|0)+20>>2]&31](s,l,16354,1497453121,o),13415}function BJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0;f0[e[(e[n>>2]|0)+68>>2]&127](t,n,s),+Ct[e[(e[n>>2]|0)+48>>2]&15](n)!=0&&(l=+i[s>>2],a=+i[s+4>>2],o=+i[s+8>>2],p=l*l+a*a+o*o<14210854715202004e-30?-1:l,u=l*l+a*a+o*o<14210854715202004e-30?-1:a,o=l*l+a*a+o*o<14210854715202004e-30?-1:o,a=1/+ot(+(o*o+(p*p+u*u))),l=+Ct[e[(e[n>>2]|0)+48>>2]&15](n),i[t>>2]=+i[t>>2]+l*(a*p),i[t+4>>2]=l*(a*u)+ +i[t+4>>2],i[t+8>>2]=l*(a*o)+ +i[t+8>>2])}function UJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;if(h=e[n+100>>2]|0,(h|0)<=0){e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0;return}for(S=+i[n+16>>2],C=+i[s>>2]*S,d=+i[n+20>>2],m=+i[s+4>>2]*d,g=+i[n+24>>2],p=+i[s+8>>2]*g,s=e[n+108>>2]|0,a=0,l=-34028234663852886e22,u=-1;o=C*+i[s+(a<<4)>>2]+m*+i[s+(a<<4)+4>>2]+p*+i[s+(a<<4)+8>>2],n=o>l,u=n?a:u,a=a+1|0,(a|0)!=(h|0);)l=n?o:l;m=+i[s+(u<<4)+4>>2]*d,C=+i[s+(u<<4)+8>>2]*g,i[t>>2]=+i[s+(u<<4)>>2]*S,i[t+4>>2]=m,i[t+8>>2]=C,i[t+12>>2]=0}function OJ(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0;var p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;if(C=H,H=H+16|0,i[o>>2]=34028234663852886e22,i[a>>2]=-34028234663852886e22,d=e[t+100>>2]|0,(d|0)>0){S=0;do M=e[t+108>>2]|0,w=+i[M+(S<<4)>>2]*+i[t+16>>2],g=+i[M+(S<<4)+4>>2]*+i[t+20>>2],m=+i[M+(S<<4)+8>>2]*+i[t+24>>2],p=w*+i[n>>2]+g*+i[n+4>>2]+m*+i[n+8>>2]+ +i[n+48>>2],h=w*+i[n+16>>2]+g*+i[n+20>>2]+m*+i[n+24>>2]+ +i[n+52>>2],m=w*+i[n+32>>2]+g*+i[n+36>>2]+m*+i[n+40>>2]+ +i[n+56>>2],g=p*+i[s>>2]+h*+i[s+4>>2]+m*+i[s+8>>2],g<+i[o>>2]&&(i[o>>2]=g,i[l>>2]=p,i[l+4>>2]=h,i[l+8>>2]=m,i[l+12>>2]=0),g>+i[a>>2]&&(i[a>>2]=g,i[u>>2]=p,i[u+4>>2]=h,i[u+8>>2]=m,i[u+12>>2]=0),S=S+1|0;while((S|0)!=(d|0));w=+i[a>>2],h=w,d=(i[Z>>2]=w,e[Z>>2]|0)}else h=-34028234663852886e22,d=-8388609;if(p=+i[o>>2],!(p>h)){H=C;return}e[o>>2]=d,i[a>>2]=p,e[C>>2]=e[l>>2],e[C+4>>2]=e[l+4>>2],e[C+8>>2]=e[l+8>>2],e[C+12>>2]=e[l+12>>2],e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],e[u>>2]=e[C>>2],e[u+4>>2]=e[C+4>>2],e[u+8>>2]=e[C+8>>2],e[u+12>>2]=e[C+12>>2],H=C}function GJ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0;if((o|0)>0)a=0;else return;do i[s+(a<<4)+12>>2]=-0xde0b6b000000000,a=a+1|0;while((a|0)!=(o|0));C=0;do{if(l=+i[t+16>>2],u=+i[n+(C<<4)>>2]*l,p=+i[t+20>>2],h=+i[n+(C<<4)+4>>2]*p,d=+i[t+24>>2],m=+i[n+(C<<4)+8>>2]*d,a=e[t+100>>2]|0,(a|0)>0){g=e[t+108>>2]|0,S=0,w=-34028234663852886e22,M=-1;do E=u*+i[g+(S<<4)>>2]+h*+i[g+(S<<4)+4>>2]+m*+i[g+(S<<4)+8>>2],D=E>w,M=D?S:M,w=D?E:w,S=S+1|0;while((S|0)!=(a|0));m=+i[g+(M<<4)+4>>2]*p,E=+i[g+(M<<4)+8>>2]*d,i[s+(C<<4)>>2]=+i[g+(M<<4)>>2]*l,i[s+(C<<4)+4>>2]=m,i[s+(C<<4)+8>>2]=E,i[s+(C<<4)+12>>2]=w}else i[s+(C<<4)+12>>2]=-0xde0b6b000000000;C=C+1|0}while((C|0)!=(o|0))}function VJ(t){return t=t|0,e[t+100>>2]|0}function zJ(t){return t=t|0,e[t+100>>2]|0}function WJ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0;u=e[t+100>>2]|0,p=e[t+108>>2]|0,a=+i[p+(((n|0)%(u|0)|0)<<4)+4>>2]*+i[t+20>>2],l=+i[p+(((n|0)%(u|0)|0)<<4)+8>>2]*+i[t+24>>2],i[s>>2]=+i[p+(((n|0)%(u|0)|0)<<4)>>2]*+i[t+16>>2],i[s+4>>2]=a,i[s+8>>2]=l,i[s+12>>2]=0,s=e[t+108>>2]|0,l=+i[s+(((n+1|0)%(u|0)|0)<<4)+4>>2]*+i[t+20>>2],a=+i[s+(((n+1|0)%(u|0)|0)<<4)+8>>2]*+i[t+24>>2],i[o>>2]=+i[s+(((n+1|0)%(u|0)|0)<<4)>>2]*+i[t+16>>2],i[o+4>>2]=l,i[o+8>>2]=a,i[o+12>>2]=0}function HJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;l=e[t+108>>2]|0,a=+i[l+(n<<4)+4>>2]*+i[t+20>>2],o=+i[l+(n<<4)+8>>2]*+i[t+24>>2],i[s>>2]=+i[l+(n<<4)>>2]*+i[t+16>>2],i[s+4>>2]=a,i[s+8>>2]=o,i[s+12>>2]=0}function jJ(t){return t=t|0,0}function qJ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0}function XJ(t,n,s){return t=t|0,n=n|0,s=+s,0}function $J(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0;if(p=H,H=H+16|0,e[t+8>>2]=0,e[t+12>>2]=-1,e[t+16>>2]=1065353216,e[t+20>>2]=1065353216,e[t+24>>2]=1065353216,i[t+28>>2]=0,i[t+48>>2]=.03999999910593033,e[t+56>>2]=0,e[t+60>>2]=1065353216,e[t+64>>2]=1065353216,e[t+68>>2]=1065353216,i[t+72>>2]=0,e[t+76>>2]=-1082130432,e[t+80>>2]=-1082130432,e[t+84>>2]=-1082130432,i[t+88>>2]=0,R[t+92>>0]=0,e[t>>2]=5556,R[t+112>>0]=1,e[t+108>>2]=0,e[t+100>>2]=0,e[t+104>>2]=0,e[t+4>>2]=4,(s|0)<=0){e[t+100>>2]=s,mc(t),H=p;return}if(e[5637]=(e[5637]|0)+1,a=Xe((s<<4|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,u=a+4+15&-16):u=0,a=e[t+100>>2]|0,(a|0)>0){l=0;do h=u+(l<<4)|0,d=(e[t+108>>2]|0)+(l<<4)|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],l=l+1|0;while((l|0)!=(a|0))}if(a=e[t+108>>2]|0,a|0&&(R[t+112>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+108>>2]=0),R[t+112>>0]=1,e[t+108>>2]=u,e[t+104>>2]=s,e[u>>2]=e[p>>2],e[u+4>>2]=e[p+4>>2],e[u+8>>2]=e[p+8>>2],e[u+12>>2]=e[p+12>>2],(s|0)!=1){a=1;do d=(e[t+108>>2]|0)+(a<<4)|0,e[d>>2]=e[p>>2],e[d+4>>2]=e[p+4>>2],e[d+8>>2]=e[p+8>>2],e[d+12>>2]=e[p+12>>2],a=a+1|0;while((a|0)!=(s|0))}for(e[t+100>>2]=s,l=0,a=n;d=e[t+108>>2]|0,n=e[a+4>>2]|0,h=e[a+8>>2]|0,e[d+(l<<4)>>2]=e[a>>2],e[d+(l<<4)+4>>2]=n,e[d+(l<<4)+8>>2]=h,i[d+(l<<4)+12>>2]=0,l=l+1|0,(l|0)!=(s|0);)a=a+o|0;mc(t),H=p}function F6(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;if(o=e[t+100>>2]|0,(o|0)==(e[t+104>>2]|0)&&(u=o|0?o<<1:1,(o|0)<(u|0))){if(u?(e[5637]=(e[5637]|0)+1,o=Xe((u<<4|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,l=o,o=e[t+100>>2]|0):l=0,(o|0)>0){a=0;do p=l+(a<<4)|0,h=(e[t+108>>2]|0)+(a<<4)|0,e[p>>2]=e[h>>2],e[p+4>>2]=e[h+4>>2],e[p+8>>2]=e[h+8>>2],e[p+12>>2]=e[h+12>>2],a=a+1|0;while((a|0)!=(o|0))}o=e[t+108>>2]|0,o|0&&(R[t+112>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+108>>2]=0),R[t+112>>0]=1,e[t+108>>2]=l,e[t+104>>2]=u,o=e[t+100>>2]|0}h=(e[t+108>>2]|0)+(o<<4)|0,e[h>>2]=e[n>>2],e[h+4>>2]=e[n+4>>2],e[h+8>>2]=e[n+8>>2],e[h+12>>2]=e[n+12>>2],e[t+100>>2]=(e[t+100>>2]|0)+1,s&&mc(t)}function YJ(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;a=+ht(+ +i[n>>2]),o=+ht(+ +i[n+4>>2]),s=+ht(+ +i[n+8>>2]),i[t+16>>2]=a,i[t+20>>2]=o,i[t+24>>2]=s,i[t+28>>2]=0}function KJ(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0;f0[e[(e[n>>2]|0)+68>>2]&127](t,n,s),+Ct[e[(e[n>>2]|0)+48>>2]&15](n)!=0&&(l=+i[s>>2],a=+i[s+4>>2],o=+i[s+8>>2],p=l*l+a*a+o*o<14210854715202004e-30?-1:l,u=l*l+a*a+o*o<14210854715202004e-30?-1:a,o=l*l+a*a+o*o<14210854715202004e-30?-1:o,a=1/+ot(+(o*o+(p*p+u*u))),l=+Ct[e[(e[n>>2]|0)+48>>2]&15](n),i[t>>2]=+i[t>>2]+l*(a*p),i[t+4>>2]=l*(a*u)+ +i[t+4>>2],i[t+8>>2]=l*(a*o)+ +i[t+8>>2])}function ZJ(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;u=H,H=H+96|0,a=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),l=0;do C=u+80+(l<<2)|0,e[u+80>>2]=0,e[u+80+4>>2]=0,e[u+80+8>>2]=0,e[u+80+12>>2]=0,i[C>>2]=1,p=e[(e[t>>2]|0)+64>>2]|0,h=+i[u+80>>2],d=+i[u+80+4>>2],m=+i[u+80+8>>2],g=h*+i[n+4>>2]+d*+i[n+20>>2]+m*+i[n+36>>2],S=h*+i[n+8>>2]+d*+i[n+24>>2]+m*+i[n+40>>2],i[u+32>>2]=+i[n>>2]*h+ +i[n+16>>2]*d+ +i[n+32>>2]*m,i[u+32+4>>2]=g,i[u+32+8>>2]=S,i[u+32+12>>2]=0,f0[p&127](u+64|0,t,u+32|0),S=+i[u+64>>2],g=+i[u+64+4>>2],m=+i[u+64+8>>2],d=S*+i[n+16>>2]+g*+i[n+20>>2]+m*+i[n+24>>2]+ +i[n+52>>2],h=S*+i[n+32>>2]+g*+i[n+36>>2]+m*+i[n+40>>2]+ +i[n+56>>2],i[u+48>>2]=S*+i[n>>2]+g*+i[n+4>>2]+m*+i[n+8>>2]+ +i[n+48>>2],i[u+48+4>>2]=d,i[u+48+8>>2]=h,i[u+48+12>>2]=0,p=u+48+(l<<2)|0,i[o+(l<<2)>>2]=a+ +i[p>>2],i[C>>2]=-1,C=e[(e[t>>2]|0)+64>>2]|0,h=+i[u+80>>2],d=+i[u+80+4>>2],m=+i[u+80+8>>2],g=h*+i[n+4>>2]+d*+i[n+20>>2]+m*+i[n+36>>2],S=h*+i[n+8>>2]+d*+i[n+24>>2]+m*+i[n+40>>2],i[u>>2]=+i[n>>2]*h+ +i[n+16>>2]*d+ +i[n+32>>2]*m,i[u+4>>2]=g,i[u+8>>2]=S,i[u+12>>2]=0,f0[C&127](u+16|0,t,u),S=+i[u+16>>2],g=+i[u+16+4>>2],m=+i[u+16+8>>2],d=S*+i[n+16>>2]+g*+i[n+20>>2]+m*+i[n+24>>2]+ +i[n+52>>2],h=S*+i[n+32>>2]+g*+i[n+36>>2]+m*+i[n+40>>2]+ +i[n+56>>2],i[u+48>>2]=S*+i[n>>2]+g*+i[n+4>>2]+m*+i[n+8>>2]+ +i[n+48>>2],i[u+48+4>>2]=d,i[u+48+8>>2]=h,i[u+48+12>>2]=0,i[s+(l<<2)>>2]=+i[p>>2]-a,l=l+1|0;while((l|0)!=3);H=u}function B6(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0;if(e[t>>2]=5688,n=e[t+56>>2]|0,n|0&&(R[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+56>>2]=0),R[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,s=e[t+28>>2]|0,(s|0)>0){p=0;do o=e[t+36>>2]|0,a=o+(p*36|0)+4|0,l=o+(p*36|0)+12|0,u=e[l>>2]|0,n=o+(p*36|0)+16|0,u|0&&(R[n>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[l>>2]=0),R[n>>0]=1,e[l>>2]=0,e[a>>2]=0,e[o+(p*36|0)+8>>2]=0,p=p+1|0;while((p|0)!=(s|0))}if(n=e[t+36>>2]|0,n|0&&(R[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),R[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,n=e[t+16>>2]|0,!n){R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0;return}R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0}function QJ(t){t=t|0,B6(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function U6(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0;u=e[t+28>>2]|0,o=0,a=0,l=0,p=0;e:for(;;){switch(p|0){case 0:{o=+i[t+80>>2]+ +i[t+64>>2],a=+i[t+84>>2]+ +i[t+68>>2],l=+i[t+88>>2]+ +i[t+72>>2];break}case 1:{o=+i[t+80>>2]+ +i[t+64>>2],a=+i[t+84>>2]+ +i[t+68>>2],l=+i[t+72>>2]-+i[t+88>>2];break}case 2:{o=+i[t+80>>2]+ +i[t+64>>2],a=+i[t+68>>2]-+i[t+84>>2],l=+i[t+88>>2]+ +i[t+72>>2];break}case 3:{o=+i[t+80>>2]+ +i[t+64>>2],a=+i[t+68>>2]-+i[t+84>>2],l=+i[t+72>>2]-+i[t+88>>2];break}case 4:{o=+i[t+64>>2]-+i[t+80>>2],a=+i[t+84>>2]+ +i[t+68>>2],l=+i[t+88>>2]+ +i[t+72>>2];break}case 5:{o=+i[t+64>>2]-+i[t+80>>2],a=+i[t+84>>2]+ +i[t+68>>2],l=+i[t+72>>2]-+i[t+88>>2];break}case 6:{o=+i[t+64>>2]-+i[t+80>>2],a=+i[t+68>>2]-+i[t+84>>2],l=+i[t+88>>2]+ +i[t+72>>2];break}case 7:{o=+i[t+64>>2]-+i[t+80>>2],a=+i[t+68>>2]-+i[t+84>>2],l=+i[t+72>>2]-+i[t+88>>2];break}default:}if((u|0)>0){n=e[t+36>>2]|0,s=0;do{if(+i[n+(s*36|0)+32>>2]+(o*+i[n+(s*36|0)+20>>2]+a*+i[n+(s*36|0)+24>>2]+l*+i[n+(s*36|0)+28>>2])>0){n=0,s=16;break e}s=s+1|0}while((s|0)<(u|0))}if(p=p+1|0,(p|0)>=8){n=1,s=16;break}}return(s|0)==16?n|0:0}function dc(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0;var p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;if(C=H,H=H+16|0,i[o>>2]=34028234663852886e22,i[a>>2]=-34028234663852886e22,d=e[t+8>>2]|0,(d|0)>0){S=0;do M=e[t+16>>2]|0,w=+i[M+(S<<4)>>2],g=+i[M+(S<<4)+4>>2],m=+i[M+(S<<4)+8>>2],p=w*+i[n>>2]+g*+i[n+4>>2]+m*+i[n+8>>2]+ +i[n+48>>2],h=w*+i[n+16>>2]+g*+i[n+20>>2]+m*+i[n+24>>2]+ +i[n+52>>2],m=w*+i[n+32>>2]+g*+i[n+36>>2]+m*+i[n+40>>2]+ +i[n+56>>2],g=p*+i[s>>2]+h*+i[s+4>>2]+m*+i[s+8>>2],g<+i[o>>2]&&(i[o>>2]=g,i[l>>2]=p,i[l+4>>2]=h,i[l+8>>2]=m,i[l+12>>2]=0),g>+i[a>>2]&&(i[a>>2]=g,i[u>>2]=p,i[u+4>>2]=h,i[u+8>>2]=m,i[u+12>>2]=0),S=S+1|0;while((S|0)!=(d|0));w=+i[a>>2],h=w,d=(i[Z>>2]=w,e[Z>>2]|0)}else h=-34028234663852886e22,d=-8388609;if(p=+i[o>>2],!(p>h)){H=C;return}e[o>>2]=d,i[a>>2]=p,e[C>>2]=e[l>>2],e[C+4>>2]=e[l+4>>2],e[C+8>>2]=e[l+8>>2],e[C+12>>2]=e[l+12>>2],e[l>>2]=e[u>>2],e[l+4>>2]=e[u+4>>2],e[l+8>>2]=e[u+8>>2],e[l+12>>2]=e[u+12>>2],e[u>>2]=e[C>>2],e[u+4>>2]=e[C+4>>2],e[u+8>>2]=e[C+8>>2],e[u+12>>2]=e[C+12>>2],H=C}function JJ(t){t=t|0}function eee(t,n,s,o,a,l,u){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0;var p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0;if(M=H,H=H+64|0,C=+i[s>>2],S=+i[s+4>>2],w=+i[s+8>>2],p=C*+i[n+4>>2]+S*+i[n+20>>2]+w*+i[n+36>>2],h=C*+i[n+8>>2]+S*+i[n+24>>2]+w*+i[n+40>>2],i[M+48>>2]=+i[n>>2]*C+ +i[n+16>>2]*S+ +i[n+32>>2]*w,i[M+48+4>>2]=p,i[M+48+8>>2]=h,i[M+48+12>>2]=0,f0[e[(e[t>>2]|0)+64>>2]&127](M+32|0,t,M+48|0),h=+i[M+32>>2],p=+i[M+32+4>>2],w=+i[M+32+8>>2],S=h*+i[n>>2]+p*+i[n+4>>2]+w*+i[n+8>>2]+ +i[n+48>>2],C=h*+i[n+16>>2]+p*+i[n+20>>2]+w*+i[n+24>>2]+ +i[n+52>>2],w=h*+i[n+32>>2]+p*+i[n+36>>2]+w*+i[n+40>>2]+ +i[n+56>>2],E=e[(e[t>>2]|0)+64>>2]|0,p=-+i[M+48+4>>2],h=-+i[M+48+8>>2],i[M>>2]=-+i[M+48>>2],i[M+4>>2]=p,i[M+8>>2]=h,i[M+12>>2]=0,f0[E&127](M+16|0,t,M),h=+i[M+16>>2],p=+i[M+16+4>>2],d=+i[M+16+8>>2],m=h*+i[n>>2]+p*+i[n+4>>2]+d*+i[n+8>>2]+ +i[n+48>>2],g=h*+i[n+16>>2]+p*+i[n+20>>2]+d*+i[n+24>>2]+ +i[n+52>>2],d=h*+i[n+32>>2]+p*+i[n+36>>2]+d*+i[n+40>>2]+ +i[n+56>>2],i[o>>2]=S*+i[s>>2]+C*+i[s+4>>2]+w*+i[s+8>>2],i[a>>2]=m*+i[s>>2]+g*+i[s+4>>2]+d*+i[s+8>>2],i[u>>2]=m,i[u+4>>2]=g,i[u+8>>2]=d,i[u+12>>2]=0,i[l>>2]=S,i[l+4>>2]=C,i[l+8>>2]=w,i[l+12>>2]=0,p=+i[o>>2],h=+i[a>>2],!(p>h)){H=M;return}i[o>>2]=h,i[a>>2]=p,i[u>>2]=S,i[u+4>>2]=C,i[u+8>>2]=w,i[u+12>>2]=0,i[l>>2]=m,i[l+4>>2]=g,i[l+8>>2]=d,i[l+12>>2]=0,H=M}function F1(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0;switch(F=H,H=H+48|0,e[n+4>>2]|0){case 8:{e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,H=F;return}case 0:{b=+i[n+32>>2],B=+i[n+36>>2],B=+i[s+4>>2]>=0?B:-B,L=+i[n+40>>2],L=+i[s+8>>2]>=0?L:-L,i[t>>2]=+i[s>>2]>=0?b:-b,i[t+4>>2]=B,i[t+8>>2]=L,i[t+12>>2]=0,H=F;return}case 1:{E=+i[s>>2],D=+i[s+4>>2],L=+i[s+8>>2],B=E*+i[n+60>>2]+D*+i[n+60+4>>2]+L*+i[n+60+8>>2],b=E*+i[n+60+16>>2]+D*+i[n+60+20>>2]+L*+i[n+60+24>>2],L=E*+i[n+60+32>>2]+D*+i[n+60+36>>2]+L*+i[n+60+40>>2],s=B<b?b<L?2:1:B<L?2:0,m=e[n+60+(s<<4)+4>>2]|0,C=e[n+60+(s<<4)+8>>2]|0,e[t>>2]=e[n+60+(s<<4)>>2],e[t+4>>2]=m,e[t+8>>2]=C,i[t+12>>2]=0,H=F;return}case 13:{switch(e[F+32>>2]=e[n+32>>2],e[F+32+4>>2]=e[n+32+4>>2],e[F+32+8>>2]=e[n+32+8>>2],e[F+32+12>>2]=e[n+32+12>>2],e[F+16>>2]=e[s>>2],a=e[s+4>>2]|0,e[F+16+4>>2]=a,C=e[s+8>>2]|0,e[F+16+8>>2]=C,i[F+16+12>>2]=0,s=e[n+56>>2]|0,o=(e[Z>>2]=C,+i[Z>>2]),s|0){case 2:{o=(e[Z>>2]=a,+i[Z>>2]),a=0,n=2,m=1;break}case 1:{a=0,n=1,m=2;break}default:a=1,n=0,m=2}d=+i[F+32+(a<<2)>>2],p=+i[F+32+(s<<2)>>2],h=+i[F+16+(a<<2)>>2],l=+ot(+(h*h+o*o)),u=+i[F+16+(n<<2)>>2],l!=0?(i[F+(a<<2)>>2]=h*(d/l),i[F+(n<<2)>>2]=u<0?-p:p,i[F+(m<<2)>>2]=d/l*o,e[t>>2]=e[F>>2],e[t+4>>2]=e[F+4>>2],e[t+8>>2]=e[F+8>>2]):(i[F+(a<<2)>>2]=d,i[F+(n<<2)>>2]=u<0?-p:p,i[F+(m<<2)>>2]=0,e[t>>2]=e[F>>2],e[t+4>>2]=e[F+4>>2],e[t+8>>2]=e[F+8>>2]),i[t+12>>2]=0,H=F;return}case 10:{o=+i[s>>2],l=+i[s+4>>2],u=+i[s+8>>2],m=e[n+56>>2]|0,D=+i[n+32+(m<<2)>>2],p=+i[n+32+(((m+2|0)%3|0)<<2)>>2],o*o+l*l+u*u<9999999747378752e-20?(L=1,B=0,b=0):(b=1/+ot(+(o*o+l*l+u*u)),L=o*b,B=l*b,b=u*b),e[F+32>>2]=0,e[F+32+4>>2]=0,e[F+32+8>>2]=0,e[F+32+12>>2]=0,i[F+32+(m<<2)>>2]=D,S=p*L,M=p*B,E=p*b,w=+i[n+48>>2],h=L*w,g=B*w,w=b*w,o=S+ +i[F+32>>2]-h,l=M+ +i[F+32+4>>2]-g,p=E+ +i[F+32+8>>2]-w,u=b*p+(L*o+B*l),u>-0xde0b6b000000000?(n=(i[Z>>2]=o,e[Z>>2]|0),a=(i[Z>>2]=l,e[Z>>2]|0),d=u,s=(i[Z>>2]=p,e[Z>>2]|0)):(d=-0xde0b6b000000000,n=0,s=0,a=0),e[F+32>>2]=0,e[F+32+4>>2]=0,e[F+32+8>>2]=0,e[F+32+12>>2]=0,i[F+32+(m<<2)>>2]=-D,u=S+ +i[F+32>>2]-h,l=M+ +i[F+32+4>>2]-g,o=E+ +i[F+32+8>>2]-w,b*o+(L*u+B*l)>d&&(n=(i[Z>>2]=u,e[Z>>2]|0),a=(i[Z>>2]=l,e[Z>>2]|0),s=(i[Z>>2]=o,e[Z>>2]|0)),e[t>>2]=n,e[t+4>>2]=a,e[t+8>>2]=s,i[t+12>>2]=0,H=F;return}case 5:{if(C=e[n+96>>2]|0,m=e[n+100>>2]|0,g=+i[n+16>>2],S=+i[n+20>>2],d=+i[n+24>>2],p=+i[s>>2]*g,h=+i[s+4>>2]*S,o=+i[s+8>>2]*d,(m|0)>0)for(n=0,u=-34028234663852886e22,a=-1;l=p*+i[C+(n<<4)>>2]+h*+i[C+(n<<4)+4>>2]+o*+i[C+(n<<4)+8>>2],s=l>u,a=s?n:a,n=n+1|0,(n|0)!=(m|0);)u=s?l:u;else a=-1;B=S*+i[C+(a<<4)+4>>2],L=d*+i[C+(a<<4)+8>>2],i[t>>2]=g*+i[C+(a<<4)>>2],i[t+4>>2]=B,i[t+8>>2]=L,i[t+12>>2]=0,H=F;return}case 4:{if(C=e[n+108>>2]|0,m=e[n+100>>2]|0,g=+i[n+16>>2],S=+i[n+20>>2],d=+i[n+24>>2],p=+i[s>>2]*g,h=+i[s+4>>2]*S,o=+i[s+8>>2]*d,(m|0)>0)for(n=0,u=-34028234663852886e22,a=-1;l=p*+i[C+(n<<4)>>2]+h*+i[C+(n<<4)+4>>2]+o*+i[C+(n<<4)+8>>2],s=l>u,a=s?n:a,n=n+1|0,(n|0)!=(m|0);)u=s?l:u;else a=-1;B=S*+i[C+(a<<4)+4>>2],L=d*+i[C+(a<<4)+8>>2],i[t>>2]=g*+i[C+(a<<4)>>2],i[t+4>>2]=B,i[t+8>>2]=L,i[t+12>>2]=0,H=F;return}default:{f0[e[(e[n>>2]|0)+68>>2]&127](t,n,s),H=F;return}}}function tee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0;switch(u=H,H=H+32|0,e[u+16>>2]=e[s>>2],e[u+16+4>>2]=e[s+4>>2],e[u+16+8>>2]=e[s+8>>2],e[u+16+12>>2]=e[s+12>>2],o=+i[u+16>>2],l=+i[u+16+4>>2],a=+i[u+16+8>>2],o*o+l*l+a*a<14210854715202004e-30&&(e[u+16>>2]=-1082130432,e[u+16+4>>2]=-1082130432,e[u+16+8>>2]=-1082130432,i[u+16+12>>2]=0,o=-1,l=-1,a=-1),p=1/+ot(+(o*o+l*l+a*a)),i[u+16>>2]=o*p,i[u+16+4>>2]=l*p,i[u+16+8>>2]=a*p,F1(u,n,u+16|0),e[n+4>>2]|0){case 8:{o=+i[n+32>>2]*+i[n+16>>2];break}case 0:{o=+i[n+48>>2];break}case 1:{o=+i[n+48>>2];break}case 13:{o=+i[n+48>>2];break}case 11:{o=+i[n+48>>2];break}case 10:{o=+i[n+48>>2];break}case 4:case 5:{o=+i[n+48>>2];break}default:o=+Ct[e[(e[n>>2]|0)+48>>2]&15](n)}l=o*+i[u+16+4>>2]+ +i[u+4>>2],p=o*+i[u+16+8>>2]+ +i[u+8>>2],i[t>>2]=o*+i[u+16>>2]+ +i[u>>2],i[t+4>>2]=l,i[t+8>>2]=p,i[t+12>>2]=0,H=u}function iee(t){t=t|0;var n=0,s=0;e[t>>2]=6248,n=e[t+56>>2]|0,n|0&&(Vt[e[e[n>>2]>>2]&255](n),s=e[t+56>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function nee(t,n){t=t|0,n=n|0;var s=0;s=(e[t+96>>2]|0)+4|0,e[s>>2]=e[n>>2],e[s+4>>2]=e[n+4>>2],e[s+8>>2]=e[n+8>>2],e[s+12>>2]=e[n+12>>2],mc(t)}function ree(t){return t=t|0,(e[t+96>>2]|0)+4|0}function see(t){return t=t|0,13526}function oee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0;f0[e[(e[n>>2]|0)+68>>2]&127](t,n,s),+Ct[e[(e[n>>2]|0)+48>>2]&15](n)!=0&&(l=+i[s>>2],a=+i[s+4>>2],o=+i[s+8>>2],p=l*l+a*a+o*o<14210854715202004e-30?-1:l,u=l*l+a*a+o*o<14210854715202004e-30?-1:a,o=l*l+a*a+o*o<14210854715202004e-30?-1:o,a=1/+ot(+(o*o+(p*p+u*u))),l=+Ct[e[(e[n>>2]|0)+48>>2]&15](n),i[t>>2]=+i[t>>2]+l*(a*p),i[t+4>>2]=l*(a*u)+ +i[t+4>>2],i[t+8>>2]=l*(a*o)+ +i[t+8>>2])}function aee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;h=H,H=H+80|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,o=+i[s>>2],a=+i[s+4>>2],l=+i[s+8>>2],o*o+a*a+l*l<9999999747378752e-20?(p=1065353216,u=0,o=0,s=0):(m=1/+ot(+(o*o+a*a+l*l)),p=(i[Z>>2]=o*m,e[Z>>2]|0),d=(i[Z>>2]=a*m,e[Z>>2]|0),u=(i[Z>>2]=l*m,e[Z>>2]|0),o=+i[s+12>>2],s=d),e[h+32>>2]=5836,d=h+32+4|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,i[h+32+20>>2]=-0xde0b6b000000000,e[h+32+24>>2]=p,e[h+32+28>>2]=s,e[h+32+32>>2]=u,i[h+32+36>>2]=o,e[h+16>>2]=1566444395,e[h+16+4>>2]=1566444395,e[h+16+8>>2]=1566444395,i[h+16+12>>2]=0,n=e[n+96>>2]|0,p=e[(e[n>>2]|0)+8>>2]|0,i[h>>2]=-0xde0b6b000000000,i[h+4>>2]=-0xde0b6b000000000,i[h+8>>2]=-0xde0b6b000000000,i[h+12>>2]=0,Kt[p&127](n,h+32|0,h,h+16|0),e[t>>2]=e[d>>2],e[t+4>>2]=e[d+4>>2],e[t+8>>2]=e[d+8>>2],e[t+12>>2]=e[d+12>>2],H=h}function cee(t){t=t|0,ye(t)}function lee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0;p=+i[t+24>>2],h=+i[t+28>>2],u=+i[t+32>>2],a=p*+i[n>>2]+h*+i[n+4>>2]+u*+i[n+8>>2],l=+i[t+20>>2],a>l?(i[t+20>>2]=a,e[t+4>>2]=e[n>>2],e[t+4+4>>2]=e[n+4>>2],e[t+4+8>>2]=e[n+8>>2],e[t+4+12>>2]=e[n+12>>2]):a=l,l=p*+i[n+16>>2]+h*+i[n+20>>2]+u*+i[n+24>>2],l>a?(i[t+20>>2]=l,e[t+4>>2]=e[n+16>>2],e[t+4+4>>2]=e[n+16+4>>2],e[t+4+8>>2]=e[n+16+8>>2],e[t+4+12>>2]=e[n+16+12>>2]):l=a,a=p*+i[n+32>>2]+h*+i[n+36>>2]+u*+i[n+40>>2],a>l&&(i[t+20>>2]=a,e[t+4>>2]=e[n+32>>2],e[t+4+4>>2]=e[n+32+4>>2],e[t+4+8>>2]=e[n+32+8>>2],e[t+4+12>>2]=e[n+32+12>>2])}function uee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0;if(u=H,H=H+80|0,(o|0)>0)a=0;else{H=u;return}do i[s+(a<<4)+12>>2]=-0xde0b6b000000000,a=a+1|0;while((a|0)!=(o|0));a=u+32+4|0,l=0;do p=n+(l<<4)|0,e[u+32>>2]=5836,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,i[u+32+20>>2]=-0xde0b6b000000000,e[u+32+24>>2]=e[p>>2],e[u+32+24+4>>2]=e[p+4>>2],e[u+32+24+8>>2]=e[p+8>>2],e[u+32+24+12>>2]=e[p+12>>2],e[u+16>>2]=1566444395,e[u+16+4>>2]=1566444395,e[u+16+8>>2]=1566444395,i[u+16+12>>2]=0,p=e[t+96>>2]|0,h=e[(e[p>>2]|0)+8>>2]|0,i[u>>2]=-0xde0b6b000000000,i[u+4>>2]=-0xde0b6b000000000,i[u+8>>2]=-0xde0b6b000000000,i[u+12>>2]=0,Kt[h&127](p,u+32|0,u,u+16|0),p=s+(l<<4)|0,e[p>>2]=e[a>>2],e[p+4>>2]=e[a+4>>2],e[p+8>>2]=e[a+8>>2],e[p+12>>2]=e[a+12>>2],l=l+1|0;while((l|0)<(o|0));H=u}function fee(t){return t=t|0,0}function _ee(t){return t=t|0,0}function pee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0}function hee(t,n,s){t=t|0,n=n|0,s=s|0}function dee(t){return t=t|0,0}function mee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0}function gee(t,n,s){return t=t|0,n=n|0,s=+s,0}function O6(t,n,s){t=t|0,n=n|0,s=s|0,e[t+8>>2]=0,e[t+12>>2]=-1,e[t+16>>2]=1065353216,e[t+20>>2]=1065353216,e[t+24>>2]=1065353216,i[t+28>>2]=0,i[t+48>>2]=.03999999910593033,e[t+56>>2]=0,e[t+60>>2]=1065353216,e[t+64>>2]=1065353216,e[t+68>>2]=1065353216,i[t+72>>2]=0,e[t+76>>2]=-1082130432,e[t+80>>2]=-1082130432,e[t+84>>2]=-1082130432,i[t+88>>2]=0,R[t+92>>0]=0,e[t>>2]=5704,e[t+96>>2]=n,e[t+4>>2]=3,s&&mc(t)}function xee(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function yee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0;u=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),m=u+ +i[t+32>>2],h=u+ +i[t+36>>2],u=u+ +i[t+40>>2],b=+ht(+ +i[n>>2]),D=+ht(+ +i[n+4>>2]),E=+ht(+ +i[n+8>>2]),w=+ht(+ +i[n+16>>2]),C=+ht(+ +i[n+20>>2]),S=+ht(+ +i[n+24>>2]),d=+ht(+ +i[n+32>>2]),p=+ht(+ +i[n+36>>2]),l=+ht(+ +i[n+40>>2]),M=+i[n+48>>2],g=+i[n+52>>2],a=+i[n+56>>2],i[s>>2]=M-(m*b+h*D+u*E),i[s+4>>2]=g-(m*w+h*C+u*S),i[s+8>>2]=a-(m*d+h*p+u*l),i[s+12>>2]=0,i[o>>2]=m*b+h*D+u*E+M,i[o+4>>2]=m*w+h*C+u*S+g,i[o+8>>2]=m*d+h*p+u*l+a,i[o+12>>2]=0}function vee(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;h=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),l=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),s=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),m=(h+ +i[t+32>>2])/+i[t+16>>2],p=(l+ +i[t+36>>2])/+i[t+20>>2],a=(s+ +i[t+40>>2])/+i[t+24>>2],d=+ht(+ +i[n>>2]),u=+ht(+ +i[n+4>>2]),o=+ht(+ +i[n+8>>2]),i[t+16>>2]=d,i[t+20>>2]=u,i[t+24>>2]=o,i[t+28>>2]=0,i[t+32>>2]=m*d-h,i[t+36>>2]=p*u-l,i[t+40>>2]=a*o-s,i[t+44>>2]=0}function See(t,n,s){t=t|0,n=+n,s=s|0;var o=0,a=0,l=0,u=0,p=0;switch(o=+i[t+32>>2],u=+i[t+36>>2],l=+i[t+40>>2],p=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),a=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),l=+Ct[e[(e[t>>2]|0)+48>>2]&15](t)+l,e[t+56>>2]|0){case 0:{p=n*.25*((a+u)*(a+u))+n/12*((p+o)*((p+o)*4)),i[s>>2]=n*.5*((a+u)*(a+u)),i[s+4>>2]=p,i[s+8>>2]=p,i[s+12>>2]=0;return}case 2:{i[s>>2]=n*.25*((p+o)*(p+o))+n/12*(l*(l*4)),i[s+4>>2]=n*.25*((p+o)*(p+o))+n/12*(l*(l*4)),i[s+8>>2]=n*.5*((p+o)*(p+o)),i[s+12>>2]=0;return}default:{u=n*.25*((p+o)*(p+o))+n/12*((a+u)*((a+u)*4)),i[s>>2]=u,i[s+4>>2]=n*.5*((p+o)*(p+o)),i[s+8>>2]=u,i[s+12>>2]=0;return}}}function Cee(t){return t=t|0,13587}function Tee(t,n){t=t|0,n=n|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,i[t+(e[n+56>>2]<<2)>>2]=1}function wee(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0;l=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),o=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),u=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),l=l+ +i[t+32>>2],o=o+ +i[t+36>>2],u=u+ +i[t+40>>2],i[t+48>>2]=n,a=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),s=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),n=u-+Ct[e[(e[t>>2]|0)+48>>2]&15](t),i[t+32>>2]=l-a,i[t+36>>2]=o-s,i[t+40>>2]=n,i[t+44>>2]=0}function Mee(t){return t=t|0,60}function Ree(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=a,a|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],e[n+28>>2]=e[t+32>>2],e[n+32>>2]=e[t+36>>2],e[n+36>>2]=e[t+40>>2],e[n+40>>2]=e[t+44>>2],e[n+12>>2]=e[t+16>>2],e[n+16>>2]=e[t+20>>2],e[n+20>>2]=e[t+24>>2],e[n+24>>2]=e[t+28>>2],e[n+44>>2]=e[t+48>>2],e[n+52>>2]=e[t+56>>2],13597}function Aee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;if(o=H,H=H+16|0,f0[e[(e[n>>2]|0)+68>>2]&127](o,n,s),e[t>>2]=e[o>>2],e[t+4>>2]=e[o+4>>2],e[t+8>>2]=e[o+8>>2],e[t+12>>2]=e[o+12>>2],+Ct[e[(e[n>>2]|0)+48>>2]&15](n)==0){H=o;return}u=+i[s>>2],l=+i[s+4>>2],a=+i[s+8>>2],h=u*u+l*l+a*a<14210854715202004e-30?-1:u,p=u*u+l*l+a*a<14210854715202004e-30?-1:l,a=u*u+l*l+a*a<14210854715202004e-30?-1:a,l=1/+ot(+(a*a+(h*h+p*p))),u=+Ct[e[(e[n>>2]|0)+48>>2]&15](n),i[t>>2]=+i[t>>2]+u*(l*h),i[t+4>>2]=u*(l*p)+ +i[t+4>>2],i[t+8>>2]=u*(l*a)+ +i[t+8>>2],H=o}function Eee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;o=+i[n+32>>2],u=+i[n+36>>2],h=+i[s>>2],l=+i[s+8>>2],p=+ot(+(h*h+l*l)),a=+i[s+4>>2],p!=0?(l=l*(o/p),a=a<0?-u:u,o=h*(o/p)):(l=0,a=a<0?-u:u),i[t>>2]=o,i[t+4>>2]=a,i[t+8>>2]=l}function Nee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0;if(!((o|0)<=0)){g=0;do a=+i[t+32>>2],p=+i[t+36>>2],m=+i[n+(g<<4)>>2],l=+i[n+(g<<4)+8>>2],d=+ot(+(m*m+l*l)),u=+i[n+(g<<4)+4>>2],d!=0?(h=l*(a/d),l=u<0?-p:p,a=m*(a/d)):(h=0,l=u<0?-p:p),i[s+(g<<4)>>2]=a,i[s+(g<<4)+4>>2]=l,i[s+(g<<4)+8>>2]=h,g=g+1|0;while((g|0)!=(o|0))}}function bee(t){t=t|0;var n=0,s=0;return s=+i[t+32>>2],n=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),+Ct[e[(e[t>>2]|0)+48>>2]&15](t),+Ct[e[(e[t>>2]|0)+48>>2]&15](t),+(s+n)}function Dee(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Iee(t){return t=t|0,13636}function Pee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;o=+i[n+36>>2],l=+i[n+32>>2],h=+i[s+4>>2],a=+i[s+8>>2],p=+ot(+(h*h+a*a)),p!=0?(u=a*(o/p),a=+i[s>>2]<0?-l:l,o=h*(o/p)):(u=0,a=+i[s>>2]<0?-l:l),i[t+4>>2]=o,i[t>>2]=a,i[t+8>>2]=u}function Lee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0;if(!((o|0)<=0)){g=0;do a=+i[t+36>>2],u=+i[t+32>>2],p=n+(g<<4)|0,m=+i[n+(g<<4)+4>>2],l=+i[n+(g<<4)+8>>2],d=+ot(+(m*m+l*l)),d!=0?(h=l*(a/d),l=+i[p>>2]<0?-u:u,a=m*(a/d)):(h=0,l=+i[p>>2]<0?-u:u),i[s+(g<<4)>>2]=l,i[s+(g<<4)+4>>2]=a,i[s+(g<<4)+8>>2]=h,g=g+1|0;while((g|0)!=(o|0))}}function kee(t){t=t|0;var n=0,s=0;return s=+i[t+36>>2],+Ct[e[(e[t>>2]|0)+48>>2]&15](t),n=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),+Ct[e[(e[t>>2]|0)+48>>2]&15](t),+(s+n)}function Fee(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Bee(t){return t=t|0,13665}function Uee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;o=+i[n+32>>2],u=+i[n+40>>2],h=+i[s>>2],l=+i[s+4>>2],p=+ot(+(h*h+l*l)),a=+i[s+8>>2],p!=0?(l=l*(o/p),a=a<0?-u:u,o=h*(o/p)):(l=0,a=a<0?-u:u),i[t>>2]=o,i[t+8>>2]=a,i[t+4>>2]=l}function Oee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0;if(!((o|0)<=0)){g=0;do a=+i[t+32>>2],p=+i[t+40>>2],m=+i[n+(g<<4)>>2],l=+i[n+(g<<4)+4>>2],d=+ot(+(m*m+l*l)),u=+i[n+(g<<4)+8>>2],d!=0?(h=l*(a/d),l=u<0?-p:p,a=m*(a/d)):(h=0,l=u<0?-p:p),i[s+(g<<4)>>2]=a,i[s+(g<<4)+4>>2]=h,i[s+(g<<4)+8>>2]=l,g=g+1|0;while((g|0)!=(o|0))}}function Gee(t){t=t|0;var n=0,s=0;return s=+i[t+32>>2],n=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),+Ct[e[(e[t>>2]|0)+48>>2]&15](t),+Ct[e[(e[t>>2]|0)+48>>2]&15](t),+(s+n)}function ph(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0;e[t+4>>2]=35,e[t+8>>2]=0,e[t+12>>2]=-1,e[t+16>>2]=1065353216,e[t+20>>2]=1065353216,e[t+24>>2]=1065353216,i[t+28>>2]=0,i[t+48>>2]=.03999999910593033,e[t>>2]=5856,e[t+56>>2]=1,l=+i[n>>2],a=+i[n+4>>2],s=+i[n+8>>2],s=+i[n+((l<a?l<s?0:2:a<s?1:2)<<2)>>2]*.10000000149011612,s<.03999999910593033?(p=+_h(t),u=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),l=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),p=p+ +i[t+32>>2],u=u+ +i[t+36>>2],l=l+ +i[t+40>>2],i[t+48>>2]=s,s=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),a=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),l=l-+Ct[e[(e[t>>2]|0)+48>>2]&15](t),i[t+32>>2]=p-s,i[t+36>>2]=u-a,i[t+40>>2]=l,i[t+44>>2]=0,o=e[t>>2]|0):o=5856,l=+Ct[e[o+48>>2]&15](t),u=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),p=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),u=+i[n+4>>2]*+i[t+20>>2]-u,p=+i[n+8>>2]*+i[t+24>>2]-p,i[t+32>>2]=+i[n>>2]*+i[t+16>>2]-l,i[t+36>>2]=u,i[t+40>>2]=p,i[t+44>>2]=0,e[t+4>>2]=13}function Vee(t){t=t|0,Zf(t)}function zee(t){t=t|0,Zf(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Wee(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,hm(t,n,s,o)|0,1}function G6(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0;if(F=H,H=H+160|0,R[t+60>>0]=s&1,s){if(S=+i[o>>2]+-1,M=+i[o+4>>2]+-1,C=+i[o+8>>2]+-1,i[t+4>>2]=S,i[t+8>>2]=M,i[t+12>>2]=C,i[t+16>>2]=0,E=+i[a>>2]+1,b=+i[a+4>>2]+1,B=+i[a+8>>2]+1,i[t+20>>2]=E,i[t+24>>2]=b,i[t+28>>2]=B,i[t+32>>2]=0,i[t+36>>2]=65533/(E-S),i[t+40>>2]=65533/(b-M),i[t+44>>2]=65533/(B-C),i[t+48>>2]=0,R[t+60>>0]=1,l=S+ +(~~((S-S)*(65533/(E-S)))&65534)/(65533/(E-S))+-1,u=M+ +(~~((M-M)*(65533/(b-M)))&65534)/(65533/(b-M))+-1,m=C+ +(~~((C-C)*(65533/(B-C)))&65534)/(65533/(B-C))+-1,l<S?(i[t+4>>2]=l,L=l):L=S,u<M?(i[t+8>>2]=u,D=u):D=M,m<C?(i[t+12>>2]=m,w=m):w=C,m=L+ +((~~((E-L)*(65533/(E-S))+1)&65535|1)&65535)/(65533/(E-S))+1,u=D+ +((~~((b-D)*(65533/(b-M))+1)&65535|1)&65535)/(65533/(b-M))+1,l=w+ +((~~((B-w)*(65533/(B-C))+1)&65535|1)&65535)/(65533/(B-C))+1,E<m?i[t+20>>2]=m:m=E,b<u?i[t+24>>2]=u:u=b,B<l?i[t+28>>2]=l:l=B,i[t+36>>2]=65533/(m-L),i[t+40>>2]=65533/(u-D),i[t+44>>2]=65533/(l-w),i[t+48>>2]=0,e[F+144>>2]=6208,e[F+144+4>>2]=t+104,e[F+144+8>>2]=t,Kt[e[(e[n>>2]|0)+8>>2]&127](n,F+144|0,t+4|0,t+20|0),s=e[t+108>>2]|0,e[F+128>>2]=0,e[F+128+4>>2]=0,e[F+128+8>>2]=0,e[F+128+12>>2]=0,p=e[t+128>>2]|0,(p|0)<(s<<1|0)){if((e[t+132>>2]|0)<(s<<1|0)){if(s?(e[5637]=(e[5637]|0)+1,o=Xe(s<<5|19)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+128>>2]|0):(o=0,a=p),(a|0)>0){n=0;do g=o+(n<<4)|0,d=(e[t+136>>2]|0)+(n<<4)|0,e[g>>2]=e[d>>2],e[g+4>>2]=e[d+4>>2],e[g+8>>2]=e[d+8>>2],e[g+12>>2]=e[d+12>>2],n=n+1|0;while((n|0)!=(a|0))}a=e[t+136>>2]|0,a|0&&(R[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+136>>2]=0),R[t+140>>0]=1,e[t+136>>2]=o,e[t+132>>2]=s<<1,a=t+136|0}else a=t+136|0;o=p;do g=(e[a>>2]|0)+(o<<4)|0,e[g>>2]=e[F+128>>2],e[g+4>>2]=e[F+128+4>>2],e[g+8>>2]=e[F+128+8>>2],e[g+12>>2]=e[F+128+12>>2],o=o+1|0;while((o|0)!=(s<<1|0))}e[t+128>>2]=s<<1}else{e[F+144>>2]=6228,e[F+144+4>>2]=t+64,e[F+112>>2]=-581039253,e[F+112+4>>2]=-581039253,e[F+112+8>>2]=-581039253,i[F+112+12>>2]=0,e[F+96>>2]=1566444395,e[F+96+4>>2]=1566444395,e[F+96+8>>2]=1566444395,i[F+96+12>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,F+144|0,F+112|0,F+96|0),s=e[t+68>>2]|0,p=F+32|0,d=p+64|0;do e[p>>2]=0,p=p+4|0;while((p|0)<(d|0));if(g=e[t+88>>2]|0,(g|0)<(s<<1|0)){if((e[t+92>>2]|0)<(s<<1|0)){if(s?(e[5637]=(e[5637]|0)+1,o=Xe(s<<7|19)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+88>>2]|0):(o=0,a=g),(a|0)>0){n=0;do{p=o+(n<<6)|0,h=(e[t+96>>2]|0)+(n<<6)|0,d=p+64|0;do e[p>>2]=e[h>>2],p=p+4|0,h=h+4|0;while((p|0)<(d|0));n=n+1|0}while((n|0)!=(a|0))}a=e[t+96>>2]|0,a|0&&(R[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+96>>2]=0),R[t+100>>0]=1,e[t+96>>2]=o,e[t+92>>2]=s<<1,a=t+96|0}else a=t+96|0;o=g;do{p=(e[a>>2]|0)+(o<<6)|0,h=F+32|0,d=p+64|0;do e[p>>2]=e[h>>2],p=p+4|0,h=h+4|0;while((p|0)<(d|0));o=o+1|0}while((o|0)!=(s<<1|0))}e[t+88>>2]=s<<1}if(e[t+56>>2]=0,Ch(t,0,s),R[t+60>>0]|0&&(e[t+152>>2]|0)==0){if(e[t+156>>2]|0)o=t+160|0,a=1,s=e[t+160>>2]|0;else{if(e[5637]=(e[5637]|0)+1,s=Xe(51)|0,s?(e[(s+4+15&-16)+-4>>2]=s,n=s+4+15&-16):n=0,s=e[t+152>>2]|0,(s|0)>0){o=0;do g=n+(o<<5)|0,d=(e[t+160>>2]|0)+(o<<5)|0,e[g>>2]=e[d>>2],e[g+4>>2]=e[d+4>>2],e[g+8>>2]=e[d+8>>2],e[g+12>>2]=e[d+12>>2],e[g+16>>2]=e[d+16>>2],e[g+20>>2]=e[d+20>>2],e[g+24>>2]=e[d+24>>2],e[g+28>>2]=e[d+28>>2],o=o+1|0;while((o|0)!=(s|0))}s=e[t+160>>2]|0,s|0&&(R[t+164>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+160>>2]=0),R[t+164>>0]=1,e[t+160>>2]=n,e[t+156>>2]=1,o=t+160|0,a=(e[t+152>>2]|0)+1|0,s=n}e[t+152>>2]=a,e[s>>2]=e[F>>2],e[s+4>>2]=e[F+4>>2],e[s+8>>2]=e[F+8>>2],e[s+12>>2]=e[F+12>>2],e[s+16>>2]=e[F+16>>2],e[s+20>>2]=e[F+20>>2],e[s+24>>2]=e[F+24>>2],e[s+28>>2]=e[F+28>>2],g=e[o>>2]|0,d=e[t+136>>2]|0,ee[g>>1]=ee[d>>1]|0,ee[g+2>>1]=ee[d+2>>1]|0,ee[g+4>>1]=ee[d+4>>1]|0,ee[g+6>>1]=ee[d+6>>1]|0,ee[g+8>>1]=ee[d+8>>1]|0,ee[g+10>>1]=ee[d+10>>1]|0,e[g+12>>2]=0,d=e[d+12>>2]|0,e[g+16>>2]=(d|0)>-1?1:0-d|0}if(e[t+168>>2]=e[t+152>>2],s=e[t+116>>2]|0,s|0&&(R[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+116>>2]=0),R[t+120>>0]=1,e[t+116>>2]=0,e[t+108>>2]=0,e[t+112>>2]=0,s=e[t+76>>2]|0,!s){R[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,t=t+72|0,e[t>>2]=0,H=F;return}R[t+80>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+76>>2]=0,R[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,t=t+72|0,e[t>>2]=0,H=F}function Hee(t){t=t|0,ye(t)}function jee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0;if(l=+i[n>>2],p=(i[Z>>2]=l,e[Z>>2]|0),S=l<0xde0b6b000000000?p:1566444395,a=+i[n+4>>2],d=(i[Z>>2]=a,e[Z>>2]|0),w=a<0xde0b6b000000000?d:1566444395,B=+i[n+8>>2],g=(i[Z>>2]=B,e[Z>>2]|0),L=B<0xde0b6b000000000?g:1566444395,p=l>-0xde0b6b000000000?p:-581039253,d=a>-0xde0b6b000000000?d:-581039253,g=B>-0xde0b6b000000000?g:-581039253,B=+i[n+16>>2],b=B<(e[Z>>2]=S,+i[Z>>2]),u=(i[Z>>2]=B,e[Z>>2]|0),S=b?u:S,a=+i[n+20>>2],b=a<(e[Z>>2]=w,+i[Z>>2]),h=(i[Z>>2]=a,e[Z>>2]|0),w=b?h:w,l=+i[n+24>>2],b=l<(e[Z>>2]=L,+i[Z>>2]),m=(i[Z>>2]=l,e[Z>>2]|0),L=b?m:L,b=(e[Z>>2]=p,+i[Z>>2]<B?u:p),C=(e[Z>>2]=d,+i[Z>>2]<a?h:d),g=(e[Z>>2]=g,+i[Z>>2]<l?m:g),B=+i[n+32>>2],p=B<(e[Z>>2]=S,+i[Z>>2]),d=(i[Z>>2]=B,e[Z>>2]|0),S=p?d:S,l=+i[n+36>>2],p=l<(e[Z>>2]=w,+i[Z>>2]),m=(i[Z>>2]=l,e[Z>>2]|0),p=p?m:w,a=+i[n+40>>2],u=a<(e[Z>>2]=L,+i[Z>>2]),h=(i[Z>>2]=a,e[Z>>2]|0),u=u?h:L,d=(e[Z>>2]=b,+i[Z>>2]<B?d:b),m=(e[Z>>2]=C,+i[Z>>2]<l?m:C),g=(e[Z>>2]=g,+i[Z>>2]<a?h:g),a=(e[Z>>2]=d,+i[Z>>2]),l=(e[Z>>2]=S,+i[Z>>2]),a-l<.0020000000949949026?(d=(i[Z>>2]=a+.0010000000474974513,e[Z>>2]|0),h=(i[Z>>2]=l+-.0010000000474974513,e[Z>>2]|0)):h=S,a=(e[Z>>2]=m,+i[Z>>2]),l=(e[Z>>2]=p,+i[Z>>2]),a-l<.0020000000949949026&&(m=(i[Z>>2]=a+.0010000000474974513,e[Z>>2]|0),p=(i[Z>>2]=l+-.0010000000474974513,e[Z>>2]|0)),a=(e[Z>>2]=g,+i[Z>>2]),l=(e[Z>>2]=u,+i[Z>>2]),a-l<.0020000000949949026&&(g=(i[Z>>2]=a+.0010000000474974513,e[Z>>2]|0),u=(i[Z>>2]=l+-.0010000000474974513,e[Z>>2]|0)),S=e[t+8>>2]|0,l=+i[S+4>>2],B=(e[Z>>2]=h,+i[Z>>2]-l),a=+i[S+8>>2],M=(e[Z>>2]=p,+i[Z>>2]-a),P=+i[S+12>>2],E=+i[S+36>>2],D=+i[S+40>>2],F=+i[S+44>>2],S=(e[Z>>2]=u,~~((+i[Z>>2]-P)*F)&65534),l=(e[Z>>2]=d,+i[Z>>2]-l),a=(e[Z>>2]=m,+i[Z>>2]-a),g=(e[Z>>2]=g,(~~((+i[Z>>2]-P)*F+1)&65535|1)&65535),d=e[t+4>>2]|0,p=e[d+4>>2]|0,(p|0)!=(e[d+8>>2]|0)){t=p,L=d+12|0,L=e[L>>2]|0,b=L+(t<<4)|0,ee[b>>1]=~~(B*E)&65534,b=L+(t<<4)+2|0,ee[b>>1]=~~(M*D)&65534,b=L+(t<<4)+4|0,ee[b>>1]=S,b=L+(t<<4)+6|0,ee[b>>1]=~~(l*E+1)&65535|1,b=L+(t<<4)+8|0,ee[b>>1]=~~(a*D+1)&65535|1,b=L+(t<<4)+10|0,ee[b>>1]=g,t=L+(t<<4)+12|0,e[t>>2]=s<<21|o,o=e[d+4>>2]|0,o=o+1|0,e[d+4>>2]=o;return}if(m=p|0?p<<1:1,(p|0)>=(m|0)){t=p,L=d+12|0,L=e[L>>2]|0,b=L+(t<<4)|0,ee[b>>1]=~~(B*E)&65534,b=L+(t<<4)+2|0,ee[b>>1]=~~(M*D)&65534,b=L+(t<<4)+4|0,ee[b>>1]=S,b=L+(t<<4)+6|0,ee[b>>1]=~~(l*E+1)&65535|1,b=L+(t<<4)+8|0,ee[b>>1]=~~(a*D+1)&65535|1,b=L+(t<<4)+10|0,ee[b>>1]=g,t=L+(t<<4)+12|0,e[t>>2]=s<<21|o,o=e[d+4>>2]|0,o=o+1|0,e[d+4>>2]=o;return}if(m?(e[5637]=(e[5637]|0)+1,u=Xe((m<<4|3)+16|0)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,p=e[d+4>>2]|0):u=0,(p|0)>0){h=0;do t=u+(h<<4)|0,L=(e[d+12>>2]|0)+(h<<4)|0,e[t>>2]=e[L>>2],e[t+4>>2]=e[L+4>>2],e[t+8>>2]=e[L+8>>2],e[t+12>>2]=e[L+12>>2],h=h+1|0;while((h|0)!=(p|0))}p=e[d+12>>2]|0,p|0&&(R[d+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[p+-4>>2]|0)),e[d+12>>2]=0),R[d+16>>0]=1,e[d+12>>2]=u,e[d+8>>2]=m,t=e[d+4>>2]|0,L=d+12|0,L=e[L>>2]|0,b=L+(t<<4)|0,ee[b>>1]=~~(B*E)&65534,b=L+(t<<4)+2|0,ee[b>>1]=~~(M*D)&65534,b=L+(t<<4)+4|0,ee[b>>1]=S,b=L+(t<<4)+6|0,ee[b>>1]=~~(l*E+1)&65535|1,b=L+(t<<4)+8|0,ee[b>>1]=~~(a*D+1)&65535|1,b=L+(t<<4)+10|0,ee[b>>1]=g,t=L+(t<<4)+12|0,e[t>>2]=s<<21|o,o=e[d+4>>2]|0,o=o+1|0,e[d+4>>2]=o}function qee(t){t=t|0,ye(t)}function Xee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0;if(G=H,H=H+32|0,g=+i[n>>2],l=(i[Z>>2]=g,e[Z>>2]|0),w=g<0xde0b6b000000000?l:1566444395,m=+i[n+4>>2],p=(i[Z>>2]=m,e[Z>>2]|0),M=m<0xde0b6b000000000?p:1566444395,O=+i[n+8>>2],d=(i[Z>>2]=O,e[Z>>2]|0),D=O<0xde0b6b000000000?d:1566444395,C=+i[n+12>>2],B=C<0?C:0,l=g>-0xde0b6b000000000?l:-581039253,p=m>-0xde0b6b000000000?p:-581039253,d=O>-0xde0b6b000000000?d:-581039253,C=C>0?C:0,O=+i[n+16>>2],P=O<(e[Z>>2]=w,+i[Z>>2]),a=(i[Z>>2]=O,e[Z>>2]|0),w=P?a:w,m=+i[n+20>>2],P=m<(e[Z>>2]=M,+i[Z>>2]),u=(i[Z>>2]=m,e[Z>>2]|0),M=P?u:M,g=+i[n+24>>2],P=g<(e[Z>>2]=D,+i[Z>>2]),h=(i[Z>>2]=g,e[Z>>2]|0),D=P?h:D,S=+i[n+28>>2],B=S<B?S:B,b=(e[Z>>2]=l,+i[Z>>2]<O?a:l),E=(e[Z>>2]=p,+i[Z>>2]<m?u:p),p=(e[Z>>2]=d,+i[Z>>2]<g?h:d),C=C<S?S:C,O=+i[n+32>>2],P=O<(e[Z>>2]=w,+i[Z>>2]),a=(i[Z>>2]=O,e[Z>>2]|0),P=P?a:w,g=+i[n+36>>2],F=g<(e[Z>>2]=M,+i[Z>>2]),l=(i[Z>>2]=g,e[Z>>2]|0),F=F?l:M,S=+i[n+40>>2],L=S<(e[Z>>2]=D,+i[Z>>2]),u=(i[Z>>2]=S,e[Z>>2]|0),L=L?u:D,m=+i[n+44>>2],B=m<B?m:B,D=(e[Z>>2]=b,+i[Z>>2]<O?a:b),E=(e[Z>>2]=E,+i[Z>>2]<g?l:E),M=(e[Z>>2]=p,+i[Z>>2]<S?u:p),m=C<m?m:C,w=e[t+4>>2]|0,a=e[w+4>>2]|0,(a|0)==(e[w+8>>2]|0)&&(U=a|0?a<<1:1,(a|0)<(U|0))){if(U?(e[5637]=(e[5637]|0)+1,a=Xe(U<<6|19)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,d=a,a=e[w+4>>2]|0):d=0,(a|0)>0){l=0;do{u=d+(l<<6)|0,p=(e[w+12>>2]|0)+(l<<6)|0,h=u+64|0;do e[u>>2]=e[p>>2],u=u+4|0,p=p+4|0;while((u|0)<(h|0));l=l+1|0}while((l|0)!=(a|0))}a=e[w+12>>2]|0,a|0&&(R[w+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[w+12>>2]=0),R[w+16>>0]=1,e[w+12>>2]=d,e[w+8>>2]=U,a=e[w+4>>2]|0}U=e[w+12>>2]|0,e[U+(a<<6)>>2]=P,e[U+(a<<6)+4>>2]=F,e[U+(a<<6)+8>>2]=L,i[U+(a<<6)+12>>2]=B,e[U+(a<<6)+16>>2]=D,e[U+(a<<6)+20>>2]=E,e[U+(a<<6)+24>>2]=M,i[U+(a<<6)+28>>2]=m,e[U+(a<<6)+32>>2]=-1,e[U+(a<<6)+36>>2]=s,e[U+(a<<6)+40>>2]=o,o=U+(a<<6)+44|0,e[o>>2]=e[G>>2],e[o+4>>2]=e[G+4>>2],e[o+8>>2]=e[G+8>>2],e[o+12>>2]=e[G+12>>2],e[o+16>>2]=e[G+16>>2],e[w+4>>2]=(e[w+4>>2]|0)+1,H=G}function $ee(t){t=t|0;var n=0;e[t>>2]=6248,n=e[t+56>>2]|0,n&&(Vt[e[e[n>>2]>>2]&255](n),n=e[t+56>>2]|0,n&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)))}function Yee(t){t=t|0;var n=0,s=0;e[t>>2]=6248,n=e[t+56>>2]|0,n|0&&(Vt[e[e[n>>2]>>2]&255](n),s=e[t+56>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function Kee(t,n,s){t=t|0,n=+n,s=s|0;var o=0,a=0,l=0,u=0,p=0;o=H,H=H+96|0,u=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),e[o+32>>2]=1065353216,e[o+32+4>>2]=0,e[o+32+4+4>>2]=0,e[o+32+4+8>>2]=0,e[o+32+4+12>>2]=0,e[o+32+20>>2]=1065353216,e[o+32+24>>2]=0,e[o+32+24+4>>2]=0,e[o+32+24+8>>2]=0,e[o+32+24+12>>2]=0,e[o+32+40>>2]=1065353216,p=o+32+44|0,e[p>>2]=0,e[p+4>>2]=0,e[p+8>>2]=0,e[p+12>>2]=0,e[p+16>>2]=0,Kt[e[(e[t>>2]|0)+8>>2]&127](t,o+32|0,o+16|0,o),l=(u+(+i[o>>2]-+i[o+16>>2])*.5)*2,a=(u+(+i[o+4>>2]-+i[o+16+4>>2])*.5)*2,u=(u+(+i[o+8>>2]-+i[o+16+8>>2])*.5)*2,i[s>>2]=n*.0833333283662796*(a*a+u*u),i[s+4>>2]=n*.0833333283662796*(l*l+u*u),i[s+8>>2]=n*.0833333283662796*(l*l+a*a),i[s+12>>2]=0,H=o}function Zee(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(S=H,H=H+2048|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,o=+i[s>>2],l=+i[s+4>>2],a=+i[s+8>>2],o*o+l*l+a*a<9999999747378752e-20?(m=1,d=0,l=0):(C=1/+ot(+(o*o+l*l+a*a)),m=o*C,d=a*C,l=l*C),(Tt[e[(e[n>>2]|0)+96>>2]&127](n)|0)<=0){H=S;return}h=0,o=-0xde0b6b000000000;do{if(((Tt[e[(e[n>>2]|0)+96>>2]&127](n)|0)-h|0)<128?(s=(Tt[e[(e[n>>2]|0)+96>>2]&127](n)|0)-h|0,(s|0)>0?g=8:(a=-34028234663852886e22,s=-1)):(s=128,g=8),(g|0)==8){g=0,u=0;do f0[e[(e[n>>2]|0)+108>>2]&127](n,u,S+(u<<4)|0),u=u+1|0;while((u|0)!=(s|0));p=0,a=-34028234663852886e22,u=-1;do C=m*+i[S+(p<<4)>>2]+l*+i[S+(p<<4)+4>>2]+d*+i[S+(p<<4)+8>>2],w=C>a,u=w?p:u,a=w?C:a,p=p+1|0;while((p|0)!=(s|0));s=u}a>o&&(w=S+(s<<4)|0,e[t>>2]=e[w>>2],e[t+4>>2]=e[w+4>>2],e[t+8>>2]=e[w+8>>2],e[t+12>>2]=e[w+12>>2],o=a),h=h+128|0}while((h|0)<(Tt[e[(e[n>>2]|0)+96>>2]&127](n)|0));H=S}function Qee(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0;if(B=H,H=H+2048|0,(o|0)>0)a=0;else{H=B;return}do i[s+(a<<4)+12>>2]=-0xde0b6b000000000,a=a+1|0;while((a|0)!=(o|0));E=0;do{if((Tt[e[(e[t>>2]|0)+96>>2]&127](t)|0)>0){w=n+(E<<4)|0,M=n+(E<<4)+4|0,g=n+(E<<4)+8|0,S=s+(E<<4)+12|0,C=s+(E<<4)|0,D=0;do{if(((Tt[e[(e[t>>2]|0)+96>>2]&127](t)|0)-D|0)<128?(a=(Tt[e[(e[t>>2]|0)+96>>2]&127](t)|0)-D|0,(a|0)>0?b=10:(u=-34028234663852886e22,a=-1)):(a=128,b=10),(b|0)==10){b=0,l=0;do f0[e[(e[t>>2]|0)+108>>2]&127](t,l,B+(l<<4)|0),l=l+1|0;while((l|0)!=(a|0));p=+i[w>>2],h=+i[M>>2],d=+i[g>>2],m=0,u=-34028234663852886e22,l=-1;do L=p*+i[B+(m<<4)>>2]+h*+i[B+(m<<4)+4>>2]+d*+i[B+(m<<4)+8>>2],F=L>u,l=F?m:l,u=F?L:u,m=m+1|0;while((m|0)!=(a|0));a=l}u>+i[S>>2]&&(F=B+(a<<4)|0,e[C>>2]=e[F>>2],e[C+4>>2]=e[F+4>>2],e[C+8>>2]=e[F+8>>2],e[C+12>>2]=e[F+12>>2],i[S>>2]=u),D=D+128|0}while((D|0)<(Tt[e[(e[t>>2]|0)+96>>2]&127](t)|0))}E=E+1|0}while((E|0)!=(o|0));H=B}function Jee(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0,ke=0,Ae=0,qe=0;for(ge=H,H=H+288|0,s=e[t+56>>2]|0,s|0&&(Vt[e[e[s>>2]>>2]&255](s),o=e[t+56>>2]|0,o|0)&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[5637]=(e[5637]|0)+1,s=Xe(151)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s>>2]=5688,R[s+20>>0]=1,e[s+16>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,R[s+40>>0]=1,e[s+36>>2]=0,e[s+28>>2]=0,e[s+32>>2]=0,R[s+60>>0]=1,e[s+56>>2]=0,e[s+48>>2]=0,e[s+52>>2]=0,e[t+56>>2]=s,p=0,u=0,Se=0,$=0;!((p|0)>=(Tt[e[(e[t>>2]|0)+96>>2]&127](t)|0));){do if(($|0)==(u|0))if(a=u|0?u<<1:1,(u|0)<(a|0)){if((a|0)!=0&&(e[5637]=(e[5637]|0)+1,h=Xe((a<<4|3)+16|0)|0,(h|0)!=0)?(e[(h+4+15&-16)+-4>>2]=h,s=h+4+15&-16):s=0,(u|0)<=0){if(!Se){l=u,o=a;break}}else{o=0;do Ne=s+(o<<4)|0,we=Se+(o<<4)|0,e[Ne>>2]=e[we>>2],e[Ne+4>>2]=e[we+4>>2],e[Ne+8>>2]=e[we+8>>2],e[Ne+12>>2]=e[we+12>>2],o=o+1|0;while((o|0)!=(u|0))}e[5638]=(e[5638]|0)+1,ye(e[Se+-4>>2]|0),l=u,o=a}else l=u,o=u,s=Se;else l=$,o=u,s=Se;while(!1);u=s+($<<4)|0,e[u>>2]=e[ge+200>>2],e[u+4>>2]=e[ge+200+4>>2],e[u+8>>2]=e[ge+200+8>>2],e[u+12>>2]=e[ge+200+12>>2],f0[e[(e[t>>2]|0)+108>>2]&127](t,p,u),p=p+1|0,u=o,Se=s,$=l+1|0}if(R[ge+136+16>>0]=1,Ne=ge+136+12|0,e[Ne>>2]=0,e[ge+136+4>>2]=0,e[ge+136+8>>2]=0,R[ge+136+36>>0]=1,we=ge+136+32|0,e[we>>2]=0,e[ge+136+24>>2]=0,e[ge+136+28>>2]=0,R[ge+136+56>>0]=1,Te=ge+136+52|0,e[Te>>2]=0,e[ge+136+44>>2]=0,e[ge+136+48>>2]=0,n){if(($|0)>0){for(O=0,o=0,l=0,a=0;;){if(s=O,O=O+1|0,(O|0)<($|0)){F=Se+(s<<4)|0,P=Se+(s<<4)+4|0,B=Se+(s<<4)+8|0,L=O,s=a;do if(a=L,L=L+1|0,(L|0)<($|0)){D=Se+(a<<4)|0,b=Se+(a<<4)+4|0,n=Se+(a<<4)+8|0,M=L;do{for(U=+i[F>>2],Y=+i[D>>2]-U,G=+i[P>>2],w=+i[b>>2]-G,z=+i[B>>2],E=+i[n>>2]-z,U=+i[Se+(M<<4)>>2]-U,G=+i[Se+(M<<4)+4>>2]-G,z=+i[Se+(M<<4)+8>>2]-z,d=1,h=0;;){S=(w*z-E*G)*d,C=(E*U-Y*z)*d,m=(Y*G-w*U)*d;e:do if(m*m+(S*S+C*C)>9999999747378752e-20){if(g=1/+ot(+(m*m+(S*S+C*C))),(s|0)>0){a=0;do{if(S*g*+i[l+(a<<4)>>2]+C*g*+i[l+(a<<4)+4>>2]+m*g*+i[l+(a<<4)+8>>2]>.9990000128746033)break e;a=a+1|0}while((a|0)<(s|0))}d=S*g*+i[F>>2]+C*g*+i[P>>2]+m*g*+i[B>>2],a=0;do{if(S*g*+i[Se+(a<<4)>>2]+C*g*+i[Se+(a<<4)+4>>2]+m*g*+i[Se+(a<<4)+8>>2]-d+-.009999999776482582>0)break e;a=a+1|0}while((a|0)<($|0));do if((s|0)==(o|0))if(p=o|0?o<<1:1,(o|0)<(p|0)){do if(!p)u=0;else{if(e[5637]=(e[5637]|0)+1,a=Xe((p<<4|3)+16|0)|0,!a){u=0;break}e[(a+4+15&-16)+-4>>2]=a,u=a+4+15&-16}while(!1);if((o|0)<=0){if(!l){a=o,o=p,l=u;break}}else{a=0;do ve=u+(a<<4)|0,xe=l+(a<<4)|0,e[ve>>2]=e[xe>>2],e[ve+4>>2]=e[xe+4>>2],e[ve+8>>2]=e[xe+8>>2],e[ve+12>>2]=e[xe+12>>2],a=a+1|0;while((a|0)!=(o|0))}e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0),a=o,o=p,l=u}else a=o;else a=s;while(!1);i[l+(a<<4)>>2]=S*g,i[l+(a<<4)+4>>2]=C*g,i[l+(a<<4)+8>>2]=m*g,i[l+(a<<4)+12>>2]=-d,s=s+1|0}while(!1);if(h=h+1|0,(h|0)==2)break;d=-1}M=M+1|0}while((M|0)!=($|0))}while((L|0)!=($|0))}else s=a;if((O|0)==($|0))break;a=s}if((s|0)>0){for(p=0,h=0,n=0;;){ve=l+(n<<4)|0,e[ge+216>>2]=e[ve>>2],e[ge+216+4>>2]=e[ve+4>>2],e[ge+216+8>>2]=e[ve+8>>2],d=+i[l+(n<<4)+12>>2],d=d-+Ct[e[(e[t>>2]|0)+48>>2]&15](t);do if((n|0)==(p|0))if(u=p|0?p<<1:1,(p|0)<(u|0)){if((u|0)!=0&&(e[5637]=(e[5637]|0)+1,q=Xe((u<<4|3)+16|0)|0,(q|0)!=0)?(e[(q+4+15&-16)+-4>>2]=q,a=q+4+15&-16):a=0,(p|0)<=0){if(!h){o=p;break}}else{o=0;do ve=a+(o<<4)|0,xe=h+(o<<4)|0,e[ve>>2]=e[xe>>2],e[ve+4>>2]=e[xe+4>>2],e[ve+8>>2]=e[xe+8>>2],e[ve+12>>2]=e[xe+12>>2],o=o+1|0;while((o|0)!=(p|0))}e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0),o=p}else o=p,u=p,a=h;else o=n,u=p,a=h;while(!1);if(ve=a+(o<<4)|0,e[ve>>2]=e[ge+216>>2],e[ve+4>>2]=e[ge+216+4>>2],e[ve+8>>2]=e[ge+216+8>>2],i[a+(o<<4)+12>>2]=d,n=n+1|0,(n|0)<(s|0))p=u,h=a;else break}if((n|0)>0){F=0,u=0,o=0,s=0;do if(B=F,F=F+1|0,(F|0)<(n|0)){L=F;do if(D=L,L=L+1|0,(L|0)<(n|0)){b=L;do{S=+i[a+(D<<4)+4>>2],d=+i[a+(b<<4)+8>>2],m=+i[a+(D<<4)+8>>2],C=+i[a+(b<<4)+4>>2],w=+i[a+(b<<4)>>2],E=+i[a+(D<<4)>>2],g=+i[a+(B<<4)+8>>2],U=+i[a+(B<<4)+4>>2],G=+i[a+(B<<4)>>2];e:do if((C*E-S*w)*(C*E-S*w)+((S*d-m*C)*(S*d-m*C)+(m*w-d*E)*(m*w-d*E))>9999999747378752e-20&&(w*U-C*G)*(w*U-C*G)+((C*g-d*U)*(C*g-d*U)+(d*G-w*g)*(d*G-w*g))>9999999747378752e-20&&(S*G-E*U)*(S*G-E*U)+((m*U-S*g)*(m*U-S*g)+(E*g-m*G)*(E*g-m*G))>9999999747378752e-20&&(X=g*(C*E-S*w)+(U*(m*w-d*E)+(S*d-m*C)*G),+ht(+X)>9999999974752427e-22)){Y=+i[a+(B<<4)+12>>2],ne=+i[a+(D<<4)+12>>2],ke=+i[a+(b<<4)+12>>2],z=-1/X*((m*U-S*g)*ke+((S*d-m*C)*Y+(C*g-d*U)*ne)),m=-1/X*((E*g-m*G)*ke+((m*w-d*E)*Y+(d*G-w*g)*ne)),d=-1/X*((S*G-E*U)*ke+((C*E-S*w)*Y+(w*U-C*G)*ne)),p=0;do{if(+i[a+(p<<4)+12>>2]+(z*+i[a+(p<<4)>>2]+m*+i[a+(p<<4)+4>>2]+d*+i[a+(p<<4)+8>>2])+-.009999999776482582>0)break e;p=p+1|0}while((p|0)<(n|0));do if((s|0)==(u|0)){if(M=u|0?u<<1:1,(u|0)>=(M|0)){p=u;break}do if(!M)h=0;else{if(e[5637]=(e[5637]|0)+1,p=Xe((M<<4|3)+16|0)|0,!p){h=0;break}e[(p+4+15&-16)+-4>>2]=p,h=p+4+15&-16}while(!1);if((u|0)<=0){if(!o){p=u,u=M,o=h;break}}else{p=0;do ve=h+(p<<4)|0,xe=o+(p<<4)|0,e[ve>>2]=e[xe>>2],e[ve+4>>2]=e[xe+4>>2],e[ve+8>>2]=e[xe+8>>2],e[ve+12>>2]=e[xe+12>>2],p=p+1|0;while((p|0)!=(u|0))}e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0),p=u,u=M,o=h}else p=s;while(!1);i[o+(p<<4)>>2]=z,i[o+(p<<4)+4>>2]=m,i[o+(p<<4)+8>>2]=d,i[o+(p<<4)+12>>2]=0,s=s+1|0}while(!1);b=b+1|0}while((b|0)!=(n|0))}while((L|0)!=(n|0))}while((F|0)!=(n|0))}else o=0,s=0}else a=0,o=0,s=0}else l=0,a=0,o=0,s=0;n6(ge+136|0,o,s),o|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),a|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),l|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0))}else n6(ge+136|0,Se,$);if(O=e[ge+136+44>>2]|0,(O|0)>0){e[5637]=(e[5637]|0)+1,s=Xe((O<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,o=s+4+15&-16):o=0,s=0;do ve=o+(s<<4)|0,e[ve>>2]=e[ge+120>>2],e[ve+4>>2]=e[ge+120+4>>2],e[ve+8>>2]=e[ge+120+8>>2],e[ve+12>>2]=e[ge+120+12>>2],s=s+1|0;while((s|0)!=(O|0))}else o=0;R[ge+96+16>>0]=1,ve=ge+96+12|0,e[ve>>2]=0,xe=ge+96+4|0,e[xe>>2]=0,e[ge+96+8>>2]=0,l=ge+264|0,p=l+19|0;do R[l>>0]=0,l=l+1|0;while((l|0)<(p|0));if((O|0)<0&&yI(),(O|0)>0){V6(ge+96|0,O),s=e[ve>>2]|0,a=0;do{l=s+(a*36|0)|0,R[l+16>>0]=1,e[l+4>>2]=0,e[l+4+4>>2]=0,e[l+4+8>>2]=0,l=l+20|0,u=ge+264+3|0,p=l+16|0;do R[l>>0]=R[u>>0]|0,l=l+1|0,u=u+1|0;while((l|0)<(p|0));a=a+1|0}while((a|0)!=(O|0))}if(e[xe>>2]=O,h=e[ge+136+4>>2]|0,p=e[t+56>>2]|0,u=e[p+8>>2]|0,(u|0)<(h|0)){if((e[p+12>>2]|0)<(h|0)){if(h?(e[5637]=(e[5637]|0)+1,s=Xe((h<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,a=e[p+8>>2]|0):(s=0,a=u),(a|0)>0){l=0;do ae=s+(l<<4)|0,oe=(e[p+16>>2]|0)+(l<<4)|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],l=l+1|0;while((l|0)!=(a|0))}a=e[p+16>>2]|0,a|0&&(R[p+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[p+16>>2]=0),R[p+20>>0]=1,e[p+16>>2]=s,e[p+12>>2]=h,a=p+16|0}else a=p+16|0;s=u;do ae=(e[a>>2]|0)+(s<<4)|0,e[ae>>2]=e[ge+80>>2],e[ae+4>>2]=e[ge+80+4>>2],e[ae+8>>2]=e[ge+80+8>>2],e[ae+12>>2]=e[ge+80+12>>2],s=s+1|0;while((s|0)!=(h|0))}if(e[p+8>>2]=h,(h|0)>0){s=0;do ae=(e[(e[t+56>>2]|0)+16>>2]|0)+(s<<4)|0,oe=(e[Ne>>2]|0)+(s<<4)|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],s=s+1|0;while((s|0)!=(h|0))}if((O|0)>0){P=0;do{B=(e[we>>2]|0)+((e[(e[Te>>2]|0)+(P<<2)>>2]|0)*12|0)|0,F=B,a=0;do{if(L=F+4|0,b=e[F+((e[L>>2]|0)*12|0)+8>>2]|0,M=e[ve>>2]|0,D=M+(P*36|0)+4|0,s=e[D>>2]|0,n=M+(P*36|0)+8|0,(s|0)==(e[n>>2]|0)&&(W=s|0?s<<1:1,(s|0)<(W|0))){if(W?(e[5637]=(e[5637]|0)+1,s=Xe((W<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,h=s,s=e[D>>2]|0):h=0,p=M+(P*36|0)+12|0,u=e[p>>2]|0,(s|0)<=0)u?fe=132:l=M+(P*36|0)+16|0;else{l=0;do e[h+(l<<2)>>2]=e[u+(l<<2)>>2],l=l+1|0;while((l|0)!=(s|0));fe=132}(fe|0)==132&&(fe=0,s=M+(P*36|0)+16|0,R[s>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[p>>2]=0,l=s,s=e[D>>2]|0),R[l>>0]=1,e[p>>2]=h,e[n>>2]=W}e[(e[M+(P*36|0)+12>>2]|0)+(s<<2)>>2]=b,e[D>>2]=(e[D>>2]|0)+1,oe=e[F+8>>2]|0,ae=e[Ne>>2]|0,g=+i[ae+(oe<<4)>>2]-+i[ae+(b<<4)>>2],S=+i[ae+(oe<<4)+4>>2]-+i[ae+(b<<4)+4>>2],d=+i[ae+(oe<<4)+8>>2]-+i[ae+(b<<4)+8>>2],m=1/+ot(+(g*g+S*S+d*d)),(a|0)<2&&(i[ge+216+(a<<4)>>2]=g*m,i[ge+216+(a<<4)+4>>2]=S*m,i[ge+216+(a<<4)+8>>2]=d*m,i[ge+216+(a<<4)+12>>2]=0,a=a+1|0),ae=F+((e[L>>2]|0)*12|0)|0,F=ae+((e[ae>>2]|0)*12|0)|0}while((F|0)!=(B|0));if(s=o+(P<<4)|0,(a|0)==2?(z=+i[ge+216+4>>2],Y=+i[ge+216+24>>2],X=+i[ge+216+8>>2],ne=+i[ge+216+20>>2],G=+i[ge+216+16>>2],U=+i[ge+216>>2],oe=o+(P<<4)+4|0,ae=o+(P<<4)+8|0,i[o+(P<<4)+12>>2]=0,ke=1/+ot(+((z*Y-X*ne)*(z*Y-X*ne)+(X*G-Y*U)*(X*G-Y*U)+(ne*U-z*G)*(ne*U-z*G))),i[s>>2]=(z*Y-X*ne)*ke,i[oe>>2]=(X*G-Y*U)*ke,i[ae>>2]=(ne*U-z*G)*ke,p=e[ve>>2]|0,i[p+(P*36|0)+20>>2]=(z*Y-X*ne)*ke,e[p+(P*36|0)+24>>2]=e[oe>>2],e[p+(P*36|0)+28>>2]=e[ae>>2],i[p+(P*36|0)+32>>2]=10000000150474662e14):(e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,p=e[ve>>2]|0),l=e[p+(P*36|0)+4>>2]|0,(l|0)>0){u=e[(e[t+56>>2]|0)+16>>2]|0,m=+i[s>>2],g=+i[o+(P<<4)+4>>2],S=+i[o+(P<<4)+8>>2],s=e[p+(P*36|0)+12>>2]|0,d=10000000150474662e14,a=0;do ae=e[s+(a<<2)>>2]|0,ke=+i[u+(ae<<4)>>2]*m+ +i[u+(ae<<4)+4>>2]*g+ +i[u+(ae<<4)+8>>2]*S,d=d>ke?ke:d,a=a+1|0;while((a|0)!=(l|0))}else d=10000000150474662e14;i[p+(P*36|0)+32>>2]=-d,P=P+1|0}while((P|0)!=(O|0))}if((e[xe>>2]|0)>0){for(p=0,s=0,u=0;;){do if((p|0)==(s|0))if(s=p|0?p<<1:1,(p|0)<(s|0)){if((s|0)!=0&&(e[5637]=(e[5637]|0)+1,te=Xe((s<<2|3)+16|0)|0,(te|0)!=0)?(e[(te+4+15&-16)+-4>>2]=te,l=te+4+15&-16):l=0,(p|0)<=0){if(!u)break}else{a=0;do e[l+(a<<2)>>2]=e[u+(a<<2)>>2],a=a+1|0;while((a|0)!=(p|0))}e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)}else s=p,l=u;else l=u;while(!1);if(e[l+(p<<2)>>2]=p,p=p+1|0,(p|0)>=(e[xe>>2]|0))break;u=l}for(W=ge+56+12|0,te=ge+56+4|0;;){n=p+-1|0,a=e[l+(n<<2)>>2]|0,e[5637]=(e[5637]|0)+1,s=Xe(23)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s>>2]=a,ae=e[ve>>2]|0,m=+i[ae+(a*36|0)+20>>2],g=+i[ae+(a*36|0)+24>>2],d=+i[ae+(a*36|0)+28>>2];e:do if((p|0)>1)for(u=1,h=1,a=s,s=n,b=n;;){D=h,n=a;t:for(;;){a=e[ve>>2]|0;do{if(ae=s,s=s+-1|0,(ae|0)<=0){s=a,q=D,$=n,p=b;break e}M=e[l+(s<<2)>>2]|0}while(!(m*+i[a+(M*36|0)+20>>2]+g*+i[a+(M*36|0)+24>>2]+d*+i[a+(M*36|0)+28>>2]>.9990000128746033));do if((D|0)==(u|0))if(u=D|0?D<<1:1,(D|0)<(u|0)){do if(!u)p=0;else{if(e[5637]=(e[5637]|0)+1,a=Xe((u<<2|3)+16|0)|0,!a){p=0;break}e[(a+4+15&-16)+-4>>2]=a,p=a+4+15&-16}while(!1);if((D|0)<=0){if(!n){n=p;break}}else{a=0;do e[p+(a<<2)>>2]=e[n+(a<<2)>>2],a=a+1|0;while((a|0)!=(D|0))}e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),n=p}else u=D;while(!1);for(e[n+(D<<2)>>2]=M,D=D+1|0,a=0;h=l+(a<<2)|0,(e[h>>2]|0)!=(M|0);)if(a=a+1|0,(a|0)>=(b|0))continue t;if((a|0)<(b|0))break}if(p=b+-1|0,ae=l+(p<<2)|0,e[h>>2]=e[ae>>2],e[ae>>2]=M,(b|0)>1)h=D,a=n,b=p;else{h=D,a=n,fe=161;break}}else u=1,h=1,a=s,s=n,p=n,fe=161;while(!1);e:do if((fe|0)==161)for(fe=0,D=h,M=a;;){a=e[ve>>2]|0;do{if(ae=s,s=s+-1|0,(ae|0)<=0){s=a,q=D,$=M;break e}n=e[l+(s<<2)>>2]|0}while(!(m*+i[a+(n*36|0)+20>>2]+g*+i[a+(n*36|0)+24>>2]+d*+i[a+(n*36|0)+28>>2]>.9990000128746033));do if((D|0)==(u|0))if(u=D|0?D<<1:1,(D|0)<(u|0)){do if(!u)a=0;else{if(e[5637]=(e[5637]|0)+1,a=Xe((u<<2|3)+16|0)|0,!a){a=0;break}e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16}while(!1);if((D|0)<=0){if(!M)break}else{h=0;do e[a+(h<<2)>>2]=e[M+(h<<2)>>2],h=h+1|0;while((h|0)!=(D|0))}e[5638]=(e[5638]|0)+1,ye(e[M+-4>>2]|0)}else u=D,a=M;else a=M;while(!1);e[a+(D<<2)>>2]=n,D=D+1|0,M=a}while(!1);if((q|0)>1){R[ge+56+16>>0]=1,e[W>>2]=0,e[te>>2]=0,e[ge+56+8>>2]=0,d=0,m=0,g=0,u=0,L=0;do{if(a=e[$+(L<<2)>>2]|0,d=+i[s+(a*36|0)+20>>2]+d,m=+i[s+(a*36|0)+24>>2]+m,g=+i[s+(a*36|0)+28>>2]+g,B=s+(a*36|0)+4|0,(e[B>>2]|0)>0)for(b=s+(a*36|0)+12|0,s=u,D=0;;){M=e[(e[b>>2]|0)+(D<<2)>>2]|0,ae=(e[(e[t+56>>2]|0)+16>>2]|0)+(M<<4)|0,e[ge+216>>2]=e[ae>>2],e[ge+216+4>>2]=e[ae+4>>2],e[ge+216+8>>2]=e[ae+8>>2],e[ge+216+12>>2]=e[ae+12>>2];e:do if((s|0)>0)for(a=e[W>>2]|0,u=0;;){if((e[a+(u*24|0)+20>>2]|0)==(M|0))break e;if(u=u+1|0,(u|0)>=(s|0)){fe=263;break}}else fe=263;while(!1);if((fe|0)==263){fe=0,e[ge>>2]=e[ge+216>>2],e[ge+4>>2]=e[ge+216+4>>2],e[ge+8>>2]=e[ge+216+8>>2],e[ge+12>>2]=e[ge+216+12>>2];do if((s|0)==(e[ge+56+8>>2]|0)){if(n=s|0?s<<1:1,(s|0)>=(n|0))break;if(n?(e[5637]=(e[5637]|0)+1,s=Xe((n*24|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,h=s,s=e[te>>2]|0):h=0,u=e[W>>2]|0,(s|0)<=0)u&&(fe=272);else{a=0;do fe=h+(a*24|0)|0,ae=u+(a*24|0)|0,e[fe>>2]=e[ae>>2],e[fe+4>>2]=e[ae+4>>2],e[fe+8>>2]=e[ae+8>>2],e[fe+12>>2]=e[ae+12>>2],e[fe+16>>2]=e[ae+16>>2],e[fe+20>>2]=e[ae+20>>2],a=a+1|0;while((a|0)!=(s|0));fe=272}(fe|0)==272&&(fe=0,R[ge+56+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0),s=e[te>>2]|0),e[W>>2]=0),R[ge+56+16>>0]=1,e[W>>2]=h,e[ge+56+8>>2]=n}while(!1);ae=e[W>>2]|0,oe=ae+(s*24|0)|0,e[oe>>2]=e[ge>>2],e[oe+4>>2]=e[ge+4>>2],e[oe+8>>2]=e[ge+8>>2],e[oe+12>>2]=e[ge+12>>2],e[oe+16>>2]=e[ge+16>>2],e[ae+(s*24|0)+20>>2]=M,s=(e[te>>2]|0)+1|0,e[te>>2]=s}if(D=D+1|0,(D|0)>=(e[B>>2]|0)){u=s;break}}L=L+1|0,s=e[ve>>2]|0}while((L|0)<(q|0));if(R[ge+20+16>>0]=1,e[ge+20+12>>2]=0,e[ge+20+4>>2]=0,e[ge+20+8>>2]=0,ae=s+20+((e[$>>2]|0)*9<<2)|0,e[ge+20+20>>2]=e[ae>>2],e[ge+20+20+4>>2]=e[ae+4>>2],e[ge+20+20+8>>2]=e[ae+8>>2],e[ge+20+20+12>>2]=e[ae+12>>2],Y=1/+ot(+(d*d+m*m+g*g)),ne=d*Y,X=m*Y,Y=g*Y,+ht(+Y)>.7071067690849304?(z=1/+ot(+(Y*Y+X*X)),C=ne*-(Y*z),w=0,E=X*z,U=-(Y*z),G=(Y*Y+X*X)*z,z=-(ne*(X*z))):(z=1/+ot(+(ne*ne+X*X)),C=(ne*ne+X*X)*z,w=-(X*z),E=0,U=ne*z,G=-(Y*(ne*z)),z=Y*-(X*z)),(u|0)<2)if((u|0)>0)for(s=u,u=0,h=0,D=0;;){b=e[W>>2]|0;do if((u|0)==(h|0)){if(M=h|0?h<<1:1,(h|0)>=(M|0)){n=h,a=D;break}do if(!M)a=0;else{if(e[5637]=(e[5637]|0)+1,s=Xe((M*24|3)+16|0)|0,!s){a=0,h=u;break}e[(s+4+15&-16)+-4>>2]=s,a=s+4+15&-16,h=u}while(!1);if((h|0)<=0)D|0&&(fe=209);else{s=0;do fe=a+(s*24|0)|0,ae=D+(s*24|0)|0,e[fe>>2]=e[ae>>2],e[fe+4>>2]=e[ae+4>>2],e[fe+8>>2]=e[ae+8>>2],e[fe+12>>2]=e[ae+12>>2],e[fe+16>>2]=e[ae+16>>2],e[fe+20>>2]=e[ae+20>>2],s=s+1|0;while((s|0)!=(h|0));fe=209}(fe|0)==209&&(fe=0,e[5638]=(e[5638]|0)+1,ye(e[D+-4>>2]|0)),n=u,s=e[te>>2]|0,h=M}else n=u,a=D;while(!1);if(ae=a+(n*24|0)|0,e[ae>>2]=e[b>>2],e[ae+4>>2]=e[b+4>>2],e[ae+8>>2]=e[b+8>>2],e[ae+12>>2]=e[b+12>>2],e[ae+16>>2]=e[b+16>>2],e[ae+20>>2]=e[b+20>>2],u=u+1|0,(u|0)<(s|0))D=a;else{fe=278;break}}else s=0,a=0,fe=307;else{s=e[W>>2]|0,a=u,h=0;do w*+i[s+(h*24|0)>>2]+U*+i[s+(h*24|0)+4>>2]+E*+i[s+(h*24|0)+8>>2]<w*+i[s>>2]+U*+i[s+4>>2]+E*+i[s+8>>2]&&(e[ge+216>>2]=e[s>>2],e[ge+216+4>>2]=e[s+4>>2],e[ge+216+8>>2]=e[s+8>>2],e[ge+216+12>>2]=e[s+12>>2],e[ge+216+16>>2]=e[s+16>>2],e[ge+216+20>>2]=e[s+20>>2],a=s+(h*24|0)|0,e[s>>2]=e[a>>2],e[s+4>>2]=e[a+4>>2],e[s+8>>2]=e[a+8>>2],e[s+12>>2]=e[a+12>>2],e[s+16>>2]=e[a+16>>2],e[s+20>>2]=e[a+20>>2],a=s+(h*24|0)|0,e[a>>2]=e[ge+216>>2],e[a+4>>2]=e[ge+216+4>>2],e[a+8>>2]=e[ge+216+8>>2],e[a+12>>2]=e[ge+216+12>>2],e[a+16>>2]=e[ge+216+16>>2],e[a+20>>2]=e[ge+216+20>>2],a=u),h=h+1|0;while((h|0)<(a|0));if(i[s+16>>2]=-10000000150474662e14,(a|0)>1){s=e[W>>2]|0,a=e[te>>2]|0,g=+i[s+4>>2],u=1;do m=+i[s+(u*24|0)>>2]-+i[s>>2],ke=+i[s+(u*24|0)+4>>2]-g,d=+i[s+(u*24|0)+8>>2]-+i[s+8>>2],S=G*m+z*ke+C*d,d=w*m+U*ke+E*d,S*S+d*d<11920928955078125e-23?i[s+(u*24|0)+16>>2]=0:(m=+ht(+S),d>=0?d=.7853981852531433-(d-m)/(d+m)*.7853981852531433:d=2.356194496154785-(d+m)/(m-d)*.7853981852531433,i[s+(u*24|0)+16>>2]=S<0?-d:d),u=u+1|0;while((u|0)<(a|0))}if(e[ge+216>>2]=e[s>>2],e[ge+216+4>>2]=e[s+4>>2],e[ge+216+8>>2]=e[s+8>>2],e[ge+216+12>>2]=e[s+12>>2],hh(ge+56|0,ge+216|0,1,(e[te>>2]|0)+-1|0),a=e[W>>2]|0,e[5637]=(e[5637]|0)+1,s=Xe(43)|0,s?(e[(s+4+15&-16)+-4>>2]=s,h=s+4+15&-16):h=0,u=e[W>>2]|0,e[h>>2]=e[a>>2],e[h+4>>2]=e[a+4>>2],e[h+8>>2]=e[a+8>>2],e[h+12>>2]=e[a+12>>2],e[h+16>>2]=e[a+16>>2],e[h+20>>2]=e[a+20>>2],e[5637]=(e[5637]|0)+1,s=Xe(67)|0,s?(e[(s+4+15&-16)+-4>>2]=s,a=s+4+15&-16):a=0,e[a>>2]=e[h>>2],e[a+4>>2]=e[h+4>>2],e[a+8>>2]=e[h+8>>2],e[a+12>>2]=e[h+12>>2],e[a+16>>2]=e[h+16>>2],e[a+20>>2]=e[h+20>>2],h|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),ae=a+24|0,e[ae>>2]=e[u+24>>2],e[ae+4>>2]=e[u+24+4>>2],e[ae+8>>2]=e[u+24+8>>2],e[ae+12>>2]=e[u+24+12>>2],e[ae+16>>2]=e[u+24+16>>2],e[ae+20>>2]=e[u+24+20>>2],(e[te>>2]|0)==2)s=2,u=2;else{n=2,u=2,M=2,s=2;do{e:do if((n|0)>1){for(ae=e[W>>2]|0,B=ae+(s*24|0)|0,d=+i[B>>2],m=+i[ae+(s*24|0)+4>>2],g=+i[ae+(s*24|0)+8>>2];ae=n+-2|0,h=n+-1|0,G=+i[a+(ae*24|0)>>2],z=G-+i[a+(h*24|0)>>2],E=+i[a+(ae*24|0)+4>>2],w=E-+i[a+(h*24|0)+4>>2],ke=+i[a+(ae*24|0)+8>>2],U=ke-+i[a+(h*24|0)+8>>2],!((z*(E-m)-w*(G-d))*Y+(ne*(w*(ke-g)-U*(E-m))+X*(U*(G-d)-z*(ke-g)))>0);)if((h|0)>1)n=h,u=h;else{n=h,u=h;break e}do if((n|0)==(M|0)){if(b=M<<1,(M|0)>=(b|0)){n=M;break}if(M?(e[5637]=(e[5637]|0)+1,h=Xe((M*48|3)+16|0)|0,h?(e[(h+4+15&-16)+-4>>2]=h,h=h+4+15&-16):h=0,(u|0)>0&&(D=h,n=u,fe=236)):(D=0,h=0,n=0,fe=236),(fe|0)==236){fe=0,M=0;do ae=h+(M*24|0)|0,oe=a+(M*24|0)|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],e[ae+16>>2]=e[oe+16>>2],e[ae+20>>2]=e[oe+20>>2],M=M+1|0;while((M|0)!=(n|0));h=D}e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),n=u,M=b,a=h}while(!1);n=a+(n*24|0)|0,e[n>>2]=e[B>>2],e[n+4>>2]=e[B+4>>2],e[n+8>>2]=e[B+8>>2],e[n+12>>2]=e[B+12>>2],e[n+16>>2]=e[B+16>>2],e[n+20>>2]=e[B+20>>2],u=u+1|0,n=u}while(!1);if((n|0)==1){D=(e[W>>2]|0)+(s*24|0)|0;do if((M|0)==1){if(e[5637]=(e[5637]|0)+1,h=Xe(67)|0,h?(e[(h+4+15&-16)+-4>>2]=h,n=h+4+15&-16):n=0,(u|0)<=0){if(!a){h=u,M=2,a=n;break}}else{h=0;do ae=n+(h*24|0)|0,oe=a+(h*24|0)|0,e[ae>>2]=e[oe>>2],e[ae+4>>2]=e[oe+4>>2],e[ae+8>>2]=e[oe+8>>2],e[ae+12>>2]=e[oe+12>>2],e[ae+16>>2]=e[oe+16>>2],e[ae+20>>2]=e[oe+20>>2],h=h+1|0;while((h|0)!=(u|0))}e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),h=u,M=2,a=n}else h=1;while(!1);n=a+(h*24|0)|0,e[n>>2]=e[D>>2],e[n+4>>2]=e[D+4>>2],e[n+8>>2]=e[D+8>>2],e[n+12>>2]=e[D+12>>2],e[n+16>>2]=e[D+16>>2],e[n+20>>2]=e[D+20>>2],u=u+1|0,n=u}s=s+1|0}while((s|0)!=(e[te>>2]|0))}fe=278}e:do if((fe|0)==278){if(fe=0,(u|0)>0)for(P=0,B=0,n=0,s=0,O=0;;){L=a+(O*24|0)+20|0;do if((P|0)==(B|0)){if(M=B|0?B<<1:1,(B|0)>=(M|0)){F=n;break}do if(!M)h=0;else{if(e[5637]=(e[5637]|0)+1,s=Xe((M<<2|3)+16|0)|0,!s){h=0;break}e[(s+4+15&-16)+-4>>2]=s,h=s+4+15&-16}while(!1);if((B|0)<=0)n|0&&(fe=299);else{s=0;do e[h+(s<<2)>>2]=e[n+(s<<2)>>2],s=s+1|0;while((s|0)!=(B|0));fe=299}(fe|0)==299&&(fe=0,e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),e[ge+20+12>>2]=0),R[ge+20+16>>0]=1,e[ge+20+12>>2]=h,e[ge+20+8>>2]=M,F=h,s=h,B=M}else F=n;while(!1);e[F+(P<<2)>>2]=e[L>>2],P=(e[ge+20+4>>2]|0)+1|0,e[ge+20+4>>2]=P,D=e[te>>2]|0;t:do if((D|0)>0){for(b=e[W>>2]|0,h=e[L>>2]|0,M=0;n=b+(M*24|0)+20|0,M=M+1|0,(e[n>>2]|0)!=(h|0);)if((M|0)>=(D|0))break t;e[n>>2]=-1}while(!1);if(O=O+1|0,(O|0)>=(u|0)){P=D;break}else n=F}else P=s,s=0;if((P|0)<=0){fe=307;break}if(M=e[W>>2]|0,D=e[xe>>2]|0,b=e[ve>>2]|0,(D|0)>0)L=0;else{fe=307;break}for(;;){if(B=e[M+(L*24|0)+20>>2]|0,(B|0)!=-1){F=0;do{for(u=0;(e[$+(u<<2)>>2]|0)!=(F|0);)if(u=u+1|0,(u|0)>=(q|0)){fe=285;break}do if((fe|0)==285){if(fe=0,u=e[b+(F*36|0)+4>>2]|0,(u|0)<=0)break;h=e[b+(F*36|0)+12>>2]|0,n=0;do{if((e[h+(n<<2)>>2]|0)==(B|0)){u=1;break e}n=n+1|0}while((n|0)<(u|0))}while(!1);F=F+1|0}while((F|0)<(D|0))}if(L=L+1|0,(L|0)>=(P|0)){fe=307;break}}}while(!1);(fe|0)==307&&(fe=0,z6((e[t+56>>2]|0)+24|0,ge+20|0),u=0),a|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),s|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),e[ge+20+12>>2]=0),s=e[W>>2]|0,s|0&&(R[ge+56+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[W>>2]=0),u&(q|0)>0&&(D=0,fe=317)}else(q|0)>0&&(D=0,fe=317);if((fe|0)==317)for(;;){if(fe=0,n=e[$+(D<<2)>>2]|0,M=e[ve>>2]|0,R[ge+216+16>>0]=1,e[ge+216+12>>2]=0,e[ge+216+4>>2]=0,e[ge+216+8>>2]=0,h=e[M+(n*36|0)+4>>2]|0,(h|0)>0){e[5637]=(e[5637]|0)+1,s=Xe((h<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,R[ge+216+16>>0]=1,e[ge+216+12>>2]=s,e[ge+216+8>>2]=h,ln(s|0,0,h<<2|0)|0,a=e[M+(n*36|0)+12>>2]|0,e[ge+216+4>>2]=h,u=0;do e[s+(u<<2)>>2]=e[a+(u<<2)>>2],u=u+1|0;while((u|0)!=(h|0))}else e[ge+216+4>>2]=h,s=0;if(e[ge+216+20>>2]=e[M+(n*36|0)+20>>2],e[ge+216+20+4>>2]=e[M+(n*36|0)+20+4>>2],e[ge+216+20+8>>2]=e[M+(n*36|0)+20+8>>2],e[ge+216+20+12>>2]=e[M+(n*36|0)+20+12>>2],z6((e[t+56>>2]|0)+24|0,ge+216|0),s|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),e[ge+216+12>>2]=0),D=D+1|0,(D|0)>=(q|0))break;fe=317}if($|0&&(e[5638]=(e[5638]|0)+1,ye(e[$+-4>>2]|0)),!p)break}}else l=0;if(ae=e[t+56>>2]|0,e[ae+64>>2]=0,e[ae+64+4>>2]=0,e[ae+64+8>>2]=0,e[ae+64+12>>2]=0,s=e[ae+28>>2]|0,(s|0)>0){for(b=0,a=0,u=0,P=0,L=0,M=0,p=0,F=0,D=0,h=0,B=0,O=0,oe=0;;){if(n=e[ae+36>>2]|0,se=e[n+(oe*36|0)+4>>2]|0,(se|0)>0){for(he=oe&65535,me=oe|-65536,_e=M,W=D,q=O,s=0;;){pe=s+1|0,$=e[n+(oe*36|0)+12>>2]|0,M=e[$+(s<<2)>>2]&65535,$=e[$+(((pe|0)==(se|0)?0:pe)<<2)>>2]&65535,te=$<<16>>16>M<<16>>16?M:$,t=$<<16>>16>M<<16>>16?$:M,n=$<<16>>16>M<<16>>16?M:$,M=$<<16>>16>M<<16>>16?$:M,$=W+-1|0;e:do if((((n&65535)<<16)+(M<<16>>16)&$)>>>0<P>>>0&&(de=e[u+((((n&65535)<<16)+(M<<16>>16)&$)<<2)>>2]|0,(de|0)!=-1)){for(s=de;!(M<<16>>16==(ee[a+(s<<2)>>1]|0)&&n<<16>>16==(ee[a+(s<<2)+2>>1]|0));)if(s=e[p+(s<<2)>>2]|0,(s|0)==-1){O=0;break e}O=h+(s<<2)|0}else O=0;while(!1);s=e[ae+16>>2]|0,C=+i[s+(n<<16>>16<<4)>>2]-+i[s+(M<<16>>16<<4)>>2],w=+i[s+(n<<16>>16<<4)+4>>2]-+i[s+(M<<16>>16<<4)+4>>2],g=+i[s+(n<<16>>16<<4)+8>>2]-+i[s+(M<<16>>16<<4)+8>>2],S=1/+ot(+(C*C+w*w+g*g)),s=e[ae+48>>2]|0;e:do if((s|0)>0)for(n=e[ae+56>>2]|0,M=0;;){d=+i[n+(M<<4)>>2],m=+i[n+(M<<4)+8>>2];do if(!(+ht(+(d-C*S))>1e-6)){if(+ht(+(+i[n+(M<<4)+4>>2]-w*S))>1e-6)break;if(!(+ht(+(m-g*S))>1e-6))break e}while(!1);do if(!(+ht(+(C*S+d))>1e-6)){if(+ht(+(w*S+ +i[n+(M<<4)+4>>2]))>1e-6)break;if(!(+ht(+(g*S+m))>1e-6))break e}while(!1);if(M=M+1|0,(M|0)>=(s|0)){fe=353;break}}else fe=353;while(!1);if((fe|0)==353){fe=0;do if((s|0)==(e[ae+52>>2]|0)){if(D=s|0?s<<1:1,(s|0)>=(D|0))break;if(D?(e[5637]=(e[5637]|0)+1,s=Xe((D<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,M=s,s=e[ae+48>>2]|0):M=0,(s|0)>0){n=0;do Ae=M+(n<<4)|0,qe=(e[ae+56>>2]|0)+(n<<4)|0,e[Ae>>2]=e[qe>>2],e[Ae+4>>2]=e[qe+4>>2],e[Ae+8>>2]=e[qe+8>>2],e[Ae+12>>2]=e[qe+12>>2],n=n+1|0;while((n|0)!=(s|0))}s=e[ae+56>>2]|0,s|0&&(R[ae+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[ae+56>>2]=0),R[ae+60>>0]=1,e[ae+56>>2]=M,e[ae+52>>2]=D,s=e[ae+48>>2]|0}while(!1);qe=e[ae+56>>2]|0,i[qe+(s<<4)>>2]=C*S,i[qe+(s<<4)+4>>2]=w*S,i[qe+(s<<4)+8>>2]=g*S,i[qe+(s<<4)+12>>2]=0,e[ae+48>>2]=(e[ae+48>>2]|0)+1}e:do if(O)ee[O+2>>1]=he,M=_e,D=W,O=q;else{s=((te&65535)<<16)+(t<<16>>16)&$;t:do if(s>>>0<P>>>0){if(n=e[u+(s<<2)>>2]|0,(n|0)==-1)break;for(;!(t<<16>>16==(ee[a+(n<<2)>>1]|0)&&te<<16>>16==(ee[a+(n<<2)+2>>1]|0));)if(n=e[p+(n<<2)>>2]|0,(n|0)==-1)break t;M=h+(n<<2)|0,ee[M>>1]=me,ee[M+2>>1]=me>>>16,M=_e,D=W,O=q;break e}while(!1);do if((F|0)==(W|0)){if(D=F|0?F<<1:1,(F|0)>=(D|0)){D=F;break}do if(!D)M=0;else{if(e[5637]=(e[5637]|0)+1,n=Xe((D<<2|3)+16|0)|0,!n){M=0;break}e[(n+4+15&-16)+-4>>2]=n,M=n+4+15&-16}while(!1);if((F|0)<=0){if(!h){h=M;break}}else{n=0;do qe=M+(n<<2)|0,Ae=h+(n<<2)|0,Ae=Le[Ae>>1]|Le[Ae+2>>1]<<16,ee[qe>>1]=Ae,ee[qe+2>>1]=Ae>>>16,n=n+1|0;while((n|0)!=(F|0))}e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0),h=M}else D=W;while(!1);$=h+(F<<2)|0,ee[$>>1]=me,ee[$+2>>1]=me>>>16,$=F+1|0;do if((q|0)==(b|0)){if(b=q|0?q<<1:1,(q|0)>=(b|0)){b=q;break}do if(!b)M=0;else{if(e[5637]=(e[5637]|0)+1,n=Xe((b<<2|3)+16|0)|0,!n){M=0;break}e[(n+4+15&-16)+-4>>2]=n,M=n+4+15&-16}while(!1);if((q|0)<=0){if(!a){a=M;break}}else{n=0;do qe=M+(n<<2)|0,Ae=a+(n<<2)|0,Ae=Le[Ae>>1]|Le[Ae+2>>1]<<16,ee[qe>>1]=Ae,ee[qe+2>>1]=Ae>>>16,n=n+1|0;while((n|0)!=(q|0))}e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),a=M}while(!1);if(O=a+(q<<2)|0,ee[O>>1]=(te&65535)<<16|t&65535,ee[O+2>>1]=((te&65535)<<16|t&65535)>>>16,O=q+1|0,(W|0)<(D|0)){do if((D|0)>(P|0)){if((D|0)>=(P|0)){do if((B|0)<(D|0)){do if(!D)s=0;else{if(e[5637]=(e[5637]|0)+1,s=Xe((D<<2|3)+16|0)|0,!s){s=0;break}e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16}while(!1);if((P|0)<=0){if(!u){u=s,s=D;break}}else{n=0;do e[s+(n<<2)>>2]=e[u+(n<<2)>>2],n=n+1|0;while((n|0)!=(P|0))}e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0),u=s,s=D}else s=B;while(!1);ln(u+(P<<2)|0,0,D-P<<2|0)|0,B=s}if((D|0)>(L|0)){do if((_e|0)<(D|0)){do if(!D)n=0;else{if(e[5637]=(e[5637]|0)+1,s=Xe((D<<2|3)+16|0)|0,!s){n=0;break}e[(s+4+15&-16)+-4>>2]=s,n=s+4+15&-16}while(!1);if((L|0)<=0){if(!p){s=D,p=n;break}}else{s=0;do e[n+(s<<2)>>2]=e[p+(s<<2)>>2],s=s+1|0;while((s|0)!=(L|0))}e[5638]=(e[5638]|0)+1,ye(e[p+-4>>2]|0),s=D,p=n}else s=_e;while(!1);ln(p+(L<<2)|0,0,D-L<<2|0)|0,M=s}else M=_e;if((D|0)>0&&(qe=D<<2,ln(u|0,-1,qe|0)|0,ln(p|0,-1,qe|0)|0),(P|0)<=0){n=D,L=D,s=B;break}s=D+-1|0,n=0;do qe=u+(((Le[a+(n<<2)+2>>1]<<16)+(ee[a+(n<<2)>>1]|0)&s)<<2)|0,e[p+(n<<2)>>2]=e[qe>>2],e[qe>>2]=n,n=n+1|0;while((n|0)!=(P|0));n=D,L=D,s=B}else n=P,M=_e,s=B;while(!1);B=s,s=((te&65535)<<16)+(t<<16>>16)&D+-1}else n=P,M=_e;P=u+(s<<2)|0,e[p+(F<<2)>>2]=e[P>>2],e[P>>2]=F,P=n,F=$}while(!1);if((pe|0)>=(se|0))break;n=e[ae+36>>2]|0,_e=M,W=D,q=O,s=pe}s=e[ae+28>>2]|0,n=O}else n=O;if(oe=oe+1|0,(oe|0)>=(s|0))break;O=n}if((s|0)>0){B=e[ae+36>>2]|0,L=e[ae+16>>2]|0,d=0,F=0;do{if(M=e[B+(F*36|0)+4>>2]|0,D=e[B+(F*36|0)+12>>2]|0,b=e[D>>2]|0,(M+-2|0)>=1){m=+i[ae+64>>2],g=+i[ae+68>>2],S=+i[ae+72>>2],n=1;do Ae=e[D+(n<<2)>>2]|0,n=n+1|0,qe=e[D+(((n|0)%(M|0)|0)<<2)>>2]|0,C=+i[L+(b<<4)>>2],w=+i[L+(Ae<<4)>>2],U=+i[L+(b<<4)+4>>2],G=+i[L+(Ae<<4)+4>>2],Y=+i[L+(b<<4)+8>>2],X=+i[L+(Ae<<4)+8>>2],E=+i[L+(qe<<4)>>2],z=+i[L+(qe<<4)+4>>2],ne=+i[L+(qe<<4)+8>>2],ke=+ot(+(((C-w)*(U-z)-(U-G)*(C-E))*((C-w)*(U-z)-(U-G)*(C-E))+(((U-G)*(Y-ne)-(Y-X)*(U-z))*((U-G)*(Y-ne)-(Y-X)*(U-z))+((Y-X)*(C-E)-(C-w)*(Y-ne))*((Y-X)*(C-E)-(C-w)*(Y-ne)))))*.5,m=m+(C+w+E)*.3333333432674408*ke,i[ae+64>>2]=m,g=(U+G+z)*.3333333432674408*ke+g,i[ae+68>>2]=g,S=ke*((Y+X+ne)*.3333333432674408)+S,i[ae+72>>2]=S,d=d+ke;while((n|0)!=(M+-1|0))}F=F+1|0}while((F|0)!=(s|0));n=ae+64|0,M=1,b=a,D=u}else fe=332}else a=0,u=0,p=0,h=0,fe=332;if((fe|0)==332&&(n=ae+64|0,M=0,d=0,b=a,D=u),S=1/d,C=S*+i[n>>2],i[n>>2]=C,g=S*+i[ae+68>>2],i[ae+68>>2]=g,S=S*+i[ae+72>>2],i[ae+72>>2]=S,i[ae+96>>2]=34028234663852886e22,M)for(a=e[ae+36>>2]|0,m=34028234663852886e22,u=0;d=+ht(+(+i[a+(u*36|0)+32>>2]+(+i[a+(u*36|0)+20>>2]*C+ +i[a+(u*36|0)+24>>2]*g+ +i[a+(u*36|0)+28>>2]*S))),d<m?i[ae+96>>2]=d:d=m,u=u+1|0,!((u|0)>=(s|0));)m=d;else d=34028234663852886e22;if(s=e[ae+8>>2]|0,(s|0)>0){a=e[ae+16>>2]|0,E=-34028234663852886e22,w=-34028234663852886e22,C=-34028234663852886e22,S=34028234663852886e22,g=34028234663852886e22,m=34028234663852886e22,u=0;do ke=+i[a+(u<<4)>>2],S=ke<S?ke:S,E=ke>E?ke:E,ke=+i[a+(u<<4)+4>>2],g=ke<g?ke:g,w=ke>w?ke:w,ke=+i[a+(u<<4)+8>>2],m=ke<m?ke:m,C=ke>C?ke:C,u=u+1|0;while((u|0)!=(s|0))}else E=-34028234663852886e22,w=-34028234663852886e22,C=-34028234663852886e22,S=34028234663852886e22,g=34028234663852886e22,m=34028234663852886e22;for(i[ae+100>>2]=E+S,i[ae+104>>2]=g+w,i[ae+108>>2]=m+C,i[ae+112>>2]=0,ke=E-S,ne=w-g,m=C-m,i[ae+116>>2]=ke,i[ae+120>>2]=ne,i[ae+124>>2]=m,i[ae+128>>2]=0,g=d/1.7320507764816284,n=ke<ne?ne<m?2:1:ke<m?2:0,d=(+i[ae+116+(n<<2)>>2]*.5-g)*.0009765625,i[ae+88>>2]=g,i[ae+84>>2]=g,i[ae+80>>2]=g,m=+i[ae+116+(n<<2)>>2]*.5,i[ae+80+(n<<2)>>2]=m,s=0;;){if(U6(ae)|0){fe=440;break}if(m=m-d,i[ae+80+(n<<2)>>2]=m,s=s+1|0,(s|0)>=1024){fe=439;break}}e:do if((fe|0)==439)i[ae+88>>2]=g,i[ae+84>>2]=g,i[ae+80>>2]=g;else if((fe|0)==440){for(d=(+i[ae+96>>2]-g)*.0009765625,a=e[ae+80+((1<<(1<<n&3)&3)<<2)>>2]|0,u=0;s=e[ae+80+((1<<n&3)<<2)>>2]|0,i[ae+80+((1<<n&3)<<2)>>2]=d+(e[Z>>2]=s,+i[Z>>2]),m=d+ +i[ae+80+((1<<(1<<n&3)&3)<<2)>>2],i[ae+80+((1<<(1<<n&3)&3)<<2)>>2]=m,u=u+1|0,!!(U6(ae)|0);){if((u|0)>=1024)break e;a=(i[Z>>2]=m,e[Z>>2]|0)}e[ae+80+((1<<n&3)<<2)>>2]=s,e[ae+80+((1<<(1<<n&3)&3)<<2)>>2]=a}while(!1);if(b|0&&(e[5638]=(e[5638]|0)+1,ye(e[b+-4>>2]|0)),h|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0)),p|0&&(e[5638]=(e[5638]|0)+1,ye(e[p+-4>>2]|0)),D|0&&(e[5638]=(e[5638]|0)+1,ye(e[D+-4>>2]|0)),l|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),h=e[xe>>2]|0,n=e[ve>>2]|0,(h|0)<=0)n|0&&(fe=461);else{p=0;do a=n+(p*36|0)+4|0,l=n+(p*36|0)+12|0,u=e[l>>2]|0,s=n+(p*36|0)+16|0,u|0&&(R[s>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[l>>2]=0),R[s>>0]=1,e[l>>2]=0,e[a>>2]=0,e[n+(p*36|0)+8>>2]=0,p=p+1|0;while((p|0)!=(h|0));fe=461}return(fe|0)==461&&(R[ge+96+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[ve>>2]=0),o|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),s=e[Te>>2]|0,s|0&&(R[ge+136+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[Te>>2]=0),R[ge+136+56>>0]=1,e[Te>>2]=0,e[ge+136+44>>2]=0,e[ge+136+48>>2]=0,s=e[we>>2]|0,s|0&&(R[ge+136+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[we>>2]=0),R[ge+136+36>>0]=1,e[we>>2]=0,e[ge+136+24>>2]=0,e[ge+136+28>>2]=0,s=e[Ne>>2]|0,s|0&&(R[ge+136+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[Ne>>2]=0),Se?(e[5638]=(e[5638]|0)+1,ye(e[Se+-4>>2]|0),H=ge,1):(H=ge,1)}function V6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0;if(!((e[t+8>>2]|0)>=(n|0))){if((n|0)!=0&&(e[5637]=(e[5637]|0)+1,s=Xe((n*36|3)+16|0)|0,(s|0)!=0)?(e[(s+4+15&-16)+-4>>2]=s,S=s+4+15&-16):S=0,u=e[t+4>>2]|0,(u|0)>0){m=0;do{if(p=S+(m*36|0)|0,h=e[t+12>>2]|0,R[p+16>>0]=1,e[p+12>>2]=0,e[p+4>>2]=0,e[p+8>>2]=0,d=e[h+(m*36|0)+4>>2]|0,(d|0)>0){if(e[5637]=(e[5637]|0)+1,s=Xe((d<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,l=s+4+15&-16):l=0,a=e[p+4>>2]|0,o=e[p+12>>2]|0,(a|0)<=0)o?g=14:(R[p+16>>0]=1,e[p+12>>2]=l,e[p+8>>2]=d,ln(l|0,0,d<<2|0)|0);else{s=0;do e[l+(s<<2)>>2]=e[o+(s<<2)>>2],s=s+1|0;while((s|0)!=(a|0));g=14}(g|0)==14&&(g=0,R[p+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),R[p+16>>0]=1,e[p+12>>2]=l,e[p+8>>2]=d,ln(l|0,0,d<<2|0)|0),s=e[p+12>>2]|0,e[p+4>>2]=d,o=e[h+(m*36|0)+12>>2]|0,a=0;do e[s+(a<<2)>>2]=e[o+(a<<2)>>2],a=a+1|0;while((a|0)!=(d|0))}else e[p+4>>2]=d;d=h+(m*36|0)+20|0,e[p+20>>2]=e[d>>2],e[p+20+4>>2]=e[d+4>>2],e[p+20+8>>2]=e[d+8>>2],e[p+20+12>>2]=e[d+12>>2],m=m+1|0}while((m|0)!=(u|0));if(s=e[t+4>>2]|0,(s|0)>0){h=0;do a=e[t+12>>2]|0,l=a+(h*36|0)+4|0,u=a+(h*36|0)+12|0,p=e[u>>2]|0,o=a+(h*36|0)+16|0,p|0&&(R[o>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[p+-4>>2]|0)),e[u>>2]=0),R[o>>0]=1,e[u>>2]=0,e[l>>2]=0,e[a+(h*36|0)+8>>2]=0,h=h+1|0;while((h|0)!=(s|0))}}s=e[t+12>>2]|0,s|0&&(R[t+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[t+12>>2]=0),R[t+16>>0]=1,e[t+12>>2]=S,e[t+8>>2]=n}}function hh(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0;for(B=H,H=H+32|0,M=e[t+12>>2]|0,E=+i[M+(((o+s|0)/2|0)*24|0)>>2],D=+i[M+(((o+s|0)/2|0)*24|0)+4>>2],b=+i[M+(((o+s|0)/2|0)*24|0)+8>>2],C=+i[M+(((o+s|0)/2|0)*24|0)+16>>2],w=e[M+(((o+s|0)/2|0)*24|0)+20>>2]|0,a=s,l=o;;){d=+i[n>>2],m=+i[n+4>>2],g=+i[n+8>>2],S=(E-d)*(E-d)+(D-m)*(D-m)+(b-g)*(b-g);e:for(;;){u=+i[M+(a*24|0)+16>>2];do if(u!=C){if(!(u<C))break e}else if(u=+i[M+(a*24|0)>>2]-d,p=+i[M+(a*24|0)+4>>2]-m,h=+i[M+(a*24|0)+8>>2]-g,u*u+p*p+h*h!=S){if(u*u+p*p+h*h<S)break;break e}else{if((e[M+(a*24|0)+20>>2]|0)<(w|0))break;break e}while(!1);a=a+1|0}e:for(;;){u=+i[M+(l*24|0)+16>>2];do if(C!=u){if(!(C<u))break e}else if(u=+i[M+(l*24|0)>>2]-d,p=+i[M+(l*24|0)+4>>2]-m,h=+i[M+(l*24|0)+8>>2]-g,S!=u*u+p*p+h*h){if(S<u*u+p*p+h*h)break;break e}else{if((w|0)<(e[M+(l*24|0)+20>>2]|0))break;break e}while(!1);l=l+-1|0}if((a|0)<=(l|0)&&(L=M+(a*24|0)|0,e[B>>2]=e[L>>2],e[B+4>>2]=e[L+4>>2],e[B+8>>2]=e[L+8>>2],e[B+12>>2]=e[L+12>>2],e[B+16>>2]=e[L+16>>2],e[B+20>>2]=e[L+20>>2],M=M+(l*24|0)|0,e[L>>2]=e[M>>2],e[L+4>>2]=e[M+4>>2],e[L+8>>2]=e[M+8>>2],e[L+12>>2]=e[M+12>>2],e[L+16>>2]=e[M+16>>2],e[L+20>>2]=e[M+20>>2],M=(e[t+12>>2]|0)+(l*24|0)|0,e[M>>2]=e[B>>2],e[M+4>>2]=e[B+4>>2],e[M+8>>2]=e[B+8>>2],e[M+12>>2]=e[B+12>>2],e[M+16>>2]=e[B+16>>2],e[M+20>>2]=e[B+20>>2],a=a+1|0,l=l+-1|0),(a|0)>(l|0))break;M=e[t+12>>2]|0}if((l|0)>(s|0)&&hh(t,n,s,l),(a|0)>=(o|0)){H=B;return}hh(t,n,a,o),H=B}function z6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0;if(s=e[t+4>>2]|0,(s|0)==(e[t+8>>2]|0)&&(V6(t,s|0?s<<1:1),s=e[t+4>>2]|0),p=(e[t+12>>2]|0)+(s*36|0)|0,R[p+16>>0]=1,e[p+12>>2]=0,e[p+4>>2]=0,e[p+8>>2]=0,h=e[n+4>>2]|0,(h|0)<=0){e[p+4>>2]=h,h=p+20|0,n=n+20|0,e[h>>2]=e[n>>2],e[h+4>>2]=e[n+4>>2],e[h+8>>2]=e[n+8>>2],e[h+12>>2]=e[n+12>>2],n=e[t+4>>2]|0,n=n+1|0,e[t+4>>2]=n;return}if(e[5637]=(e[5637]|0)+1,s=Xe((h<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,l=s+4+15&-16):l=0,a=e[p+4>>2]|0,o=e[p+12>>2]|0,(a|0)<=0)o?u=11:(R[p+16>>0]=1,e[p+12>>2]=l,e[p+8>>2]=h,ln(l|0,0,h<<2|0)|0);else{s=0;do e[l+(s<<2)>>2]=e[o+(s<<2)>>2],s=s+1|0;while((s|0)!=(a|0));u=11}(u|0)==11&&(R[p+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),R[p+16>>0]=1,e[p+12>>2]=l,e[p+8>>2]=h,ln(l|0,0,h<<2|0)|0),s=e[p+12>>2]|0,e[p+4>>2]=h,o=e[n+12>>2]|0,a=0;do e[s+(a<<2)>>2]=e[o+(a<<2)>>2],a=a+1|0;while((a|0)!=(h|0));h=p+20|0,n=n+20|0,e[h>>2]=e[n>>2],e[h+4>>2]=e[n+4>>2],e[h+8>>2]=e[n+8>>2],e[h+12>>2]=e[n+12>>2],n=e[t+4>>2]|0,n=n+1|0,e[t+4>>2]=n}function ete(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0;S=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),b=+i[t+76>>2],D=+i[t+60>>2],M=+i[t+80>>2],w=+i[t+64>>2],g=+i[t+84>>2],m=+i[t+68>>2],$=+i[n>>2],P=+ht(+$),Y=+i[n+4>>2],F=+ht(+Y),h=+i[n+8>>2],d=+ht(+h),z=+i[n+16>>2],L=+ht(+z),O=+i[n+20>>2],B=+ht(+O),u=+i[n+24>>2],p=+ht(+u),G=+i[n+32>>2],E=+ht(+G),U=+i[n+36>>2],C=+ht(+U),a=+i[n+40>>2],l=+ht(+a),h=(b+D)*.5*$+(M+w)*.5*Y+(g+m)*.5*h+ +i[n+48>>2],u=(b+D)*.5*z+(M+w)*.5*O+(g+m)*.5*u+ +i[n+52>>2],a=(b+D)*.5*G+(M+w)*.5*U+(g+m)*.5*a+ +i[n+56>>2],d=(S+(b-D)*.5)*P+(S+(M-w)*.5)*F+(S+(g-m)*.5)*d,p=(S+(b-D)*.5)*L+(S+(M-w)*.5)*B+(S+(g-m)*.5)*p,l=(S+(b-D)*.5)*E+(S+(M-w)*.5)*C+(S+(g-m)*.5)*l,i[s>>2]=h-d,i[s+4>>2]=u-p,i[s+8>>2]=a-l,i[s+12>>2]=0,i[o>>2]=d+h,i[o+4>>2]=p+u,i[o+8>>2]=l+a,i[o+12>>2]=0}function mc(t){t=t|0;var n=0,s=0,o=0,a=0;s=H,H=H+96|0,R[t+92>>0]=1,R[19840]|0||(R[19840]=1,e[4993]=1065353216,e[4994]=0,e[4995]=0,e[4996]=0,e[4997]=0,e[4998]=1065353216,e[4999]=0,e[5e3]=0,e[5001]=0,e[5002]=0,e[5003]=1065353216,i[5004]=0,e[5005]=-1082130432,e[5006]=0,e[5007]=0,e[5008]=0,e[5009]=0,e[5010]=-1082130432,e[5011]=0,e[5012]=0,e[5013]=0,e[5014]=0,e[5015]=-1082130432,i[5016]=0),n=s,o=n+96|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(o|0));Kt[e[(e[t>>2]|0)+76>>2]&127](t,19972,s,6),a=+i[t+48>>2],i[t+76>>2]=+i[s>>2]+a,i[t+60>>2]=+i[s+48>>2]-a,i[t+80>>2]=+i[s+20>>2]+a,i[t+64>>2]=+i[s+68>>2]-a,i[t+84>>2]=+i[s+40>>2]+a,i[t+68>>2]=+i[s+88>>2]-a,H=s}function tte(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function ite(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0;u=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),l=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),a=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),h=+i[n+52>>2]-l,p=+i[n+56>>2]-a,i[s>>2]=+i[n+48>>2]-u,i[s+4>>2]=h,i[s+8>>2]=p,i[s+12>>2]=0,l=l+ +i[n+52>>2],a=a+ +i[n+56>>2],i[o>>2]=u+ +i[n+48>>2],i[o+4>>2]=l,i[o+8>>2]=a,i[o+12>>2]=0}function nte(t,n,s){t=t|0,n=+n,s=s|0,n=n*.4000000059604645*+Ct[e[(e[t>>2]|0)+48>>2]&15](t),n=n*+Ct[e[(e[t>>2]|0)+48>>2]&15](t),i[s>>2]=n,i[s+4>>2]=n,i[s+8>>2]=n,i[s+12>>2]=0}function rte(t){return t=t|0,13962}function ste(t,n){t=t|0,n=+n,i[t+48>>2]=n}function ote(t){return t=t|0,+(+i[t+32>>2]*+i[t+16>>2])}function ate(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;o=H,H=H+16|0,f0[e[(e[n>>2]|0)+68>>2]&127](o,n,s),e[t>>2]=e[o>>2],e[t+4>>2]=e[o+4>>2],e[t+8>>2]=e[o+8>>2],e[t+12>>2]=e[o+12>>2],u=+i[s>>2],l=+i[s+4>>2],a=+i[s+8>>2],h=u*u+l*l+a*a<14210854715202004e-30?-1:u,p=u*u+l*l+a*a<14210854715202004e-30?-1:l,a=u*u+l*l+a*a<14210854715202004e-30?-1:a,l=1/+ot(+(a*a+(h*h+p*p))),u=+Ct[e[(e[n>>2]|0)+48>>2]&15](n),i[t>>2]=+i[t>>2]+u*(l*h),i[t+4>>2]=u*(l*p)+ +i[t+4>>2],i[t+8>>2]=u*(l*a)+ +i[t+8>>2],H=o}function cte(t,n,s){t=t|0,n=n|0,s=s|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0}function lte(t,n,s,o){if(t=t|0,n=n|0,s=s|0,o=o|0,(o|0)>0)t=0;else return;do n=s+(t<<4)|0,t=t+1|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0;while((t|0)!=(o|0))}function ute(t){t=t|0}function fte(t){t=t|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function _te(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,e[s>>2]=-581039253,e[s+4>>2]=-581039253,e[s+8>>2]=-581039253,i[s+12>>2]=0,e[o>>2]=1566444395,e[o+4>>2]=1566444395,e[o+8>>2]=1566444395,i[o+12>>2]=0}function pte(t,n){t=t|0,n=n|0,e[t+72>>2]=e[n>>2],e[t+72+4>>2]=e[n+4>>2],e[t+72+8>>2]=e[n+8>>2],e[t+72+12>>2]=e[n+12>>2]}function hte(t){return t=t|0,t+72|0}function dte(t,n,s){t=t|0,n=+n,s=s|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0}function mte(t){return t=t|0,13990}function gte(t){return t=t|0,52}function xte(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;return o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,a=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=a,a|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],e[n+12>>2]=e[t+72>>2],e[n+16>>2]=e[t+76>>2],e[n+20>>2]=e[t+80>>2],e[n+24>>2]=e[t+84>>2],e[n+28>>2]=e[t+52>>2],e[n+32>>2]=e[t+56>>2],e[n+36>>2]=e[t+60>>2],e[n+40>>2]=e[t+64>>2],e[n+44>>2]=e[t+68>>2],14002}function yte(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0;L=H,H=H+48|0,E=+i[o>>2],D=+i[s>>2],b=+i[o+4>>2],B=+i[s+4>>2],M=+i[o+8>>2],l=+i[s+8>>2],u=+ot(+((E-D)*.5*((E-D)*.5)+(b-B)*.5*((b-B)*.5)+(M-l)*.5*((M-l)*.5))),p=+i[t+60>>2],s=+ht(+p)>.7071067690849304,h=+i[t+56>>2],s?(w=1/+ot(+(p*p+h*h)),F=+i[t+52>>2],a=F*-(p*w),d=F,m=0,g=-(p*w),S=h*w,C=(p*p+h*h)*w,w=-(F*(h*w))):(C=+i[t+52>>2],w=1/+ot(+(C*C+h*h)),a=(C*C+h*h)*w,d=C,m=-(h*w),g=C*w,S=0,C=-(p*(C*w)),w=p*-(h*w)),F=(E+D)*.5*d+(b+B)*.5*h+(M+l)*.5*p-+i[t+68>>2],d=(E+D)*.5-d*F,m=u*m,g=u*g,D=u*S,C=u*C,w=u*w,E=u*a,i[L>>2]=C+(m+d),i[L+4>>2]=w+(g+((b+B)*.5-h*F)),i[L+8>>2]=E+(D+((M+l)*.5-p*F)),i[L+12>>2]=0,i[L+16>>2]=m+d-C,i[L+20>>2]=g+((b+B)*.5-h*F)-w,i[L+24>>2]=D+((M+l)*.5-p*F)-E,i[L+28>>2]=0,i[L+32>>2]=d-m-C,i[L+36>>2]=(b+B)*.5-h*F-g-w,i[L+40>>2]=(M+l)*.5-p*F-D-E,i[L+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,L,0,0),i[L>>2]=d-m-C,i[L+4>>2]=(b+B)*.5-h*F-g-w,i[L+8>>2]=(M+l)*.5-p*F-D-E,i[L+12>>2]=0,i[L+16>>2]=C+(d-m),i[L+20>>2]=w+((b+B)*.5-h*F-g),i[L+24>>2]=E+((M+l)*.5-p*F-D),i[L+28>>2]=0,i[L+32>>2]=C+(m+d),i[L+36>>2]=w+(g+((b+B)*.5-h*F)),i[L+40>>2]=E+(D+((M+l)*.5-p*F)),i[L+44>>2]=0,Kt[e[(e[n>>2]|0)+8>>2]&127](n,L,0,1),H=L}function iu(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0;if(D=R[a+16>>0]&-16,R[a+16>>0]=D,B=+i[s>>2],L=+i[n>>2],F=+i[s+4>>2],P=+i[n+4>>2],C=+i[s+8>>2],w=+i[n+8>>2],M=+i[o>>2],E=+i[o+4>>2],b=+i[o+8>>2],d=+i[t>>2],m=+i[t+4>>2],l=+i[t+8>>2],g=(B-L)*(d-L)+(F-P)*(m-P)+(C-w)*(l-w),S=(M-L)*(d-L)+(E-P)*(m-P)+(b-w)*(l-w),g<=0&S<=0){e[a>>2]=e[n>>2],e[a+4>>2]=e[n+4>>2],e[a+8>>2]=e[n+8>>2],e[a+12>>2]=e[n+12>>2],R[a+16>>0]=D|1,i[a+20>>2]=1,i[a+24>>2]=0,i[a+28>>2]=0,i[a+32>>2]=0;return}if(p=(B-L)*(d-B)+(F-P)*(m-F)+(C-w)*(l-C),h=(M-L)*(d-B)+(E-P)*(m-F)+(b-w)*(l-C),!(!(p>=0)|!(h<=p))){e[a>>2]=e[s>>2],e[a+4>>2]=e[s+4>>2],e[a+8>>2]=e[s+8>>2],e[a+12>>2]=e[s+12>>2],R[a+16>>0]=D|2,i[a+20>>2]=0,i[a+24>>2]=1,i[a+28>>2]=0,i[a+32>>2]=0;return}if(p<=0&(g>=0?g*h-p*S<=0:0)){i[a>>2]=L+(B-L)*(g/(g-p)),i[a+4>>2]=P+(F-P)*(g/(g-p)),i[a+8>>2]=w+(C-w)*(g/(g-p)),i[a+12>>2]=0,R[a+16>>0]=D|3,i[a+20>>2]=1-g/(g-p),i[a+24>>2]=g/(g-p),i[a+28>>2]=0,i[a+32>>2]=0;return}if(u=(B-L)*(d-M)+(F-P)*(m-E)+(C-w)*(l-b),l=(M-L)*(d-M)+(E-P)*(m-E)+(b-w)*(l-b),!(!(l>=0)|!(u<=l))){e[a>>2]=e[o>>2],e[a+4>>2]=e[o+4>>2],e[a+8>>2]=e[o+8>>2],e[a+12>>2]=e[o+12>>2],R[a+16>>0]=D|4,i[a+20>>2]=0,i[a+24>>2]=0,i[a+28>>2]=1,i[a+32>>2]=0;return}if(l<=0&(S>=0?u*S-g*l<=0:0)){i[a>>2]=L+(M-L)*(S/(S-l)),i[a+4>>2]=P+(E-P)*(S/(S-l)),i[a+8>>2]=w+(b-w)*(S/(S-l)),i[a+12>>2]=0,R[a+16>>0]=D|5,i[a+20>>2]=1-S/(S-l),i[a+24>>2]=0,i[a+28>>2]=S/(S-l),i[a+32>>2]=0;return}if(p*l-u*h<=0&&h-p>=0&&u-l>=0){P=(h-p)/(h-p+(u-l)),i[a>>2]=B+(M-B)*P,i[a+4>>2]=F+(E-F)*P,i[a+8>>2]=C+(b-C)*P,i[a+12>>2]=0,R[a+16>>0]=D|6,i[a+20>>2]=0,i[a+24>>2]=1-P,i[a+28>>2]=P,i[a+32>>2]=0;return}d=1/(g*h-p*S+(p*l-u*h+(u*S-g*l))),m=(u*S-g*l)*d,S=(g*h-p*S)*d,i[a>>2]=(M-L)*S+((B-L)*m+L),i[a+4>>2]=(E-P)*S+((F-P)*m+P),i[a+8>>2]=(b-w)*S+((C-w)*m+w),i[a+12>>2]=0,R[a+16>>0]=D|7,i[a+20>>2]=1-m-S,i[a+24>>2]=m,i[a+28>>2]=S,i[a+32>>2]=0}function vte(t){t=t|0;var n=0;e[t>>2]=7044,n=e[t+140>>2]|0,n|0&&(R[t+144>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+140>>2]=0),R[t+144>>0]=1,e[t+140>>2]=0,e[t+132>>2]=0,e[t+136>>2]=0}function Ste(t){t=t|0;var n=0;e[t>>2]=7044,n=e[t+140>>2]|0,n|0&&(R[t+144>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+140>>2]=0),R[t+144>>0]=1,e[t+140>>2]=0,e[t+132>>2]=0,e[t+136>>2]=0,e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function Cte(t,n,s){t=t|0,n=n|0,s=+s,zt[e[(e[t>>2]|0)+32>>2]&127](t,n),rr[e[(e[t>>2]|0)+36>>2]&7](t,n,s)}function Tte(t,n){t=t|0,n=n|0}function wte(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;R[t+171>>0]=1,e[t+60>>2]=e[n>>2],e[t+60+4>>2]=e[n+4>>2],e[t+60+8>>2]=e[n+8>>2],e[t+60+12>>2]=e[n+12>>2],s=+i[t+60>>2],o=+i[t+64>>2],l=+i[t+68>>2],a=+ot(+(s*s+o*o+l*l)),a>11920928955078125e-23?(u=s*(1/a),o=o*(1/a),s=l*(1/a),n=e[t+72>>2]|0):(u=0,o=0,s=0,n=0),i[t+76>>2]=u,i[t+80>>2]=o,i[t+84>>2]=s,e[t+88>>2]=n}function Mte(t,n,s){t=t|0,n=n|0,s=+s;var o=0,a=0,l=0,u=0,p=0;R[t+171>>0]=0,e[t+60>>2]=e[n>>2],e[t+60+4>>2]=e[n+4>>2],e[t+60+8>>2]=e[n+8>>2],e[t+60+12>>2]=e[n+12>>2],o=+i[t+60>>2],a=+i[t+64>>2],u=+i[t+68>>2],l=+ot(+(o*o+a*a+u*u)),l>11920928955078125e-23?(p=o*(1/l),a=a*(1/l),o=u*(1/l),n=e[t+72>>2]|0):(p=0,a=0,o=0,n=0),i[t+76>>2]=p,i[t+80>>2]=a,i[t+84>>2]=o,e[t+88>>2]=n,i[t+172>>2]=+i[t+172>>2]+s}function Rte(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;if(i[t+16>>2]=0,i[t+20>>2]=0,R[t+168>>0]=0,R[t+169>>0]=0,i[t+172>>2]=0,e[t+60>>2]=0,e[t+60+4>>2]=0,e[t+60+8>>2]=0,e[t+60+12>>2]=0,t=e[(e[t+8>>2]|0)+308>>2]|0,!((e[(Tt[e[(e[t>>2]|0)+28>>2]&127](t)|0)+4>>2]|0)<=0))do o=e[t>>2]|0,a=e[o+12>>2]|0,o=e[e[(Tt[e[o+28>>2]&127](t)|0)+12>>2]>>2]|0,s=e[(e[(Tt[e[(e[t>>2]|0)+28>>2]&127](t)|0)+12>>2]|0)+4>>2]|0,q2[a&31](t,o,s,e[n+24>>2]|0)|0;while((e[(Tt[e[(e[t>>2]|0)+28>>2]&127](t)|0)+4>>2]|0)>0)}function Ate(t,n){t=t|0,n=n|0;var s=0;s=H,H=H+16|0,e[s>>2]=e[n>>2],e[s+4>>2]=e[n+4>>2],e[s+8>>2]=e[n+8>>2],e[s+12>>2]=e[n+12>>2],t=e[t+8>>2]|0,e[t+284>>2]=(e[t+284>>2]|0)+1,e[t+4>>2]=1065353216,e[t+8>>2]=0,e[t+8+4>>2]=0,e[t+8+8>>2]=0,e[t+8+12>>2]=0,e[t+24>>2]=1065353216,e[t+28>>2]=0,e[t+28+4>>2]=0,e[t+28+8>>2]=0,e[t+28+12>>2]=0,e[t+44>>2]=1065353216,e[t+48>>2]=0,e[t+52>>2]=e[s>>2],e[t+52+4>>2]=e[s+4>>2],e[t+52+8>>2]=e[s+8>>2],e[t+52+12>>2]=e[s+12>>2],H=s}function Ete(t,n){t=t|0,n=n|0,R[t+148>>0]=0,nu(t,n)|0&&(R[t+148>>0]=1,nu(t,n)|0)&&(R[t+148>>0]=1,nu(t,n)|0)&&(R[t+148>>0]=1,nu(t,n)|0)&&(R[t+148>>0]=1,nu(t,n)|0)&&(R[t+148>>0]=1),n=(e[t+8>>2]|0)+52|0,e[t+92>>2]=e[n>>2],e[t+92+4>>2]=e[n+4>>2],e[t+92+8>>2]=e[n+8>>2],e[t+92+12>>2]=e[n+12>>2],Xp(t+112|0,n|0,16)|0}function nu(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0;if(E=H,H=H+96|0,w=e[t+12>>2]|0,Kt[e[(e[w>>2]|0)+8>>2]&127](w,(e[t+8>>2]|0)+4|0,E+80|0,E+64|0),w=e[n+68>>2]|0,Zi[e[(e[w>>2]|0)+16>>2]&31](w,e[(e[t+8>>2]|0)+188>>2]|0,E+80|0,E+64|0,e[n+24>>2]|0),w=e[n+24>>2]|0,Kt[e[(e[w>>2]|0)+32>>2]&127](w,e[(e[t+8>>2]|0)+308>>2]|0,n+28|0,w),w=e[t+8>>2]|0,e[t+92>>2]=e[w+52>>2],e[t+92+4>>2]=e[w+52+4>>2],e[t+92+8>>2]=e[w+52+8>>2],e[t+92+12>>2]=e[w+52+12>>2],w=e[w+308>>2]|0,(Tt[e[(e[w>>2]|0)+36>>2]&127](w)|0)>0){w=0,a=0,n=0;do{if(s=e[t+132>>2]|0,(s|0)<0){(e[t+136>>2]|0)<0&&(o=e[t+140>>2]|0,o|0&&(R[t+144>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+140>>2]=0),R[t+144>>0]=1,e[t+140>>2]=0,e[t+136>>2]=0);do e[(e[t+140>>2]|0)+(s<<2)>>2]=0,s=s+1|0;while((s|0)!=0)}e[t+132>>2]=0,s=e[(e[t+8>>2]|0)+308>>2]|0,s=e[(Tt[e[(e[s>>2]|0)+28>>2]&127](s)|0)+12>>2]|0,C=e[e[s+(w<<4)>>2]>>2]|0,o=e[e[s+(w<<4)+4>>2]>>2]|0,(C|0)!=0&&(e[C+204>>2]&4|0)!=0||(M=14);do if((M|0)==14){if(M=0,o|0&&e[o+204>>2]&4|0)break;if(s=e[s+(w<<4)+8>>2]|0,s|0&&zt[e[(e[s>>2]|0)+16>>2]&127](s,t+128|0),S=e[t+132>>2]|0,(S|0)>0){m=e[t+140>>2]|0,g=e[t+8>>2]|0,C=0;do{if(h=e[m+(C<<2)>>2]|0,d=(e[h+740>>2]|0)==(g|0)?-1:1,s=e[h+748>>2]|0,(s|0)>0){p=0;do u=+i[h+4+(p*184|0)+80>>2],u<0&&(l=h+4+(p*184|0)+64|0,u<a?(n=h+4+(p*184|0)+68|0,D=d*+i[n>>2],o=h+4+(p*184|0)+72|0,a=d*+i[o>>2],i[t+152>>2]=d*+i[l>>2],i[t+156>>2]=D,i[t+160>>2]=a,i[t+164>>2]=0,s=e[h+748>>2]|0,a=u):(n=h+4+(p*184|0)+68|0,o=h+4+(p*184|0)+72|0),b=u*(d*+i[n>>2])*.20000000298023224,D=u*(d*+i[o>>2])*.20000000298023224,i[t+92>>2]=u*(d*+i[l>>2])*.20000000298023224+ +i[t+92>>2],i[t+96>>2]=b+ +i[t+96>>2],i[t+100>>2]=D+ +i[t+100>>2],n=1),p=p+1|0;while((p|0)<(s|0))}C=C+1|0}while((C|0)!=(S|0))}}while(!1);w=w+1|0,C=e[(e[t+8>>2]|0)+308>>2]|0}while((w|0)<(Tt[e[(e[C>>2]|0)+36>>2]&127](C)|0))}else n=0;return M=e[t+8>>2]|0,e[E>>2]=e[M+4>>2],e[E+4>>2]=e[M+4+4>>2],e[E+8>>2]=e[M+4+8>>2],e[E+12>>2]=e[M+4+12>>2],e[E+16>>2]=e[M+20>>2],e[E+16+4>>2]=e[M+20+4>>2],e[E+16+8>>2]=e[M+20+8>>2],e[E+16+12>>2]=e[M+20+12>>2],e[E+32>>2]=e[M+36>>2],e[E+32+4>>2]=e[M+36+4>>2],e[E+32+8>>2]=e[M+36+8>>2],e[E+32+12>>2]=e[M+36+12>>2],e[E+48>>2]=e[t+92>>2],e[E+48+4>>2]=e[t+92+4>>2],e[E+48+8>>2]=e[t+92+8>>2],e[E+48+12>>2]=e[t+92+12>>2],e[M+284>>2]=(e[M+284>>2]|0)+1,e[M+4>>2]=e[E>>2],e[M+4+4>>2]=e[E+4>>2],e[M+4+8>>2]=e[E+8>>2],e[M+4+12>>2]=e[E+12>>2],e[M+20>>2]=e[E+16>>2],e[M+20+4>>2]=e[E+16+4>>2],e[M+20+8>>2]=e[E+16+8>>2],e[M+20+12>>2]=e[E+16+12>>2],e[M+36>>2]=e[E+32>>2],e[M+36+4>>2]=e[E+32+4>>2],e[M+36+8>>2]=e[E+32+8>>2],e[M+36+12>>2]=e[E+32+12>>2],e[M+52>>2]=e[E+48>>2],e[M+52+4>>2]=e[E+48+4>>2],e[M+52+8>>2]=e[E+48+8>>2],e[M+52+12>>2]=e[E+48+12>>2],H=E,n|0}function Nte(t,n,s){t=t|0,n=n|0,s=+s;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;if(w=H,H=H+528|0,!(R[t+171>>0]|0)){if(+i[t+172>>2]<=0){H=w;return}if(a=+i[t+60>>2],g=+i[t+64>>2],S=+i[t+68>>2],a*a+g*g+S*S<14210854715202004e-30){H=w;return}}if(R[t+168>>0]=(Tt[e[(e[t>>2]|0)+48>>2]&127](t)|0)&1,a=+i[t+16>>2]-+i[t+44>>2]*s,i[t+16>>2]=a,a>0&&(l=+i[t+28>>2],a>l)&&(i[t+16>>2]=l,a=l),a<0&&(S=+ht(+a),p=+ht(+ +i[t+24>>2]),S>p)&&(i[t+16>>2]=-p,a=-p),i[t+20>>2]=a*s,o=e[t+8>>2]|0,e[w>>2]=e[o+4>>2],e[w+4>>2]=e[o+4+4>>2],e[w+8>>2]=e[o+4+8>>2],e[w+12>>2]=e[o+4+12>>2],e[w+16>>2]=e[o+20>>2],e[w+16+4>>2]=e[o+20+4>>2],e[w+16+8>>2]=e[o+20+8>>2],e[w+16+12>>2]=e[o+20+12>>2],e[w+32>>2]=e[o+36>>2],e[w+32+4>>2]=e[o+36+4>>2],e[w+32+8>>2]=e[o+36+8>>2],e[w+32+12>>2]=e[o+36+12>>2],e[w+48>>2]=e[o+52>>2],e[w+48+4>>2]=e[o+52+4>>2],e[w+48+8>>2]=e[o+52+8>>2],e[w+48+12>>2]=e[o+52+12>>2],o=e[t+176>>2]|0,R[19872]|0||(R[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),p=+i[t+20>>2],p=+i[t+52>>2]+(p>0?p:0),g=+i[21192+(o<<4)+4>>2]*p+ +i[t+96>>2],S=p*+i[21192+(o<<4)+8>>2]+ +i[t+100>>2],i[t+112>>2]=+i[t+92>>2]+ +i[21192+(o<<4)>>2]*p,i[t+116>>2]=g,i[t+120>>2]=S,i[t+124>>2]=0,e[w+456>>2]=1065353216,e[w+456+4>>2]=0,e[w+456+4+4>>2]=0,e[w+456+4+8>>2]=0,e[w+456+4+12>>2]=0,e[w+456+20>>2]=1065353216,e[w+456+24>>2]=0,e[w+456+24+4>>2]=0,e[w+456+24+8>>2]=0,e[w+456+24+12>>2]=0,e[w+456+40>>2]=1065353216,o=w+456+44|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[w+392>>2]=1065353216,e[w+392+4>>2]=0,e[w+392+4+4>>2]=0,e[w+392+4+8>>2]=0,e[w+392+4+12>>2]=0,e[w+392+20>>2]=1065353216,e[w+392+24>>2]=0,e[w+392+24+4>>2]=0,e[w+392+24+8>>2]=0,e[w+392+24+12>>2]=0,e[w+392+40>>2]=1065353216,o=w+392+44|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,o=e[t+176>>2]|0,R[19872]|0||(R[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),u=e[t+12>>2]|0,p=+Ct[e[(e[u>>2]|0)+48>>2]&15](u),p=p+ +i[t+56>>2],g=p*+i[21192+(o<<4)+4>>2]+ +i[t+96>>2],S=p*+i[21192+(o<<4)+8>>2]+ +i[t+100>>2],i[w+456+48>>2]=+i[21192+(o<<4)>>2]*p+ +i[t+92>>2],i[w+456+52>>2]=g,i[w+456+56>>2]=S,i[w+456+60>>2]=0,e[w+392+48>>2]=e[t+112>>2],e[w+392+48+4>>2]=e[t+112+4>>2],e[w+392+48+8>>2]=e[t+112+8>>2],e[w+392+48+12>>2]=e[t+112+12>>2],o=e[t+8>>2]|0,u=e[t+176>>2]|0,R[19872]|0||(R[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),p=-+i[21192+(u<<4)>>2],g=-+i[21192+(u<<4)+4>>2],S=-+i[21192+(u<<4)+8>>2],i[w+288+4>>2]=1,ee[w+288+8>>1]=1,ee[w+288+10>>1]=-1,m=w+288+12|0,e[w+288+76>>2]=0,e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,e[m+16>>2]=0,e[m+20>>2]=0,e[m+24>>2]=0,e[m+28>>2]=0,e[w+288>>2]=7108,e[w+288+80>>2]=o,i[w+288+84>>2]=p,i[w+288+88>>2]=g,i[w+288+92>>2]=S,i[w+288+96>>2]=0,i[w+288+100>>2]=.707099974155426,o=e[t+8>>2]|0,m=e[(e[o+188>>2]|0)+4>>2]|0,ee[w+288+8>>1]=m,ee[w+288+10>>1]=m>>>16,R[t+170>>0]|0?qf(o,e[t+12>>2]|0,w+456|0,w+392|0,w+288|0,+i[n+56>>2]):t1(n,e[t+12>>2]|0,w+456|0,w+392|0,w+288|0,0),+i[w+288+4>>2]<1){o=e[t+176>>2]|0,R[19872]|0||(R[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0);do if(+i[w+288+44>>2]*+i[21192+(o<<4)>>2]+ +i[w+288+48>>2]*+i[21192+(o<<4)+4>>2]+ +i[w+288+52>>2]*+i[21192+(o<<4)+8>>2]>0)if(a=+i[w+288+4>>2],i[t+108>>2]=+i[t+52>>2]*a,R[t+180>>0]|0){i[t+92>>2]=(1-a)*+i[t+92>>2]+a*+i[t+112>>2],i[t+96>>2]=(1-a)*+i[t+96>>2]+a*+i[t+116>>2],i[t+100>>2]=(1-a)*+i[t+100>>2]+a*+i[t+120>>2];break}else{e[t+92>>2]=e[t+112>>2],e[t+92+4>>2]=e[t+112+4>>2],e[t+92+8>>2]=e[t+112+8>>2],e[t+92+12>>2]=e[t+112+12>>2];break}while(!1);i[t+16>>2]=0,i[t+20>>2]=0}else e[t+108>>2]=e[t+52>>2],e[t+92>>2]=e[t+112>>2],e[t+92+4>>2]=e[t+112+4>>2],e[t+92+8>>2]=e[t+112+8>>2],e[t+92+12>>2]=e[t+112+12>>2];for(R[t+171>>0]|0?W6(t,n,+i[t+60>>2],+i[t+64>>2],+i[t+68>>2]):(g=+i[t+172>>2],S=g>s?s:g,i[t+172>>2]=g-s,W6(t,n,S*+i[t+60>>2],S*+i[t+64>>2],S*+i[t+68>>2])),e[w+272>>2]=e[t+112>>2],e[w+272+4>>2]=e[t+112+4>>2],e[w+272+8>>2]=e[t+112+8>>2],e[w+272+12>>2]=e[t+112+12>>2],a=+i[t+16>>2],a=(a<0?-a:0)*s,a>0&&(d=+i[t+24>>2],a>d)&&(m=ee[t+168>>1]|0,a=(m&255)<<24>>24!=0|(m&65535)<256?d:a),o=e[t+176>>2]|0,R[19872]|0||(R[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),d=a+ +i[t+108>>2],g=+i[21192+(o<<4)>>2]*d,S=d*+i[21192+(o<<4)+4>>2],d=d*+i[21192+(o<<4)+8>>2],i[t+112>>2]=+i[t+112>>2]-g,i[t+116>>2]=+i[t+116>>2]-S,i[t+120>>2]=+i[t+120>>2]-d,o=e[t+8>>2]|0,u=e[t+176>>2]|0,R[19872]|0||(R[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),h=e[t+40>>2]|0,m=w+168+4|0,i[m>>2]=1,ee[w+168+8>>1]=1,ee[w+168+10>>1]=-1,M=w+168+12|0,e[w+168+76>>2]=0,e[M>>2]=0,e[M+4>>2]=0,e[M+8>>2]=0,e[M+12>>2]=0,e[M+16>>2]=0,e[M+20>>2]=0,e[M+24>>2]=0,e[M+28>>2]=0,e[w+168>>2]=7108,e[w+168+80>>2]=o,e[w+168+84>>2]=e[21192+(u<<4)>>2],e[w+168+84+4>>2]=e[21192+(u<<4)+4>>2],e[w+168+84+8>>2]=e[21192+(u<<4)+8>>2],e[w+168+84+12>>2]=e[21192+(u<<4)+12>>2],e[w+168+100>>2]=h,o=e[t+8>>2]|0,u=e[(e[o+188>>2]|0)+4>>2]|0,ee[w+168+8>>1]=u,ee[w+168+10>>1]=u>>>16,u=e[t+176>>2]|0,R[19872]|0||(R[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),M=e[t+40>>2]|0,i[w+64+4>>2]=1,ee[w+64+8>>1]=1,ee[w+64+10>>1]=-1,h=w+64+12|0,e[w+64+76>>2]=0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,e[h+12>>2]=0,e[h+16>>2]=0,e[h+20>>2]=0,e[h+24>>2]=0,e[h+28>>2]=0,e[w+64>>2]=7108,e[w+64+80>>2]=o,e[w+64+84>>2]=e[21192+(u<<4)>>2],e[w+64+84+4>>2]=e[21192+(u<<4)+4>>2],e[w+64+84+8>>2]=e[21192+(u<<4)+8>>2],e[w+64+84+12>>2]=e[21192+(u<<4)+12>>2],e[w+64+100>>2]=M,o=e[(e[(e[t+8>>2]|0)+188>>2]|0)+4>>2]|0,ee[w+64+8>>1]=o,ee[w+64+10>>1]=o>>>16,a=+i[t+112>>2],l=+i[t+116>>2],p=+i[t+120>>2],o=0;e[w+456>>2]=1065353216,e[w+456+4>>2]=0,e[w+456+4+4>>2]=0,e[w+456+4+8>>2]=0,e[w+456+4+12>>2]=0,e[w+456+20>>2]=1065353216,e[w+456+24>>2]=0,e[w+456+24+4>>2]=0,e[w+456+24+8>>2]=0,e[w+456+24+12>>2]=0,e[w+456+40>>2]=1065353216,e[w+456+44>>2]=0,e[w+392>>2]=1065353216,e[w+392+4>>2]=0,e[w+392+4+4>>2]=0,e[w+392+4+8>>2]=0,e[w+392+4+12>>2]=0,e[w+392+20>>2]=1065353216,e[w+392+24>>2]=0,e[w+392+24+4>>2]=0,e[w+392+24+8>>2]=0,e[w+392+24+12>>2]=0,e[w+392+40>>2]=1065353216,e[w+392+44>>2]=0,e[w+288>>2]=1065353216,e[w+288+4>>2]=0,e[w+288+4+4>>2]=0,e[w+288+4+8>>2]=0,e[w+288+4+12>>2]=0,e[w+288+20>>2]=1065353216,e[w+288+24>>2]=0,e[w+288+24+4>>2]=0,e[w+288+24+8>>2]=0,e[w+288+24+12>>2]=0,e[w+288+40>>2]=1065353216,e[w+288+44>>2]=0,e[w+288+44+4>>2]=0,e[w+288+44+8>>2]=0,e[w+456+48>>2]=e[t+92>>2],e[w+456+48+4>>2]=e[t+92+4>>2],e[w+456+48+8>>2]=e[t+92+8>>2],e[w+456+48+12>>2]=e[t+92+12>>2],e[w+392+48>>2]=e[t+112>>2],e[w+392+48+4>>2]=e[t+112+4>>2],e[w+392+48+8>>2]=e[t+112+8>>2],e[w+392+48+12>>2]=e[t+112+12>>2],i[w+288+48>>2]=a-g,i[w+288+52>>2]=l-S,i[w+288+56>>2]=p-d,i[w+288+60>>2]=0,R[t+170>>0]|0?(qf(e[t+8>>2]|0,e[t+12>>2]|0,w+456|0,w+392|0,w+168|0,+i[n+56>>2]),+i[m>>2]<1||qf(e[t+8>>2]|0,e[t+12>>2]|0,w+456|0,w+288|0,w+64|0,+i[n+56>>2])):(t1(n,e[t+12>>2]|0,w+456|0,w+392|0,w+168|0,+i[n+56>>2]),+i[m>>2]<1||t1(n,e[t+12>>2]|0,w+456|0,w+288|0,w+64|0,+i[n+56>>2])),l=+i[t+16>>2],l=(l<0?-l:0)*s,h=(R[t+182>>0]|0)==0,!h&&+i[m>>2]<1?u=1:u=+i[w+64+4>>2]<1,!(!(l>0)||(a=+i[t+52>>2],o|(!(l<a)|u^1)));){if(M=ee[t+168>>1]|0,!((M&255)<<24>>24!=0|(M&65535)<256)){o=0;break}e[t+112>>2]=e[w+272>>2],e[t+112+4>>2]=e[w+272+4>>2],e[t+112+8>>2]=e[w+272+8>>2],e[t+112+12>>2]=e[w+272+12>>2],o=e[t+176>>2]|0,R[19872]|0||(R[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),a=a+ +i[t+108>>2],l=a*+i[21192+(o<<4)+4>>2],p=a*+i[21192+(o<<4)+8>>2],a=+i[t+112>>2]-+i[21192+(o<<4)>>2]*a,i[t+112>>2]=a,l=+i[t+116>>2]-l,i[t+116>>2]=l,p=+i[t+120>>2]-p,i[t+120>>2]=p,o=1}if(p=+i[m>>2],o|p<1){a=+i[t+96>>2],l=(a-+i[w+168+64>>2])*.5;do if(h)i[t+92>>2]=(1-p)*+i[t+92>>2]+p*+i[t+112>>2],i[t+96>>2]=(1-p)*a+p*+i[t+116>>2],i[t+100>>2]=(1-p)*+i[t+100>>2]+p*+i[t+120>>2],o=t+181|0;else if(R[t+181>>0]|0){i[t+92>>2]=(1-p)*+i[t+92>>2]+p*+i[t+112>>2],i[t+96>>2]=(1-p)*a+p*+i[t+116>>2],i[t+100>>2]=(1-p)*+i[t+100>>2]+p*+i[t+120>>2],o=t+181|0;break}else{i[t+92>>2]=(1-l)*+i[t+92>>2]+l*+i[t+112>>2],i[t+96>>2]=(1-l)*a+l*+i[t+116>>2],i[t+100>>2]=(1-l)*+i[t+100>>2]+l*+i[t+120>>2],o=t+181|0;break}while(!1);R[o>>0]=0,i[t+16>>2]=0,i[t+20>>2]=0,R[t+169>>0]=0}else R[t+181>>0]=1,!h&&(C=+i[t+24>>2],l>C)&&(M=ee[t+168>>1]|0,(M&255)<<24>>24!=0|(M&65535)<256)&&(i[t+112>>2]=g+ +i[t+112>>2],i[t+116>>2]=S+ +i[t+116>>2],i[t+120>>2]=d+ +i[t+120>>2],o=e[t+176>>2]|0,R[19872]|0||(R[19872]=1,e[5298]=1065353216,e[5299]=0,e[5300]=0,e[5301]=0,e[5302]=0,e[5303]=1065353216,e[5304]=0,e[5305]=0,e[5306]=0,e[5307]=0,e[5308]=1065353216,i[5309]=0),S=C+ +i[t+108>>2],s=S*+i[21192+(o<<4)+4>>2],C=S*+i[21192+(o<<4)+8>>2],i[t+112>>2]=+i[t+112>>2]-+i[21192+(o<<4)>>2]*S,i[t+116>>2]=+i[t+116>>2]-s,i[t+120>>2]=+i[t+120>>2]-C),e[t+92>>2]=e[t+112>>2],e[t+92+4>>2]=e[t+112+4>>2],e[t+92+8>>2]=e[t+112+8>>2],e[t+92+12>>2]=e[t+112+12>>2];e[w+48>>2]=e[t+92>>2],e[w+48+4>>2]=e[t+92+4>>2],e[w+48+8>>2]=e[t+92+8>>2],e[w+48+12>>2]=e[t+92+12>>2],M=e[t+8>>2]|0,e[M+284>>2]=(e[M+284>>2]|0)+1,e[M+4>>2]=e[w>>2],e[M+4+4>>2]=e[w+4>>2],e[M+4+8>>2]=e[w+8>>2],e[M+4+12>>2]=e[w+12>>2],e[M+20>>2]=e[w+16>>2],e[M+20+4>>2]=e[w+16+4>>2],e[M+20+8>>2]=e[w+16+8>>2],e[M+20+12>>2]=e[w+16+12>>2],e[M+36>>2]=e[w+32>>2],e[M+36+4>>2]=e[w+32+4>>2],e[M+36+8>>2]=e[w+32+8>>2],e[M+36+12>>2]=e[w+32+12>>2],e[M+52>>2]=e[w+48>>2],e[M+52+4>>2]=e[w+48+4>>2],e[M+52+8>>2]=e[w+48+8>>2],e[M+52+12>>2]=e[w+48+12>>2],H=w}function bte(t){t=t|0,ye(t)}function Dte(t,n){return t=t|0,n=n|0,n=e[n+4>>2]|0,(ee[t+10>>1]&(n&65535))<<16>>16?(t=(n>>>16&65535&ee[t+8>>1])<<16>>16!=0,t|0):(t=0,t|0)}function Ite(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;return u=e[n>>2]|0,(u|0)==(e[t+80>>2]|0)||e[u+204>>2]&4|0||(l=+i[n+8>>2],a=+i[n+12>>2],o=+i[n+16>>2],s?(p=l,h=a):(p=+i[u+4>>2]*l+ +i[u+8>>2]*a+ +i[u+12>>2]*o,h=l*+i[u+20>>2]+a*+i[u+24>>2]+o*+i[u+28>>2],o=l*+i[u+36>>2]+a*+i[u+40>>2]+o*+i[u+44>>2]),p*+i[t+84>>2]+h*+i[t+88>>2]+o*+i[t+92>>2]<+i[t+100>>2])?(h=1,+h):(e[t+4>>2]=e[n+40>>2],e[t+76>>2]=u,s?(e[t+44>>2]=e[n+8>>2],e[t+44+4>>2]=e[n+8+4>>2],e[t+44+8>>2]=e[n+8+8>>2],e[t+44+12>>2]=e[n+8+12>>2]):(o=+i[n+8>>2],a=+i[n+12>>2],l=+i[n+16>>2],p=o*+i[u+20>>2]+a*+i[u+24>>2]+l*+i[u+28>>2],h=o*+i[u+36>>2]+a*+i[u+40>>2]+l*+i[u+44>>2],i[t+44>>2]=+i[u+4>>2]*o+ +i[u+8>>2]*a+ +i[u+12>>2]*l,i[t+48>>2]=p,i[t+52>>2]=h,i[t+56>>2]=0),e[t+60>>2]=e[n+24>>2],e[t+60+4>>2]=e[n+24+4>>2],e[t+60+8>>2]=e[n+24+8>>2],e[t+60+12>>2]=e[n+24+12>>2],h=+i[n+40>>2],+h)}function W6(t,n,s,o,a){t=t|0,n=n|0,s=+s,o=+o,a=+a;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0;for(g=H,H=H+240|0,d=+i[t+96>>2]+o,m=+i[t+100>>2]+a,i[t+112>>2]=+i[t+92>>2]+s,i[t+116>>2]=d,i[t+120>>2]=m,i[t+124>>2]=0,e[g+168>>2]=1065353216,e[g+168+4>>2]=0,e[g+168+4+4>>2]=0,e[g+168+4+8>>2]=0,e[g+168+4+12>>2]=0,e[g+168+20>>2]=1065353216,e[g+168+24>>2]=0,e[g+168+24+4>>2]=0,e[g+168+24+8>>2]=0,e[g+168+24+12>>2]=0,e[g+168+40>>2]=1065353216,l=g+168+44|0,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,e[l+16>>2]=0,e[g+104>>2]=1065353216,e[g+104+4>>2]=0,e[g+104+4+4>>2]=0,e[g+104+4+8>>2]=0,e[g+104+4+12>>2]=0,e[g+104+20>>2]=1065353216,e[g+104+24>>2]=0,e[g+104+24+4>>2]=0,e[g+104+24+8>>2]=0,e[g+104+24+12>>2]=0,e[g+104+40>>2]=1065353216,l=g+104+44|0,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,e[l+16>>2]=0,m=1,l=10;;){if((l|0)<=0){l=14;break}if(l=l+-1|0,e[g+168+48>>2]=e[t+92>>2],e[g+168+48+4>>2]=e[t+92+4>>2],e[g+168+48+8>>2]=e[t+92+8>>2],e[g+168+48+12>>2]=e[t+92+12>>2],e[g+104+48>>2]=e[t+112>>2],e[g+104+48+4>>2]=e[t+112+4>>2],e[g+104+48+8>>2]=e[t+112+8>>2],e[g+104+48+12>>2]=e[t+112+12>>2],h=+i[t+92>>2]-+i[t+112>>2],d=+i[t+96>>2]-+i[t+116>>2],s=+i[t+100>>2]-+i[t+120>>2],S=e[t+8>>2]|0,i[g+4>>2]=1,ee[g+8>>1]=1,ee[g+10>>1]=-1,e[g+76>>2]=0,e[g+12>>2]=0,e[g+12+4>>2]=0,e[g+12+8>>2]=0,e[g+12+12>>2]=0,e[g+12+16>>2]=0,e[g+12+20>>2]=0,e[g+12+24>>2]=0,e[g+12+28>>2]=0,e[g>>2]=7108,e[g+80>>2]=S,i[g+84>>2]=h,i[g+88>>2]=d,i[g+92>>2]=s,i[g+96>>2]=0,i[g+100>>2]=0,S=e[(e[S+188>>2]|0)+4>>2]|0,ee[g+8>>1]=S,ee[g+10>>1]=S>>>16,S=e[t+12>>2]|0,s=+Ct[e[(e[S>>2]|0)+48>>2]&15](S),S=e[t+12>>2]|0,m2[e[(e[S>>2]|0)+44>>2]&31](S,s+ +i[t+56>>2]),R[t+170>>0]|0?qf(e[t+8>>2]|0,e[t+12>>2]|0,g+168|0,g+104|0,g,+i[n+56>>2]):t1(n,e[t+12>>2]|0,g+168|0,g+104|0,g,+i[n+56>>2]),S=e[t+12>>2]|0,m2[e[(e[S>>2]|0)+44>>2]&31](S,s),d=+i[g+4>>2],m=m-d,d<1){if(o=+i[t+112>>2],p=+i[t+92>>2],a=+i[t+116>>2],h=+i[t+96>>2],u=+i[t+120>>2],d=+i[t+100>>2],s=+ot(+((o-p)*(o-p)+(a-h)*(a-h)+(u-d)*(u-d))),s>11920928955078125e-23&&(E=+i[g+44>>2],w=+i[g+48>>2],b=+i[g+52>>2],D=((o-p)*(1/s)*E+(a-h)*(1/s)*w+(u-d)*(1/s)*b)*2,M=(o-p)*(1/s)-E*D,C=(a-h)*(1/s)-w*D,D=(u-d)*(1/s)-b*D,u=1/+ot(+(D*D+(M*M+C*C))),e[t+112>>2]=e[t+92>>2],e[t+112+4>>2]=e[t+92+4>>2],e[t+112+8>>2]=e[t+92+8>>2],e[t+112+12>>2]=e[t+92+12>>2],o=s*(u*M-E*(b*(u*D)+(E*(u*M)+w*(u*C))))+ +i[t+112>>2],i[t+112>>2]=o,a=s*(u*C-w*(b*(u*D)+(E*(u*M)+w*(u*C))))+ +i[t+116>>2],i[t+116>>2]=a,u=s*(u*D-b*(b*(u*D)+(E*(u*M)+w*(u*C))))+ +i[t+120>>2],i[t+120>>2]=u),s=a,a=o-p,o=s-h,s=u-d,!(a*a+o*o+s*s>11920928955078125e-23)){l=11;break}if(b=1/+ot(+(a*a+o*o+s*s)),+i[t+76>>2]*(a*b)+o*b*+i[t+80>>2]+s*b*+i[t+84>>2]<=0){l=11;break}}else e[t+92>>2]=e[t+112>>2],e[t+92+4>>2]=e[t+112+4>>2],e[t+92+8>>2]=e[t+112+8>>2],e[t+92+12>>2]=e[t+112+12>>2];if(!(m>.009999999776482582)){l=14;break}}if((l|0)==11){H=g;return}else if((l|0)==14){H=g;return}}function Pte(t){return t=t|0,Tt[e[(e[t>>2]|0)+48>>2]&127](t)|0}function Lte(t){t=t|0,Tt[e[(e[t>>2]|0)+40>>2]&127](t)|0&&(e[t+16>>2]=e[t+28>>2],R[t+169>>0]=1)}function kte(t){return t=t|0,+i[t+16>>2]!=0?(t=0,t|0):(t=+i[t+20>>2]==0,t|0)}function Fte(t,n){t=t|0,n=n|0,R[t+180>>0]=n&1}function Bte(t){t=t|0,e[t>>2]=7188}function Ute(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Ote(t){t=t|0}function Gte(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=+a}function Vte(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o}function zte(t){return t=t|0,52}function Wte(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Hte(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0;if(D=H,H=H+176|0,!(R[t+527>>0]|0)){H=D;return}if(i[t+36>>2]=0,i[t+520>>2]=0,i[t+516>>2]=0,e[t+576>>2]=0,e[t+576+4>>2]=0,e[t+576+8>>2]=0,e[t+576+12>>2]=0,R[t+524>>0]|0)n=t+32|0;else{for(n=e[t+28>>2]|0,u=+i[t+348>>2],p=+i[t+352>>2],C=+i[t+356>>2],M=u*+i[n+20>>2]+p*+i[n+24>>2]+C*+i[n+28>>2]+ +i[n+56>>2],l=e[t+32>>2]|0,h=+i[t+412>>2],d=+i[t+416>>2],w=+i[t+420>>2],m=+i[l+52>>2],s=+i[l+56>>2],E=h*+i[l+20>>2]+d*+i[l+24>>2]+w*+i[l+28>>2]+s,g=h*+i[l+36>>2]+d*+i[l+40>>2]+w*+i[l+44>>2]+ +i[l+60>>2],S=u*+i[n+4>>2]+p*+i[n+8>>2]+C*+i[n+12>>2]+ +i[n+52>>2],C=u*+i[n+36>>2]+p*+i[n+40>>2]+C*+i[n+44>>2]+ +i[n+60>>2],w=h*+i[l+4>>2]+d*+i[l+8>>2]+w*+i[l+12>>2]+m,(w-S)*(w-S)+(E-M)*(E-M)+(g-C)*(g-C)>11920928955078125e-23?(a=1/+ot(+((w-S)*(w-S)+(E-M)*(E-M)+(g-C)*(g-C))),i[D+128>>2]=(w-S)*a,i[D+128+4>>2]=(E-M)*a,i[D+128+8>>2]=(g-C)*a,e[D+128+12>>2]=0,u=(g-C)*a,o=(E-M)*a,a=(w-S)*a):(e[D+128>>2]=1065353216,e[D+128+4>>2]=0,e[D+128+8>>2]=0,i[D+128+12>>2]=0,u=0,o=0,a=1),+ht(+u)>.7071067690849304?(B=u*u+o*o,b=1/+ot(+B),h=-(b*u),u=b*o,d=-(u*a),p=a*h,o=B*b,a=u,u=0):(h=a*a+o*o,p=1/+ot(+h),B=-(o*p),o=p*a,d=u*B,p=h*p,h=o,o=-(o*u),a=0,u=B),i[D+128+16>>2]=u,i[D+128+20>>2]=h,i[D+128+24>>2]=a,i[D+128+32>>2]=o,i[D+128+36>>2]=d,i[D+128+40>>2]=p,o=m,n=0;L=e[t+28>>2]|0,e[D+80>>2]=e[L+4>>2],e[D+80+4>>2]=e[L+20>>2],e[D+80+8>>2]=e[L+36>>2],i[D+80+12>>2]=0,e[D+80+16>>2]=e[L+8>>2],e[D+80+20>>2]=e[L+24>>2],e[D+80+24>>2]=e[L+40>>2],i[D+80+28>>2]=0,e[D+80+32>>2]=e[L+12>>2],e[D+80+36>>2]=e[L+28>>2],e[D+80+40>>2]=e[L+44>>2],i[D+80+44>>2]=0,e[D+32>>2]=e[l+4>>2],e[D+32+4>>2]=e[l+20>>2],e[D+32+8>>2]=e[l+36>>2],i[D+32+12>>2]=0,e[D+32+16>>2]=e[l+8>>2],e[D+32+20>>2]=e[l+24>>2],e[D+32+24>>2]=e[l+40>>2],i[D+32+28>>2]=0,e[D+32+32>>2]=e[l+12>>2],e[D+32+36>>2]=e[l+28>>2],e[D+32+40>>2]=e[l+44>>2],i[D+32+44>>2]=0,b=M-+i[L+56>>2],B=C-+i[L+60>>2],i[D+16>>2]=S-+i[L+52>>2],i[D+16+4>>2]=b,i[D+16+8>>2]=B,i[D+16+12>>2]=0,B=g-+i[l+60>>2],i[D>>2]=w-o,i[D+4>>2]=E-s,i[D+8>>2]=B,i[D+12>>2]=0,L=e[t+28>>2]|0,l=e[t+32>>2]|0,Wf(t+48+(n*84|0)|0,D+80|0,D+32|0,D+16|0,D,D+128+(n<<4)|0,L+420|0,+i[L+368>>2],l+420|0,+i[l+368>>2]),n=n+1|0,(n|0)!=3;)L=e[t+32>>2]|0,l=L,o=+i[L+52>>2],s=+i[L+56>>2];n=t+32|0}l=e[t+28>>2]|0,L=e[n>>2]|0,dh(t,l+4|0,L+4|0,l+288|0,L+288|0),H=D}function Wf(t,n,s,o,a,l,u,p,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=+p,h=h|0,d=+d;var m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0;e[t>>2]=e[l>>2],e[t+4>>2]=e[l+4>>2],e[t+8>>2]=e[l+8>>2],e[t+12>>2]=e[l+12>>2],E=+i[o+4>>2],B=+i[t+8>>2],L=+i[o+8>>2],C=+i[t+4>>2],m=+i[t>>2],M=+i[o>>2],b=(E*B-L*C)*+i[n>>2]+ +i[n+4>>2]*(L*m-B*M)+(C*M-E*m)*+i[n+8>>2],D=(E*B-L*C)*+i[n+16>>2]+(L*m-B*M)*+i[n+20>>2]+(C*M-E*m)*+i[n+24>>2],E=(E*B-L*C)*+i[n+32>>2]+(L*m-B*M)*+i[n+36>>2]+(C*M-E*m)*+i[n+40>>2],i[t+16>>2]=b,i[t+20>>2]=D,i[t+24>>2]=E,i[t+28>>2]=0,M=+i[a+4>>2],L=+i[a+8>>2],g=+i[a>>2],w=+i[s>>2]*(M*-B-L*-C)+ +i[s+4>>2]*(L*-m-g*-B)+(g*-C-M*-m)*+i[s+8>>2],S=(M*-B-L*-C)*+i[s+16>>2]+(L*-m-g*-B)*+i[s+20>>2]+(g*-C-M*-m)*+i[s+24>>2],m=(M*-B-L*-C)*+i[s+32>>2]+(L*-m-g*-B)*+i[s+36>>2]+(g*-C-M*-m)*+i[s+40>>2],i[t+32>>2]=w,i[t+36>>2]=S,i[t+40>>2]=m,i[t+44>>2]=0,b=+i[u>>2]*b,D=+i[u+4>>2]*D,E=+i[u+8>>2]*E,i[t+48>>2]=b,i[t+52>>2]=D,i[t+56>>2]=E,i[t+60>>2]=0,M=+i[h>>2]*w,C=+i[h+4>>2]*S,g=+i[h+8>>2]*m,i[t+64>>2]=M,i[t+68>>2]=C,i[t+72>>2]=g,i[t+76>>2]=0,i[t+80>>2]=b*+i[t+16>>2]+D*+i[t+20>>2]+E*+i[t+24>>2]+p+d+(M*w+C*S+g*m)}function dh(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,st=0,mt=0,lt=0,_t=0,bt=0,rt=0,Ce=0,kt=0,it=0;if(_t=H,H=H+144|0,i[t+504>>2]=0,i[t+500>>2]=0,R[t+525>>0]=0,R[t+526>>0]=0,R[t+552>>0]|0&&(R[t+527>>0]|0)==0){it=+i[t+556>>2],Ce=+i[t+560>>2],lt=+i[t+564>>2],rt=+i[t+568>>2],Se=it*(2/(it*it+Ce*Ce+lt*lt+rt*rt)),kt=Ce*(2/(it*it+Ce*Ce+lt*lt+rt*rt)),bt=lt*(2/(it*it+Ce*Ce+lt*lt+rt*rt)),ge=+i[t+300>>2],oe=+i[n>>2],ke=+i[t+316>>2],ae=+i[n+4>>2],Ae=+i[t+332>>2],xe=+i[n+8>>2],He=+i[t+304>>2],Ze=+i[t+320>>2],st=+i[t+336>>2],Te=+i[t+308>>2],we=+i[t+324>>2],Ne=+i[t+340>>2],ve=+i[n+16>>2],de=+i[n+20>>2],fe=+i[n+24>>2],Ke=+i[n+32>>2],ut=+i[n+36>>2],mt=+i[n+40>>2],D=+i[t+348>>2],E=+i[t+352>>2],M=+i[t+356>>2],F=+i[t+364>>2],h=+i[s>>2],P=+i[t+380>>2],d=+i[s+4>>2],U=+i[t+396>>2],p=+i[s+8>>2],G=+i[t+368>>2],O=+i[t+384>>2],z=+i[t+400>>2],b=+i[t+372>>2],B=+i[t+388>>2],L=+i[t+404>>2],g=+i[s+16>>2],S=+i[s+20>>2],u=+i[s+24>>2],Y=+i[s+32>>2],q=+i[s+36>>2],ne=+i[s+40>>2],$=+i[t+412>>2],X=+i[t+416>>2],l=+i[t+420>>2],te=(1-(Ce*kt+lt*bt))*(F*h+P*d+U*p)+(it*kt+rt*bt)*(h*G+d*O+p*z)+(it*bt-rt*kt)*(h*b+d*B+p*L),_e=(it*kt-rt*bt)*(F*h+P*d+U*p)+(1-(it*Se+lt*bt))*(h*G+d*O+p*z)+(Ce*bt+rt*Se)*(h*b+d*B+p*L),W=(it*bt+rt*kt)*(F*h+P*d+U*p)+(Ce*bt-rt*Se)*(h*G+d*O+p*z)+(1-(it*Se+Ce*kt))*(h*b+d*B+p*L),me=(it*bt-rt*kt)*(b*g+B*S+L*u)+((1-(Ce*kt+lt*bt))*(F*g+P*S+U*u)+(it*kt+rt*bt)*(G*g+O*S+z*u)),se=(Ce*bt+rt*Se)*(b*g+B*S+L*u)+((it*kt-rt*bt)*(F*g+P*S+U*u)+(1-(it*Se+lt*bt))*(G*g+O*S+z*u)),he=(1-(it*Se+Ce*kt))*(b*g+B*S+L*u)+((it*bt+rt*kt)*(F*g+P*S+U*u)+(Ce*bt-rt*Se)*(G*g+O*S+z*u)),qe=(it*bt-rt*kt)*(b*Y+B*q+L*ne)+((1-(Ce*kt+lt*bt))*(F*Y+P*q+U*ne)+(it*kt+rt*bt)*(G*Y+O*q+z*ne)),lt=(Ce*bt+rt*Se)*(b*Y+B*q+L*ne)+((it*kt-rt*bt)*(F*Y+P*q+U*ne)+(1-(it*Se+lt*bt))*(G*Y+O*q+z*ne)),Se=(1-(it*Se+Ce*kt))*(b*Y+B*q+L*ne)+((it*bt+rt*kt)*(F*Y+P*q+U*ne)+(Ce*bt-rt*Se)*(G*Y+O*q+z*ne)),rt=-(+i[n+48>>2]+(oe*D+ae*E+xe*M)),bt=-(ve*D+de*E+fe*M+ +i[n+52>>2]),M=-(Ke*D+ut*E+mt*M+ +i[n+56>>2]),E=(ge*oe+ke*ae+Ae*xe)*rt+(ge*ve+ke*de+Ae*fe)*bt+(ge*Ke+ke*ut+Ae*mt)*M,D=(oe*He+ae*Ze+xe*st)*rt+(He*ve+Ze*de+st*fe)*bt+(He*Ke+Ze*ut+st*mt)*M,M=(oe*Te+ae*we+xe*Ne)*rt+(Te*ve+we*de+Ne*fe)*bt+(Te*Ke+we*ut+Ne*mt)*M,p=M*W+(E*te+D*_e)+((F*h+P*d+U*p)*0+(h*G+d*O+p*z)*0+(h*b+d*B+p*L)*0+(+i[s+48>>2]+(h*$+d*X+p*l))),u=M*he+(E*me+D*se)+((b*g+B*S+L*u)*0+((F*g+P*S+U*u)*0+(G*g+O*S+z*u)*0)+(g*$+S*X+u*l+ +i[s+52>>2])),l=M*Se+(E*qe+D*lt)+((b*Y+B*q+L*ne)*0+((F*Y+P*q+U*ne)*0+(G*Y+O*q+z*ne)*0)+(Y*$+q*X+ne*l+ +i[s+56>>2])),i[_t+80>>2]=(oe*Te+ae*we+xe*Ne)*W+((ge*oe+ke*ae+Ae*xe)*te+(oe*He+ae*Ze+xe*st)*_e),i[_t+80+4>>2]=(Te*ve+we*de+Ne*fe)*W+((ge*ve+ke*de+Ae*fe)*te+(He*ve+Ze*de+st*fe)*_e),i[_t+80+8>>2]=(Te*Ke+we*ut+Ne*mt)*W+((ge*Ke+ke*ut+Ae*mt)*te+(He*Ke+Ze*ut+st*mt)*_e),i[_t+80+12>>2]=0,i[_t+80+16>>2]=(oe*Te+ae*we+xe*Ne)*he+((ge*oe+ke*ae+Ae*xe)*me+(oe*He+ae*Ze+xe*st)*se),i[_t+80+20>>2]=(Te*ve+we*de+Ne*fe)*he+((ge*ve+ke*de+Ae*fe)*me+(He*ve+Ze*de+st*fe)*se),i[_t+80+24>>2]=(Te*Ke+we*ut+Ne*mt)*he+((ge*Ke+ke*ut+Ae*mt)*me+(He*Ke+Ze*ut+st*mt)*se),i[_t+80+28>>2]=0,i[_t+80+32>>2]=(oe*Te+ae*we+xe*Ne)*Se+((ge*oe+ke*ae+Ae*xe)*qe+(oe*He+ae*Ze+xe*st)*lt),i[_t+80+36>>2]=(Te*ve+we*de+Ne*fe)*Se+((ge*ve+ke*de+Ae*fe)*qe+(He*ve+Ze*de+st*fe)*lt),i[_t+80+40>>2]=(Te*Ke+we*ut+Ne*mt)*Se+((ge*Ke+ke*ut+Ae*mt)*qe+(He*Ke+Ze*ut+st*mt)*lt),i[_t+80+44>>2]=0,i[_t+80+48>>2]=p,i[_t+80+52>>2]=u,i[_t+80+56>>2]=l,i[_t+80+60>>2]=0,ds(_t+80|0,_t+64|0),l=+i[_t+64>>2],u=+i[_t+64+4>>2],p=+i[_t+64+8>>2],!(+ht(+(l*l+u*u+p*p))<11920928955078125e-23)&&(i[t+472>>2]=0,it=1/+ot(+(l*l+u*u+p*p)),i[t+460>>2]=l*it,i[t+464>>2]=u*it,i[t+468>>2]=p*it,it=+i[_t+64+12>>2],it=it<-1?-1:it,it=+L1(+(it>1?1:it))*2,i[t+504>>2]=it,!(+ht(+it)<11920928955078125e-23))&&(R[t+526>>0]=1),H=_t;return}ds(n,_t+48|0),ds(t+300|0,_t+32|0),xe=+i[_t+48+12>>2],ve=+i[_t+32>>2],de=+i[_t+48>>2],fe=+i[_t+32+12>>2],Te=+i[_t+48+4>>2],we=+i[_t+32+8>>2],Ne=+i[_t+48+8>>2],Se=+i[_t+32+4>>2],ds(s,_t+16|0),ds(t+364|0,_t),ge=+i[_t+16+12>>2],ke=+i[_t>>2],Ae=+i[_t+16>>2],qe=+i[_t+12>>2],He=+i[_t+16+4>>2],Ke=+i[_t+8>>2],Ze=+i[_t+16+8>>2],ut=+i[_t+4>>2],st=-(ge*ke+Ae*qe+He*Ke-Ze*ut),mt=-(ke*Ze+(qe*He+ge*ut)-Ae*Ke),lt=-(ge*Ke+qe*Ze+Ae*ut-ke*He),M=(xe*fe-ve*de-Te*Se-we*Ne)*st+(xe*ve+de*fe+Te*we-Ne*Se)*(ge*qe-ke*Ae-He*ut-Ke*Ze)+(xe*we+fe*Ne+de*Se-ve*Te)*mt-(ve*Ne+(fe*Te+xe*Se)-de*we)*lt,E=(xe*ve+de*fe+Te*we-Ne*Se)*lt+((ve*Ne+(fe*Te+xe*Se)-de*we)*(ge*qe-ke*Ae-He*ut-Ke*Ze)+(xe*fe-ve*de-Te*Se-we*Ne)*mt)-(xe*we+fe*Ne+de*Se-ve*Te)*st,D=(ve*Ne+(fe*Te+xe*Se)-de*we)*st+((xe*we+fe*Ne+de*Se-ve*Te)*(ge*qe-ke*Ae-He*ut-Ke*Ze)+(xe*fe-ve*de-Te*Se-we*Ne)*lt)-(xe*ve+de*fe+Te*we-Ne*Se)*mt,b=(xe*fe-ve*de-Te*Se-we*Ne)*(ge*qe-ke*Ae-He*ut-Ke*Ze)-(xe*ve+de*fe+Te*we-Ne*Se)*st-(ve*Ne+(fe*Te+xe*Se)-de*we)*mt-(xe*we+fe*Ne+de*Se-ve*Te)*lt,p=+i[5310],h=+i[5312],u=+i[5311],d=(p*D+u*b-h*M)*-D+(b*(p*b+h*E-u*D)+(-(p*M)-u*E-h*D)*-M)-(h*b+u*M-p*E)*-E,l=(h*b+u*M-p*E)*-M+(b*(p*D+u*b-h*M)+(-(p*M)-u*E-h*D)*-E)-(p*b+h*E-u*D)*-D,g=(p*b+h*E-u*D)*-E+(b*(h*b+u*M-p*E)+(-(p*M)-u*E-h*D)*-D)-(p*D+u*b-h*M)*-M,S=1/+ot(+(g*g+(d*d+l*l)));do if(h*(S*g)+(u*(S*l)+p*(S*d))<-.9999998807907104)if(+ht(+h)>.7071067690849304){l=1/+ot(+(h*h+u*u)),m=0,C=(i[Z>>2]=u*l,e[Z>>2]|0),w=0,l=-(h*l);break}else{l=1/+ot(+(p*p+u*u)),m=(i[Z>>2]=-(u*l),e[Z>>2]|0),C=0,w=0,l=p*l;break}else it=+ot(+((h*(S*g)+(u*(S*l)+p*(S*d))+1)*2)),m=(i[Z>>2]=(u*(S*g)-h*(S*l))*(1/it),e[Z>>2]|0),C=(i[Z>>2]=(p*(S*l)-u*(S*d))*(1/it),e[Z>>2]|0),w=(i[Z>>2]=it*.5,e[Z>>2]|0),l=(h*(S*d)-p*(S*g))*(1/it);while(!1);p=(e[Z>>2]=m,+i[Z>>2]),g=(e[Z>>2]=C,+i[Z>>2]),u=(e[Z>>2]=w,+i[Z>>2]),h=1/+ot(+(p*p+l*l+g*g+u*u)),d=l*h,se=D*-d+(M*(u*h)+b*-(p*h))-E*-(g*h),oe=M*-(g*h)+(b*-d+E*(u*h))-D*-(p*h),ae=E*-(p*h)+(D*(u*h)+b*-(g*h))-M*-d,he=b*(u*h)-M*-(p*h)-E*-d-D*-(g*h),me=1/+ot(+(he*he+(ae*ae+(se*se+oe*oe)))),M=+i[t+444>>2],l=+i[t+456>>2],m=(i[Z>>2]=M,e[Z>>2]|0),M>=l&&(B=+i[t+448>>2],B>=l)?(S=u*h<-1?-1:u*h,S=+L1(+(S>1?1:S))*2,S>11920928955078125e-23?(l=1/+ot(+(g*h*(g*h)+(p*h*(p*h)+d*d))),+ht(+(d*l))>11920928955078125e-23?(it=+ot(+((g*h*l*(g*h*l)/(d*l*(d*l))+1)/(1/(B*B)+g*h*l*(g*h*l)/(d*l*(d*l))/(M*M)))),p=p*h*l,u=g*h*l,l=d*l,m=(i[Z>>2]=it,e[Z>>2]|0)):(p=p*h*l,u=g*h*l,l=d*l)):(p=0,u=0,l=0,m=0),h=(e[Z>>2]=m,+i[Z>>2]),d=+i[t+428>>2],S>h*d&&(R[t+526>>0]=1,S<h&d<.9999998807907104?g=(S-h*d)/(h-h*d):g=1,i[t+528>>2]=g,i[t+504>>2]=S-h*d,+ht(+l)>11920928955078125e-23&&(it=+ht(+(l*(-u/l*(B/M)))),u=u<-0?it:-it,it=1/+ot(+(p*p+l*l+u*u)),p=p*it,u=-(u*it),l=l*it),kt=-p,Ce=-l,bt=-u,_e=(ge*qe-ke*Ae-He*ut-Ke*Ze)*kt+(ke*Ze+(qe*He+ge*ut)-Ae*Ke)*bt-(ge*Ke+qe*Ze+Ae*ut-ke*He)*Ce,it=(ge*Ke+qe*Ze+Ae*ut-ke*He)*kt+(ge*qe-ke*Ae-He*ut-Ke*Ze)*Ce-(ge*ke+Ae*qe+He*Ke-Ze*ut)*bt,rt=(ge*ke+Ae*qe+He*Ke-Ze*ut)*Ce+(ge*qe-ke*Ae-He*ut-Ke*Ze)*bt-(ke*Ze+(qe*He+ge*ut)-Ae*Ke)*kt,bt=-((ge*ke+Ae*qe+He*Ke-Ze*ut)*kt)-(ke*Ze+(qe*He+ge*ut)-Ae*Ke)*Ce-(ge*Ke+qe*Ze+Ae*ut-ke*He)*bt,Ce=it*lt+(bt*st+(ge*qe-ke*Ae-He*ut-Ke*Ze)*_e)-rt*mt,kt=rt*st+((ge*qe-ke*Ae-He*ut-Ke*Ze)*it+bt*mt)-_e*lt,it=_e*mt+(bt*lt+(ge*qe-ke*Ae-He*ut-Ke*Ze)*rt)-it*st,i[t+460>>2]=Ce,i[t+464>>2]=kt,i[t+468>>2]=it,i[t+472>>2]=0,e[t+536>>2]=0,e[t+536+4>>2]=0,e[t+536+8>>2]=0,e[t+536+12>>2]=0,i[t+492>>2]=1/(Ce*(+i[o>>2]*Ce+ +i[o+16>>2]*kt+ +i[o+32>>2]*it)+kt*(Ce*+i[o+4>>2]+kt*+i[o+20>>2]+it*+i[o+36>>2])+it*(Ce*+i[o+8>>2]+kt*+i[o+24>>2]+it*+i[o+40>>2])+(Ce*(Ce*+i[a>>2]+kt*+i[a+16>>2]+it*+i[a+32>>2])+kt*(Ce*+i[a+4>>2]+kt*+i[a+20>>2]+it*+i[a+36>>2])+it*(Ce*+i[a+8>>2]+kt*+i[a+24>>2]+it*+i[a+40>>2]))))):pe=23;e:do if((pe|0)==23){Y=+i[t+300>>2],$=+i[t+316>>2],q=+i[t+332>>2],S=+i[n>>2],M=+i[n+4>>2],E=+i[n+8>>2],D=+i[n+16>>2],b=+i[n+20>>2],B=+i[n+24>>2],X=+i[n+32>>2],ne=+i[n+36>>2],L=+i[n+40>>2],F=+i[t+304>>2],P=+i[t+320>>2],U=+i[t+336>>2],G=+i[t+308>>2],O=+i[t+324>>2],z=+i[t+340>>2],h=+i[t+364>>2],p=+i[t+380>>2],W=+i[t+396>>2],te=h*+i[s>>2]+p*+i[s+4>>2]+W*+i[s+8>>2],_e=h*+i[s+16>>2]+p*+i[s+20>>2]+W*+i[s+24>>2],W=h*+i[s+32>>2]+p*+i[s+36>>2]+W*+i[s+40>>2],p=(Y*S+$*M+q*E)*te+(Y*D+$*b+q*B)*_e+(Y*X+$*ne+q*L)*W,h=(S*F+M*P+E*U)*te+(D*F+b*P+B*U)*_e+(X*F+ne*P+L*U)*W,g=(S*G+M*O+E*z)*te+(D*G+b*O+B*z)*_e+(X*G+ne*O+L*z)*W,u=+i[t+444>>2],l=+i[t+456>>2];do if(u<l){if(d=+i[t+448>>2],d<l){if(+ht(+h)<11920928955078125e-23&&+ht(+g)<11920928955078125e-23)break e;R[t+526>>0]=1,i[t+460>>2]=-((Y*X+$*ne+q*L)*_e-(Y*D+$*b+q*B)*W),i[t+464>>2]=-((Y*S+$*M+q*E)*W-(Y*X+$*ne+q*L)*te),i[t+468>>2]=-((Y*D+$*b+q*B)*te-(Y*S+$*M+q*E)*_e),i[t+472>>2]=0;break e}if(+ht(+p)<11920928955078125e-23&&+ht(+g)<11920928955078125e-23){u=h,l=g;break}if(R[t+526>>0]=1,d>=l){if(l=+gn(+g,+p),l>d){p=+C2(+d),u=0,l=+E2(+d);break}l<-d?(p=+C2(+d),u=0,l=-+E2(+d)):(u=0,l=g)}else u=h,l=g}else{if(+ht(+p)<11920928955078125e-23&&+ht(+h)<11920928955078125e-23){u=h,l=g;break}if(R[t+526>>0]=1,u>=l){if(l=+gn(+h,+p),l>u){p=+C2(+u),u=+E2(+u),l=0;break}l<-u?(p=+C2(+u),u=-+E2(+u),l=0):(u=h,l=0)}else u=h,l=g}while(!1);d=(S*G+M*O+E*z)*l+((S*F+M*P+E*U)*u+(Y*S+$*M+q*E)*p),h=(D*G+b*O+B*z)*l+((D*F+b*P+B*U)*u+(Y*D+$*b+q*B)*p),l=(X*G+ne*O+L*z)*l+((X*F+ne*P+L*U)*u+(Y*X+$*ne+q*L)*p),u=1/+ot(+(l*l+(d*d+h*h))),i[t+460>>2]=-(_e*(u*l)-W*(u*h)),i[t+464>>2]=-(W*(u*d)-te*(u*l)),i[t+468>>2]=-(te*(u*h)-_e*(u*d)),i[t+472>>2]=0,p=+ot(+((_e*(u*l)-W*(u*h))*(_e*(u*l)-W*(u*h))+(W*(u*d)-te*(u*l))*(W*(u*d)-te*(u*l))+(te*(u*h)-_e*(u*d))*(te*(u*h)-_e*(u*d)))),i[t+504>>2]=p,+ht(+p)<11920928955078125e-23||(i[t+460>>2]=1/p*-(_e*(u*l)-W*(u*h)),i[t+464>>2]=1/p*-(W*(u*d)-te*(u*l)),i[t+468>>2]=1/p*-(te*(u*h)-_e*(u*d)))}while(!1);if(S=+i[t+452>>2],!(S>=0)){i[t+512>>2]=0,H=_t;return}if(l=me*he<-1?-1:me*he,l=+L1(+(l>1?1:l))*2,l>3.1415927410125732?(g=-(me*he)<-1?-1:-(me*he),g=+L1(+(g>1?1:g))*2,u=-(me*se),p=-(me*oe),l=-(me*ae)):(g=l,u=me*se,p=me*oe,l=me*ae),i[t+512>>2]=g,g>11920928955078125e-23?(it=1/+ot(+(u*u+p*p+l*l)),d=u*it,h=l*it,p=p*it):(d=u,h=l),l=+i[t+428>>2],g>S*l&&(R[t+525>>0]=1,u=g-S*l,g<S&l<.9999998807907104?l=u/(S-S*l):l=1,i[t+532>>2]=l,i[t+508>>2]=u,kt=-d,Ce=-p,bt=-h,ae=(ge*qe-ke*Ae-He*ut-Ke*Ze)*kt+(ke*Ze+(qe*He+ge*ut)-Ae*Ke)*bt-(ge*Ke+qe*Ze+Ae*ut-ke*He)*Ce,it=(ge*Ke+qe*Ze+Ae*ut-ke*He)*kt+(ge*qe-ke*Ae-He*ut-Ke*Ze)*Ce-(ge*ke+Ae*qe+He*Ke-Ze*ut)*bt,rt=(ge*ke+Ae*qe+He*Ke-Ze*ut)*Ce+(ge*qe-ke*Ae-He*ut-Ke*Ze)*bt-(ke*Ze+(qe*He+ge*ut)-Ae*Ke)*kt,bt=-((ge*ke+Ae*qe+He*Ke-Ze*ut)*kt)-(ke*Ze+(qe*He+ge*ut)-Ae*Ke)*Ce-(ge*Ke+qe*Ze+Ae*ut-ke*He)*bt,Ce=it*lt+(bt*st+(ge*qe-ke*Ae-He*ut-Ke*Ze)*ae)-rt*mt,kt=rt*st+((ge*qe-ke*Ae-He*ut-Ke*Ze)*it+bt*mt)-ae*lt,it=ae*mt+(bt*lt+(ge*qe-ke*Ae-He*ut-Ke*Ze)*rt)-it*st,i[t+476>>2]=Ce,i[t+480>>2]=kt,i[t+484>>2]=it,i[t+488>>2]=0,i[t+496>>2]=1/(Ce*(+i[o>>2]*Ce+ +i[o+16>>2]*kt+ +i[o+32>>2]*it)+kt*(Ce*+i[o+4>>2]+kt*+i[o+20>>2]+it*+i[o+36>>2])+it*(Ce*+i[o+8>>2]+kt*+i[o+24>>2]+it*+i[o+40>>2])+(Ce*(Ce*+i[a>>2]+kt*+i[a+16>>2]+it*+i[a+32>>2])+kt*(Ce*+i[a+4>>2]+kt*+i[a+20>>2]+it*+i[a+36>>2])+it*(Ce*+i[a+8>>2]+kt*+i[a+24>>2]+it*+i[a+40>>2])))),!(R[t+526>>0]|0)){H=_t;return}lt=-d,it=-p,bt=-h,mt=(xe*fe-ve*de-Te*Se-we*Ne)*lt+(ve*Ne+(fe*Te+xe*Se)-de*we)*bt-(xe*we+fe*Ne+de*Se-ve*Te)*it,kt=(xe*we+fe*Ne+de*Se-ve*Te)*lt+(xe*fe-ve*de-Te*Se-we*Ne)*it-(xe*ve+de*fe+Te*we-Ne*Se)*bt,Ce=(xe*ve+de*fe+Te*we-Ne*Se)*it+(xe*fe-ve*de-Te*Se-we*Ne)*bt-(ve*Ne+(fe*Te+xe*Se)-de*we)*lt,bt=-((xe*ve+de*fe+Te*we-Ne*Se)*lt)-(ve*Ne+(fe*Te+xe*Se)-de*we)*it-(xe*we+fe*Ne+de*Se-ve*Te)*bt,it=-(xe*ve+de*fe+Te*we-Ne*Se),lt=-(ve*Ne+(fe*Te+xe*Se)-de*we),rt=-(xe*we+fe*Ne+de*Se-ve*Te),i[t+536>>2]=kt*rt+(bt*it+(xe*fe-ve*de-Te*Se-we*Ne)*mt)-Ce*lt,i[t+540>>2]=Ce*it+((xe*fe-ve*de-Te*Se-we*Ne)*kt+bt*lt)-mt*rt,i[t+544>>2]=mt*lt+(bt*rt+(xe*fe-ve*de-Te*Se-we*Ne)*Ce)-kt*it,i[t+548>>2]=0,H=_t}function jte(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;if(R[t+527>>0]|0){e[n>>2]=0,e[n+4>>2]=0;return}e[n>>2]=3,e[n+4>>2]=3,u=e[t+28>>2]|0,l=e[t+32>>2]|0,dh(t,u+4|0,l+4|0,u+288|0,l+288|0),R[t+526>>0]|0&&(s=e[n>>2]|0,e[n>>2]=s+1,o=e[n+4>>2]|0,e[n+4>>2]=o+-1,a=+i[t+456>>2],+i[t+444>>2]<a)&&+i[t+448>>2]<a&&(e[n>>2]=s+2,e[n+4>>2]=o+-2),R[t+525>>0]|0&&(e[n>>2]=(e[n>>2]|0)+1,e[n+4>>2]=(e[n+4>>2]|0)+-1)}function qte(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0;S=e[t+28>>2]|0,l=e[t+32>>2]|0,dh(t,S+4|0,l+4|0,S+288|0,l+288|0),w=e[n+8>>2]|0,i[w>>2]=1,C=e[n+24>>2]|0,i[w+(C+1<<2)>>2]=1,i[w+((C<<1)+2<<2)>>2]=1,d=+i[t+348>>2],b=+i[t+352>>2],g=+i[t+356>>2],E=+i[S+4>>2]*d+ +i[S+8>>2]*b+ +i[S+12>>2]*g,m=d*+i[S+20>>2]+b*+i[S+24>>2]+g*+i[S+28>>2],g=d*+i[S+36>>2]+b*+i[S+40>>2]+g*+i[S+44>>2],w=e[n+12>>2]|0,e[w>>2]=0,i[w+4>>2]=g,i[w+8>>2]=-m,i[w+12>>2]=0,i[w+(C<<2)>>2]=-g,e[w+(C<<2)+4>>2]=0,i[w+(C<<2)+8>>2]=E,i[w+(C<<2)+12>>2]=0,i[w+(C<<1<<2)>>2]=m,i[w+(C<<1<<2)+4>>2]=-E,e[w+(C<<1<<2)+8>>2]=0,i[w+(C<<1<<2)+12>>2]=0,w=e[n+16>>2]|0,i[w>>2]=-1,i[w+(C+1<<2)>>2]=-1,i[w+((C<<1)+2<<2)>>2]=-1,b=+i[t+412>>2],d=+i[t+416>>2],h=+i[t+420>>2],D=+i[l+4>>2]*b+ +i[l+8>>2]*d+ +i[l+12>>2]*h,p=b*+i[l+20>>2]+d*+i[l+24>>2]+h*+i[l+28>>2],h=b*+i[l+36>>2]+d*+i[l+40>>2]+h*+i[l+44>>2],C=e[n+20>>2]|0,w=e[n+24>>2]|0,e[C>>2]=0,i[C+4>>2]=-h,i[C+8>>2]=p,i[C+12>>2]=0,i[C+(w<<2)>>2]=h,e[C+(w<<2)+4>>2]=0,i[C+(w<<2)+8>>2]=-D,i[C+(w<<2)+12>>2]=0,i[C+(w<<1<<2)>>2]=-p,i[C+(w<<1<<2)+4>>2]=D,e[C+(w<<1<<2)+8>>2]=0,i[C+(w<<1<<2)+12>>2]=0,w=e[t+592>>2]|0,d=+i[((w&2|0)==0?n+4|0:t+600|0)>>2]*+i[n>>2],M=e[n+24>>2]|0,u=e[n+28>>2]|0,o=e[n+36>>2]|0,s=e[n+40>>2]|0,i[u>>2]=d*(D+ +i[l+52>>2]-E-+i[S+52>>2]),i[o>>2]=-34028234663852886e22,i[s>>2]=34028234663852886e22,w&1?(B=e[n+32>>2]|0,e[B>>2]=e[t+596>>2],i[u+(M<<2)>>2]=d*(p+ +i[l+56>>2]-m-+i[S+56>>2]),i[o+(M<<2)>>2]=-34028234663852886e22,i[s+(M<<2)>>2]=34028234663852886e22,e[B+(M<<2)>>2]=e[t+596>>2],i[u+(M<<1<<2)>>2]=d*(h+ +i[l+60>>2]-g-+i[S+60>>2]),i[o+(M<<1<<2)>>2]=-34028234663852886e22,i[s+(M<<1<<2)>>2]=34028234663852886e22,e[B+(M<<1<<2)>>2]=e[t+596>>2]):(i[u+(M<<2)>>2]=d*(p+ +i[l+56>>2]-m-+i[S+56>>2]),i[o+(M<<2)>>2]=-34028234663852886e22,i[s+(M<<2)>>2]=34028234663852886e22,i[u+(M<<1<<2)>>2]=d*(h+ +i[l+60>>2]-g-+i[S+60>>2]),i[o+(M<<1<<2)>>2]=-34028234663852886e22,i[s+(M<<1<<2)>>2]=34028234663852886e22);do if(!(R[t+526>>0]|0))l=M*3|0;else{if(l=e[n+12>>2]|0,b=+i[t+456>>2],+i[t+444>>2]<b&&+i[t+448>>2]<b){P=+i[S+4>>2],F=+i[S+8>>2],L=+i[S+12>>2],z=+i[t+304>>2],O=+i[t+320>>2],G=+i[t+336>>2],d=+i[t+308>>2],g=+i[t+324>>2],D=+i[t+340>>2],a=+i[S+20>>2],p=+i[S+24>>2],h=+i[S+28>>2],m=+i[S+36>>2],E=+i[S+40>>2],b=+i[S+44>>2],i[l+(M*3<<2)>>2]=P*z+F*O+L*G,i[l+((M*3|0)+1<<2)>>2]=z*a+O*p+G*h,i[l+((M*3|0)+2<<2)>>2]=z*m+O*E+G*b,i[l+(M<<2<<2)>>2]=P*d+F*g+L*D,i[l+((M<<2|1)<<2)>>2]=d*a+g*p+D*h,i[l+((M<<2|2)<<2)>>2]=d*m+g*E+D*b,i[C+(M*3<<2)>>2]=-(P*z+F*O+L*G),i[C+((M*3|0)+1<<2)>>2]=-(z*a+O*p+G*h),i[C+((M*3|0)+2<<2)>>2]=-(z*m+O*E+G*b),i[C+(M<<2<<2)>>2]=-(P*d+F*g+L*D),i[C+((M<<2|1)<<2)>>2]=-(d*a+g*p+D*h),i[C+((M<<2|2)<<2)>>2]=-(d*m+g*E+D*b),U=+i[n>>2]*+i[t+436>>2],u=e[n+28>>2]|0,i[u+(M*3<<2)>>2]=U*((P*z+F*O+L*G)*+i[t+460>>2]+(z*a+O*p+G*h)*+i[t+464>>2]+(z*m+O*E+G*b)*+i[t+468>>2]),i[u+(M<<2<<2)>>2]=U*((P*d+F*g+L*D)*+i[t+460>>2]+(d*a+g*p+D*h)*+i[t+464>>2]+(d*m+g*E+D*b)*+i[t+468>>2]),o=e[n+36>>2]|0,i[o+(M*3<<2)>>2]=-34028234663852886e22,s=e[n+40>>2]|0,i[s+(M*3<<2)>>2]=34028234663852886e22,i[o+(M<<2<<2)>>2]=-34028234663852886e22,i[s+(M<<2<<2)>>2]=34028234663852886e22,l=(e[n+24>>2]|0)+(M<<2)|0;break}z=+i[t+436>>2],G=z*(+i[t+460>>2]*z),O=z*(z*+i[t+464>>2]),z=z*(z*+i[t+468>>2]),i[l+(M*3<<2)>>2]=G,i[l+((M*3|0)+1<<2)>>2]=O,i[l+((M*3|0)+2<<2)>>2]=z,i[C+(M*3<<2)>>2]=-G,i[C+((M*3|0)+1<<2)>>2]=-O,i[C+((M*3|0)+2<<2)>>2]=-z,i[u+(M*3<<2)>>2]=+i[n>>2]*+i[t+432>>2]*+i[t+504>>2],w&4|0&&(e[(e[n+32>>2]|0)+(M*3<<2)>>2]=e[t+604>>2]),i[o+(M*3<<2)>>2]=0,(R[t+552>>0]|0)!=0&&(a=+i[t+572>>2],a>=0)||(a=34028234663852886e22),i[s+(M*3<<2)>>2]=a,l=M<<2}while(!1);if(R[t+525>>0]|0){if(z=+i[t+436>>2],G=z*(+i[t+476>>2]*z),O=z*(z*+i[t+480>>2]),z=z*(z*+i[t+484>>2]),C=e[n+12>>2]|0,M=e[n+20>>2]|0,i[C+(l<<2)>>2]=G,w=l+1|0,i[C+(w<<2)>>2]=O,B=l+2|0,i[C+(B<<2)>>2]=z,i[M+(l<<2)>>2]=-G,i[M+(w<<2)>>2]=-O,i[M+(B<<2)>>2]=-z,i[u+(l<<2)>>2]=+i[n>>2]*+i[t+432>>2]*+i[t+508>>2],e[t+592>>2]&4|0&&(e[(e[n+32>>2]|0)+(l<<2)>>2]=e[t+604>>2]),!(+i[t+452>>2]>0)){i[o+(l<<2)>>2]=-34028234663852886e22,i[s+(l<<2)>>2]=34028234663852886e22;return}if(o=o+(l<<2)|0,s=e[n+40>>2]|0,+i[t+508>>2]>0){i[o>>2]=0,i[s+(l<<2)>>2]=34028234663852886e22;return}else{i[o>>2]=-34028234663852886e22,i[s+(l<<2)>>2]=0;return}}}function Xte(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0;if(he=H,H=H+448|0,!(R[t+527>>0]|0)){H=he;return}if(pe=e[t+28>>2]|0,B=+i[t+348>>2],b=+i[t+352>>2],O=+i[t+356>>2],L=+i[pe+52>>2],F=B*+i[pe+4>>2]+b*+i[pe+8>>2]+O*+i[pe+12>>2]+L,P=+i[pe+56>>2],U=B*+i[pe+20>>2]+b*+i[pe+24>>2]+O*+i[pe+28>>2]+P,G=+i[pe+60>>2],O=B*+i[pe+36>>2]+b*+i[pe+40>>2]+O*+i[pe+44>>2]+G,pe=e[t+32>>2]|0,b=+i[t+412>>2],B=+i[t+416>>2],p=+i[t+420>>2],z=+i[pe+52>>2],Y=b*+i[pe+4>>2]+B*+i[pe+8>>2]+p*+i[pe+12>>2]+z,$=+i[pe+56>>2],q=b*+i[pe+20>>2]+B*+i[pe+24>>2]+p*+i[pe+28>>2]+$,u=+i[pe+60>>2],p=b*+i[pe+36>>2]+B*+i[pe+40>>2]+p*+i[pe+44>>2]+u,!(R[t+524>>0]|0)){E=+i[n+192>>2]+ +i[n+80>>2],b=+i[n+196>>2]+ +i[n+84>>2],S=+i[n+200>>2]+ +i[n+88>>2],B=+i[s+192>>2]+ +i[s+80>>2],g=+i[s+196>>2]+ +i[s+84>>2],d=+i[s+200>>2]+ +i[s+88>>2],h=+i[n+176>>2]+ +i[n+64>>2]+((O-G)*b-(U-P)*S)-(+i[s+176>>2]+ +i[s+64>>2]+((p-u)*g-(q-$)*d)),d=+i[n+180>>2]+ +i[n+68>>2]+((F-L)*S-(O-G)*E)-(+i[s+180>>2]+ +i[s+68>>2]+((Y-z)*d-(p-u)*B)),g=+i[n+184>>2]+ +i[n+72>>2]+((U-P)*E-(F-L)*b)-(+i[s+184>>2]+ +i[s+72>>2]+((q-$)*B-(Y-z)*g)),m=(e[n+240>>2]|0)==0,D=0;do B=1/+i[t+48+(D*84|0)+80>>2],C=t+48+(D*84|0)|0,b=+i[C>>2],w=t+48+(D*84|0)+4|0,E=+i[w>>2],M=t+48+(D*84|0)+8|0,S=+i[M>>2],S=B*(((F-Y)*b+(U-q)*E+(O-p)*S)*-.30000001192092896/o)-B*(h*b+d*E+g*S),i[t+36>>2]=+i[t+36>>2]+S,E=+i[M>>2],b=+i[w>>2],B=+i[C>>2],a=e[t+28>>2]|0,l=+i[a+368>>2],m||(oe=((U-P)*E-(O-G)*b)*+i[a+320>>2]+((O-G)*B-(F-L)*E)*+i[a+324>>2]+((F-L)*b-(U-P)*B)*+i[a+328>>2],me=((U-P)*E-(O-G)*b)*+i[a+304>>2]+((O-G)*B-(F-L)*E)*+i[a+308>>2]+((F-L)*b-(U-P)*B)*+i[a+312>>2],se=((U-P)*E-(O-G)*b)*+i[a+288>>2]+((O-G)*B-(F-L)*E)*+i[a+292>>2]+((F-L)*b-(U-P)*B)*+i[a+296>>2],xe=S*(b*l)*+i[n+116>>2],ae=S*(E*l)*+i[n+120>>2],i[n+64>>2]=S*(B*l)*+i[n+112>>2]+ +i[n+64>>2],i[n+68>>2]=xe+ +i[n+68>>2],i[n+72>>2]=ae+ +i[n+72>>2],me=me*(S*+i[n+100>>2]),l=oe*(S*+i[n+104>>2]),i[n+80>>2]=se*(S*+i[n+96>>2])+ +i[n+80>>2],i[n+84>>2]=me+ +i[n+84>>2],i[n+88>>2]=l+ +i[n+88>>2]),a=e[t+32>>2]|0,l=+i[a+368>>2],e[s+240>>2]|0&&(xe=((q-$)*E-(p-u)*b)*+i[a+320>>2]+((p-u)*B-(Y-z)*E)*+i[a+324>>2]+((Y-z)*b-(q-$)*B)*+i[a+328>>2],ae=((q-$)*E-(p-u)*b)*+i[a+304>>2]+((p-u)*B-(Y-z)*E)*+i[a+308>>2]+((Y-z)*b-(q-$)*B)*+i[a+312>>2],oe=((q-$)*E-(p-u)*b)*+i[a+288>>2]+((p-u)*B-(Y-z)*E)*+i[a+292>>2]+((Y-z)*b-(q-$)*B)*+i[a+296>>2],me=l*+i[w>>2]*-S*+i[s+116>>2],se=l*+i[M>>2]*-S*+i[s+120>>2],i[s+64>>2]=+i[s+112>>2]*(l*+i[C>>2]*-S)+ +i[s+64>>2],i[s+68>>2]=me+ +i[s+68>>2],i[s+72>>2]=se+ +i[s+72>>2],ae=ae*(+i[s+100>>2]*-S),xe=xe*(+i[s+104>>2]*-S),i[s+80>>2]=oe*(+i[s+96>>2]*-S)+ +i[s+80>>2],i[s+84>>2]=ae+ +i[s+84>>2],i[s+88>>2]=xe+ +i[s+88>>2]),D=D+1|0;while((D|0)!=3)}do if(R[t+552>>0]|0)_e=e[t+28>>2]|0,e[he+352>>2]=e[_e+4>>2],e[he+352+4>>2]=e[_e+4+4>>2],e[he+352+8>>2]=e[_e+4+8>>2],e[he+352+12>>2]=e[_e+4+12>>2],e[he+352+16>>2]=e[_e+20>>2],e[he+352+16+4>>2]=e[_e+20+4>>2],e[he+352+16+8>>2]=e[_e+20+8>>2],e[he+352+16+12>>2]=e[_e+20+12>>2],e[he+352+32>>2]=e[_e+36>>2],e[he+352+32+4>>2]=e[_e+36+4>>2],e[he+352+32+8>>2]=e[_e+36+8>>2],e[he+352+32+12>>2]=e[_e+36+12>>2],e[he+352+48>>2]=e[_e+52>>2],e[he+352+48+4>>2]=e[_e+52+4>>2],e[he+352+48+8>>2]=e[_e+52+8>>2],e[he+352+48+12>>2]=e[_e+52+12>>2],_e=e[t+32>>2]|0,e[he+288>>2]=e[_e+4>>2],e[he+288+4>>2]=e[_e+4+4>>2],e[he+288+8>>2]=e[_e+4+8>>2],e[he+288+12>>2]=e[_e+4+12>>2],e[he+288+16>>2]=e[_e+20>>2],e[he+288+16+4>>2]=e[_e+20+4>>2],e[he+288+16+8>>2]=e[_e+20+8>>2],e[he+288+16+12>>2]=e[_e+20+12>>2],e[he+288+32>>2]=e[_e+36>>2],e[he+288+32+4>>2]=e[_e+36+4>>2],e[he+288+32+8>>2]=e[_e+36+8>>2],e[he+288+32+12>>2]=e[_e+36+12>>2],e[he+288+48>>2]=e[_e+52>>2],e[he+288+48+4>>2]=e[_e+52+4>>2],e[he+288+48+8>>2]=e[_e+52+8>>2],e[he+288+48+12>>2]=e[_e+52+12>>2],oe=+i[n+196>>2]+ +i[n+84>>2],E=+i[n+200>>2]+ +i[n+88>>2],i[he+272>>2]=+i[n+192>>2]+ +i[n+80>>2],i[he+272+4>>2]=oe,i[he+272+8>>2]=E,i[he+272+12>>2]=0,E=+i[s+196>>2]+ +i[s+84>>2],oe=+i[s+200>>2]+ +i[s+88>>2],i[he+256>>2]=+i[s+192>>2]+ +i[s+80>>2],i[he+256+4>>2]=E,i[he+256+8>>2]=oe,i[he+256+12>>2]=0,e[he+192>>2]=1065353216,_e=he+192+4|0,e[_e>>2]=0,e[_e+4>>2]=0,e[_e+8>>2]=0,e[_e+12>>2]=0,e[he+192+20>>2]=1065353216,pe=he+192+24|0,e[pe>>2]=0,e[pe+4>>2]=0,e[pe+8>>2]=0,e[pe+12>>2]=0,e[he+192+40>>2]=1065353216,W=he+192+44|0,e[W>>2]=0,e[W+4>>2]=0,e[W+8>>2]=0,e[W+12>>2]=0,e[W+16>>2]=0,Js(he+352|0,0,0,0,he+272|0,o,he+192|0),e[he+128>>2]=1065353216,W=he+128+4|0,e[W>>2]=0,e[W+4>>2]=0,e[W+8>>2]=0,e[W+12>>2]=0,e[he+128+20>>2]=1065353216,te=he+128+24|0,e[te>>2]=0,e[te+4>>2]=0,e[te+8>>2]=0,e[te+12>>2]=0,e[he+128+40>>2]=1065353216,ne=he+128+44|0,e[ne>>2]=0,e[ne+4>>2]=0,e[ne+8>>2]=0,e[ne+12>>2]=0,e[ne+16>>2]=0,Js(he+288|0,0,0,0,he+256|0,o,he+128|0),oe=+i[t+556>>2],E=+i[t+560>>2],ae=+i[t+564>>2],b=+i[t+568>>2],Y=oe*(2/(oe*oe+E*E+ae*ae+b*b)),P=E*(2/(oe*oe+E*E+ae*ae+b*b)),$=ae*(2/(oe*oe+E*E+ae*ae+b*b)),de=+i[t+364>>2],ve=+i[t+368>>2],we=+i[t+372>>2],u=we*(oe*$-b*P)+(ve*(oe*P+b*$)+de*(1-(E*P+ae*$))),p=we*(E*$+b*Y)+(de*(oe*P-b*$)+ve*(1-(oe*Y+ae*$))),h=de*(oe*$+b*P)+ve*(E*$-b*Y)+we*(1-(oe*Y+E*P)),l=+i[t+380>>2],z=+i[t+384>>2],U=+i[t+388>>2],d=(oe*$-b*P)*U+(z*(oe*P+b*$)+l*(1-(E*P+ae*$))),g=(E*$+b*Y)*U+(l*(oe*P-b*$)+z*(1-(oe*Y+ae*$))),S=l*(oe*$+b*P)+z*(E*$-b*Y)+U*(1-(oe*Y+E*P)),me=+i[t+396>>2],G=+i[t+400>>2],F=+i[t+404>>2],se=(1-(E*P+ae*$))*me+(oe*P+b*$)*G+(oe*$-b*P)*F,ae=(oe*P-b*$)*me+(1-(oe*Y+ae*$))*G+(E*$+b*Y)*F,P=(oe*$+b*P)*me+(E*$-b*Y)*G+(1-(oe*Y+E*P))*F,E=+i[t+300>>2],Y=+i[t+316>>2],oe=+i[t+332>>2],b=+i[t+304>>2],$=+i[t+320>>2],xe=+i[t+336>>2],O=+i[t+308>>2],q=+i[t+324>>2],L=+i[t+340>>2],B=-+i[t+348>>2],ge=-+i[t+352>>2],Te=-+i[t+356>>2],we=de*0+ve*0+we*0+ +i[t+412>>2]+(h*(O*B+q*ge+L*Te)+(u*(E*B+Y*ge+oe*Te)+p*(b*B+$*ge+xe*Te))),U=l*0+z*0+U*0+ +i[t+416>>2]+(S*(O*B+q*ge+L*Te)+(d*(E*B+Y*ge+oe*Te)+g*(b*B+$*ge+xe*Te))),Te=me*0+G*0+F*0+ +i[t+420>>2]+(P*(O*B+q*ge+L*Te)+(se*(E*B+Y*ge+oe*Te)+ae*(b*B+$*ge+xe*Te))),ge=+i[he+128>>2],B=+i[W>>2],F=+i[he+128+8>>2],G=+i[he+128+16>>2],me=+i[he+128+20>>2],z=+i[te>>2],l=+i[he+128+32>>2],ve=+i[he+128+36>>2],de=+i[he+128+40>>2],fe=F*Te+(ge*we+B*U)+ +i[he+128+48>>2],Ne=G*we+U*me+Te*z+ +i[he+128+52>>2],Se=we*l+U*ve+Te*de+ +i[he+128+56>>2],i[he+64>>2]=(u*E+p*b+h*O)*ge+(d*E+g*b+S*O)*B+(se*E+ae*b+P*O)*F,i[he+64+4>>2]=(u*Y+p*$+h*q)*ge+(d*Y+g*$+S*q)*B+(se*Y+ae*$+P*q)*F,i[he+64+8>>2]=(u*oe+p*xe+h*L)*ge+(d*oe+g*xe+S*L)*B+(se*oe+ae*xe+P*L)*F,i[he+64+12>>2]=0,i[he+64+16>>2]=(u*E+p*b+h*O)*G+(d*E+g*b+S*O)*me+(se*E+ae*b+P*O)*z,i[he+64+20>>2]=(u*Y+p*$+h*q)*G+(d*Y+g*$+S*q)*me+(se*Y+ae*$+P*q)*z,i[he+64+24>>2]=(u*oe+p*xe+h*L)*G+(d*oe+g*xe+S*L)*me+(se*oe+ae*xe+P*L)*z,i[he+64+28>>2]=0,i[he+64+32>>2]=(u*E+p*b+h*O)*l+(d*E+g*b+S*O)*ve+(se*E+ae*b+P*O)*de,i[he+64+36>>2]=(u*Y+p*$+h*q)*l+(d*Y+g*$+S*q)*ve+(se*Y+ae*$+P*q)*de,i[he+64+40>>2]=(u*oe+p*xe+h*L)*l+(d*oe+g*xe+S*L)*ve+(se*oe+ae*xe+P*L)*de,i[he+64+44>>2]=0,i[he+64+48>>2]=fe,i[he+64+52>>2]=Ne,i[he+64+56>>2]=Se,i[he+64+60>>2]=0,Se=(se*E+ae*b+P*O)*-Te+((u*E+p*b+h*O)*-we+(d*E+g*b+S*O)*-U),Ne=(se*Y+ae*$+P*q)*-Te+((u*Y+p*$+h*q)*-we+(d*Y+g*$+S*q)*-U),U=(se*oe+ae*xe+P*L)*-Te+((u*oe+p*xe+h*L)*-we+(d*oe+g*xe+S*L)*-U),we=+i[he+192>>2],Te=+i[_e>>2],fe=+i[he+192+8>>2],de=+i[he+192+16>>2],ve=+i[he+192+20>>2],l=+i[pe>>2],z=+i[he+192+32>>2],me=+i[he+192+36>>2],G=+i[he+192+40>>2],F=Se*we+Ne*Te+U*fe+ +i[he+192+48>>2],B=Se*de+Ne*ve+U*l+ +i[he+192+52>>2],U=Se*z+Ne*me+U*G+ +i[he+192+56>>2],i[he>>2]=(u*E+p*b+h*O)*we+(u*Y+p*$+h*q)*Te+(u*oe+p*xe+h*L)*fe,i[he+4>>2]=(d*E+g*b+S*O)*we+(d*Y+g*$+S*q)*Te+(d*oe+g*xe+S*L)*fe,i[he+8>>2]=(se*E+ae*b+P*O)*we+(se*Y+ae*$+P*q)*Te+(se*oe+ae*xe+P*L)*fe,i[he+12>>2]=0,i[he+16>>2]=(u*E+p*b+h*O)*de+(u*Y+p*$+h*q)*ve+(u*oe+p*xe+h*L)*l,i[he+20>>2]=(d*E+g*b+S*O)*de+(d*Y+g*$+S*q)*ve+(d*oe+g*xe+S*L)*l,i[he+24>>2]=(se*E+ae*b+P*O)*de+(se*Y+ae*$+P*q)*ve+(se*oe+ae*xe+P*L)*l,i[he+28>>2]=0,i[he+32>>2]=(u*E+p*b+h*O)*z+(u*Y+p*$+h*q)*me+(u*oe+p*xe+h*L)*G,i[he+36>>2]=(d*E+g*b+S*O)*z+(d*Y+g*$+S*q)*me+(d*oe+g*xe+S*L)*G,i[he+40>>2]=(se*E+ae*b+P*O)*z+(se*Y+ae*$+P*q)*me+(se*oe+ae*xe+P*L)*G,i[he+44>>2]=0,i[he+48>>2]=F,i[he+52>>2]=B,i[he+56>>2]=U,i[he+60>>2]=0,Sa(he+352|0,he+64|0,he+424|0,he+416|0),U=+i[he+416>>2],B=1/o*(+i[he+424>>2]*U),F=1/o*(U*+i[he+424+4>>2]),U=1/o*(U*+i[he+424+8>>2]),Sa(he+288|0,he,he+424|0,he+416|0),G=+i[he+416>>2],B=B-+i[he+272>>2],F=F-+i[he+272+4>>2],U=U-+i[he+272+8>>2],L=1/o*(+i[he+424>>2]*G)-+i[he+256>>2],P=1/o*(G*+i[he+424+4>>2])-+i[he+256+4>>2],G=1/o*(G*+i[he+424+8>>2])-+i[he+256+8>>2],B*B+F*F+U*U>11920928955078125e-23?(S=1/+ot(+(B*B+F*F+U*U)),pe=e[t+28>>2]|0,l=B*S,p=F*S,d=U*S,S=B*S*(+i[pe+288>>2]*(B*S)+F*S*+i[pe+304>>2]+U*S*+i[pe+320>>2])+F*S*(B*S*+i[pe+292>>2]+F*S*+i[pe+308>>2]+U*S*+i[pe+324>>2])+U*S*(B*S*+i[pe+296>>2]+F*S*+i[pe+312>>2]+U*S*+i[pe+328>>2])):(l=0,p=0,d=0,S=0),L*L+P*P+G*G>11920928955078125e-23?(E=1/+ot(+(L*L+P*P+G*G)),pe=e[t+32>>2]|0,u=L*E,h=P*E,g=G*E,E=L*E*(+i[pe+288>>2]*(L*E)+P*E*+i[pe+304>>2]+G*E*+i[pe+320>>2])+P*E*(L*E*+i[pe+292>>2]+P*E*+i[pe+308>>2]+G*E*+i[pe+324>>2])+G*E*(L*E*+i[pe+296>>2]+P*E*+i[pe+312>>2]+G*E*+i[pe+328>>2])):(u=0,h=0,g=0,E=0),b=S*l+E*u,u=S*p+E*h,l=S*d+E*g,b*b+u*u+l*l>11920928955078125e-23&&(d=1/+ot(+(b*b+u*u+l*l)),m=e[t+28>>2]|0,p=b*d*(+i[m+288>>2]*(b*d)+u*d*+i[m+304>>2]+l*d*+i[m+320>>2])+u*d*(b*d*+i[m+292>>2]+u*d*+i[m+308>>2]+l*d*+i[m+324>>2])+l*d*(b*d*+i[m+296>>2]+u*d*+i[m+312>>2]+l*d*+i[m+328>>2]),a=e[t+32>>2]|0,d=b*d*(b*d*+i[a+288>>2]+u*d*+i[a+304>>2]+l*d*+i[a+320>>2])+u*d*(b*d*+i[a+292>>2]+u*d*+i[a+308>>2]+l*d*+i[a+324>>2])+l*d*(b*d*+i[a+296>>2]+u*d*+i[a+312>>2]+l*d*+i[a+328>>2]),u=(B*p-L*d)*(1/((p+d)*(p+d))),E=(F*p-P*d)*(1/((p+d)*(p+d))),d=(U*p-G*d)*(1/((p+d)*(p+d))),l=+i[t+572>>2],l>=0?(p=(R[t+553>>0]|0)==0?l:l/p,h=+i[t+576>>2],g=+i[t+580>>2],S=+i[t+584>>2],l=+ot(+((u+h)*(u+h)+(E+g)*(E+g)+(d+S)*(d+S))),l>p?(u=p*((u+h)*(1/l))-h,d=p*((d+S)*(1/l))-S,l=p*((E+g)*(1/l))-g):l=E,i[t+576>>2]=u+h,i[t+580>>2]=l+g,i[t+584>>2]=d+S):l=E,h=+ot(+(u*u+l*l+d*d)),p=u*(1/h),u=l*(1/h),l=d*(1/h),e[n+240>>2]|0&&(ge=p*+i[m+320>>2]+u*+i[m+324>>2]+l*+i[m+328>>2],Se=p*+i[m+304>>2]+u*+i[m+308>>2]+l*+i[m+312>>2],Ne=p*+i[m+288>>2]+u*+i[m+292>>2]+l*+i[m+296>>2],Te=h*0*+i[n+116>>2],we=h*0*+i[n+120>>2],i[n+64>>2]=h*0*+i[n+112>>2]+ +i[n+64>>2],i[n+68>>2]=Te+ +i[n+68>>2],i[n+72>>2]=we+ +i[n+72>>2],Se=Se*(h*+i[n+100>>2]),ge=ge*(h*+i[n+104>>2]),i[n+80>>2]=Ne*(h*+i[n+96>>2])+ +i[n+80>>2],i[n+84>>2]=Se+ +i[n+84>>2],i[n+88>>2]=ge+ +i[n+88>>2],a=e[t+32>>2]|0),e[s+240>>2]|0&&(ge=p*+i[a+320>>2]+u*+i[a+324>>2]+l*+i[a+328>>2],Se=p*+i[a+304>>2]+u*+i[a+308>>2]+l*+i[a+312>>2],Ne=p*+i[a+288>>2]+u*+i[a+292>>2]+l*+i[a+296>>2],Te=h*-0*+i[s+116>>2],we=h*-0*+i[s+120>>2],i[s+64>>2]=h*-0*+i[s+112>>2]+ +i[s+64>>2],i[s+68>>2]=Te+ +i[s+68>>2],i[s+72>>2]=we+ +i[s+72>>2],Se=Se*(+i[s+100>>2]*-h),ge=ge*(+i[s+104>>2]*-h),i[s+80>>2]=Ne*(+i[s+96>>2]*-h)+ +i[s+80>>2],i[s+84>>2]=Se+ +i[s+84>>2],i[s+88>>2]=ge+ +i[s+88>>2])),X=n+80|0,m=n+196|0,ne=n+84|0,C=n+200|0,W=n+88|0,w=s+192|0,te=s+80|0,M=s+196|0,_e=s+84|0,D=s+200|0,pe=s+88|0,a=n+192|0;else{if(l=+i[t+440>>2],!(l>11920928955078125e-23)){X=n+80|0,m=n+196|0,ne=n+84|0,C=n+200|0,W=n+88|0,w=s+192|0,te=s+80|0,M=s+196|0,_e=s+84|0,D=s+200|0,pe=s+88|0,a=n+192|0;break}u=+i[s+192>>2]+ +i[s+80>>2]-(+i[n+192>>2]+ +i[n+80>>2]),p=+i[s+196>>2]+ +i[s+84>>2]-(+i[n+196>>2]+ +i[n+84>>2]),h=+i[s+200>>2]+ +i[s+88>>2]-(+i[n+200>>2]+ +i[n+88>>2]),u*u+p*p+h*h>11920928955078125e-23?(G=1/+ot(+(u*u+p*p+h*h)),a=e[t+28>>2]|0,g=+i[a+288>>2],S=+i[a+304>>2],E=+i[a+320>>2],b=+i[a+292>>2],B=+i[a+308>>2],L=+i[a+324>>2],F=+i[a+296>>2],P=+i[a+312>>2],U=+i[a+328>>2],a=e[t+32>>2]|0,l=l*(1/(u*G*(g*(u*G)+p*G*S+h*G*E)+p*G*(u*G*b+p*G*B+h*G*L)+h*G*(u*G*F+p*G*P+h*G*U)+(u*G*(u*G*+i[a+288>>2]+p*G*+i[a+304>>2]+h*G*+i[a+320>>2])+p*G*(u*G*+i[a+292>>2]+p*G*+i[a+308>>2]+h*G*+i[a+324>>2])+h*G*(u*G*+i[a+296>>2]+p*G*+i[a+312>>2]+h*G*+i[a+328>>2])))),G=+ot(+(h*l*(h*l)+(u*l*(u*l)+p*l*(p*l)))),d=1/G*(u*l),u=1/G*(p*l),l=1/G*(h*l),e[n+240>>2]|0&&(xe=G*0*+i[n+116>>2],ae=G*0*+i[n+120>>2],i[n+64>>2]=G*0*+i[n+112>>2]+ +i[n+64>>2],i[n+68>>2]=xe+ +i[n+68>>2],i[n+72>>2]=ae+ +i[n+72>>2],ae=(d*S+u*B+l*P)*(G*+i[n+100>>2]),xe=(d*E+u*L+l*U)*(G*+i[n+104>>2]),i[n+80>>2]=(d*g+u*b+l*F)*(G*+i[n+96>>2])+ +i[n+80>>2],i[n+84>>2]=ae+ +i[n+84>>2],i[n+88>>2]=xe+ +i[n+88>>2],a=e[t+32>>2]|0),e[s+240>>2]|0?(xe=d*+i[a+320>>2]+u*+i[a+324>>2]+l*+i[a+328>>2],ae=d*+i[a+304>>2]+u*+i[a+308>>2]+l*+i[a+312>>2],oe=d*+i[a+288>>2]+u*+i[a+292>>2]+l*+i[a+296>>2],me=G*-0*+i[s+116>>2],se=G*-0*+i[s+120>>2],i[s+64>>2]=G*-0*+i[s+112>>2]+ +i[s+64>>2],i[s+68>>2]=me+ +i[s+68>>2],i[s+72>>2]=se+ +i[s+72>>2],ae=ae*(+i[s+100>>2]*-G),xe=xe*(+i[s+104>>2]*-G),i[s+80>>2]=oe*(+i[s+96>>2]*-G)+ +i[s+80>>2],i[s+84>>2]=ae+ +i[s+84>>2],i[s+88>>2]=xe+ +i[s+88>>2],X=n+80|0,m=n+196|0,ne=n+84|0,C=n+200|0,W=n+88|0,w=s+192|0,te=s+80|0,M=s+196|0,_e=s+84|0,D=s+200|0,pe=s+88|0,a=n+192|0):(X=n+80|0,m=n+196|0,ne=n+84|0,C=n+200|0,W=n+88|0,w=s+192|0,te=s+80|0,M=s+196|0,_e=s+84|0,D=s+200|0,pe=s+88|0,a=n+192|0)):(X=n+80|0,m=n+196|0,ne=n+84|0,C=n+200|0,W=n+88|0,w=s+192|0,te=s+80|0,M=s+196|0,_e=s+84|0,D=s+200|0,pe=s+88|0,a=n+192|0)}while(!1);if(F=+i[a>>2]+ +i[X>>2],L=+i[m>>2]+ +i[ne>>2],B=+i[C>>2]+ +i[W>>2],b=+i[w>>2]+ +i[te>>2],E=+i[M>>2]+ +i[_e>>2],S=+i[D>>2]+ +i[pe>>2],R[t+526>>0]|0&&(u=+i[t+528>>2],l=u*+i[t+504>>2]*+i[t+432>>2]/o,p=+i[t+460>>2],h=+i[t+464>>2],d=+i[t+468>>2],(b-F)*p+(E-L)*h+(S-B)*d>0&&(l=l+u*((b-F)*p+(E-L)*h+(S-B)*d)*+i[t+436>>2]),Se=+i[t+516>>2],Ne=Se+l*+i[t+492>>2],Ne=Ne>0?Ne:0,i[t+516>>2]=Ne,we=+i[t+536>>2],u=+i[t+540>>2],ge=+i[t+544>>2],l=p*(Ne-Se)*we+h*(Ne-Se)*u+(Ne-Se)*d*ge,g=+ot(+(((Ne-Se)*d-ge*l)*((Ne-Se)*d-ge*l)+((p*(Ne-Se)-we*l)*(p*(Ne-Se)-we*l)+(h*(Ne-Se)-u*l)*(h*(Ne-Se)-u*l)))),p=1/g*(p*(Ne-Se)-we*l),u=1/g*(h*(Ne-Se)-u*l),l=1/g*((Ne-Se)*d-ge*l),a=e[t+28>>2]|0,e[n+240>>2]|0&&(ge=p*+i[a+320>>2]+u*+i[a+324>>2]+l*+i[a+328>>2],Se=p*+i[a+304>>2]+u*+i[a+308>>2]+l*+i[a+312>>2],Ne=p*+i[a+288>>2]+u*+i[a+292>>2]+l*+i[a+296>>2],Te=g*0*+i[n+116>>2],we=g*0*+i[n+120>>2],i[n+64>>2]=g*0*+i[n+112>>2]+ +i[n+64>>2],i[n+68>>2]=Te+ +i[n+68>>2],i[n+72>>2]=we+ +i[n+72>>2],Se=Se*(g*+i[n+100>>2]),ge=ge*(g*+i[n+104>>2]),i[X>>2]=Ne*(g*+i[n+96>>2])+ +i[X>>2],i[ne>>2]=Se+ +i[ne>>2],i[W>>2]=ge+ +i[W>>2]),a=e[t+32>>2]|0,e[s+240>>2]|0&&(ge=p*+i[a+320>>2]+u*+i[a+324>>2]+l*+i[a+328>>2],Se=p*+i[a+304>>2]+u*+i[a+308>>2]+l*+i[a+312>>2],Ne=p*+i[a+288>>2]+u*+i[a+292>>2]+l*+i[a+296>>2],Te=g*-0*+i[s+116>>2],we=g*-0*+i[s+120>>2],i[s+64>>2]=g*-0*+i[s+112>>2]+ +i[s+64>>2],i[s+68>>2]=Te+ +i[s+68>>2],i[s+72>>2]=we+ +i[s+72>>2],Se=Se*(+i[s+100>>2]*-g),ge=ge*(+i[s+104>>2]*-g),i[te>>2]=Ne*(+i[s+96>>2]*-g)+ +i[te>>2],i[_e>>2]=Se+ +i[_e>>2],i[pe>>2]=ge+ +i[pe>>2])),!(R[t+525>>0]|0)){H=he;return}if(d=+i[t+532>>2],h=d*+i[t+508>>2]*+i[t+432>>2]/o,p=+i[t+476>>2],u=+i[t+480>>2],l=+i[t+484>>2],(b-F)*p+(E-L)*u+(S-B)*l>0&&(h=h+d*((b-F)*p+(E-L)*u+(S-B)*l)*+i[t+436>>2]),d=+i[t+520>>2],h=d+h*+i[t+496>>2],h=h>0?h:0,i[t+520>>2]=h,a=e[t+28>>2]|0,e[n+240>>2]|0&&(ge=p*+i[a+320>>2]+u*+i[a+324>>2]+l*+i[a+328>>2],Se=p*+i[a+304>>2]+u*+i[a+308>>2]+l*+i[a+312>>2],l=p*+i[a+288>>2]+u*+i[a+292>>2]+l*+i[a+296>>2],p=(h-d)*0*+i[n+116>>2],u=(h-d)*0*+i[n+120>>2],i[n+64>>2]=(h-d)*0*+i[n+112>>2]+ +i[n+64>>2],i[n+68>>2]=p+ +i[n+68>>2],i[n+72>>2]=u+ +i[n+72>>2],u=Se*((h-d)*+i[n+100>>2]),p=ge*((h-d)*+i[n+104>>2]),i[X>>2]=l*((h-d)*+i[n+96>>2])+ +i[X>>2],i[ne>>2]=u+ +i[ne>>2],i[W>>2]=p+ +i[W>>2],p=+i[t+476>>2],u=+i[t+480>>2],l=+i[t+484>>2]),a=e[t+32>>2]|0,!(e[s+240>>2]|0)){H=he;return}ge=p*+i[a+320>>2]+u*+i[a+324>>2]+l*+i[a+328>>2],Se=p*+i[a+304>>2]+u*+i[a+308>>2]+l*+i[a+312>>2],Ne=p*+i[a+288>>2]+u*+i[a+292>>2]+l*+i[a+296>>2],Te=(h-d)*-0*+i[s+116>>2],we=(h-d)*-0*+i[s+120>>2],i[s+64>>2]=(h-d)*-0*+i[s+112>>2]+ +i[s+64>>2],i[s+68>>2]=Te+ +i[s+68>>2],i[s+72>>2]=we+ +i[s+72>>2],Se=Se*(+i[s+100>>2]*-(h-d)),ge=ge*(+i[s+104>>2]*-(h-d)),i[te>>2]=Ne*(+i[s+96>>2]*-(h-d))+ +i[te>>2],i[_e>>2]=Se+ +i[_e>>2],i[pe>>2]=ge+ +i[pe>>2],H=he}function $te(t,n,s,o){switch(t=t|0,n=n|0,s=+s,o=o|0,n|0){case 2:case 1:if(o>>>0<3){i[t+600>>2]=s,e[t+592>>2]=e[t+592>>2]|2;return}else{i[t+432>>2]=s;return}case 4:case 3:if(o>>>0<3){i[t+596>>2]=s,e[t+592>>2]=e[t+592>>2]|1;return}else{i[t+604>>2]=s,e[t+592>>2]=e[t+592>>2]|4;return}default:return}}function Yte(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;e:do switch(n|0){case 2:case 1:{if(s>>>0<3){o=+i[t+600>>2];break e}(s+-3|0)>>>0<3?o=+i[t+432>>2]:o=0;break}case 4:case 3:{if(s>>>0<3){o=+i[t+596>>2];break e}(s+-3|0)>>>0<3?o=+i[t+604>>2]:o=0;break}default:o=0}while(!1);return+o}function Kte(t){return t=t|0,212}function Zte(t,n,s){return t=t|0,n=n|0,s=s|0,ya(t,n,s)|0,e[n+52>>2]=e[t+300>>2],e[n+56>>2]=e[t+304>>2],e[n+60>>2]=e[t+308>>2],e[n+64>>2]=e[t+312>>2],e[n+68>>2]=e[t+316>>2],e[n+72>>2]=e[t+320>>2],e[n+76>>2]=e[t+324>>2],e[n+80>>2]=e[t+328>>2],e[n+84>>2]=e[t+332>>2],e[n+88>>2]=e[t+336>>2],e[n+92>>2]=e[t+340>>2],e[n+96>>2]=e[t+344>>2],e[n+100>>2]=e[t+348>>2],e[n+104>>2]=e[t+352>>2],e[n+108>>2]=e[t+356>>2],e[n+112>>2]=e[t+360>>2],e[n+116>>2]=e[t+364>>2],e[n+120>>2]=e[t+368>>2],e[n+124>>2]=e[t+372>>2],e[n+128>>2]=e[t+376>>2],e[n+132>>2]=e[t+380>>2],e[n+136>>2]=e[t+384>>2],e[n+140>>2]=e[t+388>>2],e[n+144>>2]=e[t+392>>2],e[n+148>>2]=e[t+396>>2],e[n+152>>2]=e[t+400>>2],e[n+156>>2]=e[t+404>>2],e[n+160>>2]=e[t+408>>2],e[n+164>>2]=e[t+412>>2],e[n+168>>2]=e[t+416>>2],e[n+172>>2]=e[t+420>>2],e[n+176>>2]=e[t+424>>2],e[n+180>>2]=e[t+444>>2],e[n+184>>2]=e[t+448>>2],e[n+188>>2]=e[t+452>>2],e[n+192>>2]=e[t+428>>2],e[n+196>>2]=e[t+432>>2],e[n+200>>2]=e[t+436>>2],e[n+204>>2]=e[t+440>>2],15142}function Qte(t,n,s){t=t|0,n=n|0,s=s|0,e[t+300>>2]=e[n>>2],e[t+300+4>>2]=e[n+4>>2],e[t+300+8>>2]=e[n+8>>2],e[t+300+12>>2]=e[n+12>>2],e[t+316>>2]=e[n+16>>2],e[t+316+4>>2]=e[n+16+4>>2],e[t+316+8>>2]=e[n+16+8>>2],e[t+316+12>>2]=e[n+16+12>>2],e[t+332>>2]=e[n+32>>2],e[t+332+4>>2]=e[n+32+4>>2],e[t+332+8>>2]=e[n+32+8>>2],e[t+332+12>>2]=e[n+32+12>>2],e[t+348>>2]=e[n+48>>2],e[t+348+4>>2]=e[n+48+4>>2],e[t+348+8>>2]=e[n+48+8>>2],e[t+348+12>>2]=e[n+48+12>>2],e[t+364>>2]=e[s>>2],e[t+364+4>>2]=e[s+4>>2],e[t+364+8>>2]=e[s+8>>2],e[t+364+12>>2]=e[s+12>>2],e[t+380>>2]=e[s+16>>2],e[t+380+4>>2]=e[s+16+4>>2],e[t+380+8>>2]=e[s+16+8>>2],e[t+380+12>>2]=e[s+16+12>>2],e[t+396>>2]=e[s+32>>2],e[t+396+4>>2]=e[s+32+4>>2],e[t+396+8>>2]=e[s+32+8>>2],e[t+396+12>>2]=e[s+32+12>>2],e[t+412>>2]=e[s+48>>2],e[t+412+4>>2]=e[s+48+4>>2],e[t+412+8>>2]=e[s+48+8>>2],e[t+412+12>>2]=e[s+48+12>>2],Vt[e[(e[t>>2]|0)+8>>2]&255](t)}function Jte(){e[5310]=1065353216,e[5311]=0,e[5312]=0,i[5313]=0}function H6(t,n,s,o){t=t|0,n=n|0,s=+s,o=+o;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0;p=+C2(+s),u=+E2(+s),a=e[n+444>>2]|0,h=+ht(+p)>11920928955078125e-23,s=(e[Z>>2]=a,+i[Z>>2]),h?(d=+i[n+448>>2],d=+ot(+((u*u/(p*p)+1)/(1/(d*d)+u*u/(p*p)/(s*s)))),s=u*u,l=p*p,a=(i[Z>>2]=d,e[Z>>2]|0)):(s=u*u,l=p*p),d=+ot(+(l+0+s)),m=(e[Z>>2]=a,+i[Z>>2]*.5),d=+E2(+m)/d,m=+C2(+m),g=m*o+p*d*0-u*d*-0,l=m*0-u*d*o-d*0*0,s=m*0+d*0*0-p*d*o,o=-(d*0*o)-p*d*0-u*d*-0,i[t>>2]=u*d*l+(m*g+o*-(d*0))-s*-(p*d),i[t+4>>2]=s*-(d*0)+(m*l+o*-(p*d))-u*d*g,i[t+8>>2]=g*-(p*d)+(u*d*o+m*s)-l*-(d*0),i[t+12>>2]=0}function j6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0;e[t+556>>2]=e[n>>2],e[t+556+4>>2]=e[n+4>>2],e[t+556+8>>2]=e[n+8>>2],e[t+556+12>>2]=e[n+12>>2],M=+i[t+568>>2],p=+i[5310],E=+i[t+560>>2],a=+i[5312],C=+i[t+564>>2],u=+i[5311],w=+i[t+556>>2],h=(p*C+M*u-a*w)*-C+(M*(M*p+E*a-C*u)+(-(p*w)-E*u-a*C)*-w)-(M*a+u*w-p*E)*-E,d=(M*a+u*w-p*E)*-w+(M*(p*C+M*u-a*w)+(-(p*w)-E*u-a*C)*-E)-(M*p+E*a-C*u)*-C,s=(M*p+E*a-C*u)*-E+((-(p*w)-E*u-a*C)*-C+M*(M*a+u*w-p*E))-(p*C+M*u-a*w)*-w;do if(a*s+(u*d+p*h)<-.9999998807907104)if(+ht(+a)>.7071067690849304){s=1/+ot(+(a*a+u*u)),o=0,a=-(a*s),n=(i[Z>>2]=u*s,e[Z>>2]|0),s=0;break}else{a=1/+ot(+(p*p+u*u)),o=(i[Z>>2]=-(u*a),e[Z>>2]|0),a=p*a,n=0,s=0;break}else O=+ot(+((a*s+(u*d+p*h)+1)*2)),o=(i[Z>>2]=(u*s-a*d)*(1/O),e[Z>>2]|0),a=(a*h-p*s)*(1/O),n=(i[Z>>2]=(p*d-u*h)*(1/O),e[Z>>2]|0),s=O*.5;while(!1);p=(e[Z>>2]=o,+i[Z>>2]),d=(e[Z>>2]=n,+i[Z>>2]),D=1/+ot(+(s*s+(p*p+a*a+d*d))),g=(i[Z>>2]=p*D,e[Z>>2]|0),L=a*D,B=(i[Z>>2]=d*D,e[Z>>2]|0),s=s*D,b=(i[Z>>2]=s,e[Z>>2]|0),U=w*s+M*-(p*D)+C*-L-E*-(d*D),G=w*-(d*D)+(M*-L+s*E)-C*-(p*D),O=M*-(d*D)+s*C+E*-(p*D)-w*-L,C=s*M-w*-(p*D)-E*-L-C*-(d*D),w=1/+ot(+(C*C+(O*O+(U*U+G*G)))),l=(i[Z>>2]=U*w,e[Z>>2]|0),n=(i[Z>>2]=w*G,e[Z>>2]|0),o=(i[Z>>2]=w*O,e[Z>>2]|0),a=+i[t+444>>2],m=(i[Z>>2]=a,e[Z>>2]|0),a>=.05000000074505806&&(P=+i[t+448>>2],P>=.05000000074505806)?(s=s<-1?-1:s,s=+L1(+(s>1?1:s))*2,s>11920928955078125e-23?(u=1/+ot(+(d*D*(d*D)+(p*D*(p*D)+L*L))),+ht(+(L*u))>11920928955078125e-23?(P=+ot(+((d*D*u*(d*D*u)/(L*u*(L*u))+1)/(1/(P*P)+d*D*u*(d*D*u)/(L*u*(L*u))/(a*a)))),p=p*D*u,h=L*u,u=d*D*u,m=(i[Z>>2]=P,e[Z>>2]|0)):(p=p*D*u,h=L*u,u=d*D*u)):(p=0,h=0,u=0,m=0),+ht(+s)>11920928955078125e-23?(a=(e[Z>>2]=m,+i[Z>>2]),s>a?s=a:s<-a&&(s=-a),P=s*.5,L=+E2(+P)/+ot(+(p*p+h*h+u*u)),P=+C2(+P),F=(i[Z>>2]=p*L,e[Z>>2]|0),B=(i[Z>>2]=u*L,e[Z>>2]|0),L=h*L,b=(i[Z>>2]=P,e[Z>>2]|0)):F=g):F=g,s=+i[t+452>>2],s>=.05000000074505806?(a=w*C<-1?-1:w*C,a=+L1(+(a>1?1:a))*2,a>3.1415927410125732?(S=(i[Z>>2]=-(U*w),e[Z>>2]|0),g=(i[Z>>2]=-(w*G),e[Z>>2]|0),a=-(w*C)<-1?-1:-(w*C),m=(i[Z>>2]=-(w*O),e[Z>>2]|0),a=+L1(+(a>1?1:a))*2):(S=l,g=n,m=o),u=(e[Z>>2]=S,+i[Z>>2]),p=(e[Z>>2]=g,+i[Z>>2]),h=(e[Z>>2]=m,+i[Z>>2]),a>11920928955078125e-23&&(O=1/+ot(+(u*u+p*p+h*h)),S=(i[Z>>2]=u*O,e[Z>>2]|0),g=(i[Z>>2]=p*O,e[Z>>2]|0),m=(i[Z>>2]=h*O,e[Z>>2]|0)),+ht(+a)>11920928955078125e-23?(a>s||(a<-s?s=-s:s=a),P=(e[Z>>2]=S,+i[Z>>2]),U=(e[Z>>2]=g,+i[Z>>2]),G=(e[Z>>2]=m,+i[Z>>2]),s=s*.5,O=+E2(+s)/+ot(+(G*G+(U*U+P*P))),s=+C2(+s),l=(i[Z>>2]=P*O,e[Z>>2]|0),n=(i[Z>>2]=U*O,e[Z>>2]|0),o=(i[Z>>2]=G*O,e[Z>>2]|0)):s=w*C):s=w*C,E=(e[Z>>2]=b,+i[Z>>2]),P=(e[Z>>2]=l,+i[Z>>2]),D=(e[Z>>2]=F,+i[Z>>2]),O=(e[Z>>2]=o,+i[Z>>2]),G=(e[Z>>2]=B,+i[Z>>2]),U=(e[Z>>2]=n,+i[Z>>2]),i[t+556>>2]=L*O+(E*P+D*s)-G*U,i[t+560>>2]=G*P+(E*U+L*s)-D*O,i[t+564>>2]=D*U+(E*O+G*s)-L*P,i[t+568>>2]=E*s-D*P-L*U-G*O}function B1(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;o=+i[t+368>>2],o!=0&&(u=+i[t+372>>2],h=+i[t+376>>2],d=+i[t+380>>2],m=o*(+i[n+4>>2]*h),l=o*(+i[n+8>>2]*d),i[t+336>>2]=o*(+i[n>>2]*u)+ +i[t+336>>2],i[t+340>>2]=m+ +i[t+340>>2],i[t+344>>2]=l+ +i[t+344>>2],u=+i[n>>2]*u,h=+i[n+4>>2]*h,d=+i[n+8>>2]*d,l=+i[s+4>>2],m=+i[s+8>>2],p=+i[s>>2],a=((l*d-h*m)*+i[t+304>>2]+(u*m-d*p)*+i[t+308>>2]+(h*p-u*l)*+i[t+312>>2])*+i[t+572>>2],o=((l*d-h*m)*+i[t+320>>2]+(u*m-d*p)*+i[t+324>>2]+(h*p-u*l)*+i[t+328>>2])*+i[t+576>>2],i[t+352>>2]=(+i[t+288>>2]*(l*d-h*m)+ +i[t+292>>2]*(u*m-d*p)+(h*p-u*l)*+i[t+296>>2])*+i[t+568>>2]+ +i[t+352>>2],i[t+356>>2]=a+ +i[t+356>>2],i[t+360>>2]=o+ +i[t+360>>2])}function e0e(t){t=t|0}function t0e(t){return t=t|0,644}function i0e(t,n,s){t=t|0,n=n|0,s=s|0,ya(t,n,s)|0,e[n+52>>2]=e[t+48>>2],e[n+56>>2]=e[t+52>>2],e[n+60>>2]=e[t+56>>2],e[n+64>>2]=e[t+60>>2],e[n+68>>2]=e[t+64>>2],e[n+72>>2]=e[t+68>>2],e[n+76>>2]=e[t+72>>2],e[n+80>>2]=e[t+76>>2],e[n+84>>2]=e[t+80>>2],e[n+88>>2]=e[t+84>>2],e[n+92>>2]=e[t+88>>2],e[n+96>>2]=e[t+92>>2],e[n+100>>2]=e[t+96>>2],e[n+104>>2]=e[t+100>>2],e[n+108>>2]=e[t+104>>2],e[n+112>>2]=e[t+108>>2],e[n+116>>2]=e[t+112>>2],e[n+120>>2]=e[t+116>>2],e[n+124>>2]=e[t+120>>2],e[n+128>>2]=e[t+124>>2],e[n+132>>2]=e[t+128>>2],e[n+136>>2]=e[t+132>>2],e[n+140>>2]=e[t+136>>2],e[n+144>>2]=e[t+140>>2],e[n+148>>2]=e[t+144>>2],e[n+152>>2]=e[t+148>>2],e[n+156>>2]=e[t+152>>2],e[n+160>>2]=e[t+156>>2],e[n+164>>2]=e[t+160>>2],e[n+168>>2]=e[t+164>>2],e[n+172>>2]=e[t+168>>2],e[n+176>>2]=e[t+172>>2],s=0;do e[n+428+(s<<2)>>2]=e[t+968+(s*88|0)>>2],e[n+412+(s<<2)>>2]=e[t+968+(s*88|0)+4>>2],e[n+444+(s<<2)>>2]=e[t+968+(s*88|0)+8>>2],e[n+460+(s<<2)>>2]=e[t+968+(s*88|0)+12>>2],e[n+476+(s<<2)>>2]=e[t+968+(s*88|0)+16>>2],e[n+492+(s<<2)>>2]=e[t+968+(s*88|0)+20>>2],e[n+508+(s<<2)>>2]=e[t+968+(s*88|0)+24>>2],e[n+524+(s<<2)>>2]=e[t+968+(s*88|0)+32>>2],e[n+540+(s<<2)>>2]=e[t+968+(s*88|0)+36>>2],e[n+556+(s<<2)>>2]=e[t+968+(s*88|0)+44>>2],e[n+572+(s<<2)>>2]=e[t+968+(s*88|0)+52>>2],e[n+588+(s<<2)>>2]=e[t+968+(s*88|0)+60>>2],e[n+604+(s<<2)>>2]=e[t+968+(s*88|0)+68>>2],s=s+1|0;while((s|0)!=3);return i[n+440>>2]=0,i[n+424>>2]=0,i[n+456>>2]=0,i[n+472>>2]=0,i[n+488>>2]=0,i[n+504>>2]=0,i[n+520>>2]=0,i[n+536>>2]=0,i[n+552>>2]=0,i[n+568>>2]=0,i[n+584>>2]=0,i[n+600>>2]=0,i[n+616>>2]=0,R[n+620>>0]=R[t+996>>0]|0,R[n+624>>0]=R[t+1008>>0]|0,R[n+628>>0]=R[t+1016>>0]|0,R[n+632>>0]=R[t+1024>>0]|0,R[n+636>>0]=R[t+1032>>0]|0,R[n+621>>0]=R[t+1084>>0]|0,R[n+625>>0]=R[t+1096>>0]|0,R[n+629>>0]=R[t+1104>>0]|0,R[n+633>>0]=R[t+1112>>0]|0,R[n+637>>0]=R[t+1120>>0]|0,R[n+622>>0]=R[t+1172>>0]|0,R[n+626>>0]=R[t+1184>>0]|0,R[n+630>>0]=R[t+1192>>0]|0,R[n+634>>0]=R[t+1200>>0]|0,R[n+638>>0]=R[t+1208>>0]|0,R[n+623>>0]=0,R[n+627>>0]=0,R[n+631>>0]=0,R[n+635>>0]=0,R[n+639>>0]=0,e[n+196>>2]=e[t+680>>2],e[n+200>>2]=e[t+684>>2],e[n+204>>2]=e[t+688>>2],e[n+208>>2]=e[t+692>>2],e[n+180>>2]=e[t+696>>2],e[n+184>>2]=e[t+700>>2],e[n+188>>2]=e[t+704>>2],e[n+192>>2]=e[t+708>>2],e[n+212>>2]=e[t+712>>2],e[n+216>>2]=e[t+716>>2],e[n+220>>2]=e[t+720>>2],e[n+224>>2]=e[t+724>>2],e[n+228>>2]=e[t+728>>2],e[n+232>>2]=e[t+732>>2],e[n+236>>2]=e[t+736>>2],e[n+240>>2]=e[t+740>>2],e[n+244>>2]=e[t+744>>2],e[n+248>>2]=e[t+748>>2],e[n+252>>2]=e[t+752>>2],e[n+256>>2]=e[t+756>>2],e[n+260>>2]=e[t+760>>2],e[n+264>>2]=e[t+764>>2],e[n+268>>2]=e[t+768>>2],e[n+272>>2]=e[t+772>>2],e[n+276>>2]=e[t+776>>2],e[n+280>>2]=e[t+780>>2],e[n+284>>2]=e[t+784>>2],e[n+288>>2]=e[t+788>>2],e[n+292>>2]=e[t+876>>2],e[n+296>>2]=e[t+880>>2],e[n+300>>2]=e[t+884>>2],e[n+304>>2]=e[t+888>>2],e[n+308>>2]=e[t+892>>2],e[n+312>>2]=e[t+896>>2],e[n+316>>2]=e[t+900>>2],e[n+320>>2]=e[t+904>>2],e[n+324>>2]=e[t+804>>2],e[n+328>>2]=e[t+808>>2],e[n+332>>2]=e[t+812>>2],e[n+336>>2]=e[t+816>>2],e[n+340>>2]=e[t+820>>2],e[n+344>>2]=e[t+824>>2],e[n+348>>2]=e[t+828>>2],e[n+352>>2]=e[t+832>>2],e[n+356>>2]=e[t+840>>2],e[n+360>>2]=e[t+844>>2],e[n+364>>2]=e[t+848>>2],e[n+368>>2]=e[t+852>>2],e[n+372>>2]=e[t+860>>2],e[n+376>>2]=e[t+864>>2],e[n+380>>2]=e[t+868>>2],e[n+384>>2]=e[t+872>>2],R[n+388>>0]=R[t+792>>0]|0,R[n+392>>0]=R[t+795>>0]|0,R[n+396>>0]=R[t+798>>0]|0,R[n+400>>0]=R[t+836>>0]|0,R[n+404>>0]=R[t+856>>0]|0,R[n+389>>0]=R[t+793>>0]|0,R[n+393>>0]=R[t+796>>0]|0,R[n+397>>0]=R[t+799>>0]|0,R[n+401>>0]=R[t+837>>0]|0,R[n+405>>0]=R[t+857>>0]|0,R[n+390>>0]=R[t+794>>0]|0,R[n+394>>0]=R[t+797>>0]|0,R[n+398>>0]=R[t+800>>0]|0,R[n+402>>0]=R[t+838>>0]|0,R[n+406>>0]=R[t+858>>0]|0,R[n+391>>0]=0,R[n+395>>0]=0,R[n+399>>0]=0,R[n+403>>0]=0,R[n+407>>0]=0,e[n+640>>2]=e[t+1232>>2],15168}function n0e(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function r0e(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0;if(u=H,H=H+16|0,!(R[t+1308>>0]|0)){H=u;return}i[t+928>>2]=0,i[t+992>>2]=0,i[t+1056>>2]=0,e[t+712>>2]=0,e[t+712+4>>2]=0,e[t+712+8>>2]=0,e[t+712+12>>2]=0,ru(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0),Vt[e[(e[t>>2]|0)+44>>2]&255](t),s=+i[t+1284>>2],o=+i[t+1288>>2],a=+i[t+1292>>2],+i[t+696>>2]>=+i[t+680>>2]&&(p=(R[t+1300>>0]|0)==0,l=e[(p?t+1160|0:t+1096|0)>>2]|0,n=e[(p?t+1144|0:t+1080|0)>>2]|0,e[u>>2]=e[(p?t+1128|0:t+1064|0)>>2],e[u+4>>2]=n,e[u+8>>2]=l,i[u+12>>2]=0,mh(e[t+28>>2]|0,e[t+32>>2]|0,t+176|0,u,s,o,a,s,o,a)),+i[t+700>>2]>=+i[t+684>>2]&&(n=(R[t+1300>>0]|0)==0,p=e[(n?t+1164|0:t+1100|0)>>2]|0,l=e[(n?t+1148|0:t+1084|0)>>2]|0,e[u>>2]=e[(n?t+1132|0:t+1068|0)>>2],e[u+4>>2]=l,e[u+8>>2]=p,i[u+12>>2]=0,mh(e[t+28>>2]|0,e[t+32>>2]|0,t+260|0,u,s,o,a,s,o,a)),+i[t+704>>2]>=+i[t+688>>2]&&(n=(R[t+1300>>0]|0)==0,p=e[(n?t+1168|0:t+1104|0)>>2]|0,l=e[(n?t+1152|0:t+1088|0)>>2]|0,e[u>>2]=e[(n?t+1136|0:t+1072|0)>>2],e[u+4>>2]=l,e[u+8>>2]=p,i[u+12>>2]=0,mh(e[t+28>>2]|0,e[t+32>>2]|0,t+344|0,u,s,o,a,s,o,a)),l=0;do{s=+i[t+868+(l<<6)>>2],o=+i[t+868+(l<<6)+4>>2],a=+Hf(+i[t+1192+(l<<2)>>2],s,o),i[t+868+(l<<6)+52>>2]=a;do if(s>o)e[t+868+(l<<6)+56>>2]=0,n=18;else{if(s>a){if(e[t+868+(l<<6)+56>>2]=1,n=t+868+(l<<6)+48|0,i[n>>2]=a-s,a-s>3.1415927410125732){i[n>>2]=a-s+-6.2831854820251465,n=19;break}if(!(a-s<-3.1415927410125732)){n=19;break}i[n>>2]=a-s+6.2831854820251465,n=19;break}if(n=t+868+(l<<6)+56|0,!(o<a)){e[n>>2]=0,n=18;break}if(e[n>>2]=2,n=t+868+(l<<6)+48|0,i[n>>2]=a-o,a-o>3.1415927410125732){i[n>>2]=a-o+-6.2831854820251465,n=19;break}a-o<-3.1415927410125732&&(i[n>>2]=a-o+6.2831854820251465),n=19}while(!1);(n|0)==18&&(n=0,R[t+868+(l<<6)+44>>0]|0)&&(n=19),(n|0)==19&&(W=t+1208+(l<<4)|0,e[u>>2]=e[W>>2],e[u+4>>2]=e[W+4>>2],e[u+8>>2]=e[W+8>>2],e[u+12>>2]=e[W+12>>2],W=t+428+(l*84|0)|0,n=e[t+28>>2]|0,ne=+i[n+4>>2],X=+i[n+20>>2],q=+i[n+36>>2],Y=+i[n+8>>2],z=+i[n+24>>2],O=+i[n+40>>2],U=+i[n+12>>2],P=+i[n+28>>2],F=+i[n+44>>2],p=e[t+32>>2]|0,B=+i[p+4>>2],b=+i[p+20>>2],D=+i[p+36>>2],M=+i[p+8>>2],w=+i[p+24>>2],C=+i[p+40>>2],g=+i[p+12>>2],d=+i[p+28>>2],s=+i[p+44>>2],e[W>>2]=0,e[W+4>>2]=0,e[W+8>>2]=0,e[W+12>>2]=0,m=+i[u>>2],h=+i[u+4>>2],o=+i[u+8>>2],i[t+428+(l*84|0)+16>>2]=ne*m+X*h+q*o,i[t+428+(l*84|0)+20>>2]=Y*m+z*h+O*o,i[t+428+(l*84|0)+24>>2]=U*m+P*h+F*o,i[t+428+(l*84|0)+28>>2]=0,i[t+428+(l*84|0)+32>>2]=B*-m+b*-h+D*-o,i[t+428+(l*84|0)+36>>2]=M*-m+w*-h+C*-o,i[t+428+(l*84|0)+40>>2]=g*-m+d*-h+s*-o,i[t+428+(l*84|0)+44>>2]=0,$=(ne*m+X*h+q*o)*+i[n+420>>2],G=(Y*m+z*h+O*o)*+i[n+424>>2],L=(U*m+P*h+F*o)*+i[n+428>>2],i[t+428+(l*84|0)+48>>2]=$,i[t+428+(l*84|0)+52>>2]=G,i[t+428+(l*84|0)+56>>2]=L,i[t+428+(l*84|0)+60>>2]=0,E=(B*-m+b*-h+D*-o)*+i[p+420>>2],S=(M*-m+w*-h+C*-o)*+i[p+424>>2],a=(g*-m+d*-h+s*-o)*+i[p+428>>2],i[t+428+(l*84|0)+64>>2]=E,i[t+428+(l*84|0)+68>>2]=S,i[t+428+(l*84|0)+72>>2]=a,i[t+428+(l*84|0)+76>>2]=0,i[t+428+(l*84|0)+80>>2]=(ne*m+X*h+q*o)*$+(Y*m+z*h+O*o)*G+(U*m+P*h+F*o)*L+((B*-m+b*-h+D*-o)*E+(M*-m+w*-h+C*-o)*S+(g*-m+d*-h+s*-o)*a)),l=l+1|0}while((l|0)!=3);H=u}function ru(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0;O=+i[t+48>>2],l=+i[n>>2],z=+i[t+64>>2],u=+i[n+4>>2],Y=+i[t+80>>2],S=+i[n+8>>2],M=+i[t+52>>2],w=+i[t+68>>2],C=+i[t+84>>2],B=+i[t+56>>2],F=+i[t+72>>2],P=+i[t+88>>2],b=+i[n+16>>2],D=+i[n+20>>2],E=+i[n+24>>2],L=+i[n+32>>2],$=+i[n+36>>2],q=+i[n+40>>2],p=+i[t+96>>2],a=+i[t+100>>2],G=+i[t+104>>2],U=+i[n+48>>2]+(l*p+u*a+S*G),o=b*p+D*a+E*G+ +i[n+52>>2],G=L*p+$*a+q*G+ +i[n+56>>2],i[t+1064>>2]=O*l+z*u+Y*S,i[t+1068>>2]=l*M+u*w+S*C,i[t+1072>>2]=l*B+u*F+S*P,i[t+1076>>2]=0,i[t+1080>>2]=O*b+z*D+Y*E,i[t+1084>>2]=M*b+w*D+C*E,i[t+1088>>2]=B*b+F*D+P*E,i[t+1092>>2]=0,i[t+1096>>2]=O*L+z*$+Y*q,i[t+1100>>2]=M*L+w*$+C*q,i[t+1104>>2]=B*L+F*$+P*q,i[t+1108>>2]=0,i[t+1112>>2]=U,i[t+1116>>2]=o,i[t+1120>>2]=G,i[t+1124>>2]=0,G=+i[t+112>>2],o=+i[s>>2],U=+i[t+128>>2],q=+i[s+4>>2],P=+i[t+144>>2],$=+i[s+8>>2],F=+i[t+116>>2],L=+i[t+132>>2],B=+i[t+148>>2],C=+i[t+120>>2],w=+i[t+136>>2],M=+i[t+152>>2],Y=+i[s+16>>2],z=+i[s+20>>2],O=+i[s+24>>2],E=+i[s+32>>2],D=+i[s+36>>2],b=+i[s+40>>2],S=+i[t+160>>2],u=+i[t+164>>2],l=+i[t+168>>2],a=+i[s+48>>2]+(o*S+q*u+$*l),p=Y*S+z*u+O*l+ +i[s+52>>2],l=E*S+D*u+b*l+ +i[s+56>>2],i[t+1128>>2]=G*o+U*q+P*$,i[t+1132>>2]=o*F+q*L+$*B,i[t+1136>>2]=o*C+q*w+$*M,i[t+1140>>2]=0,i[t+1144>>2]=G*Y+U*z+P*O,i[t+1148>>2]=F*Y+L*z+B*O,i[t+1152>>2]=C*Y+w*z+M*O,i[t+1156>>2]=0,i[t+1160>>2]=G*E+U*D+P*b,i[t+1164>>2]=F*E+L*D+B*b,i[t+1168>>2]=C*E+w*D+M*b,i[t+1172>>2]=0,i[t+1176>>2]=a,i[t+1180>>2]=p,i[t+1184>>2]=l,i[t+1188>>2]=0,a=a-+i[t+1112>>2],p=p-+i[t+1116>>2],l=l-+i[t+1120>>2],B=+i[t+1084>>2],L=+i[t+1104>>2],F=+i[t+1088>>2],P=+i[t+1100>>2],U=+i[t+1096>>2],G=+i[t+1080>>2],O=+i[t+1064>>2],z=+i[t+1068>>2],Y=+i[t+1072>>2],$=1/((B*L-F*P)*O+z*(F*U-L*G)+(P*G-B*U)*Y),q=(P*G-B*U)*$,o=l*((F*z-B*Y)*$)+(a*((B*L-F*P)*$)+p*((P*Y-L*z)*$)),u=l*((G*Y-F*O)*$)+(a*((F*U-L*G)*$)+p*((L*O-U*Y)*$)),p=l*((B*O-G*z)*$)+(a*q+p*((U*z-P*O)*$)),i[t+1256>>2]=o,i[t+1260>>2]=u,i[t+1264>>2]=p,i[t+1268>>2]=0,i[t+840>>2]=o,a=+i[t+680>>2],l=+i[t+696>>2];do if(a>l)e[t+856>>2]=0,i[t+824>>2]=0;else{if(a>o){e[t+856>>2]=2,i[t+824>>2]=o-a;break}if(l<o){e[t+856>>2]=1,i[t+824>>2]=o-l;break}else{e[t+856>>2]=0,i[t+824>>2]=0;break}}while(!1);i[t+844>>2]=u,o=+i[t+684>>2],a=+i[t+700>>2];do if(o>a)e[t+860>>2]=0,i[t+828>>2]=0;else{if(o>u){e[t+860>>2]=2,i[t+828>>2]=u-o;break}if(a<u){e[t+860>>2]=1,i[t+828>>2]=u-a;break}else{e[t+860>>2]=0,i[t+828>>2]=0;break}}while(!1);i[t+848>>2]=p,o=+i[t+688>>2],a=+i[t+704>>2];do if(o>a)e[t+864>>2]=0,i[t+832>>2]=0;else{if(o>p){e[t+864>>2]=2,i[t+832>>2]=p-o;break}if(a<p){e[t+864>>2]=1,i[t+832>>2]=p-a;break}else{e[t+864>>2]=0,i[t+832>>2]=0;break}}while(!1);a=+i[t+1128>>2],l=+i[t+1144>>2],u=+i[t+1160>>2],p=+i[t+1132>>2],h=+i[t+1148>>2],d=+i[t+1164>>2],m=(B*L-F*P)*$*p+(P*Y-L*z)*$*h+(F*z-B*Y)*$*d,g=p*((F*U-L*G)*$)+(L*O-U*Y)*$*h+(G*Y-F*O)*$*d,S=u*((B*O-G*z)*$)+(a*q+l*((U*z-P*O)*$)),o=q*+i[t+1136>>2]+(U*z-P*O)*$*+i[t+1152>>2]+(B*O-G*z)*$*(C*E+w*D+M*b);do if(S<1)if(S>-1){i[t+1192>>2]=+gn(+-(p*q+(U*z-P*O)*$*h+(B*O-G*z)*$*d),+o),q=S<-1?-1:S,i[t+1196>>2]=+ha(+(q>1?1:q)),i[t+1200>>2]=+gn(+-(u*((G*Y-F*O)*$)+(a*((F*U-L*G)*$)+l*((L*O-U*Y)*$))),+(u*((F*z-B*Y)*$)+(a*((B*L-F*P)*$)+l*((P*Y-L*z)*$))));break}else{i[t+1192>>2]=-+gn(+m,+g),i[t+1196>>2]=-1.5707963705062866,i[t+1200>>2]=0;break}else i[t+1192>>2]=+gn(+m,+g),i[t+1196>>2]=1.5707963705062866,i[t+1200>>2]=0;while(!1);i[t+1236>>2]=0,P=L*(a*L-u*Y)-F*(l*Y-a*F),U=Y*(l*Y-a*F)-L*(u*F-l*L),G=F*(u*F-l*L)-Y*(a*L-u*Y),i[t+1220>>2]=0,O=l*(l*Y-a*F)-u*(a*L-u*Y),z=u*(u*F-l*L)-a*(l*Y-a*F),$=a*(a*L-u*Y)-l*(u*F-l*L),i[t+1252>>2]=0,q=1/+ot(+(P*P+U*U+G*G)),i[t+1208>>2]=P*q,i[t+1212>>2]=U*q,i[t+1216>>2]=G*q,q=1/+ot(+((u*F-l*L)*(u*F-l*L)+(a*L-u*Y)*(a*L-u*Y)+(l*Y-a*F)*(l*Y-a*F))),i[t+1224>>2]=(u*F-l*L)*q,i[t+1228>>2]=(a*L-u*Y)*q,i[t+1232>>2]=(l*Y-a*F)*q,q=1/+ot(+(O*O+z*z+$*$)),i[t+1240>>2]=O*q,i[t+1244>>2]=z*q,i[t+1248>>2]=$*q,R[t+1301>>0]|0&&($=+i[(e[t+28>>2]|0)+368>>2],q=+i[(e[t+32>>2]|0)+368>>2],R[t+1280>>0]=($<11920928955078125e-23|q<11920928955078125e-23)&1,q=$+q>0?q/($+q):.5,i[t+1272>>2]=q,i[t+1276>>2]=1-q)}function mh(t,n,s,o,a,l,u,p,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=+a,l=+l,u=+u,p=+p,h=+h,d=+d;var m=0;m=H,H=H+128|0,e[m+80>>2]=e[t+4>>2],e[m+80+4>>2]=e[t+20>>2],e[m+80+8>>2]=e[t+36>>2],i[m+80+12>>2]=0,e[m+80+16>>2]=e[t+8>>2],e[m+80+20>>2]=e[t+24>>2],e[m+80+24>>2]=e[t+40>>2],i[m+80+28>>2]=0,e[m+80+32>>2]=e[t+12>>2],e[m+80+36>>2]=e[t+28>>2],e[m+80+40>>2]=e[t+44>>2],i[m+80+44>>2]=0,e[m+32>>2]=e[n+4>>2],e[m+32+4>>2]=e[n+20>>2],e[m+32+8>>2]=e[n+36>>2],i[m+32+12>>2]=0,e[m+32+16>>2]=e[n+8>>2],e[m+32+20>>2]=e[n+24>>2],e[m+32+24>>2]=e[n+40>>2],i[m+32+28>>2]=0,e[m+32+32>>2]=e[n+12>>2],e[m+32+36>>2]=e[n+28>>2],e[m+32+40>>2]=e[n+44>>2],i[m+32+44>>2]=0,l=l-+i[t+56>>2],u=u-+i[t+60>>2],i[m+16>>2]=a-+i[t+52>>2],i[m+16+4>>2]=l,i[m+16+8>>2]=u,i[m+16+12>>2]=0,h=h-+i[n+56>>2],d=d-+i[n+60>>2],i[m>>2]=p-+i[n+52>>2],i[m+4>>2]=h,i[m+8>>2]=d,i[m+12>>2]=0,Wf(s,m+80|0,m+32|0,m+16|0,m,o,t+420|0,+i[t+368>>2],n+420|0,+i[n+368>>2]),H=m}function Hf(t,n,s){t=+t,n=+n,s=+s;var o=0,a=0,l=0;return n>=s?+t:t<n?(o=+an(n-t),o<-3.1415927410125732?o=o+6.2831854820251465:o>3.1415927410125732&&(o=o+-6.2831854820251465),a=+ht(+o),o=+an(s-t),o<-3.1415927410125732?o=o+6.2831854820251465:o>3.1415927410125732&&(o=o+-6.2831854820251465),l=a<+ht(+o),t=l?t:t+6.2831854820251465,+t):(t>s&&(o=+an(t-s),o<-3.1415927410125732?o=o+6.2831854820251465:o>3.1415927410125732&&(o=o+-6.2831854820251465),a=+ht(+o),o=+an(t-n),o<-3.1415927410125732?o=o+6.2831854820251465:o>3.1415927410125732&&(o=o+-6.2831854820251465),l=+ht(+o)<a,t=l?t+-6.2831854820251465:t),+t)}function s0e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0;if(R[t+1308>>0]|0){e[n>>2]=0,e[n+4>>2]=0;return}ru(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0),e[n>>2]=0,e[n+4>>2]=6,(e[t+856>>2]|0)==0&&(R[t+788>>0]|0)==0?(s=0,o=6):(e[n>>2]=1,e[n+4>>2]=5,s=1,o=5),(e[t+860>>2]|0)==0&&(R[t+789>>0]|0)==0||(s=s+1|0,e[n>>2]=s,o=o+-1|0,e[n+4>>2]=o),(e[t+864>>2]|0)==0&&(R[t+790>>0]|0)==0||(s=s+1|0,e[n>>2]=s,o=o+-1|0,e[n+4>>2]=o),h=0;do{l=+i[t+868+(h<<6)>>2],u=+i[t+868+(h<<6)+4>>2],p=+Hf(+i[t+1192+(h<<2)>>2],l,u),i[t+868+(h<<6)+52>>2]=p;do if(l>u)e[t+868+(h<<6)+56>>2]=0,a=20;else{if(l>p){if(e[t+868+(h<<6)+56>>2]=1,a=t+868+(h<<6)+48|0,i[a>>2]=p-l,p-l>3.1415927410125732){i[a>>2]=p-l+-6.2831854820251465,a=21;break}if(!(p-l<-3.1415927410125732)){a=21;break}i[a>>2]=p-l+6.2831854820251465,a=21;break}if(a=t+868+(h<<6)+56|0,!(u<p)){e[a>>2]=0,a=20;break}if(e[a>>2]=2,a=t+868+(h<<6)+48|0,i[a>>2]=p-u,p-u>3.1415927410125732){i[a>>2]=p-u+-6.2831854820251465,a=21;break}p-u<-3.1415927410125732&&(i[a>>2]=p-u+6.2831854820251465),a=21}while(!1);(a|0)==20&&(a=0,R[t+868+(h<<6)+44>>0]|0&&(a=21)),(a|0)==21&&(s=s+1|0,e[n>>2]=s,o=o+-1|0,e[n+4>>2]=o),h=h+1|0}while((h|0)!=3)}function gh(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0;if(h=H,H=H+16|0,u=e[t+28>>2]|0,p=e[t+32>>2]|0,!(R[t+1301>>0]|0)){l=0,s=q6(t,n,0,u+4|0,p+4|0,u+336|0,p+336|0,u+352|0,p+352|0)|0;do o=t+868+(l<<6)|0,(e[t+868+(l<<6)+56>>2]|0)==0&&(R[t+868+(l<<6)+44>>0]|0)==0||(a=t+1208+(l<<4)|0,e[h>>2]=e[a>>2],e[h+4>>2]=e[a+4>>2],e[h+8>>2]=e[a+8>>2],e[h+12>>2]=e[a+12>>2],a=e[t+1304>>2]>>(l*3|0)+9,a&1||(e[t+868+(l<<6)+28>>2]=e[e[n+32>>2]>>2]),a&2||(e[t+868+(l<<6)+36>>2]=e[e[n+32>>2]>>2]),a&4||(e[t+868+(l<<6)+32>>2]=e[n+4>>2]),s=(jf(t,o,u+4|0,p+4|0,u+336|0,p+336|0,u+352|0,p+352|0,n,s,h,1,0)|0)+s|0),l=l+1|0;while((l|0)!=3);H=h;return}l=0,s=0;do o=t+868+(l<<6)|0,(e[t+868+(l<<6)+56>>2]|0)==0&&(R[t+868+(l<<6)+44>>0]|0)==0||(a=t+1208+(l<<4)|0,e[h>>2]=e[a>>2],e[h+4>>2]=e[a+4>>2],e[h+8>>2]=e[a+8>>2],e[h+12>>2]=e[a+12>>2],a=e[t+1304>>2]>>(l*3|0)+9,a&1||(e[t+868+(l<<6)+28>>2]=e[e[n+32>>2]>>2]),a&2||(e[t+868+(l<<6)+36>>2]=e[e[n+32>>2]>>2]),a&4||(e[t+868+(l<<6)+32>>2]=e[n+4>>2]),s=(jf(t,o,u+4|0,p+4|0,u+336|0,p+336|0,u+352|0,p+352|0,n,s,h,1,0)|0)+s|0),l=l+1|0;while((l|0)!=3);q6(t,n,s,u+4|0,p+4|0,u+336|0,p+336|0,u+352|0,p+352|0)|0,H=h}function jf(t,n,s,o,a,l,u,p,h,d,m,g,S){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0,m=m|0,g=g|0,S=S|0;var C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0;if(U=Rt(e[h+24>>2]|0,d)|0,d=R[n+44>>0]|0,P=e[n+56>>2]|0,!(d<<24>>24!=0|(P|0)!=0))return U=0,U|0;O=e[(g|0?h+12|0:h+8|0)>>2]|0,G=e[(g|0?h+20|0:h+16|0)>>2]|0,e[O+(U<<2)>>2]=e[m>>2],e[O+(U+1<<2)>>2]=e[m+4>>2],e[O+(U+2<<2)>>2]=e[m+8>>2],i[G+(U<<2)>>2]=-+i[m>>2],i[G+(U+1<<2)>>2]=-+i[m+4>>2],i[G+(U+2<<2)>>2]=-+i[m+8>>2];do if(!g){if(C=+i[t+1176>>2],!(R[t+1301>>0]|0)){E=C-+i[s+48>>2],B=+i[t+1180>>2]-+i[s+52>>2],L=+i[t+1184>>2]-+i[s+56>>2],b=+i[m+8>>2],M=+i[m+4>>2],D=+i[m>>2],O=e[h+12>>2]|0,i[O+(U<<2)>>2]=B*b-L*M,i[O+(U+1<<2)>>2]=L*D-E*b,i[O+(U+2<<2)>>2]=E*M-B*D,D=+i[t+1176>>2]-+i[o+48>>2],B=+i[t+1180>>2]-+i[o+52>>2],M=+i[t+1184>>2]-+i[o+56>>2],E=+i[m+8>>2],b=+i[m+4>>2],L=+i[m>>2],O=e[h+20>>2]|0,i[O+(U<<2)>>2]=-(B*E-M*b),i[O+(U+1<<2)>>2]=-(M*L-D*E),i[O+(U+2<<2)>>2]=-(D*b-B*L);break}ne=C-+i[o+48>>2],X=+i[t+1180>>2]-+i[o+52>>2],$=+i[t+1184>>2]-+i[o+56>>2],D=+i[m>>2],q=+i[m+4>>2],Y=+i[m+8>>2],te=+i[t+1112>>2]-+i[s+48>>2],E=+i[t+1116>>2]-+i[s+52>>2],C=+i[t+1120>>2]-+i[s+56>>2],b=+i[n+52>>2]-+i[n+48>>2],W=D*(D*te+q*E+Y*C)+D*b-D*(ne*D+X*q+$*Y),z=q*(D*te+q*E+Y*C)+q*b-q*(ne*D+X*q+$*Y),b=Y*(D*te+q*E+Y*C)+Y*b-Y*(ne*D+X*q+$*Y),L=+i[t+1272>>2],B=+i[t+1276>>2],M=Y*(E-q*(D*te+q*E+Y*C)+L*z)-q*(C-Y*(D*te+q*E+Y*C)+L*b),w=D*(C-Y*(D*te+q*E+Y*C)+L*b)-Y*(te-D*(D*te+q*E+Y*C)+L*W),C=q*(te-D*(D*te+q*E+Y*C)+L*W)-D*(E-q*(D*te+q*E+Y*C)+L*z),E=(X-q*(ne*D+X*q+$*Y)-B*z)*Y-($-Y*(ne*D+X*q+$*Y)-B*b)*q,b=($-Y*(ne*D+X*q+$*Y)-B*b)*D-(ne-D*(ne*D+X*q+$*Y)-B*W)*Y,D=(ne-D*(ne*D+X*q+$*Y)-B*W)*q-(X-q*(ne*D+X*q+$*Y)-B*z)*D,(S|0)!=0|(R[t+1280>>0]|0)==0||(E=B*E,b=B*b,D=B*D,M=L*M,w=L*w,C=L*C),O=(e[h+12>>2]|0)+(U<<2)|0,i[O>>2]=M,i[O+4>>2]=w,i[O+8>>2]=C,O=e[h+20>>2]|0,i[O+(U<<2)>>2]=-E,i[O+(U+1<<2)>>2]=-b,i[O+(U+2<<2)>>2]=-D}while(!1);P|0&&+i[n>>2]==+i[n+4>>2]?(d=e[h+28>>2]|0,i[d+(U<<2)>>2]=0,C=0,s=h+28|0):F=11;do if((F|0)==11){if(s=e[h+28>>2]|0,i[s+(U<<2)>>2]=0,!(d<<24>>24)){if(P|0){d=s,C=0,s=h+28|0;break}else d=1;return d|0}if(e[(e[h+32>>2]|0)+(U<<2)>>2]=e[n+28>>2],P|0){d=s,C=+i[s+(U<<2)>>2],s=h+28|0;break}b=+i[n+8>>2],C=g|0?b:-b,w=+i[n+52>>2],M=+i[n>>2],E=+i[n+4>>2],D=+i[h>>2]*+i[n+32>>2];do if(M>E)C=1;else if(M!=E){if(C/D<0)if(w>=M&&M-C/D>w){C=(M-w)/(C/D);break}else{C=w<M?0:1;break}if(C/D>0)if(w<=E&&E-C/D<w){C=(E-w)/(C/D);break}else{C=w>E?0:1;break}else C=0}else C=0;while(!1);return i[s+(U<<2)>>2]=C*b+ +i[s+(U<<2)>>2],i[(e[h+36>>2]|0)+(U<<2)>>2]=-+i[n+12>>2],e[(e[h+40>>2]|0)+(U<<2)>>2]=e[n+12>>2],O=1,O|0}while(!1);return te=+i[h>>2]*+i[n+32>>2]*+i[n+48>>2],i[d+(U<<2)>>2]=C+(g|0?-te:te),e[(e[h+32>>2]|0)+(U<<2)>>2]=e[n+36>>2],+i[n>>2]==+i[n+4>>2]?(i[(e[h+36>>2]|0)+(U<<2)>>2]=-34028234663852886e22,i[(e[h+40>>2]|0)+(U<<2)>>2]=34028234663852886e22,O=1,O|0):(O=e[h+40>>2]|0,i[(e[h+36>>2]|0)+(U<<2)>>2]=(P|0)==1?0:-34028234663852886e22,i[O+(U<<2)>>2]=(P|0)==1?34028234663852886e22:0,w=+i[n+40>>2],w>0?(g|0?(W=+i[m>>2],te=+i[m+4>>2],C=+i[m+8>>2],C=+i[u>>2]*W+ +i[u+4>>2]*te+ +i[u+8>>2]*C-(W*+i[p>>2]+te*+i[p+4>>2]+C*+i[p+8>>2])):(W=+i[m>>2],te=+i[m+4>>2],C=+i[m+8>>2],C=+i[a>>2]*W+ +i[a+4>>2]*te+ +i[a+8>>2]*C-(W*+i[l>>2]+te*+i[l+4>>2]+C*+i[l+8>>2])),(P|0)==1?!(C<0)||(C=-(C*w),d=(e[s>>2]|0)+(U<<2)|0,!(+i[d>>2]<C))?(O=1,O|0):(i[d>>2]=C,O=1,O|0):!(C>0)||(C=-(C*w),d=(e[s>>2]|0)+(U<<2)|0,!(+i[d>>2]>C))?(O=1,O|0):(i[d>>2]=C,O=1,O|0)):(O=1,O|0))}function q6(t,n,s,o,a,l,u,p,h){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0;var d=0,m=0,g=0,S=0;S=H,H=H+80|0,i[S+16+60>>2]=0,i[S+16+8>>2]=0,i[S+16+12>>2]=.10000000149011612,i[S+16+16>>2]=300,i[S+16>>2]=1,i[S+16+4>>2]=-1,i[S+16+28>>2]=0,i[S+16+32>>2]=.20000000298023224,i[S+16+36>>2]=0,i[S+16+40>>2]=0,i[S+16+20>>2]=1,i[S+16+24>>2]=.5,e[S+16+56>>2]=0,i[S+16+48>>2]=0,R[S+16+44>>0]=0,g=0;do d=e[t+856+(g<<2)>>2]|0,m=R[t+788+g>>0]|0,(d|0)==0&m<<24>>24==0||(i[S+16+40>>2]=0,e[S+16+56>>2]=d,e[S+16+52>>2]=e[t+840+(g<<2)>>2],e[S+16+48>>2]=e[t+824+(g<<2)>>2],e[S+16+20>>2]=e[t+732>>2],R[S+16+44>>0]=m,e[S+16+4>>2]=e[t+696+(g<<2)>>2],e[S+16+24>>2]=e[t+728>>2],e[S+16>>2]=e[t+680+(g<<2)>>2],i[S+16+16>>2]=0,e[S+16+12>>2]=e[t+808+(g<<2)>>2],e[S+16+8>>2]=e[t+792+(g<<2)>>2],e[S>>2]=e[t+1064+(g<<2)>>2],e[S+4>>2]=e[t+1080+(g<<2)>>2],e[S+8>>2]=e[t+1096+(g<<2)>>2],i[S+12>>2]=0,m=e[t+1304>>2]>>g*3,m&1?d=t+740+(g<<2)|0:d=e[n+32>>2]|0,e[S+16+28>>2]=e[d>>2],m&2?d=t+772+(g<<2)|0:d=e[n+32>>2]|0,e[S+16+36>>2]=e[d>>2],e[S+16+32>>2]=e[((m&4|0)==0?n+4|0:t+756+(g<<2)|0)>>2],R[t+1301>>0]|0?(m=g+1|0,e[t+868+(((m|0)==3?0:m)<<6)+56>>2]|0?d=(e[t+868+(((g+2|0)%3|0)<<6)+56>>2]|0)==0&1:d=1,d=jf(t,S+16|0,o,a,l,u,p,h,n,s,S,0,d)|0):d=jf(t,S+16|0,o,a,l,u,p,h,n,s,S,0,0)|0,s=d+s|0),g=g+1|0;while((g|0)!=3);return H=S,s|0}function o0e(t,n,s,o){if(t=t|0,n=n|0,s=+s,o=o|0,o>>>0<3)switch(n|0){case 2:{i[t+756+(o<<2)>>2]=s,e[t+1304>>2]=e[t+1304>>2]|4<<o*3;return}case 4:{i[t+772+(o<<2)>>2]=s,e[t+1304>>2]=e[t+1304>>2]|2<<o*3;return}case 3:{i[t+740+(o<<2)>>2]=s,e[t+1304>>2]=e[t+1304>>2]|1<<o*3;return}default:return}if(!((o+-3|0)>>>0>=3))switch(n|0){case 2:{i[t+868+(o+-3<<6)+32>>2]=s,e[t+1304>>2]=e[t+1304>>2]|4<<o*3;return}case 4:{i[t+868+(o+-3<<6)+36>>2]=s,e[t+1304>>2]=e[t+1304>>2]|2<<o*3;return}case 3:{i[t+868+(o+-3<<6)+28>>2]=s,e[t+1304>>2]=e[t+1304>>2]|1<<o*3;return}default:return}}function a0e(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;e:do if(s>>>0>=3)if((s+-3|0)>>>0<3)switch(n|0){case 2:{o=+i[t+868+(s+-3<<6)+32>>2];break e}case 4:{o=+i[t+868+(s+-3<<6)+36>>2];break e}case 3:{o=+i[t+868+(s+-3<<6)+28>>2];break e}default:{o=0;break e}}else o=0;else switch(n|0){case 2:{o=+i[t+756+(s<<2)>>2];break e}case 4:{o=+i[t+772+(s<<2)>>2];break e}case 3:{o=+i[t+740+(s<<2)>>2];break e}default:{o=0;break e}}while(!1);return+o}function c0e(t){return t=t|0,252}function X6(t,n,s){return t=t|0,n=n|0,s=s|0,ya(t,n,s)|0,e[n+52>>2]=e[t+48>>2],e[n+56>>2]=e[t+52>>2],e[n+60>>2]=e[t+56>>2],e[n+64>>2]=e[t+60>>2],e[n+68>>2]=e[t+64>>2],e[n+72>>2]=e[t+68>>2],e[n+76>>2]=e[t+72>>2],e[n+80>>2]=e[t+76>>2],e[n+84>>2]=e[t+80>>2],e[n+88>>2]=e[t+84>>2],e[n+92>>2]=e[t+88>>2],e[n+96>>2]=e[t+92>>2],e[n+100>>2]=e[t+96>>2],e[n+104>>2]=e[t+100>>2],e[n+108>>2]=e[t+104>>2],e[n+112>>2]=e[t+108>>2],e[n+116>>2]=e[t+112>>2],e[n+120>>2]=e[t+116>>2],e[n+124>>2]=e[t+120>>2],e[n+128>>2]=e[t+124>>2],e[n+132>>2]=e[t+128>>2],e[n+136>>2]=e[t+132>>2],e[n+140>>2]=e[t+136>>2],e[n+144>>2]=e[t+140>>2],e[n+148>>2]=e[t+144>>2],e[n+152>>2]=e[t+148>>2],e[n+156>>2]=e[t+152>>2],e[n+160>>2]=e[t+156>>2],e[n+164>>2]=e[t+160>>2],e[n+168>>2]=e[t+164>>2],e[n+172>>2]=e[t+168>>2],e[n+176>>2]=e[t+172>>2],e[n+228>>2]=e[t+868>>2],e[n+212>>2]=e[t+872>>2],e[n+196>>2]=e[t+680>>2],e[n+180>>2]=e[t+696>>2],e[n+232>>2]=e[t+932>>2],e[n+216>>2]=e[t+936>>2],e[n+200>>2]=e[t+684>>2],e[n+184>>2]=e[t+700>>2],e[n+236>>2]=e[t+996>>2],e[n+220>>2]=e[t+1e3>>2],e[n+204>>2]=e[t+688>>2],e[n+188>>2]=e[t+704>>2],t=ee[t+1300>>1]|0,e[n+244>>2]=t&255,e[n+248>>2]=(t&65535)>>>8&65535,15229}function l0e(t){t=t|0;var n=0,s=0,o=0,a=0;n=+i[(e[t+28>>2]|0)+368>>2],s=+i[(e[t+32>>2]|0)+368>>2],s==0?n=1:n=n/(n+s),a=1-n,o=n*+i[t+1116>>2]+a*+i[t+1180>>2],s=n*+i[t+1120>>2]+a*+i[t+1184>>2],i[t+1284>>2]=n*+i[t+1112>>2]+a*+i[t+1176>>2],i[t+1288>>2]=o,i[t+1292>>2]=s,i[t+1296>>2]=0}function u0e(t){return t=t|0,e[t+1304>>2]|0}function $6(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,e[t+4>>2]=6,e[t+8>>2]=-1,e[t+12>>2]=-1,i[t+16>>2]=34028234663852886e22,R[t+20>>0]=1,R[t+21>>0]=0,e[t+24>>2]=-1,e[t+28>>2]=n,e[t+32>>2]=s,i[t+36>>2]=0,i[t+40>>2]=.30000001192092896,e[t+44>>2]=0,e[t>>2]=7240,e[t+48>>2]=e[o>>2],e[t+48+4>>2]=e[o+4>>2],e[t+48+8>>2]=e[o+8>>2],e[t+48+12>>2]=e[o+12>>2],e[t+64>>2]=e[o+16>>2],e[t+64+4>>2]=e[o+16+4>>2],e[t+64+8>>2]=e[o+16+8>>2],e[t+64+12>>2]=e[o+16+12>>2],e[t+80>>2]=e[o+32>>2],e[t+80+4>>2]=e[o+32+4>>2],e[t+80+8>>2]=e[o+32+8>>2],e[t+80+12>>2]=e[o+32+12>>2],e[t+96>>2]=e[o+48>>2],e[t+96+4>>2]=e[o+48+4>>2],e[t+96+8>>2]=e[o+48+8>>2],e[t+96+12>>2]=e[o+48+12>>2],e[t+112>>2]=e[a>>2],e[t+112+4>>2]=e[a+4>>2],e[t+112+8>>2]=e[a+8>>2],e[t+112+12>>2]=e[a+12>>2],e[t+128>>2]=e[a+16>>2],e[t+128+4>>2]=e[a+16+4>>2],e[t+128+8>>2]=e[a+16+8>>2],e[t+128+12>>2]=e[a+16+12>>2],e[t+144>>2]=e[a+32>>2],e[t+144+4>>2]=e[a+32+4>>2],e[t+144+8>>2]=e[a+32+8>>2],e[t+144+12>>2]=e[a+32+12>>2],e[t+160>>2]=e[a+48>>2],e[t+160+4>>2]=e[a+48+4>>2],e[t+160+8>>2]=e[a+48+8>>2],e[t+160+12>>2]=e[a+48+12>>2],o=t+680|0,a=o+48|0;do e[o>>2]=0,o=o+4|0;while((o|0)<(a|0));e[t+740>>2]=0,e[t+740+4>>2]=0,e[t+740+8>>2]=0,e[t+740+12>>2]=0,e[t+756>>2]=1045220557,e[t+760>>2]=1045220557,e[t+764>>2]=1045220557,e[t+768>>2]=0,e[t+768+4>>2]=0,e[t+768+8>>2]=0,e[t+768+12>>2]=0,e[t+768+16>>2]=0,i[t+728>>2]=.699999988079071,i[t+732>>2]=1,i[t+736>>2]=.5,R[t+788>>0]=0,i[t+792>>2]=0,i[t+808>>2]=0,R[t+789>>0]=0,i[t+796>>2]=0,i[t+812>>2]=0,R[t+790>>0]=0,i[t+800>>2]=0,i[t+816>>2]=0,i[t+928>>2]=0,i[t+876>>2]=0,i[t+880>>2]=.10000000149011612,i[t+884>>2]=300,i[t+868>>2]=1,i[t+872>>2]=-1,i[t+896>>2]=0,i[t+900>>2]=.20000000298023224,i[t+904>>2]=0,i[t+908>>2]=0,i[t+888>>2]=1,i[t+892>>2]=.5,e[t+924>>2]=0,i[t+916>>2]=0,R[t+912>>0]=0,i[t+992>>2]=0,i[t+940>>2]=0,i[t+944>>2]=.10000000149011612,i[t+948>>2]=300,i[t+932>>2]=1,i[t+936>>2]=-1,i[t+960>>2]=0,i[t+964>>2]=.20000000298023224,i[t+968>>2]=0,i[t+972>>2]=0,i[t+952>>2]=1,i[t+956>>2]=.5,e[t+988>>2]=0,i[t+980>>2]=0,R[t+976>>0]=0,i[t+1056>>2]=0,i[t+1004>>2]=0,i[t+1008>>2]=.10000000149011612,i[t+1012>>2]=300,i[t+996>>2]=1,i[t+1e3>>2]=-1,i[t+1024>>2]=0,i[t+1028>>2]=.20000000298023224,i[t+1032>>2]=0,i[t+1036>>2]=0,i[t+1016>>2]=1,i[t+1020>>2]=.5,e[t+1052>>2]=0,i[t+1044>>2]=0,R[t+1040>>0]=0,R[t+1300>>0]=l&1,R[t+1301>>0]=1,e[t+1304>>2]=0,R[t+1308>>0]=0,ru(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0)}function Y6(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0;l=H,H=H+16|0,R[19880]|0||(R[19880]=1,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,eu(21260,0,0,0,l)),e[5366]=e[5366]|1,i[5407]=0,u=+i[5417]*0,p=+i[5418]*0,i[5412]=+i[5416]*0,i[5413]=u,i[5414]=p,i[5415]=0,e[5420]=0,e[5421]=0,e[5422]=0,e[5423]=0,p=+i[5409]*0,u=+i[5410]*0,i[5461]=+i[5408]*0,i[5462]=p,i[5463]=u,i[5464]=0,e[t+4>>2]=6,e[t+8>>2]=-1,e[t+12>>2]=-1,i[t+16>>2]=34028234663852886e22,R[t+20>>0]=1,R[t+21>>0]=0,e[t+24>>2]=-1,e[t+28>>2]=21260,e[t+32>>2]=n,i[t+36>>2]=0,i[t+40>>2]=.30000001192092896,e[t+44>>2]=0,e[t>>2]=7240,e[t+112>>2]=e[s>>2],e[t+112+4>>2]=e[s+4>>2],e[t+112+8>>2]=e[s+8>>2],e[t+112+12>>2]=e[s+12>>2],e[t+128>>2]=e[s+16>>2],e[t+128+4>>2]=e[s+16+4>>2],e[t+128+8>>2]=e[s+16+8>>2],e[t+128+12>>2]=e[s+16+12>>2],e[t+144>>2]=e[s+32>>2],e[t+144+4>>2]=e[s+32+4>>2],e[t+144+8>>2]=e[s+32+8>>2],e[t+144+12>>2]=e[s+32+12>>2],e[t+160>>2]=e[s+48>>2],e[t+160+4>>2]=e[s+48+4>>2],e[t+160+8>>2]=e[s+48+8>>2],e[t+160+12>>2]=e[s+48+12>>2],s=t+680|0,a=s+48|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(a|0));e[t+740>>2]=0,e[t+740+4>>2]=0,e[t+740+8>>2]=0,e[t+740+12>>2]=0,e[t+756>>2]=1045220557,e[t+760>>2]=1045220557,e[t+764>>2]=1045220557,e[t+768>>2]=0,e[t+768+4>>2]=0,e[t+768+8>>2]=0,e[t+768+12>>2]=0,e[t+768+16>>2]=0,i[t+728>>2]=.699999988079071,i[t+732>>2]=1,i[t+736>>2]=.5,R[t+788>>0]=0,i[t+792>>2]=0,i[t+808>>2]=0,R[t+789>>0]=0,i[t+796>>2]=0,i[t+812>>2]=0,R[t+790>>0]=0,i[t+800>>2]=0,i[t+816>>2]=0,i[t+928>>2]=0,i[t+876>>2]=0,i[t+880>>2]=.10000000149011612,i[t+884>>2]=300,i[t+868>>2]=1,i[t+872>>2]=-1,i[t+896>>2]=0,i[t+900>>2]=.20000000298023224,i[t+904>>2]=0,i[t+908>>2]=0,i[t+888>>2]=1,i[t+892>>2]=.5,e[t+924>>2]=0,i[t+916>>2]=0,R[t+912>>0]=0,i[t+992>>2]=0,i[t+940>>2]=0,i[t+944>>2]=.10000000149011612,i[t+948>>2]=300,i[t+932>>2]=1,i[t+936>>2]=-1,i[t+960>>2]=0,i[t+964>>2]=.20000000298023224,i[t+968>>2]=0,i[t+972>>2]=0,i[t+952>>2]=1,i[t+956>>2]=.5,e[t+988>>2]=0,i[t+980>>2]=0,R[t+976>>0]=0,i[t+1056>>2]=0,i[t+1004>>2]=0,i[t+1008>>2]=.10000000149011612,i[t+1012>>2]=300,i[t+996>>2]=1,i[t+1e3>>2]=-1,i[t+1024>>2]=0,i[t+1028>>2]=.20000000298023224,i[t+1032>>2]=0,i[t+1036>>2]=0,i[t+1016>>2]=1,i[t+1020>>2]=.5,e[t+1052>>2]=0,i[t+1044>>2]=0,R[t+1040>>0]=0,R[t+1300>>0]=o&1,R[t+1301>>0]=1,e[t+1304>>2]=0,R[t+1308>>0]=0,L=+i[t+112>>2],z=+i[n+4>>2],B=+i[t+128>>2],O=+i[n+8>>2],b=+i[t+144>>2],G=+i[n+12>>2],D=+i[t+116>>2],E=+i[t+132>>2],M=+i[t+148>>2],w=+i[t+120>>2],S=+i[t+136>>2],m=+i[t+152>>2],U=+i[n+20>>2],P=+i[n+24>>2],F=+i[n+28>>2],C=+i[n+36>>2],g=+i[n+40>>2],d=+i[n+44>>2],$=+i[t+160>>2],Y=+i[t+164>>2],p=+i[t+168>>2],h=+i[n+52>>2]+(z*$+O*Y+G*p),u=U*$+P*Y+F*p+ +i[n+56>>2],p=C*$+g*Y+d*p+ +i[n+60>>2],i[t+48>>2]=L*z+B*O+b*G,i[t+52>>2]=z*D+O*E+G*M,i[t+56>>2]=z*w+O*S+G*m,i[t+60>>2]=0,i[t+64>>2]=L*U+B*P+b*F,i[t+68>>2]=D*U+E*P+M*F,i[t+72>>2]=w*U+S*P+m*F,i[t+76>>2]=0,i[t+80>>2]=L*C+B*g+b*d,i[t+84>>2]=D*C+E*g+M*d,i[t+88>>2]=w*C+S*g+m*d,i[t+92>>2]=0,i[t+96>>2]=h,i[t+100>>2]=u,i[t+104>>2]=p,i[t+108>>2]=0,ru(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0),H=l}function f0e(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function _0e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;switch(xh(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0),e[n>>2]=0,e[n+4>>2]=0,e[t+956>>2]|0){case 4:{e[n>>2]=2,s=2;break}case 0:{s=0;break}default:e[n>>2]=1,s=1}switch(R[t+792>>0]|0&&(s=s+1|0,e[n>>2]=s),R[t+798>>0]|0&&(s=s+1|0,e[n>>2]=s),e[t+960>>2]|0){case 4:{s=s+2|0,e[n>>2]=s;break}case 0:break;default:s=s+1|0,e[n>>2]=s}switch(R[t+793>>0]|0&&(s=s+1|0,e[n>>2]=s),R[t+799>>0]|0&&(s=s+1|0,e[n>>2]=s),e[t+964>>2]|0){case 4:{s=s+2|0,e[n>>2]=s;break}case 0:break;default:s=s+1|0,e[n>>2]=s}R[t+794>>0]|0&&(s=s+1|0,e[n>>2]=s),R[t+800>>0]|0&&(s=s+1|0,e[n>>2]=s),u=0;do{o=+i[t+968+(u*88|0)>>2],a=+i[t+968+(u*88|0)+4>>2],l=+Hf(+i[t+1364+(u<<2)>>2],o,a),i[t+968+(u*88|0)+80>>2]=l;do if(o>a)e[t+968+(u*88|0)+84>>2]=0,i[t+968+(u*88|0)+72>>2]=0;else if(i[t+968+(u*88|0)+72>>2]=l-o,o==a){e[t+968+(u*88|0)+84>>2]=3,s=s+1|0,e[n>>2]=s;break}else{i[t+968+(u*88|0)+76>>2]=l-a,e[t+968+(u*88|0)+84>>2]=4,s=s+2|0,e[n>>2]=s;break}while(!1);R[t+968+(u*88|0)+28>>0]|0&&(s=s+1|0,e[n>>2]=s),R[t+968+(u*88|0)+48>>0]|0&&(s=s+1|0,e[n>>2]=s),u=u+1|0}while((u|0)!=3)}function xh(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0;ve=+i[t+48>>2],l=+i[n>>2],de=+i[t+64>>2],F=+i[n+4>>2],fe=+i[t+80>>2],o=+i[n+8>>2],G=+i[t+52>>2],U=+i[t+68>>2],P=+i[t+84>>2],se=+i[t+56>>2],ae=+i[t+72>>2],he=+i[t+88>>2],Y=+i[n+16>>2],z=+i[n+20>>2],O=+i[n+24>>2],oe=+i[n+32>>2],L=+i[n+36>>2],M=+i[n+40>>2],p=+i[t+96>>2],a=+i[t+100>>2],xe=+i[t+104>>2],me=+i[n+48>>2]+(l*p+F*a+o*xe),B=Y*p+z*a+O*xe+ +i[n+52>>2],xe=oe*p+L*a+M*xe+ +i[n+56>>2],i[t+1236>>2]=ve*l+de*F+fe*o,i[t+1240>>2]=l*G+F*U+o*P,i[t+1244>>2]=l*se+F*ae+o*he,i[t+1248>>2]=0,i[t+1252>>2]=ve*Y+de*z+fe*O,i[t+1256>>2]=G*Y+U*z+P*O,i[t+1260>>2]=se*Y+ae*z+he*O,i[t+1264>>2]=0,i[t+1268>>2]=ve*oe+de*L+fe*M,i[t+1272>>2]=G*oe+U*L+P*M,i[t+1276>>2]=se*oe+ae*L+he*M,i[t+1280>>2]=0,i[t+1284>>2]=me,i[t+1288>>2]=B,i[t+1292>>2]=xe,i[t+1296>>2]=0,xe=+i[t+112>>2],B=+i[s>>2],me=+i[t+128>>2],M=+i[s+4>>2],he=+i[t+144>>2],L=+i[s+8>>2],ae=+i[t+116>>2],oe=+i[t+132>>2],se=+i[t+148>>2],P=+i[t+120>>2],U=+i[t+136>>2],G=+i[t+152>>2],fe=+i[s+16>>2],de=+i[s+20>>2],ve=+i[s+24>>2],O=+i[s+32>>2],z=+i[s+36>>2],Y=+i[s+40>>2],o=+i[t+160>>2],F=+i[t+164>>2],l=+i[t+168>>2],a=+i[s+48>>2]+(B*o+M*F+L*l),p=fe*o+de*F+ve*l+ +i[s+52>>2],l=O*o+z*F+Y*l+ +i[s+56>>2],i[t+1300>>2]=xe*B+me*M+he*L,i[t+1304>>2]=B*ae+M*oe+L*se,i[t+1308>>2]=B*P+M*U+L*G,i[t+1312>>2]=0,i[t+1316>>2]=xe*fe+me*de+he*ve,i[t+1320>>2]=ae*fe+oe*de+se*ve,i[t+1324>>2]=P*fe+U*de+G*ve,i[t+1328>>2]=0,i[t+1332>>2]=xe*O+me*z+he*Y,i[t+1336>>2]=ae*O+oe*z+se*Y,i[t+1340>>2]=P*O+U*z+G*Y,i[t+1344>>2]=0,i[t+1348>>2]=a,i[t+1352>>2]=p,i[t+1356>>2]=l,i[t+1360>>2]=0,a=a-+i[t+1284>>2],p=p-+i[t+1288>>2],l=l-+i[t+1292>>2],se=+i[t+1256>>2],oe=+i[t+1276>>2],ae=+i[t+1260>>2],he=+i[t+1272>>2],me=+i[t+1268>>2],xe=+i[t+1252>>2],ve=+i[t+1236>>2],de=+i[t+1240>>2],fe=+i[t+1244>>2],L=1/((se*oe-ae*he)*ve+de*(ae*me-oe*xe)+(he*xe-se*me)*fe),M=(se*oe-ae*he)*L,B=(ae*me-oe*xe)*L,F=(he*xe-se*me)*L,o=l*((ae*de-se*fe)*L)+(a*M+p*((he*fe-oe*de)*L)),u=l*((xe*fe-ae*ve)*L)+(a*B+p*((oe*ve-me*fe)*L)),p=l*((se*ve-xe*de)*L)+(a*F+p*((me*de-he*ve)*L)),i[t+1428>>2]=o,i[t+1432>>2]=u,i[t+1436>>2]=p,i[t+1440>>2]=0,i[t+940>>2]=o,a=+i[t+680>>2],l=+i[t+696>>2];do if(a>l)i[t+908>>2]=0,e[t+956>>2]=0;else if(i[t+908>>2]=o-a,a==l){e[t+956>>2]=3;break}else{i[t+924>>2]=o-l,e[t+956>>2]=4;break}while(!1);i[t+944>>2]=u,o=+i[t+684>>2],a=+i[t+700>>2];do if(o>a)i[t+912>>2]=0,e[t+960>>2]=0;else if(i[t+912>>2]=u-o,o==a){e[t+960>>2]=3;break}else{i[t+928>>2]=u-a,e[t+960>>2]=4;break}while(!1);i[t+948>>2]=p,o=+i[t+688>>2],a=+i[t+704>>2];do if(o>a)i[t+916>>2]=0,e[t+964>>2]=0;else if(i[t+916>>2]=p-o,o==a){e[t+964>>2]=3;break}else{i[t+932>>2]=p-a,e[t+964>>2]=4;break}while(!1);switch(X=+i[t+1300>>2],ne=+i[t+1316>>2],W=+i[t+1332>>2],D=W*((ae*de-se*fe)*L)+(X*M+ne*((he*fe-oe*de)*L)),te=+i[t+1304>>2],_e=+i[t+1320>>2],pe=+i[t+1336>>2],b=M*te+(he*fe-oe*de)*L*_e+(ae*de-se*fe)*L*pe,$=+i[t+1308>>2],q=+i[t+1324>>2],p=M*$+(he*fe-oe*de)*L*q+(ae*de-se*fe)*L*(P*O+U*z+G*Y),M=W*((xe*fe-ae*ve)*L)+(X*B+ne*((oe*ve-me*fe)*L)),E=te*B+(oe*ve-me*fe)*L*_e+(xe*fe-ae*ve)*L*pe,a=B*$+(oe*ve-me*fe)*L*q+(xe*fe-ae*ve)*L*(P*O+U*z+G*Y),l=W*((se*ve-xe*de)*L)+(X*F+ne*((me*de-he*ve)*L)),u=te*F+(me*de-he*ve)*L*_e+(se*ve-xe*de)*L*pe,o=F*$+(me*de-he*ve)*L*q+(se*ve-xe*de)*L*(P*O+U*z+G*Y),e[t+1232>>2]|0){case 0:{do if(l<1)if(l>-1){i[t+1364>>2]=+gn(+-u,+o),de=l<-1?-1:l,i[t+1368>>2]=+ha(+(de>1?1:de)),i[t+1372>>2]=+gn(+-M,+D);break}else{i[t+1364>>2]=-+gn(+b,+E),i[t+1368>>2]=-1.5707963705062866,i[t+1372>>2]=0;break}else i[t+1364>>2]=+gn(+b,+E),i[t+1368>>2]=1.5707963705062866,i[t+1372>>2]=0;while(!1);i[t+1396>>2]=W*ae-ne*oe,i[t+1400>>2]=X*oe-W*fe,i[t+1404>>2]=ne*fe-X*ae,i[t+1408>>2]=0,i[t+1380>>2]=oe*(X*oe-W*fe)-ae*(ne*fe-X*ae),i[t+1384>>2]=fe*(ne*fe-X*ae)-oe*(W*ae-ne*oe),i[t+1388>>2]=ae*(W*ae-ne*oe)-fe*(X*oe-W*fe),i[t+1392>>2]=0,i[t+1412>>2]=ne*(ne*fe-X*ae)-W*(X*oe-W*fe),i[t+1416>>2]=W*(W*ae-ne*oe)-X*(ne*fe-X*ae),i[t+1420>>2]=X*(X*oe-W*fe)-ne*(W*ae-ne*oe),i[t+1424>>2]=0,n=t+1380|0,s=t+1384|0,h=t+1388|0,d=t+1396|0,m=t+1400|0,g=t+1404|0,S=t+1412|0,C=t+1416|0,w=t+1420|0,l=oe*(X*oe-W*fe)-ae*(ne*fe-X*ae),u=fe*(ne*fe-X*ae)-oe*(W*ae-ne*oe),p=ae*(W*ae-ne*oe)-fe*(X*oe-W*fe),M=W*ae-ne*oe,E=X*oe-W*fe,D=ne*fe-X*ae,b=ne*(ne*fe-X*ae)-W*(X*oe-W*fe),a=W*(W*ae-ne*oe)-X*(ne*fe-X*ae),o=X*(X*oe-W*fe)-ne*(W*ae-ne*oe);break}case 1:{do if(M<1)if(M>-1){i[t+1364>>2]=+gn(+a,+E),i[t+1368>>2]=+gn(+l,+D),fe=-M<-1?-1:-M,i[t+1372>>2]=+ha(+(fe>1?1:fe));break}else{i[t+1364>>2]=-+gn(+-p,+o),i[t+1368>>2]=0,i[t+1372>>2]=1.5707963705062866;break}else i[t+1364>>2]=+gn(+-p,+o),i[t+1368>>2]=0,i[t+1372>>2]=-1.5707963705062866;while(!1);i[t+1412>>2]=ne*he-W*se,i[t+1416>>2]=W*de-X*he,i[t+1420>>2]=X*se-ne*de,i[t+1424>>2]=0,i[t+1380>>2]=se*(X*se-ne*de)-he*(W*de-X*he),i[t+1384>>2]=he*(ne*he-W*se)-de*(X*se-ne*de),i[t+1388>>2]=de*(W*de-X*he)-se*(ne*he-W*se),i[t+1392>>2]=0,i[t+1396>>2]=W*(W*de-X*he)-ne*(X*se-ne*de),i[t+1400>>2]=X*(X*se-ne*de)-W*(ne*he-W*se),i[t+1404>>2]=ne*(ne*he-W*se)-X*(W*de-X*he),i[t+1408>>2]=0,n=t+1380|0,s=t+1384|0,h=t+1388|0,d=t+1396|0,m=t+1400|0,g=t+1404|0,S=t+1412|0,C=t+1416|0,w=t+1420|0,l=se*(X*se-ne*de)-he*(W*de-X*he),u=he*(ne*he-W*se)-de*(X*se-ne*de),p=de*(W*de-X*he)-se*(ne*he-W*se),M=W*(W*de-X*he)-ne*(X*se-ne*de),E=X*(X*se-ne*de)-W*(ne*he-W*se),D=ne*(ne*he-W*se)-X*(W*de-X*he),b=ne*he-W*se,a=W*de-X*he,o=X*se-ne*de;break}case 2:{do if(u<1)if(u>-1){de=-u<-1?-1:-u,i[t+1364>>2]=+ha(+(de>1?1:de)),i[t+1368>>2]=+gn(+l,+o),i[t+1372>>2]=+gn(+b,+E);break}else{i[t+1364>>2]=1.5707963705062866,i[t+1368>>2]=-+gn(+-M,+D),i[t+1372>>2]=0;break}else i[t+1364>>2]=-1.5707963705062866,i[t+1368>>2]=+gn(+-M,+D),i[t+1372>>2]=0;while(!1);i[t+1380>>2]=_e*oe-pe*ae,i[t+1384>>2]=pe*fe-te*oe,i[t+1388>>2]=te*ae-_e*fe,i[t+1392>>2]=0,i[t+1396>>2]=ae*(te*ae-_e*fe)-oe*(pe*fe-te*oe),i[t+1400>>2]=oe*(_e*oe-pe*ae)-fe*(te*ae-_e*fe),i[t+1404>>2]=fe*(pe*fe-te*oe)-ae*(_e*oe-pe*ae),i[t+1408>>2]=0,i[t+1412>>2]=pe*(pe*fe-te*oe)-_e*(te*ae-_e*fe),i[t+1416>>2]=te*(te*ae-_e*fe)-pe*(_e*oe-pe*ae),i[t+1420>>2]=_e*(_e*oe-pe*ae)-te*(pe*fe-te*oe),i[t+1424>>2]=0,n=t+1380|0,s=t+1384|0,h=t+1388|0,d=t+1396|0,m=t+1400|0,g=t+1404|0,S=t+1412|0,C=t+1416|0,w=t+1420|0,l=_e*oe-pe*ae,u=pe*fe-te*oe,p=te*ae-_e*fe,M=ae*(te*ae-_e*fe)-oe*(pe*fe-te*oe),E=oe*(_e*oe-pe*ae)-fe*(te*ae-_e*fe),D=fe*(pe*fe-te*oe)-ae*(_e*oe-pe*ae),b=pe*(pe*fe-te*oe)-_e*(te*ae-_e*fe),a=te*(te*ae-_e*fe)-pe*(_e*oe-pe*ae),o=_e*(_e*oe-pe*ae)-te*(pe*fe-te*oe);break}case 3:{do if(b<1)if(b>-1){i[t+1364>>2]=+gn(+-u,+E),i[t+1368>>2]=+gn(+-p,+D),fe=b<-1?-1:b,i[t+1372>>2]=+ha(+(fe>1?1:fe));break}else{i[t+1364>>2]=0,i[t+1368>>2]=-+gn(+a,+o),i[t+1372>>2]=-1.5707963705062866;break}else i[t+1364>>2]=0,i[t+1368>>2]=+gn(+a,+o),i[t+1372>>2]=1.5707963705062866;while(!1);i[t+1412>>2]=xe*pe-me*_e,i[t+1416>>2]=me*te-ve*pe,i[t+1420>>2]=ve*_e-xe*te,i[t+1424>>2]=0,i[t+1380>>2]=_e*(ve*_e-xe*te)-pe*(me*te-ve*pe),i[t+1384>>2]=pe*(xe*pe-me*_e)-te*(ve*_e-xe*te),i[t+1388>>2]=te*(me*te-ve*pe)-_e*(xe*pe-me*_e),i[t+1392>>2]=0,i[t+1396>>2]=me*(me*te-ve*pe)-xe*(ve*_e-xe*te),i[t+1400>>2]=ve*(ve*_e-xe*te)-me*(xe*pe-me*_e),i[t+1404>>2]=xe*(xe*pe-me*_e)-ve*(me*te-ve*pe),i[t+1408>>2]=0,n=t+1380|0,s=t+1384|0,h=t+1388|0,d=t+1396|0,m=t+1400|0,g=t+1404|0,S=t+1412|0,C=t+1416|0,w=t+1420|0,l=_e*(ve*_e-xe*te)-pe*(me*te-ve*pe),u=pe*(xe*pe-me*_e)-te*(ve*_e-xe*te),p=te*(me*te-ve*pe)-_e*(xe*pe-me*_e),M=me*(me*te-ve*pe)-xe*(ve*_e-xe*te),E=ve*(ve*_e-xe*te)-me*(xe*pe-me*_e),D=xe*(xe*pe-me*_e)-ve*(me*te-ve*pe),b=xe*pe-me*_e,a=me*te-ve*pe,o=ve*_e-xe*te;break}case 4:{do if(a<1)if(a>-1){fe=a<-1?-1:a,i[t+1364>>2]=+ha(+(fe>1?1:fe)),i[t+1368>>2]=+gn(+-p,+o),i[t+1372>>2]=+gn(+-M,+E);break}else{i[t+1364>>2]=-1.5707963705062866,i[t+1368>>2]=0,i[t+1372>>2]=-+gn(+l,+D);break}else i[t+1364>>2]=1.5707963705062866,i[t+1368>>2]=0,i[t+1372>>2]=+gn(+l,+D);while(!1);fe=se*(P*O+U*z+G*Y)-he*q,o=he*$-de*(P*O+U*z+G*Y),i[t+1380>>2]=fe,i[t+1384>>2]=o,i[t+1388>>2]=de*q-se*$,i[t+1392>>2]=0,M=q*(de*q-se*$)-(P*O+U*z+G*Y)*o,E=(P*O+U*z+G*Y)*fe-$*(de*q-se*$),i[t+1396>>2]=M,i[t+1400>>2]=E,i[t+1404>>2]=$*o-q*fe,i[t+1408>>2]=0,i[t+1412>>2]=he*o-se*(de*q-se*$),i[t+1416>>2]=de*(de*q-se*$)-he*fe,i[t+1420>>2]=se*fe-de*o,i[t+1424>>2]=0,n=t+1380|0,s=t+1384|0,h=t+1388|0,d=t+1396|0,m=t+1400|0,g=t+1404|0,S=t+1412|0,C=t+1416|0,w=t+1420|0,l=fe,u=o,p=de*q-se*$,D=$*o-q*fe,b=he*o-se*(de*q-se*$),a=de*(de*q-se*$)-he*fe,o=se*fe-de*o;break}case 5:{do if(p<1)if(p>-1){i[t+1364>>2]=+gn(+a,+o),fe=-p<-1?-1:-p,i[t+1368>>2]=+ha(+(fe>1?1:fe)),i[t+1372>>2]=+gn(+b,+D);break}else{i[t+1364>>2]=0,i[t+1368>>2]=1.5707963705062866,i[t+1372>>2]=-+gn(+M,+l);break}else i[t+1364>>2]=0,i[t+1368>>2]=-1.5707963705062866,i[t+1372>>2]=+gn(+-M,+-l);while(!1);o=me*q-xe*(P*O+U*z+G*Y),fe=ve*(P*O+U*z+G*Y)-me*$,i[t+1396>>2]=o,i[t+1400>>2]=fe,i[t+1404>>2]=xe*$-ve*q,i[t+1408>>2]=0,l=(P*O+U*z+G*Y)*fe-q*(xe*$-ve*q),u=$*(xe*$-ve*q)-(P*O+U*z+G*Y)*o,i[t+1380>>2]=l,i[t+1384>>2]=u,i[t+1388>>2]=q*o-$*fe,i[t+1392>>2]=0,i[t+1412>>2]=xe*(xe*$-ve*q)-me*fe,i[t+1416>>2]=me*o-ve*(xe*$-ve*q),i[t+1420>>2]=ve*fe-xe*o,i[t+1424>>2]=0,n=t+1380|0,s=t+1384|0,h=t+1388|0,d=t+1396|0,m=t+1400|0,g=t+1404|0,S=t+1412|0,C=t+1416|0,w=t+1420|0,p=q*o-$*fe,M=o,E=fe,D=xe*$-ve*q,b=xe*(xe*$-ve*q)-me*fe,a=me*o-ve*(xe*$-ve*q),o=ve*fe-xe*o;break}default:n=t+1380|0,s=t+1384|0,h=t+1388|0,d=t+1396|0,m=t+1400|0,g=t+1404|0,S=t+1412|0,C=t+1416|0,w=t+1420|0,l=+i[t+1380>>2],u=+i[t+1384>>2],p=+i[t+1388>>2],M=+i[t+1396>>2],E=+i[t+1400>>2],D=+i[t+1404>>2],b=+i[t+1412>>2],a=+i[t+1416>>2],o=+i[t+1420>>2]}de=1/+ot(+(l*l+u*u+p*p)),i[n>>2]=l*de,i[s>>2]=u*de,i[h>>2]=p*de,de=1/+ot(+(M*M+E*E+D*D)),i[d>>2]=M*de,i[m>>2]=E*de,i[g>>2]=D*de,de=1/+ot(+(b*b+a*a+o*o)),i[S>>2]=b*de,i[C>>2]=a*de,i[w>>2]=o*de,de=+i[(e[t+28>>2]|0)+368>>2],fe=+i[(e[t+32>>2]|0)+368>>2],R[t+1452>>0]=(de<11920928955078125e-23|fe<11920928955078125e-23)&1,fe=de+fe>0?fe/(de+fe):.5,i[t+1444>>2]=fe,i[t+1448>>2]=1-fe}function p0e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0;switch(g=H,H=H+112|0,h=e[t+28>>2]|0,d=e[t+32>>2]|0,e[g+16>>2]=e[1836],e[g+16+4>>2]=e[1837],e[g+16+8>>2]=e[1838],e[t+1232>>2]|0){case 0:{e[g+16>>2]=0,e[g+16+4>>2]=1,e[g+16+8>>2]=2,s=0;break}case 1:{e[g+16>>2]=0,e[g+16+4>>2]=2,e[g+16+8>>2]=1,s=0;break}case 2:{e[g+16>>2]=1,e[g+16+4>>2]=0,e[g+16+8>>2]=2,s=1;break}case 3:{e[g+16>>2]=1,e[g+16+4>>2]=2,e[g+16+8>>2]=0,s=1;break}case 4:{e[g+16>>2]=2,e[g+16+4>>2]=0,e[g+16+8>>2]=1,s=2;break}case 5:{e[g+16>>2]=2,e[g+16+4>>2]=1,e[g+16+8>>2]=0,s=2;break}default:s=0}for(o=0,u=0;a=t+968+(s*88|0)|0,(e[t+968+(s*88|0)+84>>2]|0)==0&&(R[t+968+(s*88|0)+28>>0]|0)==0&&(R[t+968+(s*88|0)+48>>0]|0)==0||(l=t+1380+(s<<4)|0,e[g>>2]=e[l>>2],e[g+4>>2]=e[l+4>>2],e[g+8>>2]=e[l+8>>2],e[g+12>>2]=e[l+12>>2],l=e[t+1456>>2]>>(s<<2)+12,l&1||(e[t+968+(s*88|0)+16>>2]=e[e[n+32>>2]>>2]),l&2||(e[t+968+(s*88|0)+12>>2]=e[n+4>>2]),l&4||(e[t+968+(s*88|0)+24>>2]=e[e[n+32>>2]>>2]),l&8||(e[t+968+(s*88|0)+20>>2]=e[n+4>>2]),u=(xm(t,a,h+4|0,d+4|0,h+336|0,d+336|0,h+352|0,d+352|0,n,u,g,1,0)|0)+u|0),o=o+1|0,(o|0)!=3;)s=e[g+16+(o<<2)>>2]|0;for(i[g+16>>2]=1,i[g+16+4>>2]=-1,i[g+16+8>>2]=0,i[g+16+12>>2]=.20000000298023224,i[g+16+16>>2]=0,i[g+16+20>>2]=.8999999761581421,i[g+16+24>>2]=0,R[g+16+28>>0]=0,i[g+16+32>>2]=0,i[g+16+36>>2]=.10000000149011612,R[g+16+40>>0]=0,i[g+16+44>>2]=0,R[g+16+48>>0]=0,i[g+16+52>>2]=0,R[g+16+56>>0]=0,i[g+16+60>>2]=0,R[g+16+64>>0]=0,p=g+16+68|0,e[p>>2]=0,e[p+4>>2]=0,e[p+8>>2]=0,e[p+12>>2]=0,e[p+16>>2]=0,o=u,u=0;;){if(a=e[t+956+(u<<2)>>2]|0,s=R[t+792+u>>0]|0,l=R[t+798+u>>0]|0,(a|0)==0&s<<24>>24==0?l<<24>>24?(s=0,m=27):s=u+1|0:m=27,(m|0)==27){switch(m=0,e[g+16+8>>2]=e[t+712+(u<<2)>>2],e[g+16+84>>2]=a,e[g+16+80>>2]=e[t+940+(u<<2)>>2],e[g+16+72>>2]=e[t+908+(u<<2)>>2],e[g+16+76>>2]=e[t+924+(u<<2)>>2],R[g+16+28>>0]=s,R[g+16+40>>0]=R[t+795+u>>0]|0,e[g+16+44>>2]=e[t+804+(u<<2)>>2],R[g+16+48>>0]=l,e[g+16+52>>2]=e[t+820+(u<<2)>>2],R[g+16+56>>0]=R[t+836+u>>0]|0,e[g+16+60>>2]=e[t+840+(u<<2)>>2],R[g+16+64>>0]=R[t+856+u>>0]|0,e[p>>2]=e[t+860+(u<<2)>>2],e[g+16+4>>2]=e[t+696+(u<<2)>>2],e[g+16>>2]=e[t+680+(u<<2)>>2],e[g+16+36>>2]=e[t+892+(u<<2)>>2],e[g+16+32>>2]=e[t+876+(u<<2)>>2],e[g>>2]=e[t+1236+(u<<2)>>2],e[g+4>>2]=e[t+1252+(u<<2)>>2],e[g+8>>2]=e[t+1268+(u<<2)>>2],i[g+12>>2]=0,a=e[t+1456>>2]>>(u<<2),a&1?s=t+744+(u<<2)|0:s=e[n+32>>2]|0,e[g+16+16>>2]=e[s>>2],e[g+16+12>>2]=e[((a&2|0)==0?n+4|0:t+728+(u<<2)|0)>>2],a&4?s=t+776+(u<<2)|0:s=e[n+32>>2]|0,e[g+16+24>>2]=e[s>>2],e[g+16+20>>2]=e[((a&8|0)==0?n+4|0:t+760+(u<<2)|0)>>2],s=u+1|0,l=(s|0)==3?0:s,u=(u+2|0)%3|0,a=e[t+968+(l*88|0)+84>>2]|0,a|0){case 2:case 1:{l=1;break}case 3:{S=+i[t+968+(l*88|0)+72>>2],l=S<-.001|S>.001;break}default:(a|0)==4?+i[t+968+(l*88|0)+72>>2]<-.001?l=1:l=+i[t+968+(l*88|0)+76>>2]>.001:l=0}switch(e[t+968+(u*88|0)+84>>2]|0){case 2:case 1:{m=42;break}case 3:{S=+i[t+968+(u*88|0)+72>>2],S<-.001|S>.001?m=42:a=1;break}case 4:{!(+i[t+968+(u*88|0)+72>>2]<-.001)&&!(+i[t+968+(u*88|0)+76>>2]>.001)?a=1:m=42;break}default:a=1}(m|0)==42&&(m=0,a=0),o=(xm(t,g+16|0,h+4|0,d+4|0,h+336|0,d+336|0,h+352|0,d+352|0,n,o,g,0,l?a:1)|0)+o|0}if((s|0)==3)break;u=s}H=g}function h0e(t,n,s){t=t|0,n=n|0,s=+s;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;if(p=H,H=H+32|0,m=+i[t+60>>2],w=+i[t+76>>2]-m,d=+i[t+64>>2],S=+i[t+80>>2]-d,h=+i[t+68>>2],M=+i[t+84>>2]-h,g=+i[t+92>>2]-m,C=+i[t+96>>2]-d,l=+i[t+100>>2]-h,u=1/+ot(+((w*C-S*g)*(w*C-S*g)+((S*l-M*C)*(S*l-M*C)+(M*g-w*l)*(M*g-w*l)))),a=u*(S*l-M*C),l=u*(M*g-w*l),u=(w*C-S*g)*u,h=u*+i[n+8>>2]+(+i[n>>2]*a+ +i[n+4>>2]*l)-(a*m+l*d+u*h),!(h>=-s)|!(h<=s))return t=0,H=p,t|0;for(o=0;;){if(Kt[e[(e[t>>2]|0)+104>>2]&127](t,o,p+16|0,p),m=+i[p+16>>2],M=+i[p>>2]-m,S=+i[p+16+4>>2],g=+i[p+4>>2]-S,d=+i[p+16+8>>2],w=+i[p+8>>2]-d,C=1/+ot(+((l*M-a*g)*(l*M-a*g)+((u*g-l*w)*(u*g-l*w)+(a*w-u*M)*(a*w-u*M)))),o=o+1|0,(l*M-a*g)*C*+i[n+8>>2]+(+i[n>>2]*(C*(u*g-l*w))+ +i[n+4>>2]*(C*(a*w-u*M)))-(d*((l*M-a*g)*C)+(m*(C*(u*g-l*w))+S*(C*(a*w-u*M))))<-s){o=0,n=5;break}if((o|0)>=3){o=1,n=5;break}}return(n|0)==5?(H=p,o|0):0}function d0e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0;l=+i[t+60>>2],h=+i[t+76>>2]-l,p=+i[t+64>>2],u=+i[t+80>>2]-p,d=+i[t+68>>2],m=+i[t+84>>2]-d,l=+i[t+92>>2]-l,p=+i[t+96>>2]-p,d=+i[t+100>>2]-d,i[s+12>>2]=0,a=1/+ot(+((h*p-u*l)*(h*p-u*l)+((u*d-m*p)*(u*d-m*p)+(m*l-h*d)*(m*l-h*d)))),i[s>>2]=(u*d-m*p)*a,i[s+4>>2]=(m*l-h*d)*a,i[s+8>>2]=(h*p-u*l)*a,e[o>>2]=e[t+60>>2],e[o+4>>2]=e[t+60+4>>2],e[o+8>>2]=e[t+60+8>>2],e[o+12>>2]=e[t+60+12>>2]}function m0e(t){t=t|0;var n=0;e[t>>2]=3720,e[t+12>>2]=3748,n=e[t+60>>2]|0,zt[e[(e[n>>2]|0)+20>>2]&127](n,e[t+76>>2]|0),n=e[t+60>>2]|0,zt[e[(e[n>>2]|0)+16>>2]&127](n,e[t+76>>2]|0),ye(t)}function g0e(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0;if(u=H,H=H+64|0,p=(R[t+8>>0]|0)!=0,l=p?s:n,n=p?n:s,s=e[n+4>>2]|0,((e[s+4>>2]|0)+-21|0)>>>0>=9){H=u;return}if((e[(e[l+4>>2]|0)+4>>2]|0)>=20){H=u;return}h=+Ct[e[(e[s>>2]|0)+48>>2]&15](s),e[a+4>>2]=e[t+76>>2],e[t+16>>2]=l,e[t+20>>2]=n,e[t+64>>2]=o,i[t+68>>2]=h,e[t+56>>2]=a,p=e[n+12>>2]|0,U=+i[p>>2],P=+i[p+16>>2],F=+i[p+32>>2],L=+i[p+4>>2],B=+i[p+20>>2],b=+i[p+36>>2],w=+i[p+8>>2],S=+i[p+24>>2],m=+i[p+40>>2],D=-+i[p+48>>2],E=-+i[p+52>>2],M=-+i[p+56>>2],p=e[l+12>>2]|0,W=+i[p>>2],ne=+i[p+16>>2],X=+i[p+32>>2],q=+i[p+4>>2],$=+i[p+20>>2],Y=+i[p+36>>2],z=+i[p+8>>2],O=+i[p+24>>2],G=+i[p+40>>2],C=+i[p+48>>2],g=+i[p+52>>2],d=+i[p+56>>2],i[u>>2]=U*W+P*ne+F*X,i[u+4>>2]=U*q+P*$+F*Y,i[u+8>>2]=U*z+P*O+F*G,i[u+12>>2]=0,i[u+16>>2]=L*W+B*ne+b*X,i[u+20>>2]=L*q+B*$+b*Y,i[u+24>>2]=L*z+B*O+b*G,i[u+28>>2]=0,i[u+32>>2]=w*W+S*ne+m*X,i[u+36>>2]=w*q+S*$+m*Y,i[u+40>>2]=w*z+S*O+m*G,i[u+44>>2]=0,i[u+48>>2]=U*D+P*E+F*M+(U*C+P*g+F*d),i[u+52>>2]=L*D+B*E+b*M+(L*C+B*g+b*d),i[u+56>>2]=w*D+S*E+m*M+(w*C+S*g+m*d),i[u+60>>2]=0,p=e[(e[t+16>>2]|0)+4>>2]|0,Kt[e[(e[p>>2]|0)+8>>2]&127](p,u,t+24|0,t+40|0),i[t+40>>2]=+i[t+40>>2]+h,i[t+44>>2]=+i[t+44>>2]+h,i[t+48>>2]=+i[t+48>>2]+h,i[t+24>>2]=+i[t+24>>2]-h,i[t+28>>2]=+i[t+28>>2]-h,i[t+32>>2]=+i[t+32>>2]-h,p=e[t+76>>2]|0,o=e[n+8>>2]|0,e[p+740>>2]=e[l+8>>2],e[p+744>>2]=o,Kt[e[(e[s>>2]|0)+64>>2]&127](s,t+12|0,t+24|0,t+40|0),s=e[a+4>>2]|0;do if(e[s+748>>2]|0)if(l=e[s+740>>2]|0,o=e[(e[a+8>>2]|0)+8>>2]|0,n=e[(e[a+12>>2]|0)+8>>2]|0,(l|0)==(o|0)){d2(s,l+4|0,n+4|0);break}else{d2(s,n+4|0,o+4|0);break}while(!1);e[t+16>>2]=0,e[t+20>>2]=0,H=u}function x0e(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0;return fe=H,H=H+240|0,o=(R[t+8>>0]|0)!=0,a=o?s:n,o=o?n:s,ae=+i[a+116>>2]-+i[a+52>>2],xe=+i[a+120>>2]-+i[a+56>>2],ve=+i[a+124>>2]-+i[a+60>>2],de=+i[a+256>>2],ae*ae+xe*xe+ve*ve<de*de||(Y=+i[o+4>>2],$=+i[o+20>>2],q=+i[o+36>>2],X=+i[o+8>>2],ne=+i[o+24>>2],W=+i[o+40>>2],te=+i[o+12>>2],_e=+i[o+28>>2],pe=+i[o+44>>2],u=-+i[o+52>>2],p=-+i[o+56>>2],h=-+i[o+60>>2],he=+i[a+4>>2],me=+i[a+20>>2],se=+i[a+36>>2],oe=+i[a+8>>2],ae=+i[a+24>>2],xe=+i[a+40>>2],ve=+i[a+12>>2],de=+i[a+28>>2],g=+i[a+44>>2],E=+i[a+52>>2],M=+i[a+56>>2],w=+i[a+60>>2],S=Y*u+$*p+q*h+(Y*E+$*M+q*w),C=X*u+ne*p+W*h+(X*E+ne*M+W*w),w=te*u+_e*p+pe*h+(te*E+_e*M+pe*w),M=+i[a+68>>2],E=+i[a+84>>2],D=+i[a+100>>2],b=+i[a+72>>2],B=+i[a+88>>2],L=+i[a+104>>2],F=+i[a+76>>2],P=+i[a+92>>2],U=+i[a+108>>2],d=+i[a+116>>2],m=+i[a+120>>2],z=+i[a+124>>2],G=Y*u+$*p+q*h+(Y*d+$*m+q*z),O=X*u+ne*p+W*h+(X*d+ne*m+W*z),z=te*u+_e*p+pe*h+(te*d+_e*m+pe*z),o=e[o+192>>2]|0,((e[o+4>>2]|0)+-21|0)>>>0>=9)?(Te=1,H=fe,+Te):(i[fe+224>>2]=S,i[fe+224+4>>2]=C,i[fe+224+8>>2]=w,i[fe+224+12>>2]=0,G<S?(i[fe+224>>2]=G,l=G):l=S,O<C?(i[fe+224+4>>2]=O,u=O):u=C,z<w?(i[fe+224+8>>2]=z,p=z):p=w,i[fe+208>>2]=S,i[fe+208+4>>2]=C,i[fe+208+8>>2]=w,i[fe+208+12>>2]=0,S<G?(i[fe+208>>2]=G,h=G):h=S,C<O?(i[fe+208+4>>2]=O,d=O):d=C,w<z?(i[fe+208+8>>2]=z,m=z):m=w,we=+i[a+252>>2],i[fe+224>>2]=l-we,i[fe+224+4>>2]=u-we,i[fe+224+8>>2]=p-we,i[fe+208>>2]=we+h,i[fe+208+4>>2]=we+d,i[fe+208+8>>2]=we+m,e[fe>>2]=3904,i[fe+4>>2]=Y*he+$*me+q*se,i[fe+8>>2]=Y*oe+$*ae+q*xe,i[fe+12>>2]=Y*ve+$*de+q*g,i[fe+16>>2]=0,i[fe+20>>2]=X*he+ne*me+W*se,i[fe+24>>2]=X*oe+ne*ae+W*xe,i[fe+28>>2]=X*ve+ne*de+W*g,i[fe+32>>2]=0,i[fe+36>>2]=te*he+_e*me+pe*se,i[fe+40>>2]=te*oe+_e*ae+pe*xe,i[fe+44>>2]=te*ve+_e*de+pe*g,i[fe+48>>2]=0,i[fe+52>>2]=S,i[fe+56>>2]=C,i[fe+60>>2]=w,i[fe+64>>2]=0,i[fe+68>>2]=Y*M+$*E+q*D,i[fe+72>>2]=Y*b+$*B+q*L,i[fe+76>>2]=Y*F+$*P+q*U,i[fe+80>>2]=0,i[fe+84>>2]=X*M+ne*E+W*D,i[fe+88>>2]=X*b+ne*B+W*L,i[fe+92>>2]=X*F+ne*P+W*U,i[fe+96>>2]=0,i[fe+100>>2]=te*M+_e*E+pe*D,i[fe+104>>2]=te*b+_e*B+pe*L,i[fe+108>>2]=te*F+_e*P+pe*U,i[fe+112>>2]=0,i[fe+116>>2]=G,i[fe+120>>2]=O,i[fe+124>>2]=z,i[fe+128>>2]=0,i[fe+196>>2]=we,e[fe+200>>2]=e[a+248>>2],o|0&&(Kt[e[(e[o>>2]|0)+64>>2]&127](o,fe,fe+224|0,fe+208|0),Te=+i[fe+200>>2],Te<+i[a+248>>2])?(i[a+248>>2]=Te,we=Te,H=fe,+we):(we=1,H=fe,+we))}function y0e(t){t=t|0,ye(t)}function v0e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;if(o=H,H=H+784|0,e[o+720>>2]=1065353216,e[o+720+4>>2]=0,e[o+720+4+4>>2]=0,e[o+720+4+8>>2]=0,e[o+720+4+12>>2]=0,e[o+720+20>>2]=1065353216,e[o+720+24>>2]=0,e[o+720+24+4>>2]=0,e[o+720+24+8>>2]=0,e[o+720+24+12>>2]=0,e[o+720+40>>2]=1065353216,s=o+720+44|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[s+16>>2]=0,e[o+544>>2]=3316,e[o+544+168>>2]=0,i[o+544+172>>2]=0,e[o+544+164>>2]=e[t+200>>2],s=e[t+196>>2]|0,e[o+488+8>>2]=0,e[o+488+12>>2]=-1,e[o+488+16>>2]=1065353216,e[o+488+20>>2]=1065353216,e[o+488+24>>2]=1065353216,i[o+488+28>>2]=0,e[o+488>>2]=6380,e[o+488+4>>2]=8,e[o+488+32>>2]=s,e[o+488+48>>2]=s,e[o+376+8>>2]=0,e[o+376+12>>2]=-1,e[o+376+16>>2]=1065353216,e[o+376+20>>2]=1065353216,e[o+376+24>>2]=1065353216,i[o+376+28>>2]=0,i[o+376+48>>2]=.03999999910593033,e[o+376+56>>2]=0,e[o+376>>2]=3768,e[o+376+4>>2]=1,e[o+376+60>>2]=e[n>>2],e[o+376+60+4>>2]=e[n+4>>2],e[o+376+60+8>>2]=e[n+8>>2],e[o+376+60+12>>2]=e[n+12>>2],e[o+376+76>>2]=e[n+16>>2],e[o+376+76+4>>2]=e[n+16+4>>2],e[o+376+76+8>>2]=e[n+16+8>>2],e[o+376+76+12>>2]=e[n+16+12>>2],e[o+376+92>>2]=e[n+32>>2],e[o+376+92+4>>2]=e[n+32+4>>2],e[o+376+92+8>>2]=e[n+32+8>>2],e[o+376+92+12>>2]=e[n+32+12>>2],i[o+16+308>>2]=9999999747378752e-20,R[o+16+332>>0]=0,e[o>>2]=7024,e[o+4>>2]=o+16,e[o+8>>2]=o+488,e[o+12>>2]=o+376,y6(o,t+4|0,t+68|0,o+720|0,o+720|0,o+544|0)|0&&(a=+i[o+544+164>>2],+i[t+200>>2]>a)&&(i[t+200>>2]=a),e[o+376>>2]=6248,s=e[o+376+56>>2]|0,!s){H=o;return}if(Vt[e[e[s>>2]>>2]&255](s),s=e[o+376+56>>2]|0,!s){H=o;return}e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),H=o}function S0e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+76>>2]|0,!!s){if(o=e[n+4>>2]|0,(o|0)==(e[n+8>>2]|0)&&(l=o|0?o<<1:1,(o|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[n+4>>2]|0):s=0,(o|0)>0){a=0;do e[s+(a<<2)>>2]=e[(e[n+12>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[n+12>>2]|0,a&&(R[n+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[n+4>>2]|0),e[n+12>>2]=0),R[n+16>>0]=1,e[n+12>>2]=s,e[n+8>>2]=l,s=e[t+76>>2]|0}e[(e[n+12>>2]|0)+(o<<2)>>2]=s,e[n+4>>2]=o+1}}function C0e(t){t=t|0}function T0e(t){t=t|0,ye(t)}function w0e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0;return o=e[n>>2]|0,o=I0[e[(e[o>>2]|0)+56>>2]&31](o,36)|0,a=e[n+4>>2]|0,u=e[t+12>>2]|0,l=e[t+8>>2]|0,s=e[t+16>>2]|0,t=e[t+20>>2]|0,e[o+4>>2]=e[n>>2],e[o>>2]=3944,e[o+8>>2]=u,e[o+12>>2]=l,R[o+16>>0]=0,e[o+20>>2]=a,R[o+24>>0]=0,e[o+28>>2]=s,e[o+32>>2]=t,o|0}function M0e(t){t=t|0;var n=0;e[t>>2]=3944,R[t+16>>0]|0&&(n=e[t+20>>2]|0,n&&(t=e[t+4>>2]|0,zt[e[(e[t>>2]|0)+16>>2]&127](t,n)))}function R0e(t){t=t|0;var n=0,s=0;if(e[t>>2]=3944,!(R[t+16>>0]|0)){ye(t);return}if(n=e[t+20>>2]|0,!n){ye(t);return}s=e[t+4>>2]|0,zt[e[(e[s>>2]|0)+16>>2]&127](s,n),ye(t)}function A0e(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,st=0,mt=0,lt=0,_t=0,bt=0,rt=0,Ce=0,kt=0,it=0;if(Ce=H,H=H+688|0,u=e[t+20>>2]|0,u||(u=e[t+4>>2]|0,u=G0[e[(e[u>>2]|0)+12>>2]&63](u,e[n+8>>2]|0,e[s+8>>2]|0)|0,e[t+20>>2]=u,R[t+16>>0]=1),e[a+4>>2]=u,_t=e[n+4>>2]|0,bt=e[s+4>>2]|0,l=e[_t+4>>2]|0,p=e[bt+4>>2]|0,(l|0)==10&(p|0)==10){if(te=+i[u+752>>2],mt=e[_t+56>>2]|0,C=+i[_t+32+(mt<<2)>>2],W=+i[_t+32+(((mt+2|0)%3|0)<<2)>>2],rt=e[bt+56>>2]|0,w=+i[bt+32+(rt<<2)>>2],X=+i[bt+32+(((rt+2|0)%3|0)<<2)>>2],t=e[n+12>>2]|0,l=e[s+12>>2]|0,U=+i[t+(mt<<2)>>2],z=+i[t+16+(mt<<2)>>2],G=+i[t+32+(mt<<2)>>2],g=+i[l+(rt<<2)>>2],S=+i[l+16+(rt<<2)>>2],b=+i[l+32+(rt<<2)>>2],B=+i[l+48>>2]-+i[t+48>>2],L=+i[l+52>>2]-+i[t+52>>2],P=+i[l+56>>2]-+i[t+56>>2],d=1-(U*g+z*S+G*b)*(U*g+z*S+G*b),d!=0?(d=(U*B+z*L+G*P-(U*g+z*S+G*b)*(g*B+S*L+b*P))/d,d<-C?d=-C:d>C&&(d=C)):d=0,m=(U*g+z*S+G*b)*d-(g*B+S*L+b*P),m<-w?(d=(U*g+z*S+G*b)*-w+(U*B+z*L+G*P),d<-C?(d=-C,m=-w):(d>C&&(d=C),m=-w)):m>w&&(d=w*(U*g+z*S+G*b)+(U*B+z*L+G*P),d<-C?(d=-C,m=w):(d>C&&(d=C),m=w)),E=g*m,M=S*m,w=b*m,m=E+(B-U*d),S=M+(L-z*d),d=w+(P-G*d),C=+ot(+(d*d+(m*m+S*S))),!(C-W-X>te)){do if(d*d+(m*m+S*S)<=14210854715202004e-30)if(+ht(+G)>.7071067690849304){d=1/+ot(+(z*z+G*G)),i[Ce+280>>2]=0,i[Ce+280+4>>2]=-(G*d),i[Ce+280+8>>2]=z*d,g=0,m=-(G*d),d=z*d;break}else{m=1/+ot(+(U*U+z*z)),i[Ce+280>>2]=-(z*m),i[Ce+280+4>>2]=U*m,i[Ce+280+8>>2]=0,g=-(z*m),m=U*m,d=0;break}else i[Ce+280>>2]=m*-(1/C),i[Ce+280+4>>2]=S*-(1/C),i[Ce+280+8>>2]=d*-(1/C),i[Ce+280+12>>2]=0,g=m*-(1/C),m=S*-(1/C),d=d*-(1/C);while(!1);st=X*m+(M+ +i[l+52>>2]),lt=X*d+(w+ +i[l+56>>2]),i[Ce+264>>2]=X*g+(E+ +i[l+48>>2]),i[Ce+264+4>>2]=st,i[Ce+264+8>>2]=lt,i[Ce+264+12>>2]=0}if(C-W-X<te&&(N2[e[(e[a>>2]|0)+16>>2]&15](a,Ce+280|0,Ce+264|0,C-W-X),u=e[a+4>>2]|0),!(e[u+748>>2]|0)){H=Ce;return}if(p=e[u+740>>2]|0,h=e[(e[a+8>>2]|0)+8>>2]|0,l=e[(e[a+12>>2]|0)+8>>2]|0,(p|0)==(h|0)){d2(u,p+4|0,l+4|0),H=Ce;return}else{d2(u,l+4|0,h+4|0),H=Ce;return}}if(i[Ce+128+128>>2]=0xde0b6b000000000,O=e[t+8>>2]|0,D=e[t+12>>2]|0,e[Ce+48>>2]=6928,e[Ce+48+4>>2]=0,e[Ce+48+8>>2]=1065353216,e[Ce+48+12>>2]=0,i[Ce+48+16>>2]=0,e[Ce+48+20>>2]=D,e[Ce+48+24>>2]=O,e[Ce+48+28>>2]=_t,e[Ce+48+32>>2]=bt,e[Ce+48+36>>2]=l,e[Ce+48+40>>2]=p,i[Ce+48+44>>2]=+Ct[e[(e[_t>>2]|0)+48>>2]&15](_t),i[Ce+48+48>>2]=+Ct[e[(e[bt>>2]|0)+48>>2]&15](bt),R[Ce+48+52>>0]=0,e[Ce+48+60>>2]=-1,e[Ce+48+72>>2]=1,e[Ce+48+76>>2]=1,e[Ce+48+28>>2]=_t,e[Ce+48+32>>2]=bt,st=+Ct[e[(e[_t>>2]|0)+48>>2]&15](_t),lt=+Ct[e[(e[bt>>2]|0)+48>>2]&15](bt),lt=st+lt+ +i[(e[t+20>>2]|0)+752>>2],i[Ce+128+128>>2]=lt*lt,O=e[n+12>>2]|0,e[Ce+128>>2]=e[O>>2],e[Ce+128+4>>2]=e[O+4>>2],e[Ce+128+8>>2]=e[O+8>>2],e[Ce+128+12>>2]=e[O+12>>2],p=Ce+128+16|0,e[p>>2]=e[O+16>>2],e[p+4>>2]=e[O+16+4>>2],e[p+8>>2]=e[O+16+8>>2],e[p+12>>2]=e[O+16+12>>2],D=Ce+128+32|0,e[D>>2]=e[O+32>>2],e[D+4>>2]=e[O+32+4>>2],e[D+8>>2]=e[O+32+8>>2],e[D+12>>2]=e[O+32+12>>2],F=Ce+128+48|0,e[F>>2]=e[O+48>>2],e[F+4>>2]=e[O+48+4>>2],e[F+8>>2]=e[O+48+8>>2],e[F+12>>2]=e[O+48+12>>2],O=Ce+128+64|0,l=e[s+12>>2]|0,e[O>>2]=e[l>>2],e[O+4>>2]=e[l+4>>2],e[O+8>>2]=e[l+8>>2],e[O+12>>2]=e[l+12>>2],Y=Ce+128+80|0,e[Y>>2]=e[l+16>>2],e[Y+4>>2]=e[l+16+4>>2],e[Y+8>>2]=e[l+16+8>>2],e[Y+12>>2]=e[l+16+12>>2],$=Ce+128+96|0,e[$>>2]=e[l+32>>2],e[$+4>>2]=e[l+32+4>>2],e[$+8>>2]=e[l+32+8>>2],e[$+12>>2]=e[l+32+12>>2],q=Ce+128+112|0,e[q>>2]=e[l+48>>2],e[q+4>>2]=e[l+48+4>>2],e[q+8>>2]=e[l+48+8>>2],e[q+12>>2]=e[l+48+12>>2],l=e[_t+4>>2]|0,(l|0)<7&&(h=e[bt+4>>2]|0,(h|0)<7)){e[Ce+40>>2]=3972,l?(m=+Ct[e[(e[_t>>2]|0)+48>>2]&15](_t),l=e[bt+4>>2]|0):(l=h,m=0),l?d=+Ct[e[(e[bt>>2]|0)+48>>2]&15](bt):d=0,e[Ce>>2]=4e3,e[Ce+4>>2]=a,i[Ce+24>>2]=m,i[Ce+28>>2]=d,R[Ce+36>>0]=0,He=e[_t+56>>2]|0;e:do if(He|0){Ke=e[bt+56>>2]|0;do if(Ke){lt=+i[(e[t+20>>2]|0)+752>>2];t:do if(!(R[o+24>>0]|0))e1(Ce+48|0,Ce+128|0,Ce,e[o+20>>2]|0,0),d=+i[Ce+32>>2],d<0&(R[Ce+36>>0]|0)!=0&&(g=+i[Ce+8>>2],S=+i[Ce+16>>2],l=e[Ce+20>>2]|0,m=+i[Ce+12>>2],mt=111);else{Ae=e[n+12>>2]|0,qe=e[s+12>>2]|0,e[5297]=(e[5297]|0)+1,pe=+i[He+64>>2],we=+i[He+68>>2],d=+i[Ae+4>>2],Ne=+i[He+72>>2],m=+i[Ae+8>>2],g=+i[Ae+16>>2],S=+i[Ae+20>>2],C=+i[Ae+24>>2],w=+i[Ae+32>>2],M=+i[Ae+36>>2],E=+i[Ae+40>>2],Se=+i[Ke+64>>2],ge=+i[Ke+68>>2],st=+i[Ke+72>>2],Ze=pe*+i[Ae>>2]+we*d+Ne*m+ +i[Ae+48>>2]-(Se*+i[qe>>2]+ge*+i[qe+4>>2]+st*+i[qe+8>>2]+ +i[qe+48>>2]),ut=pe*g+we*S+Ne*C+ +i[Ae+52>>2]-(Se*+i[qe+16>>2]+ge*+i[qe+20>>2]+st*+i[qe+24>>2]+ +i[qe+52>>2]),st=pe*w+we*M+Ne*E+ +i[Ae+56>>2]-(Se*+i[qe+32>>2]+ge*+i[qe+36>>2]+st*+i[qe+40>>2]+ +i[qe+56>>2]),p=e[He+28>>2]|0;i:do if((p|0)>0){for(P=m,U=g,L=S,G=0,z=34028234663852886e22,u=0,g=0,S=0,m=0;;){if(ke=e[He+36>>2]|0,Ne=+i[ke+(u*36|0)+20>>2],Se=+i[ke+(u*36|0)+24>>2],ge=+i[ke+(u*36|0)+28>>2],b=Ne*+i[Ae>>2]+Se*d+ge*P,C=Ne*U+Se*L+ge*C,d=Ne*w+Se*M+ge*E,i[Ce+296>>2]=b,i[Ce+296+4>>2]=C,i[Ce+296+8>>2]=d,i[Ce+296+12>>2]=0,Ze*b+ut*C+st*d<0?(i[Ce+296>>2]=-b,i[Ce+296+4>>2]=-C,i[Ce+296+8>>2]=-d,B=-b,C=-C,d=-d):B=b,e[5295]=(e[5295]|0)+1,ah(Ae,qe,Ze,ut,st,B,C,d,He,Ke,z)|0){e[5296]=(e[5296]|0)+1,dc(He,Ae,Ce+296|0,Ce+624|0,Ce+384|0,Ce+360|0,Ce+344|0),dc(Ke,qe,Ce+296|0,Ce+380|0,Ce+376|0,Ce+328|0,Ce+312|0),w=+i[Ce+384>>2],M=+i[Ce+380>>2];do if(w<M)l=0,M=G;else{if(E=+i[Ce+376>>2],b=+i[Ce+624>>2],E<b){l=0,M=G;break}l=1,M=w-M<E-b?w-M:E-b}while(!1);if(!l)break;M<z?(w=M,g=B,S=d,m=C):w=z,B=M,b=w}else B=G,b=z;if(l=u+1|0,(l|0)>=(p|0)){d=b;break i}d=+i[Ae+4>>2],P=+i[Ae+8>>2],U=+i[Ae+16>>2],L=+i[Ae+20>>2],C=+i[Ae+24>>2],w=+i[Ae+32>>2],M=+i[Ae+36>>2],E=+i[Ae+40>>2],G=B,z=b,u=l}break t}else d=34028234663852886e22,g=0,S=0,m=0;while(!1);p=e[Ke+28>>2]|0;i:do if((p|0)>0){for(P=0,u=0;;){if(ke=e[Ke+36>>2]|0,Se=+i[ke+(u*36|0)+20>>2],ge=+i[ke+(u*36|0)+24>>2],M=+i[ke+(u*36|0)+28>>2],C=Se*+i[qe>>2]+ge*+i[qe+4>>2]+M*+i[qe+8>>2],w=Se*+i[qe+16>>2]+ge*+i[qe+20>>2]+M*+i[qe+24>>2],M=Se*+i[qe+32>>2]+ge*+i[qe+36>>2]+M*+i[qe+40>>2],i[Ce+296>>2]=C,i[Ce+296+4>>2]=w,i[Ce+296+8>>2]=M,i[Ce+296+12>>2]=0,Ze*C+ut*w+st*M<0&&(i[Ce+296>>2]=-C,i[Ce+296+4>>2]=-w,i[Ce+296+8>>2]=-M,C=-C,w=-w,M=-M),e[5295]=(e[5295]|0)+1,ah(Ae,qe,Ze,ut,st,C,w,M,He,Ke,d)|0){e[5296]=(e[5296]|0)+1,dc(He,Ae,Ce+296|0,Ce+624|0,Ce+384|0,Ce+360|0,Ce+344|0),dc(Ke,qe,Ce+296|0,Ce+380|0,Ce+376|0,Ce+328|0,Ce+312|0),E=+i[Ce+384>>2],b=+i[Ce+380>>2];do if(E<b)l=0,E=P;else{if(B=+i[Ce+376>>2],L=+i[Ce+624>>2],B<L){l=0,E=P;break}l=1,E=E-b<B-L?E-b:B-L}while(!1);if(!l)break;E<d&&(d=E,g=C,S=M,m=w)}else E=P;if(u=u+1|0,(u|0)>=(p|0))break i;P=E}break t}while(!1);l=e[He+48>>2]|0;i:do if((l|0)>0){se=e[Ke+48>>2]|0,C=0,ke=0,Y=-1,O=-1,$=0,q=0,ne=0,he=0,me=0,o=0,h=0,D=0,F=0,oe=0,u=0,p=0,te=0,_e=0,pe=0,E=0,b=0,X=0;n:for(;;){if(Te=e[He+56>>2]|0,W=+i[Te+(ke<<4)>>2],we=+i[Te+(ke<<4)+4>>2],ge=+i[Te+(ke<<4)+8>>2],Ne=W*+i[Ae>>2]+we*+i[Ae+4>>2]+ge*+i[Ae+8>>2],Se=W*+i[Ae+16>>2]+we*+i[Ae+20>>2]+ge*+i[Ae+24>>2],ge=W*+i[Ae+32>>2]+we*+i[Ae+36>>2]+ge*+i[Ae+40>>2],(se|0)>0){for(G=C,se=0,we=g,W=S,z=m;;){Te=e[Ke+56>>2]|0,M=+i[Te+(se<<4)>>2],B=+i[Te+(se<<4)+4>>2],U=+i[Te+(se<<4)+8>>2],L=M*+i[qe>>2]+B*+i[qe+4>>2]+U*+i[qe+8>>2],P=M*+i[qe+16>>2]+B*+i[qe+20>>2]+U*+i[qe+24>>2],U=M*+i[qe+32>>2]+B*+i[qe+36>>2]+U*+i[qe+40>>2],i[Ce+296>>2]=Se*U-ge*P,i[Ce+296+4>>2]=ge*L-Ne*U,i[Ce+296+8>>2]=Ne*P-Se*L,i[Ce+296+12>>2]=0;do if(+ht(+(Se*U-ge*P))>1e-6)mt=75;else{if(+ht(+(ge*L-Ne*U))>1e-6){mt=75;break}+ht(+(Ne*P-Se*L))>1e-6?mt=75:(w=G,g=we,S=W,m=z,ae=$,xe=q,ve=ne,de=he,fe=me,Te=o)}while(!1);do if((mt|0)==75){if(mt=0,S=1/+ot(+((Se*U-ge*P)*(Se*U-ge*P)+(ge*L-Ne*U)*(ge*L-Ne*U)+(Ne*P-Se*L)*(Ne*P-Se*L))),g=(Se*U-ge*P)*S,i[Ce+296>>2]=g,m=(ge*L-Ne*U)*S,i[Ce+296+4>>2]=m,S=(Ne*P-Se*L)*S,i[Ce+296+8>>2]=S,g*Ze+m*ut+st*S<0&&(i[Ce+296>>2]=-g,i[Ce+296+4>>2]=-m,i[Ce+296+8>>2]=-S,g=-g,m=-m,S=-S),e[5295]=(e[5295]|0)+1,!(ah(Ae,qe,Ze,ut,st,g,m,S,He,Ke,d)|0)){w=G,g=we,S=W,m=z,ae=$,xe=q,ve=ne,de=he,fe=me,Te=o;break}e[5296]=(e[5296]|0)+1,dc(He,Ae,Ce+296|0,Ce+624|0,Ce+384|0,Ce+360|0,Ce+344|0),dc(Ke,qe,Ce+296|0,Ce+380|0,Ce+376|0,Ce+328|0,Ce+312|0),C=+i[Ce+384>>2],w=+i[Ce+380>>2];do if(C<w)l=0,C=G;else{if(M=+i[Ce+376>>2],B=+i[Ce+624>>2],M<B){l=0,C=G;break}if(C-w<M-B){l=1,C=C-w,$=e[Ce+344>>2]|0,q=e[Ce+344+4>>2]|0,ne=e[Ce+344+8>>2]|0,he=e[Ce+328>>2]|0,me=e[Ce+328+4>>2]|0,o=e[Ce+328+8>>2]|0;break}else{l=1,C=M-B,$=e[Ce+360>>2]|0,q=e[Ce+360+4>>2]|0,ne=e[Ce+360+8>>2]|0,he=e[Ce+312>>2]|0,me=e[Ce+312+4>>2]|0,o=e[Ce+312+8>>2]|0;break}}while(!1);if(!l)break n;if(!(C<d)){w=C,g=we,S=W,m=z,ae=$,xe=q,ve=ne,de=he,fe=me,Te=o;break}w=C,d=C,Y=ke,O=se,ae=$,xe=q,ve=ne,de=he,fe=me,Te=o,h=$,D=q,F=ne,oe=he,u=me,p=o,te=Ne,_e=Se,pe=ge,E=L,b=P,X=U}while(!1);if(se=se+1|0,l=e[Ke+48>>2]|0,(se|0)>=(l|0))break;G=w,we=g,W=S,z=m,$=ae,q=xe,ne=ve,he=de,me=fe,o=Te}se=l,l=e[He+48>>2]|0,C=w,$=ae,q=xe,ne=ve,he=de,me=fe,o=Te}if(ke=ke+1|0,(ke|0)>=(l|0)){l=oe;break i}}break t}else Y=-1,O=-1,h=0,D=0,F=0,l=0,u=0,p=0,te=0,_e=0,pe=0,E=0,b=0,X=0;while(!1);if((O|Y|0)>-1){W=(e[Z>>2]=l,+i[Z>>2]),U=W-(e[Z>>2]=h,+i[Z>>2]),z=(e[Z>>2]=u,+i[Z>>2]),P=z-(e[Z>>2]=D,+i[Z>>2]),G=(e[Z>>2]=p,+i[Z>>2]),L=G-(e[Z>>2]=F,+i[Z>>2]),C=E*te+b*_e+X*pe,w=U*te+P*_e+L*pe,d=U*E+P*b+L*X;do if(1-C*C==0)M=0;else{if((w-d*C)/(1-C*C)<-10000000150474662e14){M=-10000000150474662e14;break}if(!((w-d*C)/(1-C*C)>10000000150474662e14)){M=(w-d*C)/(1-C*C);break}M=10000000150474662e14}while(!1);d=C*M-d;do if(d<-10000000150474662e14){if(w-C*10000000150474662e14<-10000000150474662e14){C=-10000000150474662e14,d=-10000000150474662e14;break}if(!(w-C*10000000150474662e14>10000000150474662e14)){C=w-C*10000000150474662e14,d=-10000000150474662e14;break}C=10000000150474662e14,d=-10000000150474662e14}else{if(!(d>10000000150474662e14)){C=M;break}if(w+C*10000000150474662e14<-10000000150474662e14){C=-10000000150474662e14,d=10000000150474662e14;break}if(!(w+C*10000000150474662e14>10000000150474662e14)){C=w+C*10000000150474662e14,d=10000000150474662e14;break}C=10000000150474662e14,d=10000000150474662e14}while(!1);B=E*d,b=b*d,E=X*d,M=B+(U-te*C),w=b+(P-_e*C),d=E+(L-pe*C),i[Ce+624>>2]=M,i[Ce+624+4>>2]=w,i[Ce+624+8>>2]=d,i[Ce+624+12>>2]=0,M*M+w*w+d*d>11920928955078125e-23&&(C=+ot(+(M*M+w*w+d*d)),i[Ce+624>>2]=M*(1/C),i[Ce+624+4>>2]=1/C*w,i[Ce+624+8>>2]=1/C*d,M*(1/C)*Ze+1/C*w*ut+1/C*d*st<0&&(i[Ce+624>>2]=-(M*(1/C)),i[Ce+624+4>>2]=-(1/C*w),i[Ce+624+8>>2]=-(1/C*d)),i[Ce+384>>2]=W+B,i[Ce+384+4>>2]=z+b,i[Ce+384+8>>2]=G+E,i[Ce+384+12>>2]=0,N2[e[(e[a>>2]|0)+16>>2]&15](a,Ce+624|0,Ce+384|0,-C))}Ze*g+ut*m+st*S<0?(d=-10000000150474662e14,g=-g,S=-S,l=0,m=-m,mt=111):(d=-10000000150474662e14,l=0,mt=111)}while(!1);if((mt|0)==111){if(se=e[_t+56>>2]|0,o=e[bt+56>>2]|0,me=e[n+12>>2]|0,he=e[s+12>>2]|0,W=d-lt,G=1/+ot(+(g*g+m*m+S*S)),X=g*G,z=m*G,G=S*G,i[Ce+624>>2]=X,i[Ce+624+4>>2]=z,i[Ce+624+8>>2]=G,e[Ce+624+12>>2]=l,u=e[o+28>>2]|0,D=e[o+36>>2]|0,(u|0)>0)for(d=+i[he>>2],m=+i[he+4>>2],g=+i[he+8>>2],S=+i[he+16>>2],C=+i[he+20>>2],w=+i[he+24>>2],M=+i[he+32>>2],E=+i[he+36>>2],b=+i[he+40>>2],l=-1,U=-34028234663852886e22,h=0;;)if(B=+i[D+(h*36|0)+20>>2],L=+i[D+(h*36|0)+24>>2],P=+i[D+(h*36|0)+28>>2],p=(B*d+L*m+P*g)*X+(B*S+L*C+P*w)*z+(B*M+L*E+P*b)*G>U,l=p?h:l,h=h+1|0,(h|0)==(u|0)){q=l;break}else U=p?(B*d+L*m+P*g)*X+(B*S+L*C+P*w)*z+(B*M+L*E+P*b)*G:U;else q=-1;R[Ce+384+16>>0]=1,ne=Ce+384+12|0,e[ne>>2]=0,Y=Ce+384+4|0,e[Y>>2]=0,e[Ce+384+8>>2]=0,$=e[D+(q*36|0)+4>>2]|0;t:do if(($|0)>0)for(O=D+(q*36|0)+12|0,l=0,p=0,u=0;;){if(n=e[(e[O>>2]|0)+(u<<2)>>2]|0,s=e[o+16>>2]|0,ut=+i[s+(n<<4)>>2],st=+i[s+(n<<4)+4>>2],g=+i[s+(n<<4)+8>>2],d=ut*+i[he>>2]+st*+i[he+4>>2]+g*+i[he+8>>2]+ +i[he+48>>2],m=ut*+i[he+16>>2]+st*+i[he+20>>2]+g*+i[he+24>>2]+ +i[he+52>>2],g=ut*+i[he+32>>2]+st*+i[he+36>>2]+g*+i[he+40>>2]+ +i[he+56>>2],(l|0)==(p|0))if(F=p|0?p<<1:1,(p|0)<(F|0)){if(F?(e[5637]=(e[5637]|0)+1,l=Xe((F<<4|3)+16|0)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,D=l,l=e[Y>>2]|0):(D=0,l=p),h=e[ne>>2]|0,(l|0)<=0)h&&(mt=126);else{p=0;do n=D+(p<<4)|0,s=h+(p<<4)|0,e[n>>2]=e[s>>2],e[n+4>>2]=e[s+4>>2],e[n+8>>2]=e[s+8>>2],e[n+12>>2]=e[s+12>>2],p=p+1|0;while((p|0)!=(l|0));mt=126}(mt|0)==126&&(mt=0,R[Ce+384+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[h+-4>>2]|0),l=e[Y>>2]|0),e[ne>>2]=0),R[Ce+384+16>>0]=1,e[ne>>2]=D,e[Ce+384+8>>2]=F}else l=p;if(n=e[ne>>2]|0,i[n+(l<<4)>>2]=d,i[n+(l<<4)+4>>2]=m,i[n+(l<<4)+8>>2]=g,i[n+(l<<4)+12>>2]=0,l=(e[Y>>2]|0)+1|0,e[Y>>2]=l,u=u+1|0,(u|0)>=($|0))break t;p=e[Ce+384+8>>2]|0}while(!1);(q|0)>-1&&x6(Ce+624|0,se,me,Ce+384|0,W,lt,a),l=e[ne>>2]|0,l|0&&(R[Ce+384+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[ne>>2]=0)}if(R[t+16>>0]|0&&(rt=e[a+4>>2]|0,e[rt+748>>2]|0))if(p=e[rt+740>>2]|0,u=e[(e[a+8>>2]|0)+8>>2]|0,l=e[(e[a+12>>2]|0)+8>>2]|0,(p|0)==(u|0)){d2(rt,p+4|0,l+4|0);break}else{d2(rt,l+4|0,u+4|0);break}}else{if((e[bt+4>>2]|0)!=1)break e;if(F=Ce+624+16|0,R[F>>0]=1,O=Ce+624+12|0,e[O>>2]=0,D=Ce+624+4|0,e[D>>2]=0,h=Ce+624+8|0,e[h>>2]=0,l=e[s+12>>2]|0,st=+i[bt+60>>2],lt=+i[bt+60+4>>2],g=+i[bt+60+8>>2],d=st*+i[l>>2]+lt*+i[l+4>>2]+g*+i[l+8>>2]+ +i[l+48>>2],m=st*+i[l+16>>2]+lt*+i[l+20>>2]+g*+i[l+24>>2]+ +i[l+52>>2],g=st*+i[l+32>>2]+lt*+i[l+36>>2]+g*+i[l+40>>2]+ +i[l+56>>2],e[5637]=(e[5637]|0)+1,l=Xe(35)|0,l?(e[(l+4+15&-16)+-4>>2]=l,u=l+4+15&-16):u=0,l=e[O>>2]|0,l?(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0),l=e[D>>2]|0,e[O>>2]=0):l=0,R[F>>0]=1,e[O>>2]=u,e[h>>2]=1,i[u+(l<<4)>>2]=d,i[u+(l<<4)+4>>2]=m,i[u+(l<<4)+8>>2]=g,i[u+(l<<4)+12>>2]=0,l=(e[D>>2]|0)+1|0,e[D>>2]=l,rt=e[s+12>>2]|0,st=+i[bt+60+16>>2],lt=+i[bt+60+20>>2],g=+i[bt+60+24>>2],d=st*+i[rt>>2]+lt*+i[rt+4>>2]+g*+i[rt+8>>2]+ +i[rt+48>>2],m=st*+i[rt+16>>2]+lt*+i[rt+20>>2]+g*+i[rt+24>>2]+ +i[rt+52>>2],g=st*+i[rt+32>>2]+lt*+i[rt+36>>2]+g*+i[rt+40>>2]+ +i[rt+56>>2],(l|0)==(e[h>>2]|0)&&(ne=l|0?l<<1:1,(l|0)<(ne|0))){if(ne?(e[5637]=(e[5637]|0)+1,l=Xe((ne<<4|3)+16|0)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,p=l,l=e[D>>2]|0):p=0,(l|0)>0){u=0;do rt=p+(u<<4)|0,mt=(e[O>>2]|0)+(u<<4)|0,e[rt>>2]=e[mt>>2],e[rt+4>>2]=e[mt+4>>2],e[rt+8>>2]=e[mt+8>>2],e[rt+12>>2]=e[mt+12>>2],u=u+1|0;while((u|0)!=(l|0))}l=e[O>>2]|0,l|0&&(R[F>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[O>>2]=0),R[F>>0]=1,e[O>>2]=p,e[h>>2]=ne,l=e[D>>2]|0}if(rt=e[O>>2]|0,i[rt+(l<<4)>>2]=d,i[rt+(l<<4)+4>>2]=m,i[rt+(l<<4)+8>>2]=g,i[rt+(l<<4)+12>>2]=0,l=(e[D>>2]|0)+1|0,e[D>>2]=l,rt=e[s+12>>2]|0,st=+i[bt+60+32>>2],lt=+i[bt+60+36>>2],g=+i[bt+60+40>>2],d=st*+i[rt>>2]+lt*+i[rt+4>>2]+g*+i[rt+8>>2]+ +i[rt+48>>2],m=st*+i[rt+16>>2]+lt*+i[rt+20>>2]+g*+i[rt+24>>2]+ +i[rt+52>>2],g=st*+i[rt+32>>2]+lt*+i[rt+36>>2]+g*+i[rt+40>>2]+ +i[rt+56>>2],(l|0)==(e[h>>2]|0)&&(he=l|0?l<<1:1,(l|0)<(he|0))){if(he?(e[5637]=(e[5637]|0)+1,l=Xe((he<<4|3)+16|0)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,p=l,l=e[D>>2]|0):p=0,(l|0)>0){u=0;do rt=p+(u<<4)|0,s=(e[O>>2]|0)+(u<<4)|0,e[rt>>2]=e[s>>2],e[rt+4>>2]=e[s+4>>2],e[rt+8>>2]=e[s+8>>2],e[rt+12>>2]=e[s+12>>2],u=u+1|0;while((u|0)!=(l|0))}l=e[O>>2]|0,l|0&&(R[F>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[O>>2]=0),R[F>>0]=1,e[O>>2]=p,e[h>>2]=he,l=e[D>>2]|0}rt=e[O>>2]|0,i[rt+(l<<4)>>2]=d,i[rt+(l<<4)+4>>2]=m,i[rt+(l<<4)+8>>2]=g,i[rt+(l<<4)+12>>2]=0,e[D>>2]=(e[D>>2]|0)+1,S=+i[(e[t+20>>2]|0)+752>>2],e1(Ce+48|0,Ce+128|0,Ce+40|0,e[o+20>>2]|0,0),d=+i[Ce+48+4>>2],m=+i[Ce+48+8>>2],g=+i[Ce+48+12>>2],d*d+m*m+g*g>11920928955078125e-23&&(st=1/(d*d+m*m+g*g),i[Ce+384>>2]=d*st,i[Ce+384+4>>2]=m*st,i[Ce+384+8>>2]=g*st,i[Ce+384+12>>2]=0,st=+i[Ce+48+56>>2],lt=+Ct[e[(e[_t>>2]|0)+48>>2]&15](_t),lt=st-lt-+Ct[e[(e[bt>>2]|0)+48>>2]&15](bt),x6(Ce+384|0,e[_t+56>>2]|0,e[n+12>>2]|0,Ce+624|0,lt-S,S,a));do if(R[t+16>>0]|0&&(me=e[a+4>>2]|0,e[me+748>>2]|0))if(u=e[me+740>>2]|0,p=e[(e[a+8>>2]|0)+8>>2]|0,l=e[(e[a+12>>2]|0)+8>>2]|0,(u|0)==(p|0)){d2(me,u+4|0,l+4|0);break}else{d2(me,l+4|0,p+4|0);break}while(!1);l=e[O>>2]|0,l|0&&(R[F>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[O>>2]=0)}while(!1);H=Ce;return}while(!1)}if(e1(Ce+48|0,Ce+128|0,a,e[o+20>>2]|0,0),e[t+28>>2]|0&&(e[(e[a+4>>2]|0)+748>>2]|0)<(e[t+32>>2]|0)&&(W=+i[Ce+48+4>>2],te=+i[Ce+48+8>>2],_e=+i[Ce+48+12>>2],W*W+te*te+_e*_e>11920928955078125e-23)&&(U=1/(W*W+te*te+_e*_e),+ht(+(_e*U))>.7071067690849304?(X=1/+ot(+(_e*U*(_e*U)+te*U*(te*U))),G=0,z=te*U*X,X=-(_e*U*X)):(X=1/+ot(+(W*U*(W*U)+te*U*(te*U))),G=-(te*U*X),z=0,X=W*U*X),P=+Ct[e[(e[_t>>2]|0)+16>>2]&15](_t),B=+Ct[e[(e[bt>>2]|0)+16>>2]&15](bt),d=.019999999552965164/(P<B?P:B),P<B?(e[Ce+624>>2]=e[Ce+128>>2],e[Ce+624+4>>2]=e[Ce+128+4>>2],e[Ce+624+8>>2]=e[Ce+128+8>>2],e[Ce+624+12>>2]=e[Ce+128+12>>2],e[Ce+624+16>>2]=e[p>>2],e[Ce+624+16+4>>2]=e[p+4>>2],e[Ce+624+16+8>>2]=e[p+8>>2],e[Ce+624+16+12>>2]=e[p+12>>2],e[Ce+624+32>>2]=e[D>>2],e[Ce+624+32+4>>2]=e[D+4>>2],e[Ce+624+32+8>>2]=e[D+8>>2],e[Ce+624+32+12>>2]=e[D+12>>2],e[Ce+624+48>>2]=e[F>>2],e[Ce+624+48+4>>2]=e[F+4>>2],e[Ce+624+48+8>>2]=e[F+8>>2],e[Ce+624+48+12>>2]=e[F+12>>2]):(e[Ce+624>>2]=e[O>>2],e[Ce+624+4>>2]=e[O+4>>2],e[Ce+624+8>>2]=e[O+8>>2],e[Ce+624+12>>2]=e[O+12>>2],e[Ce+624+16>>2]=e[Y>>2],e[Ce+624+16+4>>2]=e[Y+4>>2],e[Ce+624+16+8>>2]=e[Y+8>>2],e[Ce+624+16+12>>2]=e[Y+12>>2],e[Ce+624+32>>2]=e[$>>2],e[Ce+624+32+4>>2]=e[$+4>>2],e[Ce+624+32+8>>2]=e[$+8>>2],e[Ce+624+32+12>>2]=e[$+12>>2],e[Ce+624+48>>2]=e[q>>2],e[Ce+624+48+4>>2]=e[q+4>>2],e[Ce+624+48+8>>2]=e[q+8>>2],e[Ce+624+48+12>>2]=e[q+12>>2]),l=e[t+28>>2]|0,(l|0)>0)){L=G*G+X*X+z*z,b=(d>.39269909262657166?.39269909262657166:d)*.5,u=0;do L>11920928955078125e-23&&(M=+E2(+b)/+ot(+L),C=G*M,w=X*M,M=z*M,E=+C2(+b),S=+(u|0)*(6.2831854820251465/+(l|0))*.5,g=+E2(+S)/+ot(+(_e*U*(_e*U)+(W*U*(W*U)+te*U*(te*U)))),d=W*U*g,m=te*U*g,g=_e*U*g,S=+C2(+S),P<B?(ge=g*(C*-g+(w*S+E*-m)-M*-d)+(d*(E*S-C*-d-w*-m-M*-g)+S*(M*-m+(C*S+E*-d)-w*-g))-m*(w*-d+(M*S+E*-g)-C*-m),ut=d*(w*-d+(M*S+E*-g)-C*-m)+(S*(C*-g+(w*S+E*-m)-M*-d)+m*(E*S-C*-d-w*-m-M*-g))-g*(M*-m+(C*S+E*-d)-w*-g),kt=m*(M*-m+(C*S+E*-d)-w*-g)+(g*(E*S-C*-d-w*-m-M*-g)+S*(w*-d+(M*S+E*-g)-C*-m))-d*(C*-g+(w*S+E*-m)-M*-d),Ne=S*(E*S-C*-d-w*-m-M*-g)-d*(M*-m+(C*S+E*-d)-w*-g)-m*(C*-g+(w*S+E*-m)-M*-d)-g*(w*-d+(M*S+E*-g)-C*-m),Ze=ge*(2/(Ne*Ne+(kt*kt+(ge*ge+ut*ut)))),st=ut*(2/(Ne*Ne+(kt*kt+(ge*ge+ut*ut)))),we=kt*(2/(Ne*Ne+(kt*kt+(ge*ge+ut*ut)))),rt=e[n+12>>2]|0,g=+i[rt>>2],S=+i[rt+16>>2],C=+i[rt+32>>2],w=+i[rt+4>>2],M=+i[rt+20>>2],E=+i[rt+36>>2],pe=+i[rt+8>>2],Se=+i[rt+24>>2],lt=+i[rt+40>>2],i[Ce+128>>2]=(1-(ut*st+kt*we))*g+(ge*st-Ne*we)*S+(ge*we+Ne*st)*C,i[Ce+128+4>>2]=(1-(ut*st+kt*we))*w+(ge*st-Ne*we)*M+(ge*we+Ne*st)*E,i[Ce+128+8>>2]=(1-(ut*st+kt*we))*pe+(ge*st-Ne*we)*Se+(ge*we+Ne*st)*lt,i[Ce+128+12>>2]=0,i[Ce+128+16>>2]=(ge*st+Ne*we)*g+(1-(ge*Ze+kt*we))*S+(ut*we-Ne*Ze)*C,i[Ce+128+20>>2]=(ge*st+Ne*we)*w+(1-(ge*Ze+kt*we))*M+(ut*we-Ne*Ze)*E,i[Ce+128+24>>2]=(ge*st+Ne*we)*pe+(1-(ge*Ze+kt*we))*Se+(ut*we-Ne*Ze)*lt,i[Ce+128+28>>2]=0,i[Ce+128+32>>2]=(ge*we-Ne*st)*g+(ut*we+Ne*Ze)*S+(1-(ge*Ze+ut*st))*C,i[Ce+128+36>>2]=(ge*we-Ne*st)*w+(ut*we+Ne*Ze)*M+(1-(ge*Ze+ut*st))*E,i[Ce+128+40>>2]=(ge*we-Ne*st)*pe+(ut*we+Ne*Ze)*Se+(1-(ge*Ze+ut*st))*lt,i[Ce+128+44>>2]=0,rt=e[s+12>>2]|0,e[O>>2]=e[rt>>2],e[O+4>>2]=e[rt+4>>2],e[O+8>>2]=e[rt+8>>2],e[O+12>>2]=e[rt+12>>2],e[Y>>2]=e[rt+16>>2],e[Y+4>>2]=e[rt+16+4>>2],e[Y+8>>2]=e[rt+16+8>>2],e[Y+12>>2]=e[rt+16+12>>2],e[$>>2]=e[rt+32>>2],e[$+4>>2]=e[rt+32+4>>2],e[$+8>>2]=e[rt+32+8>>2],e[$+12>>2]=e[rt+32+12>>2],e[q>>2]=e[rt+48>>2],e[q+4>>2]=e[rt+48+4>>2],e[q+8>>2]=e[rt+48+8>>2],e[q+12>>2]=e[rt+48+12>>2]):(rt=e[n+12>>2]|0,e[Ce+128>>2]=e[rt>>2],e[Ce+128+4>>2]=e[rt+4>>2],e[Ce+128+8>>2]=e[rt+8>>2],e[Ce+128+12>>2]=e[rt+12>>2],e[p>>2]=e[rt+16>>2],e[p+4>>2]=e[rt+16+4>>2],e[p+8>>2]=e[rt+16+8>>2],e[p+12>>2]=e[rt+16+12>>2],e[D>>2]=e[rt+32>>2],e[D+4>>2]=e[rt+32+4>>2],e[D+8>>2]=e[rt+32+8>>2],e[D+12>>2]=e[rt+32+12>>2],e[F>>2]=e[rt+48>>2],e[F+4>>2]=e[rt+48+4>>2],e[F+8>>2]=e[rt+48+8>>2],e[F+12>>2]=e[rt+48+12>>2],Ze=g*(C*-g+(w*S+E*-m)-M*-d)+(d*(E*S-C*-d-w*-m-M*-g)+S*(M*-m+(C*S+E*-d)-w*-g))-m*(w*-d+(M*S+E*-g)-C*-m),st=d*(w*-d+(M*S+E*-g)-C*-m)+(S*(C*-g+(w*S+E*-m)-M*-d)+m*(E*S-C*-d-w*-m-M*-g))-g*(M*-m+(C*S+E*-d)-w*-g),it=m*(M*-m+(C*S+E*-d)-w*-g)+(g*(E*S-C*-d-w*-m-M*-g)+S*(w*-d+(M*S+E*-g)-C*-m))-d*(C*-g+(w*S+E*-m)-M*-d),Se=S*(E*S-C*-d-w*-m-M*-g)-d*(M*-m+(C*S+E*-d)-w*-g)-m*(C*-g+(w*S+E*-m)-M*-d)-g*(w*-d+(M*S+E*-g)-C*-m),ut=Ze*(2/(Se*Se+(it*it+(Ze*Ze+st*st)))),lt=st*(2/(Se*Se+(it*it+(Ze*Ze+st*st)))),Ne=it*(2/(Se*Se+(it*it+(Ze*Ze+st*st)))),rt=e[s+12>>2]|0,S=+i[rt>>2],C=+i[rt+16>>2],w=+i[rt+32>>2],M=+i[rt+4>>2],E=+i[rt+20>>2],pe=+i[rt+36>>2],we=+i[rt+8>>2],ge=+i[rt+24>>2],kt=+i[rt+40>>2],i[Ce+128+64>>2]=(1-(st*lt+it*Ne))*S+(Ze*lt-Se*Ne)*C+(Ze*Ne+Se*lt)*w,i[Ce+128+68>>2]=(1-(st*lt+it*Ne))*M+(Ze*lt-Se*Ne)*E+(Ze*Ne+Se*lt)*pe,i[Ce+128+72>>2]=(1-(st*lt+it*Ne))*we+(Ze*lt-Se*Ne)*ge+(Ze*Ne+Se*lt)*kt,i[Ce+128+76>>2]=0,i[Ce+128+80>>2]=(Ze*lt+Se*Ne)*S+(1-(Ze*ut+it*Ne))*C+(st*Ne-Se*ut)*w,i[Ce+128+84>>2]=(Ze*lt+Se*Ne)*M+(1-(Ze*ut+it*Ne))*E+(st*Ne-Se*ut)*pe,i[Ce+128+88>>2]=(Ze*lt+Se*Ne)*we+(1-(Ze*ut+it*Ne))*ge+(st*Ne-Se*ut)*kt,i[Ce+128+92>>2]=0,i[Ce+128+96>>2]=(Ze*Ne-Se*lt)*S+(st*Ne+Se*ut)*C+(1-(Ze*ut+st*lt))*w,i[Ce+128+100>>2]=(Ze*Ne-Se*lt)*M+(st*Ne+Se*ut)*E+(1-(Ze*ut+st*lt))*pe,i[Ce+128+104>>2]=(Ze*Ne-Se*lt)*we+(st*Ne+Se*ut)*ge+(1-(Ze*ut+st*lt))*kt,i[Ce+128+108>>2]=0),l=e[o+20>>2]|0,e[Ce+384>>2]=4028,e[Ce+384+32>>2]=a,e[Ce+384+36>>2]=e[Ce+128>>2],e[Ce+384+36+4>>2]=e[Ce+128+4>>2],e[Ce+384+36+8>>2]=e[Ce+128+8>>2],e[Ce+384+36+12>>2]=e[Ce+128+12>>2],e[Ce+384+52>>2]=e[p>>2],e[Ce+384+52+4>>2]=e[p+4>>2],e[Ce+384+52+8>>2]=e[p+8>>2],e[Ce+384+52+12>>2]=e[p+12>>2],e[Ce+384+68>>2]=e[D>>2],e[Ce+384+68+4>>2]=e[D+4>>2],e[Ce+384+68+8>>2]=e[D+8>>2],e[Ce+384+68+12>>2]=e[D+12>>2],e[Ce+384+84>>2]=e[F>>2],e[Ce+384+84+4>>2]=e[F+4>>2],e[Ce+384+84+8>>2]=e[F+8>>2],e[Ce+384+84+12>>2]=e[F+12>>2],e[Ce+384+100>>2]=e[O>>2],e[Ce+384+100+4>>2]=e[O+4>>2],e[Ce+384+100+8>>2]=e[O+8>>2],e[Ce+384+100+12>>2]=e[O+12>>2],e[Ce+384+116>>2]=e[Y>>2],e[Ce+384+116+4>>2]=e[Y+4>>2],e[Ce+384+116+8>>2]=e[Y+8>>2],e[Ce+384+116+12>>2]=e[Y+12>>2],e[Ce+384+132>>2]=e[$>>2],e[Ce+384+132+4>>2]=e[$+4>>2],e[Ce+384+132+8>>2]=e[$+8>>2],e[Ce+384+132+12>>2]=e[$+12>>2],e[Ce+384+148>>2]=e[q>>2],e[Ce+384+148+4>>2]=e[q+4>>2],e[Ce+384+148+8>>2]=e[q+8>>2],e[Ce+384+148+12>>2]=e[q+12>>2],e[Ce+384+164>>2]=e[Ce+624>>2],e[Ce+384+164+4>>2]=e[Ce+624+4>>2],e[Ce+384+164+8>>2]=e[Ce+624+8>>2],e[Ce+384+164+12>>2]=e[Ce+624+12>>2],e[Ce+384+180>>2]=e[Ce+624+16>>2],e[Ce+384+180+4>>2]=e[Ce+624+16+4>>2],e[Ce+384+180+8>>2]=e[Ce+624+16+8>>2],e[Ce+384+180+12>>2]=e[Ce+624+16+12>>2],e[Ce+384+196>>2]=e[Ce+624+32>>2],e[Ce+384+196+4>>2]=e[Ce+624+32+4>>2],e[Ce+384+196+8>>2]=e[Ce+624+32+8>>2],e[Ce+384+196+12>>2]=e[Ce+624+32+12>>2],e[Ce+384+212>>2]=e[Ce+624+48>>2],e[Ce+384+212+4>>2]=e[Ce+624+48+4>>2],e[Ce+384+212+8>>2]=e[Ce+624+48+8>>2],e[Ce+384+212+12>>2]=e[Ce+624+48+12>>2],R[Ce+384+228>>0]=P<B&1,e[Ce+384+232>>2]=l,e1(Ce+48|0,Ce+128|0,Ce+384|0,l,0),l=e[t+28>>2]|0),u=u+1|0;while((u|0)<(l|0))}if(!(R[t+16>>0]|0)){H=Ce;return}if(u=e[a+4>>2]|0,!(e[u+748>>2]|0)){H=Ce;return}if(p=e[u+740>>2]|0,h=e[(e[a+8>>2]|0)+8>>2]|0,l=e[(e[a+12>>2]|0)+8>>2]|0,(p|0)==(h|0)){d2(u,p+4|0,l+4|0),H=Ce;return}else{d2(u,l+4|0,h+4|0),H=Ce;return}}function E0e(t){t=t|0,ye(t)}function N0e(t,n,s){t=t|0,n=n|0,s=s|0}function b0e(t,n,s){t=t|0,n=n|0,s=s|0}function D0e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o}function I0e(t){t=t|0,ye(t)}function P0e(t,n,s){t=t|0,n=n|0,s=s|0}function L0e(t,n,s){t=t|0,n=n|0,s=s|0}function k0e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o;var a=0,l=0,u=0,p=0;if(a=H,H=H+16|0,i[t+32>>2]=o,e[t+8>>2]=e[n>>2],e[t+8+4>>2]=e[n+4>>2],e[t+8+8>>2]=e[n+8>>2],e[t+8+12>>2]=e[n+12>>2],l=+i[t+28>>2],p=+i[s+4>>2]-l*+i[n+4>>2],u=+i[s+8>>2]-l*+i[n+8>>2],i[a>>2]=+i[s>>2]-+i[n>>2]*l,i[a+4>>2]=p,i[a+8>>2]=u,i[a+12>>2]=0,o=+i[t+24>>2]+l+o,i[t+32>>2]=o,!(o<0)){t=t+4|0,t=e[t>>2]|0,s=e[t>>2]|0,s=s+16|0,s=e[s>>2]|0,N2[s&15](t,n,a,o),H=a;return}R[t+36>>0]=1,t=t+4|0,t=e[t>>2]|0,s=e[t>>2]|0,s=s+16|0,s=e[s>>2]|0,N2[s&15](t,n,a,o),H=a}function F0e(t){t=t|0,ye(t)}function B0e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0;if(m=H,H=H+16|0,p=+i[n>>2],h=+i[n+4>>2],d=+i[n+8>>2],l=+i[s>>2],u=+i[s+4>>2],a=+i[s+8>>2],R[t+228>>0]|0){F=+i[t+36>>2],G=+i[t+52>>2],b=+i[t+68>>2],P=+i[t+40>>2],z=+i[t+56>>2],B=+i[t+72>>2],U=+i[t+44>>2],X=+i[t+60>>2],L=+i[t+76>>2],M=-+i[t+84>>2],E=-+i[t+88>>2],D=-+i[t+92>>2],g=+i[t+164>>2],S=+i[t+168>>2],$=+i[t+172>>2],C=+i[t+180>>2],w=+i[t+184>>2],q=+i[t+188>>2],O=+i[t+196>>2],Y=+i[t+200>>2],ne=+i[t+204>>2],$=(d*o+a)*(b*g+B*S+L*$)+((p*o+l)*(F*g+P*S+U*$)+(h*o+u)*(G*g+z*S+X*$))+(g*(F*M+G*E+b*D)+(P*M+z*E+B*D)*S+(U*M+X*E+L*D)*$+ +i[t+212>>2]),q=(d*o+a)*(b*C+B*w+L*q)+((p*o+l)*(F*C+P*w+U*q)+(h*o+u)*(G*C+z*w+X*q))+((F*M+G*E+b*D)*C+(P*M+z*E+B*D)*w+(U*M+X*E+L*D)*q+ +i[t+216>>2]),ne=(F*M+G*E+b*D)*O+(P*M+z*E+B*D)*Y+(U*M+X*E+L*D)*ne+ +i[t+220>>2]+((d*o+a)*(b*O+B*Y+L*ne)+((p*o+l)*(F*O+P*Y+U*ne)+(h*o+u)*(G*O+z*Y+X*ne))),i[m>>2]=$+p*(p*($-l)+h*(q-u)+d*(ne-a)),i[m+4>>2]=q+h*(p*($-l)+h*(q-u)+d*(ne-a)),X=ne+d*(p*($-l)+h*(q-u)+d*(ne-a)),ne=p*($-l)+h*(q-u)+d*(ne-a),s=m+8|0,i[s>>2]=X,s=m+12|0,i[s>>2]=0,t=t+32|0,t=e[t>>2]|0,s=e[t>>2]|0,s=s+16|0,s=e[s>>2]|0,N2[s&15](t,n,m,ne),H=m;return}else{F=+i[t+100>>2],b=+i[t+116>>2],G=+i[t+132>>2],L=+i[t+104>>2],E=+i[t+120>>2],U=+i[t+136>>2],B=+i[t+108>>2],g=+i[t+124>>2],P=+i[t+140>>2],Y=-+i[t+148>>2],z=-+i[t+152>>2],O=-+i[t+156>>2],ne=+i[t+164>>2],X=+i[t+168>>2],w=+i[t+172>>2],q=+i[t+180>>2],$=+i[t+184>>2],C=+i[t+188>>2],D=+i[t+196>>2],M=+i[t+200>>2],S=+i[t+204>>2],w=a*(G*ne+U*X+P*w)+(l*(F*ne+L*X+B*w)+u*(b*ne+E*X+g*w))+(ne*(F*Y+b*z+G*O)+(L*Y+E*z+U*O)*X+(B*Y+g*z+P*O)*w+ +i[t+212>>2]),C=a*(G*q+U*$+P*C)+(l*(F*q+L*$+B*C)+u*(b*q+E*$+g*C))+((F*Y+b*z+G*O)*q+(L*Y+E*z+U*O)*$+(B*Y+g*z+P*O)*C+ +i[t+216>>2]),S=(F*Y+b*z+G*O)*D+(L*Y+E*z+U*O)*M+(B*Y+g*z+P*O)*S+ +i[t+220>>2]+(a*(G*D+U*M+P*S)+(l*(F*D+L*M+B*S)+u*(b*D+E*M+g*S))),i[m>>2]=w,i[m+4>>2]=C,g=S,o=(p*o+l-w)*+i[n>>2]+(h*o+u-C)*+i[n+4>>2]+(d*o+a-S)*+i[n+8>>2],s=m+8|0,i[s>>2]=g,s=m+12|0,i[s>>2]=0,t=t+32|0,t=e[t>>2]|0,s=e[t>>2]|0,s=s+16|0,s=e[s>>2]|0,N2[s&15](t,n,m,o),H=m;return}}function U0e(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0;return o=H,H=H+608|0,g=+i[n+116>>2]-+i[n+52>>2],m=+i[n+120>>2]-+i[n+56>>2],d=+i[n+124>>2]-+i[n+60>>2],l=+i[s+116>>2]-+i[s+52>>2],u=+i[s+120>>2]-+i[s+56>>2],p=+i[s+124>>2]-+i[s+60>>2],h=+i[n+256>>2],g*g+m*m+d*d<h*h&&(g=+i[s+256>>2],l*l+u*u+p*p<g*g)?(g=1,H=o,+g):(t=e[n+192>>2]|0,a=e[s+252>>2]|0,e[o+552+8>>2]=0,e[o+552+12>>2]=-1,e[o+552+16>>2]=1065353216,e[o+552+20>>2]=1065353216,e[o+552+24>>2]=1065353216,i[o+552+28>>2]=0,e[o+552>>2]=6380,e[o+552+4>>2]=8,e[o+552+32>>2]=a,e[o+552+48>>2]=a,e[o+376>>2]=3316,i[o+376+164>>2]=0xde0b6b000000000,e[o+376+168>>2]=0,i[o+376+172>>2]=0,i[o+16+308>>2]=9999999747378752e-20,R[o+16+332>>0]=0,e[o>>2]=6864,e[o+4>>2]=o+16,e[o+8>>2]=t,e[o+12>>2]=o+552,rh(o,n+4|0,n+68|0,s+4|0,s+68|0,o+376|0)|0?(l=+i[o+376+164>>2],+i[n+248>>2]>l&&(i[n+248>>2]=l),+i[s+248>>2]>l&&(i[s+248>>2]=l),l<1?u=l:u=1):u=1,t=e[s+192>>2]|0,a=e[n+252>>2]|0,e[o+552+8>>2]=0,e[o+552+12>>2]=-1,e[o+552+16>>2]=1065353216,e[o+552+20>>2]=1065353216,e[o+552+24>>2]=1065353216,i[o+552+28>>2]=0,e[o+552>>2]=6380,e[o+552+4>>2]=8,e[o+552+32>>2]=a,e[o+552+48>>2]=a,e[o+376>>2]=3316,i[o+376+164>>2]=0xde0b6b000000000,e[o+376+168>>2]=0,i[o+376+172>>2]=0,i[o+16+308>>2]=9999999747378752e-20,R[o+16+332>>0]=0,e[o>>2]=6864,e[o+4>>2]=o+16,e[o+8>>2]=o+552,e[o+12>>2]=t,rh(o,n+4|0,n+68|0,s+4|0,s+68|0,o+376|0)|0?(l=+i[o+376+164>>2],+i[n+248>>2]>l&&(i[n+248>>2]=l),+i[s+248>>2]>l&&(i[s+248>>2]=l),u>l||(l=u)):l=u,g=l,H=o,+g)}function O0e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+20>>2]|0,!!s&&R[t+16>>0]|0){if(o=e[n+4>>2]|0,(o|0)==(e[n+8>>2]|0)&&(l=o|0?o<<1:1,(o|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[n+4>>2]|0):s=0,(o|0)>0){a=0;do e[s+(a<<2)>>2]=e[(e[n+12>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[n+12>>2]|0,a&&(R[n+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[n+4>>2]|0),e[n+12>>2]=0),R[n+16>>0]=1,e[n+12>>2]=s,e[n+8>>2]=l,s=e[t+20>>2]|0}e[(e[n+12>>2]|0)+(o<<2)>>2]=s,e[n+4>>2]=o+1}}function G0e(t){t=t|0;var n=0;e[t>>2]=4056,R[t+8>>0]|0&&(n=e[t+12>>2]|0,n&&(t=e[t+4>>2]|0,zt[e[(e[t>>2]|0)+16>>2]&127](t,n)))}function V0e(t){t=t|0;var n=0,s=0;if(e[t>>2]=4056,!(R[t+8>>0]|0)){ye(t);return}if(n=e[t+12>>2]|0,!n){ye(t);return}s=e[t+4>>2]|0,zt[e[(e[s>>2]|0)+16>>2]&127](s,n),ye(t)}function z0e(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,st=0,mt=0,lt=0,_t=0;if(X=H,H=H+96|0,!(e[t+12>>2]|0)){H=X;return}if(o=(R[t+16>>0]|0)!=0,te=o?s:n,o=o?n:s,l=e[te+4>>2]|0,u=e[o+4>>2]|0,te=e[te+12>>2]|0,we=+i[te>>2],Te=+i[te+16>>2],fe=+i[te+32>>2],de=+i[te+4>>2],ve=+i[te+20>>2],m=+i[te+36>>2],p=+i[te+8>>2],C=+i[te+24>>2],L=+i[te+40>>2],me=+i[te+48>>2],he=+i[te+52>>2],pe=+i[te+56>>2],W=e[o+12>>2]|0,xe=+i[W>>2],ae=+i[W+16>>2],g=+i[W+32>>2],oe=+i[W+4>>2],se=+i[W+20>>2],S=+i[W+36>>2],B=+i[W+8>>2],D=+i[W+24>>2],M=+i[W+40>>2],_e=-+i[W+48>>2],z=-+i[W+52>>2],Y=-+i[W+56>>2],$=+i[te>>2],q=+i[te+16>>2],O=+i[te+32>>2],U=+i[te+4>>2],P=+i[te+20>>2],F=+i[te+36>>2],b=+i[te+8>>2],E=+i[te+24>>2],w=+i[te+40>>2],te=e[(e[l>>2]|0)+64>>2]|0,d=-+i[u+52>>2],h=-+i[u+56>>2],G=-+i[u+60>>2],i[X>>2]=(we*xe+Te*ae+fe*g)*d+(we*oe+Te*se+fe*S)*h+(we*B+Te*D+fe*M)*G,i[X+4>>2]=(de*xe+ve*ae+m*g)*d+(de*oe+ve*se+m*S)*h+(de*B+ve*D+m*M)*G,i[X+8>>2]=(p*xe+C*ae+L*g)*d+(p*oe+C*se+L*S)*h+(p*B+C*D+L*M)*G,i[X+12>>2]=0,f0[te&127](X+16|0,l,X),G=+i[X+16>>2],L=+i[X+16+4>>2],C=+i[X+16+8>>2],p=+i[u+52>>2],h=+i[u+56>>2],d=+i[u+60>>2],m=d*(me*B+he*D+pe*M+(B*_e+D*z+M*Y)+((B*$+D*q+M*O)*G+(B*U+D*P+M*F)*L+(B*b+D*E+M*w)*C))+(p*(me*xe+he*ae+pe*g+(xe*_e+ae*z+g*Y)+((xe*$+ae*q+g*O)*G+(xe*U+ae*P+g*F)*L+(xe*b+ae*E+g*w)*C))+h*(me*oe+he*se+pe*S+(oe*_e+se*z+S*Y)+((oe*$+se*q+S*O)*G+(oe*U+se*P+S*F)*L+(oe*b+se*E+S*w)*C)))-+i[u+68>>2],g=me*xe+he*ae+pe*g+(xe*_e+ae*z+g*Y)+((xe*$+ae*q+g*O)*G+(xe*U+ae*P+g*F)*L+(xe*b+ae*E+g*w)*C)-p*m,S=me*oe+he*se+pe*S+(oe*_e+se*z+S*Y)+((oe*$+se*q+S*O)*G+(oe*U+se*P+S*F)*L+(oe*b+se*E+S*w)*C)-h*m,C=me*B+he*D+pe*M+(B*_e+D*z+M*Y)+((B*$+D*q+M*O)*G+(B*U+D*P+M*F)*L+(B*b+D*E+M*w)*C)-d*m,te=e[o+12>>2]|0,w=+i[te>>2],M=+i[te+4>>2],E=+i[te+8>>2],D=+i[te+16>>2],b=+i[te+20>>2],B=+i[te+24>>2],L=+i[te+32>>2],F=+i[te+36>>2],P=+i[te+40>>2],U=+i[te+48>>2],G=+i[te+52>>2],O=+i[te+56>>2],te=e[t+12>>2]|0,W=m<+i[te+752>>2],e[a+4>>2]=te,W&&(te=e[o+12>>2]|0,Te=p*+i[te+16>>2]+h*+i[te+20>>2]+d*+i[te+24>>2],we=p*+i[te+32>>2]+h*+i[te+36>>2]+d*+i[te+40>>2],i[X+80>>2]=+i[te>>2]*p+ +i[te+4>>2]*h+ +i[te+8>>2]*d,i[X+80+4>>2]=Te,i[X+80+8>>2]=we,i[X+80+12>>2]=0,i[X+64>>2]=E*C+(w*g+M*S)+U,i[X+64+4>>2]=g*D+S*b+C*B+G,i[X+64+8>>2]=g*L+S*F+C*P+O,i[X+64+12>>2]=0,N2[e[(e[a>>2]|0)+16>>2]&15](a,X+80|0,X+64|0,m)),(e[l+4>>2]|0)<7&&(e[(e[a+4>>2]|0)+748>>2]|0)<(e[t+24>>2]|0)&&(p=+i[u+60>>2],+ht(+p)>.7071067690849304?(d=+i[u+56>>2],we=1/+ot(+(p*p+d*d)),h=0,d=d*we,p=-(p*we)):(we=+i[u+52>>2],h=+i[u+56>>2],p=1/+ot(+(we*we+h*h)),h=-(h*p),d=0,p=we*p),Y=.019999999552965164/+Ct[e[(e[l>>2]|0)+16>>2]&15](l),Y=(Y>.39269909262657166?.39269909262657166:Y)*.5,z=+E2(+Y)/+ot(+(h*h+p*p+d*d)),q=h*z,$=p*z,z=d*z,Y=+C2(+Y),o=e[t+20>>2]|0,(o|0)>0)){l=0;do D=+i[u+52>>2],we=+i[u+56>>2],U=+i[u+60>>2],F=+(l|0)*(6.2831854820251465/+(o|0))*.5,Te=+E2(+F)/+ot(+(D*D+we*we+U*U)),F=+C2(+F),P=z*-(we*Te)+(q*F+Y*-(D*Te))-$*-(U*Te),B=q*-(U*Te)+($*F+Y*-(we*Te))-z*-(D*Te),ge=$*-(D*Te)+(z*F+Y*-(U*Te))-q*-(we*Te),O=Y*F-q*-(D*Te)-$*-(we*Te)-z*-(U*Te),Ke=U*Te*B+(D*Te*O+F*P)-we*Te*ge,He=D*Te*ge+(F*B+we*Te*O)-U*Te*P,st=we*Te*P+(U*Te*O+F*ge)-D*Te*B,ge=F*O-D*Te*P-we*Te*B-U*Te*ge,o=(R[t+16>>0]|0)!=0,Ne=o?s:n,o=o?n:s,te=e[Ne+4>>2]|0,W=e[o+4>>2]|0,Ne=e[Ne+12>>2]|0,Te=+i[Ne>>2],U=+i[Ne+4>>2],B=+i[Ne+8>>2],we=+i[Ne+16>>2],P=+i[Ne+20>>2],D=+i[Ne+24>>2],O=+i[Ne+32>>2],F=+i[Ne+36>>2],M=+i[Ne+40>>2],oe=+i[Ne+48>>2],ae=+i[Ne+52>>2],xe=+i[Ne+56>>2],Ne=e[o+12>>2]|0,pe=+i[Ne>>2],he=+i[Ne+16>>2],g=+i[Ne+32>>2],me=+i[Ne+4>>2],se=+i[Ne+20>>2],S=+i[Ne+36>>2],b=+i[Ne+8>>2],E=+i[Ne+24>>2],w=+i[Ne+40>>2],ve=-+i[Ne+48>>2],de=-+i[Ne+52>>2],fe=-+i[Ne+56>>2],qe=Ke*(2/(Ke*Ke+He*He+st*st+ge*ge)),d=He*(2/(Ke*Ke+He*He+st*st+ge*ge)),Se=st*(2/(Ke*Ke+He*He+st*st+ge*ge)),lt=B*(Ke*Se-ge*d)+(U*(Ke*d+ge*Se)+Te*(1-(He*d+st*Se))),ut=B*(He*Se+ge*qe)+(Te*(Ke*d-ge*Se)+U*(1-(Ke*qe+st*Se))),p=Te*(Ke*Se+ge*d)+U*(He*Se-ge*qe)+B*(1-(Ke*qe+He*d)),mt=D*(Ke*Se-ge*d)+(P*(Ke*d+ge*Se)+we*(1-(He*d+st*Se))),Ze=D*(He*Se+ge*qe)+(we*(Ke*d-ge*Se)+P*(1-(Ke*qe+st*Se))),L=we*(Ke*Se+ge*d)+P*(He*Se-ge*qe)+D*(1-(Ke*qe+He*d)),_t=M*(Ke*Se-ge*d)+(F*(Ke*d+ge*Se)+O*(1-(He*d+st*Se))),st=M*(He*Se+ge*qe)+(O*(Ke*d-ge*Se)+F*(1-(Ke*qe+st*Se))),d=O*(Ke*Se+ge*d)+F*(He*Se-ge*qe)+M*(1-(Ke*qe+He*d)),He=+i[Ne>>2],qe=+i[Ne+16>>2],Ke=+i[Ne+32>>2],ge=+i[Ne+4>>2],Se=+i[Ne+20>>2],ke=+i[Ne+36>>2],h=+i[Ne+8>>2],C=+i[Ne+24>>2],m=+i[Ne+40>>2],Ne=e[(e[te>>2]|0)+64>>2]|0,Ae=-+i[W+52>>2],_e=-+i[W+56>>2],G=-+i[W+60>>2],i[X+64>>2]=(Ke*_t+(He*lt+qe*mt))*Ae+(ke*_t+(ge*lt+Se*mt))*_e+(m*_t+(h*lt+C*mt))*G,i[X+64+4>>2]=(Ke*st+(He*ut+qe*Ze))*Ae+(ke*st+(ge*ut+Se*Ze))*_e+(m*st+(h*ut+C*Ze))*G,i[X+64+8>>2]=(Ke*d+(He*p+qe*L))*Ae+(ke*d+(ge*p+Se*L))*_e+(m*d+(h*p+C*L))*G,i[X+64+12>>2]=0,f0[Ne&127](X+80|0,te,X+64|0),G=+i[X+80>>2],L=+i[X+80+4>>2],C=+i[X+80+8>>2],p=+i[W+52>>2],h=+i[W+56>>2],d=+i[W+60>>2],m=d*(oe*b+ae*E+xe*w+(b*ve+E*de+w*fe)+((Te*b+we*E+O*w)*G+(U*b+P*E+F*w)*L+(B*b+D*E+M*w)*C))+(p*(oe*pe+ae*he+xe*g+(pe*ve+he*de+g*fe)+((Te*pe+we*he+O*g)*G+(U*pe+P*he+F*g)*L+(B*pe+D*he+M*g)*C))+h*(oe*me+ae*se+xe*S+(me*ve+se*de+S*fe)+((Te*me+we*se+O*S)*G+(U*me+P*se+F*S)*L+(B*me+D*se+M*S)*C)))-+i[W+68>>2],g=oe*pe+ae*he+xe*g+(pe*ve+he*de+g*fe)+((Te*pe+we*he+O*g)*G+(U*pe+P*he+F*g)*L+(B*pe+D*he+M*g)*C)-p*m,S=oe*me+ae*se+xe*S+(me*ve+se*de+S*fe)+((Te*me+we*se+O*S)*G+(U*me+P*se+F*S)*L+(B*me+D*se+M*S)*C)-h*m,C=oe*b+ae*E+xe*w+(b*ve+E*de+w*fe)+((Te*b+we*E+O*w)*G+(U*b+P*E+F*w)*L+(B*b+D*E+M*w)*C)-d*m,W=e[o+12>>2]|0,w=+i[W>>2],M=+i[W+4>>2],E=+i[W+8>>2],D=+i[W+16>>2],b=+i[W+20>>2],B=+i[W+24>>2],L=+i[W+32>>2],F=+i[W+36>>2],P=+i[W+40>>2],U=+i[W+48>>2],G=+i[W+52>>2],O=+i[W+56>>2],W=e[t+12>>2]|0,te=m<+i[W+752>>2],e[a+4>>2]=W,te&&(Ne=e[o+12>>2]|0,lt=p*+i[Ne+16>>2]+h*+i[Ne+20>>2]+d*+i[Ne+24>>2],_t=p*+i[Ne+32>>2]+h*+i[Ne+36>>2]+d*+i[Ne+40>>2],i[X+48>>2]=+i[Ne>>2]*p+ +i[Ne+4>>2]*h+ +i[Ne+8>>2]*d,i[X+48+4>>2]=lt,i[X+48+8>>2]=_t,i[X+48+12>>2]=0,i[X+32>>2]=E*C+(w*g+M*S)+U,i[X+32+4>>2]=g*D+S*b+C*B+G,i[X+32+8>>2]=g*L+S*F+C*P+O,i[X+32+12>>2]=0,N2[e[(e[a>>2]|0)+16>>2]&15](a,X+48|0,X+32|0,m)),l=l+1|0,o=e[t+20>>2]|0;while((l|0)<(o|0))}do if(R[t+8>>0]|0&&e[(e[t+12>>2]|0)+748>>2]|0&&(ne=e[a+4>>2]|0,e[ne+748>>2]|0))if(l=e[ne+740>>2]|0,u=e[(e[a+8>>2]|0)+8>>2]|0,o=e[(e[a+12>>2]|0)+8>>2]|0,(l|0)==(u|0)){d2(ne,l+4|0,o+4|0);break}else{d2(ne,o+4|0,u+4|0);break}while(!1);H=X}function W0e(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,1}function H0e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+12>>2]|0,!!s&&R[t+8>>0]|0){if(o=e[n+4>>2]|0,(o|0)==(e[n+8>>2]|0)&&(l=o|0?o<<1:1,(o|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[n+4>>2]|0):s=0,(o|0)>0){a=0;do e[s+(a<<2)>>2]=e[(e[n+12>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[n+12>>2]|0,a&&(R[n+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[n+4>>2]|0),e[n+12>>2]=0),R[n+16>>0]=1,e[n+12>>2]=s,e[n+8>>2]=l,s=e[t+12>>2]|0}e[(e[n+12>>2]|0)+(o<<2)>>2]=s,e[n+4>>2]=o+1}}function K6(t){t=t|0;var n=0,s=0;e[t>>2]=4084,R[t+20>>0]|0&&(n=e[t+16>>2]|0,s=e[n+16>>2]|0,s&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),n=e[t+16>>2]|0),n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0))),R[t+12>>0]|0&&(n=e[t+8>>2]|0,s=e[n+16>>2]|0,s&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),n=e[t+8>>2]|0),n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0))),n=e[t+32>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+32>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+36>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+36>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+40>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+40>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+44>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+44>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+48>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+48>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+52>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+52>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+56>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+56>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+60>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+60>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+76>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+76>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+80>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+80>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+72>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+72>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+88>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+88>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+84>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+84>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+24>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+28>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+28>>2]|0,n&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0))}function j0e(t){t=t|0,K6(t),ye(t)}function q0e(t){return t=t|0,e[t+8>>2]|0}function X0e(t){return t=t|0,e[t+16>>2]|0}function $0e(t,n,s){t=t|0,n=n|0,s=s|0;do if((n|0)==8&(s|0)==8)n=t+60|0;else{if((n|0)==8&(s|0)==1){n=t+76|0;break}if((n|0)==1&(s|0)==8){n=t+80|0;break}if(!(s|n)){n=t+72|0;break}if((n|0)<20&(s|0)==28){n=t+88|0;break}if((n|0)==28&(s|0)<20){n=t+84|0;break}if((n|0)<20){if((s|0)<20){n=t+32|0;break}if((s+-21|0)>>>0<9){n=t+36|0;break}}else{if((s|0)<20&(n+-21|0)>>>0<9){n=t+40|0;break}if((n|0)==31)if((s|0)==31){n=t+48|0;break}else{n=t+44|0;break}}if((s|0)==31){n=t+52|0;break}else{n=t+56|0;break}}while(!1);return e[n>>2]|0}function Y0e(t){return t=t|0,e[t+24>>2]|0}function Z6(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0;if(e[t>>2]=4084,e[5637]=(e[5637]|0)+1,s=Xe(379)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,i[s+308>>2]=9999999747378752e-20,o=s+332|0,R[o>>0]=R[o>>0]&-16,e[t+24>>2]=s,o=(e[n+20>>2]|0)==0,e[5637]=(e[5637]|0)+1,s=Xe(23)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o?(e[s>>2]=6948,e[t+28>>2]=s,o=t+28|0):(e[s>>2]=6908,e[t+28>>2]=s,o=t+28|0),e[5637]=(e[5637]|0)+1,s=Xe(43)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,p=e[t+24>>2]|0,h=e[o>>2]|0,R[s+4>>0]=0,e[s>>2]=3924,e[s+16>>2]=0,e[s+20>>2]=3,e[s+12>>2]=p,e[s+8>>2]=h,e[t+32>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,R[s+4>>0]=0,e[s>>2]=4116,e[t+36>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,R[s+4>>0]=0,e[s>>2]=4136,e[t+40>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,R[s+4>>0]=0,e[s>>2]=4156,e[t+44>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,R[s+4>>0]=0,e[s>>2]=4176,e[t+48>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,R[s+4>>0]=0,e[s>>2]=4196,e[t+52>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,R[s+4>>0]=0,e[s>>2]=4216,e[t+56>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,R[s+4>>0]=0,e[s>>2]=4236,e[t+60>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,R[s+4>>0]=0,e[s>>2]=4256,e[t+76>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s>>2]=4256,e[t+80>>2]=s,R[s+4>>0]=1,e[5637]=(e[5637]|0)+1,s=Xe(27)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,R[s+4>>0]=0,e[s>>2]=4276,e[t+72>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(35)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,R[s+4>>0]=0,e[s>>2]=4296,e[s+8>>2]=1,e[s+12>>2]=0,e[t+88>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe(35)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s>>2]=4296,e[s+8>>2]=1,e[s+12>>2]=0,e[t+84>>2]=s,R[s+4>>0]=1,h=e[n+16>>2]|0,h=(h|0)>80?h:80,s=e[n>>2]|0,s)R[t+12>>0]=0,e[t+8>>2]=s;else{if(R[t+12>>0]=1,e[5637]=(e[5637]|0)+1,s=Xe(39)|0,s?(e[(s+4+15&-16)+-4>>2]=s,p=s+4+15&-16):p=0,s=e[n+8>>2]|0,e[p>>2]=772,o=p+4|0,e[o>>2]=s,e[5637]=(e[5637]|0)+1,s=Xe((s*772|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[p+16>>2]=s,e[p+12>>2]=s,o=e[o>>2]|0,e[p+8>>2]=o,o+-1|0){a=e[p>>2]|0,l=o+-1|0,u=s;do d=u,u=u+a|0,e[d>>2]=u,l=l+-1|0;while((l|0)!=0);s=s+(Rt(a,o+-1|0)|0)|0}e[s>>2]=0,e[t+8>>2]=p}if(s=e[n+4>>2]|0,s|0){R[t+20>>0]=0,e[t+16>>2]=s;return}if(R[t+20>>0]=1,e[5637]=(e[5637]|0)+1,s=Xe(39)|0,s?(e[(s+4+15&-16)+-4>>2]=s,p=s+4+15&-16):p=0,s=e[n+12>>2]|0,e[p>>2]=h,o=p+4|0,e[o>>2]=s,s=Rt(s,h)|0,e[5637]=(e[5637]|0)+1,s=Xe(s+19|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[p+16>>2]=s,e[p+12>>2]=s,o=e[o>>2]|0,e[p+8>>2]=o,o+-1|0){a=e[p>>2]|0,l=o+-1|0,u=s;do d=u,u=u+a|0,e[d>>2]=u,l=l+-1|0;while((l|0)!=0);s=s+(Rt(a,o+-1|0)|0)|0}e[s>>2]=0,e[t+16>>2]=p}function K0e(t){t=t|0}function Z0e(t){t=t|0,ye(t)}function Q0e(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,t=e[n>>2]|0,t=I0[e[(e[t>>2]|0)+56>>2]&31](t,80)|0,n=e[n>>2]|0,e[t+4>>2]=n,e[t>>2]=3720,R[t+8>>0]=0,e[t+12>>2]=3748,e[t+60>>2]=n,e[t+64>>2]=0,e[t+16>>2]=s,e[t+20>>2]=o,n=G0[e[(e[n>>2]|0)+12>>2]&63](n,e[s+8>>2]|0,e[o+8>>2]|0)|0,e[t+76>>2]=n,o=e[t+60>>2]|0,zt[e[(e[o>>2]|0)+20>>2]&127](o,n),t|0}function J0e(t){t=t|0,ye(t)}function eie(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,t=e[n>>2]|0,t=I0[e[(e[t>>2]|0)+56>>2]&31](t,80)|0,n=e[n>>2]|0,e[t+4>>2]=n,e[t>>2]=3720,R[t+8>>0]=1,e[t+12>>2]=3748,e[t+60>>2]=n,e[t+64>>2]=0,e[t+16>>2]=o,e[t+20>>2]=s,n=G0[e[(e[n>>2]|0)+12>>2]&63](n,e[o+8>>2]|0,e[s+8>>2]|0)|0,e[t+76>>2]=n,o=e[t+60>>2]|0,zt[e[(e[o>>2]|0)+20>>2]&127](o,n),t|0}function tie(t){t=t|0,ye(t)}function iie(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,t=e[n>>2]|0,t=I0[e[(e[t>>2]|0)+56>>2]&31](t,44)|0,fh(t,n,s,o,0),t|0}function nie(t){t=t|0,ye(t)}function rie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0;if(d=e[n>>2]|0,d=I0[e[(e[d>>2]|0)+56>>2]&31](d,76)|0,fh(d,n,s,o,0),e[d>>2]=3656,R[d+64>>0]=1,e[d+60>>2]=0,e[d+52>>2]=0,e[d+56>>2]=0,e[5637]=(e[5637]|0)+1,t=Xe(83)|0,t?(e[(t+4+15&-16)+-4>>2]=t,h=t+4+15&-16):h=0,e[h>>2]=4432,l=h+20|0,R[l>>0]=1,u=h+16|0,e[u>>2]=0,n=h+8|0,e[n>>2]=0,p=h+12|0,e[p>>2]=0,R[h+40>>0]=1,e[h+36>>2]=0,e[h+28>>2]=0,e[h+32>>2]=0,R[h+60>>0]=1,e[h+56>>2]=0,e[h+48>>2]=0,e[h+52>>2]=0,e[5637]=(e[5637]|0)+1,t=Xe(43)|0,t?(e[(t+4+15&-16)+-4>>2]=t,a=t+4+15&-16):a=0,t=e[n>>2]|0,(t|0)>0){n=0;do m=a+(n*12|0)|0,g=(e[u>>2]|0)+(n*12|0)|0,e[m>>2]=e[g>>2],e[m+4>>2]=e[g+4>>2],e[m+8>>2]=e[g+8>>2],n=n+1|0;while((n|0)!=(t|0))}return t=e[u>>2]|0,t?(R[l>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)),e[u>>2]=0,R[l>>0]=1,e[u>>2]=a,e[p>>2]=2,su(h),g=d+44|0,e[g>>2]=h,g=s+4|0,g=e[g>>2]|0,g=g+72|0,g=e[g>>2]|0,m=d+68|0,e[m>>2]=g,m=o+4|0,m=e[m>>2]|0,m=m+72|0,m=e[m>>2]|0,g=d+72|0,e[g>>2]=m,d|0):(R[l>>0]=1,e[u>>2]=a,e[p>>2]=2,su(h),g=d+44|0,e[g>>2]=h,g=s+4|0,g=e[g>>2]|0,g=g+72|0,g=e[g>>2]|0,m=d+68|0,e[m>>2]=g,m=o+4|0,m=e[m>>2]|0,m=m+72|0,m=e[m>>2]|0,g=d+72|0,e[g>>2]=m,d|0)}function sie(t){t=t|0,ye(t)}function oie(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,t=e[n>>2]|0,t=I0[e[(e[t>>2]|0)+56>>2]&31](t,44)|0,fh(t,n,s,o,1),t|0}function aie(t){t=t|0,ye(t)}function cie(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,t=e[n>>2]|0,t=I0[e[(e[t>>2]|0)+56>>2]&31](t,8)|0,e[t+4>>2]=e[n>>2],e[t>>2]=4316,t|0}function lie(t){t=t|0,ye(t)}function uie(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,t=e[n>>2]|0,t=I0[e[(e[t>>2]|0)+56>>2]&31](t,16)|0,n=e[n>>2]|0,e[t+4>>2]=n,e[t>>2]=4512,R[t+8>>0]=0,e[t+12>>2]=0,e[t+12>>2]=G0[e[(e[n>>2]|0)+12>>2]&63](n,e[s+8>>2]|0,e[o+8>>2]|0)|0,R[t+8>>0]=1,t|0}function fie(t){t=t|0,ye(t)}function _ie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0;return a=e[n>>2]|0,a=I0[e[(e[a>>2]|0)+56>>2]&31](a,20)|0,l=e[n+4>>2]|0,t=R[t+4>>0]|0,n=e[n>>2]|0,e[a+4>>2]=n,e[a>>2]=4540,R[a+8>>0]=0,e[a+12>>2]=l,R[a+16>>0]=t,l|0||(e[a+12>>2]=G0[e[(e[n>>2]|0)+12>>2]&63](n,e[s+8>>2]|0,e[o+8>>2]|0)|0,R[a+8>>0]=1),a|0}function pie(t){t=t|0,ye(t)}function hie(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,t=e[n>>2]|0,t=I0[e[(e[t>>2]|0)+56>>2]&31](t,16)|0,n=e[n>>2]|0,e[t+4>>2]=n,e[t>>2]=3016,R[t+8>>0]=0,e[t+12>>2]=0,G0[e[(e[n>>2]|0)+24>>2]&63](n,e[s+8>>2]|0,e[o+8>>2]|0)|0&&(n=e[t+4>>2]|0,e[t+12>>2]=G0[e[(e[n>>2]|0)+12>>2]&63](n,e[s+8>>2]|0,e[o+8>>2]|0)|0,R[t+8>>0]=1),t|0}function die(t){t=t|0,ye(t)}function mie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0;return l=e[n>>2]|0,l=I0[e[(e[l>>2]|0)+56>>2]&31](l,28)|0,p=(R[t+4>>0]|0)==0,u=e[t+8>>2]|0,a=e[t+12>>2]|0,t=e[n>>2]|0,e[l+4>>2]=t,e[l>>2]=4056,R[l+8>>0]=0,e[l+12>>2]=0,p?(R[l+16>>0]=0,e[l+20>>2]=u,e[l+24>>2]=a,G0[e[(e[t>>2]|0)+24>>2]&63](t,e[s+8>>2]|0,e[o+8>>2]|0)|0&&(p=e[l+4>>2]|0,e[l+12>>2]=G0[e[(e[p>>2]|0)+12>>2]&63](p,e[s+8>>2]|0,e[o+8>>2]|0)|0,R[l+8>>0]=1),l|0):(R[l+16>>0]=1,e[l+20>>2]=u,e[l+24>>2]=a,G0[e[(e[t>>2]|0)+24>>2]&63](t,e[o+8>>2]|0,e[s+8>>2]|0)|0&&(p=e[l+4>>2]|0,e[l+12>>2]=G0[e[(e[p>>2]|0)+12>>2]&63](p,e[o+8>>2]|0,e[s+8>>2]|0)|0,R[l+8>>0]=1),l|0)}function gie(t){t=t|0,ye(t)}function xie(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0}function yie(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,1}function vie(t,n){t=t|0,n=n|0}function Sie(t){t=t|0;var n=0;if(e[t>>2]=4344,n=e[t+300>>2]|0,n|0&&(R[t+304>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+300>>2]=0),R[t+304>>0]=1,e[t+300>>2]=0,e[t+292>>2]=0,e[t+296>>2]=0,e[t>>2]=3156,n=e[t+276>>2]|0,!n){R[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,t=t+272|0,e[t>>2]=0;return}R[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+276>>2]=0,R[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,t=t+272|0,e[t>>2]=0}function Cie(t){t=t|0;var n=0;e[t>>2]=4344,n=e[t+300>>2]|0,n|0&&(R[t+304>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+300>>2]=0),R[t+304>>0]=1,e[t+300>>2]=0,e[t+292>>2]=0,e[t+296>>2]=0,e[t>>2]=3156,n=e[t+276>>2]|0,n|0&&(R[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+276>>2]=0),R[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,e[t+272>>2]=0,e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function Tie(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;a=e[n>>2]|0,n=e[t+292>>2]|0;e:do if((n|0)>0){for(o=e[t+300>>2]|0,s=0;(e[o+(s<<2)>>2]|0)!=(a|0);)if(s=s+1|0,(s|0)>=(n|0))break e;if((s|0)!=(n|0))return}while(!1);if((n|0)==(e[t+296>>2]|0)&&(l=n|0?n<<1:1,(n|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,n=Xe((l<<2|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,o=n,n=e[t+292>>2]|0):o=0,(n|0)>0){s=0;do e[o+(s<<2)>>2]=e[(e[t+300>>2]|0)+(s<<2)>>2],s=s+1|0;while((s|0)!=(n|0))}s=e[t+300>>2]|0,s&&(R[t+304>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),n=e[t+292>>2]|0),e[t+300>>2]=0),R[t+304>>0]=1,e[t+300>>2]=o,e[t+296>>2]=l}e[(e[t+300>>2]|0)+(n<<2)>>2]=a,e[t+292>>2]=n+1}function wie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0;if(l=e[t+292>>2]|0,!((l|0)<=0)){for(n=e[n>>2]|0,a=e[t+300>>2]|0,s=0;o=a+(s<<2)|0,(e[o>>2]|0)!=(n|0);)if(s=s+1|0,(s|0)>=(l|0)){u=7;break}(u|0)!=7&&((s|0)>=(l|0)||(e[o>>2]=e[a+(l+-1<<2)>>2],e[t+292>>2]=l+-1))}}function Q6(t){t=t|0;var n=0;if(e[t>>2]=4388,n=e[t+308>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+308>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t>>2]=4344,n=e[t+300>>2]|0,n|0&&(R[t+304>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+300>>2]=0),R[t+304>>0]=1,e[t+300>>2]=0,e[t+292>>2]=0,e[t+296>>2]=0,e[t>>2]=3156,n=e[t+276>>2]|0,!n){R[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,t=t+272|0,e[t>>2]=0;return}R[t+280>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+276>>2]=0,R[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,t=t+272|0,e[t>>2]=0}function Mie(t){t=t|0,Q6(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Rie(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0;s||(s=e[t+188>>2]|0),p=e[n>>2]|0,o=e[t+292>>2]|0;e:do if((o|0)>0){for(l=e[t+300>>2]|0,a=0;(e[l+(a<<2)>>2]|0)!=(p|0);)if(a=a+1|0,(a|0)>=(o|0))break e;if((a|0)!=(o|0))return}while(!1);if((o|0)==(e[t+296>>2]|0)&&(u=o|0?o<<1:1,(o|0)<(u|0))){if(u?(e[5637]=(e[5637]|0)+1,o=Xe((u<<2|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,l=o,o=e[t+292>>2]|0):l=0,(o|0)>0){a=0;do e[l+(a<<2)>>2]=e[(e[t+300>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[t+300>>2]|0,a&&(R[t+304>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[t+292>>2]|0),e[t+300>>2]=0),R[t+304>>0]=1,e[t+300>>2]=l,e[t+296>>2]=u}e[(e[t+300>>2]|0)+(o<<2)>>2]=p,e[t+292>>2]=o+1,t=e[t+308>>2]|0,G0[e[(e[t>>2]|0)+8>>2]&63](t,s,n)|0}function Aie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0;if(h=e[n>>2]|0,o||(o=e[t+188>>2]|0),u=e[t+292>>2]|0,!((u|0)<=0)){for(p=e[t+300>>2]|0,a=0;l=p+(a<<2)|0,(e[l>>2]|0)!=(h|0);)if(a=a+1|0,(a|0)>=(u|0)){d=9;break}(d|0)!=9&&((a|0)>=(u|0)||(e[l>>2]=e[p+(u+-1<<2)>>2],e[t+292>>2]=u+-1,d=e[t+308>>2]|0,q2[e[(e[d>>2]|0)+12>>2]&31](d,o,n,s)|0))}}function Eie(t){t=t|0;var n=0;if(e[t+164>>2]=1065353216,e[t+168>>2]=1065353216,e[t+172>>2]=1065353216,i[t+176>>2]=0,e[t+180>>2]=0,i[t+184>>2]=0xde0b6b000000000,e[t+188>>2]=0,e[t+188+4>>2]=0,e[t+188+8>>2]=0,e[t+188+12>>2]=0,e[t+204>>2]=1,e[t+208>>2]=-1,e[t+212>>2]=-1,e[t+216>>2]=1,i[t+220>>2]=0,i[t+224>>2]=.5,i[t+228>>2]=0,i[t+232>>2]=0,e[t+240>>2]=0,e[t+244>>2]=-1,i[t+248>>2]=1,i[t+252>>2]=0,i[t+256>>2]=0,e[t+260>>2]=0,R[t+280>>0]=1,e[t+276>>2]=0,e[t+268>>2]=0,e[t+272>>2]=0,e[t+284>>2]=0,e[t+4>>2]=1065353216,e[t+8>>2]=0,e[t+8+4>>2]=0,e[t+8+8>>2]=0,e[t+8+12>>2]=0,e[t+24>>2]=1065353216,e[t+28>>2]=0,e[t+28+4>>2]=0,e[t+28+8>>2]=0,e[t+28+12>>2]=0,e[t+44>>2]=1065353216,e[t+48>>2]=0,e[t+48+4>>2]=0,e[t+48+8>>2]=0,e[t+48+12>>2]=0,e[t+48+16>>2]=0,R[t+304>>0]=1,e[t+300>>2]=0,e[t+292>>2]=0,e[t+296>>2]=0,e[t+236>>2]=4,e[t>>2]=4388,e[5637]=(e[5637]|0)+1,n=Xe(91)|0,!n){n=0,Kf(n),t=t+308|0,e[t>>2]=n;return}e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16,Kf(n),t=t+308|0,e[t>>2]=n}function qf(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l;var u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0;if(W=H,H=H+288|0,e[W+144>>2]=e[s>>2],e[W+144+4>>2]=e[s+4>>2],e[W+144+8>>2]=e[s+8>>2],e[W+144+12>>2]=e[s+12>>2],e[W+144+16>>2]=e[s+16>>2],e[W+144+16+4>>2]=e[s+16+4>>2],e[W+144+16+8>>2]=e[s+16+8>>2],e[W+144+16+12>>2]=e[s+16+12>>2],e[W+144+32>>2]=e[s+32>>2],e[W+144+32+4>>2]=e[s+32+4>>2],e[W+144+32+8>>2]=e[s+32+8>>2],e[W+144+32+12>>2]=e[s+32+12>>2],e[W+144+48>>2]=e[s+48>>2],e[W+144+48+4>>2]=e[s+48+4>>2],e[W+144+48+8>>2]=e[s+48+8>>2],e[W+144+48+12>>2]=e[s+48+12>>2],e[W+80>>2]=e[o>>2],e[W+80+4>>2]=e[o+4>>2],e[W+80+8>>2]=e[o+8>>2],e[W+80+12>>2]=e[o+12>>2],e[W+80+16>>2]=e[o+16>>2],e[W+80+16+4>>2]=e[o+16+4>>2],e[W+80+16+8>>2]=e[o+16+8>>2],e[W+80+16+12>>2]=e[o+16+12>>2],e[W+80+32>>2]=e[o+32>>2],e[W+80+32+4>>2]=e[o+32+4>>2],e[W+80+32+8>>2]=e[o+32+8>>2],e[W+80+32+12>>2]=e[o+32+12>>2],e[W+80+48>>2]=e[o+48>>2],e[W+80+48+4>>2]=e[o+48+4>>2],e[W+80+48+8>>2]=e[o+48+8>>2],e[W+80+48+12>>2]=e[o+48+12>>2],h=+i[W+80+52>>2]-+i[W+144+52>>2],he=+i[W+80+56>>2]-+i[W+144+56>>2],i[W+32>>2]=+i[W+80+48>>2]-+i[W+144+48>>2],i[W+32+4>>2]=h,i[W+32+8>>2]=he,i[W+32+12>>2]=0,Sa(W+144|0,W+80|0,W+224|0,W+208|0),he=+i[W+208>>2],h=he*+i[W+224+4>>2],te=he*+i[W+224+8>>2],i[W+16>>2]=+i[W+224>>2]*he,i[W+16+4>>2]=h,i[W+16+8>>2]=te,i[W+16+12>>2]=0,e[W+224+4>>2]=0,e[W+224+4+4>>2]=0,e[W+224+24>>2]=0,e[W+224+24+4>>2]=0,ne=W+224+44|0,e[ne>>2]=0,e[ne+4>>2]=0,e[ne+8>>2]=0,e[ne+12>>2]=0,e[ne+16>>2]=0,ds(W+144|0,W),te=+i[W>>2],h=+i[W+4>>2],he=+i[W+8>>2],_e=+i[W+12>>2],u=te*(2/(te*te+h*h+he*he+_e*_e)),m=h*(2/(te*te+h*h+he*he+_e*_e)),pe=he*(2/(te*te+h*h+he*he+_e*_e)),i[W+224>>2]=1-(h*m+he*pe),i[W+224+4>>2]=te*m-_e*pe,i[W+224+8>>2]=te*pe+_e*m,i[W+224+12>>2]=0,i[W+224+16>>2]=te*m+_e*pe,i[W+224+20>>2]=1-(te*u+he*pe),i[W+224+24>>2]=h*pe-_e*u,i[W+224+28>>2]=0,i[W+224+32>>2]=te*pe-_e*m,i[W+224+36>>2]=h*pe+_e*u,i[W+224+40>>2]=1-(te*u+h*m),i[ne>>2]=0,I6(n,W+224|0,W+32|0,W+16|0,W+64|0,W+48|0),(e[t+292>>2]|0)<=0){H=W;return}X=0;do{if(g=e[(e[t+300>>2]|0)+(X<<2)>>2]|0,I0[e[(e[a>>2]|0)+8>>2]&31](a,e[g+188>>2]|0)|0&&(G=e[g+192>>2]|0,Kt[e[(e[G>>2]|0)+8>>2]&127](G,g+4|0,W+208|0,W+32|0),S=+i[W+208>>2]+ +i[W+64>>2],C=+i[W+208+4>>2]+ +i[W+64+4>>2],w=+i[W+208+8>>2]+ +i[W+64+8>>2],i[W+208>>2]=S,i[W+208+4>>2]=C,i[W+208+8>>2]=w,i[W+208+12>>2]=0,M=+i[W+32>>2]+ +i[W+48>>2],E=+i[W+32+4>>2]+ +i[W+48+4>>2],D=+i[W+32+8>>2]+ +i[W+48+8>>2],i[W+32>>2]=M,i[W+32+4>>2]=E,i[W+32+8>>2]=D,i[W+32+12>>2]=0,b=+i[s+48>>2]-(M+S)*.5,B=+i[s+52>>2]-(E+C)*.5,L=+i[s+56>>2]-(D+w)*.5,F=+i[o+48>>2]-(M+S)*.5,P=+i[o+52>>2]-(E+C)*.5,U=+i[o+56>>2]-(D+w)*.5,G=b<-((M-S)*.5)|(b>(M-S)*.5?8:0)|(B<-((E-C)*.5)?2:0)|(B>(E-C)*.5?16:0)|(L<-((D-w)*.5)?4:0)|(L>(D-w)*.5?32:0),O=F<-((M-S)*.5)|(F>(M-S)*.5?8:0)|(P<-((E-C)*.5)?2:0)|(P>(E-C)*.5?16:0)|(U<-((D-w)*.5)?4:0)|(U>(D-w)*.5?32:0),(G&O|0)==0)){for(q=1,ne=0,u=0,p=1065353216,m=1;q&G?(h=(-b-m*((M-S)*.5))/(F-b),u<=h&&(u=h)):(q&O|0)!=0&&(z=(-b-m*((M-S)*.5))/(F-b),z<(e[Z>>2]=p,+i[Z>>2]))&&(p=(i[Z>>2]=z,e[Z>>2]|0)),d=q<<1,d&G?(h=(-B-m*((E-C)*.5))/(P-B),u<=h||(h=u)):(d&O|0)!=0&&(Y=(-B-m*((E-C)*.5))/(P-B),Y<(e[Z>>2]=p,+i[Z>>2]))?(h=u,p=(i[Z>>2]=Y,e[Z>>2]|0)):h=u,d=q<<2,d&G?(u=(-L-m*((D-w)*.5))/(U-L),h<=u||(u=h)):(d&O|0)!=0&&($=(-L-m*((D-w)*.5))/(U-L),$<(e[Z>>2]=p,+i[Z>>2]))?(u=h,p=(i[Z>>2]=$,e[Z>>2]|0)):u=h,ne=ne+1|0,(ne|0)!=2;)q=q<<3,m=-1;u<=(e[Z>>2]=p,+i[Z>>2])&&(ne=e[g+192>>2]|0,e[W+224>>2]=0,e[W+224+4>>2]=ne,e[W+224+8>>2]=g,e[W+224+12>>2]=g+4,e[W+224+16>>2]=-1,e[W+224+20>>2]=-1,lh(n,W+144|0,W+80|0,W+224|0,a,l))}X=X+1|0}while((X|0)<(e[t+292>>2]|0));H=W}function J6(t){t=t|0;var n=0;if(e[t>>2]=4432,n=e[t+56>>2]|0,n|0&&(R[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+56>>2]=0),R[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,n=e[t+36>>2]|0,n|0&&(R[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),R[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,n=e[t+16>>2]|0,!n){R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0;return}R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0}function Nie(t){t=t|0,J6(t),ye(t)}function bie(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0;if(e[4990]=(e[4990]|0)+1,l=((s<<16|n)+~((s<<16|n)<<15)>>10^(s<<16|n)+~((s<<16|n)<<15))*9|0,m=e[t+36>>2]|0,l=m+(((e[t+12>>2]|0)+-1&((l>>6^l)+~((l>>6^l)<<11)>>16^(l>>6^l)+~((l>>6^l)<<11)))<<2)|0,a=e[l>>2]|0,(a|0)==-1)return S=0,S|0;for(g=e[t+16>>2]|0,o=a;d=g+(o*12|0)|0,!((e[d>>2]|0)==(n|0)&&(e[g+(o*12|0)+4>>2]|0)==(s|0));)if(o=e[(e[t+56>>2]|0)+(o<<2)>>2]|0,(o|0)==-1){o=0,S=21;break}if((S|0)==21)return o|0;if(!d)return S=0,S|0;if(h=e[g+(o*12|0)+8>>2]|0,p=(o*12|0)/12|0,n=e[t+56>>2]|0,(a|0)!=(p|0)){for(;s=n+(a<<2)|0,o=e[s>>2]|0,(o|0)!=(p|0);)a=o;o=e[n+(p<<2)>>2]|0,(a|0)==-1?S=11:e[s>>2]=o}else o=e[n+(a<<2)>>2]|0,S=11;if((S|0)==11&&(e[l>>2]=o),l=(e[t+8>>2]|0)+-1|0,(l|0)==(p|0))return e[t+8>>2]=p,S=h,S|0;if(u=e[g+(l*12|0)+4>>2]<<16|e[g+(l*12|0)>>2],u=(u+~(u<<15)>>10^u+~(u<<15))*9|0,u=((u>>6^u)+~((u>>6^u)<<11)>>16^(u>>6^u)+~((u>>6^u)<<11))&(e[t+12>>2]|0)+-1,o=e[m+(u<<2)>>2]|0,n=e[t+56>>2]|0,(o|0)!=(l|0)){for(a=o;s=n+(a<<2)|0,o=e[s>>2]|0,(o|0)!=(l|0);)a=o;o=e[n+(l<<2)>>2]|0,(a|0)==-1?S=19:e[s>>2]=o}else o=e[n+(l<<2)>>2]|0,S=19;return(S|0)==19&&(e[m+(u<<2)>>2]=o),e[d>>2]=e[g+(l*12|0)>>2],e[d+4>>2]=e[g+(l*12|0)+4>>2],e[d+8>>2]=e[g+(l*12|0)+8>>2],S=(e[t+36>>2]|0)+(u<<2)|0,e[(e[t+56>>2]|0)+(p<<2)>>2]=e[S>>2],e[S>>2]=p,e[t+8>>2]=(e[t+8>>2]|0)+-1,S=h,S|0}function Die(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0;e[4991]=(e[4991]|0)+1,h=((s<<16|n)+~((s<<16|n)<<15)>>10^(s<<16|n)+~((s<<16|n)<<15))*9|0,h=(h>>6^h)+~((h>>6^h)<<11)>>16^(h>>6^h)+~((h>>6^h)<<11),d=e[t+12>>2]|0,o=e[(e[t+36>>2]|0)+((d+-1&h)<<2)>>2]|0;e:do if((o|0)!=-1){for(l=e[t+16>>2]|0;a=l+(o*12|0)|0,!((e[a>>2]|0)==(n|0)&&(e[l+(o*12|0)+4>>2]|0)==(s|0));)if(o=e[(e[t+56>>2]|0)+(o<<2)>>2]|0,(o|0)==-1)break e;if(a|0)return t=a,t|0}while(!1);if(p=e[t+8>>2]|0,(p|0)==(d|0))if(l=d|0?d<<1:1,(d|0)<(l|0)){if(l?(e[5637]=(e[5637]|0)+1,o=Xe((l*12|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+8>>2]|0):(o=0,a=d),(a|0)>0){u=0;do m=o+(u*12|0)|0,g=(e[t+16>>2]|0)+(u*12|0)|0,e[m>>2]=e[g>>2],e[m+4>>2]=e[g+4>>2],e[m+8>>2]=e[g+8>>2],u=u+1|0;while((u|0)!=(a|0))}a=e[t+16>>2]|0,a|0&&(R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+16>>2]=0),R[t+20>>0]=1,e[t+16>>2]=o,e[t+12>>2]=l,o=e[t+8>>2]|0}else o=d,l=d;else o=p,l=d;return e[t+8>>2]=o+1,a=e[t+16>>2]|0,(d|0)<(l|0)?(su(t),o=(e[t+12>>2]|0)+-1&h):o=d+-1&h,e[a+(p*12|0)>>2]=n,e[a+(p*12|0)+4>>2]=s,e[a+(p*12|0)+8>>2]=0,g=(e[t+36>>2]|0)+(o<<2)|0,e[(e[t+56>>2]|0)+(p<<2)>>2]=e[g>>2],e[g>>2]=p,g=a+(p*12|0)|0,g|0}function su(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0;if(u=e[t+12>>2]|0,p=e[t+28>>2]|0,!((u|0)<=(p|0))){if((u|0)>=(p|0)){do if((e[t+32>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,n=Xe((u<<2|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,s=e[t+28>>2]|0):(n=0,s=p),o=e[t+36>>2]|0,(s|0)<=0){if(!o){R[t+40>>0]=1,e[t+36>>2]=n,e[t+32>>2]=u;break}}else{a=0;do e[n+(a<<2)>>2]=e[o+(a<<2)>>2],a=a+1|0;while((a|0)!=(s|0))}R[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),R[t+40>>0]=1,e[t+36>>2]=n,e[t+32>>2]=u}else n=e[t+36>>2]|0;while(!1);ln(n+(p<<2)|0,0,u-p<<2|0)|0}if(e[t+28>>2]=u,l=e[t+48>>2]|0,(u|0)>(l|0)){do if((e[t+52>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,n=Xe((u<<2|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,s=e[t+48>>2]|0):(n=0,s=l),o=e[t+56>>2]|0,(s|0)<=0){if(!o){R[t+60>>0]=1,e[t+56>>2]=n,e[t+52>>2]=u;break}}else{a=0;do e[n+(a<<2)>>2]=e[o+(a<<2)>>2],a=a+1|0;while((a|0)!=(s|0))}R[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),R[t+60>>0]=1,e[t+56>>2]=n,e[t+52>>2]=u}else n=e[t+56>>2]|0;while(!1);ln(n+(l<<2)|0,0,u-l<<2|0)|0}if(e[t+48>>2]=u,(u|0)>0&&(ln(e[t+36>>2]|0,-1,u<<2|0)|0,ln(e[t+56>>2]|0,-1,u<<2|0)|0),!((p|0)<=0)){n=e[t+16>>2]|0,s=e[t+36>>2]|0,o=e[t+56>>2]|0,a=0;do u=e[n+(a*12|0)+4>>2]<<16|e[n+(a*12|0)>>2],u=(u+~(u<<15)>>10^u+~(u<<15))*9|0,u=s+((((u>>6^u)+~((u>>6^u)<<11)>>16^(u>>6^u)+~((u>>6^u)<<11))&(e[t+12>>2]|0)+-1)<<2)|0,e[o+(a<<2)>>2]=e[u>>2],e[u>>2]=a,a=a+1|0;while((a|0)!=(p|0))}}}function Iie(t){return t=t|0,e[t+16>>2]|0}function em(t){t=t|0;var n=0,s=0,o=0,a=0,l=0;if(n=e[t+16>>2]|0,n|0&&(R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0),R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,n=e[t+36>>2]|0,n|0&&(R[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),R[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,n=e[t+56>>2]|0,n|0&&(R[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+56>>2]=0),R[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,(e[t+12>>2]|0)>=2){su(t);return}if(e[5637]=(e[5637]|0)+1,n=Xe(43)|0,n?(e[(n+4+15&-16)+-4>>2]=n,o=n+4+15&-16):o=0,n=e[t+8>>2]|0,(n|0)>0){s=0;do a=o+(s*12|0)|0,l=(e[t+16>>2]|0)+(s*12|0)|0,e[a>>2]=e[l>>2],e[a+4>>2]=e[l+4>>2],e[a+8>>2]=e[l+8>>2],s=s+1|0;while((s|0)!=(n|0))}n=e[t+16>>2]|0,n|0&&(R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0),R[t+20>>0]=1,e[t+16>>2]=o,e[t+12>>2]=2,su(t)}function Pie(t){t=t|0,ye(t)}function Lie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=+o;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0;if(G=H,H=H+192|0,F=e[t+4>>2]|0,+i[F+752>>2]<o){H=G;return}if(U=e[F+740>>2]|0,L=(e[t+8>>2]|0)+8|0,P=e[L>>2]|0,l=+i[s>>2],C=+i[n>>2]*o+l,u=+i[s+4>>2],w=+i[n+4>>2]*o+u,a=+i[s+8>>2],M=+i[n+8>>2]*o+a,B=(e[t+12>>2]|0)+8|0,g=e[B>>2]|0,p=+i[g+52>>2],h=+i[g+56>>2],(U|0)!=(P|0)?(b=M-+i[g+60>>2],l=l-+i[P+52>>2],u=u-+i[P+56>>2],a=a-+i[P+60>>2],E=(C-p)*+i[g+4>>2]+(w-h)*+i[g+20>>2]+b*+i[g+36>>2],D=(C-p)*+i[g+8>>2]+(w-h)*+i[g+24>>2]+b*+i[g+40>>2],b=(C-p)*+i[g+12>>2]+(w-h)*+i[g+28>>2]+b*+i[g+44>>2],d=l*+i[P+4>>2]+u*+i[P+20>>2]+a*+i[P+36>>2],m=l*+i[P+8>>2]+u*+i[P+24>>2]+a*+i[P+40>>2],a=l*+i[P+12>>2]+u*+i[P+28>>2]+a*+i[P+44>>2]):(m=C-+i[U+52>>2],d=w-+i[U+56>>2],b=M-+i[U+60>>2],a=a-+i[g+60>>2],E=m*+i[U+4>>2]+d*+i[U+20>>2]+b*+i[U+36>>2],D=m*+i[U+8>>2]+d*+i[U+24>>2]+b*+i[U+40>>2],b=m*+i[U+12>>2]+d*+i[U+28>>2]+b*+i[U+44>>2],d=(l-p)*+i[g+4>>2]+(u-h)*+i[g+20>>2]+a*+i[g+36>>2],m=(l-p)*+i[g+8>>2]+(u-h)*+i[g+24>>2]+a*+i[g+40>>2],a=(l-p)*+i[g+12>>2]+(u-h)*+i[g+28>>2]+a*+i[g+44>>2]),i[G>>2]=E,i[G+4>>2]=D,i[G+8>>2]=b,i[G+12>>2]=0,i[G+16>>2]=d,i[G+20>>2]=m,i[G+24>>2]=a,i[G+28>>2]=0,e[G+64>>2]=e[n>>2],e[G+64+4>>2]=e[n+4>>2],e[G+64+8>>2]=e[n+8>>2],e[G+64+12>>2]=e[n+12>>2],i[G+80>>2]=o,i[G+84>>2]=0,i[G+88>>2]=0,i[G+92>>2]=0,e[G+112>>2]=0,R[G+116>>0]=0,e[G+120>>2]=0,e[G+120+4>>2]=0,e[G+120+8>>2]=0,e[G+120+12>>2]=0,e[G+120+16>>2]=0,e[G+120+20>>2]=0,e[G+120+24>>2]=0,e[G+120+28>>2]=0,i[G+48>>2]=C,i[G+52>>2]=w,i[G+56>>2]=M,i[G+60>>2]=0,e[G+32>>2]=e[s>>2],e[G+32+4>>2]=e[s+4>>2],e[G+32+8>>2]=e[s+8>>2],e[G+32+12>>2]=e[s+12>>2],a=+i[F+752>>2],s=e[F+748>>2]|0,(s|0)>0)for(S=0,g=-1,p=a*a;a=+i[F+4+(S*184|0)>>2]-E,l=+i[F+4+(S*184|0)+4>>2]-D,u=+i[F+4+(S*184|0)+8>>2]-b,n=a*a+l*l+u*u<p,g=n?S:g,S=S+1|0,(S|0)!=(s|0);)p=n?a*a+l*l+u*u:p;else g=-1;S=e[L>>2]|0,L=e[B>>2]|0,a=+i[S+224>>2]*+i[L+224>>2],a=a<-10?-10:a,i[G+84>>2]=a>10?10:a,i[G+92>>2]=+i[S+228>>2]*+i[L+228>>2],a=+i[S+232>>2]*+i[L+232>>2],a=a<-10?-10:a,i[G+88>>2]=a>10?10:a,a=+i[G+72>>2],L=+ht(+a)>.7071067690849304,p=+i[G+68>>2],L?(b=1/+ot(+(a*a+p*p)),d=+i[G+64>>2],h=-(b*p*d),d=d*-(b*a),m=-(b*a),l=(a*a+p*p)*b,u=0,a=b*p):(l=+i[G+64>>2],u=1/+ot(+(l*l+p*p)),h=a*-(p*u),d=(l*l+p*p)*u,m=u*l,l=-(u*l*a),u=-(p*u),a=0),i[G+152>>2]=u,i[G+156>>2]=m,i[G+160>>2]=a,i[G+168>>2]=l,i[G+172>>2]=h,i[G+176>>2]=d,B=e[t+20>>2]|0,S=e[t+16>>2]|0,L=e[t+28>>2]|0,t=e[t+24>>2]|0,e[G+96>>2]=(U|0)!=(P|0)?B:S,e[G+100>>2]=(U|0)!=(P|0)?S:B,e[G+104>>2]=(U|0)!=(P|0)?L:t,e[G+108>>2]=(U|0)!=(P|0)?t:L,(g|0)>-1?(t=F+4+(g*184|0)+148|0,U=e[t>>2]|0,s=F+4+(g*184|0)+120|0,n=e[s>>2]|0,B=F+4+(g*184|0)+124|0,S=e[B>>2]|0,P=F+4+(g*184|0)+128|0,L=e[P>>2]|0,O=F+4+(g*184|0)+112|0,z=e[O>>2]|0,wr(F+4+(g*184|0)|0,G|0,184)|0,e[O>>2]=z,e[s>>2]=n,e[B>>2]=S,e[P>>2]=L,e[t>>2]=U):g6(F,G)|0,H=G}function tm(t){t=t|0;var n=0;if(e[t>>2]=4488,n=e[t+56>>2]|0,n|0&&(R[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+56>>2]=0),R[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,n=e[t+36>>2]|0,n|0&&(R[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),R[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,n=e[t+16>>2]|0,!n){n=t+12|0,R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,e[n>>2]=0;return}R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,n=t+12|0,R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,e[n>>2]=0}function kie(t){t=t|0,tm(t),ye(t)}function Fie(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0;if(o=e[n+8>>2]|0,(o|0)>0){a=e[n+16>>2]|0,u=0,s=0;do l=e[a+(u<<2)>>2]|0,e[l+204>>2]&3||(e[l+208>>2]=s,s=s+1|0),e[l+212>>2]=-1,i[l+248>>2]=1,u=u+1|0;while((u|0)!=(o|0));u=s}else u=0;if(l=e[t+8>>2]|0,(l|0)<(u|0)){if((e[t+12>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,s=Xe((u<<3|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+8>>2]|0):(s=0,o=l),(o|0)>0){a=0;do d=(e[t+16>>2]|0)+(a<<3)|0,p=e[d+4>>2]|0,h=s+(a<<3)|0,e[h>>2]=e[d>>2],e[h+4>>2]=p,a=a+1|0;while((a|0)!=(o|0))}o=e[t+16>>2]|0,o|0&&(R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+16>>2]=0),R[t+20>>0]=1,e[t+16>>2]=s,e[t+12>>2]=u,o=t+16|0}else o=t+16|0;s=l;do d=(e[o>>2]|0)+(s<<3)|0,e[d>>2]=0,e[d+4>>2]=0,s=s+1|0;while((s|0)!=(u|0))}if(e[t+8>>2]=u,(u|0)>0){s=e[t+16>>2]|0,o=0;do e[s+(o<<3)>>2]=o,e[s+(o<<3)+4>>2]=1,o=o+1|0;while((o|0)!=(u|0))}if(s=e[n+68>>2]|0,s=Tt[e[(e[s>>2]|0)+36>>2]&127](s)|0,h=Tt[e[(e[s>>2]|0)+36>>2]&127](s)|0,!!h&&(n=Tt[e[(e[s>>2]|0)+20>>2]&127](s)|0,!((h|0)<=0))){p=0;do{if(s=e[e[n+(p<<4)>>2]>>2]|0,o=e[e[n+(p<<4)+4>>2]>>2]|0,s|0&&o|0&&(e[s+204>>2]&7|0)==0&&(e[o+204>>2]&7|0)==0){if(l=e[s+208>>2]|0,s=e[o+208>>2]|0,u=e[t+16>>2]|0,o=e[u+(l<<3)>>2]|0,(o|0)!=(l|0)){a=u+(l<<3)|0;do l=u+(o<<3)|0,e[a>>2]=e[l>>2],l=e[l>>2]|0,a=u+(l<<3)|0,o=e[a>>2]|0;while((l|0)!=(o|0))}if(o=e[u+(s<<3)>>2]|0,(o|0)!=(s|0)){a=u+(s<<3)|0;do s=u+(o<<3)|0,e[a>>2]=e[s>>2],s=e[s>>2]|0,a=u+(s<<3)|0,o=e[a>>2]|0;while((s|0)!=(o|0))}(l|0)!=(s|0)&&(e[u+(l<<3)>>2]=s,d=u+(s<<3)+4|0,e[d>>2]=(e[d>>2]|0)+(e[u+(l<<3)+4>>2]|0))}p=p+1|0}while((p|0)!=(h|0))}}function Bie(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0;if(d=e[n+8>>2]|0,!((d|0)<=0)){p=e[n+16>>2]|0,h=0,n=0;do{if(u=e[p+(h<<2)>>2]|0,e[u+204>>2]&3)e[u+208>>2]=-1,e[u+212>>2]=-2;else{if(l=e[t+16>>2]|0,o=l+(n<<3)|0,s=e[o>>2]|0,(s|0)==(n|0))s=n;else{a=s;do s=l+(a<<3)|0,e[o>>2]=e[s>>2],s=e[s>>2]|0,o=l+(s<<3)|0,a=e[o>>2]|0;while((s|0)!=(a|0))}e[u+208>>2]=s,e[l+(n<<3)+4>>2]=h,e[u+212>>2]=-1,n=n+1|0}h=h+1|0}while((h|0)!=(d|0))}}function Uie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0;if(E=H,H=H+16|0,Xn(12530),a=e[t+28>>2]|0,(a|0)<0){(e[t+32>>2]|0)<0&&(l=e[t+36>>2]|0,l|0&&(R[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+36>>2]=0),R[t+40>>0]=1,e[t+36>>2]=0,e[t+32>>2]=0);do e[(e[t+36>>2]|0)+(a<<2)>>2]=0,a=a+1|0;while((a|0)!=0)}if(e[t+28>>2]=0,p=e[t+8>>2]|0,(p|0)>0){h=e[t+16>>2]|0,m=0;do{if(d=h+(m<<3)|0,a=e[d>>2]|0,(a|0)==(m|0))a=m;else{l=a,u=d;do a=h+(l<<3)|0,e[u>>2]=e[a>>2],a=e[a>>2]|0,u=h+(a<<3)|0,l=e[u>>2]|0;while((a|0)!=(l|0))}e[d>>2]=a,m=m+1|0}while((m|0)!=(p|0));if((p|0)>1&&(nm(t+4|0,0,p+-1|0),p=e[t+8>>2]|0),(p|0)>0)for(m=e[t+16>>2]|0,l=0;;){for(g=e[m+(l<<3)>>2]|0,w=l;;){if(C=w+1|0,(C|0)>=(p|0)){d=0;break}if((e[m+(C<<3)>>2]|0)==(g|0))w=C;else{d=1;break}}e:do if((l|0)<=(w|0)){for(S=e[s+16>>2]|0,a=1,h=l;u=e[S+(e[m+(h<<3)+4>>2]<<2)>>2]|0,(e[u+208>>2]|0)==(g|0)&&(u=e[u+216>>2]|0,a=(u|0)!=4&(a&(u|0)!=1)),(h|0)<(w|0);)h=h+1|0;if(a)for(a=m;;){if(a=e[S+(e[a+(l<<3)+4>>2]<<2)>>2]|0,(e[a+208>>2]|0)==(g|0)&&(e[a+216>>2]&-2|0)!=4&&(e[a+216>>2]=2),(l|0)>=(w|0))break e;a=e[t+16>>2]|0,l=l+1|0}else for(a=m;;){if(a=e[S+(e[a+(l<<3)+4>>2]<<2)>>2]|0,(e[a+208>>2]|0)==(g|0)&&(e[a+216>>2]|0)==2&&(e[a+216>>2]=3,i[a+220>>2]=0),(l|0)>=(w|0))break e;a=e[t+16>>2]|0,l=l+1|0}}while(!1);if(d)l=C;else break}}if(h=Tt[e[(e[n>>2]|0)+36>>2]&127](n)|0,(h|0)>0){d=0;do{if(p=I0[e[(e[n>>2]|0)+40>>2]&31](n,d)|0,l=e[p+740>>2]|0,u=e[p+744>>2]|0,(l|0)!=0&&(e[l+216>>2]|0)!=2?a=44:a=42,(a|0)==42&&(a=0,u|0)&&(e[u+216>>2]|0)!=2&&(a=44),(a|0)==44&&(a=e[l+204>>2]|0,a&2|0&&(a&4|0)==0&&(e[l+216>>2]|0)!=2&&(e[u+204>>2]&3|0)==0&&((e[u+216>>2]&-2|0)!=4&&(e[u+216>>2]=1),i[u+220>>2]=0),w=e[u+204>>2]|0,w&2|0&&(w&4|a&3|0)==0&&(e[u+216>>2]|0)!=2&&((e[l+216>>2]&-2|0)!=4&&(e[l+216>>2]=1),i[l+220>>2]=0),R[t+64>>0]|0&&G0[e[(e[n>>2]|0)+28>>2]&63](n,l,u)|0)){if(a=e[t+28>>2]|0,(a|0)==(e[t+32>>2]|0)&&(M=a|0?a<<1:1,(a|0)<(M|0))){if(M?(e[5637]=(e[5637]|0)+1,a=Xe((M<<2|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,u=a,a=e[t+28>>2]|0):u=0,(a|0)>0){l=0;do e[u+(l<<2)>>2]=e[(e[t+36>>2]|0)+(l<<2)>>2],l=l+1|0;while((l|0)!=(a|0))}l=e[t+36>>2]|0,l&&(R[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0),a=e[t+28>>2]|0),e[t+36>>2]=0),R[t+40>>0]=1,e[t+36>>2]=u,e[t+32>>2]=M}e[(e[t+36>>2]|0)+(a<<2)>>2]=p,e[t+28>>2]=a+1}d=d+1|0}while((d|0)<(h|0))}a=e[2006]|0,M=(e[a+16>>2]|0)+-1|0,e[a+16>>2]=M;do if(!M){if(e[a+4>>2]|0){if(Cn(E|0,0)|0,M=e[5649]|0,i[a+8>>2]=+i[a+8>>2]+ +(((e[E+4>>2]|0)-(e[M+4>>2]|0)+(((e[E>>2]|0)-(e[M>>2]|0)|0)*1e6|0)-(e[a+12>>2]|0)|0)>>>0)/1e3,e[a+16>>2]|0)break;a=e[2006]|0}e[2006]=e[a+20>>2]}while(!1);if(M=e[t+8>>2]|0,Xn(12558),R[t+64>>0]|0){if(C=e[t+28>>2]|0,(C|0)>1&&im(t+24|0,0,C+-1|0),(M|0)>0)for(g=1,l=0,w=0;;){a=e[t+16>>2]|0,S=e[a+(l<<3)>>2]|0;e:do if((l|0)<(M|0))for(h=e[t+48>>2]|0,u=e[t+52>>2]|0,m=1;;){if(d=e[(e[s+16>>2]|0)+(e[a+(l<<3)+4>>2]<<2)>>2]|0,(h|0)==(u|0))if(h=u|0?u<<1:1,(u|0)<(h|0)){if(h?(e[5637]=(e[5637]|0)+1,a=Xe((h<<2|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,u=e[t+48>>2]|0):a=0,(u|0)>0){p=0;do e[a+(p<<2)>>2]=e[(e[t+56>>2]|0)+(p<<2)>>2],p=p+1|0;while((p|0)!=(u|0))}p=e[t+56>>2]|0,p&&(R[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[p+-4>>2]|0),u=e[t+48>>2]|0),e[t+56>>2]=0),R[t+60>>0]=1,e[t+56>>2]=a,e[t+52>>2]=h,a=u,u=h}else a=u;else a=h;if(e[(e[t+56>>2]|0)+(a<<2)>>2]=d,h=a+1|0,e[t+48>>2]=h,p=e[d+216>>2]|0,p=m&((p|0)==2|(p|0)==5),l=l+1|0,(l|0)>=(M|0)){m=l;break e}if(a=e[t+16>>2]|0,(e[a+(l<<3)>>2]|0)!=(S|0)){m=l;break}else m=p}else m=l,p=1;while(!1);if((w|0)<(C|0))if(d=e[t+36>>2]|0,a=d+(w<<2)|0,u=e[a>>2]|0,l=e[(e[u+740>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+744>>2]|0)+208>>2]|0),(l|0)==(S|0)){h=w;do{if(h=h+1|0,(h|0)>=(C|0))break;u=e[d+(h<<2)>>2]|0,l=e[(e[u+740>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+744>>2]|0)+208>>2]|0)}while((S|0)==(l|0));u=h,l=h-w|0}else u=g,l=0,a=0;else u=g,l=0,a=0;if(p||Ro[e[(e[o>>2]|0)+8>>2]&7](o,e[t+56>>2]|0,e[t+48>>2]|0,a,l,S),w=(l|0)==0?w:u,a=e[t+48>>2]|0,(a|0)<0){(e[t+52>>2]|0)<0&&(l=e[t+56>>2]|0,l|0&&(R[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+56>>2]=0),R[t+60>>0]=1,e[t+56>>2]=0,e[t+52>>2]=0);do e[(e[t+56>>2]|0)+(a<<2)>>2]=0,a=a+1|0;while((a|0)!=0)}if(e[t+48>>2]=0,(m|0)>=(M|0))break;g=u,l=m}}else M=Tt[e[(e[n>>2]|0)+44>>2]&127](n)|0,t=Tt[e[(e[n>>2]|0)+36>>2]&127](n)|0,Ro[e[(e[o>>2]|0)+8>>2]&7](o,e[s+16>>2]|0,e[s+8>>2]|0,M,t,-1);if(a=e[2006]|0,t=(e[a+16>>2]|0)+-1|0,e[a+16>>2]=t,t|0){H=E;return}do if(e[a+4>>2]|0)if(Cn(E|0,0)|0,t=e[5649]|0,i[a+8>>2]=+i[a+8>>2]+ +(((e[E+4>>2]|0)-(e[t+4>>2]|0)+(((e[E>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[a+12>>2]|0)|0)>>>0)/1e3,e[a+16>>2]|0){H=E;return}else{a=e[2006]|0;break}while(!1);e[2006]=e[a+20>>2],H=E}function im(t,n,s){t=t|0,n=n|0,s=s|0;for(var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;;){for(d=e[t+12>>2]|0,m=e[d+(((n+s|0)/2|0)<<2)>>2]|0,o=n,a=s;;){if(h=e[(e[m+740>>2]|0)+208>>2]|0,(h|0)>-1)for(;u=e[d+(o<<2)>>2]|0,l=e[(e[u+740>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+744>>2]|0)+208>>2]|0),(l|0)<(h|0);)o=o+1|0;else for(p=e[(e[m+744>>2]|0)+208>>2]|0;u=e[d+(o<<2)>>2]|0,l=e[(e[u+740>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+744>>2]|0)+208>>2]|0),(l|0)<(p|0);)o=o+1|0;if((h|0)>-1)for(;u=e[d+(a<<2)>>2]|0,l=e[(e[u+740>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+744>>2]|0)+208>>2]|0),(h|0)<(l|0);)a=a+-1|0;else for(p=e[(e[m+744>>2]|0)+208>>2]|0;u=e[d+(a<<2)>>2]|0,l=e[(e[u+740>>2]|0)+208>>2]|0,(l|0)<=-1&&(l=e[(e[u+744>>2]|0)+208>>2]|0),(p|0)<(l|0);)a=a+-1|0;if((o|0)<=(a|0)&&(p=d+(o<<2)|0,h=e[p>>2]|0,e[p>>2]=e[d+(a<<2)>>2],e[(e[t+12>>2]|0)+(a<<2)>>2]=h,o=o+1|0,a=a+-1|0),(o|0)>(a|0))break;d=e[t+12>>2]|0}if((a|0)>(n|0)&&im(t,n,a),(o|0)<(s|0))n=o;else break}}function Oie(t){t=t|0;var n=0;e[t>>2]=4512,R[t+8>>0]|0&&(n=e[t+12>>2]|0,n&&(t=e[t+4>>2]|0,zt[e[(e[t>>2]|0)+16>>2]&127](t,n)))}function Gie(t){t=t|0;var n=0,s=0;if(e[t>>2]=4512,!(R[t+8>>0]|0)){ye(t);return}if(n=e[t+12>>2]|0,!n){ye(t);return}s=e[t+4>>2]|0,zt[e[(e[s>>2]|0)+16>>2]&127](s,n),ye(t)}function Vie(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(C=H,H=H+32|0,S=e[t+12>>2]|0,!S){H=C;return}if(e[a+4>>2]=S,t=e[n+4>>2]|0,w=e[s+4>>2]|0,n=e[n+12>>2]|0,o=e[s+12>>2]|0,l=+i[n+48>>2]-+i[o+48>>2],u=+i[n+52>>2]-+i[o+52>>2],h=+i[n+56>>2]-+i[o+56>>2],d=+ot(+(l*l+u*u+h*h)),m=+i[w+32>>2]*+i[w+16>>2],g=+i[t+32>>2]*+i[t+16>>2]+m,d>g){if(!(e[S+748>>2]|0)){H=C;return}if(t=e[S+740>>2]|0,n=e[(e[a+8>>2]|0)+8>>2]|0,o=e[(e[a+12>>2]|0)+8>>2]|0,(t|0)==(n|0)){d2(S,t+4|0,o+4|0),H=C;return}else{d2(S,o+4|0,n+4|0),H=C;return}}e[C+16>>2]=1065353216,e[C+16+4>>2]=0,e[C+16+8>>2]=0,i[C+16+12>>2]=0,d>11920928955078125e-23?(i[C+16>>2]=l*(1/d),i[C+16+4>>2]=u*(1/d),i[C+16+8>>2]=h*(1/d),i[C+16+12>>2]=0,p=l*(1/d),u=u*(1/d),l=h*(1/d)):(p=1,u=0,l=0),u=m*u+ +i[o+52>>2],h=m*l+ +i[o+56>>2],i[C>>2]=m*p+ +i[o+48>>2],i[C+4>>2]=u,i[C+8>>2]=h,i[C+12>>2]=0,N2[e[(e[a>>2]|0)+16>>2]&15](a,C+16|0,C,d-g),t=e[a+4>>2]|0;do if(e[t+748>>2]|0)if(n=e[t+740>>2]|0,s=e[(e[a+8>>2]|0)+8>>2]|0,o=e[(e[a+12>>2]|0)+8>>2]|0,(n|0)==(s|0)){d2(t,n+4|0,o+4|0);break}else{d2(t,o+4|0,s+4|0);break}while(!1);H=C}function zie(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,1}function Wie(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+12>>2]|0,!!s&&R[t+8>>0]|0){if(o=e[n+4>>2]|0,(o|0)==(e[n+8>>2]|0)&&(l=o|0?o<<1:1,(o|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[n+4>>2]|0):s=0,(o|0)>0){a=0;do e[s+(a<<2)>>2]=e[(e[n+12>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[n+12>>2]|0,a&&(R[n+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[n+4>>2]|0),e[n+12>>2]=0),R[n+16>>0]=1,e[n+12>>2]=s,e[n+8>>2]=l,s=e[t+12>>2]|0}e[(e[n+12>>2]|0)+(o<<2)>>2]=s,e[n+4>>2]=o+1}}function Hie(t){t=t|0;var n=0;e[t>>2]=4540,R[t+8>>0]|0&&(n=e[t+12>>2]|0,n&&(t=e[t+4>>2]|0,zt[e[(e[t>>2]|0)+16>>2]&127](t,n)))}function jie(t){t=t|0;var n=0,s=0;if(e[t>>2]=4540,!(R[t+8>>0]|0)){ye(t);return}if(n=e[t+12>>2]|0,!n){ye(t);return}s=e[t+4>>2]|0,zt[e[(e[s>>2]|0)+16>>2]&127](s,n),ye(t)}function qie(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0;if(p=H,H=H+160|0,l=e[t+12>>2]|0,!l){H=p;return}h=(R[t+16>>0]|0)!=0,d=h?s:n,s=h?n:s,g=e[d+4>>2]|0,m=e[s+4>>2]|0,e[a+4>>2]=l,n=e[l+752>>2]|0,e[p+136>>2]=4568,e[p+136+4>>2]=g,e[p+136+8>>2]=m,e[p+136+12>>2]=n,i[p+128>>2]=0xde0b6b000000000,n=e[d+12>>2]|0,e[p>>2]=e[n>>2],e[p+4>>2]=e[n+4>>2],e[p+8>>2]=e[n+8>>2],e[p+12>>2]=e[n+12>>2],e[p+16>>2]=e[n+16>>2],e[p+16+4>>2]=e[n+16+4>>2],e[p+16+8>>2]=e[n+16+8>>2],e[p+16+12>>2]=e[n+16+12>>2],e[p+32>>2]=e[n+32>>2],e[p+32+4>>2]=e[n+32+4>>2],e[p+32+8>>2]=e[n+32+8>>2],e[p+32+12>>2]=e[n+32+12>>2],e[p+48>>2]=e[n+48>>2],e[p+48+4>>2]=e[n+48+4>>2],e[p+48+8>>2]=e[n+48+8>>2],e[p+48+12>>2]=e[n+48+12>>2],s=e[s+12>>2]|0,e[p+64>>2]=e[s>>2],e[p+64+4>>2]=e[s+4>>2],e[p+64+8>>2]=e[s+8>>2],e[p+64+12>>2]=e[s+12>>2],e[p+80>>2]=e[s+16>>2],e[p+80+4>>2]=e[s+16+4>>2],e[p+80+8>>2]=e[s+16+8>>2],e[p+80+12>>2]=e[s+16+12>>2],e[p+96>>2]=e[s+32>>2],e[p+96+4>>2]=e[s+32+4>>2],e[p+96+8>>2]=e[s+32+8>>2],e[p+96+12>>2]=e[s+32+12>>2],e[p+112>>2]=e[s+48>>2],e[p+112+4>>2]=e[s+48+4>>2],e[p+112+8>>2]=e[s+48+8>>2],e[p+112+12>>2]=e[s+48+12>>2],rm(p+136|0,p,a,e[o+20>>2]|0,h);do if(R[t+8>>0]|0&&(u=e[a+4>>2]|0,e[u+748>>2]|0))if(n=e[u+740>>2]|0,s=e[(e[a+8>>2]|0)+8>>2]|0,l=e[(e[a+12>>2]|0)+8>>2]|0,(n|0)==(s|0)){d2(u,n+4|0,l+4|0);break}else{d2(u,l+4|0,s+4|0);break}while(!1);H=p}function Xie(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,1}function $ie(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+12>>2]|0,!!s&&R[t+8>>0]|0){if(o=e[n+4>>2]|0,(o|0)==(e[n+8>>2]|0)&&(l=o|0?o<<1:1,(o|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[n+4>>2]|0):s=0,(o|0)>0){a=0;do e[s+(a<<2)>>2]=e[(e[n+12>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[n+12>>2]|0,a&&(R[n+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[n+4>>2]|0),e[n+12>>2]=0),R[n+16>>0]=1,e[n+12>>2]=s,e[n+8>>2]=l,s=e[t+12>>2]|0}e[(e[n+12>>2]|0)+(o<<2)>>2]=s,e[n+4>>2]=o+1}}function nm(t,n,s){t=t|0,n=n|0,s=s|0;for(var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0;;){for(h=e[t+12>>2]|0,d=e[h+(((n+s|0)/2|0)<<3)>>2]|0,o=n,a=s;;){for(;;)if(u=o+1|0,(e[h+(o<<3)>>2]|0)<(d|0))o=u;else{p=a;break}for(;l=h+(p<<3)|0,a=p+-1|0,(d|0)<(e[l>>2]|0);)p=a;if((o|0)>(p|0)?a=p:(o=h+(o<<3)|0,m=e[o>>2]|0,h=e[o+4>>2]|0,g=e[l+4>>2]|0,e[o>>2]=e[l>>2],e[o+4>>2]=g,o=(e[t+12>>2]|0)+(p<<3)|0,e[o>>2]=m,e[o+4>>2]=h,o=u),(o|0)>(a|0))break;h=e[t+12>>2]|0}if((a|0)>(n|0)&&nm(t,n,a),(o|0)<(s|0))n=o;else break}}function Yie(t){t=t|0,ye(t)}function rm(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0;if(Y=H,H=H+64|0,U=+i[n+48>>2]-+i[n+112>>2],l=+i[n+52>>2]-+i[n+116>>2],z=+i[n+56>>2]-+i[n+120>>2],G=U*+i[n+64>>2]+l*+i[n+80>>2]+z*+i[n+96>>2],O=U*+i[n+68>>2]+l*+i[n+84>>2]+z*+i[n+100>>2],z=U*+i[n+72>>2]+l*+i[n+88>>2]+z*+i[n+104>>2],o=e[t+8>>2]|0,P=e[t+4>>2]|0,l=+i[P+32>>2]*+i[P+16>>2],U=l+ +i[t+12>>2],S=+i[o+76>>2],C=+i[o+60>>2],w=+i[o+80>>2],M=+i[o+64>>2],E=+i[o+84>>2],D=+i[o+68>>2],b=+i[o+92>>2],B=+i[o+96>>2],L=+i[o+100>>2],p=(w-M)*(L-D)-(E-D)*(B-M),d=(E-D)*(b-C)-(S-C)*(L-D),g=(S-C)*(B-M)-(w-M)*(b-C),m=1/+ot(+(g*g+(p*p+d*d))),u=(G-C)*(m*p)+(O-M)*(m*d)+m*g*(z-D),u<0?(F=-u,h=-(m*p),u=-(m*d),p=-(m*g)):(F=u,h=m*p,u=m*d,p=m*g),!(F<U)){H=Y;return}if(g=(z-D)*((S-C)*u-(w-M)*h)+((G-C)*((w-M)*p-(E-D)*u)+(O-M)*((E-D)*h-(S-C)*p)),E=(z-E)*((b-S)*u-(B-w)*h)+((G-S)*((B-w)*p-(L-E)*u)+(O-w)*((L-E)*h-(b-S)*p)),L=(z-L)*((C-b)*u-(M-B)*h)+((G-b)*((M-B)*p-(D-L)*u)+(O-B)*((D-L)*h-(C-b)*p)),!(L>0&(g>0&E>0))&&!(L<=0&(g<=0&E<=0))){if((Tt[e[(e[o>>2]|0)+100>>2]&127](o)|0)<=0){H=Y;return}M=0,w=0,C=0,o=0,P=0;do{$=e[t+8>>2]|0,Kt[e[(e[$>>2]|0)+104>>2]&127]($,P,Y+48|0,Y+32|0),d=+i[Y+48>>2],B=+i[Y+48+4>>2],D=+i[Y+48+8>>2],m=+i[Y+32>>2]-d,L=+i[Y+32+4>>2]-B,b=+i[Y+32+8>>2]-D;do if((G-d)*m+(O-B)*L+(z-D)*b>0)if((G-d)*m+(O-B)*L+(z-D)*b<m*m+L*L+b*b){F=((G-d)*m+(O-B)*L+(z-D)*b)/(m*m+L*L+b*b),g=G-d-m*F,S=O-B-L*F,E=z-D-b*F;break}else{g=G-d-m,S=O-B-L,E=z-D-b,F=1;break}else g=G-d,S=O-B,E=z-D,F=0;while(!1);g*g+S*S+E*E<U*U&&(M=d+m*F,w=D+b*F,C=B+L*F,o=1),P=P+1|0,$=e[t+8>>2]|0}while((P|0)<(Tt[e[(e[$>>2]|0)+100>>2]&127]($)|0));if(o&1)S=U*U;else{H=Y;return}}else S=U*U,M=G-F*h,w=z-F*p,C=O-F*u;if(m=G-M,g=O-C,d=z-w,!(m*m+g*g+d*d<S)){H=Y;return}if(m*m+g*g+d*d>11920928955078125e-23&&(u=+ot(+(m*m+g*g+d*d)),l=l-u,h=m*(1/u),p=d*(1/u),u=g*(1/u)),l=-l,a){L=+i[n+64>>2],F=+i[n+68>>2],U=+i[n+72>>2],G=L*h+F*u+U*p,g=+i[n+80>>2],S=+i[n+84>>2],E=+i[n+88>>2],O=h*g+u*S+p*E,D=+i[n+96>>2],b=+i[n+100>>2],B=+i[n+104>>2],z=h*D+u*b+p*B,i[Y+48>>2]=-G,i[Y+48+4>>2]=-O,i[Y+48+8>>2]=-z,i[Y+48+12>>2]=0,O=M*g+C*S+w*E+ +i[n+116>>2]+O*l,z=M*D+C*b+w*B+ +i[n+120>>2]+z*l,i[Y+32>>2]=M*L+C*F+w*U+ +i[n+112>>2]+G*l,i[Y+32+4>>2]=O,i[Y+32+8>>2]=z,i[Y+32+12>>2]=0,N2[e[(e[s>>2]|0)+16>>2]&15](s,Y+48|0,Y+32|0,l),H=Y;return}else{$=e[(e[s>>2]|0)+16>>2]|0,F=+i[n+64>>2],U=+i[n+68>>2],G=+i[n+72>>2],D=+i[n+80>>2],b=+i[n+84>>2],O=+i[n+88>>2],B=+i[n+96>>2],L=+i[n+100>>2],z=+i[n+104>>2],i[Y+16>>2]=F*h+U*u+G*p,i[Y+16+4>>2]=h*D+u*b+p*O,i[Y+16+8>>2]=h*B+u*L+p*z,i[Y+16+12>>2]=0,O=M*D+C*b+w*O+ +i[n+116>>2],z=M*B+C*L+w*z+ +i[n+120>>2],i[Y>>2]=M*F+C*U+w*G+ +i[n+112>>2],i[Y+4>>2]=O,i[Y+8>>2]=z,i[Y+12>>2]=0,N2[$&15](s,Y+16|0,Y,l),H=Y;return}}function Kie(t){t=t|0;var n=0,s=0;e[t>>2]=6248,n=e[t+56>>2]|0,n|0&&(Vt[e[e[n>>2]>>2]&255](n),s=e[t+56>>2]|0,s|0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function Zie(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0;u=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),m=u+ +i[t+32>>2],h=u+ +i[t+36>>2],u=u+ +i[t+40>>2],b=+ht(+ +i[n>>2]),D=+ht(+ +i[n+4>>2]),E=+ht(+ +i[n+8>>2]),w=+ht(+ +i[n+16>>2]),C=+ht(+ +i[n+20>>2]),S=+ht(+ +i[n+24>>2]),d=+ht(+ +i[n+32>>2]),p=+ht(+ +i[n+36>>2]),l=+ht(+ +i[n+40>>2]),M=+i[n+48>>2],g=+i[n+52>>2],a=+i[n+56>>2],i[s>>2]=M-(m*b+h*D+u*E),i[s+4>>2]=g-(m*w+h*C+u*S),i[s+8>>2]=a-(m*d+h*p+u*l),i[s+12>>2]=0,i[o>>2]=m*b+h*D+u*E+M,i[o+4>>2]=m*w+h*C+u*S+g,i[o+8>>2]=m*d+h*p+u*l+a,i[o+12>>2]=0}function Qie(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;h=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),l=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),s=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),m=(h+ +i[t+32>>2])/+i[t+16>>2],p=(l+ +i[t+36>>2])/+i[t+20>>2],a=(s+ +i[t+40>>2])/+i[t+24>>2],d=+ht(+ +i[n>>2]),u=+ht(+ +i[n+4>>2]),o=+ht(+ +i[n+8>>2]),i[t+16>>2]=d,i[t+20>>2]=u,i[t+24>>2]=o,i[t+28>>2]=0,i[t+32>>2]=m*d-h,i[t+36>>2]=p*u-l,i[t+40>>2]=a*o-s,i[t+44>>2]=0}function Jie(t,n,s){t=t|0,n=+n,s=s|0;var o=0,a=0,l=0,u=0,p=0;u=+i[t+32>>2],a=+i[t+36>>2],p=+i[t+40>>2],l=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),o=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),p=(p+ +Ct[e[(e[t>>2]|0)+48>>2]&15](t))*2,i[s>>2]=n/12*((a+o)*2*((a+o)*2)+p*p),i[s+4>>2]=n/12*((u+l)*2*((u+l)*2)+p*p),i[s+8>>2]=n/12*((u+l)*2*((u+l)*2)+(a+o)*2*((a+o)*2)),i[s+12>>2]=0}function ene(t){return t=t|0,12683}function tne(t,n){t=t|0,n=+n;var s=0,o=0,a=0,l=0,u=0;l=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),o=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),u=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),l=l+ +i[t+32>>2],o=o+ +i[t+36>>2],u=u+ +i[t+40>>2],i[t+48>>2]=n,a=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),s=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),n=u-+Ct[e[(e[t>>2]|0)+48>>2]&15](t),i[t+32>>2]=l-a,i[t+36>>2]=o-s,i[t+40>>2]=n,i[t+44>>2]=0}function ine(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0;u=+i[n+32>>2],p=+i[n+36>>2],o=+i[n+40>>2],l=+Ct[e[(e[n>>2]|0)+48>>2]&15](n),a=+Ct[e[(e[n>>2]|0)+48>>2]&15](n),o=o+ +Ct[e[(e[n>>2]|0)+48>>2]&15](n),a=+i[s+4>>2]>=0?p+a:-(p+a),o=+i[s+8>>2]>=0?o:-o,i[t>>2]=+i[s>>2]>=0?u+l:-(u+l),i[t+4>>2]=a,i[t+8>>2]=o,i[t+12>>2]=0}function nne(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;l=+i[n+32>>2],a=+i[n+36>>2],a=+i[s+4>>2]>=0?a:-a,o=+i[n+40>>2],o=+i[s+8>>2]>=0?o:-o,i[t>>2]=+i[s>>2]>=0?l:-l,i[t+4>>2]=a,i[t+8>>2]=o,i[t+12>>2]=0}function rne(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0;if(!((o|0)<=0)){a=0;do p=+i[t+32>>2],u=+i[t+36>>2],u=+i[n+(a<<4)+4>>2]>=0?u:-u,l=+i[t+40>>2],l=+i[n+(a<<4)+8>>2]>=0?l:-l,i[s+(a<<4)>>2]=+i[n+(a<<4)>>2]>=0?p:-p,i[s+(a<<4)+4>>2]=u,i[s+(a<<4)+8>>2]=l,i[s+(a<<4)+12>>2]=0,a=a+1|0;while((a|0)!=(o|0))}}function sne(t){return t=t|0,6}function one(t,n,s){switch(t=t|0,n=n|0,s=s|0,n|0){case 0:{e[s>>2]=1065353216,e[s+4>>2]=0,e[s+8>>2]=0,i[s+12>>2]=0;return}case 1:{e[s>>2]=-1082130432,e[s+4>>2]=0,e[s+8>>2]=0,i[s+12>>2]=0;return}case 2:{e[s>>2]=0,e[s+4>>2]=1065353216,e[s+8>>2]=0,i[s+12>>2]=0;return}case 3:{e[s>>2]=0,e[s+4>>2]=-1082130432,e[s+8>>2]=0,i[s+12>>2]=0;return}case 4:{e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=1065353216,i[s+12>>2]=0;return}case 5:{e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=-1082130432,i[s+12>>2]=0;return}default:return}}function ane(t){return t=t|0,8}function cne(t){return t=t|0,12}function lne(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;do switch(n|0){case 0:{a=0,n=1;break}case 1:{a=0,n=2;break}case 2:{a=1,n=3;break}case 3:{a=2;break}case 4:{a=0;break}case 5:{a=1;break}case 6:{a=2;break}case 7:{a=3;break}case 8:{a=4,n=5;break}case 9:{a=4,n=6;break}case 10:{a=5,n=7;break}case 11:{a=6,n=7;break}default:a=0,n=0}while(!1);f0[e[(e[t>>2]|0)+108>>2]&127](t,a,s),f0[e[(e[t>>2]|0)+108>>2]&127](t,n,o)}function une(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0;p=+i[t+32>>2],l=+i[t+36>>2],o=+i[t+40>>2],u=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),a=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),o=o+ +Ct[e[(e[t>>2]|0)+48>>2]&15](t),i[s>>2]=+(n&1^1|0)*(p+u)-+(n&1|0)*(p+u),i[s+4>>2]=+(n>>>1&1^1|0)*(l+a)-+(n>>>1&1|0)*(l+a),i[s+8>>2]=+(n>>>2&1^1|0)*o-+(n>>>2&1|0)*o,i[s+12>>2]=0}function fne(t){return t=t|0,6}function _ne(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0;a=H,H=H+48|0,f0[e[(e[t>>2]|0)+124>>2]&127](t,a+32|0,o),d=e[a+32>>2]|0,h=e[a+32+4>>2]|0,o=e[a+32+8>>2]|0,e[n>>2]=d,e[n+4>>2]=h,e[n+8>>2]=o,i[n+12>>2]=0,n=e[(e[t>>2]|0)+64>>2]|0,p=(e[Z>>2]=d,-+i[Z>>2]),u=(e[Z>>2]=h,-+i[Z>>2]),l=(e[Z>>2]=o,-+i[Z>>2]),i[a>>2]=p,i[a+4>>2]=u,i[a+8>>2]=l,i[a+12>>2]=0,f0[n&127](a+16|0,t,a),e[s>>2]=e[a+16>>2],e[s+4>>2]=e[a+16+4>>2],e[s+8>>2]=e[a+16+8>>2],e[s+12>>2]=e[a+16+12>>2],H=a}function pne(t,n,s){t=t|0,n=n|0,s=+s;var o=0,a=0,l=0,u=0;return a=+i[t+32>>2],l=+i[t+36>>2],u=+i[t+40>>2],o=+i[n>>2],!(o<=a+s)||!(o>=-a-s)||(o=+i[n+4>>2],!(o<=l+s))||!(o>=-l-s)||(o=+i[n+8>>2],!(o<=u+s))?(n=0,n|0):(n=o>=-u-s,n|0)}function hne(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;switch(a=+i[t+32>>2],l=+i[t+36>>2],o=+i[t+40>>2],s|0){case 0:{e[n>>2]=1065353216,e[n+4>>2]=0,e[n+8>>2]=0,i[n+12>>2]=-a;return}case 1:{e[n>>2]=-1082130432,e[n+4>>2]=0,e[n+8>>2]=0,i[n+12>>2]=-a;return}case 2:{e[n>>2]=0,e[n+4>>2]=1065353216,e[n+8>>2]=0,i[n+12>>2]=-l;return}case 3:{e[n>>2]=0,e[n+4>>2]=-1082130432,e[n+8>>2]=0,i[n+12>>2]=-l;return}case 4:{e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=1065353216,i[n+12>>2]=-o;return}case 5:{e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=-1082130432,i[n+12>>2]=-o;return}default:return}}function dne(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0;e[t+8>>2]=0,e[t+12>>2]=-1,e[t+16>>2]=1065353216,e[t+20>>2]=1065353216,e[t+24>>2]=1065353216,i[t+28>>2]=0,i[t+48>>2]=.03999999910593033,e[t+56>>2]=0,e[t>>2]=4588,e[t+4>>2]=0,l=+i[n>>2],a=+i[n+4>>2],s=+i[n+8>>2],s=+i[n+((l<a?l<s?0:2:a<s?1:2)<<2)>>2]*.10000000149011612,s<.03999999910593033?(p=+_h(t),u=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),l=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),p=p+ +i[t+32>>2],u=u+ +i[t+36>>2],l=l+ +i[t+40>>2],i[t+48>>2]=s,s=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),a=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),l=l-+Ct[e[(e[t>>2]|0)+48>>2]&15](t),i[t+32>>2]=p-s,i[t+36>>2]=u-a,i[t+40>>2]=l,i[t+44>>2]=0,o=e[t>>2]|0):o=4588,l=+Ct[e[o+48>>2]&15](t),u=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),p=+Ct[e[(e[t>>2]|0)+48>>2]&15](t),u=+i[n+4>>2]*+i[t+20>>2]-u,p=+i[n+8>>2]*+i[t+24>>2]-p,i[t+32>>2]=+i[n>>2]*+i[t+16>>2]-l,i[t+36>>2]=u,i[t+40>>2]=p,i[t+44>>2]=0}function mne(t){t=t|0;var n=0;e[t>>2]=4724,R[t+65>>0]|0&&(n=e[t+56>>2]|0,Vt[e[e[n>>2]>>2]&255](n),t=e[t+56>>2]|0,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)))}function gne(t){t=t|0;var n=0;e[t>>2]=4724,R[t+65>>0]|0&&(n=e[t+56>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+56>>2]|0,n|0)&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0)}function xne(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0;u=Tt[e[(e[t>>2]|0)+28>>2]&127](t)|0,l=+i[u>>2]-+i[n>>2],a=+i[u+4>>2]-+i[n+4>>2],o=+i[u+8>>2]-+i[n+8>>2],l*l+a*a+o*o>11920928955078125e-23&&(p6(t,n),(R[t+65>>0]|0)!=0&&(s=e[t+56>>2]|0,Vt[e[e[s>>2]>>2]&255](s),s=e[t+56>>2]|0,(s|0)!=0)&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),n=t+56|0,e[5637]=(e[5637]|0)+1,s=Xe(191)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,e[s+52>>2]=284,R[s+60>>0]=0,R[s+80>>0]=1,e[s+76>>2]=0,e[s+68>>2]=0,e[s+72>>2]=0,R[s+100>>0]=1,e[s+96>>2]=0,e[s+88>>2]=0,e[s+92>>2]=0,R[s+120>>0]=1,e[s+116>>2]=0,e[s+108>>2]=0,e[s+112>>2]=0,R[s+140>>0]=1,e[s+136>>2]=0,e[s+128>>2]=0,e[s+132>>2]=0,e[s+144>>2]=0,R[s+164>>0]=1,e[s+160>>2]=0,e[s+152>>2]=0,e[s+156>>2]=0,e[s+168>>2]=0,e[s+4>>2]=-8388609,e[s+8>>2]=-8388609,e[s+12>>2]=-8388609,i[s+16>>2]=0,e[s+20>>2]=2139095039,e[s+24>>2]=2139095039,e[s+28>>2]=2139095039,i[s+32>>2]=0,e[s>>2]=6168,e[n>>2]=s,G6(s,e[t+52>>2]|0,(R[t+64>>0]|0)!=0,t+20|0,t+36|0),R[t+65>>0]=1)}function yne(t){return t=t|0,12712}function vne(t,n){t=t|0,n=+n,i[t+16>>2]=n}function Sne(t){return t=t|0,+ +i[t+16>>2]}function Cne(t){return t=t|0,60}function Tne(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;o=I0[e[(e[s>>2]|0)+40>>2]&31](s,t)|0,l=I0[e[(e[s>>2]|0)+28>>2]&31](s,o)|0,e[n>>2]=l,l|0&&zt[e[(e[s>>2]|0)+48>>2]&127](s,o),e[n+4>>2]=e[t+4>>2],l=e[t+52>>2]|0,G0[e[(e[l>>2]|0)+56>>2]&63](l,n+12|0,s)|0,e[n+52>>2]=e[t+16>>2];do if((e[t+56>>2]|0)!=0&&((Tt[e[(e[s>>2]|0)+52>>2]&127](s)|0)&1|0)==0)if(o=I0[e[(e[s>>2]|0)+24>>2]&31](s,e[t+56>>2]|0)|0,o){e[n+40>>2]=o,e[n+44>>2]=0;break}else{e[n+40>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+56>>2]|0)|0,e[n+44>>2]=0,o=e[t+56>>2]|0,o=Tt[e[(e[o>>2]|0)+12>>2]&127](o)|0,o=G0[e[(e[s>>2]|0)+16>>2]&63](s,o,1)|0,l=e[t+56>>2]|0,l=G0[e[(e[l>>2]|0)+16>>2]&63](l,e[o+8>>2]|0,s)|0,Zi[e[(e[s>>2]|0)+20>>2]&31](s,o,l,1213612625,e[t+56>>2]|0);break}else a=8;while(!1);return(a|0)==8&&(e[n+40>>2]=0,e[n+44>>2]=0),e[t+60>>2]|0&&((Tt[e[(e[s>>2]|0)+52>>2]&127](s)|0)&2|0)==0?(o=I0[e[(e[s>>2]|0)+24>>2]&31](s,e[t+60>>2]|0)|0,o?(e[n+48>>2]=o,12728):(e[n+48>>2]=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+60>>2]|0)|0,n=e[t+60>>2]|0,n=Tt[e[(e[n>>2]|0)+8>>2]&127](n)|0,n=G0[e[(e[s>>2]|0)+16>>2]&63](s,n,1)|0,l=e[t+60>>2]|0,l=G0[e[(e[l>>2]|0)+12>>2]&63](l,e[n+8>>2]|0,s)|0,Zi[e[(e[s>>2]|0)+20>>2]&31](s,n,l,1346456916,e[t+60>>2]|0),12728)):(e[n+48>>2]=0,12728)}function wne(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0;a=H,H=H+64|0,l=e[t+52>>2]|0,e[a>>2]=4816,e[a+4>>2]=l,e[a+8>>2]=n,dre(e[t+56>>2]|0,a,s,o),H=a}function Mne(t){t=t|0,ye(t)}function Rne(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;switch(C=H,H=H+32|0,h=e[t+4>>2]|0,vc[e[(e[h>>2]|0)+16>>2]&3](h,C+28|0,C+24|0,C+20|0,C+16|0,C+12|0,C+8|0,C+4|0,C,n),h=(e[C+12>>2]|0)+(Rt(e[C+8>>2]|0,s)|0)|0,S=e[t+4>>2]|0,p=e[C>>2]|0,p|0){case 3:{o=Le[h+4>>1]|0;break}case 2:{o=e[h+8>>2]|0;break}default:o=It[h+2>>0]|0}switch(g=(e[C+20>>2]|0)==0,d=e[C+28>>2]|0,m=e[C+16>>2]|0,o=d+(Rt(m,o)|0)|0,g?(l=+i[o+8>>2]*+i[S+12>>2],u=+i[o+4>>2]*+i[S+8>>2],a=+i[o>>2]*+i[S+4>>2]):(l=+Mt[o+16>>3]*+i[S+12>>2],u=+Mt[o+8>>3]*+i[S+8>>2],a=+Mt[o>>3]*+i[S+4>>2]),i[t+44>>2]=a,i[t+48>>2]=u,i[t+52>>2]=l,i[t+56>>2]=0,p|0){case 3:{o=Le[h+2>>1]|0;break}case 2:{o=e[h+4>>2]|0;break}default:o=It[h+1>>0]|0}switch(o=d+(Rt(m,o)|0)|0,g?(l=+i[o+8>>2]*+i[S+12>>2],u=+i[o+4>>2]*+i[S+8>>2],a=+i[o>>2]*+i[S+4>>2]):(l=+Mt[o+16>>3]*+i[S+12>>2],u=+Mt[o+8>>3]*+i[S+8>>2],a=+Mt[o>>3]*+i[S+4>>2]),i[t+28>>2]=a,i[t+32>>2]=u,i[t+36>>2]=l,i[t+40>>2]=0,p|0){case 3:{o=Le[h>>1]|0;break}case 2:{o=e[h>>2]|0;break}default:o=It[h>>0]|0}if(o=d+(Rt(m,o)|0)|0,g){u=+i[o+8>>2]*+i[S+12>>2],l=+i[o+4>>2]*+i[S+8>>2],a=+i[o>>2]*+i[S+4>>2],g=t+12|0,i[g>>2]=a,g=t+16|0,i[g>>2]=l,g=t+20|0,i[g>>2]=u,g=t+24|0,i[g>>2]=0,g=t+8|0,g=e[g>>2]|0,m=e[g>>2]|0,m=m+8|0,m=e[m>>2]|0,S=t+12|0,Kt[m&127](g,S,n,s),t=e[t+4>>2]|0,s=e[t>>2]|0,s=s+24|0,s=e[s>>2]|0,zt[s&127](t,n),H=C;return}else{u=+Mt[o+16>>3]*+i[S+12>>2],l=+Mt[o+8>>3]*+i[S+8>>2],a=+Mt[o>>3]*+i[S+4>>2],g=t+12|0,i[g>>2]=a,g=t+16|0,i[g>>2]=l,g=t+20|0,i[g>>2]=u,g=t+24|0,i[g>>2]=0,g=t+8|0,g=e[g>>2]|0,m=e[g>>2]|0,m=m+8|0,m=e[m>>2]|0,S=t+12|0,Kt[m&127](g,S,n,s),t=e[t+4>>2]|0,s=e[t>>2]|0,s=s+24|0,s=e[s>>2]|0,zt[s&127](t,n),H=C;return}}function Ane(t,n,s){t=t|0,n=n|0,s=s|0,f0[e[(e[n>>2]|0)+68>>2]&127](t,n,s)}function Ene(t,n){t=t|0,n=n|0;var s=0,o=0;s=e[t+56>>2]|0,s&&(o=Tt[e[(e[s>>2]|0)+12>>2]&127](s)|0,o=G0[e[(e[n>>2]|0)+16>>2]&63](n,o,1)|0,s=e[t+56>>2]|0,s=G0[e[(e[s>>2]|0)+16>>2]&63](s,e[o+8>>2]|0,n)|0,Zi[e[(e[n>>2]|0)+20>>2]&31](n,o,s,1213612625,e[t+56>>2]|0))}function Nne(t,n){t=t|0,n=n|0;var s=0,o=0;s=e[t+60>>2]|0,s&&(o=Tt[e[(e[s>>2]|0)+8>>2]&127](s)|0,o=G0[e[(e[n>>2]|0)+16>>2]&63](n,o,1)|0,s=e[t+60>>2]|0,s=G0[e[(e[s>>2]|0)+12>>2]&63](s,e[o+8>>2]|0,n)|0,Zi[e[(e[n>>2]|0)+20>>2]&31](n,o,s,1346456916,e[t+60>>2]|0))}function sm(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;if(a=H,H=H+48|0,e[t+8>>2]=0,e[t+12>>2]=-1,i[t+16>>2]=0,e[t>>2]=6692,e[t+52>>2]=n,e[t+4>>2]=21,Tt[e[(e[n>>2]|0)+40>>2]&127](n)|0?f0[e[(e[n>>2]|0)+48>>2]&127](n,t+20|0,t+36|0):(e[a+32>>2]=0,e[a+32+4>>2]=0,e[a+32+8>>2]=0,e[a+32+12>>2]=0,i[a+32>>2]=1,f0[e[(e[t>>2]|0)+68>>2]&127](a+16|0,t,a+32|0),i[t+36>>2]=+i[a+16>>2]+ +i[t+16>>2],i[a+32>>2]=-1,f0[e[(e[t>>2]|0)+68>>2]&127](a,t,a+32|0),e[a+16>>2]=e[a>>2],e[a+16+4>>2]=e[a+4>>2],e[a+16+8>>2]=e[a+8>>2],e[a+16+12>>2]=e[a+12>>2],i[t+20>>2]=+i[a+16>>2]-+i[t+16>>2],e[a+32>>2]=0,e[a+32+4>>2]=0,e[a+32+8>>2]=0,e[a+32+12>>2]=0,i[a+32+4>>2]=1,f0[e[(e[t>>2]|0)+68>>2]&127](a+16|0,t,a+32|0),i[t+40>>2]=+i[a+16+4>>2]+ +i[t+16>>2],i[a+32+4>>2]=-1,f0[e[(e[t>>2]|0)+68>>2]&127](a,t,a+32|0),e[a+16>>2]=e[a>>2],e[a+16+4>>2]=e[a+4>>2],e[a+16+8>>2]=e[a+8>>2],e[a+16+12>>2]=e[a+12>>2],i[t+24>>2]=+i[a+16+4>>2]-+i[t+16>>2],e[a+32>>2]=0,e[a+32+4>>2]=0,e[a+32+8>>2]=0,e[a+32+12>>2]=0,i[a+32+8>>2]=1,f0[e[(e[t>>2]|0)+68>>2]&127](a+16|0,t,a+32|0),i[t+44>>2]=+i[a+16+8>>2]+ +i[t+16>>2],i[a+32+8>>2]=-1,f0[e[(e[t>>2]|0)+68>>2]&127](a,t,a+32|0),e[a+16>>2]=e[a>>2],e[a+16+4>>2]=e[a+4>>2],e[a+16+8>>2]=e[a+8>>2],e[a+16+12>>2]=e[a+12>>2],i[t+28>>2]=+i[a+16+8>>2]-+i[t+16>>2]),e[t>>2]=4724,e[t+56>>2]=0,e[t+60>>2]=0,R[t+64>>0]=s&1,R[t+65>>0]=0,e[t+4>>2]=21,!o){H=a;return}e[5637]=(e[5637]|0)+1,o=Xe(191)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,e[o+52>>2]=284,R[o+60>>0]=0,R[o+80>>0]=1,e[o+76>>2]=0,e[o+68>>2]=0,e[o+72>>2]=0,R[o+100>>0]=1,e[o+96>>2]=0,e[o+88>>2]=0,e[o+92>>2]=0,R[o+120>>0]=1,e[o+116>>2]=0,e[o+108>>2]=0,e[o+112>>2]=0,R[o+140>>0]=1,e[o+136>>2]=0,e[o+128>>2]=0,e[o+132>>2]=0,e[o+144>>2]=0,R[o+164>>0]=1,e[o+160>>2]=0,e[o+152>>2]=0,e[o+156>>2]=0,e[o+168>>2]=0,e[o+4>>2]=-8388609,e[o+8>>2]=-8388609,e[o+12>>2]=-8388609,i[o+16>>2]=0,e[o+20>>2]=2139095039,e[o+24>>2]=2139095039,e[o+28>>2]=2139095039,i[o+32>>2]=0,e[o>>2]=6168,e[t+56>>2]=o,G6(o,e[t+52>>2]|0,(R[t+64>>0]|0)!=0,t+20|0,t+36|0),R[t+65>>0]=1,H=a}function bne(t){t=t|0,ye(t)}function Dne(t){t=t|0;var n=0;return n=H,H=H+t|0,H=H+15&-16,n|0}function Ine(){return H|0}function Pne(t){t=t|0,H=t}function Lne(t,n){t=t|0,n=n|0,H=t,mr=n}function kne(t,n){t=t|0,n=n|0,A8||(A8=t,mI=n)}function yge(t){t=t|0,R[Z>>0]=R[t>>0],R[Z+1>>0]=R[t+1>>0],R[Z+2>>0]=R[t+2>>0],R[Z+3>>0]=R[t+3>>0]}function vge(t){t=t|0,R[Z>>0]=R[t>>0],R[Z+1>>0]=R[t+1>>0],R[Z+2>>0]=R[t+2>>0],R[Z+3>>0]=R[t+3>>0],R[Z+4>>0]=R[t+4>>0],R[Z+5>>0]=R[t+5>>0],R[Z+6>>0]=R[t+6>>0],R[Z+7>>0]=R[t+7>>0]}function Fne(t){t=t|0,Ge=t}function Bne(){return Ge|0}function Xf(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,p=0,h=0;if(e[t>>2]=2552,ee[t+4>>1]=-2,ee[t+6>>1]=-1,e[t+92>>2]=a,e[t+96>>2]=0,R[t+100>>0]=0,e[t+104>>2]=0,e[t+108>>2]=0,a||(e[5637]=(e[5637]|0)+1,a=Xe(91)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,Kf(a),e[t+92>>2]=a,R[t+100>>0]=1),l||(e[5637]=(e[5637]|0)+1,a=Xe(43)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,e[a>>2]=2616,R[a+20>>0]=1,e[a+16>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[t+112>>2]=a,e[5637]=(e[5637]|0)+1,a=Xe(215)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,_m(a,e[t+112>>2]|0),e[t+108>>2]=a,R[a+193>>0]=1),e[t+8>>2]=e[n>>2],e[t+8+4>>2]=e[n+4>>2],e[t+8+8>>2]=e[n+8>>2],e[t+8+12>>2]=e[n+12>>2],e[t+24>>2]=e[s>>2],e[t+24+4>>2]=e[s+4>>2],e[t+24+8>>2]=e[s+8>>2],e[t+24+12>>2]=e[s+12>>2],h=+(Le[t+6>>1]|0),p=h/(+i[t+28>>2]-+i[t+12>>2]),u=h/(+i[t+32>>2]-+i[t+16>>2]),i[t+40>>2]=h/(+i[t+24>>2]-+i[t+8>>2]),i[t+44>>2]=p,i[t+48>>2]=u,i[t+52>>2]=0,n=(o&65535)+1&65535,e[5637]=(e[5637]|0)+1,a=Xe(n<<6|19)|0,a?(e[(a+4+15&-16)+-4>>2]=a,s=a+4+15&-16):s=0,n|0){a=s+(n<<6)|0,l=s;do e[l>>2]=0,e[l+8>>2]=0,l=l+64|0;while((l|0)!=(a|0))}if(e[t+60>>2]=s,ee[t+58>>1]=(o&65535)+1,ee[t+56>>1]=0,ee[t+64>>1]=1,n>>>0>1){a=1,l=1;do ee[s+(a<<6)+48>>1]=a+1,l=l+1<<16>>16,a=l&65535;while(a>>>0<n>>>0)}if(ee[s+(n+-1<<6)+48>>1]=0,e[5637]=(e[5637]|0)+1,a=Xe((n<<3|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[t+80>>2]=a,e[t+68>>2]=a,e[5637]=(e[5637]|0)+1,a=Xe((n<<3|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,e[t+84>>2]=a,e[t+72>>2]=a,e[5637]=(e[5637]|0)+1,a=Xe((n<<3|3)+16|0)|0,!a){s=0,o=t+88|0,e[o>>2]=s,o=t+76|0,e[o>>2]=s,s=e[t+60>>2]|0,e[s>>2]=0,n=s+48|0,ee[n>>1]=0,n=s+54|0,ee[n>>1]=1,n=e[t+68>>2]|0,ee[n>>1]=0,l=n+2|0,ee[l>>1]=0,l=ee[t+6>>1]|0,a=n+4|0,ee[a>>1]=l,n=n+6|0,ee[n>>1]=0,n=s+50|0,ee[n>>1]=0,n=s+56|0,ee[n>>1]=1,n=e[t+72>>2]|0,ee[n>>1]=0,a=n+2|0,ee[a>>1]=0,a=ee[t+6>>1]|0,l=n+4|0,ee[l>>1]=a,n=n+6|0,ee[n>>1]=0,n=s+52|0,ee[n>>1]=0,s=s+58|0,ee[s>>1]=1,o=e[o>>2]|0,ee[o>>1]=0,s=o+2|0,ee[s>>1]=0,s=ee[t+6>>1]|0,n=o+4|0,ee[n>>1]=s,o=o+6|0,ee[o>>1]=0,e[t>>2]=2488;return}e[(a+4+15&-16)+-4>>2]=a,s=a+4+15&-16,o=t+88|0,e[o>>2]=s,o=t+76|0,e[o>>2]=s,s=e[t+60>>2]|0,e[s>>2]=0,n=s+48|0,ee[n>>1]=0,n=s+54|0,ee[n>>1]=1,n=e[t+68>>2]|0,ee[n>>1]=0,l=n+2|0,ee[l>>1]=0,l=ee[t+6>>1]|0,a=n+4|0,ee[a>>1]=l,n=n+6|0,ee[n>>1]=0,n=s+50|0,ee[n>>1]=0,n=s+56|0,ee[n>>1]=1,n=e[t+72>>2]|0,ee[n>>1]=0,a=n+2|0,ee[a>>1]=0,a=ee[t+6>>1]|0,l=n+4|0,ee[l>>1]=a,n=n+6|0,ee[n>>1]=0,n=s+52|0,ee[n>>1]=0,s=s+58|0,ee[s>>1]=1,o=e[o>>2]|0,ee[o>>1]=0,s=o+2|0,ee[s>>1]=0,s=ee[t+6>>1]|0,n=o+4|0,ee[n>>1]=s,o=o+6|0,ee[o>>1]=0,e[t>>2]=2488}function yh(t){t=t|0;var n=0;e[t>>2]=2552,e[t+108>>2]|0&&(n=e[t+112>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+112>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+108>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+108>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0))),n=e[t+88>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+84>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+80>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),n=e[t+60>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),R[t+100>>0]|0&&(n=e[t+92>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+92>>2]|0,n&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)))}function Une(t){t=t|0,yh(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function One(t,n,s,o,a,l,u,p,h){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0;var d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0;if(D=H,H=H+16|0,$f(t,D+6|0,+i[n>>2],+i[n+4>>2],+i[n+8>>2],0),$f(t,D,+i[s>>2],+i[s+4>>2],+i[s+8>>2],1),E=ee[t+64>>1]|0,M=e[t+60>>2]|0,ee[t+64>>1]=ee[M+((E&65535)<<6)+48>>1]|0,d=(ee[t+56>>1]|0)+1<<16>>16,ee[t+56>>1]=d,e[M+((E&65535)<<6)+12>>2]=E&65535,e[M+((E&65535)<<6)>>2]=a,ee[M+((E&65535)<<6)+4>>1]=l,ee[M+((E&65535)<<6)+6>>1]=u,e[M+((E&65535)<<6)+8>>2]=h,g=(d&65535)<<1&65534,ee[M+54>>1]=(Le[M+54>>1]|0)+2,m=e[t+68>>2]|0,h=Le[m+(g+-1<<2)>>1]|Le[m+(g+-1<<2)+2>>1]<<16,ee[m+((g|1)<<2)>>1]=h,ee[m+((g|1)<<2)+2>>1]=h>>>16,m=e[t+68>>2]|0,ee[m+(g+-1<<2)>>1]=ee[D+6>>1]|0,ee[m+(g+-1<<2)+2>>1]=E,ee[m+(g<<2)>>1]=ee[D>>1]|0,ee[m+(g<<2)+2>>1]=E,ee[M+((E&65535)<<6)+48>>1]=g+-1,ee[M+((E&65535)<<6)+54>>1]=(d&65535)<<1,m=(e[t+60>>2]|0)+56|0,ee[m>>1]=(Le[m>>1]|0)+2,m=e[t+72>>2]|0,h=Le[m+(g+-1<<2)>>1]|Le[m+(g+-1<<2)+2>>1]<<16,ee[m+((g|1)<<2)>>1]=h,ee[m+((g|1)<<2)+2>>1]=h>>>16,m=e[t+72>>2]|0,ee[m+(g+-1<<2)>>1]=ee[D+6+2>>1]|0,ee[m+(g+-1<<2)+2>>1]=E,ee[m+(g<<2)>>1]=ee[D+2>>1]|0,ee[m+(g<<2)+2>>1]=E,ee[M+((E&65535)<<6)+50>>1]=g+-1,ee[M+((E&65535)<<6)+56>>1]=(d&65535)<<1,m=(e[t+60>>2]|0)+58|0,ee[m>>1]=(Le[m>>1]|0)+2,m=e[t+76>>2]|0,h=Le[m+(g+-1<<2)>>1]|Le[m+(g+-1<<2)+2>>1]<<16,ee[m+((g|1)<<2)>>1]=h,ee[m+((g|1)<<2)+2>>1]=h>>>16,m=e[t+76>>2]|0,ee[m+(g+-1<<2)>>1]=ee[D+6+4>>1]|0,ee[m+(g+-1<<2)+2>>1]=E,ee[m+(g<<2)>>1]=ee[D+4>>1]|0,ee[m+(g<<2)+2>>1]=E,ee[M+((E&65535)<<6)+52>>1]=g+-1,ee[M+((E&65535)<<6)+58>>1]=(d&65535)<<1,d=e[t+68>>2]|0,g=Le[M+((E&65535)<<6)+48>>1]|0,m=e[t+60>>2]|0,h=ee[d+(g<<2)+-4>>1]|0,(Le[d+(g<<2)>>1]|0)<(h&65535)){for(C=m+((Le[d+(g<<2)+2>>1]|0)<<6)+48|0,S=d+(g<<2)|0,g=d+(g<<2)+-4|0;d=Le[S+-2>>1]|0,h&1?(w=m+(d<<6)+54|0,ee[w>>1]=(ee[w>>1]|0)+1<<16>>16):(w=m+(d<<6)+48|0,ee[w>>1]=(ee[w>>1]|0)+1<<16>>16),ee[C>>1]=(ee[C>>1]|0)+-1<<16>>16,d=Le[S>>1]|Le[S+2>>1]<<16,h=Le[g>>1]|Le[g+2>>1]<<16,ee[S>>1]=h,ee[S+2>>1]=h>>>16,ee[g>>1]=d,ee[g+2>>1]=d>>>16,d=S+-4|0,g=g+-4|0,h=ee[g>>1]|0,!((Le[d>>1]|0)>=(h&65535));)m=e[t+60>>2]|0,S=d;d=e[t+68>>2]|0}h=Le[M+((E&65535)<<6)+54>>1]|0,g=d+(h<<2)|0,m=ee[g+-4>>1]|0;e:do if((Le[g>>1]|0)<(m&65535))for(C=e[t+60>>2]|0,w=C+((Le[d+(h<<2)+2>>1]|0)<<6)+54|0,h=m,S=g,m=g+-4|0;;){if(d=Le[S+-2>>1]|0,h&1?(C=C+(d<<6)+54|0,ee[C>>1]=(ee[C>>1]|0)+1<<16>>16):(C=C+(d<<6)+48|0,ee[C>>1]=(ee[C>>1]|0)+1<<16>>16),ee[w>>1]=(ee[w>>1]|0)+-1<<16>>16,d=Le[S>>1]|Le[S+2>>1]<<16,h=Le[m>>1]|Le[m+2>>1]<<16,ee[S>>1]=h,ee[S+2>>1]=h>>>16,ee[m>>1]=d,ee[m+2>>1]=d>>>16,d=S+-4|0,m=m+-4|0,h=ee[m>>1]|0,(Le[d>>1]|0)>=(h&65535))break e;C=e[t+60>>2]|0,S=d}while(!1);if(d=e[t+72>>2]|0,g=Le[M+((E&65535)<<6)+50>>1]|0,m=e[t+60>>2]|0,h=ee[d+(g<<2)+-4>>1]|0,(Le[d+(g<<2)>>1]|0)<(h&65535)){for(C=m+((Le[d+(g<<2)+2>>1]|0)<<6)+50|0,S=d+(g<<2)|0,g=d+(g<<2)+-4|0;d=Le[S+-2>>1]|0,h&1?(w=m+(d<<6)+56|0,ee[w>>1]=(ee[w>>1]|0)+1<<16>>16):(w=m+(d<<6)+50|0,ee[w>>1]=(ee[w>>1]|0)+1<<16>>16),ee[C>>1]=(ee[C>>1]|0)+-1<<16>>16,d=Le[S>>1]|Le[S+2>>1]<<16,h=Le[g>>1]|Le[g+2>>1]<<16,ee[S>>1]=h,ee[S+2>>1]=h>>>16,ee[g>>1]=d,ee[g+2>>1]=d>>>16,d=S+-4|0,g=g+-4|0,h=ee[g>>1]|0,!((Le[d>>1]|0)>=(h&65535));)m=e[t+60>>2]|0,S=d;d=e[t+72>>2]|0}h=Le[M+((E&65535)<<6)+56>>1]|0,g=d+(h<<2)|0,m=ee[g+-4>>1]|0;e:do if((Le[g>>1]|0)<(m&65535))for(C=e[t+60>>2]|0,w=C+((Le[d+(h<<2)+2>>1]|0)<<6)+56|0,h=m,S=g,m=g+-4|0;;){if(d=Le[S+-2>>1]|0,h&1?(C=C+(d<<6)+56|0,ee[C>>1]=(ee[C>>1]|0)+1<<16>>16):(C=C+(d<<6)+50|0,ee[C>>1]=(ee[C>>1]|0)+1<<16>>16),ee[w>>1]=(ee[w>>1]|0)+-1<<16>>16,d=Le[S>>1]|Le[S+2>>1]<<16,h=Le[m>>1]|Le[m+2>>1]<<16,ee[S>>1]=h,ee[S+2>>1]=h>>>16,ee[m>>1]=d,ee[m+2>>1]=d>>>16,d=S+-4|0,m=m+-4|0,h=ee[m>>1]|0,(Le[d>>1]|0)>=(h&65535))break e;C=e[t+60>>2]|0,S=d}while(!1);return om(t,2,ee[M+((E&65535)<<6)+52>>1]|0),am(t,2,ee[M+((E&65535)<<6)+58>>1]|0,p),d=e[t+60>>2]|0,h=e[t+108>>2]|0,h?(e[d+((E&65535)<<6)+60>>2]=bh[e[(e[h>>2]|0)+8>>2]&3](h,n,s,o,a,l,u,p,0)|0,a=d+((E&65535)<<6)|0,H=D,a|0):(a=d+((E&65535)<<6)|0,H=D,a|0)}function Gne(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;o=e[t+108>>2]|0,o|0&&f0[e[(e[o>>2]|0)+12>>2]&127](o,e[n+60>>2]|0,s),C=e[n+12>>2]|0,S=e[t+60>>2]|0,g=e[t+92>>2]|0,Tt[e[(e[g>>2]|0)+56>>2]&127](g)|0||(g=e[t+92>>2]|0,f0[e[(e[g>>2]|0)+16>>2]&127](g,S+((C&65535)<<6)|0,s)),d=Le[t+56>>1]|0,o=e[t+60>>2]|0,ee[o+54>>1]=(Le[o+54>>1]|0)+65534,ee[o+56>>1]=(Le[o+56>>1]|0)+65534,ee[o+58>>1]=(Le[o+58>>1]|0)+65534,o=ee[t+6>>1]|0,g=0;do{if(h=t+68+(g<<2)|0,m=e[h>>2]|0,s=Le[S+((C&65535)<<6)+54+(g<<1)>>1]|0,ee[m+(s<<2)>>1]=o,n=ee[m+(s<<2)+6>>1]|0,!(n<<16>>16))s=m;else{for(p=(e[t+60>>2]|0)+((Le[m+(s<<2)+2>>1]|0)<<6)+54+(g<<1)|0,l=m+(s<<2)|0;u=l,l=l+4|0,a=ee[l>>1]|0,!((o&65535)<(a&65535));)if(s=e[t+60>>2]|0,o=n&65535,a&1?(a=s+(o<<6)+54+(g<<1)|0,ee[a>>1]=(ee[a>>1]|0)+-1<<16>>16):(a=s+(o<<6)+48+(g<<1)|0,ee[a>>1]=(ee[a>>1]|0)+-1<<16>>16),ee[p>>1]=(ee[p>>1]|0)+1<<16>>16,o=Le[u>>1]|Le[u+2>>1]<<16,n=Le[l>>1]|Le[l+2>>1]<<16,ee[u>>1]=n,ee[u+2>>1]=n>>>16,ee[l>>1]=o,ee[l+2>>1]=o>>>16,n=ee[u+10>>1]|0,n<<16>>16)o=o&65535;else break;o=ee[t+6>>1]|0,s=e[h>>2]|0}if(n=Le[S+((C&65535)<<6)+48+(g<<1)>>1]|0,ee[m+(n<<2)>>1]=o,l=s+(n<<2)|0,a=ee[l+6>>1]|0,a<<16>>16){for(p=(e[t+60>>2]|0)+((Le[s+(n<<2)+2>>1]|0)<<6)+48+(g<<1)|0,o=ee[l>>1]|0;u=l,l=l+4|0,s=ee[l>>1]|0,!((o&65535)<(s&65535));)if(n=e[t+60>>2]|0,o=a&65535,s&1?(h=n+(o<<6)+54+(g<<1)|0,ee[h>>1]=(ee[h>>1]|0)+-1<<16>>16):(h=n+(o<<6)+48+(g<<1)|0,ee[h>>1]=(ee[h>>1]|0)+-1<<16>>16),ee[p>>1]=(ee[p>>1]|0)+1<<16>>16,o=Le[u>>1]|Le[u+2>>1]<<16,a=Le[l>>1]|Le[l+2>>1]<<16,ee[u>>1]=a,ee[u+2>>1]=a>>>16,ee[l>>1]=o,ee[l+2>>1]=o>>>16,a=ee[u+10>>1]|0,a<<16>>16)o=o&65535;else break;o=ee[t+6>>1]|0}ee[m+((d<<1)+-1<<2)+2>>1]=0,ee[m+((d<<1)+-1<<2)>>1]=o,g=g+1|0}while((g|0)!=3);ee[(e[t+60>>2]|0)+((C&65535)<<6)+48>>1]=ee[t+64>>1]|0,ee[t+64>>1]=C,ee[t+56>>1]=(ee[t+56>>1]|0)+-1<<16>>16}function Vne(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0;q=H,H=H+16|0,e[n+16>>2]=e[s>>2],e[n+16+4>>2]=e[s+4>>2],e[n+16+8>>2]=e[s+8>>2],e[n+16+12>>2]=e[s+12>>2],e[n+32>>2]=e[o>>2],e[n+32+4>>2]=e[o+4>>2],e[n+32+8>>2]=e[o+8>>2],e[n+32+12>>2]=e[o+12>>2],G=e[t+60>>2]|0,O=e[n+12>>2]&65535,$f(t,q+6|0,+i[s>>2],+i[s+4>>2],+i[s+8>>2],0),$f(t,q,+i[o>>2],+i[o+4>>2],+i[o+8>>2],1),$=0;do{w=ee[G+(O<<6)+48+($<<1)>>1]|0,D=ee[G+(O<<6)+54+($<<1)>>1]|0,g=ee[q+6+($<<1)>>1]|0,u=t+68+($<<2)|0,C=e[u>>2]|0,p=(g&65535)-(Le[C+((w&65535)<<2)>>1]|0)|0,S=ee[q+($<<1)>>1]|0,B=(S&65535)-(Le[C+((D&65535)<<2)>>1]|0)|0,ee[C+((w&65535)<<2)>>1]=g,ee[C+((D&65535)<<2)>>1]=S,(p|0)<0&&om(t,$,w);e:do if((B|0)>0&&(L=e[u>>2]|0,F=e[t+60>>2]|0,P=Le[L+((D&65535)<<2)+2>>1]|0,U=ee[L+((D&65535)<<2)+6>>1]|0,U<<16>>16)){h=1<<$&3,d=F+(P<<6)+54+($<<1)|0,l=U,S=L+((D&65535)<<2)|0;do{if(C=S,S=S+4|0,m=ee[S>>1]|0,(Le[C>>1]|0)<(m&65535))break e;g=e[t+60>>2]|0,l=l&65535,m&1?(g=g+(l<<6)+54+($<<1)|0,ee[g>>1]=(ee[g>>1]|0)+-1<<16>>16):((Le[F+(P<<6)+54+(h<<1)>>1]|0)>=(Le[g+(l<<6)+48+(h<<1)>>1]|0)&&(Le[g+(l<<6)+54+(h<<1)>>1]|0)>=(Le[F+(P<<6)+48+(h<<1)>>1]|0)&&(Le[F+(P<<6)+54+((1<<h&3)<<1)>>1]|0)>=(Le[g+(l<<6)+48+((1<<h&3)<<1)>>1]|0)&&(Le[g+(l<<6)+54+((1<<h&3)<<1)>>1]|0)>=(Le[F+(P<<6)+48+((1<<h&3)<<1)>>1]|0)&&(Y=e[t+92>>2]|0,z=g+((Le[C+2>>1]|0)<<6)|0,G0[e[(e[Y>>2]|0)+8>>2]&63](Y,z,g+(l<<6)|0)|0,Y=e[t+96>>2]|0,Y|0)&&G0[e[(e[Y>>2]|0)+8>>2]&63](Y,z,g+(l<<6)|0)|0,g=g+(l<<6)+48+($<<1)|0,ee[g>>1]=(ee[g>>1]|0)+-1<<16>>16),ee[d>>1]=(ee[d>>1]|0)+1<<16>>16,l=Le[C>>1]|Le[C+2>>1]<<16,g=Le[S>>1]|Le[S+2>>1]<<16,ee[C>>1]=g,ee[C+2>>1]=g>>>16,ee[S>>1]=l,ee[S+2>>1]=l>>>16,l=ee[C+10>>1]|0}while(l<<16>>16!=0)}while(!1);e:do if((p|0)>0&&(M=e[u>>2]|0,E=ee[M+((w&65535)<<2)+6>>1]|0,E<<16>>16)){m=(e[t+60>>2]|0)+((Le[M+((w&65535)<<2)+2>>1]|0)<<6)+48+($<<1)|0,g=1<<$&3,u=E,h=M+((w&65535)<<2)|0;do{if(d=h,h=h+4|0,l=ee[h>>1]|0,(Le[d>>1]|0)<(l&65535))break e;p=e[t+60>>2]|0,u=u&65535,l&1?(l=Le[d+2>>1]|0,(Le[p+(l<<6)+54+(g<<1)>>1]|0)>=(Le[p+(u<<6)+48+(g<<1)>>1]|0)&&(Le[p+(u<<6)+54+(g<<1)>>1]|0)>=(Le[p+(l<<6)+48+(g<<1)>>1]|0)&&(Le[p+(l<<6)+54+((1<<g&3)<<1)>>1]|0)>=(Le[p+(u<<6)+48+((1<<g&3)<<1)>>1]|0)&&(Le[p+(u<<6)+54+((1<<g&3)<<1)>>1]|0)>=(Le[p+(l<<6)+48+((1<<g&3)<<1)>>1]|0)&&(b=e[t+92>>2]|0,q2[e[(e[b>>2]|0)+12>>2]&31](b,p+(l<<6)|0,p+(u<<6)|0,a)|0,b=e[t+96>>2]|0,b|0)&&q2[e[(e[b>>2]|0)+12>>2]&31](b,p+(l<<6)|0,p+(u<<6)|0,a)|0,w=p+(u<<6)+54+($<<1)|0,ee[w>>1]=(ee[w>>1]|0)+-1<<16>>16):(w=p+(u<<6)+48+($<<1)|0,ee[w>>1]=(ee[w>>1]|0)+-1<<16>>16),ee[m>>1]=(ee[m>>1]|0)+1<<16>>16,u=Le[d>>1]|Le[d+2>>1]<<16,w=Le[h>>1]|Le[h+2>>1]<<16,ee[d>>1]=w,ee[d+2>>1]=w>>>16,ee[h>>1]=u,ee[h+2>>1]=u>>>16,u=ee[d+10>>1]|0}while(u<<16>>16!=0)}while(!1);(B|0)<0&&am(t,$,D,a),$=$+1|0}while(($|0)!=3);if(l=e[t+108>>2]|0,!l){H=q;return}Zi[e[(e[l>>2]|0)+16>>2]&31](l,e[n+60>>2]|0,s,o,a),H=q}function zne(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,e[s>>2]=e[n+16>>2],e[s+4>>2]=e[n+16+4>>2],e[s+8>>2]=e[n+16+8>>2],e[s+12>>2]=e[n+16+12>>2],e[o>>2]=e[n+32>>2],e[o+4>>2]=e[n+32+4>>2],e[o+8>>2]=e[n+32+8>>2],e[o+12>>2]=e[n+32+12>>2]}function Wne(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0;if(u=e[t+108>>2]|0,u|0){Ro[e[(e[u>>2]|0)+24>>2]&7](u,n,s,o,a,l);return}if(u=ee[t+56>>1]|0,!((u&65535)<<1>>>0<=1)){n=1,a=1;do l=e[t+68>>2]|0,ee[l+(n<<2)>>1]&1&&(I0[e[(e[o>>2]|0)+8>>2]&31](o,(e[t+60>>2]|0)+((Le[l+(n<<2)+2>>1]|0)<<6)|0)|0,u=ee[t+56>>1]|0),a=a+1<<16>>16,n=a&65535;while(n>>>0<((u&65535)<<1|1)>>>0)}}function Hne(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0;if(a=e[t+108>>2]|0,a|0){Kt[e[(e[a>>2]|0)+28>>2]&127](a,n,s,o);return}if(a=ee[t+56>>1]|0,!((a&65535)<<1>>>0<=1)){u=1,h=1;do l=e[t+68>>2]|0,ee[l+(u<<2)>>1]&1&&(p=e[t+60>>2]|0,u=Le[l+(u<<2)+2>>1]|0,!(+i[n>>2]>+i[p+(u<<6)+32>>2])&&!(+i[s>>2]<+i[p+(u<<6)+16>>2])?l=1:l=0,!(+i[n+8>>2]>+i[p+(u<<6)+40>>2])&&!(+i[s+8>>2]<+i[p+(u<<6)+24>>2])||(l=0),!(+i[n+4>>2]>+i[p+(u<<6)+36>>2])&&!(+i[s+4>>2]<+i[p+(u<<6)+20>>2]|l^1)&&(I0[e[(e[o>>2]|0)+8>>2]&31](o,p+(u<<6)|0)|0,a=ee[t+56>>1]|0)),h=h+1<<16>>16,u=h&65535;while(u>>>0<((a&65535)<<1|1)>>>0)}}function jne(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;if(S=H,H=H+32|0,g=e[t+92>>2]|0,!(Tt[e[(e[g>>2]|0)+56>>2]&127](g)|0)){H=S;return}if(g=e[t+92>>2]|0,g=Tt[e[(e[g>>2]|0)+28>>2]&127](g)|0,s=e[g+4>>2]|0,(s|0)>1&&(gc(g,0,s+-1|0),s=e[g+4>>2]|0),o=s-(e[t+104>>2]|0)|0,e[S+16>>2]=0,e[S+16+4>>2]=0,e[S+16+8>>2]=0,e[S+16+12>>2]=0,cm(g,o,S+16|0),e[t+104>>2]=0,o=e[g+4>>2]|0,(o|0)>0){for(s=0,h=0,d=0,l=0;p=e[g+12>>2]|0,u=p+(h<<4)|0,C=d,d=e[u>>2]|0,p=p+(h<<4)+4|0,a=e[p>>2]|0,(d|0)==(C|0)&(a|0)==(l|0)?(a=l,m=13):(C=d+54|0,l=d+48|0,(Le[C>>1]|0)>=(Le[a+48>>1]|0)&&(Le[a+54>>1]|0)>=(Le[l>>1]|0)&&(Le[C+2>>1]|0)>=(Le[a+48+2>>1]|0)&&(Le[a+54+2>>1]|0)>=(Le[l+2>>1]|0)&&(Le[C+4>>1]|0)>=(Le[a+52>>1]|0)&&(Le[a+54+4>>1]|0)>=(Le[d+52>>1]|0)||(m=13)),(m|0)==13&&(m=0,s=e[t+92>>2]|0,f0[e[(e[s>>2]|0)+32>>2]&127](s,u,n),e[u>>2]=0,e[p>>2]=0,s=(e[t+104>>2]|0)+1|0,e[t+104>>2]=s,e[4984]=(e[4984]|0)+-1,o=e[g+4>>2]|0),h=h+1|0,!((h|0)>=(o|0));)l=a;(o|0)>1&&(gc(g,0,o+-1|0),o=e[g+4>>2]|0,s=e[t+104>>2]|0)}else s=0;e[S>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,e[S+12>>2]=0,cm(g,o-s|0,S),e[t+104>>2]=0,H=S}function qne(t){return t=t|0,e[t+92>>2]|0}function Xne(t){return t=t|0,e[t+92>>2]|0}function $ne(t,n,s){t=t|0,n=n|0,s=s|0,e[n>>2]=e[t+8>>2],e[n+4>>2]=e[t+8+4>>2],e[n+8>>2]=e[t+8+8>>2],e[n+12>>2]=e[t+8+12>>2],e[s>>2]=e[t+24>>2],e[s+4>>2]=e[t+24+4>>2],e[s+8>>2]=e[t+24+8>>2],e[s+12>>2]=e[t+24+12>>2]}function Yne(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;if(n=e[t+56>>2]|0,!((n&65535)<<16>>16)){if(ee[t+64>>1]=1,a=e[t+60>>2]|0,(n>>>16&65535)>1)for(s=1,n=1;ee[a+(s<<6)+48>>1]=s+1,o=n+1<<16>>16,n=ee[t+58>>1]|0,(o&65535)<(n&65535);)s=o&65535,n=o;else n=n>>>16&65535;ee[a+((n&65535)+-1<<6)+48>>1]=0}}function Kne(t){t=t|0}function Sge(t){t=t|0;var n=0,s=0;s=H,H=H+32|0,gI(t|0)|0,b8(23316,3)|0&&wo(19340,s),t=N8(e[5830]|0)|0,t|0&&(n=e[t>>2]|0,n|0)&&(e[n+48>>2]&-256|0)==1126902528&&(e[n+48+4>>2]|0)==1129074247&&(g2[e[n+12>>2]&3](),wo(19664,s+8|0)),n=e[2054]|0,e[2054]=n+0,g2[n&3](),wo(19664,s+16|0)}function Zne(t){t=t|0,yh(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Qne(t){t=t|0;var n=0;e[t>>2]=2616,n=e[t+16>>2]|0,n|0&&(R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0),R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0}function Jne(t){t=t|0;var n=0;if(e[t>>2]=2616,n=e[t+16>>2]|0,!n){ye(t);return}if(!(R[t+20>>0]|0)){ye(t);return}e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),ye(t)}function e2e(t,n,s){return t=t|0,n=n|0,s=s|0,0}function t2e(t,n,s,o){return t=t|0,n=n|0,s=s|0,o=o|0,0}function i2e(t,n,s){t=t|0,n=n|0,s=s|0}function n2e(t){return t=t|0,e[t+16>>2]|0}function r2e(t){return t=t|0,e[t+16>>2]|0}function s2e(t){return t=t|0,t+4|0}function o2e(t,n,s){t=t|0,n=n|0,s=s|0}function a2e(t){return t=t|0,0}function c2e(t,n,s){t=t|0,n=n|0,s=s|0}function l2e(t,n){t=t|0,n=n|0}function u2e(t,n,s){t=t|0,n=n|0,s=s|0}function f2e(t,n,s){return t=t|0,n=n|0,s=s|0,0}function _2e(t){return t=t|0,1}function p2e(t,n){t=t|0,n=n|0}function h2e(t,n){t=t|0,n=n|0}function $f(t,n,s,o,a,l){t=t|0,n=n|0,s=+s,o=+o,a=+a,l=l|0;var u=0,p=0;s=(s-+i[t+8>>2])*+i[t+40>>2],o=(o-+i[t+12>>2])*+i[t+44>>2],a=(a-+i[t+16>>2])*+i[t+48>>2];do if(s<=0)u=l;else if(u=ee[t+6>>1]|0,p=ee[t+4>>1]|0,s>=+(u&65535)){u=p&u&65535|l;break}else{u=p&(~~s&65535)&65535|l;break}while(!1);ee[n>>1]=u;do if(o<=0)u=l;else if(u=ee[t+6>>1]|0,p=ee[t+4>>1]|0,o>=+(u&65535)){u=p&u&65535|l;break}else{u=p&(~~o&65535)&65535|l;break}while(!1);if(ee[n+2>>1]=u,a<=0){l=l&65535,n=n+4|0,ee[n>>1]=l;return}if(p=ee[t+6>>1]|0,u=ee[t+4>>1]|0,a>=+(p&65535)){l=u&p&65535|l,l=l&65535,n=n+4|0,ee[n>>1]=l;return}else{l=u&(~~a&65535)&65535|l,l=l&65535,n=n+4|0,ee[n>>1]=l;return}}function om(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;if(a=e[t+68+(n<<2)>>2]|0,d=e[t+60>>2]|0,m=Le[a+((s&65535)<<2)+2>>1]|0,o=ee[a+((s&65535)<<2)+-4>>1]|0,!((Le[a+((s&65535)<<2)>>1]|0)>=(o&65535)))for(u=d,l=a+((s&65535)<<2)|0,s=a+((s&65535)<<2)+-4|0;a=Le[l+-2>>1]|0,o&1?((Le[d+(m<<6)+54+((1<<n&3)<<1)>>1]|0)>=(Le[u+(a<<6)+48+((1<<n&3)<<1)>>1]|0)&&(Le[u+(a<<6)+54+((1<<n&3)<<1)>>1]|0)>=(Le[d+(m<<6)+48+((1<<n&3)<<1)>>1]|0)&&(Le[d+(m<<6)+54+((1<<(1<<n&3)&3)<<1)>>1]|0)>=(Le[u+(a<<6)+48+((1<<(1<<n&3)&3)<<1)>>1]|0)&&(Le[u+(a<<6)+54+((1<<(1<<n&3)&3)<<1)>>1]|0)>=(Le[d+(m<<6)+48+((1<<(1<<n&3)&3)<<1)>>1]|0)&&(h=e[t+92>>2]|0,p=u+(a<<6)|0,G0[e[(e[h>>2]|0)+8>>2]&63](h,d+(m<<6)|0,p)|0,h=e[t+96>>2]|0,h|0)&&G0[e[(e[h>>2]|0)+8>>2]&63](h,d+(m<<6)|0,p)|0,u=u+(a<<6)+54+(n<<1)|0,ee[u>>1]=(ee[u>>1]|0)+1<<16>>16):(u=u+(a<<6)+48+(n<<1)|0,ee[u>>1]=(ee[u>>1]|0)+1<<16>>16),ee[d+(m<<6)+48+(n<<1)>>1]=(ee[d+(m<<6)+48+(n<<1)>>1]|0)+-1<<16>>16,a=Le[l>>1]|Le[l+2>>1]<<16,o=Le[s>>1]|Le[s+2>>1]<<16,ee[l>>1]=o,ee[l+2>>1]=o>>>16,ee[s>>1]=a,ee[s+2>>1]=a>>>16,a=l+-4|0,s=s+-4|0,o=ee[s>>1]|0,!((Le[a>>1]|0)>=(o&65535));)u=e[t+60>>2]|0,l=a}function am(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0;if(l=e[t+68+(n<<2)>>2]|0,a=ee[l+((s&65535)<<2)+-4>>1]|0,!((Le[l+((s&65535)<<2)>>1]|0)>=(a&65535)))for(p=e[t+60>>2]|0,h=p+((Le[l+((s&65535)<<2)+2>>1]|0)<<6)+54+(n<<1)|0,u=l+((s&65535)<<2)|0,s=l+((s&65535)<<2)+-4|0;l=Le[u+-2>>1]|0,a&1?(p=p+(l<<6)+54+(n<<1)|0,ee[p>>1]=(ee[p>>1]|0)+1<<16>>16):(a=Le[u+2>>1]|0,(Le[p+(a<<6)+54+((1<<n&3)<<1)>>1]|0)>=(Le[p+(l<<6)+48+((1<<n&3)<<1)>>1]|0)&&(Le[p+(l<<6)+54+((1<<n&3)<<1)>>1]|0)>=(Le[p+(a<<6)+48+((1<<n&3)<<1)>>1]|0)&&(Le[p+(a<<6)+54+((1<<(1<<n&3)&3)<<1)>>1]|0)>=(Le[p+(l<<6)+48+((1<<(1<<n&3)&3)<<1)>>1]|0)&&(Le[p+(l<<6)+54+((1<<(1<<n&3)&3)<<1)>>1]|0)>=(Le[p+(a<<6)+48+((1<<(1<<n&3)&3)<<1)>>1]|0)&&(g=e[t+92>>2]|0,d=p+(a<<6)|0,m=p+(l<<6)|0,q2[e[(e[g>>2]|0)+12>>2]&31](g,d,m,o)|0,g=e[t+96>>2]|0,g|0)&&q2[e[(e[g>>2]|0)+12>>2]&31](g,d,m,o)|0,p=p+(l<<6)+48+(n<<1)|0,ee[p>>1]=(ee[p>>1]|0)+1<<16>>16),ee[h>>1]=(ee[h>>1]|0)+-1<<16>>16,l=Le[u>>1]|Le[u+2>>1]<<16,a=Le[s>>1]|Le[s+2>>1]<<16,ee[u>>1]=a,ee[u+2>>1]=a>>>16,ee[s>>1]=l,ee[s+2>>1]=l>>>16,l=u+-4|0,s=s+-4|0,a=ee[s>>1]|0,!((Le[l>>1]|0)>=(a&65535));)p=e[t+60>>2]|0,u=l}function cm(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0;if(u=e[t+4>>2]|0,(u|0)>=(n|0)){e[t+4>>2]=n;return}if((e[t+8>>2]|0)<(n|0)){if(n?(e[5637]=(e[5637]|0)+1,o=Xe((n<<4|3)+16|0)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+4>>2]|0):(o=0,a=u),(a|0)>0){l=0;do p=e[t+12>>2]|0,e[o+(l<<4)>>2]=e[p+(l<<4)>>2],e[o+(l<<4)+4>>2]=e[p+(l<<4)+4>>2],e[o+(l<<4)+8>>2]=e[p+(l<<4)+8>>2],e[o+(l<<4)+12>>2]=e[p+(l<<4)+12>>2],l=l+1|0;while((l|0)!=(a|0))}a=e[t+12>>2]|0,a|0&&(R[t+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+12>>2]=0),R[t+16>>0]=1,e[t+12>>2]=o,e[t+8>>2]=n,a=t+12|0}else a=t+12|0;o=u;do p=e[a>>2]|0,e[p+(o<<4)>>2]=e[s>>2],e[p+(o<<4)+4>>2]=e[s+4>>2],e[p+(o<<4)+8>>2]=e[s+8>>2],e[p+(o<<4)+12>>2]=e[s+12>>2],o=o+1|0;while((o|0)!=(n|0));e[t+4>>2]=n}function gc(t,n,s){t=t|0,n=n|0,s=s|0;for(var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;;){for(w=(n+s|0)/2|0,g=e[t+12>>2]|0,S=e[g+(w<<4)>>2]|0,C=e[g+(w<<4)+4>>2]|0,w=e[g+(w<<4)+8>>2]|0,o=n,a=s;;){e:do if(S){if(m=e[S+12>>2]|0,!C)for(;;){p=e[g+(o<<4)>>2]|0,p?l=e[p+12>>2]|0:l=-1,h=e[g+(o<<4)+4>>2]|0,h?u=e[h+12>>2]|0:u=-1;do if((l|0)<=(m|0)){if(l=(u|0)>-1,l|(p|0)==(S|0)^1){if((p|0)==(S|0)&l)break;break e}if(h|0||(e[g+(o<<4)+8>>2]|0)>>>0<=w>>>0)break e}while(!1);o=o+1|0}for(d=e[C+12>>2]|0;;){p=e[g+(o<<4)>>2]|0,p?l=e[p+12>>2]|0:l=-1,h=e[g+(o<<4)+4>>2]|0,h?u=e[h+12>>2]|0:u=-1;do if((l|0)<=(m|0)){if(l=(u|0)>(d|0),l|(p|0)==(S|0)^1){if((p|0)==(S|0)&l)break;break e}if((h|0)!=(C|0)||(e[g+(o<<4)+8>>2]|0)>>>0<=w>>>0)break e}while(!1);o=o+1|0}}else for(;;){h=e[g+(o<<4)>>2]|0,h?l=e[h+12>>2]|0:l=-1,d=e[g+(o<<4)+4>>2]|0,d?u=e[d+12>>2]|0:u=-1,C?p=e[C+12>>2]|0:p=-1;do if((l|0)<=-1){if(l=(u|0)>(p|0),l|(h|0)==0^1){if((h|0)==0&l)break;break e}if((d|0)!=(C|0)||(e[g+(o<<4)+8>>2]|0)>>>0<=w>>>0)break e}while(!1);o=o+1|0}while(!1);e:do if(S){if(m=e[S+12>>2]|0,!C)for(;;){p=e[g+(a<<4)>>2]|0,p?l=e[p+12>>2]|0:l=-1,h=e[g+(a<<4)+4>>2]|0,h?u=e[h+12>>2]|0:u=-1;do if((m|0)<=(l|0)){if(l=(u|0)<-1,l|(S|0)==(p|0)^1){if((S|0)==(p|0)&l)break;break e}if(h|0||w>>>0<=(e[g+(a<<4)+8>>2]|0)>>>0)break e}while(!1);a=a+-1|0}for(d=e[C+12>>2]|0;;){p=e[g+(a<<4)>>2]|0,p?l=e[p+12>>2]|0:l=-1,h=e[g+(a<<4)+4>>2]|0,h?u=e[h+12>>2]|0:u=-1;do if((m|0)<=(l|0)){if(l=(d|0)>(u|0),l|(S|0)==(p|0)^1){if((S|0)==(p|0)&l)break;break e}if((C|0)!=(h|0)||w>>>0<=(e[g+(a<<4)+8>>2]|0)>>>0)break e}while(!1);a=a+-1|0}}else for(;;){h=e[g+(a<<4)>>2]|0,h?l=e[h+12>>2]|0:l=-1,C?u=e[C+12>>2]|0:u=-1,d=e[g+(a<<4)+4>>2]|0,d?p=e[d+12>>2]|0:p=-1;do if((l|0)>=-1){if(l=(u|0)>(p|0),l|(h|0)==0^1){if((h|0)==0&l)break;break e}if((C|0)!=(d|0)||w>>>0<=(e[g+(a<<4)+8>>2]|0)>>>0)break e}while(!1);a=a+-1|0}while(!1);if((o|0)<=(a|0)&&(u=g+(o<<4)|0,p=e[u>>2]|0,h=e[g+(o<<4)+4>>2]|0,d=e[g+(o<<4)+8>>2]|0,m=e[g+(o<<4)+12>>2]|0,g=g+(a<<4)|0,e[u>>2]=e[g>>2],e[u+4>>2]=e[g+4>>2],e[u+8>>2]=e[g+8>>2],e[u+12>>2]=e[g+12>>2],g=e[t+12>>2]|0,e[g+(a<<4)>>2]=p,e[g+(a<<4)+4>>2]=h,e[g+(a<<4)+8>>2]=d,e[g+(a<<4)+12>>2]=m,o=o+1|0,a=a+-1|0),(o|0)>(a|0))break;g=e[t+12>>2]|0}if((a|0)>(n|0)&&gc(t,n,a),(o|0)<(s|0))n=o;else break}}function d2e(t){t=t|0}function vh(t){t=t|0;var n=0;if(n=e[t>>2]|0,n|0&&ou(t,n),n=e[t+4>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+4>>2]=0,e[t+8>>2]=-1,n=e[t+32>>2]|0,n|0&&(R[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+32>>2]=0),R[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0,e[t+16>>2]=0,n=e[t+52>>2]|0,!n){R[t+56>>0]=1,e[t+52>>2]=0,e[t+44>>2]=0,e[t+48>>2]=0,R[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0;return}if(!(R[t+56>>0]|0)){R[t+56>>0]=1,e[t+52>>2]=0,e[t+44>>2]=0,e[t+48>>2]=0,R[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0;return}if(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),n=e[t+32>>2]|0,R[t+56>>0]=1,e[t+52>>2]=0,e[t+44>>2]=0,e[t+48>>2]=0,!n){R[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0;return}R[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+32>>2]=0,R[t+36>>0]=1,e[t+32>>2]=0,e[t+24>>2]=0,e[t+28>>2]=0}function ou(t,n){t=t|0,n=n|0;var s=0;if(e[n+40>>2]|0&&(ou(t,e[n+36>>2]|0),ou(t,e[n+40>>2]|0)),(e[t>>2]|0)==(n|0)&&(e[t>>2]=0),s=e[t+4>>2]|0,!s){e[t+4>>2]=n;return}e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),e[t+4>>2]=n}function lm(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0;if(g=H,H=H+32|0,(n|0)<0&&(n=e[t+12>>2]|0),s=e[t>>2]|0,!((n|0)>0&(s|0)!=0)){H=g;return}for(;;){if(o=s+40|0,e[o>>2]|0)for(m=0;d=(e[t+16>>2]|0)>>>m&1,a=s+32|0,l=e[a>>2]|0,l>>>0>s>>>0&&(u=(e[l+40>>2]|0)==(s|0)&1,p=e[l+36+((u^1)<<2)>>2]|0,h=e[l+32>>2]|0,h?e[h+36+(((e[h+40>>2]|0)==(l|0)&1)<<2)>>2]=s:e[t>>2]=s,e[p+32>>2]=s,e[l+32>>2]=s,e[a>>2]=h,h=s+36|0,e[l+36>>2]=e[h>>2],e[l+40>>2]=e[o>>2],e[(e[h>>2]|0)+32>>2]=l,e[(e[o>>2]|0)+32>>2]=l,e[s+36+(u<<2)>>2]=l,e[s+36+((u^1)<<2)>>2]=p,e[g>>2]=e[l>>2],e[g+4>>2]=e[l+4>>2],e[g+8>>2]=e[l+8>>2],e[g+12>>2]=e[l+12>>2],e[g+16>>2]=e[l+16>>2],e[g+20>>2]=e[l+20>>2],e[g+24>>2]=e[l+24>>2],e[g+28>>2]=e[l+28>>2],e[l>>2]=e[s>>2],e[l+4>>2]=e[s+4>>2],e[l+8>>2]=e[s+8>>2],e[l+12>>2]=e[s+12>>2],e[l+16>>2]=e[s+16>>2],e[l+20>>2]=e[s+20>>2],e[l+24>>2]=e[s+24>>2],e[l+28>>2]=e[s+28>>2],e[s>>2]=e[g>>2],e[s+4>>2]=e[g+4>>2],e[s+8>>2]=e[g+8>>2],e[s+12>>2]=e[g+12>>2],e[s+16>>2]=e[g+16>>2],e[s+20>>2]=e[g+20>>2],e[s+24>>2]=e[g+24>>2],e[s+28>>2]=e[g+28>>2],s=l),s=e[s+36+(d<<2)>>2]|0,o=s+40|0,e[o>>2]|0;)m=m+1&31;if(i1(t,s)|0?o=e[t>>2]|0:o=0,U1(t,o,s),e[t+16>>2]=(e[t+16>>2]|0)+1,n=n+-1|0,!n)break;s=e[t>>2]|0}H=g}function i1(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0;if((e[t>>2]|0)==(n|0))return e[t>>2]=0,t=0,t|0;if(o=e[n+32>>2]|0,s=e[o+32>>2]|0,n=e[o+36+(((e[o+40>>2]|0)!=(n|0)&1)<<2)>>2]|0,!s)return e[t>>2]=n,e[n+32>>2]=0,s=e[t+4>>2]|0,s?(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),s=e[t>>2]|0):s=n,e[t+4>>2]=o,t=s,t|0;e[s+36+(((e[s+40>>2]|0)==(o|0)&1)<<2)>>2]=n,e[n+32>>2]=s,n=e[t+4>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+4>>2]=o;do{if(E=+i[s>>2],F=s+4|0,w=+i[F>>2],B=s+8|0,S=+i[B>>2],P=s+16|0,m=+i[P>>2],L=s+20|0,u=+i[L>>2],o=s+24|0,h=+i[o>>2],b=e[s+36>>2]|0,n=e[s+40>>2]|0,D=+i[b>>2],M=+i[n>>2],M=D<M?D:M,i[s>>2]=M,D=+i[b+16>>2],d=+i[n+16>>2],d=D>d?D:d,i[P>>2]=d,D=+i[b+4>>2],C=+i[n+4>>2],C=D<C?D:C,i[F>>2]=C,D=+i[b+20>>2],l=+i[n+20>>2],l=D>l?D:l,i[L>>2]=l,D=+i[b+8>>2],g=+i[n+8>>2],g=D<g?D:g,i[B>>2]=g,D=+i[b+24>>2],p=+i[n+24>>2],p=D>p?D:p,i[o>>2]=p,!(E!=M|w!=C|S!=g|m!=d)&&!(h!=p|u!=l)){a=14;break}s=e[s+32>>2]|0}while((s|0)!=0);return(a|0)==14?s|0:(P=e[t>>2]|0,P|0)}function U1(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(!(e[t>>2]|0)){e[t>>2]=s,e[s+32>>2]=0;return}if(o=e[n+40>>2]|0,!o)S=n;else{h=+i[s>>2]+ +i[s+16>>2],u=+i[s+4>>2]+ +i[s+20>>2],p=+i[s+8>>2]+ +i[s+24>>2];do C=e[n+36>>2]|0,g=+ht(+(h-(+i[C>>2]+ +i[C+16>>2])))+ +ht(+(u-(+i[C+4>>2]+ +i[C+20>>2])))+ +ht(+(p-(+i[C+8>>2]+ +i[C+24>>2]))),n=e[n+36+((!(g<+ht(+(h-(+i[o>>2]+ +i[o+16>>2])))+ +ht(+(u-(+i[o+4>>2]+ +i[o+20>>2])))+ +ht(+(p-(+i[o+8>>2]+ +i[o+24>>2]))))&1)<<2)>>2]|0,o=e[n+40>>2]|0;while((o|0)!=0);S=n}if(C=S+32|0,o=e[C>>2]|0,n=e[t+4>>2]|0,n)e[t+4>>2]=0;else{e[5637]=(e[5637]|0)+1,n=Xe(63)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,a=n,l=a+44|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(l|0))}if(e[n+32>>2]=o,e[n+36>>2]=0,a=n+40|0,e[a>>2]=0,w=+i[s>>2],g=+i[S>>2],g=w<g?w:g,i[n>>2]=g,w=+i[s+16>>2],h=+i[S+16>>2],h=w>h?w:h,i[n+16>>2]=h,w=+i[s+4>>2],m=+i[S+4>>2],m=w<m?w:m,i[n+4>>2]=m,w=+i[s+20>>2],p=+i[S+20>>2],p=w>p?w:p,i[n+20>>2]=p,w=+i[s+8>>2],d=+i[S+8>>2],d=w<d?w:d,i[n+8>>2]=d,w=+i[s+24>>2],u=+i[S+24>>2],u=w>u?w:u,i[n+24>>2]=u,!o){e[n+36>>2]=S,e[C>>2]=n,e[a>>2]=s,e[s+32>>2]=n,e[t>>2]=n;return}for(e[o+36+(((e[(e[C>>2]|0)+40>>2]|0)==(S|0)&1)<<2)>>2]=n,e[n+36>>2]=S,e[C>>2]=n,e[a>>2]=s,e[s+32>>2]=n;;){if(n=o+4|0,+i[o>>2]<=g&&+i[n>>2]<=m&&+i[o+8>>2]<=d&&+i[o+16>>2]>=h&&+i[o+20>>2]>=p&&+i[o+24>>2]>=u){n=21;break}if(s=e[o+36>>2]|0,t=e[o+40>>2]|0,w=+i[s>>2],g=+i[t>>2],g=w<g?w:g,i[o>>2]=g,w=+i[s+16>>2],h=+i[t+16>>2],h=w>h?w:h,i[o+16>>2]=h,w=+i[s+4>>2],m=+i[t+4>>2],m=w<m?w:m,i[n>>2]=m,w=+i[s+20>>2],p=+i[t+20>>2],p=w>p?w:p,i[o+20>>2]=p,w=+i[s+8>>2],d=+i[t+8>>2],d=w<d?w:d,i[o+8>>2]=d,w=+i[s+24>>2],u=+i[t+24>>2],u=w>u?w:u,i[o+24>>2]=u,o=e[o+32>>2]|0,!o){n=21;break}}n|0}function m2e(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=+a;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(S=+i[s>>2],+i[n>>2]<=S){if(u=+i[s+4>>2],+i[n+4>>2]<=u&&+i[n+8>>2]<=+i[s+8>>2]&&+i[n+16>>2]>=+i[s+16>>2]&&+i[n+20>>2]>=+i[s+20>>2]&&+i[n+24>>2]>=+i[s+24>>2])return s=0,s|0;l=s+4|0}else l=s+4|0,u=+i[s+4>>2];i[s>>2]=S-a,m=u-a,i[l>>2]=m,C=+i[s+8>>2]-a,i[s+8>>2]=C,u=+i[s+16>>2]+a,i[s+16>>2]=u,g=+i[s+20>>2]+a,i[s+20>>2]=g,w=+i[s+24>>2]+a,i[s+24>>2]=w,d=+i[o>>2],d>0?i[s+16>>2]=d+u:i[s>>2]=d+(S-a),u=+i[o+4>>2],u>0?i[s+20>>2]=u+g:i[l>>2]=u+m,u=+i[o+8>>2],u>0?i[s+24>>2]=u+w:i[s+8>>2]=u+C,l=i1(t,n)|0;e:do if(l){if(p=e[t+8>>2]|0,(p|0)<=-1){l=e[t>>2]|0;break}if((p|0)>0)for(h=0;;){if(o=e[l+32>>2]|0,h=h+1|0,!o)break e;if((h|0)>=(p|0)){l=o;break}else l=o}}else l=0;while(!1);return e[n>>2]=e[s>>2],e[n+4>>2]=e[s+4>>2],e[n+8>>2]=e[s+8>>2],e[n+12>>2]=e[s+12>>2],e[n+16>>2]=e[s+16>>2],e[n+20>>2]=e[s+20>>2],e[n+24>>2]=e[s+24>>2],e[n+28>>2]=e[s+28>>2],U1(t,l,n),s=1,s|0}function g2e(t,n,s){t=t|0,n=n|0,s=s|0}function x2e(t,n,s){t=t|0,n=n|0,s=+s,zt[e[(e[t>>2]|0)+12>>2]&127](t,n)}function y2e(t,n){return t=t|0,n=n|0,1}function v2e(t,n){return t=t|0,n=n|0,1}function um(t){t=t|0;var n=0;e[t>>2]=2692,R[t+192>>0]|0&&(n=e[t+136>>2]|0,Vt[e[e[n>>2]>>2]&255](n),n=e[t+136>>2]|0,n|0)&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),vh(t+64|0),vh(t+4|0)}function S2e(t){t=t|0,um(t),ye(t)}function C2e(t,n,s,o,a,l,u,p,h){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0;var d=0,m=0;if(m=H,H=H+48|0,e[5637]=(e[5637]|0)+1,o=Xe(83)|0,o?(e[(o+4+15&-16)+-4>>2]=o,d=o+4+15&-16):d=0,e[d>>2]=a,ee[d+4>>1]=l,ee[d+6>>1]=u,l=d+16|0,e[l>>2]=e[n>>2],e[l+4>>2]=e[n+4>>2],e[l+8>>2]=e[n+8>>2],e[l+12>>2]=e[n+12>>2],l=d+32|0,e[l>>2]=e[s>>2],e[l+4>>2]=e[s+4>>2],e[l+8>>2]=e[s+8>>2],e[l+12>>2]=e[s+12>>2],e[d+8>>2]=0,l=d+56|0,e[l>>2]=0,u=d+52|0,e[u>>2]=0,e[m+16>>2]=e[n>>2],e[m+16+4>>2]=e[n+4>>2],e[m+16+8>>2]=e[n+8>>2],e[m+16+12>>2]=e[n+12>>2],e[m+16+16>>2]=e[s>>2],e[m+16+16+4>>2]=e[s+4>>2],e[m+16+16+8>>2]=e[s+8>>2],e[m+16+16+12>>2]=e[s+12>>2],e[d+60>>2]=e[t+144>>2],o=(e[t+188>>2]|0)+1|0,e[t+188>>2]=o,e[d+12>>2]=o,o=e[t+8>>2]|0,o)e[t+8>>2]=0;else{e[5637]=(e[5637]|0)+1,o=Xe(63)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,p=o,h=p+44|0;do e[p>>2]=0,p=p+4|0;while((p|0)<(h|0))}return e[o+32>>2]=0,e[o+36>>2]=d,e[o+40>>2]=0,e[o>>2]=e[m+16>>2],e[o+4>>2]=e[m+16+4>>2],e[o+8>>2]=e[m+16+8>>2],e[o+12>>2]=e[m+16+12>>2],e[o+16>>2]=e[m+16+16>>2],e[o+20>>2]=e[m+16+20>>2],e[o+24>>2]=e[m+16+24>>2],e[o+28>>2]=e[m+16+28>>2],U1(t+4|0,e[t+4>>2]|0,o),e[t+16>>2]=(e[t+16>>2]|0)+1,e[d+48>>2]=o,p=t+124+(e[t+144>>2]<<2)|0,e[u>>2]=0,e[l>>2]=e[p>>2],o=e[p>>2]|0,o|0&&(e[o+52>>2]=d),e[p>>2]=d,R[t+193>>0]|0?(H=m,d|0):(e[m>>2]=2756,e[m+4>>2]=t,e[m+8>>2]=d,au(e[t+4>>2]|0,m+16|0,m),au(e[t+64>>2]|0,m+16|0,m),H=m,d|0)}function T2e(t){t=t|0}function w2e(t){t=t|0,ye(t)}function M2e(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;(n|0)!=(s|0)&&(o=e[(e[t+4>>2]|0)+136>>2]|0,G0[e[(e[o>>2]|0)+8>>2]&63](o,e[n+36>>2]|0,e[s+36>>2]|0)|0,t=(e[t+4>>2]|0)+160|0,e[t>>2]=(e[t>>2]|0)+1)}function R2e(t,n){t=t|0,n=n|0,f0[e[(e[t>>2]|0)+8>>2]&127](t,n,e[(e[t+8>>2]|0)+48>>2]|0)}function au(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0;if(t){for(g=+i[n>>2],S=+i[n+4>>2],w=+i[n+8>>2],E=+i[n+16>>2],m=+i[n+20>>2],d=+i[n+24>>2],e[5637]=(e[5637]|0)+1,n=Xe(275)|0,e[(n+4+15&-16)+-4>>2]=n,e[(n+4+15&-16)>>2]=t,h=1,t=64,n=n+4+15&-16;;){o=h+-1|0,u=e[n+(o<<2)>>2]|0;do if(+i[u>>2]<=E&&+i[u+16>>2]>=g&&+i[u+4>>2]<=m&&+i[u+20>>2]>=S&&+i[u+8>>2]<=d&&+i[u+24>>2]>=w){if(!(e[u+40>>2]|0)){zt[e[(e[s>>2]|0)+12>>2]&127](s,u);break}p=e[u+36>>2]|0;do if((o|0)==(t|0)&&(C=t|0?t<<1:1,(h|0)<=(C|0))){if((C|0)!=0&&(e[5637]=(e[5637]|0)+1,M=Xe((C<<2|3)+16|0)|0,(M|0)!=0)?(e[(M+4+15&-16)+-4>>2]=M,l=M+4+15&-16):l=0,(h|0)<=1){if(!n){t=C,n=l;break}}else{a=0;do e[l+(a<<2)>>2]=e[n+(a<<2)>>2],a=a+1|0;while((a|0)!=(t|0))}e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),t=C,n=l}while(!1);e[n+(o<<2)>>2]=p,l=e[u+40>>2]|0;do if((h|0)==(t|0))if(t=h|0?h<<1:1,(h|0)<(t|0)){if((t|0)!=0&&(e[5637]=(e[5637]|0)+1,D=Xe((t<<2|3)+16|0)|0,(D|0)!=0)?(e[(D+4+15&-16)+-4>>2]=D,a=D+4+15&-16):a=0,(h|0)<=0){if(!n){n=a;break}}else{o=0;do e[a+(o<<2)>>2]=e[n+(o<<2)>>2],o=o+1|0;while((o|0)!=(h|0))}e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),n=a}else t=h;while(!1);e[n+(h<<2)>>2]=l,o=h+1|0}while(!1);if((o|0)>0)h=o;else break}n&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0))}}function A2e(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0;(e[n+60>>2]|0)==2?(o=e[n+48>>2]|0,i1(t+64|0,o)|0,a=e[t+68>>2]|0,a|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+68>>2]=o,e[t+76>>2]=(e[t+76>>2]|0)+-1):(o=e[n+48>>2]|0,i1(t+4|0,o)|0,a=e[t+8>>2]|0,a|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+8>>2]=o,e[t+16>>2]=(e[t+16>>2]|0)+-1),o=e[n+52>>2]|0,a=e[n+56>>2]|0,o?e[o+56>>2]=a:e[t+124+(e[n+60>>2]<<2)>>2]=a,o=e[n+56>>2]|0,o|0&&(e[o+52>>2]=e[n+52>>2]),a=e[t+136>>2]|0,f0[e[(e[a>>2]|0)+16>>2]&127](a,n,s),e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0),R[t+194>>0]=1}function E2e(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0;w=H,H=H+48|0,e[w+16>>2]=e[s>>2],e[w+16+4>>2]=e[s+4>>2],e[w+16+8>>2]=e[s+8>>2],e[w+16+12>>2]=e[s+12>>2],e[w+16+16>>2]=e[o>>2],e[w+16+16+4>>2]=e[o+4>>2],e[w+16+16+8>>2]=e[o+8>>2],e[w+16+16+12>>2]=e[o+12>>2];do if((e[n+60>>2]|0)==2){if(a=e[n+48>>2]|0,i1(t+64|0,a)|0,l=e[t+68>>2]|0,l|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+68>>2]=a,e[t+76>>2]=(e[t+76>>2]|0)+-1,a=e[t+8>>2]|0,a)e[t+8>>2]=0;else{e[5637]=(e[5637]|0)+1,a=Xe(63)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,l=a,u=l+44|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(u|0))}e[a+32>>2]=0,e[a+36>>2]=n,e[a+40>>2]=0,e[a>>2]=e[w+16>>2],e[a+4>>2]=e[w+16+4>>2],e[a+8>>2]=e[w+16+8>>2],e[a+12>>2]=e[w+16+12>>2],e[a+16>>2]=e[w+16+16>>2],e[a+20>>2]=e[w+16+20>>2],e[a+24>>2]=e[w+16+24>>2],e[a+28>>2]=e[w+16+28>>2],U1(t+4|0,e[t+4>>2]|0,a),e[t+16>>2]=(e[t+16>>2]|0)+1,e[n+48>>2]=a,u=1}else{if(e[t+168>>2]=(e[t+168>>2]|0)+1,C=e[n+48>>2]|0,+i[C>>2]<=+i[w+16+16>>2]&&+i[C+16>>2]>=+i[w+16>>2]&&+i[C+4>>2]<=+i[w+16+20>>2]&&+i[C+20>>2]>=+i[w+16+4>>2]&&+i[C+8>>2]<=+i[w+16+24>>2]&&+i[C+24>>2]>=+i[w+16+8>>2]){p=+i[n+16>>2],M=+i[s>>2]-p,h=+i[n+20>>2],m=+i[s+4>>2]-h,d=+i[n+24>>2],g=+i[s+8>>2]-d,E=+i[t+140>>2],p=(+i[n+32>>2]-p)*.5*E,h=(+i[n+36>>2]-h)*.5*E,d=E*((+i[n+40>>2]-d)*.5),i[w>>2]=p,i[w+4>>2]=h,i[w+8>>2]=d,i[w+12>>2]=0,M<0&&(i[w>>2]=-p),m<0&&(i[w+4>>2]=-h),g<0&&(i[w+8>>2]=-d),m2e(t+4|0,C,w+16|0,w,.05000000074505806)|0?(e[t+172>>2]=(e[t+172>>2]|0)+1,a=1):a=0,u=a;break}a=i1(t+4|0,C)|0;e:do if(a){if(u=e[t+12>>2]|0,(u|0)<=-1){a=e[t+4>>2]|0;break}if((u|0)>0)for(S=0;;){if(l=e[a+32>>2]|0,S=S+1|0,!l)break e;if((S|0)>=(u|0)){a=l;break}else a=l}}else a=0;while(!1);e[C>>2]=e[w+16>>2],e[C+4>>2]=e[w+16+4>>2],e[C+8>>2]=e[w+16+8>>2],e[C+12>>2]=e[w+16+12>>2],e[C+16>>2]=e[w+16+16>>2],e[C+20>>2]=e[w+16+20>>2],e[C+24>>2]=e[w+16+24>>2],e[C+28>>2]=e[w+16+28>>2],U1(t+4|0,a,C),e[t+172>>2]=(e[t+172>>2]|0)+1,u=1}while(!1);if(a=e[n+52>>2]|0,l=e[n+56>>2]|0,a?e[a+56>>2]=l:e[t+124+(e[n+60>>2]<<2)>>2]=l,a=e[n+56>>2]|0,a|0&&(e[a+52>>2]=e[n+52>>2]),e[n+16>>2]=e[s>>2],e[n+16+4>>2]=e[s+4>>2],e[n+16+8>>2]=e[s+8>>2],e[n+16+12>>2]=e[s+12>>2],e[n+32>>2]=e[o>>2],e[n+32+4>>2]=e[o+4>>2],e[n+32+8>>2]=e[o+8>>2],e[n+32+12>>2]=e[o+12>>2],a=e[t+144>>2]|0,e[n+60>>2]=a,e[n+52>>2]=0,e[n+56>>2]=e[t+124+(a<<2)>>2],l=e[t+124+(a<<2)>>2]|0,l|0&&(e[l+52>>2]=n),e[t+124+(a<<2)>>2]=n,!u){H=w;return}if(R[t+194>>0]=1,R[t+193>>0]|0){H=w;return}e[w>>2]=2756,e[w+4>>2]=t,Yf(t+64|0,e[t+64>>2]|0,e[n+48>>2]|0,w),Yf(t+4|0,e[t+4>>2]|0,e[n+48>>2]|0,w),H=w}function Yf(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0;if((n|0)!=0&(s|0)!=0){if((e[t+24>>2]|0)<128&&(e[t+28>>2]|0)<128){if(e[5637]=(e[5637]|0)+1,a=Xe(1043)|0,a?(e[(a+4+15&-16)+-4>>2]=a,u=a+4+15&-16):u=0,a=e[t+24>>2]|0,(a|0)>0){l=0;do h=(e[t+32>>2]|0)+(l<<3)|0,d=e[h+4>>2]|0,m=u+(l<<3)|0,e[m>>2]=e[h>>2],e[m+4>>2]=d,l=l+1|0;while((l|0)!=(a|0))}a=e[t+32>>2]|0,a|0&&(R[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+32>>2]=0),R[t+36>>0]=1,e[t+32>>2]=u,e[t+28>>2]=128}for(e[t+24>>2]=128,m=e[t+32>>2]|0,e[m>>2]=n,e[m+4>>2]=s,m=1,u=124;;){if(a=m+-1|0,l=e[t+32>>2]|0,h=e[l+(a<<3)>>2]|0,d=e[l+(a<<3)+4>>2]|0,(a|0)>(u|0)){if(s=e[t+24>>2]|0,(s|0)<(s<<1|0)&&(e[t+28>>2]|0)<(s<<1|0)){if(s){if(e[5637]=(e[5637]|0)+1,l=Xe((s<<4|3)+16|0)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,u=e[t+24>>2]|0,(u|0)>0){n=0;do S=(e[t+32>>2]|0)+(n<<3)|0,g=e[S+4>>2]|0,p=l+(n<<3)|0,e[p>>2]=e[S>>2],e[p+4>>2]=g,n=n+1|0;while((n|0)!=(u|0))}}else l=0;u=e[t+32>>2]|0,u|0&&(R[t+36>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[t+32>>2]=0),R[t+36>>0]=1,e[t+32>>2]=l,e[t+28>>2]=s<<1}e[t+24>>2]=s<<1,u=(s<<1)+-4|0}do if((h|0)==(d|0))e[h+40>>2]|0&&(S=e[h+36>>2]|0,e[l+(a<<3)>>2]=S,e[l+(a<<3)+4>>2]=S,a=m+1|0,S=e[t+32>>2]|0,g=e[h+40>>2]|0,e[S+(m<<3)>>2]=g,e[S+(m<<3)+4>>2]=g,S=e[t+32>>2]|0,g=e[h+40>>2]|0,e[S+(a<<3)>>2]=e[h+36>>2],e[S+(a<<3)+4>>2]=g,a=m+2|0);else if(+i[h>>2]<=+i[d+16>>2]&&+i[h+16>>2]>=+i[d>>2]&&+i[h+4>>2]<=+i[d+20>>2]&&+i[h+20>>2]>=+i[d+4>>2]&&+i[h+8>>2]<=+i[d+24>>2]&&+i[h+24>>2]>=+i[d+8>>2])if(n=(e[d+40>>2]|0)!=0,e[h+40>>2]|0)if(s=l+(a<<3)|0,p=e[h+36>>2]|0,n){S=e[d+36>>2]|0,e[s>>2]=p,e[l+(a<<3)+4>>2]=S,S=m+1|0,a=e[t+32>>2]|0,g=e[d+36>>2]|0,e[a+(m<<3)>>2]=e[h+40>>2],e[a+(m<<3)+4>>2]=g,a=m+2|0,g=e[t+32>>2]|0,p=e[d+40>>2]|0,e[g+(S<<3)>>2]=e[h+36>>2],e[g+(S<<3)+4>>2]=p,S=e[t+32>>2]|0,g=e[d+40>>2]|0,e[S+(a<<3)>>2]=e[h+40>>2],e[S+(a<<3)+4>>2]=g,a=m+3|0;break}else{e[s>>2]=p,e[l+(a<<3)+4>>2]=d,a=e[t+32>>2]|0,e[a+(m<<3)>>2]=e[h+40>>2],e[a+(m<<3)+4>>2]=d,a=m+1|0;break}else if(n){S=e[d+36>>2]|0,e[l+(a<<3)>>2]=h,e[l+(a<<3)+4>>2]=S,a=e[t+32>>2]|0,S=e[d+40>>2]|0,e[a+(m<<3)>>2]=h,e[a+(m<<3)+4>>2]=S,a=m+1|0;break}else{f0[e[(e[o>>2]|0)+8>>2]&127](o,h,d);break}while(!1);if(a)m=a;else break}}}function N2e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0,e[s>>2]=e[n+16>>2],e[s+4>>2]=e[n+16+4>>2],e[s+8>>2]=e[n+16+8>>2],e[s+12>>2]=e[n+16+12>>2],e[o>>2]=e[n+32>>2],e[o+4>>2]=e[n+32+4>>2],e[o+8>>2]=e[n+32+8>>2],e[o+12>>2]=e[n+32+12>>2]}function b2e(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,s=H,H=H+16|0,e[s>>2]=2792,e[s+4>>2]=o,fm(t+4|0,e[t+4>>2]|0,n,o+4|0,o+20|0,+i[o+32>>2],a,l,s),fm(t+64|0,e[t+64>>2]|0,n,o+4|0,o+20|0,+i[o+32>>2],a,l,s),H=s}function D2e(t){t=t|0,ye(t)}function I2e(t,n){t=t|0,n=n|0,t=e[t+4>>2]|0,I0[e[(e[t>>2]|0)+8>>2]&31](t,e[n+36>>2]|0)|0}function fm(t,n,s,o,a,l,u,p,h){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=+l,u=u|0,p=p|0,h=h|0;var d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0;if(O=H,H=H+32|0,!n){H=O;return}if(S=e[t+44>>2]|0,(S|0)<128){if((e[t+48>>2]|0)<128){if(e[5637]=(e[5637]|0)+1,d=Xe(531)|0,d?(e[(d+4+15&-16)+-4>>2]=d,g=d+4+15&-16):g=0,d=e[t+44>>2]|0,(d|0)>0){m=0;do e[g+(m<<2)>>2]=e[(e[t+52>>2]|0)+(m<<2)>>2],m=m+1|0;while((m|0)!=(d|0))}d=e[t+52>>2]|0,d|0&&(R[t+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[d+-4>>2]|0)),e[t+52>>2]=0),R[t+56>>0]=1,e[t+52>>2]=g,e[t+48>>2]=128,m=t+52|0}else m=t+52|0;d=S;do e[(e[m>>2]|0)+(d<<2)>>2]=0,d=d+1|0;while((d|0)!=128);L=t+48|0}else m=t+52|0,L=t+48|0;for(e[t+44>>2]=128,e[e[m>>2]>>2]=n,B=1,d=126;;){g=B+-1|0,S=e[m>>2]|0,b=e[S+(g<<2)>>2]|0,M=+i[b+4>>2]-+i[p+4>>2],C=+i[b+8>>2]-+i[p+8>>2],i[O>>2]=+i[b>>2]-+i[p>>2],i[O+4>>2]=M,i[O+8>>2]=C,i[O+12>>2]=0,C=+i[b+20>>2]-+i[u+4>>2],M=+i[b+24>>2]-+i[u+8>>2],i[O+16>>2]=+i[b+16>>2]-+i[u>>2],i[O+20>>2]=C,i[O+24>>2]=M,i[O+28>>2]=0,D=e[a>>2]|0,M=+i[s>>2],C=+i[o>>2],w=(+i[O+(D<<4)>>2]-M)*C,M=C*(+i[O+(1-D<<4)>>2]-M),D=e[a+4>>2]|0,C=+i[s+4>>2],z=+i[o+4>>2],E=(+i[O+(D<<4)+4>>2]-C)*z,C=z*(+i[O+(1-D<<4)+4>>2]-C);do if(!(E>M|w>C)&&(F=E>w?E:w,G=C<M?C:M,D=e[a+8>>2]|0,U=+i[s+8>>2],z=+i[o+8>>2],P=(+i[O+(D<<4)+8>>2]-U)*z,U=z*(+i[O+(1-D<<4)+8>>2]-U),!(P>G|F>U))&&(U<G?U:G)>0&&(P>F?P:F)<l){if(!(e[b+40>>2]|0)){zt[e[(e[h>>2]|0)+12>>2]&127](h,b);break}if((g|0)>(d|0)){if(D=e[t+44>>2]|0,(D|0)<(D<<1|0)){if((e[L>>2]|0)<(D<<1|0)){if(D){if(e[5637]=(e[5637]|0)+1,d=Xe((D<<3|3)+16|0)|0,d?(e[(d+4+15&-16)+-4>>2]=d,d=d+4+15&-16):d=0,S=e[t+44>>2]|0,(S|0)>0){n=0;do e[d+(n<<2)>>2]=e[(e[m>>2]|0)+(n<<2)>>2],n=n+1|0;while((n|0)!=(S|0))}}else d=0;S=e[m>>2]|0,S|0&&(R[t+56>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[S+-4>>2]|0)),e[m>>2]=0),R[t+56>>0]=1,e[m>>2]=d,e[L>>2]=D<<1,S=D}else d=S,S=D;do e[d+(S<<2)>>2]=0,S=S+1|0,d=e[m>>2]|0;while((S|0)!=(D<<1|0))}else d=S;e[t+44>>2]=D<<1,S=d,d=(D<<1)+-2|0}e[S+(g<<2)>>2]=e[b+36>>2],e[(e[m>>2]|0)+(B<<2)>>2]=e[b+40>>2],g=B+1|0}while(!1);if(g)B=g;else break}H=O}function P2e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;a=H,H=H+48|0,e[a+32>>2]=2828,e[a+32+4>>2]=o,e[a>>2]=e[n>>2],e[a+4>>2]=e[n+4>>2],e[a+8>>2]=e[n+8>>2],e[a+12>>2]=e[n+12>>2],e[a+16>>2]=e[s>>2],e[a+16+4>>2]=e[s+4>>2],e[a+16+8>>2]=e[s+8>>2],e[a+16+12>>2]=e[s+12>>2],au(e[t+4>>2]|0,a,a+32|0),au(e[t+64>>2]|0,a,a+32|0),H=a}function L2e(t){t=t|0,ye(t)}function k2e(t,n){t=t|0,n=n|0,t=e[t+4>>2]|0,I0[e[(e[t>>2]|0)+8>>2]&31](t,e[n+36>>2]|0)|0}function F2e(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;if(C=H,H=H+32|0,lm(t+4|0,((Rt(e[t+152>>2]|0,e[t+16>>2]|0)|0)/100|0)+1|0),e[t+164>>2]|0&&(g=((Rt(e[t+148>>2]|0,e[t+76>>2]|0)|0)/100|0)+1|0,lm(t+64|0,g),g=(e[t+164>>2]|0)-g|0,e[t+164>>2]=(g|0)<0?0:g),s=((e[t+144>>2]|0)+1|0)%2|0,e[t+144>>2]=s,s=e[t+124+(s<<2)>>2]|0,s|0){do{if(p=s+56|0,h=s,s=e[p>>2]|0,u=e[h+52>>2]|0,l=s,u?e[u+56>>2]=l:e[t+124+(e[h+60>>2]<<2)>>2]=l,l=e[p>>2]|0,l|0&&(e[l+52>>2]=e[h+52>>2]),e[h+52>>2]=0,e[p>>2]=e[t+132>>2],l=e[t+132>>2]|0,l|0&&(e[l+52>>2]=h),e[t+132>>2]=h,l=e[h+48>>2]|0,i1(t+4|0,l)|0,u=e[t+8>>2]|0,u|0&&(e[5638]=(e[5638]|0)+1,ye(e[u+-4>>2]|0)),e[t+8>>2]=l,e[t+16>>2]=(e[t+16>>2]|0)+-1,e[C>>2]=e[h+16>>2],e[C+4>>2]=e[h+16+4>>2],e[C+8>>2]=e[h+16+8>>2],e[C+12>>2]=e[h+16+12>>2],e[C+16>>2]=e[h+32>>2],e[C+16+4>>2]=e[h+32+4>>2],e[C+16+8>>2]=e[h+32+8>>2],e[C+16+12>>2]=e[h+32+12>>2],l=e[t+68>>2]|0,l)e[t+68>>2]=0;else{e[5637]=(e[5637]|0)+1,l=Xe(63)|0,l?(e[(l+4+15&-16)+-4>>2]=l,l=l+4+15&-16):l=0,u=l,p=u+44|0;do e[u>>2]=0,u=u+4|0;while((u|0)<(p|0))}e[l+32>>2]=0,e[l+36>>2]=h,e[l+40>>2]=0,e[l>>2]=e[C>>2],e[l+4>>2]=e[C+4>>2],e[l+8>>2]=e[C+8>>2],e[l+12>>2]=e[C+12>>2],e[l+16>>2]=e[C+16>>2],e[l+20>>2]=e[C+20>>2],e[l+24>>2]=e[C+24>>2],e[l+28>>2]=e[C+28>>2],U1(t+64|0,e[t+64>>2]|0,l),u=(e[t+76>>2]|0)+1|0,e[t+76>>2]=u,e[h+48>>2]=l,e[h+60>>2]=2}while((s|0)!=0);e[t+164>>2]=u,R[t+194>>0]=1}if(e[C>>2]=2756,e[C+4>>2]=t,R[t+193>>0]|0&&(Yf(t+4|0,e[t+4>>2]|0,e[t+64>>2]|0,C),R[t+193>>0]|0)&&(g=e[t+4>>2]|0,Yf(t+4|0,g,g,C)),R[t+194>>0]|0&&(d=e[t+136>>2]|0,d=Tt[e[(e[d>>2]|0)+28>>2]&127](d)|0,o=e[d+4>>2]|0,(o|0)>0)){if(s=(Rt(e[t+156>>2]|0,o)|0)/100|0,g=e[t+160>>2]|0,s=(g|0)>(s|0)?g:s,s=(o|0)<(s|0)?o:s,(s|0)>0){l=0;do p=((e[t+184>>2]|0)+l|0)%(o|0)|0,m=e[d+12>>2]|0,u=e[m+(p<<4)>>2]|0,p=e[m+(p<<4)+4>>2]|0,m=e[u+48>>2]|0,g=e[p+48>>2]|0,+i[m>>2]<=+i[g+16>>2]&&+i[m+16>>2]>=+i[g>>2]&&+i[m+4>>2]<=+i[g+20>>2]&&+i[m+20>>2]>=+i[g+4>>2]&&+i[m+8>>2]<=+i[g+24>>2]&&+i[m+24>>2]>=+i[g+8>>2]||(o=e[t+136>>2]|0,q2[e[(e[o>>2]|0)+12>>2]&31](o,u,p,n)|0,o=e[d+4>>2]|0,l=l+-1|0,s=s+-1|0),l=l+1|0;while((l|0)<(s|0));(o|0)>0?S=37:s=0}else S=37;(S|0)==37&&(s=((e[t+184>>2]|0)+s|0)%(o|0)|0),e[t+184>>2]=s}if(e[t+180>>2]=(e[t+180>>2]|0)+1,e[t+160>>2]=1,R[t+194>>0]=0,o=e[t+168>>2]|0,s=e[t+172>>2]|0,o?a=+(s>>>0)/+(o>>>0):a=0,i[t+176>>2]=a,e[t+172>>2]=s>>>1,e[t+168>>2]=o>>>1,g=e[t+136>>2]|0,!(Tt[e[(e[g>>2]|0)+56>>2]&127](g)|0)){H=C;return}for(g=e[t+136>>2]|0,g=Tt[e[(e[g>>2]|0)+28>>2]&127](g)|0,s=e[g+4>>2]|0,(s|0)>1?(gc(g,0,s+-1|0),l=0,u=0,p=0,o=0,S=44):(l=0,m=0,d=0,o=0);(S|0)==44&&(S=0,s=e[g+4>>2]|0,m=u,d=p),!((l|0)>=(s|0));)h=e[g+12>>2]|0,u=h+(l<<4)|0,p=e[u>>2]|0,h=h+(l<<4)+4|0,s=e[h>>2]|0,(p|0)==(d|0)&(s|0)==(o|0)?(s=o,S=53):(o=e[p+48>>2]|0,d=e[s+48>>2]|0,+i[o>>2]<=+i[d+16>>2]&&+i[o+16>>2]>=+i[d>>2]&&+i[o+4>>2]<=+i[d+20>>2]&&+i[o+20>>2]>=+i[d+4>>2]&&+i[o+8>>2]<=+i[d+24>>2]&&+i[o+24>>2]>=+i[d+8>>2]?(o=s,s=m):S=53),(S|0)==53&&(o=e[t+136>>2]|0,f0[e[(e[o>>2]|0)+32>>2]&127](o,u,n),e[u>>2]=0,e[h>>2]=0,o=s,s=m+1|0),l=l+1|0,u=s,S=44;if((s|0)>1?(gc(g,0,s+-1|0),u=e[g+4>>2]|0):u=s,p=u-m|0,(m|0)<0){if((e[g+8>>2]|0)<(p|0)){if((u|0)!=(m|0))if(e[5637]=(e[5637]|0)+1,s=Xe((p<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[g+4>>2]|0,(o|0)>0){l=0;do S=e[g+12>>2]|0,e[s+(l<<4)>>2]=e[S+(l<<4)>>2],e[s+(l<<4)+4>>2]=e[S+(l<<4)+4>>2],e[s+(l<<4)+8>>2]=e[S+(l<<4)+8>>2],e[s+(l<<4)+12>>2]=e[S+(l<<4)+12>>2],l=l+1|0;while((l|0)!=(o|0));o=g+12|0}else o=g+12|0;else s=0,o=g+12|0;l=e[o>>2]|0,l|0&&(R[g+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[o>>2]=0),R[g+16>>0]=1,e[o>>2]=s,e[g+8>>2]=p}else o=g+12|0;s=u;do S=(e[o>>2]|0)+(s<<4)|0,s=s+1|0,e[S>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,e[S+12>>2]=0;while((s|0)!=(p|0))}e[g+4>>2]=p,H=C}function B2e(t){return t=t|0,e[t+136>>2]|0}function U2e(t){return t=t|0,e[t+136>>2]|0}function O2e(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0;m=e[t+4>>2]|0,t=e[t+64>>2]|0;do if(!m)t?(o=+i[t>>2],g=+i[t+12>>2],p=+i[t+16>>2],d=+i[t+20>>2],l=+i[t+24>>2],h=+i[t+28>>2],u=+i[t+4>>2],a=+i[t+8>>2]):(o=0,g=0,p=0,d=0,l=0,h=0,u=0,a=0);else{if(o=+i[m>>2],!t){g=+i[m+12>>2],p=+i[m+16>>2],d=+i[m+20>>2],l=+i[m+24>>2],h=+i[m+28>>2],u=+i[m+4>>2],a=+i[m+8>>2];break}h=+i[t>>2],o=o<h?o:h,h=+i[m+16>>2],p=+i[t+16>>2],p=h>p?h:p,h=+i[m+4>>2],u=+i[t+4>>2],u=h<u?h:u,h=+i[m+20>>2],d=+i[t+20>>2],d=h>d?h:d,h=+i[m+8>>2],a=+i[t+8>>2],a=h<a?h:a,h=+i[m+24>>2],l=+i[t+24>>2],h>l?(g=0,l=h,h=0):(g=0,h=0)}while(!1);i[n>>2]=o,i[n+4>>2]=u,i[n+8>>2]=a,i[n+12>>2]=g,i[s>>2]=p,i[s+4>>2]=d,i[s+8>>2]=l,i[s+12>>2]=h}function G2e(t,n){t=t|0,n=n|0,(e[t+16>>2]|0)==(0-(e[t+76>>2]|0)|0)&&(n=e[t+4>>2]|0,n|0&&ou(t+4|0,n),n=e[t+8>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+8>>2]=0,e[t+12>>2]=-1,n=e[t+36>>2]|0,n|0&&(R[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),R[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,e[t+20>>2]=0,n=e[t+64>>2]|0,n|0&&ou(t+64|0,n),n=e[t+68>>2]|0,n|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+68>>2]=0,e[t+72>>2]=-1,n=e[t+96>>2]|0,n|0&&(R[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+96>>2]=0),R[t+100>>0]=1,e[t+96>>2]=0,e[t+88>>2]=0,e[t+92>>2]=0,e[t+80>>2]=0,R[t+193>>0]=0,R[t+194>>0]=1,e[t+144>>2]=0,e[t+164>>2]=0,e[t+148>>2]=1,e[t+152>>2]=0,e[t+156>>2]=10,e[t+160>>2]=1,e[t+124>>2]=0,e[t+124+4>>2]=0,e[t+124+8>>2]=0,e[t+168>>2]=0,e[t+168+4>>2]=0,e[t+168+8>>2]=0,e[t+168+12>>2]=0,e[t+168+16>>2]=0,e[t+168+20>>2]=0)}function V2e(t){t=t|0}function _m(t,n){t=t|0,n=n|0;var s=0;if(e[t>>2]=2692,R[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,R[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0,e[t+12>>2]=-1,e[t+16>>2]=0,e[t+20>>2]=0,R[t+100>>0]=1,e[t+96>>2]=0,e[t+88>>2]=0,e[t+92>>2]=0,R[t+120>>0]=1,e[t+116>>2]=0,e[t+108>>2]=0,e[t+112>>2]=0,e[t+64>>2]=0,e[t+68>>2]=0,e[t+72>>2]=-1,e[t+76>>2]=0,e[t+80>>2]=0,R[t+193>>0]=0,R[t+194>>0]=1,R[t+192>>0]=(n|0)!=0^1,i[t+140>>2]=0,e[t+144>>2]=0,e[t+164>>2]=0,e[t+148>>2]=1,e[t+152>>2]=0,e[t+156>>2]=10,e[t+160>>2]=1,e[t+168>>2]=0,e[t+172>>2]=0,i[t+176>>2]=0,n|0){s=n,n=t+136|0,e[n>>2]=s,n=t+188|0,e[n>>2]=0,n=t+180|0,e[n>>2]=0,n=t+184|0,e[n>>2]=0,t=t+124|0,e[t>>2]=0,e[t+4>>2]=0,e[t+8>>2]=0;return}e[5637]=(e[5637]|0)+1,n=Xe(91)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,Kf(n),s=t+136|0,e[s>>2]=n,s=t+188|0,e[s>>2]=0,s=t+180|0,e[s>>2]=0,s=t+184|0,e[s>>2]=0,s=t+124|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0}function z2e(t){t=t|0}function pm(t){t=t|0;var n=0;if(e[t>>2]=2864,n=e[t+60>>2]|0,n|0&&(R[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+60>>2]=0),R[t+64>>0]=1,e[t+60>>2]=0,e[t+52>>2]=0,e[t+56>>2]=0,n=e[t+40>>2]|0,n|0&&(R[t+44>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+40>>2]=0),R[t+44>>0]=1,e[t+40>>2]=0,e[t+32>>2]=0,e[t+36>>2]=0,n=e[t+16>>2]|0,!n){R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0;return}R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0}function W2e(t){t=t|0,pm(t),ye(t)}function H2e(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;if(e[4986]=(e[4986]|0)+1,o=e[t+24>>2]|0,o){if(!(G0[e[(e[o>>2]|0)+8>>2]&63](o,n,s)|0))return t=0,t|0}else if(o=e[n+4>>2]|0,!((ee[s+6>>1]&(o&65535))<<16>>16)||!((ee[s+4>>1]&(o>>>16&65535))<<16>>16))return t=0,t|0;h=(e[n+12>>2]|0)>(e[s+12>>2]|0),d=h?s:n,a=e[d+12>>2]|0,h=h?n:s,n=e[h+12>>2]|0,u=((n<<16|a)+~((n<<16|a)<<15)>>10^(n<<16|a)+~((n<<16|a)<<15))*9|0,u=(u>>6^u)+~((u>>6^u)<<11)>>16^(u>>6^u)+~((u>>6^u)<<11),p=e[t+12>>2]|0,o=e[(e[t+40>>2]|0)+((u&p+-1)<<2)>>2]|0;e:do if((o|0)!=-1){for(s=e[t+16>>2]|0;!((e[(e[s+(o<<4)>>2]|0)+12>>2]|0)==(a|0)&&(e[(e[s+(o<<4)+4>>2]|0)+12>>2]|0)==(n|0));)if(o=e[(e[t+60>>2]|0)+(o<<2)>>2]|0,(o|0)==-1)break e;if(o=s+(o<<4)|0,o|0)return t=o,t|0}while(!1);if(l=e[t+8>>2]|0,(l|0)==(p|0))if(o=p|0?p<<1:1,(p|0)<(o|0)){if(o?(e[5637]=(e[5637]|0)+1,n=Xe((o<<4|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,s=e[t+8>>2]|0):(n=0,s=p),(s|0)>0){a=0;do m=e[t+16>>2]|0,e[n+(a<<4)>>2]=e[m+(a<<4)>>2],e[n+(a<<4)+4>>2]=e[m+(a<<4)+4>>2],e[n+(a<<4)+8>>2]=e[m+(a<<4)+8>>2],e[n+(a<<4)+12>>2]=e[m+(a<<4)+12>>2],a=a+1|0;while((a|0)!=(s|0))}a=e[t+16>>2]|0,a&&(R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),s=e[t+8>>2]|0),e[t+16>>2]=0),R[t+20>>0]=1,e[t+16>>2]=n,e[t+12>>2]=o}else s=p,o=p;else s=l,o=p;return e[t+8>>2]=s+1,s=e[t+16>>2]|0,n=e[t+68>>2]|0,n&&(G0[e[(e[n>>2]|0)+8>>2]&63](n,d,h)|0,o=e[t+12>>2]|0),(p|0)<(o|0)?(Sh(t),o=(e[t+12>>2]|0)+-1&u):o=u&p+-1,m=(e[d+12>>2]|0)<(e[h+12>>2]|0),e[s+(l<<4)>>2]=m?d:h,e[s+(l<<4)+4>>2]=m?h:d,e[s+(l<<4)+8>>2]=0,e[s+(l<<4)+8+4>>2]=0,m=(e[t+40>>2]|0)+(o<<2)|0,e[(e[t+60>>2]|0)+(l<<2)>>2]=e[m>>2],e[m>>2]=l,m=s+(l<<4)|0,m|0}function Sh(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0;if(u=e[t+12>>2]|0,p=e[t+32>>2]|0,!((u|0)<=(p|0))){if((u|0)>=(p|0)){do if((e[t+36>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,n=Xe((u<<2|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,s=e[t+32>>2]|0):(n=0,s=p),o=e[t+40>>2]|0,(s|0)<=0){if(!o){R[t+44>>0]=1,e[t+40>>2]=n,e[t+36>>2]=u;break}}else{a=0;do e[n+(a<<2)>>2]=e[o+(a<<2)>>2],a=a+1|0;while((a|0)!=(s|0))}R[t+44>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),R[t+44>>0]=1,e[t+40>>2]=n,e[t+36>>2]=u}else n=e[t+40>>2]|0;while(!1);ln(n+(p<<2)|0,0,u-p<<2|0)|0}if(e[t+32>>2]=u,l=e[t+52>>2]|0,(u|0)>(l|0)){do if((e[t+56>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,n=Xe((u<<2|3)+16|0)|0,n?(e[(n+4+15&-16)+-4>>2]=n,n=n+4+15&-16):n=0,s=e[t+52>>2]|0):(n=0,s=l),o=e[t+60>>2]|0,(s|0)<=0){if(!o){R[t+64>>0]=1,e[t+60>>2]=n,e[t+56>>2]=u;break}}else{a=0;do e[n+(a<<2)>>2]=e[o+(a<<2)>>2],a=a+1|0;while((a|0)!=(s|0))}R[t+64>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),R[t+64>>0]=1,e[t+60>>2]=n,e[t+56>>2]=u}else n=e[t+60>>2]|0;while(!1);ln(n+(l<<2)|0,0,u-l<<2|0)|0}if(e[t+52>>2]=u,(u|0)>0&&(ln(e[t+40>>2]|0,-1,u<<2|0)|0,ln(e[t+60>>2]|0,-1,u<<2|0)|0),!((p|0)<=0)){n=e[t+16>>2]|0,s=e[t+40>>2]|0,o=e[t+60>>2]|0,a=0;do u=e[(e[n+(a<<4)+4>>2]|0)+12>>2]<<16|e[(e[n+(a<<4)>>2]|0)+12>>2],u=(u+~(u<<15)>>10^u+~(u<<15))*9|0,u=s+((((u>>6^u)+~((u>>6^u)<<11)>>16^(u>>6^u)+~((u>>6^u)<<11))&(e[t+12>>2]|0)+-1)<<2)|0,e[o+(a<<2)>>2]=e[u>>2],e[u>>2]=a,a=a+1|0;while((a|0)!=(p|0))}}}function j2e(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0;if(e[4985]=(e[4985]|0)+1,h=(e[n+12>>2]|0)>(e[s+12>>2]|0),m=h?s:n,u=e[m+12>>2]|0,h=h?n:s,a=e[h+12>>2]|0,p=((a<<16|u)+~((a<<16|u)<<15)>>10^(a<<16|u)+~((a<<16|u)<<15))*9|0,p=((p>>6^p)+~((p>>6^p)<<11)>>16^(p>>6^p)+~((p>>6^p)<<11))&(e[t+12>>2]|0)+-1,n=e[(e[t+40>>2]|0)+(p<<2)>>2]|0,(n|0)==-1)return C=0,C|0;for(l=e[t+16>>2]|0,s=n;!((e[(e[l+(s<<4)>>2]|0)+12>>2]|0)==(u|0)&&(e[(e[l+(s<<4)+4>>2]|0)+12>>2]|0)==(a|0));)if(n=e[(e[t+60>>2]|0)+(s<<2)>>2]|0,(n|0)==-1){n=0,C=24;break}else s=n;if((C|0)==24)return n|0;if(n=l+(s<<4)|0,!n)return C=0,C|0;if(f0[e[(e[t>>2]|0)+32>>2]&127](t,n,o),S=e[l+(s<<4)+12>>2]|0,g=n-(e[t+16>>2]|0)>>4,u=(e[t+40>>2]|0)+(p<<2)|0,n=e[u>>2]|0,s=e[t+60>>2]|0,(n|0)!=(g|0)){for(l=n;a=s+(l<<2)|0,n=e[a>>2]|0,(n|0)!=(g|0);)l=n;n=e[s+(g<<2)>>2]|0,(l|0)==-1?C=12:e[a>>2]=n}else n=e[s+(g<<2)>>2]|0,C=12;if((C|0)==12&&(e[u>>2]=n),d=(e[t+8>>2]|0)+-1|0,n=e[t+68>>2]|0,n|0&&q2[e[(e[n>>2]|0)+12>>2]&31](n,m,h,o)|0,(d|0)==(g|0))return e[t+8>>2]=(e[t+8>>2]|0)+-1,C=S,C|0;if(h=e[t+16>>2]|0,u=e[(e[h+(d<<4)+4>>2]|0)+12>>2]<<16|e[(e[h+(d<<4)>>2]|0)+12>>2],u=(u+~(u<<15)>>10^u+~(u<<15))*9|0,u=((u>>6^u)+~((u>>6^u)<<11)>>16^(u>>6^u)+~((u>>6^u)<<11))&(e[t+12>>2]|0)+-1,p=(e[t+40>>2]|0)+(u<<2)|0,n=e[p>>2]|0,s=e[t+60>>2]|0,(n|0)!=(d|0)){for(l=n;a=s+(l<<2)|0,n=e[a>>2]|0,(n|0)!=(d|0);)l=n;n=e[s+(d<<2)>>2]|0,(l|0)==-1?C=22:e[a>>2]=n}else n=e[s+(d<<2)>>2]|0,C=22;return(C|0)==22&&(e[p>>2]=n),e[h+(g<<4)>>2]=e[h+(d<<4)>>2],e[h+(g<<4)+4>>2]=e[h+(d<<4)+4>>2],e[h+(g<<4)+8>>2]=e[h+(d<<4)+8>>2],e[h+(g<<4)+12>>2]=e[h+(d<<4)+12>>2],C=(e[t+40>>2]|0)+(u<<2)|0,e[(e[t+60>>2]|0)+(g<<2)>>2]=e[C>>2],e[C>>2]=g,e[t+8>>2]=(e[t+8>>2]|0)+-1,C=S,C|0}function q2e(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;o=H,H=H+16|0,e[o>>2]=2940,e[o+4>>2]=n,f0[e[(e[t>>2]|0)+48>>2]&127](t,o,s),H=o}function X2e(t){t=t|0}function $2e(t){t=t|0,ye(t)}function Y2e(t,n){return t=t|0,n=n|0,t=e[t+4>>2]|0,((e[n>>2]|0)==(t|0)?1:(e[n+4>>2]|0)==(t|0))|0}function K2e(t){return t=t|0,e[t+16>>2]|0}function Z2e(t){return t=t|0,e[t+16>>2]|0}function Q2e(t){return t=t|0,t+4|0}function J2e(t,n,s){t=t|0,n=n|0,s=s|0,t=e[n+8>>2]|0,(s|0)!=0&(t|0)!=0&&(Vt[e[e[t>>2]>>2]&255](t),zt[e[(e[s>>2]|0)+60>>2]&127](s,e[n+8>>2]|0),e[n+8>>2]=0)}function ere(t){return t=t|0,e[t+8>>2]|0}function tre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;o=H,H=H+16|0,e[o>>2]=2960,e[o+4>>2]=n,e[o+8>>2]=t,e[o+12>>2]=s,f0[e[(e[t>>2]|0)+48>>2]&127](t,o,s),H=o}function ire(t){t=t|0,ye(t)}function nre(t,n){t=t|0,n=n|0;var s=0;return s=e[t+4>>2]|0,(e[n>>2]|0)!=(s|0)&&(e[n+4>>2]|0)!=(s|0)||(s=e[t+8>>2]|0,f0[e[(e[s>>2]|0)+32>>2]&127](s,n,e[t+12>>2]|0)),0}function rre(t,n){t=t|0,n=n|0,e[t+24>>2]=n}function sre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;if(!((e[t+8>>2]|0)<=0)){l=0;e:for(;;){for(;o=e[t+16>>2]|0,a=o+(l<<4)|0,!!(I0[e[(e[n>>2]|0)+8>>2]&31](n,a)|0);)if(q2[e[(e[t>>2]|0)+12>>2]&31](t,e[a>>2]|0,e[o+(l<<4)+4>>2]|0,s)|0,e[4984]=(e[4984]|0)+-1,(l|0)>=(e[t+8>>2]|0)){o=7;break e}if(l=l+1|0,(l|0)>=(e[t+8>>2]|0)){o=7;break}}o|0}}function ore(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0;if(e[4987]=(e[4987]|0)+1,o=(e[n+12>>2]|0)>(e[s+12>>2]|0),a=e[(o?s:n)+12>>2]|0,o=e[(o?n:s)+12>>2]|0,n=((o<<16|a)+~((o<<16|a)<<15)>>10^(o<<16|a)+~((o<<16|a)<<15))*9|0,n=((n>>6^n)+~((n>>6^n)<<11)>>16^(n>>6^n)+~((n>>6^n)<<11))&(e[t+12>>2]|0)+-1,(n|0)>=(e[t+32>>2]|0)||(n=e[(e[t+40>>2]|0)+(n<<2)>>2]|0,(n|0)==-1))return l=0,l|0;for(s=e[t+16>>2]|0;!((e[(e[s+(n<<4)>>2]|0)+12>>2]|0)==(a|0)&&(e[(e[s+(n<<4)+4>>2]|0)+12>>2]|0)==(o|0));)if(n=e[(e[t+60>>2]|0)+(n<<2)>>2]|0,(n|0)==-1){n=0,l=8;break}return(l|0)==8?n|0:(l=s+(n<<4)|0,l|0)}function are(t){return t=t|0,0}function cre(t,n){t=t|0,n=n|0,e[t+68>>2]=n}function lre(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0;if(S=H,H=H+32|0,R[S+16>>0]=1,e[S+12>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,s=e[t+8>>2]|0,(s|0)>0){a=0,l=0,o=0,m=0;do{if(h=e[t+16>>2]|0,d=h+(m<<4)|0,(a|0)==(o|0))if(p=o|0?o<<1:1,(o|0)<(p|0)){if(p?(e[5637]=(e[5637]|0)+1,s=Xe((p<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,l=s+4+15&-16,o=a):(l=0,o=a)):l=0,(o|0)>0){s=0;do u=e[S+12>>2]|0,e[l+(s<<4)>>2]=e[u+(s<<4)>>2],e[l+(s<<4)+4>>2]=e[u+(s<<4)+4>>2],e[l+(s<<4)+8>>2]=e[u+(s<<4)+8>>2],e[l+(s<<4)+12>>2]=e[u+(s<<4)+12>>2],s=s+1|0;while((s|0)!=(o|0))}s=e[S+12>>2]|0,s?(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),e[S+12>>2]=0):a=o,R[S+16>>0]=1,e[S+12>>2]=l,e[S+8>>2]=p,u=a,o=p,s=e[t+8>>2]|0}else u=o;else u=a;e[l+(u<<4)>>2]=e[d>>2],e[l+(u<<4)+4>>2]=e[h+(m<<4)+4>>2],e[l+(u<<4)+8>>2]=e[h+(m<<4)+8>>2],e[l+(u<<4)+12>>2]=e[h+(m<<4)+12>>2],a=u+1|0,m=m+1|0}while((m|0)<(s|0));if(e[S+4>>2]=a,(u|0)>-1)for(s=e[S+12>>2]|0,o=0;q2[e[(e[t>>2]|0)+12>>2]&31](t,e[s+(o<<4)>>2]|0,e[s+(o<<4)+4>>2]|0,n)|0,(o|0)<(u|0);)o=o+1|0}else a=0;if((e[t+52>>2]|0)>0){s=e[t+60>>2]|0,o=0;do e[s+(o<<2)>>2]=-1,o=o+1|0;while((o|0)<(e[t+52>>2]|0))}if((a|0)<=1?(a|0)>0?g=24:s=e[S+12>>2]|0:(gc(S,0,a+-1|0),g=24),(g|0)==24){s=e[S+12>>2]|0,o=0;do G0[e[(e[t>>2]|0)+8>>2]&63](t,e[s+(o<<4)>>2]|0,e[s+(o<<4)+4>>2]|0)|0,o=o+1|0;while((o|0)<(a|0))}if(!s){H=S;return}e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0),e[S+12>>2]=0,H=S}function Kf(t){t=t|0;var n=0,s=0,o=0,a=0;if(e[t>>2]=2864,R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,e[t+12>>2]=0,e[t+24>>2]=0,R[t+44>>0]=1,e[t+40>>2]=0,e[t+32>>2]=0,e[t+36>>2]=0,R[t+64>>0]=1,e[t+60>>2]=0,e[t+52>>2]=0,e[t+56>>2]=0,e[t+68>>2]=0,e[5637]=(e[5637]|0)+1,n=Xe(51)|0,n?(e[(n+4+15&-16)+-4>>2]=n,o=n+4+15&-16):o=0,n=e[t+8>>2]|0,(n|0)>0){s=0;do a=e[t+16>>2]|0,e[o+(s<<4)>>2]=e[a+(s<<4)>>2],e[o+(s<<4)+4>>2]=e[a+(s<<4)+4>>2],e[o+(s<<4)+8>>2]=e[a+(s<<4)+8>>2],e[o+(s<<4)+12>>2]=e[a+(s<<4)+12>>2],s=s+1|0;while((s|0)!=(n|0))}if(n=e[t+16>>2]|0,!n){R[t+20>>0]=1,e[t+16>>2]=o,e[t+12>>2]=2,Sh(t);return}R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,R[t+20>>0]=1,e[t+16>>2]=o,e[t+12>>2]=2,Sh(t)}function Zf(t){t=t|0;var n=0;if(e[t>>2]=2980,n=e[t+160>>2]|0,n|0&&(R[t+164>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+160>>2]=0),R[t+164>>0]=1,e[t+160>>2]=0,e[t+152>>2]=0,e[t+156>>2]=0,n=e[t+136>>2]|0,n|0&&(R[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+136>>2]=0),R[t+140>>0]=1,e[t+136>>2]=0,e[t+128>>2]=0,e[t+132>>2]=0,n=e[t+116>>2]|0,n|0&&(R[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+116>>2]=0),R[t+120>>0]=1,e[t+116>>2]=0,e[t+108>>2]=0,e[t+112>>2]=0,n=e[t+96>>2]|0,n|0&&(R[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+96>>2]=0),R[t+100>>0]=1,e[t+96>>2]=0,e[t+88>>2]=0,e[t+92>>2]=0,n=e[t+76>>2]|0,!n){R[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,t=t+72|0,e[t>>2]=0;return}R[t+80>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+76>>2]=0,R[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,t=t+72|0,e[t>>2]=0}function ure(t){t=t|0,Zf(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function hm(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0;if(e[t+168>>2]=e[t+152>>2],e[n>>2]=2980,e[n+52>>2]=284,R[n+60>>0]=0,R[n+80>>0]=1,e[n+76>>2]=0,e[n+68>>2]=0,e[n+72>>2]=0,R[n+100>>0]=1,e[n+96>>2]=0,e[n+88>>2]=0,e[n+92>>2]=0,R[n+120>>0]=1,e[n+116>>2]=0,e[n+108>>2]=0,e[n+112>>2]=0,R[n+140>>0]=1,e[n+136>>2]=0,e[n+128>>2]=0,e[n+132>>2]=0,e[n+144>>2]=0,R[n+164>>0]=1,e[n+160>>2]=0,e[n+152>>2]=0,e[n+156>>2]=0,e[n+168>>2]=0,e[n+4>>2]=-8388609,e[n+8>>2]=-8388609,e[n+12>>2]=-8388609,i[n+16>>2]=0,e[n+20>>2]=2139095039,e[n+24>>2]=2139095039,e[n+28>>2]=2139095039,i[n+32>>2]=0,s=e[t+56>>2]|0,o?(e[n+56>>2]=Mo(s|0)|0,R[n+4>>0]=R[t+4+3>>0]|0,R[n+5>>0]=R[t+4+2>>0]|0,R[n+6>>0]=R[t+4+1>>0]|0,R[n+7>>0]=R[t+4>>0]|0,R[n+8>>0]=R[t+8+3>>0]|0,R[n+9>>0]=R[t+8+2>>0]|0,R[n+10>>0]=R[t+8+1>>0]|0,R[n+11>>0]=R[t+8>>0]|0,R[n+12>>0]=R[t+12+3>>0]|0,R[n+13>>0]=R[t+12+2>>0]|0,R[n+14>>0]=R[t+12+1>>0]|0,R[n+15>>0]=R[t+12>>0]|0,R[n+16>>0]=R[t+16+3>>0]|0,R[n+17>>0]=R[t+16+2>>0]|0,R[n+18>>0]=R[t+16+1>>0]|0,R[n+19>>0]=R[t+16>>0]|0,R[n+20>>0]=R[t+20+3>>0]|0,R[n+21>>0]=R[t+20+2>>0]|0,R[n+22>>0]=R[t+20+1>>0]|0,R[n+23>>0]=R[t+20>>0]|0,R[n+24>>0]=R[t+24+3>>0]|0,R[n+25>>0]=R[t+24+2>>0]|0,R[n+26>>0]=R[t+24+1>>0]|0,R[n+27>>0]=R[t+24>>0]|0,R[n+28>>0]=R[t+28+3>>0]|0,R[n+29>>0]=R[t+28+2>>0]|0,R[n+30>>0]=R[t+28+1>>0]|0,R[n+31>>0]=R[t+28>>0]|0,R[n+32>>0]=R[t+32+3>>0]|0,R[n+33>>0]=R[t+32+2>>0]|0,R[n+34>>0]=R[t+32+1>>0]|0,R[n+35>>0]=R[t+32>>0]|0,R[n+36>>0]=R[t+36+3>>0]|0,R[n+37>>0]=R[t+36+2>>0]|0,R[n+38>>0]=R[t+36+1>>0]|0,R[n+39>>0]=R[t+36>>0]|0,R[n+40>>0]=R[t+40+3>>0]|0,R[n+41>>0]=R[t+40+2>>0]|0,R[n+42>>0]=R[t+40+1>>0]|0,R[n+43>>0]=R[t+40>>0]|0,R[n+44>>0]=R[t+44+3>>0]|0,R[n+45>>0]=R[t+44+2>>0]|0,R[n+46>>0]=R[t+44+1>>0]|0,R[n+47>>0]=R[t+44>>0]|0,R[n+48>>0]=R[t+48+3>>0]|0,R[n+49>>0]=R[t+48+2>>0]|0,R[n+50>>0]=R[t+48+1>>0]|0,R[n+51>>0]=R[t+48>>0]|0,e[n+144>>2]=Mo(e[t+144>>2]|0)|0,s=Mo(e[t+168>>2]|0)|0):(e[n+56>>2]=s,e[n+4>>2]=e[t+4>>2],e[n+4+4>>2]=e[t+4+4>>2],e[n+4+8>>2]=e[t+4+8>>2],e[n+4+12>>2]=e[t+4+12>>2],e[n+20>>2]=e[t+20>>2],e[n+20+4>>2]=e[t+20+4>>2],e[n+20+8>>2]=e[t+20+8>>2],e[n+20+12>>2]=e[t+20+12>>2],e[n+36>>2]=e[t+36>>2],e[n+36+4>>2]=e[t+36+4>>2],e[n+36+8>>2]=e[t+36+8>>2],e[n+36+12>>2]=e[t+36+12>>2],e[n+144>>2]=e[t+144>>2],s=e[t+168>>2]|0),e[n+168>>2]=s,R[n+60>>0]=R[t+60>>0]|0,u=e[t+56>>2]|0,R[t+60>>0]|0){if(s=e[n+136>>2]|0,s|0&&(R[n+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[n+136>>2]=0),e[n+128>>2]=0,e[n+128+4>>2]=0,e[n+128+8>>2]=0,R[n+128+12>>0]=0,e[n+136>>2]=n+172,e[n+128>>2]=u,e[n+132>>2]=u,o){if((u|0)>0){s=e[t+136>>2]|0,a=0;do d=Le[s+(a<<4)>>1]|0,ee[n+172+(a<<4)>>1]=d>>>8|d<<8,d=Le[s+(a<<4)+2>>1]|0,ee[n+172+(a<<4)+2>>1]=d>>>8|d<<8,d=Le[s+(a<<4)+4>>1]|0,ee[n+172+(a<<4)+4>>1]=d>>>8|d<<8,d=Le[s+(a<<4)+6>>1]|0,ee[n+172+(a<<4)+6>>1]=d>>>8|d<<8,d=Le[s+(a<<4)+8>>1]|0,ee[n+172+(a<<4)+8>>1]=d>>>8|d<<8,d=Le[s+(a<<4)+10>>1]|0,ee[n+172+(a<<4)+10>>1]=d>>>8|d<<8,e[n+172+(a<<4)+12>>2]=Mo(e[s+(a<<4)+12>>2]|0)|0,a=a+1|0;while((a|0)!=(u|0))}}else if((u|0)>0){s=e[t+136>>2]|0,a=0;do ee[n+172+(a<<4)>>1]=ee[s+(a<<4)>>1]|0,ee[n+172+(a<<4)+2>>1]=ee[s+(a<<4)+2>>1]|0,ee[n+172+(a<<4)+4>>1]=ee[s+(a<<4)+4>>1]|0,ee[n+172+(a<<4)+6>>1]=ee[s+(a<<4)+6>>1]|0,ee[n+172+(a<<4)+8>>1]=ee[s+(a<<4)+8>>1]|0,ee[n+172+(a<<4)+10>>1]=ee[s+(a<<4)+10>>1]|0,e[n+172+(a<<4)+12>>2]=e[s+(a<<4)+12>>2],a=a+1|0;while((a|0)!=(u|0))}e[n+136>>2]|0&&(e[n+136>>2]=0),e[n+128>>2]=0,e[n+128+4>>2]=0,e[n+128+8>>2]=0,R[n+128+12>>0]=0,s=u<<4}else{if(s=e[n+96>>2]|0,s|0&&(R[n+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[n+96>>2]=0),e[n+88>>2]=0,e[n+88+4>>2]=0,e[n+88+8>>2]=0,R[n+88+12>>0]=0,e[n+96>>2]=n+172,e[n+88>>2]=u,e[n+92>>2]=u,o)if((u|0)>0){a=e[t+96>>2]|0,s=n+172|0,l=0;do p=a+(l<<6)|0,d=s+(l<<6)|0,R[d>>0]=R[p+3>>0]|0,R[d+1>>0]=R[p+2>>0]|0,R[d+2>>0]=R[p+1>>0]|0,R[d+3>>0]=R[p>>0]|0,d=a+(l<<6)+4|0,p=s+(l<<6)+4|0,R[p>>0]=R[d+3>>0]|0,R[p+1>>0]=R[d+2>>0]|0,R[p+2>>0]=R[d+1>>0]|0,R[p+3>>0]=R[d>>0]|0,p=a+(l<<6)+8|0,d=s+(l<<6)+8|0,R[d>>0]=R[p+3>>0]|0,R[d+1>>0]=R[p+2>>0]|0,R[d+2>>0]=R[p+1>>0]|0,R[d+3>>0]=R[p>>0]|0,d=a+(l<<6)+12|0,s=s+(l<<6)+12|0,R[s>>0]=R[d+3>>0]|0,R[s+1>>0]=R[d+2>>0]|0,R[s+2>>0]=R[d+1>>0]|0,R[s+3>>0]=R[d>>0]|0,s=e[t+96>>2]|0,d=s+(l<<6)+16|0,p=e[n+96>>2]|0,h=p+(l<<6)+16|0,R[h>>0]=R[d+3>>0]|0,R[h+1>>0]=R[d+2>>0]|0,R[h+2>>0]=R[d+1>>0]|0,R[h+3>>0]=R[d>>0]|0,h=s+(l<<6)+20|0,d=p+(l<<6)+20|0,R[d>>0]=R[h+3>>0]|0,R[d+1>>0]=R[h+2>>0]|0,R[d+2>>0]=R[h+1>>0]|0,R[d+3>>0]=R[h>>0]|0,d=s+(l<<6)+24|0,h=p+(l<<6)+24|0,R[h>>0]=R[d+3>>0]|0,R[h+1>>0]=R[d+2>>0]|0,R[h+2>>0]=R[d+1>>0]|0,R[h+3>>0]=R[d>>0]|0,s=s+(l<<6)+28|0,p=p+(l<<6)+28|0,R[p>>0]=R[s+3>>0]|0,R[p+1>>0]=R[s+2>>0]|0,R[p+2>>0]=R[s+1>>0]|0,R[p+3>>0]=R[s>>0]|0,a=e[t+96>>2]|0,p=Mo(e[a+(l<<6)+32>>2]|0)|0,s=e[n+96>>2]|0,e[s+(l<<6)+32>>2]=p,e[s+(l<<6)+36>>2]=Mo(e[a+(l<<6)+36>>2]|0)|0,e[s+(l<<6)+40>>2]=Mo(e[a+(l<<6)+40>>2]|0)|0,l=l+1|0;while((l|0)!=(u|0))}else s=n+172|0;else if((u|0)>0){s=n+172|0,a=e[t+96>>2]|0,l=0;do s=s+(l<<6)|0,d=a+(l<<6)|0,e[s>>2]=e[d>>2],e[s+4>>2]=e[d+4>>2],e[s+8>>2]=e[d+8>>2],e[s+12>>2]=e[d+12>>2],s=(e[n+96>>2]|0)+(l<<6)+16|0,d=(e[t+96>>2]|0)+(l<<6)+16|0,e[s>>2]=e[d>>2],e[s+4>>2]=e[d+4>>2],e[s+8>>2]=e[d+8>>2],e[s+12>>2]=e[d+12>>2],a=e[t+96>>2]|0,s=e[n+96>>2]|0,e[s+(l<<6)+32>>2]=e[a+(l<<6)+32>>2],e[s+(l<<6)+36>>2]=e[a+(l<<6)+36>>2],e[s+(l<<6)+40>>2]=e[a+(l<<6)+40>>2],l=l+1|0;while((l|0)!=(u|0))}else s=n+172|0;s|0&&(R[n+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[s+-4>>2]|0)),e[n+96>>2]=0),e[n+88>>2]=0,e[n+88+4>>2]=0,e[n+88+8>>2]=0,R[n+88+12>>0]=0,s=u<<6}if(u=n+172+s|0,s=e[t+168>>2]|0,a=e[n+160>>2]|0,a|0&&(R[n+164>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[n+160>>2]=0),e[n+152>>2]=0,e[n+152+4>>2]=0,e[n+152+8>>2]=0,R[n+152+12>>0]=0,e[n+160>>2]=u,e[n+152>>2]=s,e[n+156>>2]=s,l=e[t+168>>2]|0,o){if((l|0)>0){s=e[t+160>>2]|0,a=0;do d=Le[s+(a<<5)>>1]|0,ee[u+(a<<5)>>1]=d>>>8|d<<8,d=Le[s+(a<<5)+2>>1]|0,ee[u+(a<<5)+2>>1]=d>>>8|d<<8,d=Le[s+(a<<5)+4>>1]|0,ee[u+(a<<5)+4>>1]=d>>>8|d<<8,d=Le[s+(a<<5)+6>>1]|0,ee[u+(a<<5)+6>>1]=d>>>8|d<<8,d=Le[s+(a<<5)+8>>1]|0,ee[u+(a<<5)+8>>1]=d>>>8|d<<8,d=Le[s+(a<<5)+10>>1]|0,ee[u+(a<<5)+10>>1]=d>>>8|d<<8,e[u+(a<<5)+12>>2]=Mo(e[s+(a<<5)+12>>2]|0)|0,e[u+(a<<5)+16>>2]=Mo(e[s+(a<<5)+16>>2]|0)|0,a=a+1|0;while((a|0)!=(l|0))}}else if((l|0)>0){s=e[t+160>>2]|0,a=0;do ee[u+(a<<5)>>1]=ee[s+(a<<5)>>1]|0,ee[u+(a<<5)+2>>1]=ee[s+(a<<5)+2>>1]|0,ee[u+(a<<5)+4>>1]=ee[s+(a<<5)+4>>1]|0,ee[u+(a<<5)+6>>1]=ee[s+(a<<5)+6>>1]|0,ee[u+(a<<5)+8>>1]=ee[s+(a<<5)+8>>1]|0,ee[u+(a<<5)+10>>1]=ee[s+(a<<5)+10>>1]|0,e[u+(a<<5)+12>>2]=e[s+(a<<5)+12>>2],e[u+(a<<5)+16>>2]=e[s+(a<<5)+16>>2],e[u+(a<<5)+20>>2]=0,e[u+(a<<5)+24>>2]=0,e[u+(a<<5)+28>>2]=0,a=a+1|0;while((a|0)<(e[t+168>>2]|0))}return e[n+160>>2]|0?(e[n+160>>2]=0,e[n>>2]=0,e[n+152>>2]=0,e[n+152+4>>2]=0,e[n+152+8>>2]=0,R[n+152+12>>0]=0,1):(e[n>>2]=0,e[n+152>>2]=0,e[n+152+4>>2]=0,e[n+152+8>>2]=0,R[n+152+12>>0]=0,1)}function fre(t){return t=t|0,84}function _re(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0;if(e[n+16>>2]=e[t+20>>2],e[n+20>>2]=e[t+24>>2],e[n+24>>2]=e[t+28>>2],e[n+28>>2]=e[t+32>>2],e[n>>2]=e[t+4>>2],e[n+4>>2]=e[t+8>>2],e[n+8>>2]=e[t+12>>2],e[n+12>>2]=e[t+16>>2],e[n+32>>2]=e[t+36>>2],e[n+36>>2]=e[t+40>>2],e[n+40>>2]=e[t+44>>2],e[n+44>>2]=e[t+48>>2],e[n+48>>2]=e[t+56>>2],e[n+52>>2]=It[t+60>>0],p=e[t+88>>2]|0,e[n+56>>2]=p,p){if(p=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+96>>2]|0)|0,e[n+64>>2]=p,p|0){if(a=e[t+88>>2]|0,p=G0[e[(e[s>>2]|0)+16>>2]&63](s,48,a)|0,(a|0)>0)for(o=e[t+96>>2]|0,l=0,u=e[p+8>>2]|0;e[u+16>>2]=e[o+(l<<6)+16>>2],e[u+20>>2]=e[o+(l<<6)+20>>2],e[u+24>>2]=e[o+(l<<6)+24>>2],e[u+28>>2]=e[o+(l<<6)+28>>2],e[u>>2]=e[o+(l<<6)>>2],e[u+4>>2]=e[o+(l<<6)+4>>2],e[u+8>>2]=e[o+(l<<6)+8>>2],e[u+12>>2]=e[o+(l<<6)+12>>2],e[u+32>>2]=e[o+(l<<6)+32>>2],e[u+36>>2]=e[o+(l<<6)+36>>2],e[u+40>>2]=e[o+(l<<6)+40>>2],l=l+1|0,(l|0)!=(a|0);)u=u+48|0;else o=e[t+96>>2]|0;Zi[e[(e[s>>2]|0)+20>>2]&31](s,p,8969,1497453121,o)}}else e[n+64>>2]=0;if(p=e[t+128>>2]|0,e[n+60>>2]=p,p){if(p=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+136>>2]|0)|0,e[n+68>>2]=p,p|0){if(a=e[t+128>>2]|0,p=G0[e[(e[s>>2]|0)+16>>2]&63](s,16,a)|0,(a|0)>0)for(o=e[t+136>>2]|0,l=0,u=e[p+8>>2]|0;e[u+12>>2]=e[o+(l<<4)+12>>2],ee[u+6>>1]=ee[o+(l<<4)+6>>1]|0,ee[u+8>>1]=ee[o+(l<<4)+8>>1]|0,ee[u+10>>1]=ee[o+(l<<4)+10>>1]|0,ee[u>>1]=ee[o+(l<<4)>>1]|0,ee[u+2>>1]=ee[o+(l<<4)+2>>1]|0,ee[u+4>>1]=ee[o+(l<<4)+4>>1]|0,l=l+1|0,(l|0)!=(a|0);)u=u+16|0;else o=e[t+136>>2]|0;Zi[e[(e[s>>2]|0)+20>>2]&31](s,p,8992,1497453121,o)}}else e[n+68>>2]=0;if(e[n+76>>2]=e[t+144>>2],p=e[t+152>>2]|0,e[n+80>>2]=p,!p)return e[n+72>>2]=0,9036;if(p=I0[e[(e[s>>2]|0)+28>>2]&31](s,e[t+160>>2]|0)|0,e[n+72>>2]=p,!p)return 9036;if(u=e[t+152>>2]|0,p=G0[e[(e[s>>2]|0)+16>>2]&63](s,20,u)|0,(u|0)>0)for(o=e[t+160>>2]|0,a=0,l=e[p+8>>2]|0;ee[l+14>>1]=ee[o+(a<<5)+6>>1]|0,ee[l+16>>1]=ee[o+(a<<5)+8>>1]|0,ee[l+18>>1]=ee[o+(a<<5)+10>>1]|0,ee[l+8>>1]=ee[o+(a<<5)>>1]|0,ee[l+10>>1]=ee[o+(a<<5)+2>>1]|0,ee[l+12>>1]=ee[o+(a<<5)+4>>1]|0,e[l>>2]=e[o+(a<<5)+12>>2],e[l+4>>2]=e[o+(a<<5)+16>>2],a=a+1|0,(a|0)!=(u|0);)l=l+20|0;else o=e[t+160>>2]|0;return Zi[e[(e[s>>2]|0)+20>>2]&31](s,p,9015,1497453121,o),9036}function pre(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;m=H,H=H+112|0,e[t+20>>2]=e[n+16>>2],e[t+24>>2]=e[n+20>>2],e[t+28>>2]=e[n+24>>2],e[t+32>>2]=e[n+28>>2],e[t+4>>2]=e[n>>2],e[t+8>>2]=e[n+4>>2],e[t+12>>2]=e[n+8>>2],e[t+16>>2]=e[n+12>>2],e[t+36>>2]=e[n+32>>2],e[t+40>>2]=e[n+36>>2],e[t+44>>2]=e[n+40>>2],e[t+48>>2]=e[n+44>>2],e[t+56>>2]=e[n+48>>2],R[t+60>>0]=(e[n+52>>2]|0)!=0&1,d=e[n+56>>2]|0,l=m+48|0,p=l+64|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(p|0));if(h=e[t+88>>2]|0,(h|0)<(d|0)){if((e[t+92>>2]|0)<(d|0)){if(d?(e[5637]=(e[5637]|0)+1,s=Xe(d<<6|19)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+88>>2]|0):(s=0,o=h),(o|0)>0){a=0;do{l=s+(a<<6)|0,u=(e[t+96>>2]|0)+(a<<6)|0,p=l+64|0;do e[l>>2]=e[u>>2],l=l+4|0,u=u+4|0;while((l|0)<(p|0));a=a+1|0}while((a|0)!=(o|0))}o=e[t+96>>2]|0,o|0&&(R[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+96>>2]=0),R[t+100>>0]=1,e[t+96>>2]=s,e[t+92>>2]=d,o=t+96|0}else o=t+96|0;s=h;do{l=(e[o>>2]|0)+(s<<6)|0,u=m+48|0,p=l+64|0;do e[l>>2]=e[u>>2],l=l+4|0,u=u+4|0;while((l|0)<(p|0));s=s+1|0}while((s|0)!=(d|0))}if(e[t+88>>2]=d,(d|0)>0)for(s=e[t+96>>2]|0,o=0,a=e[n+64>>2]|0;e[s+(o<<6)+16>>2]=e[a+16>>2],e[s+(o<<6)+20>>2]=e[a+20>>2],e[s+(o<<6)+24>>2]=e[a+24>>2],e[s+(o<<6)+28>>2]=e[a+28>>2],e[s+(o<<6)>>2]=e[a>>2],e[s+(o<<6)+4>>2]=e[a+4>>2],e[s+(o<<6)+8>>2]=e[a+8>>2],e[s+(o<<6)+12>>2]=e[a+12>>2],e[s+(o<<6)+32>>2]=e[a+32>>2],e[s+(o<<6)+36>>2]=e[a+36>>2],e[s+(o<<6)+40>>2]=e[a+40>>2],o=o+1|0,(o|0)!=(d|0);)a=a+48|0;if(u=e[n+60>>2]|0,e[m+32>>2]=0,e[m+32+4>>2]=0,e[m+32+8>>2]=0,e[m+32+12>>2]=0,l=e[t+128>>2]|0,(l|0)<(u|0)){if((e[t+132>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,s=Xe((u<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+128>>2]|0):(s=0,o=l),(o|0)>0){a=0;do d=s+(a<<4)|0,h=(e[t+136>>2]|0)+(a<<4)|0,e[d>>2]=e[h>>2],e[d+4>>2]=e[h+4>>2],e[d+8>>2]=e[h+8>>2],e[d+12>>2]=e[h+12>>2],a=a+1|0;while((a|0)!=(o|0))}o=e[t+136>>2]|0,o|0&&(R[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+136>>2]=0),R[t+140>>0]=1,e[t+136>>2]=s,e[t+132>>2]=u,o=t+136|0}else o=t+136|0;s=l;do d=(e[o>>2]|0)+(s<<4)|0,e[d>>2]=e[m+32>>2],e[d+4>>2]=e[m+32+4>>2],e[d+8>>2]=e[m+32+8>>2],e[d+12>>2]=e[m+32+12>>2],s=s+1|0;while((s|0)!=(u|0))}if(e[t+128>>2]=u,(u|0)>0)for(s=e[t+136>>2]|0,o=0,a=e[n+68>>2]|0;e[s+(o<<4)+12>>2]=e[a+12>>2],ee[s+(o<<4)+6>>1]=ee[a+6>>1]|0,ee[s+(o<<4)+8>>1]=ee[a+8>>1]|0,ee[s+(o<<4)+10>>1]=ee[a+10>>1]|0,ee[s+(o<<4)>>1]=ee[a>>1]|0,ee[s+(o<<4)+2>>1]=ee[a+2>>1]|0,ee[s+(o<<4)+4>>1]=ee[a+4>>1]|0,o=o+1|0,(o|0)!=(u|0);)a=a+16|0;if(e[t+144>>2]=e[n+76>>2],u=e[n+80>>2]|0,l=e[t+152>>2]|0,(l|0)<(u|0)){if((e[t+156>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,s=Xe(u<<5|19)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+152>>2]|0):(s=0,o=l),(o|0)>0){a=0;do d=s+(a<<5)|0,h=(e[t+160>>2]|0)+(a<<5)|0,e[d>>2]=e[h>>2],e[d+4>>2]=e[h+4>>2],e[d+8>>2]=e[h+8>>2],e[d+12>>2]=e[h+12>>2],e[d+16>>2]=e[h+16>>2],e[d+20>>2]=e[h+20>>2],e[d+24>>2]=e[h+24>>2],e[d+28>>2]=e[h+28>>2],a=a+1|0;while((a|0)!=(o|0))}o=e[t+160>>2]|0,o|0&&(R[t+164>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+160>>2]=0),R[t+164>>0]=1,e[t+160>>2]=s,e[t+156>>2]=u,o=t+160|0}else o=t+160|0;s=l;do d=(e[o>>2]|0)+(s<<5)|0,e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],e[d+16>>2]=e[m+16>>2],e[d+20>>2]=e[m+20>>2],e[d+24>>2]=e[m+24>>2],e[d+28>>2]=e[m+28>>2],s=s+1|0;while((s|0)!=(u|0))}if(e[t+152>>2]=u,(u|0)<=0){H=m;return}for(o=e[t+160>>2]|0,a=0,s=e[n+72>>2]|0;ee[o+(a<<5)+6>>1]=ee[s+14>>1]|0,ee[o+(a<<5)+8>>1]=ee[s+16>>1]|0,ee[o+(a<<5)+10>>1]=ee[s+18>>1]|0,ee[o+(a<<5)>>1]=ee[s+8>>1]|0,ee[o+(a<<5)+2>>1]=ee[s+10>>1]|0,ee[o+(a<<5)+4>>1]=ee[s+12>>1]|0,e[o+(a<<5)+12>>2]=e[s>>2],e[o+(a<<5)+16>>2]=e[s+4>>2],a=a+1|0,(a|0)!=(u|0);)s=s+20|0;H=m}function hre(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;m=H,H=H+112|0,i[t+20>>2]=+Mt[n+32>>3],i[t+24>>2]=+Mt[n+40>>3],i[t+28>>2]=+Mt[n+48>>3],i[t+32>>2]=+Mt[n+56>>3],i[t+4>>2]=+Mt[n>>3],i[t+8>>2]=+Mt[n+8>>3],i[t+12>>2]=+Mt[n+16>>3],i[t+16>>2]=+Mt[n+24>>3],i[t+36>>2]=+Mt[n+64>>3],i[t+40>>2]=+Mt[n+72>>3],i[t+44>>2]=+Mt[n+80>>3],i[t+48>>2]=+Mt[n+88>>3],e[t+56>>2]=e[n+96>>2],R[t+60>>0]=(e[n+100>>2]|0)!=0&1,d=e[n+104>>2]|0,l=m+48|0,p=l+64|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(p|0));if(h=e[t+88>>2]|0,(h|0)<(d|0)){if((e[t+92>>2]|0)<(d|0)){if(d?(e[5637]=(e[5637]|0)+1,s=Xe(d<<6|19)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+88>>2]|0):(s=0,o=h),(o|0)>0){a=0;do{l=s+(a<<6)|0,u=(e[t+96>>2]|0)+(a<<6)|0,p=l+64|0;do e[l>>2]=e[u>>2],l=l+4|0,u=u+4|0;while((l|0)<(p|0));a=a+1|0}while((a|0)!=(o|0))}o=e[t+96>>2]|0,o|0&&(R[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+96>>2]=0),R[t+100>>0]=1,e[t+96>>2]=s,e[t+92>>2]=d,o=t+96|0}else o=t+96|0;s=h;do{l=(e[o>>2]|0)+(s<<6)|0,u=m+48|0,p=l+64|0;do e[l>>2]=e[u>>2],l=l+4|0,u=u+4|0;while((l|0)<(p|0));s=s+1|0}while((s|0)!=(d|0))}if(e[t+88>>2]=d,(d|0)>0)for(s=e[t+96>>2]|0,o=0,a=e[n+112>>2]|0;i[s+(o<<6)+16>>2]=+Mt[a+32>>3],i[s+(o<<6)+20>>2]=+Mt[a+40>>3],i[s+(o<<6)+24>>2]=+Mt[a+48>>3],i[s+(o<<6)+28>>2]=+Mt[a+56>>3],i[s+(o<<6)>>2]=+Mt[a>>3],i[s+(o<<6)+4>>2]=+Mt[a+8>>3],i[s+(o<<6)+8>>2]=+Mt[a+16>>3],i[s+(o<<6)+12>>2]=+Mt[a+24>>3],e[s+(o<<6)+32>>2]=e[a+64>>2],e[s+(o<<6)+36>>2]=e[a+68>>2],e[s+(o<<6)+40>>2]=e[a+72>>2],o=o+1|0,(o|0)!=(d|0);)a=a+80|0;if(u=e[n+108>>2]|0,e[m+32>>2]=0,e[m+32+4>>2]=0,e[m+32+8>>2]=0,e[m+32+12>>2]=0,l=e[t+128>>2]|0,(l|0)<(u|0)){if((e[t+132>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,s=Xe((u<<4|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+128>>2]|0):(s=0,o=l),(o|0)>0){a=0;do d=s+(a<<4)|0,h=(e[t+136>>2]|0)+(a<<4)|0,e[d>>2]=e[h>>2],e[d+4>>2]=e[h+4>>2],e[d+8>>2]=e[h+8>>2],e[d+12>>2]=e[h+12>>2],a=a+1|0;while((a|0)!=(o|0))}o=e[t+136>>2]|0,o|0&&(R[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+136>>2]=0),R[t+140>>0]=1,e[t+136>>2]=s,e[t+132>>2]=u,o=t+136|0}else o=t+136|0;s=l;do d=(e[o>>2]|0)+(s<<4)|0,e[d>>2]=e[m+32>>2],e[d+4>>2]=e[m+32+4>>2],e[d+8>>2]=e[m+32+8>>2],e[d+12>>2]=e[m+32+12>>2],s=s+1|0;while((s|0)!=(u|0))}if(e[t+128>>2]=u,(u|0)>0)for(s=e[t+136>>2]|0,o=0,a=e[n+116>>2]|0;e[s+(o<<4)+12>>2]=e[a+12>>2],ee[s+(o<<4)+6>>1]=ee[a+6>>1]|0,ee[s+(o<<4)+8>>1]=ee[a+8>>1]|0,ee[s+(o<<4)+10>>1]=ee[a+10>>1]|0,ee[s+(o<<4)>>1]=ee[a>>1]|0,ee[s+(o<<4)+2>>1]=ee[a+2>>1]|0,ee[s+(o<<4)+4>>1]=ee[a+4>>1]|0,o=o+1|0,(o|0)!=(u|0);)a=a+16|0;if(e[t+144>>2]=e[n+120>>2],u=e[n+124>>2]|0,l=e[t+152>>2]|0,(l|0)<(u|0)){if((e[t+156>>2]|0)<(u|0)){if(u?(e[5637]=(e[5637]|0)+1,s=Xe(u<<5|19)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+152>>2]|0):(s=0,o=l),(o|0)>0){a=0;do d=s+(a<<5)|0,h=(e[t+160>>2]|0)+(a<<5)|0,e[d>>2]=e[h>>2],e[d+4>>2]=e[h+4>>2],e[d+8>>2]=e[h+8>>2],e[d+12>>2]=e[h+12>>2],e[d+16>>2]=e[h+16>>2],e[d+20>>2]=e[h+20>>2],e[d+24>>2]=e[h+24>>2],e[d+28>>2]=e[h+28>>2],a=a+1|0;while((a|0)!=(o|0))}o=e[t+160>>2]|0,o|0&&(R[t+164>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+160>>2]=0),R[t+164>>0]=1,e[t+160>>2]=s,e[t+156>>2]=u,o=t+160|0}else o=t+160|0;s=l;do d=(e[o>>2]|0)+(s<<5)|0,e[d>>2]=e[m>>2],e[d+4>>2]=e[m+4>>2],e[d+8>>2]=e[m+8>>2],e[d+12>>2]=e[m+12>>2],e[d+16>>2]=e[m+16>>2],e[d+20>>2]=e[m+20>>2],e[d+24>>2]=e[m+24>>2],e[d+28>>2]=e[m+28>>2],s=s+1|0;while((s|0)!=(u|0))}if(e[t+152>>2]=u,(u|0)<=0){H=m;return}for(o=e[t+160>>2]|0,a=0,s=e[n+128>>2]|0;ee[o+(a<<5)+6>>1]=ee[s+14>>1]|0,ee[o+(a<<5)+8>>1]=ee[s+16>>1]|0,ee[o+(a<<5)+10>>1]=ee[s+18>>1]|0,ee[o+(a<<5)>>1]=ee[s+8>>1]|0,ee[o+(a<<5)+2>>1]=ee[s+10>>1]|0,ee[o+(a<<5)+4>>1]=ee[s+12>>1]|0,e[o+(a<<5)+12>>2]=e[s>>2],e[o+(a<<5)+16>>2]=e[s+4>>2],a=a+1|0,(a|0)!=(u|0);)s=s+20|0;H=m}function Ch(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0;if(X=H,H=H+112|0,Y=e[t+56>>2]|0,(s-n|0)==1){if(R[t+60>>0]|0)q=(e[t+136>>2]|0)+(Y<<4)|0,$=(e[t+116>>2]|0)+(n<<4)|0,e[q>>2]=e[$>>2],e[q+4>>2]=e[$+4>>2],e[q+8>>2]=e[$+8>>2],e[q+12>>2]=e[$+12>>2];else{d=(e[t+96>>2]|0)+(Y<<6)|0,m=(e[t+76>>2]|0)+(n<<6)|0,g=d+64|0;do e[d>>2]=e[m>>2],d=d+4|0,m=m+4|0;while((d|0)<(g|0))}e[t+56>>2]=(e[t+56>>2]|0)+1,H=X;return}if((s|0)>(n|0)){if(u=(R[t+60>>0]|0)==0,u){o=e[t+76>>2]|0,a=n,p=0,h=0,l=0;do p=p+(+i[o+(a<<6)+16>>2]+ +i[o+(a<<6)>>2])*.5,l=l+(+i[o+(a<<6)+20>>2]+ +i[o+(a<<6)+4>>2])*.5,h=h+(+i[o+(a<<6)+24>>2]+ +i[o+(a<<6)+8>>2])*.5,a=a+1|0;while((a|0)!=(s|0))}else{o=e[t+116>>2]|0,S=+i[t+36>>2],C=+i[t+40>>2],w=+i[t+44>>2],D=+i[t+4>>2],b=+i[t+8>>2],B=+i[t+12>>2],a=n,p=0,h=0,l=0;do p=p+(+(Le[o+(a<<4)+6>>1]|0)/S+D+(+(Le[o+(a<<4)>>1]|0)/S+D))*.5,l=l+(+(Le[o+(a<<4)+8>>1]|0)/C+b+(+(Le[o+(a<<4)+2>>1]|0)/C+b))*.5,h=h+(+(Le[o+(a<<4)+10>>1]|0)/w+B+(+(Le[o+(a<<4)+4>>1]|0)/w+B))*.5,a=a+1|0;while((a|0)!=(s|0))}if(P=1/+(s-n|0),G=P*p,U=P*l,P=P*h,u){o=e[t+76>>2]|0,a=n,h=0,p=0,l=0;do D=(+i[o+(a<<6)+16>>2]+ +i[o+(a<<6)>>2])*.5-G,b=(+i[o+(a<<6)+20>>2]+ +i[o+(a<<6)+4>>2])*.5-U,B=(+i[o+(a<<6)+24>>2]+ +i[o+(a<<6)+8>>2])*.5-P,h=h+D*D,l=l+b*b,p=p+B*B,a=a+1|0;while((a|0)!=(s|0));S=+(s-n|0)}else{o=e[t+116>>2]|0,S=+i[t+36>>2],C=+i[t+40>>2],w=+i[t+44>>2],D=+i[t+4>>2],b=+i[t+8>>2],B=+i[t+12>>2],a=n,h=0,p=0,l=0;do te=(+(Le[o+(a<<4)+6>>1]|0)/S+D+(+(Le[o+(a<<4)>>1]|0)/S+D))*.5-G,W=(+(Le[o+(a<<4)+8>>1]|0)/C+b+(+(Le[o+(a<<4)+2>>1]|0)/C+b))*.5-U,ne=(+(Le[o+(a<<4)+10>>1]|0)/w+B+(+(Le[o+(a<<4)+4>>1]|0)/w+B))*.5-P,h=h+te*te,l=l+W*W,p=p+ne*ne,a=a+1|0;while((a|0)!=(s|0));S=+(s-n|0)}}else S=+(s-n|0),h=0,p=0,l=0;if(te=1/(S+-1),W=te*h,ne=te*l,te=te*p,E=W<ne?ne<te?2:1:W<te?2:0,e[X+16>>2]=0,e[X+16+4>>2]=0,e[X+16+8>>2]=0,e[X+16+12>>2]=0,(s|0)>(n|0)){if(R[t+60>>0]|0){o=e[t+116>>2]|0,S=+i[t+36>>2],C=+i[t+40>>2],w=+i[t+44>>2],D=+i[t+4>>2],b=+i[t+8>>2],B=+i[t+12>>2],h=0,p=0,l=0,a=n;do h=(+(Le[o+(a<<4)+6>>1]|0)/S+D+(+(Le[o+(a<<4)>>1]|0)/S+D))*.5+h,p=(+(Le[o+(a<<4)+8>>1]|0)/C+b+(+(Le[o+(a<<4)+2>>1]|0)/C+b))*.5+p,l=(+(Le[o+(a<<4)+10>>1]|0)/w+B+(+(Le[o+(a<<4)+4>>1]|0)/w+B))*.5+l,a=a+1|0;while((a|0)!=(s|0))}else{o=e[t+76>>2]|0,h=0,p=0,l=0,a=n;do h=(+i[o+(a<<6)+16>>2]+ +i[o+(a<<6)>>2])*.5+h,p=(+i[o+(a<<6)+20>>2]+ +i[o+(a<<6)+4>>2])*.5+p,l=(+i[o+(a<<6)+24>>2]+ +i[o+(a<<6)+8>>2])*.5+l,a=a+1|0;while((a|0)!=(s|0))}i[X+16>>2]=h,i[X+16+4>>2]=p,i[X+16+8>>2]=l,o=X+16|0}else o=X+16|0,h=0,p=0,l=0;if(i[o>>2]=1/+(s-n|0)*h,i[X+16+4>>2]=1/+(s-n|0)*p,i[X+16+8>>2]=1/+(s-n|0)*l,D=+i[X+16+(E<<2)>>2],(s|0)>(n|0)){M=n,o=n;do{if(a=(R[t+60>>0]|0)==0,a?(z=e[t+76>>2]|0,l=+i[z+(M<<6)>>2],p=+i[z+(M<<6)+16>>2],h=+i[z+(M<<6)+4>>2],S=+i[z+(M<<6)+20>>2],C=+i[z+(M<<6)+8>>2],w=+i[z+(M<<6)+24>>2]):(z=e[t+116>>2]|0,h=+i[t+36>>2],C=+i[t+40>>2],te=+i[t+44>>2],p=+i[t+4>>2],S=+i[t+8>>2],w=+i[t+12>>2],l=+(Le[z+(M<<4)>>1]|0)/h+p,p=+(Le[z+(M<<4)+6>>1]|0)/h+p,h=+(Le[z+(M<<4)+2>>1]|0)/C+S,S=+(Le[z+(M<<4)+8>>1]|0)/C+S,C=+(Le[z+(M<<4)+4>>1]|0)/te+w,w=+(Le[z+(M<<4)+10>>1]|0)/te+w),i[X>>2]=(p+l)*.5,i[X+4>>2]=(S+h)*.5,i[X+8>>2]=(w+C)*.5,i[X+12>>2]=0,+i[X+(E<<2)>>2]>D){if(a){a=e[t+76>>2]|0,u=a+(M<<6)|0,d=X+48|0,m=u,g=d+64|0;do e[d>>2]=e[m>>2],d=d+4|0,m=m+4|0;while((d|0)<(g|0));d=u,m=a+(o<<6)|0,g=d+64|0;do e[d>>2]=e[m>>2],d=d+4|0,m=m+4|0;while((d|0)<(g|0));d=(e[t+76>>2]|0)+(o<<6)|0,m=X+48|0,g=d+64|0;do e[d>>2]=e[m>>2],d=d+4|0,m=m+4|0;while((d|0)<(g|0))}else O=e[t+116>>2]|0,z=O+(M<<4)|0,e[X+48>>2]=e[z>>2],e[X+48+4>>2]=e[z+4>>2],e[X+48+8>>2]=e[z+8>>2],e[X+48+12>>2]=e[z+12>>2],O=O+(o<<4)|0,e[z>>2]=e[O>>2],e[z+4>>2]=e[O+4>>2],e[z+8>>2]=e[O+8>>2],e[z+12>>2]=e[O+12>>2],z=(e[t+116>>2]|0)+(o<<4)|0,e[z>>2]=e[X+48>>2],e[z+4>>2]=e[X+48+4>>2],e[z+8>>2]=e[X+48+8>>2],e[z+12>>2]=e[X+48+12>>2];o=o+1|0}M=M+1|0}while((M|0)!=(s|0))}else o=n;if((o|0)>(((s-n|0)/3|0)+n|0)&&(o|0)<(s+-1-((s-n|0)/3|0)|0)||(o=(s-n>>1)+n|0),z=e[t+56>>2]|0,R[t+60>>0]|0?(O=e[t+136>>2]|0,W=(+i[t+24>>2]-+i[t+8>>2])*+i[t+40>>2],te=(+i[t+28>>2]-+i[t+12>>2])*+i[t+44>>2],ee[O+(z<<4)>>1]=~~((+i[t+20>>2]-+i[t+4>>2])*+i[t+36>>2])&65534,ee[O+(z<<4)+2>>1]=~~W&65534,ee[O+(z<<4)+4>>1]=~~te&65534):(O=(e[t+96>>2]|0)+(z<<6)|0,e[O>>2]=e[t+20>>2],e[O+4>>2]=e[t+20+4>>2],e[O+8>>2]=e[t+20+8>>2],e[O+12>>2]=e[t+20+12>>2]),a=e[t+56>>2]|0,R[t+60>>0]|0?(O=e[t+136>>2]|0,ne=+i[t+4>>2],W=+i[t+8>>2],te=+i[t+12>>2],W=(W-W)*+i[t+40>>2],te=(te-te)*+i[t+44>>2],ee[O+(a<<4)+6>>1]=~~((ne-ne)*+i[t+36>>2]+1)&65535|1,ee[O+(a<<4)+8>>1]=~~(W+1)&65535|1,ee[O+(a<<4)+10>>1]=~~(te+1)&65535|1):(O=(e[t+96>>2]|0)+(a<<6)+16|0,e[O>>2]=e[t+4>>2],e[O+4>>2]=e[t+4+4>>2],e[O+8>>2]=e[t+4+8>>2],e[O+12>>2]=e[t+4+12>>2]),O=e[t+56>>2]|0,(s|0)>(n|0)){L=R[t+60>>0]|0,F=n;do L<<24>>24?(m=e[t+116>>2]|0,S=+i[t+36>>2],G=+i[t+40>>2],b=+i[t+44>>2],C=+i[t+4>>2],ne=+i[t+8>>2],B=+i[t+12>>2],w=+i[t+4>>2],W=+i[t+8>>2],P=+i[t+12>>2],D=+i[t+36>>2],te=+i[t+40>>2],U=+i[t+44>>2],g=~~((+(Le[m+(F<<4)>>1]|0)/S+C-w)*D)&65534,a=~~((+(Le[m+(F<<4)+4>>1]|0)/b+B-P)*U)&65534,d=~~((+(Le[m+(F<<4)+2>>1]|0)/G+ne-W)*te)&65534,M=(~~((+(Le[m+(F<<4)+6>>1]|0)/S+C-w)*D+1)&65535|1)&65535,u=(~~((+(Le[m+(F<<4)+10>>1]|0)/b+B-P)*U+1)&65535|1)&65535,m=(~~((+(Le[m+(F<<4)+8>>1]|0)/G+ne-W)*te+1)&65535|1)&65535,E=e[t+136>>2]|0,(Le[E+(O<<4)>>1]|0)>(g&65535)&&(ee[E+(O<<4)>>1]=g),(Le[E+(O<<4)+6>>1]|0)<(M&65535)&&(ee[E+(O<<4)+6>>1]=M),(Le[E+(O<<4)+2>>1]|0)>(d&65535)&&(ee[E+(O<<4)+2>>1]=d),(Le[E+(O<<4)+8>>1]|0)<(m&65535)&&(ee[E+(O<<4)+8>>1]=m),(Le[E+(O<<4)+4>>1]|0)>(a&65535)&&(ee[E+(O<<4)+4>>1]=a),(Le[E+(O<<4)+10>>1]|0)<(u&65535)&&(ee[E+(O<<4)+10>>1]=u)):(a=e[t+76>>2]|0,l=+i[a+(F<<6)>>2],p=+i[a+(F<<6)+4>>2],h=+i[a+(F<<6)+8>>2],S=+i[a+(F<<6)+12>>2],C=+i[a+(F<<6)+16>>2],w=+i[a+(F<<6)+20>>2],D=+i[a+(F<<6)+24>>2],b=+i[a+(F<<6)+28>>2],a=e[t+96>>2]|0,l<+i[a+(O<<6)>>2]&&(i[a+(O<<6)>>2]=l),p<+i[a+(O<<6)+4>>2]&&(i[a+(O<<6)+4>>2]=p),h<+i[a+(O<<6)+8>>2]&&(i[a+(O<<6)+8>>2]=h),S<+i[a+(O<<6)+12>>2]&&(i[a+(O<<6)+12>>2]=S),+i[a+(O<<6)+16>>2]<C&&(i[a+(O<<6)+16>>2]=C),+i[a+(O<<6)+20>>2]<w&&(i[a+(O<<6)+20>>2]=w),+i[a+(O<<6)+24>>2]<D&&(i[a+(O<<6)+24>>2]=D),+i[a+(O<<6)+28>>2]<b&&(i[a+(O<<6)+28>>2]=b)),F=F+1|0;while((F|0)!=(s|0))}if(e[t+56>>2]=O+1,Ch(t,n,o),L=e[t+56>>2]|0,Ch(t,o,s),E=(e[t+56>>2]|0)-Y|0,o=R[t+60>>0]|0,o<<24>>24!=0&(E<<4|0)>2048){if(g=e[t+136>>2]|0,d=e[g+(O+1<<4)+12>>2]|0,d=(d|0)>-1?1:0-d|0,M=e[g+(L<<4)+12>>2]|0,M=(M|0)>-1?1:0-M|0,(d<<4|0)<2049){if(m=e[t+152>>2]|0,(m|0)==(e[t+156>>2]|0)&&($=m|0?m<<1:1,(m|0)<($|0))){if($?(e[5637]=(e[5637]|0)+1,o=Xe($<<5|19)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+152>>2]|0):(o=0,a=m),(a|0)>0){u=0;do s=o+(u<<5)|0,Y=(e[t+160>>2]|0)+(u<<5)|0,e[s>>2]=e[Y>>2],e[s+4>>2]=e[Y+4>>2],e[s+8>>2]=e[Y+8>>2],e[s+12>>2]=e[Y+12>>2],e[s+16>>2]=e[Y+16>>2],e[s+20>>2]=e[Y+20>>2],e[s+24>>2]=e[Y+24>>2],e[s+28>>2]=e[Y+28>>2],u=u+1|0;while((u|0)!=(a|0))}a=e[t+160>>2]|0,a|0&&(R[t+164>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+160>>2]=0),R[t+164>>0]=1,e[t+160>>2]=o,e[t+156>>2]=$,o=e[t+152>>2]|0}else o=m;e[t+152>>2]=o+1,$=(e[t+160>>2]|0)+(m<<5)|0,e[$>>2]=e[X+48>>2],e[$+4>>2]=e[X+48+4>>2],e[$+8>>2]=e[X+48+8>>2],e[$+12>>2]=e[X+48+12>>2],e[$+16>>2]=e[X+48+16>>2],e[$+20>>2]=e[X+48+20>>2],e[$+24>>2]=e[X+48+24>>2],e[$+28>>2]=e[X+48+28>>2],$=e[t+160>>2]|0,ee[$+(m<<5)>>1]=ee[g+(O+1<<4)>>1]|0,ee[$+(m<<5)+2>>1]=ee[g+(O+1<<4)+2>>1]|0,ee[$+(m<<5)+4>>1]=ee[g+(O+1<<4)+4>>1]|0,ee[$+(m<<5)+6>>1]=ee[g+(O+1<<4)+6>>1]|0,ee[$+(m<<5)+8>>1]=ee[g+(O+1<<4)+8>>1]|0,ee[$+(m<<5)+10>>1]=ee[g+(O+1<<4)+10>>1]|0,e[$+(m<<5)+12>>2]=O+1,e[$+(m<<5)+16>>2]=d}if((M<<4|0)<2049){if(d=e[t+152>>2]|0,(d|0)==(e[t+156>>2]|0)&&(q=d|0?d<<1:1,(d|0)<(q|0))){if(q?(e[5637]=(e[5637]|0)+1,o=Xe(q<<5|19)|0,o?(e[(o+4+15&-16)+-4>>2]=o,o=o+4+15&-16):o=0,a=e[t+152>>2]|0):(o=0,a=d),(a|0)>0){u=0;do $=o+(u<<5)|0,s=(e[t+160>>2]|0)+(u<<5)|0,e[$>>2]=e[s>>2],e[$+4>>2]=e[s+4>>2],e[$+8>>2]=e[s+8>>2],e[$+12>>2]=e[s+12>>2],e[$+16>>2]=e[s+16>>2],e[$+20>>2]=e[s+20>>2],e[$+24>>2]=e[s+24>>2],e[$+28>>2]=e[s+28>>2],u=u+1|0;while((u|0)!=(a|0))}a=e[t+160>>2]|0,a|0&&(R[t+164>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0)),e[t+160>>2]=0),R[t+164>>0]=1,e[t+160>>2]=o,e[t+156>>2]=q,o=e[t+152>>2]|0}else o=d;e[t+152>>2]=o+1,q=(e[t+160>>2]|0)+(d<<5)|0,e[q>>2]=e[X+16>>2],e[q+4>>2]=e[X+16+4>>2],e[q+8>>2]=e[X+16+8>>2],e[q+12>>2]=e[X+16+12>>2],e[q+16>>2]=e[X+16+16>>2],e[q+20>>2]=e[X+16+20>>2],e[q+24>>2]=e[X+16+24>>2],e[q+28>>2]=e[X+16+28>>2],q=e[t+160>>2]|0,ee[q+(d<<5)>>1]=ee[g+(L<<4)>>1]|0,ee[q+(d<<5)+2>>1]=ee[g+(L<<4)+2>>1]|0,ee[q+(d<<5)+4>>1]=ee[g+(L<<4)+4>>1]|0,ee[q+(d<<5)+6>>1]=ee[g+(L<<4)+6>>1]|0,ee[q+(d<<5)+8>>1]=ee[g+(L<<4)+8>>1]|0,ee[q+(d<<5)+10>>1]=ee[g+(L<<4)+10>>1]|0,e[q+(d<<5)+12>>2]=L,e[q+(d<<5)+16>>2]=M}e[t+168>>2]=e[t+152>>2],o=R[t+60>>0]|0}if(o<<24>>24){e[(e[t+136>>2]|0)+(z<<4)+12>>2]=0-E,H=X;return}else{e[(e[t+96>>2]|0)+(z<<6)+32>>2]=E,H=X;return}}function dre(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0;if(D=H,H=H+16|0,!(R[t+60>>0]|0)){if(a=e[t+56>>2]|0,(a|0)>0)for(l=a,h=0,g=e[t+96>>2]|0,a=0;a=a+1|0,!(+i[s>>2]>+i[g+16>>2])&&!(+i[o>>2]<+i[g>>2])?u=1:u=0,!(+i[s+8>>2]>+i[g+24>>2])&&!(+i[o+8>>2]<+i[g+8>>2])||(u=0),!(+i[s+4>>2]>+i[g+20>>2])&&!(+i[o+4>>2]<+i[g+4>>2])?(p=e[g+32>>2]|0,u&(p|0)==-1?(f0[e[(e[n>>2]|0)+8>>2]&127](n,e[g+36>>2]|0,e[g+40>>2]|0),l=e[t+56>>2]|0,m=43):(d=(p|0)==-1,m=42)):(p=e[g+32>>2]|0,d=(p|0)==-1,u=0,m=42),(m|0)==42&&(m=0,d|u?m=43:(h=p+h|0,u=g+(p<<6)|0)),(m|0)==43&&(h=h+1|0,u=g+64|0),(h|0)<(l|0);)g=u;else a=0;if((e[4988]|0)>=(a|0)){H=D;return}e[4988]=a,H=D;return}switch(G=+i[s>>2],$=+i[s+4>>2],L=+i[s+8>>2],Y=+i[t+4>>2],G=G<Y?Y:G,B=+i[t+8>>2],$=$<B?B:$,U=+i[t+12>>2],L=L<U?U:L,q=+i[t+20>>2],F=+i[t+24>>2],O=+i[t+28>>2],z=+i[t+36>>2],b=+i[t+40>>2],P=+i[t+44>>2],E=~~(((q<G?q:G)-Y)*z)&65534,ee[D+6>>1]=E,w=~~(((O<L?O:L)-U)*P)&65534,M=~~(((F<$?F:$)-B)*b)&65534,ee[D+6+2>>1]=M,ee[D+6+4>>1]=w,$=+i[o>>2],L=+i[o+4>>2],G=+i[o+8>>2],$=$<Y?Y:$,L=L<B?B:L,G=G<U?U:G,C=(~~(((q<$?q:$)-Y)*z+1)&65535|1)&65535,ee[D>>1]=C,o=(~~(((O<G?O:G)-U)*P+1)&65535|1)&65535,S=(~~(((F<L?F:L)-B)*b+1)&65535|1)&65535,ee[D+2>>1]=S,ee[D+4>>1]=o,e[t+144>>2]|0){case 0:{if(m=e[t+56>>2]|0,(m|0)>0){l=0,u=e[t+136>>2]|0,a=0;do a=a+1|0,p=((C&65535)>=(Le[u>>1]|0)?(E&65535)<=(Le[u+6>>1]|0):0)&(w&65535)<=(Le[u+10>>1]|0)&(o&65535)>=(Le[u+4>>1]|0)&(M&65535)<=(Le[u+8>>1]|0)&(S&65535)>=(Le[u+2>>1]|0),h=u+12|0,d=e[h>>2]|0,(d|0)>-1&p&&f0[e[(e[n>>2]|0)+8>>2]&127](n,d>>21,d&2097151),p|(d|0)>-1?(l=l+1|0,u=u+16|0):(t=e[h>>2]|0,l=l-t|0,u=u+(0-t<<4)|0);while((l|0)<(m|0))}else a=0;(e[4988]|0)<(a|0)&&(e[4988]=a);break}case 1:{if((e[t+152>>2]|0)>0){s=0;do{if(a=e[t+160>>2]|0,((C&65535)>=(Le[a+(s<<5)>>1]|0)?(E&65535)<=(Le[a+(s<<5)+6>>1]|0):0)&(w&65535)<=(Le[a+(s<<5)+10>>1]|0)&(o&65535)>=(Le[a+(s<<5)+4>>1]|0)&(M&65535)<=(Le[a+(s<<5)+8>>1]|0)&(S&65535)>=(Le[a+(s<<5)+2>>1]|0)){if(g=e[a+(s<<5)+12>>2]|0,m=e[a+(s<<5)+16>>2]|0,(m|0)>0){l=g,u=(e[t+136>>2]|0)+(g<<4)|0,a=0;do a=a+1|0,p=((C&65535)>=(Le[u>>1]|0)?(E&65535)<=(Le[u+6>>1]|0):0)&(w&65535)<=(Le[u+10>>1]|0)&(o&65535)>=(Le[u+4>>1]|0)&(M&65535)<=(Le[u+8>>1]|0)&(S&65535)>=(Le[u+2>>1]|0),h=u+12|0,d=e[h>>2]|0,(d|0)>-1&p&&f0[e[(e[n>>2]|0)+8>>2]&127](n,d>>21,d&2097151),p|(d|0)>-1?(l=l+1|0,u=u+16|0):(d=e[h>>2]|0,l=l-d|0,u=u+(0-d<<4)|0);while((l|0)<(m+g|0))}else a=0;(e[4988]|0)<(a|0)&&(e[4988]=a)}s=s+1|0}while((s|0)<(e[t+152>>2]|0))}break}case 2:{dm(e[t+136>>2]|0,n,D+6|0,D);break}default:}H=D}function dm(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;for(var a=0,l=0,u=0;;){if(a=e[t+12>>2]|0,!(((Le[o>>1]|0)>=(Le[t>>1]|0)?(Le[s>>1]|0)<=(Le[t+6>>1]|0):0)&(Le[s+4>>1]|0)<=(Le[t+10>>1]|0)&(Le[o+4>>1]|0)>=(Le[t+4>>1]|0)&(Le[s+2>>1]|0)<=(Le[t+8>>1]|0)&(Le[o+2>>1]|0)>=(Le[t+2>>1]|0))){l=6;break}if((a|0)>-1)break;u=t+16|0,dm(u,n,s,o),a=e[t+28>>2]|0,t=(a|0)>-1?t+32|0:u+(0-a<<4)|0}(l|0)!=6&&f0[e[(e[n>>2]|0)+8>>2]&127](n,a>>21,a&2097151)}function mm(t,n,s,o,a,l,u,p){t=t|0,n=n|0,s=s|0,o=+o,a=+a,l=+l,u=u|0,p=p|0;var h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0;de=H,H=H+32|0,q=+i[s>>2],ne=+i[s+4>>2],xe=+i[s+8>>2],E=+i[u>>2],D=+i[u+4>>2],B=+i[u+8>>2],S=+i[p>>2],C=+i[p+4>>2],M=+i[p+8>>2],X=1/+ot(+((o-q)*(o-q)+(a-ne)*(a-ne)+(l-xe)*(l-xe))),W=(o-q)*X==0?0xde0b6b000000000:1/((o-q)*X),te=(a-ne)*X==0?0xde0b6b000000000:1/((a-ne)*X),_e=(l-xe)*X==0?0xde0b6b000000000:1/((l-xe)*X),pe=(q>o?o:q)+E,he=(ne>a?a:ne)+D,me=(xe>l?l:xe)+B,se=(q<o?o:q)+S,oe=(ne<a?a:ne)+C,ae=(xe<l?l:xe)+M,d=e[t+56>>2]|0;e:do if((d|0)>0)for(L=0,F=e[t+96>>2]|0,h=0;;){if(h=h+1|0,e[de>>2]=e[F>>2],e[de+4>>2]=e[F+4>>2],e[de+8>>2]=e[F+8>>2],e[de+12>>2]=e[F+12>>2],b=F+16|0,e[de+16>>2]=e[b>>2],e[de+16+4>>2]=e[b+4>>2],e[de+16+8>>2]=e[b+8>>2],e[de+16+12>>2]=e[b+12>>2],i[de>>2]=+i[de>>2]-S,i[de+4>>2]=+i[de+4>>2]-C,i[de+8>>2]=+i[de+8>>2]-M,i[de+16>>2]=+i[de+16>>2]-E,i[de+20>>2]=+i[de+20>>2]-D,i[de+24>>2]=+i[de+24>>2]-B,!(pe>+i[b>>2])&&!(se<+i[F>>2])?m=1:m=0,!(me>+i[F+24>>2])&&!(ae<+i[F+8>>2])||(m=0),!(he>+i[F+20>>2])&&!(oe<+i[F+4>>2]|m^1)&&(U=+i[s>>2],P=W*(+i[de+((W<0&1)<<4)>>2]-U),U=W*(+i[de+((W<0^1)<<4)>>2]-U),O=+i[s+4>>2],G=te*(+i[de+((te<0&1)<<4)+4>>2]-O),O=te*(+i[de+((te<0^1)<<4)+4>>2]-O),!(G>U|P>O))&&(z=G>P?G:P,ve=O<U?O:U,$=+i[s+8>>2],Y=_e*(+i[de+((_e<0&1)<<4)+8>>2]-$),$=_e*(+i[de+((_e<0^1)<<4)+8>>2]-$),!(Y>ve|z>$))?(m=($<ve?$:ve)>0?(Y>z?Y:z)<(l-xe)*((l-xe)*X)+((o-q)*((o-q)*X)+(a-ne)*((a-ne)*X)):0,g=e[F+32>>2]|0,m&(g|0)==-1?(f0[e[(e[n>>2]|0)+8>>2]&127](n,e[F+36>>2]|0,e[F+40>>2]|0),d=e[t+56>>2]|0,b=17):(w=(g|0)==-1,b=16)):(g=e[F+32>>2]|0,w=(g|0)==-1,m=0,b=16),(b|0)==16&&(b=0,w|m?b=17:(w=g+L|0,m=F+(g<<6)|0)),(b|0)==17&&(w=L+1|0,m=F+64|0),(w|0)>=(d|0))break e;S=+i[p>>2],C=+i[p+4>>2],M=+i[p+8>>2],E=+i[u>>2],D=+i[u+4>>2],B=+i[u+8>>2],L=w,F=m}else h=0;while(!1);if((e[4988]|0)>=(h|0)){H=de;return}e[4988]=h,H=de}function gm(t,n,s,o,a,l,u,p,h){t=t|0,n=n|0,s=s|0,o=+o,a=+a,l=+l,u=u|0,p=p|0,h=h|0;var d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0,ke=0,Ae=0,qe=0;if(xe=H,H=H+32|0,$=+i[s>>2],he=+i[s+4>>2],se=+i[s+8>>2],X=1/+ot(+((o-$)*(o-$)+(a-he)*(a-he)+(l-se)*(l-se))),_e=(o-$)*X==0?0xde0b6b000000000:1/((o-$)*X),pe=(a-he)*X==0?0xde0b6b000000000:1/((a-he)*X),me=(l-se)*X==0?0xde0b6b000000000:1/((l-se)*X),qe=($>o?o:$)+ +i[u>>2],ke=(he>a?a:he)+ +i[u+4>>2],Ae=(se>l?l:se)+ +i[u+8>>2],Se=($<o?o:$)+ +i[p>>2],w=(he<a?a:he)+ +i[p+4>>2],fe=(se<l?l:se)+ +i[p+8>>2],Ne=+i[t+4>>2],qe=qe<Ne?Ne:qe,M=+i[t+8>>2],ke=ke<M?M:ke,de=+i[t+12>>2],Ae=Ae<de?de:Ae,ge=+i[t+20>>2],C=+i[t+24>>2],Te=+i[t+28>>2],we=+i[t+36>>2],E=+i[t+40>>2],ve=+i[t+44>>2],oe=~~(((ge<qe?ge:qe)-Ne)*we)&65534,O=~~(((Te<Ae?Te:Ae)-de)*ve)&65534,Y=~~(((C<ke?C:ke)-M)*E)&65534,Se=Se<Ne?Ne:Se,w=w<M?M:w,fe=fe<de?de:fe,q=(~~(((ge<Se?ge:Se)-Ne)*we+1)&65535|1)&65535,G=(~~(((Te<fe?Te:fe)-de)*ve+1)&65535|1)&65535,z=(~~(((C<w?C:w)-M)*E+1)&65535|1)&65535,(h|0)>0){m=0,g=e[t+136>>2]|0,d=0;do{d=d+1|0,S=g+6|0,D=ee[g>>1]|0,b=g+10|0,B=ee[g+4>>1]|0,L=g+8|0,F=ee[g+2>>1]|0,P=g+12|0,U=(e[P>>2]|0)>-1;do if(((q&65535)>=(D&65535)?(oe&65535)<=(Le[S>>1]|0):0)&(O&65535)<=(Le[b>>1]|0)&(G&65535)>=(B&65535)&(Y&65535)<=(Le[L>>1]|0)&(z&65535)>=(F&65535)){if(Se=+i[t+36>>2],ke=+i[t+40>>2],qe=+i[t+44>>2],ge=+i[t+4>>2],Ae=+i[t+8>>2],M=+i[t+12>>2],i[xe+12>>2]=0,E=+(Le[S>>1]|0)/Se+ge,C=+(Le[L>>1]|0)/ke+Ae,w=+(Le[b>>1]|0)/qe+M,i[xe+28>>2]=0,i[xe>>2]=+(D&65535)/Se+ge-+i[p>>2],i[xe+4>>2]=+(F&65535)/ke+Ae-+i[p+4>>2],i[xe+8>>2]=+(B&65535)/qe+M-+i[p+8>>2],i[xe+16>>2]=E-+i[u>>2],i[xe+20>>2]=C-+i[u+4>>2],i[xe+24>>2]=w-+i[u+8>>2],w=+i[s>>2],C=_e*(+i[xe+((_e<0&1)<<4)>>2]-w),w=_e*(+i[xe+((_e<0^1)<<4)>>2]-w),E=+i[s+4>>2],M=pe*(+i[xe+((pe<0&1)<<4)+4>>2]-E),E=pe*(+i[xe+((pe<0^1)<<4)+4>>2]-E),!(M>w|C>E)&&(ne=M>C?M:C,ae=E<w?E:w,te=+i[s+8>>2],W=me*(+i[xe+((me<0&1)<<4)+8>>2]-te),te=me*(+i[xe+((me<0^1)<<4)+8>>2]-te),!(W>ae|ne>te))){if(S=(te<ae?te:ae)>0?(W>ne?W:ne)<(l-se)*((l-se)*X)+((o-$)*((o-$)*X)+(a-he)*((a-he)*X)):0,!(U&S)){D=9;break}D=e[P>>2]|0,f0[e[(e[n>>2]|0)+8>>2]&127](n,D>>21,D&2097151),D=10;break}S=0,D=9}else S=0,D=9;while(!1);(D|0)==9&&(D=0,U|S?D=10:(U=e[P>>2]|0,m=m-U|0,g=g+(0-U<<4)|0)),(D|0)==10&&(m=m+1|0,g=g+16|0)}while((m|0)<(h|0))}else d=0;if((e[4988]|0)>=(d|0)){H=xe;return}e[4988]=d,H=xe}function mre(t){t=t|0;var n=0;e[t>>2]=3016,R[t+8>>0]|0&&(n=e[t+12>>2]|0,n&&(t=e[t+4>>2]|0,zt[e[(e[t>>2]|0)+16>>2]&127](t,n)))}function gre(t){t=t|0;var n=0,s=0;if(e[t>>2]=3016,!(R[t+8>>0]|0)){ye(t);return}if(n=e[t+12>>2]|0,!n){ye(t);return}s=e[t+4>>2]|0,zt[e[(e[s>>2]|0)+16>>2]&127](s,n),ye(t)}function xre(t,n,s,o,a){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0;var l=0,u=0,p=0,h=0,d=0;if(p=H,H=H+144|0,l=e[t+12>>2]|0,!l){H=p;return}d=e[n+4>>2]|0,h=e[s+4>>2]|0,e[a+4>>2]=l,i[p+12+128>>2]=0xde0b6b000000000,n=e[n+12>>2]|0,e[p+12>>2]=e[n>>2],e[p+12+4>>2]=e[n+4>>2],e[p+12+8>>2]=e[n+8>>2],e[p+12+12>>2]=e[n+12>>2],e[p+12+16>>2]=e[n+16>>2],e[p+12+16+4>>2]=e[n+16+4>>2],e[p+12+16+8>>2]=e[n+16+8>>2],e[p+12+16+12>>2]=e[n+16+12>>2],e[p+12+32>>2]=e[n+32>>2],e[p+12+32+4>>2]=e[n+32+4>>2],e[p+12+32+8>>2]=e[n+32+8>>2],e[p+12+32+12>>2]=e[n+32+12>>2],e[p+12+48>>2]=e[n+48>>2],e[p+12+48+4>>2]=e[n+48+4>>2],e[p+12+48+8>>2]=e[n+48+8>>2],e[p+12+48+12>>2]=e[n+48+12>>2],s=e[s+12>>2]|0,e[p+12+64>>2]=e[s>>2],e[p+12+64+4>>2]=e[s+4>>2],e[p+12+64+8>>2]=e[s+8>>2],e[p+12+64+12>>2]=e[s+12>>2],e[p+12+80>>2]=e[s+16>>2],e[p+12+80+4>>2]=e[s+16+4>>2],e[p+12+80+8>>2]=e[s+16+8>>2],e[p+12+80+12>>2]=e[s+16+12>>2],e[p+12+96>>2]=e[s+32>>2],e[p+12+96+4>>2]=e[s+32+4>>2],e[p+12+96+8>>2]=e[s+32+8>>2],e[p+12+96+12>>2]=e[s+32+12>>2],e[p+12+112>>2]=e[s+48>>2],e[p+12+112+4>>2]=e[s+48+4>>2],e[p+12+112+8>>2]=e[s+48+8>>2],e[p+12+112+12>>2]=e[s+48+12>>2],e[p>>2]=3044,e[p+4>>2]=d,e[p+8>>2]=h,v6(p,p+12|0,a,e[o+20>>2]|0,0);do if(R[t+8>>0]|0&&(u=e[a+4>>2]|0,e[u+748>>2]|0))if(n=e[u+740>>2]|0,s=e[(e[a+8>>2]|0)+8>>2]|0,l=e[(e[a+12>>2]|0)+8>>2]|0,(n|0)==(s|0)){d2(u,n+4|0,l+4|0);break}else{d2(u,l+4|0,s+4|0);break}while(!1);H=p}function yre(t,n,s,o,a){return t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,1}function vre(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0;if(s=e[t+12>>2]|0,!!s&&R[t+8>>0]|0){if(o=e[n+4>>2]|0,(o|0)==(e[n+8>>2]|0)&&(l=o|0?o<<1:1,(o|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l<<2|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[n+4>>2]|0):s=0,(o|0)>0){a=0;do e[s+(a<<2)>>2]=e[(e[n+12>>2]|0)+(a<<2)>>2],a=a+1|0;while((a|0)!=(o|0))}a=e[n+12>>2]|0,a&&(R[n+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[a+-4>>2]|0),o=e[n+4>>2]|0),e[n+12>>2]=0),R[n+16>>0]=1,e[n+12>>2]=s,e[n+8>>2]=l,s=e[t+12>>2]|0}e[(e[n+12>>2]|0)+(o<<2)>>2]=s,e[n+4>>2]=o+1}}function Sre(t){t=t|0}function Cre(t){t=t|0,ye(t)}function xm(t,n,s,o,a,l,u,p,h,d,m,g,S){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0,m=m|0,g=g|0,S=S|0;var C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0;switch(D=Rt(e[h+24>>2]|0,d)|0,e[n+84>>2]|0){case 4:{w=+i[m>>2],M=+i[m+4>>2],C=+i[m+8>>2],g|0?E=+i[u>>2]*w+ +i[u+4>>2]*M+ +i[u+8>>2]*C-(w*+i[p>>2]+M*+i[p+4>>2]+C*+i[p+8>>2]):E=+i[a>>2]*w+ +i[a+4>>2]*M+ +i[a+8>>2]*C-(w*+i[l>>2]+M*+i[l+4>>2]+C*+i[l+8>>2]),xc(t,s,o,h,D,m,g,S),M=g|0?-1:1,C=M*(+i[h>>2]*+i[n+12>>2]*+i[n+72>>2]),d=(e[h+28>>2]|0)+(D<<2)|0,i[d>>2]=C,w=C-E*+i[n+12>>2],g|0?w>0&&(b=-(E*+i[n+8>>2]),C<b)&&(i[d>>2]=b):w<0&&(B=-(E*+i[n+8>>2]),C>B)&&(i[d>>2]=B),i[(e[h+36>>2]|0)+(D<<2)>>2]=g|0?0:-34028234663852886e22,i[(e[h+40>>2]|0)+(D<<2)>>2]=g|0?34028234663852886e22:0,e[(e[h+32>>2]|0)+(D<<2)>>2]=e[n+16>>2],D=(e[h+24>>2]|0)+D|0,xc(t,s,o,h,D,m,g,S),C=M*(+i[h>>2]*+i[n+12>>2]*+i[n+76>>2]),d=(e[h+28>>2]|0)+(D<<2)|0,i[d>>2]=C,w=C-E*+i[n+12>>2],g|0?w<0&&(F=-(E*+i[n+8>>2]),C>F)&&(i[d>>2]=F):w>0&&(U=-(E*+i[n+8>>2]),C<U)&&(i[d>>2]=U),i[(e[h+36>>2]|0)+(D<<2)>>2]=g|0?-34028234663852886e22:0,i[(e[h+40>>2]|0)+(D<<2)>>2]=g|0?0:34028234663852886e22,e[(e[h+32>>2]|0)+(D<<2)>>2]=e[n+16>>2],d=2,D=(e[h+24>>2]|0)+D|0;break}case 3:{xc(t,s,o,h,D,m,g,S),i[(e[h+28>>2]|0)+(D<<2)>>2]=(g|0?-1:1)*(+i[h>>2]*+i[n+12>>2]*+i[n+72>>2]),i[(e[h+36>>2]|0)+(D<<2)>>2]=-34028234663852886e22,i[(e[h+40>>2]|0)+(D<<2)>>2]=34028234663852886e22,e[(e[h+32>>2]|0)+(D<<2)>>2]=e[n+16>>2],d=1,D=(e[h+24>>2]|0)+D|0;break}default:d=0}do if(!(R[n+28>>0]|0))L=d;else{if(R[n+40>>0]|0)L=n+32|0,P=n+80|0;else{xc(t,s,o,h,D,m,g,S),B=+i[n+32>>2],C=g|0?B:-B,w=+i[n+80>>2],M=+i[n>>2],E=+i[n+4>>2],b=+i[h>>2]*+i[n+20>>2];do if(M>E)C=1;else if(M!=E){if(C/b<0)if(w>=M&&M-C/b>w){C=(M-w)/(C/b);break}else{C=w<M?0:1;break}if(C/b>0)if(w<=E&&E-C/b<w){C=(E-w)/(C/b);break}else{C=w>E?0:1;break}else C=0}else C=0;while(!1);if(i[(e[h+28>>2]|0)+(D<<2)>>2]=C*B,i[(e[h+36>>2]|0)+(D<<2)>>2]=-+i[n+36>>2],e[(e[h+40>>2]|0)+(D<<2)>>2]=e[n+36>>2],e[(e[h+32>>2]|0)+(D<<2)>>2]=e[n+24>>2],D=(e[h+24>>2]|0)+D|0,d=d+1|0,!(R[n+28>>0]|0)){L=d;break}if(R[n+40>>0]|0)L=n+32|0,P=n+80|0;else{L=d;break}}w=+i[P>>2]-+i[n+44>>2],xc(t,s,o,h,D,m,g,S),b=+i[L>>2],b=w<0?-b:b;do if(w!=0){M=+i[n>>2],C=+i[n+4>>2];do if(M>C)w>0?C=+i[n+44>>2]:C=-34028234663852886e22,w<0?(E=+i[n+44>>2],M=C):(E=34028234663852886e22,M=C);else{if(w>0&&(G=+i[n+44>>2],G>M)&&(M=G),w<0&&(O=+i[n+44>>2],O<C)){E=O;break}E=C}while(!1);if(C=+i[P>>2],w=+i[h>>2]*+i[n+20>>2],M>E)C=1;else if(M!=E){if(-b/w<0)if(C>=M&&M- -b/w>C){C=(M-C)/(-b/w);break}else{C=C<M?0:1;break}if(-b/w>0)if(C<=E&&E- -b/w<C){C=(E-C)/(-b/w);break}else{C=C>E?0:1;break}else C=0}else C=0}else C=0;while(!1);i[(e[h+28>>2]|0)+(D<<2)>>2]=(g|0?-1:1)*(b*C),i[(e[h+36>>2]|0)+(D<<2)>>2]=-+i[n+36>>2],e[(e[h+40>>2]|0)+(D<<2)>>2]=e[n+36>>2],e[(e[h+32>>2]|0)+(D<<2)>>2]=e[n+24>>2],L=d+1|0,D=(e[h+24>>2]|0)+D|0}while(!1);return R[n+48>>0]|0?(F=+i[n+80>>2]-+i[n+68>>2],xc(t,s,o,h,D,m,g,S),b=1/+i[h>>2],B=+i[n+60>>2],C=+i[n+52>>2],M=+i[m>>2],E=+i[m+4>>2],w=+i[m+8>>2],g|0?M=+i[u>>2]*M+ +i[u+4>>2]*E+ +i[u+8>>2]*w-(M*+i[p>>2]+E*+i[p+4>>2]+w*+i[p+8>>2]):M=+i[a>>2]*M+ +i[a+4>>2]*E+ +i[a+8>>2]*w-(M*+i[l>>2]+E*+i[l+4>>2]+w*+i[l+8>>2]),w=1/+i[(e[t+28>>2]|0)+368>>2],O=1/+i[(e[t+32>>2]|0)+368>>2],w=w>O?O:w,(R[n+56>>0]|0)!=0&&b*+ot(+(C/w))>.25&&(C=1/b/b*.0625*w),U=g|0?-1:1,G=b*(U*(M*(B*b>w&(R[n+64>>0]|0)!=0?w/b:B))),O=b*(F*C)-G,i[(e[h+28>>2]|0)+(D<<2)>>2]=M+U*O,C=O<-G?O:-G,M=O<-G?-G:O,d=e[h+40>>2]|0,g|0?(w=-C<0?0:-C,C=-M>0?0:-M):(w=M<0?0:M,C=C>0?0:C),i[(e[h+36>>2]|0)+(D<<2)>>2]=C,i[d+(D<<2)>>2]=w,i[(e[h+32>>2]|0)+(D<<2)>>2]=0,h=L+1|0,h|0):(h=L,h|0)}function xc(t,n,s,o,a,l,u,p){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0;var h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0;F=e[(u|0?o+12|0:o+8|0)>>2]|0,L=e[(u|0?o+20|0:o+16|0)>>2]|0,e[F+(a<<2)>>2]=e[l>>2],e[F+(a+1<<2)>>2]=e[l+4>>2],e[F+(a+2<<2)>>2]=e[l+8>>2],i[L+(a<<2)>>2]=-+i[l>>2],i[L+(a+1<<2)>>2]=-+i[l+4>>2],i[L+(a+2<<2)>>2]=-+i[l+8>>2],!(u|0)&&(m=+i[t+1348>>2]-+i[s+48>>2],h=+i[t+1352>>2]-+i[s+52>>2],d=+i[t+1356>>2]-+i[s+56>>2],b=+i[t+1284>>2]-+i[n+48>>2],B=+i[t+1288>>2]-+i[n+52>>2],w=+i[t+1292>>2]-+i[n+56>>2],M=+i[l+8>>2],D=+i[l+4>>2],E=+i[l>>2],(p|0)!=0|(R[t+1452>>0]|0)==0?(C=m*D-h*E,S=h*M-d*D,m=d*E-m*M,g=B*M-w*D,d=w*E-b*M,h=b*D-B*E):(P=+i[t+1444>>2],g=+i[t+1448>>2],C=g*(m*D-h*E),S=g*(h*M-d*D),m=g*(d*E-m*M),g=P*(B*M-w*D),d=P*(w*E-b*M),h=P*(b*D-B*E)),F=(e[o+12>>2]|0)+(a<<2)|0,i[F>>2]=g,i[F+4>>2]=d,i[F+8>>2]=h,F=e[o+20>>2]|0,i[F+(a<<2)>>2]=-S,i[F+(a+1<<2)>>2]=-m,i[F+(a+2<<2)>>2]=-C)}function Tre(t,n,s,o){if(t=t|0,n=n|0,s=+s,o=o|0,o>>>0<3)switch(n|0){case 2:{i[t+728+(o<<2)>>2]=s,e[t+1456>>2]=e[t+1456>>2]|2<<(o<<2);return}case 4:{i[t+744+(o<<2)>>2]=s,e[t+1456>>2]=e[t+1456>>2]|1<<(o<<2);return}case 1:{i[t+760+(o<<2)>>2]=s,e[t+1456>>2]=e[t+1456>>2]|8<<(o<<2);return}case 3:{i[t+776+(o<<2)>>2]=s,e[t+1456>>2]=e[t+1456>>2]|4<<(o<<2);return}default:return}if(!((o+-3|0)>>>0>=3))switch(n|0){case 2:{i[t+968+((o+-3|0)*88|0)+12>>2]=s,e[t+1456>>2]=e[t+1456>>2]|2<<(o<<2);return}case 4:{i[t+968+((o+-3|0)*88|0)+16>>2]=s,e[t+1456>>2]=e[t+1456>>2]|1<<(o<<2);return}case 1:{i[t+968+((o+-3|0)*88|0)+20>>2]=s,e[t+1456>>2]=e[t+1456>>2]|8<<(o<<2);return}case 3:{i[t+968+((o+-3|0)*88|0)+24>>2]=s,e[t+1456>>2]=e[t+1456>>2]|4<<(o<<2);return}default:return}}function wre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;e:do if(s>>>0>=3)if((s+-3|0)>>>0<3)switch(n|0){case 2:{o=+i[t+968+((s+-3|0)*88|0)+12>>2];break e}case 4:{o=+i[t+968+((s+-3|0)*88|0)+16>>2];break e}case 1:{o=+i[t+968+((s+-3|0)*88|0)+20>>2];break e}case 3:{o=+i[t+968+((s+-3|0)*88|0)+24>>2];break e}default:{o=0;break e}}else o=0;else switch(n|0){case 2:{o=+i[t+728+(s<<2)>>2];break e}case 4:{o=+i[t+744+(s<<2)>>2];break e}case 1:{o=+i[t+760+(s<<2)>>2];break e}case 3:{o=+i[t+776+(s<<2)>>2];break e}default:{o=0;break e}}while(!1);return+o}function Mre(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Rre(t,n){t=t|0,n=n|0;var s=0,o=0;if(R[t+1309>>0]|0&&(s=(+i[t+1256>>2]-+i[t+1316>>2])*+i[t+1340>>2],i[t+792>>2]=s*(+i[n>>2]*+i[t+1364>>2]/+(e[n+48>>2]|0)),s=+ht(+s),i[t+808>>2]=s/+i[n>>2]),R[t+1310>>0]|0&&(s=(+i[t+1260>>2]-+i[t+1320>>2])*+i[t+1344>>2],i[t+796>>2]=s*(+i[n>>2]*+i[t+1368>>2]/+(e[n+48>>2]|0)),s=+ht(+s),i[t+812>>2]=s/+i[n>>2]),R[t+1311>>0]|0&&(s=(+i[t+1264>>2]-+i[t+1324>>2])*+i[t+1348>>2],i[t+800>>2]=s*(+i[n>>2]*+i[t+1372>>2]/+(e[n+48>>2]|0)),s=+ht(+s),i[t+816>>2]=s/+i[n>>2]),R[t+1312>>0]|0&&(o=-((+i[t+1192>>2]-+i[t+1328>>2])*+i[t+1352>>2]),s=+i[n>>2],i[t+876>>2]=s*+i[t+1376>>2]/+(e[n+48>>2]|0)*o,i[t+880>>2]=+ht(+o)/s),R[t+1313>>0]|0&&(s=-((+i[t+1196>>2]-+i[t+1332>>2])*+i[t+1356>>2]),o=+i[n>>2],i[t+940>>2]=o*+i[t+1380>>2]/+(e[n+48>>2]|0)*s,i[t+944>>2]=+ht(+s)/o),!(R[t+1314>>0]|0)){gh(t,n);return}s=-((+i[t+1200>>2]-+i[t+1336>>2])*+i[t+1360>>2]),o=+i[n>>2],i[t+1004>>2]=o*+i[t+1384>>2]/+(e[n+48>>2]|0)*s,i[t+1008>>2]=+ht(+s)/o,gh(t,n)}function Are(t){return t=t|0,348}function Ere(t,n,s){return t=t|0,n=n|0,s=s|0,X6(t,n,s)|0,e[n+276>>2]=e[t+1316>>2],e[n+324>>2]=e[t+1364>>2],e[n+252>>2]=It[t+1309>>0],e[n+300>>2]=e[t+1340>>2],e[n+280>>2]=e[t+1320>>2],e[n+328>>2]=e[t+1368>>2],e[n+256>>2]=It[t+1310>>0],e[n+304>>2]=e[t+1344>>2],e[n+284>>2]=e[t+1324>>2],e[n+332>>2]=e[t+1372>>2],e[n+260>>2]=It[t+1311>>0],e[n+308>>2]=e[t+1348>>2],e[n+288>>2]=e[t+1328>>2],e[n+336>>2]=e[t+1376>>2],e[n+264>>2]=It[t+1312>>0],e[n+312>>2]=e[t+1352>>2],e[n+292>>2]=e[t+1332>>2],e[n+340>>2]=e[t+1380>>2],e[n+268>>2]=It[t+1313>>0],e[n+316>>2]=e[t+1356>>2],e[n+296>>2]=e[t+1336>>2],e[n+344>>2]=e[t+1384>>2],e[n+272>>2]=It[t+1314>>0],e[n+320>>2]=e[t+1360>>2],15322}function Nre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0;b=+i[n>>2],D=+i[n+4>>2],E=+i[n+8>>2],M=1/+ot(+(b*b+D*D+E*E)),P=+i[s>>2],F=+i[s+4>>2],L=+i[s+8>>2],B=1/+ot(+(P*P+F*F+L*L)),O=E*M*(F*B)-D*M*(L*B),G=b*M*(L*B)-E*M*(P*B),U=D*M*(P*B)-b*M*(F*B),s=e[t+28>>2]|0,o=+i[s+4>>2],l=+i[s+20>>2],p=+i[s+36>>2],a=+i[s+8>>2],u=+i[s+24>>2],h=+i[s+40>>2],d=+i[s+12>>2],g=+i[s+28>>2],C=+i[s+44>>2],m=-+i[s+52>>2],S=-+i[s+56>>2],w=-+i[s+60>>2],i[t+48>>2]=U*p+(o*O+l*G),i[t+52>>2]=o*(P*B)+F*B*l+L*B*p,i[t+56>>2]=b*M*o+D*M*l+E*M*p,i[t+60>>2]=0,i[t+64>>2]=O*a+G*u+U*h,i[t+68>>2]=P*B*a+F*B*u+L*B*h,i[t+72>>2]=b*M*a+D*M*u+E*M*h,i[t+76>>2]=0,i[t+80>>2]=O*d+G*g+U*C,i[t+84>>2]=P*B*d+F*B*g+L*B*C,i[t+88>>2]=b*M*d+D*M*g+E*M*C,i[t+92>>2]=0,i[t+96>>2]=o*0+l*0+p*0+(o*m+l*S+p*w),i[t+100>>2]=a*0+u*0+h*0+(a*m+u*S+h*w),i[t+104>>2]=d*0+g*0+C*0+(d*m+g*S+C*w),i[t+108>>2]=0,s=e[t+32>>2]|0,w=+i[s+4>>2],C=+i[s+20>>2],S=+i[s+36>>2],g=+i[s+8>>2],m=+i[s+24>>2],d=+i[s+40>>2],h=+i[s+12>>2],u=+i[s+28>>2],a=+i[s+44>>2],p=-+i[s+52>>2],l=-+i[s+56>>2],o=-+i[s+60>>2],i[t+112>>2]=O*w+G*C+U*S,i[t+116>>2]=P*B*w+F*B*C+L*B*S,i[t+120>>2]=b*M*w+D*M*C+E*M*S,i[t+124>>2]=0,i[t+128>>2]=O*g+G*m+U*d,i[t+132>>2]=P*B*g+F*B*m+L*B*d,i[t+136>>2]=b*M*g+D*M*m+E*M*d,i[t+140>>2]=0,i[t+144>>2]=O*h+G*u+U*a,i[t+148>>2]=P*B*h+F*B*u+L*B*a,i[t+152>>2]=b*M*h+D*M*u+E*M*a,i[t+156>>2]=0,i[t+160>>2]=w*0+C*0+S*0+(w*p+C*l+S*o),i[t+164>>2]=g*0+m*0+d*0+(g*p+m*l+d*o),i[t+168>>2]=h*0+u*0+a*0+(h*p+u*l+a*o),i[t+172>>2]=0,ru(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0)}function bre(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Dre(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0;if(b=H,H=H+176|0,!(R[t+738>>0]|0)){H=b;return}if(i[t+36>>2]=0,i[t+744>>2]=0,!(R[t+736>>0]|0))for(s=e[t+28>>2]|0,p=+i[t+600>>2],h=+i[t+604>>2],C=+i[t+608>>2],M=p*+i[s+20>>2]+h*+i[s+24>>2]+C*+i[s+28>>2]+ +i[s+56>>2],o=e[t+32>>2]|0,d=+i[t+664>>2],m=+i[t+668>>2],w=+i[t+672>>2],g=+i[o+52>>2],n=+i[o+56>>2],E=d*+i[o+20>>2]+m*+i[o+24>>2]+w*+i[o+28>>2]+n,D=d*+i[o+36>>2]+m*+i[o+40>>2]+w*+i[o+44>>2]+ +i[o+60>>2],S=p*+i[s+4>>2]+h*+i[s+8>>2]+C*+i[s+12>>2]+ +i[s+52>>2],C=p*+i[s+36>>2]+h*+i[s+40>>2]+C*+i[s+44>>2]+ +i[s+60>>2],w=d*+i[o+4>>2]+m*+i[o+8>>2]+w*+i[o+12>>2]+g,(w-S)*(w-S)+(E-M)*(E-M)+(D-C)*(D-C)>11920928955078125e-23?(l=1/+ot(+((w-S)*(w-S)+(E-M)*(E-M)+(D-C)*(D-C))),i[b+128>>2]=(w-S)*l,i[b+128+4>>2]=(E-M)*l,i[b+128+8>>2]=(D-C)*l,e[b+128+12>>2]=0,d=(D-C)*l,a=(E-M)*l,l=(w-S)*l):(e[b+128>>2]=1065353216,e[b+128+4>>2]=0,e[b+128+8>>2]=0,i[b+128+12>>2]=0,d=0,a=0,l=1),+ht(+d)>.7071067690849304?(L=d*d+a*a,B=1/+ot(+L),p=-(B*d),d=B*a,m=-(d*l),u=l*p,h=0,a=L*B,l=d):(p=l*l+a*a,u=1/+ot(+p),h=-(a*u),a=u*l,m=d*h,u=p*u,p=a,a=-(a*d),l=0),i[b+128+16>>2]=h,i[b+128+20>>2]=p,i[b+128+24>>2]=l,i[b+128+32>>2]=a,i[b+128+36>>2]=m,i[b+128+40>>2]=u,a=g,s=0;F=e[t+28>>2]|0,e[b+80>>2]=e[F+4>>2],e[b+80+4>>2]=e[F+20>>2],e[b+80+8>>2]=e[F+36>>2],i[b+80+12>>2]=0,e[b+80+16>>2]=e[F+8>>2],e[b+80+20>>2]=e[F+24>>2],e[b+80+24>>2]=e[F+40>>2],i[b+80+28>>2]=0,e[b+80+32>>2]=e[F+12>>2],e[b+80+36>>2]=e[F+28>>2],e[b+80+40>>2]=e[F+44>>2],i[b+80+44>>2]=0,e[b+32>>2]=e[o+4>>2],e[b+32+4>>2]=e[o+20>>2],e[b+32+8>>2]=e[o+36>>2],i[b+32+12>>2]=0,e[b+32+16>>2]=e[o+8>>2],e[b+32+20>>2]=e[o+24>>2],e[b+32+24>>2]=e[o+40>>2],i[b+32+28>>2]=0,e[b+32+32>>2]=e[o+12>>2],e[b+32+36>>2]=e[o+28>>2],e[b+32+40>>2]=e[o+44>>2],i[b+32+44>>2]=0,B=M-+i[F+56>>2],L=C-+i[F+60>>2],i[b+16>>2]=S-+i[F+52>>2],i[b+16+4>>2]=B,i[b+16+8>>2]=L,i[b+16+12>>2]=0,L=D-+i[o+60>>2],i[b>>2]=w-a,i[b+4>>2]=E-n,i[b+8>>2]=L,i[b+12>>2]=0,F=e[t+28>>2]|0,o=e[t+32>>2]|0,Wf(t+48+(s*84|0)|0,b+80|0,b+32|0,b+16|0,b,b+128+(s<<4)|0,F+420|0,+i[F+368>>2],o+420|0,+i[o+368>>2]),s=s+1|0,(s|0)!=3;)F=e[t+32>>2]|0,o=F,a=+i[F+52>>2],n=+i[F+56>>2];a=+i[t+560>>2],l=+i[t+576>>2],u=+i[t+592>>2],+ht(+u)>.7071067690849304?(g=1/+ot(+(u*u+l*l)),n=a*-(u*g),p=0,h=l*g,d=-(u*g),m=(u*u+l*l)*g,g=-(a*(l*g))):(g=1/+ot(+(a*a+l*l)),n=(a*a+l*l)*g,p=-(l*g),h=0,d=a*g,m=-(u*(a*g)),g=u*-(l*g)),o=e[t+28>>2]|0,X=+i[o+4>>2],q=+i[o+8>>2],E=+i[o+12>>2],me=p*X+d*q+h*E,$=+i[o+20>>2],Y=+i[o+24>>2],B=+i[o+28>>2],oe=p*$+d*Y+h*B,z=+i[o+36>>2],w=+i[o+40>>2],G=+i[o+44>>2],ve=p*z+d*w+h*G,U=m*X+g*q+n*E,W=m*$+g*Y+n*B,te=m*z+g*w+n*G,s=e[t+32>>2]|0,P=+i[s+4>>2],p=+i[s+20>>2],h=+i[s+36>>2],S=+i[s+8>>2],C=+i[s+24>>2],D=+i[s+40>>2],pe=+i[s+12>>2],se=+i[s+28>>2],xe=+i[s+44>>2],e[t+300>>2]=0,e[t+300+4>>2]=0,e[t+300+8>>2]=0,e[t+300+12>>2]=0,i[t+316>>2]=me*X+oe*$+ve*z,i[t+320>>2]=me*q+oe*Y+ve*w,i[t+324>>2]=me*E+oe*B+ve*G,i[t+328>>2]=0,i[t+332>>2]=P*-me+p*-oe+h*-ve,i[t+336>>2]=S*-me+C*-oe+D*-ve,i[t+340>>2]=pe*-me+se*-oe+xe*-ve,i[t+344>>2]=0,O=(me*X+oe*$+ve*z)*+i[o+420>>2],ne=(me*q+oe*Y+ve*w)*+i[o+424>>2],n=(me*E+oe*B+ve*G)*+i[o+428>>2],i[t+348>>2]=O,i[t+352>>2]=ne,i[t+356>>2]=n,i[t+360>>2]=0,g=(P*-me+p*-oe+h*-ve)*+i[s+420>>2],L=(S*-me+C*-oe+D*-ve)*+i[s+424>>2],de=(pe*-me+se*-oe+xe*-ve)*+i[s+428>>2],i[t+364>>2]=g,i[t+368>>2]=L,i[t+372>>2]=de,i[t+376>>2]=0,i[t+380>>2]=(me*X+oe*$+ve*z)*O+(me*q+oe*Y+ve*w)*ne+(me*E+oe*B+ve*G)*n+((P*-me+p*-oe+h*-ve)*g+(S*-me+C*-oe+D*-ve)*L+(pe*-me+se*-oe+xe*-ve)*de),s=e[t+28>>2]|0,de=+i[s+4>>2],ve=+i[s+20>>2],xe=+i[s+36>>2],oe=+i[s+8>>2],se=+i[s+24>>2],me=+i[s+40>>2],pe=+i[s+12>>2],L=+i[s+28>>2],D=+i[s+44>>2],o=e[t+32>>2]|0,C=+i[o+4>>2],S=+i[o+20>>2],g=+i[o+36>>2],h=+i[o+8>>2],p=+i[o+24>>2],P=+i[o+40>>2],n=+i[o+12>>2],ne=+i[o+28>>2],O=+i[o+44>>2],e[t+384>>2]=0,e[t+384+4>>2]=0,e[t+384+8>>2]=0,e[t+384+12>>2]=0,i[t+400>>2]=U*de+W*ve+te*xe,i[t+404>>2]=U*oe+W*se+te*me,i[t+408>>2]=U*pe+W*L+te*D,i[t+412>>2]=0,i[t+416>>2]=C*-U+S*-W+g*-te,i[t+420>>2]=h*-U+p*-W+P*-te,i[t+424>>2]=n*-U+ne*-W+O*-te,i[t+428>>2]=0,ae=(U*de+W*ve+te*xe)*+i[s+420>>2],he=(U*oe+W*se+te*me)*+i[s+424>>2],M=(U*pe+W*L+te*D)*+i[s+428>>2],i[t+432>>2]=ae,i[t+436>>2]=he,i[t+440>>2]=M,i[t+444>>2]=0,d=(C*-U+S*-W+g*-te)*+i[o+420>>2],m=(h*-U+p*-W+P*-te)*+i[o+424>>2],_e=(n*-U+ne*-W+O*-te)*+i[o+428>>2],i[t+448>>2]=d,i[t+452>>2]=m,i[t+456>>2]=_e,i[t+460>>2]=0,i[t+464>>2]=(U*de+W*ve+te*xe)*ae+(U*oe+W*se+te*me)*he+(U*pe+W*L+te*D)*M+((C*-U+S*-W+g*-te)*d+(h*-U+p*-W+P*-te)*m+(n*-U+ne*-W+O*-te)*_e),o=e[t+28>>2]|0,_e=+i[o+4>>2],te=+i[o+20>>2],O=+i[o+36>>2],W=+i[o+8>>2],ne=+i[o+24>>2],U=+i[o+40>>2],n=+i[o+12>>2],m=+i[o+28>>2],P=+i[o+44>>2],s=e[t+32>>2]|0,p=+i[s+4>>2],h=+i[s+20>>2],d=+i[s+36>>2],g=+i[s+8>>2],S=+i[s+24>>2],C=+i[s+40>>2],M=+i[s+12>>2],D=+i[s+28>>2],L=+i[s+44>>2],e[t+468>>2]=0,e[t+468+4>>2]=0,e[t+468+8>>2]=0,e[t+468+12>>2]=0,O=(X*a+q*l+E*u)*_e+($*a+Y*l+B*u)*te+(z*a+w*l+G*u)*O,U=(X*a+q*l+E*u)*W+($*a+Y*l+B*u)*ne+(z*a+w*l+G*u)*U,P=(X*a+q*l+E*u)*n+($*a+Y*l+B*u)*m+(z*a+w*l+G*u)*P,i[t+484>>2]=O,i[t+488>>2]=U,i[t+492>>2]=P,i[t+496>>2]=0,E=-(X*a+q*l+E*u),B=-($*a+Y*l+B*u),a=-(z*a+w*l+G*u),i[t+500>>2]=p*E+h*B+d*a,i[t+504>>2]=g*E+S*B+C*a,i[t+508>>2]=M*E+D*B+L*a,i[t+512>>2]=0,G=O*+i[o+420>>2],l=U*+i[o+424>>2],u=P*+i[o+428>>2],i[t+516>>2]=G,i[t+520>>2]=l,i[t+524>>2]=u,i[t+528>>2]=0,m=(p*E+h*B+d*a)*+i[s+420>>2],w=(g*E+S*B+C*a)*+i[s+424>>2],n=(M*E+D*B+L*a)*+i[s+428>>2],i[t+532>>2]=m,i[t+536>>2]=w,i[t+540>>2]=n,i[t+544>>2]=0,i[t+548>>2]=O*G+U*l+P*u+((p*E+h*B+d*a)*m+(g*E+S*B+C*a)*w+(M*E+D*B+L*a)*n),i[t+724>>2]=0,s=e[t+28>>2]|0,o=e[t+32>>2]|0,n=+ym(t,s+4|0,o+4|0),i[t+728>>2]=n,i[t+708>>2]=0,i[t+712>>2]=0,R[t+716>>0]=0,a=+i[t+692>>2];do if(a>=0){if(n=+an(n-+i[t+688>>2]),n<-3.1415927410125732?n=n+6.2831854820251465:n>3.1415927410125732&&(n=n+-6.2831854820251465),n<-a){R[t+716>>0]=1,i[t+708>>2]=-(n+a),i[t+712>>2]=1;break}n>a&&(R[t+716>>0]=1,i[t+708>>2]=a-n,i[t+712>>2]=-1)}while(!1);oe=+i[t+560>>2],ae=+i[t+576>>2],de=+i[t+592>>2],xe=oe*+i[s+4>>2]+ae*+i[s+8>>2]+de*+i[s+12>>2],ve=oe*+i[s+20>>2]+ae*+i[s+24>>2]+de*+i[s+28>>2],de=oe*+i[s+36>>2]+ae*+i[s+40>>2]+de*+i[s+44>>2],i[t+720>>2]=1/(xe*(xe*+i[s+288>>2]+ve*+i[s+304>>2]+de*+i[s+320>>2])+ve*(xe*+i[s+292>>2]+ve*+i[s+308>>2]+de*+i[s+324>>2])+de*(xe*+i[s+296>>2]+ve*+i[s+312>>2]+de*+i[s+328>>2])+(xe*(xe*+i[o+288>>2]+ve*+i[o+304>>2]+de*+i[o+320>>2])+ve*(xe*+i[o+292>>2]+ve*+i[o+308>>2]+de*+i[o+324>>2])+de*(xe*+i[o+296>>2]+ve*+i[o+312>>2]+de*+i[o+328>>2]))),H=b}function ym(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0;return L=+i[t+552>>2],B=+i[t+568>>2],b=+i[t+584>>2],D=+i[n>>2],E=+i[n+4>>2],M=+i[n+8>>2],C=+i[n+16>>2],S=+i[n+20>>2],g=+i[n+24>>2],d=+i[n+32>>2],p=+i[n+36>>2],l=+i[n+40>>2],h=+i[t+556>>2],u=+i[t+572>>2],a=+i[t+588>>2],P=+i[t+620>>2],F=+i[t+636>>2],o=+i[t+652>>2],w=P*+i[s>>2]+F*+i[s+4>>2]+o*+i[s+8>>2],m=P*+i[s+16>>2]+F*+i[s+20>>2]+o*+i[s+24>>2],o=P*+i[s+32>>2]+F*+i[s+36>>2]+o*+i[s+40>>2],o=+gn(+((L*D+B*E+b*M)*w+(L*C+B*S+b*g)*m+(L*d+B*p+b*l)*o),+((D*h+E*u+M*a)*w+(C*h+S*u+g*a)*m+(d*h+p*u+l*a)*o)),+(o*+i[t+732>>2])}function Ire(t,n){t=t|0,n=n|0;var s=0,o=0,a=0;if(R[t+738>>0]|0){e[n>>2]=0,e[n+4>>2]=0;return}e[n>>2]=5,e[n+4>>2]=1,s=+ym(t,(e[t+28>>2]|0)+4|0,(e[t+32>>2]|0)+4|0),i[t+728>>2]=s,i[t+708>>2]=0,i[t+712>>2]=0,R[t+716>>0]=0,o=+i[t+692>>2];do if(o>=0){if(s=+an(s-+i[t+688>>2]),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),s<-o){R[t+716>>0]=1,i[t+708>>2]=-(s+o),i[t+712>>2]=1;break}s>o?(R[t+716>>0]=1,i[t+708>>2]=o-s,i[t+712>>2]=-1):a=12}else a=12;while(!1);(a|0)==12&&(R[t+737>>0]|0)==0||(e[n>>2]=6,e[n+4>>2]=0)}function Pre(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0,ke=0,Ae=0,qe=0,He=0,Ke=0,Ze=0,ut=0,st=0,mt=0,lt=0,_t=0,bt=0,rt=0,Ce=0,kt=0,it=0,q0=0,K0=0;if(q0=e[t+28>>2]|0,K0=e[t+32>>2]|0,w=e[n+24>>2]|0,!(R[t+739>>0]|0)){if(P=+i[t+552>>2],ve=+i[q0+4>>2],U=+i[t+568>>2],de=+i[q0+8>>2],G=+i[t+584>>2],fe=+i[q0+12>>2],O=+i[t+556>>2],z=+i[t+572>>2],Y=+i[t+588>>2],Te=+i[t+560>>2],we=+i[t+576>>2],Ne=+i[t+592>>2],Se=+i[q0+20>>2],ge=+i[q0+24>>2],ke=+i[q0+28>>2],Ae=+i[q0+36>>2],qe=+i[q0+40>>2],He=+i[q0+44>>2],h=+i[t+600>>2],m=+i[t+604>>2],C=+i[t+608>>2],E=+i[q0+52>>2],D=+i[q0+56>>2],b=+i[q0+60>>2],$=+i[K0+4>>2],q=+i[K0+8>>2],X=+i[K0+12>>2],ne=+i[t+624>>2],W=+i[t+640>>2],te=+i[t+656>>2],_e=+i[K0+20>>2],pe=+i[K0+24>>2],he=+i[K0+28>>2],me=+i[K0+36>>2],se=+i[K0+40>>2],oe=+i[K0+44>>2],kt=+i[t+664>>2],it=+i[t+668>>2],F=+i[t+672>>2],B=+i[K0+52>>2]+($*kt+q*it+X*F),L=_e*kt+pe*it+he*F+ +i[K0+56>>2],F=me*kt+se*it+oe*F+ +i[K0+60>>2],ae=ee[t+736>>1]|0,(ae&255)<<24>>24?(a=w<<1,s=E,o=D,u=b):(a=e[n+8>>2]|0,i[a>>2]=1,i[a+(w+1<<2)>>2]=1,i[a+((w<<1)+2<<2)>>2]=1,a=e[n+16>>2]|0,i[a>>2]=-1,i[a+(w+1<<2)>>2]=-1,i[a+((w<<1)+2<<2)>>2]=-1,a=w<<1,s=+i[q0+52>>2],o=+i[q0+56>>2],u=+i[q0+60>>2]),p=E+(ve*h+de*m+fe*C)-s,s=Se*h+ge*m+ke*C+D-o,it=Ae*h+qe*m+He*C+b-u,d=e[n+12>>2]|0,S=d+(a<<2)|0,e[d>>2]=0,i[d+4>>2]=it,i[d+8>>2]=-s,i[d+12>>2]=0,i[d+(w<<2)>>2]=-it,e[d+(w<<2)+4>>2]=0,i[d+(w<<2)+8>>2]=p,i[d+(w<<2)+12>>2]=0,i[S>>2]=s,i[S+4>>2]=-p,e[S+8>>2]=0,i[S+12>>2]=0,p=B-+i[K0+52>>2],s=L-+i[K0+56>>2],it=F-+i[K0+60>>2],S=e[n+20>>2]|0,xe=S+(a<<2)|0,e[S>>2]=0,i[S+4>>2]=-it,i[S+8>>2]=s,i[S+12>>2]=0,i[S+(w<<2)>>2]=it,e[S+(w<<2)+4>>2]=0,i[S+(w<<2)+8>>2]=-p,i[S+(w<<2)+12>>2]=0,i[xe>>2]=-s,i[xe+4>>2]=p,e[xe+8>>2]=0,i[xe+12>>2]=0,xe=e[t+748>>2]|0,p=+i[((xe&8|0)==0?n+4|0:t+756|0)>>2],s=p*+i[n>>2],M=e[n+28>>2]|0,(ae&255)<<24>>24||(i[M>>2]=s*(B-(E+(ve*h+de*m+fe*C))),i[M+(w<<2)>>2]=s*(L-(Se*h+ge*m+ke*C+D)),i[M+(w<<1<<2)>>2]=s*(F-(Ae*h+qe*m+He*C+b))),w=e[n+24>>2]|0,i[d+(w*3<<2)>>2]=P*ve+U*de+G*fe,i[d+((w*3|0)+1<<2)>>2]=P*Se+U*ge+G*ke,i[d+((w*3|0)+2<<2)>>2]=P*Ae+U*qe+G*He,i[d+(w<<2<<2)>>2]=ve*O+de*z+fe*Y,i[d+((w<<2|1)<<2)>>2]=O*Se+z*ge+Y*ke,i[d+((w<<2|2)<<2)>>2]=O*Ae+z*qe+Y*He,i[S+(w*3<<2)>>2]=-(P*ve+U*de+G*fe),i[S+((w*3|0)+1<<2)>>2]=-(P*Se+U*ge+G*ke),i[S+((w*3|0)+2<<2)>>2]=-(P*Ae+U*qe+G*He),i[S+(w<<2<<2)>>2]=-(ve*O+de*z+fe*Y),i[S+((w<<2|1)<<2)>>2]=-(O*Se+z*ge+Y*ke),i[S+((w<<2|2)<<2)>>2]=-(O*Ae+z*qe+Y*He),kt=(Te*Se+we*ge+Ne*ke)*(ne*me+W*se+te*oe)-(Te*Ae+we*qe+Ne*He)*(ne*_e+W*pe+te*he),it=(Te*Ae+we*qe+Ne*He)*($*ne+q*W+X*te)-(ve*Te+de*we+fe*Ne)*(ne*me+W*se+te*oe),Ce=(ve*Te+de*we+fe*Ne)*(ne*_e+W*pe+te*he)-(Te*Se+we*ge+Ne*ke)*($*ne+q*W+X*te),i[M+(w*3<<2)>>2]=((P*Ae+U*qe+G*He)*Ce+((P*ve+U*de+G*fe)*kt+(P*Se+U*ge+G*ke)*it))*s,i[M+(w<<2<<2)>>2]=((O*Ae+z*qe+Y*He)*Ce+((ve*O+de*z+fe*Y)*kt+(O*Se+z*ge+Y*ke)*it))*s,R[t+716>>0]|0?(C=+i[t+708>>2]*+i[t+732>>2],g=C>0?1:2):(g=0,C=0),l=(g|0)!=0,!((ae&65535)>>>8&65535|g))return;if(i[d+(w*5<<2)>>2]=ve*Te+de*we+fe*Ne,i[d+((w*5|0)+1<<2)>>2]=Te*Se+we*ge+Ne*ke,i[d+((w*5|0)+2<<2)>>2]=Te*Ae+we*qe+Ne*He,i[S+(w*5<<2)>>2]=-(ve*Te+de*we+fe*Ne),i[S+((w*5|0)+1<<2)>>2]=-(Te*Se+we*ge+Ne*ke),i[S+((w*5|0)+2<<2)>>2]=-(Te*Ae+we*qe+Ne*He),o=+i[t+688>>2],u=+i[t+692>>2],s=+an(o-u),s<-3.1415927410125732?m=s+6.2831854820251465:s>3.1415927410125732?m=s+-6.2831854820251465:m=s,s=+an(o+u),s<-3.1415927410125732?h=s+6.2831854820251465:s>3.1415927410125732?h=s+-6.2831854820251465:h=s,a=m==h,d=M+(w*5<<2)|0,i[d>>2]=0,xe&2&&(p=+i[t+764>>2]),!((ae&65535)>>>8<<16>>16==0|l&a)){xe&4|0&&(e[(e[n+32>>2]|0)+(w*5<<2)>>2]=e[t+752>>2]),o=+i[t+728>>2],u=+i[t+680>>2],s=m>h?1:0;do if(!(m>=h)){if(s=u/(p*+i[n>>2]),s<0)if(o>=m&m-s>o){s=(m-o)/s;break}else{s=o<m?0:1;break}if(s>0)if(o<=h&h-s<o){s=(h-o)/s;break}else{s=o>h?0:1;break}else s=0}while(!1);i[d>>2]=s*u*+i[t+732>>2]+ +i[d>>2],i[(e[n+36>>2]|0)+(w*5<<2)>>2]=-+i[t+684>>2],e[(e[n+40>>2]|0)+(w*5<<2)>>2]=e[t+684>>2]}if(!l)return;i[d>>2]=+i[d>>2]+C*(p*+i[n>>2]),xe&1|0&&(e[(e[n+32>>2]|0)+(w*5<<2)>>2]=e[t+760>>2]);do if(a)i[(e[n+36>>2]|0)+(w*5<<2)>>2]=-34028234663852886e22,i[(e[n+40>>2]|0)+(w*5<<2)>>2]=34028234663852886e22;else if(l=(e[n+36>>2]|0)+(w*5<<2)|0,a=e[n+40>>2]|0,(g|0)==1){i[l>>2]=0,i[a+(w*5<<2)>>2]=34028234663852886e22;break}else{i[l>>2]=-34028234663852886e22,i[a+(w*5<<2)>>2]=0;break}while(!1);o=+i[t+704>>2];do if(o>0)if(s=(ve*Te+de*we+fe*Ne)*+i[q0+352>>2]+(Te*Se+we*ge+Ne*ke)*+i[q0+356>>2]+(Te*Ae+we*qe+Ne*He)*+i[q0+360>>2]-((ve*Te+de*we+fe*Ne)*+i[K0+352>>2]+(Te*Se+we*ge+Ne*ke)*+i[K0+356>>2]+(Te*Ae+we*qe+Ne*He)*+i[K0+360>>2]),(g|0)==1){if(!(s<0)||!(+i[d>>2]<-(o*s)))break;i[d>>2]=-(o*s);break}else{if(!(s>0)||!(+i[d>>2]>-(o*s)))break;i[d>>2]=-(o*s);break}while(!1);i[d>>2]=+i[t+700>>2]*+i[d>>2];return}if(Te=+i[q0+4>>2],we=+i[q0+8>>2],Ne=+i[q0+12>>2],E=+i[t+556>>2],B=+i[t+572>>2],F=+i[t+588>>2],Se=+i[t+560>>2],ge=+i[t+576>>2],ke=+i[t+592>>2],Ae=+i[q0+20>>2],qe=+i[q0+24>>2],He=+i[q0+28>>2],Ke=+i[q0+36>>2],Ze=+i[q0+40>>2],ut=+i[q0+44>>2],mt=+i[t+600>>2],st=+i[t+604>>2],m=+i[t+608>>2],o=+i[q0+52>>2]+(Te*mt+we*st+Ne*m),b=Ae*mt+qe*st+He*m+ +i[q0+56>>2],m=Ke*mt+Ze*st+ut*m+ +i[q0+60>>2],st=+i[K0+4>>2],mt=+i[K0+8>>2],lt=+i[K0+12>>2],_t=+i[t+624>>2],bt=+i[t+640>>2],he=+i[t+656>>2],me=+i[K0+20>>2],se=+i[K0+24>>2],oe=+i[K0+28>>2],ve=+i[K0+36>>2],de=+i[K0+40>>2],fe=+i[K0+44>>2],C=+i[t+664>>2],L=+i[t+668>>2],u=+i[t+672>>2],s=+i[K0+52>>2],D=+i[K0+56>>2],h=+i[K0+60>>2],ne=s+(st*C+mt*L+lt*u)-o,W=me*C+se*L+oe*u+D-b,te=ve*C+de*L+fe*u+h-m,P=+i[(e[t+28>>2]|0)+368>>2],U=+i[(e[t+32>>2]|0)+368>>2],X=P+U>0?U/(P+U):.5,rt=(Te*Se+we*ge+Ne*ke)*X+(st*_t+mt*bt+lt*he)*(1-X),Ce=(Se*Ae+ge*qe+ke*He)*X+(_t*me+bt*se+he*oe)*(1-X),kt=(Se*Ke+ge*Ze+ke*ut)*X+(_t*ve+bt*de+he*fe)*(1-X),it=1/+ot(+(rt*rt+Ce*Ce+kt*kt)),G=(s+(st*C+mt*L+lt*u)-s)*(rt*it)+(me*C+se*L+oe*u+D-D)*(Ce*it)+(ve*C+de*L+fe*u+h-h)*(kt*it),s=s+(st*C+mt*L+lt*u)-s-rt*it*G,D=me*C+se*L+oe*u+D-D-Ce*it*G,h=ve*C+de*L+fe*u+h-h-kt*it*G,o=o-+i[q0+52>>2],b=b-+i[q0+56>>2],m=m-+i[q0+60>>2],u=rt*it*(o*(rt*it)+b*(Ce*it)+m*(kt*it)),L=Ce*it*(o*(rt*it)+b*(Ce*it)+m*(kt*it)),C=kt*it*(o*(rt*it)+b*(Ce*it)+m*(kt*it)),$=o-u+X*(u-rt*it*G),q=b-L+X*(L-Ce*it*G),Y=m-C+X*(C-kt*it*G),O=s-(1-X)*(u-rt*it*G),z=D-(1-X)*(L-Ce*it*G),G=h-(1-X)*(C-kt*it*G),p=(X*s+(1-X)*(o-u))*(X*s+(1-X)*(o-u))+(X*D+(1-X)*(b-L))*(X*D+(1-X)*(b-L))+(X*h+(1-X)*(m-C))*(X*h+(1-X)*(m-C)),p>11920928955078125e-23?(F=1/+ot(+p),pe=(X*s+(1-X)*(o-u))*F,_e=F*(X*h+(1-X)*(m-C)),b=F*(X*D+(1-X)*(b-L))):(pe=Te*E+we*B+Ne*F,_e=E*Ke+B*Ze+F*ut,b=E*Ae+B*qe+F*He),C=Ce*it*_e-kt*it*b,E=kt*it*pe-_e*(rt*it),D=b*(rt*it)-Ce*it*pe,xe=e[n+12>>2]|0,i[xe>>2]=q*_e-Y*b,i[xe+4>>2]=Y*pe-$*_e,i[xe+8>>2]=$*b-q*pe,xe=e[n+20>>2]|0,i[xe>>2]=-(z*_e-G*b),i[xe+4>>2]=-(G*pe-O*_e),i[xe+8>>2]=-(O*b-z*pe),P<11920928955078125e-23|U<11920928955078125e-23&&(R[t+716>>0]|0)!=0?(s=(1-X)*(z*D-G*E),o=(1-X)*(G*C-O*D),u=(1-X)*(O*E-z*C),p=X*(q*D-Y*E),h=X*(Y*C-$*D),m=X*($*E-q*C)):(s=z*D-G*E,o=G*C-O*D,u=O*E-z*C,p=q*D-Y*E,h=Y*C-$*D,m=$*E-q*C),xe=(e[n+12>>2]|0)+(w<<2)|0,i[xe>>2]=p,i[xe+4>>2]=h,i[xe+8>>2]=m,xe=e[n+20>>2]|0,i[xe+(w<<2)>>2]=-s,i[xe+(w+1<<2)>>2]=-o,i[xe+(w+2<<2)>>2]=-u,P<11920928955078125e-23|U<11920928955078125e-23?(m=(1-X)*(z*(kt*it)-G*(Ce*it)),h=(1-X)*(G*(rt*it)-O*(kt*it)),p=(1-X)*(O*(Ce*it)-z*(rt*it)),u=X*(q*(kt*it)-Y*(Ce*it)),o=X*(Y*(rt*it)-$*(kt*it)),s=X*($*(Ce*it)-q*(rt*it))):(m=z*(kt*it)-G*(Ce*it),h=G*(rt*it)-O*(kt*it),p=O*(Ce*it)-z*(rt*it),u=q*(kt*it)-Y*(Ce*it),o=Y*(rt*it)-$*(kt*it),s=$*(Ce*it)-q*(rt*it)),a=(e[n+12>>2]|0)+(w<<1<<2)|0,i[a>>2]=u,i[a+4>>2]=o,i[a+8>>2]=s,a=e[n+20>>2]|0,i[a+(w<<1<<2)>>2]=-m,i[a+((w<<1|1)<<2)>>2]=-h,i[a+((w<<1)+2<<2)>>2]=-p,h=+i[((e[t+748>>2]&8|0)==0?n+4|0:t+756|0)>>2],s=h*+i[n>>2],R[t+736>>0]|0?(s=-pe,o=-C,u=-E,p=-D,g=e[n+28>>2]|0):(g=e[n+8>>2]|0,i[g>>2]=pe,i[g+4>>2]=b,i[g+8>>2]=_e,g=(e[n+8>>2]|0)+(w<<2)|0,i[g>>2]=C,i[g+4>>2]=E,i[g+8>>2]=D,g=(e[n+8>>2]|0)+(w<<1<<2)|0,i[g>>2]=rt*it,i[g+4>>2]=Ce*it,i[g+8>>2]=kt*it,g=e[n+16>>2]|0,o=-pe,i[g>>2]=o,i[g+4>>2]=-b,i[g+8>>2]=-_e,g=e[n+16>>2]|0,i[g+(w<<2)>>2]=-C,i[g+(w+1<<2)>>2]=-E,i[g+(w+2<<2)>>2]=-D,g=e[n+16>>2]|0,i[g+(w<<1<<2)>>2]=-(rt*it),i[g+((w<<1|1)<<2)>>2]=-(Ce*it),i[g+((w<<1)+2<<2)>>2]=-(kt*it),g=e[n+28>>2]|0,i[g>>2]=s*(ne*pe+W*b+te*_e),i[g+(w<<2)>>2]=s*(ne*C+W*E+te*D),i[g+(w<<1<<2)>>2]=s*(ne*(rt*it)+W*(Ce*it)+te*(kt*it)),s=o,o=-C,u=-E,p=-D,a=e[n+20>>2]|0),l=e[n+12>>2]|0,i[l+(w*3<<2)>>2]=pe,i[l+((w*3|0)+1<<2)>>2]=b,i[l+((w*3|0)+2<<2)>>2]=_e,i[l+(w<<2<<2)>>2]=C,i[l+((w<<2|1)<<2)>>2]=E,i[l+((w<<2|2)<<2)>>2]=D,i[a+(w*3<<2)>>2]=s,i[a+((w*3|0)+1<<2)>>2]=-b,i[a+((w*3|0)+2<<2)>>2]=-_e,i[a+(w<<2<<2)>>2]=o,i[a+((w<<2|1)<<2)>>2]=u,i[a+((w<<2|2)<<2)>>2]=p,W=h*+i[n>>2],te=(Se*Ae+ge*qe+ke*He)*(_t*ve+bt*de+he*fe)-(Se*Ke+ge*Ze+ke*ut)*(_t*me+bt*se+he*oe),ut=(Se*Ke+ge*Ze+ke*ut)*(st*_t+mt*bt+lt*he)-(Te*Se+we*ge+Ne*ke)*(_t*ve+bt*de+he*fe),bt=(Te*Se+we*ge+Ne*ke)*(_t*me+bt*se+he*oe)-(Se*Ae+ge*qe+ke*He)*(st*_t+mt*bt+lt*he),i[g+(w*3<<2)>>2]=W*(te*pe+ut*b+bt*_e),i[g+(w<<2<<2)>>2]=W*(te*C+ut*E+bt*D),R[t+716>>0]|0?(C=+i[t+708>>2]*+i[t+732>>2],M=C>0?1:2):(M=0,C=0),d=R[t+737>>0]|0,S=(M|0)!=0,!!(d&255|M)){if(w=(e[n+24>>2]|0)*5|0,i[l+(w<<2)>>2]=rt*it,i[l+(w+1<<2)>>2]=Ce*it,i[l+(w+2<<2)>>2]=kt*it,i[a+(w<<2)>>2]=-(rt*it),i[a+(w+1<<2)>>2]=-(Ce*it),i[a+(w+2<<2)>>2]=-(kt*it),o=+i[t+688>>2],u=+i[t+692>>2],s=+an(o-u),s<-3.1415927410125732?m=s+6.2831854820251465:s>3.1415927410125732?m=s+-6.2831854820251465:m=s,s=+an(o+u),s<-3.1415927410125732?s=s+6.2831854820251465:s>3.1415927410125732&&(s=s+-6.2831854820251465),l=m==s,g=g+(w<<2)|0,i[g>>2]=0,a=e[t+748>>2]|0,a&2&&(h=+i[t+764>>2]),!(d<<24>>24==0|S&l)){a&4|0&&(e[(e[n+32>>2]|0)+(w<<2)>>2]=e[t+752>>2]),u=+i[t+728>>2],p=+i[t+680>>2],o=m>s?1:0;do if(m>=s)s=o;else{if(o=p/(h*+i[n>>2]),o<0)if(u>=m&m-o>u){s=(m-u)/o;break}else{s=u<m?0:1;break}if(o>0)if(u<=s&s-o<u){s=(s-u)/o;break}else{s=u>s?0:1;break}else s=0}while(!1);i[g>>2]=s*p*+i[t+732>>2]+ +i[g>>2],i[(e[n+36>>2]|0)+(w<<2)>>2]=-+i[t+684>>2],e[(e[n+40>>2]|0)+(w<<2)>>2]=e[t+684>>2]}if(S){i[g>>2]=+i[g>>2]+C*(h*+i[n>>2]),a&1|0&&(e[(e[n+32>>2]|0)+(w<<2)>>2]=e[t+760>>2]);do if(l)i[(e[n+36>>2]|0)+(w<<2)>>2]=-34028234663852886e22,i[(e[n+40>>2]|0)+(w<<2)>>2]=34028234663852886e22;else if(l=(e[n+36>>2]|0)+(w<<2)|0,a=e[n+40>>2]|0,(M|0)==1){i[l>>2]=0,i[a+(w<<2)>>2]=34028234663852886e22;break}else{i[l>>2]=-34028234663852886e22,i[a+(w<<2)>>2]=0;break}while(!1);o=+i[t+704>>2];do if(o>0)if(s=+i[q0+352>>2]*(rt*it)+ +i[q0+356>>2]*(Ce*it)+ +i[q0+360>>2]*(kt*it)-(rt*it*+i[K0+352>>2]+Ce*it*+i[K0+356>>2]+kt*it*+i[K0+360>>2]),(M|0)==1){if(!(s<0)||!(+i[g>>2]<-(o*s)))break;i[g>>2]=-(o*s);break}else{if(!(s>0)||!(+i[g>>2]>-(o*s)))break;i[g>>2]=-(o*s);break}while(!1);i[g>>2]=+i[t+700>>2]*+i[g>>2]}}}function Lre(t,n,s,o){switch(t=t|0,n=n|0,s=+s,o=o|0,o|0){case 5:case-1:break;default:return}switch(n|0){case 2:{i[t+764>>2]=s,e[t+748>>2]=e[t+748>>2]|2;return}case 4:{i[t+760>>2]=s,e[t+748>>2]=e[t+748>>2]|1;return}case 3:{i[t+752>>2]=s,e[t+748>>2]=e[t+748>>2]|4;return}case 1:{i[t+756>>2]=s,e[t+748>>2]=e[t+748>>2]|8;return}default:return}}function kre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;e:do switch(s|0){case 5:case-1:switch(n|0){case 2:{o=+i[t+764>>2];break e}case 4:{o=+i[t+760>>2];break e}case 3:{o=+i[t+752>>2];break e}case 1:{o=+i[t+756>>2];break e}default:{o=0;break e}}default:o=0}while(!1);return+o}function Fre(t){return t=t|0,220}function Bre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0;return ya(t,n,s)|0,e[n+52>>2]=e[t+552>>2],e[n+56>>2]=e[t+556>>2],e[n+60>>2]=e[t+560>>2],e[n+64>>2]=e[t+564>>2],e[n+68>>2]=e[t+568>>2],e[n+72>>2]=e[t+572>>2],e[n+76>>2]=e[t+576>>2],e[n+80>>2]=e[t+580>>2],e[n+84>>2]=e[t+584>>2],e[n+88>>2]=e[t+588>>2],e[n+92>>2]=e[t+592>>2],e[n+96>>2]=e[t+596>>2],e[n+100>>2]=e[t+600>>2],e[n+104>>2]=e[t+604>>2],e[n+108>>2]=e[t+608>>2],e[n+112>>2]=e[t+612>>2],e[n+116>>2]=e[t+616>>2],e[n+120>>2]=e[t+620>>2],e[n+124>>2]=e[t+624>>2],e[n+128>>2]=e[t+628>>2],e[n+132>>2]=e[t+632>>2],e[n+136>>2]=e[t+636>>2],e[n+140>>2]=e[t+640>>2],e[n+144>>2]=e[t+644>>2],e[n+148>>2]=e[t+648>>2],e[n+152>>2]=e[t+652>>2],e[n+156>>2]=e[t+656>>2],e[n+160>>2]=e[t+660>>2],e[n+164>>2]=e[t+664>>2],e[n+168>>2]=e[t+668>>2],e[n+172>>2]=e[t+672>>2],e[n+176>>2]=e[t+676>>2],s=ee[t+736>>1]|0,e[n+184>>2]=s&255,e[n+188>>2]=(s&65535)>>>8&65535,e[n+196>>2]=e[t+684>>2],e[n+192>>2]=e[t+680>>2],e[n+180>>2]=It[t+740>>0],a=+i[t+688>>2],l=+i[t+692>>2],o=+an(a-l),o<-3.1415927410125732?o=o+6.2831854820251465:o>3.1415927410125732&&(o=o+-6.2831854820251465),i[n+200>>2]=o,o=+an(a+l),o<-3.1415927410125732?(l=o+6.2831854820251465,s=n+204|0,i[s>>2]=l,s=t+696|0,s=e[s>>2]|0,u=n+208|0,e[u>>2]=s,u=t+700|0,u=e[u>>2]|0,s=n+212|0,e[s>>2]=u,s=t+704|0,s=e[s>>2]|0,t=n+216|0,e[t>>2]=s,15376):o>3.1415927410125732?(l=o+-6.2831854820251465,u=n+204|0,i[u>>2]=l,u=t+696|0,u=e[u>>2]|0,s=n+208|0,e[s>>2]=u,s=t+700|0,s=e[s>>2]|0,u=n+212|0,e[u>>2]=s,t=t+704|0,t=e[t>>2]|0,u=n+216|0,e[u>>2]=t,15376):(l=o,u=n+204|0,i[u>>2]=l,u=t+696|0,u=e[u>>2]|0,s=n+208|0,e[s>>2]=u,s=t+700|0,s=e[s>>2]|0,u=n+212|0,e[u>>2]=s,t=t+704|0,t=e[t>>2]|0,u=n+216|0,e[u>>2]=t,15376)}function Ure(t){return t=t|0,e[t+748>>2]|0}function vm(t,n,s,o,a,l,u,p){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0;var h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0;e[t+4>>2]=4,e[t+8>>2]=-1,e[t+12>>2]=-1,i[t+16>>2]=34028234663852886e22,R[t+20>>0]=1,R[t+21>>0]=0,e[t+24>>2]=-1,e[t+28>>2]=n,e[t+32>>2]=s,i[t+36>>2]=0,i[t+40>>2]=.30000001192092896,e[t+44>>2]=0,e[t>>2]=7428,i[t+688>>2]=0,i[t+692>>2]=-1,i[t+696>>2]=.8999999761581421,i[t+700>>2]=.30000001192092896,i[t+704>>2]=1,i[t+708>>2]=0,i[t+712>>2]=0,R[t+716>>0]=0,R[t+736>>0]=0,R[t+737>>0]=0,R[t+738>>0]=0,R[t+739>>0]=1,R[t+740>>0]=p&1,e[t+748>>2]=0,e[t+748+4>>2]=0,e[t+748+8>>2]=0,e[t+748+12>>2]=0,e[t+748+16>>2]=0,e[t+600>>2]=e[o>>2],e[t+600+4>>2]=e[o+4>>2],e[t+600+8>>2]=e[o+8>>2],e[t+600+12>>2]=e[o+12>>2],h=+i[n+4>>2],d=+i[n+20>>2],m=+i[n+36>>2],g=+i[l>>2],S=+i[l+4>>2],C=+i[l+8>>2];do if(h*g+d*S+m*C>=.9999998807907104)E=(i[Z>>2]=-+i[n+12>>2],e[Z>>2]|0),D=(i[Z>>2]=-+i[n+28>>2],e[Z>>2]|0),M=(i[Z>>2]=-+i[n+44>>2],e[Z>>2]|0),s=e[n+8>>2]|0,p=e[n+40>>2]|0,o=e[n+24>>2]|0;else if(h*g+d*S+m*C<=-.9999998807907104){E=e[n+12>>2]|0,D=e[n+28>>2]|0,M=e[n+44>>2]|0,s=e[n+8>>2]|0,p=e[n+40>>2]|0,o=e[n+24>>2]|0;break}else{s=(i[Z>>2]=m*S-d*C,e[Z>>2]|0),o=(i[Z>>2]=h*C-m*g,e[Z>>2]|0),p=(i[Z>>2]=d*g-h*S,e[Z>>2]|0),E=(i[Z>>2]=C*(h*C-m*g)-S*(d*g-h*S),e[Z>>2]|0),D=(i[Z>>2]=g*(d*g-h*S)-C*(m*S-d*C),e[Z>>2]|0),M=(i[Z>>2]=S*(m*S-d*C)-g*(h*C-m*g),e[Z>>2]|0);break}while(!1);e[t+552>>2]=E,e[t+556>>2]=s,e[t+560>>2]=e[l>>2],i[t+564>>2]=0,e[t+568>>2]=D,e[t+572>>2]=o,e[t+576>>2]=e[l+4>>2],i[t+580>>2]=0,e[t+584>>2]=M,e[t+588>>2]=p,e[t+592>>2]=e[l+8>>2],i[t+596>>2]=0,m=+i[l+4>>2],S=+i[u+8>>2],h=+i[l+8>>2],C=+i[u+4>>2],w=+i[u>>2],d=+i[l>>2];do if(S*h+(m*C+w*d)<-.9999998807907104)if(+ht(+h)>.7071067690849304){d=1/+ot(+(m*m+h*h)),s=0,g=0,h=-(h*d),o=(i[Z>>2]=m*d,e[Z>>2]|0);break}else{h=1/+ot(+(m*m+d*d)),s=(i[Z>>2]=-(m*h),e[Z>>2]|0),g=0,h=d*h,o=0;break}else b=+ot(+((S*h+(m*C+w*d)+1)*2)),s=(i[Z>>2]=(m*S-h*C)*(1/b),e[Z>>2]|0),g=b*.5,h=(h*w-S*d)*(1/b),o=(i[Z>>2]=(C*d-m*w)*(1/b),e[Z>>2]|0);while(!1);m=(e[Z>>2]=E,+i[Z>>2]),P=(e[Z>>2]=M,+i[Z>>2]),F=(e[Z>>2]=o,+i[Z>>2]),b=(e[Z>>2]=D,+i[Z>>2]),U=m*g+P*h-b*F,d=(e[Z>>2]=s,+i[Z>>2]),B=b*g+m*F-P*d,L=P*g+b*d-m*h,P=-(m*d)-b*h-P*F,h=-h,b=B*-F+(g*U+P*-d)-L*h,m=L*-d+(g*B+P*h)-U*-F,g=U*h+(P*-F+g*L)-B*-d,e[t+664>>2]=e[a>>2],e[t+664+4>>2]=e[a+4>>2],e[t+664+8>>2]=e[a+8>>2],e[t+664+12>>2]=e[a+12>>2],i[t+616>>2]=b,i[t+620>>2]=C*g-S*m,e[t+624>>2]=e[u>>2],i[t+628>>2]=0,i[t+632>>2]=m,i[t+636>>2]=S*b-w*g,e[t+640>>2]=e[u+4>>2],i[t+644>>2]=0,i[t+648>>2]=g,i[t+652>>2]=w*m-C*b,e[t+656>>2]=e[u+8>>2],i[t+660>>2]=0,i[t+732>>2]=R[t+740>>0]|0?-1:1}function Sm(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0;th(t,4,n),e[t>>2]=7428,e[t+552>>2]=e[s>>2],e[t+552+4>>2]=e[s+4>>2],e[t+552+8>>2]=e[s+8>>2],e[t+552+12>>2]=e[s+12>>2],e[t+568>>2]=e[s+16>>2],e[t+568+4>>2]=e[s+16+4>>2],e[t+568+8>>2]=e[s+16+8>>2],e[t+568+12>>2]=e[s+16+12>>2],e[t+584>>2]=e[s+32>>2],e[t+584+4>>2]=e[s+32+4>>2],e[t+584+8>>2]=e[s+32+8>>2],e[t+584+12>>2]=e[s+32+12>>2],e[t+600>>2]=e[s+48>>2],e[t+600+4>>2]=e[s+48+4>>2],e[t+600+8>>2]=e[s+48+8>>2],e[t+600+12>>2]=e[s+48+12>>2],e[t+616>>2]=e[s>>2],e[t+616+4>>2]=e[s+4>>2],e[t+616+8>>2]=e[s+8>>2],e[t+616+12>>2]=e[s+12>>2],e[t+632>>2]=e[s+16>>2],e[t+632+4>>2]=e[s+16+4>>2],e[t+632+8>>2]=e[s+16+8>>2],e[t+632+12>>2]=e[s+16+12>>2],e[t+648>>2]=e[s+32>>2],e[t+648+4>>2]=e[s+32+4>>2],e[t+648+8>>2]=e[s+32+8>>2],e[t+648+12>>2]=e[s+32+12>>2],e[t+664>>2]=e[s+48>>2],e[t+664+4>>2]=e[s+48+4>>2],e[t+664+8>>2]=e[s+48+8>>2],e[t+664+12>>2]=e[s+48+12>>2],i[t+688>>2]=0,i[t+692>>2]=-1,i[t+696>>2]=.8999999761581421,i[t+700>>2]=.30000001192092896,i[t+704>>2]=1,i[t+708>>2]=0,i[t+712>>2]=0,R[t+716>>0]=0,R[t+736>>0]=0,R[t+737>>0]=0,R[t+738>>0]=0,R[t+739>>0]=1,R[t+740>>0]=o&1,e[t+748>>2]=0,e[t+748+4>>2]=0,e[t+748+8>>2]=0,e[t+748+12>>2]=0,e[t+748+16>>2]=0,s=e[t+28>>2]|0,h=+i[t+600>>2],p=+i[t+604>>2],u=+i[t+608>>2],l=h*+i[s+20>>2]+p*+i[s+24>>2]+u*+i[s+28>>2]+ +i[s+56>>2],a=h*+i[s+36>>2]+p*+i[s+40>>2]+u*+i[s+44>>2]+ +i[s+60>>2],i[t+664>>2]=h*+i[s+4>>2]+p*+i[s+8>>2]+u*+i[s+12>>2]+ +i[s+52>>2],i[t+668>>2]=l,i[t+672>>2]=a,i[t+676>>2]=0,i[t+732>>2]=o?-1:1}function Ore(t,n,s){t=t|0,n=n|0,s=s|0}function Gre(t,n,s){t=t|0,n=n|0,s=s|0}function Vre(t){t=t|0,e[t>>2]=7188,t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function zre(t){t=t|0;var n=0,s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0;s=H,H=H+144|0,i[t+36>>2]=0,e[s+128>>2]=0,e[s+128+4>>2]=0,e[s+128+8>>2]=0,e[s+128+12>>2]=0,n=0;do o=s+128+(n<<2)|0,i[o>>2]=1,P=e[t+28>>2]|0,X=e[P+4>>2]|0,e[s+80>>2]=X,Y=e[P+20>>2]|0,e[s+80+4>>2]=Y,G=e[P+36>>2]|0,e[s+80+8>>2]=G,i[s+80+12>>2]=0,q=e[P+8>>2]|0,e[s+80+16>>2]=q,z=e[P+24>>2]|0,e[s+80+20>>2]=z,U=e[P+40>>2]|0,e[s+80+24>>2]=U,i[s+80+28>>2]=0,$=e[P+12>>2]|0,e[s+80+32>>2]=$,O=e[P+28>>2]|0,e[s+80+36>>2]=O,F=e[P+44>>2]|0,e[s+80+40>>2]=F,i[s+80+44>>2]=0,a=e[t+32>>2]|0,L=e[a+4>>2]|0,e[s+32>>2]=L,D=e[a+20>>2]|0,e[s+32+4>>2]=D,w=e[a+36>>2]|0,e[s+32+8>>2]=w,i[s+32+12>>2]=0,B=e[a+8>>2]|0,e[s+32+16>>2]=B,E=e[a+24>>2]|0,e[s+32+20>>2]=E,C=e[a+40>>2]|0,e[s+32+24>>2]=C,i[s+32+28>>2]=0,b=e[a+12>>2]|0,e[s+32+32>>2]=b,M=e[a+28>>2]|0,e[s+32+36>>2]=M,l=e[a+44>>2]|0,e[s+32+40>>2]=l,i[s+32+44>>2]=0,g=+i[t+300>>2],h=g*(e[Z>>2]=X,+i[Z>>2]),u=+i[t+304>>2],h=h+u*(e[Z>>2]=q,+i[Z>>2]),p=+i[t+308>>2],h=h+p*(e[Z>>2]=$,+i[Z>>2]),S=g*(e[Z>>2]=Y,+i[Z>>2]),S=S+u*(e[Z>>2]=z,+i[Z>>2]),S=S+p*(e[Z>>2]=O,+i[Z>>2]),g=g*(e[Z>>2]=G,+i[Z>>2]),u=g+u*(e[Z>>2]=U,+i[Z>>2]),g=+i[P+52>>2],m=+i[P+56>>2],d=+i[P+60>>2],d=u+p*(e[Z>>2]=F,+i[Z>>2])+d-d,i[s+16>>2]=h+g-g,i[s+16+4>>2]=S+m-m,i[s+16+8>>2]=d,i[s+16+12>>2]=0,d=+i[t+316>>2],m=d*(e[Z>>2]=L,+i[Z>>2]),S=+i[t+320>>2],m=m+S*(e[Z>>2]=B,+i[Z>>2]),g=+i[t+324>>2],m=m+g*(e[Z>>2]=b,+i[Z>>2]),h=d*(e[Z>>2]=D,+i[Z>>2]),h=h+S*(e[Z>>2]=E,+i[Z>>2]),h=h+g*(e[Z>>2]=M,+i[Z>>2]),d=d*(e[Z>>2]=w,+i[Z>>2]),S=d+S*(e[Z>>2]=C,+i[Z>>2]),d=+i[a+52>>2],p=+i[a+56>>2],u=+i[a+60>>2],u=S+g*(e[Z>>2]=l,+i[Z>>2])+u-u,i[s>>2]=m+d-d,i[s+4>>2]=h+p-p,i[s+8>>2]=u,i[s+12>>2]=0,l=e[t+28>>2]|0,a=e[t+32>>2]|0,Wf(t+48+(n*84|0)|0,s+80|0,s+32|0,s+16|0,s,s+128|0,l+420|0,+i[l+368>>2],a+420|0,+i[a+368>>2]),i[o>>2]=0,n=n+1|0;while((n|0)!=3);H=s}function Wre(t,n){t=t|0,n=n|0,t=(R[t+344>>0]|0)==0?3:0,e[n>>2]=t,e[n+4>>2]=t}function Hre(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0;if(p=e[t+28>>2]|0,h=e[t+32>>2]|0,a=e[n+8>>2]|0,i[a>>2]=1,l=e[n+24>>2]|0,i[a+(l+1<<2)>>2]=1,i[a+((l<<1)+2<<2)>>2]=1,d=+i[t+300>>2],w=+i[t+304>>2],o=+i[t+308>>2],S=+i[p+4>>2]*d+ +i[p+8>>2]*w+ +i[p+12>>2]*o,m=d*+i[p+20>>2]+w*+i[p+24>>2]+o*+i[p+28>>2],o=d*+i[p+36>>2]+w*+i[p+40>>2]+o*+i[p+44>>2],a=e[n+12>>2]|0,e[a>>2]=0,i[a+4>>2]=o,i[a+8>>2]=-m,i[a+12>>2]=0,i[a+(l<<2)>>2]=-o,e[a+(l<<2)+4>>2]=0,i[a+(l<<2)+8>>2]=S,i[a+(l<<2)+12>>2]=0,i[a+(l<<1<<2)>>2]=m,i[a+(l<<1<<2)+4>>2]=-S,e[a+(l<<1<<2)+8>>2]=0,i[a+(l<<1<<2)+12>>2]=0,a=e[n+16>>2]|0,i[a>>2]=-1,i[a+(l+1<<2)>>2]=-1,i[a+((l<<1)+2<<2)>>2]=-1,w=+i[t+316>>2],d=+i[t+320>>2],s=+i[t+324>>2],C=+i[h+4>>2]*w+ +i[h+8>>2]*d+ +i[h+12>>2]*s,g=w*+i[h+20>>2]+d*+i[h+24>>2]+s*+i[h+28>>2],s=w*+i[h+36>>2]+d*+i[h+40>>2]+s*+i[h+44>>2],l=e[n+20>>2]|0,a=e[n+24>>2]|0,e[l>>2]=0,i[l+4>>2]=-s,i[l+8>>2]=g,i[l+12>>2]=0,i[l+(a<<2)>>2]=s,e[l+(a<<2)+4>>2]=0,i[l+(a<<2)+8>>2]=-C,i[l+(a<<2)+12>>2]=0,i[l+(a<<1<<2)>>2]=-g,i[l+(a<<1<<2)+4>>2]=C,e[l+(a<<1<<2)+8>>2]=0,i[l+(a<<1<<2)+12>>2]=0,a=e[t+332>>2]|0,d=+i[((a&1|0)==0?n+4|0:t+336|0)>>2]*+i[n>>2],l=e[n+24>>2]|0,u=e[n+28>>2]|0,i[u>>2]=d*(C+ +i[h+52>>2]-S-+i[p+52>>2]),i[u+(l<<2)>>2]=d*(g+ +i[h+56>>2]-m-+i[p+56>>2]),i[u+(l<<1<<2)>>2]=d*(s+ +i[h+60>>2]-o-+i[p+60>>2]),a&2|0&&(h=e[n+24>>2]|0,p=e[n+32>>2]|0,e[p>>2]=e[t+340>>2],e[p+(h<<2)>>2]=e[t+340>>2],e[p+(h<<1<<2)>>2]=e[t+340>>2]),o=+i[t+356>>2],o>0?(i[e[n+36>>2]>>2]=-o,i[e[n+40>>2]>>2]=o,s=+i[t+356>>2]):s=o,s>0&&(h=e[n+24>>2]|0,i[(e[n+36>>2]|0)+(h<<2)>>2]=-o,i[(e[n+40>>2]|0)+(h<<2)>>2]=o,s=+i[t+356>>2]),!(s>0)){p=t+352|0,p=e[p>>2]|0,h=n+52|0,e[h>>2]=p;return}p=e[n+24>>2]<<1,i[(e[n+36>>2]|0)+(p<<2)>>2]=-o,i[(e[n+40>>2]|0)+(p<<2)>>2]=o,p=t+352|0,p=e[p>>2]|0,h=n+52|0,e[h>>2]=p}function jre(t,n,s,o){if(t=t|0,n=n|0,s=+s,o=o|0,(o|0)==-1)switch(n|0){case 2:case 1:{i[t+336>>2]=s,e[t+332>>2]=e[t+332>>2]|1;return}case 4:case 3:{i[t+340>>2]=s,e[t+332>>2]=e[t+332>>2]|2;return}default:return}}function qre(t,n,s){t=t|0,n=n|0,s=s|0;var o=0;e:do if((s|0)==-1)switch(n|0){case 2:case 1:{o=+i[t+336>>2];break e}case 4:case 3:{o=+i[t+340>>2];break e}default:{o=34028234663852886e22;break e}}else o=34028234663852886e22;while(!1);return+o}function Xre(t){return t=t|0,84}function $re(t,n,s){return t=t|0,n=n|0,s=s|0,ya(t,n,s)|0,e[n+52>>2]=e[t+300>>2],e[n+56>>2]=e[t+304>>2],e[n+60>>2]=e[t+308>>2],e[n+64>>2]=e[t+312>>2],e[n+68>>2]=e[t+316>>2],e[n+72>>2]=e[t+320>>2],e[n+76>>2]=e[t+324>>2],e[n+80>>2]=e[t+328>>2],15429}function Yre(t){return t=t|0,e[t+332>>2]|0}function Cm(t){t=t|0;var n=0;if(e[t>>2]=7540,n=e[t+176>>2]|0,n|0&&(R[t+180>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+176>>2]=0),R[t+180>>0]=1,e[t+176>>2]=0,e[t+168>>2]=0,e[t+172>>2]=0,n=e[t+156>>2]|0,n|0&&(R[t+160>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+156>>2]=0),R[t+160>>0]=1,e[t+156>>2]=0,e[t+148>>2]=0,e[t+152>>2]=0,n=e[t+136>>2]|0,n|0&&(R[t+140>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+136>>2]=0),R[t+140>>0]=1,e[t+136>>2]=0,e[t+128>>2]=0,e[t+132>>2]=0,n=e[t+116>>2]|0,n|0&&(R[t+120>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+116>>2]=0),R[t+120>>0]=1,e[t+116>>2]=0,e[t+108>>2]=0,e[t+112>>2]=0,n=e[t+96>>2]|0,n|0&&(R[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+96>>2]=0),R[t+100>>0]=1,e[t+96>>2]=0,e[t+88>>2]=0,e[t+92>>2]=0,n=e[t+76>>2]|0,n|0&&(R[t+80>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+76>>2]=0),R[t+80>>0]=1,e[t+76>>2]=0,e[t+68>>2]=0,e[t+72>>2]=0,n=e[t+56>>2]|0,n|0&&(R[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+56>>2]=0),R[t+60>>0]=1,e[t+56>>2]=0,e[t+48>>2]=0,e[t+52>>2]=0,n=e[t+36>>2]|0,n|0&&(R[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),R[t+40>>0]=1,e[t+36>>2]=0,e[t+28>>2]=0,e[t+32>>2]=0,n=e[t+16>>2]|0,!n){R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0;return}R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0,R[t+20>>0]=1,e[t+16>>2]=0,e[t+8>>2]=0,t=t+12|0,e[t>>2]=0}function Kre(t){t=t|0,Cm(t),t&&(e[5638]=(e[5638]|0)+1,ye(e[t+-4>>2]|0))}function Zre(t,n,s,o,a,l,u,p,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0;var m=0;if(m=H,H=H+16|0,Xn(15521),+Rh[e[(e[t>>2]|0)+44>>2]&3](t,n,s,o,a,l,u,p,h),+Rh[e[(e[t>>2]|0)+48>>2]&3](t,n,s,o,a,l,u,p,h),+Im[e[(e[t>>2]|0)+36>>2]&1](t,n,s,p),d=e[2006]|0,t=(e[d+16>>2]|0)+-1|0,e[d+16>>2]=t,t|0)return H=m,0;do if(e[d+4>>2]|0){if(Cn(m|0,0)|0,t=e[5649]|0,i[d+8>>2]=+i[d+8>>2]+ +(((e[m+4>>2]|0)-(e[t+4>>2]|0)+(((e[m>>2]|0)-(e[t>>2]|0)|0)*1e6|0)-(e[d+12>>2]|0)|0)>>>0)/1e3,e[d+16>>2]|0)return H=m,0;d=e[2006]|0;break}while(!1);return e[2006]=e[d+20>>2],H=m,0}function Qre(t){t=t|0,e[t+200>>2]=0}function Jre(t){return t=t|0,1}function ese(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0;if((s|0)>0)a=0;else return;do tse(t,e[n+(a<<2)>>2]|0,o),a=a+1|0;while((a|0)!=(s|0))}function tse(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0,ae=0,xe=0,ve=0,de=0,fe=0,Te=0,we=0,Ne=0,Se=0,ge=0,ke=0,Ae=0;if(Se=H,H=H+80|0,ae=e[n+740>>2]|0,de=e[n+744>>2]|0,fe=n1(t,ae,+i[s+12>>2])|0,Te=n1(t,de,+i[s+12>>2])|0,xe=e[t+16>>2]|0,ne=+i[xe+(fe*244|0)+128>>2],W=+i[xe+(fe*244|0)+132>>2],te=+i[xe+(fe*244|0)+136>>2],ne*ne+W*W+te*te<14210854715202004e-30&&(ne=+i[xe+(Te*244|0)+128>>2],W=+i[xe+(Te*244|0)+132>>2],te=+i[xe+(Te*244|0)+136>>2],ne*ne+W*W+te*te<14210854715202004e-30)){H=Se;return}if((e[n+748>>2]|0)<=0){H=Se;return}we=0,o=1;do{if(se=n+4+(we*184|0)|0,U=n+4+(we*184|0)+80|0,+i[U>>2]<=+i[n+756>>2]){if(oe=e[t+28>>2]|0,(oe|0)==(e[t+32>>2]|0)&&(ve=oe|0?oe<<1:1,(oe|0)<(ve|0))){if(ve?(e[5637]=(e[5637]|0)+1,a=Xe((ve*152|3)+16|0)|0,a?(e[(a+4+15&-16)+-4>>2]=a,a=a+4+15&-16):a=0,l=e[t+28>>2]|0):(a=0,l=oe),(l|0)>0){h=0;do wr(a+(h*152|0)|0,(e[t+36>>2]|0)+(h*152|0)|0,152)|0,h=h+1|0;while((h|0)!=(l|0))}l=e[t+36>>2]|0,l|0&&(R[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[l+-4>>2]|0)),e[t+36>>2]=0),R[t+40>>0]=1,e[t+36>>2]=a,e[t+32>>2]=ve,a=e[t+28>>2]|0}else a=oe;e[t+28>>2]=a+1,me=e[t+36>>2]|0,z=(e[ae+236>>2]&2|0)==0?0:ae,Y=(e[de+236>>2]&2|0)==0?0:de,e[me+(oe*152|0)+144>>2]=fe,e[me+(oe*152|0)+148>>2]=Te,e[me+(oe*152|0)+132>>2]=se,B=+i[n+4+(we*184|0)+48>>2]-+i[ae+52>>2],L=+i[n+4+(we*184|0)+52>>2]-+i[ae+56>>2],b=+i[n+4+(we*184|0)+56>>2]-+i[ae+60>>2],i[Se+64>>2]=B,i[Se+64+4>>2]=L,i[Se+64+8>>2]=b,i[Se+64+12>>2]=0,P=+i[n+4+(we*184|0)+32>>2]-+i[de+52>>2],G=+i[n+4+(we*184|0)+36>>2]-+i[de+56>>2],F=+i[n+4+(we*184|0)+40>>2]-+i[de+60>>2],i[Se+48>>2]=P,i[Se+48+4>>2]=G,i[Se+48+8>>2]=F,i[Se+48+12>>2]=0,e[xe+(fe*244|0)+240>>2]|0?(W=+i[xe+(fe*244|0)+192>>2]+ +i[xe+(fe*244|0)+224>>2],te=+i[xe+(fe*244|0)+196>>2]+ +i[xe+(fe*244|0)+228>>2],ne=+i[xe+(fe*244|0)+200>>2]+ +i[xe+(fe*244|0)+232>>2],a=(i[Z>>2]=+i[xe+(fe*244|0)+176>>2]+ +i[xe+(fe*244|0)+208>>2]+(te*b-ne*L),e[Z>>2]|0),h=(i[Z>>2]=+i[xe+(fe*244|0)+180>>2]+ +i[xe+(fe*244|0)+212>>2]+(ne*B-W*b),e[Z>>2]|0),g=(i[Z>>2]=+i[xe+(fe*244|0)+184>>2]+ +i[xe+(fe*244|0)+216>>2]+(W*L-te*B),e[Z>>2]|0)):(a=0,h=0,g=0),e[xe+(Te*244|0)+240>>2]|0?(W=+i[xe+(Te*244|0)+192>>2]+ +i[xe+(Te*244|0)+224>>2],te=+i[xe+(Te*244|0)+196>>2]+ +i[xe+(Te*244|0)+228>>2],ne=+i[xe+(Te*244|0)+200>>2]+ +i[xe+(Te*244|0)+232>>2],l=(i[Z>>2]=+i[xe+(Te*244|0)+176>>2]+ +i[xe+(Te*244|0)+208>>2]+(te*F-ne*G),e[Z>>2]|0),m=(i[Z>>2]=+i[xe+(Te*244|0)+180>>2]+ +i[xe+(Te*244|0)+212>>2]+(ne*P-W*F),e[Z>>2]|0),S=(i[Z>>2]=+i[xe+(Te*244|0)+184>>2]+ +i[xe+(Te*244|0)+216>>2]+(W*G-te*P),e[Z>>2]|0)):(l=0,m=0,S=0),te=(e[Z>>2]=a,+i[Z>>2]),te=te-(e[Z>>2]=l,+i[Z>>2]),W=(e[Z>>2]=h,+i[Z>>2]),W=W-(e[Z>>2]=m,+i[Z>>2]),$=(e[Z>>2]=g,+i[Z>>2]),$=$-(e[Z>>2]=S,+i[Z>>2]),_e=n+4+(we*184|0)+64|0,q=+i[_e>>2],pe=n+4+(we*184|0)+68|0,X=+i[pe>>2],he=n+4+(we*184|0)+72|0,ne=+i[he>>2],S=e[t+16>>2]|0,m=e[S+(fe*244|0)+240>>2]|0,g=e[S+(Te*244|0)+240>>2]|0,m|0?(h=(i[Z>>2]=((L*ne-b*X)*+i[m+288>>2]+(b*q-ne*B)*+i[m+292>>2]+(X*B-L*q)*+i[m+296>>2])*+i[m+568>>2],e[Z>>2]|0),a=(i[Z>>2]=((L*ne-b*X)*+i[m+304>>2]+(b*q-ne*B)*+i[m+308>>2]+(X*B-L*q)*+i[m+312>>2])*+i[m+572>>2],e[Z>>2]|0),l=(i[Z>>2]=((L*ne-b*X)*+i[m+320>>2]+(b*q-ne*B)*+i[m+324>>2]+(X*B-L*q)*+i[m+328>>2])*+i[m+576>>2],e[Z>>2]|0)):(h=0,a=0,l=0),e[me+(oe*152|0)+64>>2]=h,e[me+(oe*152|0)+68>>2]=a,e[me+(oe*152|0)+72>>2]=l,i[me+(oe*152|0)+76>>2]=0,M=+i[he>>2],E=+i[pe>>2],D=+i[_e>>2],w=(e[Z>>2]=a,+i[Z>>2]),C=(e[Z>>2]=l,+i[Z>>2]),p=(e[Z>>2]=h,+i[Z>>2]),g|0?(a=(i[Z>>2]=(+i[g+288>>2]*-(G*M-F*E)+ +i[g+292>>2]*-(F*D-M*P)+ +i[g+296>>2]*-(E*P-G*D))*+i[g+568>>2],e[Z>>2]|0),l=(i[Z>>2]=(+i[g+304>>2]*-(G*M-F*E)+ +i[g+308>>2]*-(F*D-M*P)+ +i[g+312>>2]*-(E*P-G*D))*+i[g+572>>2],e[Z>>2]|0),h=(i[Z>>2]=(+i[g+320>>2]*-(G*M-F*E)+ +i[g+324>>2]*-(F*D-M*P)+ +i[g+328>>2]*-(E*P-G*D))*+i[g+576>>2],e[Z>>2]|0)):(a=0,l=0,h=0),e[me+(oe*152|0)+80>>2]=a,e[me+(oe*152|0)+84>>2]=l,e[me+(oe*152|0)+88>>2]=h,i[me+(oe*152|0)+92>>2]=0,d=(e[Z>>2]=a,+i[Z>>2]),u=(e[Z>>2]=l,+i[Z>>2]),m|0?p=+i[m+368>>2]+((w*b-C*L)*+i[_e>>2]+(C*B-b*p)*+i[pe>>2]+(L*p-w*B)*+i[he>>2]):p=0,g|0?(O=(e[Z>>2]=h,-+i[Z>>2]),u=+i[g+368>>2]+((F*-u-G*O)*+i[_e>>2]+(P*O-F*-d)*+i[pe>>2]+(G*-d-P*-u)*+i[he>>2])):u=0,i[me+(oe*152|0)+108>>2]=1/(p+u),m|0?(e[me+(oe*152|0)+16>>2]=e[_e>>2],e[me+(oe*152|0)+16+4>>2]=e[_e+4>>2],e[me+(oe*152|0)+16+8>>2]=e[_e+8>>2],e[me+(oe*152|0)+16+12>>2]=e[_e+12>>2],i[me+(oe*152|0)>>2]=L*ne-b*X,i[me+(oe*152|0)+4>>2]=b*q-ne*B,i[me+(oe*152|0)+8>>2]=X*B-L*q,i[me+(oe*152|0)+12>>2]=0):(e[me+(oe*152|0)>>2]=0,e[me+(oe*152|0)+4>>2]=0,e[me+(oe*152|0)+8>>2]=0,e[me+(oe*152|0)+12>>2]=0,e[me+(oe*152|0)+16>>2]=0,e[me+(oe*152|0)+20>>2]=0,e[me+(oe*152|0)+24>>2]=0,e[me+(oe*152|0)+28>>2]=0),g|0?(w=-+i[pe>>2],O=-+i[he>>2],i[me+(oe*152|0)+48>>2]=-+i[_e>>2],i[me+(oe*152|0)+52>>2]=w,i[me+(oe*152|0)+56>>2]=O,i[me+(oe*152|0)+60>>2]=0,i[me+(oe*152|0)+32>>2]=-(G*M-F*E),i[me+(oe*152|0)+36>>2]=-(F*D-M*P),i[me+(oe*152|0)+40>>2]=-(E*P-G*D),i[me+(oe*152|0)+44>>2]=0):(e[me+(oe*152|0)+32>>2]=0,e[me+(oe*152|0)+32+4>>2]=0,e[me+(oe*152|0)+32+8>>2]=0,e[me+(oe*152|0)+32+12>>2]=0,e[me+(oe*152|0)+32+16>>2]=0,e[me+(oe*152|0)+32+20>>2]=0,e[me+(oe*152|0)+32+24>>2]=0,e[me+(oe*152|0)+32+28>>2]=0),O=+i[U>>2]+ +i[s+56>>2],m|0?(C=+i[m+356>>2],w=+i[m+360>>2],D=+i[m+352>>2],M=C*b-w*L+ +i[m+336>>2],w=+i[m+340>>2]+(w*B-b*D),C=L*D-C*B+ +i[m+344>>2]):(M=0,w=0,C=0),g|0?(u=+i[g+356>>2],p=+i[g+360>>2],L=+i[g+352>>2],d=u*F-p*G+ +i[g+336>>2],p=+i[g+340>>2]+(p*P-F*L),u=G*L-u*P+ +i[g+344>>2]):(d=0,p=0,u=0),P=(M-d)*+i[_e>>2]+(w-p)*+i[pe>>2]+(C-u)*+i[he>>2],e[me+(oe*152|0)+104>>2]=e[n+4+(we*184|0)+84>>2],P=-(P*+i[n+4+(we*184|0)+92>>2]),P=P<=0?0:P;do if(e[s+64>>2]&4){u=+i[n+4+(we*184|0)+120>>2]*+i[s+60>>2],i[me+(oe*152|0)+100>>2]=u;do if(m|0){if(!(e[S+(fe*244|0)+240>>2]|0))break;G=u*(+i[me+(oe*152|0)+20>>2]*+i[S+(fe*244|0)+132>>2]*+i[m+376>>2])*+i[S+(fe*244|0)+116>>2],F=u*(+i[me+(oe*152|0)+24>>2]*+i[S+(fe*244|0)+136>>2]*+i[m+380>>2])*+i[S+(fe*244|0)+120>>2],i[S+(fe*244|0)+64>>2]=+i[S+(fe*244|0)+112>>2]*(u*(+i[me+(oe*152|0)+16>>2]*+i[S+(fe*244|0)+128>>2]*+i[m+372>>2]))+ +i[S+(fe*244|0)+64>>2],i[S+(fe*244|0)+68>>2]=G+ +i[S+(fe*244|0)+68>>2],i[S+(fe*244|0)+72>>2]=F+ +i[S+(fe*244|0)+72>>2],F=u*+i[S+(fe*244|0)+100>>2]*+i[me+(oe*152|0)+68>>2],G=u*+i[S+(fe*244|0)+104>>2]*+i[me+(oe*152|0)+72>>2],i[S+(fe*244|0)+80>>2]=u*+i[S+(fe*244|0)+96>>2]*+i[me+(oe*152|0)+64>>2]+ +i[S+(fe*244|0)+80>>2],i[S+(fe*244|0)+84>>2]=F+ +i[S+(fe*244|0)+84>>2],i[S+(fe*244|0)+88>>2]=G+ +i[S+(fe*244|0)+88>>2]}while(!1);if(g|0){if(u=+i[me+(oe*152|0)+100>>2],!(e[S+(Te*244|0)+240>>2]|0))break;G=+i[me+(oe*152|0)+88>>2],F=+i[me+(oe*152|0)+84>>2],L=+i[me+(oe*152|0)+80>>2],b=u*(+i[me+(oe*152|0)+52>>2]*+i[S+(Te*244|0)+132>>2]*+i[g+376>>2])*+i[S+(Te*244|0)+116>>2],B=u*(+i[me+(oe*152|0)+56>>2]*+i[S+(Te*244|0)+136>>2]*+i[g+380>>2])*+i[S+(Te*244|0)+120>>2],i[S+(Te*244|0)+64>>2]=+i[S+(Te*244|0)+112>>2]*(u*(+i[me+(oe*152|0)+48>>2]*+i[S+(Te*244|0)+128>>2]*+i[g+372>>2]))+ +i[S+(Te*244|0)+64>>2],i[S+(Te*244|0)+68>>2]=b+ +i[S+(Te*244|0)+68>>2],i[S+(Te*244|0)+72>>2]=B+ +i[S+(Te*244|0)+72>>2],F=F*(+i[S+(Te*244|0)+100>>2]*-u),G=G*(+i[S+(Te*244|0)+104>>2]*-u),i[S+(Te*244|0)+80>>2]=+i[S+(Te*244|0)+80>>2]-L*(+i[S+(Te*244|0)+96>>2]*-u),i[S+(Te*244|0)+84>>2]=+i[S+(Te*244|0)+84>>2]-F,i[S+(Te*244|0)+88>>2]=+i[S+(Te*244|0)+88>>2]-G}}else i[me+(oe*152|0)+100>>2]=0;while(!1);i[me+(oe*152|0)+96>>2]=0,e[S+(fe*244|0)+240>>2]|0?(u=+i[S+(fe*244|0)+208>>2],p=+i[S+(fe*244|0)+212>>2],d=+i[S+(fe*244|0)+216>>2],E=+i[S+(fe*244|0)+224>>2],D=+i[S+(fe*244|0)+228>>2],b=+i[S+(fe*244|0)+232>>2]):(u=0,p=0,d=0,E=0,D=0,b=0),e[S+(Te*244|0)+240>>2]|0?(C=+i[S+(Te*244|0)+208>>2],w=+i[S+(Te*244|0)+212>>2],M=+i[S+(Te*244|0)+216>>2],B=+i[S+(Te*244|0)+224>>2],L=+i[S+(Te*244|0)+228>>2],F=+i[S+(Te*244|0)+232>>2]):(C=0,w=0,M=0,B=0,L=0,F=0),u=P-((u+ +i[S+(fe*244|0)+176>>2])*+i[me+(oe*152|0)+16>>2]+(p+ +i[S+(fe*244|0)+180>>2])*+i[me+(oe*152|0)+20>>2]+(d+ +i[S+(fe*244|0)+184>>2])*+i[me+(oe*152|0)+24>>2]+((E+ +i[S+(fe*244|0)+192>>2])*+i[me+(oe*152|0)>>2]+(D+ +i[S+(fe*244|0)+196>>2])*+i[me+(oe*152|0)+4>>2]+(b+ +i[S+(fe*244|0)+200>>2])*+i[me+(oe*152|0)+8>>2])+((C+ +i[S+(Te*244|0)+176>>2])*+i[me+(oe*152|0)+48>>2]+(w+ +i[S+(Te*244|0)+180>>2])*+i[me+(oe*152|0)+52>>2]+(M+ +i[S+(Te*244|0)+184>>2])*+i[me+(oe*152|0)+56>>2]+((B+ +i[S+(Te*244|0)+192>>2])*+i[me+(oe*152|0)+32>>2]+(L+ +i[S+(Te*244|0)+196>>2])*+i[me+(oe*152|0)+36>>2]+(F+ +i[S+(Te*244|0)+200>>2])*+i[me+(oe*152|0)+40>>2]))),a=(e[s+44>>2]|0)==0,p=+i[s+12>>2],O>0?(d=0,u=u-O/p):d=-(O*+i[(a|O>+i[s+48>>2]?s+32|0:s+36|0)>>2])/p,G=+i[me+(oe*152|0)+108>>2],p=d*G,u=u*G,a|O>+i[s+48>>2]?(i[me+(oe*152|0)+112>>2]=p+u,i[me+(oe*152|0)+128>>2]=0):(i[me+(oe*152|0)+112>>2]=u,i[me+(oe*152|0)+128>>2]=p),i[me+(oe*152|0)+116>>2]=0,i[me+(oe*152|0)+120>>2]=0,i[me+(oe*152|0)+124>>2]=1e10,e[me+(oe*152|0)+140>>2]=e[t+68>>2],z?(l=e[z+352>>2]|0,g=e[z+356>>2]|0,S=e[z+360>>2]|0):(l=0,g=0,S=0),Y?(a=e[Y+352>>2]|0,h=e[Y+356>>2]|0,m=e[Y+360>>2]|0):(a=0,h=0,m=0),d=(e[Z>>2]=a,+i[Z>>2]),d=d-(e[Z>>2]=l,+i[Z>>2]),p=(e[Z>>2]=h,+i[Z>>2]),p=p-(e[Z>>2]=g,+i[Z>>2]),C=(e[Z>>2]=m,+i[Z>>2]),C=C-(e[Z>>2]=S,+i[Z>>2]),i[Se+32>>2]=d,i[Se+32+4>>2]=p,i[Se+32+8>>2]=C,i[Se+32+12>>2]=0;do if((o|0)>0&&+i[n+4+(we*184|0)+88>>2]>0){if(o=o+-1|0,u=+ot(+(d*d+p*p+C*C)),u>+i[s+80>>2]){d=d*(1/u),i[Se+32>>2]=d,p=p*(1/u),i[Se+32+4>>2]=p,u=C*(1/u),i[Se+32+8>>2]=u;do if(ae){if(!(e[ae+180>>2]&2))break;w=+i[ae+4>>2],D=+i[ae+20>>2],L=+i[ae+36>>2],M=+i[ae+8>>2],b=+i[ae+24>>2],P=+i[ae+40>>2],E=+i[ae+12>>2],B=+i[ae+28>>2],O=+i[ae+44>>2],F=(w*d+D*p+u*L)*+i[ae+164>>2],G=(d*M+p*b+u*P)*+i[ae+168>>2],u=(d*E+p*B+u*O)*+i[ae+172>>2],i[Se+32>>2]=w*F+M*G+E*u,i[Se+32+4>>2]=D*F+b*G+B*u,i[Se+32+8>>2]=L*F+P*G+O*u,i[Se+32+12>>2]=0,d=w*F+M*G+E*u,p=D*F+b*G+B*u,u=L*F+P*G+O*u}while(!1);do if(de){if(!(e[de+180>>2]&2))break;D=+i[de+4>>2],L=+i[de+20>>2],w=+i[de+36>>2],b=+i[de+8>>2],P=+i[de+24>>2],M=+i[de+40>>2],B=+i[de+12>>2],O=+i[de+28>>2],E=+i[de+44>>2],F=(D*d+L*p+w*u)*+i[de+164>>2],G=(d*b+p*P+u*M)*+i[de+168>>2],p=(d*B+p*O+u*E)*+i[de+172>>2],i[Se+32>>2]=D*F+b*G+B*p,i[Se+32+4>>2]=L*F+P*G+O*p,i[Se+32+8>>2]=w*F+M*G+E*p,i[Se+32+12>>2]=0,u=w*F+M*G+E*p,d=D*F+b*G+B*p,p=L*F+P*G+O*p}while(!1);if(!(+ot(+(d*d+p*p+u*u))>.001))break;Qf(t,Se+32|0,fe,Te,oe,se);break}Qf(t,_e,fe,Te,oe,se),u=+i[he>>2],+ht(+u)>.7071067690849304?(O=+i[pe>>2],G=1/+ot(+(u*u+O*O)),i[Se+16>>2]=0,i[Se+16+4>>2]=-(G*u),i[Se+16+8>>2]=G*O,i[Se>>2]=(u*u+O*O)*G,d=+i[_e>>2],i[Se+4>>2]=-(G*O*d),E=d*-(G*u),p=0,C=-(G*u),M=G*O,w=(u*u+O*O)*G,d=-(G*O*d)):(w=+i[_e>>2],O=+i[pe>>2],d=1/+ot(+(w*w+O*O)),i[Se+16>>2]=-(O*d),i[Se+16+4>>2]=d*w,i[Se+16+8>>2]=0,i[Se>>2]=-(d*w*u),i[Se+4>>2]=u*-(O*d),E=(w*w+O*O)*d,p=-(O*d),C=d*w,M=0,w=-(d*w*u),d=u*-(O*d)),i[Se+8>>2]=E;do if(!ae)u=M;else{if(!(e[ae+180>>2]&2)){u=M;break}Ae=+i[ae+4>>2],D=+i[ae+20>>2],L=+i[ae+36>>2],ke=+i[ae+8>>2],b=+i[ae+24>>2],P=+i[ae+40>>2],ge=+i[ae+12>>2],B=+i[ae+28>>2],O=+i[ae+44>>2],F=(Ae*p+D*C+L*M)*+i[ae+164>>2],G=(p*ke+C*b+M*P)*+i[ae+168>>2],u=(p*ge+C*B+M*O)*+i[ae+172>>2],i[Se+16>>2]=Ae*F+ke*G+ge*u,i[Se+16+4>>2]=D*F+b*G+B*u,i[Se+16+8>>2]=L*F+P*G+O*u,i[Se+16+12>>2]=0,p=Ae*F+ke*G+ge*u,C=D*F+b*G+B*u,u=L*F+P*G+O*u}while(!1);do if(!de)M=u;else{if(!(e[de+180>>2]&2)){M=u;break}D=+i[de+4>>2],L=+i[de+20>>2],G=+i[de+36>>2],b=+i[de+8>>2],F=+i[de+24>>2],ge=+i[de+40>>2],B=+i[de+12>>2],P=+i[de+28>>2],Ae=+i[de+44>>2],O=(D*p+L*C+G*u)*+i[de+164>>2],ke=(p*b+C*F+u*ge)*+i[de+168>>2],M=(p*B+C*P+u*Ae)*+i[de+172>>2],i[Se+16>>2]=D*O+b*ke+B*M,i[Se+16+4>>2]=L*O+F*ke+P*M,i[Se+16+8>>2]=G*O+ge*ke+Ae*M,i[Se+16+12>>2]=0,p=D*O+b*ke+B*M,C=L*O+F*ke+P*M,M=G*O+ge*ke+Ae*M}while(!1);do if(!ae)u=E;else{if(!(e[ae+180>>2]&2)){u=E;break}D=+i[ae+4>>2],L=+i[ae+20>>2],G=+i[ae+36>>2],b=+i[ae+8>>2],F=+i[ae+24>>2],ge=+i[ae+40>>2],B=+i[ae+12>>2],P=+i[ae+28>>2],Ae=+i[ae+44>>2],O=(D*w+L*d+G*E)*+i[ae+164>>2],ke=(w*b+d*F+E*ge)*+i[ae+168>>2],u=(w*B+d*P+E*Ae)*+i[ae+172>>2],i[Se>>2]=D*O+b*ke+B*u,i[Se+4>>2]=L*O+F*ke+P*u,i[Se+8>>2]=G*O+ge*ke+Ae*u,i[Se+12>>2]=0,w=D*O+b*ke+B*u,d=L*O+F*ke+P*u,u=G*O+ge*ke+Ae*u}while(!1);do if(de){if(!(e[de+180>>2]&2))break;D=+i[de+4>>2],L=+i[de+20>>2],G=+i[de+36>>2],b=+i[de+8>>2],F=+i[de+24>>2],ge=+i[de+40>>2],B=+i[de+12>>2],P=+i[de+28>>2],Ae=+i[de+44>>2],O=(D*w+L*d+G*u)*+i[de+164>>2],ke=(w*b+d*F+u*ge)*+i[de+168>>2],u=(w*B+d*P+u*Ae)*+i[de+172>>2],i[Se>>2]=D*O+b*ke+B*u,i[Se+4>>2]=L*O+F*ke+P*u,i[Se+8>>2]=G*O+ge*ke+Ae*u,i[Se+12>>2]=0,w=D*O+b*ke+B*u,d=L*O+F*ke+P*u,u=G*O+ge*ke+Ae*u}while(!1);+ot(+(p*p+C*C+M*M))>.001&&Qf(t,Se+16|0,fe,Te,oe,se),+ot(+(w*w+d*d+u*u))>.001&&Qf(t,Se,fe,Te,oe,se)}while(!1);do if(!(e[s+64>>2]&32))Ne=95;else{if(!(R[n+4+(we*184|0)+116>>0]|0)){Ne=95;break}if(yc(t,n+4+(we*184|0)+152|0,fe,Te,oe,se,Se+64|0,Se+48|0,1,+i[n+4+(we*184|0)+132>>2],+i[n+4+(we*184|0)+140>>2]),!(e[s+64>>2]&16))break;yc(t,n+4+(we*184|0)+168|0,fe,Te,oe,se,Se+64|0,Se+48|0,1,+i[n+4+(we*184|0)+136>>2],+i[n+4+(we*184|0)+144>>2])}while(!1);do if((Ne|0)==95){if(Ne=0,U=n+4+(we*184|0)+152|0,u=+i[_e>>2],D=+i[pe>>2],E=+i[he>>2],p=te-(te*q+W*X+$*ne)*u,w=W-(te*q+W*X+$*ne)*D,C=$-(te*q+W*X+$*ne)*E,i[n+4+(we*184|0)+152>>2]=p,g=n+4+(we*184|0)+156|0,i[g>>2]=w,S=n+4+(we*184|0)+160|0,i[S>>2]=C,a=n+4+(we*184|0)+164|0,i[a>>2]=0,(e[s+64>>2]&64|0)==0&&p*p+w*w+C*C>11920928955078125e-23){u=1/+ot(+(p*p+w*w+C*C)),i[U>>2]=p*u,i[g>>2]=u*w,i[S>>2]=u*C;do if(!ae)d=p*u,p=u*w,u=u*C;else{if(!(e[ae+180>>2]&1)){d=p*u,p=u*w,u=u*C;break}O=+i[ae+4>>2],q=+i[ae+20>>2],W=+i[ae+36>>2],$=+i[ae+8>>2],X=+i[ae+24>>2],ge=+i[ae+40>>2],d=+i[ae+12>>2],ne=+i[ae+28>>2],Ae=+i[ae+44>>2],te=(O*(p*u)+q*(u*w)+u*C*W)*+i[ae+164>>2],ke=(p*u*$+u*w*X+u*C*ge)*+i[ae+168>>2],u=(p*u*d+u*w*ne+u*C*Ae)*+i[ae+172>>2],i[U>>2]=O*te+$*ke+d*u,i[g>>2]=q*te+X*ke+ne*u,i[S>>2]=W*te+ge*ke+Ae*u,i[a>>2]=0,d=O*te+$*ke+d*u,p=q*te+X*ke+ne*u,u=W*te+ge*ke+Ae*u}while(!1);do if(de|0){if(!(e[de+180>>2]&1))break;P=+i[de+4>>2],$=+i[de+20>>2],ne=+i[de+36>>2],G=+i[de+8>>2],q=+i[de+24>>2],te=+i[de+40>>2],O=+i[de+12>>2],X=+i[de+28>>2],ke=+i[de+44>>2],W=(P*d+$*p+ne*u)*+i[de+164>>2],ge=(d*G+p*q+u*te)*+i[de+168>>2],Ae=(d*O+p*X+u*ke)*+i[de+172>>2],i[U>>2]=P*W+G*ge+O*Ae,i[g>>2]=$*W+q*ge+X*Ae,i[S>>2]=ne*W+te*ge+ke*Ae,i[a>>2]=0}while(!1);if(yc(t,U,fe,Te,oe,se,Se+64|0,Se+48|0,1,0,0),!(e[s+64>>2]&16))break;m=n+4+(we*184|0)+168|0,ke=+i[g>>2],d=+i[he>>2],W=+i[S>>2],te=+i[pe>>2],Ae=+i[_e>>2],ge=+i[U>>2],i[n+4+(we*184|0)+168>>2]=ke*d-W*te,a=n+4+(we*184|0)+172|0,l=n+4+(we*184|0)+176|0,h=n+4+(we*184|0)+180|0,i[h>>2]=0,p=1/+ot(+((ke*d-W*te)*(ke*d-W*te)+(W*Ae-d*ge)*(W*Ae-d*ge)+(te*ge-ke*Ae)*(te*ge-ke*Ae))),u=(ke*d-W*te)*p,i[m>>2]=u,d=(W*Ae-d*ge)*p,i[a>>2]=d,p=(te*ge-ke*Ae)*p,i[l>>2]=p;do if(ae){if(!(e[ae+180>>2]&1))break;G=+i[ae+4>>2],q=+i[ae+20>>2],W=+i[ae+36>>2],O=+i[ae+8>>2],X=+i[ae+24>>2],ge=+i[ae+40>>2],$=+i[ae+12>>2],ne=+i[ae+28>>2],Ae=+i[ae+44>>2],te=(G*u+q*d+p*W)*+i[ae+164>>2],ke=(u*O+d*X+p*ge)*+i[ae+168>>2],p=(u*$+d*ne+p*Ae)*+i[ae+172>>2],i[m>>2]=G*te+O*ke+$*p,i[a>>2]=q*te+X*ke+ne*p,i[l>>2]=W*te+ge*ke+Ae*p,i[h>>2]=0,u=G*te+O*ke+$*p,d=q*te+X*ke+ne*p,p=W*te+ge*ke+Ae*p}while(!1);do if(de|0){if(!(e[de+180>>2]&1))break;P=+i[de+4>>2],$=+i[de+20>>2],ne=+i[de+36>>2],G=+i[de+8>>2],q=+i[de+24>>2],te=+i[de+40>>2],O=+i[de+12>>2],X=+i[de+28>>2],ke=+i[de+44>>2],W=(P*u+$*d+ne*p)*+i[de+164>>2],ge=(u*G+d*q+p*te)*+i[de+168>>2],Ae=(u*O+d*X+p*ke)*+i[de+172>>2],i[m>>2]=P*W+G*ge+O*Ae,i[a>>2]=$*W+q*ge+X*Ae,i[l>>2]=ne*W+te*ge+ke*Ae,i[h>>2]=0}while(!1);yc(t,m,fe,Te,oe,se,Se+64|0,Se+48|0,1,0,0);break}m=n+4+(we*184|0)+168|0,+ht(+E)>.7071067690849304?(Ae=1/+ot(+(E*E+D*D)),i[U>>2]=0,i[g>>2]=-(Ae*E),i[S>>2]=Ae*D,w=-(Ae*D*u),M=u*-(Ae*E),C=(E*E+D*D)*Ae,d=0,p=-(Ae*E),u=Ae*D):(p=1/+ot(+(u*u+D*D)),i[U>>2]=-(D*p),i[g>>2]=p*u,i[S>>2]=0,w=E*-(D*p),M=(u*u+D*D)*p,C=-(p*u*E),d=-(D*p),p=p*u,u=0),i[m>>2]=C,h=n+4+(we*184|0)+172|0,i[h>>2]=w,l=n+4+(we*184|0)+176|0,i[l>>2]=M;do if(ae){if(!(e[ae+180>>2]&1))break;G=+i[ae+4>>2],q=+i[ae+20>>2],W=+i[ae+36>>2],O=+i[ae+8>>2],X=+i[ae+24>>2],ge=+i[ae+40>>2],$=+i[ae+12>>2],ne=+i[ae+28>>2],Ae=+i[ae+44>>2],te=(G*d+q*p+W*u)*+i[ae+164>>2],ke=(d*O+p*X+u*ge)*+i[ae+168>>2],u=(d*$+p*ne+u*Ae)*+i[ae+172>>2],i[U>>2]=G*te+O*ke+$*u,i[g>>2]=q*te+X*ke+ne*u,i[S>>2]=W*te+ge*ke+Ae*u,i[a>>2]=0,d=G*te+O*ke+$*u,p=q*te+X*ke+ne*u,u=W*te+ge*ke+Ae*u}while(!1);do if(de|0){if(!(e[de+180>>2]&1))break;P=+i[de+4>>2],$=+i[de+20>>2],ne=+i[de+36>>2],G=+i[de+8>>2],q=+i[de+24>>2],te=+i[de+40>>2],O=+i[de+12>>2],X=+i[de+28>>2],ke=+i[de+44>>2],W=(P*d+$*p+ne*u)*+i[de+164>>2],ge=(d*G+p*q+u*te)*+i[de+168>>2],Ae=(d*O+p*X+u*ke)*+i[de+172>>2],i[U>>2]=P*W+G*ge+O*Ae,i[g>>2]=$*W+q*ge+X*Ae,i[S>>2]=ne*W+te*ge+ke*Ae,i[a>>2]=0}while(!1);if(yc(t,U,fe,Te,oe,se,Se+64|0,Se+48|0,1,0,0),a=e[s+64>>2]|0,a&16){do if(ae|0){if(!(e[ae+180>>2]&1))break;P=+i[ae+4>>2],L=+i[m>>2],$=+i[ae+20>>2],F=+i[h>>2],ne=+i[ae+36>>2],Ae=+i[l>>2],G=+i[ae+8>>2],q=+i[ae+24>>2],te=+i[ae+40>>2],O=+i[ae+12>>2],X=+i[ae+28>>2],ke=+i[ae+44>>2],W=(P*L+$*F+ne*Ae)*+i[ae+164>>2],ge=(L*G+F*q+Ae*te)*+i[ae+168>>2],Ae=(L*O+F*X+Ae*ke)*+i[ae+172>>2],i[m>>2]=P*W+G*ge+O*Ae,i[h>>2]=$*W+q*ge+X*Ae,i[l>>2]=ne*W+te*ge+ke*Ae,i[n+4+(we*184|0)+180>>2]=0}while(!1);do if(de|0){if(!(e[de+180>>2]&1))break;P=+i[de+4>>2],L=+i[m>>2],$=+i[de+20>>2],F=+i[h>>2],ne=+i[de+36>>2],Ae=+i[l>>2],G=+i[de+8>>2],q=+i[de+24>>2],te=+i[de+40>>2],O=+i[de+12>>2],X=+i[de+28>>2],ke=+i[de+44>>2],W=(P*L+$*F+ne*Ae)*+i[de+164>>2],ge=(L*G+F*q+Ae*te)*+i[de+168>>2],Ae=(L*O+F*X+Ae*ke)*+i[de+172>>2],i[m>>2]=P*W+G*ge+O*Ae,i[h>>2]=$*W+q*ge+X*Ae,i[l>>2]=ne*W+te*ge+ke*Ae,i[n+4+(we*184|0)+180>>2]=0}while(!1);yc(t,m,fe,Te,oe,se,Se+64|0,Se+48|0,1,0,0),a=e[s+64>>2]|0}if((a&80|0)!=80)break;R[n+4+(we*184|0)+116>>0]=1}while(!1);S=e[t+16>>2]|0,l=e[S+(fe*244|0)+240>>2]|0,h=e[S+(Te*244|0)+240>>2]|0,m=e[me+(oe*152|0)+140>>2]|0,g=e[t+76>>2]|0,a=e[s+64>>2]|0;do if(!(a&4))i[g+(m*152|0)+100>>2]=0;else{if(u=+i[n+4+(we*184|0)+124>>2]*+i[s+60>>2],i[g+(m*152|0)+100>>2]=u,l|0&&(ge=+i[l+368>>2],Ae=u*(ge*+i[g+(m*152|0)+20>>2]*+i[l+376>>2])*+i[S+(fe*244|0)+116>>2],ke=u*(ge*+i[g+(m*152|0)+24>>2]*+i[l+380>>2])*+i[S+(fe*244|0)+120>>2],i[S+(fe*244|0)+64>>2]=+i[S+(fe*244|0)+112>>2]*(u*(ge*+i[g+(m*152|0)+16>>2]*+i[l+372>>2]))+ +i[S+(fe*244|0)+64>>2],i[S+(fe*244|0)+68>>2]=Ae+ +i[S+(fe*244|0)+68>>2],i[S+(fe*244|0)+72>>2]=ke+ +i[S+(fe*244|0)+72>>2],ke=u*+i[S+(fe*244|0)+100>>2]*+i[g+(m*152|0)+68>>2],Ae=u*+i[S+(fe*244|0)+104>>2]*+i[g+(m*152|0)+72>>2],i[S+(fe*244|0)+80>>2]=u*+i[S+(fe*244|0)+96>>2]*+i[g+(m*152|0)+64>>2]+ +i[S+(fe*244|0)+80>>2],i[S+(fe*244|0)+84>>2]=ke+ +i[S+(fe*244|0)+84>>2],i[S+(fe*244|0)+88>>2]=Ae+ +i[S+(fe*244|0)+88>>2]),!h||(u=+i[h+368>>2],p=+i[g+(m*152|0)+100>>2],!(e[S+(Te*244|0)+240>>2]|0)))break;Ae=+i[g+(m*152|0)+88>>2],ke=+i[g+(m*152|0)+84>>2],ge=+i[g+(m*152|0)+80>>2],W=p*(u*+i[g+(m*152|0)+52>>2]*+i[h+376>>2])*+i[S+(Te*244|0)+116>>2],te=p*(u*+i[g+(m*152|0)+56>>2]*+i[h+380>>2])*+i[S+(Te*244|0)+120>>2],i[S+(Te*244|0)+64>>2]=+i[S+(Te*244|0)+112>>2]*(p*(u*+i[g+(m*152|0)+48>>2]*+i[h+372>>2]))+ +i[S+(Te*244|0)+64>>2],i[S+(Te*244|0)+68>>2]=W+ +i[S+(Te*244|0)+68>>2],i[S+(Te*244|0)+72>>2]=te+ +i[S+(Te*244|0)+72>>2],ke=ke*(+i[S+(Te*244|0)+100>>2]*-p),Ae=Ae*(+i[S+(Te*244|0)+104>>2]*-p),i[S+(Te*244|0)+80>>2]=+i[S+(Te*244|0)+80>>2]-ge*(+i[S+(Te*244|0)+96>>2]*-p),i[S+(Te*244|0)+84>>2]=+i[S+(Te*244|0)+84>>2]-ke,i[S+(Te*244|0)+88>>2]=+i[S+(Te*244|0)+88>>2]-Ae}while(!1);do if(a&16|0){if(!(a&4)){i[g+((m+1|0)*152|0)+100>>2]=0;break}p=+i[n+4+(we*184|0)+128>>2]*+i[s+60>>2],i[g+((m+1|0)*152|0)+100>>2]=p;do if(l|0){if(u=+i[l+368>>2],!(e[S+(fe*244|0)+240>>2]|0))break;Ae=p*(u*+i[g+((m+1|0)*152|0)+20>>2])*+i[S+(fe*244|0)+116>>2],ke=p*(u*+i[g+((m+1|0)*152|0)+24>>2])*+i[S+(fe*244|0)+120>>2],i[S+(fe*244|0)+64>>2]=+i[S+(fe*244|0)+112>>2]*(p*(u*+i[g+((m+1|0)*152|0)+16>>2]))+ +i[S+(fe*244|0)+64>>2],i[S+(fe*244|0)+68>>2]=Ae+ +i[S+(fe*244|0)+68>>2],i[S+(fe*244|0)+72>>2]=ke+ +i[S+(fe*244|0)+72>>2],ke=p*+i[S+(fe*244|0)+100>>2]*+i[g+((m+1|0)*152|0)+68>>2],Ae=p*+i[S+(fe*244|0)+104>>2]*+i[g+((m+1|0)*152|0)+72>>2],i[S+(fe*244|0)+80>>2]=p*+i[S+(fe*244|0)+96>>2]*+i[g+((m+1|0)*152|0)+64>>2]+ +i[S+(fe*244|0)+80>>2],i[S+(fe*244|0)+84>>2]=ke+ +i[S+(fe*244|0)+84>>2],i[S+(fe*244|0)+88>>2]=Ae+ +i[S+(fe*244|0)+88>>2]}while(!1);if(!h||(u=+i[h+368>>2],p=+i[g+((m+1|0)*152|0)+100>>2],!(e[S+(Te*244|0)+240>>2]|0)))break;Ae=+i[g+((m+1|0)*152|0)+88>>2],ke=+i[g+((m+1|0)*152|0)+84>>2],ge=+i[g+((m+1|0)*152|0)+80>>2],W=p*(u*+i[g+((m+1|0)*152|0)+52>>2])*+i[S+(Te*244|0)+116>>2],te=p*(u*+i[g+((m+1|0)*152|0)+56>>2])*+i[S+(Te*244|0)+120>>2],i[S+(Te*244|0)+64>>2]=+i[S+(Te*244|0)+112>>2]*(p*(u*+i[g+((m+1|0)*152|0)+48>>2]))+ +i[S+(Te*244|0)+64>>2],i[S+(Te*244|0)+68>>2]=W+ +i[S+(Te*244|0)+68>>2],i[S+(Te*244|0)+72>>2]=te+ +i[S+(Te*244|0)+72>>2],ke=ke*(+i[S+(Te*244|0)+100>>2]*-p),Ae=Ae*(+i[S+(Te*244|0)+104>>2]*-p),i[S+(Te*244|0)+80>>2]=+i[S+(Te*244|0)+80>>2]-ge*(+i[S+(Te*244|0)+96>>2]*-p),i[S+(Te*244|0)+84>>2]=+i[S+(Te*244|0)+84>>2]-ke,i[S+(Te*244|0)+88>>2]=+i[S+(Te*244|0)+88>>2]-Ae}while(!1)}we=we+1|0}while((we|0)<(e[n+748>>2]|0));H=Se}function n1(t,n,s){t=t|0,n=n|0,s=+s;var o=0,a=0,l=0;if(a=H,H=H+496|0,o=e[n+212>>2]|0,(o|0)>-1)return t=o,H=a,t|0;l=(e[n+236>>2]&2|0)==0,o=l?0:n;do if(!l){if(+i[o+368>>2]==0&&(e[o+204>>2]&2|0)==0)break;return l=e[t+8>>2]|0,ln(a+244|0,0,244)|0,wm(Tm(t+4|0,a+244|0)|0,n,s),e[n+212>>2]=l,H=a,l|0}while(!1);return o=e[t+188>>2]|0,(o|0)>=0?(l=o,H=a,l|0):(e[t+188>>2]=e[t+8>>2],ln(a|0,0,244)|0,wm(Tm(t+4|0,a)|0,0,s),l=e[t+188>>2]|0,H=a,l|0)}function Tm(t,n){t=t|0,n=n|0;var s=0,o=0,a=0,l=0,u=0,p=0,h=0,d=0;if(u=e[t+4>>2]|0,(u|0)==(e[t+8>>2]|0)&&(l=u|0?u<<1:1,(u|0)<(l|0))){if(l?(e[5637]=(e[5637]|0)+1,s=Xe((l*244|3)+16|0)|0,s?(e[(s+4+15&-16)+-4>>2]=s,s=s+4+15&-16):s=0,o=e[t+4>>2]|0):(s=0,o=u),(o|0)>0){a=0;do h=s+(a*244|0)|0,p=e[t+12>>2]|0,d=p+(a*244|0)|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],h=s+(a*244|0)+16|0,d=p+(a*244|0)+16|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],h=s+(a*244|0)+32|0,d=p+(a*244|0)+32|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],h=s+(a*244|0)+48|0,d=p+(a*244|0)+48|0,e[h>>2]=e[d>>2],e[h+4>>2]=e[d+4>>2],e[h+8>>2]=e[d+8>>2],e[h+12>>2]=e[d+12>>2],wr(s+(a*244|0)+64|0,p+(a*244|0)+64|0,180)|0,a=a+1|0;while((a|0)!=(o|0))}o=e[t+12>>2]|0,o|0&&(R[t+16>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[o+-4>>2]|0)),e[t+12>>2]=0),R[t+16>>0]=1,e[t+12>>2]=s,e[t+8>>2]=l,s=e[t+4>>2]|0}else s=u;return e[t+4>>2]=s+1,d=e[t+12>>2]|0,e[d+(u*244|0)>>2]=e[n>>2],e[d+(u*244|0)+4>>2]=e[n+4>>2],e[d+(u*244|0)+8>>2]=e[n+8>>2],e[d+(u*244|0)+12>>2]=e[n+12>>2],e[d+(u*244|0)+16>>2]=e[n+16>>2],e[d+(u*244|0)+16+4>>2]=e[n+16+4>>2],e[d+(u*244|0)+16+8>>2]=e[n+16+8>>2],e[d+(u*244|0)+16+12>>2]=e[n+16+12>>2],e[d+(u*244|0)+32>>2]=e[n+32>>2],e[d+(u*244|0)+32+4>>2]=e[n+32+4>>2],e[d+(u*244|0)+32+8>>2]=e[n+32+8>>2],e[d+(u*244|0)+32+12>>2]=e[n+32+12>>2],e[d+(u*244|0)+48>>2]=e[n+48>>2],e[d+(u*244|0)+48+4>>2]=e[n+48+4>>2],e[d+(u*244|0)+48+8>>2]=e[n+48+8>>2],e[d+(u*244|0)+48+12>>2]=e[n+48+12>>2],wr(d+(u*244|0)+64|0,n+64|0,180)|0,(e[t+12>>2]|0)+(u*244|0)|0}function wm(t,n,s){t=t|0,n=n|0,s=+s;var o=0,a=0,l=0,u=0,p=0,h=0,d=0,m=0;if(n?n=(e[n+236>>2]&2|0)==0?0:n:n=0,e[t+64>>2]=0,e[t+64+4>>2]=0,e[t+64+8>>2]=0,e[t+64+12>>2]=0,e[t+64+16>>2]=0,e[t+64+20>>2]=0,e[t+64+24>>2]=0,e[t+64+28>>2]=0,e[t+144>>2]=0,e[t+144+4>>2]=0,e[t+144+8>>2]=0,e[t+144+12>>2]=0,e[t+144+16>>2]=0,e[t+144+20>>2]=0,e[t+144+24>>2]=0,e[t+144+28>>2]=0,n){o=n+4|0,e[t>>2]=e[o>>2],e[t+4>>2]=e[o+4>>2],e[t+8>>2]=e[o+8>>2],e[t+12>>2]=e[o+12>>2],o=n+20|0,e[t+16>>2]=e[o>>2],e[t+16+4>>2]=e[o+4>>2],e[t+16+8>>2]=e[o+8>>2],e[t+16+12>>2]=e[o+12>>2],o=n+36|0,e[t+32>>2]=e[o>>2],e[t+32+4>>2]=e[o+4>>2],e[t+32+8>>2]=e[o+8>>2],e[t+32+12>>2]=e[o+12>>2],o=n+52|0,e[t+48>>2]=e[o>>2],e[t+48+4>>2]=e[o+4>>2],e[t+48+8>>2]=e[o+8>>2],e[t+48+12>>2]=e[o+12>>2],o=n+368|0,h=+i[o>>2],d=n+372|0,p=h*+i[n+376>>2],u=h*+i[n+380>>2],i[t+128>>2]=h*+i[d>>2],i[t+132>>2]=p,i[t+136>>2]=u,i[t+140>>2]=0,e[t+240>>2]=n,m=n+568|0,e[t+96>>2]=e[m>>2],e[t+96+4>>2]=e[m+4>>2],e[t+96+8>>2]=e[m+8>>2],e[t+96+12>>2]=e[m+12>>2],e[t+112>>2]=e[d>>2],e[t+112+4>>2]=e[d+4>>2],e[t+112+8>>2]=e[d+8>>2],e[t+112+12>>2]=e[d+12>>2],d=n+336|0,e[t+176>>2]=e[d>>2],e[t+176+4>>2]=e[d+4>>2],e[t+176+8>>2]=e[d+8>>2],e[t+176+12>>2]=e[d+12>>2],d=n+352|0,e[t+192>>2]=e[d>>2],e[t+192+4>>2]=e[d+4>>2],e[t+192+8>>2]=e[d+8>>2],e[t+192+12>>2]=e[d+12>>2],u=+i[o>>2],p=u*+i[n+440>>2]*s,h=u*+i[n+444>>2]*s,i[t+208>>2]=u*+i[n+436>>2]*s,i[t+212>>2]=p,i[t+216>>2]=h,i[t+220>>2]=0,h=+i[n+452>>2],p=+i[n+456>>2],u=+i[n+460>>2],l=(h*+i[n+292>>2]+p*+i[n+308>>2]+u*+i[n+324>>2])*s,a=(h*+i[n+296>>2]+p*+i[n+312>>2]+u*+i[n+328>>2])*s,i[t+224>>2]=(+i[n+288>>2]*h+ +i[n+304>>2]*p+ +i[n+320>>2]*u)*s,i[t+228>>2]=l,i[t+232>>2]=a,t=t+236|0,i[t>>2]=0;return}else{e[t>>2]=1065353216,e[t+4>>2]=0,e[t+4+4>>2]=0,e[t+4+8>>2]=0,e[t+4+12>>2]=0,e[t+20>>2]=1065353216,e[t+24>>2]=0,e[t+24+4>>2]=0,e[t+24+8>>2]=0,e[t+24+12>>2]=0,e[t+40>>2]=1065353216,e[t+44>>2]=0,e[t+44+4>>2]=0,e[t+44+8>>2]=0,e[t+44+12>>2]=0,e[t+44+16>>2]=0,e[t+240>>2]=0,e[t+128>>2]=0,e[t+128+4>>2]=0,e[t+128+8>>2]=0,e[t+128+12>>2]=0,e[t+96>>2]=1065353216,e[t+100>>2]=1065353216,e[t+104>>2]=1065353216,i[t+108>>2]=0,e[t+112>>2]=1065353216,e[t+116>>2]=1065353216,e[t+120>>2]=1065353216,i[t+124>>2]=0,n=t+176|0,o=n+60|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(o|0));t=t+236|0,i[t>>2]=0;return}}function Qf(t,n,s,o,a,l){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0;var u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0;if(O=e[t+88>>2]|0,(O|0)==(e[t+92>>2]|0)&&(m=O|0?O<<1:1,(O|0)<(m|0))){if(m?(e[5637]=(e[5637]|0)+1,u=Xe((m*152|3)+16|0)|0,u?(e[(u+4+15&-16)+-4>>2]=u,u=u+4+15&-16):u=0,p=e[t+88>>2]|0):(u=0,p=O),(p|0)>0){h=0;do wr(u+(h*152|0)|0,(e[t+96>>2]|0)+(h*152|0)|0,152)|0,h=h+1|0;while((h|0)!=(p|0))}p=e[t+96>>2]|0,p|0&&(R[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[p+-4>>2]|0)),e[t+96>>2]=0),R[t+100>>0]=1,e[t+96>>2]=u,e[t+92>>2]=m,u=e[t+88>>2]|0}else u=O;if(e[t+88>>2]=u+1,G=e[t+96>>2]|0,e[G+(O*152|0)+140>>2]=a,e[G+(O*152|0)+16>>2]=0,e[G+(O*152|0)+16+4>>2]=0,e[G+(O*152|0)+16+8>>2]=0,e[G+(O*152|0)+16+12>>2]=0,i[G+(O*152|0)+48>>2]=-0,i[G+(O*152|0)+52>>2]=-0,i[G+(O*152|0)+56>>2]=-0,i[G+(O*152|0)+60>>2]=0,t=e[t+16>>2]|0,m=e[t+(s*244|0)+240>>2]|0,U=e[t+(o*244|0)+240>>2]|0,e[G+(O*152|0)+144>>2]=s,e[G+(O*152|0)+148>>2]=o,a=e[l+88>>2]|0,e[G+(O*152|0)+104>>2]=a,e[G+(O*152|0)+132>>2]=0,i[G+(O*152|0)+100>>2]=0,i[G+(O*152|0)+96>>2]=0,B=-+i[n>>2],L=-+i[n+4>>2],F=-+i[n+8>>2],i[G+(O*152|0)>>2]=B,i[G+(O*152|0)+4>>2]=L,i[G+(O*152|0)+8>>2]=F,i[G+(O*152|0)+12>>2]=0,P=(e[Z>>2]=a,+i[Z>>2]),m|0?(u=(i[Z>>2]=(+i[m+288>>2]*B+ +i[m+292>>2]*L+ +i[m+296>>2]*F)*+i[m+568>>2],e[Z>>2]|0),p=(i[Z>>2]=(+i[m+304>>2]*B+ +i[m+308>>2]*L+ +i[m+312>>2]*F)*+i[m+572>>2],e[Z>>2]|0),h=(i[Z>>2]=(+i[m+320>>2]*B+ +i[m+324>>2]*L+ +i[m+328>>2]*F)*+i[m+576>>2],e[Z>>2]|0)):(u=0,p=0,h=0),e[G+(O*152|0)+64>>2]=u,e[G+(O*152|0)+68>>2]=p,e[G+(O*152|0)+72>>2]=h,i[G+(O*152|0)+76>>2]=0,E=+i[n>>2],D=+i[n+4>>2],b=+i[n+8>>2],n=e[n+12>>2]|0,i[G+(O*152|0)+32>>2]=E,i[G+(O*152|0)+36>>2]=D,i[G+(O*152|0)+40>>2]=b,e[G+(O*152|0)+44>>2]=n,U|0?(u=(i[Z>>2]=(E*+i[U+288>>2]+D*+i[U+292>>2]+b*+i[U+296>>2])*+i[U+568>>2],e[Z>>2]|0),p=(i[Z>>2]=(E*+i[U+304>>2]+D*+i[U+308>>2]+b*+i[U+312>>2])*+i[U+572>>2],e[Z>>2]|0),h=(i[Z>>2]=(E*+i[U+320>>2]+D*+i[U+324>>2]+b*+i[U+328>>2])*+i[U+576>>2],e[Z>>2]|0)):(u=0,p=0,h=0),e[G+(O*152|0)+80>>2]=u,e[G+(O*152|0)+84>>2]=p,e[G+(O*152|0)+88>>2]=h,i[G+(O*152|0)+92>>2]=0,m|0?(d=+i[m+288>>2]*B+ +i[m+292>>2]*L+ +i[m+296>>2]*F,g=+i[m+304>>2]*B+ +i[m+308>>2]*L+ +i[m+312>>2]*F,S=+i[m+320>>2]*B+ +i[m+324>>2]*L+ +i[m+328>>2]*F):(d=0,g=0,S=0),U|0?(C=+i[U+288>>2]*E+ +i[U+292>>2]*D+ +i[U+296>>2]*b,w=E*+i[U+304>>2]+D*+i[U+308>>2]+b*+i[U+312>>2],M=E*+i[U+320>>2]+D*+i[U+324>>2]+b*+i[U+328>>2]):(C=0,w=0,M=0),w=1/(d*B+g*L+S*F+0+(C*E+w*D+M*b)),i[G+(O*152|0)+108>>2]=w,m|0?(g=+i[t+(s*244|0)+192>>2],S=+i[t+(s*244|0)+196>>2],C=+i[t+(s*244|0)+200>>2],d=(+i[t+(s*244|0)+176>>2]+ +i[t+(s*244|0)+208>>2])*0+(+i[t+(s*244|0)+180>>2]+ +i[t+(s*244|0)+212>>2])*0+(+i[t+(s*244|0)+184>>2]+ +i[t+(s*244|0)+216>>2])*0):(g=0,S=0,C=0,d=0),d=d+(g*B+S*L+C*F),!U){M=0,B=0,F=0,L=-0,E=M*E,B=B*D,B=E+B,F=F*b,F=B+F,F=L+F,F=d+F,F=0-F,F=w*F,o=G+(O*152|0)+112|0,i[o>>2]=F,o=G+(O*152|0)+116|0,i[o>>2]=0,P=-P,o=G+(O*152|0)+120|0,i[o>>2]=P,o=G+(O*152|0)+124|0,e[o>>2]=a;return}M=+i[t+(o*244|0)+192>>2],B=+i[t+(o*244|0)+196>>2],F=+i[t+(o*244|0)+200>>2],L=(+i[t+(o*244|0)+176>>2]+ +i[t+(o*244|0)+208>>2])*-0+(+i[t+(o*244|0)+180>>2]+ +i[t+(o*244|0)+212>>2])*-0+(+i[t+(o*244|0)+184>>2]+ +i[t+(o*244|0)+216>>2])*-0,E=M*E,B=B*D,B=E+B,F=F*b,F=B+F,F=L+F,F=d+F,F=0-F,F=w*F,o=G+(O*152|0)+112|0,i[o>>2]=F,o=G+(O*152|0)+116|0,i[o>>2]=0,P=-P,o=G+(O*152|0)+120|0,i[o>>2]=P,o=G+(O*152|0)+124|0,e[o>>2]=a}function yc(t,n,s,o,a,l,u,p,h,d,m){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=+h,d=+d,m=+m;var g=0,S=0,C=0,w=0,M=0,E=0,D=0,b=0,B=0,L=0,F=0,P=0,U=0,G=0,O=0,z=0,Y=0,$=0,q=0,X=0,ne=0,W=0,te=0,_e=0,pe=0,he=0,me=0,se=0,oe=0;if(pe=e[t+68>>2]|0,(pe|0)==(e[t+72>>2]|0)&&(M=pe|0?pe<<1:1,(pe|0)<(M|0))){if(M?(e[5637]=(e[5637]|0)+1,g=Xe((M*152|3)+16|0)|0,g?(e[(g+4+15&-16)+-4>>2]=g,g=g+4+15&-16):g=0,S=e[t+68>>2]|0):(g=0,S=pe),(S|0)>0){C=0;do wr(g+(C*152|0)|0,(e[t+76>>2]|0)+(C*152|0)|0,152)|0,C=C+1|0;while((C|0)!=(S|0))}S=e[t+76>>2]|0,S|0&&(R[t+80>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[S+-4>>2]|0)),e[t+76>>2]=0),R[t+80>>0]=1,e[t+76>>2]=g,e[t+72>>2]=M,g=e[t+68>>2]|0}else g=pe;if(e[t+68>>2]=g+1,_e=e[t+76>>2]|0,e[_e+(pe*152|0)+140>>2]=a,C=e[t+16>>2]|0,g=e[C+(s*244|0)+240>>2]|0,M=e[C+(o*244|0)+240>>2]|0,e[_e+(pe*152|0)+144>>2]=s,e[_e+(pe*152|0)+148>>2]=o,S=e[l+84>>2]|0,e[_e+(pe*152|0)+104>>2]=S,e[_e+(pe*152|0)+132>>2]=0,i[_e+(pe*152|0)+100>>2]=0,i[_e+(pe*152|0)+96>>2]=0,te=(e[Z>>2]=S,+i[Z>>2]),g|0?(e[_e+(pe*152|0)+16>>2]=e[n>>2],e[_e+(pe*152|0)+16+4>>2]=e[n+4>>2],e[_e+(pe*152|0)+16+8>>2]=e[n+8>>2],e[_e+(pe*152|0)+16+12>>2]=e[n+12>>2],W=+i[u+4>>2],O=+i[_e+(pe*152|0)+24>>2],q=+i[u+8>>2],X=+i[_e+(pe*152|0)+20>>2],z=+i[_e+(pe*152|0)+16>>2],ne=+i[u>>2],i[_e+(pe*152|0)>>2]=W*O-q*X,i[_e+(pe*152|0)+4>>2]=q*z-O*ne,i[_e+(pe*152|0)+8>>2]=X*ne-W*z,i[_e+(pe*152|0)+12>>2]=0,D=((W*O-q*X)*+i[g+288>>2]+(q*z-O*ne)*+i[g+292>>2]+(X*ne-W*z)*+i[g+296>>2])*+i[g+568>>2],w=((W*O-q*X)*+i[g+304>>2]+(q*z-O*ne)*+i[g+308>>2]+(X*ne-W*z)*+i[g+312>>2])*+i[g+572>>2],E=((W*O-q*X)*+i[g+320>>2]+(q*z-O*ne)*+i[g+324>>2]+(X*ne-W*z)*+i[g+328>>2])*+i[g+576>>2],i[_e+(pe*152|0)+64>>2]=D,i[_e+(pe*152|0)+68>>2]=w,i[_e+(pe*152|0)+72>>2]=E,i[_e+(pe*152|0)+76>>2]=0,F=z,P=X,U=O,G=W*O-q*X,O=q*z-O*ne,z=X*ne-W*z):(e[_e+(pe*152|0)+64>>2]=0,e[_e+(pe*152|0)+64+4>>2]=0,e[_e+(pe*152|0)+64+8>>2]=0,e[_e+(pe*152|0)+64+12>>2]=0,e[_e+(pe*152|0)>>2]=0,e[_e+(pe*152|0)+4>>2]=0,e[_e+(pe*152|0)+8>>2]=0,e[_e+(pe*152|0)+12>>2]=0,e[_e+(pe*152|0)+16>>2]=0,e[_e+(pe*152|0)+20>>2]=0,e[_e+(pe*152|0)+24>>2]=0,e[_e+(pe*152|0)+28>>2]=0,w=0,E=0,D=0,F=0,P=0,U=0,G=0,O=0,z=0),M|0?(W=-+i[n>>2],me=-+i[n+4>>2],ne=-+i[n+8>>2],i[_e+(pe*152|0)+48>>2]=W,i[_e+(pe*152|0)+52>>2]=me,i[_e+(pe*152|0)+56>>2]=ne,i[_e+(pe*152|0)+60>>2]=0,he=+i[p+4>>2],oe=+i[p+8>>2],se=+i[p>>2],i[_e+(pe*152|0)+32>>2]=he*ne-oe*me,i[_e+(pe*152|0)+36>>2]=oe*W-se*ne,i[_e+(pe*152|0)+40>>2]=se*me-he*W,i[_e+(pe*152|0)+44>>2]=0,b=((he*ne-oe*me)*+i[M+288>>2]+(oe*W-se*ne)*+i[M+292>>2]+(se*me-he*W)*+i[M+296>>2])*+i[M+568>>2],B=((he*ne-oe*me)*+i[M+304>>2]+(oe*W-se*ne)*+i[M+308>>2]+(se*me-he*W)*+i[M+312>>2])*+i[M+572>>2],L=((he*ne-oe*me)*+i[M+320>>2]+(oe*W-se*ne)*+i[M+324>>2]+(se*me-he*W)*+i[M+328>>2])*+i[M+576>>2],i[_e+(pe*152|0)+80>>2]=b,i[_e+(pe*152|0)+84>>2]=B,i[_e+(pe*152|0)+88>>2]=L,i[_e+(pe*152|0)+92>>2]=0,Y=W,$=me,q=ne,X=he*ne-oe*me,ne=oe*W-se*ne,W=se*me-he*W):(e[_e+(pe*152|0)+80>>2]=0,e[_e+(pe*152|0)+80+4>>2]=0,e[_e+(pe*152|0)+80+8>>2]=0,e[_e+(pe*152|0)+80+12>>2]=0,e[_e+(pe*152|0)+32>>2]=0,e[_e+(pe*152|0)+32+4>>2]=0,e[_e+(pe*152|0)+32+8>>2]=0,e[_e+(pe*152|0)+32+12>>2]=0,e[_e+(pe*152|0)+32+16>>2]=0,e[_e+(pe*152|0)+32+20>>2]=0,e[_e+(pe*152|0)+32+24>>2]=0,e[_e+(pe*152|0)+32+28>>2]=0,b=0,B=0,L=0,Y=0,$=0,q=0,X=0,ne=0,W=0),g|0?(me=+i[u+8>>2],se=+i[u+4>>2],oe=+i[u>>2],E=+i[g+368>>2]+((w*me-E*se)*+i[n>>2]+(E*oe-me*D)*+i[n+4>>2]+(se*D-w*oe)*+i[n+8>>2])):E=0,M|0?(se=-b,w=-B,L=-L,he=+i[p+8>>2],me=+i[p+4>>2],oe=+i[p>>2],w=+i[M+368>>2]+((he*w-me*L)*+i[n>>2]+(oe*L-he*se)*+i[n+4>>2]+(me*se-oe*w)*+i[n+8>>2])):w=0,B=h/(E+w),i[_e+(pe*152|0)+108>>2]=B,g|0?(E=+i[C+(s*244|0)+192>>2],D=+i[C+(s*244|0)+196>>2],b=+i[C+(s*244|0)+200>>2],w=(+i[C+(s*244|0)+176>>2]+ +i[C+(s*244|0)+208>>2])*F+(+i[C+(s*244|0)+180>>2]+ +i[C+(s*244|0)+212>>2])*P+(+i[C+(s*244|0)+184>>2]+ +i[C+(s*244|0)+216>>2])*U):(E=0,D=0,b=0,w=F*0+P*0+U*0),w=w+(E*G+D*O+b*z),M|0){he=+i[C+(o*244|0)+192>>2],me=+i[C+(o*244|0)+196>>2],oe=+i[C+(o*244|0)+200>>2],se=(+i[C+(o*244|0)+176>>2]+ +i[C+(o*244|0)+208>>2])*Y+(+i[C+(o*244|0)+180>>2]+ +i[C+(o*244|0)+212>>2])*$+(+i[C+(o*244|0)+184>>2]+ +i[C+(o*244|0)+216>>2])*q,he=he*X,me=me*ne,me=he+me,oe=oe*W,oe=me+oe,oe=se+oe,oe=w+oe,oe=d-oe,oe=B*oe,o=_e+(pe*152|0)+112|0,i[o>>2]=oe,o=_e+(pe*152|0)+128|0,i[o>>2]=0,o=_e+(pe*152|0)+116|0,i[o>>2]=m,oe=-te,o=_e+(pe*152|0)+120|0,i[o>>2]=oe,o=_e+(pe*152|0)+124|0,e[o>>2]=S;return}else{he=0,me=0,oe=0,se=Y*0+$*0+q*0,he=he*X,me=me*ne,me=he+me,oe=oe*W,oe=me+oe,oe=se+oe,oe=w+oe,oe=d-oe,oe=B*oe,o=_e+(pe*152|0)+112|0,i[o>>2]=oe,o=_e+(pe*152|0)+128|0,i[o>>2]=0,o=_e+(pe*152|0)+116|0,i[o>>2]=m,oe=-te,o=_e+(pe*152|0)+120|0,i[o>>2]=oe,o=_e+(pe*152|0)+124|0,e[o>>2]=S;return}}function ise(t,n,s,o,a,l,u,p,h){if(t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,!!(e[p+44>>2]|0))if(n=e[p+20>>2]|0,e[p+64>>2]&256){if((n|0)<=0)return;h=0;do{if(l=e[t+28>>2]|0,(l|0)>0){n=0;do a=e[(e[t+116>>2]|0)+(n<<2)>>2]|0,u=e[t+36>>2]|0,s=e[t+16>>2]|0,Mm(s+((e[u+(a*152|0)+144>>2]|0)*244|0)|0,s+((e[u+(a*152|0)+148>>2]|0)*244|0)|0,u+(a*152|0)|0),n=n+1|0;while((n|0)!=(l|0));n=e[p+20>>2]|0}h=h+1|0}while((h|0)<(n|0));return}else{if((n|0)<=0)return;h=0;do{if(l=e[t+28>>2]|0,(l|0)>0){n=0;do a=e[(e[t+116>>2]|0)+(n<<2)>>2]|0,u=e[t+36>>2]|0,s=e[t+16>>2]|0,Mm(s+((e[u+(a*152|0)+144>>2]|0)*244|0)|0,s+((e[u+(a*152|0)+148>>2]|0)*244|0)|0,u+(a*152|0)|0),n=n+1|0;while((n|0)!=(l|0));n=e[p+20>>2]|0}h=h+1|0}while((h|0)<(n|0));return}}function Mm(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0;o=+i[s+128>>2],o!=0&&(e[5314]=(e[5314]|0)+1,h=+i[s+96>>2],a=+i[s+16>>2],l=+i[s+20>>2],u=+i[s+24>>2],p=+i[s+108>>2],p=o-h*+i[s+116>>2]-(a*+i[t+144>>2]+l*+i[t+148>>2]+u*+i[t+152>>2]+(+i[s>>2]*+i[t+160>>2]+ +i[s+4>>2]*+i[t+164>>2]+ +i[s+8>>2]*+i[t+168>>2]))*p-p*(+i[s+48>>2]*+i[n+144>>2]+ +i[s+52>>2]*+i[n+148>>2]+ +i[s+56>>2]*+i[n+152>>2]+(+i[s+32>>2]*+i[n+160>>2]+ +i[s+36>>2]*+i[n+164>>2]+ +i[s+40>>2]*+i[n+168>>2])),d=+i[s+120>>2],o=h+p<d?d-h:p,i[s+96>>2]=h+p<d?d:h+p,e[t+240>>2]|0&&(d=o*(l*+i[t+132>>2])*+i[t+116>>2],h=o*(u*+i[t+136>>2])*+i[t+120>>2],i[t+144>>2]=+i[t+112>>2]*(o*(a*+i[t+128>>2]))+ +i[t+144>>2],i[t+148>>2]=d+ +i[t+148>>2],i[t+152>>2]=h+ +i[t+152>>2],h=o*+i[t+100>>2]*+i[s+68>>2],d=o*+i[t+104>>2]*+i[s+72>>2],i[t+160>>2]=o*+i[t+96>>2]*+i[s+64>>2]+ +i[t+160>>2],i[t+164>>2]=h+ +i[t+164>>2],i[t+168>>2]=d+ +i[t+168>>2]),e[n+240>>2]|0&&(d=o*(+i[s+52>>2]*+i[n+132>>2])*+i[n+116>>2],h=o*(+i[s+56>>2]*+i[n+136>>2])*+i[n+120>>2],i[n+144>>2]=+i[n+112>>2]*(o*(+i[s+48>>2]*+i[n+128>>2]))+ +i[n+144>>2],i[n+148>>2]=d+ +i[n+148>>2],i[n+152>>2]=h+ +i[n+152>>2],h=o*+i[n+100>>2]*+i[s+84>>2],d=o*+i[n+104>>2]*+i[s+88>>2],i[n+160>>2]=o*+i[n+96>>2]*+i[s+80>>2]+ +i[n+160>>2],i[n+164>>2]=h+ +i[n+164>>2],i[n+168>>2]=d+ +i[n+168>>2]))}function nse(t,n,s,o){t=t|0,n=n|0,s=s|0,o=o|0;var a=0,l=0,u=0,p=0,h=0,d=0,m=0,g=0,S=0,C=0,w=0,M=0;S=H,H=H+80|0,l=e[t+28>>2]|0,n=e[o+64>>2]|0;e:do if((n&4|0)!=0&(l|0)>0){if(u=e[t+36>>2]|0,a=e[t+76>>2]|0,n&16)s=a,n=0;else for(n=0;;)if(p=e[u+(n*152|0)+132>>2]|0,e[p+120>>2]=e[u+(n*152|0)+100>>2],e[p+124>>2]=e[a+((e[u+(n*152|0)+140>>2]|0)*152|0)+100>>2],n=n+1|0,(n|0)==(l|0))break e;for(;;){if(p=e[u+(n*152|0)+132>>2]|0,e[p+120>>2]=e[u+(n*152|0)+100>>2],C=e[u+(n*152|0)+140>>2]|0,e[p+124>>2]=e[a+(C*152|0)+100>>2],e[p+128>>2]=e[s+((C+1|0)*152|0)+100>>2],n=n+1|0,(n|0)==(l|0))break e;s=e[t+76>>2]|0}}while(!1);if(s=e[t+48>>2]|0,(s|0)>0){p=0;do a=e[t+56>>2]|0,l=e[a+(p*152|0)+132>>2]|0,u=e[l+44>>2]|0,n=a+(p*152|0)+100|0,u|0&&(g=+i[n>>2],C=e[l+28>>2]|0,m=1/+i[o+12>>2],d=g*+i[a+(p*152|0)+20>>2]*+i[C+376>>2]*m,h=g*+i[a+(p*152|0)+24>>2]*+i[C+380>>2]*m,i[u>>2]=+i[u>>2]+ +i[a+(p*152|0)+16>>2]*g*+i[C+372>>2]*m,i[u+4>>2]=d+ +i[u+4>>2],i[u+8>>2]=h+ +i[u+8>>2],h=+i[n>>2],C=e[l+32>>2]|0,d=1/+i[o+12>>2],m=h*+i[a+(p*152|0)+52>>2]*+i[C+376>>2]*d,g=h*+i[a+(p*152|0)+56>>2]*+i[C+380>>2]*d,i[u+32>>2]=+i[u+32>>2]+ +i[a+(p*152|0)+48>>2]*h*+i[C+372>>2]*d,i[u+36>>2]=m+ +i[u+36>>2],i[u+40>>2]=g+ +i[u+40>>2],C=e[l+28>>2]|0,g=+i[n>>2],m=1/+i[o+12>>2],d=+i[a+(p*152|0)+4>>2]*+i[C+572>>2]*g*m,h=g*(+i[a+(p*152|0)+8>>2]*+i[C+576>>2])*m,i[u+16>>2]=+i[u+16>>2]+ +i[a+(p*152|0)>>2]*+i[C+568>>2]*g*m,i[u+20>>2]=d+ +i[u+20>>2],i[u+24>>2]=h+ +i[u+24>>2],C=e[l+32>>2]|0,h=+i[n>>2],d=1/+i[o+12>>2],m=+i[a+(p*152|0)+36>>2]*+i[C+572>>2]*h*d,g=h*(+i[a+(p*152|0)+40>>2]*+i[C+576>>2])*d,i[u+48>>2]=+i[u+48>>2]+ +i[a+(p*152|0)+32>>2]*+i[C+568>>2]*h*d,i[u+52>>2]=m+ +i[u+52>>2],i[u+56>>2]=g+ +i[u+56>>2]),C=e[n>>2]|0,e[l+36>>2]=C,g=+ht((e[Z>>2]=C,+ +i[Z>>2])),g>=+i[l+16>>2]&&(R[l+20>>0]=0),p=p+1|0;while((p|0)!=(s|0))}if(n=e[t+8>>2]|0,(n|0)>0){u=0;do s=e[t+16>>2]|0,a=s+(u*244|0)|0,l=e[s+(u*244|0)+240>>2]|0,l&&(e[o+44>>2]|0?(d=+i[o+12>>2],m=+i[o+52>>2],C=s+(u*244|0)+176|0,i[C>>2]=+i[s+(u*244|0)+64>>2]+ +i[C>>2],C=s+(u*244|0)+180|0,i[C>>2]=+i[s+(u*244|0)+68>>2]+ +i[C>>2],C=s+(u*244|0)+184|0,i[C>>2]=+i[s+(u*244|0)+72>>2]+ +i[C>>2],C=s+(u*244|0)+192|0,i[C>>2]=+i[s+(u*244|0)+80>>2]+ +i[C>>2],C=s+(u*244|0)+196|0,i[C>>2]=+i[s+(u*244|0)+84>>2]+ +i[C>>2],C=s+(u*244|0)+200|0,i[C>>2]=+i[s+(u*244|0)+88>>2]+ +i[C>>2],g=+i[s+(u*244|0)+144>>2],h=+i[s+(u*244|0)+148>>2],!(g!=0|h!=0)&&+i[s+(u*244|0)+152>>2]==0&&+i[s+(u*244|0)+160>>2]==0&&+i[s+(u*244|0)+164>>2]==0&&+i[s+(u*244|0)+168>>2]==0?n=l:(M=+i[s+(u*244|0)+164>>2]*m,w=+i[s+(u*244|0)+168>>2]*m,i[S>>2]=+i[s+(u*244|0)+160>>2]*m,i[S+4>>2]=M,i[S+8>>2]=w,i[S+12>>2]=0,Js(a,g,h,+i[s+(u*244|0)+152>>2],S,d,S+16|0),e[a>>2]=e[S+16>>2],e[a+4>>2]=e[S+16+4>>2],e[a+8>>2]=e[S+16+8>>2],e[a+12>>2]=e[S+16+12>>2],n=s+(u*244|0)+16|0,e[n>>2]=e[S+16+16>>2],e[n+4>>2]=e[S+16+16+4>>2],e[n+8>>2]=e[S+16+16+8>>2],e[n+12>>2]=e[S+16+16+12>>2],n=s+(u*244|0)+32|0,e[n>>2]=e[S+16+32>>2],e[n+4>>2]=e[S+16+32+4>>2],e[n+8>>2]=e[S+16+32+8>>2],e[n+12>>2]=e[S+16+32+12>>2],n=s+(u*244|0)+48|0,e[n>>2]=e[S+16+48>>2],e[n+4>>2]=e[S+16+48+4>>2],e[n+8>>2]=e[S+16+48+8>>2],e[n+12>>2]=e[S+16+48+12>>2],n=e[t+16>>2]|0,s=n,n=e[n+(u*244|0)+240>>2]|0),a=s,d=+i[s+(u*244|0)+176>>2],m=+i[s+(u*244|0)+180>>2],h=+i[s+(u*244|0)+184>>2]):(a=s+(u*244|0)+176|0,d=+i[s+(u*244|0)+64>>2]+ +i[a>>2],i[a>>2]=d,a=s+(u*244|0)+180|0,m=+i[s+(u*244|0)+68>>2]+ +i[a>>2],i[a>>2]=m,a=s+(u*244|0)+184|0,h=+i[s+(u*244|0)+72>>2]+ +i[a>>2],i[a>>2]=h,a=s+(u*244|0)+192|0,i[a>>2]=+i[s+(u*244|0)+80>>2]+ +i[a>>2],a=s+(u*244|0)+196|0,i[a>>2]=+i[s+(u*244|0)+84>>2]+ +i[a>>2],a=s+(u*244|0)+200|0,i[a>>2]=+i[s+(u*244|0)+88>>2]+ +i[a>>2],a=s,n=l),M=d+ +i[a+(u*244|0)+208>>2],w=m+ +i[a+(u*244|0)+212>>2],g=h+ +i[a+(u*244|0)+216>>2],p=n+284|0,e[p>>2]=(e[p>>2]|0)+1,i[n+336>>2]=M,i[n+340>>2]=w,i[n+344>>2]=g,i[n+348>>2]=0,p=e[t+16>>2]|0,C=e[p+(u*244|0)+240>>2]|0,g=+i[p+(u*244|0)+192>>2]+ +i[p+(u*244|0)+224>>2],w=+i[p+(u*244|0)+196>>2]+ +i[p+(u*244|0)+228>>2],M=+i[p+(u*244|0)+200>>2]+ +i[p+(u*244|0)+232>>2],e[C+284>>2]=(e[C+284>>2]|0)+1,i[C+352>>2]=g,i[C+356>>2]=w,i[C+360>>2]=M,i[C+364>>2]=0,e[o+44>>2]|0&&(p=e[t+16>>2]|0,C=e[p+(u*244|0)+240>>2]|0,l=p+(u*244|0)|0,e[C+284>>2]=(e[C+284>>2]|0)+1,e[C+4>>2]=e[l>>2],e[C+4+4>>2]=e[l+4>>2],e[C+4+8>>2]=e[l+8>>2],e[C+4+12>>2]=e[l+12>>2],l=p+(u*244|0)+16|0,e[C+20>>2]=e[l>>2],e[C+20+4>>2]=e[l+4>>2],e[C+20+8>>2]=e[l+8>>2],e[C+20+12>>2]=e[l+12>>2],l=p+(u*244|0)+32|0,e[C+36>>2]=e[l>>2],e[C+36+4>>2]=e[l+4>>2],e[C+36+8>>2]=e[l+8>>2],e[C+36+12>>2]=e[l+12>>2],p=p+(u*244|0)+48|0,e[C+52>>2]=e[p>>2],e[C+52+4>>2]=e[p+4>>2],e[C+52+8>>2]=e[p+8>>2],e[C+52+12>>2]=e[p+12>>2]),e[(e[(e[t+16>>2]|0)+(u*244|0)+240>>2]|0)+212>>2]=-1,n=e[t+8>>2]|0),u=u+1|0;while((u|0)<(n|0))}return(e[t+28>>2]|0)<0&&(e[t+32>>2]|0)<0&&(n=e[t+36>>2]|0,n|0&&(R[t+40>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+36>>2]=0),R[t+40>>0]=1,e[t+36>>2]=0,e[t+32>>2]=0),e[t+28>>2]=0,(e[t+48>>2]|0)<0&&(e[t+52>>2]|0)<0&&(n=e[t+56>>2]|0,n|0&&(R[t+60>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+56>>2]=0),R[t+60>>0]=1,e[t+56>>2]=0,e[t+52>>2]=0),e[t+48>>2]=0,(e[t+68>>2]|0)<0&&(e[t+72>>2]|0)<0&&(n=e[t+76>>2]|0,n|0&&(R[t+80>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+76>>2]=0),R[t+80>>0]=1,e[t+76>>2]=0,e[t+72>>2]=0),e[t+68>>2]=0,(e[t+88>>2]|0)<0&&(e[t+92>>2]|0)<0&&(n=e[t+96>>2]|0,n|0&&(R[t+100>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+96>>2]=0),R[t+100>>0]=1,e[t+96>>2]=0,e[t+92>>2]=0),e[t+88>>2]=0,(e[t+8>>2]|0)>=0||(e[t+12>>2]|0)>=0?(e[t+8>>2]=0,H=S,0):(n=e[t+16>>2]|0,n|0&&(R[t+20>>0]|0&&(e[5638]=(e[5638]|0)+1,ye(e[n+-4>>2]|0)),e[t+16>>2]=0),R[t+20>>0]=1,e[t+16>>2]=0,e[t+12>>2]=0,e[t+8>>2]=0,H=S,0)}function rse(t,n,s,o,a,l,u,p,h,d){t=t|0,n=n|0,s=s|0,o=o|0,a=a|0,l=l|0,u=u|0,p=p|0,h=h|0,d=d|0;var m=0,g=0,S=0,C=0,w=0,M=0,E=0,D=0;if(g=e[t+48>>2]|0,C=e[t+28>>2]|0,w=e[t+68>>2]|0,e[h+64>>2]&1|0){if((g|0)>0){o=e[t+136>>2]|0,d=e[t+200>>2]|0,S=0;do a=o+(S<<2)|0,l=e[a>>2]|0,S=S+1|0,d=(Rt(d,1664525)|0)+1013904223|0,S>>>0<65537?(s=d>>>16^d,S>>>0<257&&(S>>>0<17?(s=(s>>>8^s)>>>4^(s>>>8^s),S>>>0<5&&(S>>>0<3?s=(s>>>2^s)>>>1^(s>>>2^s):s=s>>>2^s)):s=s>>>8^s)):s=d,s=o+(((s>>>0)%(S>>>0)|0)<<2)|0,e[a>>2]=e[s>>2],e[s>>2]=l;while((S|0)!=(g|0));e[t+200>>2]=d}if((e[h+20>>2]|0)>(n|0)){if((C|0)>0){o=e[t+116>>2]|0,d=e[t+200>>2]|0,g=0;do a=o+(g<<2)|0,l=e[a>>2]|0,g=g+1|0,d=(Rt(d,1664525)|0)+1013904223|0,g>>>0<65537?(s=d>>>16^d,g>>>0<257&&(g>>>0<17?(s=(s>>>8^s)>>>4^(s>>>8^s),g>>>0<5&&(g>>>0<3?s=(s>>>2^s)>>>1^(s>>>2^s):s=s>>>2^s)):s=s>>>8^s)):s=d,S=o+(((s>>>0)%(g>>>0)|0)<<2)|0,e[a>>2]=e[S>>2],e[S>>2]=l;while((g|0)!=(C|0));e[t+200>>2]=d}if((w|0)>0){o=e[t+156>>2]|0,d=e[t+200>>2]|0,g=0;do a=o+(g<<2)|0,l=e[a>>2]|0,g=g+1|0,d=(Rt(d,1664525)|0)+1013904223|0,g>>>0<65537?(s=d>>>16^d,g>>>0<257&&(g>>>0<17?(s=(s>>>8^s)>>>4^(s>>>8^s),g>>>0<5&&(g>>>0<3?s=(s>>>2^s)>>>1^(s>>>2^s):s=s>>>2^s)):s=s>>>8^s)):s=d,C=o+(((s>>>0)%(g>>>0)|0)<<2)|0,e[a>>2]=e[C>>2],e[C>>2]=l;while((g|0)!=(w|0));e[t+200>>2]=d}}}if(s=e[t+48>>2]|0,!(e[h+64>>2]&256)){if((s|0)>0){l=0;do o=e[(e[t+136>>2]|0)+(l<<2)>>2]|0,a=e[t+56>>2]|0,(e[a+(o*152|0)+136>>2]|0)>(n|0)&&(s=e[t+16>>2]|0,+r1(s+((e[a+(o*152|0)+144>>2]|0)*244|0)|0,s+((e[a+(o*152|0)+148>>2]|0)*244|0)|0,a+(o*152|0)|0),s=e[t+48>>2]|0),l=l+1|0;while((l|0)<(s|0))}if((e[h+20>>2]|0)<=(n|0))return 0;if((p|0)>0){a=0;do s=u+(a<<2)|0,o=e[s>>2]|0,R[o+20>>0]|0&&(n=n1(t,e[o+28>>2]|0,+i[h+12>>2])|0,E=n1(t,e[(e[s>>2]|0)+32>>2]|0,+i[h+12>>2])|0,M=e[t+16>>2]|0,w=e[s>>2]|0,N2[e[(e[w>>2]|0)+24>>2]&15](w,M+(n*244|0)|0,M+(E*244|0)|0,+i[h+12>>2])),a=a+1|0;while((a|0)!=(p|0))}if(s=e[t+28>>2]|0,(s|0)>0){o=0;do h=e[(e[t+116>>2]|0)+(o<<2)>>2]|0,p=e[t+36>>2]|0,u=e[t+16>>2]|0,+Jf(u+((e[p+(h*152|0)+144>>2]|0)*244|0)|0,u+((e[p+(h*152|0)+148>>2]|0)*244|0)|0,p+(h*152|0)|0),o=o+1|0;while((o|0)!=(s|0))}if(s=e[t+68>>2]|0,(s|0)>0){l=0;do o=e[(e[t+156>>2]|0)+(l<<2)>>2]|0,a=e[t+76>>2]|0,m=+i[(e[t+36>>2]|0)+((e[a+(o*152|0)+140>>2]|0)*152|0)+100>>2],m>0&&(m=m*+i[a+(o*152|0)+104>>2],i[a+(o*152|0)+120>>2]=-m,i[a+(o*152|0)+124>>2]=m,h=e[t+16>>2]|0,+r1(h+((e[a+(o*152|0)+144>>2]|0)*244|0)|0,h+((e[a+(o*152|0)+148>>2]|0)*244|0)|0,a+(o*152|0)|0)),l=l+1|0;while((l|0)!=(s|0))}if(s=e[t+88>>2]|0,(s|0)<=0)return 0;a=0;do o=e[t+96>>2]|0,m=+i[(e[t+36>>2]|0)+((e[o+(a*152|0)+140>>2]|0)*152|0)+100>>2],m>0&&(D=+i[o+(a*152|0)+104>>2],m=m*D>D?D:m*D,i[o+(a*152|0)+120>>2]=-m,i[o+(a*152|0)+124>>2]=m,h=e[t+16>>2]|0,+r1(h+((e[o+(a*152|0)+144>>2]|0)*244|0)|0,h+((e[o+(a*152|0)+148>>2]|0)*244|0)|0,o+(a*152|0)|0)),a=a+1|0;while((a|0)!=(s|0));return 0}if((s|0)>0){l=0;do o=e[(e[t+136>>2]|0)+(l<<2)>>2]|0,a=e[t+56>>2]|0,(e[a+(o*152|0)+136>>2]|0)>(n|0)&&(s=e[t+16>>2]|0,+r1(s+((e[a+(o*152|0)+144>>2]|0)*244|0)|0,s+((e[a+(o*152|0)+148>>2]|0)*244|0)|0,a+(o*152|0)|0),s=e[t+48>>2]|0),l=l+1|0;while((l|0)<(s|0))}if((e[h+20>>2]|0)<=(n|0))return 0;if((p|0)>0){a=0;do s=u+(a<<2)|0,o=e[s>>2]|0,R[o+20>>0]|0&&(C=n1(t,e[o+28>>2]|0,+i[h+12>>2])|0,n=n1(t,e[(e[s>>2]|0)+32>>2]|0,+i[h+12>>2])|0,w=e[t+16>>2]|0,S=e[s>>2]|0,N2[e[(e[S>>2]|0)+24>>2]&15](S,w+(C*244|0)|0,w+(n*244|0)|0,+i[h+12>>2])),a=a+1|0;while((a|0)!=(p|0))}if(s=e[h+64>>2]|0,g=e[t+28>>2]|0,s&512|0){if((g|0)<=0)return 0;d=0;do o=e[(e[t+116>>2]|0)+(d<<2)>>2]|0,a=e[t+36>>2]|0,l=e[t+16>>2]|0,+Jf(l+((e[a+(o*152|0)+144>>2]|0)*244|0)|0,l+((e[a+(o*152|0)+148>>2]|0)*244|0)|0,a+(o*152|0)|0),m=+i[a+(o*152|0)+100>>2],o=Rt(d,(s>>>4&1)+1|0)|0,a=e[(e[t+156>>2]|0)+(o<<2)>>2]|0,l=e[t+76>>2]|0,m>0&&(D=m*+i[l+(a*152|0)+104>>2],i[l+(a*152|0)+120>>2]=-D,i[l+(a*152|0)+124>>2]=D,p=e[t+16>>2]|0,+r1(p+((e[l+(a*152|0)+144>>2]|0)*244|0)|0,p+((e[l+(a*152|0)+148>>2]|0)*244|0)|0,l+(a*152|0)|0)),e[h+64>>2]&16|0&&(M=e[(e[t+156>>2]|0)+(o+1<<2)>>2]|0,E=e[t+76>>2]|0,m>0)&&(D=m*+i[E+(M*152|0)+104>>2],i[E+(M*152|0)+120>>2]=-D,i[E+(M*152|0)+124>>2]=D,p=e[t+16>>2]|0,+r1(p+((e[E+(M*152|0)+144>>2]|0)*244|0)|0,p+((e[E+(M*152|0)+148>>2]|0)*244|0)|0,E+(M*152|0)|0)),d=d+1|0;while((d|0)!=(g|0));return 0}if((g|0)>0){s=0;do h=e[(e[t+116>>2]|0)+(s<<2)>>2]|0,p=e[t+36>>2]|0,u=e[t+16>>2]|0,+Jf(u+((e[p+(h*152|0)+144>>2]|0)*244|0)|0,u+((e[p+(h*152|0)+148>>2]|0)*244|0)|0,p+(h*152|0)|0),s=s+1|0;while((s|0)!=(g|0))}if(s=e[t+68>>2]|0,(s|0)>0){l=0;do o=e[(e[t+156>>2]|0)+(l<<2)>>2]|0,a=e[t+76>>2]|0,m=+i[(e[t+36>>2]|0)+((e[a+(o*152|0)+140>>2]|0)*152|0)+100>>2],m>0&&(D=m*+i[a+(o*152|0)+104>>2],i[a+(o*152|0)+120>>2]=-D,i[a+(o*152|0)+124>>2]=D,h=e[t+16>>2]|0,+r1(h+((e[a+(o*152|0)+144>>2]|0)*244|0)|0,h+((e[a+(o*152|0)+148>>2]|0)*244|0)|0,a+(o*152|0)|0)),l=l+1|0;while((l|0)!=(s|0))}if(s=e[t+88>>2]|0,(s|0)<=0)return 0;a=0;do o=e[t+96>>2]|0,m=+i[(e[t+36>>2]|0)+((e[o+(a*152|0)+140>>2]|0)*152|0)+100>>2],m>0&&(D=+i[o+(a*152|0)+104>>2],D=m*D>D?D:m*D,i[o+(a*152|0)+120>>2]=-D,i[o+(a*152|0)+124>>2]=D,h=e[t+16>>2]|0,+r1(h+((e[o+(a*152|0)+144>>2]|0)*244|0)|0,h+((e[o+(a*152|0)+148>>2]|0)*244|0)|0,o+(a*152|0)|0)),a=a+1|0;while((a|0)!=(s|0));return 0}function r1(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0;l=+i[s+100>>2],h=+i[s+16>>2],u=+i[s+20>>2],p=+i[s+24>>2],o=+i[s+108>>2],o=+i[s+112>>2]-l*+i[s+116>>2]-(h*+i[t+64>>2]+u*+i[t+68>>2]+p*+i[t+72>>2]+(+i[s>>2]*+i[t+80>>2]+ +i[s+4>>2]*+i[t+84>>2]+ +i[s+8>>2]*+i[t+88>>2]))*o-o*(+i[s+48>>2]*+i[n+64>>2]+ +i[s+52>>2]*+i[n+68>>2]+ +i[s+56>>2]*+i[n+72>>2]+(+i[s+32>>2]*+i[n+80>>2]+ +i[s+36>>2]*+i[n+84>>2]+ +i[s+40>>2]*+i[n+88>>2])),a=+i[s+120>>2];do if(l+o<a)i[s+100>>2]=a,o=a-l;else if(a=+i[s+124>>2],l+o>a){i[s+100>>2]=a,o=a-l;break}else{i[s+100>>2]=l+o;break}while(!1);return e[t+240>>2]|0&&(u=o*(u*+i[t+132>>2])*+i[t+116>>2],p=o*(p*+i[t+136>>2])*+i[t+120>>2],i[t+64>>2]=+i[t+112>>2]*(o*(h*+i[t+128>>2]))+ +i[t+64>>2],i[t+68>>2]=u+ +i[t+68>>2],i[t+72>>2]=p+ +i[t+72>>2],p=o*+i[t+100>>2]*+i[s+68>>2],h=o*+i[t+104>>2]*+i[s+72>>2],i[t+80>>2]=o*+i[t+96>>2]*+i[s+64>>2]+ +i[t+80>>2],i[t+84>>2]=p+ +i[t+84>>2],i[t+88>>2]=h+ +i[t+88>>2]),e[n+240>>2]|0&&(h=o*(+i[s+52>>2]*+i[n+132>>2])*+i[n+116>>2],p=o*(+i[s+56>>2]*+i[n+136>>2])*+i[n+120>>2],i[n+64>>2]=+i[n+112>>2]*(o*(+i[s+48>>2]*+i[n+128>>2]))+ +i[n+64>>2],i[n+68>>2]=h+ +i[n+68>>2],i[n+72>>2]=p+ +i[n+72>>2],p=o*+i[n+100>>2]*+i[s+84>>2],h=o*+i[n+104>>2]*+i[s+88>>2],i[n+80>>2]=o*+i[n+96>>2]*+i[s+80>>2]+ +i[n+80>>2],i[n+84>>2]=p+ +i[n+84>>2],i[n+88>>2]=h+ +i[n+88>>2]),+o}function Jf(t,n,s){t=t|0,n=n|0,s=s|0;var o=0,a=0,l=0,u=0,p=0,h=0,d=0;return h=+i[s+100>>2],l=+i[s+16>>2],o=+i[s+20>>2],a=+i[s+24>>2],p=+i[s+108>>2],p=+i[s+112>>2]-h*+i[s+116>>2]-(l*+i[t+64>>2]+o*+i[t+68>>2]+a*+i[t+72>>2]+(+i[s>>2]*+i[t+80>>2]+ +i[s+4>>2]*+i[t+84>>2]+ +i[s+8>>2]*+i[t+88>>2]))*p-p*(+i[s+48>>2]*+i[n+64>>2]+ +i[s+52>>2]*+i[n+68>>2]+ +i[s+56>>2]*+i[n+72>>2]+(+i[s+32>>2]*+i[n+80>>2]+ +i[s+36>>2]*+i[n+84>>2]+ +i[s+40>>2]*+i[n+88>>2])),d=+i[s+120>>2],u=h+p<d?d-h:p,i[s+100>>2]=h+p<d?d:h+p,e[t+240>>2]|0&&(d=u*(o*+i[t+132>>2])*+i[t+116>>2],h=u*(a*+i[t+136>>2])*+i[t+120>>2],i[t+64>>2]=+i[t+112>>2]*(u*(l*+i[t+128>>2]))+ +i[t+64>>2],i[t+68>>2]=d+ +i[t+68>>2],i[t+72>>2]=h+ +i[t+72>>2],h=u*+i[t+100>>2]*+i[s+68>>2],d=u*+i[t+104>>2]*+i[s+72>>2],i[t+80>>2]=u*+i[t+96>>2]*+i[s+64>>2]+ +i[t+80>>2],i[t+84>>2]=h+ +i[t+84>>2],i[t+88>>2]=d+ +i[t+88>>2]),e[n+240>>2]|0&&(d=u*(+i[s+52>>2]*+i[n+132>>2])*+i[n+116>>2],h=u*(+i[s+56>>2]*+i[n+136>>2])*+i[n+120>>2],i[n+64>>2]=+i[n+112>>2]*(u*(+i[s+48>>2]*+i[n+128>>2]))+ +i[n+64>>2],i[n+68>>2]=d+ +i[n+68>>2],i[n+72>>2]=h+ +i[n+72>>2],h=u*+i[n+100>>2]*+i[s+84>>2],d=u*+i[n+104>>2]*+i[s+88>>2],i[n+80>>2]=u*+i[n+96>>2]*+i[s+80>>2]+ +i[n+80>>2],i[n+84>>2]=h+ +i[n+84>>2],i[n+88>>2]=d+ +i[n+88>>2]),+u}var Zi=[jr,Vne,E2e,xre,v6,E6,tQ,g0e,A0e,z0e,xie,Vie,qie,rm,e1,sG,tG,_G,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr,jr],m2=[Pr,hZ,gQ,tne,vne,OQ,cJ,wee,ste,Q$,J$,aY,cY,lY,pY,SV,CV,Pr,Pr,Pr,Pr,Pr,Pr,Pr,Pr,Pr,Pr,Pr,Pr,Pr,Pr,Pr],Vt=[tn,yh,Une,Kne,Zne,Qne,Jne,um,S2e,V2e,T2e,w2e,D2e,L2e,pm,W2e,X2e,$2e,ire,Zf,ure,mre,gre,Sre,Cre,MK,RK,LK,jK,qK,Vf,ZK,QK,JK,C6,bZ,nZ,rZ,aZ,cZ,fZ,_Z,gZ,xZ,AY,yZ,SZ,TZ,MZ,RZ,IZ,LZ,FZ,BZ,GZ,zZ,HZ,jZ,zf,YZ,KZ,D6,eQ,iQ,aQ,m0e,cQ,lQ,$ee,fQ,y0e,C0e,T0e,M0e,R0e,E0e,I0e,F0e,G0e,V0e,K6,j0e,K0e,Z0e,J0e,tie,nie,sie,aie,lie,fie,pie,die,d2e,gie,Sie,Cie,Q6,Mie,J6,Nie,Pie,tm,kie,Oie,Gie,Hie,jie,Yie,Kie,mne,gne,z2e,Mne,bne,DQ,JJ,PQ,qQ,$Q,P6,iJ,pJ,hJ,MJ,EJ,DJ,IJ,B6,QJ,iee,EY,cee,xee,Dee,Fee,Vee,zee,Hee,qee,Yee,tte,ute,fte,NY,bY,_6,VY,HY,jY,ZY,eK,aK,iK,nK,cK,fK,_K,hK,dK,gK,CK,wK,vte,Ste,Lte,bte,Bte,Wte,Hte,Ute,Ote,n0e,r0e,l0e,f0e,e0e,Mre,bre,Dre,Vre,zre,Cm,Kre,Qre,d$,r6,w$,M$,B$,X$,sY,fY,eY,iY,a6,hY,T$,mY,f6,SY,wV,MV,AV,hz,dz,bq,Dq,MP,RP,KO,nG,QO,JO,ZO,aG,cG,uG,HO,YO,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn,tn],Rm=[oV],zt=[h2,jne,Yne,l2e,p2e,h2e,F2e,G2e,R2e,I2e,k2e,rre,cre,lre,pre,hre,vre,NK,bK,zK,XK,KK,eZ,R6,DZ,dZ,wZ,JZ,ZZ,oQ,rQ,S0e,YJ,mQ,tJ,O0e,H0e,vie,Bie,Wie,$ie,Qie,xne,Ene,Nne,kQ,UQ,rJ,_J,mJ,yJ,AJ,bJ,PJ,nee,vee,Tee,pte,PY,LY,FY,BY,zY,WY,p6,Tte,wte,Rte,Ate,Ete,Fte,jte,qte,s0e,gh,_0e,p0e,Rre,Ire,Pre,Wre,Hre,m$,g$,A$,E$,I$,P$,L$,k$,F$,U$,G$,V$,$$,Y$,K$,Z$,oY,uY,_Y,yY,TY,Iq,Pq,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2,h2],Am=[H8,pK,mK,H8],Tt=[Tn,qne,Xne,n2e,r2e,s2e,a2e,_2e,B2e,U2e,K2e,Z2e,Q2e,ere,are,fre,FK,UK,OK,GK,YK,tZ,pQ,dQ,xQ,CQ,wQ,MQ,EQ,q0e,X0e,Y0e,Iie,ene,sne,ane,cne,fne,XY,yne,Cne,BQ,GQ,HQ,XQ,YQ,sJ,aJ,uJ,xJ,vJ,RJ,NJ,LJ,kJ,VJ,zJ,jJ,ree,see,fee,_ee,dee,Cee,Mee,Iee,Bee,rte,hte,mte,gte,kY,UY,MY,YY,JQ,Pte,kte,Kte,zte,c0e,u0e,t0e,Are,Fre,Ure,Xre,Yre,Jre,v$,C$,z$,W$,q$,gY,zO,lG,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn,Tn],Th=[j8,$te,o0e,Tre,Lre,jre,x$,j8],e_=[aV],wh=[cV],q2=[hs,t2e,j2e,hm,AK,w0e,Q0e,eie,iie,rie,oie,cie,uie,_ie,hie,mie,Wee,RV,EP,hs,hs,hs,hs,hs,hs,hs,hs,hs,hs,hs,hs,hs],F2=[_c,hQ,Jie,$Y,FQ,oJ,gJ,Kee,See,nte,dte,_c,_c,_c,_c,_c],t_=[lV,gz],O1=[uV],Mh=[ma,yre,QZ,sQ,x0e,U0e,W0e,yie,zie,Xie,ma,ma,ma,ma,ma,ma],G0=[Un,e2e,f2e,H2e,ore,_re,EK,DK,IK,S6,yQ,$0e,bie,Die,Tne,VQ,fJ,SJ,FJ,Ree,xte,RY,eJ,Zte,ya,X6,i0e,Ere,Bre,$re,S$,xY,AP,WO,jO,F8,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un,Un],Ro=[q8,Wne,b2e,dY,rG,eG,fG,q8],sse=[Ff,h0e,pne,XJ,gee,Ff,Ff,Ff],Ct=[k1,ZQ,_h,Sne,lJ,bee,kee,Gee,ote,k1,k1,k1,k1,k1,k1,k1],Em=[fV,Uf,rh,y6],Nm=[X8,PZ,kZ,X8],bm=[_V],ose=[$8,eee,OJ,$8],Dm=[pV,ise],vc=[Y8,DY,IY,Y8],I0=[Gs,y2e,v2e,Y2e,nre,BK,VK,kK,$K,pZ,AZ,UZ,VZ,WZ,Jee,Dte,H$,j$,nY,EV,mz,Gs,Gs,Gs,Gs,Gs,Gs,Gs,Gs,Gs,Gs,Gs],Ao=[K8,EZ,OZ,Ite,Yte,a0e,wre,kre,qre,y$,tY,rY,NV,r1,Jf,K8],cu=[Z8,Zre,rse,Z8],ase=[hV,Gte],Rh=[Q8,p$,h$,Q8],Ah=[dV,QQ],Eh=[mV],Nh=[J8,vZ,CZ,J8],Im=[gV,nse],bh=[e6,One,C2e,e6],N2=[ga,$Z,D0e,k0e,B0e,Lie,oK,vK,Xte,Vte,ga,ga,ga,ga,ga,ga],f0=[ui,Gne,$ne,i2e,o2e,c2e,u2e,A2e,O2e,M2e,g2e,q2e,J2e,tre,sre,mZ,qZ,XZ,nQ,KQ,KJ,vQ,TQ,AQ,N0e,b0e,P0e,L0e,Tie,Rie,Fie,ine,nne,one,une,hne,JY,Ane,Rne,bQ,IQ,zQ,jQ,CJ,TJ,BJ,UJ,HJ,oee,aee,hee,Aee,Eee,Pee,Uee,Zee,ate,cte,OY,GY,rK,sK,xK,yK,Qte,Nre,Ore,Gre,D$,NP,HK,F1,tee,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui,ui],g2=[xV,yV,XO,$O],rr=[$p,x2e,Cte,Mte,Nte,CY,$p,$p],i_=[vV,b$],Kt=[j0,zne,Hne,N2e,P2e,PK,iZ,uZ,M6,sZ,oZ,lZ,SK,TK,uQ,_Q,SQ,ZJ,RQ,NQ,d0e,v0e,wie,Aie,Zie,rne,lne,_ne,qY,wne,LQ,WQ,nJ,dJ,wJ,ete,GJ,WJ,qJ,uee,pee,mee,lee,yee,Nee,Lee,Oee,jee,Xee,Qee,ite,lte,_te,yte,wY,KY,QY,tK,ese,R$,O$,TV,oG,iG,pG,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0,j0];return{_emscripten_bind_btCylinderShape___destroy___0:dq,_emscripten_bind_btGeneric6DofConstraint_enableFeedback_1:s$,_emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1:GP,_emscripten_bind_btDispatcherInfo_set_m_useContinuous_1:kX,_emscripten_bind_btCollisionObject_isActive_0:pH,_emscripten_bind_btVehicleTuning_set_m_frictionSlip_1:JU,_emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4:Zq,_emscripten_bind_btCapsuleShapeX_getMargin_0:GW,_emscripten_bind_btCompoundShape_getMargin_0:XH,_emscripten_bind_RaycastInfo_set_m_wheelDirectionWS_1:gW,_emscripten_bind_btContactSolverInfo___destroy___0:Fj,_emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0:iz,_emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0:OL,_emscripten_bind_btQuaternion_setX_1:kk,_emscripten_bind_btCylinderShapeZ_getMargin_0:_q,_emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0:CX,_emscripten_bind_btQuaternion_setZ_1:Bk,_emscripten_bind_btCapsuleShapeZ_getMargin_0:qW,_emscripten_bind_btKinematicCharacterController_setMaxSlope_1:rL,_emscripten_bind_btQuadWord_z_0:Nk,_emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0:QU,_emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0:dO,_emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0:mO,_emscripten_bind_btGeneric6DofSpring2Constraint_getBreakingImpulseThreshold_0:DI,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1:mF,_emscripten_bind_RaycastInfo_get_m_wheelAxleWS_0:cW,_emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0:cF,_emscripten_bind_btCollisionDispatcher___destroy___0:iH,_emscripten_bind_btRigidBody_applyCentralImpulse_1:DF,_emscripten_bind_btConvexHullShape_getMargin_0:qj,_emscripten_bind_btDefaultMotionState_getWorldTransform_1:Fq,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1:_X,_emscripten_bind_btRaycastVehicle_getNumWheels_0:qk,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3:hX,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2:pX,_emscripten_bind_btVector3_op_mul_1:yU,_emscripten_bind_btDynamicsWorld_rayTest_3:e$,_emscripten_bind_btRaycastVehicle_updateWheelTransform_2:Jk,_emscripten_bind_btQuadWord_x_0:Ak,_emscripten_bind_btCollisionObject_isKinematicObject_0:hH,_emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1:CO,_emscripten_bind_ConvexResultCallback___destroy___0:Cz,_emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1:QI,_emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1:$V,_emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1:kO,_emscripten_bind_btRigidBody_getCenterOfMassTransform_0:OF,_emscripten_bind_btGhostObject_isKinematicObject_0:fP,_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5:WI,_emscripten_bind_btCapsuleShape___destroy___0:YW,_emscripten_bind_btCollisionObject_activate_1:cH,_emscripten_bind_btCollisionObject_activate_0:aH,_emscripten_bind_btGeneric6DofSpring2Constraint_getRotationalLimitMotor_1:II,_emscripten_bind_btKinematicCharacterController_setUpAxis_1:sL,_emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1:PX,_emscripten_bind_btGeneric6DofSpring2Constraint_setAngularUpperLimit_1:kI,_emscripten_bind_btTranslationalLimitMotor2___destroy___0:KB,_emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1:nH,_emscripten_bind_btVector3_setX_1:CU,_emscripten_bind_btCollisionConfiguration___destroy___0:tH,_emscripten_bind_btCapsuleShapeZ_setMargin_1:$W,_emscripten_bind_btHingeConstraint_enableFeedback_1:UP,_emscripten_bind_btSphereShape___destroy___0:bB,_emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1:a$,_emscripten_bind_btManifoldPoint_set_m_localPointB_1:vL,_emscripten_bind_btVector3_setZ_1:wU,_emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1:oL,_emscripten_bind_btQuaternion_setValue_4:Pk,_emscripten_bind_btDynamicsWorld_getBroadphase_0:YX,_emscripten_bind_LocalShapeInfo___destroy___0:zz,_emscripten_bind_btPoint2PointConstraint_get_m_setting_0:mk,_emscripten_bind_btQuadWord_setY_1:wk,_emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1:MF,_emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0:Bq,_emscripten_bind_btSliderConstraint_btSliderConstraint_5:CB,_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3:Kq,_emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0:BL,_emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0:oX,_emscripten_bind_btCylinderShape_setMargin_1:vq,_emscripten_bind_btCollisionWorld___destroy___0:NH,_emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0:kz,_emscripten_bind_btBoxShape_btBoxShape_1:RW,_emscripten_bind_btPersistentManifold_getBody1_0:ok,_emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1:cz,_emscripten_bind_RaycastInfo_set_m_isInContact_1:hW,_emscripten_bind_btKinematicCharacterController_setGravity_1:tL,_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5:r$,_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3:n$,_emscripten_bind_btQuaternion_setY_1:Fk,_emscripten_bind_btWheelInfo_get_m_rollInfluence_0:pO,_emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1:fU,_emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1:FW,_emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1:gk,_emscripten_bind_btDynamicsWorld_getDispatchInfo_0:KX,_emscripten_bind_btCompoundShape_removeChildShapeByIndex_1:YH,_emscripten_bind_btGeneric6DofSpring2Constraint_enableSpring_2:bI,_emscripten_bind_btVector3_length_0:mU,_emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2:eq,_emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1:Jj,_emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1:YV,_emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1:Jz,_emscripten_bind_btBoxShape_getMargin_0:EW,_emscripten_bind_btPairCachingGhostObject___destroy___0:LL,_emscripten_bind_btPairCachingGhostObject_activate_0:kL,_emscripten_bind_btPairCachingGhostObject_activate_1:FL,_emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0:Bj,_emscripten_bind_btPairCachingGhostObject_forceActivationState_1:UL,_emscripten_bind_btDefaultMotionState___destroy___0:Eq,_emscripten_bind_btDispatcherInfo_get_m_stepCount_0:SX,_emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1:vF,_emscripten_bind_btQuadWord_setW_1:Ck,_emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0:uF,_emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2:UW,_emscripten_bind_LocalShapeInfo_set_m_shapePart_1:jz,_emscripten_bind_btRigidBody_setLinearFactor_1:sB,_emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1:FX,_emscripten_bind_btWheelInfo_get_m_engineForce_0:cO,_emscripten_bind_btRaycastVehicle_setSteeringValue_2:Qk,_emscripten_enum_RotateOrder_RO_YXZ:UO,_emscripten_bind_btPoint2PointConstraint___destroy___0:lk,_emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1:c$,_emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2:$q,_emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1:Xq,_emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1:SF,_malloc:Xe,_emscripten_bind_btDispatcherInfo_get_m_useEpa_0:RX,_memmove:Xp,_emscripten_bind_btTransform_btTransform_2:WB,_emscripten_bind_btTransform_btTransform_0:zB,_emscripten_bind_btVector3_op_sub_1:vU,_emscripten_bind_btWheelInfo_set_m_wheelsRadius_1:LO,_emscripten_bind_btDispatcherInfo_set_m_enableSPU_1:bX,_emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1:IO,_emscripten_bind_btCollisionObject_setActivationState_1:dH,_emscripten_bind_btPersistentManifold___destroy___0:nk,_emscripten_bind_btConstraintSetting_get_m_impulseClamp_0:bj,_emscripten_bind_btCylinderShapeZ___destroy___0:lq,_emscripten_bind_btMatrix3x3___destroy___0:wL,_emscripten_bind_ConvexResultCallback_hasHit_0:Rz,_emscripten_bind_btCollisionShape_calculateLocalInertia_2:AH,_emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1:YI,_emscripten_bind_btCollisionWorld_convexSweepTest_5:kH,_emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1:uz,_emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2:OW,_emscripten_bind_btConstraintSetting_set_m_damping_1:Ij,_emscripten_bind_btVehicleRaycaster___destroy___0:jU,_emscripten_bind_btRigidBody_setCcdMotionThreshold_1:ZF,_emscripten_bind_btConvexHullShape_setMargin_1:$j,_emscripten_bind_btRigidBody_applyForce_2:IF,_emscripten_bind_btConeShapeZ_calculateLocalInertia_2:aj,_emscripten_bind_btConstraintSetting_set_m_tau_1:Lj,_emscripten_bind_btConvexHullShape_calculateLocalInertia_2:jj,_emscripten_bind_RaycastInfo_get_m_contactPointWS_0:nW,_emscripten_bind_btSphereShape_calculateLocalInertia_2:IB,_emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0:aO,_emscripten_bind_btDynamicsWorld_contactTest_2:XX,_emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0:rz,_emscripten_bind_btGhostObject_setFriction_1:yP,_emscripten_bind_btCollisionWorld_rayTest_3:GH,_emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1:QF,_emscripten_bind_btCylinderShapeZ_setMargin_1:hq,_emscripten_bind_btRigidBody_setFriction_1:rB,_emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1:Gz,_emscripten_bind_btGhostObject_setWorldTransform_1:CP,_emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1:uX,_emscripten_bind_btTranslationalLimitMotor2_set_m_currentLinearDiff_1:QB,_emscripten_bind_btConvexHullShape___destroy___0:Vj,_emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0:tX,_emscripten_bind_btVector4_setX_1:UU,_emscripten_bind_btKinematicCharacterController_jump_0:KP,_emscripten_bind_btWheelInfo_set_m_raycastInfo_1:AO,_emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1:Tj,_emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1:iq,_emscripten_bind_btRigidBody_upcast_1:pB,_emscripten_bind_btCollisionObject_getWorldTransform_0:_H,_emscripten_bind_btVector4_setZ_1:GU,_emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1:TL,___cxa_can_catch:hG,_emscripten_bind_btTransform_getBasis_0:HB,_emscripten_bind_btPairCachingGhostObject_setFriction_1:JL,_emscripten_bind_btManifoldPoint___destroy___0:uL,_emscripten_bind_btDispatcherInfo_set_m_useEpa_1:BX,_emscripten_bind_btCollisionDispatcher_getNumManifolds_0:sH,_emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1:SO,_emscripten_bind_ClosestRayResultCallback___destroy___0:ZV,_emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2:JI,_emscripten_bind_btCylinderShapeX_setMargin_1:cq,_emscripten_bind_btQuadWord_w_0:Rk,_emscripten_bind_btGhostObject_setCcdMotionThreshold_1:hP,_emscripten_bind_btDiscreteDynamicsWorld_contactTest_2:Jq,_emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_3:AI,_emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2:kW,_emscripten_bind_btCompoundShape_getNumChildShapes_0:$H,_emscripten_bind_btGhostObject_btGhostObject_0:nP,_emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2:PV,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1:dF,_emscripten_bind_btManifoldPoint_set_m_localPointA_1:yL,_emscripten_bind_LocalConvexResult___destroy___0:Dz,_emscripten_bind_btVector3_dot_1:dU,_emscripten_bind_btVector4_op_add_1:LU,_emscripten_bind_btWheelInfo___destroy___0:sO,_emscripten_bind_btTransform_setRotation_1:YB,_emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0:VL,_emscripten_bind_btPoint2PointConstraint_enableFeedback_1:_k,_emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1:oz,_emscripten_bind_btAxisSweep3_btAxisSweep3_2:SW,_emscripten_bind_btAxisSweep3_btAxisSweep3_3:CW,_emscripten_bind_btDynamicsWorld___destroy___0:VX,_emscripten_bind_btVector3_setY_1:TU,_emscripten_bind_btAxisSweep3_btAxisSweep3_4:TW,_emscripten_bind_btAxisSweep3_btAxisSweep3_5:wW,_emscripten_bind_btQuadWord_setX_1:Tk,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0:aF,_emscripten_bind_btGhostObject_isActive_0:uP,_emscripten_bind_btOverlappingPairCache___destroy___0:DL,_emscripten_bind_btVector3_normalize_0:gU,_emscripten_bind_btConstraintSetting___destroy___0:Aj,_emscripten_bind_RayResultCallback___destroy___0:Xz,_emscripten_bind_RaycastInfo_get_m_contactNormalWS_0:iW,_emscripten_bind_btTranslationalLimitMotor2_get_m_currentLinearDiff_0:ZB,_emscripten_bind_btPersistentManifold_getBody0_0:sk,_emscripten_bind_btConeShapeX_btConeShapeX_2:ij,_emscripten_bind_btQuaternion_z_0:Vk,_emscripten_bind_btConeTwistConstraint_enableFeedback_1:mj,_emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2:UB,_emscripten_bind_btCapsuleShapeZ_setLocalScaling_1:XW,_emscripten_bind_btRigidBody_applyTorque_1:kF,_emscripten_bind_btSliderConstraint_setUpperLinLimit_1:NB,_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2:hj,_emscripten_bind_btConcaveShape___destroy___0:QH,_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4:dj,_emscripten_bind_btQuaternion_x_0:Ok,_emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1:Oz,_emscripten_bind_btConcaveShape_setLocalScaling_1:ej,_emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0:iX,_emscripten_bind_btConeShapeX_setLocalScaling_1:rj,_emscripten_bind_btCylinderShapeZ_setLocalScaling_1:pq,_emscripten_bind_btConvexHullShape_btConvexHullShape_0:Hj,_emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1:MO,_emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1:az,_emscripten_bind_btRotationalLimitMotor2___destroy___0:dB,_emscripten_bind_btGhostObject___destroy___0:eP,_emscripten_bind_btGhostObject_setContactProcessingThreshold_1:xP,_emscripten_bind_btCollisionWorld_getBroadphase_0:FH,_emscripten_bind_btQuaternion___destroy___0:bk,_emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1:rH,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_2:kq,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_0:Nq,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_1:Lq,_pthread_self:gG,_emscripten_bind_btCompoundShape_getChildShape_1:qH,_emscripten_bind_btKinematicCharacterController_canJump_0:qP,_emscripten_bind_btVector4_length_0:IU,_emscripten_bind_btRigidBody_isActive_0:jF,_emscripten_bind_btRaycastVehicle_btRaycastVehicle_3:jk,_emscripten_bind_btMotionState_setWorldTransform_1:bL,_emscripten_bind_btCylinderShape_setLocalScaling_1:yq,_emscripten_bind_btPairCachingGhostObject_getWorldTransform_0:WL,_emscripten_bind_btCompoundShape_calculateLocalInertia_2:jH,_emscripten_bind_btCollisionWorld_getDispatchInfo_0:BH,_emscripten_bind_btRigidBody_setCollisionShape_1:tB,_emscripten_bind_btConeShapeX___destroy___0:tj,_emscripten_bind_btCollisionObject_getCollisionFlags_0:uH,_emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1:DX,_emscripten_bind_btConeTwistConstraint_enableMotor_1:gj,_emscripten_bind_btRaycastVehicle_setCoordinateSystem_3:Zk,_emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4:jP,_emscripten_bind_btPairCachingGhostObject_setRestitution_1:ek,_emscripten_bind_btBroadphaseInterface___destroy___0:DW,_emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0:wB,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1:gF,_emscripten_bind_btCollisionObject_setContactProcessingThreshold_1:SH,_emscripten_bind_btCompoundShape___destroy___0:VH,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0:nF,_emscripten_bind_btCapsuleShapeX_setMargin_1:zW,_emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0:xB,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1:yF,_emscripten_bind_btRigidBody_getCollisionFlags_0:GF,_emscripten_bind_btCollisionShape_setLocalScaling_1:EH,_emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0:kV,_emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0:Iz,_emscripten_bind_btMatrix3x3_setEulerZYX_3:AL,_emscripten_bind_btRigidBody_setRollingFriction_1:uB,_emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0:gX,_emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0:tz,_emscripten_bind_btRigidBody_setMotionState_1:cB,_emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0:Yz,_emscripten_bind_btCollisionWorld_getDispatcher_0:UH,_emscripten_bind_btVector4_dot_1:DU,_emscripten_bind_btCollisionObject_setRollingFriction_1:wH,_emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1:Qz,_emscripten_bind_btTriangleMesh_btTriangleMesh_1:oU,_emscripten_bind_btRotationalLimitMotor2_get_m_currentPosition_0:mB,_i64Subtract:Wi,_emscripten_bind_btCylinderShapeX_getMargin_0:oq,_emscripten_bind_btRigidBody_setDamping_2:nB,_emscripten_bind_btDynamicsWorld_getDispatcher_0:ZX,_emscripten_bind_btGhostObject_setCollisionFlags_1:mP,_emscripten_bind_btMatrix3x3_getRotation_1:ML,_emscripten_bind_btWheelInfo_set_m_engineForce_1:TO,_emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1:wj,_emscripten_bind_btPersistentManifold_getNumContacts_0:ck,_emscripten_bind_btCylinderShapeX_setLocalScaling_1:aq,_emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0:Cq,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0:oF,_emscripten_bind_btCompoundShape_setLocalScaling_1:KH,_emscripten_bind_btOverlappingPairCallback___destroy___0:PL,_emscripten_bind_btDynamicsWorld_convexSweepTest_5:$X,_emscripten_bind_btCylinderShape_calculateLocalInertia_2:gq,_emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1:YL,_emscripten_bind_btRigidBody_getCollisionShape_0:VF,_emscripten_bind_btRigidBody_setContactProcessingThreshold_1:iB,_emscripten_bind_btRigidBody_getLinearVelocity_0:zF,_emscripten_bind_btRigidBody_applyImpulse_2:PF,_emscripten_bind_btConcaveShape_calculateLocalInertia_2:JH,_emscripten_bind_RaycastInfo_get_m_groundObject_0:rW,_emscripten_bind_btRigidBody_setWorldTransform_1:_B,_emscripten_bind_btRigidBody_setAngularVelocity_1:YF,_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3:zI,_emscripten_bind_btConvexShape_setLocalScaling_1:Zj,_emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2:eU,_free:ye,_emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1:QL,_emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1:f$,_emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0:JV,_emscripten_bind_RayResultCallback_hasHit_0:Zz,_bitshift64Shl:O8,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0:rF,_emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0:ZU,_emscripten_bind_btRaycastVehicle_getWheelTransformWS_1:Yk,_emscripten_bind_btQuaternion_normalize_0:Ik,_emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0:OV,_emscripten_bind_btQuadWord_setZ_1:Mk,_emscripten_bind_btConeShapeZ_setLocalScaling_1:cj,_emscripten_bind_btPairCachingGhostObject_setActivationState_1:qL,_emscripten_bind_btGeneric6DofSpringConstraint___destroy___0:VI,_emscripten_bind_btConvexTriangleMeshShape___destroy___0:Qj,_emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1:tO,_emscripten_bind_btGhostObject_setRollingFriction_1:SP,_emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1:uq,_emscripten_bind_btRigidBody_getAngularVelocity_0:UF,_emscripten_bind_btCompoundShape_btCompoundShape_0:WH,_emscripten_bind_btCompoundShape_btCompoundShape_1:HH,_emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1:IL,_emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2:BB,_emscripten_bind_btSphereShape_getMargin_0:PB,_emscripten_bind_btDispatcherInfo_get_m_useContinuous_0:wX,_emscripten_bind_btRigidBody_updateInertiaTensor_0:hB,_emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2:XL,_emscripten_bind_btTransform_setOrigin_1:$B,_emscripten_bind_ClosestRayResultCallback_hasHit_0:sz,_emscripten_bind_btCompoundShape_addChildShape_2:zH,_emscripten_bind_btDispatcher___destroy___0:UX,_emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0:KU,_emscripten_bind_btDiscreteDynamicsWorld___destroy___0:zq,_emscripten_bind_btConvexShape___destroy___0:Yj,_emscripten_bind_btGeneric6DofSpring2Constraint_setLinearLowerLimit_1:UI,_emscripten_bind_btCapsuleShapeX_setLocalScaling_1:VW,_emscripten_bind_btQuadWord_y_0:Ek,_emscripten_bind_btCollisionObject_setRestitution_1:TH,_emscripten_bind_btRigidBody_applyCentralForce_1:bF,_emscripten_bind_LocalConvexResult_get_m_hitFraction_0:Pz,_emscripten_bind_btDispatcherInfo_get_m_enableSPU_0:yX,_emscripten_bind_btQuaternion_w_0:Uk,_emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0:wz,_emscripten_bind_btTransform_getRotation_0:qB,_emscripten_bind_btHingeConstraint_btHingeConstraint_6:kP,_emscripten_bind_btHingeConstraint_btHingeConstraint_7:FP,_emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0:Lz,_emscripten_bind_btHingeConstraint_btHingeConstraint_5:LP,_emscripten_bind_btHingeConstraint_btHingeConstraint_2:DP,_emscripten_bind_btHingeConstraint_btHingeConstraint_3:IP,_emscripten_bind_RaycastInfo___destroy___0:tW,_emscripten_bind_btBoxShape_setMargin_1:bW,_emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0:GV,_emscripten_bind_btMatrix3x3_getRow_1:RL,_emscripten_bind_btTypedConstraint___destroy___0:cU,_emscripten_bind_btCylinderShapeX_btCylinderShapeX_1:rq,_emscripten_enum_RotateOrder_RO_XYZ:FO,_emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1:$I,_emscripten_bind_btConeTwistConstraint_setDamping_1:Sj,_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1:Yq,_bitshift64Ashr:G8,_emscripten_bind_btQuaternion_btQuaternion_4:Dk,_emscripten_bind_btSphereShape_btSphereShape_1:DB,_emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0:vO,_emscripten_bind_btQuaternion_y_0:Gk,_emscripten_bind_btCollisionWorld_addCollisionObject_1:bH,_emscripten_bind_btCollisionWorld_addCollisionObject_2:DH,_emscripten_bind_btCollisionWorld_addCollisionObject_3:IH,_emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1:HV,_emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1:vj,_emscripten_bind_RaycastInfo_get_m_isInContact_0:oW,_emscripten_bind_btGeneric6DofSpring2Constraint_setLinearUpperLimit_1:OI,_emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0:FV,_emscripten_bind_btCapsuleShape_setMargin_1:eH,_emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1:Vq,_emscripten_bind_ConcreteContactResultCallback_addSingleResult_7:yz,_emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0:xL,_emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0:yB,_emscripten_bind_btActionInterface___destroy___0:yW,_emscripten_bind_btDefaultMotionState_setWorldTransform_1:Uq,_emscripten_bind_btCollisionWorld_contactTest_2:LH,_emscripten_bind_RayResultCallback_get_m_collisionObject_0:Kz,_emscripten_bind_btPoint2PointConstraint_getPivotInA_0:hk,_emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0:UV,_emscripten_bind_btVector4_setY_1:OU,_emscripten_bind_btCompoundShape_setMargin_1:ZH,_emscripten_bind_btGhostObject_setRestitution_1:vP,_emscripten_bind_btDynamicsWorld_addCollisionObject_1:WX,_emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0:BV,_emscripten_bind_btDynamicsWorld_addCollisionObject_3:jX,_emscripten_bind_btDynamicsWorld_addCollisionObject_2:HX,_emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0:nX,_emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0:fO,_emscripten_bind_btVector4_op_mul_1:kU,_emscripten_bind_btCylinderShape_btCylinderShape_1:mq,_emscripten_bind_btRotationalLimitMotor2_set_m_currentPosition_1:gB,_emscripten_bind_btVector3___destroy___0:_U,_bitshift64Lshr:Lf,_emscripten_bind_btRigidBody_setAngularFactor_1:$F,_emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2:fq,_emscripten_bind_btWheelInfo_set_m_steering_1:NO,_emscripten_bind_btMotionState_getWorldTransform_1:NL,_emscripten_bind_btDynamicsWorld_getSolverInfo_0:JX,_emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1:NX,_emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1:EX,_emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_5:EI,_emscripten_bind_btVector3_x_0:MU,___cxa_is_pointer_type:dG,_emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3:tF,_emscripten_bind_btCollisionObject_getCollisionShape_0:fH,_emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4:iF,_emscripten_bind_btBoxShape_calculateLocalInertia_2:AW,_emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1:RF,_emscripten_bind_btVector3_z_0:AU,_emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1:Oq,_emscripten_bind_ClosestConvexResultCallback___destroy___0:LV,_emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0:Rq,_emscripten_bind_btCollisionObject_setFriction_1:CH,_emscripten_bind_btDefaultCollisionConfiguration___destroy___0:Tq,_emscripten_bind_btRigidBody_setMassProps_2:aB,_emscripten_bind_btVector3_setValue_3:SU,_emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1:$L,_emscripten_bind_RaycastInfo_get_m_suspensionLength_0:aW,_emscripten_bind_btGhostObject_getCollisionFlags_0:sP,_emscripten_bind_btCapsuleShapeX___destroy___0:BW,_emscripten_bind_btHingeConstraint_setLimit_4:VP,_emscripten_bind_btHingeConstraint_setLimit_5:zP,_emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0:xO,_emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1:RO,_emscripten_bind_btConeShape_setLocalScaling_1:_j,_emscripten_bind_btKinematicCharacterController_setJumpSpeed_1:iL,_emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0:uU,_emscripten_bind_btGhostObject_getCollisionShape_0:oP,_emscripten_bind_btCollisionObject_setAnisotropicFriction_2:mH,_emscripten_bind_btBoxShape___destroy___0:MW,_emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0:oO,_emscripten_bind_btPersistentManifold_getContactPoint_1:ak,_emscripten_bind_btVector3_btVector3_0:pU,_emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0:qI,_emscripten_bind_btConeShapeX_calculateLocalInertia_2:nj,_emscripten_bind_RaycastInfo_set_m_groundObject_1:_W,_emscripten_bind_btGhostObject_activate_1:iP,_emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2:jI,_emscripten_bind_btManifoldPoint_getPositionWorldOnB_0:pL,_emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0:gL,_emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1:HI,_emscripten_bind_btSphereShape_setMargin_1:kB,_emscripten_bind_btRigidBodyConstructionInfo___destroy___0:eF,_emscripten_bind_btConeShapeZ_btConeShapeZ_2:oj,_emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1:Oj,_emscripten_bind_btSliderConstraint_setUpperAngLimit_1:EB,_emscripten_bind_btDynamicsWorld_contactPairTest_3:qX,_emscripten_bind_btCollisionWorld_getPairCache_0:OH,_emscripten_bind_btConeTwistConstraint_setMotorTarget_1:Rj,_emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1:qV,_emscripten_bind_btWheelInfo_set_m_rollInfluence_1:EO,_emscripten_bind_btRigidBody_getWorldTransform_0:HF,_emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0:Aq,_emscripten_bind_btGhostObject_forceActivationState_1:rP,_emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0:pz,_emscripten_bind_VoidPtr___destroy___0:xW,_emscripten_bind_btSliderConstraint_setLowerAngLimit_1:RB,_emscripten_bind_btVector4_op_sub_1:FU,_emscripten_bind_RaycastInfo_set_m_contactPointWS_1:fW,_emscripten_bind_btConeShape_btConeShape_2:uj,_emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0:nz,_emscripten_bind_btRaycastVehicle_getRigidBody_0:Xk,_emscripten_enum_RotateOrder_RO_YZX:OO,_emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0:$z,_emscripten_bind_btWheelInfo_get_m_steering_0:hO,_emscripten_bind_btConstraintSetting_get_m_tau_0:Dj,_emscripten_bind_btSliderConstraint___destroy___0:vB,_emscripten_bind_btCollisionObject_setCollisionShape_1:vH,_emscripten_bind_btCollisionShape___destroy___0:RH,_emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0:Tz,_emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0:xX,_emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0:hF,_emscripten_bind_btPairCachingGhostObject_setCollisionShape_1:ZL,_emscripten_bind_btKinematicCharacterController_warp_1:lL,_emscripten_bind_btAxisSweep3___destroy___0:vW,_emscripten_bind_btTriangleMesh___destroy___0:iU,_emscripten_bind_btKinematicCharacterController_preStep_1:JP,_emscripten_bind_btRaycastVehicle_applyEngineForce_2:Hk,_emscripten_bind_btRaycastVehicle_setBrake_2:Kk,_emscripten_bind_ConcreteContactResultCallback___destroy___0:xz,_emscripten_bind_RaycastInfo_set_m_wheelAxleWS_1:mW,_emscripten_bind_btGeneric6DofSpring2Constraint_setAngularLowerLimit_1:LI,_emscripten_bind_btCollisionObject___destroy___0:oH,_emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1:nO,_emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1:wF,_emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1:Mj,_emscripten_bind_btDispatcherInfo_set_m_timeStep_1:LX,_emscripten_bind_btVector3_btVector3_3:hU,_emscripten_bind_RaycastInfo_set_m_contactNormalWS_1:uW,_emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1:CF,_emscripten_bind_btDiscreteDynamicsWorld_getGravity_0:rX,_emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0:VV,_emscripten_bind_btRigidBody_isKinematicObject_0:qF,_emscripten_bind_btGeneric6DofSpring2Constraint_setStiffness_2:GI,_emscripten_bind_RaycastInfo_get_m_hardPointWS_0:sW,_emscripten_bind_btConeTwistConstraint___destroy___0:pj,_emscripten_bind_btQuadWord___destroy___0:Sk,_emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1:fz,_emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2:KI,_emscripten_bind_RaycastInfo_get_m_wheelDirectionWS_0:lW,_emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1:MB,_emscripten_bind_btGhostObject_setAnisotropicFriction_2:pP,_emscripten_bind_btConstraintSolver___destroy___0:kj,_emscripten_bind_btDbvtBroadphase___destroy___0:Sq,_emscripten_bind_btCapsuleShape_btCapsuleShape_2:KW,_emscripten_bind_btTypedConstraint_enableFeedback_1:lU,_emscripten_bind_btGhostObject_activate_0:tP,_emscripten_bind_btCapsuleShape_setLocalScaling_1:JW,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0:sF,_emscripten_bind_btRigidBody_setAnisotropicFriction_2:KF,_emscripten_bind_btTriangleMeshShape_setLocalScaling_1:tU,_emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1:Az,_emscripten_bind_btVector3_op_add_1:xU,_emscripten_bind_btPersistentManifold_btPersistentManifold_0:rk,_emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0:Mz,_emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2:KV,_emscripten_bind_btVector4___destroy___0:EU,_emscripten_bind_btPairCachingGhostObject_isKinematicObject_0:jL,_emscripten_bind_btConstraintSetting_get_m_damping_0:Nj,_i64Add:$t,_emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1:Gj,_emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1:eO,_emscripten_bind_btCollisionObject_setCcdMotionThreshold_1:gH,_emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0:wq,_emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1:Mq,_emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3:HP,_emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0:lF,_emscripten_bind_btPoint2PointConstraint_getPivotInB_0:dk,_emscripten_bind_btKinematicCharacterController_playerStep_2:QP,_emscripten_bind_btDispatcherInfo___destroy___0:dX,_emscripten_bind_btCapsuleShape_getMargin_0:QW,_emscripten_bind_btCylinderShape_getMargin_0:xq,_emscripten_bind_btStaticPlaneShape_setLocalScaling_1:OB,_emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2:tq,_emscripten_bind_ContactResultCallback_addSingleResult_7:Sz,_emscripten_bind_btGhostObject_getWorldTransform_0:lP,_emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0:sX,_emscripten_bind_LocalConvexResult_set_m_hitFraction_1:Uz,_emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2:jW,_emscripten_bind_btDispatcherInfo_get_m_timeStep_0:TX,_emscripten_bind_btWheelInfo_get_m_frictionSlip_0:lO,_emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1:iO,_emscripten_bind_btConstraintSetting_set_m_impulseClamp_1:Pj,_emscripten_bind_btMotionState___destroy___0:EL,_emscripten_bind_btVector4_z_0:HU,_emscripten_bind_btCollisionObject_setCollisionFlags_1:yH,_emscripten_bind_btGeneric6DofSpring2Constraint_getTranslationalLimitMotor_0:PI,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1:Hq,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2:jq,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3:qq,_emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1:DO,_emscripten_bind_RaycastInfo_set_m_suspensionLength_1:dW,_emscripten_bind_btDispatcher_getManifoldByIndexInternal_1:OX,_emscripten_bind_btVector4_setValue_4:BU,_emscripten_bind_btVector4_normalize_0:PU,_emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1:qz,_emscripten_bind_btPairCachingGhostObject_setWorldTransform_1:ik,_emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0:OP,_emscripten_bind_btConeTwistConstraint_setAngularOnly_1:yj,_emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1:dP,_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4:fk,_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2:uk,_emscripten_bind_btGhostObject_getNumOverlappingObjects_0:aP,_emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1:Ez,_emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1:zL,_emscripten_bind_btGeneric6DofSpring2Constraint_setDamping_2:BI,_emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1:l$,_emscripten_bind_btPoint2PointConstraint_setPivotA_1:xk,_emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1:XV,_memcpy:wr,_emscripten_bind_btCapsuleShape_calculateLocalInertia_2:ZW,_emscripten_bind_btVector3_y_0:RU,_emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0:$U,_emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2:PW,_emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3:LW,_emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0:Hz,_emscripten_bind_btGhostObject_setCollisionShape_1:gP,_emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1:AX,_emscripten_bind_btQuaternion_setW_1:Lk,_emscripten_bind_btPairCachingGhostObject_setRollingFriction_1:tk,_emscripten_bind_btDiscreteDynamicsWorld_setGravity_1:fX,_emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1:rO,_emscripten_bind_btGeneric6DofSpring2Constraint___destroy___0:_$,_emscripten_bind_btCollisionObject_forceActivationState_1:lH,_emscripten_bind_btKinematicCharacterController_onGround_0:ZP,_emscripten_bind_btRaycastVehicle_getWheelInfo_1:$k,_emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0:o$,_emscripten_bind_btConeTwistConstraint_setLimit_2:Cj,_emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1:jV,_emscripten_bind_btRigidBody___destroy___0:AF,_emscripten_bind_btStridingMeshInterface___destroy___0:GB,_emscripten_bind_btRigidBody_setSleepingThresholds_2:fB,_emscripten_bind_btCollisionObject_setWorldTransform_1:MH,_emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0:Fz,_emscripten_bind_btManifoldPoint_get_m_localPointA_0:hL,_emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0:fF,_emscripten_bind_btGeneric6DofSpring2Constraint_enableFeedback_1:NI,_emscripten_bind_btDispatcher_getNumManifolds_0:GX,_emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0:_F,_emscripten_bind_btRigidBody_activate_1:NF,_emscripten_bind_btRigidBody_activate_0:EF,_emscripten_bind_btRaycastVehicle___destroy___0:zk,_emscripten_bind_btGhostObject_setActivationState_1:_P,_emscripten_bind_btCollisionWorld_contactPairTest_3:PH,_emscripten_bind_btCylinderShapeX___destroy___0:nq,_emscripten_bind_btManifoldPoint_getPositionWorldOnA_0:_L,_emscripten_bind_ContactResultCallback___destroy___0:vz,_emscripten_bind_btDispatcherInfo_set_m_stepCount_1:IX,_emscripten_bind_btVector4_x_0:zU,_emscripten_bind_btConstraintSetting_btConstraintSetting_0:Ej,_emscripten_bind_btRigidBody_getMotionState_0:WF,_emscripten_bind_btKinematicCharacterController_getGhostObject_0:XP,_emscripten_bind_btRigidBody_btRigidBody_1:FF,_emscripten_bind_btTriangleMeshShape___destroy___0:JB,_emscripten_bind_btKinematicCharacterController_setWalkDirection_1:cL,_emscripten_bind_btDynamicsWorld_removeAction_1:t$,_emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0:pF,_emscripten_bind_btTransform_setIdentity_0:XB,_emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1:SL,_emscripten_bind_btKinematicCharacterController_getGravity_0:$P,_emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0:xj,_emscripten_bind_btDiscreteDynamicsWorld_addAction_1:Wq,_emscripten_bind_btHingeConstraint_btHingeConstraint_4:PP,_emscripten_bind_LocalShapeInfo_get_m_shapePart_0:Wz,_emscripten_bind_btConeShape_calculateLocalInertia_2:fj,_emscripten_bind_btCylinderShapeX_calculateLocalInertia_2:sq,_emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1:Nz,_llvm_bswap_i32:Mo,_emscripten_enum_RotateOrder_RO_XZY:BO,_emscripten_bind_btSphereShape_setLocalScaling_1:LB,_emscripten_bind_btVector4_w_0:VU,_emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0:mL,_emscripten_bind_btBvhTriangleMeshShape___destroy___0:IW,_emscripten_bind_LocalConvexResult_LocalConvexResult_5:bz,_emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1:WV,_emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1:lX,_emscripten_bind_btVector4_y_0:WU,_emscripten_bind_btGeneric6DofConstraint___destroy___0:i$,_emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0:YU,_emscripten_bind_btConvexHullShape_addPoint_1:zj,_emscripten_bind_btConvexHullShape_addPoint_2:Wj,_emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0:pk,_emscripten_bind_btTransform_getOrigin_0:jB,_emscripten_enum_RotateOrder_RO_ZYX:VO,_emscripten_bind_btHingeConstraint___destroy___0:bP,_emscripten_bind_btConvexShape_calculateLocalInertia_2:Kj,_memset:ln,_emscripten_bind_btKinematicCharacterController___destroy___0:WP,_emscripten_bind_btConvexHullShape_setLocalScaling_1:Xj,_emscripten_bind_btTriangleMesh_btTriangleMesh_0:sU,_emscripten_bind_btPairCachingGhostObject_getCollisionShape_0:GL,_emscripten_bind_btTriangleMesh_btTriangleMesh_2:aU,_emscripten_bind_btTransform___destroy___0:VB,_emscripten_bind_btWheelInfo_set_m_frictionSlip_1:wO,_emscripten_bind_btHingeConstraint_enableAngularMotor_3:BP,_emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1:CL,_emscripten_bind_btRigidBody_setCenterOfMassTransform_1:JF,_emscripten_bind_btManifoldPoint_get_m_localPointB_0:dL,_emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3:Qq,_emscripten_bind_btSliderConstraint_setLowerLinLimit_1:AB,_emscripten_bind_btPoint2PointConstraint_set_m_setting_1:vk,_emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1:xH,_emscripten_bind_btWheelInfo_get_m_wheelsRadius_0:yO,_emscripten_bind_btRigidBody_setLinearVelocity_1:oB,_emscripten_bind_btVehicleTuning_btVehicleTuning_0:qU,_emscripten_bind_RayResultCallback_set_m_collisionObject_1:eW,_emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1:_z,_emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0:QV,_emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1:PO,_emscripten_bind_btDynamicsWorld_addAction_1:zX,_emscripten_bind_btDiscreteDynamicsWorld_removeAction_1:cX,_emscripten_bind_btDefaultVehicleRaycaster___destroy___0:Gq,_emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1:TF,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1:xF,_emscripten_bind_btKinematicCharacterController_setFallSpeed_1:eL,_emscripten_bind_btRigidBody_setActivationState_1:XF,_emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0:gO,_emscripten_bind_ClosestConvexResultCallback_hasHit_0:zV,_emscripten_bind_btCapsuleShapeZ___destroy___0:WW,_emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0:uO,_emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0:ez,_emscripten_bind_btTriangleMesh_addTriangle_3:nU,_emscripten_bind_btGhostObject_getOverlappingObject_1:cP,_emscripten_bind_btTriangleMesh_addTriangle_4:rU,_emscripten_bind_btRigidBody_applyTorqueImpulse_1:LF,_emscripten_bind_btRigidBody_setCollisionFlags_1:eB,_emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1:bO,_emscripten_bind_btConeShape___destroy___0:lj,_emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2:HW,_emscripten_bind_btGeneric6DofSpring2Constraint_setBreakingImpulseThreshold_1:FI,_emscripten_bind_btSliderConstraint_btSliderConstraint_3:SB,_emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0:mX,_emscripten_bind_RaycastInfo_set_m_hardPointWS_1:pW,_emscripten_bind_btRigidBody_forceActivationState_1:BF,_emscripten_bind_btPoint2PointConstraint_setPivotB_1:yk,_emscripten_bind_btManifoldPoint_getDistance_0:fL,_emscripten_bind_btGhostPairCallback___destroy___0:TP,_emscripten_bind_btKinematicCharacterController_getMaxSlope_0:YP,_emscripten_bind_btSliderConstraint_enableFeedback_1:TB,_emscripten_bind_btRaycastVehicle_addWheel_7:Wk,_emscripten_bind_btPairCachingGhostObject_isActive_0:HL,_emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1:Vz,_emscripten_bind_btStaticPlaneShape___destroy___0:FB,_emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0:MX,_emscripten_bind_btBoxShape_setLocalScaling_1:NW,_emscripten_bind_btConeShapeZ___destroy___0:sj,_emscripten_bind_btDynamicsWorld_getPairCache_0:QX,_emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5:eX,_emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2:aL,_emscripten_bind_btRigidBody_setRestitution_1:lB,_emscripten_bind_btVector4_btVector4_0:NU,_emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0:vX,_emscripten_bind_btVector4_btVector4_4:bU,_emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1:u$,_emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1:ZI,_emscripten_enum_RotateOrder_RO_ZXY:GO,_emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1:Bz,_emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1:KL,_emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1:XI,_emscripten_bind_btDiscreteDynamicsWorld_rayTest_3:aX,_emscripten_bind_btWheelInfo_get_m_raycastInfo_0:_O,_emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0:Uj,_emscripten_bind_btGhostPairCallback_btGhostPairCallback_0:wP,_emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1:nL,_emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1:lz,_emscripten_bind_btVehicleTuning_get_m_frictionSlip_0:XU,__GLOBAL__sub_I_btConeTwistConstraint_cpp:Jte,__GLOBAL__sub_I_btQuickprof_cpp:IV,runPostSets:mG,stackAlloc:Dne,stackSave:Ine,stackRestore:Pne,establishStackSpace:Lne,setThrew:kne,setTempRet0:Fne,getTempRet0:Bne,dynCall_viiiii:yG,dynCall_vid:vG,dynCall_vi:SG,dynCall_viiidii:CG,dynCall_vii:TG,dynCall_iiiiiiiiiii:wG,dynCall_ii:MG,dynCall_viidi:RG,dynCall_viddiii:AG,dynCall_vidii:EG,dynCall_iiiii:NG,dynCall_vidi:bG,dynCall_diiiiiiii:DG,dynCall_viiiiddddiid:IG,dynCall_diiiii:PG,dynCall_iiii:LG,dynCall_viiiiii:kG,dynCall_iiid:FG,dynCall_di:BG,dynCall_iiiiiii:UG,dynCall_diiidii:OG,dynCall_viidii:GG,dynCall_viiiiiii:VG,dynCall_viiiiiiiii:zG,dynCall_viiiiiiiiii:WG,dynCall_iii:HG,dynCall_diii:jG,dynCall_diiiiiiiiii:qG,dynCall_viiiid:XG,dynCall_diiiiiiiii:$G,dynCall_did:YG,dynCall_viiiidddddidi:KG,dynCall_diidii:ZG,dynCall_diiii:QG,dynCall_iiiiiiiiii:JG,dynCall_viiid:eV,dynCall_viii:tV,dynCall_v:iV,dynCall_viid:nV,dynCall_iidid:rV,dynCall_viiii:sV}})(_.asmGlobalArg,_.asmLibraryArg,e0),dv=_._emscripten_bind_btCylinderShape___destroy___0=J._emscripten_bind_btCylinderShape___destroy___0,mv=_._emscripten_bind_btGeneric6DofConstraint_enableFeedback_1=J._emscripten_bind_btGeneric6DofConstraint_enableFeedback_1,gv=_._emscripten_bind_btDispatcherInfo_get_m_enableSPU_0=J._emscripten_bind_btDispatcherInfo_get_m_enableSPU_0,xv=_._emscripten_bind_btDispatcherInfo_set_m_useContinuous_1=J._emscripten_bind_btDispatcherInfo_set_m_useContinuous_1,yv=_._emscripten_bind_btCollisionObject_isActive_0=J._emscripten_bind_btCollisionObject_isActive_0,vv=_._emscripten_bind_btVehicleTuning_set_m_frictionSlip_1=J._emscripten_bind_btVehicleTuning_set_m_frictionSlip_1,Sv=_._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4=J._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4,Cv=_._emscripten_bind_btCapsuleShapeX_getMargin_0=J._emscripten_bind_btCapsuleShapeX_getMargin_0,Tv=_._emscripten_bind_btCompoundShape_getMargin_0=J._emscripten_bind_btCompoundShape_getMargin_0,wv=_._emscripten_bind_RaycastInfo_set_m_wheelDirectionWS_1=J._emscripten_bind_RaycastInfo_set_m_wheelDirectionWS_1,Mv=_._emscripten_bind_btAxisSweep3___destroy___0=J._emscripten_bind_btAxisSweep3___destroy___0,Rv=_._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0=J._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0,Av=_._emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1,Ev=_._emscripten_bind_btQuaternion_setX_1=J._emscripten_bind_btQuaternion_setX_1,Nv=_._emscripten_bind_btCylinderShapeZ_getMargin_0=J._emscripten_bind_btCylinderShapeZ_getMargin_0,bv=_._emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0=J._emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0,Dv=_._emscripten_bind_btQuaternion_setZ_1=J._emscripten_bind_btQuaternion_setZ_1,Iv=_._emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0=J._emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0,Pv=_._emscripten_bind_btKinematicCharacterController_setMaxSlope_1=J._emscripten_bind_btKinematicCharacterController_setMaxSlope_1,Lv=_._emscripten_bind_btQuadWord_z_0=J._emscripten_bind_btQuadWord_z_0,kv=_._emscripten_bind_btTransform_setIdentity_0=J._emscripten_bind_btTransform_setIdentity_0,Fv=_._emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0=J._emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0,Bv=_._emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0=J._emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0,Uv=_._emscripten_bind_btGeneric6DofSpring2Constraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btGeneric6DofSpring2Constraint_getBreakingImpulseThreshold_0,Ov=_._emscripten_bind_btQuaternion_setW_1=J._emscripten_bind_btQuaternion_setW_1,Gv=_._emscripten_bind_RaycastInfo_get_m_wheelAxleWS_0=J._emscripten_bind_RaycastInfo_get_m_wheelAxleWS_0,Vv=_._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0,zv=_._emscripten_bind_btCollisionDispatcher___destroy___0=J._emscripten_bind_btCollisionDispatcher___destroy___0,Wv=_._emscripten_bind_btRigidBody_applyCentralImpulse_1=J._emscripten_bind_btRigidBody_applyCentralImpulse_1,Hv=_._emscripten_bind_btConvexHullShape_getMargin_0=J._emscripten_bind_btConvexHullShape_getMargin_0,jv=_._emscripten_bind_btDefaultMotionState_getWorldTransform_1=J._emscripten_bind_btDefaultMotionState_getWorldTransform_1,qv=_._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1=J._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1,Xv=_._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3=J._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3,$v=_._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2=J._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2,Yv=_._emscripten_bind_btVector3_op_mul_1=J._emscripten_bind_btVector3_op_mul_1,Kv=_._emscripten_bind_btDynamicsWorld_rayTest_3=J._emscripten_bind_btDynamicsWorld_rayTest_3,Zv=_._emscripten_bind_btRaycastVehicle_updateWheelTransform_2=J._emscripten_bind_btRaycastVehicle_updateWheelTransform_2,Qv=_._emscripten_bind_btQuadWord_x_0=J._emscripten_bind_btQuadWord_x_0,Jv=_._emscripten_bind_btCollisionObject_isKinematicObject_0=J._emscripten_bind_btCollisionObject_isKinematicObject_0,e9=_._emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1=J._emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1,t9=_._emscripten_bind_btSphereShape___destroy___0=J._emscripten_bind_btSphereShape___destroy___0,i9=_._emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1=J._emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1,n9=_._emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1=J._emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1,r9=_._emscripten_bind_btRigidBody_getCenterOfMassTransform_0=J._emscripten_bind_btRigidBody_getCenterOfMassTransform_0,s9=_._emscripten_bind_btGhostObject_isKinematicObject_0=J._emscripten_bind_btGhostObject_isKinematicObject_0,o9=_._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5=J._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5,a9=_._emscripten_bind_btCapsuleShape___destroy___0=J._emscripten_bind_btCapsuleShape___destroy___0,c9=_._emscripten_bind_btCollisionObject_activate_1=J._emscripten_bind_btCollisionObject_activate_1,l9=_._emscripten_bind_btCollisionObject_activate_0=J._emscripten_bind_btCollisionObject_activate_0,u9=_._emscripten_bind_btGeneric6DofSpring2Constraint_getRotationalLimitMotor_1=J._emscripten_bind_btGeneric6DofSpring2Constraint_getRotationalLimitMotor_1,f9=_._emscripten_bind_btKinematicCharacterController_setUpAxis_1=J._emscripten_bind_btKinematicCharacterController_setUpAxis_1,_9=_._emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1=J._emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1,p9=_._emscripten_bind_btGeneric6DofSpring2Constraint_setAngularUpperLimit_1=J._emscripten_bind_btGeneric6DofSpring2Constraint_setAngularUpperLimit_1,h9=_._emscripten_bind_btTranslationalLimitMotor2___destroy___0=J._emscripten_bind_btTranslationalLimitMotor2___destroy___0,d9=_._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1=J._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1,m9=_._emscripten_bind_btVector3_setX_1=J._emscripten_bind_btVector3_setX_1,g9=_._emscripten_bind_btCollisionConfiguration___destroy___0=J._emscripten_bind_btCollisionConfiguration___destroy___0,x9=_._emscripten_bind_btCapsuleShapeZ_setMargin_1=J._emscripten_bind_btCapsuleShapeZ_setMargin_1,y9=_._emscripten_bind_btHingeConstraint_enableFeedback_1=J._emscripten_bind_btHingeConstraint_enableFeedback_1,v9=_._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1=J._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1,S9=_._emscripten_bind_btManifoldPoint_set_m_localPointB_1=J._emscripten_bind_btManifoldPoint_set_m_localPointB_1,C9=_._emscripten_bind_btVector3_setZ_1=J._emscripten_bind_btVector3_setZ_1,T9=_._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1=J._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1,w9=_._emscripten_bind_btQuaternion_setValue_4=J._emscripten_bind_btQuaternion_setValue_4,M9=_._emscripten_bind_btDynamicsWorld_getBroadphase_0=J._emscripten_bind_btDynamicsWorld_getBroadphase_0,R9=_._emscripten_bind_LocalShapeInfo___destroy___0=J._emscripten_bind_LocalShapeInfo___destroy___0,A9=_._emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0=J._emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0,E9=_._emscripten_bind_btQuadWord_setY_1=J._emscripten_bind_btQuadWord_setY_1,N9=_._emscripten_bind_btRigidBody_isKinematicObject_0=J._emscripten_bind_btRigidBody_isKinematicObject_0,b9=_._emscripten_bind_ContactResultCallback_addSingleResult_7=J._emscripten_bind_ContactResultCallback_addSingleResult_7,D9=_._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1,I9=_._emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0=J._emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0,P9=_._emscripten_bind_btConeTwistConstraint_setDamping_1=J._emscripten_bind_btConeTwistConstraint_setDamping_1,L9=_._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0=J._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0,k9=_._emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0=J._emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0,F9=_._emscripten_bind_btCylinderShape_setMargin_1=J._emscripten_bind_btCylinderShape_setMargin_1,B9=_._emscripten_bind_btCollisionWorld___destroy___0=J._emscripten_bind_btCollisionWorld___destroy___0,U9=_._emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0=J._emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0,O9=_._emscripten_bind_btBoxShape_btBoxShape_1=J._emscripten_bind_btBoxShape_btBoxShape_1,G9=_._emscripten_bind_btPersistentManifold_getBody1_0=J._emscripten_bind_btPersistentManifold_getBody1_0,V9=_._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1=J._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1,z9=_._emscripten_bind_RaycastInfo_set_m_isInContact_1=J._emscripten_bind_RaycastInfo_set_m_isInContact_1,W9=_._emscripten_bind_btKinematicCharacterController_setGravity_1=J._emscripten_bind_btKinematicCharacterController_setGravity_1,H9=_._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1=J._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1,j9=_._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5=J._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5,q9=_._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3=J._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3,X9=_._emscripten_bind_LocalShapeInfo_get_m_shapePart_0=J._emscripten_bind_LocalShapeInfo_get_m_shapePart_0,$9=_.__GLOBAL__sub_I_btConeTwistConstraint_cpp=J.__GLOBAL__sub_I_btConeTwistConstraint_cpp,Y9=_._emscripten_bind_btWheelInfo_get_m_rollInfluence_0=J._emscripten_bind_btWheelInfo_get_m_rollInfluence_0,K9=_._emscripten_bind_btVector4_setValue_4=J._emscripten_bind_btVector4_setValue_4,Z9=_._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1=J._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1,Q9=_._emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1,J9=_._emscripten_bind_btDynamicsWorld_getDispatchInfo_0=J._emscripten_bind_btDynamicsWorld_getDispatchInfo_0,eS=_._emscripten_bind_btCompoundShape_removeChildShapeByIndex_1=J._emscripten_bind_btCompoundShape_removeChildShapeByIndex_1,tS=_._emscripten_bind_btGeneric6DofSpring2Constraint_enableSpring_2=J._emscripten_bind_btGeneric6DofSpring2Constraint_enableSpring_2,iS=_._emscripten_bind_btVector3_length_0=J._emscripten_bind_btVector3_length_0,nS=_._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2=J._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2,rS=_._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1=J._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1,sS=_._emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1=J._emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1,oS=_._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1=J._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1,aS=_._emscripten_bind_btBoxShape_getMargin_0=J._emscripten_bind_btBoxShape_getMargin_0,cS=_._emscripten_bind_btPairCachingGhostObject___destroy___0=J._emscripten_bind_btPairCachingGhostObject___destroy___0,lS=_._emscripten_bind_btDynamicsWorld_addCollisionObject_3=J._emscripten_bind_btDynamicsWorld_addCollisionObject_3,uS=_._emscripten_bind_btPairCachingGhostObject_activate_0=J._emscripten_bind_btPairCachingGhostObject_activate_0,fS=_._emscripten_bind_btPairCachingGhostObject_activate_1=J._emscripten_bind_btPairCachingGhostObject_activate_1,_S=_._emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0=J._emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0,pS=_._emscripten_bind_btPairCachingGhostObject_forceActivationState_1=J._emscripten_bind_btPairCachingGhostObject_forceActivationState_1,hS=_._emscripten_bind_btDefaultMotionState___destroy___0=J._emscripten_bind_btDefaultMotionState___destroy___0,dS=_._emscripten_bind_btDispatcherInfo_get_m_stepCount_0=J._emscripten_bind_btDispatcherInfo_get_m_stepCount_0,mS=_._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1,gS=_._emscripten_bind_btQuadWord_setW_1=J._emscripten_bind_btQuadWord_setW_1,xS=_._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0,yS=_._emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2=J._emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2,vS=_._emscripten_bind_LocalShapeInfo_set_m_shapePart_1=J._emscripten_bind_LocalShapeInfo_set_m_shapePart_1,SS=_._emscripten_bind_btRigidBody_setLinearFactor_1=J._emscripten_bind_btRigidBody_setLinearFactor_1,CS=_._emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1=J._emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1,TS=_._emscripten_bind_btWheelInfo_get_m_engineForce_0=J._emscripten_bind_btWheelInfo_get_m_engineForce_0,wS=_._emscripten_bind_btRaycastVehicle_setSteeringValue_2=J._emscripten_bind_btRaycastVehicle_setSteeringValue_2,MS=_._emscripten_enum_RotateOrder_RO_YXZ=J._emscripten_enum_RotateOrder_RO_YXZ,RS=_._emscripten_bind_btPoint2PointConstraint___destroy___0=J._emscripten_bind_btPoint2PointConstraint___destroy___0,AS=_._emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1=J._emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1,ES=_._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2=J._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2,NS=_._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1=J._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1,bS=_._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1,$o=_._malloc=J._malloc,DS=_._emscripten_bind_btDispatcherInfo_get_m_useEpa_0=J._emscripten_bind_btDispatcherInfo_get_m_useEpa_0,IS=_._emscripten_bind_btTransform_btTransform_2=J._emscripten_bind_btTransform_btTransform_2,PS=_._emscripten_bind_btTransform_btTransform_0=J._emscripten_bind_btTransform_btTransform_0,LS=_._emscripten_bind_btVector3_op_sub_1=J._emscripten_bind_btVector3_op_sub_1,kS=_._emscripten_bind_btWheelInfo_set_m_wheelsRadius_1=J._emscripten_bind_btWheelInfo_set_m_wheelsRadius_1,BS=_._emscripten_bind_btDispatcherInfo_set_m_enableSPU_1=J._emscripten_bind_btDispatcherInfo_set_m_enableSPU_1,US=_._emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1=J._emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1,OS=_._emscripten_bind_btCollisionObject_setActivationState_1=J._emscripten_bind_btCollisionObject_setActivationState_1,GS=_._emscripten_bind_btPersistentManifold___destroy___0=J._emscripten_bind_btPersistentManifold___destroy___0,VS=_._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0=J._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0,zS=_._emscripten_bind_btCylinderShapeZ___destroy___0=J._emscripten_bind_btCylinderShapeZ___destroy___0,WS=_._emscripten_bind_btMatrix3x3___destroy___0=J._emscripten_bind_btMatrix3x3___destroy___0,HS=_._emscripten_bind_ConvexResultCallback_hasHit_0=J._emscripten_bind_ConvexResultCallback_hasHit_0,jS=_._emscripten_bind_btCollisionShape_calculateLocalInertia_2=J._emscripten_bind_btCollisionShape_calculateLocalInertia_2,qS=_._emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1,XS=_._emscripten_bind_btCollisionWorld_convexSweepTest_5=J._emscripten_bind_btCollisionWorld_convexSweepTest_5,$S=_._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1=J._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1,YS=_._emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2=J._emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2,KS=_._emscripten_bind_btConstraintSetting_set_m_damping_1=J._emscripten_bind_btConstraintSetting_set_m_damping_1,ZS=_._emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1=J._emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1,QS=_._emscripten_bind_btRigidBody_setCcdMotionThreshold_1=J._emscripten_bind_btRigidBody_setCcdMotionThreshold_1,JS=_._emscripten_bind_btConvexHullShape_setMargin_1=J._emscripten_bind_btConvexHullShape_setMargin_1,e7=_._emscripten_bind_btRigidBody_applyForce_2=J._emscripten_bind_btRigidBody_applyForce_2,t7=_._emscripten_bind_btConeShapeZ_calculateLocalInertia_2=J._emscripten_bind_btConeShapeZ_calculateLocalInertia_2,i7=_._emscripten_bind_btConstraintSetting_set_m_tau_1=J._emscripten_bind_btConstraintSetting_set_m_tau_1,n7=_._emscripten_bind_btConvexHullShape_calculateLocalInertia_2=J._emscripten_bind_btConvexHullShape_calculateLocalInertia_2,r7=_._emscripten_bind_RaycastInfo_get_m_contactPointWS_0=J._emscripten_bind_RaycastInfo_get_m_contactPointWS_0,s7=_._emscripten_bind_btSphereShape_calculateLocalInertia_2=J._emscripten_bind_btSphereShape_calculateLocalInertia_2,o7=_._emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1,a7=_._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1=J._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1,c7=_._pthread_self=J._pthread_self,l7=_._emscripten_bind_btGhostObject_setFriction_1=J._emscripten_bind_btGhostObject_setFriction_1,u7=_._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0=J._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0,f7=_._emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1=J._emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1,_7=_._emscripten_bind_btCylinderShapeZ_setMargin_1=J._emscripten_bind_btCylinderShapeZ_setMargin_1,p7=_._emscripten_bind_btRigidBody_setFriction_1=J._emscripten_bind_btRigidBody_setFriction_1,h7=_._emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1=J._emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1,d7=_._emscripten_bind_btGhostObject_setWorldTransform_1=J._emscripten_bind_btGhostObject_setWorldTransform_1,m7=_._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1=J._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1,g7=_._emscripten_bind_btTranslationalLimitMotor2_set_m_currentLinearDiff_1=J._emscripten_bind_btTranslationalLimitMotor2_set_m_currentLinearDiff_1,x7=_._emscripten_bind_btConvexHullShape___destroy___0=J._emscripten_bind_btConvexHullShape___destroy___0,y7=_._emscripten_bind_RaycastInfo_set_m_suspensionLength_1=J._emscripten_bind_RaycastInfo_set_m_suspensionLength_1,v7=_._emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0=J._emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0,S7=_._emscripten_bind_btDiscreteDynamicsWorld_addAction_1=J._emscripten_bind_btDiscreteDynamicsWorld_addAction_1,C7=_._emscripten_bind_btVector4_setX_1=J._emscripten_bind_btVector4_setX_1,T7=_._emscripten_bind_btKinematicCharacterController_jump_0=J._emscripten_bind_btKinematicCharacterController_jump_0,w7=_._emscripten_bind_btWheelInfo_set_m_raycastInfo_1=J._emscripten_bind_btWheelInfo_set_m_raycastInfo_1,M7=_._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1=J._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1,R7=_._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1=J._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1,A7=_._emscripten_bind_btRigidBody_upcast_1=J._emscripten_bind_btRigidBody_upcast_1,E7=_._emscripten_bind_btCollisionObject_getWorldTransform_0=J._emscripten_bind_btCollisionObject_getWorldTransform_0,N7=_._emscripten_bind_btVector4_setZ_1=J._emscripten_bind_btVector4_setZ_1,b7=_._emscripten_bind_btQuadWord_y_0=J._emscripten_bind_btQuadWord_y_0,D7=_._emscripten_bind_btTransform_getBasis_0=J._emscripten_bind_btTransform_getBasis_0,I7=_._emscripten_bind_btPairCachingGhostObject_setFriction_1=J._emscripten_bind_btPairCachingGhostObject_setFriction_1,P7=_._emscripten_bind_btDispatcherInfo_set_m_useEpa_1=J._emscripten_bind_btDispatcherInfo_set_m_useEpa_1,L7=_._emscripten_bind_btCollisionDispatcher_getNumManifolds_0=J._emscripten_bind_btCollisionDispatcher_getNumManifolds_0,k7=_._emscripten_bind_btVehicleRaycaster___destroy___0=J._emscripten_bind_btVehicleRaycaster___destroy___0,F7=_._emscripten_bind_ClosestRayResultCallback___destroy___0=J._emscripten_bind_ClosestRayResultCallback___destroy___0,B7=_._emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0=J._emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0,U7=_._emscripten_bind_btCylinderShapeX_setMargin_1=J._emscripten_bind_btCylinderShapeX_setMargin_1,O7=_._emscripten_bind_btQuadWord_w_0=J._emscripten_bind_btQuadWord_w_0,G7=_._emscripten_bind_btPersistentManifold_getNumContacts_0=J._emscripten_bind_btPersistentManifold_getNumContacts_0,V7=_._emscripten_bind_btDynamicsWorld_contactTest_2=J._emscripten_bind_btDynamicsWorld_contactTest_2,z7=_._emscripten_bind_btDiscreteDynamicsWorld_contactTest_2=J._emscripten_bind_btDiscreteDynamicsWorld_contactTest_2,W7=_._emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_3=J._emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_3,H7=_._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2=J._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2,j7=_._emscripten_bind_btCompoundShape_getNumChildShapes_0=J._emscripten_bind_btCompoundShape_getNumChildShapes_0,q7=_._emscripten_bind_btGhostObject_btGhostObject_0=J._emscripten_bind_btGhostObject_btGhostObject_0,X7=_._emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2=J._emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2,$7=_._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1,Y7=_._emscripten_bind_btManifoldPoint_set_m_localPointA_1=J._emscripten_bind_btManifoldPoint_set_m_localPointA_1,K7=_._emscripten_bind_LocalConvexResult___destroy___0=J._emscripten_bind_LocalConvexResult___destroy___0,Z7=_._emscripten_bind_btVector3_dot_1=J._emscripten_bind_btVector3_dot_1,Q7=_._emscripten_bind_btVector4_op_add_1=J._emscripten_bind_btVector4_op_add_1,J7=_._emscripten_bind_btWheelInfo___destroy___0=J._emscripten_bind_btWheelInfo___destroy___0,eC=_._emscripten_bind_btHingeConstraint_btHingeConstraint_4=J._emscripten_bind_btHingeConstraint_btHingeConstraint_4,tC=_._emscripten_bind_btTransform_setRotation_1=J._emscripten_bind_btTransform_setRotation_1,iC=_._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0=J._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0,nC=_._emscripten_bind_btPoint2PointConstraint_enableFeedback_1=J._emscripten_bind_btPoint2PointConstraint_enableFeedback_1,rC=_._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1=J._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1,sC=_._emscripten_bind_btAxisSweep3_btAxisSweep3_2=J._emscripten_bind_btAxisSweep3_btAxisSweep3_2,oC=_._emscripten_bind_btAxisSweep3_btAxisSweep3_3=J._emscripten_bind_btAxisSweep3_btAxisSweep3_3,aC=_._emscripten_bind_btDynamicsWorld___destroy___0=J._emscripten_bind_btDynamicsWorld___destroy___0,cC=_._emscripten_bind_btVector3_setY_1=J._emscripten_bind_btVector3_setY_1,lC=_._emscripten_bind_btAxisSweep3_btAxisSweep3_4=J._emscripten_bind_btAxisSweep3_btAxisSweep3_4,uC=_._emscripten_bind_btAxisSweep3_btAxisSweep3_5=J._emscripten_bind_btAxisSweep3_btAxisSweep3_5,fC=_._emscripten_bind_btQuadWord_setX_1=J._emscripten_bind_btQuadWord_setX_1,_C=_._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0,pC=_._emscripten_bind_btGhostObject_isActive_0=J._emscripten_bind_btGhostObject_isActive_0,hC=_._emscripten_bind_btOverlappingPairCache___destroy___0=J._emscripten_bind_btOverlappingPairCache___destroy___0,dC=_._emscripten_bind_btVector3_normalize_0=J._emscripten_bind_btVector3_normalize_0,mC=_._emscripten_bind_btConstraintSetting___destroy___0=J._emscripten_bind_btConstraintSetting___destroy___0,gC=_._emscripten_bind_RayResultCallback___destroy___0=J._emscripten_bind_RayResultCallback___destroy___0,xC=_._emscripten_bind_RaycastInfo_get_m_contactNormalWS_0=J._emscripten_bind_RaycastInfo_get_m_contactNormalWS_0,yC=_._emscripten_bind_btTranslationalLimitMotor2_get_m_currentLinearDiff_0=J._emscripten_bind_btTranslationalLimitMotor2_get_m_currentLinearDiff_0,vC=_._emscripten_bind_btPersistentManifold_getBody0_0=J._emscripten_bind_btPersistentManifold_getBody0_0,SC=_._emscripten_bind_btConeShapeX_btConeShapeX_2=J._emscripten_bind_btConeShapeX_btConeShapeX_2,CC=_._emscripten_bind_btConeTwistConstraint_enableFeedback_1=J._emscripten_bind_btConeTwistConstraint_enableFeedback_1,TC=_._emscripten_bind_btCapsuleShapeZ_setLocalScaling_1=J._emscripten_bind_btCapsuleShapeZ_setLocalScaling_1,wC=_._emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0=J._emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0,MC=_._emscripten_bind_btSliderConstraint_setUpperLinLimit_1=J._emscripten_bind_btSliderConstraint_setUpperLinLimit_1,RC=_._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2=J._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2,AC=_._emscripten_bind_btConcaveShape___destroy___0=J._emscripten_bind_btConcaveShape___destroy___0,EC=_._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4=J._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4,NC=_._emscripten_bind_btQuaternion_x_0=J._emscripten_bind_btQuaternion_x_0,bC=_._emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1=J._emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1,DC=_._emscripten_bind_btConcaveShape_setLocalScaling_1=J._emscripten_bind_btConcaveShape_setLocalScaling_1,IC=_._emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0=J._emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0,PC=_._emscripten_bind_btConeShapeX_setLocalScaling_1=J._emscripten_bind_btConeShapeX_setLocalScaling_1,LC=_._emscripten_bind_btGeneric6DofSpring2Constraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btGeneric6DofSpring2Constraint_setBreakingImpulseThreshold_1,kC=_._emscripten_bind_btQuaternion_z_0=J._emscripten_bind_btQuaternion_z_0,FC=_._emscripten_bind_btConvexHullShape_btConvexHullShape_0=J._emscripten_bind_btConvexHullShape_btConvexHullShape_0,BC=_._emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1=J._emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1,UC=_._emscripten_bind_btConstraintSetting_get_m_damping_0=J._emscripten_bind_btConstraintSetting_get_m_damping_0,OC=_._emscripten_bind_btRotationalLimitMotor2___destroy___0=J._emscripten_bind_btRotationalLimitMotor2___destroy___0,GC=_._emscripten_bind_btGhostObject___destroy___0=J._emscripten_bind_btGhostObject___destroy___0,VC=_._emscripten_bind_btGhostObject_setContactProcessingThreshold_1=J._emscripten_bind_btGhostObject_setContactProcessingThreshold_1,zC=_._emscripten_bind_btCollisionWorld_getBroadphase_0=J._emscripten_bind_btCollisionWorld_getBroadphase_0,WC=_._emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1=J._emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1,HC=_._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2=J._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2,jC=_._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0=J._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0,qC=_._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1=J._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1,XC=_._emscripten_bind_btCompoundShape_getChildShape_1=J._emscripten_bind_btCompoundShape_getChildShape_1,$C=_._emscripten_bind_btKinematicCharacterController_canJump_0=J._emscripten_bind_btKinematicCharacterController_canJump_0,YC=_._emscripten_bind_btRigidBody_isActive_0=J._emscripten_bind_btRigidBody_isActive_0,KC=_._emscripten_bind_btRaycastVehicle_btRaycastVehicle_3=J._emscripten_bind_btRaycastVehicle_btRaycastVehicle_3,ZC=_._emscripten_bind_btMotionState_setWorldTransform_1=J._emscripten_bind_btMotionState_setWorldTransform_1,QC=_._emscripten_bind_btCylinderShape_setLocalScaling_1=J._emscripten_bind_btCylinderShape_setLocalScaling_1,JC=_._emscripten_bind_btCollisionWorld_rayTest_3=J._emscripten_bind_btCollisionWorld_rayTest_3,eT=_._emscripten_bind_btCompoundShape_calculateLocalInertia_2=J._emscripten_bind_btCompoundShape_calculateLocalInertia_2,tT=_._emscripten_bind_btCollisionWorld_getDispatchInfo_0=J._emscripten_bind_btCollisionWorld_getDispatchInfo_0,iT=_._emscripten_bind_btRigidBody_setCollisionShape_1=J._emscripten_bind_btRigidBody_setCollisionShape_1,nT=_._emscripten_bind_btConeShapeX___destroy___0=J._emscripten_bind_btConeShapeX___destroy___0,rT=_._emscripten_bind_btCollisionObject_getCollisionFlags_0=J._emscripten_bind_btCollisionObject_getCollisionFlags_0,sT=_._emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1=J._emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1,oT=_._emscripten_bind_btConeTwistConstraint_enableMotor_1=J._emscripten_bind_btConeTwistConstraint_enableMotor_1,aT=_._emscripten_bind_btRaycastVehicle_setCoordinateSystem_3=J._emscripten_bind_btRaycastVehicle_setCoordinateSystem_3,cT=_._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0=J._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0,lT=_._emscripten_bind_btPairCachingGhostObject_setRestitution_1=J._emscripten_bind_btPairCachingGhostObject_setRestitution_1,uT=_._emscripten_bind_ConvexResultCallback___destroy___0=J._emscripten_bind_ConvexResultCallback___destroy___0,fT=_._emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0,_T=_._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1,pT=_._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3=J._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3,hT=_._emscripten_bind_btCollisionObject_setContactProcessingThreshold_1=J._emscripten_bind_btCollisionObject_setContactProcessingThreshold_1,dT=_._emscripten_bind_btGhostObject_setCcdMotionThreshold_1=J._emscripten_bind_btGhostObject_setCcdMotionThreshold_1,mT=_._emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0=J._emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0,gT=_._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0,xT=_._emscripten_bind_btCapsuleShapeX_setMargin_1=J._emscripten_bind_btCapsuleShapeX_setMargin_1,yT=_._emscripten_bind_btGeneric6DofSpring2Constraint_setStiffness_2=J._emscripten_bind_btGeneric6DofSpring2Constraint_setStiffness_2,vT=_._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0=J._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0,ST=_._emscripten_bind_LocalConvexResult_LocalConvexResult_5=J._emscripten_bind_LocalConvexResult_LocalConvexResult_5,CT=_._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1,TT=_._emscripten_bind_btRigidBody_getCollisionFlags_0=J._emscripten_bind_btRigidBody_getCollisionFlags_0,wT=_._emscripten_bind_btCollisionShape_setLocalScaling_1=J._emscripten_bind_btCollisionShape_setLocalScaling_1,MT=_._emscripten_bind_btRigidBody_applyTorque_1=J._emscripten_bind_btRigidBody_applyTorque_1,RT=_._emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0=J._emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0,AT=_._emscripten_bind_btMatrix3x3_setEulerZYX_3=J._emscripten_bind_btMatrix3x3_setEulerZYX_3,ET=_._emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0=J._emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0,NT=_._emscripten_bind_btConvexHullShape_setLocalScaling_1=J._emscripten_bind_btConvexHullShape_setLocalScaling_1,bT=_._emscripten_bind_btRigidBody_setMotionState_1=J._emscripten_bind_btRigidBody_setMotionState_1,DT=_._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0=J._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0,IT=_._emscripten_bind_btCollisionWorld_getDispatcher_0=J._emscripten_bind_btCollisionWorld_getDispatcher_0,PT=_._emscripten_bind_btVector4_dot_1=J._emscripten_bind_btVector4_dot_1,LT=_._emscripten_bind_btCollisionObject_setRollingFriction_1=J._emscripten_bind_btCollisionObject_setRollingFriction_1,kT=_._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1=J._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1,FT=_._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0=J._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0,BT=_._emscripten_bind_btRotationalLimitMotor2_get_m_currentPosition_0=J._emscripten_bind_btRotationalLimitMotor2_get_m_currentPosition_0,UT=_._i64Subtract=J._i64Subtract,OT=_._emscripten_bind_btRaycastVehicle_getWheelTransformWS_1=J._emscripten_bind_btRaycastVehicle_getWheelTransformWS_1,GT=_._emscripten_bind_btRigidBody_setDamping_2=J._emscripten_bind_btRigidBody_setDamping_2,VT=_._emscripten_bind_btDynamicsWorld_getDispatcher_0=J._emscripten_bind_btDynamicsWorld_getDispatcher_0,zT=_._emscripten_bind_btGhostObject_setCollisionFlags_1=J._emscripten_bind_btGhostObject_setCollisionFlags_1,WT=_._emscripten_bind_btMatrix3x3_getRotation_1=J._emscripten_bind_btMatrix3x3_getRotation_1,HT=_._emscripten_bind_btWheelInfo_set_m_engineForce_1=J._emscripten_bind_btWheelInfo_set_m_engineForce_1,jT=_._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1=J._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1,qT=_._emscripten_bind_btCylinderShapeX_setLocalScaling_1=J._emscripten_bind_btCylinderShapeX_setLocalScaling_1,XT=_._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0=J._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0,$T=_._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0,YT=_._emscripten_bind_btCompoundShape_setLocalScaling_1=J._emscripten_bind_btCompoundShape_setLocalScaling_1,KT=_._emscripten_bind_btOverlappingPairCallback___destroy___0=J._emscripten_bind_btOverlappingPairCallback___destroy___0,ZT=_._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0=J._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0,QT=_._emscripten_bind_btCylinderShape_calculateLocalInertia_2=J._emscripten_bind_btCylinderShape_calculateLocalInertia_2,JT=_._emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1=J._emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1,ew=_._emscripten_bind_btHingeConstraint_enableAngularMotor_3=J._emscripten_bind_btHingeConstraint_enableAngularMotor_3,tw=_._emscripten_bind_btRigidBody_setContactProcessingThreshold_1=J._emscripten_bind_btRigidBody_setContactProcessingThreshold_1,iw=_._emscripten_bind_btRigidBody_getLinearVelocity_0=J._emscripten_bind_btRigidBody_getLinearVelocity_0,nw=_._emscripten_bind_btRigidBody_applyImpulse_2=J._emscripten_bind_btRigidBody_applyImpulse_2,rw=_._emscripten_bind_btConcaveShape_calculateLocalInertia_2=J._emscripten_bind_btConcaveShape_calculateLocalInertia_2,sw=_._emscripten_bind_RaycastInfo_get_m_groundObject_0=J._emscripten_bind_RaycastInfo_get_m_groundObject_0,ow=_._emscripten_bind_btRigidBody_setWorldTransform_1=J._emscripten_bind_btRigidBody_setWorldTransform_1,aw=_._emscripten_bind_btRigidBody_setAngularVelocity_1=J._emscripten_bind_btRigidBody_setAngularVelocity_1,cw=_._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3=J._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3,lw=_._emscripten_bind_btConvexShape_setLocalScaling_1=J._emscripten_bind_btConvexShape_setLocalScaling_1,uw=_._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2=J._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2,fw=_._emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1=J._emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1,_w=_._emscripten_bind_btCompoundShape___destroy___0=J._emscripten_bind_btCompoundShape___destroy___0,pw=_._emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1=J._emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1,hw=_._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0=J._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0,dw=_._emscripten_bind_RayResultCallback_hasHit_0=J._emscripten_bind_RayResultCallback_hasHit_0,mw=_._bitshift64Shl=J._bitshift64Shl,gw=_._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0,xw=_._emscripten_bind_btCylinderShapeX_getMargin_0=J._emscripten_bind_btCylinderShapeX_getMargin_0,yw=_._emscripten_bind_btQuaternion_normalize_0=J._emscripten_bind_btQuaternion_normalize_0,vw=_._emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0=J._emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0,Sw=_._emscripten_bind_btWheelInfo_get_m_frictionSlip_0=J._emscripten_bind_btWheelInfo_get_m_frictionSlip_0,Cw=_._emscripten_bind_btConeShapeZ_setLocalScaling_1=J._emscripten_bind_btConeShapeZ_setLocalScaling_1,Tw=_._emscripten_bind_btPairCachingGhostObject_setActivationState_1=J._emscripten_bind_btPairCachingGhostObject_setActivationState_1,ww=_._emscripten_bind_btGeneric6DofSpringConstraint___destroy___0=J._emscripten_bind_btGeneric6DofSpringConstraint___destroy___0,Mw=_._emscripten_bind_btRaycastVehicle_getNumWheels_0=J._emscripten_bind_btRaycastVehicle_getNumWheels_0,Rw=_._emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1=J._emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1,Aw=_._emscripten_bind_btGhostObject_setRollingFriction_1=J._emscripten_bind_btGhostObject_setRollingFriction_1,Ew=_._emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1=J._emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1,Nw=_._emscripten_bind_btPoint2PointConstraint_set_m_setting_1=J._emscripten_bind_btPoint2PointConstraint_set_m_setting_1,bw=_._emscripten_bind_btCompoundShape_btCompoundShape_0=J._emscripten_bind_btCompoundShape_btCompoundShape_0,Dw=_._emscripten_bind_btCompoundShape_btCompoundShape_1=J._emscripten_bind_btCompoundShape_btCompoundShape_1,Iw=_._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1=J._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1,Pw=_._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2=J._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2,Lw=_.__GLOBAL__sub_I_btQuickprof_cpp=J.__GLOBAL__sub_I_btQuickprof_cpp,kw=_._emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1=J._emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1,Fw=_._emscripten_bind_btDispatcherInfo_get_m_useContinuous_0=J._emscripten_bind_btDispatcherInfo_get_m_useContinuous_0,Bw=_._emscripten_bind_btRigidBody_updateInertiaTensor_0=J._emscripten_bind_btRigidBody_updateInertiaTensor_0,Uw=_._emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2=J._emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2,Ow=_._emscripten_bind_btTransform_setOrigin_1=J._emscripten_bind_btTransform_setOrigin_1,Gw=_._emscripten_bind_ClosestRayResultCallback_hasHit_0=J._emscripten_bind_ClosestRayResultCallback_hasHit_0,Vw=_._emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0=J._emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0,zw=_._emscripten_bind_btCompoundShape_addChildShape_2=J._emscripten_bind_btCompoundShape_addChildShape_2,Ww=_._emscripten_bind_btDispatcher___destroy___0=J._emscripten_bind_btDispatcher___destroy___0,Hw=_._emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0=J._emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0,jw=_._emscripten_bind_btDiscreteDynamicsWorld___destroy___0=J._emscripten_bind_btDiscreteDynamicsWorld___destroy___0,qw=_._emscripten_bind_btConvexShape___destroy___0=J._emscripten_bind_btConvexShape___destroy___0,Xw=_._memmove=J._memmove,$w=_._emscripten_bind_btCapsuleShapeX_setLocalScaling_1=J._emscripten_bind_btCapsuleShapeX_setLocalScaling_1,Yw=_._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1=J._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1,Kw=_._emscripten_bind_btCollisionObject_setRestitution_1=J._emscripten_bind_btCollisionObject_setRestitution_1,Zw=_._emscripten_bind_btRigidBody_applyCentralForce_1=J._emscripten_bind_btRigidBody_applyCentralForce_1,Qw=_._emscripten_bind_LocalConvexResult_get_m_hitFraction_0=J._emscripten_bind_LocalConvexResult_get_m_hitFraction_0,Jw=_._emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1,eM=_._emscripten_bind_btQuaternion_w_0=J._emscripten_bind_btQuaternion_w_0,tM=_._emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0=J._emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0,iM=_._emscripten_bind_btTransform_getRotation_0=J._emscripten_bind_btTransform_getRotation_0,nM=_._emscripten_bind_btHingeConstraint_btHingeConstraint_6=J._emscripten_bind_btHingeConstraint_btHingeConstraint_6,rM=_._emscripten_bind_btHingeConstraint_btHingeConstraint_7=J._emscripten_bind_btHingeConstraint_btHingeConstraint_7,sM=_._emscripten_bind_btCapsuleShapeZ_getMargin_0=J._emscripten_bind_btCapsuleShapeZ_getMargin_0,oM=_._emscripten_bind_btHingeConstraint_btHingeConstraint_5=J._emscripten_bind_btHingeConstraint_btHingeConstraint_5,aM=_._emscripten_bind_btHingeConstraint_btHingeConstraint_2=J._emscripten_bind_btHingeConstraint_btHingeConstraint_2,cM=_._emscripten_bind_btHingeConstraint_btHingeConstraint_3=J._emscripten_bind_btHingeConstraint_btHingeConstraint_3,lM=_._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1,uM=_._emscripten_bind_btBoxShape_setMargin_1=J._emscripten_bind_btBoxShape_setMargin_1,fM=_._emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0=J._emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0,_M=_._emscripten_bind_btMatrix3x3_getRow_1=J._emscripten_bind_btMatrix3x3_getRow_1,pM=_._emscripten_bind_btTypedConstraint___destroy___0=J._emscripten_bind_btTypedConstraint___destroy___0,hM=_._emscripten_bind_btCylinderShapeX_btCylinderShapeX_1=J._emscripten_bind_btCylinderShapeX_btCylinderShapeX_1,dM=_._emscripten_enum_RotateOrder_RO_XYZ=J._emscripten_enum_RotateOrder_RO_XYZ,mM=_._emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1=J._emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1,gM=_._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3=J._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3,xM=_._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1=J._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1,yM=_._bitshift64Ashr=J._bitshift64Ashr,vM=_._emscripten_bind_btQuaternion_btQuaternion_4=J._emscripten_bind_btQuaternion_btQuaternion_4,SM=_._emscripten_bind_btDiscreteDynamicsWorld_removeAction_1=J._emscripten_bind_btDiscreteDynamicsWorld_removeAction_1,CM=_._emscripten_bind_btSphereShape_btSphereShape_1=J._emscripten_bind_btSphereShape_btSphereShape_1,TM=_._emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0=J._emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0,wM=_._emscripten_bind_btQuaternion_y_0=J._emscripten_bind_btQuaternion_y_0,MM=_._emscripten_bind_btCollisionWorld_addCollisionObject_1=J._emscripten_bind_btCollisionWorld_addCollisionObject_1,RM=_._emscripten_bind_btCollisionWorld_addCollisionObject_2=J._emscripten_bind_btCollisionWorld_addCollisionObject_2,AM=_._emscripten_bind_btCollisionWorld_addCollisionObject_3=J._emscripten_bind_btCollisionWorld_addCollisionObject_3,EM=_._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1=J._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1,NM=_._emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1,bM=_._emscripten_bind_RaycastInfo_get_m_isInContact_0=J._emscripten_bind_RaycastInfo_get_m_isInContact_0,DM=_._emscripten_bind_btGeneric6DofSpring2Constraint_setLinearUpperLimit_1=J._emscripten_bind_btGeneric6DofSpring2Constraint_setLinearUpperLimit_1,IM=_._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0=J._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0,PM=_._emscripten_bind_btCapsuleShape_setMargin_1=J._emscripten_bind_btCapsuleShape_setMargin_1,LM=_._emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1=J._emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1,kM=_._emscripten_bind_btPoint2PointConstraint_get_m_setting_0=J._emscripten_bind_btPoint2PointConstraint_get_m_setting_0,FM=_._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0=J._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0,BM=_._emscripten_bind_btActionInterface___destroy___0=J._emscripten_bind_btActionInterface___destroy___0,UM=_._emscripten_bind_btDefaultMotionState_setWorldTransform_1=J._emscripten_bind_btDefaultMotionState_setWorldTransform_1,OM=_._emscripten_bind_btCollisionWorld_contactTest_2=J._emscripten_bind_btCollisionWorld_contactTest_2,GM=_._emscripten_bind_RayResultCallback_get_m_collisionObject_0=J._emscripten_bind_RayResultCallback_get_m_collisionObject_0,VM=_._emscripten_bind_btPoint2PointConstraint_getPivotInA_0=J._emscripten_bind_btPoint2PointConstraint_getPivotInA_0,zM=_._emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2=J._emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2,WM=_._emscripten_bind_btVector4_setY_1=J._emscripten_bind_btVector4_setY_1,HM=_._emscripten_bind_btCompoundShape_setMargin_1=J._emscripten_bind_btCompoundShape_setMargin_1,jM=_._emscripten_bind_ClosestConvexResultCallback___destroy___0=J._emscripten_bind_ClosestConvexResultCallback___destroy___0,qM=_._emscripten_bind_btDynamicsWorld_addCollisionObject_1=J._emscripten_bind_btDynamicsWorld_addCollisionObject_1,XM=_._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0=J._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0;_.___cxa_can_catch=J.___cxa_can_catch;var $M=_._emscripten_bind_btDynamicsWorld_addCollisionObject_2=J._emscripten_bind_btDynamicsWorld_addCollisionObject_2,YM=_._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0=J._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0,KM=_._emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0=J._emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0,ZM=_._emscripten_bind_btVector4_op_mul_1=J._emscripten_bind_btVector4_op_mul_1,QM=_._emscripten_bind_btCylinderShape_btCylinderShape_1=J._emscripten_bind_btCylinderShape_btCylinderShape_1,JM=_._emscripten_bind_btVector3___destroy___0=J._emscripten_bind_btVector3___destroy___0,eR=_._emscripten_bind_RaycastInfo___destroy___0=J._emscripten_bind_RaycastInfo___destroy___0,tR=_._emscripten_bind_btRigidBody_setAngularFactor_1=J._emscripten_bind_btRigidBody_setAngularFactor_1,iR=_._emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2=J._emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2,nR=_._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1=J._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1,rR=_._emscripten_bind_btMotionState_getWorldTransform_1=J._emscripten_bind_btMotionState_getWorldTransform_1,sR=_._emscripten_bind_btDynamicsWorld_getSolverInfo_0=J._emscripten_bind_btDynamicsWorld_getSolverInfo_0,oR=_._emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1=J._emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1,aR=_._emscripten_bind_btSphereShape_getMargin_0=J._emscripten_bind_btSphereShape_getMargin_0,cR=_._emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_5=J._emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_5,lR=_._emscripten_bind_btVector3_x_0=J._emscripten_bind_btVector3_x_0;_.___cxa_is_pointer_type=J.___cxa_is_pointer_type;var uR=_._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3=J._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3,fR=_._emscripten_bind_btCollisionObject_getCollisionShape_0=J._emscripten_bind_btCollisionObject_getCollisionShape_0,_R=_._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4=J._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4,pR=_._emscripten_bind_btManifoldPoint___destroy___0=J._emscripten_bind_btManifoldPoint___destroy___0,hR=_._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1,dR=_._emscripten_bind_btVector4_length_0=J._emscripten_bind_btVector4_length_0,mR=_._emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1=J._emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1,gR=_._emscripten_bind_btGhostObject_setRestitution_1=J._emscripten_bind_btGhostObject_setRestitution_1,xR=_._emscripten_bind_btConeTwistConstraint_setAngularOnly_1=J._emscripten_bind_btConeTwistConstraint_setAngularOnly_1,yR=_._emscripten_bind_btCollisionObject_setFriction_1=J._emscripten_bind_btCollisionObject_setFriction_1,vR=_._emscripten_bind_btDefaultCollisionConfiguration___destroy___0=J._emscripten_bind_btDefaultCollisionConfiguration___destroy___0,SR=_._emscripten_bind_btRigidBody_setMassProps_2=J._emscripten_bind_btRigidBody_setMassProps_2,CR=_._emscripten_bind_btVector3_setValue_3=J._emscripten_bind_btVector3_setValue_3,TR=_._emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1=J._emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1,wR=_._emscripten_bind_RaycastInfo_get_m_suspensionLength_0=J._emscripten_bind_RaycastInfo_get_m_suspensionLength_0,MR=_._emscripten_bind_btGhostObject_getCollisionFlags_0=J._emscripten_bind_btGhostObject_getCollisionFlags_0,RR=_._emscripten_bind_btCapsuleShapeX___destroy___0=J._emscripten_bind_btCapsuleShapeX___destroy___0,AR=_._emscripten_bind_btKinematicCharacterController_setFallSpeed_1=J._emscripten_bind_btKinematicCharacterController_setFallSpeed_1,ER=_._emscripten_bind_btHingeConstraint_setLimit_4=J._emscripten_bind_btHingeConstraint_setLimit_4,NR=_._emscripten_bind_btHingeConstraint_setLimit_5=J._emscripten_bind_btHingeConstraint_setLimit_5,bR=_._emscripten_bind_btDefaultVehicleRaycaster___destroy___0=J._emscripten_bind_btDefaultVehicleRaycaster___destroy___0,DR=_._emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1=J._emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1,IR=_._emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1=J._emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1,PR=_._emscripten_bind_btGhostObject_getNumOverlappingObjects_0=J._emscripten_bind_btGhostObject_getNumOverlappingObjects_0,LR=_._emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0,kR=_._emscripten_bind_btGhostObject_getCollisionShape_0=J._emscripten_bind_btGhostObject_getCollisionShape_0,FR=_._emscripten_bind_btCollisionObject_setAnisotropicFriction_2=J._emscripten_bind_btCollisionObject_setAnisotropicFriction_2,BR=_._emscripten_bind_btBoxShape___destroy___0=J._emscripten_bind_btBoxShape___destroy___0,UR=_._emscripten_bind_btPersistentManifold_getContactPoint_1=J._emscripten_bind_btPersistentManifold_getContactPoint_1,OR=_._emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0,GR=_._emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1=J._emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1,VR=_._emscripten_bind_RaycastInfo_set_m_groundObject_1=J._emscripten_bind_RaycastInfo_set_m_groundObject_1,zR=_._emscripten_bind_btGhostObject_activate_1=J._emscripten_bind_btGhostObject_activate_1,WR=_._emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2=J._emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2,HR=_._emscripten_bind_btManifoldPoint_getPositionWorldOnB_0=J._emscripten_bind_btManifoldPoint_getPositionWorldOnB_0,jR=_._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0=J._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0,qR=_._emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1=J._emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1,XR=_._emscripten_bind_btSphereShape_setMargin_1=J._emscripten_bind_btSphereShape_setMargin_1,$R=_._emscripten_bind_btGeneric6DofSpring2Constraint_setDamping_2=J._emscripten_bind_btGeneric6DofSpring2Constraint_setDamping_2,YR=_._emscripten_bind_btConeShapeZ_btConeShapeZ_2=J._emscripten_bind_btConeShapeZ_btConeShapeZ_2,KR=_._emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1=J._emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1,ZR=_._emscripten_bind_btSliderConstraint_setUpperAngLimit_1=J._emscripten_bind_btSliderConstraint_setUpperAngLimit_1,QR=_._emscripten_bind_btDynamicsWorld_contactPairTest_3=J._emscripten_bind_btDynamicsWorld_contactPairTest_3,JR=_._emscripten_bind_btCollisionWorld_getPairCache_0=J._emscripten_bind_btCollisionWorld_getPairCache_0,eA=_._emscripten_bind_btConeTwistConstraint_setMotorTarget_1=J._emscripten_bind_btConeTwistConstraint_setMotorTarget_1,tA=_._emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1=J._emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1,iA=_._emscripten_bind_btWheelInfo_set_m_rollInfluence_1=J._emscripten_bind_btWheelInfo_set_m_rollInfluence_1,nA=_._emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1=J._emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1,rA=_._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0=J._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0,sA=_._emscripten_bind_btGhostObject_forceActivationState_1=J._emscripten_bind_btGhostObject_forceActivationState_1,oA=_._emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0=J._emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0,aA=_._emscripten_bind_VoidPtr___destroy___0=J._emscripten_bind_VoidPtr___destroy___0,cA=_._emscripten_bind_RaycastInfo_set_m_contactNormalWS_1=J._emscripten_bind_RaycastInfo_set_m_contactNormalWS_1,lA=_._emscripten_bind_btSliderConstraint_setLowerAngLimit_1=J._emscripten_bind_btSliderConstraint_setLowerAngLimit_1,uA=_._emscripten_bind_RaycastInfo_set_m_contactPointWS_1=J._emscripten_bind_RaycastInfo_set_m_contactPointWS_1,fA=_._emscripten_bind_btConeShape_btConeShape_2=J._emscripten_bind_btConeShape_btConeShape_2,_A=_._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0=J._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0,pA=_._emscripten_bind_btRaycastVehicle_getRigidBody_0=J._emscripten_bind_btRaycastVehicle_getRigidBody_0,hA=_._emscripten_enum_RotateOrder_RO_YZX=J._emscripten_enum_RotateOrder_RO_YZX,dA=_._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0=J._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0,mA=_._emscripten_bind_btWheelInfo_get_m_steering_0=J._emscripten_bind_btWheelInfo_get_m_steering_0,gA=_._emscripten_bind_btConstraintSetting_get_m_tau_0=J._emscripten_bind_btConstraintSetting_get_m_tau_0,xA=_._emscripten_bind_btConeShape_setLocalScaling_1=J._emscripten_bind_btConeShape_setLocalScaling_1,yA=_._emscripten_bind_btCollisionObject_setCollisionShape_1=J._emscripten_bind_btCollisionObject_setCollisionShape_1,vA=_._emscripten_bind_btCollisionShape___destroy___0=J._emscripten_bind_btCollisionShape___destroy___0,SA=_._emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0=J._emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0,CA=_._emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0=J._emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0,TA=_._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0,wA=_._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1=J._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1,MA=_._emscripten_bind_btKinematicCharacterController_warp_1=J._emscripten_bind_btKinematicCharacterController_warp_1,RA=_._emscripten_bind_btContactSolverInfo___destroy___0=J._emscripten_bind_btContactSolverInfo___destroy___0,AA=_._emscripten_bind_btTriangleMesh___destroy___0=J._emscripten_bind_btTriangleMesh___destroy___0,EA=_._emscripten_bind_btKinematicCharacterController_preStep_1=J._emscripten_bind_btKinematicCharacterController_preStep_1,NA=_._emscripten_bind_btRaycastVehicle_applyEngineForce_2=J._emscripten_bind_btRaycastVehicle_applyEngineForce_2,bA=_._emscripten_bind_btRaycastVehicle_setBrake_2=J._emscripten_bind_btRaycastVehicle_setBrake_2,DA=_._emscripten_bind_ConcreteContactResultCallback___destroy___0=J._emscripten_bind_ConcreteContactResultCallback___destroy___0,IA=_._emscripten_bind_RaycastInfo_set_m_wheelAxleWS_1=J._emscripten_bind_RaycastInfo_set_m_wheelAxleWS_1,PA=_._emscripten_bind_btGeneric6DofSpring2Constraint_setAngularLowerLimit_1=J._emscripten_bind_btGeneric6DofSpring2Constraint_setAngularLowerLimit_1,LA=_._emscripten_bind_btCollisionObject___destroy___0=J._emscripten_bind_btCollisionObject___destroy___0,kA=_._emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1=J._emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1,FA=_._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1,BA=_._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1=J._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1,UA=_._emscripten_bind_btDispatcherInfo_set_m_timeStep_1=J._emscripten_bind_btDispatcherInfo_set_m_timeStep_1,OA=_._emscripten_bind_btVector3_btVector3_3=J._emscripten_bind_btVector3_btVector3_3,GA=_._emscripten_bind_btVector3_btVector3_0=J._emscripten_bind_btVector3_btVector3_0,VA=_._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1,zA=_._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0=J._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0,WA=_._emscripten_bind_btVector3_z_0=J._emscripten_bind_btVector3_z_0,HA=_._emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0=J._emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0,jA=_._emscripten_bind_btBroadphaseInterface___destroy___0=J._emscripten_bind_btBroadphaseInterface___destroy___0,qA=_._emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0=J._emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0,XA=_._emscripten_bind_ConcreteContactResultCallback_addSingleResult_7=J._emscripten_bind_ConcreteContactResultCallback_addSingleResult_7,$A=_._emscripten_bind_RaycastInfo_get_m_hardPointWS_0=J._emscripten_bind_RaycastInfo_get_m_hardPointWS_0,YA=_._emscripten_bind_btConeTwistConstraint___destroy___0=J._emscripten_bind_btConeTwistConstraint___destroy___0,KA=_._emscripten_bind_btQuadWord___destroy___0=J._emscripten_bind_btQuadWord___destroy___0,ZA=_._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1=J._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1,QA=_._emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2=J._emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2,JA=_._emscripten_bind_RaycastInfo_get_m_wheelDirectionWS_0=J._emscripten_bind_RaycastInfo_get_m_wheelDirectionWS_0,eE=_._emscripten_bind_btRigidBody_setCenterOfMassTransform_1=J._emscripten_bind_btRigidBody_setCenterOfMassTransform_1,tE=_._emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0=J._emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0,iE=_._emscripten_bind_btGhostObject_setAnisotropicFriction_2=J._emscripten_bind_btGhostObject_setAnisotropicFriction_2,nE=_._emscripten_bind_btConstraintSolver___destroy___0=J._emscripten_bind_btConstraintSolver___destroy___0,rE=_._emscripten_bind_btDbvtBroadphase___destroy___0=J._emscripten_bind_btDbvtBroadphase___destroy___0,sE=_._emscripten_bind_btCapsuleShape_btCapsuleShape_2=J._emscripten_bind_btCapsuleShape_btCapsuleShape_2,oE=_._emscripten_bind_btTypedConstraint_enableFeedback_1=J._emscripten_bind_btTypedConstraint_enableFeedback_1,aE=_._emscripten_bind_btGhostObject_activate_0=J._emscripten_bind_btGhostObject_activate_0,cE=_._emscripten_bind_btCapsuleShape_setLocalScaling_1=J._emscripten_bind_btCapsuleShape_setLocalScaling_1,lE=_._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0,uE=_._emscripten_bind_btRigidBody_setAnisotropicFriction_2=J._emscripten_bind_btRigidBody_setAnisotropicFriction_2,fE=_._emscripten_bind_btTriangleMeshShape_setLocalScaling_1=J._emscripten_bind_btTriangleMeshShape_setLocalScaling_1,_E=_._emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1=J._emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1,pE=_._emscripten_bind_btVector3_op_add_1=J._emscripten_bind_btVector3_op_add_1,hE=_._emscripten_bind_btPersistentManifold_btPersistentManifold_0=J._emscripten_bind_btPersistentManifold_btPersistentManifold_0,dE=_._emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0=J._emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0,mE=_._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2=J._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2,gE=_._emscripten_bind_btVector4___destroy___0=J._emscripten_bind_btVector4___destroy___0,xE=_._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0=J._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0,yE=_._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1=J._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1,vE=_._i64Add=J._i64Add,SE=_._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2=J._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2,CE=_._emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1=J._emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1,TE=_._emscripten_bind_btCollisionObject_setCcdMotionThreshold_1=J._emscripten_bind_btCollisionObject_setCcdMotionThreshold_1,wE=_._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4=J._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4,ME=_._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1=J._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1,RE=_._emscripten_bind_btQuadWord_setZ_1=J._emscripten_bind_btQuadWord_setZ_1,AE=_._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0,EE=_._emscripten_bind_btPoint2PointConstraint_getPivotInB_0=J._emscripten_bind_btPoint2PointConstraint_getPivotInB_0,NE=_._emscripten_bind_btKinematicCharacterController_playerStep_2=J._emscripten_bind_btKinematicCharacterController_playerStep_2,bE=_._emscripten_bind_btDispatcherInfo___destroy___0=J._emscripten_bind_btDispatcherInfo___destroy___0,DE=_._emscripten_bind_btCapsuleShape_getMargin_0=J._emscripten_bind_btCapsuleShape_getMargin_0,IE=_._emscripten_bind_btCylinderShape_getMargin_0=J._emscripten_bind_btCylinderShape_getMargin_0,PE=_._emscripten_bind_btStaticPlaneShape_setLocalScaling_1=J._emscripten_bind_btStaticPlaneShape_setLocalScaling_1,LE=_._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2=J._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2,kE=_._emscripten_bind_btQuaternion___destroy___0=J._emscripten_bind_btQuaternion___destroy___0,FE=_._emscripten_bind_btGhostObject_getWorldTransform_0=J._emscripten_bind_btGhostObject_getWorldTransform_0,BE=_._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0=J._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0,UE=_._emscripten_bind_LocalConvexResult_set_m_hitFraction_1=J._emscripten_bind_LocalConvexResult_set_m_hitFraction_1,OE=_._emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2=J._emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2,GE=_._emscripten_bind_btDispatcherInfo_get_m_timeStep_0=J._emscripten_bind_btDispatcherInfo_get_m_timeStep_0,VE=_._emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1=J._emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1,zE=_._emscripten_bind_btBoxShape_calculateLocalInertia_2=J._emscripten_bind_btBoxShape_calculateLocalInertia_2,WE=_._emscripten_bind_btMotionState___destroy___0=J._emscripten_bind_btMotionState___destroy___0,HE=_._emscripten_bind_btGeneric6DofSpring2Constraint___destroy___0=J._emscripten_bind_btGeneric6DofSpring2Constraint___destroy___0,jE=_._emscripten_bind_btCollisionObject_setCollisionFlags_1=J._emscripten_bind_btCollisionObject_setCollisionFlags_1,qE=_._emscripten_bind_btGeneric6DofSpring2Constraint_getTranslationalLimitMotor_0=J._emscripten_bind_btGeneric6DofSpring2Constraint_getTranslationalLimitMotor_0,XE=_._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1=J._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1,$E=_._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2=J._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2,YE=_._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3=J._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3,KE=_._emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1=J._emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1,ZE=_._emscripten_bind_btConvexTriangleMeshShape___destroy___0=J._emscripten_bind_btConvexTriangleMeshShape___destroy___0,QE=_._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1=J._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1,JE=_._emscripten_bind_btRaycastVehicle_getWheelInfo_1=J._emscripten_bind_btRaycastVehicle_getWheelInfo_1,eN=_._bitshift64Lshr=J._bitshift64Lshr,tN=_._emscripten_bind_btWheelInfo_set_m_steering_1=J._emscripten_bind_btWheelInfo_set_m_steering_1,iN=_._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1=J._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1,nN=_._emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0,rN=_._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0=J._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0,sN=_._emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1=J._emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1,oN=_._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4=J._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4,aN=_._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2=J._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2,cN=_._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1=J._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1,lN=_._emscripten_bind_btConeShapeX_calculateLocalInertia_2=J._emscripten_bind_btConeShapeX_calculateLocalInertia_2,uN=_._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1=J._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1,fN=_._emscripten_bind_btRigidBodyConstructionInfo___destroy___0=J._emscripten_bind_btRigidBodyConstructionInfo___destroy___0,_N=_._emscripten_bind_btRigidBody_getWorldTransform_0=J._emscripten_bind_btRigidBody_getWorldTransform_0,pN=_._emscripten_bind_btPoint2PointConstraint_setPivotA_1=J._emscripten_bind_btPoint2PointConstraint_setPivotA_1,hN=_._emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1=J._emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1,dN=_._memcpy=J._memcpy,mN=_._emscripten_bind_btCapsuleShape_calculateLocalInertia_2=J._emscripten_bind_btCapsuleShape_calculateLocalInertia_2,gN=_._emscripten_bind_btVector3_y_0=J._emscripten_bind_btVector3_y_0,xN=_._emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0=J._emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0,yN=_._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2=J._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2,vN=_._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3=J._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3,SN=_._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0=J._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0,CN=_._emscripten_bind_btGhostObject_setCollisionShape_1=J._emscripten_bind_btGhostObject_setCollisionShape_1,TN=_._emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1=J._emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1,wN=_._emscripten_bind_btRigidBody_setRollingFriction_1=J._emscripten_bind_btRigidBody_setRollingFriction_1,MN=_._emscripten_bind_btPairCachingGhostObject_setRollingFriction_1=J._emscripten_bind_btPairCachingGhostObject_setRollingFriction_1,RN=_._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1=J._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1,AN=_._emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1=J._emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1,EN=_._emscripten_bind_btVector4_z_0=J._emscripten_bind_btVector4_z_0,NN=_._emscripten_bind_btCollisionObject_forceActivationState_1=J._emscripten_bind_btCollisionObject_forceActivationState_1,bN=_._emscripten_bind_btKinematicCharacterController_onGround_0=J._emscripten_bind_btKinematicCharacterController_onGround_0,zp=_._free=J._free,DN=_._emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0,IN=_._emscripten_bind_btConeTwistConstraint_setLimit_2=J._emscripten_bind_btConeTwistConstraint_setLimit_2,PN=_._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1=J._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1,LN=_._emscripten_bind_btRigidBody___destroy___0=J._emscripten_bind_btRigidBody___destroy___0,kN=_._emscripten_bind_btStridingMeshInterface___destroy___0=J._emscripten_bind_btStridingMeshInterface___destroy___0;_.runPostSets=J.runPostSets;var FN=_._emscripten_bind_btRigidBody_setSleepingThresholds_2=J._emscripten_bind_btRigidBody_setSleepingThresholds_2,BN=_._emscripten_bind_btCollisionObject_setWorldTransform_1=J._emscripten_bind_btCollisionObject_setWorldTransform_1,UN=_._emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0=J._emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0,ON=_._emscripten_bind_btManifoldPoint_get_m_localPointA_0=J._emscripten_bind_btManifoldPoint_get_m_localPointA_0,GN=_._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0,VN=_._emscripten_bind_btGeneric6DofSpring2Constraint_enableFeedback_1=J._emscripten_bind_btGeneric6DofSpring2Constraint_enableFeedback_1,zN=_._emscripten_bind_btDispatcher_getNumManifolds_0=J._emscripten_bind_btDispatcher_getNumManifolds_0,WN=_._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0,HN=_._emscripten_bind_btRigidBody_activate_1=J._emscripten_bind_btRigidBody_activate_1,jN=_._emscripten_bind_btRigidBody_activate_0=J._emscripten_bind_btRigidBody_activate_0,qN=_._emscripten_bind_btRaycastVehicle___destroy___0=J._emscripten_bind_btRaycastVehicle___destroy___0,XN=_._emscripten_bind_btGhostObject_setActivationState_1=J._emscripten_bind_btGhostObject_setActivationState_1,$N=_._emscripten_bind_btCollisionWorld_contactPairTest_3=J._emscripten_bind_btCollisionWorld_contactPairTest_3,YN=_._emscripten_bind_btCylinderShapeX___destroy___0=J._emscripten_bind_btCylinderShapeX___destroy___0,KN=_._emscripten_bind_btManifoldPoint_getPositionWorldOnA_0=J._emscripten_bind_btManifoldPoint_getPositionWorldOnA_0,ZN=_._emscripten_bind_ContactResultCallback___destroy___0=J._emscripten_bind_ContactResultCallback___destroy___0,QN=_._emscripten_bind_btDispatcherInfo_set_m_stepCount_1=J._emscripten_bind_btDispatcherInfo_set_m_stepCount_1,JN=_._emscripten_bind_btVector4_x_0=J._emscripten_bind_btVector4_x_0,eb=_._emscripten_bind_btConstraintSetting_btConstraintSetting_0=J._emscripten_bind_btConstraintSetting_btConstraintSetting_0,tb=_._emscripten_bind_btRigidBody_getMotionState_0=J._emscripten_bind_btRigidBody_getMotionState_0,ib=_._emscripten_bind_btKinematicCharacterController_getGhostObject_0=J._emscripten_bind_btKinematicCharacterController_getGhostObject_0,nb=_._emscripten_bind_btRigidBody_btRigidBody_1=J._emscripten_bind_btRigidBody_btRigidBody_1,rb=_._emscripten_bind_btTriangleMeshShape___destroy___0=J._emscripten_bind_btTriangleMeshShape___destroy___0,sb=_._emscripten_bind_btKinematicCharacterController_setWalkDirection_1=J._emscripten_bind_btKinematicCharacterController_setWalkDirection_1,ob=_._emscripten_bind_btDynamicsWorld_removeAction_1=J._emscripten_bind_btDynamicsWorld_removeAction_1,ab=_._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0=J._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0,cb=_._emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0=J._emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0,lb=_._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1=J._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1,ub=_._emscripten_bind_btKinematicCharacterController_getGravity_0=J._emscripten_bind_btKinematicCharacterController_getGravity_0,fb=_._emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0,_b=_._emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1=J._emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1,pb=_._emscripten_bind_btVector4_normalize_0=J._emscripten_bind_btVector4_normalize_0,hb=_._emscripten_bind_btQuaternion_setY_1=J._emscripten_bind_btQuaternion_setY_1,db=_._emscripten_bind_btConeShape_calculateLocalInertia_2=J._emscripten_bind_btConeShape_calculateLocalInertia_2,mb=_._emscripten_bind_btCylinderShapeX_calculateLocalInertia_2=J._emscripten_bind_btCylinderShapeX_calculateLocalInertia_2,gb=_._emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1=J._emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1,xb=_._llvm_bswap_i32=J._llvm_bswap_i32,yb=_._emscripten_enum_RotateOrder_RO_XZY=J._emscripten_enum_RotateOrder_RO_XZY,vb=_._emscripten_bind_btSphereShape_setLocalScaling_1=J._emscripten_bind_btSphereShape_setLocalScaling_1,Sb=_._emscripten_bind_btVector4_w_0=J._emscripten_bind_btVector4_w_0,Cb=_._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0=J._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0,Tb=_._emscripten_bind_btBvhTriangleMeshShape___destroy___0=J._emscripten_bind_btBvhTriangleMeshShape___destroy___0,wb=_._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0=J._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0,Mb=_._emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1=J._emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1,Rb=_._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1=J._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1,Ab=_._emscripten_bind_btVector4_y_0=J._emscripten_bind_btVector4_y_0,Eb=_._emscripten_bind_btGeneric6DofConstraint___destroy___0=J._emscripten_bind_btGeneric6DofConstraint___destroy___0,Nb=_._emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0=J._emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0,bb=_._emscripten_bind_btConvexHullShape_addPoint_1=J._emscripten_bind_btConvexHullShape_addPoint_1,Db=_._emscripten_bind_btConvexHullShape_addPoint_2=J._emscripten_bind_btConvexHullShape_addPoint_2,Ib=_._emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0=J._emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0,Pb=_._emscripten_bind_btTransform_getOrigin_0=J._emscripten_bind_btTransform_getOrigin_0,Lb=_._emscripten_enum_RotateOrder_RO_ZYX=J._emscripten_enum_RotateOrder_RO_ZYX,kb=_._emscripten_bind_btHingeConstraint___destroy___0=J._emscripten_bind_btHingeConstraint___destroy___0,Fb=_._emscripten_bind_btConvexShape_calculateLocalInertia_2=J._emscripten_bind_btConvexShape_calculateLocalInertia_2,Bb=_._memset=J._memset,Ub=_._emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1=J._emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1,Ob=_._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0=J._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0,Gb=_._emscripten_bind_btTriangleMesh_btTriangleMesh_0=J._emscripten_bind_btTriangleMesh_btTriangleMesh_0,Vb=_._emscripten_bind_btTriangleMesh_btTriangleMesh_1=J._emscripten_bind_btTriangleMesh_btTriangleMesh_1,zb=_._emscripten_bind_btTriangleMesh_btTriangleMesh_2=J._emscripten_bind_btTriangleMesh_btTriangleMesh_2,Wb=_._emscripten_bind_btWheelInfo_set_m_frictionSlip_1=J._emscripten_bind_btWheelInfo_set_m_frictionSlip_1,Hb=_._emscripten_bind_btRigidBody_getCollisionShape_0=J._emscripten_bind_btRigidBody_getCollisionShape_0,jb=_._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1=J._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1,qb=_._emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0=J._emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0,Xb=_._emscripten_bind_btManifoldPoint_get_m_localPointB_0=J._emscripten_bind_btManifoldPoint_get_m_localPointB_0,$b=_._emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3=J._emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3,Yb=_._emscripten_bind_btSliderConstraint_setLowerLinLimit_1=J._emscripten_bind_btSliderConstraint_setLowerLinLimit_1,Kb=_._emscripten_bind_btRigidBody_getAngularVelocity_0=J._emscripten_bind_btRigidBody_getAngularVelocity_0,Zb=_._emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1=J._emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1,Qb=_._emscripten_bind_btWheelInfo_get_m_wheelsRadius_0=J._emscripten_bind_btWheelInfo_get_m_wheelsRadius_0,Jb=_._emscripten_bind_btRigidBody_setLinearVelocity_1=J._emscripten_bind_btRigidBody_setLinearVelocity_1,eD=_._emscripten_bind_btVehicleTuning_btVehicleTuning_0=J._emscripten_bind_btVehicleTuning_btVehicleTuning_0,tD=_._emscripten_bind_RayResultCallback_set_m_collisionObject_1=J._emscripten_bind_RayResultCallback_set_m_collisionObject_1,iD=_._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1=J._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1,nD=_._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0=J._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0,rD=_._emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1=J._emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1,sD=_._emscripten_bind_btDynamicsWorld_addAction_1=J._emscripten_bind_btDynamicsWorld_addAction_1,oD=_._emscripten_bind_btVector4_op_sub_1=J._emscripten_bind_btVector4_op_sub_1,aD=_._emscripten_bind_RaycastInfo_set_m_hardPointWS_1=J._emscripten_bind_RaycastInfo_set_m_hardPointWS_1,cD=_._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0=J._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0,lD=_._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1,uD=_._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1=J._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1,fD=_._emscripten_bind_btGeneric6DofSpring2Constraint_setLinearLowerLimit_1=J._emscripten_bind_btGeneric6DofSpring2Constraint_setLinearLowerLimit_1,_D=_._emscripten_bind_btRigidBody_setActivationState_1=J._emscripten_bind_btRigidBody_setActivationState_1,pD=_._emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0=J._emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0,hD=_._emscripten_bind_ClosestConvexResultCallback_hasHit_0=J._emscripten_bind_ClosestConvexResultCallback_hasHit_0,dD=_._emscripten_bind_btCapsuleShapeZ___destroy___0=J._emscripten_bind_btCapsuleShapeZ___destroy___0,mD=_._emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0=J._emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0,gD=_._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0=J._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0,xD=_._emscripten_bind_btTriangleMesh_addTriangle_3=J._emscripten_bind_btTriangleMesh_addTriangle_3,yD=_._emscripten_bind_btGhostObject_getOverlappingObject_1=J._emscripten_bind_btGhostObject_getOverlappingObject_1,vD=_._emscripten_bind_btTriangleMesh_addTriangle_4=J._emscripten_bind_btTriangleMesh_addTriangle_4,SD=_._emscripten_bind_btRigidBody_applyTorqueImpulse_1=J._emscripten_bind_btRigidBody_applyTorqueImpulse_1,CD=_._emscripten_bind_btRigidBody_setCollisionFlags_1=J._emscripten_bind_btRigidBody_setCollisionFlags_1,TD=_._emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1=J._emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1,wD=_._emscripten_bind_btConeShape___destroy___0=J._emscripten_bind_btConeShape___destroy___0,MD=_._emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2=J._emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2,RD=_._emscripten_bind_btSliderConstraint_btSliderConstraint_5=J._emscripten_bind_btSliderConstraint_btSliderConstraint_5,AD=_._emscripten_bind_btSliderConstraint_btSliderConstraint_3=J._emscripten_bind_btSliderConstraint_btSliderConstraint_3,ED=_._emscripten_bind_btTransform___destroy___0=J._emscripten_bind_btTransform___destroy___0,ND=_._emscripten_bind_btDynamicsWorld_convexSweepTest_5=J._emscripten_bind_btDynamicsWorld_convexSweepTest_5,bD=_._emscripten_bind_btSliderConstraint___destroy___0=J._emscripten_bind_btSliderConstraint___destroy___0,DD=_._emscripten_bind_btRigidBody_forceActivationState_1=J._emscripten_bind_btRigidBody_forceActivationState_1,ID=_._emscripten_bind_btPoint2PointConstraint_setPivotB_1=J._emscripten_bind_btPoint2PointConstraint_setPivotB_1,PD=_._emscripten_bind_btManifoldPoint_getDistance_0=J._emscripten_bind_btManifoldPoint_getDistance_0,LD=_._emscripten_bind_btGhostPairCallback___destroy___0=J._emscripten_bind_btGhostPairCallback___destroy___0,kD=_._emscripten_bind_btKinematicCharacterController_getMaxSlope_0=J._emscripten_bind_btKinematicCharacterController_getMaxSlope_0,FD=_._emscripten_bind_btSliderConstraint_enableFeedback_1=J._emscripten_bind_btSliderConstraint_enableFeedback_1,BD=_._emscripten_bind_btRaycastVehicle_addWheel_7=J._emscripten_bind_btRaycastVehicle_addWheel_7,UD=_._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1=J._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1,OD=_._emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1=J._emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1,GD=_._emscripten_bind_btStaticPlaneShape___destroy___0=J._emscripten_bind_btStaticPlaneShape___destroy___0,VD=_._emscripten_bind_btCylinderShapeZ_setLocalScaling_1=J._emscripten_bind_btCylinderShapeZ_setLocalScaling_1,zD=_._emscripten_bind_btBoxShape_setLocalScaling_1=J._emscripten_bind_btBoxShape_setLocalScaling_1,WD=_._emscripten_bind_btConeShapeZ___destroy___0=J._emscripten_bind_btConeShapeZ___destroy___0,HD=_._emscripten_bind_btDynamicsWorld_getPairCache_0=J._emscripten_bind_btDynamicsWorld_getPairCache_0,jD=_._emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5=J._emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5,qD=_._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2=J._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2,XD=_._emscripten_bind_btRigidBody_setRestitution_1=J._emscripten_bind_btRigidBody_setRestitution_1,$D=_._emscripten_bind_btVector4_btVector4_0=J._emscripten_bind_btVector4_btVector4_0,YD=_._emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0=J._emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0,KD=_._emscripten_bind_btVector4_btVector4_4=J._emscripten_bind_btVector4_btVector4_4,ZD=_._emscripten_bind_btKinematicCharacterController___destroy___0=J._emscripten_bind_btKinematicCharacterController___destroy___0,QD=_._emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1=J._emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1,JD=_._emscripten_enum_RotateOrder_RO_ZXY=J._emscripten_enum_RotateOrder_RO_ZXY,eI=_._emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1=J._emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1,tI=_._emscripten_bind_btRotationalLimitMotor2_set_m_currentPosition_1=J._emscripten_bind_btRotationalLimitMotor2_set_m_currentPosition_1,iI=_._emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1=J._emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1,nI=_._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3=J._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3,rI=_._emscripten_bind_btWheelInfo_get_m_raycastInfo_0=J._emscripten_bind_btWheelInfo_get_m_raycastInfo_0,sI=_._emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0=J._emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0,oI=_._emscripten_bind_btGhostPairCallback_btGhostPairCallback_0=J._emscripten_bind_btGhostPairCallback_btGhostPairCallback_0,aI=_._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1=J._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1,cI=_._emscripten_bind_btPairCachingGhostObject_isActive_0=J._emscripten_bind_btPairCachingGhostObject_isActive_0,lI=_._emscripten_bind_btVehicleTuning_get_m_frictionSlip_0=J._emscripten_bind_btVehicleTuning_get_m_frictionSlip_0;_.dynCall_viiiii=J.dynCall_viiiii,_.dynCall_vid=J.dynCall_vid,_.dynCall_vi=J.dynCall_vi,_.dynCall_viiidii=J.dynCall_viiidii,_.dynCall_vii=J.dynCall_vii,_.dynCall_iiiiiiiiiii=J.dynCall_iiiiiiiiiii,_.dynCall_ii=J.dynCall_ii,_.dynCall_viidi=J.dynCall_viidi,_.dynCall_viddiii=J.dynCall_viddiii,_.dynCall_vidii=J.dynCall_vidii,_.dynCall_iiiii=J.dynCall_iiiii,_.dynCall_vidi=J.dynCall_vidi,_.dynCall_diiiiiiii=J.dynCall_diiiiiiii,_.dynCall_viiiiddddiid=J.dynCall_viiiiddddiid,_.dynCall_diiiii=J.dynCall_diiiii,_.dynCall_iiii=J.dynCall_iiii,_.dynCall_viiiiii=J.dynCall_viiiiii,_.dynCall_iiid=J.dynCall_iiid,_.dynCall_di=J.dynCall_di,_.dynCall_iiiiiii=J.dynCall_iiiiiii,_.dynCall_diiidii=J.dynCall_diiidii,_.dynCall_viidii=J.dynCall_viidii,_.dynCall_viiiiiii=J.dynCall_viiiiiii,_.dynCall_viiiiiiiii=J.dynCall_viiiiiiiii,_.dynCall_viiiiiiiiii=J.dynCall_viiiiiiiiii,_.dynCall_iii=J.dynCall_iii,_.dynCall_diii=J.dynCall_diii,_.dynCall_diiiiiiiiii=J.dynCall_diiiiiiiiii,_.dynCall_viiiid=J.dynCall_viiiid,_.dynCall_diiiiiiiii=J.dynCall_diiiiiiiii,_.dynCall_did=J.dynCall_did,_.dynCall_viiiidddddidi=J.dynCall_viiiidddddidi,_.dynCall_diidii=J.dynCall_diidii,_.dynCall_diiii=J.dynCall_diiii,_.dynCall_iiiiiiiiii=J.dynCall_iiiiiiiiii,_.dynCall_viiid=J.dynCall_viiid,_.dynCall_viii=J.dynCall_viii,_.dynCall_v=J.dynCall_v,_.dynCall_viid=J.dynCall_viid,_.dynCall_iidid=J.dynCall_iidid,_.dynCall_viiii=J.dynCall_viiii,ce.stackAlloc=J.stackAlloc,ce.stackSave=J.stackSave,ce.stackRestore=J.stackRestore,ce.establishStackSpace=J.establishStackSpace,ce.setTempRet0=J.setTempRet0,ce.getTempRet0=J.getTempRet0;function lc(x){this.name="ExitStatus",this.message="Program terminated with exit("+x+")",this.status=x}lc.prototype=new Error,lc.prototype.constructor=lc;var uI;Cs=function x(){_.calledRun||Wp(),_.calledRun||(Cs=x)},_.callMain=_.callMain=function(I){I=I||[],Si();var le=I.length+1;function R(){for(var Le=0;Le<3;Le++)ee.push(0)}var ee=[ft(yn(_.thisProgram),"i8",We)];R();for(var e=0;e<le-1;e=e+1)ee.push(ft(yn(I[e]),"i8",We)),R();ee.push(0),ee=ft(ee,"i32",We);try{var It=_._main(le,ee,0);w8(It,!0)}catch(Le){if(Le instanceof lc)return;if(Le=="SimulateInfiniteLoop"){_.noExitRuntime=!0;return}else throw Le&&typeof Le=="object"&&Le.stack&&_.printErr("exception thrown: "+[Le,Le.stack]),Le}finally{}};function Wp(x){if(x=x||_.arguments,ks>0||(D0(),ks>0)||_.calledRun)return;function I(){_.calledRun||(_.calledRun=!0,!ue&&(Si(),nt(),_.onRuntimeInitialized&&_.onRuntimeInitialized(),_._main&&R8&&_.callMain(x),d0()))}_.setStatus?(_.setStatus("Running..."),setTimeout((function(){setTimeout((function(){_.setStatus("")}),1),I()}),1)):I()}_.run=_.run=Wp;function w8(x,I){if(!(I&&_.noExitRuntime))throw _.noExitRuntime||(ue=!0,si=uI,S0(),_.onExit&&_.onExit(x)),k?process.exit(x):V&&typeof quit=="function"&&quit(x),new lc(x)}_.exit=_.exit=w8;var M8=[];function Ts(x){x!==void 0?(_.print(x),_.printErr(x),x=JSON.stringify(x)):x="",ue=!0;var I=`
If this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.`,le="abort("+x+") at "+y0()+I;throw M8&&M8.forEach((function(R){le=R(le,x)})),le}if(_.abort=_.abort=Ts,_.preInit)for(typeof _.preInit=="function"&&(_.preInit=[_.preInit]);_.preInit.length>0;)_.preInit.pop()();var R8=!0;_.noInitialRun&&(R8=!1),_.noExitRuntime=!0,Wp();function Ti(){}Ti.prototype=Object.create(Ti.prototype),Ti.prototype.constructor=Ti,Ti.prototype.__class__=Ti,Ti.__cache__={},_.WrapperObject=Ti;function o0(x){return(x||Ti).__cache__}_.getCache=o0;function _0(x,I){var le=o0(I),R=le[x];return R||(R=Object.create((I||Ti).prototype),R.ptr=x,le[x]=R)}_.wrapPointer=_0;function fI(x,I){return _0(x.ptr,I)}_.castObject=fI,_.NULL=_0(0);function _I(x){if(!x.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";x.__destroy__(),delete o0(x.__class__)[x.ptr]}_.destroy=_I;function pI(x,I){return x.ptr===I.ptr}_.compare=pI;function hI(x){return x.ptr}_.getPointer=hI;function dI(x){return x.__class__}_.getClass=dI;function Hn(){throw"cannot construct a btCollisionShape, no constructor in IDL"}Hn.prototype=Object.create(Ti.prototype),Hn.prototype.constructor=Hn,Hn.prototype.__class__=Hn,Hn.__cache__={},_.btCollisionShape=Hn,Hn.prototype.setLocalScaling=Hn.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),wT(I,x)}),Hn.prototype.calculateLocalInertia=Hn.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),jS(le,x,I)}),Hn.prototype.__destroy__=Hn.prototype.__destroy__=(function(){var x=this.ptr;vA(x)});function gi(){throw"cannot construct a btCollisionObject, no constructor in IDL"}gi.prototype=Object.create(Ti.prototype),gi.prototype.constructor=gi,gi.prototype.__class__=gi,gi.__cache__={},_.btCollisionObject=gi,gi.prototype.setAnisotropicFriction=gi.prototype.setAnisotropicFriction=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),FR(le,x,I)}),gi.prototype.getCollisionShape=gi.prototype.getCollisionShape=(function(){var x=this.ptr;return _0(fR(x),Hn)}),gi.prototype.setContactProcessingThreshold=gi.prototype.setContactProcessingThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),hT(I,x)}),gi.prototype.setActivationState=gi.prototype.setActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),OS(I,x)}),gi.prototype.forceActivationState=gi.prototype.forceActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),NN(I,x)}),gi.prototype.activate=gi.prototype.activate=(function(x){var I=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),x===void 0){l9(I);return}c9(I,x)}),gi.prototype.isActive=gi.prototype.isActive=(function(){var x=this.ptr;return!!yv(x)}),gi.prototype.isKinematicObject=gi.prototype.isKinematicObject=(function(){var x=this.ptr;return!!Jv(x)}),gi.prototype.setRestitution=gi.prototype.setRestitution=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Kw(I,x)}),gi.prototype.setFriction=gi.prototype.setFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),yR(I,x)}),gi.prototype.setRollingFriction=gi.prototype.setRollingFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),LT(I,x)}),gi.prototype.getWorldTransform=gi.prototype.getWorldTransform=(function(){var x=this.ptr;return _0(E7(x),An)}),gi.prototype.getCollisionFlags=gi.prototype.getCollisionFlags=(function(){var x=this.ptr;return rT(x)}),gi.prototype.setCollisionFlags=gi.prototype.setCollisionFlags=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),jE(I,x)}),gi.prototype.setWorldTransform=gi.prototype.setWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),BN(I,x)}),gi.prototype.setCollisionShape=gi.prototype.setCollisionShape=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),yA(I,x)}),gi.prototype.setCcdMotionThreshold=gi.prototype.setCcdMotionThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),TE(I,x)}),gi.prototype.setCcdSweptSphereRadius=gi.prototype.setCcdSweptSphereRadius=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Zb(I,x)}),gi.prototype.__destroy__=gi.prototype.__destroy__=(function(){var x=this.ptr;LA(x)});function Vr(){throw"cannot construct a btConcaveShape, no constructor in IDL"}Vr.prototype=Object.create(Hn.prototype),Vr.prototype.constructor=Vr,Vr.prototype.__class__=Vr,Vr.__cache__={},_.btConcaveShape=Vr,Vr.prototype.setLocalScaling=Vr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),DC(I,x)}),Vr.prototype.calculateLocalInertia=Vr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),rw(le,x,I)}),Vr.prototype.__destroy__=Vr.prototype.__destroy__=(function(){var x=this.ptr;AC(x)});function Gn(){throw"cannot construct a btCollisionWorld, no constructor in IDL"}Gn.prototype=Object.create(Ti.prototype),Gn.prototype.constructor=Gn,Gn.prototype.__class__=Gn,Gn.__cache__={},_.btCollisionWorld=Gn,Gn.prototype.getDispatcher=Gn.prototype.getDispatcher=(function(){var x=this.ptr;return _0(IT(x),Tr)}),Gn.prototype.rayTest=Gn.prototype.rayTest=(function(x,I,le){var R=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),JC(R,x,I,le)}),Gn.prototype.getPairCache=Gn.prototype.getPairCache=(function(){var x=this.ptr;return _0(JR(x),fs)}),Gn.prototype.getDispatchInfo=Gn.prototype.getDispatchInfo=(function(){var x=this.ptr;return _0(tT(x),li)}),Gn.prototype.addCollisionObject=Gn.prototype.addCollisionObject=(function(x,I,le){var R=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),I===void 0){MM(R,x);return}if(le===void 0){RM(R,x,I);return}AM(R,x,I,le)}),Gn.prototype.getBroadphase=Gn.prototype.getBroadphase=(function(){var x=this.ptr;return _0(zC(x),Os)}),Gn.prototype.convexSweepTest=Gn.prototype.convexSweepTest=(function(x,I,le,R,ee){var e=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),XS(e,x,I,le,R,ee)}),Gn.prototype.contactPairTest=Gn.prototype.contactPairTest=(function(x,I,le){var R=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),$N(R,x,I,le)}),Gn.prototype.contactTest=Gn.prototype.contactTest=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),OM(le,x,I)}),Gn.prototype.__destroy__=Gn.prototype.__destroy__=(function(){var x=this.ptr;B9(x)});function P2(){throw"cannot construct a btTypedConstraint, no constructor in IDL"}P2.prototype=Object.create(Ti.prototype),P2.prototype.constructor=P2,P2.prototype.__class__=P2,P2.__cache__={},_.btTypedConstraint=P2,P2.prototype.enableFeedback=P2.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),oE(I,x)}),P2.prototype.getBreakingImpulseThreshold=P2.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return LR(x)}),P2.prototype.setBreakingImpulseThreshold=P2.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Av(I,x)}),P2.prototype.__destroy__=P2.prototype.__destroy__=(function(){var x=this.ptr;pM(x)});function V2(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=sE(x,I),o0(V2)[this.ptr]=this}V2.prototype=Object.create(Hn.prototype),V2.prototype.constructor=V2,V2.prototype.__class__=V2,V2.__cache__={},_.btCapsuleShape=V2,V2.prototype.setMargin=V2.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),PM(I,x)}),V2.prototype.getMargin=V2.prototype.getMargin=(function(){var x=this.ptr;return DE(x)}),V2.prototype.setLocalScaling=V2.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),cE(I,x)}),V2.prototype.calculateLocalInertia=V2.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),mN(le,x,I)}),V2.prototype.__destroy__=V2.prototype.__destroy__=(function(){var x=this.ptr;a9(x)});function jn(x,I,le,R,ee){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),R===void 0){this.ptr=q9(x,I,le),o0(jn)[this.ptr]=this;return}if(ee===void 0){this.ptr=_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_4(x,I,le,R),o0(jn)[this.ptr]=this;return}this.ptr=j9(x,I,le,R,ee),o0(jn)[this.ptr]=this}jn.prototype=Object.create(P2.prototype),jn.prototype.constructor=jn,jn.prototype.__class__=jn,jn.__cache__={},_.btGeneric6DofConstraint=jn,jn.prototype.setLinearLowerLimit=jn.prototype.setLinearLowerLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Ub(I,x)}),jn.prototype.setLinearUpperLimit=jn.prototype.setLinearUpperLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),pw(I,x)}),jn.prototype.setAngularLowerLimit=jn.prototype.setAngularLowerLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),_b(I,x)}),jn.prototype.setAngularUpperLimit=jn.prototype.setAngularUpperLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),AS(I,x)}),jn.prototype.enableFeedback=jn.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),mv(I,x)}),jn.prototype.getBreakingImpulseThreshold=jn.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return DN(x)}),jn.prototype.setBreakingImpulseThreshold=jn.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),nA(I,x)}),jn.prototype.__destroy__=jn.prototype.__destroy__=(function(){var x=this.ptr;Eb(x)});function go(){throw"cannot construct a btStridingMeshInterface, no constructor in IDL"}go.prototype=Object.create(Ti.prototype),go.prototype.constructor=go,go.prototype.__class__=go,go.__cache__={},_.btStridingMeshInterface=go,go.prototype.__destroy__=go.prototype.__destroy__=(function(){var x=this.ptr;kN(x)});function _2(){throw"cannot construct a ConvexResultCallback, no constructor in IDL"}_2.prototype=Object.create(Ti.prototype),_2.prototype.constructor=_2,_2.prototype.__class__=_2,_2.__cache__={},_.ConvexResultCallback=_2,_2.prototype.hasHit=_2.prototype.hasHit=(function(){var x=this.ptr;return!!HS(x)}),_2.prototype.get_m_collisionFilterGroup=_2.prototype.get_m_collisionFilterGroup=(function(){var x=this.ptr;return tM(x)}),_2.prototype.set_m_collisionFilterGroup=_2.prototype.set_m_collisionFilterGroup=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),GR(I,x)}),_2.prototype.get_m_collisionFilterMask=_2.prototype.get_m_collisionFilterMask=(function(){var x=this.ptr;return dE(x)}),_2.prototype.set_m_collisionFilterMask=_2.prototype.set_m_collisionFilterMask=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),gb(I,x)}),_2.prototype.get_m_closestHitFraction=_2.prototype.get_m_closestHitFraction=(function(){var x=this.ptr;return SA(x)}),_2.prototype.set_m_closestHitFraction=_2.prototype.set_m_closestHitFraction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),_E(I,x)}),_2.prototype.__destroy__=_2.prototype.__destroy__=(function(){var x=this.ptr;uT(x)});function zr(){throw"cannot construct a btMotionState, no constructor in IDL"}zr.prototype=Object.create(Ti.prototype),zr.prototype.constructor=zr,zr.prototype.__class__=zr,zr.__cache__={},_.btMotionState=zr,zr.prototype.getWorldTransform=zr.prototype.getWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),rR(I,x)}),zr.prototype.setWorldTransform=zr.prototype.setWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),ZC(I,x)}),zr.prototype.__destroy__=zr.prototype.__destroy__=(function(){var x=this.ptr;WE(x)});function Dr(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=fA(x,I),o0(Dr)[this.ptr]=this}Dr.prototype=Object.create(Hn.prototype),Dr.prototype.constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},_.btConeShape=Dr,Dr.prototype.setLocalScaling=Dr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),xA(I,x)}),Dr.prototype.calculateLocalInertia=Dr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),db(le,x,I)}),Dr.prototype.__destroy__=Dr.prototype.__destroy__=(function(){var x=this.ptr;wD(x)});function rs(){throw"cannot construct a btConvexShape, no constructor in IDL"}rs.prototype=Object.create(Hn.prototype),rs.prototype.constructor=rs,rs.prototype.__class__=rs,rs.__cache__={},_.btConvexShape=rs,rs.prototype.setLocalScaling=rs.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),lw(I,x)}),rs.prototype.calculateLocalInertia=rs.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),Fb(le,x,I)}),rs.prototype.__destroy__=rs.prototype.__destroy__=(function(){var x=this.ptr;qw(x)});function Bs(){throw"cannot construct a ContactResultCallback, no constructor in IDL"}Bs.prototype=Object.create(Ti.prototype),Bs.prototype.constructor=Bs,Bs.prototype.__class__=Bs,Bs.__cache__={},_.ContactResultCallback=Bs,Bs.prototype.addSingleResult=Bs.prototype.addSingleResult=(function(x,I,le,R,ee,e,It){var Le=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),e&&typeof e=="object"&&(e=e.ptr),It&&typeof It=="object"&&(It=It.ptr),b9(Le,x,I,le,R,ee,e,It)}),Bs.prototype.__destroy__=Bs.prototype.__destroy__=(function(){var x=this.ptr;ZN(x)});function ss(){throw"cannot construct a btTriangleMeshShape, no constructor in IDL"}ss.prototype=Object.create(Vr.prototype),ss.prototype.constructor=ss,ss.prototype.__class__=ss,ss.__cache__={},_.btTriangleMeshShape=ss,ss.prototype.setLocalScaling=ss.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),fE(I,x)}),ss.prototype.calculateLocalInertia=ss.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),uw(le,x,I)}),ss.prototype.__destroy__=ss.prototype.__destroy__=(function(){var x=this.ptr;rb(x)});function Tr(){throw"cannot construct a btDispatcher, no constructor in IDL"}Tr.prototype=Object.create(Ti.prototype),Tr.prototype.constructor=Tr,Tr.prototype.__class__=Tr,Tr.__cache__={},_.btDispatcher=Tr,Tr.prototype.getNumManifolds=Tr.prototype.getNumManifolds=(function(){var x=this.ptr;return zN(x)}),Tr.prototype.getManifoldByIndexInternal=Tr.prototype.getManifoldByIndexInternal=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(QE(I,x),H2)}),Tr.prototype.__destroy__=Tr.prototype.__destroy__=(function(){var x=this.ptr;Ww(x)});function pn(){throw"cannot construct a btDynamicsWorld, no constructor in IDL"}pn.prototype=Object.create(Gn.prototype),pn.prototype.constructor=pn,pn.prototype.__class__=pn,pn.__cache__={},_.btDynamicsWorld=pn,pn.prototype.addAction=pn.prototype.addAction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),sD(I,x)}),pn.prototype.removeAction=pn.prototype.removeAction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),ob(I,x)}),pn.prototype.getSolverInfo=pn.prototype.getSolverInfo=(function(){var x=this.ptr;return _0(sR(x),ir)}),pn.prototype.getDispatcher=pn.prototype.getDispatcher=(function(){var x=this.ptr;return _0(VT(x),Tr)}),pn.prototype.rayTest=pn.prototype.rayTest=(function(x,I,le){var R=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),Kv(R,x,I,le)}),pn.prototype.getPairCache=pn.prototype.getPairCache=(function(){var x=this.ptr;return _0(HD(x),fs)}),pn.prototype.getDispatchInfo=pn.prototype.getDispatchInfo=(function(){var x=this.ptr;return _0(J9(x),li)}),pn.prototype.addCollisionObject=pn.prototype.addCollisionObject=(function(x,I,le){var R=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),I===void 0){qM(R,x);return}if(le===void 0){$M(R,x,I);return}lS(R,x,I,le)}),pn.prototype.getBroadphase=pn.prototype.getBroadphase=(function(){var x=this.ptr;return _0(M9(x),Os)}),pn.prototype.convexSweepTest=pn.prototype.convexSweepTest=(function(x,I,le,R,ee){var e=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),ND(e,x,I,le,R,ee)}),pn.prototype.contactPairTest=pn.prototype.contactPairTest=(function(x,I,le){var R=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),QR(R,x,I,le)}),pn.prototype.contactTest=pn.prototype.contactTest=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),V7(le,x,I)}),pn.prototype.__destroy__=pn.prototype.__destroy__=(function(){var x=this.ptr;aC(x)});function p2(){throw"cannot construct a RayResultCallback, no constructor in IDL"}p2.prototype=Object.create(Ti.prototype),p2.prototype.constructor=p2,p2.prototype.__class__=p2,p2.__cache__={},_.RayResultCallback=p2,p2.prototype.hasHit=p2.prototype.hasHit=(function(){var x=this.ptr;return!!dw(x)}),p2.prototype.get_m_collisionFilterGroup=p2.prototype.get_m_collisionFilterGroup=(function(){var x=this.ptr;return dA(x)}),p2.prototype.set_m_collisionFilterGroup=p2.prototype.set_m_collisionFilterGroup=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),kT(I,x)}),p2.prototype.get_m_collisionFilterMask=p2.prototype.get_m_collisionFilterMask=(function(){var x=this.ptr;return DT(x)}),p2.prototype.set_m_collisionFilterMask=p2.prototype.set_m_collisionFilterMask=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),oS(I,x)}),p2.prototype.get_m_collisionObject=p2.prototype.get_m_collisionObject=(function(){var x=this.ptr;return _0(GM(x),gi)}),p2.prototype.set_m_collisionObject=p2.prototype.set_m_collisionObject=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),tD(I,x)}),p2.prototype.__destroy__=p2.prototype.__destroy__=(function(){var x=this.ptr;gC(x)});function C0(x,I,le){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),x===void 0){this.ptr=GA(),o0(C0)[this.ptr]=this;return}if(I===void 0){this.ptr=_emscripten_bind_btVector3_btVector3_1(x),o0(C0)[this.ptr]=this;return}if(le===void 0){this.ptr=_emscripten_bind_btVector3_btVector3_2(x,I),o0(C0)[this.ptr]=this;return}this.ptr=OA(x,I,le),o0(C0)[this.ptr]=this}C0.prototype=Object.create(Ti.prototype),C0.prototype.constructor=C0,C0.prototype.__class__=C0,C0.__cache__={},_.btVector3=C0,C0.prototype.length=C0.prototype.length=(function(){var x=this.ptr;return iS(x)}),C0.prototype.x=C0.prototype.x=(function(){var x=this.ptr;return lR(x)}),C0.prototype.y=C0.prototype.y=(function(){var x=this.ptr;return gN(x)}),C0.prototype.z=C0.prototype.z=(function(){var x=this.ptr;return WA(x)}),C0.prototype.setX=C0.prototype.setX=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),m9(I,x)}),C0.prototype.setY=C0.prototype.setY=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),cC(I,x)}),C0.prototype.setZ=C0.prototype.setZ=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),C9(I,x)}),C0.prototype.setValue=C0.prototype.setValue=(function(x,I,le){var R=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),CR(R,x,I,le)}),C0.prototype.normalize=C0.prototype.normalize=(function(){var x=this.ptr;dC(x)}),C0.prototype.dot=C0.prototype.dot=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),Z7(I,x)}),C0.prototype.op_mul=C0.prototype.op_mul=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(Yv(I,x),C0)}),C0.prototype.op_add=C0.prototype.op_add=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(pE(I,x),C0)}),C0.prototype.op_sub=C0.prototype.op_sub=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(LS(I,x),C0)}),C0.prototype.__destroy__=C0.prototype.__destroy__=(function(){var x=this.ptr;JM(x)});function xo(){throw"cannot construct a btVehicleRaycaster, no constructor in IDL"}xo.prototype=Object.create(Ti.prototype),xo.prototype.constructor=xo,xo.prototype.__class__=xo,xo.__cache__={},_.btVehicleRaycaster=xo,xo.prototype.__destroy__=xo.prototype.__destroy__=(function(){var x=this.ptr;k7(x)});function wi(){this.ptr=q7(),o0(wi)[this.ptr]=this}wi.prototype=Object.create(gi.prototype),wi.prototype.constructor=wi,wi.prototype.__class__=wi,wi.__cache__={},_.btGhostObject=wi,wi.prototype.getNumOverlappingObjects=wi.prototype.getNumOverlappingObjects=(function(){var x=this.ptr;return PR(x)}),wi.prototype.getOverlappingObject=wi.prototype.getOverlappingObject=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(yD(I,x),gi)}),wi.prototype.setAnisotropicFriction=wi.prototype.setAnisotropicFriction=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),iE(le,x,I)}),wi.prototype.getCollisionShape=wi.prototype.getCollisionShape=(function(){var x=this.ptr;return _0(kR(x),Hn)}),wi.prototype.setContactProcessingThreshold=wi.prototype.setContactProcessingThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),VC(I,x)}),wi.prototype.setActivationState=wi.prototype.setActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),XN(I,x)}),wi.prototype.forceActivationState=wi.prototype.forceActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),sA(I,x)}),wi.prototype.activate=wi.prototype.activate=(function(x){var I=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),x===void 0){aE(I);return}zR(I,x)}),wi.prototype.isActive=wi.prototype.isActive=(function(){var x=this.ptr;return!!pC(x)}),wi.prototype.isKinematicObject=wi.prototype.isKinematicObject=(function(){var x=this.ptr;return!!s9(x)}),wi.prototype.setRestitution=wi.prototype.setRestitution=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),gR(I,x)}),wi.prototype.setFriction=wi.prototype.setFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),l7(I,x)}),wi.prototype.setRollingFriction=wi.prototype.setRollingFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Aw(I,x)}),wi.prototype.getWorldTransform=wi.prototype.getWorldTransform=(function(){var x=this.ptr;return _0(FE(x),An)}),wi.prototype.getCollisionFlags=wi.prototype.getCollisionFlags=(function(){var x=this.ptr;return MR(x)}),wi.prototype.setCollisionFlags=wi.prototype.setCollisionFlags=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),zT(I,x)}),wi.prototype.setWorldTransform=wi.prototype.setWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),d7(I,x)}),wi.prototype.setCollisionShape=wi.prototype.setCollisionShape=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),CN(I,x)}),wi.prototype.setCcdMotionThreshold=wi.prototype.setCcdMotionThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),dT(I,x)}),wi.prototype.setCcdSweptSphereRadius=wi.prototype.setCcdSweptSphereRadius=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),sN(I,x)}),wi.prototype.__destroy__=wi.prototype.__destroy__=(function(){var x=this.ptr;GC(x)});function Qn(){throw"cannot construct a btQuadWord, no constructor in IDL"}Qn.prototype=Object.create(Ti.prototype),Qn.prototype.constructor=Qn,Qn.prototype.__class__=Qn,Qn.__cache__={},_.btQuadWord=Qn,Qn.prototype.x=Qn.prototype.x=(function(){var x=this.ptr;return Qv(x)}),Qn.prototype.y=Qn.prototype.y=(function(){var x=this.ptr;return b7(x)}),Qn.prototype.z=Qn.prototype.z=(function(){var x=this.ptr;return Lv(x)}),Qn.prototype.w=Qn.prototype.w=(function(){var x=this.ptr;return O7(x)}),Qn.prototype.setX=Qn.prototype.setX=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),fC(I,x)}),Qn.prototype.setY=Qn.prototype.setY=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),E9(I,x)}),Qn.prototype.setZ=Qn.prototype.setZ=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),RE(I,x)}),Qn.prototype.setW=Qn.prototype.setW=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),gS(I,x)}),Qn.prototype.__destroy__=Qn.prototype.__destroy__=(function(){var x=this.ptr;KA(x)});function z2(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=QM(x),o0(z2)[this.ptr]=this}z2.prototype=Object.create(Hn.prototype),z2.prototype.constructor=z2,z2.prototype.__class__=z2,z2.__cache__={},_.btCylinderShape=z2,z2.prototype.setMargin=z2.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),F9(I,x)}),z2.prototype.getMargin=z2.prototype.getMargin=(function(){var x=this.ptr;return IE(x)}),z2.prototype.setLocalScaling=z2.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),QC(I,x)}),z2.prototype.calculateLocalInertia=z2.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),QT(le,x,I)}),z2.prototype.__destroy__=z2.prototype.__destroy__=(function(){var x=this.ptr;dv(x)});function Zs(){throw"cannot construct a btActionInterface, no constructor in IDL"}Zs.prototype=Object.create(Ti.prototype),Zs.prototype.constructor=Zs,Zs.prototype.__class__=Zs,Zs.__cache__={},_.btActionInterface=Zs,Zs.prototype.__destroy__=Zs.prototype.__destroy__=(function(){var x=this.ptr;BM(x)});function Ir(){throw"cannot construct a btMatrix3x3, no constructor in IDL"}Ir.prototype=Object.create(Ti.prototype),Ir.prototype.constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},_.btMatrix3x3=Ir,Ir.prototype.setEulerZYX=Ir.prototype.setEulerZYX=(function(x,I,le){var R=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),AT(R,x,I,le)}),Ir.prototype.getRotation=Ir.prototype.getRotation=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),WT(I,x)}),Ir.prototype.getRow=Ir.prototype.getRow=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(_M(I,x),C0)}),Ir.prototype.__destroy__=Ir.prototype.__destroy__=(function(){var x=this.ptr;WS(x)});function Us(){this.ptr=oA(),o0(Us)[this.ptr]=this}Us.prototype=Object.create(Bs.prototype),Us.prototype.constructor=Us,Us.prototype.__class__=Us,Us.__cache__={},_.ConcreteContactResultCallback=Us,Us.prototype.addSingleResult=Us.prototype.addSingleResult=(function(x,I,le,R,ee,e,It){var Le=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),e&&typeof e=="object"&&(e=e.ptr),It&&typeof It=="object"&&(It=It.ptr),XA(Le,x,I,le,R,ee,e,It)}),Us.prototype.__destroy__=Us.prototype.__destroy__=(function(){var x=this.ptr;DA(x)});function Wr(x,I,le){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),le===void 0){this.ptr=yN(x,I),o0(Wr)[this.ptr]=this;return}this.ptr=vN(x,I,le),o0(Wr)[this.ptr]=this}Wr.prototype=Object.create(ss.prototype),Wr.prototype.constructor=Wr,Wr.prototype.__class__=Wr,Wr.__cache__={},_.btBvhTriangleMeshShape=Wr,Wr.prototype.setLocalScaling=Wr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Z9(I,x)}),Wr.prototype.calculateLocalInertia=Wr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),H7(le,x,I)}),Wr.prototype.__destroy__=Wr.prototype.__destroy__=(function(){var x=this.ptr;Tb(x)});function yo(){this.ptr=XT(),o0(yo)[this.ptr]=this}yo.prototype=Object.create(Ti.prototype),yo.prototype.constructor=yo,yo.prototype.__class__=yo,yo.__cache__={},_.btDbvtBroadphase=yo,yo.prototype.__destroy__=yo.prototype.__destroy__=(function(){var x=this.ptr;rE(x)});function Yo(){throw"cannot construct a VoidPtr, no constructor in IDL"}Yo.prototype=Object.create(Ti.prototype),Yo.prototype.constructor=Yo,Yo.prototype.__class__=Yo,Yo.__cache__={},_.VoidPtr=Yo,Yo.prototype.__destroy__=Yo.prototype.__destroy__=(function(){var x=this.ptr;aA(x)});function vo(){this.ptr=FM(),o0(vo)[this.ptr]=this}vo.prototype=Object.create(Ti.prototype),vo.prototype.constructor=vo,vo.prototype.__class__=vo,vo.__cache__={},_.btSequentialImpulseConstraintSolver=vo,vo.prototype.__destroy__=vo.prototype.__destroy__=(function(){var x=this.ptr;vT(x)});function li(){throw"cannot construct a btDispatcherInfo, no constructor in IDL"}li.prototype=Object.create(Ti.prototype),li.prototype.constructor=li,li.prototype.__class__=li,li.__cache__={},_.btDispatcherInfo=li,li.prototype.get_m_timeStep=li.prototype.get_m_timeStep=(function(){var x=this.ptr;return GE(x)}),li.prototype.set_m_timeStep=li.prototype.set_m_timeStep=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),UA(I,x)}),li.prototype.get_m_stepCount=li.prototype.get_m_stepCount=(function(){var x=this.ptr;return dS(x)}),li.prototype.set_m_stepCount=li.prototype.set_m_stepCount=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),QN(I,x)}),li.prototype.get_m_dispatchFunc=li.prototype.get_m_dispatchFunc=(function(){var x=this.ptr;return CA(x)}),li.prototype.set_m_dispatchFunc=li.prototype.set_m_dispatchFunc=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),oR(I,x)}),li.prototype.get_m_timeOfImpact=li.prototype.get_m_timeOfImpact=(function(){var x=this.ptr;return bv(x)}),li.prototype.set_m_timeOfImpact=li.prototype.set_m_timeOfImpact=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),_9(I,x)}),li.prototype.get_m_useContinuous=li.prototype.get_m_useContinuous=(function(){var x=this.ptr;return!!Fw(x)}),li.prototype.set_m_useContinuous=li.prototype.set_m_useContinuous=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),xv(I,x)}),li.prototype.get_m_enableSatConvex=li.prototype.get_m_enableSatConvex=(function(){var x=this.ptr;return!!YD(x)}),li.prototype.set_m_enableSatConvex=li.prototype.set_m_enableSatConvex=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),sT(I,x)}),li.prototype.get_m_enableSPU=li.prototype.get_m_enableSPU=(function(){var x=this.ptr;return!!gv(x)}),li.prototype.set_m_enableSPU=li.prototype.set_m_enableSPU=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),BS(I,x)}),li.prototype.get_m_useEpa=li.prototype.get_m_useEpa=(function(){var x=this.ptr;return!!DS(x)}),li.prototype.set_m_useEpa=li.prototype.set_m_useEpa=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),P7(I,x)}),li.prototype.get_m_allowedCcdPenetration=li.prototype.get_m_allowedCcdPenetration=(function(){var x=this.ptr;return mT(x)}),li.prototype.set_m_allowedCcdPenetration=li.prototype.set_m_allowedCcdPenetration=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),TN(I,x)}),li.prototype.get_m_useConvexConservativeDistanceUtil=li.prototype.get_m_useConvexConservativeDistanceUtil=(function(){var x=this.ptr;return!!Vw(x)}),li.prototype.set_m_useConvexConservativeDistanceUtil=li.prototype.set_m_useConvexConservativeDistanceUtil=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),CS(I,x)}),li.prototype.get_m_convexConservativeDistanceThreshold=li.prototype.get_m_convexConservativeDistanceThreshold=(function(){var x=this.ptr;return ET(x)}),li.prototype.set_m_convexConservativeDistanceThreshold=li.prototype.set_m_convexConservativeDistanceThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),kw(I,x)}),li.prototype.__destroy__=li.prototype.__destroy__=(function(){var x=this.ptr;bE(x)});function Ko(){throw"cannot construct a btCollisionConfiguration, no constructor in IDL"}Ko.prototype=Object.create(Ti.prototype),Ko.prototype.constructor=Ko,Ko.prototype.__class__=Ko,Ko.__cache__={},_.btCollisionConfiguration=Ko,Ko.prototype.__destroy__=Ko.prototype.__destroy__=(function(){var x=this.ptr;g9(x)});function ws(x,I,le,R,ee){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),le===void 0){this.ptr=sC(x,I),o0(ws)[this.ptr]=this;return}if(R===void 0){this.ptr=oC(x,I,le),o0(ws)[this.ptr]=this;return}if(ee===void 0){this.ptr=lC(x,I,le,R),o0(ws)[this.ptr]=this;return}this.ptr=uC(x,I,le,R,ee),o0(ws)[this.ptr]=this}ws.prototype=Object.create(Ti.prototype),ws.prototype.constructor=ws,ws.prototype.__class__=ws,ws.__cache__={},_.btAxisSweep3=ws,ws.prototype.__destroy__=ws.prototype.__destroy__=(function(){var x=this.ptr;Mv(x)});function Mi(){this.ptr=L9(),o0(Mi)[this.ptr]=this}Mi.prototype=Object.create(wi.prototype),Mi.prototype.constructor=Mi,Mi.prototype.__class__=Mi,Mi.__cache__={},_.btPairCachingGhostObject=Mi,Mi.prototype.setAnisotropicFriction=Mi.prototype.setAnisotropicFriction=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),Uw(le,x,I)}),Mi.prototype.getCollisionShape=Mi.prototype.getCollisionShape=(function(){var x=this.ptr;return _0(FT(x),Hn)}),Mi.prototype.setContactProcessingThreshold=Mi.prototype.setContactProcessingThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),fw(I,x)}),Mi.prototype.setActivationState=Mi.prototype.setActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Tw(I,x)}),Mi.prototype.forceActivationState=Mi.prototype.forceActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),pS(I,x)}),Mi.prototype.activate=Mi.prototype.activate=(function(x){var I=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),x===void 0){uS(I);return}fS(I,x)}),Mi.prototype.isActive=Mi.prototype.isActive=(function(){var x=this.ptr;return!!cI(x)}),Mi.prototype.isKinematicObject=Mi.prototype.isKinematicObject=(function(){var x=this.ptr;return!!xE(x)}),Mi.prototype.setRestitution=Mi.prototype.setRestitution=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),lT(I,x)}),Mi.prototype.setFriction=Mi.prototype.setFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I7(I,x)}),Mi.prototype.setRollingFriction=Mi.prototype.setRollingFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),MN(I,x)}),Mi.prototype.getWorldTransform=Mi.prototype.getWorldTransform=(function(){var x=this.ptr;return _0(u7(x),An)}),Mi.prototype.getCollisionFlags=Mi.prototype.getCollisionFlags=(function(){var x=this.ptr;return cD(x)}),Mi.prototype.setCollisionFlags=Mi.prototype.setCollisionFlags=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Yw(I,x)}),Mi.prototype.setWorldTransform=Mi.prototype.setWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),iN(I,x)}),Mi.prototype.setCollisionShape=Mi.prototype.setCollisionShape=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),wA(I,x)}),Mi.prototype.setCcdMotionThreshold=Mi.prototype.setCcdMotionThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),TR(I,x)}),Mi.prototype.setCcdSweptSphereRadius=Mi.prototype.setCcdSweptSphereRadius=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),JT(I,x)}),Mi.prototype.getNumOverlappingObjects=Mi.prototype.getNumOverlappingObjects=(function(){var x=this.ptr;return iC(x)}),Mi.prototype.getOverlappingObject=Mi.prototype.getOverlappingObject=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(uN(I,x),gi)}),Mi.prototype.__destroy__=Mi.prototype.__destroy__=(function(){var x=this.ptr;cS(x)});function ti(x,I,le,R){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),R===void 0){this.ptr=uR(x,I,le),o0(ti)[this.ptr]=this;return}this.ptr=_R(x,I,le,R),o0(ti)[this.ptr]=this}ti.prototype=Object.create(Ti.prototype),ti.prototype.constructor=ti,ti.prototype.__class__=ti,ti.__cache__={},_.btRigidBodyConstructionInfo=ti,ti.prototype.get_m_linearDamping=ti.prototype.get_m_linearDamping=(function(){var x=this.ptr;return GN(x)}),ti.prototype.set_m_linearDamping=ti.prototype.set_m_linearDamping=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),lD(I,x)}),ti.prototype.get_m_angularDamping=ti.prototype.get_m_angularDamping=(function(){var x=this.ptr;return Vv(x)}),ti.prototype.set_m_angularDamping=ti.prototype.set_m_angularDamping=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),mS(I,x)}),ti.prototype.get_m_friction=ti.prototype.get_m_friction=(function(){var x=this.ptr;return xS(x)}),ti.prototype.set_m_friction=ti.prototype.set_m_friction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),VA(I,x)}),ti.prototype.get_m_rollingFriction=ti.prototype.get_m_rollingFriction=(function(){var x=this.ptr;return TA(x)}),ti.prototype.set_m_rollingFriction=ti.prototype.set_m_rollingFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),hR(I,x)}),ti.prototype.get_m_restitution=ti.prototype.get_m_restitution=(function(){var x=this.ptr;return ab(x)}),ti.prototype.set_m_restitution=ti.prototype.set_m_restitution=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),D9(I,x)}),ti.prototype.get_m_linearSleepingThreshold=ti.prototype.get_m_linearSleepingThreshold=(function(){var x=this.ptr;return WN(x)}),ti.prototype.set_m_linearSleepingThreshold=ti.prototype.set_m_linearSleepingThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),FA(I,x)}),ti.prototype.get_m_angularSleepingThreshold=ti.prototype.get_m_angularSleepingThreshold=(function(){var x=this.ptr;return AE(x)}),ti.prototype.set_m_angularSleepingThreshold=ti.prototype.set_m_angularSleepingThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),bS(I,x)}),ti.prototype.get_m_additionalDamping=ti.prototype.get_m_additionalDamping=(function(){var x=this.ptr;return!!$T(x)}),ti.prototype.set_m_additionalDamping=ti.prototype.set_m_additionalDamping=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),uD(I,x)}),ti.prototype.get_m_additionalDampingFactor=ti.prototype.get_m_additionalDampingFactor=(function(){var x=this.ptr;return lE(x)}),ti.prototype.set_m_additionalDampingFactor=ti.prototype.set_m_additionalDampingFactor=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),_T(I,x)}),ti.prototype.get_m_additionalLinearDampingThresholdSqr=ti.prototype.get_m_additionalLinearDampingThresholdSqr=(function(){var x=this.ptr;return _C(x)}),ti.prototype.set_m_additionalLinearDampingThresholdSqr=ti.prototype.set_m_additionalLinearDampingThresholdSqr=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),CT(I,x)}),ti.prototype.get_m_additionalAngularDampingThresholdSqr=ti.prototype.get_m_additionalAngularDampingThresholdSqr=(function(){var x=this.ptr;return gw(x)}),ti.prototype.set_m_additionalAngularDampingThresholdSqr=ti.prototype.set_m_additionalAngularDampingThresholdSqr=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),lM(I,x)}),ti.prototype.get_m_additionalAngularDampingFactor=ti.prototype.get_m_additionalAngularDampingFactor=(function(){var x=this.ptr;return gT(x)}),ti.prototype.set_m_additionalAngularDampingFactor=ti.prototype.set_m_additionalAngularDampingFactor=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),$7(I,x)}),ti.prototype.__destroy__=ti.prototype.__destroy__=(function(){var x=this.ptr;fN(x)});function Vi(){throw"cannot construct a RaycastInfo, no constructor in IDL"}Vi.prototype=Object.create(Ti.prototype),Vi.prototype.constructor=Vi,Vi.prototype.__class__=Vi,Vi.__cache__={},_.RaycastInfo=Vi,Vi.prototype.get_m_contactNormalWS=Vi.prototype.get_m_contactNormalWS=(function(){var x=this.ptr;return _0(xC(x),C0)}),Vi.prototype.set_m_contactNormalWS=Vi.prototype.set_m_contactNormalWS=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),cA(I,x)}),Vi.prototype.get_m_contactPointWS=Vi.prototype.get_m_contactPointWS=(function(){var x=this.ptr;return _0(r7(x),C0)}),Vi.prototype.set_m_contactPointWS=Vi.prototype.set_m_contactPointWS=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),uA(I,x)}),Vi.prototype.get_m_suspensionLength=Vi.prototype.get_m_suspensionLength=(function(){var x=this.ptr;return wR(x)}),Vi.prototype.set_m_suspensionLength=Vi.prototype.set_m_suspensionLength=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),y7(I,x)}),Vi.prototype.get_m_hardPointWS=Vi.prototype.get_m_hardPointWS=(function(){var x=this.ptr;return _0($A(x),C0)}),Vi.prototype.set_m_hardPointWS=Vi.prototype.set_m_hardPointWS=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),aD(I,x)}),Vi.prototype.get_m_wheelDirectionWS=Vi.prototype.get_m_wheelDirectionWS=(function(){var x=this.ptr;return _0(JA(x),C0)}),Vi.prototype.set_m_wheelDirectionWS=Vi.prototype.set_m_wheelDirectionWS=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),wv(I,x)}),Vi.prototype.get_m_wheelAxleWS=Vi.prototype.get_m_wheelAxleWS=(function(){var x=this.ptr;return _0(Gv(x),C0)}),Vi.prototype.set_m_wheelAxleWS=Vi.prototype.set_m_wheelAxleWS=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),IA(I,x)}),Vi.prototype.get_m_isInContact=Vi.prototype.get_m_isInContact=(function(){var x=this.ptr;return!!bM(x)}),Vi.prototype.set_m_isInContact=Vi.prototype.set_m_isInContact=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),z9(I,x)}),Vi.prototype.get_m_groundObject=Vi.prototype.get_m_groundObject=(function(){var x=this.ptr;return sw(x)}),Vi.prototype.set_m_groundObject=Vi.prototype.set_m_groundObject=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),VR(I,x)}),Vi.prototype.__destroy__=Vi.prototype.__destroy__=(function(){var x=this.ptr;eR(x)});function sn(){throw"cannot construct a btManifoldPoint, no constructor in IDL"}sn.prototype=Object.create(Ti.prototype),sn.prototype.constructor=sn,sn.prototype.__class__=sn,sn.__cache__={},_.btManifoldPoint=sn,sn.prototype.getPositionWorldOnA=sn.prototype.getPositionWorldOnA=(function(){var x=this.ptr;return _0(KN(x),C0)}),sn.prototype.getPositionWorldOnB=sn.prototype.getPositionWorldOnB=(function(){var x=this.ptr;return _0(HR(x),C0)}),sn.prototype.getDistance=sn.prototype.getDistance=(function(){var x=this.ptr;return PD(x)}),sn.prototype.get_m_localPointA=sn.prototype.get_m_localPointA=(function(){var x=this.ptr;return _0(ON(x),C0)}),sn.prototype.set_m_localPointA=sn.prototype.set_m_localPointA=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Y7(I,x)}),sn.prototype.get_m_localPointB=sn.prototype.get_m_localPointB=(function(){var x=this.ptr;return _0(Xb(x),C0)}),sn.prototype.set_m_localPointB=sn.prototype.set_m_localPointB=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),S9(I,x)}),sn.prototype.get_m_positionWorldOnB=sn.prototype.get_m_positionWorldOnB=(function(){var x=this.ptr;return _0(ZT(x),C0)}),sn.prototype.set_m_positionWorldOnB=sn.prototype.set_m_positionWorldOnB=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),v9(I,x)}),sn.prototype.get_m_positionWorldOnA=sn.prototype.get_m_positionWorldOnA=(function(){var x=this.ptr;return _0(jR(x),C0)}),sn.prototype.set_m_positionWorldOnA=sn.prototype.set_m_positionWorldOnA=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),jb(I,x)}),sn.prototype.get_m_normalWorldOnB=sn.prototype.get_m_normalWorldOnB=(function(){var x=this.ptr;return _0(Cb(x),C0)}),sn.prototype.set_m_normalWorldOnB=sn.prototype.set_m_normalWorldOnB=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),lb(I,x)}),sn.prototype.__destroy__=sn.prototype.__destroy__=(function(){var x=this.ptr;pR(x)});function Os(){throw"cannot construct a btBroadphaseInterface, no constructor in IDL"}Os.prototype=Object.create(Ti.prototype),Os.prototype.constructor=Os,Os.prototype.__class__=Os,Os.__cache__={},_.btBroadphaseInterface=Os,Os.prototype.__destroy__=Os.prototype.__destroy__=(function(){var x=this.ptr;jA(x)});function bi(x,I,le,R){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),this.ptr=Sv(x,I,le,R),o0(bi)[this.ptr]=this}bi.prototype=Object.create(pn.prototype),bi.prototype.constructor=bi,bi.prototype.__class__=bi,bi.__cache__={},_.btDiscreteDynamicsWorld=bi,bi.prototype.setGravity=bi.prototype.setGravity=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),RN(I,x)}),bi.prototype.getGravity=bi.prototype.getGravity=(function(){var x=this.ptr;return _0(zA(x),C0)}),bi.prototype.addRigidBody=bi.prototype.addRigidBody=(function(x,I,le){var R=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),I===void 0){xM(R,x);return}if(le===void 0){_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_2(R,x,I);return}gM(R,x,I,le)}),bi.prototype.removeRigidBody=bi.prototype.removeRigidBody=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),m7(I,x)}),bi.prototype.addConstraint=bi.prototype.addConstraint=(function(x,I){var le=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),I===void 0){NS(le,x);return}ES(le,x,I)}),bi.prototype.removeConstraint=bi.prototype.removeConstraint=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Rb(I,x)}),bi.prototype.stepSimulation=bi.prototype.stepSimulation=(function(x,I,le){var R=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),I===void 0?qv(R,x):le===void 0?$v(R,x,I):Xv(R,x,I,le)}),bi.prototype.getDispatcher=bi.prototype.getDispatcher=(function(){var x=this.ptr;return _0(YM(x),Tr)}),bi.prototype.rayTest=bi.prototype.rayTest=(function(x,I,le){var R=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),nI(R,x,I,le)}),bi.prototype.getPairCache=bi.prototype.getPairCache=(function(){var x=this.ptr;return _0(BE(x),fs)}),bi.prototype.getDispatchInfo=bi.prototype.getDispatchInfo=(function(){var x=this.ptr;return _0(IC(x),li)}),bi.prototype.addCollisionObject=bi.prototype.addCollisionObject=(function(x,I,le){var R=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),I===void 0){XE(R,x);return}if(le===void 0){$E(R,x,I);return}YE(R,x,I,le)}),bi.prototype.getBroadphase=bi.prototype.getBroadphase=(function(){var x=this.ptr;return _0(v7(x),Os)}),bi.prototype.convexSweepTest=bi.prototype.convexSweepTest=(function(x,I,le,R,ee){var e=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),jD(e,x,I,le,R,ee)}),bi.prototype.contactPairTest=bi.prototype.contactPairTest=(function(x,I,le){var R=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),$b(R,x,I,le)}),bi.prototype.contactTest=bi.prototype.contactTest=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),z7(le,x,I)}),bi.prototype.addAction=bi.prototype.addAction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),S7(I,x)}),bi.prototype.removeAction=bi.prototype.removeAction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),SM(I,x)}),bi.prototype.getSolverInfo=bi.prototype.getSolverInfo=(function(){var x=this.ptr;return _0(k9(x),ir)}),bi.prototype.__destroy__=bi.prototype.__destroy__=(function(){var x=this.ptr;jw(x)});function Hr(x,I){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),I===void 0){this.ptr=rS(x),o0(Hr)[this.ptr]=this;return}this.ptr=nS(x,I),o0(Hr)[this.ptr]=this}Hr.prototype=Object.create(rs.prototype),Hr.prototype.constructor=Hr,Hr.prototype.__class__=Hr,Hr.__cache__={},_.btConvexTriangleMeshShape=Hr,Hr.prototype.setLocalScaling=Hr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),R7(I,x)}),Hr.prototype.calculateLocalInertia=Hr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),LE(le,x,I)}),Hr.prototype.__destroy__=Hr.prototype.__destroy__=(function(){var x=this.ptr;ZE(x)});function Dn(x,I,le,R){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),le===void 0){this.ptr=aN(x,I),o0(Dn)[this.ptr]=this;return}if(R===void 0){this.ptr=_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_3(x,I,le),o0(Dn)[this.ptr]=this;return}this.ptr=oN(x,I,le,R),o0(Dn)[this.ptr]=this}Dn.prototype=Object.create(P2.prototype),Dn.prototype.constructor=Dn,Dn.prototype.__class__=Dn,Dn.__cache__={},_.btPoint2PointConstraint=Dn,Dn.prototype.setPivotA=Dn.prototype.setPivotA=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),pN(I,x)}),Dn.prototype.setPivotB=Dn.prototype.setPivotB=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),ID(I,x)}),Dn.prototype.getPivotInA=Dn.prototype.getPivotInA=(function(){var x=this.ptr;return _0(VM(x),C0)}),Dn.prototype.getPivotInB=Dn.prototype.getPivotInB=(function(){var x=this.ptr;return _0(EE(x),C0)}),Dn.prototype.enableFeedback=Dn.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),nC(I,x)}),Dn.prototype.getBreakingImpulseThreshold=Dn.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return Ib(x)}),Dn.prototype.setBreakingImpulseThreshold=Dn.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Q9(I,x)}),Dn.prototype.get_m_setting=Dn.prototype.get_m_setting=(function(){var x=this.ptr;return _0(kM(x),S2)}),Dn.prototype.set_m_setting=Dn.prototype.set_m_setting=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Nw(I,x)}),Dn.prototype.__destroy__=Dn.prototype.__destroy__=(function(){var x=this.ptr;RS(x)});function Jn(x,I,le,R,ee){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),R===void 0){this.ptr=AD(x,I,le),o0(Jn)[this.ptr]=this;return}if(ee===void 0){this.ptr=_emscripten_bind_btSliderConstraint_btSliderConstraint_4(x,I,le,R),o0(Jn)[this.ptr]=this;return}this.ptr=RD(x,I,le,R,ee),o0(Jn)[this.ptr]=this}Jn.prototype=Object.create(P2.prototype),Jn.prototype.constructor=Jn,Jn.prototype.__class__=Jn,Jn.__cache__={},_.btSliderConstraint=Jn,Jn.prototype.setLowerLinLimit=Jn.prototype.setLowerLinLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Yb(I,x)}),Jn.prototype.setUpperLinLimit=Jn.prototype.setUpperLinLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),MC(I,x)}),Jn.prototype.setLowerAngLimit=Jn.prototype.setLowerAngLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),lA(I,x)}),Jn.prototype.setUpperAngLimit=Jn.prototype.setUpperAngLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),ZR(I,x)}),Jn.prototype.enableFeedback=Jn.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),FD(I,x)}),Jn.prototype.getBreakingImpulseThreshold=Jn.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return fT(x)}),Jn.prototype.setBreakingImpulseThreshold=Jn.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),o7(I,x)}),Jn.prototype.__destroy__=Jn.prototype.__destroy__=(function(){var x=this.ptr;bD(x)});function hn(x,I,le,R){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),le===void 0){this.ptr=RC(x,I),o0(hn)[this.ptr]=this;return}if(R===void 0){this.ptr=_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_3(x,I,le),o0(hn)[this.ptr]=this;return}this.ptr=EC(x,I,le,R),o0(hn)[this.ptr]=this}hn.prototype=Object.create(P2.prototype),hn.prototype.constructor=hn,hn.prototype.__class__=hn,hn.__cache__={},_.btConeTwistConstraint=hn,hn.prototype.setLimit=hn.prototype.setLimit=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),IN(le,x,I)}),hn.prototype.setAngularOnly=hn.prototype.setAngularOnly=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),xR(I,x)}),hn.prototype.setDamping=hn.prototype.setDamping=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),P9(I,x)}),hn.prototype.enableMotor=hn.prototype.enableMotor=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),oT(I,x)}),hn.prototype.setMaxMotorImpulse=hn.prototype.setMaxMotorImpulse=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),jT(I,x)}),hn.prototype.setMaxMotorImpulseNormalized=hn.prototype.setMaxMotorImpulseNormalized=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),M7(I,x)}),hn.prototype.setMotorTarget=hn.prototype.setMotorTarget=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),eA(I,x)}),hn.prototype.setMotorTargetInConstraintSpace=hn.prototype.setMotorTargetInConstraintSpace=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),BA(I,x)}),hn.prototype.enableFeedback=hn.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),CC(I,x)}),hn.prototype.getBreakingImpulseThreshold=hn.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return fb(x)}),hn.prototype.setBreakingImpulseThreshold=hn.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),NM(I,x)}),hn.prototype.__destroy__=hn.prototype.__destroy__=(function(){var x=this.ptr;YA(x)});function Qs(x){if(x&&typeof x=="object"&&(x=x.ptr),x===void 0){this.ptr=cT(),o0(Qs)[this.ptr]=this;return}this.ptr=ME(x),o0(Qs)[this.ptr]=this}Qs.prototype=Object.create(Ti.prototype),Qs.prototype.constructor=Qs,Qs.prototype.__class__=Qs,Qs.__cache__={},_.btDefaultCollisionConfiguration=Qs,Qs.prototype.__destroy__=Qs.prototype.__destroy__=(function(){var x=this.ptr;vR(x)});function os(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=YR(x,I),o0(os)[this.ptr]=this}os.prototype=Object.create(Dr.prototype),os.prototype.constructor=os,os.prototype.__class__=os,os.__cache__={},_.btConeShapeZ=os,os.prototype.setLocalScaling=os.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Cw(I,x)}),os.prototype.calculateLocalInertia=os.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),t7(le,x,I)}),os.prototype.__destroy__=os.prototype.__destroy__=(function(){var x=this.ptr;WD(x)});function as(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=SC(x,I),o0(as)[this.ptr]=this}as.prototype=Object.create(Dr.prototype),as.prototype.constructor=as,as.prototype.__class__=as,as.__cache__={},_.btConeShapeX=as,as.prototype.setLocalScaling=as.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),PC(I,x)}),as.prototype.calculateLocalInertia=as.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),lN(le,x,I)}),as.prototype.__destroy__=as.prototype.__destroy__=(function(){var x=this.ptr;nT(x)});function cs(x,I){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),x===void 0){this.ptr=Gb(),o0(cs)[this.ptr]=this;return}if(I===void 0){this.ptr=Vb(x),o0(cs)[this.ptr]=this;return}this.ptr=zb(x,I),o0(cs)[this.ptr]=this}cs.prototype=Object.create(go.prototype),cs.prototype.constructor=cs,cs.prototype.__class__=cs,cs.__cache__={},_.btTriangleMesh=cs,cs.prototype.addTriangle=cs.prototype.addTriangle=(function(x,I,le,R){var ee=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),R===void 0){xD(ee,x,I,le);return}vD(ee,x,I,le,R)}),cs.prototype.__destroy__=cs.prototype.__destroy__=(function(){var x=this.ptr;AA(x)});function W2(){this.ptr=FC(),o0(W2)[this.ptr]=this}W2.prototype=Object.create(Hn.prototype),W2.prototype.constructor=W2,W2.prototype.__class__=W2,W2.__cache__={},_.btConvexHullShape=W2,W2.prototype.addPoint=W2.prototype.addPoint=(function(x,I){var le=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),I===void 0){bb(le,x);return}Db(le,x,I)}),W2.prototype.setMargin=W2.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),JS(I,x)}),W2.prototype.getMargin=W2.prototype.getMargin=(function(){var x=this.ptr;return Hv(x)}),W2.prototype.setLocalScaling=W2.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),NT(I,x)}),W2.prototype.calculateLocalInertia=W2.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),n7(le,x,I)}),W2.prototype.__destroy__=W2.prototype.__destroy__=(function(){var x=this.ptr;x7(x)});function H2(){this.ptr=hE(),o0(H2)[this.ptr]=this}H2.prototype=Object.create(Ti.prototype),H2.prototype.constructor=H2,H2.prototype.__class__=H2,H2.__cache__={},_.btPersistentManifold=H2,H2.prototype.getBody0=H2.prototype.getBody0=(function(){var x=this.ptr;return _0(vC(x),gi)}),H2.prototype.getBody1=H2.prototype.getBody1=(function(){var x=this.ptr;return _0(G9(x),gi)}),H2.prototype.getNumContacts=H2.prototype.getNumContacts=(function(){var x=this.ptr;return G7(x)}),H2.prototype.getContactPoint=H2.prototype.getContactPoint=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(UR(I,x),sn)}),H2.prototype.__destroy__=H2.prototype.__destroy__=(function(){var x=this.ptr;GS(x)});function lr(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=O9(x),o0(lr)[this.ptr]=this}lr.prototype=Object.create(Hn.prototype),lr.prototype.constructor=lr,lr.prototype.__class__=lr,lr.__cache__={},_.btBoxShape=lr,lr.prototype.setMargin=lr.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),uM(I,x)}),lr.prototype.getMargin=lr.prototype.getMargin=(function(){var x=this.ptr;return aS(x)}),lr.prototype.setLocalScaling=lr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),zD(I,x)}),lr.prototype.calculateLocalInertia=lr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),zE(le,x,I)}),lr.prototype.__destroy__=lr.prototype.__destroy__=(function(){var x=this.ptr;BR(x)});function ls(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=d9(x),o0(ls)[this.ptr]=this}ls.prototype=Object.create(Tr.prototype),ls.prototype.constructor=ls,ls.prototype.__class__=ls,ls.__cache__={},_.btCollisionDispatcher=ls,ls.prototype.getNumManifolds=ls.prototype.getNumManifolds=(function(){var x=this.ptr;return L7(x)}),ls.prototype.getManifoldByIndexInternal=ls.prototype.getManifoldByIndexInternal=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(a7(I,x),H2)}),ls.prototype.__destroy__=ls.prototype.__destroy__=(function(){var x=this.ptr;zv(x)});function vn(){this.ptr=eD(),o0(vn)[this.ptr]=this}vn.prototype=Object.create(Ti.prototype),vn.prototype.constructor=vn,vn.prototype.__class__=vn,vn.__cache__={},_.btVehicleTuning=vn,vn.prototype.get_m_suspensionStiffness=vn.prototype.get_m_suspensionStiffness=(function(){var x=this.ptr;return cb(x)}),vn.prototype.set_m_suspensionStiffness=vn.prototype.set_m_suspensionStiffness=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),AN(I,x)}),vn.prototype.get_m_suspensionCompression=vn.prototype.get_m_suspensionCompression=(function(){var x=this.ptr;return Hw(x)}),vn.prototype.set_m_suspensionCompression=vn.prototype.set_m_suspensionCompression=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),VE(I,x)}),vn.prototype.get_m_suspensionDamping=vn.prototype.get_m_suspensionDamping=(function(){var x=this.ptr;return qA(x)}),vn.prototype.set_m_suspensionDamping=vn.prototype.set_m_suspensionDamping=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),kA(I,x)}),vn.prototype.get_m_maxSuspensionTravelCm=vn.prototype.get_m_maxSuspensionTravelCm=(function(){var x=this.ptr;return Nb(x)}),vn.prototype.set_m_maxSuspensionTravelCm=vn.prototype.set_m_maxSuspensionTravelCm=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Rw(I,x)}),vn.prototype.get_m_frictionSlip=vn.prototype.get_m_frictionSlip=(function(){var x=this.ptr;return lI(x)}),vn.prototype.set_m_frictionSlip=vn.prototype.set_m_frictionSlip=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),vv(I,x)}),vn.prototype.get_m_maxSuspensionForce=vn.prototype.get_m_maxSuspensionForce=(function(){var x=this.ptr;return xN(x)}),vn.prototype.set_m_maxSuspensionForce=vn.prototype.set_m_maxSuspensionForce=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),CE(I,x)});function qn(x){if(x&&typeof x=="object"&&(x=x.ptr),x===void 0){this.ptr=bw(),o0(qn)[this.ptr]=this;return}this.ptr=Dw(x),o0(qn)[this.ptr]=this}qn.prototype=Object.create(Hn.prototype),qn.prototype.constructor=qn,qn.prototype.__class__=qn,qn.__cache__={},_.btCompoundShape=qn,qn.prototype.addChildShape=qn.prototype.addChildShape=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),zw(le,x,I)}),qn.prototype.removeChildShapeByIndex=qn.prototype.removeChildShapeByIndex=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),eS(I,x)}),qn.prototype.getNumChildShapes=qn.prototype.getNumChildShapes=(function(){var x=this.ptr;return j7(x)}),qn.prototype.getChildShape=qn.prototype.getChildShape=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(XC(I,x),Hn)}),qn.prototype.setMargin=qn.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),HM(I,x)}),qn.prototype.getMargin=qn.prototype.getMargin=(function(){var x=this.ptr;return Tv(x)}),qn.prototype.setLocalScaling=qn.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),YT(I,x)}),qn.prototype.calculateLocalInertia=qn.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),eT(le,x,I)}),qn.prototype.__destroy__=qn.prototype.__destroy__=(function(){var x=this.ptr;_w(x)});function pa(){throw"cannot construct a btCollisionObjectWrapper, no constructor in IDL"}pa.prototype=Object.create(Ti.prototype),pa.prototype.constructor=pa,pa.prototype.__class__=pa,pa.__cache__={},_.btCollisionObjectWrapper=pa;function $i(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=X7(x,I),o0($i)[this.ptr]=this}$i.prototype=Object.create(_2.prototype),$i.prototype.constructor=$i,$i.prototype.__class__=$i,$i.__cache__={},_.ClosestConvexResultCallback=$i,$i.prototype.hasHit=$i.prototype.hasHit=(function(){var x=this.ptr;return!!hD(x)}),$i.prototype.get_m_convexFromWorld=$i.prototype.get_m_convexFromWorld=(function(){var x=this.ptr;return _0(B7(x),C0)}),$i.prototype.set_m_convexFromWorld=$i.prototype.set_m_convexFromWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),tA(I,x)}),$i.prototype.get_m_convexToWorld=$i.prototype.get_m_convexToWorld=(function(){var x=this.ptr;return _0(vw(x),C0)}),$i.prototype.set_m_convexToWorld=$i.prototype.set_m_convexToWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),hN(I,x)}),$i.prototype.get_m_hitNormalWorld=$i.prototype.get_m_hitNormalWorld=(function(){var x=this.ptr;return _0(fM(x),C0)}),$i.prototype.set_m_hitNormalWorld=$i.prototype.set_m_hitNormalWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),n9(I,x)}),$i.prototype.get_m_hitPointWorld=$i.prototype.get_m_hitPointWorld=(function(){var x=this.ptr;return _0(HA(x),C0)}),$i.prototype.set_m_hitPointWorld=$i.prototype.set_m_hitPointWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),sS(I,x)}),$i.prototype.get_m_collisionFilterGroup=$i.prototype.get_m_collisionFilterGroup=(function(){var x=this.ptr;return IM(x)}),$i.prototype.set_m_collisionFilterGroup=$i.prototype.set_m_collisionFilterGroup=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),EM(I,x)}),$i.prototype.get_m_collisionFilterMask=$i.prototype.get_m_collisionFilterMask=(function(){var x=this.ptr;return XM(x)}),$i.prototype.set_m_collisionFilterMask=$i.prototype.set_m_collisionFilterMask=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),PN(I,x)}),$i.prototype.get_m_closestHitFraction=$i.prototype.get_m_closestHitFraction=(function(){var x=this.ptr;return wC(x)}),$i.prototype.set_m_closestHitFraction=$i.prototype.set_m_closestHitFraction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Mb(I,x)}),$i.prototype.__destroy__=$i.prototype.__destroy__=(function(){var x=this.ptr;jM(x)});function j2(x,I){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),x===void 0){this.ptr=jC(),o0(j2)[this.ptr]=this;return}if(I===void 0){this.ptr=qC(x),o0(j2)[this.ptr]=this;return}this.ptr=HC(x,I),o0(j2)[this.ptr]=this}j2.prototype=Object.create(zr.prototype),j2.prototype.constructor=j2,j2.prototype.__class__=j2,j2.__cache__={},_.btDefaultMotionState=j2,j2.prototype.getWorldTransform=j2.prototype.getWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),jv(I,x)}),j2.prototype.setWorldTransform=j2.prototype.setWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),UM(I,x)}),j2.prototype.get_m_graphicsWorldTrans=j2.prototype.get_m_graphicsWorldTrans=(function(){var x=this.ptr;return _0(I9(x),An)}),j2.prototype.set_m_graphicsWorldTrans=j2.prototype.set_m_graphicsWorldTrans=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),mR(I,x)}),j2.prototype.__destroy__=j2.prototype.__destroy__=(function(){var x=this.ptr;hS(x)});function Yi(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=mE(x,I),o0(Yi)[this.ptr]=this}Yi.prototype=Object.create(p2.prototype),Yi.prototype.constructor=Yi,Yi.prototype.__class__=Yi,Yi.__cache__={},_.ClosestRayResultCallback=Yi,Yi.prototype.hasHit=Yi.prototype.hasHit=(function(){var x=this.ptr;return!!Gw(x)}),Yi.prototype.get_m_rayFromWorld=Yi.prototype.get_m_rayFromWorld=(function(){var x=this.ptr;return _0(_A(x),C0)}),Yi.prototype.set_m_rayFromWorld=Yi.prototype.set_m_rayFromWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),ZA(I,x)}),Yi.prototype.get_m_rayToWorld=Yi.prototype.get_m_rayToWorld=(function(){var x=this.ptr;return _0(wb(x),C0)}),Yi.prototype.set_m_rayToWorld=Yi.prototype.set_m_rayToWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),iD(I,x)}),Yi.prototype.get_m_hitNormalWorld=Yi.prototype.get_m_hitNormalWorld=(function(){var x=this.ptr;return _0(Ob(x),C0)}),Yi.prototype.set_m_hitNormalWorld=Yi.prototype.set_m_hitNormalWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),UD(I,x)}),Yi.prototype.get_m_hitPointWorld=Yi.prototype.get_m_hitPointWorld=(function(){var x=this.ptr;return _0(Rv(x),C0)}),Yi.prototype.set_m_hitPointWorld=Yi.prototype.set_m_hitPointWorld=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),$S(I,x)}),Yi.prototype.get_m_collisionFilterGroup=Yi.prototype.get_m_collisionFilterGroup=(function(){var x=this.ptr;return nD(x)}),Yi.prototype.set_m_collisionFilterGroup=Yi.prototype.set_m_collisionFilterGroup=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),rC(I,x)}),Yi.prototype.get_m_collisionFilterMask=Yi.prototype.get_m_collisionFilterMask=(function(){var x=this.ptr;return hw(x)}),Yi.prototype.set_m_collisionFilterMask=Yi.prototype.set_m_collisionFilterMask=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),yE(I,x)}),Yi.prototype.get_m_collisionObject=Yi.prototype.get_m_collisionObject=(function(){var x=this.ptr;return _0(gD(x),gi)}),Yi.prototype.set_m_collisionObject=Yi.prototype.set_m_collisionObject=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),V9(I,x)}),Yi.prototype.__destroy__=Yi.prototype.__destroy__=(function(){var x=this.ptr;F7(x)});function on(x,I,le,R,ee){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),R===void 0){this.ptr=W7(x,I,le),o0(on)[this.ptr]=this;return}if(ee===void 0){this.ptr=_emscripten_bind_btGeneric6DofSpring2Constraint_btGeneric6DofSpring2Constraint_4(x,I,le,R),o0(on)[this.ptr]=this;return}this.ptr=cR(x,I,le,R,ee),o0(on)[this.ptr]=this}on.prototype=Object.create(P2.prototype),on.prototype.constructor=on,on.prototype.__class__=on,on.__cache__={},_.btGeneric6DofSpring2Constraint=on,on.prototype.setLinearLowerLimit=on.prototype.setLinearLowerLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),fD(I,x)}),on.prototype.setLinearUpperLimit=on.prototype.setLinearUpperLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),DM(I,x)}),on.prototype.setAngularLowerLimit=on.prototype.setAngularLowerLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),PA(I,x)}),on.prototype.setAngularUpperLimit=on.prototype.setAngularUpperLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),p9(I,x)}),on.prototype.enableSpring=on.prototype.enableSpring=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),tS(le,x,I)}),on.prototype.setStiffness=on.prototype.setStiffness=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),yT(le,x,I)}),on.prototype.setDamping=on.prototype.setDamping=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),$R(le,x,I)}),on.prototype.getTranslationalLimitMotor=on.prototype.getTranslationalLimitMotor=(function(){var x=this.ptr;return _0(qE(x),_s)}),on.prototype.getRotationalLimitMotor=on.prototype.getRotationalLimitMotor=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(u9(I,x),ps)}),on.prototype.enableFeedback=on.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),VN(I,x)}),on.prototype.getBreakingImpulseThreshold=on.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return Uv(x)}),on.prototype.setBreakingImpulseThreshold=on.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),LC(I,x)}),on.prototype.__destroy__=on.prototype.__destroy__=(function(){var x=this.ptr;HE(x)});function ur(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=yS(x,I),o0(ur)[this.ptr]=this}ur.prototype=Object.create(V2.prototype),ur.prototype.constructor=ur,ur.prototype.__class__=ur,ur.__cache__={},_.btCapsuleShapeX=ur,ur.prototype.setMargin=ur.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),xT(I,x)}),ur.prototype.getMargin=ur.prototype.getMargin=(function(){var x=this.ptr;return Cv(x)}),ur.prototype.setLocalScaling=ur.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),$w(I,x)}),ur.prototype.calculateLocalInertia=ur.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),YS(le,x,I)}),ur.prototype.__destroy__=ur.prototype.__destroy__=(function(){var x=this.ptr;RR(x)});function Rn(x,I,le,R){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),this.ptr=vM(x,I,le,R),o0(Rn)[this.ptr]=this}Rn.prototype=Object.create(Qn.prototype),Rn.prototype.constructor=Rn,Rn.prototype.__class__=Rn,Rn.__cache__={},_.btQuaternion=Rn,Rn.prototype.setValue=Rn.prototype.setValue=(function(x,I,le,R){var ee=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),w9(ee,x,I,le,R)}),Rn.prototype.normalize=Rn.prototype.normalize=(function(){var x=this.ptr;yw(x)}),Rn.prototype.x=Rn.prototype.x=(function(){var x=this.ptr;return NC(x)}),Rn.prototype.y=Rn.prototype.y=(function(){var x=this.ptr;return wM(x)}),Rn.prototype.z=Rn.prototype.z=(function(){var x=this.ptr;return kC(x)}),Rn.prototype.w=Rn.prototype.w=(function(){var x=this.ptr;return eM(x)}),Rn.prototype.setX=Rn.prototype.setX=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Ev(I,x)}),Rn.prototype.setY=Rn.prototype.setY=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),hb(I,x)}),Rn.prototype.setZ=Rn.prototype.setZ=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Dv(I,x)}),Rn.prototype.setW=Rn.prototype.setW=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Ov(I,x)}),Rn.prototype.__destroy__=Rn.prototype.__destroy__=(function(){var x=this.ptr;kE(x)});function fr(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=MD(x,I),o0(fr)[this.ptr]=this}fr.prototype=Object.create(V2.prototype),fr.prototype.constructor=fr,fr.prototype.__class__=fr,fr.__cache__={},_.btCapsuleShapeZ=fr,fr.prototype.setMargin=fr.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),x9(I,x)}),fr.prototype.getMargin=fr.prototype.getMargin=(function(){var x=this.ptr;return sM(x)}),fr.prototype.setLocalScaling=fr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),TC(I,x)}),fr.prototype.calculateLocalInertia=fr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),OE(le,x,I)}),fr.prototype.__destroy__=fr.prototype.__destroy__=(function(){var x=this.ptr;dD(x)});function So(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=LM(x),o0(So)[this.ptr]=this}So.prototype=Object.create(xo.prototype),So.prototype.constructor=So,So.prototype.__class__=So,So.__cache__={},_.btDefaultVehicleRaycaster=So,So.prototype.__destroy__=So.prototype.__destroy__=(function(){var x=this.ptr;bR(x)});function P0(){throw"cannot construct a btWheelInfo, no constructor in IDL"}P0.prototype=Object.create(Ti.prototype),P0.prototype.constructor=P0,P0.prototype.__class__=P0,P0.__cache__={},_.btWheelInfo=P0,P0.prototype.get_m_suspensionStiffness=P0.prototype.get_m_suspensionStiffness=(function(){var x=this.ptr;return Bv(x)}),P0.prototype.set_m_suspensionStiffness=P0.prototype.set_m_suspensionStiffness=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),KE(I,x)}),P0.prototype.get_m_frictionSlip=P0.prototype.get_m_frictionSlip=(function(){var x=this.ptr;return Sw(x)}),P0.prototype.set_m_frictionSlip=P0.prototype.set_m_frictionSlip=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Wb(I,x)}),P0.prototype.get_m_engineForce=P0.prototype.get_m_engineForce=(function(){var x=this.ptr;return TS(x)}),P0.prototype.set_m_engineForce=P0.prototype.set_m_engineForce=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),HT(I,x)}),P0.prototype.get_m_rollInfluence=P0.prototype.get_m_rollInfluence=(function(){var x=this.ptr;return Y9(x)}),P0.prototype.set_m_rollInfluence=P0.prototype.set_m_rollInfluence=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),iA(I,x)}),P0.prototype.get_m_suspensionRestLength1=P0.prototype.get_m_suspensionRestLength1=(function(){var x=this.ptr;return Fv(x)}),P0.prototype.set_m_suspensionRestLength1=P0.prototype.set_m_suspensionRestLength1=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),TD(I,x)}),P0.prototype.get_m_wheelsRadius=P0.prototype.get_m_wheelsRadius=(function(){var x=this.ptr;return Qb(x)}),P0.prototype.set_m_wheelsRadius=P0.prototype.set_m_wheelsRadius=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),kS(I,x)}),P0.prototype.get_m_wheelsDampingCompression=P0.prototype.get_m_wheelsDampingCompression=(function(){var x=this.ptr;return pD(x)}),P0.prototype.set_m_wheelsDampingCompression=P0.prototype.set_m_wheelsDampingCompression=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),US(I,x)}),P0.prototype.get_m_wheelsDampingRelaxation=P0.prototype.get_m_wheelsDampingRelaxation=(function(){var x=this.ptr;return qb(x)}),P0.prototype.set_m_wheelsDampingRelaxation=P0.prototype.set_m_wheelsDampingRelaxation=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),rD(I,x)}),P0.prototype.get_m_steering=P0.prototype.get_m_steering=(function(){var x=this.ptr;return mA(x)}),P0.prototype.set_m_steering=P0.prototype.set_m_steering=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),tN(I,x)}),P0.prototype.get_m_maxSuspensionForce=P0.prototype.get_m_maxSuspensionForce=(function(){var x=this.ptr;return mD(x)}),P0.prototype.set_m_maxSuspensionForce=P0.prototype.set_m_maxSuspensionForce=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),BC(I,x)}),P0.prototype.get_m_maxSuspensionTravelCm=P0.prototype.get_m_maxSuspensionTravelCm=(function(){var x=this.ptr;return KM(x)}),P0.prototype.set_m_maxSuspensionTravelCm=P0.prototype.set_m_maxSuspensionTravelCm=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),DR(I,x)}),P0.prototype.get_m_wheelsSuspensionForce=P0.prototype.get_m_wheelsSuspensionForce=(function(){var x=this.ptr;return TM(x)}),P0.prototype.set_m_wheelsSuspensionForce=P0.prototype.set_m_wheelsSuspensionForce=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),IR(I,x)}),P0.prototype.get_m_bIsFrontWheel=P0.prototype.get_m_bIsFrontWheel=(function(){var x=this.ptr;return!!A9(x)}),P0.prototype.set_m_bIsFrontWheel=P0.prototype.set_m_bIsFrontWheel=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),ZS(I,x)}),P0.prototype.get_m_raycastInfo=P0.prototype.get_m_raycastInfo=(function(){var x=this.ptr;return _0(rI(x),Vi)}),P0.prototype.set_m_raycastInfo=P0.prototype.set_m_raycastInfo=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),w7(I,x)}),P0.prototype.get_m_chassisConnectionPointCS=P0.prototype.get_m_chassisConnectionPointCS=(function(){var x=this.ptr;return _0(tE(x),C0)}),P0.prototype.set_m_chassisConnectionPointCS=P0.prototype.set_m_chassisConnectionPointCS=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),e9(I,x)}),P0.prototype.__destroy__=P0.prototype.__destroy__=(function(){var x=this.ptr;J7(x)});function zi(x,I,le,R){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),x===void 0){this.ptr=$D(),o0(zi)[this.ptr]=this;return}if(I===void 0){this.ptr=_emscripten_bind_btVector4_btVector4_1(x),o0(zi)[this.ptr]=this;return}if(le===void 0){this.ptr=_emscripten_bind_btVector4_btVector4_2(x,I),o0(zi)[this.ptr]=this;return}if(R===void 0){this.ptr=_emscripten_bind_btVector4_btVector4_3(x,I,le),o0(zi)[this.ptr]=this;return}this.ptr=KD(x,I,le,R),o0(zi)[this.ptr]=this}zi.prototype=Object.create(C0.prototype),zi.prototype.constructor=zi,zi.prototype.__class__=zi,zi.__cache__={},_.btVector4=zi,zi.prototype.w=zi.prototype.w=(function(){var x=this.ptr;return Sb(x)}),zi.prototype.setValue=zi.prototype.setValue=(function(x,I,le,R){var ee=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),K9(ee,x,I,le,R)}),zi.prototype.length=zi.prototype.length=(function(){var x=this.ptr;return dR(x)}),zi.prototype.x=zi.prototype.x=(function(){var x=this.ptr;return JN(x)}),zi.prototype.y=zi.prototype.y=(function(){var x=this.ptr;return Ab(x)}),zi.prototype.z=zi.prototype.z=(function(){var x=this.ptr;return EN(x)}),zi.prototype.setX=zi.prototype.setX=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),C7(I,x)}),zi.prototype.setY=zi.prototype.setY=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),WM(I,x)}),zi.prototype.setZ=zi.prototype.setZ=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),N7(I,x)}),zi.prototype.normalize=zi.prototype.normalize=(function(){var x=this.ptr;pb(x)}),zi.prototype.dot=zi.prototype.dot=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),PT(I,x)}),zi.prototype.op_mul=zi.prototype.op_mul=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(ZM(I,x),C0)}),zi.prototype.op_add=zi.prototype.op_add=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(Q7(I,x),C0)}),zi.prototype.op_sub=zi.prototype.op_sub=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(oD(I,x),C0)}),zi.prototype.__destroy__=zi.prototype.__destroy__=(function(){var x=this.ptr;gE(x)});function Di(x,I,le,R){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),R===void 0){this.ptr=pT(x,I,le),o0(Di)[this.ptr]=this;return}this.ptr=wE(x,I,le,R),o0(Di)[this.ptr]=this}Di.prototype=Object.create(Zs.prototype),Di.prototype.constructor=Di,Di.prototype.__class__=Di,Di.__cache__={},_.btKinematicCharacterController=Di,Di.prototype.setUpAxis=Di.prototype.setUpAxis=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),f9(I,x)}),Di.prototype.setWalkDirection=Di.prototype.setWalkDirection=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),sb(I,x)}),Di.prototype.setVelocityForTimeInterval=Di.prototype.setVelocityForTimeInterval=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),qD(le,x,I)}),Di.prototype.warp=Di.prototype.warp=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),MA(I,x)}),Di.prototype.preStep=Di.prototype.preStep=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),EA(I,x)}),Di.prototype.playerStep=Di.prototype.playerStep=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),NE(le,x,I)}),Di.prototype.setFallSpeed=Di.prototype.setFallSpeed=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),AR(I,x)}),Di.prototype.setJumpSpeed=Di.prototype.setJumpSpeed=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),cN(I,x)}),Di.prototype.setMaxJumpHeight=Di.prototype.setMaxJumpHeight=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),aI(I,x)}),Di.prototype.canJump=Di.prototype.canJump=(function(){var x=this.ptr;return!!$C(x)}),Di.prototype.jump=Di.prototype.jump=(function(){var x=this.ptr;T7(x)}),Di.prototype.setGravity=Di.prototype.setGravity=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),W9(I,x)}),Di.prototype.getGravity=Di.prototype.getGravity=(function(){var x=this.ptr;return ub(x)}),Di.prototype.setMaxSlope=Di.prototype.setMaxSlope=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Pv(I,x)}),Di.prototype.getMaxSlope=Di.prototype.getMaxSlope=(function(){var x=this.ptr;return kD(x)}),Di.prototype.getGhostObject=Di.prototype.getGhostObject=(function(){var x=this.ptr;return _0(ib(x),Mi)}),Di.prototype.setUseGhostSweepTest=Di.prototype.setUseGhostSweepTest=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),T9(I,x)}),Di.prototype.onGround=Di.prototype.onGround=(function(){var x=this.ptr;return!!bN(x)}),Di.prototype.__destroy__=Di.prototype.__destroy__=(function(){var x=this.ptr;ZD(x)});function us(x,I){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),this.ptr=Pw(x,I),o0(us)[this.ptr]=this}us.prototype=Object.create(Vr.prototype),us.prototype.constructor=us,us.prototype.__class__=us,us.__cache__={},_.btStaticPlaneShape=us,us.prototype.setLocalScaling=us.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),PE(I,x)}),us.prototype.calculateLocalInertia=us.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),SE(le,x,I)}),us.prototype.__destroy__=us.prototype.__destroy__=(function(){var x=this.ptr;GD(x)});function ir(){throw"cannot construct a btContactSolverInfo, no constructor in IDL"}ir.prototype=Object.create(Ti.prototype),ir.prototype.constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},_.btContactSolverInfo=ir,ir.prototype.get_m_splitImpulse=ir.prototype.get_m_splitImpulse=(function(){var x=this.ptr;return!!sI(x)}),ir.prototype.set_m_splitImpulse=ir.prototype.set_m_splitImpulse=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),WC(I,x)}),ir.prototype.get_m_splitImpulsePenetrationThreshold=ir.prototype.get_m_splitImpulsePenetrationThreshold=(function(){var x=this.ptr;return _S(x)}),ir.prototype.set_m_splitImpulsePenetrationThreshold=ir.prototype.set_m_splitImpulsePenetrationThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),KR(I,x)}),ir.prototype.__destroy__=ir.prototype.__destroy__=(function(){var x=this.ptr;RA(x)});function fs(){throw"cannot construct a btOverlappingPairCache, no constructor in IDL"}fs.prototype=Object.create(Ti.prototype),fs.prototype.constructor=fs,fs.prototype.__class__=fs,fs.__cache__={},_.btOverlappingPairCache=fs,fs.prototype.setInternalGhostPairCallback=fs.prototype.setInternalGhostPairCallback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Iw(I,x)}),fs.prototype.__destroy__=fs.prototype.__destroy__=(function(){var x=this.ptr;hC(x)});function _r(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=CM(x),o0(_r)[this.ptr]=this}_r.prototype=Object.create(Hn.prototype),_r.prototype.constructor=_r,_r.prototype.__class__=_r,_r.__cache__={},_.btSphereShape=_r,_r.prototype.setMargin=_r.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),XR(I,x)}),_r.prototype.getMargin=_r.prototype.getMargin=(function(){var x=this.ptr;return aR(x)}),_r.prototype.setLocalScaling=_r.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),vb(I,x)}),_r.prototype.calculateLocalInertia=_r.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),s7(le,x,I)}),_r.prototype.__destroy__=_r.prototype.__destroy__=(function(){var x=this.ptr;t9(x)});function Co(){this.ptr=rA(),o0(Co)[this.ptr]=this}Co.prototype=Object.create(Ti.prototype),Co.prototype.constructor=Co,Co.prototype.__class__=Co,Co.__cache__={},_.btDefaultCollisionConstructionInfo=Co,Co.prototype.__destroy__=Co.prototype.__destroy__=(function(){var x=this.ptr;rN(x)});function o2(x,I,le,R,ee,e,It){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),e&&typeof e=="object"&&(e=e.ptr),It&&typeof It=="object"&&(It=It.ptr),le===void 0){this.ptr=aM(x,I),o0(o2)[this.ptr]=this;return}if(R===void 0){this.ptr=cM(x,I,le),o0(o2)[this.ptr]=this;return}if(ee===void 0){this.ptr=eC(x,I,le,R),o0(o2)[this.ptr]=this;return}if(e===void 0){this.ptr=oM(x,I,le,R,ee),o0(o2)[this.ptr]=this;return}if(It===void 0){this.ptr=nM(x,I,le,R,ee,e),o0(o2)[this.ptr]=this;return}this.ptr=rM(x,I,le,R,ee,e,It),o0(o2)[this.ptr]=this}o2.prototype=Object.create(P2.prototype),o2.prototype.constructor=o2,o2.prototype.__class__=o2,o2.__cache__={},_.btHingeConstraint=o2,o2.prototype.setLimit=o2.prototype.setLimit=(function(x,I,le,R,ee){var e=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),ee===void 0){ER(e,x,I,le,R);return}NR(e,x,I,le,R,ee)}),o2.prototype.enableAngularMotor=o2.prototype.enableAngularMotor=(function(x,I,le){var R=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),ew(R,x,I,le)}),o2.prototype.enableFeedback=o2.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),y9(I,x)}),o2.prototype.getBreakingImpulseThreshold=o2.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return nN(x)}),o2.prototype.setBreakingImpulseThreshold=o2.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Jw(I,x)}),o2.prototype.__destroy__=o2.prototype.__destroy__=(function(){var x=this.ptr;kb(x)});function S2(){this.ptr=eb(),o0(S2)[this.ptr]=this}S2.prototype=Object.create(Ti.prototype),S2.prototype.constructor=S2,S2.prototype.__class__=S2,S2.__cache__={},_.btConstraintSetting=S2,S2.prototype.get_m_tau=S2.prototype.get_m_tau=(function(){var x=this.ptr;return gA(x)}),S2.prototype.set_m_tau=S2.prototype.set_m_tau=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),i7(I,x)}),S2.prototype.get_m_damping=S2.prototype.get_m_damping=(function(){var x=this.ptr;return UC(x)}),S2.prototype.set_m_damping=S2.prototype.set_m_damping=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),KS(I,x)}),S2.prototype.get_m_impulseClamp=S2.prototype.get_m_impulseClamp=(function(){var x=this.ptr;return VS(x)}),S2.prototype.set_m_impulseClamp=S2.prototype.set_m_impulseClamp=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),H9(I,x)}),S2.prototype.__destroy__=S2.prototype.__destroy__=(function(){var x=this.ptr;mC(x)});function _s(){throw"cannot construct a btTranslationalLimitMotor2, no constructor in IDL"}_s.prototype=Object.create(Ti.prototype),_s.prototype.constructor=_s,_s.prototype.__class__=_s,_s.__cache__={},_.btTranslationalLimitMotor2=_s,_s.prototype.get_m_currentLinearDiff=_s.prototype.get_m_currentLinearDiff=(function(){var x=this.ptr;return _0(yC(x),C0)}),_s.prototype.set_m_currentLinearDiff=_s.prototype.set_m_currentLinearDiff=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),g7(I,x)}),_s.prototype.__destroy__=_s.prototype.__destroy__=(function(){var x=this.ptr;h9(x)});function pr(){throw"cannot construct a LocalShapeInfo, no constructor in IDL"}pr.prototype=Object.create(Ti.prototype),pr.prototype.constructor=pr,pr.prototype.__class__=pr,pr.__cache__={},_.LocalShapeInfo=pr,pr.prototype.get_m_shapePart=pr.prototype.get_m_shapePart=(function(){var x=this.ptr;return X9(x)}),pr.prototype.set_m_shapePart=pr.prototype.set_m_shapePart=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),vS(I,x)}),pr.prototype.get_m_triangleIndex=pr.prototype.get_m_triangleIndex=(function(){var x=this.ptr;return SN(x)}),pr.prototype.set_m_triangleIndex=pr.prototype.set_m_triangleIndex=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),nR(I,x)}),pr.prototype.__destroy__=pr.prototype.__destroy__=(function(){var x=this.ptr;R9(x)});function Zo(){throw"cannot construct a btConstraintSolver, no constructor in IDL"}Zo.prototype=Object.create(Ti.prototype),Zo.prototype.constructor=Zo,Zo.prototype.__class__=Zo,Zo.__cache__={},_.btConstraintSolver=Zo,Zo.prototype.__destroy__=Zo.prototype.__destroy__=(function(){var x=this.ptr;nE(x)});function Sn(x,I,le,R,ee){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),R===void 0){this.ptr=cw(x,I,le),o0(Sn)[this.ptr]=this;return}if(ee===void 0){this.ptr=_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_4(x,I,le,R),o0(Sn)[this.ptr]=this;return}this.ptr=o9(x,I,le,R,ee),o0(Sn)[this.ptr]=this}Sn.prototype=Object.create(jn.prototype),Sn.prototype.constructor=Sn,Sn.prototype.__class__=Sn,Sn.__cache__={},_.btGeneric6DofSpringConstraint=Sn,Sn.prototype.enableSpring=Sn.prototype.enableSpring=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),WR(le,x,I)}),Sn.prototype.setStiffness=Sn.prototype.setStiffness=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),zM(le,x,I)}),Sn.prototype.setDamping=Sn.prototype.setDamping=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),QA(le,x,I)}),Sn.prototype.setLinearLowerLimit=Sn.prototype.setLinearLowerLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),QD(I,x)}),Sn.prototype.setLinearUpperLimit=Sn.prototype.setLinearUpperLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),i9(I,x)}),Sn.prototype.setAngularLowerLimit=Sn.prototype.setAngularLowerLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),iI(I,x)}),Sn.prototype.setAngularUpperLimit=Sn.prototype.setAngularUpperLimit=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),mM(I,x)}),Sn.prototype.enableFeedback=Sn.prototype.enableFeedback=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),qR(I,x)}),Sn.prototype.getBreakingImpulseThreshold=Sn.prototype.getBreakingImpulseThreshold=(function(){var x=this.ptr;return OR(x)}),Sn.prototype.setBreakingImpulseThreshold=Sn.prototype.setBreakingImpulseThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),qS(I,x)}),Sn.prototype.__destroy__=Sn.prototype.__destroy__=(function(){var x=this.ptr;ww(x)});function In(x,I,le,R,ee){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),this.ptr=ST(x,I,le,R,ee),o0(In)[this.ptr]=this}In.prototype=Object.create(Ti.prototype),In.prototype.constructor=In,In.prototype.__class__=In,In.__cache__={},_.LocalConvexResult=In,In.prototype.get_m_hitCollisionObject=In.prototype.get_m_hitCollisionObject=(function(){var x=this.ptr;return _0(RT(x),gi)}),In.prototype.set_m_hitCollisionObject=In.prototype.set_m_hitCollisionObject=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),eI(I,x)}),In.prototype.get_m_localShapeInfo=In.prototype.get_m_localShapeInfo=(function(){var x=this.ptr;return _0(UN(x),pr)}),In.prototype.set_m_localShapeInfo=In.prototype.set_m_localShapeInfo=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),OD(I,x)}),In.prototype.get_m_hitNormalLocal=In.prototype.get_m_hitNormalLocal=(function(){var x=this.ptr;return _0(Iv(x),C0)}),In.prototype.set_m_hitNormalLocal=In.prototype.set_m_hitNormalLocal=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),bC(I,x)}),In.prototype.get_m_hitPointLocal=In.prototype.get_m_hitPointLocal=(function(){var x=this.ptr;return _0(U9(x),C0)}),In.prototype.set_m_hitPointLocal=In.prototype.set_m_hitPointLocal=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),h7(I,x)}),In.prototype.get_m_hitFraction=In.prototype.get_m_hitFraction=(function(){var x=this.ptr;return Qw(x)}),In.prototype.set_m_hitFraction=In.prototype.set_m_hitFraction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),UE(I,x)}),In.prototype.__destroy__=In.prototype.__destroy__=(function(){var x=this.ptr;K7(x)});function Qo(){throw"cannot construct a btOverlappingPairCallback, no constructor in IDL"}Qo.prototype=Object.create(Ti.prototype),Qo.prototype.constructor=Qo,Qo.prototype.__class__=Qo,Qo.__cache__={},_.btOverlappingPairCallback=Qo,Qo.prototype.__destroy__=Qo.prototype.__destroy__=(function(){var x=this.ptr;KT(x)});function u0(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=nb(x),o0(u0)[this.ptr]=this}u0.prototype=Object.create(gi.prototype),u0.prototype.constructor=u0,u0.prototype.__class__=u0,u0.__cache__={},_.btRigidBody=u0,u0.prototype.getCenterOfMassTransform=u0.prototype.getCenterOfMassTransform=(function(){var x=this.ptr;return _0(r9(x),An)}),u0.prototype.setCenterOfMassTransform=u0.prototype.setCenterOfMassTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),eE(I,x)}),u0.prototype.setSleepingThresholds=u0.prototype.setSleepingThresholds=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),FN(le,x,I)}),u0.prototype.setDamping=u0.prototype.setDamping=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),GT(le,x,I)}),u0.prototype.setMassProps=u0.prototype.setMassProps=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),SR(le,x,I)}),u0.prototype.setLinearFactor=u0.prototype.setLinearFactor=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),SS(I,x)}),u0.prototype.applyTorque=u0.prototype.applyTorque=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),MT(I,x)}),u0.prototype.applyForce=u0.prototype.applyForce=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),e7(le,x,I)}),u0.prototype.applyCentralForce=u0.prototype.applyCentralForce=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Zw(I,x)}),u0.prototype.applyTorqueImpulse=u0.prototype.applyTorqueImpulse=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),SD(I,x)}),u0.prototype.applyImpulse=u0.prototype.applyImpulse=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),nw(le,x,I)}),u0.prototype.applyCentralImpulse=u0.prototype.applyCentralImpulse=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Wv(I,x)}),u0.prototype.updateInertiaTensor=u0.prototype.updateInertiaTensor=(function(){var x=this.ptr;Bw(x)}),u0.prototype.getLinearVelocity=u0.prototype.getLinearVelocity=(function(){var x=this.ptr;return _0(iw(x),C0)}),u0.prototype.getAngularVelocity=u0.prototype.getAngularVelocity=(function(){var x=this.ptr;return _0(Kb(x),C0)}),u0.prototype.setLinearVelocity=u0.prototype.setLinearVelocity=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Jb(I,x)}),u0.prototype.setAngularVelocity=u0.prototype.setAngularVelocity=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),aw(I,x)}),u0.prototype.getMotionState=u0.prototype.getMotionState=(function(){var x=this.ptr;return _0(tb(x),zr)}),u0.prototype.setMotionState=u0.prototype.setMotionState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),bT(I,x)}),u0.prototype.setAngularFactor=u0.prototype.setAngularFactor=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),tR(I,x)}),u0.prototype.upcast=u0.prototype.upcast=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(A7(I,x),u0)}),u0.prototype.setAnisotropicFriction=u0.prototype.setAnisotropicFriction=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),uE(le,x,I)}),u0.prototype.getCollisionShape=u0.prototype.getCollisionShape=(function(){var x=this.ptr;return _0(Hb(x),Hn)}),u0.prototype.setContactProcessingThreshold=u0.prototype.setContactProcessingThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),tw(I,x)}),u0.prototype.setActivationState=u0.prototype.setActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),_D(I,x)}),u0.prototype.forceActivationState=u0.prototype.forceActivationState=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),DD(I,x)}),u0.prototype.activate=u0.prototype.activate=(function(x){var I=this.ptr;if(x&&typeof x=="object"&&(x=x.ptr),x===void 0){jN(I);return}HN(I,x)}),u0.prototype.isActive=u0.prototype.isActive=(function(){var x=this.ptr;return!!YC(x)}),u0.prototype.isKinematicObject=u0.prototype.isKinematicObject=(function(){var x=this.ptr;return!!N9(x)}),u0.prototype.setRestitution=u0.prototype.setRestitution=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),XD(I,x)}),u0.prototype.setFriction=u0.prototype.setFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),p7(I,x)}),u0.prototype.setRollingFriction=u0.prototype.setRollingFriction=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),wN(I,x)}),u0.prototype.getWorldTransform=u0.prototype.getWorldTransform=(function(){var x=this.ptr;return _0(_N(x),An)}),u0.prototype.getCollisionFlags=u0.prototype.getCollisionFlags=(function(){var x=this.ptr;return TT(x)}),u0.prototype.setCollisionFlags=u0.prototype.setCollisionFlags=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),CD(I,x)}),u0.prototype.setWorldTransform=u0.prototype.setWorldTransform=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),ow(I,x)}),u0.prototype.setCollisionShape=u0.prototype.setCollisionShape=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),iT(I,x)}),u0.prototype.setCcdMotionThreshold=u0.prototype.setCcdMotionThreshold=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),QS(I,x)}),u0.prototype.setCcdSweptSphereRadius=u0.prototype.setCcdSweptSphereRadius=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),f7(I,x)}),u0.prototype.__destroy__=u0.prototype.__destroy__=(function(){var x=this.ptr;LN(x)});function hr(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=hM(x),o0(hr)[this.ptr]=this}hr.prototype=Object.create(z2.prototype),hr.prototype.constructor=hr,hr.prototype.__class__=hr,hr.__cache__={},_.btCylinderShapeX=hr,hr.prototype.setMargin=hr.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),U7(I,x)}),hr.prototype.getMargin=hr.prototype.getMargin=(function(){var x=this.ptr;return xw(x)}),hr.prototype.setLocalScaling=hr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),qT(I,x)}),hr.prototype.calculateLocalInertia=hr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),mb(le,x,I)}),hr.prototype.__destroy__=hr.prototype.__destroy__=(function(){var x=this.ptr;YN(x)});function dr(x){x&&typeof x=="object"&&(x=x.ptr),this.ptr=Ew(x),o0(dr)[this.ptr]=this}dr.prototype=Object.create(z2.prototype),dr.prototype.constructor=dr,dr.prototype.__class__=dr,dr.__cache__={},_.btCylinderShapeZ=dr,dr.prototype.setMargin=dr.prototype.setMargin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),_7(I,x)}),dr.prototype.getMargin=dr.prototype.getMargin=(function(){var x=this.ptr;return Nv(x)}),dr.prototype.setLocalScaling=dr.prototype.setLocalScaling=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),VD(I,x)}),dr.prototype.calculateLocalInertia=dr.prototype.calculateLocalInertia=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),iR(le,x,I)}),dr.prototype.__destroy__=dr.prototype.__destroy__=(function(){var x=this.ptr;zS(x)});function An(x,I){if(x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),x===void 0){this.ptr=PS(),o0(An)[this.ptr]=this;return}if(I===void 0){this.ptr=_emscripten_bind_btTransform_btTransform_1(x),o0(An)[this.ptr]=this;return}this.ptr=IS(x,I),o0(An)[this.ptr]=this}An.prototype=Object.create(Ti.prototype),An.prototype.constructor=An,An.prototype.__class__=An,An.__cache__={},_.btTransform=An,An.prototype.setIdentity=An.prototype.setIdentity=(function(){var x=this.ptr;kv(x)}),An.prototype.setOrigin=An.prototype.setOrigin=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),Ow(I,x)}),An.prototype.setRotation=An.prototype.setRotation=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),tC(I,x)}),An.prototype.getOrigin=An.prototype.getOrigin=(function(){var x=this.ptr;return _0(Pb(x),C0)}),An.prototype.getRotation=An.prototype.getRotation=(function(){var x=this.ptr;return _0(iM(x),Rn)}),An.prototype.getBasis=An.prototype.getBasis=(function(){var x=this.ptr;return _0(D7(x),Ir)}),An.prototype.__destroy__=An.prototype.__destroy__=(function(){var x=this.ptr;ED(x)});function Pn(x,I,le){x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),this.ptr=KC(x,I,le),o0(Pn)[this.ptr]=this}Pn.prototype=Object.create(Zs.prototype),Pn.prototype.constructor=Pn,Pn.prototype.__class__=Pn,Pn.__cache__={},_.btRaycastVehicle=Pn,Pn.prototype.applyEngineForce=Pn.prototype.applyEngineForce=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),NA(le,x,I)}),Pn.prototype.setSteeringValue=Pn.prototype.setSteeringValue=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),wS(le,x,I)}),Pn.prototype.getWheelTransformWS=Pn.prototype.getWheelTransformWS=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(OT(I,x),An)}),Pn.prototype.updateWheelTransform=Pn.prototype.updateWheelTransform=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),Zv(le,x,I)}),Pn.prototype.addWheel=Pn.prototype.addWheel=(function(x,I,le,R,ee,e,It){var Le=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),R&&typeof R=="object"&&(R=R.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),e&&typeof e=="object"&&(e=e.ptr),It&&typeof It=="object"&&(It=It.ptr),_0(BD(Le,x,I,le,R,ee,e,It),P0)}),Pn.prototype.getNumWheels=Pn.prototype.getNumWheels=(function(){var x=this.ptr;return Mw(x)}),Pn.prototype.getRigidBody=Pn.prototype.getRigidBody=(function(){var x=this.ptr;return _0(pA(x),u0)}),Pn.prototype.getWheelInfo=Pn.prototype.getWheelInfo=(function(x){var I=this.ptr;return x&&typeof x=="object"&&(x=x.ptr),_0(JE(I,x),P0)}),Pn.prototype.setBrake=Pn.prototype.setBrake=(function(x,I){var le=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),bA(le,x,I)}),Pn.prototype.setCoordinateSystem=Pn.prototype.setCoordinateSystem=(function(x,I,le){var R=this.ptr;x&&typeof x=="object"&&(x=x.ptr),I&&typeof I=="object"&&(I=I.ptr),le&&typeof le=="object"&&(le=le.ptr),aT(R,x,I,le)}),Pn.prototype.__destroy__=Pn.prototype.__destroy__=(function(){var x=this.ptr;qN(x)});function To(){this.ptr=oI(),o0(To)[this.ptr]=this}To.prototype=Object.create(Ti.prototype),To.prototype.constructor=To,To.prototype.__class__=To,To.__cache__={},_.btGhostPairCallback=To,To.prototype.__destroy__=To.prototype.__destroy__=(function(){var x=this.ptr;LD(x)});function ps(){throw"cannot construct a btRotationalLimitMotor2, no constructor in IDL"}return ps.prototype=Object.create(Ti.prototype),ps.prototype.constructor=ps,ps.prototype.__class__=ps,ps.__cache__={},_.btRotationalLimitMotor2=ps,ps.prototype.get_m_currentPosition=ps.prototype.get_m_currentPosition=(function(){var x=this.ptr;return BT(x)}),ps.prototype.set_m_currentPosition=ps.prototype.set_m_currentPosition=(function(x){var I=this.ptr;x&&typeof x=="object"&&(x=x.ptr),tI(I,x)}),ps.prototype.__destroy__=ps.prototype.__destroy__=(function(){var x=this.ptr;OC(x)}),(function(){function x(){_.RO_XYZ=dM(),_.RO_XZY=yb(),_.RO_YXZ=MS(),_.RO_YZX=hA(),_.RO_ZXY=JD(),_.RO_ZYX=Lb()}_.calledRun?x():Zt(x)})(),_};return c()})})(J_)),J_.exports}var N3e=E3e();const j_=C3e(N3e);let Ln=null;const b3e=async()=>{if(typeof j_=="function")try{Ln=await j_()}catch{Ln=j_()}else Ln=j_;Ln.btVector3||console.warn("Ammo.btVector3 is missing. Ammo object:",Ln);const v=new Ln.btDefaultCollisionConfiguration,r=new Ln.btCollisionDispatcher(v),c=new Ln.btDbvtBroadphase,f=new Ln.btSequentialImpulseConstraintSolver,_=new Ln.btDiscreteDynamicsWorld(r,c,f,v);return _.setGravity(new Ln.btVector3(0,-10,0)),_},D3e=()=>{if(!Ln)throw new Error("Ammo not initialized. Call initPhysics first.");return Ln},I3e=(v,r)=>{v.stepSimulation(r,10)},P3e=(v,r)=>{bu(v,r,25,1,25,0,-5,0,0,16777215,"images/wood.jpg"),bu(v,r,1,100,25,13,45,0,0,0,null,!0),bu(v,r,1,100,25,-13,45,0,0,0,null,!0),bu(v,r,25,100,1,0,45,13,0,0,null,!0),bu(v,r,25,100,1,0,45,-13,0,0,null,!0)},bu=(v,r,c,f,_,y,T,A,N,k,V,j=!1)=>{let K;if(V){const je=new Kg().load(V);K=new lf({map:je})}else K=new lf({color:k});j&&(K.visible=!1,K.transparent=!0,K.opacity=0);const Q=new oa(c,f,_),ie=new Q2(Q,K);ie.position.set(y,T,A),ie.castShadow=!0,ie.receiveShadow=!0,v.add(ie);const ce=new Ln.btBoxShape(new Ln.btVector3(c*.5,f*.5,_*.5)),ue=new Ln.btTransform;ue.setIdentity(),ue.setOrigin(new Ln.btVector3(y,T,A));const re=new Ln.btDefaultMotionState(ue),be=new Ln.btVector3(0,0,0),De=new Ln.btRigidBodyConstructionInfo(N,re,ce,be),Oe=new Ln.btRigidBody(De);r.addRigidBody(Oe)},L3e=(v,r,c,f,_)=>{const T=new Ln.btTransform;T.setIdentity(),T.setOrigin(new Ln.btVector3(f.x,f.y,f.z));const A=new b1;A.setFromEuler(new ts(_.x,_.y,_.z));const N=new Ln.btQuaternion(A.x,A.y,A.z,A.w);T.setRotation(N);const k=new Ln.btDefaultMotionState(T),V=new Ln.btVector3(0,0,0);c.calculateLocalInertia(15,V);const j=new Ln.btRigidBodyConstructionInfo(15,k,c,V),K=new Ln.btRigidBody(j);return v.addRigidBody(K),K},k3e=v=>{const r=new Ln.btConvexHullShape,f=v.geometry.attributes.position;for(let _=0;_<f.count;_++){const y=new at;y.fromBufferAttribute(f,_),y.applyMatrix4(v.matrixWorld);const T=new Ln.btVector3(y.x,y.y,y.z);r.addPoint(T)}return r};class vg extends Yoe{constructor(r){super(r)}parse(r){function c(ct){switch(ct.image_type){case K:case ce:if(ct.colormap_length>256||ct.colormap_size!==24||ct.colormap_type!==1)throw new Error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case Q:case ie:case ue:case re:if(ct.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case j:throw new Error("THREE.TGALoader: No data.");default:throw new Error("THREE.TGALoader: Invalid type "+ct.image_type)}if(ct.width<=0||ct.height<=0)throw new Error("THREE.TGALoader: Invalid image size.");if(ct.pixel_size!==8&&ct.pixel_size!==16&&ct.pixel_size!==24&&ct.pixel_size!==32)throw new Error("THREE.TGALoader: Invalid pixel size "+ct.pixel_size)}function f(ct,Wt,vt,Ht,Qt){let a0,O0;const T0=vt.pixel_size>>3,w0=vt.width*vt.height*T0;if(Wt&&(O0=Qt.subarray(Ht,Ht+=vt.colormap_length*(vt.colormap_size>>3))),ct){a0=new Uint8Array(w0);let y0,dt,wt,e0=0;const B0=new Uint8Array(T0);for(;e0<w0;)if(y0=Qt[Ht++],dt=(y0&127)+1,y0&128){for(wt=0;wt<T0;++wt)B0[wt]=Qt[Ht++];for(wt=0;wt<dt;++wt)a0.set(B0,e0+wt*T0);e0+=T0*dt}else{for(dt*=T0,wt=0;wt<dt;++wt)a0[e0+wt]=Qt[Ht++];e0+=dt}}else a0=Qt.subarray(Ht,Ht+=Wt?vt.width*vt.height:w0);return{pixel_data:a0,palettes:O0}}function _(ct,Wt,vt,Ht,Qt,a0,O0,T0,w0){const y0=w0;let dt,wt=0,e0,B0;const A0=Ie.width;for(B0=Wt;B0!==Ht;B0+=vt)for(e0=Qt;e0!==O0;e0+=a0,wt++)dt=T0[wt],ct[(e0+A0*B0)*4+3]=255,ct[(e0+A0*B0)*4+2]=y0[dt*3+0],ct[(e0+A0*B0)*4+1]=y0[dt*3+1],ct[(e0+A0*B0)*4+0]=y0[dt*3+2];return ct}function y(ct,Wt,vt,Ht,Qt,a0,O0,T0){let w0,y0=0,dt,wt;const e0=Ie.width;for(wt=Wt;wt!==Ht;wt+=vt)for(dt=Qt;dt!==O0;dt+=a0,y0+=2)w0=T0[y0+0]+(T0[y0+1]<<8),ct[(dt+e0*wt)*4+0]=(w0&31744)>>7,ct[(dt+e0*wt)*4+1]=(w0&992)>>2,ct[(dt+e0*wt)*4+2]=(w0&31)<<3,ct[(dt+e0*wt)*4+3]=w0&32768?0:255;return ct}function T(ct,Wt,vt,Ht,Qt,a0,O0,T0){let w0=0,y0,dt;const wt=Ie.width;for(dt=Wt;dt!==Ht;dt+=vt)for(y0=Qt;y0!==O0;y0+=a0,w0+=3)ct[(y0+wt*dt)*4+3]=255,ct[(y0+wt*dt)*4+2]=T0[w0+0],ct[(y0+wt*dt)*4+1]=T0[w0+1],ct[(y0+wt*dt)*4+0]=T0[w0+2];return ct}function A(ct,Wt,vt,Ht,Qt,a0,O0,T0){let w0=0,y0,dt;const wt=Ie.width;for(dt=Wt;dt!==Ht;dt+=vt)for(y0=Qt;y0!==O0;y0+=a0,w0+=4)ct[(y0+wt*dt)*4+2]=T0[w0+0],ct[(y0+wt*dt)*4+1]=T0[w0+1],ct[(y0+wt*dt)*4+0]=T0[w0+2],ct[(y0+wt*dt)*4+3]=T0[w0+3];return ct}function N(ct,Wt,vt,Ht,Qt,a0,O0,T0){let w0,y0=0,dt,wt;const e0=Ie.width;for(wt=Wt;wt!==Ht;wt+=vt)for(dt=Qt;dt!==O0;dt+=a0,y0++)w0=T0[y0],ct[(dt+e0*wt)*4+0]=w0,ct[(dt+e0*wt)*4+1]=w0,ct[(dt+e0*wt)*4+2]=w0,ct[(dt+e0*wt)*4+3]=255;return ct}function k(ct,Wt,vt,Ht,Qt,a0,O0,T0){let w0=0,y0,dt;const wt=Ie.width;for(dt=Wt;dt!==Ht;dt+=vt)for(y0=Qt;y0!==O0;y0+=a0,w0+=2)ct[(y0+wt*dt)*4+0]=T0[w0+0],ct[(y0+wt*dt)*4+1]=T0[w0+0],ct[(y0+wt*dt)*4+2]=T0[w0+0],ct[(y0+wt*dt)*4+3]=T0[w0+1];return ct}function V(ct,Wt,vt,Ht,Qt){let a0,O0,T0,w0,y0,dt;switch((Ie.flags&be)>>De){default:case Be:a0=0,T0=1,y0=Wt,O0=0,w0=1,dt=vt;break;case Oe:a0=0,T0=1,y0=Wt,O0=vt-1,w0=-1,dt=-1;break;case We:a0=Wt-1,T0=-1,y0=-1,O0=0,w0=1,dt=vt;break;case je:a0=Wt-1,T0=-1,y0=-1,O0=vt-1,w0=-1,dt=-1;break}if(yt)switch(Ie.pixel_size){case 8:N(ct,O0,w0,dt,a0,T0,y0,Ht);break;case 16:k(ct,O0,w0,dt,a0,T0,y0,Ht);break;default:throw new Error("THREE.TGALoader: Format not supported.")}else switch(Ie.pixel_size){case 8:_(ct,O0,w0,dt,a0,T0,y0,Ht,Qt);break;case 16:y(ct,O0,w0,dt,a0,T0,y0,Ht);break;case 24:T(ct,O0,w0,dt,a0,T0,y0,Ht);break;case 32:A(ct,O0,w0,dt,a0,T0,y0,Ht);break;default:throw new Error("THREE.TGALoader: Format not supported.")}return ct}const j=0,K=1,Q=2,ie=3,ce=9,ue=10,re=11,be=48,De=4,Oe=0,je=1,Be=2,We=3;if(r.length<19)throw new Error("THREE.TGALoader: Not enough data to contain header.");let $e=0;const Ee=new Uint8Array(r),Ie={id_length:Ee[$e++],colormap_type:Ee[$e++],image_type:Ee[$e++],colormap_index:Ee[$e++]|Ee[$e++]<<8,colormap_length:Ee[$e++]|Ee[$e++]<<8,colormap_size:Ee[$e++],origin:[Ee[$e++]|Ee[$e++]<<8,Ee[$e++]|Ee[$e++]<<8],width:Ee[$e++]|Ee[$e++]<<8,height:Ee[$e++]|Ee[$e++]<<8,pixel_size:Ee[$e++],flags:Ee[$e++]};if(c(Ie),Ie.id_length+$e>r.length)throw new Error("THREE.TGALoader: No data.");$e+=Ie.id_length;let Je=!1,ft=!1,yt=!1;switch(Ie.image_type){case ce:Je=!0,ft=!0;break;case K:ft=!0;break;case ue:Je=!0;break;case Q:break;case re:Je=!0,yt=!0;break;case ie:yt=!0;break}const Et=new Uint8Array(Ie.width*Ie.height*4),Dt=f(Je,ft,Ie,$e,Ee);return V(Et,Ie.width,Ie.height,Dt.pixel_data,Dt.palettes),{data:Et,width:Ie.width,height:Ie.height,flipY:!0,generateMipmaps:!0,minFilter:Ur}}}class F3e extends Ya{load(r,c,f,_){const y=this,T=y.path===""?i1e.extractUrlBase(r):y.path,A=new Yg(y.manager);A.setPath(y.path),A.setRequestHeader(y.requestHeader),A.setWithCredentials(y.withCredentials),A.load(r,function(N){try{c(y.parse(N,T))}catch(k){_?_(k):console.error(k),y.manager.itemError(r)}},f,_)}parse(r,c){function f(Re,Me){const Ve=[],Fe=Re.childNodes;for(let ze=0,Pt=Fe.length;ze<Pt;ze++){const qt=Fe[ze];qt.nodeName===Me&&Ve.push(qt)}return Ve}function _(Re){if(Re.length===0)return[];const Me=Re.trim().split(/\s+/),Ve=new Array(Me.length);for(let Fe=0,ze=Me.length;Fe<ze;Fe++)Ve[Fe]=Me[Fe];return Ve}function y(Re){if(Re.length===0)return[];const Me=Re.trim().split(/\s+/),Ve=new Array(Me.length);for(let Fe=0,ze=Me.length;Fe<ze;Fe++)Ve[Fe]=parseFloat(Me[Fe]);return Ve}function T(Re){if(Re.length===0)return[];const Me=Re.trim().split(/\s+/),Ve=new Array(Me.length);for(let Fe=0,ze=Me.length;Fe<ze;Fe++)Ve[Fe]=parseInt(Me[Fe]);return Ve}function A(Re){return Re.substring(1)}function N(){return"three_default_"+_a++}function k(Re){return Object.keys(Re).length===0}function V(Re){return{unit:j(f(Re,"unit")[0]),upAxis:K(f(Re,"up_axis")[0])}}function j(Re){return Re!==void 0&&Re.hasAttribute("meter")===!0?parseFloat(Re.getAttribute("meter")):1}function K(Re){return Re!==void 0?Re.textContent:"Y_UP"}function Q(Re,Me,Ve,Fe){const ze=f(Re,Me)[0];if(ze!==void 0){const Pt=f(ze,Ve);for(let qt=0;qt<Pt.length;qt++)Fe(Pt[qt])}}function ie(Re,Me){for(const Ve in Re){const Fe=Re[Ve];Fe.build=Me(Re[Ve])}}function ce(Re,Me){return Re.build!==void 0||(Re.build=Me(Re)),Re.build}function ue(Re){const Me={sources:{},samplers:{},channels:{}};let Ve=!1;for(let Fe=0,ze=Re.childNodes.length;Fe<ze;Fe++){const Pt=Re.childNodes[Fe];if(Pt.nodeType!==1)continue;let qt;switch(Pt.nodeName){case"source":qt=Pt.getAttribute("id"),Me.sources[qt]=d0(Pt);break;case"sampler":qt=Pt.getAttribute("id"),Me.samplers[qt]=re(Pt);break;case"channel":qt=Pt.getAttribute("target"),Me.channels[qt]=be(Pt);break;case"animation":ue(Pt),Ve=!0;break;default:console.log(Pt)}}Ve===!1&&(ei.animations[Re.getAttribute("id")||zc.generateUUID()]=Me)}function re(Re){const Me={inputs:{}};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"input":const Pt=A(ze.getAttribute("source")),qt=ze.getAttribute("semantic");Me.inputs[qt]=Pt;break}}return Me}function be(Re){const Me={};let Fe=Re.getAttribute("target").split("/");const ze=Fe.shift();let Pt=Fe.shift();const qt=Pt.indexOf("(")!==-1,k0=Pt.indexOf(".")!==-1;if(k0)Fe=Pt.split("."),Pt=Fe.shift(),Me.member=Fe.shift();else if(qt){const x0=Pt.split("(");Pt=x0.shift();for(let E0=0;E0<x0.length;E0++)x0[E0]=parseInt(x0[E0].replace(/\)/,""));Me.indices=x0}return Me.id=ze,Me.sid=Pt,Me.arraySyntax=qt,Me.memberSyntax=k0,Me.sampler=A(Re.getAttribute("source")),Me}function De(Re){const Me=[],Ve=Re.channels,Fe=Re.samplers,ze=Re.sources;for(const Pt in Ve)if(Ve.hasOwnProperty(Pt)){const qt=Ve[Pt],k0=Fe[qt.sampler],x0=k0.inputs.INPUT,E0=k0.inputs.OUTPUT,Q0=ze[x0],i0=ze[E0],Y0=je(qt,Q0,i0);Ie(Y0,Me)}return Me}function Oe(Re){return ce(ei.animations[Re],De)}function je(Re,Me,Ve){const Fe=ei.nodes[Re.id],ze=$0(Fe.id),Pt=Fe.transforms[Re.sid],qt=Fe.matrix.clone().transpose();let k0,x0,E0,Q0,i0,Y0;const H0={};switch(Pt){case"matrix":for(E0=0,Q0=Me.array.length;E0<Q0;E0++)if(k0=Me.array[E0],x0=E0*Ve.stride,H0[k0]===void 0&&(H0[k0]={}),Re.arraySyntax===!0){const s2=Ve.array[x0],Mn=Re.indices[0]+4*Re.indices[1];H0[k0][Mn]=s2}else for(i0=0,Y0=Ve.stride;i0<Y0;i0++)H0[k0][i0]=Ve.array[x0+i0];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Pt);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Pt);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Pt);break}const mi=Be(H0,qt);return{name:ze.uuid,keyframes:mi}}function Be(Re,Me){const Ve=[];for(const ze in Re)Ve.push({time:parseFloat(ze),value:Re[ze]});Ve.sort(Fe);for(let ze=0;ze<16;ze++)Je(Ve,ze,Me.elements[ze]);return Ve;function Fe(ze,Pt){return ze.time-Pt.time}}const We=new at,$e=new at,Ee=new b1;function Ie(Re,Me){const Ve=Re.keyframes,Fe=Re.name,ze=[],Pt=[],qt=[],k0=[];for(let x0=0,E0=Ve.length;x0<E0;x0++){const Q0=Ve[x0],i0=Q0.time,Y0=Q0.value;Ue.fromArray(Y0).transpose(),Ue.decompose(We,Ee,$e),ze.push(i0),Pt.push(We.x,We.y,We.z),qt.push(Ee.x,Ee.y,Ee.z,Ee.w),k0.push($e.x,$e.y,$e.z)}return Pt.length>0&&Me.push(new Dl(Fe+".position",ze,Pt)),qt.length>0&&Me.push(new wf(Fe+".quaternion",ze,qt)),k0.length>0&&Me.push(new Dl(Fe+".scale",ze,k0)),Me}function Je(Re,Me,Ve){let Fe,ze=!0,Pt,qt;for(Pt=0,qt=Re.length;Pt<qt;Pt++)Fe=Re[Pt],Fe.value[Me]===void 0?Fe.value[Me]=null:ze=!1;if(ze===!0)for(Pt=0,qt=Re.length;Pt<qt;Pt++)Fe=Re[Pt],Fe.value[Me]=Ve;else ft(Re,Me)}function ft(Re,Me){let Ve,Fe;for(let ze=0,Pt=Re.length;ze<Pt;ze++){const qt=Re[ze];if(qt.value[Me]===null){if(Ve=yt(Re,ze,Me),Fe=Et(Re,ze,Me),Ve===null){qt.value[Me]=Fe.value[Me];continue}if(Fe===null){qt.value[Me]=Ve.value[Me];continue}Dt(qt,Ve,Fe,Me)}}}function yt(Re,Me,Ve){for(;Me>=0;){const Fe=Re[Me];if(Fe.value[Ve]!==null)return Fe;Me--}return null}function Et(Re,Me,Ve){for(;Me<Re.length;){const Fe=Re[Me];if(Fe.value[Ve]!==null)return Fe;Me++}return null}function Dt(Re,Me,Ve,Fe){if(Ve.time-Me.time===0){Re.value[Fe]=Me.value[Fe];return}Re.value[Fe]=(Re.time-Me.time)*(Ve.value[Fe]-Me.value[Fe])/(Ve.time-Me.time)+Me.value[Fe]}function ct(Re){const Me={name:Re.getAttribute("id")||"default",start:parseFloat(Re.getAttribute("start")||0),end:parseFloat(Re.getAttribute("end")||0),animations:[]};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"instance_animation":Me.animations.push(A(ze.getAttribute("url")));break}}ei.clips[Re.getAttribute("id")]=Me}function Wt(Re){const Me=[],Ve=Re.name,Fe=Re.end-Re.start||-1,ze=Re.animations;for(let Pt=0,qt=ze.length;Pt<qt;Pt++){const k0=Oe(ze[Pt]);for(let x0=0,E0=k0.length;x0<E0;x0++)Me.push(k0[x0])}return new p3(Ve,Fe,Me)}function vt(Re){return ce(ei.clips[Re],Wt)}function Ht(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"skin":Me.id=A(ze.getAttribute("source")),Me.skin=Qt(ze);break;case"morph":Me.id=A(ze.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}ei.controllers[Re.getAttribute("id")]=Me}function Qt(Re){const Me={sources:{}};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"bind_shape_matrix":Me.bindShapeMatrix=y(ze.textContent);break;case"source":const Pt=ze.getAttribute("id");Me.sources[Pt]=d0(ze);break;case"joints":Me.joints=a0(ze);break;case"vertex_weights":Me.vertexWeights=O0(ze);break}}return Me}function a0(Re){const Me={inputs:{}};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"input":const Pt=ze.getAttribute("semantic"),qt=A(ze.getAttribute("source"));Me.inputs[Pt]=qt;break}}return Me}function O0(Re){const Me={inputs:{}};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"input":const Pt=ze.getAttribute("semantic"),qt=A(ze.getAttribute("source")),k0=parseInt(ze.getAttribute("offset"));Me.inputs[Pt]={id:qt,offset:k0};break;case"vcount":Me.vcount=T(ze.textContent);break;case"v":Me.v=T(ze.textContent);break}}return Me}function T0(Re){const Me={id:Re.id},Ve=ei.geometries[Me.id];return Re.skin!==void 0&&(Me.skin=w0(Re.skin),Ve.sources.skinIndices=Me.skin.indices,Ve.sources.skinWeights=Me.skin.weights),Me}function w0(Re){const Ve={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},Fe=Re.sources,ze=Re.vertexWeights,Pt=ze.vcount,qt=ze.v,k0=ze.inputs.JOINT.offset,x0=ze.inputs.WEIGHT.offset,E0=Re.sources[Re.joints.inputs.JOINT],Q0=Re.sources[Re.joints.inputs.INV_BIND_MATRIX],i0=Fe[ze.inputs.WEIGHT.id].array;let Y0=0,H0,mi,oi;for(H0=0,oi=Pt.length;H0<oi;H0++){const Mn=Pt[H0],fn=[];for(mi=0;mi<Mn;mi++){const _n=qt[Y0+k0],Ks=qt[Y0+x0],br=i0[Ks];fn.push({index:_n,weight:br}),Y0+=2}for(fn.sort(s2),mi=0;mi<4;mi++){const _n=fn[mi];_n!==void 0?(Ve.indices.array.push(_n.index),Ve.weights.array.push(_n.weight)):(Ve.indices.array.push(0),Ve.weights.array.push(0))}}for(Re.bindShapeMatrix?Ve.bindMatrix=new Ri().fromArray(Re.bindShapeMatrix).transpose():Ve.bindMatrix=new Ri().identity(),H0=0,oi=E0.array.length;H0<oi;H0++){const Mn=E0.array[H0],fn=new Ri().fromArray(Q0.array,H0*Q0.stride).transpose();Ve.joints.push({name:Mn,boneInverse:fn})}return Ve;function s2(Mn,fn){return fn.weight-Mn.weight}}function y0(Re){return ce(ei.controllers[Re],T0)}function dt(Re){const Me={init_from:f(Re,"init_from")[0].textContent};ei.images[Re.getAttribute("id")]=Me}function wt(Re){return Re.build!==void 0?Re.build:Re.init_from}function e0(Re){const Me=ei.images[Re];return Me!==void 0?ce(Me,wt):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",Re),null)}function B0(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"profile_COMMON":Me.profile=A0(ze);break}}ei.effects[Re.getAttribute("id")]=Me}function A0(Re){const Me={surfaces:{},samplers:{}};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"newparam":Bi(ze,Me);break;case"technique":Me.technique=Fn(ze);break;case"extra":Me.extra=Bn(ze);break}}return Me}function Bi(Re,Me){const Ve=Re.getAttribute("sid");for(let Fe=0,ze=Re.childNodes.length;Fe<ze;Fe++){const Pt=Re.childNodes[Fe];if(Pt.nodeType===1)switch(Pt.nodeName){case"surface":Me.surfaces[Ve]=M2(Pt);break;case"sampler2D":Me.samplers[Ve]=J0(Pt);break}}}function M2(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"init_from":Me.init_from=ze.textContent;break}}return Me}function J0(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"source":Me.source=ze.textContent;break}}return Me}function Fn(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"constant":case"lambert":case"blinn":case"phong":Me.type=ze.nodeName,Me.parameters=tt(ze);break;case"extra":Me.extra=Bn(ze);break}}return Me}function tt(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":Me[ze.nodeName]=ki(ze);break;case"transparent":Me[ze.nodeName]={opaque:ze.hasAttribute("opaque")?ze.getAttribute("opaque"):"A_ONE",data:ki(ze)};break}}return Me}function ki(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"color":Me[ze.nodeName]=y(ze.textContent);break;case"float":Me[ze.nodeName]=parseFloat(ze.textContent);break;case"texture":Me[ze.nodeName]={id:ze.getAttribute("texture"),extra:qi(ze)};break}}return Me}function qi(Re){const Me={technique:{}};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"extra":wn(ze,Me);break}}return Me}function wn(Re,Me){for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"technique":b0(ze,Me);break}}}function b0(Re,Me){for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":Me.technique[ze.nodeName]=parseFloat(ze.textContent);break;case"wrapU":case"wrapV":ze.textContent.toUpperCase()==="TRUE"?Me.technique[ze.nodeName]=1:ze.textContent.toUpperCase()==="FALSE"?Me.technique[ze.nodeName]=0:Me.technique[ze.nodeName]=parseInt(ze.textContent);break;case"bump":Me[ze.nodeName]=si(ze);break}}}function Bn(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"technique":Me.technique=ri(ze);break}}return Me}function ri(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"double_sided":Me[ze.nodeName]=parseInt(ze.textContent);break;case"bump":Me[ze.nodeName]=si(ze);break}}return Me}function si(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"texture":Me[ze.nodeName]={id:ze.getAttribute("texture"),texcoord:ze.getAttribute("texcoord"),extra:qi(ze)};break}}return Me}function Ye(Re){return Re}function Pe(Re){return ce(ei.effects[Re],Ye)}function St(Re){const Me={name:Re.getAttribute("name")};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"instance_effect":Me.url=A(ze.getAttribute("url"));break}}ei.materials[Re.getAttribute("id")]=Me}function Yt(Re){let Me,Ve=Re.slice((Re.lastIndexOf(".")-1>>>0)+2);switch(Ve=Ve.toLowerCase(),Ve){case"tga":Me=G2;break;default:Me=On}return Me}function Jt(Re){const Me=Pe(Re.url),Ve=Me.profile.technique;let Fe;switch(Ve.type){case"phong":case"blinn":Fe=new $4;break;case"lambert":Fe=new qg;break;default:Fe=new oo;break}Fe.name=Re.name||"";function ze(x0,E0=null){const Q0=Me.profile.samplers[x0.id];let i0=null;if(Q0!==void 0){const Y0=Me.profile.surfaces[Q0.source];i0=e0(Y0.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),i0=e0(x0.id);if(i0!==null){const Y0=Yt(i0);if(Y0!==void 0){const H0=Y0.load(i0),mi=x0.extra;if(mi!==void 0&&mi.technique!==void 0&&k(mi.technique)===!1){const oi=mi.technique;H0.wrapS=oi.wrapU?co:Sr,H0.wrapT=oi.wrapV?co:Sr,H0.offset.set(oi.offsetU||0,oi.offsetV||0),H0.repeat.set(oi.repeatU||1,oi.repeatV||1)}else H0.wrapS=co,H0.wrapT=co;return E0!==null&&(H0.colorSpace=E0),H0}else return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",i0),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",x0.id),null}const Pt=Ve.parameters;for(const x0 in Pt){const E0=Pt[x0];switch(x0){case"diffuse":E0.color&&Fe.color.fromArray(E0.color),E0.texture&&(Fe.map=ze(E0.texture,D2));break;case"specular":E0.color&&Fe.specular&&Fe.specular.fromArray(E0.color),E0.texture&&(Fe.specularMap=ze(E0.texture));break;case"bump":E0.texture&&(Fe.normalMap=ze(E0.texture));break;case"ambient":E0.texture&&(Fe.lightMap=ze(E0.texture,D2));break;case"shininess":E0.float&&Fe.shininess&&(Fe.shininess=E0.float);break;case"emission":E0.color&&Fe.emissive&&Fe.emissive.fromArray(E0.color),E0.texture&&(Fe.emissiveMap=ze(E0.texture,D2));break}}fi.colorSpaceToWorking(Fe.color,D2),Fe.specular&&fi.colorSpaceToWorking(Fe.specular,D2),Fe.emissive&&fi.colorSpaceToWorking(Fe.emissive,D2);let qt=Pt.transparent,k0=Pt.transparency;if(k0===void 0&&qt&&(k0={float:1}),qt===void 0&&k0&&(qt={opaque:"A_ONE",data:{color:[1,1,1,1]}}),qt&&k0)if(qt.data.texture)Fe.transparent=!0;else{const x0=qt.data.color;switch(qt.opaque){case"A_ONE":Fe.opacity=x0[3]*k0.float;break;case"RGB_ZERO":Fe.opacity=1-x0[0]*k0.float;break;case"A_ZERO":Fe.opacity=1-x0[3]*k0.float;break;case"RGB_ONE":Fe.opacity=x0[0]*k0.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',qt.opaque)}Fe.opacity<1&&(Fe.transparent=!0)}if(Ve.extra!==void 0&&Ve.extra.technique!==void 0){const x0=Ve.extra.technique;for(const E0 in x0){const Q0=x0[E0];switch(E0){case"double_sided":Fe.side=Q0===1?Ar:ys;break;case"bump":Fe.normalMap=ze(Q0.texture),Fe.normalScale=new _i(1,1);break}}}return Fe}function Ut(Re){return ce(ei.materials[Re],Jt)}function V0(Re){const Me={name:Re.getAttribute("name")};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"optics":Me.optics=g0(ze);break}}ei.cameras[Re.getAttribute("id")]=Me}function g0(Re){for(let Me=0;Me<Re.childNodes.length;Me++){const Ve=Re.childNodes[Me];switch(Ve.nodeName){case"technique_common":return ai(Ve)}}return{}}function ai(Re){const Me={};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];switch(Fe.nodeName){case"perspective":case"orthographic":Me.technique=Fe.nodeName,Me.parameters=X0(Fe);break}}return Me}function X0(Re){const Me={};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];switch(Fe.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":Me[Fe.nodeName]=parseFloat(Fe.textContent);break}}return Me}function t0(Re){let Me;switch(Re.optics.technique){case"perspective":Me=new Y2(Re.optics.parameters.yfov,Re.optics.parameters.aspect_ratio,Re.optics.parameters.znear,Re.optics.parameters.zfar);break;case"orthographic":let Ve=Re.optics.parameters.ymag,Fe=Re.optics.parameters.xmag;const ze=Re.optics.parameters.aspect_ratio;Fe=Fe===void 0?Ve*ze:Fe,Ve=Ve===void 0?Fe/ze:Ve,Fe*=.5,Ve*=.5,Me=new Mf(-Fe,Fe,Ve,-Ve,Re.optics.parameters.znear,Re.optics.parameters.zfar);break;default:Me=new Y2;break}return Me.name=Re.name||"",Me}function c0(Re){const Me=ei.cameras[Re];return Me!==void 0?ce(Me,t0):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",Re),null)}function yi(Re){let Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"technique_common":Me=ci(ze);break}}ei.lights[Re.getAttribute("id")]=Me}function ci(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"directional":case"point":case"spot":case"ambient":Me.technique=ze.nodeName,Me.parameters=D0(ze)}}return Me}function D0(Re){const Me={};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"color":const Pt=y(ze.textContent);Me.color=new ni().fromArray(Pt),fi.colorSpaceToWorking(Me.color,D2);break;case"falloff_angle":Me.falloffAngle=parseFloat(ze.textContent);break;case"quadratic_attenuation":const qt=parseFloat(ze.textContent);Me.distance=qt?Math.sqrt(1/qt):0;break}}return Me}function Si(Re){let Me;switch(Re.technique){case"directional":Me=new $d;break;case"point":Me=new Qg;break;case"spot":Me=new Cp;break;case"ambient":Me=new Jg;break}return Re.parameters.color&&Me.color.copy(Re.parameters.color),Re.parameters.distance&&(Me.distance=Re.parameters.distance),Me}function nt(Re){const Me=ei.lights[Re];return Me!==void 0?ce(Me,Si):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",Re),null)}function S0(Re){const Me={name:Re.getAttribute("name"),sources:{},vertices:{},primitives:[]},Ve=f(Re,"mesh")[0];if(Ve!==void 0){for(let Fe=0;Fe<Ve.childNodes.length;Fe++){const ze=Ve.childNodes[Fe];if(ze.nodeType!==1)continue;const Pt=ze.getAttribute("id");switch(ze.nodeName){case"source":Me.sources[Pt]=d0(ze);break;case"vertices":Me.vertices=m0(ze);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",ze.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":Me.primitives.push(s0(ze));break;default:console.log(ze)}}ei.geometries[Re.getAttribute("id")]=Me}}function d0(Re){const Me={array:[],stride:3};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"float_array":Me.array=y(Fe.textContent);break;case"Name_array":Me.array=_(Fe.textContent);break;case"technique_common":const ze=f(Fe,"accessor")[0];ze!==void 0&&(Me.stride=parseInt(ze.getAttribute("stride")));break}}return Me}function m0(Re){const Me={};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];Fe.nodeType===1&&(Me[Fe.getAttribute("semantic")]=A(Fe.getAttribute("source")))}return Me}function s0(Re){const Me={type:Re.nodeName,material:Re.getAttribute("material"),count:parseInt(Re.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let Ve=0,Fe=Re.childNodes.length;Ve<Fe;Ve++){const ze=Re.childNodes[Ve];if(ze.nodeType===1)switch(ze.nodeName){case"input":const Pt=A(ze.getAttribute("source")),qt=ze.getAttribute("semantic"),k0=parseInt(ze.getAttribute("offset")),x0=parseInt(ze.getAttribute("set")),E0=x0>0?qt+x0:qt;Me.inputs[E0]={id:Pt,offset:k0},Me.stride=Math.max(Me.stride,k0+1),qt==="TEXCOORD"&&(Me.hasUV=!0);break;case"vcount":Me.vcount=T(ze.textContent);break;case"p":Me.p=T(ze.textContent);break}}return Me}function Zt(Re){const Me={};for(let Ve=0;Ve<Re.length;Ve++){const Fe=Re[Ve];Me[Fe.type]===void 0&&(Me[Fe.type]=[]),Me[Fe.type].push(Fe)}return Me}function z0(Re){let Me=0;for(let Ve=0,Fe=Re.length;Ve<Fe;Ve++)Re[Ve].hasUV===!0&&Me++;Me>0&&Me<Re.length&&(Re.uvsNeedsFix=!0)}function Ai(Re){const Me={},Ve=Re.sources,Fe=Re.vertices,ze=Re.primitives;if(ze.length===0)return{};const Pt=Zt(ze);for(const qt in Pt){const k0=Pt[qt];z0(k0),Me[qt]=yn(k0,Ve,Fe)}return Me}function yn(Re,Me,Ve){const Fe={},ze={array:[],stride:0},Pt={array:[],stride:0},qt={array:[],stride:0},k0={array:[],stride:0},x0={array:[],stride:0},E0={array:[],stride:4},Q0={array:[],stride:4},i0=new ns,Y0=[];let H0=0;for(let mi=0;mi<Re.length;mi++){const oi=Re[mi],s2=oi.inputs;let Mn=0;switch(oi.type){case"lines":case"linestrips":Mn=oi.count*2;break;case"triangles":Mn=oi.count*3;break;case"polylist":for(let fn=0;fn<oi.count;fn++){const _n=oi.vcount[fn];switch(_n){case 3:Mn+=3;break;case 4:Mn+=6;break;default:Mn+=(_n-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknown primitive type:",oi.type)}i0.addGroup(H0,Mn,mi),H0+=Mn,oi.material&&Y0.push(oi.material);for(const fn in s2){const _n=s2[fn];switch(fn){case"VERTEX":for(const Ks in Ve){const br=Ve[Ks];switch(Ks){case"POSITION":const P1=ze.array.length;if(Gi(oi,Me[br],_n.offset,ze.array),ze.stride=Me[br].stride,Me.skinWeights&&Me.skinIndices&&(Gi(oi,Me.skinIndices,_n.offset,E0.array),Gi(oi,Me.skinWeights,_n.offset,Q0.array)),oi.hasUV===!1&&Re.uvsNeedsFix===!0){const Vp=(ze.array.length-P1)/ze.stride;for(let Df=0;Df<Vp;Df++)qt.array.push(0,0)}break;case"NORMAL":Gi(oi,Me[br],_n.offset,Pt.array),Pt.stride=Me[br].stride;break;case"COLOR":Gi(oi,Me[br],_n.offset,x0.array),x0.stride=Me[br].stride;break;case"TEXCOORD":Gi(oi,Me[br],_n.offset,qt.array),qt.stride=Me[br].stride;break;case"TEXCOORD1":Gi(oi,Me[br],_n.offset,k0.array),qt.stride=Me[br].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',Ks)}}break;case"NORMAL":Gi(oi,Me[_n.id],_n.offset,Pt.array),Pt.stride=Me[_n.id].stride;break;case"COLOR":Gi(oi,Me[_n.id],_n.offset,x0.array,!0),x0.stride=Me[_n.id].stride;break;case"TEXCOORD":Gi(oi,Me[_n.id],_n.offset,qt.array),qt.stride=Me[_n.id].stride;break;case"TEXCOORD1":Gi(oi,Me[_n.id],_n.offset,k0.array),k0.stride=Me[_n.id].stride;break}}}return ze.array.length>0&&i0.setAttribute("position",new x2(ze.array,ze.stride)),Pt.array.length>0&&i0.setAttribute("normal",new x2(Pt.array,Pt.stride)),x0.array.length>0&&i0.setAttribute("color",new x2(x0.array,x0.stride)),qt.array.length>0&&i0.setAttribute("uv",new x2(qt.array,qt.stride)),k0.array.length>0&&i0.setAttribute("uv1",new x2(k0.array,k0.stride)),E0.array.length>0&&i0.setAttribute("skinIndex",new x2(E0.array,E0.stride)),Q0.array.length>0&&i0.setAttribute("skinWeight",new x2(Q0.array,Q0.stride)),Fe.data=i0,Fe.type=Re[0].type,Fe.materialKeys=Y0,Fe}function Gi(Re,Me,Ve,Fe,ze=!1){const Pt=Re.p,qt=Re.stride,k0=Re.vcount;function x0(i0){let Y0=Pt[i0+Ve]*Q0;const H0=Y0+Q0;for(;Y0<H0;Y0++)Fe.push(E0[Y0]);if(ze){const mi=Fe.length-Q0-1;er.setRGB(Fe[mi+0],Fe[mi+1],Fe[mi+2],D2),Fe[mi+0]=er.r,Fe[mi+1]=er.g,Fe[mi+2]=er.b}}const E0=Me.array,Q0=Me.stride;if(Re.vcount!==void 0){let i0=0;for(let Y0=0,H0=k0.length;Y0<H0;Y0++){const mi=k0[Y0];if(mi===4){const oi=i0+qt*0,s2=i0+qt*1,Mn=i0+qt*2,fn=i0+qt*3;x0(oi),x0(s2),x0(fn),x0(s2),x0(Mn),x0(fn)}else if(mi===3){const oi=i0+qt*0,s2=i0+qt*1,Mn=i0+qt*2;x0(oi),x0(s2),x0(Mn)}else if(mi>4)for(let oi=1,s2=mi-2;oi<=s2;oi++){const Mn=i0+qt*0,fn=i0+qt*oi,_n=i0+qt*(oi+1);x0(Mn),x0(fn),x0(_n)}i0+=qt*mi}}else for(let i0=0,Y0=Pt.length;i0<Y0;i0+=qt)x0(i0)}function Cr(Re){return ce(ei.geometries[Re],Ai)}function Nr(Re){const Me={name:Re.getAttribute("name")||"",joints:{},links:[]};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"technique_common":rc(Fe,Me);break}}ei.kinematicsModels[Re.getAttribute("id")]=Me}function ic(Re){return Re.build!==void 0?Re.build:Re}function nc(Re){return ce(ei.kinematicsModels[Re],ic)}function rc(Re,Me){for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"joint":Me.joints[Fe.getAttribute("sid")]=Ys(Fe);break;case"link":Me.links.push(fa(Fe));break}}}function Ys(Re){let Me;for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"prismatic":case"revolute":Me=ua(Fe);break}}return Me}function ua(Re){const Me={sid:Re.getAttribute("sid"),name:Re.getAttribute("name")||"",axis:new at,limits:{min:0,max:0},type:Re.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"axis":const ze=y(Fe.textContent);Me.axis.fromArray(ze);break;case"limits":const Pt=Fe.getElementsByTagName("max")[0],qt=Fe.getElementsByTagName("min")[0];Me.limits.max=parseFloat(Pt.textContent),Me.limits.min=parseFloat(qt.textContent);break}}return Me.limits.min>=Me.limits.max&&(Me.static=!0),Me.middlePosition=(Me.limits.min+Me.limits.max)/2,Me}function fa(Re){const Me={sid:Re.getAttribute("sid"),name:Re.getAttribute("name")||"",attachments:[],transforms:[]};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"attachment_full":Me.attachments.push(ks(Fe));break;case"matrix":case"translate":case"rotate":Me.transforms.push(Cs(Fe));break}}return Me}function ks(Re){const Me={joint:Re.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"link":Me.links.push(fa(Fe));break;case"matrix":case"translate":case"rotate":Me.transforms.push(Cs(Fe));break}}return Me}function Cs(Re){const Me={type:Re.nodeName},Ve=y(Re.textContent);switch(Me.type){case"matrix":Me.obj=new Ri,Me.obj.fromArray(Ve).transpose();break;case"translate":Me.obj=new at,Me.obj.fromArray(Ve);break;case"rotate":Me.obj=new at,Me.obj.fromArray(Ve),Me.angle=zc.degToRad(Ve[3]);break}return Me}function sc(Re){const Me={name:Re.getAttribute("name")||"",rigidBodies:{}};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"rigid_body":Me.rigidBodies[Fe.getAttribute("name")]={},I1(Fe,Me.rigidBodies[Fe.getAttribute("name")]);break}}ei.physicsModels[Re.getAttribute("id")]=Me}function I1(Re,Me){for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"technique_common":oc(Fe,Me);break}}}function oc(Re,Me){for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"inertia":Me.inertia=y(Fe.textContent);break;case"mass":Me.mass=y(Fe.textContent)[0];break}}}function ac(Re){const Me={bindJointAxis:[]};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"bind_joint_axis":Me.bindJointAxis.push(Zl(Fe));break}}ei.kinematicsScenes[A(Re.getAttribute("url"))]=Me}function Zl(Re){const Me={target:Re.getAttribute("target").split("/").pop()};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType===1)switch(Fe.nodeName){case"axis":const ze=Fe.getElementsByTagName("param")[0];Me.axis=ze.textContent;const Pt=Me.axis.split("inst_").pop().split("axis")[0];Me.jointIndex=Pt.substring(0,Pt.length-1);break}}return Me}function ho(Re){return Re.build!==void 0?Re.build:Re}function R2(Re){return ce(ei.kinematicsScenes[Re],ho)}function Ql(){const Re=Object.keys(ei.kinematicsModels)[0],Me=Object.keys(ei.kinematicsScenes)[0],Ve=Object.keys(ei.visualScenes)[0];if(Re===void 0||Me===void 0)return;const Fe=nc(Re),ze=R2(Me),Pt=Wn(Ve),qt=ze.bindJointAxis,k0={};for(let Q0=0,i0=qt.length;Q0<i0;Q0++){const Y0=qt[Q0],H0=cn.querySelector('[sid="'+Y0.target+'"]');if(H0){const mi=H0.parentElement;x0(Y0.jointIndex,mi)}}function x0(Q0,i0){const Y0=i0.getAttribute("name"),H0=Fe.joints[Q0];Pt.traverse(function(mi){mi.name===Y0&&(k0[Q0]={object:mi,transforms:Xo(i0),joint:H0,position:H0.zeroPosition})})}const E0=new Ri;tr={joints:Fe&&Fe.joints,getJointValue:function(Q0){const i0=k0[Q0];if(i0)return i0.position;console.warn("THREE.ColladaLoader: Joint "+Q0+" doesn't exist.")},setJointValue:function(Q0,i0){const Y0=k0[Q0];if(Y0){const H0=Y0.joint;if(i0>H0.limits.max||i0<H0.limits.min)console.warn("THREE.ColladaLoader: Joint "+Q0+" value "+i0+" outside of limits (min: "+H0.limits.min+", max: "+H0.limits.max+").");else if(H0.static)console.warn("THREE.ColladaLoader: Joint "+Q0+" is static.");else{const mi=Y0.object,oi=H0.axis,s2=Y0.transforms;Ue.identity();for(let Mn=0;Mn<s2.length;Mn++){const fn=s2[Mn];if(fn.sid&&fn.sid.indexOf(Q0)!==-1)switch(H0.type){case"revolute":Ue.multiply(E0.makeRotationAxis(oi,zc.degToRad(i0)));break;case"prismatic":Ue.multiply(E0.makeTranslation(oi.x*i0,oi.y*i0,oi.z*i0));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+H0.type);break}else switch(fn.type){case"matrix":Ue.multiply(fn.obj);break;case"translate":Ue.multiply(E0.makeTranslation(fn.obj.x,fn.obj.y,fn.obj.z));break;case"scale":Ue.scale(fn.obj);break;case"rotate":Ue.multiply(E0.makeRotationAxis(fn.obj,fn.angle));break}}mi.matrix.copy(Ue),mi.matrix.decompose(mi.position,mi.quaternion,mi.scale),k0[Q0].position=i0}}else console.log("THREE.ColladaLoader: "+Q0+" does not exist.")}}}function Xo(Re){const Me=[],Ve=cn.querySelector('[id="'+Re.id+'"]');for(let Fe=0;Fe<Ve.childNodes.length;Fe++){const ze=Ve.childNodes[Fe];if(ze.nodeType!==1)continue;let Pt,qt;switch(ze.nodeName){case"matrix":Pt=y(ze.textContent);const k0=new Ri().fromArray(Pt).transpose();Me.push({sid:ze.getAttribute("sid"),type:ze.nodeName,obj:k0});break;case"translate":case"scale":Pt=y(ze.textContent),qt=new at().fromArray(Pt),Me.push({sid:ze.getAttribute("sid"),type:ze.nodeName,obj:qt});break;case"rotate":Pt=y(ze.textContent),qt=new at().fromArray(Pt);const x0=zc.degToRad(Pt[3]);Me.push({sid:ze.getAttribute("sid"),type:ze.nodeName,obj:qt,angle:x0});break}}return Me}function Jl(Re){const Me=Re.getElementsByTagName("node");for(let Ve=0;Ve<Me.length;Ve++){const Fe=Me[Ve];Fe.hasAttribute("id")===!1&&Fe.setAttribute("id",N())}}const Ue=new Ri,pt=new at;function At(Re){const Me={name:Re.getAttribute("name")||"",type:Re.getAttribute("type"),id:Re.getAttribute("id"),sid:Re.getAttribute("sid"),matrix:new Ri,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];if(Fe.nodeType!==1)continue;let ze;switch(Fe.nodeName){case"node":Me.nodes.push(Fe.getAttribute("id")),At(Fe);break;case"instance_camera":Me.instanceCameras.push(A(Fe.getAttribute("url")));break;case"instance_controller":Me.instanceControllers.push(Nt(Fe));break;case"instance_light":Me.instanceLights.push(A(Fe.getAttribute("url")));break;case"instance_geometry":Me.instanceGeometries.push(Nt(Fe));break;case"instance_node":Me.instanceNodes.push(A(Fe.getAttribute("url")));break;case"matrix":ze=y(Fe.textContent),Me.matrix.multiply(Ue.fromArray(ze).transpose()),Me.transforms[Fe.getAttribute("sid")]=Fe.nodeName;break;case"translate":ze=y(Fe.textContent),pt.fromArray(ze),Me.matrix.multiply(Ue.makeTranslation(pt.x,pt.y,pt.z)),Me.transforms[Fe.getAttribute("sid")]=Fe.nodeName;break;case"rotate":ze=y(Fe.textContent);const Pt=zc.degToRad(ze[3]);Me.matrix.multiply(Ue.makeRotationAxis(pt.fromArray(ze),Pt)),Me.transforms[Fe.getAttribute("sid")]=Fe.nodeName;break;case"scale":ze=y(Fe.textContent),Me.matrix.scale(pt.fromArray(ze)),Me.transforms[Fe.getAttribute("sid")]=Fe.nodeName;break;case"extra":break;default:console.log(Fe)}}return Ci(Me.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",Me.id):ei.nodes[Me.id]=Me,Me}function Nt(Re){const Me={id:A(Re.getAttribute("url")),materials:{},skeletons:[]};for(let Ve=0;Ve<Re.childNodes.length;Ve++){const Fe=Re.childNodes[Ve];switch(Fe.nodeName){case"bind_material":const ze=Fe.getElementsByTagName("instance_material");for(let Pt=0;Pt<ze.length;Pt++){const qt=ze[Pt],k0=qt.getAttribute("symbol"),x0=qt.getAttribute("target");Me.materials[k0]=A(x0)}break;case"skeleton":Me.skeletons.push(A(Fe.textContent));break}}return Me}function xt(Re,Me){const Ve=[],Fe=[];let ze,Pt,qt;for(ze=0;ze<Re.length;ze++){const E0=Re[ze];let Q0;if(Ci(E0))Q0=$0(E0),l0(Q0,Me,Ve);else if(Zn(E0)){const Y0=ei.visualScenes[E0].children;for(let H0=0;H0<Y0.length;H0++){const mi=Y0[H0];if(mi.type==="JOINT"){const oi=$0(mi.id);l0(oi,Me,Ve)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",E0)}for(ze=0;ze<Me.length;ze++)for(Pt=0;Pt<Ve.length;Pt++)if(qt=Ve[Pt],qt.bone.name===Me[ze].name){Fe[ze]=qt,qt.processed=!0;break}for(ze=0;ze<Ve.length;ze++)qt=Ve[ze],qt.processed===!1&&(Fe.push(qt),qt.processed=!0);const k0=[],x0=[];for(ze=0;ze<Fe.length;ze++)qt=Fe[ze],k0.push(qt.bone),x0.push(qt.boneInverse);return new Wd(k0,x0)}function l0(Re,Me,Ve){Re.traverse(function(Fe){if(Fe.isBone===!0){let ze;for(let Pt=0;Pt<Me.length;Pt++){const qt=Me[Pt];if(qt.name===Fe.name){ze=qt.boneInverse;break}}ze===void 0&&(ze=new Ri),Ve.push({bone:Fe,boneInverse:ze,processed:!1})}})}function M0(Re){const Me=[],Ve=Re.matrix,Fe=Re.nodes,ze=Re.type,Pt=Re.instanceCameras,qt=Re.instanceControllers,k0=Re.instanceLights,x0=Re.instanceGeometries,E0=Re.instanceNodes;for(let i0=0,Y0=Fe.length;i0<Y0;i0++)Me.push($0(Fe[i0]));for(let i0=0,Y0=Pt.length;i0<Y0;i0++){const H0=c0(Pt[i0]);H0!==null&&Me.push(H0.clone())}for(let i0=0,Y0=qt.length;i0<Y0;i0++){const H0=qt[i0],mi=y0(H0.id),oi=Cr(mi.id),s2=di(oi,H0.materials),Mn=H0.skeletons,fn=mi.skin.joints,_n=xt(Mn,fn);for(let Ks=0,br=s2.length;Ks<br;Ks++){const P1=s2[Ks];P1.isSkinnedMesh&&(P1.bind(_n,mi.skin.bindMatrix),P1.normalizeSkinWeights()),Me.push(P1)}}for(let i0=0,Y0=k0.length;i0<Y0;i0++){const H0=nt(k0[i0]);H0!==null&&Me.push(H0.clone())}for(let i0=0,Y0=x0.length;i0<Y0;i0++){const H0=x0[i0],mi=Cr(H0.id),oi=di(mi,H0.materials);for(let s2=0,Mn=oi.length;s2<Mn;s2++)Me.push(oi[s2])}for(let i0=0,Y0=E0.length;i0<Y0;i0++)Me.push($0(E0[i0]).clone());let Q0;if(Fe.length===0&&Me.length===1)Q0=Me[0];else{Q0=ze==="JOINT"?new zg:new Hc;for(let i0=0;i0<Me.length;i0++)Q0.add(Me[i0])}return Q0.name=ze==="JOINT"?Re.sid:Re.name,Q0.matrix.copy(Ve),Q0.matrix.decompose(Q0.position,Q0.quaternion,Q0.scale),Q0}const W0=new oo({name:Ya.DEFAULT_MATERIAL_NAME,color:16711935});function L0(Re,Me){const Ve=[];for(let Fe=0,ze=Re.length;Fe<ze;Fe++){const Pt=Me[Re[Fe]];Pt===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",Re[Fe]),Ve.push(W0)):Ve.push(Ut(Pt))}return Ve}function di(Re,Me){const Ve=[];for(const Fe in Re){const ze=Re[Fe],Pt=L0(ze.materialKeys,Me);if(Pt.length===0&&(Fe==="lines"||Fe==="linestrips"?Pt.push(new cf):Pt.push(new $4)),Fe==="lines"||Fe==="linestrips")for(let E0=0,Q0=Pt.length;E0<Q0;E0++){const i0=Pt[E0];if(i0.isMeshPhongMaterial===!0||i0.isMeshLambertMaterial===!0){const Y0=new cf;Y0.color.copy(i0.color),Y0.opacity=i0.opacity,Y0.transparent=i0.transparent,Pt[E0]=Y0}}const qt=ze.data.attributes.skinIndex!==void 0,k0=Pt.length===1?Pt[0]:Pt;let x0;switch(Fe){case"lines":x0=new Aoe(ze.data,k0);break;case"linestrips":x0=new Wg(ze.data,k0);break;case"triangles":case"polylist":qt?x0=new Soe(ze.data,k0):x0=new Q2(ze.data,k0);break}Ve.push(x0)}return Ve}function Ci(Re){return ei.nodes[Re]!==void 0}function $0(Re){return ce(ei.nodes[Re],M0)}function Ui(Re){const Me={name:Re.getAttribute("name"),children:[]};Jl(Re);const Ve=f(Re,"node");for(let Fe=0;Fe<Ve.length;Fe++)Me.children.push(At(Ve[Fe]));ei.visualScenes[Re.getAttribute("id")]=Me}function mn(Re){const Me=new Hc;Me.name=Re.name;const Ve=Re.children;for(let Fe=0;Fe<Ve.length;Fe++){const ze=Ve[Fe];Me.add($0(ze.id))}return Me}function Zn(Re){return ei.visualScenes[Re]!==void 0}function Wn(Re){return ce(ei.visualScenes[Re],mn)}function Ni(Re){const Me=f(Re,"instance_visual_scene")[0];return Wn(A(Me.getAttribute("url")))}function pi(){const Re=ei.clips;if(k(Re)===!0){if(k(ei.animations)===!1){const Me=[];for(const Ve in ei.animations){const Fe=Oe(Ve);for(let ze=0,Pt=Fe.length;ze<Pt;ze++)Me.push(Fe[ze])}A2.push(new p3("default",-1,Me))}}else for(const Me in Re)A2.push(vt(Me))}function bn(Re){let Me="";const Ve=[Re];for(;Ve.length;){const Fe=Ve.shift();Fe.nodeType===Node.TEXT_NODE?Me+=Fe.textContent:(Me+=`
`,Ve.push(...Fe.childNodes))}return Me.trim()}if(r.length===0)return{scene:new vf};const en=new DOMParser().parseFromString(r,"application/xml"),cn=f(en,"COLLADA")[0],Fs=en.getElementsByTagName("parsererror")[0];if(Fs!==void 0){const Re=f(Fs,"div")[0];let Me;return Re?Me=Re.textContent:Me=bn(Fs),console.error(`THREE.ColladaLoader: Failed to parse collada file.
`,Me),null}const f2=cn.getAttribute("version");console.debug("THREE.ColladaLoader: File version",f2);const mo=V(f(cn,"asset")[0]),On=new Kg(this.manager);On.setPath(this.resourcePath||c).setCrossOrigin(this.crossOrigin);let G2;vg&&(G2=new vg(this.manager),G2.setPath(this.resourcePath||c));const er=new ni,A2=[];let tr={},_a=0;const ei={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};Q(cn,"library_animations","animation",ue),Q(cn,"library_animation_clips","animation_clip",ct),Q(cn,"library_controllers","controller",Ht),Q(cn,"library_images","image",dt),Q(cn,"library_effects","effect",B0),Q(cn,"library_materials","material",St),Q(cn,"library_cameras","camera",V0),Q(cn,"library_lights","light",yi),Q(cn,"library_geometries","geometry",S0),Q(cn,"library_nodes","node",At),Q(cn,"library_visual_scenes","visual_scene",Ui),Q(cn,"library_kinematics_models","kinematics_model",Nr),Q(cn,"library_physics_models","physics_model",sc),Q(cn,"scene","instance_kinematics_scene",ac),ie(ei.animations,De),ie(ei.clips,Wt),ie(ei.controllers,T0),ie(ei.images,wt),ie(ei.effects,Ye),ie(ei.materials,Jt),ie(ei.cameras,t0),ie(ei.lights,Si),ie(ei.geometries,Ai),ie(ei.visualScenes,mn),pi(),Ql();const cc=Ni(f(cn,"scene")[0]);return cc.animations=A2,mo.upAxis==="Z_UP"&&(console.warn("THREE.ColladaLoader: You are loading an asset with a Z-UP coordinate system. The loader just rotates the asset to transform it into Y-UP. The vertex data are not converted, see #24289."),cc.rotation.set(-Math.PI/2,0,0)),cc.scale.multiplyScalar(mo.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),A2},kinematics:tr,library:ei,scene:cc}}}let pd={},sv=[];const B3e=new F3e,U3e=[{type:"d4",file:"die_4.dae"},{type:"d6",file:"die_6.dae"},{type:"d8",file:"die_8.dae"},{type:"d10",file:"die_10.dae"},{type:"d12",file:"die_12.dae"},{type:"d20",file:"die_20.dae"}],O3e=async()=>{const v=U3e.map(r=>new Promise((c,f)=>{B3e.load(`./images/${r.file}`,_=>{let y=null;if(_.scene.traverse(T=>{T.isMesh&&(y=T)}),y){const T=y.geometry.clone();y.updateMatrixWorld(!0),T.applyMatrix4(y.matrixWorld);let A=y.material;A?A=Array.isArray(A)?A.map(k=>k.clone()):A.clone():(console.warn(`No material found for ${r.file}, using default magenta material`),A=new lf({color:16711935}));const N=new Q2(T,A);N.position.set(0,0,0),N.rotation.set(0,0,0),N.scale.set(1,1,1),pd[r.type]=N,N.castShadow=!0,N.receiveShadow=!0,pd[r.type].userData.physicsShape=k3e(N),c()}else console.error(`No mesh found in ${r.file}`),c()},void 0,_=>{console.error(`Error loading ${r.file}`,_),c()})}));await Promise.all(v),console.log("All dice models loaded")},G3e=(v,r)=>{["d4","d6","d8","d10","d12","d20"].forEach((f,_)=>{const y=pd[f];if(!y)return;const T=y.clone(),A=(_-2.5)*3,N=5,k=0;T.position.set(A,N,k),T.rotation.set(Math.random()*Math.PI*2,Math.random()*Math.PI*2,Math.random()*Math.PI*2),v.add(T);const V=L3e(r,T,y.userData.physicsShape,{x:A,y:N,z:k},T.rotation);sv.push({mesh:T,body:V})})},V3e=()=>{const v=D3e(),r=new v.btTransform;sv.forEach(c=>{const f=c.body,_=c.mesh;if(f&&f.getMotionState()){f.getMotionState().getWorldTransform(r);const y=r.getOrigin(),T=r.getRotation();_.position.set(y.x(),y.y(),y.z()),_.quaternion.set(T.x(),T.y(),T.z(),T.w())}}),v.destroy(r)};let tl,Pa,ko,ju,ov;z3e();async function z3e(){Pa=new vf,Pa.background=new ni(12571109),tl=new Y2(80,window.innerWidth/window.innerHeight,.1,1e3),tl.position.set(5,5,-5),tl.lookAt(0,-3,0);const v=new Zg(16777215,4473924);v.position.set(0,20,0),Pa.add(v);const r=new $d(16777215);r.position.set(-10,10,-10),r.castShadow=!0,r.shadow.camera.top=10,r.shadow.camera.bottom=-10,r.shadow.camera.left=-10,r.shadow.camera.right=10,r.shadow.camera.near=.1,r.shadow.camera.far=40,Pa.add(r);try{ko=new S3e({antialias:!0}),await ko.init(),console.log("Using WebGPU")}catch(c){console.warn("WebGPU not supported, falling back to WebGL2",c),ko=new jue({antialias:!0})}ko.setPixelRatio(window.devicePixelRatio),ko.setSize(window.innerWidth,window.innerHeight),ko.shadowMap.enabled=!0,document.body.appendChild(ko.domElement);try{ju=await b3e(),P3e(Pa,ju)}catch(c){console.error("Failed to initialize physics",c);return}await O3e(),G3e(Pa,ju),ov=new n1e,window.addEventListener("resize",W3e),ko.setAnimationLoop(H3e)}function W3e(){tl.aspect=window.innerWidth/window.innerHeight,tl.updateProjectionMatrix(),ko.setSize(window.innerWidth,window.innerHeight)}function H3e(){const v=ov.getDelta();ju&&(I3e(ju,v),V3e()),ko.render(Pa,tl)}
